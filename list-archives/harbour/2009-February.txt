From vszakats at users.sourceforge.net  Sun Feb  1 04:21:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  1 04:21:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10142] trunk/harbour
Message-ID: <E1LTYWQ-0006gV-Sa@bj8yhf1.ch3.sourceforge.com>

Revision: 10142
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10142&view=rev
Author:   vszakats
Date:     2009-02-01 09:21:46 +0000 (Sun, 01 Feb 2009)

Log Message:
-----------
2009-02-01 10:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + doc/inet.txt
    + Added from xhb.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/doc/inet.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Sun Feb  1 05:13:19 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sun Feb  1 05:13:30 2009
Subject: [Harbour] Can't create a correct debian package
Message-ID: <498575BF.5040201@teledetection.fr>

Hello,

There is a problem when i try to create a debian package (debian sid x86)
with current svn. With this patch i can create successfully the package.


$ diff -uNr harbour.orig/debian/rules harbour/debian/rules
--- harbour.orig/debian/rules    2009-02-01 10:22:29.000000000 +0100
+++ harbour/debian/rules    2009-02-01 10:57:21.000000000 +0100
@@ -14,7 +14,7 @@
 export HB_LIB_INSTALL=$(INSTDIR)$(_DEFAULT_LIB_DIR)
 export HB_INC_INSTALL=$(INSTDIR)$(_DEFAULT_INC_DIR)
 export HB_ETC_DIR=$(INSTDIR)/etc
-export HB_DOC_INSTALL=$(INSTDIR)/usr/share/doc
+export HB_DOC_INSTALL=$(INSTDIR)/usr/share/doc/harbour
 
 CFLAGS = -g
 
@@ -55,9 +55,9 @@
     rm -f $(HB_BIN_INSTALL)/hbverfix
     install -m644 debian/harbour.cfg $(HB_ETC_DIR)/harbour.cfg
     install -m644 source/rtl/gtcrs/hb-charmap.def $(HB_ETC_DIR)/harbour
-    install -m644 doc/*.txt $(HB_DOC_INSTALL)/harbour
-    install -m644 doc/en/*.txt $(HB_DOC_INSTALL)/harbour/en
-    install -m644 doc/es/*.txt $(HB_DOC_INSTALL)/harbour/es
+    install -m644 doc/*.txt $(HB_DOC_INSTALL)
+    install -m644 doc/en/*.txt $(HB_DOC_INSTALL)/en
+    install -m644 doc/es/*.txt $(HB_DOC_INSTALL)/es
 
 
 # Build architecture-independent files here.


Guy
From mbelgrano at deltain.it  Sun Feb  1 07:01:07 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb  1 07:01:11 2009
Subject: [Harbour] Making a Hello World! with gtwvg contrib
In-Reply-To: <4984E3A6.3020107@ec-red.com>
References: <49848CC8.7070309@ec-red.com> <21767188.post@talk.nabble.com>
	<4984E3A6.3020107@ec-red.com>
Message-ID: <609353e70902010401n3371f55eu341efeb8bf447191@mail.gmail.com>

i use this harbour.env for a multigt appxmate is the best tool for windows
platform  , so i hope that same make implement his make desing

[Environment]
Description 1=Borland + Harbour
Description 2=for multi console applications
Description 3=
PRG Compiler ver=Hb 1.00
C compiler ver=bcc 5.51
Subsystem=gtWin
Author=Belgrano Massimo
Last update=09/23/2008

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=C:\HARBOUR
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc3 /w0 /es2 /b
/i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\xharbour\BCC55
C_COMP_COMMAND=%C_BIN_INSTALL%\Bcc32.Exe %CRLF% -c -O2 -OS -d -5 -6 -a8
%CRLF% -I%HB_INC_INSTALL%;%C_INC_INSTALL% %CRLF% -n%OBJDIR% %C%
C_LIB_COMMAND=%C_BIN_INSTALL%\TLib.Exe %LIB% /P512 @%RSP% , %LST%
C_LINK_COMMAND=%C_BIN_INSTALL%\iLink32.Exe -ap -Tpe /I%DBGDIR%
/L%HB_LIB_INSTALL% %CRLF%@%LNK%
C_RC_COMMAND=%C_BIN_INSTALL%\Brc32.Exe -r  -fo%RES%  %RC%
C_DLL_COMMAND=%C_BIN_INSTALL%\iLink32.Exe -Gn -aa -Tpd -M -L%C_LIB_INSTALL%
@%LNK%
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%C_LIB_INSTALL%\C0W32.OBJ=1
%HB_LIB_INSTALL%\hbcplr.lib=2
%HB_LIB_INSTALL%\hbrtl.lib=3
%HB_LIB_INSTALL%\hbvm.lib=4
%HB_LIB_INSTALL%\hblang.lib=5
%HB_LIB_INSTALL%\hbcpage.lib=6
%HB_LIB_INSTALL%\hbmacro.lib=7
%HB_LIB_INSTALL%\hbrdd.lib=8
%HB_LIB_INSTALL%\rddntx.lib=9
%HB_LIB_INSTALL%\rddcdx.lib=10
%HB_LIB_INSTALL%\rddfpt.lib=11
%HB_LIB_INSTALL%\hbsix.lib=12
%HB_LIB_INSTALL%\hbcommon.lib=13
%HB_LIB_INSTALL%\hbdebug.lib=14
%HB_LIB_INSTALL%\hbpp.lib=15
%HB_LIB_INSTALL%\gtgui.lib=16
%HB_LIB_INSTALL%\gtwvt.lib=17
%HB_LIB_INSTALL%\gtwvg.lib=18
%HB_LIB_INSTALL%\gtwin.lib=19
%HB_LIB_INSTALL%\gtstd.lib=20
%HB_LIB_INSTALL%\hbpcre.lib=21
%HB_LIB_INSTALL%\hbct.lib=22
%HB_LIB_INSTALL%\hbmisc.lib=23
%HB_LIB_INSTALL%\hbnf.lib=24
%HB_LIB_INSTALL%\hbzlib.lib=25
%HB_LIB_INSTALL%\HBMZIP.LIB=26
%HB_LIB_INSTALL%\hbusrrdd.lib=27
%HB_LIB_INSTALL%\hbwIN.lib=28
%C_LIB_INSTALL%\IMPORT32.LIB=29
%HB_LIB_INSTALL%\xhb.lib=30
%C_LIB_INSTALL%\cw32.lib=31

[DLL Files]
%HB_LIB_INSTALL%\dllmain.lib=1
%HB_LIB_INSTALL%\harbour.lib=2
%C_LIB_INSTALL%\C0W32.OBJ=3
%C_LIB_INSTALL%\CW32.LIB=4
%C_LIB_INSTALL%\IMPORT32.LIB=5


2009/2/1 Guillermo Varona Silup? <gvarona@ec-red.com>

>  Pritpal Bedi escribi?:
>
> . . .
>
> Try harbour/tests/wvtext.prg and compile it with -d__GTWVG__ and link with
> GTWVG.lib.
>
> It is a pure console application and works as is with GTWVG.
>
>
>  Ok. Thanks Pritpal.
>
> In principle, I just need my console application looks like an MS Windows,
> my example is thus:
>
> PROCEDURE Main()
>    LOCAL nVar := 10
>    *Wvt_SetGui( .t. )
>    @ 10,10 SAY "Hola Mundo" GET nVar
>    READ
>    RETURN
>
> PROCEDURE HB_GTSYS()
> #ifdef __GTWVG__
>    REQUEST HB_GT_WVG_DEFAULT
> #else
>    REQUEST HB_GT_WVT_DEFAULT
>    REQUEST HB_GT_WIN
> #endif
>    RETURN
>
> Now I need to try an application that has several PRG, Does anyone have any
> more to compile BAT PRG?
> Currently I use for my application xMate Console ENVIRONMENT and have a
> file for compiling with MinGW + Harbor,
> Does anyone have some for ENV xMate PRG using to compile several GTWVG?
>
> In Spanish:
> En principio, solo necesito que mi aplicaci?n consola se vea como una
> ventana de MS Windows, mi ejemplo quedo asi:
> . . .
> Ahora necesito llevar esto a una aplicaci?n que tengo con varios PRG,
> ?Algui?n tendr? algun BAT para compilar varios PRG?
> Actualmente utilizo xMate para mi aplicaci?n de Consola y tengo un archivo
> ENVIRONMENT para compilar con Harbour + MinGW,
> ?Algui?n tendr? algun ENV para xMate para compilar varios PRG?
>
> TIA
> Best Regards
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090201/06d280f8/attachment.html
From mbelgrano at deltain.it  Sun Feb  1 07:27:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb  1 07:27:59 2009
Subject: [Harbour] Possible having more big attaccched in this mailing?
Message-ID: <609353e70902010427p54221ap481e676fe838fab6@mail.gmail.com>

Is possible having here a more big file  attached?attach screen shoot  jpg,
little source prg and make

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090201/e7e497ba/attachment.html
From mbelgrano at deltain.it  Sun Feb  1 07:39:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb  1 07:39:33 2009
Subject: [Harbour] A Bunch of Thanks
In-Reply-To: <18d502870901310010h59c90629j71d4c880309cf3b1@mail.gmail.com>
References: <21758316.post@talk.nabble.com>
	<18d502870901310010h59c90629j71d4c880309cf3b1@mail.gmail.com>
Message-ID: <609353e70902010439i5e1d6c71i6600d0228a5bac45@mail.gmail.com>

Can explain wich GUI way may do web?What lib have you used?
How you have done sql transition?

2009/1/31 Viktor Szak?ts <harbour.01@syenar.hu>

>
>
> Speed, smoothness and stability of these apps go rounds around the
> Clipper version.
>
> Remote terminal and GUI (probably web, maybe GTK), SQL and UTF8
> transition is yet to be done. Using some more Harbour capabilities is
> also planned, like hashes, .hrb.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090201/7dc45643/attachment.html
From gvarona at ec-red.com  Sun Feb  1 07:47:45 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Sun Feb  1 07:47:51 2009
Subject: [Harbour] Making a Hello World! with gtwvg contrib
In-Reply-To: <609353e70902010401n3371f55eu341efeb8bf447191@mail.gmail.com>
References: <49848CC8.7070309@ec-red.com>
	<21767188.post@talk.nabble.com>	<4984E3A6.3020107@ec-red.com>
	<609353e70902010401n3371f55eu341efeb8bf447191@mail.gmail.com>
Message-ID: <498599F1.30809@ec-red.com>

Thank you very much Massimo, now works fine xMate

Best Regards
GVS


Massimo Belgrano escribi?:
> i use this harbour.env for a multigt app
> xmate is the best tool for windows platform  , so i hope that same 
> make implement his make desing 
>
> [Environment]
> Description 1=Borland + Harbour
> Description 2=for multi console applications
> Description 3=
> PRG Compiler ver=Hb 1.00
> C compiler ver=bcc 5.51
> Subsystem=gtWin
> Author=Belgrano Massimo
> Last update=09/23/2008
>
> [Advanced]
> Command types=1,1,1,1,1,1,1,1,1
>
> [Harbour]
> HB_INSTALL=C:\HARBOUR
> HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc3 /w0 /es2 /b 
> /i%HB_INC_INSTALL%
> Option prefix=/
>
> [C]
> C_INSTALL=C:\xharbour\BCC55
> C_COMP_COMMAND=%C_BIN_INSTALL%\Bcc32.Exe %CRLF% -c -O2 -OS -d -5 -6 
> -a8 %CRLF% -I%HB_INC_INSTALL%;%C_INC_INSTALL% %CRLF% -n%OBJDIR% %C%
> C_LIB_COMMAND=%C_BIN_INSTALL%\TLib.Exe %LIB% /P512 @%RSP% , %LST%
> C_LINK_COMMAND=%C_BIN_INSTALL%\iLink32.Exe -ap -Tpe /I%DBGDIR% 
> /L%HB_LIB_INSTALL% %CRLF%@%LNK%
> C_RC_COMMAND=%C_BIN_INSTALL%\Brc32.Exe -r  -fo%RES%  %RC%
> C_DLL_COMMAND=%C_BIN_INSTALL%\iLink32.Exe -Gn -aa -Tpd -M 
> -L%C_LIB_INSTALL% @%LNK%
> Option prefix=-
>
> [User]
> POSTEXE_COMMAND=
> POSTLIB_COMMAND=
> POSTDLL_COMMAND=
>
> [Files]
> %C_LIB_INSTALL%\C0W32.OBJ=1
> %HB_LIB_INSTALL%\hbcplr.lib=2
> %HB_LIB_INSTALL%\hbrtl.lib=3
> %HB_LIB_INSTALL%\hbvm.lib=4
> %HB_LIB_INSTALL%\hblang.lib=5
> %HB_LIB_INSTALL%\hbcpage.lib=6
> %HB_LIB_INSTALL%\hbmacro.lib=7
> %HB_LIB_INSTALL%\hbrdd.lib=8
> %HB_LIB_INSTALL%\rddntx.lib=9
> %HB_LIB_INSTALL%\rddcdx.lib=10
> %HB_LIB_INSTALL%\rddfpt.lib=11
> %HB_LIB_INSTALL%\hbsix.lib=12
> %HB_LIB_INSTALL%\hbcommon.lib=13
> %HB_LIB_INSTALL%\hbdebug.lib=14
> %HB_LIB_INSTALL%\hbpp.lib=15
> %HB_LIB_INSTALL%\gtgui.lib=16
> %HB_LIB_INSTALL%\gtwvt.lib=17
> %HB_LIB_INSTALL%\gtwvg.lib=18
> %HB_LIB_INSTALL%\gtwin.lib=19
> %HB_LIB_INSTALL%\gtstd.lib=20
> %HB_LIB_INSTALL%\hbpcre.lib=21
> %HB_LIB_INSTALL%\hbct.lib=22
> %HB_LIB_INSTALL%\hbmisc.lib=23
> %HB_LIB_INSTALL%\hbnf.lib=24
> %HB_LIB_INSTALL%\hbzlib.lib=25
> %HB_LIB_INSTALL%\HBMZIP.LIB=26
> %HB_LIB_INSTALL%\hbusrrdd.lib=27
> %HB_LIB_INSTALL%\hbwIN.lib=28
> %C_LIB_INSTALL%\IMPORT32.LIB=29
> %HB_LIB_INSTALL%\xhb.lib=30
> %C_LIB_INSTALL%\cw32.lib=31
>
> [DLL Files]
> %HB_LIB_INSTALL%\dllmain.lib=1
> %HB_LIB_INSTALL%\harbour.lib=2
> %C_LIB_INSTALL%\C0W32.OBJ=3
> %C_LIB_INSTALL%\CW32.LIB=4
> %C_LIB_INSTALL%\IMPORT32.LIB=5
>
>
> 2009/2/1 Guillermo Varona Silup? <gvarona@ec-red.com 
> <mailto:gvarona@ec-red.com>>
>
>     Pritpal Bedi escribi?:
>>     . . .
>>     Try harbour/tests/wvtext.prg and compile it with -d__GTWVG__ and link with
>>     GTWVG.lib.
>>
>>     It is a pure console application and works as is with GTWVG.
>>       
>     Ok. Thanks Pritpal.
>
>     In principle, I just need my console application looks like an MS
>     Windows, my example is thus:
>
>     PROCEDURE Main()
>        LOCAL nVar := 10
>        *Wvt_SetGui( .t. )
>        @ 10,10 SAY "Hola Mundo" GET nVar
>        READ
>        RETURN
>
>     PROCEDURE HB_GTSYS()
>     #ifdef __GTWVG__
>        REQUEST HB_GT_WVG_DEFAULT
>     #else
>        REQUEST HB_GT_WVT_DEFAULT
>        REQUEST HB_GT_WIN
>     #endif
>        RETURN
>
>     Now I need to try an application that has several PRG, Does anyone
>     have any more to compile BAT PRG?
>     Currently I use for my application xMate Console ENVIRONMENT and
>     have a file for compiling with MinGW + Harbor,
>     Does anyone have some for ENV xMate PRG using to compile several
>     GTWVG?
>
>     In Spanish:
>     En principio, solo necesito que mi aplicaci?n consola se vea como
>     una ventana de MS Windows, mi ejemplo quedo asi:
>     . . .
>     Ahora necesito llevar esto a una aplicaci?n que tengo con varios
>     PRG, ?Algui?n tendr? algun BAT para compilar varios PRG?
>     Actualmente utilizo xMate para mi aplicaci?n de Consola y tengo un
>     archivo ENVIRONMENT para compilar con Harbour + MinGW,
>     ?Algui?n tendr? algun ENV para xMate para compilar varios PRG?
>
>     TIA
>     Best Regards
>
>
>
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>
> -- 
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> ------------------------------------------------------------------------
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   

From harbour.01 at syenar.hu  Sun Feb  1 08:26:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb  1 08:26:58 2009
Subject: [Harbour] Possible having more big attaccched in this mailing?
In-Reply-To: <609353e70902010427p54221ap481e676fe838fab6@mail.gmail.com>
References: <609353e70902010427p54221ap481e676fe838fab6@mail.gmail.com>
Message-ID: <18d502870902010526n45a83421h7dabc8fdf40c50a5@mail.gmail.com>

40K is our limit, above that it's better to upload it somewhere and post the
link.

Brgds,
Viktor

On Sun, Feb 1, 2009 at 1:27 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Is possible having here a more big file  attached?attach screen shoot
>  jpg, little source prg and make
>
> --
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090201/1b6ff180/attachment.html
From mbelgrano at deltain.it  Sun Feb  1 09:12:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb  1 09:12:10 2009
Subject: [Harbour] Possible having more big attaccched in this mailing?
In-Reply-To: <18d502870902010526n45a83421h7dabc8fdf40c50a5@mail.gmail.com>
References: <609353e70902010427p54221ap481e676fe838fab6@mail.gmail.com>
	<18d502870902010526n45a83421h7dabc8fdf40c50a5@mail.gmail.com>
Message-ID: <609353e70902010612y4b1a0dfbi104a97d193665259@mail.gmail.com>

i think that is better the More easy way but is only my opinion
2009/2/1 Viktor Szak?ts <harbour.01@syenar.hu>

> 40K is our limit, above that it's better to upload it somewhere and post
> the link.
>
> Brgds,
> Viktor
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090201/5985545a/attachment-0001.html
From lorenzo.fiorini at gmail.com  Sun Feb  1 13:09:35 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Feb  1 13:09:39 2009
Subject: [Harbour] gtxwc WM_CLASS
Message-ID: <9257026e0902011009q37cc551eg9b94ca02bce26e92@mail.gmail.com>

I'm trying to get gtxwc apps properly grouped in the gnome "window list" applet.

Googling around I've tried to add WM_CLASS strings:

/* Set the class hints so we can get an icon (AfterStep) */
   {
     XClassHint *classhints;
     classhints = XAllocClassHint();
     if(classhints != NULL) {
         classhints->res_name = "Harbour_App";
         classhints->res_class = "Harbour_App";
         XSetClassHint( wnd->dpy, wnd->window, classhints);
         XFree(classhints);
     }
   }

but without success.

I've also tried to set WM_CLIENT_LEADER:

static Atom s_atomClientLeader;
...
s_atomClientLeader = XInternAtom( wnd->dpy, "WM_CLIENT_LEADER", True );

but I guess this is more complicated since it require to have an app as leader.

I see that "simple" X11 apps ike xcalc get grouped so I wonder where
can be the "magic"?

best regards,
Lorenzo
From bedipritpal at hotmail.com  Sun Feb  1 15:19:09 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb  1 15:19:12 2009
Subject: [Harbour] Date-Time Functions - Revisited
In-Reply-To: <21767870.post@talk.nabble.com>
References: <21767870.post@talk.nabble.com>
Message-ID: <21779798.post@talk.nabble.com>


Hello All,


Pritpal Bedi wrote:
> 
> I am struck with one of the Active-X's ( Codejock's Calendar Control ).
> 
> Reason: it accepts and returns all events as a date field 
> but in DateTime format. It means it contains fractions in the value
> of type date. In xHarbour I can retrieve and send both values
> with its extended date/time functions but have not figured out
> how I can manage them in Harbour. 
> 

Half way down I have found the solution.
I can send the date-time value to the ole object
( and it works perfect )  as:

oOle:timeStart := Vou_DateTime( date(), '11:00' )

Function Vou_DateTime( dDate, cTime )
   Return  DateAsLong( dDate-2415019 ) + ( TimeToSec( cTime ) / ( 24*60*60 )
)


But I cannot retrieve the same info from ole.
I tried like:

aInfo := Vou_DateTime2DateTime( oOle:timeEvent )
? aInfo[1]  // 02/01/2009
? aInfo[2]  // 00:00:00

Function Vou_DateTime2DateTime( dDateTime )
   LOCAL nDtTm := DateAsDouble( dDateTime ) - 2415019
   LOCAL dDate := dDateTime
   LOCAL nSecs := ( nDtTm - Int( nDtTm ) ) * ( 24*60*60 )
  
   RETURN { dDate, SecToTime( nSecs ) }


#begindump
HB_FUNC( DATEASLONG )
{
   PHB_ITEM pDate = hb_param( 1, HB_IT_DATE );

   if( pDate )
      hb_retnl( hb_itemGetDL( pDate ) );
   else
      hb_retnl( 0 );
}

HB_FUNC( DATEASDOUBLE )
{
   PHB_ITEM pDate = hb_param( 1, HB_IT_DATE );

   if( pDate )
      hb_retnd( hb_itemGetDD( pDate ) );
   else
      hb_retnd( 0 );
}

#enddump


Any solutions?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Date-Time-Functions---Revisited-tp21767870p21779798.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Feb  1 16:13:59 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb  1 16:14:03 2009
Subject: [Harbour] Date-Time Functions - Revisited
In-Reply-To: <21779798.post@talk.nabble.com>
References: <21767870.post@talk.nabble.com> <21779798.post@talk.nabble.com>
Message-ID: <21780477.post@talk.nabble.com>


Hi

Investigating a little more I observed this:

harbour/contrib/hbwin_win.ole.c/hb_oleVariantToItem()

      case VT_DATE | VT_BYREF:
         hb_itemPutDL( pItem, ( long ) ( *pVariant->n1.n2.n3.pdblVal ) +
2415019 );
         break;

      case VT_DATE:
         hb_itemPutDL( pItem, ( long ) ( pVariant->n1.n2.n3.dblVal ) +
2415019 );
         break;



/*  xHarbour Implementation
      case VT_DATE | VT_BYREF:
         hb_itemPutDTD( pItem, *pVariant->n1.n2.n3.pdblVal + (double)
2415019 );
         break;

      case VT_DATE:
         hb_itemPutDTD( pItem,  pVariant->n1.n2.n3.dblVal + (double) 2415019
);
         break;
*/

And this is the point where I cannot fetch fraction 
of a date-time value. xHarbour implementation requires 
one more member in PHB_ITEM structure :
item.asDate.time
So I cannot implement at my own. 
Any workarounds ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Date-Time-Functions---Revisited-tp21767870p21780477.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Feb  1 17:20:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb  1 17:20:13 2009
Subject: [Harbour] Date-Time Functions - Revisited
In-Reply-To: <21780477.post@talk.nabble.com>
References: <21767870.post@talk.nabble.com> <21779798.post@talk.nabble.com>
	<21780477.post@talk.nabble.com>
Message-ID: <18d502870902011420u6af32b6fg84b5391d25250f66@mail.gmail.com>

You need your custom item type (ptrGC), as I've wrote previously.
This would also need specially patched OLE interface code,
which uses this item type, at least until our generic OLE
interface doesn't get support for custom types.

But since you have your own OLE implementation, this don't
seem to be a problem here.

Brgds,
Viktor

On Sun, Feb 1, 2009 at 10:13 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
> Investigating a little more I observed this:
>
> harbour/contrib/hbwin_win.ole.c/hb_oleVariantToItem()
>
>      case VT_DATE | VT_BYREF:
>         hb_itemPutDL( pItem, ( long ) ( *pVariant->n1.n2.n3.pdblVal ) +
> 2415019 );
>         break;
>
>      case VT_DATE:
>         hb_itemPutDL( pItem, ( long ) ( pVariant->n1.n2.n3.dblVal ) +
> 2415019 );
>         break;
>
>
>
> /*  xHarbour Implementation
>      case VT_DATE | VT_BYREF:
>         hb_itemPutDTD( pItem, *pVariant->n1.n2.n3.pdblVal + (double)
> 2415019 );
>         break;
>
>      case VT_DATE:
>         hb_itemPutDTD( pItem,  pVariant->n1.n2.n3.dblVal + (double) 2415019
> );
>         break;
> */
>
> And this is the point where I cannot fetch fraction
> of a date-time value. xHarbour implementation requires
> one more member in PHB_ITEM structure :
> item.asDate.time
> So I cannot implement at my own.
> Any workarounds ?
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Date-Time-Functions---Revisited-tp21767870p21780477.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090201/3431ee91/attachment.html
From info at fsgiudice.com  Sun Feb  1 21:03:00 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb  1 21:03:12 2009
Subject: [Harbour] Date-Time Functions - Revisited
In-Reply-To: <21779798.post@talk.nabble.com>
References: <21767870.post@talk.nabble.com> <21779798.post@talk.nabble.com>
Message-ID: <49865454.90605@fsgiudice.com>

Hi Pritpal,


Il 01/02/2009 21.19, Pritpal Bedi ha scritto:
> Hello All,
> 
> 
> Pritpal Bedi wrote:
>> I am struck with one of the Active-X's ( Codejock's Calendar Control ).
>>

look at this old win32ole.prg.
Search VTDateTime (or FSG string)
This implements datetime in ole.
Please remember that this is an old xharbour implementation. I don't 
know if it will work with harbour. Tell me if it solves your problem.

Best regards
Francesco
-------------- next part --------------
A non-text attachment was scrubbed...
Name: win32ole.prg.zip
Type: application/x-zip-compressed
Size: 15104 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090202/225b3b2f/win32ole.prg-0001.bin
From lorenzo.fiorini at gmail.com  Mon Feb  2 01:47:32 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Feb  2 01:47:37 2009
Subject: [Harbour] gtwvt bug found
Message-ID: <9257026e0902012247g6d8fe196ob2b44174682d8121@mail.gmail.com>

I've found the bug that disable fontsize set in 1.1 ( see gtwvt 1.0 vs
1.1 thread )

In line 716:

   * No need to call hb_gt_wvt_GetFont() if font is already existant
[prtpal 20081108]
    */
   if( !pWVT->hFont )
   {

in this way the font never change.

Now the problem is a "bad" effect at the window creation.

If you don't use a 80x25 !!! black window what you get is:

1 - a black window 80x25 is created
2 - the window is centered
3 - HB_GTI_FONTSIZE resize the window
4 - @ box paint the background

Any idea how to avoid all this repaint?

best regards,
Lorenzo
From niki at synel.co.il  Mon Feb  2 02:15:32 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Feb  2 02:18:27 2009
Subject: [Harbour] SF bugtracker#2539648: ADORDD Type() & ValType()
 functions are interpret wrong DataTypes
Message-ID: <1A07FEDC778C3E4AA417F089511F859C07B71C455D@Mail-yoq.SYNEL-COMPANY.LTD>

The following bug was posted on SF:
http://sourceforge.net/tracker/index.php?func=detail&aid=2539648&group_id=681&atid=100681

Anonymous wrote:
--------------------------------------------------------
Type() & ValType() these funtions are not interpret DataTypes of ADORDD
specially for numeric and dates datatypes. please see below examples.

#include "adordd.ch"

REQUEST ADORDD

function Main()
*---
* Test->First CHAR(20)
* Test->Last CHAR(20)
* Test->Age NUMERIC(10)
* Test->Dob_Date DATE
*--
USE Test.mdb VIA "ADORDD" TABLE "Table1"

? Type('Test->First')            // "C" -- correct 
? Type('Test->Last' )           // "C" -- correct 
? Type('Test->Age' )           // "U" -- RETURN UNKNOW 
? Type('Test->Dob_Date' ) // "U" -- RETURN UNKNOW 

USE

return nil
--------------------------------------------------------

Can someone using ADORDD can confirm this?


  Chen.
From druzus at users.sourceforge.net  Mon Feb  2 04:58:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb  2 04:58:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10143] trunk/harbour
Message-ID: <E1LTvZP-0000qj-Ii@bj8yhf1.ch3.sourceforge.com>

Revision: 10143
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10143&view=rev
Author:   druzus
Date:     2009-02-02 09:58:22 +0000 (Mon, 02 Feb 2009)

Log Message:
-----------
2009-02-02 11:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/fm.c
    ! fixed typo in default FM module setting/

  * harbour/include/hbapicls.h
  * harbour/source/vm/classes.c
  * harbour/source/debug/dbgentry.c
    * renamed hb_dbgObjSendMessage() to hb_dbg_objSendMessage() to keep
      naming convention used for other C debugger functions

  * harbour/source/vm/debug.c
    * added information about existing debugger functions and where they
      are used.

  * harbour/include/hbvm.h
  * harbour/include/hbapidbg.h
  * harbour/include/hbvmpub.h
  * harbour/include/hbstack.h
  * harbour/include/hbapi.h
  * harbour/source/vm/codebloc.c
  * harbour/source/vm/estack.c
  * harbour/source/vm/hvm.c
  * harbour/source/debug/dbgentry.c
    * changed the method of static variable handling. Now we do not
      have centralized array of all statics used by application (s_aStatics)
      but each module uses it's own array to keep statics. The old
      s_aStatics has been removed. It means that loading new PCODE module
      from .hrb file or shared/dynamic library does not cause any static
      table reallocation so it does not creates potential GPF trap for MT
      code which may operate on static vars.
      This modification changed a little bit the debugger interface.
      I also updated some unused by us debug functions like __DBGVMVARSLIST()
      or __DBGVMVARSLEN() anyhow any 3-rd party debuggers should be
      updated for new API and modified hb_dbgEntry() syntax.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapicls.h
    trunk/harbour/include/hbapidbg.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/include/hbvm.h
    trunk/harbour/include/hbvmpub.h
    trunk/harbour/source/debug/dbgentry.c
    trunk/harbour/source/vm/classes.c
    trunk/harbour/source/vm/codebloc.c
    trunk/harbour/source/vm/debug.c
    trunk/harbour/source/vm/estack.c
    trunk/harbour/source/vm/fm.c
    trunk/harbour/source/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb  2 05:02:54 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 04:58:29 2009
Subject: [Harbour] 2009-02-02 11:02 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <20090202100254.GA3177@uran.home.aster.pl>

2009-02-02 11:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/fm.c
    ! fixed typo in default FM module setting/

  * harbour/include/hbapicls.h
  * harbour/source/vm/classes.c
  * harbour/source/debug/dbgentry.c
    * renamed hb_dbgObjSendMessage() to hb_dbg_objSendMessage() to keep
      naming convention used for other C debugger functions

  * harbour/source/vm/debug.c
    * added information about existing debugger functions and where they
      are used.

  * harbour/include/hbvm.h
  * harbour/include/hbapidbg.h
  * harbour/include/hbvmpub.h
  * harbour/include/hbstack.h
  * harbour/include/hbapi.h
  * harbour/source/vm/codebloc.c
  * harbour/source/vm/estack.c
  * harbour/source/vm/hvm.c
  * harbour/source/debug/dbgentry.c
    * changed the method of static variable handling. Now we do not
      have centralized array of all statics used by application (s_aStatics)
      but each module uses it's own array to keep statics. The old
      s_aStatics has been removed. It means that loading new PCODE module
      from .hrb file or shared/dynamic library does not cause any static
      table reallocation so it does not creates potential GPF trap for MT
      code which may operate on static vars.
      This modification changed a little bit the debugger interface.
      I also updated some unused by us debug functions like __DBGVMVARSLIST()
      or __DBGVMVARSLEN() anyhow any 3-rd party debuggers should be
      updated for new API and modified hb_dbgEntry() syntax.

best regards
Przemek
From druzus at acn.waw.pl  Mon Feb  2 05:09:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 05:05:05 2009
Subject: [Harbour] A Bunch of Thanks
In-Reply-To: <21758316.post@talk.nabble.com>
References: <21758316.post@talk.nabble.com>
Message-ID: <20090202100931.GA7334@uran.home.aster.pl>

On Fri, 30 Jan 2009, Pritpal Bedi wrote:

Hi Pritpal,

> To
> All Developers ( Past and Present )
> Who Contributed to the Project called - HARBOUR
> In Any Way
> I pay a deep hearted tribute and extend a bunch of THANKS.
> For
> Today, I have deployed in production all of my applications,
> under the brand name "Vouch", compiled with Harbour,
> and have discontinued support for Clipper compilations for ever.
> Everything, everywhere, with every application, is running fine.
> "Vouch" is now a multi-threaded, multi-window, hibrid GUI, 
> pure GUI ( whereever needed ), exploiting many famous Active-X
> controls, capable of running on LAN or as REMOTE Terminal 
> (Proprietory), and with many more features beyond the scope
> of this token of thanks.
> Believe me, if we continue with same zest and enthusiam to contribute
> to this project, Harbour will become a mainstream language in the
> future.
> I invite all developers who contributed to this project just to 
> say a "Hello" on this thread so that we all could feel your
> affection to the language called CLIPPER in good old days.
> Thanks again for this huge effort.

My congratulations.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Feb  2 05:19:35 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 05:15:10 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>
Message-ID: <20090202101935.GB7334@uran.home.aster.pl>

On Sat, 31 Jan 2009, maurilio longo wrote:

Hi Maurilio,

> with a couple of very minor changes harbour builds ok on opensolaris 2008.11, but when I try to install it I get these errors:
> fclose                              0x284     	./libhbrtl.a/errorint.o
> fclose                              0xf90     	./libhbrtl.a/gtchrmap.o
> fclose                              0x1080    	./libhbrtl.a/gtchrmap.o
> fclose                              0x10a5    	./libhbrtl.a/gtchrmap.o
> fclose                              0x679     	./libhbzlib.a/gzio.o
> ld: fatal: relocations remain against allocatable but non-writable sections
> collect2: ld returned 1 exit status
> this is when it tries to build the shared library, after it has copied all
> bin and lib and include files.
> Any idea?

You have to enable compilation with relocatable code, f.e. use -fPIC or -fpic
flag in C_USR. But I do not know it it's enough for OpenSolaris. The last
tests I made with Solaris were done over two years ago.

BTW did you used POSIX thread (pthread) for MT compilation or SunOS
(thr_*() function) threads?
I think it will be good to update OpenSolaris Harbour MT builds to work
on SunOS even without pthread installed.

BTW what exact version of OpenSolaris did you used?

> PS. What is the 'best' place to install on a unix system? I've chosen
> to install inside /opt/harbour/bin,lib,include, but I'm not completely
> sure it is the 'best practice'.

Each distribution may have its own preferred place for 3-rd party packages.
It could be /opt, /usr/opt, /usr/local, /usr/local/opt, ...
You should check in OS documentation about directory structure policy.

best regards,
Przemek
From Jaroslav.Janik at siemens.com  Mon Feb  2 05:15:44 2009
From: Jaroslav.Janik at siemens.com (Janik, Jaroslav)
Date: Mon Feb  2 05:15:55 2009
Subject: [Harbour] A Bunch of Thanks
In-Reply-To: <21758316.post@talk.nabble.com>
References: <21758316.post@talk.nabble.com>
Message-ID: <D372649F61577F4AA917D493CA06ECBDB8AC68@btss020a.ww300.siemens.net>

Hi, to all Who Contributed to the Harbour Project,

I follow the harbour development from early days and appreciate the work
of all of people who commited to this huge project, enabling the fastet
way of development of any application. I was always convinced that
Harbour has great future and it has the best chance to become a
mainstream higher programming language in the future.

Regards
Jaroslav Janik

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Saturday, January 31, 2009 1:31 AM
To: harbour@harbour-project.org
Subject: [Harbour] A Bunch of Thanks


To
All Developers ( Past and Present )
Who Contributed to the Project called - HARBOUR In Any Way

I pay a deep hearted tribute and extend a bunch of THANKS.

For

Today, I have deployed in production all of my applications, under the
brand name "Vouch", compiled with Harbour, and have discontinued support
for Clipper compilations for ever.

Everything, everywhere, with every application, is running fine.

"Vouch" is now a multi-threaded, multi-window, hibrid GUI, pure GUI (
whereever needed ), exploiting many famous Active-X controls, capable of
running on LAN or as REMOTE Terminal (Proprietory), and with many more
features beyond the scope of this token of thanks.

Believe me, if we continue with same zest and enthusiam to contribute to
this project, Harbour will become a mainstream language in the future.

I invite all developers who contributed to this project just to say a
"Hello" on this thread so that we all could feel your affection to the
language called CLIPPER in good old days.

Thanks again for this huge effort.

Regards
Pritpal Bedi
a student of software analysis and design

--
View this message in context:
http://www.nabble.com/A-Bunch-of-Thanks-tp21758316p21758316.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Mon Feb  2 05:26:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 05:22:27 2009
Subject: [Harbour] 2009-01-27 10:14 UTC+0100 Francesco Saverio Giudice
	(info/at/fsgiudice.com)
In-Reply-To: <20090128025250.GA26095@uran.home.aster.pl>
References: <497ED0E2.5070709@fsgiudice.com> <21688199.post@talk.nabble.com>
	<497F4829.1080901@fsgiudice.com>
	<18d502870901271020q46deaf1amc58862fb5eafa704@mail.gmail.com>
	<497F9A6F.4040107@fsgiudice.com>
	<20090128025250.GA26095@uran.home.aster.pl>
Message-ID: <20090202102653.GC7334@uran.home.aster.pl>

On Wed, 28 Jan 2009, Przemyslaw Czerpak wrote:

Hi,

> I suggest to ignore this problem until I'll not change structures used
> to hold static variables. The chance for GPF is rather small. The side
> effect of array preallocation added by Mindaugas is noticeable reduced
> number of memory reallocation when new statics are added so the risk is
> really small that the problem will be exploited. Of course it _MUST_ be
> fixed but it should not be critical during uHTTPd developing.

This problem should be eliminated by:
   2009-02-02 11:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

Here are the last points on my MT TODO list:

   1. Tracelog is not MT safe. It's not a big problem for normal
      applications because this code is disabled in standard builds and
      enabled only on explicit user request during Harbour compilation
      to debug some Harbour internals so it's rather for developers
      only.
   2. PROFILLER cannot collect information for each thread separately.
      It's optional code disabled by default. Before we will touch it
      please think how it should work for MT programs.
   3. DEBUGGER: only main thread debugger can see the names of file wide
      STATICs and have information about line numbers with good break
      points. We should add code to share this information between threads.
   4. hb_threadQuitRequest() can be ignored by thread in some cases
      due to race condition. It may happen if thread will overwrite
      request send by caller simultaneously, f.e. by its own BREAK.
      I can resolve it but we can also leave it as is and document
      such behavior as expected or even remove this function. Killing
      other threads in such way is dangerous and can be used only
      for some simple situation. It's much safer when user uses his
      own mechanism to terminate treads in some safe for his code places.
   5. We should check contrib code and eliminate non MT safe code
      or document non MT safe functions.
   6. Possible TODO:
      - add CRITICAL {FUNCTION|PROCEDURE}

As you can see there is nothing critical in the above list what can
block MT programming.

best regards,
Przemek
From info at fsgiudice.com  Mon Feb  2 05:55:24 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb  2 05:55:34 2009
Subject: [Harbour] 2009-01-27 10:14 UTC+0100 Francesco Saverio Giudice
	(info/at/fsgiudice.com)
In-Reply-To: <20090202102653.GC7334@uran.home.aster.pl>
References: <497ED0E2.5070709@fsgiudice.com>
	<21688199.post@talk.nabble.com>	<497F4829.1080901@fsgiudice.com>	<18d502870901271020q46deaf1amc58862fb5eafa704@mail.gmail.com>	<497F9A6F.4040107@fsgiudice.com>	<20090128025250.GA26095@uran.home.aster.pl>
	<20090202102653.GC7334@uran.home.aster.pl>
Message-ID: <4986D11C.1040202@fsgiudice.com>

Hi Przemek,

Il 02/02/2009 11.26, Przemyslaw Czerpak ha scritto:
> This problem should be eliminated by:
>    2009-02-02 11:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

Thank you very much for your efforts, I will try.

Best regards,

Francesco
From maurilio.longo at libero.it  Mon Feb  2 07:04:53 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 07:05:02 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <20090202101935.GB7334@uran.home.aster.pl>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>
	<20090202101935.GB7334@uran.home.aster.pl>
Message-ID: <4986E165.7000706@libero.it>

Hi Przemyslaw,

Przemyslaw Czerpak wrote:
> On Sat, 31 Jan 2009, maurilio longo wrote:
> 
> Hi Maurilio,
> 
>> with a couple of very minor changes harbour builds ok on opensolaris 2008.11, but when I try to install it I get these errors:
>> fclose                              0x284     	./libhbrtl.a/errorint.o
>> fclose                              0xf90     	./libhbrtl.a/gtchrmap.o
>> fclose                              0x1080    	./libhbrtl.a/gtchrmap.o
>> fclose                              0x10a5    	./libhbrtl.a/gtchrmap.o
>> fclose                              0x679     	./libhbzlib.a/gzio.o
>> ld: fatal: relocations remain against allocatable but non-writable sections
>> collect2: ld returned 1 exit status
>> this is when it tries to build the shared library, after it has copied all
>> bin and lib and include files.
>> Any idea?
> 
> You have to enable compilation with relocatable code, f.e. use -fPIC or -fpic
> flag in C_USR. But I do not know it it's enough for OpenSolaris. The last
> tests I made with Solaris were done over two years ago.

Ok, tonight I'll try and report.

> BTW did you used POSIX thread (pthread) for MT compilation or SunOS
> (thr_*() function) threads?
> I think it will be good to update OpenSolaris Harbour MT builds to work
> on SunOS even without pthread installed.
> 

I've used pthread since I don't know Solaris ABIs, I'll have a look at them
(thr_*) though and see what it takes to use them.

BTW, make -jn nearly halves build time on my centrino duo (T5500 1.6GHz)
laptop on which I have opensolaris!

> BTW what exact version of OpenSolaris did you used?
> 

I'm using 2008.11 and building a 32bit harbour.

>> PS. What is the 'best' place to install on a unix system? I've chosen
>> to install inside /opt/harbour/bin,lib,include, but I'm not completely
>> sure it is the 'best practice'.
> 
> Each distribution may have its own preferred place for 3-rd party packages.
> It could be /opt, /usr/opt, /usr/local, /usr/local/opt, ...
> You should check in OS documentation about directory structure policy.
> 
I went for /opt/harbour since I saw that VirtualBox installs in opt as well :)

Maurilio.

> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Mon Feb  2 07:46:46 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 07:42:21 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <4986E165.7000706@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>
	<20090202101935.GB7334@uran.home.aster.pl>
	<4986E165.7000706@libero.it>
Message-ID: <20090202124646.GA23103@uran.home.aster.pl>

On Mon, 02 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> > You have to enable compilation with relocatable code, f.e. use -fPIC or -fpic
> > flag in C_USR. But I do not know it it's enough for OpenSolaris. The last
> > tests I made with Solaris were done over two years ago.
> Ok, tonight I'll try and report.

You can also try make_gcc.sh
It makes two passes for Harbour compilation. The second one enables
settings necessary for shared libraries though I have never tried to
use it with OpenSolaris so I cannot say if it works.
It also supports -j<n> switch.

If you can then please also commit the modifications you made for
OpenSolaris compilation or send 'svn diff' results here.

> BTW, make -jn nearly halves build time on my centrino duo (T5500 1.6GHz)
> laptop on which I have opensolaris!

For two CPU machine -j3 seems to give the best performance.
It will be also good to check how OS2 builds work now. It's possible
that it's broken by new config/dir.cf code just like pure DOS builds
where recursive make calls with -C <dir> does not work for nested
directories and only the 1-st level works. At least it behaves in
such way in DOSEMU where I tested it. Today I'll make some tests on
Windows with and without MSys.
Current GNU Makefile code uses some extended make functions to process
text so it will not work with some very old GNU makes.
If possible please try to recompile current Harbour SVN code on OS2.

best regards,
Przemek
From maurilio.longo at libero.it  Mon Feb  2 08:36:11 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 08:36:20 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <20090202124646.GA23103@uran.home.aster.pl>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>
	<20090202124646.GA23103@uran.home.aster.pl>
Message-ID: <4986F6CB.8050707@libero.it>

Przemyslaw Czerpak wrote:
> You can also try make_gcc.sh
> It makes two passes for Harbour compilation. The second one enables
> settings necessary for shared libraries though I have never tried to
> use it with OpenSolaris so I cannot say if it works.
> It also supports -j<n> switch.
> 
Ok, thanks.

> If you can then please also commit the modifications you made for
> OpenSolaris compilation or send 'svn diff' results here.
> 
Sure, I'll commit back.

>> BTW, make -jn nearly halves build time on my centrino duo (T5500 1.6GHz)
>> laptop on which I have opensolaris!
> 
> For two CPU machine -j3 seems to give the best performance.
> It will be also good to check how OS2 builds work now. It's possible
> that it's broken by new config/dir.cf code just like pure DOS builds
> where recursive make calls with -C <dir> does not work for nested
> directories and only the 1-st level works. At least it behaves in
> such way in DOSEMU where I tested it. Today I'll make some tests on
> Windows with and without MSys.
> Current GNU Makefile code uses some extended make functions to process
> text so it will not work with some very old GNU makes.
> If possible please try to recompile current Harbour SVN code on OS2.
> 
Ok, I'll do this test as well, I was going to do it anyway, but I'm a little
short of free time right now.

Best regards.

Maurilio.


> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb  2 08:44:51 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 08:45:06 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <20090202124646.GA23103@uran.home.aster.pl>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>
	<20090202124646.GA23103@uran.home.aster.pl>
Message-ID: <4986F8D3.3070003@libero.it>

Przemyslaw Czerpak wrote:
> It will be also good to check how OS2 builds work now. It's possible
> that it's broken by new config/dir.cf code just like pure DOS builds
> where recursive make calls with -C <dir> does not work for nested
> directories and only the 1-st level works. At least it behaves in
> such way in DOSEMU where I tested it. Today I'll make some tests on
> Windows with and without MSys.
> Current GNU Makefile code uses some extended make functions to process
> text so it will not work with some very old GNU makes.
> If possible please try to recompile current Harbour SVN code on OS2.
Broken.

OS/2 does not build, it stops immediatly.

This is the make I have

(E:\repository\harbour-svn)make --version
GNU Make version 3.76.1, by Richard Stallman and Roland McGrath.
Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95, 96, 97
        Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

Report bugs to <bug-gnu-utils@prep.ai.mit.edu>.

I don't know whether there are newer versions available.

Maurilio.

> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From niki at synel.co.il  Mon Feb  2 08:58:04 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Feb  2 09:00:58 2009
Subject: [Harbour] doc/cmpopt.txt need svn:keywords
Message-ID: <1A07FEDC778C3E4AA417F089511F859C07B71C4560@Mail-yoq.SYNEL-COMPANY.LTD>

Hi,

doc/cmpopt.txt is missing "Id" svn:keywords (it got none, most files there have Author, Date, Id, Revision)

  Chen.
From info at fsgiudice.com  Mon Feb  2 09:03:05 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb  2 09:03:17 2009
Subject: [Harbour] A Bunch of Thanks
In-Reply-To: <20090202100931.GA7334@uran.home.aster.pl>
References: <21758316.post@talk.nabble.com>
	<20090202100931.GA7334@uran.home.aster.pl>
Message-ID: <4986FD19.3060207@fsgiudice.com>



Il 02/02/2009 11.09, Przemyslaw Czerpak ha scritto:
> Hi Pritpal,
> 
>> To
>> All Developers ( Past and Present )
>> Who Contributed to the Project called - HARBOUR
>> In Any Way
>> I pay a deep hearted tribute and extend a bunch of THANKS.
>> For
>> Today, I have deployed in production all of my applications,
>> under the brand name "Vouch", compiled with Harbour,
>> and have discontinued support for Clipper compilations for ever.
>> Everything, everywhere, with every application, is running fine.
>> "Vouch" is now a multi-threaded, multi-window, hibrid GUI, 
>> pure GUI ( whereever needed ), exploiting many famous Active-X
>> controls, capable of running on LAN or as REMOTE Terminal 
>> (Proprietory), and with many more features beyond the scope
>> of this token of thanks.
>> Believe me, if we continue with same zest and enthusiam to contribute
>> to this project, Harbour will become a mainstream language in the
>> future.
>> I invite all developers who contributed to this project just to 
>> say a "Hello" on this thread so that we all could feel your
>> affection to the language called CLIPPER in good old days.
>> Thanks again for this huge effort.
> 
> My congratulations.
> 
+1

Francesco

From maurilio.longo at libero.it  Mon Feb  2 09:04:05 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 09:04:16 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <4986F8D3.3070003@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>	<20090202124646.GA23103@uran.home.aster.pl>
	<4986F8D3.3070003@libero.it>
Message-ID: <4986FD55.7090701@libero.it>

Maurilio Longo wrote:
> Broken.
> 
> OS/2 does not build, it stops immediatly.
> 
> This is the make I have
> 
> (E:\repository\harbour-svn)make --version
> GNU Make version 3.76.1, by Richard Stallman and Roland McGrath.
> Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95, 96, 97
>         Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.
> There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
> PARTICULAR PURPOSE.
> 
I've found a 3.81 which does a clean and even a clean -j2, but does not build
givin this error:


(E:\repository\harbour-svn\source\common)IF NOT EXIST os2 md os2

(E:\repository\harbour-svn\source\common)IF NOT EXIST os2\gcc md os2\gcc

(E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2 md ..\..\lib
\os2

(E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2\gcc md ..\..
\lib\os2\gcc
make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
../../Makefile:29: ../../config/lib.cf: No such file or directory
make[3]: *** No rule to make target `../../config/lib.cf'.  Stop.
make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
make[1]: *** [common] Error 2
make[1]: Leaving directory `E:/repository/harbour-svn/source'
make: *** [source] Error 2

Is 3.81 enough?

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Mon Feb  2 09:39:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 09:34:38 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <4986FD55.7090701@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>
	<20090202101935.GB7334@uran.home.aster.pl>
	<4986E165.7000706@libero.it>
	<20090202124646.GA23103@uran.home.aster.pl>
	<4986F8D3.3070003@libero.it> <4986FD55.7090701@libero.it>
Message-ID: <20090202143903.GA16904@uran.home.aster.pl>

On Mon, 02 Feb 2009, Maurilio Longo wrote:
> > Broken.
> > OS/2 does not build, it stops immediatly.
> > This is the make I have
> > (E:\repository\harbour-svn)make --version
> > GNU Make version 3.76.1, by Richard Stallman and Roland McGrath.
> > Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95, 96, 97
> >         Free Software Foundation, Inc.
> > This is free software; see the source for copying conditions.
> > There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
> > PARTICULAR PURPOSE.
> I've found a 3.81 which does a clean and even a clean -j2, but does not build
> givin this error:
> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2 md os2
> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2\gcc md os2\gcc
> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2 md ..\..\lib
> \os2
> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2\gcc md ..\..
> \lib\os2\gcc
> make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
> ../../Makefile:29: ../../config/lib.cf: No such file or directory
> make[3]: *** No rule to make target `../../config/lib.cf'.  Stop.
> make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
> make[2]: *** [descend] Error 2
> make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
> make[1]: *** [common] Error 2
> make[1]: Leaving directory `E:/repository/harbour-svn/source'
> make: *** [source] Error 2
> Is 3.81 enough?

It should be. I use the same version. So it's probably problem with OS2
port or with out TOP/ROOT make vars set in OS2 *.cf files.
If the second one then I should be able to check it.
Meanwhile you can force old GNU make behavior by simply uncommenting
line 9 in config/dir.cf:
#include $(TOP)$(ROOT)config/$(HB_ARCHITECTURE)/dir.cf
In the worst case we can simply restore it for all OS2 builds.
Thank you for your tests.

best regards,
Przemek
From maurilio.longo at libero.it  Mon Feb  2 10:06:41 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 10:06:50 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <20090202143903.GA16904@uran.home.aster.pl>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>	<20090202124646.GA23103@uran.home.aster.pl>	<4986F8D3.3070003@libero.it>
	<4986FD55.7090701@libero.it>
	<20090202143903.GA16904@uran.home.aster.pl>
Message-ID: <49870C01.2030008@libero.it>

Przemyslaw Czerpak wrote:
> It should be. I use the same version. So it's probably problem with OS2
> port or with out TOP/ROOT make vars set in OS2 *.cf files.
It seems so, look at this:

make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
../../Makefile:29: ../../config/lib.cf: No such file or directory


it is inside

E:/repository/harbour-svn/source/common/os2/gcc

two levels higher we have Makefile, but Makefile references a file (lib.cf)
which is four levels higher from current work directory, we need to exit gcc,
os2, common, source and then enter config to find lib.cf.

M.


> If the second one then I should be able to check it.
> Meanwhile you can force old GNU make behavior by simply uncommenting
> line 9 in config/dir.cf:
> #include $(TOP)$(ROOT)config/$(HB_ARCHITECTURE)/dir.cf
> In the worst case we can simply restore it for all OS2 builds.
> Thank you for your tests.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Mon Feb  2 11:23:41 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 11:19:16 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <49870C01.2030008@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>
	<20090202101935.GB7334@uran.home.aster.pl>
	<4986E165.7000706@libero.it>
	<20090202124646.GA23103@uran.home.aster.pl>
	<4986F8D3.3070003@libero.it> <4986FD55.7090701@libero.it>
	<20090202143903.GA16904@uran.home.aster.pl>
	<49870C01.2030008@libero.it>
Message-ID: <20090202162341.GA3599@uran.home.aster.pl>

On Mon, 02 Feb 2009, Maurilio Longo wrote:

Hi,

> > It should be. I use the same version. So it's probably problem with OS2
> > port or with out TOP/ROOT make vars set in OS2 *.cf files.
> It seems so, look at this:
> make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
> ../../Makefile:29: ../../config/lib.cf: No such file or directory
> it is inside
> E:/repository/harbour-svn/source/common/os2/gcc
> two levels higher we have Makefile, but Makefile references a file (lib.cf)
> which is four levels higher from current work directory, we need to exit gcc,
> os2, common, source and then enter config to find lib.cf.

And this is OK. Just simply in this place TOP variable should be set to
"../../" by:
   +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile 'TOP=$(GRANDP)' $(LIB_NAME) $(MK_USR)
from config/lib.cf so it should work. For some reasons it's not set.
You can remove '@' from the above line to see executed command.
I've checked the OS2 make files but I cannot find any reason why it does
not work. Maybe you can find sth.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Feb  2 11:30:43 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb  2 11:30:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10144] trunk/harbour
Message-ID: <E1LU1h5-000306-LT@dn4whf1.ch3.sourceforge.com>

Revision: 10144
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10144&view=rev
Author:   druzus
Date:     2009-02-02 16:30:42 +0000 (Mon, 02 Feb 2009)

Log Message:
-----------
2009-02-02 17:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/doc/cmpopt.txt
    * svn ps svn:keywords "Author Date Id Revision"
    * minor cleanup

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/cmpopt.txt

Property Changed:
----------------
    trunk/harbour/doc/cmpopt.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb  2 11:35:15 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 11:30:50 2009
Subject: [Harbour] 2009-02-02 17:34 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <20090202163515.GA16768@uran.home.aster.pl>

2009-02-02 17:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/doc/cmpopt.txt
    * svn ps svn:keywords "Author Date Id Revision"
    * minor cleanup

best regards
Przemek
From toninhofwi at yahoo.com.br  Mon Feb  2 12:40:13 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Mon Feb  2 11:38:20 2009
Subject: [Harbour] A Bunch of Thanks
In-Reply-To: <4986FD19.3060207@fsgiudice.com>
References: <21758316.post@talk.nabble.com>
	<20090202100931.GA7334@uran.home.aster.pl>
	<4986FD19.3060207@fsgiudice.com>
Message-ID: <pubeo4dg52ljr6kt8k1v6uqra8k99bfdjr@4ax.com>

>> My congratulations.
>> 
>+1

+2,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From maurilio.longo at libero.it  Mon Feb  2 11:45:48 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 11:45:58 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <20090202162341.GA3599@uran.home.aster.pl>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>	<20090202124646.GA23103@uran.home.aster.pl>	<4986F8D3.3070003@libero.it>
	<4986FD55.7090701@libero.it>	<20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>
	<20090202162341.GA3599@uran.home.aster.pl>
Message-ID: <4987233C.4010405@libero.it>

Przemyslaw Czerpak wrote:
 > And this is OK. Just simply in this place TOP variable should be set to
> "../../" by:
>    +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile 'TOP=$(GRANDP)' $(LIB_NAME) $(MK_USR)
> from config/lib.cf so it should work. For some reasons it's not set.
> You can remove '@' from the above line to see executed command.

Here without '@',

(E:\repository\harbour-svn\source\common)IF NOT EXIST os2 md os2

(E:\repository\harbour-svn\source\common)IF NOT EXIST os2\gcc md os2\gcc

(E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2 md
..\..\lib\os2

(E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2\gcc md
..\..\lib\os2\gcc
make -C os2/gcc -f ../../Makefile 'TOP=../../' hbcommon.a
make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
../../Makefile:29: ../../config/lib.cf: No such file or directory
make[3]: *** No rule to make target `../../config/lib.cf'.  Stop.
make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
make[1]: *** [common] Error 2
make[1]: Leaving directory `E:/repository/harbour-svn/source'
make: *** [source] Error 2


Has you can see, GRANDP has value '../../' which is ok to find Makefile, but
TOP (or ROOT) is not set, am I right?, since makefile:29 has

include $(TOP)$(ROOT)config/lib.cf

but from the error message, it looks for '../../config/lib.cf'

instead of

'../../../../config/lib.cf'

Does this help you?

Maurilio

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb  2 11:58:58 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 11:59:06 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <4987233C.4010405@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>	<20090202124646.GA23103@uran.home.aster.pl>	<4986F8D3.3070003@libero.it>	<4986FD55.7090701@libero.it>	<20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>
	<4987233C.4010405@libero.it>
Message-ID: <49872652.5080807@libero.it>

It's TOP which is not set, I've changed common/Makefile a litte,

include	$(TOP)pippo
include	$(ROOT)pluto

here what I see

make -C source
make[1]: Entering directory `E:/repository/harbour-svn/source'
make -C common
make[2]: Entering directory `E:/repository/harbour-svn/source/common'
Makefile:29: pippo: No such file or directory
Makefile:30: ../../pluto: No such file or directory
make[2]: *** No rule to make target `../../pluto'.  Stop.
make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
make[1]: *** [common] Error 2

M.

Maurilio Longo wrote:
> Przemyslaw Czerpak wrote:
>  > And this is OK. Just simply in this place TOP variable should be set to
>> "../../" by:
>>    +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile 'TOP=$(GRANDP)' $(LIB_NAME) $(MK_USR)
>> from config/lib.cf so it should work. For some reasons it's not set.
>> You can remove '@' from the above line to see executed command.
> 
> Here without '@',
> 
> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2 md os2
> 
> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2\gcc md os2\gcc
> 
> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2 md
> ..\..\lib\os2
> 
> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2\gcc md
> ..\..\lib\os2\gcc
> make -C os2/gcc -f ../../Makefile 'TOP=../../' hbcommon.a
> make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
> ../../Makefile:29: ../../config/lib.cf: No such file or directory
> make[3]: *** No rule to make target `../../config/lib.cf'.  Stop.
> make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
> make[2]: *** [descend] Error 2
> make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
> make[1]: *** [common] Error 2
> make[1]: Leaving directory `E:/repository/harbour-svn/source'
> make: *** [source] Error 2
> 
> 
> Has you can see, GRANDP has value '../../' which is ok to find Makefile, but
> TOP (or ROOT) is not set, am I right?, since makefile:29 has
> 
> include $(TOP)$(ROOT)config/lib.cf
> 
> but from the error message, it looks for '../../config/lib.cf'
> 
> instead of
> 
> '../../../../config/lib.cf'
> 
> Does this help you?
> 
> Maurilio
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb  2 12:08:27 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 12:08:36 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <4987233C.4010405@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>	<20090202124646.GA23103@uran.home.aster.pl>	<4986F8D3.3070003@libero.it>	<4986FD55.7090701@libero.it>	<20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>
	<4987233C.4010405@libero.it>
Message-ID: <4987288B.30006@libero.it>

Przemyslaw,

it seems to work if I write it this way

+@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile "TOP=$(GRANDP)" $(LIB_NAME) $(MK_USR)

That is, using double quotes.

Does this break the other builds? Do I need an os2/lib.cf equal to the one
inside config but with this change?

Maurilio.

Maurilio Longo wrote:
> Przemyslaw Czerpak wrote:
>  > And this is OK. Just simply in this place TOP variable should be set to
>> "../../" by:
>>    +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile 'TOP=$(GRANDP)' $(LIB_NAME) $(MK_USR)
>> from config/lib.cf so it should work. For some reasons it's not set.
>> You can remove '@' from the above line to see executed command.
> 
> Here without '@',
> 
> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2 md os2
> 
> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2\gcc md os2\gcc
> 
> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2 md
> ..\..\lib\os2
> 
> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2\gcc md
> ..\..\lib\os2\gcc
> make -C os2/gcc -f ../../Makefile 'TOP=../../' hbcommon.a
> make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
> ../../Makefile:29: ../../config/lib.cf: No such file or directory
> make[3]: *** No rule to make target `../../config/lib.cf'.  Stop.
> make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
> make[2]: *** [descend] Error 2
> make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
> make[1]: *** [common] Error 2
> make[1]: Leaving directory `E:/repository/harbour-svn/source'
> make: *** [source] Error 2
> 
> 
> Has you can see, GRANDP has value '../../' which is ok to find Makefile, but
> TOP (or ROOT) is not set, am I right?, since makefile:29 has
> 
> include $(TOP)$(ROOT)config/lib.cf
> 
> but from the error message, it looks for '../../config/lib.cf'
> 
> instead of
> 
> '../../../../config/lib.cf'
> 
> Does this help you?
> 
> Maurilio
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb  2 12:14:51 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 12:15:01 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <4987288B.30006@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>	<20090202124646.GA23103@uran.home.aster.pl>	<4986F8D3.3070003@libero.it>	<4986FD55.7090701@libero.it>	<20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>	<4987233C.4010405@libero.it>
	<4987288B.30006@libero.it>
Message-ID: <49872A0B.4060604@libero.it>

No,

now it dies a little later, making libraries

gcc -I. -I../../../../include -Wall -W -O3 -DTCPV40HDRS -DTCPV40HDRS -DTCPV40HDR
S -DTCPV40HDRS  -c ../../compi18n.c -ocompi18n.o
gcc -I. -I../../../../include -Wall -W -O3 -DTCPV40HDRS -DTCPV40HDRS -DTCPV40HDR
S -DTCPV40HDRS  -c ../../hbmain.c -ohbmain.o
IF EXIST ..\..\..\..\lib\os2\gcc\hbcplr.a del /n ..\..\..\..\lib\os2\gcc\hbcplr.
a
make[3]: *** [hbcplr.a] Segmentation fault
make[3]: Leaving directory `E:/repository/harbour-svn/source/compiler/os2/gcc'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `E:/repository/harbour-svn/source/compiler'
make[1]: *** [compiler] Error 2
make[1]: Leaving directory `E:/repository/harbour-svn/source'
make: *** [source] Error 2

But this could be the 'new' make.

Maurilio Longo wrote:
> Przemyslaw,
> 
> it seems to work if I write it this way
> 
> +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile "TOP=$(GRANDP)" $(LIB_NAME) $(MK_USR)
> 
> That is, using double quotes.
> 
> Does this break the other builds? Do I need an os2/lib.cf equal to the one
> inside config but with this change?
> 
> Maurilio.
> 
> Maurilio Longo wrote:
>> Przemyslaw Czerpak wrote:
>>  > And this is OK. Just simply in this place TOP variable should be set to
>>> "../../" by:
>>>    +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile 'TOP=$(GRANDP)' $(LIB_NAME) $(MK_USR)
>>> from config/lib.cf so it should work. For some reasons it's not set.
>>> You can remove '@' from the above line to see executed command.
>> Here without '@',
>>
>> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2 md os2
>>
>> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2\gcc md os2\gcc
>>
>> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2 md
>> ..\..\lib\os2
>>
>> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2\gcc md
>> ..\..\lib\os2\gcc
>> make -C os2/gcc -f ../../Makefile 'TOP=../../' hbcommon.a
>> make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
>> ../../Makefile:29: ../../config/lib.cf: No such file or directory
>> make[3]: *** No rule to make target `../../config/lib.cf'.  Stop.
>> make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
>> make[2]: *** [descend] Error 2
>> make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
>> make[1]: *** [common] Error 2
>> make[1]: Leaving directory `E:/repository/harbour-svn/source'
>> make: *** [source] Error 2
>>
>>
>> Has you can see, GRANDP has value '../../' which is ok to find Makefile, but
>> TOP (or ROOT) is not set, am I right?, since makefile:29 has
>>
>> include $(TOP)$(ROOT)config/lib.cf
>>
>> but from the error message, it looks for '../../config/lib.cf'
>>
>> instead of
>>
>> '../../../../config/lib.cf'
>>
>> Does this help you?
>>
>> Maurilio
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Mon Feb  2 11:32:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  2 12:22:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10145] trunk/harbour
Message-ID: <E1LU1ix-00014S-6a@c3vjzd1.ch3.sourceforge.com>

Revision: 10145
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10145&view=rev
Author:   vszakats
Date:     2009-02-02 16:32:36 +0000 (Mon, 02 Feb 2009)

Log Message:
-----------

2009-02-02 17:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/cmpopt.txt
    ! Fixed missing SVN keyword.
      [Przemek was faster]

  * source/rtl/perfuncs.prg
  * source/rtl/menuto.prg
  * source/rtl/getlist.prg
  * source/rtl/readvar.prg
  * source/rtl/thfuncx.prg
  * source/rtl/text.prg
    * Renamed THREAD STATIC vars to t_* (from s_*).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/getlist.prg
    trunk/harbour/source/rtl/menuto.prg
    trunk/harbour/source/rtl/perfuncs.prg
    trunk/harbour/source/rtl/readvar.prg
    trunk/harbour/source/rtl/text.prg
    trunk/harbour/source/rtl/thfuncx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Feb  2 12:53:11 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 12:53:20 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <49872A0B.4060604@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>	<20090202124646.GA23103@uran.home.aster.pl>	<4986F8D3.3070003@libero.it>	<4986FD55.7090701@libero.it>	<20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>	<4987233C.4010405@libero.it>	<4987288B.30006@libero.it>
	<49872A0B.4060604@libero.it>
Message-ID: <49873307.3000705@libero.it>

Przemyslaw,

it seems it is not make which dies, but cmd.exe (the shell), could it be that
we're calling it with more than 1024 chars of command? (the limit could even
be lower, I don't have a reference handy).

Maurilio.

Maurilio Longo wrote:
> No,
> 
> now it dies a little later, making libraries
> 
> gcc -I. -I../../../../include -Wall -W -O3 -DTCPV40HDRS -DTCPV40HDRS -DTCPV40HDR
> S -DTCPV40HDRS  -c ../../compi18n.c -ocompi18n.o
> gcc -I. -I../../../../include -Wall -W -O3 -DTCPV40HDRS -DTCPV40HDRS -DTCPV40HDR
> S -DTCPV40HDRS  -c ../../hbmain.c -ohbmain.o
> IF EXIST ..\..\..\..\lib\os2\gcc\hbcplr.a del /n ..\..\..\..\lib\os2\gcc\hbcplr.
> a
> make[3]: *** [hbcplr.a] Segmentation fault
> make[3]: Leaving directory `E:/repository/harbour-svn/source/compiler/os2/gcc'
> make[2]: *** [descend] Error 2
> make[2]: Leaving directory `E:/repository/harbour-svn/source/compiler'
> make[1]: *** [compiler] Error 2
> make[1]: Leaving directory `E:/repository/harbour-svn/source'
> make: *** [source] Error 2
> 
> But this could be the 'new' make.
> 
> Maurilio Longo wrote:
>> Przemyslaw,
>>
>> it seems to work if I write it this way
>>
>> +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile "TOP=$(GRANDP)" $(LIB_NAME) $(MK_USR)
>>
>> That is, using double quotes.
>>
>> Does this break the other builds? Do I need an os2/lib.cf equal to the one
>> inside config but with this change?
>>
>> Maurilio.
>>
>> Maurilio Longo wrote:
>>> Przemyslaw Czerpak wrote:
>>>  > And this is OK. Just simply in this place TOP variable should be set to
>>>> "../../" by:
>>>>    +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile 'TOP=$(GRANDP)' $(LIB_NAME) $(MK_USR)
>>>> from config/lib.cf so it should work. For some reasons it's not set.
>>>> You can remove '@' from the above line to see executed command.
>>> Here without '@',
>>>
>>> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2 md os2
>>>
>>> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2\gcc md os2\gcc
>>>
>>> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2 md
>>> ..\..\lib\os2
>>>
>>> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2\gcc md
>>> ..\..\lib\os2\gcc
>>> make -C os2/gcc -f ../../Makefile 'TOP=../../' hbcommon.a
>>> make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
>>> ../../Makefile:29: ../../config/lib.cf: No such file or directory
>>> make[3]: *** No rule to make target `../../config/lib.cf'.  Stop.
>>> make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
>>> make[2]: *** [descend] Error 2
>>> make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
>>> make[1]: *** [common] Error 2
>>> make[1]: Leaving directory `E:/repository/harbour-svn/source'
>>> make: *** [source] Error 2
>>>
>>>
>>> Has you can see, GRANDP has value '../../' which is ok to find Makefile, but
>>> TOP (or ROOT) is not set, am I right?, since makefile:29 has
>>>
>>> include $(TOP)$(ROOT)config/lib.cf
>>>
>>> but from the error message, it looks for '../../config/lib.cf'
>>>
>>> instead of
>>>
>>> '../../../../config/lib.cf'
>>>
>>> Does this help you?
>>>
>>> Maurilio
>>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb  2 13:23:06 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb  2 13:23:17 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <49873307.3000705@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<4986E165.7000706@libero.it>	<20090202124646.GA23103@uran.home.aster.pl>	<4986F8D3.3070003@libero.it>	<4986FD55.7090701@libero.it>	<20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>	<4987233C.4010405@libero.it>	<4987288B.30006@libero.it>	<49872A0B.4060604@libero.it>
	<49873307.3000705@libero.it>
Message-ID: <49873A0A.2050501@libero.it>

Ok,

I've restricted the scope, it dies at this line of os2/gcc.cf

echo CREATE $(LIB_DIR)/$@ > __lib__.tmp

where it should be creatine a file to hold the names of the modules to put
into a library, but it does not die at the first library, hbcommon.a, so it
has to be something related to line lenght.. or so I guess.


Maurilio.


Maurilio Longo wrote:
> Przemyslaw,
> 
> it seems it is not make which dies, but cmd.exe (the shell), could it be that
> we're calling it with more than 1024 chars of command? (the limit could even
> be lower, I don't have a reference handy).
> 
> Maurilio.
> 
> Maurilio Longo wrote:
>> No,
>>
>> now it dies a little later, making libraries
>>
>> gcc -I. -I../../../../include -Wall -W -O3 -DTCPV40HDRS -DTCPV40HDRS -DTCPV40HDR
>> S -DTCPV40HDRS  -c ../../compi18n.c -ocompi18n.o
>> gcc -I. -I../../../../include -Wall -W -O3 -DTCPV40HDRS -DTCPV40HDRS -DTCPV40HDR
>> S -DTCPV40HDRS  -c ../../hbmain.c -ohbmain.o
>> IF EXIST ..\..\..\..\lib\os2\gcc\hbcplr.a del /n ..\..\..\..\lib\os2\gcc\hbcplr.
>> a
>> make[3]: *** [hbcplr.a] Segmentation fault
>> make[3]: Leaving directory `E:/repository/harbour-svn/source/compiler/os2/gcc'
>> make[2]: *** [descend] Error 2
>> make[2]: Leaving directory `E:/repository/harbour-svn/source/compiler'
>> make[1]: *** [compiler] Error 2
>> make[1]: Leaving directory `E:/repository/harbour-svn/source'
>> make: *** [source] Error 2
>>
>> But this could be the 'new' make.
>>
>> Maurilio Longo wrote:
>>> Przemyslaw,
>>>
>>> it seems to work if I write it this way
>>>
>>> +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile "TOP=$(GRANDP)" $(LIB_NAME) $(MK_USR)
>>>
>>> That is, using double quotes.
>>>
>>> Does this break the other builds? Do I need an os2/lib.cf equal to the one
>>> inside config but with this change?
>>>
>>> Maurilio.
>>>
>>> Maurilio Longo wrote:
>>>> Przemyslaw Czerpak wrote:
>>>>  > And this is OK. Just simply in this place TOP variable should be set to
>>>>> "../../" by:
>>>>>    +@$(MK) -C $(ARCH_DIR) -f $(GRANDP)Makefile 'TOP=$(GRANDP)' $(LIB_NAME) $(MK_USR)
>>>>> from config/lib.cf so it should work. For some reasons it's not set.
>>>>> You can remove '@' from the above line to see executed command.
>>>> Here without '@',
>>>>
>>>> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2 md os2
>>>>
>>>> (E:\repository\harbour-svn\source\common)IF NOT EXIST os2\gcc md os2\gcc
>>>>
>>>> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2 md
>>>> ..\..\lib\os2
>>>>
>>>> (E:\repository\harbour-svn\source\common)IF NOT EXIST ..\..\lib\os2\gcc md
>>>> ..\..\lib\os2\gcc
>>>> make -C os2/gcc -f ../../Makefile 'TOP=../../' hbcommon.a
>>>> make[3]: Entering directory `E:/repository/harbour-svn/source/common/os2/gcc'
>>>> ../../Makefile:29: ../../config/lib.cf: No such file or directory
>>>> make[3]: *** No rule to make target `../../config/lib.cf'.  Stop.
>>>> make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
>>>> make[2]: *** [descend] Error 2
>>>> make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
>>>> make[1]: *** [common] Error 2
>>>> make[1]: Leaving directory `E:/repository/harbour-svn/source'
>>>> make: *** [source] Error 2
>>>>
>>>>
>>>> Has you can see, GRANDP has value '../../' which is ok to find Makefile, but
>>>> TOP (or ROOT) is not set, am I right?, since makefile:29 has
>>>>
>>>> include $(TOP)$(ROOT)config/lib.cf
>>>>
>>>> but from the error message, it looks for '../../config/lib.cf'
>>>>
>>>> instead of
>>>>
>>>> '../../../../config/lib.cf'
>>>>
>>>> Does this help you?
>>>>
>>>> Maurilio
>>>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Mon Feb  2 13:40:21 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 13:35:54 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <49873307.3000705@libero.it>
References: <20090202124646.GA23103@uran.home.aster.pl>
	<4986F8D3.3070003@libero.it> <4986FD55.7090701@libero.it>
	<20090202143903.GA16904@uran.home.aster.pl>
	<49870C01.2030008@libero.it>
	<20090202162341.GA3599@uran.home.aster.pl>
	<4987233C.4010405@libero.it> <4987288B.30006@libero.it>
	<49872A0B.4060604@libero.it> <49873307.3000705@libero.it>
Message-ID: <20090202184020.GA27877@uran.home.aster.pl>

On Mon, 02 Feb 2009, Maurilio Longo wrote:

Hi,

> it seems it is not make which dies, but cmd.exe (the shell), could it be that
> we're calling it with more than 1024 chars of command? (the limit could even
> be lower, I don't have a reference handy).

yes, it could be also insufficient environment size.
Now you have similar problems to the ones I have in DOS.
It does not GPF but it begins to make some unpredictable
things. Looks that it loses some of settings like current
directory or make does not clean some settings when leave
directory increasing environment size or internal current
path setting.
Non *nix GNU make builds makes some strange things to emulate
POSIX environment and this can be side effect of them.
Seems that for DOS and OS2 we should use the old code. It also
allow parallel execution with recent modifications but is not
such efficient because only one directory (lib) can be compiled
in the same time so only the files inside single dir are compiled
simultaneously.
I'll look how to make it optional.
The ' and " used to encapsulate TOP=$(GRANDP) can be removed.
They are necessary only if GRANDP has blank characters.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Feb  2 16:45:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  2 16:45:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10146] trunk/harbour
Message-ID: <E1LU6be-0007AF-Pn@bj8yhf1.ch3.sourceforge.com>

Revision: 10146
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10146&view=rev
Author:   vszakats
Date:     2009-02-02 21:45:25 +0000 (Mon, 02 Feb 2009)

Log Message:
-----------
2009-02-02 22:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbct/fcopy.prg
  * contrib/hbtpathy/telepath.prg
  * contrib/hbziparc/hbziparc.prg
  * contrib/rddado/adordd.prg
  * contrib/gtwvg/wvgpaint.prg
  * contrib/gtwvg/tests/demowvg.prg
  * contrib/hbpgsql/pgrdd.prg
  * contrib/hbwin/win_tole.prg
  * contrib/hbvpdf/hbvpdf.prg
  * contrib/hbwhat/wincore.prg
    * Renamed THREAD STATIC vars to t_* (from s_*).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/gtwvg/wvgpaint.prg
    trunk/harbour/contrib/hbct/fcopy.prg
    trunk/harbour/contrib/hbpgsql/pgrdd.prg
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/contrib/hbvpdf/hbvpdf.prg
    trunk/harbour/contrib/hbwhat/wincore.prg
    trunk/harbour/contrib/hbwin/win_tole.prg
    trunk/harbour/contrib/hbziparc/hbziparc.prg
    trunk/harbour/contrib/rddado/adordd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  2 17:28:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  2 17:28:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10147] trunk/harbour
Message-ID: <E1LU7Hc-0005Hm-ET@74yxhf1.ch3.sourceforge.com>

Revision: 10147
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10147&view=rev
Author:   vszakats
Date:     2009-02-02 22:28:47 +0000 (Mon, 02 Feb 2009)

Log Message:
-----------
2009-02-02 23:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbct/keysec.prg
  * contrib/hbct/keytime.prg
  * contrib/hbct/showtime.prg
  * contrib/hbct/ctdummy.prg
    * STATICs converted to THREAD STATICs.

  * contrib/xhb/hblognet.prg
  * contrib/xhb/hblog.prg
    + Permanently enabled conditional HB_THREAD_SUPPORT.

  ; TOFIX: - hbwhat/wincore.prg
           - xhb/cstruct.prg
           Needs reviewing and either mutex protection
           for STATICs or conversion to THREAD STATIC.

  ; TOFIX: C code uses much more statics, some of these make
           code clearly broken for MT.

           Shouldn't we add core support for thread specific
           cargo (user defined data) area available for 3rd
           party libs/apps?
           Same could be added to GT structure to hold
           GT instance specific user defined data.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctdummy.prg
    trunk/harbour/contrib/hbct/keysec.prg
    trunk/harbour/contrib/hbct/keytime.prg
    trunk/harbour/contrib/hbct/showtime.prg
    trunk/harbour/contrib/xhb/hblog.prg
    trunk/harbour/contrib/xhb/hblognet.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mauriliolongo at users.sourceforge.net  Mon Feb  2 19:01:41 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Mon Feb  2 19:01:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10148] trunk/harbour
Message-ID: <E1LU8jV-0002qW-15@3kljzd1.ch3.sourceforge.com>

Revision: 10148
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10148&view=rev
Author:   mauriliolongo
Date:     2009-02-03 00:01:40 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 00:55 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
  * include/hbdefs.h
  * include/hbthread.h
    * added HB_OS_SUNOS to be able to build under OpenSolaris 2008.11
      using pthreads.
  * source/common/hbprintf.c
    * include ieeefp.h under OpenSolaris 2008.11

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbthread.h
    trunk/harbour/source/common/hbprintf.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Feb  2 19:05:48 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Mon Feb  2 19:05:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10148] trunk/harbour
Message-ID: <KEGQXO$315EF1713109898C9AD2F77C200F5B4D@libero.it>

Hi all,

I've made these changes using jedit on a opensolaris box, I hope I did not break something with this new editor (I mean, tabs, codepage and so on).

In case I did, please accept my apologies and feel free to revert my changes since I won't have access to this pc until after tomorrow night.

Maurilio.


> Revision: 10148
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10148&view=rev
> Author:   mauriliolongo
> Date:     2009-02-03 00:01:40 +0000 (Tue, 03 Feb 2009)
> 
> Log Message:
> -----------
> 2009-02-03 00:55 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
>   * include/hbdefs.h
>   * include/hbthread.h
>     * added HB_OS_SUNOS to be able to build under OpenSolaris 2008.11
>       using pthreads.
>   * source/common/hbprintf.c
>     * include ieeefp.h under OpenSolaris 2008.11
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/include/hbdefs.h
>     trunk/harbour/include/hbthread.h
>     trunk/harbour/source/common/hbprintf.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From druzus at acn.waw.pl  Mon Feb  2 19:17:55 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 19:13:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10148] trunk/harbour
In-Reply-To: <KEGQXO$315EF1713109898C9AD2F77C200F5B4D@libero.it>
References: <KEGQXO$315EF1713109898C9AD2F77C200F5B4D@libero.it>
Message-ID: <20090203001755.GA13925@uran.home.aster.pl>

On Tue, 03 Feb 2009, maurilio longo wrote:
> Hi all,
> I've made these changes using jedit on a opensolaris box, I hope I did not break something with this new editor (I mean, tabs, codepage and so on).
> In case I did, please accept my apologies and feel free to revert my changes since I won't have access to this pc until after tomorrow night.

Every thing is perfect.
Thank you very much.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Feb  2 19:30:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 19:26:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10147] trunk/harbour
In-Reply-To: <E1LU7Hc-0005Hm-ET@74yxhf1.ch3.sourceforge.com>
References: <E1LU7Hc-0005Hm-ET@74yxhf1.ch3.sourceforge.com>
Message-ID: <20090203003058.GB13925@uran.home.aster.pl>

On Mon, 02 Feb 2009, vszakats@users.sourceforge.net wrote:

Hi Viktor,

>   ; TOFIX: - hbwhat/wincore.prg
>            - xhb/cstruct.prg
>            Needs reviewing and either mutex protection
>            for STATICs or conversion to THREAD STATIC.

Simple conversion to THREAD STATIC cannot be used in xhb/cstruct.prg.
because this code registers new classes which should be global to HVM.
Looks that it's necessary to use both. Mutex protection for static
variables except s_aActiveStructure which should be THREAD STATIC.
But I would like to leave this modifications to someone who use this
code.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Feb  2 19:34:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  2 19:34:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10149] trunk/harbour
Message-ID: <E1LU9FC-00050z-UQ@c3vjzd1.ch3.sourceforge.com>

Revision: 10149
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10149&view=rev
Author:   vszakats
Date:     2009-02-03 00:34:26 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 01:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/common/hbprintf.c
    ! Comment corrected to be ANSI.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbprintf.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  2 19:39:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  2 19:40:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10150] trunk/harbour
Message-ID: <E1LU9KX-000534-Cd@c3vjzd1.ch3.sourceforge.com>

Revision: 10150
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10150&view=rev
Author:   vszakats
Date:     2009-02-03 00:39:56 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 01:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/xhb/cstruct.prg
    ! One STATIC converted to THREAD STATIC.
    + TOFIX added for the rest of them.
    * Some formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/cstruct.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  2 19:49:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  2 19:49:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10151] trunk/harbour
Message-ID: <E1LU9Tm-00057b-7e@c3vjzd1.ch3.sourceforge.com>

Revision: 10151
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10151&view=rev
Author:   vszakats
Date:     2009-02-03 00:49:27 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 01:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbct/charop.c
    ! Fixed CHARADD(), CHARSUB(), CHARAND(), CHAROR(), CHARXOR()
      to not crash when second parameter is an empty string.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/charop.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb  2 20:08:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  2 20:08:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10147] trunk/harbour
In-Reply-To: <20090203003058.GB13925@uran.home.aster.pl>
References: <E1LU7Hc-0005Hm-ET@74yxhf1.ch3.sourceforge.com>
	<20090203003058.GB13925@uran.home.aster.pl>
Message-ID: <18d502870902021708td5c0752rafa9f52430eed347@mail.gmail.com>

Hi Przemek,


> >   ; TOFIX: - hbwhat/wincore.prg
> >            - xhb/cstruct.prg
> >            Needs reviewing and either mutex protection
> >            for STATICs or conversion to THREAD STATIC.
>
> Simple conversion to THREAD STATIC cannot be used in xhb/cstruct.prg.
> because this code registers new classes which should be global to HVM.
> Looks that it's necessary to use both. Mutex protection for static
> variables except s_aActiveStructure which should be THREAD STATIC.
> But I would like to leave this modifications to someone who use this
> code.


Okay, committed up to this point. Rest should indeed be fixed
by a real user. Same for wincore.prg.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/7f1c1843/attachment.html
From vszakats at users.sourceforge.net  Mon Feb  2 20:09:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  2 20:10:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10152] trunk/harbour
Message-ID: <E1LU9nX-0005F7-78@c3vjzd1.ch3.sourceforge.com>

Revision: 10152
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10152&view=rev
Author:   vszakats
Date:     2009-02-03 01:09:52 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 02:07 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbct/strdiff.c
  * contrib/hbct/token2.c
  * contrib/hbct/atadjust.c
  * contrib/hbct/ctmath.c
  * contrib/hbct/charsort.c
  * contrib/hbct/charmix.c
  * contrib/hbct/wordrepl.c
  * contrib/hbct/charrepl.c
  * contrib/hbct/strswap.c
  * contrib/hbct/trig.c
  * contrib/hbct/charswap.c
  * contrib/hbct/charop.c
  * contrib/hbct/num1.c
  * contrib/hbct/ctstr.c
  * contrib/hbct/token1.c
  * contrib/hbct/charmirr.c
  * contrib/hbct/ctc.c
  * contrib/hbct/relation.c
  * contrib/hbct/atnum.c
  * contrib/hbct/posdiff.c
  * contrib/hbct/finan.c
  * contrib/hbct/range.c
  * contrib/hbct/addascii.c
  * contrib/hbct/ctmath2.c
  * contrib/hbct/tab.c
  * contrib/hbct/asciisum.c
  * contrib/hbct/pos2.c
  * contrib/hbct/numat.c
  * contrib/hbct/atrepl.c
  * contrib/hbct/wordtoch.c
    % Using HB_ERR_FUNCNAME.

  * contrib/hbct/charop.c
    ! Fixed CHARADD(), CHARSUB(), CHARAND(), CHAROR(), CHARXOR()
      showing wrong function name in error message when first
      passed parameter is invalid.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/addascii.c
    trunk/harbour/contrib/hbct/asciisum.c
    trunk/harbour/contrib/hbct/atadjust.c
    trunk/harbour/contrib/hbct/atnum.c
    trunk/harbour/contrib/hbct/atrepl.c
    trunk/harbour/contrib/hbct/charmirr.c
    trunk/harbour/contrib/hbct/charmix.c
    trunk/harbour/contrib/hbct/charop.c
    trunk/harbour/contrib/hbct/charrepl.c
    trunk/harbour/contrib/hbct/charsort.c
    trunk/harbour/contrib/hbct/charswap.c
    trunk/harbour/contrib/hbct/ctc.c
    trunk/harbour/contrib/hbct/ctmath.c
    trunk/harbour/contrib/hbct/ctmath2.c
    trunk/harbour/contrib/hbct/ctstr.c
    trunk/harbour/contrib/hbct/finan.c
    trunk/harbour/contrib/hbct/num1.c
    trunk/harbour/contrib/hbct/numat.c
    trunk/harbour/contrib/hbct/pos2.c
    trunk/harbour/contrib/hbct/posdiff.c
    trunk/harbour/contrib/hbct/range.c
    trunk/harbour/contrib/hbct/relation.c
    trunk/harbour/contrib/hbct/strdiff.c
    trunk/harbour/contrib/hbct/strswap.c
    trunk/harbour/contrib/hbct/tab.c
    trunk/harbour/contrib/hbct/token1.c
    trunk/harbour/contrib/hbct/token2.c
    trunk/harbour/contrib/hbct/trig.c
    trunk/harbour/contrib/hbct/wordrepl.c
    trunk/harbour/contrib/hbct/wordtoch.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Feb  2 20:13:12 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb  2 20:13:16 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate Project
	Builder
Message-ID: <21802164.post@talk.nabble.com>


Hello Everybody

Download
http://www.vouch.info/downloads/hrb_dev_20090202.zip

This distribution offers out of the box usage through
xMate Project Builder. Please note that this distribution
is meant for end-user applns/libs only. 

This is BCC55 distribution.

Steps to getting started:

1) Unzip it in C:\ root.
2) Navigate to c:\hrb_dev\xmate\xmate.exe.
3) Click it.
4) Point to <Build and Launch Project> icon.
5) Explore "demoxbp"s menu options.

To create your own project:

1) Create a new folder in \hrb_dev\dev_projects, say MyProject.
2) If you want to organize your sources, create a new folder in
    \hrb_dev\dev_sources and keep all your code and headers there.
3) Create a new project with xMate and drop your files there.

This distribution has nothing to offer special for 
experienced developers. It is targetted for new-bies who
find it rather difficult to start with Harbour.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Out-of-Box-usable-Harbour-Distribution-with-XMate-Project-Builder-tp21802164p21802164.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Mon Feb  2 20:13:47 2009
From: philb at philb.us (Phil Barnett)
Date: Mon Feb  2 20:13:51 2009
Subject: [Harbour] A Bunch of Thanks
In-Reply-To: <21758316.post@talk.nabble.com>
References: <21758316.post@talk.nabble.com>
Message-ID: <49879A4B.8090709@philb.us>

Pritpal Bedi wrote:
> Today, I have deployed in production all of my applications,
> under the brand name "Vouch", compiled with Harbour,
> and have discontinued support for Clipper compilations for ever.
>
> Everything, everywhere, with every application, is running fine.
>   
That is so cool, Pritpal.

Clipper was a good language it's day, but it can't compete in today's 
requirements.

I'm proud that you have taken Harbour to solve a problem in an amazing 
and advanced way.

Good future!
From druzus at users.sourceforge.net  Mon Feb  2 21:05:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb  2 21:05:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10153] trunk/harbour
Message-ID: <E1LUAfe-0003g8-OH@3kljzd1.ch3.sourceforge.com>

Revision: 10153
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10153&view=rev
Author:   druzus
Date:     2009-02-03 02:05:45 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 03:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/mpkg_deb.sh
  * harbour/make_gnu_xmingwce.sh
  * harbour/tests/transtst.prg
  * harbour/tests/wcecon.prg
  * harbour/tests/foreach2.prg
  * harbour/tests/rto_get.prg
  * harbour/tests/memtst.prg
  * harbour/tests/gtwin.prg
  * harbour/tests/mt/mttest08.prg
  * harbour/tests/mt/mttest09.prg
  * harbour/tests/mt/mttest01.prg
  * harbour/tests/mt/mttest10.prg
  * harbour/tests/mt/mttest02.prg
  * harbour/tests/mt/mttest11.prg
  * harbour/tests/mt/mttest03.prg
  * harbour/tests/mt/mttest12.prg
  * harbour/tests/mt/mttest04.prg
  * harbour/tests/mt/mttest05.prg
  * harbour/tests/mt/mttest06.prg
  * harbour/tests/mt/mttest07.prg
  * harbour/tests/speedtst.prg
  * harbour/tests/hsxtest.prg
  * harbour/tests/rto_tb.prg
  * harbour/tests/multifnc/t0.prg
  * harbour/tests/multifnc/t1.prg
  * harbour/tests/multifnc/t2.prg
  * harbour/tests/multifnc/Makefile
  * harbour/tests/gtchars.prg
  * harbour/tests/aliaslck.prg
  * harbour/tests/gtcolors.prg
  * harbour/tests/gtkeys.prg
  * harbour/make_gcc.sh
  * harbour/mpkg_rpm_win.sh
  * harbour/doc/howtosvn.txt
  * harbour/doc/howtobld.txt
  * harbour/make_gnu_os2.cmd
  * harbour/include/hbrddnsx.h
  * harbour/include/hbsxdef.ch
  * harbour/include/hbwince.h
  * harbour/include/hbwmain.c
  * harbour/include/hbthread.h
  * harbour/include/hbsix.ch
  * harbour/include/hbvmint.h
  * harbour/include/hbassert.h
  * harbour/include/hbthread.ch
  * harbour/include/hbatomic.h
  * harbour/mpkg_rpm_wce.sh
  * harbour/source/hbextern/hbextern.prg
  * harbour/source/hbextern/Makefile
  * harbour/source/lang/msgptiso.c
  * harbour/source/vm/dlmalloc.c
  * harbour/source/vm/vmmt/Makefile
  * harbour/source/vm/thread.c
  * harbour/source/vm/mainwin/Makefile
  * harbour/source/vm/vm.c
  * harbour/source/debug/dbgtinp.prg
  * harbour/source/common/hbprintf.c
  * harbour/source/common/hbwince.c
  * harbour/source/common/hbfopen.c
  * harbour/source/rtl/tscalars.c
  * harbour/source/rtl/hbi18n2.prg
  * harbour/source/rtl/gui.prg
  * harbour/source/rtl/getsys53.prg
  * harbour/source/rtl/hbfile.c
  * harbour/source/rtl/tscalard.c
  * harbour/source/rtl/tscalarh.c
  * harbour/source/rtl/tbrowsys.prg
  * harbour/source/rtl/tscalarl.c
  * harbour/source/rtl/gtchrmap.c
  * harbour/source/rtl/tscalarp.c
  * harbour/source/rtl/oemansix.c
  * harbour/source/rtl/hbrunfun.c
  * harbour/source/rtl/strc.c
  * harbour/source/rtl/gttrm/Makefile
  * harbour/source/rtl/gttrm/gttrm.c
  * harbour/source/rtl/dirscan.prg
  * harbour/source/rtl/tthreadx.prg
  * harbour/source/rtl/tscalara.c
  * harbour/source/rtl/hbhex.c
  * harbour/source/rtl/inkeyapi.c
  * harbour/source/rtl/filebuf.c
  * harbour/source/rtl/tscalaru.c
  * harbour/source/rtl/tmenusys.prg
  * harbour/source/rtl/secondfs.c
  * harbour/source/rtl/hbproces.c
  * harbour/source/rtl/menusys.prg
  * harbour/source/rtl/gtkeycod.c
  * harbour/source/rtl/typefilx.prg
  * harbour/source/rtl/natmsgu.c
  * harbour/source/rtl/thfuncx.prg
  * harbour/source/rtl/tscalarb.c
  * harbour/source/rtl/hbini.prg
  * harbour/source/rtl/tscalar.prg
  * harbour/source/rtl/mouse53.c
  * harbour/source/rtl/hbprocfn.c
  * harbour/source/rtl/tscalarn.c
  * harbour/source/rtl/strtoexp.c
  * harbour/source/rtl/einstvar.prg
  * harbour/source/rtl/hbstrsh.c
  * harbour/source/rtl/gtkbstat.c
  * harbour/source/rtl/hbbit.c
  * harbour/source/rtl/tscalarc.c
  * harbour/source/codepage/cpsv850.c
  * harbour/source/codepage/cpeswinm.c
  * harbour/source/codepage/cpsk852.c
  * harbour/source/codepage/ucmik.c
  * harbour/source/codepage/cpbgmik.c
  * harbour/source/codepage/cpsvwin.c
  * harbour/source/codepage/cpskiso.c
  * harbour/source/codepage/cpskwin.c
  * harbour/source/codepage/cpsvclip.c
  * harbour/source/codepage/cpskkam.c
  * harbour/source/rdd/dbjoinx.prg
  * harbour/source/rdd/dblistx.prg
  * harbour/source/rdd/rddinfo.c
  * harbour/source/rdd/dbtotalx.prg
  * harbour/source/rdd/dbstruxx.prg
  * harbour/source/rdd/dbsortx.prg
  * harbour/source/rdd/dbdetach.c
  * harbour/source/rdd/dbcmdx.c
  * harbour/source/rdd/dbfnsx/dbfnsx1.c
  * harbour/source/rdd/dbfnsx/Makefile
  * harbour/source/rdd/dbdrop.c
  * harbour/source/rdd/dbupdatx.prg
  * harbour/source/rdd/dbcmd53.c
  * harbour/source/rdd/usrrdd/example/exlog.prg
  * harbour/source/rdd/usrrdd/example/exarr.prg
  * harbour/source/rdd/usrrdd/rdds/logrdd.prg
  * harbour/source/rdd/dbfuncsx.prg
  * harbour/source/rdd/dbexists.c
  * harbour/source/rdd/hbsix/sxsem.c
  * harbour/source/rdd/hbsix/sxord.c
  * harbour/source/rdd/hbsix/sxredir.c
  * harbour/source/rdd/hbsix/sxini.prg
  * harbour/source/rdd/hbsix/sxfname.c
  * harbour/source/rdd/hbsix/sxtable.c
  * harbour/source/rdd/hbsix/sxcompat.prg
  * harbour/source/rdd/hbsix/sxtrig.prg
  * harbour/source/rdd/hbsix/sxutil.c
  * harbour/source/rdd/fieldhb.c
  * harbour/source/compiler/compi18n.c
  * harbour/contrib/hbmysql/common.mak
  * harbour/contrib/hbmysql/make_gcc.sh
  * harbour/contrib/hbmysql/make_vc.bat
  * harbour/contrib/make_b32_all.bat
  * harbour/contrib/hbct/screen2.c
  * harbour/contrib/hbct/charsprd.c
  * harbour/contrib/hbct/dbftools.c
  * harbour/contrib/hbct/make_gcc.sh
  * harbour/contrib/hbct/ctrand.prg
  * harbour/contrib/hbct/getsecrt.prg
  * harbour/contrib/hbct/ctdisk.ch
  * harbour/contrib/hbct/keysec.prg
  * harbour/contrib/hbct/maxline.c
  * harbour/contrib/hbct/getinput.prg
  * harbour/contrib/hbct/video.c
  * harbour/contrib/hbct/screen3.prg
  * harbour/contrib/hbct/dattime3.c
  * harbour/contrib/hbct/lton.c
  * harbour/contrib/hbct/cursor.c
  * harbour/contrib/hbct/keytime.prg
  * harbour/contrib/hbct/misc2.c
  * harbour/contrib/hbct/color.c
  * harbour/contrib/hbct/cttime.prg
  * harbour/contrib/hbct/ctvideo.ch
  * harbour/contrib/hbct/showtime.prg
  * harbour/contrib/hbct/numcount.c
  * harbour/contrib/hbct/pack.c
  * harbour/contrib/hbct/setlast.c
  * harbour/contrib/hbct/setrc.c
  * harbour/contrib/hbct/like.c
  * harbour/contrib/hbct/disk.c
  * harbour/contrib/hbct/ctstrfil.c
  * harbour/contrib/hbct/ctstrfil.h
  * harbour/contrib/hbct/getinfo.prg
  * harbour/contrib/hbct/numline.c
  * harbour/contrib/hbct/scrmark.prg
  * harbour/contrib/hbct/dattime2.c
  * harbour/contrib/hbct/keysave.prg
  * harbour/contrib/hbct/common.mak
  * harbour/contrib/hbct/misc3.c
  * harbour/contrib/hbct/expand.c
  * harbour/contrib/hbct/fcopy.prg
  * harbour/contrib/hbct/ctpad.c
  * harbour/contrib/hbct/datetime.c
  * harbour/contrib/hbct/blank.prg
  * harbour/contrib/xhb/hboutdbg.c
  * harbour/contrib/xhb/dbgfx.prg
  * harbour/contrib/xhb/hbcompat.h
  * harbour/contrib/xhb/hblog.ch
  * harbour/contrib/xhb/hbcompat.ch
  * harbour/contrib/xhb/xhbenum.c
  * harbour/contrib/xhb/hblognet.prg
  * harbour/contrib/xhb/hbxml.c
  * harbour/contrib/xhb/xhbmsgs.c
  * harbour/contrib/xhb/xhbqself.c
  * harbour/contrib/xhb/dirrec.prg
  * harbour/contrib/xhb/hbxml.h
  * harbour/contrib/xhb/make_gcc.sh
  * harbour/contrib/xhb/xhbarr.c
  * harbour/contrib/xhb/xhb.h
  * harbour/contrib/xhb/hbctypes.ch
  * harbour/contrib/xhb/xhb.ch
  * harbour/contrib/xhb/hbsyslog.c
  * harbour/contrib/xhb/txml.prg
  * harbour/contrib/xhb/wintypes.ch
  * harbour/contrib/xhb/sprintf.prg
  * harbour/contrib/xhb/Makefile
  * harbour/contrib/xhb/dbgfxc.c
  * harbour/contrib/xhb/cstruct.ch
  * harbour/contrib/xhb/hblog.prg
  * harbour/contrib/xhb/hbstruct.prg
  * harbour/contrib/xhb/xhbcomp.prg
  * harbour/contrib/xhb/hbstruct.ch
  * harbour/contrib/xhb/xhbextrn.ch
  * harbour/contrib/xhb/hbfast.h
  * harbour/contrib/xhb/xhbwith.c
  * harbour/contrib/xhb/hbcomprs.c
  * harbour/contrib/xhb/common.mak
  * harbour/contrib/xhb/hbxml.ch
  * harbour/contrib/xhb/hblogdef.ch
  * harbour/contrib/xhb/cstructc.c
  * harbour/contrib/xhb/xhbfunc.c
  * harbour/contrib/xhb/cstruct.prg
  * harbour/contrib/hbodbc/common.mak
  * harbour/contrib/hbodbc/make_gcc.sh
  * harbour/contrib/hbodbc/make_vc.bat
  * harbour/contrib/hbgt/common.mak
  * harbour/contrib/hbgt/make_gcc.sh
  * harbour/contrib/hbmsql/common.mak
  * harbour/contrib/hbmsql/tests/hbmk_b32.bat
  * harbour/contrib/hbmsql/tests/hbmk_vc.bat
  * harbour/contrib/hbmsql/make_gcc.sh
  * harbour/contrib/hbmsql/make_b32.bat
  * harbour/contrib/hbmsql/make_vc.bat
  * harbour/contrib/mtpl_b32.bat
  * harbour/contrib/mtpl_b32.mak
  * harbour/contrib/hbmzip/crypt.h
  * harbour/contrib/hbmzip/make_gcc.sh
  * harbour/contrib/hbole/common.mak
  * harbour/contrib/hbole/oleauto.prg
  * harbour/contrib/hbole/ole2.c
  * harbour/contrib/hbole/tests/testole.prg
  * harbour/contrib/hbole/tests/hbmk_b32.bat
  * harbour/contrib/hbole/make_gcc.sh
  * harbour/contrib/hbole/make_b32.bat
  * harbour/contrib/hbole/make_vc.bat
  * harbour/contrib/hbole/Makefile
  * harbour/contrib/make_gcc_all.sh
  * harbour/contrib/hbfbird/common.mak
  * harbour/contrib/hbfbird/tests/simple.prg
  * harbour/contrib/hbfbird/tests/test.prg
  * harbour/contrib/hbfbird/tests/stress.prg
  * harbour/contrib/hbfbird/tests/testapi.c
  * harbour/contrib/hbfbird/tests/hbmk_b32.bat
  * harbour/contrib/hbfbird/tests/Makefile
  * harbour/contrib/hbfbird/make_gcc.sh
  * harbour/contrib/hbfbird/firebird.c
  * harbour/contrib/hbfbird/make_b32.bat
  * harbour/contrib/hbfbird/tfirebrd.prg
  * harbour/contrib/hbfbird/make_vc.bat
  * harbour/contrib/hbfbird/readme.txt
  * harbour/contrib/hbfbird/Makefile
  * harbour/contrib/hbapollo/common.mak
  * harbour/contrib/hbapollo/make_gcc.sh
  * harbour/contrib/hbapollo/make_vc.bat
  * harbour/contrib/make_vc_all.bat
  * harbour/contrib/hbziparc/common.mak
  * harbour/contrib/hbziparc/make_gcc.sh
  * harbour/contrib/hbnf/ftshadow.c
  * harbour/contrib/hbnf/make_gcc.sh
  * harbour/contrib/hbnf/iamidle.c
  * harbour/contrib/hbnf/fttext.c
  * harbour/contrib/hbnf/setkeys.c
  * harbour/contrib/hbnf/common.mak
  * harbour/contrib/hbnf/ftisprn.c
  * harbour/contrib/hbnf/putkey.c
  * harbour/contrib/hbnf/setlastk.c
  * harbour/contrib/rddsql/sddfb/Makefile
  * harbour/contrib/hbhpdf/tests/harupdf.prg
  * harbour/contrib/hbhpdf/tests/files/cp936.txt
  * harbour/contrib/hbhpdf/tests/files/elic_jp.txt
  * harbour/contrib/hbhpdf/tests/files/sjis.txt
  * harbour/contrib/hbhpdf/tests/files/euc.txt
  * harbour/contrib/hbhpdf/tests/files/cp932.txt
  * harbour/contrib/hbhpdf/harupdf.ch
  * harbour/contrib/hbhpdf/harupdf.c
  * harbour/contrib/rddado/common.mak
  * harbour/contrib/rddado/make_gcc.sh
  * harbour/contrib/rddado/make_vc.bat
  * harbour/contrib/gtwvg/wvgdlg.prg
  * harbour/contrib/gtwvg/gtwvg.h
  * harbour/contrib/gtwvg/wvglistb.prg
  * harbour/contrib/gtwvg/make_b32.bat
  * harbour/contrib/gtwvg/wvgmle.prg
  * harbour/contrib/gtwvg/wvggui.c
  * harbour/contrib/gtwvg/wvgtoolb.prg
  * harbour/contrib/gtwvg/wvgpushb.prg
  * harbour/contrib/gtwvg/wvggui.h
  * harbour/contrib/gtwvg/wvgsle.prg
  * harbour/contrib/gtwvg/wvgtreev.prg
  * harbour/contrib/gtwvg/make_gcc.sh
  * harbour/contrib/gtwvg/tests/demoxbp.prg
  * harbour/contrib/gtwvg/tests/demowvg.prg
  * harbour/contrib/gtwvg/wvgdatar.prg
  * harbour/contrib/gtwvg/wvgradio.prg
  * harbour/contrib/gtwvg/make_vc.bat
  * harbour/contrib/gtwvg/wincallb.c
  * harbour/contrib/gtwvg/Makefile
  * harbour/contrib/gtwvg/wvgsysw.prg
  * harbour/contrib/gtwvg/wvgmenub.prg
  * harbour/contrib/gtwvg/wvgbitmp.prg
  * harbour/contrib/gtwvg/wvtwin.ch
  * harbour/contrib/gtwvg/wvgcheck.prg
  * harbour/contrib/gtwvg/wvgstatb.prg
  * harbour/contrib/gtwvg/wvgstatc.prg
  * harbour/contrib/gtwvg/common.mak
  * harbour/contrib/gtwvg/hbgtwvg.ch
  * harbour/contrib/gtwvg/wvghtmlv.prg
  * harbour/contrib/gtwvg/wvgparts.ch
  * harbour/contrib/gtwvg/wincback.prg
  * harbour/contrib/gtwvg/wvg3stat.prg
  * harbour/contrib/gtwvg/wvgcombo.prg
  * harbour/contrib/mtpl_gcc.mak
  * harbour/contrib/hbpgsql/common.mak
  * harbour/contrib/hbpgsql/tests/hbmk_b32.bat
  * harbour/contrib/hbpgsql/make_gcc.sh
  * harbour/contrib/hbpgsql/make_vc.bat
  * harbour/contrib/rddads/unixutils.h
  * harbour/contrib/rddads/common.mak
  * harbour/contrib/rddads/make_gcc.sh
  * harbour/contrib/mtpl_gcc.sh
  * harbour/contrib/hbclipsm/common.mak
  * harbour/contrib/hbclipsm/make_gcc.sh
  * harbour/contrib/hbclipsm/make_vc.bat
  * harbour/contrib/hbfimage/common.mak
  * harbour/contrib/hbfimage/tests/fitest.prg
  * harbour/contrib/hbfimage/tests/hbmk_b32.bat
  * harbour/contrib/hbfimage/make_gcc.sh
  * harbour/contrib/hbfimage/fi_winfu.c
  * harbour/contrib/hbfimage/fi_wrp.c
  * harbour/contrib/hbfimage/make_b32.bat
  * harbour/contrib/hbfimage/make_vc.bat
  * harbour/contrib/hbfimage/readme.txt
  * harbour/contrib/hbfimage/Makefile
  * harbour/contrib/hbfimage/freeimage.ch
  * harbour/contrib/hbgd/common.mak
  * harbour/contrib/hbgd/make_gcc.sh
  * harbour/contrib/hbgd/make_vc.bat
  * harbour/contrib/hbmisc/common.mak
  * harbour/contrib/hbmisc/make_gcc.sh
  * harbour/contrib/hbtip/encurl.prg
  * harbour/contrib/hbtip/thtml.prg
  * harbour/contrib/hbtip/thtml.ch
  * harbour/contrib/hbtip/utils.c
  * harbour/contrib/hbtip/popcln.prg
  * harbour/contrib/hbtip/sendmail.prg
  * harbour/contrib/hbtip/tip.ch
  * harbour/contrib/hbtip/cgi.prg
  * harbour/contrib/hbtip/url.prg
  * harbour/contrib/hbtip/encqp.prg
  * harbour/contrib/hbtip/base64x.c
  * harbour/contrib/hbtip/common.mak
  * harbour/contrib/hbtip/make_gcc.sh
  * harbour/contrib/hbtip/httpcln.prg
  * harbour/contrib/hbtip/encmthd.c
  * harbour/contrib/hbtip/client.prg
  * harbour/contrib/hbtip/encoder.prg
  * harbour/contrib/hbtip/smtpcln.prg
  * harbour/contrib/hbtip/encb64.prg
  * harbour/contrib/hbtip/mail.prg
  * harbour/contrib/hbtip/credent.prg
  * harbour/contrib/hbtip/ftpcln.prg
  * harbour/contrib/hbtip/Makefile
  * harbour/contrib/hbgf/hbgfwin/common.mak
  * harbour/contrib/hbbmcdx/common.mak
  * harbour/contrib/hbbmcdx/make_gcc.sh
  * harbour/contrib/hbbmcdx/make_vc.bat
  * harbour/contrib/hbwin/win_prn2.c
  * harbour/contrib/hbwin/win_tprn.prg
  * harbour/contrib/hbwin/common.mak
  * harbour/contrib/hbwin/tests/testole.prg
  * harbour/contrib/hbwin/tests/testprn.prg
  * harbour/contrib/hbwin/make_gcc.sh
  * harbour/contrib/hbwin/Makefile
  * harbour/contrib/hbwin/win_prn1.c
  * harbour/contrib/mtpl_vc.bat
  * harbour/contrib/mtpl_vc.mak
  * harbour/contrib/hbbtree/common.mak
  * harbour/contrib/hbbtree/make_gcc.sh
  * harbour/contrib/hbbtree/make_vc.bat
  * harbour/contrib/hbwhat/debug.ch
  * harbour/contrib/hbwhat/whtdate.c
  * harbour/contrib/hbwhat/whtini.c
  * harbour/contrib/hbwhat/make_b32.bat
  * harbour/contrib/hbwhat/whticon.c
  * harbour/contrib/hbwhat/whtcret.c
  * harbour/contrib/hbwhat/make_gcc.sh
  * harbour/contrib/hbwhat/whtsock.c
  * harbour/contrib/hbwhat/whthead.c
  * harbour/contrib/hbwhat/whtseria.c
  * harbour/contrib/hbwhat/sqltypes.ch
  * harbour/contrib/hbwhat/Makefile
  * harbour/contrib/hbwhat/whtilst.c
  * harbour/contrib/hbwhat/whtreg.c
  * harbour/contrib/hbwhat/whtmem.c
  * harbour/contrib/hbwhat/whtclpb.c
  * harbour/contrib/hbwhat/winini.prg
  * harbour/contrib/hbwhat/whtmous.c
  * harbour/contrib/hbwhat/whatutil.prg
  * harbour/contrib/hbwhat/whtrgn.c
  * harbour/contrib/hbwhat/whtmeta.c
  * harbour/contrib/hbwhat/whtmapi.c
  * harbour/contrib/hbwhat/winrbar.prg
  * harbour/contrib/hbwhat/whttbar.c
  * harbour/contrib/hbwhat/winerror.prg
  * harbour/contrib/hbwhat/whtrect.c
  * harbour/contrib/hbwhat/whtbrsh.c
  * harbour/contrib/hbwhat/import.ch
  * harbour/contrib/hbwhat/whtgdi.c
  * harbour/contrib/hbwhat/winstruc.ch
  * harbour/contrib/hbwhat/whtscrlb.c
  * harbour/contrib/hbwhat/whtdlg.c
  * harbour/contrib/hbwhat/whtview.c
  * harbour/contrib/hbwhat/whtsys.c
  * harbour/contrib/hbwhat/whtlv.c
  * harbour/contrib/hbwhat/whtmain.c
  * harbour/contrib/hbwhat/whtwnd.c
  * harbour/contrib/hbwhat/wintabs.prg
  * harbour/contrib/hbwhat/whtmisc.c
  * harbour/contrib/hbwhat/whtcomm.c
  * harbour/contrib/hbwhat/wincomm.prg
  * harbour/contrib/hbwhat/whtmmcap.c
  * harbour/contrib/hbwhat/tests/whatdemo.prg
  * harbour/contrib/hbwhat/whtprn.c
  * harbour/contrib/hbwhat/whtinet.c
  * harbour/contrib/hbwhat/hbwhat.ch
  * harbour/contrib/hbwhat/whttab.c
  * harbour/contrib/hbwhat/make_vc.bat
  * harbour/contrib/hbwhat/whtfont.c
  * harbour/contrib/hbwhat/whtshell.c
  * harbour/contrib/hbwhat/commdlg.ch
  * harbour/contrib/hbwhat/whtcdlg.c
  * harbour/contrib/hbwhat/wincdlg.prg
  * harbour/contrib/hbwhat/whtbmp.c
  * harbour/contrib/hbwhat/whtdir.c
  * harbour/contrib/hbwhat/winuser.ch
  * harbour/contrib/hbwhat/whtpen.c
  * harbour/contrib/hbwhat/whtkbrd.c
  * harbour/contrib/hbwhat/whttext.c
  * harbour/contrib/hbwhat/whtdc.c
  * harbour/contrib/hbwhat/whtmsg.c
  * harbour/contrib/hbwhat/windebug.prg
  * harbour/contrib/hbwhat/wincore.prg
  * harbour/contrib/hbwhat/wintbar.prg
  * harbour/contrib/hbwhat/common.mak
  * harbour/contrib/hbwhat/whtdraw.c
  * harbour/contrib/hbwhat/whttree.c
  * harbour/contrib/hbwhat/wininet.ch
  * harbour/contrib/hbwhat/whtmenu.c
  * harbour/contrib/hbwhat/commctrl.ch
  * harbour/contrib/hbwhat/wingdi.ch
  * harbour/contrib/examples/pe/pe.prg
  * harbour/contrib/examples/pe/hbmk_b32.bat
  * harbour/contrib/examples/uhttpd/cookie.prg
  * harbour/contrib/examples/uhttpd/cgifunc.prg
  * harbour/contrib/examples/uhttpd/modules/cookie.prg
  * harbour/contrib/examples/dbu/readme.txt
  * harbour/contrib/examples/dbu/hbmk_b32.bat
  * harbour/contrib/examples/dbu/Makefile
  * harbour/utils/hbmake/hbmfrdln.c
  * harbour/utils/hbtest/rt_mt.prg
  * harbour/utils/hbi18n/hbi18n.prg
  * harbour/utils/hbi18n/Makefile
  * harbour/make_gcc.mak
  * harbour/config/none.cf
  * harbour/config/w32/mingwce.cf
  * harbour/config/w32/owatcom.cf
  * harbour/config/w32/pocc.cf
    * svn ps svn:keywords "Author Date Id Revision"

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmsql/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmsql/tests/hbmk_vc.bat
    trunk/harbour/contrib/xhb/dbgfx.prg
    trunk/harbour/contrib/xhb/dbgfxc.c
    trunk/harbour/contrib/xhb/hbstruct.ch
    trunk/harbour/contrib/xhb/hbstruct.prg
    trunk/harbour/contrib/xhb/sprintf.prg
    trunk/harbour/contrib/xhb/xhb.h
    trunk/harbour/source/common/hbprintf.c
    trunk/harbour/source/rdd/usrrdd/example/exlog.prg
    trunk/harbour/source/rdd/usrrdd/rdds/logrdd.prg

Property Changed:
----------------
    trunk/harbour/config/none.cf
    trunk/harbour/config/w32/mingwce.cf
    trunk/harbour/config/w32/owatcom.cf
    trunk/harbour/config/w32/pocc.cf
    trunk/harbour/contrib/examples/dbu/Makefile
    trunk/harbour/contrib/examples/dbu/hbmk_b32.bat
    trunk/harbour/contrib/examples/dbu/readme.txt
    trunk/harbour/contrib/examples/pe/hbmk_b32.bat
    trunk/harbour/contrib/examples/pe/pe.prg
    trunk/harbour/contrib/examples/uhttpd/cgifunc.prg
    trunk/harbour/contrib/examples/uhttpd/cookie.prg
    trunk/harbour/contrib/examples/uhttpd/modules/cookie.prg
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/common.mak
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/hbgtwvg.ch
    trunk/harbour/contrib/gtwvg/make_b32.bat
    trunk/harbour/contrib/gtwvg/make_gcc.sh
    trunk/harbour/contrib/gtwvg/make_vc.bat
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/gtwvg/tests/demoxbp.prg
    trunk/harbour/contrib/gtwvg/wincallb.c
    trunk/harbour/contrib/gtwvg/wincback.prg
    trunk/harbour/contrib/gtwvg/wvg3stat.prg
    trunk/harbour/contrib/gtwvg/wvgbitmp.prg
    trunk/harbour/contrib/gtwvg/wvgcheck.prg
    trunk/harbour/contrib/gtwvg/wvgcombo.prg
    trunk/harbour/contrib/gtwvg/wvgdatar.prg
    trunk/harbour/contrib/gtwvg/wvgdlg.prg
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvghtmlv.prg
    trunk/harbour/contrib/gtwvg/wvglistb.prg
    trunk/harbour/contrib/gtwvg/wvgmenub.prg
    trunk/harbour/contrib/gtwvg/wvgmle.prg
    trunk/harbour/contrib/gtwvg/wvgparts.ch
    trunk/harbour/contrib/gtwvg/wvgpushb.prg
    trunk/harbour/contrib/gtwvg/wvgradio.prg
    trunk/harbour/contrib/gtwvg/wvgsle.prg
    trunk/harbour/contrib/gtwvg/wvgstatb.prg
    trunk/harbour/contrib/gtwvg/wvgstatc.prg
    trunk/harbour/contrib/gtwvg/wvgsysw.prg
    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
    trunk/harbour/contrib/gtwvg/wvgtreev.prg
    trunk/harbour/contrib/gtwvg/wvtwin.ch
    trunk/harbour/contrib/hbapollo/common.mak
    trunk/harbour/contrib/hbapollo/make_gcc.sh
    trunk/harbour/contrib/hbapollo/make_vc.bat
    trunk/harbour/contrib/hbbmcdx/common.mak
    trunk/harbour/contrib/hbbmcdx/make_gcc.sh
    trunk/harbour/contrib/hbbmcdx/make_vc.bat
    trunk/harbour/contrib/hbbtree/common.mak
    trunk/harbour/contrib/hbbtree/make_gcc.sh
    trunk/harbour/contrib/hbbtree/make_vc.bat
    trunk/harbour/contrib/hbclipsm/common.mak
    trunk/harbour/contrib/hbclipsm/make_gcc.sh
    trunk/harbour/contrib/hbclipsm/make_vc.bat
    trunk/harbour/contrib/hbct/blank.prg
    trunk/harbour/contrib/hbct/charsprd.c
    trunk/harbour/contrib/hbct/color.c
    trunk/harbour/contrib/hbct/common.mak
    trunk/harbour/contrib/hbct/ctdisk.ch
    trunk/harbour/contrib/hbct/ctpad.c
    trunk/harbour/contrib/hbct/ctrand.prg
    trunk/harbour/contrib/hbct/ctstrfil.c
    trunk/harbour/contrib/hbct/ctstrfil.h
    trunk/harbour/contrib/hbct/cttime.prg
    trunk/harbour/contrib/hbct/ctvideo.ch
    trunk/harbour/contrib/hbct/cursor.c
    trunk/harbour/contrib/hbct/datetime.c
    trunk/harbour/contrib/hbct/dattime2.c
    trunk/harbour/contrib/hbct/dattime3.c
    trunk/harbour/contrib/hbct/dbftools.c
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbct/expand.c
    trunk/harbour/contrib/hbct/fcopy.prg
    trunk/harbour/contrib/hbct/getinfo.prg
    trunk/harbour/contrib/hbct/getinput.prg
    trunk/harbour/contrib/hbct/getsecrt.prg
    trunk/harbour/contrib/hbct/keysave.prg
    trunk/harbour/contrib/hbct/keysec.prg
    trunk/harbour/contrib/hbct/keytime.prg
    trunk/harbour/contrib/hbct/like.c
    trunk/harbour/contrib/hbct/lton.c
    trunk/harbour/contrib/hbct/make_gcc.sh
    trunk/harbour/contrib/hbct/maxline.c
    trunk/harbour/contrib/hbct/misc2.c
    trunk/harbour/contrib/hbct/misc3.c
    trunk/harbour/contrib/hbct/numcount.c
    trunk/harbour/contrib/hbct/numline.c
    trunk/harbour/contrib/hbct/pack.c
    trunk/harbour/contrib/hbct/screen2.c
    trunk/harbour/contrib/hbct/screen3.prg
    trunk/harbour/contrib/hbct/scrmark.prg
    trunk/harbour/contrib/hbct/setlast.c
    trunk/harbour/contrib/hbct/setrc.c
    trunk/harbour/contrib/hbct/showtime.prg
    trunk/harbour/contrib/hbct/video.c
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfbird/common.mak
    trunk/harbour/contrib/hbfbird/firebird.c
    trunk/harbour/contrib/hbfbird/make_b32.bat
    trunk/harbour/contrib/hbfbird/make_gcc.sh
    trunk/harbour/contrib/hbfbird/make_vc.bat
    trunk/harbour/contrib/hbfbird/readme.txt
    trunk/harbour/contrib/hbfbird/tests/Makefile
    trunk/harbour/contrib/hbfbird/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbfbird/tests/simple.prg
    trunk/harbour/contrib/hbfbird/tests/stress.prg
    trunk/harbour/contrib/hbfbird/tests/test.prg
    trunk/harbour/contrib/hbfbird/tests/testapi.c
    trunk/harbour/contrib/hbfbird/tfirebrd.prg
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbfimage/common.mak
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/contrib/hbfimage/freeimage.ch
    trunk/harbour/contrib/hbfimage/make_b32.bat
    trunk/harbour/contrib/hbfimage/make_gcc.sh
    trunk/harbour/contrib/hbfimage/make_vc.bat
    trunk/harbour/contrib/hbfimage/readme.txt
    trunk/harbour/contrib/hbfimage/tests/fitest.prg
    trunk/harbour/contrib/hbfimage/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbgd/common.mak
    trunk/harbour/contrib/hbgd/make_gcc.sh
    trunk/harbour/contrib/hbgd/make_vc.bat
    trunk/harbour/contrib/hbgf/hbgfwin/common.mak
    trunk/harbour/contrib/hbgt/common.mak
    trunk/harbour/contrib/hbgt/make_gcc.sh
    trunk/harbour/contrib/hbhpdf/harupdf.c
    trunk/harbour/contrib/hbhpdf/harupdf.ch
    trunk/harbour/contrib/hbhpdf/tests/files/cp932.txt
    trunk/harbour/contrib/hbhpdf/tests/files/cp936.txt
    trunk/harbour/contrib/hbhpdf/tests/files/elic_jp.txt
    trunk/harbour/contrib/hbhpdf/tests/files/euc.txt
    trunk/harbour/contrib/hbhpdf/tests/files/sjis.txt
    trunk/harbour/contrib/hbhpdf/tests/harupdf.prg
    trunk/harbour/contrib/hbmisc/common.mak
    trunk/harbour/contrib/hbmisc/make_gcc.sh
    trunk/harbour/contrib/hbmsql/common.mak
    trunk/harbour/contrib/hbmsql/make_b32.bat
    trunk/harbour/contrib/hbmsql/make_gcc.sh
    trunk/harbour/contrib/hbmsql/make_vc.bat
    trunk/harbour/contrib/hbmsql/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmsql/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbmysql/common.mak
    trunk/harbour/contrib/hbmysql/make_gcc.sh
    trunk/harbour/contrib/hbmysql/make_vc.bat
    trunk/harbour/contrib/hbmzip/crypt.h
    trunk/harbour/contrib/hbmzip/make_gcc.sh
    trunk/harbour/contrib/hbnf/common.mak
    trunk/harbour/contrib/hbnf/ftisprn.c
    trunk/harbour/contrib/hbnf/ftshadow.c
    trunk/harbour/contrib/hbnf/fttext.c
    trunk/harbour/contrib/hbnf/iamidle.c
    trunk/harbour/contrib/hbnf/make_gcc.sh
    trunk/harbour/contrib/hbnf/putkey.c
    trunk/harbour/contrib/hbnf/setkeys.c
    trunk/harbour/contrib/hbnf/setlastk.c
    trunk/harbour/contrib/hbodbc/common.mak
    trunk/harbour/contrib/hbodbc/make_gcc.sh
    trunk/harbour/contrib/hbodbc/make_vc.bat
    trunk/harbour/contrib/hbole/Makefile
    trunk/harbour/contrib/hbole/common.mak
    trunk/harbour/contrib/hbole/make_b32.bat
    trunk/harbour/contrib/hbole/make_gcc.sh
    trunk/harbour/contrib/hbole/make_vc.bat
    trunk/harbour/contrib/hbole/ole2.c
    trunk/harbour/contrib/hbole/oleauto.prg
    trunk/harbour/contrib/hbole/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbole/tests/testole.prg
    trunk/harbour/contrib/hbpgsql/common.mak
    trunk/harbour/contrib/hbpgsql/make_gcc.sh
    trunk/harbour/contrib/hbpgsql/make_vc.bat
    trunk/harbour/contrib/hbpgsql/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/hbtip/base64x.c
    trunk/harbour/contrib/hbtip/cgi.prg
    trunk/harbour/contrib/hbtip/client.prg
    trunk/harbour/contrib/hbtip/common.mak
    trunk/harbour/contrib/hbtip/credent.prg
    trunk/harbour/contrib/hbtip/encb64.prg
    trunk/harbour/contrib/hbtip/encmthd.c
    trunk/harbour/contrib/hbtip/encoder.prg
    trunk/harbour/contrib/hbtip/encqp.prg
    trunk/harbour/contrib/hbtip/encurl.prg
    trunk/harbour/contrib/hbtip/ftpcln.prg
    trunk/harbour/contrib/hbtip/httpcln.prg
    trunk/harbour/contrib/hbtip/mail.prg
    trunk/harbour/contrib/hbtip/make_gcc.sh
    trunk/harbour/contrib/hbtip/popcln.prg
    trunk/harbour/contrib/hbtip/sendmail.prg
    trunk/harbour/contrib/hbtip/smtpcln.prg
    trunk/harbour/contrib/hbtip/thtml.ch
    trunk/harbour/contrib/hbtip/thtml.prg
    trunk/harbour/contrib/hbtip/tip.ch
    trunk/harbour/contrib/hbtip/url.prg
    trunk/harbour/contrib/hbtip/utils.c
    trunk/harbour/contrib/hbwhat/Makefile
    trunk/harbour/contrib/hbwhat/commctrl.ch
    trunk/harbour/contrib/hbwhat/commdlg.ch
    trunk/harbour/contrib/hbwhat/common.mak
    trunk/harbour/contrib/hbwhat/debug.ch
    trunk/harbour/contrib/hbwhat/hbwhat.ch
    trunk/harbour/contrib/hbwhat/import.ch
    trunk/harbour/contrib/hbwhat/make_b32.bat
    trunk/harbour/contrib/hbwhat/make_gcc.sh
    trunk/harbour/contrib/hbwhat/make_vc.bat
    trunk/harbour/contrib/hbwhat/sqltypes.ch
    trunk/harbour/contrib/hbwhat/tests/whatdemo.prg
    trunk/harbour/contrib/hbwhat/whatutil.prg
    trunk/harbour/contrib/hbwhat/whtbmp.c
    trunk/harbour/contrib/hbwhat/whtbrsh.c
    trunk/harbour/contrib/hbwhat/whtcdlg.c
    trunk/harbour/contrib/hbwhat/whtclpb.c
    trunk/harbour/contrib/hbwhat/whtcomm.c
    trunk/harbour/contrib/hbwhat/whtcret.c
    trunk/harbour/contrib/hbwhat/whtdate.c
    trunk/harbour/contrib/hbwhat/whtdc.c
    trunk/harbour/contrib/hbwhat/whtdir.c
    trunk/harbour/contrib/hbwhat/whtdlg.c
    trunk/harbour/contrib/hbwhat/whtdraw.c
    trunk/harbour/contrib/hbwhat/whtfont.c
    trunk/harbour/contrib/hbwhat/whtgdi.c
    trunk/harbour/contrib/hbwhat/whthead.c
    trunk/harbour/contrib/hbwhat/whticon.c
    trunk/harbour/contrib/hbwhat/whtilst.c
    trunk/harbour/contrib/hbwhat/whtinet.c
    trunk/harbour/contrib/hbwhat/whtini.c
    trunk/harbour/contrib/hbwhat/whtkbrd.c
    trunk/harbour/contrib/hbwhat/whtlv.c
    trunk/harbour/contrib/hbwhat/whtmain.c
    trunk/harbour/contrib/hbwhat/whtmapi.c
    trunk/harbour/contrib/hbwhat/whtmem.c
    trunk/harbour/contrib/hbwhat/whtmenu.c
    trunk/harbour/contrib/hbwhat/whtmeta.c
    trunk/harbour/contrib/hbwhat/whtmisc.c
    trunk/harbour/contrib/hbwhat/whtmmcap.c
    trunk/harbour/contrib/hbwhat/whtmous.c
    trunk/harbour/contrib/hbwhat/whtmsg.c
    trunk/harbour/contrib/hbwhat/whtpen.c
    trunk/harbour/contrib/hbwhat/whtprn.c
    trunk/harbour/contrib/hbwhat/whtrect.c
    trunk/harbour/contrib/hbwhat/whtreg.c
    trunk/harbour/contrib/hbwhat/whtrgn.c
    trunk/harbour/contrib/hbwhat/whtscrlb.c
    trunk/harbour/contrib/hbwhat/whtseria.c
    trunk/harbour/contrib/hbwhat/whtshell.c
    trunk/harbour/contrib/hbwhat/whtsock.c
    trunk/harbour/contrib/hbwhat/whtsys.c
    trunk/harbour/contrib/hbwhat/whttab.c
    trunk/harbour/contrib/hbwhat/whttbar.c
    trunk/harbour/contrib/hbwhat/whttext.c
    trunk/harbour/contrib/hbwhat/whttree.c
    trunk/harbour/contrib/hbwhat/whtview.c
    trunk/harbour/contrib/hbwhat/whtwnd.c
    trunk/harbour/contrib/hbwhat/wincdlg.prg
    trunk/harbour/contrib/hbwhat/wincomm.prg
    trunk/harbour/contrib/hbwhat/wincore.prg
    trunk/harbour/contrib/hbwhat/windebug.prg
    trunk/harbour/contrib/hbwhat/winerror.prg
    trunk/harbour/contrib/hbwhat/wingdi.ch
    trunk/harbour/contrib/hbwhat/wininet.ch
    trunk/harbour/contrib/hbwhat/winini.prg
    trunk/harbour/contrib/hbwhat/winrbar.prg
    trunk/harbour/contrib/hbwhat/winstruc.ch
    trunk/harbour/contrib/hbwhat/wintabs.prg
    trunk/harbour/contrib/hbwhat/wintbar.prg
    trunk/harbour/contrib/hbwhat/winuser.ch
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/common.mak
    trunk/harbour/contrib/hbwin/make_gcc.sh
    trunk/harbour/contrib/hbwin/tests/testole.prg
    trunk/harbour/contrib/hbwin/tests/testprn.prg
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_tprn.prg
    trunk/harbour/contrib/hbziparc/common.mak
    trunk/harbour/contrib/hbziparc/make_gcc.sh
    trunk/harbour/contrib/make_b32_all.bat
    trunk/harbour/contrib/make_gcc_all.sh
    trunk/harbour/contrib/make_vc_all.bat
    trunk/harbour/contrib/mtpl_b32.bat
    trunk/harbour/contrib/mtpl_b32.mak
    trunk/harbour/contrib/mtpl_gcc.mak
    trunk/harbour/contrib/mtpl_gcc.sh
    trunk/harbour/contrib/mtpl_vc.bat
    trunk/harbour/contrib/mtpl_vc.mak
    trunk/harbour/contrib/rddado/common.mak
    trunk/harbour/contrib/rddado/make_gcc.sh
    trunk/harbour/contrib/rddado/make_vc.bat
    trunk/harbour/contrib/rddads/common.mak
    trunk/harbour/contrib/rddads/make_gcc.sh
    trunk/harbour/contrib/rddads/unixutils.h
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/contrib/xhb/common.mak
    trunk/harbour/contrib/xhb/cstruct.ch
    trunk/harbour/contrib/xhb/cstruct.prg
    trunk/harbour/contrib/xhb/cstructc.c
    trunk/harbour/contrib/xhb/dbgfx.prg
    trunk/harbour/contrib/xhb/dbgfxc.c
    trunk/harbour/contrib/xhb/dirrec.prg
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/contrib/xhb/hbcompat.h
    trunk/harbour/contrib/xhb/hbcomprs.c
    trunk/harbour/contrib/xhb/hbctypes.ch
    trunk/harbour/contrib/xhb/hbfast.h
    trunk/harbour/contrib/xhb/hblog.ch
    trunk/harbour/contrib/xhb/hblog.prg
    trunk/harbour/contrib/xhb/hblogdef.ch
    trunk/harbour/contrib/xhb/hblognet.prg
    trunk/harbour/contrib/xhb/hboutdbg.c
    trunk/harbour/contrib/xhb/hbstruct.ch
    trunk/harbour/contrib/xhb/hbstruct.prg
    trunk/harbour/contrib/xhb/hbsyslog.c
    trunk/harbour/contrib/xhb/hbxml.c
    trunk/harbour/contrib/xhb/hbxml.ch
    trunk/harbour/contrib/xhb/hbxml.h
    trunk/harbour/contrib/xhb/make_gcc.sh
    trunk/harbour/contrib/xhb/sprintf.prg
    trunk/harbour/contrib/xhb/txml.prg
    trunk/harbour/contrib/xhb/wintypes.ch
    trunk/harbour/contrib/xhb/xhb.ch
    trunk/harbour/contrib/xhb/xhb.h
    trunk/harbour/contrib/xhb/xhbarr.c
    trunk/harbour/contrib/xhb/xhbcomp.prg
    trunk/harbour/contrib/xhb/xhbenum.c
    trunk/harbour/contrib/xhb/xhbextrn.ch
    trunk/harbour/contrib/xhb/xhbfunc.c
    trunk/harbour/contrib/xhb/xhbmsgs.c
    trunk/harbour/contrib/xhb/xhbqself.c
    trunk/harbour/contrib/xhb/xhbwith.c
    trunk/harbour/doc/howtobld.txt
    trunk/harbour/doc/howtosvn.txt
    trunk/harbour/include/hbassert.h
    trunk/harbour/include/hbatomic.h
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/include/hbsix.ch
    trunk/harbour/include/hbsxdef.ch
    trunk/harbour/include/hbthread.ch
    trunk/harbour/include/hbthread.h
    trunk/harbour/include/hbvmint.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/include/hbwmain.c
    trunk/harbour/make_gcc.mak
    trunk/harbour/make_gcc.sh
    trunk/harbour/make_gnu_os2.cmd
    trunk/harbour/make_gnu_xmingwce.sh
    trunk/harbour/mpkg_deb.sh
    trunk/harbour/mpkg_rpm_wce.sh
    trunk/harbour/mpkg_rpm_win.sh
    trunk/harbour/source/codepage/cpbgmik.c
    trunk/harbour/source/codepage/cpeswinm.c
    trunk/harbour/source/codepage/cpsk852.c
    trunk/harbour/source/codepage/cpskiso.c
    trunk/harbour/source/codepage/cpskkam.c
    trunk/harbour/source/codepage/cpskwin.c
    trunk/harbour/source/codepage/cpsv850.c
    trunk/harbour/source/codepage/cpsvclip.c
    trunk/harbour/source/codepage/cpsvwin.c
    trunk/harbour/source/codepage/ucmik.c
    trunk/harbour/source/common/hbfopen.c
    trunk/harbour/source/common/hbprintf.c
    trunk/harbour/source/common/hbwince.c
    trunk/harbour/source/compiler/compi18n.c
    trunk/harbour/source/debug/dbgtinp.prg
    trunk/harbour/source/hbextern/Makefile
    trunk/harbour/source/hbextern/hbextern.prg
    trunk/harbour/source/lang/msgptiso.c
    trunk/harbour/source/rdd/dbcmd53.c
    trunk/harbour/source/rdd/dbcmdx.c
    trunk/harbour/source/rdd/dbdetach.c
    trunk/harbour/source/rdd/dbdrop.c
    trunk/harbour/source/rdd/dbexists.c
    trunk/harbour/source/rdd/dbfnsx/Makefile
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfuncsx.prg
    trunk/harbour/source/rdd/dbjoinx.prg
    trunk/harbour/source/rdd/dblistx.prg
    trunk/harbour/source/rdd/dbsortx.prg
    trunk/harbour/source/rdd/dbstruxx.prg
    trunk/harbour/source/rdd/dbtotalx.prg
    trunk/harbour/source/rdd/dbupdatx.prg
    trunk/harbour/source/rdd/fieldhb.c
    trunk/harbour/source/rdd/hbsix/sxcompat.prg
    trunk/harbour/source/rdd/hbsix/sxfname.c
    trunk/harbour/source/rdd/hbsix/sxini.prg
    trunk/harbour/source/rdd/hbsix/sxord.c
    trunk/harbour/source/rdd/hbsix/sxredir.c
    trunk/harbour/source/rdd/hbsix/sxsem.c
    trunk/harbour/source/rdd/hbsix/sxtable.c
    trunk/harbour/source/rdd/hbsix/sxtrig.prg
    trunk/harbour/source/rdd/hbsix/sxutil.c
    trunk/harbour/source/rdd/rddinfo.c
    trunk/harbour/source/rdd/usrrdd/example/exarr.prg
    trunk/harbour/source/rdd/usrrdd/example/exlog.prg
    trunk/harbour/source/rdd/usrrdd/rdds/logrdd.prg
    trunk/harbour/source/rtl/dirscan.prg
    trunk/harbour/source/rtl/einstvar.prg
    trunk/harbour/source/rtl/filebuf.c
    trunk/harbour/source/rtl/getsys53.prg
    trunk/harbour/source/rtl/gtchrmap.c
    trunk/harbour/source/rtl/gtkbstat.c
    trunk/harbour/source/rtl/gtkeycod.c
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gttrm/gttrm.c
    trunk/harbour/source/rtl/gui.prg
    trunk/harbour/source/rtl/hbbit.c
    trunk/harbour/source/rtl/hbfile.c
    trunk/harbour/source/rtl/hbhex.c
    trunk/harbour/source/rtl/hbi18n2.prg
    trunk/harbour/source/rtl/hbini.prg
    trunk/harbour/source/rtl/hbproces.c
    trunk/harbour/source/rtl/hbprocfn.c
    trunk/harbour/source/rtl/hbrunfun.c
    trunk/harbour/source/rtl/hbstrsh.c
    trunk/harbour/source/rtl/inkeyapi.c
    trunk/harbour/source/rtl/menusys.prg
    trunk/harbour/source/rtl/mouse53.c
    trunk/harbour/source/rtl/natmsgu.c
    trunk/harbour/source/rtl/oemansix.c
    trunk/harbour/source/rtl/secondfs.c
    trunk/harbour/source/rtl/strc.c
    trunk/harbour/source/rtl/strtoexp.c
    trunk/harbour/source/rtl/tbrowsys.prg
    trunk/harbour/source/rtl/thfuncx.prg
    trunk/harbour/source/rtl/tmenusys.prg
    trunk/harbour/source/rtl/tscalar.prg
    trunk/harbour/source/rtl/tscalara.c
    trunk/harbour/source/rtl/tscalarb.c
    trunk/harbour/source/rtl/tscalarc.c
    trunk/harbour/source/rtl/tscalard.c
    trunk/harbour/source/rtl/tscalarh.c
    trunk/harbour/source/rtl/tscalarl.c
    trunk/harbour/source/rtl/tscalarn.c
    trunk/harbour/source/rtl/tscalarp.c
    trunk/harbour/source/rtl/tscalars.c
    trunk/harbour/source/rtl/tscalaru.c
    trunk/harbour/source/rtl/tthreadx.prg
    trunk/harbour/source/rtl/typefilx.prg
    trunk/harbour/source/vm/dlmalloc.c
    trunk/harbour/source/vm/mainwin/Makefile
    trunk/harbour/source/vm/thread.c
    trunk/harbour/source/vm/vm.c
    trunk/harbour/source/vm/vmmt/Makefile
    trunk/harbour/tests/aliaslck.prg
    trunk/harbour/tests/foreach2.prg
    trunk/harbour/tests/gtchars.prg
    trunk/harbour/tests/gtcolors.prg
    trunk/harbour/tests/gtkeys.prg
    trunk/harbour/tests/gtwin.prg
    trunk/harbour/tests/hsxtest.prg
    trunk/harbour/tests/memtst.prg
    trunk/harbour/tests/mt/mttest01.prg
    trunk/harbour/tests/mt/mttest02.prg
    trunk/harbour/tests/mt/mttest03.prg
    trunk/harbour/tests/mt/mttest04.prg
    trunk/harbour/tests/mt/mttest05.prg
    trunk/harbour/tests/mt/mttest06.prg
    trunk/harbour/tests/mt/mttest07.prg
    trunk/harbour/tests/mt/mttest08.prg
    trunk/harbour/tests/mt/mttest09.prg
    trunk/harbour/tests/mt/mttest10.prg
    trunk/harbour/tests/mt/mttest11.prg
    trunk/harbour/tests/mt/mttest12.prg
    trunk/harbour/tests/multifnc/Makefile
    trunk/harbour/tests/multifnc/t0.prg
    trunk/harbour/tests/multifnc/t1.prg
    trunk/harbour/tests/multifnc/t2.prg
    trunk/harbour/tests/rto_get.prg
    trunk/harbour/tests/rto_tb.prg
    trunk/harbour/tests/speedtst.prg
    trunk/harbour/tests/transtst.prg
    trunk/harbour/tests/wcecon.prg
    trunk/harbour/utils/hbi18n/Makefile
    trunk/harbour/utils/hbi18n/hbi18n.prg
    trunk/harbour/utils/hbmake/hbmfrdln.c
    trunk/harbour/utils/hbtest/rt_mt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb  2 21:10:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  2 21:05:59 2009
Subject: [Harbour] 2009-02-03 03:02 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <20090203021024.GA8480@uran.home.aster.pl>

2009-02-03 03:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/mpkg_deb.sh
  * harbour/make_gnu_xmingwce.sh
  * harbour/tests/transtst.prg
  * harbour/tests/wcecon.prg
  * harbour/tests/foreach2.prg
  * harbour/tests/rto_get.prg
  * harbour/tests/memtst.prg
  * harbour/tests/gtwin.prg
  * harbour/tests/mt/mttest08.prg
  * harbour/tests/mt/mttest09.prg
  * harbour/tests/mt/mttest01.prg
  * harbour/tests/mt/mttest10.prg
  * harbour/tests/mt/mttest02.prg
  * harbour/tests/mt/mttest11.prg
  * harbour/tests/mt/mttest03.prg
  * harbour/tests/mt/mttest12.prg
  * harbour/tests/mt/mttest04.prg
  * harbour/tests/mt/mttest05.prg
  * harbour/tests/mt/mttest06.prg
  * harbour/tests/mt/mttest07.prg
  * harbour/tests/speedtst.prg
  * harbour/tests/hsxtest.prg
  * harbour/tests/rto_tb.prg
  * harbour/tests/multifnc/t0.prg
  * harbour/tests/multifnc/t1.prg
  * harbour/tests/multifnc/t2.prg
  * harbour/tests/multifnc/Makefile
  * harbour/tests/gtchars.prg
  * harbour/tests/aliaslck.prg
  * harbour/tests/gtcolors.prg
  * harbour/tests/gtkeys.prg
  * harbour/make_gcc.sh
  * harbour/mpkg_rpm_win.sh
  * harbour/doc/howtosvn.txt
  * harbour/doc/howtobld.txt
  * harbour/make_gnu_os2.cmd
  * harbour/include/hbrddnsx.h
  * harbour/include/hbsxdef.ch
  * harbour/include/hbwince.h
  * harbour/include/hbwmain.c
  * harbour/include/hbthread.h
  * harbour/include/hbsix.ch
  * harbour/include/hbvmint.h
  * harbour/include/hbassert.h
  * harbour/include/hbthread.ch
  * harbour/include/hbatomic.h
  * harbour/mpkg_rpm_wce.sh
  * harbour/source/hbextern/hbextern.prg
  * harbour/source/hbextern/Makefile
  * harbour/source/lang/msgptiso.c
  * harbour/source/vm/dlmalloc.c
  * harbour/source/vm/vmmt/Makefile
  * harbour/source/vm/thread.c
  * harbour/source/vm/mainwin/Makefile
  * harbour/source/vm/vm.c
  * harbour/source/debug/dbgtinp.prg
  * harbour/source/common/hbprintf.c
  * harbour/source/common/hbwince.c
  * harbour/source/common/hbfopen.c
  * harbour/source/rtl/tscalars.c
  * harbour/source/rtl/hbi18n2.prg
  * harbour/source/rtl/gui.prg
  * harbour/source/rtl/getsys53.prg
  * harbour/source/rtl/hbfile.c
  * harbour/source/rtl/tscalard.c
  * harbour/source/rtl/tscalarh.c
  * harbour/source/rtl/tbrowsys.prg
  * harbour/source/rtl/tscalarl.c
  * harbour/source/rtl/gtchrmap.c
  * harbour/source/rtl/tscalarp.c
  * harbour/source/rtl/oemansix.c
  * harbour/source/rtl/hbrunfun.c
  * harbour/source/rtl/strc.c
  * harbour/source/rtl/gttrm/Makefile
  * harbour/source/rtl/gttrm/gttrm.c
  * harbour/source/rtl/dirscan.prg
  * harbour/source/rtl/tthreadx.prg
  * harbour/source/rtl/tscalara.c
  * harbour/source/rtl/hbhex.c
  * harbour/source/rtl/inkeyapi.c
  * harbour/source/rtl/filebuf.c
  * harbour/source/rtl/tscalaru.c
  * harbour/source/rtl/tmenusys.prg
  * harbour/source/rtl/secondfs.c
  * harbour/source/rtl/hbproces.c
  * harbour/source/rtl/menusys.prg
  * harbour/source/rtl/gtkeycod.c
  * harbour/source/rtl/typefilx.prg
  * harbour/source/rtl/natmsgu.c
  * harbour/source/rtl/thfuncx.prg
  * harbour/source/rtl/tscalarb.c
  * harbour/source/rtl/hbini.prg
  * harbour/source/rtl/tscalar.prg
  * harbour/source/rtl/mouse53.c
  * harbour/source/rtl/hbprocfn.c
  * harbour/source/rtl/tscalarn.c
  * harbour/source/rtl/strtoexp.c
  * harbour/source/rtl/einstvar.prg
  * harbour/source/rtl/hbstrsh.c
  * harbour/source/rtl/gtkbstat.c
  * harbour/source/rtl/hbbit.c
  * harbour/source/rtl/tscalarc.c
  * harbour/source/codepage/cpsv850.c
  * harbour/source/codepage/cpeswinm.c
  * harbour/source/codepage/cpsk852.c
  * harbour/source/codepage/ucmik.c
  * harbour/source/codepage/cpbgmik.c
  * harbour/source/codepage/cpsvwin.c
  * harbour/source/codepage/cpskiso.c
  * harbour/source/codepage/cpskwin.c
  * harbour/source/codepage/cpsvclip.c
  * harbour/source/codepage/cpskkam.c
  * harbour/source/rdd/dbjoinx.prg
  * harbour/source/rdd/dblistx.prg
  * harbour/source/rdd/rddinfo.c
  * harbour/source/rdd/dbtotalx.prg
  * harbour/source/rdd/dbstruxx.prg
  * harbour/source/rdd/dbsortx.prg
  * harbour/source/rdd/dbdetach.c
  * harbour/source/rdd/dbcmdx.c
  * harbour/source/rdd/dbfnsx/dbfnsx1.c
  * harbour/source/rdd/dbfnsx/Makefile
  * harbour/source/rdd/dbdrop.c
  * harbour/source/rdd/dbupdatx.prg
  * harbour/source/rdd/dbcmd53.c
  * harbour/source/rdd/usrrdd/example/exlog.prg
  * harbour/source/rdd/usrrdd/example/exarr.prg
  * harbour/source/rdd/usrrdd/rdds/logrdd.prg
  * harbour/source/rdd/dbfuncsx.prg
  * harbour/source/rdd/dbexists.c
  * harbour/source/rdd/hbsix/sxsem.c
  * harbour/source/rdd/hbsix/sxord.c
  * harbour/source/rdd/hbsix/sxredir.c
  * harbour/source/rdd/hbsix/sxini.prg
  * harbour/source/rdd/hbsix/sxfname.c
  * harbour/source/rdd/hbsix/sxtable.c
  * harbour/source/rdd/hbsix/sxcompat.prg
  * harbour/source/rdd/hbsix/sxtrig.prg
  * harbour/source/rdd/hbsix/sxutil.c
  * harbour/source/rdd/fieldhb.c
  * harbour/source/compiler/compi18n.c
  * harbour/contrib/hbmysql/common.mak
  * harbour/contrib/hbmysql/make_gcc.sh
  * harbour/contrib/hbmysql/make_vc.bat
  * harbour/contrib/make_b32_all.bat
  * harbour/contrib/hbct/screen2.c
  * harbour/contrib/hbct/charsprd.c
  * harbour/contrib/hbct/dbftools.c
  * harbour/contrib/hbct/make_gcc.sh
  * harbour/contrib/hbct/ctrand.prg
  * harbour/contrib/hbct/getsecrt.prg
  * harbour/contrib/hbct/ctdisk.ch
  * harbour/contrib/hbct/keysec.prg
  * harbour/contrib/hbct/maxline.c
  * harbour/contrib/hbct/getinput.prg
  * harbour/contrib/hbct/video.c
  * harbour/contrib/hbct/screen3.prg
  * harbour/contrib/hbct/dattime3.c
  * harbour/contrib/hbct/lton.c
  * harbour/contrib/hbct/cursor.c
  * harbour/contrib/hbct/keytime.prg
  * harbour/contrib/hbct/misc2.c
  * harbour/contrib/hbct/color.c
  * harbour/contrib/hbct/cttime.prg
  * harbour/contrib/hbct/ctvideo.ch
  * harbour/contrib/hbct/showtime.prg
  * harbour/contrib/hbct/numcount.c
  * harbour/contrib/hbct/pack.c
  * harbour/contrib/hbct/setlast.c
  * harbour/contrib/hbct/setrc.c
  * harbour/contrib/hbct/like.c
  * harbour/contrib/hbct/disk.c
  * harbour/contrib/hbct/ctstrfil.c
  * harbour/contrib/hbct/ctstrfil.h
  * harbour/contrib/hbct/getinfo.prg
  * harbour/contrib/hbct/numline.c
  * harbour/contrib/hbct/scrmark.prg
  * harbour/contrib/hbct/dattime2.c
  * harbour/contrib/hbct/keysave.prg
  * harbour/contrib/hbct/common.mak
  * harbour/contrib/hbct/misc3.c
  * harbour/contrib/hbct/expand.c
  * harbour/contrib/hbct/fcopy.prg
  * harbour/contrib/hbct/ctpad.c
  * harbour/contrib/hbct/datetime.c
  * harbour/contrib/hbct/blank.prg
  * harbour/contrib/xhb/hboutdbg.c
  * harbour/contrib/xhb/dbgfx.prg
  * harbour/contrib/xhb/hbcompat.h
  * harbour/contrib/xhb/hblog.ch
  * harbour/contrib/xhb/hbcompat.ch
  * harbour/contrib/xhb/xhbenum.c
  * harbour/contrib/xhb/hblognet.prg
  * harbour/contrib/xhb/hbxml.c
  * harbour/contrib/xhb/xhbmsgs.c
  * harbour/contrib/xhb/xhbqself.c
  * harbour/contrib/xhb/dirrec.prg
  * harbour/contrib/xhb/hbxml.h
  * harbour/contrib/xhb/make_gcc.sh
  * harbour/contrib/xhb/xhbarr.c
  * harbour/contrib/xhb/xhb.h
  * harbour/contrib/xhb/hbctypes.ch
  * harbour/contrib/xhb/xhb.ch
  * harbour/contrib/xhb/hbsyslog.c
  * harbour/contrib/xhb/txml.prg
  * harbour/contrib/xhb/wintypes.ch
  * harbour/contrib/xhb/sprintf.prg
  * harbour/contrib/xhb/Makefile
  * harbour/contrib/xhb/dbgfxc.c
  * harbour/contrib/xhb/cstruct.ch
  * harbour/contrib/xhb/hblog.prg
  * harbour/contrib/xhb/hbstruct.prg
  * harbour/contrib/xhb/xhbcomp.prg
  * harbour/contrib/xhb/hbstruct.ch
  * harbour/contrib/xhb/xhbextrn.ch
  * harbour/contrib/xhb/hbfast.h
  * harbour/contrib/xhb/xhbwith.c
  * harbour/contrib/xhb/hbcomprs.c
  * harbour/contrib/xhb/common.mak
  * harbour/contrib/xhb/hbxml.ch
  * harbour/contrib/xhb/hblogdef.ch
  * harbour/contrib/xhb/cstructc.c
  * harbour/contrib/xhb/xhbfunc.c
  * harbour/contrib/xhb/cstruct.prg
  * harbour/contrib/hbodbc/common.mak
  * harbour/contrib/hbodbc/make_gcc.sh
  * harbour/contrib/hbodbc/make_vc.bat
  * harbour/contrib/hbgt/common.mak
  * harbour/contrib/hbgt/make_gcc.sh
  * harbour/contrib/hbmsql/common.mak
  * harbour/contrib/hbmsql/tests/hbmk_b32.bat
  * harbour/contrib/hbmsql/tests/hbmk_vc.bat
  * harbour/contrib/hbmsql/make_gcc.sh
  * harbour/contrib/hbmsql/make_b32.bat
  * harbour/contrib/hbmsql/make_vc.bat
  * harbour/contrib/mtpl_b32.bat
  * harbour/contrib/mtpl_b32.mak
  * harbour/contrib/hbmzip/crypt.h
  * harbour/contrib/hbmzip/make_gcc.sh
  * harbour/contrib/hbole/common.mak
  * harbour/contrib/hbole/oleauto.prg
  * harbour/contrib/hbole/ole2.c
  * harbour/contrib/hbole/tests/testole.prg
  * harbour/contrib/hbole/tests/hbmk_b32.bat
  * harbour/contrib/hbole/make_gcc.sh
  * harbour/contrib/hbole/make_b32.bat
  * harbour/contrib/hbole/make_vc.bat
  * harbour/contrib/hbole/Makefile
  * harbour/contrib/make_gcc_all.sh
  * harbour/contrib/hbfbird/common.mak
  * harbour/contrib/hbfbird/tests/simple.prg
  * harbour/contrib/hbfbird/tests/test.prg
  * harbour/contrib/hbfbird/tests/stress.prg
  * harbour/contrib/hbfbird/tests/testapi.c
  * harbour/contrib/hbfbird/tests/hbmk_b32.bat
  * harbour/contrib/hbfbird/tests/Makefile
  * harbour/contrib/hbfbird/make_gcc.sh
  * harbour/contrib/hbfbird/firebird.c
  * harbour/contrib/hbfbird/make_b32.bat
  * harbour/contrib/hbfbird/tfirebrd.prg
  * harbour/contrib/hbfbird/make_vc.bat
  * harbour/contrib/hbfbird/readme.txt
  * harbour/contrib/hbfbird/Makefile
  * harbour/contrib/hbapollo/common.mak
  * harbour/contrib/hbapollo/make_gcc.sh
  * harbour/contrib/hbapollo/make_vc.bat
  * harbour/contrib/make_vc_all.bat
  * harbour/contrib/hbziparc/common.mak
  * harbour/contrib/hbziparc/make_gcc.sh
  * harbour/contrib/hbnf/ftshadow.c
  * harbour/contrib/hbnf/make_gcc.sh
  * harbour/contrib/hbnf/iamidle.c
  * harbour/contrib/hbnf/fttext.c
  * harbour/contrib/hbnf/setkeys.c
  * harbour/contrib/hbnf/common.mak
  * harbour/contrib/hbnf/ftisprn.c
  * harbour/contrib/hbnf/putkey.c
  * harbour/contrib/hbnf/setlastk.c
  * harbour/contrib/rddsql/sddfb/Makefile
  * harbour/contrib/hbhpdf/tests/harupdf.prg
  * harbour/contrib/hbhpdf/tests/files/cp936.txt
  * harbour/contrib/hbhpdf/tests/files/elic_jp.txt
  * harbour/contrib/hbhpdf/tests/files/sjis.txt
  * harbour/contrib/hbhpdf/tests/files/euc.txt
  * harbour/contrib/hbhpdf/tests/files/cp932.txt
  * harbour/contrib/hbhpdf/harupdf.ch
  * harbour/contrib/hbhpdf/harupdf.c
  * harbour/contrib/rddado/common.mak
  * harbour/contrib/rddado/make_gcc.sh
  * harbour/contrib/rddado/make_vc.bat
  * harbour/contrib/gtwvg/wvgdlg.prg
  * harbour/contrib/gtwvg/gtwvg.h
  * harbour/contrib/gtwvg/wvglistb.prg
  * harbour/contrib/gtwvg/make_b32.bat
  * harbour/contrib/gtwvg/wvgmle.prg
  * harbour/contrib/gtwvg/wvggui.c
  * harbour/contrib/gtwvg/wvgtoolb.prg
  * harbour/contrib/gtwvg/wvgpushb.prg
  * harbour/contrib/gtwvg/wvggui.h
  * harbour/contrib/gtwvg/wvgsle.prg
  * harbour/contrib/gtwvg/wvgtreev.prg
  * harbour/contrib/gtwvg/make_gcc.sh
  * harbour/contrib/gtwvg/tests/demoxbp.prg
  * harbour/contrib/gtwvg/tests/demowvg.prg
  * harbour/contrib/gtwvg/wvgdatar.prg
  * harbour/contrib/gtwvg/wvgradio.prg
  * harbour/contrib/gtwvg/make_vc.bat
  * harbour/contrib/gtwvg/wincallb.c
  * harbour/contrib/gtwvg/Makefile
  * harbour/contrib/gtwvg/wvgsysw.prg
  * harbour/contrib/gtwvg/wvgmenub.prg
  * harbour/contrib/gtwvg/wvgbitmp.prg
  * harbour/contrib/gtwvg/wvtwin.ch
  * harbour/contrib/gtwvg/wvgcheck.prg
  * harbour/contrib/gtwvg/wvgstatb.prg
  * harbour/contrib/gtwvg/wvgstatc.prg
  * harbour/contrib/gtwvg/common.mak
  * harbour/contrib/gtwvg/hbgtwvg.ch
  * harbour/contrib/gtwvg/wvghtmlv.prg
  * harbour/contrib/gtwvg/wvgparts.ch
  * harbour/contrib/gtwvg/wincback.prg
  * harbour/contrib/gtwvg/wvg3stat.prg
  * harbour/contrib/gtwvg/wvgcombo.prg
  * harbour/contrib/mtpl_gcc.mak
  * harbour/contrib/hbpgsql/common.mak
  * harbour/contrib/hbpgsql/tests/hbmk_b32.bat
  * harbour/contrib/hbpgsql/make_gcc.sh
  * harbour/contrib/hbpgsql/make_vc.bat
  * harbour/contrib/rddads/unixutils.h
  * harbour/contrib/rddads/common.mak
  * harbour/contrib/rddads/make_gcc.sh
  * harbour/contrib/mtpl_gcc.sh
  * harbour/contrib/hbclipsm/common.mak
  * harbour/contrib/hbclipsm/make_gcc.sh
  * harbour/contrib/hbclipsm/make_vc.bat
  * harbour/contrib/hbfimage/common.mak
  * harbour/contrib/hbfimage/tests/fitest.prg
  * harbour/contrib/hbfimage/tests/hbmk_b32.bat
  * harbour/contrib/hbfimage/make_gcc.sh
  * harbour/contrib/hbfimage/fi_winfu.c
  * harbour/contrib/hbfimage/fi_wrp.c
  * harbour/contrib/hbfimage/make_b32.bat
  * harbour/contrib/hbfimage/make_vc.bat
  * harbour/contrib/hbfimage/readme.txt
  * harbour/contrib/hbfimage/Makefile
  * harbour/contrib/hbfimage/freeimage.ch
  * harbour/contrib/hbgd/common.mak
  * harbour/contrib/hbgd/make_gcc.sh
  * harbour/contrib/hbgd/make_vc.bat
  * harbour/contrib/hbmisc/common.mak
  * harbour/contrib/hbmisc/make_gcc.sh
  * harbour/contrib/hbtip/encurl.prg
  * harbour/contrib/hbtip/thtml.prg
  * harbour/contrib/hbtip/thtml.ch
  * harbour/contrib/hbtip/utils.c
  * harbour/contrib/hbtip/popcln.prg
  * harbour/contrib/hbtip/sendmail.prg
  * harbour/contrib/hbtip/tip.ch
  * harbour/contrib/hbtip/cgi.prg
  * harbour/contrib/hbtip/url.prg
  * harbour/contrib/hbtip/encqp.prg
  * harbour/contrib/hbtip/base64x.c
  * harbour/contrib/hbtip/common.mak
  * harbour/contrib/hbtip/make_gcc.sh
  * harbour/contrib/hbtip/httpcln.prg
  * harbour/contrib/hbtip/encmthd.c
  * harbour/contrib/hbtip/client.prg
  * harbour/contrib/hbtip/encoder.prg
  * harbour/contrib/hbtip/smtpcln.prg
  * harbour/contrib/hbtip/encb64.prg
  * harbour/contrib/hbtip/mail.prg
  * harbour/contrib/hbtip/credent.prg
  * harbour/contrib/hbtip/ftpcln.prg
  * harbour/contrib/hbtip/Makefile
  * harbour/contrib/hbgf/hbgfwin/common.mak
  * harbour/contrib/hbbmcdx/common.mak
  * harbour/contrib/hbbmcdx/make_gcc.sh
  * harbour/contrib/hbbmcdx/make_vc.bat
  * harbour/contrib/hbwin/win_prn2.c
  * harbour/contrib/hbwin/win_tprn.prg
  * harbour/contrib/hbwin/common.mak
  * harbour/contrib/hbwin/tests/testole.prg
  * harbour/contrib/hbwin/tests/testprn.prg
  * harbour/contrib/hbwin/make_gcc.sh
  * harbour/contrib/hbwin/Makefile
  * harbour/contrib/hbwin/win_prn1.c
  * harbour/contrib/mtpl_vc.bat
  * harbour/contrib/mtpl_vc.mak
  * harbour/contrib/hbbtree/common.mak
  * harbour/contrib/hbbtree/make_gcc.sh
  * harbour/contrib/hbbtree/make_vc.bat
  * harbour/contrib/hbwhat/debug.ch
  * harbour/contrib/hbwhat/whtdate.c
  * harbour/contrib/hbwhat/whtini.c
  * harbour/contrib/hbwhat/make_b32.bat
  * harbour/contrib/hbwhat/whticon.c
  * harbour/contrib/hbwhat/whtcret.c
  * harbour/contrib/hbwhat/make_gcc.sh
  * harbour/contrib/hbwhat/whtsock.c
  * harbour/contrib/hbwhat/whthead.c
  * harbour/contrib/hbwhat/whtseria.c
  * harbour/contrib/hbwhat/sqltypes.ch
  * harbour/contrib/hbwhat/Makefile
  * harbour/contrib/hbwhat/whtilst.c
  * harbour/contrib/hbwhat/whtreg.c
  * harbour/contrib/hbwhat/whtmem.c
  * harbour/contrib/hbwhat/whtclpb.c
  * harbour/contrib/hbwhat/winini.prg
  * harbour/contrib/hbwhat/whtmous.c
  * harbour/contrib/hbwhat/whatutil.prg
  * harbour/contrib/hbwhat/whtrgn.c
  * harbour/contrib/hbwhat/whtmeta.c
  * harbour/contrib/hbwhat/whtmapi.c
  * harbour/contrib/hbwhat/winrbar.prg
  * harbour/contrib/hbwhat/whttbar.c
  * harbour/contrib/hbwhat/winerror.prg
  * harbour/contrib/hbwhat/whtrect.c
  * harbour/contrib/hbwhat/whtbrsh.c
  * harbour/contrib/hbwhat/import.ch
  * harbour/contrib/hbwhat/whtgdi.c
  * harbour/contrib/hbwhat/winstruc.ch
  * harbour/contrib/hbwhat/whtscrlb.c
  * harbour/contrib/hbwhat/whtdlg.c
  * harbour/contrib/hbwhat/whtview.c
  * harbour/contrib/hbwhat/whtsys.c
  * harbour/contrib/hbwhat/whtlv.c
  * harbour/contrib/hbwhat/whtmain.c
  * harbour/contrib/hbwhat/whtwnd.c
  * harbour/contrib/hbwhat/wintabs.prg
  * harbour/contrib/hbwhat/whtmisc.c
  * harbour/contrib/hbwhat/whtcomm.c
  * harbour/contrib/hbwhat/wincomm.prg
  * harbour/contrib/hbwhat/whtmmcap.c
  * harbour/contrib/hbwhat/tests/whatdemo.prg
  * harbour/contrib/hbwhat/whtprn.c
  * harbour/contrib/hbwhat/whtinet.c
  * harbour/contrib/hbwhat/hbwhat.ch
  * harbour/contrib/hbwhat/whttab.c
  * harbour/contrib/hbwhat/make_vc.bat
  * harbour/contrib/hbwhat/whtfont.c
  * harbour/contrib/hbwhat/whtshell.c
  * harbour/contrib/hbwhat/commdlg.ch
  * harbour/contrib/hbwhat/whtcdlg.c
  * harbour/contrib/hbwhat/wincdlg.prg
  * harbour/contrib/hbwhat/whtbmp.c
  * harbour/contrib/hbwhat/whtdir.c
  * harbour/contrib/hbwhat/winuser.ch
  * harbour/contrib/hbwhat/whtpen.c
  * harbour/contrib/hbwhat/whtkbrd.c
  * harbour/contrib/hbwhat/whttext.c
  * harbour/contrib/hbwhat/whtdc.c
  * harbour/contrib/hbwhat/whtmsg.c
  * harbour/contrib/hbwhat/windebug.prg
  * harbour/contrib/hbwhat/wincore.prg
  * harbour/contrib/hbwhat/wintbar.prg
  * harbour/contrib/hbwhat/common.mak
  * harbour/contrib/hbwhat/whtdraw.c
  * harbour/contrib/hbwhat/whttree.c
  * harbour/contrib/hbwhat/wininet.ch
  * harbour/contrib/hbwhat/whtmenu.c
  * harbour/contrib/hbwhat/commctrl.ch
  * harbour/contrib/hbwhat/wingdi.ch
  * harbour/contrib/examples/pe/pe.prg
  * harbour/contrib/examples/pe/hbmk_b32.bat
  * harbour/contrib/examples/uhttpd/cookie.prg
  * harbour/contrib/examples/uhttpd/cgifunc.prg
  * harbour/contrib/examples/uhttpd/modules/cookie.prg
  * harbour/contrib/examples/dbu/readme.txt
  * harbour/contrib/examples/dbu/hbmk_b32.bat
  * harbour/contrib/examples/dbu/Makefile
  * harbour/utils/hbmake/hbmfrdln.c
  * harbour/utils/hbtest/rt_mt.prg
  * harbour/utils/hbi18n/hbi18n.prg
  * harbour/utils/hbi18n/Makefile
  * harbour/make_gcc.mak
  * harbour/config/none.cf
  * harbour/config/w32/mingwce.cf
  * harbour/config/w32/owatcom.cf
  * harbour/config/w32/pocc.cf
    * svn ps svn:keywords "Author Date Id Revision"

best regards
Przemek
From mbelgrano at deltain.it  Tue Feb  3 03:17:25 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb  3 03:17:30 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <21802164.post@talk.nabble.com>
References: <21802164.post@talk.nabble.com>
Message-ID: <609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>

A distribution ready to use is a very good idea because Xmate is the best
editor
Borland is most used c compiler on windows platform
I dream  that the project format of xmate (xhp) must be  used also from
other  make/command line tool
so for a user will be more easy compile all sample
Today is still difficult compile harbour sample/contrib because one require
special switch , one require more file in project, different platfom require
different tools
Xmate is very productive for  editing and compile prg anc c source.


2009/2/3 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hello Everybody
>
> Download
> http://www.vouch.info/downloads/hrb_dev_20090202.zip
>
> This distribution offers out of the box usage through
> xMate Project Builder. Please note that this distribution
> is meant for end-user applns/libs only.
>
> This is BCC55 distribution.
>
> Steps to getting started:
>
> 1) Unzip it in C:\ root.
> 2) Navigate to c:\hrb_dev\xmate\xmate.exe.
> 3) Click it.
> 4) Point to <Build and Launch Project> icon.
> 5) Explore "demoxbp"s menu options.
>
> To create your own project:
>
> 1) Create a new folder in \hrb_dev\dev_projects, say MyProject.
> 2) If you want to organize your sources, create a new folder in
>    \hrb_dev\dev_sources and keep all your code and headers there.
> 3) Create a new project with xMate and drop your files there.
>
> This distribution has nothing to offer special for
> experienced developers. It is targetted for new-bies who
> find it rather difficult to start with Harbour.
>
> Regards
> Pritpal Bedi
> --
> View this message in context:
> http://www.nabble.com/Out-of-Box-usable-Harbour-Distribution-with-XMate-Project-Builder-tp21802164p21802164.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/44f36fa7/attachment.html
From lorenzo.fiorini at gmail.com  Tue Feb  3 04:13:14 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb  3 04:13:18 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
Message-ID: <9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>

On Tue, Feb 3, 2009 at 9:17 AM, Massimo Belgrano <mbelgrano@deltain.it> wrote:

> Borland is most used c compiler on windows platform

Do you have any evidence of that?

Have you read and accepted license.txt?

--- cut ---
You may install a copy of the Software on a computer and freely move
the Software from one computer to another, provided that you
are the only individual using the Software.  If you are an
entity, Inprise grants you the right to designate one
individual within your organization ("Named User") to have
the right to use the Software in the manner provided above.
--- cut ---

this mean that an organization can use it only on 1 computer and only
by 1 developer.

Do you think it's a good idea to promote it?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Feb  3 04:14:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 04:14:09 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
Message-ID: <18d502870902030114g7c802d17v78ae7658a68d4669@mail.gmail.com>

On Tue, Feb 3, 2009 at 9:17 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

>
> A distribution ready to use is a very good idea because Xmate is the best
> editor
> Borland is most used c compiler on windows platform
>

For the whole picture it's worth mentioning that BCC is
the worst mainstream compiler, end-of-line product,
generates slow code and buggy. It's only upside is the
fastest compiling speed.

> Today is still difficult compile harbour sample/contrib because one require
> special switch , one require more file in
>

This is simply not true. [ Or if you have a specific examples, please
tell, and it will be fixed. ]

For contribs you only need to run:
make_vc_all or make_b32_all or make

For tests you only need to run:
hbmk_vc <file.prg> or hbmk_b32 <file.prg>

In multifile tests/examples you don't need <file.prg>.

That's about it. Of course one needs to make sure
to have a properly installed and setup C compiler.

This could hardly be any easier.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/17f50381/attachment-0001.html
From maurilio.longo at libero.it  Tue Feb  3 04:29:00 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb  3 04:29:11 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <20090202101935.GB7334@uran.home.aster.pl>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>
	<20090202101935.GB7334@uran.home.aster.pl>
Message-ID: <49880E5C.1050103@libero.it>

Przemyslaw,

Przemyslaw Czerpak wrote:
> You have to enable compilation with relocatable code, f.e. use -fPIC or -fpic
> flag in C_USR. But I do not know it it's enough for OpenSolaris. The last
> tests I made with Solaris were done over two years ago.
> 

yes, -fpic is the trick, I'll add it to sunos .cf files.

> BTW did you used POSIX thread (pthread) for MT compilation or SunOS
> (thr_*() function) threads?
> I think it will be good to update OpenSolaris Harbour MT builds to work
> on SunOS even without pthread installed.
> 

I looked at thr_ vs pthread_ functions and documentation, they're both
implemented inside libc, so there is no real advantage in using thr_ functions.


DESCRIPTION
     POSIX and Solaris threads each have their own implementation
     within  libc(3LIB).  Both implementations are interoperable,
     their functionality similar, and can be used within the same
     application.  Only  POSIX threads are guaranteed to be fully
     portable to other POSIX-compliant  environments.  POSIX  and
     Solaris  threads require different source, include files and
     linking libraries. See SYNOPSIS.

  Similarities
     Most of the POSIX and Solaris threading functions have coun-
     terparts  with  each  other.  POSIX function names, with the
     exception of the semaphore names, have a  "pthread"  prefix.
     Function  names for similar POSIX and Solaris functions have
     similar endings. Typically, similar POSIX and Solaris  func-
     tions have the same number and use of arguments.

  Differences
     POSIX pthreads and Solaris threads differ in  the  following
     ways:

         o    POSIX threads are more portable.

         o    POSIX threads establish characteristics   for  each
              thread according to configurable attribute objects.

         o    POSIX pthreads implement thread cancellation.

         o    POSIX pthreads enforce scheduling algorithms.

         o    POSIX pthreads  allow  for  clean-up  handlers  for
              fork(2) calls.

         o    Solaris threads can be suspended and continued.

         o    Solaris threads implement daemon threads, for whose
              demise the process does not wait.

[...]

This is from man threads.

Why do you think it would be better to use them?

Maurilio.
-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Feb  3 04:33:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 04:33:22 2009
Subject: [Harbour] hb_StrDecodEscape() question
Message-ID: <18d502870902030133g5daadacbw863127277a3ca73d@mail.gmail.com>

Hi all,
Using this call:
hb_StrDecodEscape( "\x1BE" )
results in 0xBE.

I'd expect 0x1B plus an 'E' char.

What's the best way to avoid 'E' being considered
as part of the hex number?

[ Notice the string is picked up from an external text file,
so splitting it to "\x1B" "E" isn't an option. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/96251d3e/attachment.html
From maurilio.longo at libero.it  Tue Feb  3 04:40:30 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb  3 04:40:38 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <20090202184020.GA27877@uran.home.aster.pl>
References: <20090202124646.GA23103@uran.home.aster.pl>	<4986F8D3.3070003@libero.it>
	<4986FD55.7090701@libero.it>	<20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>	<4987233C.4010405@libero.it>
	<4987288B.30006@libero.it>	<49872A0B.4060604@libero.it>
	<49873307.3000705@libero.it>
	<20090202184020.GA27877@uran.home.aster.pl>
Message-ID: <4988110E.5010107@libero.it>

Przemyslaw Czerpak wrote:
> 
> yes, it could be also insufficient environment size.
> Now you have similar problems to the ones I have in DOS.
> It does not GPF but it begins to make some unpredictable
> things. Looks that it loses some of settings like current
> directory or make does not clean some settings when leave
> directory increasing environment size or internal current
> path setting.

I've looked up this issue, it has 32Kb of environment size, I can try to
reduce path/dpath/help and so on environment variables to see if it builds
again, but, for the long term, it could be better to find what is using this
memory and remove/change it.

> Non *nix GNU make builds makes some strange things to emulate
> POSIX environment and this can be side effect of them.
> Seems that for DOS and OS2 we should use the old code. It also
> allow parallel execution with recent modifications but is not
> such efficient because only one directory (lib) can be compiled
> in the same time so only the files inside single dir are compiled
> simultaneously.

I think that parallel compilation is a nice plus but I've lived so many years
without it that I really don't know how much it is worth on OS/2 which is no
more a mainstream OS.

Thanks.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From lf_sfnet at users.sourceforge.net  Tue Feb  3 05:45:07 2009
From: lf_sfnet at users.sourceforge.net (lf_sfnet@users.sourceforge.net)
Date: Tue Feb  3 05:45:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10154] trunk/harbour
Message-ID: <E1LUImB-0006ti-S8@3kljzd1.ch3.sourceforge.com>

Revision: 10154
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10154&view=rev
Author:   lf_sfnet
Date:     2009-02-03 10:45:06 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------


Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hblognet.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Tue Feb  3 05:47:39 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb  3 05:47:43 2009
Subject: [Harbour] 2009-02-03 11:45 UTC+0100 Lorenzo Fiorini
Message-ID: <9257026e0902030247p6fb7a16agd3635444074a963b@mail.gmail.com>

2009-02-03 11:45 UTC+0100 Lorenzo Fiorini (lorenzo.fiorini/at/gmail.com)
  * contib/xhb/hblognet.prg
    * fixed thread function names

regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Feb  3 05:53:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 05:53:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10154] trunk/harbour
In-Reply-To: <E1LUImB-0006ti-S8@3kljzd1.ch3.sourceforge.com>
References: <E1LUImB-0006ti-S8@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870902030253g6b6c2f88nc8479b52ce018664@mail.gmail.com>

Hi Lorenzo,
Please fill the log message with the relevant ChangeLog entry
when committing changes.

With below command line, it's just a matter of copy and paste:
@svn commit --editor-cmd notepad.exe --username lf_sfnet

Brgds,
Viktor

On Tue, Feb 3, 2009 at 11:45 AM, <lf_sfnet@users.sourceforge.net> wrote:

> Revision: 10154
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10154&view=rev
> Author:   lf_sfnet
> Date:     2009-02-03 10:45:06 +0000 (Tue, 03 Feb 2009)
>
> Log Message:
> -----------
>
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/xhb/hblognet.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/e94fe7a9/attachment.html
From druzus at acn.waw.pl  Tue Feb  3 06:01:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb  3 05:56:49 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <49880E5C.1050103@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>
	<20090202101935.GB7334@uran.home.aster.pl>
	<49880E5C.1050103@libero.it>
Message-ID: <20090203110116.GA27548@uran.home.aster.pl>

On Tue, 03 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> > You have to enable compilation with relocatable code, f.e. use -fPIC or -fpic
> > flag in C_USR. But I do not know it it's enough for OpenSolaris. The last
> > tests I made with Solaris were done over two years ago.
> yes, -fpic is the trick, I'll add it to sunos .cf files.

I also installed OpenSolaris in VirtualBox and made some tests.
Looks that code designed for Solaris works also with OpenSolaris
so there is no problem with backward compatibility. The one
thing which is very pleasure in OpenSolaris is easy access to
GNU tools which can be installed by package manager in practice
automatically and used instead of native SunOS ones. It's also
much easier to port GNU tools to OpenSolaris then to the older
Solaris versions due to greatly extended compatibility.
Harbour can be compiled without any problems and everything also
shared libraries works out of the box. It's enough to set -fPIC
(or -fpic but I haven't made any tests with SPARC so I'm not sure
if 8KB is still enough for Harbour code).
For make_gcc.sh I had to make some small cosmetic modifications.
I'll commit them in a while.

> > BTW did you used POSIX thread (pthread) for MT compilation or SunOS
> > (thr_*() function) threads?
> > I think it will be good to update OpenSolaris Harbour MT builds to work
> > on SunOS even without pthread installed.
> I looked at thr_ vs pthread_ functions and documentation, they're both
> implemented inside libc, so there is no real advantage in using thr_
> functions.
[...]
> This is from man threads.
> Why do you think it would be better to use them?

In the older Solaris versions using POSIX threads is not such easy.
They were not default part of system. That's the main reason.
Now it's not a problem though if we can add support for SunOS threads
with small cost then I think we should make it. It should be rather
simple job for an hour or two. I'll look at it in this week.

best regards,
Przemek
From maurilio.longo at libero.it  Tue Feb  3 06:17:27 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb  3 06:17:40 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <20090203110116.GA27548@uran.home.aster.pl>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>	<20090202101935.GB7334@uran.home.aster.pl>	<49880E5C.1050103@libero.it>
	<20090203110116.GA27548@uran.home.aster.pl>
Message-ID: <498827C7.2030100@libero.it>

Przemyslaw Czerpak wrote:
> 
> I also installed OpenSolaris in VirtualBox and made some tests.
> Looks that code designed for Solaris works also with OpenSolaris
> so there is no problem with backward compatibility. The one
yes, they share the same code base, OpenSolaris is the base for Solaris
releases, it is just released more often.

> thing which is very pleasure in OpenSolaris is easy access to
> GNU tools which can be installed by package manager in practice
> automatically and used instead of native SunOS ones. It's also
> much easier to port GNU tools to OpenSolaris then to the older
> Solaris versions due to greatly extended compatibility.

True, just a few minutes and all is installed and working!

> Harbour can be compiled without any problems and everything also
> shared libraries works out of the box. It's enough to set -fPIC
> (or -fpic but I haven't made any tests with SPARC so I'm not sure
> if 8KB is still enough for Harbour code).
> For make_gcc.sh I had to make some small cosmetic modifications.
> I'll commit them in a while.

Do you know if a 64bit harbour can be compiled as well? I've built a 32bit
version, which is enough for me, but anyway I'm running the 64bit version of
OpenSolaris.

I also had to set LD_LIBRARY_PATH to /opt/harbour/lib to be able to use the
.so libraries.

> In the older Solaris versions using POSIX threads is not such easy.
> They were not default part of system. That's the main reason.
> Now it's not a problem though if we can add support for SunOS threads
> with small cost then I think we should make it. It should be rather
> simple job for an hour or two. I'll look at it in this week.
> 
Ok, thanks!

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at users.sourceforge.net  Tue Feb  3 06:54:37 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb  3 06:54:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10155] trunk/harbour
Message-ID: <E1LUJrR-000643-BQ@dn4whf1.ch3.sourceforge.com>

Revision: 10155
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10155&view=rev
Author:   druzus
Date:     2009-02-03 11:54:36 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 12:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_gcc.sh
    + added some Solaris libraries necessary to link Harbour applications
      using sockets

  * harbour/make_gnu.sh
    * look also for pure curses header files for GTCRS compilation.
      GTCRS can be compiled with CURSES not only NCURSES.
    * enable -fPIC in SunOS and HPUX builds

  * harbour/mpkg_tgz.sh
    * enable -fPIC in SunOS builds

  * harbour/make_gcc.mak
    * do not use -Wl,--start-group/-Wl,--end-group in SunOS, HPUX and Darwin
      builds

  * harbour/config/hpux/gcc.cf
    * small cleanup in comment

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/make_gcc.mak
    trunk/harbour/make_gcc.sh
    trunk/harbour/make_gnu.sh
    trunk/harbour/mpkg_tgz.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Feb  3 06:59:11 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb  3 06:54:44 2009
Subject: [Harbour] 2009-02-03 12:58 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <20090203115911.GA1444@uran.home.aster.pl>

2009-02-03 12:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_gcc.sh
    + added some Solaris libraries necessary to link Harbour applications
      using sockets

  * harbour/make_gnu.sh
    * look also for pure curses header files for GTCRS compilation.
      GTCRS can be compiled with CURSES not only NCURSES.
    * enable -fPIC in SunOS and HPUX builds

  * harbour/mpkg_tgz.sh
    * enable -fPIC in SunOS builds

  * harbour/make_gcc.mak
    * do not use -Wl,--start-group/-Wl,--end-group in SunOS, HPUX and Darwin
      builds

  * harbour/config/hpux/gcc.cf
    * small cleanup in comment

best regards
Przemek
From mbelgrano at deltain.it  Tue Feb  3 07:01:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb  3 07:01:16 2009
Subject: [Harbour] 2009-02-03 12:58 UTC+0100 Przemyslaw Czerpak 
	(druzus/at/priv.onet.pl)
In-Reply-To: <20090203115911.GA1444@uran.home.aster.pl>
References: <20090203115911.GA1444@uran.home.aster.pl>
Message-ID: <609353e70902030401y784fd5cfm231ae7a80538b29c@mail.gmail.com>

AFAIK This post in not necessary because mailing receive  automatically from
druzus
2009/2/3 Przemyslaw Czerpak <druzus@acn.waw.pl>

> 2009-02-03 12:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/make_gcc.sh
>    + added some Solaris libraries necessary to link Harbour applications
>      using sockets
>
>  * harbour/make_gnu.sh
>    * look also for pure curses header files for GTCRS compilation.
>      GTCRS can be compiled with CURSES not only NCURSES.
>    * enable -fPIC in SunOS and HPUX builds
>
>  * harbour/mpkg_tgz.sh
>    * enable -fPIC in SunOS builds
>
>  * harbour/make_gcc.mak
>    * do not use -Wl,--start-group/-Wl,--end-group in SunOS, HPUX and Darwin
>      builds
>
>  * harbour/config/hpux/gcc.cf
>    * small cleanup in comment
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/a7b7b28c/attachment.html
From lorenzo.fiorini at gmail.com  Tue Feb  3 07:02:56 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb  3 07:03:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10154] trunk/harbour
In-Reply-To: <18d502870902030253g6b6c2f88nc8479b52ce018664@mail.gmail.com>
References: <E1LUImB-0006ti-S8@3kljzd1.ch3.sourceforge.com>
	<18d502870902030253g6b6c2f88nc8479b52ce018664@mail.gmail.com>
Message-ID: <9257026e0902030402h434b78d0jefe8190c271c08ef@mail.gmail.com>

On Tue, Feb 3, 2009 at 11:53 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Please fill the log message with the relevant ChangeLog entry
> when committing changes.

> With below command line, it's just a matter of copy and paste:
> @svn commit --editor-cmd notepad.exe --username lf_sfnet

oops.

best regards,
Lorenzo
From druzus at acn.waw.pl  Tue Feb  3 07:28:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb  3 07:24:13 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <498827C7.2030100@libero.it>
References: <KEC9EN$1CDE4BE818B82CDBC70F8F03A2646FEE@libero.it>
	<20090202101935.GB7334@uran.home.aster.pl>
	<49880E5C.1050103@libero.it>
	<20090203110116.GA27548@uran.home.aster.pl>
	<498827C7.2030100@libero.it>
Message-ID: <20090203122842.GA6425@uran.home.aster.pl>

On Tue, 03 Feb 2009, Maurilio Longo wrote:
> Do you know if a 64bit harbour can be compiled as well? I've built a 32bit
> version, which is enough for me, but anyway I'm running the 64bit version of
> OpenSolaris.

I haven't tired 64-builds with OpenSolaris yet but I do not think
you will have any problems. I was using 64bit Harbour builds with
older Solaris without problems. You should also not have any problems
with real SPARC CPU processors which needs 8 bytes alignment. Harbour
fully supports such machines.

> I also had to set LD_LIBRARY_PATH to /opt/harbour/lib to be able to use the
> .so libraries.

It's one of possible solutions.
You can also create link from /usr/lib to Harbour shared libraries
or add it to config files (/var/ld/ld.conf).
   crle -i /opt/harbour/lib
should be enough.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Feb  3 07:39:40 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb  3 07:35:12 2009
Subject: [Harbour] 2009-02-03 12:58 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <609353e70902030401y784fd5cfm231ae7a80538b29c@mail.gmail.com>
References: <20090203115911.GA1444@uran.home.aster.pl>
	<609353e70902030401y784fd5cfm231ae7a80538b29c@mail.gmail.com>
Message-ID: <20090203123940.GA26076@uran.home.aster.pl>

On Tue, 03 Feb 2009, Massimo Belgrano wrote:

I know but I will have to update my commit script which also automatically
update ChangeLog file, generates diff and make few other things so
the notification ChangeLog message are sent automatically from my host when
I'm committing sth.
Personally I'd prefer them as more readable then the automatically generated
by SVN anyhow there is no sense to keep both so I'll try to disable my own
notification ASAP.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Feb  3 08:15:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb  3 08:15:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10156] trunk/harbour
Message-ID: <E1LUL7t-00056B-TJ@d5vjzd1.ch3.sourceforge.com>

Revision: 10156
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10156&view=rev
Author:   druzus
Date:     2009-02-03 13:15:40 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 14:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/doc/Makefile
  * harbour/doc/es/Makefile
    * updated file list

  * harbour/debian/rules
    ! changed to use documentation files installed by harbour install phase
      Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/debian/rules
    trunk/harbour/doc/Makefile
    trunk/harbour/doc/es/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Tue Feb  3 08:44:34 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Tue Feb  3 08:44:36 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902030114g7c802d17v78ae7658a68d4669@mail.gmail.com>
References: <21802164.post@talk.nabble.com>	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<18d502870902030114g7c802d17v78ae7658a68d4669@mail.gmail.com>
Message-ID: <49884A42.1050804@ec-red.com>

Viktor Szak?ts escribi?:
> On Tue, Feb 3, 2009 at 9:17 AM, Massimo Belgrano <mbelgrano@deltain.it 
> <mailto:mbelgrano@deltain.it>> wrote:
>
>
>     A distribution ready to use is a very good idea because Xmate is
>     the best editor
>     Borland is most used c compiler on windows platform
>
>
> For the whole picture it's worth mentioning that BCC is 
> the worst mainstream compiler, end-of-line product, 
> generates slow code and buggy. It's only upside is the 
> fastest compiling speed.
What is the most suitable C compiler for Windows XP?

Best Regards
GVS
From vszakats at users.sourceforge.net  Tue Feb  3 08:49:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 08:49:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10157] trunk/harbour
Message-ID: <E1LULe8-0005ay-CW@d5vjzd1.ch3.sourceforge.com>

Revision: 10157
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10157&view=rev
Author:   vszakats
Date:     2009-02-03 13:48:59 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 14:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbusrrdd.ch
  * include/hbapi.h
    + Added HB_SUCCESS, HB_FAILURE on .prg level, too.
    * SUCCESS, FAILURE, ERRCODE as compatibility.
    * Minor cleanup.

  ; TODO: Switch to HB_* versions inside Harbour tree.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbusrrdd.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb  3 08:54:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 08:54:31 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <49884A42.1050804@ec-red.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<18d502870902030114g7c802d17v78ae7658a68d4669@mail.gmail.com>
	<49884A42.1050804@ec-red.com>
Message-ID: <18d502870902030554wc3fd64nc7194fc058782c20@mail.gmail.com>

MSVC 2005 and above (Express Edition is free).
or GCC 4.x, if you want to stick with open tools,
but GCC has a few drawbacks on Windows (executable size).

Brgds,
Viktor

On Tue, Feb 3, 2009 at 2:44 PM, Guillermo Varona Silup?
<gvarona@ec-red.com>wrote:

> Viktor Szak?ts escribi?:
>
>> On Tue, Feb 3, 2009 at 9:17 AM, Massimo Belgrano <mbelgrano@deltain.it<mailto:
>> mbelgrano@deltain.it>> wrote:
>>
>>
>>    A distribution ready to use is a very good idea because Xmate is
>>    the best editor
>>    Borland is most used c compiler on windows platform
>>
>>
>> For the whole picture it's worth mentioning that BCC is the worst
>> mainstream compiler, end-of-line product, generates slow code and buggy.
>> It's only upside is the fastest compiling speed.
>>
> What is the most suitable C compiler for Windows XP?
>
> Best Regards
> GVS
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/09918447/attachment.html
From gvarona at ec-red.com  Tue Feb  3 09:03:59 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Tue Feb  3 09:04:03 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902030554wc3fd64nc7194fc058782c20@mail.gmail.com>
References: <21802164.post@talk.nabble.com>	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>	<18d502870902030114g7c802d17v78ae7658a68d4669@mail.gmail.com>	<49884A42.1050804@ec-red.com>
	<18d502870902030554wc3fd64nc7194fc058782c20@mail.gmail.com>
Message-ID: <49884ECF.1070001@ec-red.com>

Viktor Szak?ts escribi?:
> MSVC 2005 and above (Express Edition is free).
>
> or GCC 4.x, if you want to stick with open tools, 
> but GCC has a few drawbacks on Windows (executable size).
Thanks very much.

Best Regards
GVS
From vszakats at users.sourceforge.net  Tue Feb  3 09:04:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 09:04:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10158] trunk/harbour
Message-ID: <E1LULtQ-0005kW-3j@d5vjzd1.ch3.sourceforge.com>

Revision: 10158
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10158&view=rev
Author:   vszakats
Date:     2009-02-03 14:04:36 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 15:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbapigt.h
  * contrib/hbct/screen1.c
  * source/rtl/console.c
  * source/rtl/hbrunfun.c
  * source/rtl/gx.c
  * source/rtl/gtapi.c
    * SUCCESS -> HB_SUCCESS
    * FAILURE -> HB_FAILURE
    * ERRCODE -> HB_ERRCODE

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/screen1.c
    trunk/harbour/include/hbapigt.h
    trunk/harbour/source/rtl/console.c
    trunk/harbour/source/rtl/gtapi.c
    trunk/harbour/source/rtl/gx.c
    trunk/harbour/source/rtl/hbrunfun.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Tue Feb  3 09:17:06 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Feb  3 09:17:11 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate
	Project Builder
In-Reply-To: <18d502870902030554wc3fd64nc7194fc058782c20@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501DB65CA@PINK.zycie.pzu>

________________________________
	From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
	Sent: Tuesday, February 03, 2009 2:54 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] Out-of-Box usable Harbour Distribution with XMate Project Builder
	
	
	MSVC 2005 and above (Express Edition is free). 

	or GCC 4.x, if you want to stick with open tools, 
	but GCC has a few drawbacks on Windows (executable size).

	Brgds,
	Viktor
________________________________
What you think about OpenWatcom ?

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Tue Feb  3 09:14:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 09:22:03 2009
Subject: [Harbour] MSVC warning in thread.c
Message-ID: <18d502870902030614s5429f999ic8180662de5a3b34@mail.gmail.com>

This may be relevant:

source\vm\thread.c(920) : warning C4244: '=' : conversion from 'HB_ULONG' to
'ULONG', possible loss of data

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/6ff4fc60/attachment.html
From vszakats at users.sourceforge.net  Tue Feb  3 09:29:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 09:29:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10159] trunk/harbour
Message-ID: <E1LUMHc-0005y5-1T@d5vjzd1.ch3.sourceforge.com>

Revision: 10159
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10159&view=rev
Author:   vszakats
Date:     2009-02-03 14:29:35 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 15:27 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbapirdd.h
  * source/rdd/dbcmd.c
  * source/rdd/dbcmd53.c
  * source/rdd/dbcmdx.c
  * source/rdd/dbdetach.c
  * source/rdd/dbf1.c
  * source/rdd/dbsql.c
  * source/rdd/delim1.c
  * source/rdd/hbdbsort.c
  * source/rdd/sdf1.c
  * source/rdd/wacore.c
  * source/rdd/wafunc.c
  * source/rdd/workarea.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/dbfnsx/dbfnsx1.c
  * source/rdd/dbfntx/dbfntx1.c
  * source/rdd/hbsix/sxcrypt.c
  * source/rdd/hbsix/sxord.c
  * source/rdd/hbsix/sxtable.c
  * source/rdd/hsx/hsx.c
  * source/rdd/nulsys/nulsys.c
  * source/rdd/usrrdd/rdds/arrayrdd.prg
  * source/rdd/usrrdd/rdds/fcomma.prg
  * source/rdd/usrrdd/rdds/hscdx.prg
  * source/rdd/usrrdd/rdds/logrdd.prg
  * source/rdd/usrrdd/rdds/rlcdx.prg
  * source/rdd/usrrdd/usrrdd.c
    * SUCCESS -> HB_SUCCESS
    * FAILURE -> HB_FAILURE
    * ERRCODE -> HB_ERRCODE

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapirdd.h
    trunk/harbour/source/rdd/dbcmd.c
    trunk/harbour/source/rdd/dbcmd53.c
    trunk/harbour/source/rdd/dbcmdx.c
    trunk/harbour/source/rdd/dbdetach.c
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
    trunk/harbour/source/rdd/dbsql.c
    trunk/harbour/source/rdd/delim1.c
    trunk/harbour/source/rdd/hbdbsort.c
    trunk/harbour/source/rdd/hbsix/sxcrypt.c
    trunk/harbour/source/rdd/hbsix/sxord.c
    trunk/harbour/source/rdd/hbsix/sxtable.c
    trunk/harbour/source/rdd/hsx/hsx.c
    trunk/harbour/source/rdd/nulsys/nulsys.c
    trunk/harbour/source/rdd/sdf1.c
    trunk/harbour/source/rdd/usrrdd/rdds/arrayrdd.prg
    trunk/harbour/source/rdd/usrrdd/rdds/fcomma.prg
    trunk/harbour/source/rdd/usrrdd/rdds/hscdx.prg
    trunk/harbour/source/rdd/usrrdd/rdds/logrdd.prg
    trunk/harbour/source/rdd/usrrdd/rdds/rlcdx.prg
    trunk/harbour/source/rdd/usrrdd/usrrdd.c
    trunk/harbour/source/rdd/wacore.c
    trunk/harbour/source/rdd/wafunc.c
    trunk/harbour/source/rdd/workarea.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb  3 09:49:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 09:54:33 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501DB65CA@PINK.zycie.pzu>
References: <18d502870902030554wc3fd64nc7194fc058782c20@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501DB65CA@PINK.zycie.pzu>
Message-ID: <18d502870902030649v31f00eaav7b6e29a32c0c927@mail.gmail.com>

I honestly can't see it's advantages if we compare it to MSVC or GCC. Even
if it's a good compiler, today it's not
mainstream, so it's not widely supported and this makes
it difficult to use it to compile 3rd party packages, or find
support for it.

OW seems the best choice out of the "non-mainstream"
bunch of compilers though, and it seems superior to BCC
in most aspects, except support and general acceptance.
This may change as OpenWatcom has the potential to
grow and gain acceptance (being OSS), while I believe BCC
is pretty much dying.

Brgds,
Viktor

2009/2/3 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

> ________________________________
>        From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
>        Sent: Tuesday, February 03, 2009 2:54 PM
>        To: Harbour Project Main Developer List.
>        Subject: Re: [Harbour] Out-of-Box usable Harbour Distribution with
> XMate Project Builder
>
>
>        MSVC 2005 and above (Express Edition is free).
>
>        or GCC 4.x, if you want to stick with open tools,
>        but GCC has a few drawbacks on Windows (executable size).
>
>        Brgds,
>        Viktor
> ________________________________
> What you think about OpenWatcom ?
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/5dcc1732/attachment.html
From harbour.01 at syenar.hu  Tue Feb  3 09:59:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 10:04:23 2009
Subject: [Harbour] OpenWatcom 1.8 RC3
Message-ID: <18d502870902030659l681bf79ar5d68c15423687c7e@mail.gmail.com>

The development direction seems pretty good:
http://www.openwatcom.org/index.php/C_Compilers_Release_Changes

Links:
http://openwatcom.mirrors.skynet.be/pub/ftp.openwatcom.org/open-watcom-c-win32-1.8RC3.exe
http://openwatcom.mirrors.skynet.be/pub/ftp.openwatcom.org/open-watcom-c-os2-1.8RC3.exe
http://openwatcom.mirrors.skynet.be/pub/ftp.openwatcom.org/open-watcom-c-dos-1.8RC3.exe
http://openwatcom.mirrors.skynet.be/pub/ftp.openwatcom.org/open-watcom-c-linux-1.8RC3

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/0b8d30e6/attachment.html
From sscc at mweb.co.za  Tue Feb  3 10:05:28 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Feb  3 10:05:53 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902030649v31f00eaav7b6e29a32c0c927@mail.gmail.com>
References: <18d502870902030554wc3fd64nc7194fc058782c20@mail.gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501DB65CA@PINK.zycie.pzu>
	<18d502870902030649v31f00eaav7b6e29a32c0c927@mail.gmail.com>
Message-ID: <49885D38.4060906@mweb.co.za>

Hi Viktor

I tried to use Mingw and GCC some while back, but I use some MSVC 
compiled commercial libs and so could not proceed. Do you know of any 
solutions for linking MSVC libs with GCC code?

Thanks
Alex
From vszakats at users.sourceforge.net  Tue Feb  3 10:17:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 10:17:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10160] trunk/harbour
Message-ID: <E1LUN1d-0008MD-Cx@dn4whf1.ch3.sourceforge.com>

Revision: 10160
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10160&view=rev
Author:   vszakats
Date:     2009-02-03 15:17:20 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 16:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbrddcdx.h
  * contrib/rddsql/sddmy/mysqldd.c
  * contrib/rddsql/sddpg/pgsqldd.c
  * contrib/rddsql/sddfb/fbirddd.c
  * contrib/rddsql/hbrddsql.h
  * contrib/rddsql/sqlbase.c
  * contrib/rddsql/sqlmix.c
  * contrib/rddado/adordd.prg
  * contrib/rddads/rddads.h
  * contrib/rddads/adsfunc.c
  * contrib/rddads/ads1.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbmcdx/hbbmcdx.h
    * SUCCESS -> HB_SUCCESS
    * FAILURE -> HB_FAILURE
    * ERRCODE -> HB_ERRCODE

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h
    trunk/harbour/contrib/rddado/adordd.prg
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/contrib/rddads/rddads.h
    trunk/harbour/contrib/rddsql/hbrddsql.h
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/include/hbrddcdx.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Feb  3 10:23:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb  3 10:23:32 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902030114g7c802d17v78ae7658a68d4669@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<18d502870902030114g7c802d17v78ae7658a68d4669@mail.gmail.com>
Message-ID: <609353e70902030723v487ef7a5hcb338c51f72b0821@mail.gmail.com>

2009/2/3 Viktor Szak?ts <harbour.01@syenar.hu>

> Today is still difficult compile harbour sample/contrib because one require
>> special switch , one require more file in
>>
>
> This is simply not true. [ Or if you have a specific examples, please
> tell, and it will be fixed. ]
>
> For contribs you only need to run:
> make_vc_all or make_b32_all or make
>

I think that i not explain clear my idea.... sorry
i not think to How make library but how make sample exe from prg
Make opereation is different on different os and compiler
I think that a unique compiler operation (after correct set) will be more
easy
Think write a "How to in harbour" who is different in different os/compiler
hbmk_vc is different from hbmk_b32  and from hbmk and from hbmk_gnu
gtwvg\sample\demowvg.prg for example is require differrent way
required lib and required switch must be included in source prg
my dream is
hbmk myprg and i found and i found myprg.exe created with correct lib and
switch (information writed in prg)

In multifile tests/examples you don't need <file.prg>.
>


> That's about it. Of course one needs to make sure
> to have a properly installed and setup C compiler.
>
Naturally
but if i have properly setup c compiler why i must properly remeber to use
hbmk_b32,hbbk_vc,hbmk_gnu,hb_mk?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/d62d4a02/attachment-0001.html
From mbelgrano at deltain.it  Tue Feb  3 10:34:34 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb  3 10:34:38 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
Message-ID: <609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>

I think that bcc is the most used in windows platform not the best
same library are ready only for bcc like sqlrdd,mediator, ecc
so i agree with a tool ready to use for bcc user like me

In my opinion most organization is not a problem or at lest is not
considered


Using bcc licences to individual  , and license to organization can easy
resolve problem
But i am only developer in my organization so i not have problem
Is a free product in fact

2009/2/3 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>

> On Tue, Feb 3, 2009 at 9:17 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>
> > Borland is most used c compiler on windows platform
>
> Do you have any evidence of that?
>
> Have you read and accepted license.txt?
>
> --- cut ---
> You may install a copy of the Software on a computer and freely move
> the Software from one computer to another, provided that you
> are the only individual using the Software.  If you are an
> entity, Inprise grants you the right to designate one
> individual within your organization ("Named User") to have
> the right to use the Software in the manner provided above.
> --- cut ---
>
> this mean that an organization can use it only on 1 computer and only
> by 1 developer.
>
> Do you think it's a good idea to promote it?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/379f99c4/attachment.html
From mbelgrano at deltain.it  Tue Feb  3 10:35:46 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb  3 10:35:50 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
Message-ID: <609353e70902030735u4ac9ec0fuf664a9e209a5383d@mail.gmail.com>

Sorry for signature/firm in prev messages
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/13d2992c/attachment.html
From harbour.01 at syenar.hu  Tue Feb  3 10:26:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 10:39:53 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <49885D38.4060906@mweb.co.za>
References: <18d502870902030554wc3fd64nc7194fc058782c20@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501DB65CA@PINK.zycie.pzu>
	<18d502870902030649v31f00eaav7b6e29a32c0c927@mail.gmail.com>
	<49885D38.4060906@mweb.co.za>
Message-ID: <18d502870902030726s1174de68g492e97a4979b7f83@mail.gmail.com>

I haven't tried doing that. It seems a very bumpy road,
and I'm not very positive this is possible at all, unless GCC
linker gets support for MS .lib format, calling/naming
conventions. And even then there is the potential problem
of resolving CRTL functions.

Instead, you may encapsulate the MSVC dependent
functionality into a self contained .dll, and try using that .dll
with the GCC linked executable. This may also have some
tricky bits, but these are documented on the net and most
probably solvable with some playing around.

Brgds,
Viktor

On Tue, Feb 3, 2009 at 4:05 PM, Alex Strickland <sscc@mweb.co.za> wrote:

> Hi Viktor
>
> I tried to use Mingw and GCC some while back, but I use some MSVC compiled
> commercial libs and so could not proceed. Do you know of any solutions for
> linking MSVC libs with GCC code?
>
> Thanks
> Alex
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/d77b3fb2/attachment.html
From joe_bernardes at yahoo.com.br  Tue Feb  3 10:48:13 2009
From: joe_bernardes at yahoo.com.br (Joel M Bernardes)
Date: Tue Feb  3 10:48:17 2009
Subject: [Harbour] Error in compiler
In-Reply-To: <E1LUN1d-0008MD-Cx@dn4whf1.ch3.sourceforge.com>
Message-ID: <608108.60895.qm@web51909.mail.re2.yahoo.com>


Hello all.
I am with that mistake to generate the bin 
CVS.??

========================================================
make
make install.
?
! Installing whatsnew.txt on /harbour/doc
cp: 
`whatsnew.txt' and `/harbour/doc/whatsnew.txt' are the same file
! Installing 
windll.txt on /harbour/doc
cp: `windll.txt' and `/harbour/doc/windll.txt' are 
the same file
make[1]: *** [install] Error 1
make[1]: Leaving directory 
`/harbour/doc'
make: *** [doc.inst] Error 
=========================================================??
? 
By chance it did change some thing 
in the configuration that I am not knowing?? 
?
Using ->> Msys/Mingw .
?
Many Thanks.
Joe Bernardes


      Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/56f0797a/attachment.html
From sscc at mweb.co.za  Tue Feb  3 10:51:16 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Feb  3 10:51:24 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902030726s1174de68g492e97a4979b7f83@mail.gmail.com>
References: <18d502870902030554wc3fd64nc7194fc058782c20@mail.gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501DB65CA@PINK.zycie.pzu>	<18d502870902030649v31f00eaav7b6e29a32c0c927@mail.gmail.com>	<49885D38.4060906@mweb.co.za>
	<18d502870902030726s1174de68g492e97a4979b7f83@mail.gmail.com>
Message-ID: <498867F4.7070808@mweb.co.za>

Viktor Szak?ts wrote:

> Instead, you may encapsulate the MSVC dependent 
> functionality into a self contained .dll, and try using that .dll 
> with the GCC linked executable. This may also have some 
> tricky bits, but these are documented on the net and most 
> probably solvable with some playing around.

Yes, I suppose this is best.

Thank you
Alex
From druzus at acn.waw.pl  Tue Feb  3 11:03:09 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb  3 10:58:40 2009
Subject: [Harbour] Error in compiler
In-Reply-To: <608108.60895.qm@web51909.mail.re2.yahoo.com>
References: <E1LUN1d-0008MD-Cx@dn4whf1.ch3.sourceforge.com>
	<608108.60895.qm@web51909.mail.re2.yahoo.com>
Message-ID: <20090203160308.GA32223@uran.home.aster.pl>

On Tue, 03 Feb 2009, Joel M Bernardes wrote:

Hi,

> I am with that mistake to generate the bin 
> CVS.??
> ========================================================
> make
> make install.
> ! Installing whatsnew.txt on /harbour/doc
> cp: 
> `whatsnew.txt' and `/harbour/doc/whatsnew.txt' are the same file
> ! Installing 
> windll.txt on /harbour/doc
> cp: `windll.txt' and `/harbour/doc/windll.txt' are 
> the same file
> make[1]: *** [install] Error 1
> make[1]: Leaving directory 
> `/harbour/doc'
> make: *** [doc.inst] Error 
> =========================================================??
> By chance it did change some thing 
> in the configuration that I am not knowing?? 
> Using ->> Msys/Mingw .

You set HB_DOC_INSTALL envvar to your source harbour doc library.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  3 10:58:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 10:58:56 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <609353e70902030723v487ef7a5hcb338c51f72b0821@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<18d502870902030114g7c802d17v78ae7658a68d4669@mail.gmail.com>
	<609353e70902030723v487ef7a5hcb338c51f72b0821@mail.gmail.com>
Message-ID: <18d502870902030758tbd6822eu3953b86aa08c2f03@mail.gmail.com>

>
> hbmk_vc is different from hbmk_b32  and from hbmk and from hbmk_gnu
>
gtwvg\sample\demowvg.prg for example is require differrent way
> required lib and required switch must be included in source prg
> my dream is
> hbmk myprg and i found and i found myprg.exe created with correct lib and
> switch (information writed in prg)
>

I'm not sure when was the last time you've tried,
but demowvg compiles absolutely fine without
any tricks by using 'hbmk_b32 demowvg.prg' for
BCC, and 'hbmk_vc demowvg.prg' (well MSVC
GPFs, as I've reported).

There were a few hours or days right after some
GTWVG development when some extra hacks were
needed, but these were cleared pretty quickly.


> That's about it. Of course one needs to make sure
>> to have a properly installed and setup C compiler.
>>
> Naturally
> but if i have properly setup c compiler why i must properly remeber to use
> hbmk_b32,hbbk_vc,hbmk_gnu,hb_mk?
>

Well, first of all we have two different build systems.
Until we decide to have only one, we have to live with the
two of them. Once you've chosen yours, it's pretty straightforward,
and they are also quite well synced, so the differences
are rather small from the users' POV.

Second, we have hbmk.bat which is able to build any
executable given that some parameters are specified,
pretty easy and documented. (HB_COMPILER,
HB_ARCHITECTURE, HB_USER_LIBS, HB_MT, etc)

We also have hbmk for the GNU make system + bash,
even easier.

For convenience and the sheer goal of making it
easier to _start with_ Harbour, we have a few hundred
hbmk_b32.bat and hbmk_vc.bat files which allow for
no-configuration build of tests. The goal is not to cover
the whole range of compilers and platforms, since no
one would maintain thousands of such files for all
possible combinations.

These files are however perfectly enough (IMO) to
give an idea about these few parameters to tweak
to successfully create test programs with other
compilers (like OpenWatcom or GCC).

Anyhow you seem to complain about BCC, which is
the most supported compiler in Harbour, so I'm really
lost what could be made even easier.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/1832f092/attachment-0001.html
From harbour.01 at syenar.hu  Tue Feb  3 11:11:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 11:15:43 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
Message-ID: <18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>

On Tue, Feb 3, 2009 at 4:34 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I think that bcc is the most used in windows platform not the best


No serious compilers on the free (and non-free) software marked
use BCC. It's a historical thing that Harbour picked it up (*), and
developers followed suit 10 years ago and stuck with it since then.

[ (*) With reason, as 10 years ago this was pretty much the first
mainstream and usable compiler to go free, GCC just began
to gain acceptance and maturity with version 2.95, but it was
much slower on the computers of that time. Times have changed,
and none of these advantages are relevant anymore. ]


> same library are ready only for bcc like sqlrdd,mediator, ecc
> so i agree with a tool ready to use for bcc user like me


Mediator is also available for MSVC. Binary distributions for
Windows usually support MSVC and MingW these days,
sometimes Borland, but it's fading.

Anyhow above two packages show exactly why closed
commercial products can tie developer's hand, even if they
are otherwise good and useful ones.

Brdgs,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/ef28f595/attachment.html
From vszakats at users.sourceforge.net  Tue Feb  3 11:26:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 11:26:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10161] trunk/harbour
Message-ID: <E1LUO6U-0007Qg-81@d5vjzd1.ch3.sourceforge.com>

Revision: 10161
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10161&view=rev
Author:   vszakats
Date:     2009-02-03 16:26:25 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 17:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/gtwvt/gtwvt.c
    ! Fixed for OpenWatcom 1.8. (SM_REMOTESESSION wasn't defined)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Feb  3 11:30:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb  3 11:30:23 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
Message-ID: <609353e70902030830k686f37c3rfee241ffc00c753d@mail.gmail.com>

Agree all your assertionso i revise:
bcc is only most used in windows with [x]harbour (due to last 10 year)
Why not write in the upcoming  harbour website mingw as suggested harbour
compiler for win32?
any opinion?



2009/2/3 Viktor Szak?ts <harbour.01@syenar.hu>

> On Tue, Feb 3, 2009 at 4:34 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>
>> I think that bcc is the most used in windows platform not the best
>
>
> No serious compilers on the free (and non-free) software marked
> use BCC. It's a historical thing that Harbour picked it up (*), and
> developers followed suit 10 years ago and stuck with it since then.
>
> [ (*) With reason, as 10 years ago this was pretty much the first
> mainstream and usable compiler to go free, GCC just began
> to gain acceptance and maturity with version 2.95, but it was
> much slower on the computers of that time. Times have changed,
> and none of these advantages are relevant anymore. ]
>
>
>> same library are ready only for bcc like sqlrdd,mediator, ecc
>> so i agree with a tool ready to use for bcc user like me
>
>
> Mediator is also available for MSVC. Binary distributions for
> Windows usually support MSVC and MingW these days,
> sometimes Borland, but it's fading.
>
> Anyhow above two packages show exactly why closed
> commercial products can tie developer's hand, even if they
> are otherwise good and useful ones.
>
> Brdgs,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/5484f5af/attachment.html
From dbtopas at dbtopas.lt  Tue Feb  3 11:43:17 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Feb  3 11:43:08 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
References: <21802164.post@talk.nabble.com>	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
Message-ID: <49887425.5040808@dbtopas.lt>

Hi,


I do not want to start discussion who is better. I just can say, why I'm 
using BCC.

It has 8.9MB single install file. I've also downloaded MSVC install CD, 
but understood I do not have enough free space on C:\ to install it :)

There are many talks about calling conventions, but until know I've 
successfully linked all .dll files I've needed (with BCC made import 
libraries), regardless compiler .dll was compiler with.

There are much more problems with .h and .lib files compatibility than 
with .dlls. I use gcc (actually mingw) for some projects, because I'm 
unable to link GTK .h files with BCC.

I've done some mingw tests in the past (trying to move from BCC to 
mingw), but mingw speed was poor. Perhaps because of not very good RTL 
code, for example mingw uses windows heap functions instead of high 
quality dlmalloc, ptmalloc allocators. I still like a small disk size 
programs, so, I guess I'll switch to mingw (it has 50MB on disk) some 
time. BCC bugs can make me do this switch very quickly, but until know 
these bugs does not exposes itself in end user applications.


Best regards,
Mindaugas

From harbour.01 at syenar.hu  Tue Feb  3 11:47:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 11:50:49 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <609353e70902030830k686f37c3rfee241ffc00c753d@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
	<609353e70902030830k686f37c3rfee241ffc00c753d@mail.gmail.com>
Message-ID: <18d502870902030847h44466b1kd213be0f86ad4bae@mail.gmail.com>

On Tue, Feb 3, 2009 at 5:30 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Agree all your assertionso i revise:
> bcc is only most used in windows with [x]harbour (due to last 10 year)
> Why not write in the upcoming  harbour website mingw as suggested harbour
> compiler for win32?
> any opinion?
>

We can make such recommendation, or even better
give a priority list of compilers / platforms supported
by Harbour. I've posted one such possible priority at
around release 1.0. This way we may gently shift
focus on the long run.

The benefit is of the users' for the most part, Harbour's
benefit is some potential quality image gain, by
picking and supporting good quality, standard external
tools.

>From a development POV, all this doesn't really matter,
as it's highly unlikely that support for any of the widely
used compilers would suddenly be dropped. This wouldn't
make any sense anyway, since this is an OSS project.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/6b60cee3/attachment.html
From mbelgrano at deltain.it  Tue Feb  3 12:22:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb  3 12:22:34 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902030847h44466b1kd213be0f86ad4bae@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
	<609353e70902030830k686f37c3rfee241ffc00c753d@mail.gmail.com>
	<18d502870902030847h44466b1kd213be0f86ad4bae@mail.gmail.com>
Message-ID: <609353e70902030922re668608q974bb8139bd6114d@mail.gmail.com>

2009/2/3 Viktor Szak?ts <harbour.01@syenar.hu>
> We can make such recommendation, or even better
> give a priority list of compilers / platforms supported
> by Harbour. I've posted one such possible priority at
> around release 1.0. This way we may gently shift
> focus on the long run.
Wich is your prefered list today?
Can be made same works for give speed to a particular compiler
and write "Optimized for mingw" (only for example)
for example resolve problem of missing high quality dlmalloc, ptmalloc
allocators in mingw?
This can give a direction better that more world

> The benefit is of the users' for the most part, Harbour's
> benefit is some potential quality image gain, by
> picking and supporting good quality, standard external
> tools.
Tools for adeveloper will be are ide and a library
Wich are your suggestion for windows/harbour?

> From a development POV, all this doesn't really matter,
> as it's highly unlikely that support for any of the widely
> used compilers would suddenly be dropped. This wouldn't
> make any sense anyway, since this is an OSS project.

Sorry for my ingorance
What is oss?
From vszakats at users.sourceforge.net  Tue Feb  3 12:25:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 12:25:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10162] trunk/harbour
Message-ID: <E1LUP1h-0001BF-FB@bj8yhf1.ch3.sourceforge.com>

Revision: 10162
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10162&view=rev
Author:   vszakats
Date:     2009-02-03 17:25:32 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 18:24 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/en/hb_api.txt
  * doc/en/hb_apird.txt
  * include/hbrdddbf.h
  * include/hbrddcdx.h
  * include/hbapi.h
  * include/hbrddfpt.h
  * include/hbrddntx.h
  * contrib/hbct/dbftools.c
  * contrib/rddado/adordd.prg
  * contrib/hbpgsql/pgrdd.prg
  * contrib/rddads/adsx.c
  * contrib/rddads/adsfunc.c
  * contrib/examples/rdddbt/hbrdddbt.h
  * contrib/examples/rdddbt/dbfdbt1.c
  * source/vm/hvm.c
  * source/vm/memvars.c
  * source/debug/dbgentry.c
    * SUCCESS -> HB_SUCCESS
    * FAILURE -> HB_FAILURE
    * ERRCODE -> HB_ERRCODE
    ; Migration finished.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/rdddbt/dbfdbt1.c
    trunk/harbour/contrib/examples/rdddbt/hbrdddbt.h
    trunk/harbour/contrib/hbct/dbftools.c
    trunk/harbour/contrib/hbpgsql/pgrdd.prg
    trunk/harbour/contrib/rddado/adordd.prg
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/doc/en/hb_api.txt
    trunk/harbour/doc/en/hb_apird.txt
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/include/hbrdddbf.h
    trunk/harbour/include/hbrddfpt.h
    trunk/harbour/include/hbrddntx.h
    trunk/harbour/source/debug/dbgentry.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From miguelangel at marchuet.net  Tue Feb  3 12:45:18 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Tue Feb  3 12:40:25 2009
Subject: [Harbour] collations of DBF
In-Reply-To: <18d502870901300252s387d5dc5pe3ea6677b57a5fed@mail.gmail.com>
References: <18d502870901292331q43ecbe42o22f0302562657d8b@mail.gmail.com>	<4982D67C.90605@mweb.co.za>
	<18d502870901300252s387d5dc5pe3ea6677b57a5fed@mail.gmail.com>
Message-ID: <498882AE.9090703@marchuet.net>

the offset 1Dh  at DBF/foxpro header tables has ( Language driver ) as follow:

(Foxpro) Code page: These values follow the DOS / Windows Code Page values.
Value 	Description 	Code page
01h 	DOS USA	code page 437
02h 	DOS Multilingual	code page 850
03h 	Windows ANSI	code page 1252
04h 	Standard Macintosh
64h 	EE MS-DOS	code page 852
65h 	Nordic MS-DOS	code page 865
66h 	Russian MS-DOS	code page 866
67h 	Icelandic MS-DOS
68h 	Kamenicky (Czech) MS-DOS
69h 	Mazovia (Polish) MS-DOS
6Ah 	Greek MS-DOS (437G)
6Bh 	Turkish MS-DOS
96h 	Russian Macintosh
97h 	Eastern European Macintosh
98h 	Greek Macintosh
C8h 	Windows EE	code page 1250
C9h 	Russian Windows
CAh 	Turkish Windows
CBh 	Greek Windows


I purpose to save this information at DBF, and use this collation
at dbfCompare, to sort properly the tables.

We can add too other code pages that are created at harbour.


Best regards,
Miguel Angel Marchuet
From druzus at users.sourceforge.net  Tue Feb  3 12:46:59 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb  3 12:47:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10163] trunk/harbour
Message-ID: <E1LUPMR-0008Qa-4a@d5vjzd1.ch3.sourceforge.com>

Revision: 10163
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10163&view=rev
Author:   druzus
Date:     2009-02-03 17:46:58 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-03 18:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/thread.c
    * casting to pacify warning. The code is correct.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Feb  3 12:48:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb  3 12:48:34 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <49887425.5040808@dbtopas.lt>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
	<49887425.5040808@dbtopas.lt>
Message-ID: <609353e70902030948p5d78d0b2gc704c65fddfe8a02@mail.gmail.com>

Speedtest notice you difference in speed between bcc & MINGW?
or ignore difference due to use windows heap functions instead of
dlmalloc, ptmalloc ?
can you post me a reduced example who show difference in speed (bcc,mingw)


2009/2/3 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi,

> I've done some mingw tests in the past (trying to move from BCC to mingw),
> but mingw speed was poor. Perhaps because of not very good RTL code, for
> example mingw uses windows heap functions instead of high quality dlmalloc,
> ptmalloc allocators. I still like a small disk size programs, so, I guess
> I'll switch to mingw (it has 50MB on disk) some time. BCC bugs can make me
> do this switch very quickly, but until know these bugs does not exposes
> itself in end user applications.
>
From harbour.01 at syenar.hu  Tue Feb  3 12:48:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 12:51:09 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <609353e70902030922re668608q974bb8139bd6114d@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
	<609353e70902030830k686f37c3rfee241ffc00c753d@mail.gmail.com>
	<18d502870902030847h44466b1kd213be0f86ad4bae@mail.gmail.com>
	<609353e70902030922re668608q974bb8139bd6114d@mail.gmail.com>
Message-ID: <18d502870902030948l6cf9bbdercf0aeee8812d0fdc@mail.gmail.com>

>
> Wich is your prefered list today?
> Can be made same works for give speed to a particular compiler
> and write "Optimized for mingw" (only for example)


But it's not in fact optimized for MingW. This is a multicompiler
project, we can only recommend, but not decide on behalf of the
users. We can only make suggestion to enhance their final result.
There are many factors, so even this isn't always obvious.

Preferred list:
MSVC 2008, MSVC 2005, MingW/GCC 4.x, OpenWatcom.
[ BCC only to do quick draft Harbour builds and to clean code from
warnings/errors. ]


> for example resolve problem of missing high quality dlmalloc, ptmalloc
> allocators in mingw?


For Harbour it doesn't really matter as Harbour uses dlmalloc
anyway, and we just use a very small number of C RTL calls,
even less is allocating memory. And we're trying to get rid
of those gradually (see hb_snprintf()).


> > The benefit is of the users' for the most part, Harbour's
> > benefit is some potential quality image gain, by
> > picking and supporting good quality, standard external
> > tools.
> Tools for adeveloper will be are ide and a library
> Wich are your suggestion for windows/harbour?


I'm very old fashioned and I'm not using an IDE.
[ but not old fashioned enough to use VI/VIM/EMACS :) ]
So I'm using Far Manager + internal editor + command
line tools, not even the debugger.

I'd be nice to have something like Visual Studio
for Harbour, but so far I've seen none which would
actually enhance productivity (meaning being quick,
with good editor and well-integrated with the language
- syntax highlighting and "intellisense").

Eclipse is the logical choice to integrate Harbour
with. Dunno what it takes though. Maybe there'll be
something lighter on the scene.

At least half point of these IDEs are the integrated UI
design tools, and for Harbour, this is problematic until
it doesn't have a native GUI API + class.

> From a development POV, all this doesn't really matter,
> > as it's highly unlikely that support for any of the widely
> > used compilers would suddenly be dropped. This wouldn't
> > make any sense anyway, since this is an OSS project.
>
> Sorry for my ingorance
> What is oss?


Open Source Software (similar is FOSS, FLOSS).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/abcad4fd/attachment.html
From harbour.01 at syenar.hu  Tue Feb  3 13:06:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 13:06:39 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <609353e70902030948p5d78d0b2gc704c65fddfe8a02@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
	<49887425.5040808@dbtopas.lt>
	<609353e70902030948p5d78d0b2gc704c65fddfe8a02@mail.gmail.com>
Message-ID: <18d502870902031006s24ce69f4o547436129df0d2c8@mail.gmail.com>

On Tue, Feb 3, 2009 at 6:48 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Speedtest notice you difference in speed between bcc & MINGW?


Yes. I've posted results on this list back then.

There are also pretty extensive C compiler benchmark pages
on the net, and the overall conclusion is that the slower the
compiling process is, the faster the compiled binary, and the
_general_ rank by speed is usually this: ICC (non-free), MSVC,
GCC, BCC. Compilation speed rank is about the reverse.

or ignore difference due to use windows heap functions instead of
> dlmalloc, ptmalloc ?
> can you post me a reduced example who show difference in speed (bcc,mingw)


I have no such special code. For speed testing,
speedtst.prg is perfectly good. Or just build your app and try.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/bdc76d73/attachment.html
From mbelgrano at deltain.it  Tue Feb  3 13:08:46 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb  3 13:08:49 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902030948l6cf9bbdercf0aeee8812d0fdc@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
	<609353e70902030830k686f37c3rfee241ffc00c753d@mail.gmail.com>
	<18d502870902030847h44466b1kd213be0f86ad4bae@mail.gmail.com>
	<609353e70902030922re668608q974bb8139bd6114d@mail.gmail.com>
	<18d502870902030948l6cf9bbdercf0aeee8812d0fdc@mail.gmail.com>
Message-ID: <609353e70902031008o4f00dd63h1b07869da604321a@mail.gmail.com>

2009/2/3 Viktor Szak?ts <harbour.01@syenar.hu>:
> But it's not in fact optimized for MingW. This is a multicompiler
> project, we can only recommend, but not decide on behalf of the
> users. We can only make suggestion to enhance their final result.
> There are many factors, so even this isn't always obvious.
> Preferred list:
> MSVC 2008, MSVC 2005, MingW/GCC 4.x, OpenWatcom.
> [ BCC only to do quick draft Harbour builds and to clean code from
> warnings/errors. ]
Very good suggestion
have you link for sdk required msvs2008 with harbour?
a static lib written form vc 6,2005 will run in application compiled
with msvc 2008 ?

> For Harbour it doesn't really matter as Harbour uses dlmalloc
> anyway, and we just use a very small number of C RTL calls,
> even less is allocating memory. And we're trying to get rid
> of those gradually (see hb_snprintf()).
So for harbour code mingw not have noticiable speed differences?
and in future will run better on mingw/gcc.

>
> I'm very old fashioned and I'm not using an IDE.
> [ but not old fashioned enough to use VI/VIM/EMACS :) ]
> So I'm using Far Manager + internal editor + command
> line tools, not even the debugger.
> I'd be nice to have something like Visual Studio
> for Harbour, but so far I've seen none which would
> actually enhance productivity (meaning being quick,
> with good editor and well-integrated with the language
> - syntax highlighting and "intellisense").
> Eclipse is the logical choice to integrate Harbour
> with. Dunno what it takes though. Maybe there'll be
> something lighter on the scene.
I am a old user of norton commander so Far manager seem very nice to me,.
Visual Studio have extensibility also for other languages

> At least half point of these IDEs are the integrated UI
> design tools, and for Harbour, this is problematic until
> it doesn't have a native GUI API + class.

Will native GUI API+ class start from xbase++ part made by Pritpal
Bedi implementation?


>> Sorry for my ingorance
>> What is oss?
>
> Open Source Software (similar is FOSS, FLOSS).

Thanks
From harbour.01 at syenar.hu  Tue Feb  3 13:30:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 13:30:55 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <609353e70902031008o4f00dd63h1b07869da604321a@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<609353e70902030017u64ad4633sef39552a3eea7cc9@mail.gmail.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
	<609353e70902030830k686f37c3rfee241ffc00c753d@mail.gmail.com>
	<18d502870902030847h44466b1kd213be0f86ad4bae@mail.gmail.com>
	<609353e70902030922re668608q974bb8139bd6114d@mail.gmail.com>
	<18d502870902030948l6cf9bbdercf0aeee8812d0fdc@mail.gmail.com>
	<609353e70902031008o4f00dd63h1b07869da604321a@mail.gmail.com>
Message-ID: <18d502870902031030o48ffe11es8e88b96c6d3d7772@mail.gmail.com>

>
> > MSVC 2008, MSVC 2005, MingW/GCC 4.x, OpenWatcom.
> > [ BCC only to do quick draft Harbour builds and to clean code from
> > warnings/errors. ]
> Very good suggestion
> have you link for sdk required msvs2008 with harbour?


No sorry, it's somewhere on MS's website.


> a static lib written form vc 6,2005 will run in application compiled
> with msvc 2008 ?


Depends how it's built, VC6 I wouldn't think so, but 2005 and 2008
can probably be mixed. Depends on some factors I cannot
and don't really want to oversee, so I generally avoid mixing versions,
or even using different build options.


> > For Harbour it doesn't really matter as Harbour uses dlmalloc
> > anyway, and we just use a very small number of C RTL calls,
> > even less is allocating memory. And we're trying to get rid
> > of those gradually (see hb_snprintf()).
> So for harbour code mingw not have noticiable speed differences?
> and in future will run better on mingw/gcc.


Harbour+MinGW doesn't have a speed penalty because of
memory management, in my experience. Neither does
BCC, as both are using dlmalloc in Harbour by default.

[ in 1.1.x that is, in 1.0.x the picture is different. ]


> > something lighter on the scene.
> I am a old user of norton commander so Far manager seem very nice to me,.
> Visual Studio have extensibility also for other languages


Yes, but it's a minefield when it comes to licensing.

Far Manager is now also Open Source BTW. Unicode
version is under development.


> > At least half point of these IDEs are the integrated UI
> > design tools, and for Harbour, this is problematic until
> > it doesn't have a native GUI API + class.
>
> Will native GUI API+ class start from xbase++ part made by Pritpal
> Bedi implementation?


The Xbase++ visual class part maybe, but the backend
is Windows-only so it doesn't fit Harbour at the moment.
We'd need a portable GUI API under it. GTK or QT.

QT is now available in LGPL, which may fit Harbour and
Harbour apps, but I'm no law expert. QT is much smoother
than GTK, AFAIK.

BTW, does anyone know what is the difference between
LGPL and GPL+Harbour exception?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/9342123f/attachment.html
From harbour.01 at syenar.hu  Tue Feb  3 13:45:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 13:48:49 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate 
	Project Builder
In-Reply-To: <18d502870902031030o48ffe11es8e88b96c6d3d7772@mail.gmail.com>
References: <21802164.post@talk.nabble.com>
	<9257026e0902030113q38ed092ajf5779cdfe2c93461@mail.gmail.com>
	<609353e70902030734p75a383b7kea5e48e8452d865b@mail.gmail.com>
	<18d502870902030811l4170be3dle21d54bff0901683@mail.gmail.com>
	<609353e70902030830k686f37c3rfee241ffc00c753d@mail.gmail.com>
	<18d502870902030847h44466b1kd213be0f86ad4bae@mail.gmail.com>
	<609353e70902030922re668608q974bb8139bd6114d@mail.gmail.com>
	<18d502870902030948l6cf9bbdercf0aeee8812d0fdc@mail.gmail.com>
	<609353e70902031008o4f00dd63h1b07869da604321a@mail.gmail.com>
	<18d502870902031030o48ffe11es8e88b96c6d3d7772@mail.gmail.com>
Message-ID: <18d502870902031045w741fd590k6b3ad5bc750eab85@mail.gmail.com>

>
> The Xbase++ visual class part maybe, but the backend
> is Windows-only so it doesn't fit Harbour at the moment.
> We'd need a portable GUI API under it. GTK or QT.
>
> QT is now available in LGPL, which may fit Harbour and
> Harbour apps, but I'm no law expert. QT is much smoother
> than GTK, AFAIK.
>

Oh well, QT is C++, so it's out. That leaves GTK+.

[ wxWidgets is also C++ ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/0a14c0de/attachment.html
From maurilio.longo at libero.it  Tue Feb  3 13:54:23 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb  3 13:54:35 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <4988110E.5010107@libero.it>
References: <20090202124646.GA23103@uran.home.aster.pl>	<4986F8D3.3070003@libero.it>	<4986FD55.7090701@libero.it>	<20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>	<4987233C.4010405@libero.it>	<4987288B.30006@libero.it>	<49872A0B.4060604@libero.it>	<49873307.3000705@libero.it>	<20090202184020.GA27877@uran.home.aster.pl>
	<4988110E.5010107@libero.it>
Message-ID: <498892DF.4050201@libero.it>

Przemyslaw,

it seems to be working changing os2/gcc.cf line

$(foreach file, $(^F), $(lib_object))

into

$(COMSPEC) /C "for %i in ( *.o ) do echo ADDMOD %i >> _l_.tmp"

tomorrow I'll do some more tests.

Of course it works on the assumption that the library is made up of .o files.

Maurilio.


Maurilio Longo wrote:
> Przemyslaw Czerpak wrote:
>> yes, it could be also insufficient environment size.
>> Now you have similar problems to the ones I have in DOS.
>> It does not GPF but it begins to make some unpredictable
>> things. Looks that it loses some of settings like current
>> directory or make does not clean some settings when leave
>> directory increasing environment size or internal current
>> path setting.
> 
> I've looked up this issue, it has 32Kb of environment size, I can try to
> reduce path/dpath/help and so on environment variables to see if it builds
> again, but, for the long term, it could be better to find what is using this
> memory and remove/change it.
> 
>> Non *nix GNU make builds makes some strange things to emulate
>> POSIX environment and this can be side effect of them.
>> Seems that for DOS and OS2 we should use the old code. It also
>> allow parallel execution with recent modifications but is not
>> such efficient because only one directory (lib) can be compiled
>> in the same time so only the files inside single dir are compiled
>> simultaneously.
> 
> I think that parallel compilation is a nice plus but I've lived so many years
> without it that I really don't know how much it is worth on OS/2 which is no
> more a mainstream OS.
> 
> Thanks.
> 
> Maurilio.
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From zen25000 at zen.co.uk  Tue Feb  3 14:16:34 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Feb  3 14:16:28 2009
Subject: [Harbour] Clipper compatibility and reserved words.
Message-ID: <49889812.5050101@zen.co.uk>

Hi - this is probably my fault, but I am trying to port a large Clipper 
5.1 application to Harbour that has run well since 1990.
I have a UDF which I (stupidly) called get() which also calls the 
Clipper GET command within it.
Calls to get() run as far as the internal GET command which is now (in 
Harbour) calling my get() function again rather than using the GET command.
Before I change the name of get() and all the code that calls it, is 
there another way out of this?
From druzus at acn.waw.pl  Tue Feb  3 15:00:55 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb  3 14:56:25 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <498892DF.4050201@libero.it>
References: <20090202143903.GA16904@uran.home.aster.pl>
	<49870C01.2030008@libero.it>
	<20090202162341.GA3599@uran.home.aster.pl>
	<4987233C.4010405@libero.it> <4987288B.30006@libero.it>
	<49872A0B.4060604@libero.it> <49873307.3000705@libero.it>
	<20090202184020.GA27877@uran.home.aster.pl>
	<4988110E.5010107@libero.it> <498892DF.4050201@libero.it>
Message-ID: <20090203200055.GA3779@uran.home.aster.pl>

On Tue, 03 Feb 2009, Maurilio Longo wrote:

Hi,

> it seems to be working changing os2/gcc.cf line
>    $(foreach file, $(^F), $(lib_object))
> into
>    $(COMSPEC) /C "for %i in ( *.o ) do echo ADDMOD %i >> _l_.tmp"
> tomorrow I'll do some more tests.

Interesting. Now it looks like GNU make problem.
Maybe some trick with eval function can help, f.e. something like:

   define lib_object
   echo ADDMOD $(1) >> __lib__.tmp
   endef

   define create_library
   IF EXIST $(OS2_LIB_ARCH) $(RM) $(OS2_LIB_ARCH)
   echo CREATE $(LIB_DIR)/$@ > __lib__.tmp
   $(foreach file, $(^F), $(eval $(call lib_object,$(file))))
   echo SAVE >> __lib__.tmp
   echo END >> __lib__.tmp
   $(AR) -M < __lib__.tmp
   endef

> Of course it works on the assumption that the library is made up of .o files.

You can use $(OBJ_EXT) instead of .o
   $(COMSPEC) /C "for %i in ( *$(OBJ_EXT) ) do echo ADDMOD %i >> _l_.tmp"
I do not know OS2 command line size limit but if it's big enough then
you can also use:
   $(COMSPEC) /C "for %i in ($(^F)) do echo ADDMOD %i >> _l_.tmp"
Though in such case it should be possible to directly call ar without
the above trick by simple:
   AR_RULE = $(AR) $(ARFLAGS) cr $(LIB_DIR)/$@ $(^F)
so I guess it's smaller then necessary.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  3 17:48:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 17:48:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10163] trunk/harbour
In-Reply-To: <E1LUPMR-0008Qa-4a@d5vjzd1.ch3.sourceforge.com>
References: <E1LUPMR-0008Qa-4a@d5vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870902031448t433b2d7bxd0722bf66249f95a@mail.gmail.com>

Thanks a lot.
Brgds,
Viktor

On Tue, Feb 3, 2009 at 6:46 PM, <druzus@users.sourceforge.net> wrote:

> Revision: 10163
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10163&view=rev
> Author:   druzus
> Date:     2009-02-03 17:46:58 +0000 (Tue, 03 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-03 18:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/vm/thread.c
>    * casting to pacify warning. The code is correct.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/source/vm/thread.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090203/14a7e062/attachment.html
From vszakats at users.sourceforge.net  Tue Feb  3 18:31:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 18:32:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
Message-ID: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>

Revision: 10164
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10164&view=rev
Author:   vszakats
Date:     2009-02-03 23:31:56 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-04 00:29 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbwin/win_reg.prg
  * contrib/hbwin/win_osc.c
  * contrib/hbwin/win_os.prg
  * contrib/hbwin/win_tprn.prg
  * contrib/hbwin/win_tprt.prg
  * contrib/hbwin/win_dll.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_regc.c
  * contrib/hbwin/tests/testreg.prg
  * contrib/hbwin/tests/testole.prg
    * Renaming hbwin lib functions to a common and bitwidth-neutral
      namespace, which is WIN_*():
      - W32_REGPATHSPLIT()            -> WIN_REGPATHSPLIT()
      - W32_REGREAD()                 -> WIN_REGREAD()
      - W32_REGWRITE()                -> WIN_REGWRITE()
      - WIN32_REGCREATEKEYEX()        -> WIN_REGCREATEKEYEX()
      - WIN32_REGOPENKEYEX()          -> WIN_REGOPENKEYEX()
      - WIN32_REGQUERYVALUEEX()       -> WIN_REGQUERYVALUEEX()
      - WIN32_REGSETVALUEEX()         -> WIN_REGSETVALUEEX()
      - WIN32_REGCLOSEKEY()           -> WIN_REGCLOSEKEY()

  * contrib/hbwin/win_tprn.prg
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/tests/testprn.prg
    * Renaming hbwin lib functions/classes to a common and bitwidth-neutral
      namespace, which is WIN_*():
      - WIN32PRN class -> WIN_PRN class.
      - WIN32BMP class -> WIN_BMP class.
      - WIN32_ARC()                   -> WIN_ARC()
      - WIN32_BITMAPSOK()             -> WIN_BITMAPSOK()
      - WIN32_CREATEDC()              -> WIN_CREATEDC()
      - WIN32_CREATEFONT()            -> WIN_CREATEFONT()
      - WIN32_DELETEDC()              -> WIN_DELETEDC()
      - WIN32_DRAWBITMAP()            -> WIN_DRAWBITMAP()
      - WIN32_ELLIPSE()               -> WIN_ELLIPSE()
      - WIN32_ENDDOC()                -> WIN_ENDDOC()
      - WIN32_ENDPAGE()               -> WIN_ENDPAGE()
      - WIN32_ENUMFONTS()             -> WIN_ENUMFONTS()
      - WIN32_FILLRECT()              -> WIN_FILLRECT()
      - WIN32_GETCHARSIZE()           -> WIN_GETCHARSIZE()
      - WIN32_GETDEVICECAPS()         -> WIN_GETDEVICECAPS()
      - WIN32_GETEXEFILENAME()        -> WIN_GETEXEFILENAME()
      - WIN32_GETPRINTERFONTNAME()    -> WIN_GETPRINTERFONTNAME()
      - WIN32_GETTEXTSIZE()           -> WIN_GETTEXTSIZE()
      - WIN32_LINETO()                -> WIN_LINETO()
      - WIN32_LOADBITMAPFILE()        -> WIN_LOADBITMAPFILE()
      - WIN32_MULDIV()                -> WIN_MULDIV()
      - WIN32_OS_ISWIN9X()            -> WIN_OS_ISWIN9X()
      - WIN32_RECTANGLE()             -> WIN_RECTANGLE()
      - WIN32_SETBKMODE()             -> WIN_SETBKMODE()
      - WIN32_SETCOLOR()              -> WIN_SETCOLOR()
      - WIN32_SETDOCUMENTPROPERTIES() -> WIN_SETDOCUMENTPROPERTIES()
      - WIN32_SETMAPMODE()            -> WIN_SETMAPMODE()
      - WIN32_SETPEN()                -> WIN_SETPEN()
      - WIN32_STARTDOC()              -> WIN_STARTDOC()
      - WIN32_STARTPAGE()             -> WIN_STARTPAGE()
      - WIN32_TEXTOUT()               -> WIN_TEXTOUT()

  ; INCOMPATIBLE. Please update your source code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testole.prg
    trunk/harbour/contrib/hbwin/tests/testprn.prg
    trunk/harbour/contrib/hbwin/tests/testreg.prg
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_os.prg
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_reg.prg
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/contrib/hbwin/win_tprn.prg
    trunk/harbour/contrib/hbwin/win_tprt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb  3 18:50:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 18:50:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10165] trunk/harbour
Message-ID: <E1LUV2Y-0007zi-H9@c3vjzd1.ch3.sourceforge.com>

Revision: 10165
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10165&view=rev
Author:   vszakats
Date:     2009-02-03 23:50:48 +0000 (Tue, 03 Feb 2009)

Log Message:
-----------
2009-02-04 00:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/dirstruc.txt
  - contrib/hbtpathy/tpwin32.c
  + contrib/hbtpathy/tpwin.c
  * contrib/hbtpathy/common.mak
  * contrib/hbtpathy/Makefile
    * Cleaned some 'win32'/'w32' to 'win'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/Makefile
    trunk/harbour/contrib/hbtpathy/common.mak
    trunk/harbour/doc/dirstruc.txt

Added Paths:
-----------
    trunk/harbour/contrib/hbtpathy/tpwin.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbtpathy/tpwin32.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Feb  3 18:56:42 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb  3 18:56:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
Message-ID: <21821717.post@talk.nabble.com>


Hi Viktor


vszakats wrote:
> 
>     * Renaming hbwin lib functions to a common and bitwidth-neutral
>       namespace, which is WIN_*():
>       - W32_REGPATHSPLIT()            -> WIN_REGPATHSPLIT()
> 

WIN_ namespace is in use in GTWVG, and probably it 
will class with these changes.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10164--trunk-harbour-tp21821360p21821717.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Feb  3 19:03:24 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb  3 19:03:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <21821717.post@talk.nabble.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
Message-ID: <21821796.post@talk.nabble.com>


Hi Viktor


Pritpal Bedi wrote:
> 
> WIN_ namespace is in use in GTWVG, and probably it 
> will class with these changes.
> 

And many functions are clashing.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10164--trunk-harbour-tp21821360p21821796.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Tue Feb  3 19:18:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 19:19:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10166] trunk/harbour
Message-ID: <E1LUVTm-0001IJ-Rk@74yxhf1.ch3.sourceforge.com>

Revision: 10166
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10166&view=rev
Author:   vszakats
Date:     2009-02-04 00:18:56 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 01:09 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/extend.api
  * include/hbgtcore.h
  * include/hbwince.h
  * include/hbthread.h
  * include/hbdefs.h
  * include/hbsetup.h
  * include/hbapi.h
  * include/clipdefs.h
  * include/hbatomic.h
  * contrib/hbmysql/mysql.c
  * contrib/hbct/ctnet.c
  * contrib/hbct/files.c
  * contrib/hbct/dattime3.c
  * contrib/hbct/disk.c
  * contrib/hbodbc/odbc.c
  * contrib/xhb/hboutdbg.c
  * contrib/xhb/hbsyslog.c
  * contrib/xhb/filestat.c
  * contrib/hbmsql/msql.c
  * contrib/hbole/ole2.c
  * contrib/hbmzip/hbmzip.c
  * contrib/hbapollo/apollo.c
  * contrib/hbfbird/firebird.c
  * contrib/hbnf/descendn.c
  * contrib/hbnf/getenvrn.c
  * contrib/rddsql/sqlmix.c
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvggui.c
  * contrib/gtwvg/wvgwin.c
  * contrib/gtwvg/wvgutils.c
  * contrib/gtwvg/wvgcore.c
  * contrib/rddads/adsx.c
  * contrib/rddads/rddads.h
  * contrib/rddads/adsmgmnt.c
  * contrib/rddads/adsfunc.c
  * contrib/rddads/ads1.c
  * contrib/hbfimage/fi_winfu.c
  * contrib/hbfimage/fi_wrp.c
  * contrib/hbgd/gd.ch
  * contrib/hbgd/gdwrp.c
  * contrib/hbgf/hbgfwin/winapi.c
  * contrib/hbtip/utils.c
  * contrib/hbtip/ChangeLog
  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_osc.c
  * contrib/hbwin/win_misc.c
  * contrib/hbwin/win_prt.c
  * contrib/hbwin/win_dll.c
  * contrib/hbwin/win_ole.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_regc.c
  * contrib/hbssl/sslsess.c
  * contrib/hbssl/sslrand.c
  * contrib/hbwhat/whtdate.c
  * contrib/hbwhat/whtini.c
  * contrib/hbwhat/whtcret.c
  * contrib/hbwhat/whthead.c
  * contrib/hbwhat/whtilst.c
  * contrib/hbwhat/whtreg.c
  * contrib/hbwhat/whtclpb.c
  * contrib/hbwhat/whtmous.c
  * contrib/hbwhat/whtrgn.c
  * contrib/hbwhat/whtmeta.c
  * contrib/hbwhat/whttbar.c
  * contrib/hbwhat/whtrect.c
  * contrib/hbwhat/whtbrsh.c
  * contrib/hbwhat/whtgdi.c
  * contrib/hbwhat/whtdlg.c
  * contrib/hbwhat/whtview.c
  * contrib/hbwhat/whtsys.c
  * contrib/hbwhat/whtmain.c
  * contrib/hbwhat/whtwnd.c
  * contrib/hbwhat/whtmmcap.c
  * contrib/hbwhat/whtfont.c
  * contrib/hbwhat/whtdir.c
  * contrib/hbwhat/whtbmp.c
  * contrib/hbwhat/whtkbrd.c
  * contrib/hbwhat/whtpen.c
  * contrib/hbwhat/whttext.c
  * contrib/hbwhat/whtdc.c
  * contrib/hbwhat/whtdraw.c
  * contrib/examples/uhttpd/socket.c
  * contrib/examples/uhttpd/uhttpdc.c
  * source/vm/mainwin.c
  * source/vm/maindll.c
  * source/vm/maindllh.c
  * source/vm/hvm.c
  * source/vm/cmdarg.c
  * source/vm/maindllp.c
  * source/vm/fm.c
  * source/vm/extrap.c
  * source/vm/thread.c
  * source/vm/dynlibhb.c
  * source/vm/set.c
  * source/common/hbgete.c
  * source/common/hbver.c
  * source/common/hbfsapi.c
  * source/common/hbwince.c
  * source/common/hbdate.c
  * source/rtl/diskspac.c
  * source/rtl/console.c
  * source/rtl/gtwin/gtwin.c
  * source/rtl/fserror.c
  * source/rtl/hbgtcore.c
  * source/rtl/gtclip.c
  * source/rtl/fstemp.c
  * source/rtl/idle.c
  * source/rtl/oemansi.c
  * source/rtl/disksphb.c
  * source/rtl/net.c
  * source/rtl/gtgui/gtgui.c
  * source/rtl/seconds.c
  * source/rtl/gttone.c
  * source/rtl/hbproces.c
  * source/rtl/gtkeycod.c
  * source/rtl/version.c
  * source/rtl/gtwvt/gtwvt.c
  * source/rtl/hbrandom.c
  * source/rtl/hbinet.c
  * source/rtl/hbffind.c
  * source/rtl/gtsys.c
  * source/rtl/filesys.c
  * source/rtl/gtkbstat.c
  * source/rtl/isprint.c
  * source/compiler/cmdcheck.c
  * utils/hbmake/hbmlang.c
    * #defines renamed to be bitwidth-independent.
      - HB_OS_WIN_32_USED -> HB_OS_WIN_USED
      - HB_OS_WIN_32      -> HB_OS_WIN
    ; Please modify your code accordingly.

  * include/hbdefs.h
  * include/hbsetup.h
    + Added compatibility to still understand HB_OS_WIN_32_USED,
      and to #define HB_OS_WIN_32 in addition to HB_OS_WIN.
      This means that old code will still work, but these
      compatibility features will be removed in the future,
      so it's recommended to change the code as above.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/socket.c
    trunk/harbour/contrib/examples/uhttpd/uhttpdc.c
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/hbapollo/apollo.c
    trunk/harbour/contrib/hbct/ctnet.c
    trunk/harbour/contrib/hbct/dattime3.c
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/contrib/hbfbird/firebird.c
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/contrib/hbgd/gd.ch
    trunk/harbour/contrib/hbgd/gdwrp.c
    trunk/harbour/contrib/hbgf/hbgfwin/winapi.c
    trunk/harbour/contrib/hbmsql/msql.c
    trunk/harbour/contrib/hbmysql/mysql.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbnf/descendn.c
    trunk/harbour/contrib/hbnf/getenvrn.c
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbole/ole2.c
    trunk/harbour/contrib/hbssl/sslrand.c
    trunk/harbour/contrib/hbssl/sslsess.c
    trunk/harbour/contrib/hbtip/ChangeLog
    trunk/harbour/contrib/hbtip/utils.c
    trunk/harbour/contrib/hbwhat/whtbmp.c
    trunk/harbour/contrib/hbwhat/whtbrsh.c
    trunk/harbour/contrib/hbwhat/whtclpb.c
    trunk/harbour/contrib/hbwhat/whtcret.c
    trunk/harbour/contrib/hbwhat/whtdate.c
    trunk/harbour/contrib/hbwhat/whtdc.c
    trunk/harbour/contrib/hbwhat/whtdir.c
    trunk/harbour/contrib/hbwhat/whtdlg.c
    trunk/harbour/contrib/hbwhat/whtdraw.c
    trunk/harbour/contrib/hbwhat/whtfont.c
    trunk/harbour/contrib/hbwhat/whtgdi.c
    trunk/harbour/contrib/hbwhat/whthead.c
    trunk/harbour/contrib/hbwhat/whtilst.c
    trunk/harbour/contrib/hbwhat/whtini.c
    trunk/harbour/contrib/hbwhat/whtkbrd.c
    trunk/harbour/contrib/hbwhat/whtmain.c
    trunk/harbour/contrib/hbwhat/whtmeta.c
    trunk/harbour/contrib/hbwhat/whtmmcap.c
    trunk/harbour/contrib/hbwhat/whtmous.c
    trunk/harbour/contrib/hbwhat/whtpen.c
    trunk/harbour/contrib/hbwhat/whtrect.c
    trunk/harbour/contrib/hbwhat/whtreg.c
    trunk/harbour/contrib/hbwhat/whtrgn.c
    trunk/harbour/contrib/hbwhat/whtsys.c
    trunk/harbour/contrib/hbwhat/whttbar.c
    trunk/harbour/contrib/hbwhat/whttext.c
    trunk/harbour/contrib/hbwhat/whtview.c
    trunk/harbour/contrib/hbwhat/whtwnd.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_ole.c
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_prt.c
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/contrib/rddads/adsmgmnt.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddads/rddads.h
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/contrib/xhb/filestat.c
    trunk/harbour/contrib/xhb/hboutdbg.c
    trunk/harbour/contrib/xhb/hbsyslog.c
    trunk/harbour/include/clipdefs.h
    trunk/harbour/include/extend.api
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbatomic.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/include/hbthread.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/source/common/hbdate.c
    trunk/harbour/source/common/hbfsapi.c
    trunk/harbour/source/common/hbgete.c
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/common/hbwince.c
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/rtl/console.c
    trunk/harbour/source/rtl/diskspac.c
    trunk/harbour/source/rtl/disksphb.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/fserror.c
    trunk/harbour/source/rtl/fstemp.c
    trunk/harbour/source/rtl/gtclip.c
    trunk/harbour/source/rtl/gtgui/gtgui.c
    trunk/harbour/source/rtl/gtkbstat.c
    trunk/harbour/source/rtl/gtkeycod.c
    trunk/harbour/source/rtl/gtsys.c
    trunk/harbour/source/rtl/gttone.c
    trunk/harbour/source/rtl/gtwin/gtwin.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/rtl/hbffind.c
    trunk/harbour/source/rtl/hbgtcore.c
    trunk/harbour/source/rtl/hbinet.c
    trunk/harbour/source/rtl/hbproces.c
    trunk/harbour/source/rtl/hbrandom.c
    trunk/harbour/source/rtl/idle.c
    trunk/harbour/source/rtl/isprint.c
    trunk/harbour/source/rtl/net.c
    trunk/harbour/source/rtl/oemansi.c
    trunk/harbour/source/rtl/seconds.c
    trunk/harbour/source/rtl/version.c
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/source/vm/dynlibhb.c
    trunk/harbour/source/vm/extrap.c
    trunk/harbour/source/vm/fm.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/maindll.c
    trunk/harbour/source/vm/maindllh.c
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/source/vm/mainwin.c
    trunk/harbour/source/vm/set.c
    trunk/harbour/source/vm/thread.c
    trunk/harbour/utils/hbmake/hbmlang.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb  3 19:26:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 19:26:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <21821717.post@talk.nabble.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
Message-ID: <18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>

Hi Pritpal,


> vszakats wrote:
> >
> >     * Renaming hbwin lib functions to a common and bitwidth-neutral
> >       namespace, which is WIN_*():
> >       - W32_REGPATHSPLIT()            -> WIN_REGPATHSPLIT()
> >
>
> WIN_ namespace is in use in GTWVG, and probably it
> will class with these changes.


IMO these needs to be changed in GTWVG, hbwin is the
generic lib in this case. F.e. my local framework lib uses
prefix_win_*() naming to avoid such possible collisions,
similar should be used for GTWVG and for all contribs
implementing local Windows API wrappers.

Another (but more complicated) solution is to try to integrate
common functionality. Right now it's a pity that some
Windows API wrappers are repeated in several contribs
(hbwhat, gtwvg, hbole, hbwin). It's mess and we should
try to reduce it. We have at least 3 OLE/ActiveX
implementations for example (and none of them fully
developed/tested/maintained).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/745ae84e/attachment.html
From bedipritpal at hotmail.com  Tue Feb  3 19:31:15 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb  3 19:31:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
Message-ID: <21822162.post@talk.nabble.com>


Viktor


Viktor Szak?ts wrote:
> 
> IMO these needs to be changed in GTWVG, hbwin is the
> generic lib in this case. F.e. my local framework lib uses
> prefix_win_*() naming to avoid such possible collisions,
> similar should be used for GTWVG and for all contribs
> implementing local Windows API wrappers.
> 
> Another (but more complicated) solution is to try to integrate
> common functionality. Right now it's a pity that some
> Windows API wrappers are repeated in several contribs
> (hbwhat, gtwvg, hbole, hbwin). It's mess and we should
> try to reduce it. We have at least 3 OLE/ActiveX
> implementations for example (and none of them fully
> developed/tested/maintained).
> 

I agree with your viewpoint but at the moment, or until
we create a common library to be used by all libs, I would like 
if you change WIN_ * with something else.

Perhaps I cannot change my whole code as I use hbwin.lib also.

Note GTWVG came into existance much prior to HBWIN.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10164--trunk-harbour-tp21821360p21822162.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Tue Feb  3 19:31:52 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb  3 19:31:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10167] trunk/harbour
Message-ID: <E1LUVgG-0006Pu-7W@bj8yhf1.ch3.sourceforge.com>

Revision: 10167
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10167&view=rev
Author:   druzus
Date:     2009-02-04 00:31:51 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 01:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/arrays.c
    ! protection against possible GPF in hb_rAscan() if user block
      reduces the array size

  * harbour/source/debug/tbrwtext.prg
    ! fixed source color text to be more Clipper compatible.
      Borrowed from xHarbour by Phil Krylov

  * harbour/source/debug/debugger.prg
    ! added missing :forceStable() to refresh the screen after break point
      setting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/debug/debugger.prg
    trunk/harbour/source/debug/tbrwtext.prg
    trunk/harbour/source/vm/arrays.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb  3 19:45:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 19:45:34 2009
Subject: [Harbour] Cleaning Harbour C types
Message-ID: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>

Hi all,
What would the preferred direction we should go in order
to avoid C type name collisions with external packages,
and OS APIs (like Windows API)?

Here's is an incomplete list of type names which may cause such problems:
BOOL
SCHAR, UCHAR, BYTE
SHORT, USHORT
INT, UINT
LONG, ULONG
INT32, UINT32
INT64, UINT64

If cleaned up, we could finally get rid of the HB_OS_WIN_USED
hack and freely include "windows.h" anywhere in C code. It would
allow us to integrate Harbour with any tools without having to
worry about such collisions.

OpenWatcom 1.8 gives hundreds of warnings for INT32.

1) One route is to prefix everything with HB_. HB_INT, HB_UINT.
Pretty obvious, but a tad verbose and not very elengant for such
basic types.

2) Using standard types: int, long, unsigned int.

3) Combination of the above: standard types for everything
where we can be in sync with underlying compiler types,
and HB_* special types whenever we want to enforce certain
sizes in public Harbour APIs, or to override compiler limits for
consistency, like Harbour string pointer/size, Harbour file pointer
(HB_FOFFSET), Harbour array pointer/size, Harbour character
type (HB_CHAR). One important point is to make above
distinction and planning in advance and in full detail, before
touching the source.

+1) Regardless of the above we should keep legacy types
for Clipper compatibility, so they should be moved to Clipper
compatibility headers.

Any thoughts?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/5338fb7c/attachment-0001.html
From zen25000 at zen.co.uk  Tue Feb  3 20:05:50 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Feb  3 20:05:51 2009
Subject: [Harbour] Clipper compatibility and reserved words.
In-Reply-To: <49889812.5050101@zen.co.uk>
References: <49889812.5050101@zen.co.uk>
Message-ID: <4988E9EE.4010803@zen.co.uk>

OK not to worry - I changed my function name and it's working.
Easier than I expected with search and replace.


Barry Jackson wrote:
> Hi - this is probably my fault, but I am trying to port a large Clipper 
> 5.1 application to Harbour that has run well since 1990.
> I have a UDF which I (stupidly) called get() which also calls the 
> Clipper GET command within it.
> Calls to get() run as far as the internal GET command which is now (in 
> Harbour) calling my get() function again rather than using the GET command.
> Before I change the name of get() and all the code that calls it, is 
> there another way out of this?
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
From harbour.01 at syenar.hu  Tue Feb  3 20:11:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 20:11:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <21822162.post@talk.nabble.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
Message-ID: <18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>

>
> I agree with your viewpoint but at the moment, or until
> we create a common library to be used by all libs, I would like
> if you change WIN_ * with something else.
>
> Perhaps I cannot change my whole code as I use hbwin.lib also.


You can continue to use latest version which doesn't
have the renaming, until you change your source.
Or even the last stable version from 1.0.1. There wasn't
really that much change there since.

I've peeked into gtwvg, well wvgwin.c has a mixture of
WVG and WIN functions which should IMO be separated
into distinct source files.

The WIN part of it should ideally be moved to hbwin.lib,
but first fixed for 64-bit/WinCE/Unicode (if needed).

BTW, we're talking about three functions, AFAICS:

WIN_MULDIV() (exact same code in both libs)
WIN_RECTANGLE()
WIN_SETBKMODE()

I'll commit something for the latter two.

Note GTWVG came into existance much prior to HBWIN.


hbwin is a generic Windows API wrapper library, while
GTWVG is special GUI lib with mixed in Windows
functions, in my view the priority is clearly to the generic
lib. hbwin came to light as a result of separating Windows
specific stuff from core, and gathering Windows API pieces
scattered around in small contrib libs. I see no point in
arguing who was here first, I certainly got to know about
GTWVG much later, not that this would matter.

I'd say let's try to get rid of what's not needed, and try
doing the Windows API wrappers in a generic way, so
that they become useful for everyone, then _reuse_ it,
instead of reinventing it for every contrib which needs
the Windows API.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/e8448904/attachment.html
From vszakats at users.sourceforge.net  Tue Feb  3 20:16:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 20:16:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10168] trunk/harbour
Message-ID: <E1LUWNW-0006sM-5a@bj8yhf1.ch3.sourceforge.com>

Revision: 10168
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10168&view=rev
Author:   vszakats
Date:     2009-02-04 01:16:33 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 02:15 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbwin/win_prn1.c
    + Added support to pass HDCs as numeric parameters
      to all Harbour level functions.
      This allows them to behave as generic Windows API wrappers,
      and makes WIN_MULDIV(), WIN_RECTANGLE(), WIN_SETBKMODE()
      fully compatible with parallel GTWVG implementations, so
      duplicated can now be removed from there.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb  3 20:18:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  3 20:18:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10169] trunk/harbour
Message-ID: <E1LUWPk-0006te-ON@bj8yhf1.ch3.sourceforge.com>

Revision: 10169
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10169&view=rev
Author:   vszakats
Date:     2009-02-04 01:18:52 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 02:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbwin/win_prn1.c
    ! Typo in prev commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Feb  3 20:55:23 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb  3 20:55:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
Message-ID: <21823009.post@talk.nabble.com>


Viktor

Again I say I agree with your view point.

Long back, perhaps 2002, I initiated a lot of
message about this very fact, on xHarbour NG, 
to streamline all WINAPI functionality in one
common library. At that moment What32 was
just came into being. I was puzzled and 
wondered why everyone is writing his own 
WINAPI modules, What32, HWGUI, MINIGUI,
the then WHOOPGUI, and a lot more.

Moreover I had requested all Windows developers
to create a common API lib with a distinct namespace,
OR to modify their libs to distinct name spaces,
to make all of them usable in every application,
but nobody cared. So I gave up. I changed namespace
of What32 and kept it as local repository.

This is such a cheos that we are unable to use 
finest of all API developers in a single application, a pity.

Now as you have raised this topic again, I propose next
logical evolution as :

Higher level generic calls like:
HB_FUNC( API_SETBKCOLOR )
{
   #if defined( HB_OS_WIN )
   hb_retl( SetBkMode( ... ) );
   #elif defined( HB_LINUX )
   hb... 
   #endif
}

The upper level API will form the basis of portable GUI 
in future.

May be I am not clear, but the idea can be discussed.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10164--trunk-harbour-tp21821360p21823009.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Feb  3 21:35:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  3 21:35:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <21823009.post@talk.nabble.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
Message-ID: <18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>

Hi Pritpal,


> Again I say I agree with your view point.
>
> Long back, perhaps 2002, I initiated a lot of
> message about this very fact, on xHarbour NG,
> to streamline all WINAPI functionality in one
> common library. At that moment What32 was
> just came into being. I was puzzled and
> wondered why everyone is writing his own
> WINAPI modules, What32, HWGUI, MINIGUI,
> the then WHOOPGUI, and a lot more.
>
> Moreover I had requested all Windows developers
> to create a common API lib with a distinct namespace,
> OR to modify their libs to distinct name spaces,
> to make all of them usable in every application,
> but nobody cared. So I gave up. I changed namespace
> of What32 and kept it as local repository.


I fully endorse your idea. In Harbour we seem to
like these kind of clean things :)

One problem with the clean approach is that the
Windows API is huge and there is really nobody
interested in maintaining a full set of wrappers.
This is huge work and most ppl only need some
specific parts of it.

Regardless, given some rules and frame to this
problem, I think it isn't impossible to manage it.


> This is such a cheos that we are unable to use
> finest of all API developers in a single application, a pity.


Yes.


> Now as you have raised this topic again, I propose next
> logical evolution as :
>
> Higher level generic calls like:
> HB_FUNC( API_SETBKCOLOR )
> {
>   #if defined( HB_OS_WIN )
>   hb_retl( SetBkMode( ... ) );
>   #elif defined( HB_LINUX )
>   hb...
>   #endif
> }
>
> The upper level API will form the basis of portable GUI
> in future.


Here I disagree as the Windows API isn't so good (in
fact it's a pretty weak one with a too long history) that
we choose it as the common denominator for all other
GUIs or APIs in general.


> May be I am not clear, but the idea can be discussed.


I understand you. I had similar concept in mind with hbwin.lib,
but not just for GUI, but for everything that is part of the
Windows API (registry, OLE, whatever, quite like hbwhat),
and without making an attempt to make it a multiplatform
compatibility lib at the same time. For convenience, the
Windows only functions may have a stub (returning permanent
error) when compiled for other platforms.

This doesn't mean however that another library couldn't
be built upon hbwin.lib (and others) to create any sort
of multiplatform solution, but IMO it's not the job of hbwin.lib.

To put it shortly: IMO hbwin should be a pure wrapper for
the Windows API and closely Windows API related features,
nothing more, nothing less. It's also important that
64-bit, Unicode and GCC/MSVC/POCC/OW compatibility be
kept here, and some other general code quality considerations
as well, like safe string operations, ANSI comments, and good
source file granularity.

Ideally I'd imagine below steps to clean up this situation:
1) Remove hbole.lib.
2) Move WIN_*() from GTWVG to hbwin.lib
3) Move WIN_*() from uhttpd to hbwin.lib
4) Disable hbwhat from mainstream builds (move to
    examples) and start to move useful, tested and error-free
    parts to hbwin.lib.
5) Further cleanup hbwin.lib (naming, better separation
   of API, additional convenience functions and classes).
6) Remove hbwhat.lib altogether.

We should definitely avoid replicating hbwhat, so we
should concentrate on important functions, and implement
them well, instead of implementing everything and losing
track of them.

For future development a very simple rule can be added:
- If someone needs to access a Windows API function
from .prg code, look in hbwin.lib first, if it's there use it,
if not, implement it there using WIN_<winapi_name>()
naming scheme. Easier said than done I guess :) but
why not try it?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/3f89ebee/attachment.html
From bedipritpal at hotmail.com  Tue Feb  3 22:32:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb  3 22:32:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
Message-ID: <21823805.post@talk.nabble.com>


Viktor

>I fully endorse your idea. In Harbour we seem to
>like these kind of clean things :)

Clearly visible fact.

<<<
One problem with the clean approach is that the
Windows API is huge and there is really nobody
interested in maintaining a full set of wrappers.
This is huge work and most ppl only need some
specific parts of it.

Regardless, given some rules and frame to this
problem, I think it isn't impossible to manage it.
>>>

Absolutely correct.

<<<
Here I disagree as the Windows API isn't so good (in
fact it's a pretty weak one with a too long history) that
we choose it as the common denominator for all other
GUIs or APIs in general.
>>>

Agreed.

<<<
I understand you. I had similar concept in mind with hbwin.lib,
but not just for GUI, but for everything that is part of the
Windows API (registry, OLE, whatever, quite like hbwhat),
and without making an attempt to make it a multiplatform
compatibility lib at the same time. For convenience, the
Windows only functions may have a stub (returning permanent
error) when compiled for other platforms.

This doesn't mean however that another library couldn't
be built upon hbwin.lib (and others) to create any sort
of multiplatform solution, but IMO it's not the job of hbwin.lib.

To put it shortly: IMO hbwin should be a pure wrapper for
the Windows API and closely Windows API related features,
nothing more, nothing less. It's also important that
64-bit, Unicode and GCC/MSVC/POCC/OW compatibility be
kept here, and some other general code quality considerations
as well, like safe string operations, ANSI comments, and good
source file granularity.
>>>

Well explained.

<<<
Ideally I'd imagine below steps to clean up this situation:
1) Remove hbole.lib.
2) Move WIN_*() from GTWVG to hbwin.lib
3) Move WIN_*() from uhttpd to hbwin.lib
4) Disable hbwhat from mainstream builds (move to
    examples) and start to move useful, tested and error-free
    parts to hbwin.lib.
5) Further cleanup hbwin.lib (naming, better separation
   of API, additional convenience functions and classes).
6) Remove hbwhat.lib altogether.
>>>

I endorse this in toto.

<<<
We should definitely avoid replicating hbwhat, so we
should concentrate on important functions, and implement
them well, instead of implementing everything and losing
track of them.
>>>

A clear vision. I am motivated to adopt this approach.
First part will be : moving WIN_* functions from GTWVG 
to HBWIN.

<<<
For future development a very simple rule can be added:
- If someone needs to access a Windows API function
from .prg code, look in hbwin.lib first, if it's there use it,
if not, implement it there using WIN_<winapi_name>()
naming scheme. Easier said than done I guess :) but
why not try it?
>>>

I am sure everybody will obey this rule.

Now the another guideline:

Many functions of WINAPI accept structures as their
parameters. Should we use them to be compatible with
WINAPI exactly or should we use arrays?
Both approaches have merits and demerits.
I personally propose to use STRUCTURES where ever 
possible. What group says?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10164--trunk-harbour-tp21821360p21823805.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Feb  4 03:16:34 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb  4 03:16:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <21823805.post@talk.nabble.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<21823805.post@talk.nabble.com>
Message-ID: <609353e70902040016s6db5b223te6ccc1dbd2b66d4e@mail.gmail.com>

Wich disadvantaage using structure ?
http://api.farmanager.com/en/winapi/index.html



2009/2/4 Pritpal Bedi <bedipritpal@hotmail.com>:
> Many functions of WINAPI accept structures as their
> parameters. Should we use them to be compatible with
> WINAPI exactly or should we use arrays?
> Both approaches have merits and demerits.
> I personally propose to use STRUCTURES where ever
> possible. What group says?
>
> Regards
> Pritpal Bedi
> --
From harbour.01 at syenar.hu  Wed Feb  4 03:24:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 03:24:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <21823805.post@talk.nabble.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<21823805.post@talk.nabble.com>
Message-ID: <18d502870902040024w6dd987cdx2d292e3f954396f2@mail.gmail.com>

>
> Now the another guideline:
>
> Many functions of WINAPI accept structures as their
> parameters. Should we use them to be compatible with
> WINAPI exactly or should we use arrays?
> Both approaches have merits and demerits.
> I personally propose to use STRUCTURES where ever
> possible. What group says?


Structures would be nice, but I'm not sure if there is
a way to implement it cleanly and in a portable way.
What we have in xhb.lib doesn't look like one.

My vote to arrays for now.

Another point where implementations differ, is handling
handles / pointers. We should definitely allow for raw
pointers (parptr) and pointers as numbers (parnint), and
where it makes sense it'd be good to consider to also allow
pointers with automatic destructors (parptrGC) to make
sure app code cannot leak them. Functions returning
pointer should use retptr (or retptrGC), and try to avoid
retnint.

--- skeleton code for automatic destructor:
static HB_GARBAGE_FUNC( win_<T>_release )
{
   void ** ph = ( void ** ) Cargo;

   /* Check if pointer is not NULL to avoid multiple freeing */
   if( ph && *ph )
   {
      /* Destroy the object */
      FUNCTION_CALL_TO_DESTROY_AND_FREE_OBJECT( ( <T> ) *ph );

      /* set pointer to NULL to avoid multiple freeing */
      *ph = NULL;
   }
}
---

--- skeleton code for handle parameter retrieval:
static <T> win_<T>_par( int iParam )
{
   if( ISNUM( iParam ) )
      return ( <T> ) ( HB_PTRDIFF ) hb_parnint( iParam );
   else
   {
      void ** ph = ( void ** ) hb_parptrGC( win_<T>_release, iParam );

      return ph ? ( <T> ) * ph : hb_parptr( iParam );
   }
}
---

--- skeleton code to return garbage collected pointer:
{
   void ** ph = ( void ** ) hb_gcAlloc( sizeof( <T> * ), win_<T>_release );
   *ph = ( void * ) FUNCTION_CALL_TO_ALLOCATE_OBJECT( ... );
   hb_retptrGC( ph ); OR hb_storptrGC( ph, ... );
}
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/e792f249/attachment.html
From kadziola at tlen.pl  Wed Feb  4 03:34:26 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Wed Feb  4 03:34:34 2009
Subject: [Harbour] Problem with some contribs
Message-ID: <834871432.20090204093426@tlen.pl>

Hello,

Where is the mistake ?

1. Run make_b32.bat in HARBOUR folder
2. Run make_b32_all.bat in \HARBOUR\CONTRIB folder
3. Move all files from w32 folders to up-one-level folders
   (HARBOUR\LIB, HARBOUR\BIN)
4. Copy  *.ch and *.h files from HARBOUR\CONTRIB\*.* to HARBOUR\INCLUDE
5. For example i want compile and link
   HARBOUR\CONTRIB\HBTPATHY\TESTS\testtp.prg
   using command 'hbmk_b32.bat testtp.prg' from this folder
   and...

   Error: Unresolved external '_HB_FUN_P_OUTFREE' referenced from N:\LASTHB\HARBOUR\LIB\HBTPATHY.LIB|telepath
   Error: Unresolved external '_HB_FUN_P_CTRLCTS' referenced from N:\LASTHB\HARBOUR\LIB\HBTPATHY.LIB|telepath
   Error: Unresolved external '_HB_FUN_P_ISDCD' referenced from N:\LASTHB\HARBOUR\LIB\HBTPATHY.LIB|telepath
   Error: Unresolved external '_HB_FUN_P_ISRI' referenced from N:\LASTHB\HARBOUR\LIB\HBTPATHY.LIB|telepath
   Error: Unresolved external '_HB_FUN_P_ISDSR' referenced from N:\LASTHB\HARBOUR\LIB\HBTPATHY.LIB|telepath
   Error: Unresolved external '_HB_FUN_P_ISCTS' referenced from N:\LASTHB\HARBOUR\LIB\HBTPATHY.LIB|telepath

I'm trying the same with
N:\lasthb\harbour\contrib\gtwvg\tests\demowvg.prg and in this case all
is OK  - demowvg.exe is running. Any ideas ?
   

-- 
Regards,

Jaros?aw Kadziola

From mbelgrano at deltain.it  Wed Feb  4 03:35:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb  4 03:35:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
Message-ID: <609353e70902040035n739ea3f0nb4e532cd5006902e@mail.gmail.com>

Rule as this are important (also if not jet approved)
How give importance to this info?
How we can know this rule to future harbour developer without reading
all messages post in mailing list
can restructure doc with information for harbour prg level user  from
harbour c level developer?
Can adopt a external WIKI to make a collaborative work ?
can write inside each library information and write a program who extract it  ?

2009/2/4 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Pritpal,
>


> For future development a very simple rule can be added:
> - If someone needs to access a Windows API function
> from .prg code, look in hbwin.lib first, if it's there use it,
> if not, implement it there using WIN_<winapi_name>()
> naming scheme. Easier said than done I guess :) but
> why not try it?
From harbour.01 at syenar.hu  Wed Feb  4 03:41:24 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 03:41:29 2009
Subject: [Harbour] Problem with some contribs
In-Reply-To: <834871432.20090204093426@tlen.pl>
References: <834871432.20090204093426@tlen.pl>
Message-ID: <18d502870902040041q20173179sab01618b7fdbe3c6@mail.gmail.com>

Hi Jaroslaw,


> 1. Run make_b32.bat in HARBOUR folder
> 2. Run make_b32_all.bat in \HARBOUR\CONTRIB folder
> 3. Move all files from w32 folders to up-one-level folders
>   (HARBOUR\LIB, HARBOUR\BIN)
> 4. Copy  *.ch and *.h files from HARBOUR\CONTRIB\*.* to HARBOUR\INCLUDE


You can replace 3. and 4. with
3. make_b32.bat install in HARBOUR folder
4. make_b32_all.bat install in \HARBOUR\CONTRIB folder


> 5. For example i want compile and link
>   HARBOUR\CONTRIB\HBTPATHY\TESTS\testtp.prg
>   using command 'hbmk_b32.bat testtp.prg' from this folder
>   and...
>
>   Error: Unresolved external '_HB_FUN_P_OUTFREE' referenced from
> N:\LASTHB\HARBOUR\LIB\


hbtpathy doesn't have a complete implementation
for Windows. There is however a comm subsystem
for Windows in hbwin.lib. See testprt1.prg and testprt2.prg
for example code.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/5d38ddc0/attachment.html
From harbour.01 at syenar.hu  Wed Feb  4 03:44:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 03:44:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <609353e70902040035n739ea3f0nb4e532cd5006902e@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<609353e70902040035n739ea3f0nb4e532cd5006902e@mail.gmail.com>
Message-ID: <18d502870902040044o79566b32pe8a7e4c53c6667fc@mail.gmail.com>

>
> Rule as this are important (also if not jet approved)
> How give importance to this info?
> How we can know this rule to future harbour developer without reading
> all messages post in mailing list
> can restructure doc with information for harbour prg level user  from
> harbour c level developer?
> Can adopt a external WIKI to make a collaborative work ?


We have a proper MediaWiki wiki page on sf.net now, yes.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/a51c6e35/attachment.html
From maurilio.longo at libero.it  Wed Feb  4 03:45:23 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb  4 03:45:31 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <20090203200055.GA3779@uran.home.aster.pl>
References: <20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>	<4987233C.4010405@libero.it>
	<4987288B.30006@libero.it>	<49872A0B.4060604@libero.it>
	<49873307.3000705@libero.it>	<20090202184020.GA27877@uran.home.aster.pl>	<4988110E.5010107@libero.it>
	<498892DF.4050201@libero.it>
	<20090203200055.GA3779@uran.home.aster.pl>
Message-ID: <498955A3.7070608@libero.it>

Przemyslaw Czerpak wrote:
> Interesting. Now it looks like GNU make problem.
> Maybe some trick with eval function can help, f.e. something like:
> 
>    define lib_object
>    echo ADDMOD $(1) >> __lib__.tmp
>    endef
> 
>    define create_library
>    IF EXIST $(OS2_LIB_ARCH) $(RM) $(OS2_LIB_ARCH)
>    echo CREATE $(LIB_DIR)/$@ > __lib__.tmp
>    $(foreach file, $(^F), $(eval $(call lib_object,$(file))))
>    echo SAVE >> __lib__.tmp
>    echo END >> __lib__.tmp
>    $(AR) -M < __lib__.tmp
>    endef
> 

With this I get an  error:

c ../../hbarch.c -ohbarch.o
gcc -I. -I../../../../include -Wall -W -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF -
c ../../reserved.c -oreserved.o
../../../../config/lib.cf:30: *** missing separator.  Stop.
make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
make[1]: *** [common] Error 2
make[1]: Leaving directory `E:/repository/harbour-svn/source'
make: *** [source] Error 2


>> Of course it works on the assumption that the library is made up of .o files.
> 
> You can use $(OBJ_EXT) instead of .o
>    $(COMSPEC) /C "for %i in ( *$(OBJ_EXT) ) do echo ADDMOD %i >> _l_.tmp"

Yes, I can even remove the

$(COMSPEC) /C

there is no need to spawn another shell.

> I do not know OS2 command line size limit but if it's big enough then
> you can also use:

1024 chars

>    $(COMSPEC) /C "for %i in ($(^F)) do echo ADDMOD %i >> _l_.tmp"
> Though in such case it should be possible to directly call ar without
> the above trick by simple:
>    AR_RULE = $(AR) $(ARFLAGS) cr $(LIB_DIR)/$@ $(^F)
> so I guess it's smaller then necessary.
> 

Yes, this limit was reached long ago and the script was created to bypass it.

Thanks a lot.

Maurilio.

PS. I'll do some timing to see how much it takes to build with various -j ASAP :)

> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Wed Feb  4 03:46:51 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb  4 03:46:56 2009
Subject: [Harbour] Problem with some contribs
In-Reply-To: <834871432.20090204093426@tlen.pl>
References: <834871432.20090204093426@tlen.pl>
Message-ID: <609353e70902040046t36882b55gec6ca1269ef16ab2@mail.gmail.com>

>4. Copy  *.ch and *.h files from HARBOUR\CONTRIB\*.* to HARBOUR\INCLUDE

Imo you must add to lib and  include the path of contrib that you want use
and not move inside harbour structure

I think that a little visual utility who made this will be useful  who
set path for lib,include,obj choice c compiler, ecc
Have somebody something of similar?
From vszakats at users.sourceforge.net  Wed Feb  4 03:49:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 03:49:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10170]
	trunk/harbour/contrib/hbwin
Message-ID: <E1LUdRi-0001dN-Hp@dn4whf1.ch3.sourceforge.com>

Revision: 10170
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10170&view=rev
Author:   vszakats
Date:     2009-02-04 08:49:22 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 09:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbwin/win_tprn.prg
    * Formatting.

  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_prn2.c
    * Cleanups, formatting.
    + Added WIN_ABORTDOC()
      (Windows API compatible equivalent of WIN_ENDDOC( .T. ))

  * contrib/hbwin/win_misc.c
    ! Fixed returning handle from WIN_RUNDETACHED().

  * contrib/hbwin/tests/testprn.prg
    ! Fix to prev commit.

Modified Paths:
--------------
    trunk/harbour/contrib/hbwin/tests/testprn.prg
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_tprn.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb  4 03:51:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb  4 03:51:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902040044o79566b32pe8a7e4c53c6667fc@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<609353e70902040035n739ea3f0nb4e532cd5006902e@mail.gmail.com>
	<18d502870902040044o79566b32pe8a7e4c53c6667fc@mail.gmail.com>
Message-ID: <609353e70902040051p65ea589eu2c92deb111af676b@mail.gmail.com>

http://apps.sourceforge.net/mediawiki/harbour-project/index.php?title=Main_Page
I am logged as mbelgrano but i not found any way add page

2009/2/4 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Rule as this are important (also if not jet approved)
>> How give importance to this info?
>> How we can know this rule to future harbour developer without reading
>> all messages post in mailing list
>> can restructure doc with information for harbour prg level user  from
>> harbour c level developer?
>> Can adopt a external WIKI to make a collaborative work ?
>
> We have a proper MediaWiki wiki page on sf.net now, yes.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From info at fsgiudice.com  Wed Feb  4 03:56:56 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Feb  4 03:57:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>	<21821717.post@talk.nabble.com>	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>	<21822162.post@talk.nabble.com>	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
Message-ID: <49895858.20202@fsgiudice.com>

Hi Viktor, Pritpal,

Il 04/02/2009 3.35, Viktor Szak?ts ha scritto:
> 
> To put it shortly: IMO hbwin should be a pure wrapper for 
> the Windows API and closely Windows API related features, 
> nothing more, nothing less. It's also important that 
> 64-bit, Unicode and GCC/MSVC/POCC/OW compatibility be 
> kept here, and some other general code quality considerations 
> as well, like safe string operations, ANSI comments, and good 
> source file granularity.
> 
> Ideally I'd imagine below steps to clean up this situation:
> 1) Remove hbole.lib.
> 2) Move WIN_*() from GTWVG to hbwin.lib
> 3) Move WIN_*() from uhttpd to hbwin.lib
> 4) Disable hbwhat from mainstream builds (move to 
>     examples) and start to move useful, tested and error-free 
>     parts to hbwin.lib.
> 5) Further cleanup hbwin.lib (naming, better separation 
>    of API, additional convenience functions and classes).
> 6) Remove hbwhat.lib altogether.
> 

sorry to jump in and probably missing some infos, but only as suggestion 
may I propose to adopt this naming convention:

1) replicate, as possible, windows dll api into a single file, i.e. 
w_gdi32.c, w_kern32.c (or such similar name) in which we know we can add 
API as described in MSDN structure.
2) using, as above, header defines in *.api files (winuser.api, wingdi.api)
3) using, as namespace, WIN_API_*() as pure api wrapper and WIN_*() for 
"rearranged" C functions
4) as possible, but has to be well tested, using STRUCTURES as per 
Pritpal proposal

Best regards

Francesco
From harbour.01 at syenar.hu  Wed Feb  4 03:55:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 03:57:25 2009
Subject: [Harbour] Problem with some contribs
In-Reply-To: <609353e70902040046t36882b55gec6ca1269ef16ab2@mail.gmail.com>
References: <834871432.20090204093426@tlen.pl>
	<609353e70902040046t36882b55gec6ca1269ef16ab2@mail.gmail.com>
Message-ID: <18d502870902040055r1f0db340wc72e042d980d0ac7@mail.gmail.com>

>
> >4. Copy  *.ch and *.h files from HARBOUR\CONTRIB\*.* to HARBOUR\INCLUDE
>
> Imo you must add to lib and  include the path of contrib that you want use
> and not move inside harbour structure


No, that's not necessary, nor recommended, "make install"
should be used to copy everything to a final Harbour destination dir.
This works in both make systems of ours.

This final Harbour destination dir should be set in
HB_INSTALL_PREFIX envvar, so that hbmk.bat can pick up
everything needed to build an executable.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/fac48dbf/attachment.html
From kadziola at tlen.pl  Wed Feb  4 04:14:44 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Wed Feb  4 04:15:00 2009
Subject: [Harbour] Problem with some contribs
In-Reply-To: <18d502870902040041q20173179sab01618b7fdbe3c6@mail.gmail.com>
References: <834871432.20090204093426@tlen.pl>
	<18d502870902040041q20173179sab01618b7fdbe3c6@mail.gmail.com>
Message-ID: <1427066357.20090204101444@tlen.pl>

Hi Viktor,


VS> hbtpathy doesn't have a complete implementation
VS> for Windows. There is however a comm subsystem
VS> for Windows in hbwin.lib. See testprt1.prg and testprt2.prg
VS> for example code.

Thanks for explanations.

-- 
Regards,
 Jaroslaw Kadziola

From harbour.01 at syenar.hu  Wed Feb  4 04:14:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 04:15:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <49895858.20202@fsgiudice.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<49895858.20202@fsgiudice.com>
Message-ID: <18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>

Hi Francesco, Pritpal,

5) Further cleanup hbwin.lib (naming, better separation   of API, additional
>> convenience functions and classes).
>> 6) Remove hbwhat.lib altogether.
>>
>>
> sorry to jump in and probably missing some infos, but only as suggestion
> may I propose to adopt this naming convention:


In contrary, I'm happy you've joined the thread :)


> 1) replicate, as possible, windows dll api into a single file, i.e.
> w_gdi32.c, w_kern32.c (or such similar name) in which we know we can add API
> as described in MSDN structure.


Sounds good.


> 2) using, as above, header defines in *.api files (winuser.api, wingdi.api)


Here I don't agree, because usually I find it better
to use standard extensions, so if something is a
header I think we should stick with .ch, .h.

[ .api is reserved for Clipper legacy C headers,
and besides that, it's unclear by the name whether
they are meant for C or .prg code. ]

Since original Windows headers are a relatively
big mess, maybe it would be better not to replicate
it in hbwin.lib, but rather use one unified version,
hbwin.ch and hbwin.h. This is what we already do now.

If whole group agrees, and if that can help on the
file naming situation, we may lift the 8.3 chars naming
restriction for hbwin.lib. It's important to see however,
that DOS builds will be unable to compile hbwin.lib,
so despite any stubs implemented, DOS apps will
have to do without hbwin.lib functions, and they'll
definitely need to guard them with __PLATFORM__WINDOWS.

3) using, as namespace, WIN_API_*() as pure api wrapper and WIN_*() for
> "rearranged" C functions


Good idea. Maybe WINAPI_*() would be even better.


> 4) as possible, but has to be well tested, using STRUCTURES as per Pritpal
> proposal


Yes, well tested, portable, MT ready, alignment independent,
free from accessing Harbour internals, etc. IOW, if it can be done
in core quality, it's okay, if not however, it wouldn't be good to
build the whole lib upon it.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/44acef1b/attachment.html
From harbour.01 at syenar.hu  Wed Feb  4 04:27:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 04:28:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <609353e70902040051p65ea589eu2c92deb111af676b@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<609353e70902040035n739ea3f0nb4e532cd5006902e@mail.gmail.com>
	<18d502870902040044o79566b32pe8a7e4c53c6667fc@mail.gmail.com>
	<609353e70902040051p65ea589eu2c92deb111af676b@mail.gmail.com>
Message-ID: <18d502870902040127x4e7bb5c4t9ada11a507fb8bb2@mail.gmail.com>

On Wed, Feb 4, 2009 at 9:51 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

>
> http://apps.sourceforge.net/mediawiki/harbour-project/index.php?title=Main_Page
> I am logged as mbelgrano but i not found any way add page


Indeed, rights have to be given, or somehow editing must be
set to be unrestricted, but couldn't find such option yet.

Let's try this instead (uses the same MediaWiki syntax):
https://apps.sourceforge.net/trac/harbour-project/wiki

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/bf5af529/attachment.html
From info at fsgiudice.com  Wed Feb  4 04:27:44 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Feb  4 04:29:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>	<21821717.post@talk.nabble.com>	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>	<21822162.post@talk.nabble.com>	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>	<21823009.post@talk.nabble.com>	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>	<49895858.20202@fsgiudice.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
Message-ID: <49895F90.2080504@fsgiudice.com>

Hi Viktor,

Il 04/02/2009 10.14, Viktor Szak?ts ha scritto:
> 
> In contrary, I'm happy you've joined the thread :)
Thanks
> 
>     2) using, as above, header defines in *.api files (winuser.api,
>     wingdi.api)
> 
> 
> Here I don't agree, because usually I find it better 
> to use standard extensions, so if something is a 
> header I think we should stick with .ch, .h.
> 
> [ .api is reserved for Clipper legacy C headers, 
> and besides that, it's unclear by the name whether 
> they are meant for C or .prg code. ]
> 
> Since original Windows headers are a relatively 
> big mess, maybe it would be better not to replicate 
> it in hbwin.lib, but rather use one unified version, 
> hbwin.ch and hbwin.h. This is what we already do now.
> 
Ok for using *.ch, *.h, but if it is possible, to see immediately where 
put a new addition, as per c api file I would like to mantain ms naming 
convention, so for me it will be better to use, f.e., w_winuser.ch or 
winuserapi.ch
> If whole group agrees, and if that can help on the 
> file naming situation, we may lift the 8.3 chars naming 
> restriction for hbwin.lib. It's important to see however, 
> that DOS builds will be unable to compile hbwin.lib, 
> so despite any stubs implemented, DOS apps will 
> have to do without hbwin.lib functions, and they'll 
> definitely need to guard them with __PLATFORM__WINDOWS.
> 

it will be good

>     3) using, as namespace, WIN_API_*() as pure api wrapper and WIN_*()
>     for "rearranged" C functions
> 
> 
> Good idea. Maybe WINAPI_*() would be even better.
>  
ok
> 
>     4) as possible, but has to be well tested, using STRUCTURES as per
>     Pritpal proposal
> 
> 
> Yes, well tested, portable, MT ready, alignment independent, 
> free from accessing Harbour internals, etc. IOW, if it can be done 
> in core quality, it's okay, if not however, it wouldn't be good to 
> build the whole lib upon it.
> 
yes, but should be verified because this will give a useful tool more 
readable and more near to ms approach and it can make easier to move ms 
code, IMO.

Best regards,

Francesco
From info at fsgiudice.com  Wed Feb  4 04:29:14 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Feb  4 04:29:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>	<21821717.post@talk.nabble.com>	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>	<21822162.post@talk.nabble.com>	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>	<21823009.post@talk.nabble.com>	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>	<49895858.20202@fsgiudice.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
Message-ID: <49895FEA.9070003@fsgiudice.com>

Hi Viktor,

Il 04/02/2009 10.14, Viktor Szak?ts ha scritto:
> 
> In contrary, I'm happy you've joined the thread :)
Thanks
> 
>     2) using, as above, header defines in *.api files (winuser.api,
>     wingdi.api)
> 
> 
> Here I don't agree, because usually I find it better 
> to use standard extensions, so if something is a 
> header I think we should stick with .ch, .h.
> 
> [ .api is reserved for Clipper legacy C headers, 
> and besides that, it's unclear by the name whether 
> they are meant for C or .prg code. ]
> 
> Since original Windows headers are a relatively 
> big mess, maybe it would be better not to replicate 
> it in hbwin.lib, but rather use one unified version, 
> hbwin.ch and hbwin.h. This is what we already do now.
> 
Ok for using *.ch, *.h, but if it is possible, to see immediately where 
put a new addition, as per c api file I would like to maintain ms naming 
convention, so for me it will be better to use, f.e., w_winuser.ch or 
winuserapi.ch
> If whole group agrees, and if that can help on the 
> file naming situation, we may lift the 8.3 chars naming 
> restriction for hbwin.lib. It's important to see however, 
> that DOS builds will be unable to compile hbwin.lib, 
> so despite any stubs implemented, DOS apps will 
> have to do without hbwin.lib functions, and they'll 
> definitely need to guard them with __PLATFORM__WINDOWS.
> 

it will be good

>     3) using, as namespace, WIN_API_*() as pure api wrapper and WIN_*()
>     for "rearranged" C functions
> 
> 
> Good idea. Maybe WINAPI_*() would be even better.
>  
ok
> 
>     4) as possible, but has to be well tested, using STRUCTURES as per
>     Pritpal proposal
> 
> 
> Yes, well tested, portable, MT ready, alignment independent, 
> free from accessing Harbour internals, etc. IOW, if it can be done 
> in core quality, it's okay, if not however, it wouldn't be good to 
> build the whole lib upon it.
> 
yes, but should be verified because this will give a useful tool more 
readable and more near to ms approach and it can make easier to move ms 
code, IMO.

Best regards,

Francesco
From harbour.01 at syenar.hu  Wed Feb  4 04:45:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 04:45:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <49895F90.2080504@fsgiudice.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<49895858.20202@fsgiudice.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
	<49895F90.2080504@fsgiudice.com>
Message-ID: <18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>

>
>
>>  Ok for using *.ch, *.h, but if it is possible, to see immediately where
> put a new addition, as per c api file I would like to mantain ms naming
> convention, so for me it will be better to use, f.e., w_winuser.ch or
> winuserapi.ch


We can do this. I personally prefer "w_winuser.ch".

Or, what about: "wapi_winuser.ch"?
To be in complete sync, maybe WAPI_*() prefix could be used for functions,
too.

Or, "winapi_winuser.ch" and WINAPI_*().

What do you think?


> If whole group agrees, and if that can help on the file naming situation,
>> we may lift the 8.3 chars naming restriction for hbwin.lib. It's important
>> to see however, that DOS builds will be unable to compile hbwin.lib, so
>> despite any stubs implemented, DOS apps will have to do without hbwin.lib
>> functions, and they'll definitely need to guard them with
>> __PLATFORM__WINDOWS.
>>
>>
> it will be good


Okay. Does the group have any objection, opinions on
above problem, especially with regards to allowing long
filenames in directory /contrib/hbwin ? (and only there)


> Yes, well tested, portable, MT ready, alignment independent, free from
>> accessing Harbour internals, etc. IOW, if it can be done in core quality,
>> it's okay, if not however, it wouldn't be good to build the whole lib upon
>> it.
>>
>>  yes, but should be verified because this will give a useful tool more
> readable and more near to ms approach and it can make easier to move ms
> code, IMO.


Absolutely.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/19664e39/attachment.html
From M.Horodyski at pzuzycie.com.pl  Wed Feb  4 05:19:42 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Feb  4 05:19:48 2009
Subject: [Harbour] Out-of-Box usable Harbour Distribution with XMate
	Project Builder
In-Reply-To: <49887425.5040808@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501DB67D4@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Tuesday, February 03, 2009 5:43 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Out-of-Box usable Harbour Distribution with
XMate Project Builder

[...]
>I've done some mingw tests in the past (trying to move from 
>BCC to mingw), but mingw speed was poor. Perhaps because of 

OW is here much better (speed of execution). Exe is bigger than from
BCC, but the pace (my old test was ca 30%).
On disk you have busy/spent 53 Mb 708 kb with custom OW 1.8 ver.
When you instal full version (Linux, DOS, OS/2, Novell, Win 3.1,  ...
Etc, etc) you need 189 Mb 204 kb.

Regards,
Marek Horodyski
From maurilio.longo at libero.it  Wed Feb  4 05:41:20 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb  4 05:41:28 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <498955A3.7070608@libero.it>
References: <20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>	<4987233C.4010405@libero.it>	<4987288B.30006@libero.it>	<49872A0B.4060604@libero.it>	<49873307.3000705@libero.it>	<20090202184020.GA27877@uran.home.aster.pl>	<4988110E.5010107@libero.it>	<498892DF.4050201@libero.it>	<20090203200055.GA3779@uran.home.aster.pl>
	<498955A3.7070608@libero.it>
Message-ID: <498970D0.7040305@libero.it>

Przemyslaw,

make install fails as well :( with this error:

(E:\repository\harbour-svn)make install
make -C doc install
make[1]: Entering directory `E:/repository/harbour-svn/doc'
make -C en install
make[2]: Entering directory `E:/repository/harbour-svn/doc/en'
make[2]: Nothing to be done for `install'.
make[2]: Leaving directory `E:/repository/harbour-svn/doc/en'
make -C es install
make[2]: Entering directory `E:/repository/harbour-svn/doc/es'
make[2]: Nothing to be done for `install'.
make[2]: Leaving directory `E:/repository/harbour-svn/doc/es'
make[1]: Leaving directory `E:/repository/harbour-svn/doc'
make -C include install
make[1]: Entering directory `E:/repository/harbour-svn/include'
ECHO copy clipdefs.h e:\harbour\include >> _nstall.cmd
make[1]: *** [install] Segmentation fault (core dumped)
make[1]: Leaving directory `E:/repository/harbour-svn/include'
make: *** [include.inst] Error 2

Looking a config/os2/install.cf it is unchanged since august 2008 and it does
not include any other file, so, what went wrong?

Maurilio.


Maurilio Longo wrote:
> Przemyslaw Czerpak wrote:
>> Interesting. Now it looks like GNU make problem.
>> Maybe some trick with eval function can help, f.e. something like:
>>
>>    define lib_object
>>    echo ADDMOD $(1) >> __lib__.tmp
>>    endef
>>
>>    define create_library
>>    IF EXIST $(OS2_LIB_ARCH) $(RM) $(OS2_LIB_ARCH)
>>    echo CREATE $(LIB_DIR)/$@ > __lib__.tmp
>>    $(foreach file, $(^F), $(eval $(call lib_object,$(file))))
>>    echo SAVE >> __lib__.tmp
>>    echo END >> __lib__.tmp
>>    $(AR) -M < __lib__.tmp
>>    endef
>>
> 
> With this I get an  error:
> 
> c ../../hbarch.c -ohbarch.o
> gcc -I. -I../../../../include -Wall -W -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF -
> c ../../reserved.c -oreserved.o
> ../../../../config/lib.cf:30: *** missing separator.  Stop.
> make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
> make[2]: *** [descend] Error 2
> make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
> make[1]: *** [common] Error 2
> make[1]: Leaving directory `E:/repository/harbour-svn/source'
> make: *** [source] Error 2
> 
> 
>>> Of course it works on the assumption that the library is made up of .o files.
>> You can use $(OBJ_EXT) instead of .o
>>    $(COMSPEC) /C "for %i in ( *$(OBJ_EXT) ) do echo ADDMOD %i >> _l_.tmp"
> 
> Yes, I can even remove the
> 
> $(COMSPEC) /C
> 
> there is no need to spawn another shell.
> 
>> I do not know OS2 command line size limit but if it's big enough then
>> you can also use:
> 
> 1024 chars
> 
>>    $(COMSPEC) /C "for %i in ($(^F)) do echo ADDMOD %i >> _l_.tmp"
>> Though in such case it should be possible to directly call ar without
>> the above trick by simple:
>>    AR_RULE = $(AR) $(ARFLAGS) cr $(LIB_DIR)/$@ $(^F)
>> so I guess it's smaller then necessary.
>>
> 
> Yes, this limit was reached long ago and the script was created to bypass it.
> 
> Thanks a lot.
> 
> Maurilio.
> 
> PS. I'll do some timing to see how much it takes to build with various -j ASAP :)
> 
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Wed Feb  4 05:58:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb  4 05:58:44 2009
Subject: [Harbour] searching a multiplatform way
Message-ID: <609353e70902040258q4a04db85waee7ac09f6d0ada8@mail.gmail.com>

There is a Multiplatform way to do it?

func test(x_cmd)
  x_cmd=curdrive()+":\"+curdir(curdrive())+"\mytest.pdf"
  SHELLEXECUTE( 0, "OPEN" ,ALLTRIM(X_CMD))
  RETURN  .T.

 #pragma BEGINDUMP
 #include "windows.h"
 #include "hbapi.h"
 HB_FUNC( SHELLEXECUTE )
{
    hb_retnl( ( LONG ) ShellExecute( ( HWND ) hb_parnl( 1 ), hb_parc( 2
), hb_parc( 3 ), hb_parc( 4 ), hb_parc( 5 ), hb_parni( 6 ) ) );
}
#pragma ENDDUMP

-- 
Massimo Belgrano
From druzus at acn.waw.pl  Wed Feb  4 06:31:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 06:26:59 2009
Subject: [Harbour] Clipper compatibility and reserved words.
In-Reply-To: <4988E9EE.4010803@zen.co.uk>
References: <49889812.5050101@zen.co.uk> <4988E9EE.4010803@zen.co.uk>
Message-ID: <20090204113129.GA8242@uran.home.aster.pl>

On Wed, 04 Feb 2009, Barry Jackson wrote:

Hi Barry,

> OK not to worry - I changed my function name and it's working.
> Easier than I expected with search and replace.
>> Hi - this is probably my fault, but I am trying to port a large Clipper 
>> 5.1 application to Harbour that has run well since 1990.
>> I have a UDF which I (stupidly) called get() which also calls the Clipper 
>> GET command within it.
>> Calls to get() run as far as the internal GET command which is now (in 
>> Harbour) calling my get() function again rather than using the GET 
>> command.
>> Before I change the name of get() and all the code that calls it, is there 
>> another way out of this?

The problem is cause bu Harbour class function: GET()
   CREATE CLASS Get
Probably it should be renamed to:
   CREATE CLASS Get FUNCTION TGet
and also GetNew() should be moved from tgetint.prg to tget.prg as:
   FUNCTION GetNew( ... )
      RETURN TGet():New( ... )
and it should be used in other code instead of get():new()

Thanks for information.
Can someone more familiar with GET system look at it and make above
modifications?

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb  4 06:31:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 06:31:23 2009
Subject: [Harbour] Clipper compatibility and reserved words.
In-Reply-To: <20090204113129.GA8242@uran.home.aster.pl>
References: <49889812.5050101@zen.co.uk> <4988E9EE.4010803@zen.co.uk>
	<20090204113129.GA8242@uran.home.aster.pl>
Message-ID: <18d502870902040331k5dfe0a63rc028742f5740cc9a@mail.gmail.com>

I'll look into it.
Brgds,
Viktor

On Wed, Feb 4, 2009 at 12:31 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Wed, 04 Feb 2009, Barry Jackson wrote:
>
> Hi Barry,
>
> > OK not to worry - I changed my function name and it's working.
> > Easier than I expected with search and replace.
> >> Hi - this is probably my fault, but I am trying to port a large Clipper
> >> 5.1 application to Harbour that has run well since 1990.
> >> I have a UDF which I (stupidly) called get() which also calls the
> Clipper
> >> GET command within it.
> >> Calls to get() run as far as the internal GET command which is now (in
> >> Harbour) calling my get() function again rather than using the GET
> >> command.
> >> Before I change the name of get() and all the code that calls it, is
> there
> >> another way out of this?
>
> The problem is cause bu Harbour class function: GET()
>   CREATE CLASS Get
> Probably it should be renamed to:
>   CREATE CLASS Get FUNCTION TGet
> and also GetNew() should be moved from tgetint.prg to tget.prg as:
>   FUNCTION GetNew( ... )
>      RETURN TGet():New( ... )
> and it should be used in other code instead of get():new()
>
> Thanks for information.
> Can someone more familiar with GET system look at it and make above
> modifications?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/14b56fb4/attachment-0001.html
From druzus at acn.waw.pl  Wed Feb  4 06:59:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 06:55:11 2009
Subject: [Harbour] Clipper compatibility and reserved words.
In-Reply-To: <18d502870902040331k5dfe0a63rc028742f5740cc9a@mail.gmail.com>
References: <49889812.5050101@zen.co.uk> <4988E9EE.4010803@zen.co.uk>
	<20090204113129.GA8242@uran.home.aster.pl>
	<18d502870902040331k5dfe0a63rc028742f5740cc9a@mail.gmail.com>
Message-ID: <20090204115941.GA19418@uran.home.aster.pl>

On Wed, 04 Feb 2009, Szak?ts Viktor wrote:
> I'll look into it.

Thank you,

best regards,
Przemek
From clipper5_y2d at versateladsl.be  Wed Feb  4 07:00:22 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Wed Feb  4 06:57:36 2009
Subject: [Harbour] Cleaning Harbour C types
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
Message-ID: <002401c986c0$2caabe80$4201a8c0@lan>

Hello Viktor, 

Since some time i'm switched to using a simple scheme; a letter to indicate the base type (for templates), and additionally a number expressing the precision (for concrete types) 

c    char   (as genuine char) 
c0  normal char 
c1  unicode char 

u    unsigned  int 
u0  8 bit    ( unsigned char ) -> equivalence of char and int at this precision 
u1 16 bit   ( unsigned ints ... ) 
u2 32 bit 
u3 64 bit 

i        (signed) int 
i0  8 bit   ( signed char ) -> equivalence of char and int at this precision 
i1 16 bit  ( signed ints ... ) 
i2 32 bit 
i3 64 bit 

precision digit : ( 2 ^ ( 3 + x )) -> bits 

r    float (real) 

r0  4 byte  
r1  8 byte 

precision digit : ( 2 ^ ( 2 + x )) -> bytes 

converting all typedefs throughout the harbour repository to a scheme like this results in total freedom to override and finetune external api's; perhaps to use in uppercase instead; regarding templates, using leading underscore, as in _i1 (16bit in 16 bit OS; 32bit in 32 bit OS); just my 2 cents ;-) 

frank 

----- Original Message ----- 
  From: Viktor Szak?ts 
  To: Harbour Project Main Developer List. 
  Sent: Wednesday, February 04, 2009 1:45 AM
  Subject: [Harbour] Cleaning Harbour C types


  Hi all,


  What would the preferred direction we should go in order 
  to avoid C type name collisions with external packages, 
  and OS APIs (like Windows API)?


  Here's is an incomplete list of type names which may cause such problems:
  BOOL
  SCHAR, UCHAR, BYTE
  SHORT, USHORT
  INT, UINT
  LONG, ULONG
  INT32, UINT32
  INT64, UINT64


  If cleaned up, we could finally get rid of the HB_OS_WIN_USED 
  hack and freely include "windows.h" anywhere in C code. It would 
  allow us to integrate Harbour with any tools without having to 
  worry about such collisions.


  OpenWatcom 1.8 gives hundreds of warnings for INT32.


  1) One route is to prefix everything with HB_. HB_INT, HB_UINT.
  Pretty obvious, but a tad verbose and not very elengant for such 
  basic types.


  2) Using standard types: int, long, unsigned int.


  3) Combination of the above: standard types for everything 
  where we can be in sync with underlying compiler types, 
  and HB_* special types whenever we want to enforce certain 
  sizes in public Harbour APIs, or to override compiler limits for 
  consistency, like Harbour string pointer/size, Harbour file pointer 
  (HB_FOFFSET), Harbour array pointer/size, Harbour character 
  type (HB_CHAR). One important point is to make above 
  distinction and planning in advance and in full detail, before 
  touching the source.


  +1) Regardless of the above we should keep legacy types 
  for Clipper compatibility, so they should be moved to Clipper 
  compatibility headers.


  Any thoughts?


  Brgds,
  Viktor




------------------------------------------------------------------------------


  _______________________________________________
  Harbour mailing list
  Harbour@harbour-project.org
  http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/4dd2b3ef/attachment.html
From druzus at acn.waw.pl  Wed Feb  4 07:52:59 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 07:48:28 2009
Subject: [Harbour] collations of DBF
In-Reply-To: <498882AE.9090703@marchuet.net>
References: <18d502870901292331q43ecbe42o22f0302562657d8b@mail.gmail.com>
	<4982D67C.90605@mweb.co.za>
	<18d502870901300252s387d5dc5pe3ea6677b57a5fed@mail.gmail.com>
	<498882AE.9090703@marchuet.net>
Message-ID: <20090204125259.GA14552@uran.home.aster.pl>

On Tue, 03 Feb 2009, Miguel Angel Marchuet wrote:

Hi Miguel,

> the offset 1Dh  at DBF/foxpro header tables has ( Language driver ) as follow:
> (Foxpro) Code page: These values follow the DOS / Windows Code Page values.
> Value 	Description 	Code page
> 01h 	DOS USA	code page 437
> 02h 	DOS Multilingual	code page 850
> 03h 	Windows ANSI	code page 1252
> 04h 	Standard Macintosh
> 64h 	EE MS-DOS	code page 852
> 65h 	Nordic MS-DOS	code page 865
> 66h 	Russian MS-DOS	code page 866
> 67h 	Icelandic MS-DOS
> 68h 	Kamenicky (Czech) MS-DOS
> 69h 	Mazovia (Polish) MS-DOS
> 6Ah 	Greek MS-DOS (437G)
> 6Bh 	Turkish MS-DOS
> 96h 	Russian Macintosh
> 97h 	Eastern European Macintosh
> 98h 	Greek Macintosh
> C8h 	Windows EE	code page 1250
> C9h 	Russian Windows
> CAh 	Turkish Windows
> CBh 	Greek Windows
> I purpose to save this information at DBF, and use this collation
> at dbfCompare, to sort properly the tables.
> We can add too other code pages that are created at harbour.

The above list does not cover collation orders well, f.e.:
   64h 	EE MS-DOS	code page 852
Informs only about used CP but we still do not know we should
sort using: CS852, HR852, HU852, PL852, RO852, SK852, SL852, ...
Only in few cases the FoxPro CP ID determinate exact CP with
collation order, f.e.:
   69h 	Mazovia (Polish) MS-DOS
which is PLMAZ so at beginning you have something what cannot
work well. Of course we can try to hard code our own CP IDs
but IMHO first we should clean our own CODEPAGE subsystem
because the final version may be different then the current
one and such mapping cannot be longer supported. It will be
very serious compatibility problem because we will have old
IDs in existing DBFs.
Adding the above modification is about 30 minute of work.
Updating it to new CP may take days if it's possible at all.
The only implementation which we can add now should be only
for strict VFP compatibility (it should check DBF signature
for 0x3[01]) and should not make any modifications in our CP
code so it should keep the translation table (ourCP<->fpCP)
in own structures. I think it can be added as separate GT
which inherits from DBF* ones (f.e. VFPCDX) so it's not
necessary to touch existing RDD code.
BTW does anyone have full list of above FoxPro CP identifiers?

best regards,
Przemek

ps. I've seen that you added BlobExport() and BlobImport() functions
    to xHarbour CVS.
    They were not missing. Clipper also does not have them.
    In Clipper and [x]Harbour all Blob*() functions are only
    PP directives defined in blob.ch
From vszakats at users.sourceforge.net  Wed Feb  4 08:45:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 08:45:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10171] trunk/harbour
Message-ID: <E1LUi3z-0004lF-CA@dn4whf1.ch3.sourceforge.com>

Revision: 10171
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10171&view=rev
Author:   vszakats
Date:     2009-02-04 13:45:09 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 14:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbextern.ch
  * common.mak
  * source/rtl/Makefile
  + source/rtl/tgetx.prg
  * source/rtl/tget.prg
  * source/rtl/tgetint.prg
    + CA-Cl*pper compatible GET class renamed to HBGet and
      is now always available regardless of feature settings.
    * Xbase++ compatible GET class named Get(), moved to separate
      file and now inherits from HBGet, plus implements
      additional functionality also in the separate file.
    * GetNew() moved to tget.prg from tgetint.prg.
    * Code changed to use HBGet():New() instead of Get():New().
    ; TOFIX: After above changes, Xbase++ compatiblity
             methods are no longer available for regular
             GETs, only if they are explicitly created
             using Get():New(). If this is a problem for someone
             we can start thinking of a solution.
    ; TODO: Do the same with TBrowse() and TColumn().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/common.mak
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/tget.prg
    trunk/harbour/source/rtl/tgetint.prg

Added Paths:
-----------
    trunk/harbour/source/rtl/tgetx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb  4 09:15:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 09:15:31 2009
Subject: [Harbour] Cleaning Harbour C types
In-Reply-To: <002401c986c0$2caabe80$4201a8c0@lan>
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
	<002401c986c0$2caabe80$4201a8c0@lan>
Message-ID: <18d502870902040615x7b208225q664a38c436ddb599@mail.gmail.com>

Hi Frank and all,

Nice concept, thanks. We'll need something which makes sure our own type
names never collide with anything else.

Your abbrev system has its advantages, it's short and
easy to work with once you've got used to it, the drawback
I see is that it makes it a bit difficult to grep for type
names, and there is a slight learning curve compared to
more often used '8', '16', '32', '64' notation.

One more: if possible we should also consider using
size_t (or deal with the problem by some other means)
because currently we have lots of warnings caused by
mismatched size_t and long size.

Some abstract type we may identify thorough Harbour:
- Harbour character (text) (currently: char, BYTE, SCHAR, UCHAR)
- Harbour character (binary/raw) (currently: char, BYTE, SCHAR, UCHAR)
- Harbour string (text) (currently: char *, BYTE *, SCHAR *, UCHAR *)
- Harbour string (binary/raw) (currently: char *, BYTE *, SCHAR *, UCHAR *)
- Harbour string length / index (currently: ULONG)
- Harbour array/hash table length / index (currently: ULONG)
  (above two can be the same)
- Harbour internal indexes (pcode pointer, param count, line no,
class/method ID) (currently: USHORT | LONG)
- Harbour integer num (currently: int)
- Harbour long num (currently: long ?)
- Harbour longlong num (currently: HB_LONG ?)
- Harbour float (currently: double)
- probably more, please extend. (dates, other internal types...)

Brgds,
Viktor

On Wed, Feb 4, 2009 at 1:00 PM, frank van nuffel <
clipper5_y2d@versateladsl.be> wrote:

>  Hello Viktor,
>
> Since some time i'm switched to using a simple scheme; a letter to indicate
> the base type (for templates), and additionally a number expressing the
> precision (for concrete types)
>
> c    char   (as genuine char)
> c0  normal char
> c1  unicode char
>
> u    unsigned  int
>  u0  8 bit    ( unsigned char ) -> equivalence of char and int at this
> precision
> u1 16 bit   ( unsigned ints ... )
>  u2 32 bit u3 64 bit
>
> i        (signed) int
>  i0  8 bit   ( signed char ) -> equivalence of char and int at this
> precision
> i1 16 bit  ( signed ints ... )
>  i2 32 bit i3 64 bit
>
>  precision digit : ( 2 ^ ( 3 + x )) -> bits
>
> r    float (real)
>
> r0  4 byte
> r1  8 byte
>
> precision digit : ( 2 ^ ( 2 + x )) -> bytes
>
> converting all typedefs throughout the harbour repository to a scheme like
> this results in total freedom to override and finetune external api's;
> perhaps to use in uppercase instead; regarding templates, using leading
> underscore, as in _i1 (16bit in 16 bit OS; 32bit in 32 bit OS); just my 2
> cents ;-)
>
> frank
>
> ----- Original Message -----
>
> *From:* Viktor Szak?ts <harbour.01@syenar.hu>
> *To:* Harbour Project Main Developer List. <harbour@harbour-project.org>
> *Sent:* Wednesday, February 04, 2009 1:45 AM
> *Subject:* [Harbour] Cleaning Harbour C types
>
> Hi all,
> What would the preferred direction we should go in order
> to avoid C type name collisions with external packages,
> and OS APIs (like Windows API)?
>
> Here's is an incomplete list of type names which may cause such problems:
> BOOL
> SCHAR, UCHAR, BYTE
> SHORT, USHORT
> INT, UINT
> LONG, ULONG
> INT32, UINT32
> INT64, UINT64
>
> If cleaned up, we could finally get rid of the HB_OS_WIN_USED
> hack and freely include "windows.h" anywhere in C code. It would
> allow us to integrate Harbour with any tools without having to
> worry about such collisions.
>
> OpenWatcom 1.8 gives hundreds of warnings for INT32.
>
> 1) One route is to prefix everything with HB_. HB_INT, HB_UINT.
> Pretty obvious, but a tad verbose and not very elengant for such
> basic types.
>
> 2) Using standard types: int, long, unsigned int.
>
> 3) Combination of the above: standard types for everything
> where we can be in sync with underlying compiler types,
> and HB_* special types whenever we want to enforce certain
> sizes in public Harbour APIs, or to override compiler limits for
> consistency, like Harbour string pointer/size, Harbour file pointer
> (HB_FOFFSET), Harbour array pointer/size, Harbour character
> type (HB_CHAR). One important point is to make above
> distinction and planning in advance and in full detail, before
> touching the source.
>
> +1) Regardless of the above we should keep legacy types
> for Clipper compatibility, so they should be moved to Clipper
> compatibility headers.
>
> Any thoughts?
>
> Brgds,
> Viktor
>
>  ------------------------------
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/e662d39f/attachment-0001.html
From druzus at acn.waw.pl  Wed Feb  4 09:38:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 09:33:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10171] trunk/harbour
In-Reply-To: <E1LUi3z-0004lF-CA@dn4whf1.ch3.sourceforge.com>
References: <E1LUi3z-0004lF-CA@dn4whf1.ch3.sourceforge.com>
Message-ID: <20090204143830.GA5221@uran.home.aster.pl>

On Wed, 04 Feb 2009, vszakats@users.sourceforge.net wrote:

Hi Viktor,

>     + CA-Cl*pper compatible GET class renamed to HBGet and
>       is now always available regardless of feature settings.

Now we have different problem:
   ? getNew():className
which will break code which checks class name, f.e.:
   if o:classname == "GET"
      o:<...>(...)
   elseif ...
      ...
   endif

IMHO the previous version was better and we should only replace in
core code Get():New() with GetNew() and we can keep xbase++ methods
inside.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb  4 09:45:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 09:45:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10171] trunk/harbour
In-Reply-To: <20090204143830.GA5221@uran.home.aster.pl>
References: <E1LUi3z-0004lF-CA@dn4whf1.ch3.sourceforge.com>
	<20090204143830.GA5221@uran.home.aster.pl>
Message-ID: <18d502870902040645r7863d251l6b3ea88d42084f3@mail.gmail.com>

The problem is that Xbase++ has a public symbol named GET(), while plain
Clipper doesn't. If XPP compatibility is turned on, we
should provide GET(), if it isn't, we shouldn't.
I intentionally didn't replace Get():New() with GetNew(), to not
add an unnecessary layer of function call here. [ if there is no
other choice we can do this. ]

Can't we somehow override the value returned by :classname?

Brgds,
Viktor

On Wed, Feb 4, 2009 at 3:38 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Wed, 04 Feb 2009, vszakats@users.sourceforge.net wrote:
>
> Hi Viktor,
>
> >     + CA-Cl*pper compatible GET class renamed to HBGet and
> >       is now always available regardless of feature settings.
>
> Now we have different problem:
>   ? getNew():className
> which will break code which checks class name, f.e.:
>   if o:classname == "GET"
>      o:<...>(...)
>   elseif ...
>      ...
>   endif
>
> IMHO the previous version was better and we should only replace in
> core code Get():New() with GetNew() and we can keep xbase++ methods
> inside.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/0d96812d/attachment.html
From miguelangel at marchuet.net  Wed Feb  4 10:41:20 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Wed Feb  4 10:36:27 2009
Subject: [Harbour] collations of DBF
In-Reply-To: <20090204125259.GA14552@uran.home.aster.pl>
References: <18d502870901292331q43ecbe42o22f0302562657d8b@mail.gmail.com>	<4982D67C.90605@mweb.co.za>	<18d502870901300252s387d5dc5pe3ea6677b57a5fed@mail.gmail.com>	<498882AE.9090703@marchuet.net>
	<20090204125259.GA14552@uran.home.aster.pl>
Message-ID: <4989B720.6070703@marchuet.net>

Przemyslaw Czerpak escribi?:
> On Tue, 03 Feb 2009, Miguel Angel Marchuet wrote:
> 
> Hi Miguel,

>> the offset 1Dh  at DBF/foxpro header tables has ( Language driver ) as follow:
>> (Foxpro) Code page: These values follow the DOS / Windows Code Page values.
>> Value 	Description 	Code page
>> 01h 	DOS USA	code page 437
>> 02h 	DOS Multilingual	code page 850
>> 03h 	Windows ANSI	code page 1252
>> 04h 	Standard Macintosh
>> 64h 	EE MS-DOS	code page 852
>> 65h 	Nordic MS-DOS	code page 865
>> 66h 	Russian MS-DOS	code page 866
>> 67h 	Icelandic MS-DOS
>> 68h 	Kamenicky (Czech) MS-DOS
>> 69h 	Mazovia (Polish) MS-DOS
>> 6Ah 	Greek MS-DOS (437G)
>> 6Bh 	Turkish MS-DOS
>> 96h 	Russian Macintosh
>> 97h 	Eastern European Macintosh
>> 98h 	Greek Macintosh
>> C8h 	Windows EE	code page 1250
>> C9h 	Russian Windows
>> CAh 	Turkish Windows
>> CBh 	Greek Windows

this is full table supporte for old foxpro not vfp ( see below for vfp)

>> I purpose to save this information at DBF, and use this collation
>> at dbfCompare, to sort properly the tables.
>> We can add too other code pages that are created at harbour.
> 
> The above list does not cover collation orders well, f.e.:
>    64h 	EE MS-DOS	code page 852
> Informs only about used CP but we still do not know we should
> sort using: CS852, HR852, HU852, PL852, RO852, SK852, SL852, ...
> Only in few cases the FoxPro CP ID determinate exact CP with
> collation order, f.e.:
>    69h 	Mazovia (Polish) MS-DOS
> which is PLMAZ so at beginning you have something what cannot
> work well. Of course we can try to hard code our own CP IDs
> but IMHO first we should clean our own CODEPAGE subsystem
> because the final version may be different then the current
> one and such mapping cannot be longer supported. It will be
> very serious compatibility problem because we will have old
> IDs in existing DBFs.
> Adding the above modification is about 30 minute of work.
> Updating it to new CP may take days if it's possible at all.
> The only implementation which we can add now should be only
> for strict VFP compatibility (it should check DBF signature
> for 0x3[01]) and should not make any modifications in our CP
> code so it should keep the translation table (ourCP<->fpCP)
> in own structures. I think it can be added as separate GT
> which inherits from DBF* ones (f.e. VFPCDX) so it's not
> necessary to touch existing RDD code.

this codes are for old foxpro dbf not for current vfp

> BTW does anyone have full list of above FoxPro CP identifiers?

CPDBF([nWorkArea | cTableAlias]) -> Returns the code page with which an open table has been marked.

This are all codepages supported by vfp:

Code page 	Platform 		Code page identifier
437 		U.S. MS-DOS 		x01
620 * 		Mazovia (Polish) MS-DOS x69
737 * 		Greek MS-DOS (437G) 	x6A
850 		International MS-DOS 	x02
852 		Eastern European MS-DOS x64
857 		Turkish MS-DOS 		x6B
861 		Icelandic MS-DOS 	x67
865 		Nordic MS-DOS 		x66
866 		Russian MS-DOS 		x65
874 		Thai Windows 		x7C
895 * 		Kamenicky (Czech) MS-DOS x68
932 		Japanese Windows 	x7B
936 		Chinese (PRC, Singapore) Windows 	x7A
949 		Korean Windows 		x79
950 		Chinese (Hong Kong SAR, Taiwan) Windows 	x78
1250 		Eastern European Windows xC8
1251 		Russian Windows 	xC9
1252 		Windows ANSI 		x03
1253 		Greek Windows 		xCB
1254 		Turkish Windows 	xCA
1255 		Hebrew Windows 		x7D
1256 		Arabic Windows 		x7E
10000 		Standard Macintosh 	x04
10006 		Greek Macintosh 	x98
10007 * 	Russian Macintosh 	x96
10029 		Macintosh EE 		x97

* Not detected when you include CODEPAGE=AUTO in your configuration file.

http://msdn.microsoft.com/en-us/library/8t45x02s(VS.71).aspx

> 
> ps. I've seen that you added BlobExport() and BlobImport() functions
>     to xHarbour CVS.
>     They were not missing. Clipper also does not have them.
>     In Clipper and [x]Harbour all Blob*() functions are only
>     PP directives defined in blob.ch

thks, i found one problem, when users of ourxdbu try to write code
using BlobImport, macro evaluator not found this function :(, I think
can be good idea to add synonim fo DbFileGet and DbFilePut too as
BlobImport, BlobExport and others to help macroevaluator to solve this
type of code, of course i can say too users, that BlobImport is not a
function. :(

What do you think?



Best regards,
Miguel Angel Marchuet
From druzus at acn.waw.pl  Wed Feb  4 10:51:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 10:46:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10171] trunk/harbour
In-Reply-To: <18d502870902040645r7863d251l6b3ea88d42084f3@mail.gmail.com>
References: <E1LUi3z-0004lF-CA@dn4whf1.ch3.sourceforge.com>
	<20090204143830.GA5221@uran.home.aster.pl>
	<18d502870902040645r7863d251l6b3ea88d42084f3@mail.gmail.com>
Message-ID: <20090204155103.GA25342@uran.home.aster.pl>

On Wed, 04 Feb 2009, Szak?ts Viktor wrote:
> The problem is that Xbase++ has a public symbol named GET(), while plain
> Clipper doesn't. If XPP compatibility is turned on, we
> should provide GET(), if it isn't, we shouldn't.

For me much more important is basic Clipper compatibility and here
we touch sth what may break pure CL5.2 code which does not even use
any external OOP system.
The problem with repeating xbasee++ class function names is much
bigger and apeears in other places. I'm not xbase++ user so I cannot
say how it exactly works. For me the realtions between class and
class function names are not clear. I also do not know how it effects
static classes or even if xbase++ supports them.
Looking at examples send here seems that xbase++ supports Class(y)
like class objects and class functions returns such objects which
needs :new() method to create given class instance.
Maybe xbase++ users can say sth more.

> I intentionally didn't replace Get():New() with GetNew(), to not
> add an unnecessary layer of function call here. [ if there is no
> other choice we can do this. ]

This does not cause any noticeable speed overhead.
Using HbGet():new() also bound current implementation of Get[:]New()
with upper level code what is not good idea and makes customization
by user much harder. Instead of overloading single public function
known also from Clipper user have to replicate Harbour class model
in his code.
To reduce speed overhead (if you think it's such important) you can
use '...' as parameters. It reduce number of PCODEs which have to be
evaluated:
   FUNCTION GetNew( ... )
      RETURN HBGet():New( ... )
or if you think that speed is critical here then you can also write
GetNew() in C and it will be even faster a little bit then hbGet():new()
but all these modifications will not make any noticeable speed difference
in final code which have to make few other much more expensive things.

> Can't we somehow override the value returned by :classname?

We can but such hacks introduce many other problems, f.e. with
serializations or for object inspectors. In core code the class
is register as "ABC" but user see it as "XYZ".
In such case I'd prefer to return to old code. The problem with
public GET() function seems to be minimal in comparison to the
ones created by forcing HB* prefix here.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb  4 10:57:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 10:57:33 2009
Subject: [Harbour] collations of DBF
In-Reply-To: <4989B720.6070703@marchuet.net>
References: <18d502870901292331q43ecbe42o22f0302562657d8b@mail.gmail.com>
	<4982D67C.90605@mweb.co.za>
	<18d502870901300252s387d5dc5pe3ea6677b57a5fed@mail.gmail.com>
	<498882AE.9090703@marchuet.net>
	<20090204125259.GA14552@uran.home.aster.pl>
	<4989B720.6070703@marchuet.net>
Message-ID: <18d502870902040757o21916a13nda23016df7832fc2@mail.gmail.com>

>
> * Not detected when you include CODEPAGE=AUTO in your configuration file.
>
> http://msdn.microsoft.com/en-us/library/8t45x02s(VS.71).aspx


Isn't this the kind of collation which needs the Windows API
specific non-portable function call to be implemented properly?

[ this was discussed a few time here already. ]


> <http://msdn.microsoft.com/en-us/library/8t45x02s(VS.71).aspx>thks, i
> found one problem, when users of ourxdbu try to write code
> using BlobImport, macro evaluator not found this function :(, I think
> can be good idea to add synonim fo DbFileGet and DbFilePut too as
> BlobImport, BlobExport and others to help macroevaluator to solve this
> type of code, of course i can say too users, that BlobImport is not a
> function. :(
>
> What do you think?


Sorry to jump in, I think there is no need to add such functionality
to Harbour core, as it's trivial to add it on app level.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/f2e23f65/attachment.html
From harbour.01 at syenar.hu  Wed Feb  4 11:08:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 11:08:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10171] trunk/harbour
In-Reply-To: <20090204155103.GA25342@uran.home.aster.pl>
References: <E1LUi3z-0004lF-CA@dn4whf1.ch3.sourceforge.com>
	<20090204143830.GA5221@uran.home.aster.pl>
	<18d502870902040645r7863d251l6b3ea88d42084f3@mail.gmail.com>
	<20090204155103.GA25342@uran.home.aster.pl>
Message-ID: <18d502870902040808l432c456t1b3f7749a1f821ab@mail.gmail.com>

>
> For me much more important is basic Clipper compatibility and here
> we touch sth what may break pure CL5.2 code which does not even use
> any external OOP system.
> The problem with repeating xbasee++ class function names is much
> bigger and apeears in other places. I'm not xbase++ user so I cannot
> say how it exactly works. For me the realtions between class and
> class function names are not clear. I also do not know how it effects
> static classes or even if xbase++ supports them.
> Looking at examples send here seems that xbase++ supports Class(y)
> like class objects and class functions returns such objects which
> needs :new() method to create given class instance.
> Maybe xbase++ users can say sth more.


I don't know either, anyhow the functionality was there
already so I didn't want to remove it now.


> This does not cause any noticeable speed overhead.
> Using HbGet():new() also bound current implementation of Get[:]New()
> with upper level code what is not good idea and makes customization
> by user much harder. Instead of overloading single public function
> known also from Clipper user have to replicate Harbour class model
> in his code.
> To reduce speed overhead (if you think it's such important) you can
> use '...' as parameters. It reduce number of PCODEs which have to be
> evaluated:
>   FUNCTION GetNew( ... )
>      RETURN HBGet():New( ... )
> or if you think that speed is critical here then you can also write
> GetNew() in C and it will be even faster a little bit then hbGet():new()
> but all these modifications will not make any noticeable speed difference
> in final code which have to make few other much more expensive things.


Okay, I'll do these, it will be cleaner for sure.
The "..." trick tip is nice.


> > Can't we somehow override the value returned by :classname?
>
> We can but such hacks introduce many other problems, f.e. with
> serializations or for object inspectors. In core code the class
> is register as "ABC" but user see it as "XYZ".
> In such case I'd prefer to return to old code. The problem with
> public GET() function seems to be minimal in comparison to the
> ones created by forcing HB* prefix here.


The problem is that we need (at least we already had) GET()
for Xbase++ compatibility. Exact same problems we have with
TBrowse() and TBColumn(), which aren't Clipper public symbols.

Since Xbase++ is less important, how about naming the
XPP compatible (or so intended) extended classes xpp_GET(),
xpp_TBrowse(), xpp_TBColum()? This way we could make
GET/TBROWSE/TBCOLUM class symbols STATIC.

How about this?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/b50d925c/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb  4 11:23:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 11:23:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10171] trunk/harbour
In-Reply-To: <18d502870902040808l432c456t1b3f7749a1f821ab@mail.gmail.com>
References: <E1LUi3z-0004lF-CA@dn4whf1.ch3.sourceforge.com>
	<20090204143830.GA5221@uran.home.aster.pl>
	<18d502870902040645r7863d251l6b3ea88d42084f3@mail.gmail.com>
	<20090204155103.GA25342@uran.home.aster.pl>
	<18d502870902040808l432c456t1b3f7749a1f821ab@mail.gmail.com>
Message-ID: <18d502870902040823x54706805jef25467a33dca25e@mail.gmail.com>

>
> The problem is that we need (at least we already had) GET()
> for Xbase++ compatibility. Exact same problems we have with
> TBrowse() and TBColumn(), which aren't Clipper public symbols.
>
> Since Xbase++ is less important, how about naming the
> XPP compatible (or so intended) extended classes xpp_GET(),
> xpp_TBrowse(), xpp_TBColum()? This way we could make
> GET/TBROWSE/TBCOLUM class symbols STATIC.
>
> How about this?
>

If doing the above, how can anyone inherit from the
original Harbour classes? Is this possible at all?

Another option is to use the same method we already
do in other places:

CREATE CLASS GET FUNCTION HBGet

How about this one? And how to inherit from such
class?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/f7214647/attachment.html
From druzus at acn.waw.pl  Wed Feb  4 12:16:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 12:11:49 2009
Subject: [Harbour] collations of DBF
In-Reply-To: <4989B720.6070703@marchuet.net>
References: <18d502870901292331q43ecbe42o22f0302562657d8b@mail.gmail.com>
	<4982D67C.90605@mweb.co.za>
	<18d502870901300252s387d5dc5pe3ea6677b57a5fed@mail.gmail.com>
	<498882AE.9090703@marchuet.net>
	<20090204125259.GA14552@uran.home.aster.pl>
	<4989B720.6070703@marchuet.net>
Message-ID: <20090204171620.GA12500@uran.home.aster.pl>

On Wed, 04 Feb 2009, Miguel Angel Marchuet wrote:

Hi Miguel,

>>> (Foxpro) Code page: These values follow the DOS / Windows Code Page values.
>>> Value 	Description 	Code page
>>> 01h 	DOS USA	code page 437
>>> 02h 	DOS Multilingual	code page 850
>>> 03h 	Windows ANSI	code page 1252
>>> 04h 	Standard Macintosh
>>> 64h 	EE MS-DOS	code page 852
>>> 65h 	Nordic MS-DOS	code page 865
>>> 66h 	Russian MS-DOS	code page 866
>>> 67h 	Icelandic MS-DOS
>>> 68h 	Kamenicky (Czech) MS-DOS
>>> 69h 	Mazovia (Polish) MS-DOS
>>> 6Ah 	Greek MS-DOS (437G)
>>> 6Bh 	Turkish MS-DOS
>>> 96h 	Russian Macintosh
>>> 97h 	Eastern European Macintosh
>>> 98h 	Greek Macintosh
>>> C8h 	Windows EE	code page 1250
>>> C9h 	Russian Windows
>>> CAh 	Turkish Windows
>>> CBh 	Greek Windows
> this is full table supporte for old foxpro not vfp ( see below for vfp)
> This are all codepages supported by vfp:
> Code page 	Platform 		Code page identifier
> 437 		U.S. MS-DOS 		x01
> 620 * 		Mazovia (Polish) MS-DOS x69
> 737 * 		Greek MS-DOS (437G) 	x6A
> 850 		International MS-DOS 	x02
> 852 		Eastern European MS-DOS x64
> 857 		Turkish MS-DOS 		x6B
> 861 		Icelandic MS-DOS 	x67
> 865 		Nordic MS-DOS 		x66
> 866 		Russian MS-DOS 		x65
> 874 		Thai Windows 		x7C
> 895 * 		Kamenicky (Czech) MS-DOS x68
> 932 		Japanese Windows 	x7B
> 936 		Chinese (PRC, Singapore) Windows 	x7A
> 949 		Korean Windows 		x79
> 950 		Chinese (Hong Kong SAR, Taiwan) Windows 	x78
> 1250 		Eastern European Windows xC8
> 1251 		Russian Windows 	xC9
> 1252 		Windows ANSI 		x03
> 1253 		Greek Windows 		xCB
> 1254 		Turkish Windows 	xCA
> 1255 		Hebrew Windows 		x7D
> 1256 		Arabic Windows 		x7E
> 10000 		Standard Macintosh 	x04
> 10006 		Greek Macintosh 	x98
> 10007 * 	Russian Macintosh 	x96
> 10029 		Macintosh EE 		x97
> * Not detected when you include CODEPAGE=AUTO in your configuration file.

Looks that VFP uses the same table with few new entries:
   78h	Chinese (Hong Kong SAR, Taiwan) Windows (950)
   79h	Korean Windows (949)
   8Ah	Chinese (PRC, Singapore) Windows (936)
   7Bh	Japanese Windows (932)
   7Ch	Thai Windows (874)
   7Dh	Hebrew Windows (1255)
   7Eh	Arabic Windows (1256)

I guess that misplaced numbers for:
   65h	Nordic MS-DOS	code page 865
   66h	Russian MS-DOS	code page 866
is a typo and only one of the above versions is correct (FP or VFP)

> this codes are for old foxpro dbf not for current vfp

OK but VFP uses the same table with few new entries.

> thks, i found one problem, when users of ourxdbu try to write code
> using BlobImport, macro evaluator not found this function :(, I think
> can be good idea to add synonim fo DbFileGet and DbFilePut too as
> BlobImport, BlobExport and others to help macroevaluator to solve this
> type of code, of course i can say too users, that BlobImport is not a
> function. :(
> What do you think?

This sounds reasonable but in such case all blob*() functions should be
in separated file and not mixed with other RDD functions.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Feb  4 12:47:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb  4 12:47:23 2009
Subject: [Harbour] Wich data type to store XLM documents?
Message-ID: <609353e70902040947k23cfb185mfed15a9d738692f@mail.gmail.com>

Which data type will be used to store XML/html documents in dbf by harbour?

SQL Server 2005 have a data type called XML. These XML values are
stored in an internal format as large binary objects (BLOB)
you can query and update XML documents
dbf world seen not have this fields, also VFP seem not have
http://fox.wikis.com/wc.dll?Wiki~VFPDataTypes~VFP


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Feb  4 12:59:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb  4 12:59:17 2009
Subject: [Harbour] Re: Wich data type to store XLM documents?
In-Reply-To: <609353e70902040947k23cfb185mfed15a9d738692f@mail.gmail.com>
References: <609353e70902040947k23cfb185mfed15a9d738692f@mail.gmail.com>
Message-ID: <609353e70902040959h5e0399a2vb96d428c5fbaa39d@mail.gmail.com>

http://en.wikipedia.org/wiki/XML_database


2009/2/4 Massimo Belgrano <mbelgrano@deltain.it>:
> Which data type will be used to store XML/html documents in dbf by harbour?
>
> SQL Server 2005 have a data type called XML. These XML values are
> stored in an internal format as large binary objects (BLOB)
> you can query and update XML documents
> dbf world seen not have this fields, also VFP seem not have
> http://fox.wikis.com/wc.dll?Wiki~VFPDataTypes~VFP
>
>
> --
> Massimo Belgrano
>
From vszakats at users.sourceforge.net  Wed Feb  4 13:21:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 13:21:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10172] trunk/harbour
Message-ID: <E1LUmNH-0001mD-UE@74yxhf1.ch3.sourceforge.com>

Revision: 10172
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10172&view=rev
Author:   vszakats
Date:     2009-02-04 18:21:23 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 19:20 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * include/hbextern.ch
   * source/rtl/tbcolumn.prg
   * source/rtl/tbrowse.prg
   * source/rtl/tget.prg
   * source/rtl/tgetx.prg
     ! Using new method to solve the GET()/TBROWSE()/TBCOLUMN()
       symbol problem (these aren't public symbols in Clipper).
       The method used is the one already implemented for other
       C53 CUI classes.
       This allows inheritance, doesn't mess up the class name,
       and won't declare above public symbols.
     * Moved Xbase++ compatible GET()/TBROWSE()/TBCOLUMN()
       functionality into separate classes, all inheriting from
       original Harbour classes. This means that Xbase++
       compatible methods are only accessible when using the
       derived classes. The separation will allow us to
       move XPP (and other HB_COMPAT_*) compatible functionality
       into a separate libraries in the future, allowing more
       freedom to resolve clashing features, symbol names, etc..
     * Xbase++ compatible classes are named: xpp_Get(),
       xpp_TBrowse(), xpp_TBColumn(). This is a slight
       incompatibility compared to Xbase++ and also to
       previous Harbour. Technically it seems possible
       to give them the names GET()/TBROWSE()/TBCOLUMN(), if
       the class is defined in a different file, but let's first 
       discuss it.

   * source/rtl/tgetint.prg
     * Using GetNew() instead of Get():New().

     ; Finally I didn't use '( ... )' to pass parameters in GetNew(),
       as it's a tiny bit less efficient with -gc3.

   * include/hbusrrdd.ch
   * include/hbapi.h
     + Comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbextern.ch
    trunk/harbour/include/hbusrrdd.ch
    trunk/harbour/source/rtl/tbcolumn.prg
    trunk/harbour/source/rtl/tbrowse.prg
    trunk/harbour/source/rtl/tget.prg
    trunk/harbour/source/rtl/tgetint.prg
    trunk/harbour/source/rtl/tgetx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb  4 14:42:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 14:37:57 2009
Subject: [Harbour] Wich data type to store XLM documents?
In-Reply-To: <609353e70902040947k23cfb185mfed15a9d738692f@mail.gmail.com>
References: <609353e70902040947k23cfb185mfed15a9d738692f@mail.gmail.com>
Message-ID: <20090204194228.GA19405@uran.home.aster.pl>

On Wed, 04 Feb 2009, Massimo Belgrano wrote:
> Which data type will be used to store XML/html documents in dbf by harbour?

The same as for any other text or binary objects: MEMO

> SQL Server 2005 have a data type called XML. These XML values are
> stored in an internal format as large binary objects (BLOB)
> you can query and update XML documents
> dbf world seen not have this fields, also VFP seem not have
> http://fox.wikis.com/wc.dll?Wiki~VFPDataTypes~VFP

<IRONIC_MODE>
   Ask MS when they plan to introduce new _extended_ field type for numbers
   so you can query and update it using number types or string types
   containing decimal number representation.
</IRONIC_MODE>

;-)

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb  4 14:57:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 14:57:26 2009
Subject: [Harbour] HB_ARCHITECTURE w32 to win migration
Message-ID: <18d502870902041157w2e19ebfyd6faa5c812b26919@mail.gmail.com>

Hi all,
As the last step of cleaning Harbour from "win32", "w32" and similar
from '32', I'd like to move forward and switch "w32" HB_ARCHITECTURE
to simply "win".

Currently "w32" covers Windows 32-bit, Windows 64-bit, Windows CE,
and in the future might also cover Itanium (IA64) (*), so the naming is
now outdated and misleading.

Any concerns?

Brgds,
Viktor

(*) Unfortunately, it's only supported in the expensive version of Visual
Studio yet.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/20e60a67/attachment.html
From vszakats at users.sourceforge.net  Wed Feb  4 15:48:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 15:48:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10173] trunk/harbour
Message-ID: <E1LUofu-0001eG-5k@c3vjzd1.ch3.sourceforge.com>

Revision: 10173
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10173&view=rev
Author:   vszakats
Date:     2009-02-04 20:48:45 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 21:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/rddado/tests/hbmk_b32.bat
  * contrib/rddado/tests/hbmk_vc.bat
    ! hbw32.lib -> hbwin.lib

  * source/vm/set.c
    ! Fixed HB_OS_W32 (non-existing) macro to HB_OS_WIN.
      It caused that device names were not uppercased in Windows 
      builds, which wasn't fatal.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddado/tests/hbmk_b32.bat
    trunk/harbour/contrib/rddado/tests/hbmk_vc.bat
    trunk/harbour/source/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb  4 15:59:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 15:59:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10174] trunk/harbour
Message-ID: <E1LUoqa-0001m4-7A@c3vjzd1.ch3.sourceforge.com>

Revision: 10174
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10174&view=rev
Author:   vszakats
Date:     2009-02-04 20:59:47 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 21:59 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbgtcore.h
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvggui.c
  * source/rtl/gtclip.c
  * source/rtl/gttone.c
  * source/rtl/gtkbstat.c
  * source/rtl/gtgui/gtgui.c
  * source/rtl/gtwin/gtwin.c
  * source/rtl/gtwvt/gtwvt.c
    * hb_gt_w32_*() internal functions renamed to hb_gt_winapi_*().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/source/rtl/gtclip.c
    trunk/harbour/source/rtl/gtgui/gtgui.c
    trunk/harbour/source/rtl/gtkbstat.c
    trunk/harbour/source/rtl/gttone.c
    trunk/harbour/source/rtl/gtwin/gtwin.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb  4 16:12:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 16:12:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10175] trunk/harbour
Message-ID: <E1LUp2b-0001vt-1h@c3vjzd1.ch3.sourceforge.com>

Revision: 10175
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10175&view=rev
Author:   vszakats
Date:     2009-02-04 21:12:12 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 22:11 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hbmk.bat
  * make_gcc.sh
  * make_gnu.sh
    + All of these now accepts 'win' instead of 'w32'.

  * make_gcc.sh
  * make_gnu.sh
  * make_gnu_xmingwce.sh
  * make_gnu_xmingw.sh
    ! Indentation fixed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/make_gcc.sh
    trunk/harbour/make_gnu.sh
    trunk/harbour/make_gnu_xmingw.sh
    trunk/harbour/make_gnu_xmingwce.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Wed Feb  4 16:20:22 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Feb  4 16:20:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>	<21821717.post@talk.nabble.com>	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>	<21822162.post@talk.nabble.com>	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>	<21823009.post@talk.nabble.com>	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>	<49895858.20202@fsgiudice.com>	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>	<49895F90.2080504@fsgiudice.com>
	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>
Message-ID: <498A0696.1020806@fsgiudice.com>


Il 04/02/2009 10.45, Viktor Szak?ts ha scritto:
> 
>     Ok for using *.ch, *.h, but if it is possible, to see immediately
>     where put a new addition, as per c api file I would like to mantain
>     ms naming convention, so for me it will be better to use, f.e.,
>     w_winuser.ch or winuserapi.ch
> 
> 
> We can do this. I personally prefer "w_winuser.ch".
> 
> Or, what about: "wapi_winuser.ch"?
> To be in complete sync, maybe WAPI_*() prefix could be used for 
> functions, too.
> 
> Or, "winapi_winuser.ch" and WINAPI_*().
> 
> What do you think?
>  

Uhm, after some thought, last 2 version are more consistent also for me, 
also if a bit long.

So, following you, I propose:

winapi_*.c for windows wrappers and in particular:
f.e. winapi_kernel32.c or winapi_gdi32.c for pure wrappers functions to 
standard api files/dll (as MSDN tells).
These files will contains only WINAPI_* functions as pure wrappers (and, 
possibly having STRUCTURES, with same syntax).

After these we will have win_*.c files that will contains higher level 
functions (like: DrawTransparentBitmap() functions that uses more than 
single win API). Those functions will be prefixed with WIN_.

For all pure windows headers files (also if adapted to us) will be used 
winapi_ prefix, so we will have i.e. winapi_winuser.ch.
Instead for internal use we will use win_*.ch/win_*.h names.

If this will appear a bit long, the alternative is w* (wapi_ or w_) also 
if I have doubt that in case of developing the same for linux or os/2 or 
something else 1 char is enough.

All above only if group will agrees on lift 8.3 naming convention on 
hbwin folder.


Best regards

Francesco
From druzus at acn.waw.pl  Wed Feb  4 16:32:54 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 16:28:22 2009
Subject: [Harbour] HB_ARCHITECTURE w32 to win migration
In-Reply-To: <18d502870902041157w2e19ebfyd6faa5c812b26919@mail.gmail.com>
References: <18d502870902041157w2e19ebfyd6faa5c812b26919@mail.gmail.com>
Message-ID: <20090204213254.GA19534@uran.home.aster.pl>

On Wed, 04 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> As the last step of cleaning Harbour from "win32", "w32" and similar
> from '32', I'd like to move forward and switch "w32" HB_ARCHITECTURE
> to simply "win".
> Currently "w32" covers Windows 32-bit, Windows 64-bit, Windows CE,
> and in the future might also cover Itanium (IA64) (*), so the naming is
> now outdated and misleading.
> Any concerns?

This is OK for me but I have doubts about TBROWSE()->HBBROWSE(), ...
modifications. Now we stop to be Class(y) compatible. Class(y)
introduces class functions for GET(), TBROWSE(), TBCOLUMN() and ERROR().
Looking at the above I think that we should revert modifications made
today except Get[:]New().

> (*) Unfortunately, it's only supported in the expensive version of Visual
> Studio yet.

I do not know if MinGW supports IA64 but GCC has been supporting this
platform for long time.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb  4 16:41:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 16:41:33 2009
Subject: [Harbour] HB_ARCHITECTURE w32 to win migration
In-Reply-To: <20090204213254.GA19534@uran.home.aster.pl>
References: <18d502870902041157w2e19ebfyd6faa5c812b26919@mail.gmail.com>
	<20090204213254.GA19534@uran.home.aster.pl>
Message-ID: <18d502870902041341ia418104m70a3ad124a34598b@mail.gmail.com>

Hi Przemek,


> > As the last step of cleaning Harbour from "win32", "w32" and similar
> > from '32', I'd like to move forward and switch "w32" HB_ARCHITECTURE
> > to simply "win".
> > Currently "w32" covers Windows 32-bit, Windows 64-bit, Windows CE,
> > and in the future might also cover Itanium (IA64) (*), so the naming is
> > now outdated and misleading.
> > Any concerns?
>
> This is OK for me but I have doubts about TBROWSE()->HBBROWSE(), ...
> modifications. Now we stop to be Class(y) compatible. Class(y)
> introduces class functions for GET(), TBROWSE(), TBCOLUMN() and ERROR().
> Looking at the above I think that we should revert modifications made
> today except Get[:]New().


This is brand new information, so essentially the whole
assumption was false, that we should get rid of GET(), is this
the case? How about adding a class(y) compatibility .prg,
which forwards GET() to HBGET() and so on?

Or I can easily revert this, no problem, but I'll keep the
XPP class separation anyway.


> > (*) Unfortunately, it's only supported in the expensive version of Visual
> > Studio yet.
>
> I do not know if MinGW supports IA64 but GCC has been supporting this
> platform for long time.


I couldn't find any evidence of IA64 support in MinGW.
Not even AMD64 is supported yet. There are however
some new file released on MinGW website.

It'd be great if GCC would finally endorse the Windows port...

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/4b78f3da/attachment.html
From druzus at acn.waw.pl  Wed Feb  4 17:06:10 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 17:01:37 2009
Subject: [Harbour] HB_ARCHITECTURE w32 to win migration
In-Reply-To: <18d502870902041341ia418104m70a3ad124a34598b@mail.gmail.com>
References: <18d502870902041157w2e19ebfyd6faa5c812b26919@mail.gmail.com>
	<20090204213254.GA19534@uran.home.aster.pl>
	<18d502870902041341ia418104m70a3ad124a34598b@mail.gmail.com>
Message-ID: <20090204220610.GA14594@uran.home.aster.pl>

On Wed, 04 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> This is brand new information, so essentially the whole
> assumption was false, that we should get rid of GET(), is this
> the case?

Yes. I'm really sorry - my fault. I should check it first.
Just simply I forgot about it.

> How about adding a class(y) compatibility .prg,
> which forwards GET() to HBGET() and so on?

I would like to not make such modifications if they are not
strictly necessary now.
They may interact with real class objects when we introduce
them. First I will have to document core code modifications
and what will have to be changed. With real class objects
many things like creating new class can be much simpler
and I would like to benefit from it instead of adding new
emulation layer for backward compatibility to some temporary
solutions we introduced.

> Or I can easily revert this, no problem, but I'll keep the
> XPP class separation anyway.

OK.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Feb  4 17:02:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 17:02:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10176] trunk/harbour
Message-ID: <E1LUppM-0007XV-Sh@d5vjzd1.ch3.sourceforge.com>

Revision: 10176
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10176&view=rev
Author:   vszakats
Date:     2009-02-04 22:02:35 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 23:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
  * bin/hb-mkslib.sh
  * bin/hbmk.bat
  * bin/hbmk_b32.bat
  * bin/hbmk_vc.bat
  * bin/pack_src.sh
  * bin/postinst.bat
  * contrib/examples/uhttpd/modules/bldhrb.bat
  * contrib/gtwvg/Makefile
  * contrib/hbct/ctflist.txt
  * contrib/hbgf/hbgfwin/Makefile
  * contrib/hbgf/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbole/Makefile
  * contrib/hbtpathy/Makefile
  * contrib/hbwhat/Makefile
  * contrib/hbwin/Makefile
  * contrib/make_gcc_all.sh
  * contrib/mtpl_b32.mak
  * contrib/mtpl_gcc.mak
  * contrib/mtpl_gcc.sh
  * contrib/mtpl_vc.mak
  * doc/dirstruc.txt
  * doc/es/dirstruc.txt
  * doc/funclist.txt
  * doc/gmake.txt
  * harbour-wce-spec
  * harbour-win-spec
  * make_b32.mak
  * make_gcc.mak
  * make_gcc.sh
  * make_gnu.bat
  * make_gnu.sh
  * make_gnu_xmingw.sh
  * make_gnu_xmingwce.sh
  * make_vc.mak
  * Makefile
  * mpkg_tgz.sh
  * source/vm/Makefile
  * source/vm/vmmt/Makefile
  - config/w32
  + config/win
    * HB_ARCHITECTURE w32 -> win transition. Pass 1.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/Makefile
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkslib.sh
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/bin/hbmk_b32.bat
    trunk/harbour/bin/hbmk_vc.bat
    trunk/harbour/bin/pack_src.sh
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/examples/uhttpd/modules/bldhrb.bat
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbct/ctflist.txt
    trunk/harbour/contrib/hbgf/Makefile
    trunk/harbour/contrib/hbgf/hbgfwin/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbole/Makefile
    trunk/harbour/contrib/hbtpathy/Makefile
    trunk/harbour/contrib/hbwhat/Makefile
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/make_gcc_all.sh
    trunk/harbour/contrib/mtpl_b32.mak
    trunk/harbour/contrib/mtpl_gcc.mak
    trunk/harbour/contrib/mtpl_gcc.sh
    trunk/harbour/contrib/mtpl_vc.mak
    trunk/harbour/doc/dirstruc.txt
    trunk/harbour/doc/es/dirstruc.txt
    trunk/harbour/doc/funclist.txt
    trunk/harbour/doc/gmake.txt
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/make_b32.mak
    trunk/harbour/make_gcc.mak
    trunk/harbour/make_gcc.sh
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu.sh
    trunk/harbour/make_gnu_xmingw.sh
    trunk/harbour/make_gnu_xmingwce.sh
    trunk/harbour/make_vc.mak
    trunk/harbour/mpkg_tgz.sh
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/vmmt/Makefile

Added Paths:
-----------
    trunk/harbour/config/win/

Removed Paths:
-------------
    trunk/harbour/config/w32/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb  4 17:06:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 17:07:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10177] trunk/harbour
Message-ID: <E1LUptb-0007aC-1B@d5vjzd1.ch3.sourceforge.com>

Revision: 10177
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10177&view=rev
Author:   vszakats
Date:     2009-02-04 22:06:57 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 23:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/examples/hbsqlit2/tests/hbmk_b32.bat
  * contrib/examples/hbsqlit2/tests/hbmk_vc.bat
  * contrib/gtwvg/tests/hbmk_b32.bat
  * contrib/gtwvg/tests/hbmk_vc.bat
  * contrib/hbapollo/tests/hbmk_b32.bat
  * contrib/hbapollo/tests/hbmk_vc.bat
  * contrib/hbclipsm/tests/hbmk_b32.bat
  * contrib/hbclipsm/tests/hbmk_vc.bat
  * contrib/hbcrypt/tests/hbmk_b32.bat
  * contrib/hbcrypt/tests/hbmk_vc.bat
  * contrib/hbct/tests/hbmk_b32.bat
  * contrib/hbct/tests/hbmk_vc.bat
  * contrib/hbcurl/tests/hbmk_b32.bat
  * contrib/hbcurl/tests/hbmk_vc.bat
  * contrib/hbfbird/tests/hbmk_b32.bat
  * contrib/hbfbird/tests/hbmk_vc.bat
  * contrib/hbfimage/tests/hbmk_b32.bat
  * contrib/hbfimage/tests/hbmk_vc.bat
  * contrib/hbgd/tests/hbmk_b32.bat
  * contrib/hbgd/tests/hbmk_vc.bat
  * contrib/hbgf/tests/hbmk_b32.bat
  * contrib/hbgf/tests/hbmk_vc.bat
  * contrib/hbhpdf/tests/hbmk_b32.bat
  * contrib/hbhpdf/tests/hbmk_vc.bat
  * contrib/hbmisc/tests/hbmk_b32.bat
  * contrib/hbmisc/tests/hbmk_vc.bat
  * contrib/hbmsql/tests/hbmk_b32.bat
  * contrib/hbmsql/tests/hbmk_vc.bat
  * contrib/hbmysql/tests/hbmk_b32.bat
  * contrib/hbmysql/tests/hbmk_vc.bat
  * contrib/hbmysql/utils/hbmk_b32.bat
  * contrib/hbmysql/utils/hbmk_vc.bat
  * contrib/hbmzip/tests/hbmk_b32.bat
  * contrib/hbmzip/tests/hbmk_vc.bat
  * contrib/hbnf/tests/hbmk_b32.bat
  * contrib/hbnf/tests/hbmk_vc.bat
  * contrib/hbodbc/tests/hbmk_b32.bat
  * contrib/hbodbc/tests/hbmk_vc.bat
  * contrib/hbole/tests/hbmk_b32.bat
  * contrib/hbole/tests/hbmk_vc.bat
  * contrib/hbpgsql/tests/hbmk_b32.bat
  * contrib/hbpgsql/tests/hbmk_vc.bat
  * contrib/hbsqlit3/tests/hbmk_b32.bat
  * contrib/hbsqlit3/tests/hbmk_vc.bat
  * contrib/hbssl/tests/hbmk_b32.bat
  * contrib/hbssl/tests/hbmk_vc.bat
  * contrib/hbtip/tests/hbmk_b32.bat
  * contrib/hbtip/tests/hbmk_vc.bat
  * contrib/hbtpathy/tests/hbmk_b32.bat
  * contrib/hbtpathy/tests/hbmk_vc.bat
  * contrib/hbvpdf/tests/hbmk_b32.bat
  * contrib/hbvpdf/tests/hbmk_vc.bat
  * contrib/hbwhat/tests/hbmk_b32.bat
  * contrib/hbwhat/tests/hbmk_vc.bat
  * contrib/hbwin/tests/hbmk_b32.bat
  * contrib/hbwin/tests/hbmk_vc.bat
  * contrib/hbziparc/tests/hbmk_b32.bat
  * contrib/hbziparc/tests/hbmk_vc.bat
  * contrib/rddado/tests/hbmk_b32.bat
  * contrib/rddado/tests/hbmk_vc.bat
  * contrib/rddads/tests/hbmk_b32.bat
  * contrib/rddads/tests/hbmk_vc.bat
  * contrib/rddsql/tests/hbmk_b32.bat
  * contrib/rddsql/tests/hbmk_vc.bat
  * contrib/xhb/tests/hbmk_b32.bat
  * contrib/xhb/tests/hbmk_vc.bat
  * source/rdd/usrrdd/example/hbmk_b32.bat
  * source/rdd/usrrdd/example/hbmk_vc.bat
  * tests/hbmk_b32.bat
  * tests/hbmk_vc.bat
    * HB_ARCHITECTURE w32 -> win transition. Pass 2.
    ; NOTE: HB_ARCHITECURE=w32 still works, but it's
            strongly recommended to switch to 'win'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbmk_b32.bat
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbmk_vc.bat
    trunk/harbour/contrib/gtwvg/tests/hbmk_b32.bat
    trunk/harbour/contrib/gtwvg/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbapollo/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbapollo/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbclipsm/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbclipsm/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbcrypt/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbcrypt/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbct/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbct/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbcurl/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbcurl/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbfbird/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbfbird/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbfimage/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbfimage/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbgd/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbgd/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbgf/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbgf/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbhpdf/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbhpdf/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbmisc/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmisc/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbmsql/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmsql/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbmysql/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmysql/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbmysql/utils/hbmk_b32.bat
    trunk/harbour/contrib/hbmysql/utils/hbmk_vc.bat
    trunk/harbour/contrib/hbmzip/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmzip/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbnf/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbnf/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbodbc/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbodbc/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbole/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbole/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbpgsql/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbpgsql/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbsqlit3/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbsqlit3/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbssl/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbssl/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbtip/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbtip/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbtpathy/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbtpathy/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbvpdf/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbvpdf/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbwhat/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbwhat/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbwin/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbwin/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbziparc/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbziparc/tests/hbmk_vc.bat
    trunk/harbour/contrib/rddado/tests/hbmk_b32.bat
    trunk/harbour/contrib/rddado/tests/hbmk_vc.bat
    trunk/harbour/contrib/rddads/tests/hbmk_b32.bat
    trunk/harbour/contrib/rddads/tests/hbmk_vc.bat
    trunk/harbour/contrib/rddsql/tests/hbmk_b32.bat
    trunk/harbour/contrib/rddsql/tests/hbmk_vc.bat
    trunk/harbour/contrib/xhb/tests/hbmk_b32.bat
    trunk/harbour/contrib/xhb/tests/hbmk_vc.bat
    trunk/harbour/source/rdd/usrrdd/example/hbmk_b32.bat
    trunk/harbour/source/rdd/usrrdd/example/hbmk_vc.bat
    trunk/harbour/tests/hbmk_b32.bat
    trunk/harbour/tests/hbmk_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb  4 17:07:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 17:07:33 2009
Subject: [Harbour] HB_ARCHITECTURE w32 to win migration
In-Reply-To: <20090204220610.GA14594@uran.home.aster.pl>
References: <18d502870902041157w2e19ebfyd6faa5c812b26919@mail.gmail.com>
	<20090204213254.GA19534@uran.home.aster.pl>
	<18d502870902041341ia418104m70a3ad124a34598b@mail.gmail.com>
	<20090204220610.GA14594@uran.home.aster.pl>
Message-ID: <18d502870902041407q3bc4b547qa51c18d3fa31b6b5@mail.gmail.com>

Okay, I'll simply remove the HB* versions then.
Brgds,
Viktor

On Wed, Feb 4, 2009 at 11:06 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Wed, 04 Feb 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
> > This is brand new information, so essentially the whole
> > assumption was false, that we should get rid of GET(), is this
> > the case?
>
> Yes. I'm really sorry - my fault. I should check it first.
> Just simply I forgot about it.
>
> > How about adding a class(y) compatibility .prg,
> > which forwards GET() to HBGET() and so on?
>
> I would like to not make such modifications if they are not
> strictly necessary now.
> They may interact with real class objects when we introduce
> them. First I will have to document core code modifications
> and what will have to be changed. With real class objects
> many things like creating new class can be much simpler
> and I would like to benefit from it instead of adding new
> emulation layer for backward compatibility to some temporary
> solutions we introduced.
>
> > Or I can easily revert this, no problem, but I'll keep the
> > XPP class separation anyway.
>
> OK.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/902f04a0/attachment.html
From zen25000 at zen.co.uk  Wed Feb  4 17:10:36 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Feb  4 17:10:28 2009
Subject: [Harbour] Wich data type to store XLM documents?
In-Reply-To: <20090204194228.GA19405@uran.home.aster.pl>
References: <609353e70902040947k23cfb185mfed15a9d738692f@mail.gmail.com>
	<20090204194228.GA19405@uran.home.aster.pl>
Message-ID: <498A125C.8060703@zen.co.uk>

Yes - I used memo fields to hold HTML to generate web pages from stock 
records in Clipper! :-)

Przemyslaw Czerpak wrote:
> On Wed, 04 Feb 2009, Massimo Belgrano wrote:
>> Which data type will be used to store XML/html documents in dbf by harbour?
> 
> The same as for any other text or binary objects: MEMO
> 

From vszakats at users.sourceforge.net  Wed Feb  4 17:14:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 17:14:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10178] trunk/harbour
Message-ID: <E1LUq19-0007f9-Eg@d5vjzd1.ch3.sourceforge.com>

Revision: 10178
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10178&view=rev
Author:   vszakats
Date:     2009-02-04 22:14:46 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 23:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/tget.prg
  * source/rtl/tgetx.prg
  * source/rtl/tbcolumn.prg
  * source/rtl/tbrowse.prg
    * Reset internal name of GET(), TBROWSE(), TBCOLUMN(),
      because even if Clipper doesn't have such public
      symbols, Class(y) has them, and we want to maintain
      compatibility.

  * include/hbextern.ch
    + Added GET, TBROWSE, TBCOLUMN.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rtl/tbcolumn.prg
    trunk/harbour/source/rtl/tbrowse.prg
    trunk/harbour/source/rtl/tget.prg
    trunk/harbour/source/rtl/tgetx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Wed Feb  4 17:16:32 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb  4 17:16:36 2009
Subject: [Harbour] Thread question
Message-ID: <498A13C0.6030704@dbtopas.lt>

Hi,


one more thread question:

STATIC mtx := hb_mutexCreate()

Thread1:
   LOCAL xI
   xI := some_value
   hb_mutexNotify(mtx, xI)
   xI := NIL // or xI := another_value

Thread2:
   LOCAL xI, xParam
   hb_mutexSubscribe(mtx,, @xParam)
   xI := xParam


Is this code thread safe? The problem is that, if some_value is complex 
type "xI := NIL" in thread1 decreases reference counter, and "xI := 
xParam" in thread2 increases reference counter of the same some_value. 
These operations are not protected by any mutex.


Best regards,
Mindaugas
From vszakats at users.sourceforge.net  Wed Feb  4 17:24:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 17:24:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10179] trunk/harbour
Message-ID: <E1LUqAe-0007lf-Nu@d5vjzd1.ch3.sourceforge.com>

Revision: 10179
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10179&view=rev
Author:   vszakats
Date:     2009-02-04 22:24:35 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 23:23 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbwince.h
  * include/hb_io.h
  * include/hbwmain.c
  * include/hbthread.h
  * include/hbsetup.h
  * include/hbmath.h
  * include/hbassert.h
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.c
  * contrib/gtwvg/wvggui.h
  * contrib/gtwvg/wvgutils.c
  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_dll.c
  * contrib/hbwin/win_prn1.c
  * contrib/examples/pp/pp.c
  * contrib/examples/pp/hbppcore.c
  * source/pp/hbpp.c
  * source/vm/fm.c
  * source/vm/extrap.c
  * source/main/harbour.c
  * source/common/hbver.c
  * source/common/hbwince.c
  * source/rtl/diskspac.c
  * source/rtl/hbgtcore.c
  * source/rtl/gtclip.c
  * source/rtl/gtstd/gtstd.c
  * source/rtl/disksphb.c
  * source/rtl/gtpca/gtpca.c
  * source/rtl/seconds.c
  * source/rtl/filebuf.c
  * source/rtl/hbproces.c
  * source/rtl/gtwvt/gtwvt.h
  * source/rtl/gtwvt/gtwvt.c
  * source/rtl/fssize.c
  * source/rtl/hbinet.c
  * source/rtl/gtsys.c
  * source/rtl/filesys.c
    * HB_WINCE -> HB_OS_WIN_CE.
      Now all OS branching #defines are in the HB_OS_* namespace.
      Please use the new name from now on.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/pp/hbppcore.c
    trunk/harbour/contrib/examples/pp/pp.c
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/include/hb_io.h
    trunk/harbour/include/hbassert.h
    trunk/harbour/include/hbmath.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/include/hbthread.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/include/hbwmain.c
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/common/hbwince.c
    trunk/harbour/source/main/harbour.c
    trunk/harbour/source/pp/hbpp.c
    trunk/harbour/source/rtl/diskspac.c
    trunk/harbour/source/rtl/disksphb.c
    trunk/harbour/source/rtl/filebuf.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/fssize.c
    trunk/harbour/source/rtl/gtclip.c
    trunk/harbour/source/rtl/gtpca/gtpca.c
    trunk/harbour/source/rtl/gtstd/gtstd.c
    trunk/harbour/source/rtl/gtsys.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.h
    trunk/harbour/source/rtl/hbgtcore.c
    trunk/harbour/source/rtl/hbinet.c
    trunk/harbour/source/rtl/hbproces.c
    trunk/harbour/source/rtl/seconds.c
    trunk/harbour/source/vm/extrap.c
    trunk/harbour/source/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb  4 17:40:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 17:40:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10180] trunk/harbour
Message-ID: <E1LUqPr-0007u8-HE@d5vjzd1.ch3.sourceforge.com>

Revision: 10180
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10180&view=rev
Author:   vszakats
Date:     2009-02-04 22:40:18 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 23:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/compiler/cmdcheck.c
  * source/compiler/hbmain.c
  * source/compiler/hbusage.c
    * Minor rename.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/compiler/hbusage.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb  4 17:48:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 17:48:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <498A0696.1020806@fsgiudice.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<49895858.20202@fsgiudice.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
	<49895F90.2080504@fsgiudice.com>
	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>
	<498A0696.1020806@fsgiudice.com>
Message-ID: <18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>

Okay, we're on the same page.
Maybe "wapi_" is the most convenient and a good
middle ground between w_ and winapi_. My vote goes
for this one, but it's not a very strong preference.

More opinions? Pritpal?

Brgds,
Viktor

On Wed, Feb 4, 2009 at 10:20 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

>
> Il 04/02/2009 10.45, Viktor Szak?ts ha scritto:
>
>>
>>    Ok for using *.ch, *.h, but if it is possible, to see immediately
>>    where put a new addition, as per c api file I would like to mantain
>>    ms naming convention, so for me it will be better to use, f.e.,
>>    w_winuser.ch or winuserapi.ch
>>
>>
>> We can do this. I personally prefer "w_winuser.ch".
>>
>> Or, what about: "wapi_winuser.ch"?
>> To be in complete sync, maybe WAPI_*() prefix could be used for functions,
>> too.
>>
>> Or, "winapi_winuser.ch" and WINAPI_*().
>>
>> What do you think?
>>
>>
>
> Uhm, after some thought, last 2 version are more consistent also for me,
> also if a bit long.
>
> So, following you, I propose:
>
> winapi_*.c for windows wrappers and in particular:
> f.e. winapi_kernel32.c or winapi_gdi32.c for pure wrappers functions to
> standard api files/dll (as MSDN tells).
> These files will contains only WINAPI_* functions as pure wrappers (and,
> possibly having STRUCTURES, with same syntax).
>
> After these we will have win_*.c files that will contains higher level
> functions (like: DrawTransparentBitmap() functions that uses more than
> single win API). Those functions will be prefixed with WIN_.
>
> For all pure windows headers files (also if adapted to us) will be used
> winapi_ prefix, so we will have i.e. winapi_winuser.ch.
> Instead for internal use we will use win_*.ch/win_*.h names.
>
> If this will appear a bit long, the alternative is w* (wapi_ or w_) also if
> I have doubt that in case of developing the same for linux or os/2 or
> something else 1 char is enough.
>
> All above only if group will agrees on lift 8.3 naming convention on hbwin
> folder.
>
>
>
> Best regards
>
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090204/6ebcc171/attachment.html
From vszakats at users.sourceforge.net  Wed Feb  4 17:56:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  4 17:56:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10181] trunk/harbour
Message-ID: <E1LUqfL-00083i-Pr@d5vjzd1.ch3.sourceforge.com>

Revision: 10181
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10181&view=rev
Author:   vszakats
Date:     2009-02-04 22:56:18 +0000 (Wed, 04 Feb 2009)

Log Message:
-----------
2009-02-04 23:55 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * harbour-win-spec
    ! Fixed some accents messed up in latest changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-win-spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb  4 18:13:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 18:08:48 2009
Subject: [Harbour] Thread question
In-Reply-To: <498A13C0.6030704@dbtopas.lt>
References: <498A13C0.6030704@dbtopas.lt>
Message-ID: <20090204231320.GA9999@uran.home.aster.pl>

On Thu, 05 Feb 2009, Mindaugas Kavaliauskas wrote:

Hi,

> one more thread question:
> STATIC mtx := hb_mutexCreate()
> Thread1:
>   LOCAL xI
>   xI := some_value
>   hb_mutexNotify(mtx, xI)
>   xI := NIL // or xI := another_value
> Thread2:
>   LOCAL xI, xParam
>   hb_mutexSubscribe(mtx,, @xParam)
>   xI := xParam
> Is this code thread safe? The problem is that, if some_value is complex 
> type "xI := NIL" in thread1 decreases reference counter, and "xI := xParam" 
> in thread2 increases reference counter of the same some_value. These 
> operations are not protected by any mutex.

It is thread safe. All reference counters in Harbour core code are updated
by atomic inc/dec operations (see hbatomic.h) so they are protected and MT
safe.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb  4 18:16:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 18:16:47 2009
Subject: [Harbour] mysql patch submitted on Tracker
Message-ID: <18d502870902041516o504d5401oa4bb62a768db37fc@mail.gmail.com>

Can someone confirm whether this patch is valid?
https://sourceforge.net/tracker/index.php?func=detail&aid=2308998&group_id=681&atid=100681

It changes MYSQL_FS_LENGTH to MYSQL_FS_MAXLEN in tmysql.prg.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090205/77b8c459/attachment.html
From dbtopas at dbtopas.lt  Wed Feb  4 18:30:35 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb  4 18:30:41 2009
Subject: [Harbour] Thread question
In-Reply-To: <20090204231320.GA9999@uran.home.aster.pl>
References: <498A13C0.6030704@dbtopas.lt>
	<20090204231320.GA9999@uran.home.aster.pl>
Message-ID: <498A251B.20909@dbtopas.lt>

Hi,


> It is thread safe. All reference counters in Harbour core code are updated
> by atomic inc/dec operations (see hbatomic.h) so they are protected and MT
> safe.

Oh, yes. I should remember it myself. Thanks.


Regards,
Mindaugas

From bedipritpal at hotmail.com  Wed Feb  4 18:58:10 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  4 18:58:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<49895858.20202@fsgiudice.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
	<49895F90.2080504@fsgiudice.com>
	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>
	<498A0696.1020806@fsgiudice.com>
	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>
Message-ID: <21842486.post@talk.nabble.com>


Hi

wapi_gdi32.c  OR  wapi_gdi.c ( removing 32, may contain gdi32 or gdi++
functions )

hbwapi.h
=======
#define wapi_parwparam( n )  ( ( WPARAM )  ( HB_PTRDIFF ) hb_parnint( n ) )
#define wapi_parlparam( n )  ( ( LPARAM )  ( HB_PTRDIFF ) hb_parnint( n ) )
#define wapi_parhandle( n )  ( ( HANDLE )  ( HB_PTRDIFF ) hb_parnint( n ) )
#define wapi_parhwnd( n )    ( ( HWND )    ( HB_PTRDIFF ) hb_parnint( n ) )
#define wapi_parwndproc( n ) ( ( WNDPROC ) ( HB_PTRDIFF ) hb_parnint( n ) )
#define wapi_parhdc( n )     ( ( HDC )     ( HB_PTRDIFF ) hb_parnint( n ) )
#define wapi_parcolor( n )   ( ( COLORREF )( HB_PTRDIFF ) hb_parnint( n ) )
#define wapi_parstruct( n ) ( hb_parc( n ) )

#define wapi_rethandle( n )  ( hb_retnint( ( HB_PTRDIFF ) n ) )
#define wapi_retstruct( x )  ( hb_retc( x ) )

#define wapi_more_most_often_used_types( x ) (...)

#define HB_HWND        HWND
#define HB_COLORREF  COLORREF
#define HB_HDC          HDC
// etc.

/*      IMO, we must avoid the direct API types at the API level       */


wapi_gdi.c
========
/*
   All functions prefixed with WAPI_* will accept parameters in 
   the same order and types, including structures. Only in cases
   where a complex structure is involved, an array of same number
   of elements corresponding members of the structure. If both
   can be implemented, the better it could be.
*/
#include <windows.h>
#include <gdi32.h>
#include "hbwapi.h"

HB_FUNC( WAPI_PRINTDLG )
{
   PRINTDLG *pd = hb_parc( 1 );  // structure WHEREEVER possible
   ...
   wapi_retstruct( pd );
}


win_printing.c  // depending upon the functions classification  
==========
#include <windows.h>
#include <gdi32.h>
#include "hbwapi.h"

#include "win_printing.h"  // If any

HB_FUNC( WIN_PRINTDLG )
{
   HB_HWND hwnd = wapi_parhwnd( 1 );
   HB_INT    iCopies = hb_parni( 2 ); 
}

HB_FUNC( WIN_GETDEFAULTPRINTER )
{
   ...
   ...
   hb_retl( GetDefaultPrinter( ... ) );
}


A rough draft.
Continue...

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10164--trunk-harbour-tp21821360p21842486.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Feb  4 19:12:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 19:12:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <21842486.post@talk.nabble.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<49895858.20202@fsgiudice.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
	<49895F90.2080504@fsgiudice.com>
	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>
	<498A0696.1020806@fsgiudice.com>
	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>
	<21842486.post@talk.nabble.com>
Message-ID: <18d502870902041612l6981d595vc1dff2ad4525cdff@mail.gmail.com>

>
> hbwapi.h
> =======
> #define wapi_parwparam( n )  ( ( WPARAM )  ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parlparam( n )  ( ( LPARAM )  ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parhandle( n )  ( ( HANDLE )  ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parhwnd( n )    ( ( HWND )    ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parwndproc( n ) ( ( WNDPROC ) ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parhdc( n )     ( ( HDC )     ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parcolor( n )   ( ( COLORREF )( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parstruct( n ) ( hb_parc( n ) )


We should also allow for hb_parptr(). Also, I'd exactly replicate
the type name in the macro/function name (easier to recognize,
easier to grep):

#define wapi_par_WPARAM()  ( ( WPARAM ) ( ISNUM( iParam ) ? ( HB_PTRDIFF )
hb_parnint( n ) : hb_parptr( n ) ) )


> #define wapi_rethandle( n )  ( hb_retnint( ( HB_PTRDIFF ) n ) )


We should rather use hb_retptr() for handles and pointers.
hb_retnint() is meant for large numbers, or mixed use values.


> #define HB_HWND        HWND
> #define HB_COLORREF  COLORREF
> #define HB_HDC          HDC
> // etc.
>
> /*      IMO, we must avoid the direct API types at the API level       */


I'm not sure if this is necessary. Windows is one layer,
on the top of that comes the .prg interface, no need to add
another layer of abstraction IMO. This just makes maintenance
more complicated.


> wapi_gdi.c
> ========
> /*
>   All functions prefixed with WAPI_* will accept parameters in
>   the same order and types, including structures. Only in cases
>   where a complex structure is involved, an array of same number
>   of elements corresponding members of the structure. If both
>   can be implemented, the better it could be.
> */
> #include <windows.h>
> #include <gdi32.h>
> #include "hbwapi.h"


Instead of #include <windows.h>, we should still use
'#define HB_OS_WIN_USED', placed before the first
Harbour include file.

Also, please use /* ANSI C */ comments exclusively.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090205/b837ad54/attachment.html
From snaiperis at users.sourceforge.net  Wed Feb  4 19:21:09 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Wed Feb  4 19:21:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10182] trunk/harbour
Message-ID: <E1LUrzR-0001ZB-9g@bj8yhf1.ch3.sourceforge.com>

Revision: 10182
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10182&view=rev
Author:   snaiperis
Date:     2009-02-05 00:21:08 +0000 (Thu, 05 Feb 2009)

Log Message:
-----------
2009-02-04 02:20 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddsql/sddfb/make_b32.bat 
    * removed 'echo on' I've left for debugging purpose some time ago

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/make_b32.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb  4 19:27:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb  4 19:27:45 2009
Subject: [Harbour] Wich data type to store XLM documents?
In-Reply-To: <498A125C.8060703@zen.co.uk>
References: <609353e70902040947k23cfb185mfed15a9d738692f@mail.gmail.com>
	<20090204194228.GA19405@uran.home.aster.pl>
	<498A125C.8060703@zen.co.uk>
Message-ID: <609353e70902041627vcac15cdt55789a4916377dea@mail.gmail.com>

Have you a little sample?

2009/2/4 Barry Jackson <zen25000@zen.co.uk>:
> Yes - I used memo fields to hold HTML to generate web pages from stock
> records in Clipper! :-)
>
> Przemyslaw Czerpak wrote:
>>
>> On Wed, 04 Feb 2009, Massimo Belgrano wrote:
>>>
>>> Which data type will be used to store XML/html documents in dbf by
>>> harbour?
>>
>> The same as for any other text or binary objects: MEMO
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Wed Feb  4 20:19:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  4 20:19:50 2009
Subject: [Harbour] Make system configuration envvar changes
Message-ID: <18d502870902041719w59771fe1x934a54470c3ab7a0@mail.gmail.com>

Hi all,
I plan to commit this long time planned modification,
to clear up some last non prefixed public envvars
needed to configure Harbour:

HB_USER_LIBS -> HB_USR_LIBLIST
PRG_USR      -> HB_USR_PRG
C_USR        -> HB_USR_C
L_USR        -> HB_USR_L  (or HB_USR_LINK ?)
A_USR        -> HB_USR_A  (or HB_USR_LIB ?)
MK_USR       -> HB_USR_MK (or HB_USR_MAKE/MAK ?)

Comments are welcome.

[ After this, I plan to reintroduce CFLAGS, CLIBFLAGS, LDFLAGS
as the standard way to pass flags on a _system wide_ basis. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090205/2c096a3b/attachment.html
From druzus at acn.waw.pl  Wed Feb  4 20:50:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb  4 20:45:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <21842486.post@talk.nabble.com>
References: <18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<49895858.20202@fsgiudice.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
	<49895F90.2080504@fsgiudice.com>
	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>
	<498A0696.1020806@fsgiudice.com>
	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>
	<21842486.post@talk.nabble.com>
Message-ID: <20090205015029.GA18878@uran.home.aster.pl>

On Wed, 04 Feb 2009, Pritpal Bedi wrote:

Hi Pritpal

> HB_FUNC( WAPI_PRINTDLG )
> {
>    PRINTDLG *pd = hb_parc( 1 );  // structure WHEREEVER possible
>    ...
>    wapi_retstruct( pd );
> }

Passing C structures as string is also bad idea.
If we do not need support for direct updating C structure
members at .prg level then it will be enough to introduce
special type of GC pointer to hold all such structures with
basic type veryfication. Below I'm attaching modified code from
message I sent two days ago to xHGtk devel list. It address such
problem.


/* header file */

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbapierr.h"
#include "hbstack.h"


#define HB_MEMSTRU_OSVERSIONINFO                1000001
#define HB_MEMSTRU_LOGFONT                      1000002

#define HB_ERR_MEMSTRU_NOT_MEM_BLOCK            4001
#define HB_ERR_MEMSTRU_WRONG_MEMSTRU_BLOCK      4002
#define HB_ERR_MEMSTRU_DESTROYED                4003

HB_EXTERN_BEGIN

extern PHB_ITEM hb_memstru_itemPut( PHB_ITEM pItem, void * pMemAddr, int iType );
extern void * hb_memstru_itemGet( PHB_ITEM pItem, int iType, BOOL fError );
extern void hb_memstru_ret( void * pMemAddr, int iType );
extern void * hb_memstru_param( int iParam, int iType, BOOL fError );

HB_EXTERN_END

/* end of header file */



typedef struct
{
   int      type;
   void *   mem;
}
HB_MEMSTRU_HOLDER, * PHB_MEMSTRU_HOLDER;

static HB_GARBAGE_FUNC( hb_memstru_destructor )
{
   PHB_MEMSTRU_HOLDER pStructHolder = ( PHB_MEMSTRU_HOLDER ) Cargo;

   if( pStructHolder->mem )
   {
      hb_xfree( pStructHolder->mem );
      pStructHolder->mem = NULL;
   }
}

PHB_ITEM hb_memstru_itemPut( PHB_ITEM pItem, void * pMemAddr, int iType )
{
   PHB_MEMSTRU_HOLDER pStructHolder;

   if( pItem )
   {
      if( HB_IS_COMPLEX( pItem ) )
         hb_itemClear( pItem );
   }
   else
      pItem = hb_itemNew( pItem );

   pStructHolder = ( PHB_MEMSTRU_HOLDER )
             hb_gcAlloc( sizeof( HB_MEMSTRU_HOLDER ), hb_memstru_destructor );
   pStructHolder->mem = pMemAddr;
   pStructHolder->type = iType;

   return hb_itemPutPtrGC( pItem, pStructHolder );
}

void * hb_memstru_itemGet( PHB_ITEM pItem, int iType, BOOL fError )
{
   PHB_MEMSTRU_HOLDER pStructHolder = ( PHB_MEMSTRU_HOLDER )
                               hb_itemGetPtrGC( pItem, hb_memstru_destructor );
   int iError = 0;

   if( !pStructHolder )
      iError = HB_ERR_MEMSTRU_NOT_MEM_BLOCK;
   else if( pStructHolder->type != iType )
      iError = HB_ERR_MEMSTRU_WRONG_MEMSTRU_BLOCK;
   else if( !pStructHolder->mem )
      iError = HB_ERR_MEMSTRU_DESTROYED;
   else
      return pStructHolder->mem;

   if( fError )
      hb_errRT_BASE_SubstR( EG_ARG, iError, NULL,
                            HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );

   return NULL;
}

void hb_memstru_ret( void * pMemAddr, int iType )
{
   hb_memstru_itemPut( hb_stackReturnItem(), pMemAddr, iType );
}

void * hb_memstru_param( int iParam, int iType, BOOL fError )
{
   return hb_memstru_itemGet( hb_param( iParam, HB_IT_POINTER ), iType, fError );
}

BOOL hb_memstru_store( void * pMemAddr, int iType, int iParam )
{
   PHB_ITEM pItem = hb_param( iParam, HB_IT_BYREF );
   if( !pItem )
      return FALSE;

   hb_memstru_itemPut( pItem, pMemAddr, iType );
   return TRUE;
}

/* end of code */

hb_memstru_*() functions can be used to pass structures between
C and .prg code.


HB_FUNC( WAPI_STRUCT_OSVERSIONINFO )
{
   OSVERSIONINFO * osvi;

   osvi = ( OSVERSIONINFO * ) memset( hb_xgrab( sizeof( OSVERSIONINFO ) ),
                                      0, sizeof( OSVERSIONINFO ) );
   osvi->dwOSVersionInfoSize = sizeof( OSVERSIONINFO );

   hb_memstru_ret( osvi, HB_MEMSTRU_OSVERSIONINFO );
}

HB_FUNC( WAPI_GETVERSIONEX )
{
   OSVERSIONINFO * osvi;

   osvi = ( OSVERSIONINFO * )
          hb_memstru_param( 1, HB_MEMSTRU_OSVERSIONINFO, TRUE );

   if( osvi )
      hb_retrl( GetVersionEx( osvi ) );
}


You can also define some general functions to access given structure
members if you will find it useful in some cases.

HB_FUNC( WAPI_MEMBER_OSVERSIONINFO )
{
   OSVERSIONINFO * osvi;
   const char * szMember;

   osvi = ( OSVERSIONINFO * )
          hb_memstru_param( 1, HB_MEMSTRU_OSVERSIONINFO, TRUE );
   szMember = hb_parc( 2 );
   if( osvi && szMember )
   {
      if( !strcmp( szMember, "dwMajorVersion" ) )
         hb_retnint( osvi->dwMajorVersion );
      elseif( !strcmp( szMember, "dwMinorVersion" ) )
         hb_retnint( osvi->dwMinorVersion );
      else if( !strcmp( szMember, "dwBuildNumber" ) )
         hb_retnint( osvi->dwBuildNumber );
      else if( !strcmp( szMember, "dwPlatformId" ) )
         hb_retnint( osvi->dwPlatformId );
      else if( !strcmp( szMember, "szCSDVersion" ) )
         wapi_rettstr( osvi->dwPlatformId );
      else if( ... )
         ...
      else
      {
         /* NIL for unknown members or RT error */
      }
   }
}


best regards,
Przemek
From yamamoto at rocketmail.com  Thu Feb  5 00:58:39 2009
From: yamamoto at rocketmail.com (Mitja Podgornik)
Date: Thu Feb  5 00:58:41 2009
Subject: [Harbour] mysql patch submitted on Tracker
In-Reply-To: <18d502870902041516o504d5401oa4bb62a768db37fc@mail.gmail.com>
Message-ID: <44832.2180.qm@web30704.mail.mud.yahoo.com>

Not quite...

Note this change in fieldget function:

...
if ::FieldType(nNum) == "C"
  - return PadR(::aRow[nNum], ::aFieldStruct[nNum][MYSQL_FS_LENGTH])
  + return PadR(::aRow[nNum], ::aFieldStruct[nNum][MYSQL_FS_MAXLEN])
...

Now the method returns exact character value as stored in MySQL table.
With modification proposed, all character values returned will be padded with extra spaces that so the len() of returned string will be always exact as the field length defined in table structure.
IMHO if in MySQL table a string like 'abc ' is stored then ::fieldget() method should return 'abc ' and not 'abc   ...'

Mitja




--- On Thu, 2/5/09, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> From: Viktor Szak?ts <harbour.01@syenar.hu>
> Subject: [Harbour] mysql patch submitted on Tracker
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Date: Thursday, February 5, 2009, 12:16 AM
> Can someone confirm whether this patch is valid?
> https://sourceforge.net/tracker/index.php?func=detail&aid=2308998&group_id=681&atid=100681
> 
> It changes MYSQL_FS_LENGTH to MYSQL_FS_MAXLEN in
> tmysql.prg.
> 
> Brgds,
> Viktor
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour


      
From harbour.01 at syenar.hu  Thu Feb  5 03:26:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  5 03:27:02 2009
Subject: [Harbour] mysql patch submitted on Tracker
In-Reply-To: <44832.2180.qm@web30704.mail.mud.yahoo.com>
References: <18d502870902041516o504d5401oa4bb62a768db37fc@mail.gmail.com>
	<44832.2180.qm@web30704.mail.mud.yahoo.com>
Message-ID: <18d502870902050026i2966b1bbn5dc07a5672f16a98@mail.gmail.com>

Thanks Mitja, I've copied this information to the Tracker, and closed the
case as rejected.

Brgds,
Viktor

On Thu, Feb 5, 2009 at 6:58 AM, Mitja Podgornik <yamamoto@rocketmail.com>wrote:

> Not quite...
>
> Note this change in fieldget function:
>
> ...
> if ::FieldType(nNum) == "C"
>  - return PadR(::aRow[nNum], ::aFieldStruct[nNum][MYSQL_FS_LENGTH])
>  + return PadR(::aRow[nNum], ::aFieldStruct[nNum][MYSQL_FS_MAXLEN])
> ...
>
> Now the method returns exact character value as stored in MySQL table.
> With modification proposed, all character values returned will be padded
> with extra spaces that so the len() of returned string will be always exact
> as the field length defined in table structure.
> IMHO if in MySQL table a string like 'abc ' is stored then ::fieldget()
> method should return 'abc ' and not 'abc   ...'
>
> Mitja
>
>
>
>
> --- On Thu, 2/5/09, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>
> > From: Viktor Szak?ts <harbour.01@syenar.hu>
> > Subject: [Harbour] mysql patch submitted on Tracker
> > To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> > Date: Thursday, February 5, 2009, 12:16 AM
> > Can someone confirm whether this patch is valid?
> >
> https://sourceforge.net/tracker/index.php?func=detail&aid=2308998&group_id=681&atid=100681
> >
> > It changes MYSQL_FS_LENGTH to MYSQL_FS_MAXLEN in
> > tmysql.prg.
> >
> > Brgds,
> > Viktor
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090205/e87d39ba/attachment-0001.html
From niki at synel.co.il  Thu Feb  5 03:38:56 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Feb  5 03:41:52 2009
Subject: [Harbour] RDDADO: HB_SYMOL_USED
Message-ID: <1A07FEDC778C3E4AA417F089511F859C07B71C456B@Mail-yoq.SYNEL-COMPANY.LTD>

In contrib/rddado/adordd.prg there are a few places where HB_SYMOL_USED is used.
I think it was suppose to be HB_SYMBOL_UNUSED. Later when trying to link this library
it complain about this Unresolved external.


  Chen.
From vszakats at users.sourceforge.net  Thu Feb  5 04:21:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb  5 04:21:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10183] trunk/harbour
Message-ID: <E1LV0Qj-0005XL-9q@bj8yhf1.ch3.sourceforge.com>

Revision: 10183
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10183&view=rev
Author:   vszakats
Date:     2009-02-05 09:21:52 +0000 (Thu, 05 Feb 2009)

Log Message:
-----------
2009-02-05 10:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/rddado/adordd.prg
    ! Fixed HB_SYMOL_USED() -> HB_SYMBOL_UNUSED()
    * Formatting.

  * mpkg_rpm.sh
  * harbour.spec
    * -with hbhpdf -> -with libharu
      This should also fix hbhpdf to libharu in generated
      rpm name. Please test.

  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_prn1.c
    * Minor cleanups, formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/rddado/adordd.prg
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_rpm.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Thu Feb  5 05:42:05 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Thu Feb  5 04:40:02 2009
Subject: [Harbour] Make system configuration envvar changes
In-Reply-To: <18d502870902041719w59771fe1x934a54470c3ab7a0@mail.gmail.com>
References: <18d502870902041719w59771fe1x934a54470c3ab7a0@mail.gmail.com>
Message-ID: <rfglo49i7ltl7o2l3q5gc6fll4n7gq5qna@4ax.com>

>HB_USER_LIBS -> HB_USR_LIBLIST
>PRG_USR      -> HB_USR_PRG
>C_USR        -> HB_USR_C
>L_USR        -> HB_USR_L  (or HB_USR_LINK ?)
>A_USR        -> HB_USR_A  (or HB_USR_LIB ?)
>MK_USR       -> HB_USR_MK (or HB_USR_MAKE/MAK ?)

Hi Viktor.

Looking at the user side, HB_USR_LINK is easy to understand than
HB_USR_L, so I vote for HB_USR_LINK, HB_USR_LIB, HB_USR_MAKE/MAK.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From miguelangel at marchuet.net  Thu Feb  5 05:03:53 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Thu Feb  5 04:58:53 2009
Subject: [Harbour] collations of DBF
In-Reply-To: <20090204171620.GA12500@uran.home.aster.pl>
References: <18d502870901292331q43ecbe42o22f0302562657d8b@mail.gmail.com>	<4982D67C.90605@mweb.co.za>	<18d502870901300252s387d5dc5pe3ea6677b57a5fed@mail.gmail.com>	<498882AE.9090703@marchuet.net>	<20090204125259.GA14552@uran.home.aster.pl>	<4989B720.6070703@marchuet.net>
	<20090204171620.GA12500@uran.home.aster.pl>
Message-ID: <498AB989.2040504@marchuet.net>

Przemyslaw Czerpak escribi?:
> On Wed, 04 Feb 2009, Miguel Angel Marchuet wrote:
> 
> Hi Miguel,
> 
>>>> (Foxpro) Code page: These values follow the DOS / Windows Code Page values.
>>>> Value 	Description 	Code page
>>>> 01h 	DOS USA	code page 437
>>>> 02h 	DOS Multilingual	code page 850
>>>> 03h 	Windows ANSI	code page 1252
>>>> 04h 	Standard Macintosh
>>>> 64h 	EE MS-DOS	code page 852
>>>> 65h 	Nordic MS-DOS	code page 865
>>>> 66h 	Russian MS-DOS	code page 866
>>>> 67h 	Icelandic MS-DOS
>>>> 68h 	Kamenicky (Czech) MS-DOS
>>>> 69h 	Mazovia (Polish) MS-DOS
>>>> 6Ah 	Greek MS-DOS (437G)
>>>> 6Bh 	Turkish MS-DOS
>>>> 96h 	Russian Macintosh
>>>> 97h 	Eastern European Macintosh
>>>> 98h 	Greek Macintosh
>>>> C8h 	Windows EE	code page 1250
>>>> C9h 	Russian Windows
>>>> CAh 	Turkish Windows
>>>> CBh 	Greek Windows
>> this is full table supporte for old foxpro not vfp ( see below for vfp)
>> This are all codepages supported by vfp:
>> Code page 	Platform 		Code page identifier
>> 437 		U.S. MS-DOS 		x01
>> 620 * 	Mazovia (Polish) MS-DOS x69
>> 737 * 	Greek MS-DOS (437G) 	x6A
>> 850 		International MS-DOS 	x02
>> 852 		Eastern European MS-DOS x64
>> 857 		Turkish MS-DOS 		x6B
>> 861 		Icelandic MS-DOS 	x67
>> 865 		Nordic MS-DOS 		x66
>> 866 		Russian MS-DOS 		x65
>> 874 		Thai Windows 		x7C
>> 895 * 	Kamenicky (Czech) MS-DOS x68
>> 932 		Japanese Windows 	x7B
>> 936 		Chinese (PRC, Singapore) Windows 	x7A
>> 949 		Korean Windows 		x79
>> 950 		Chinese (Hong Kong SAR, Taiwan) Windows 	x78
>> 1250 	Eastern European Windows xC8
>> 1251 	Russian Windows 	xC9
>> 1252 	Windows ANSI 		x03
>> 1253 	Greek Windows 		xCB
>> 1254 	Turkish Windows 	xCA
>> 1255 	Hebrew Windows 		x7D
>> 1256 	Arabic Windows 		x7E
>> 10000 	Standard Macintosh 	x04
>> 10006 	Greek Macintosh 	x98
>> 10007 * 	Russian Macintosh 	x96
>> 10029 	Macintosh EE 		x97
>> * Not detected when you include CODEPAGE=AUTO in your configuration file.
> 
> Looks that VFP uses the same table with few new entries:
>    78h	Chinese (Hong Kong SAR, Taiwan) Windows (950)
>    79h	Korean Windows (949)
>    8Ah	Chinese (PRC, Singapore) Windows (936)
>    7Bh	Japanese Windows (932)
>    7Ch	Thai Windows (874)
>    7Dh	Hebrew Windows (1255)
>    7Eh	Arabic Windows (1256)
> 
> I guess that misplaced numbers for:
>    65h	Nordic MS-DOS	code page 865
>    66h	Russian MS-DOS	code page 866
> is a typo and only one of the above versions is correct (FP or VFP)
> 
>> this codes are for old foxpro dbf not for current vfp
> 
> OK but VFP uses the same table with few new entries.

I think the VFP table, is more reliable than foxpro table.
we can implement this one.

> 
>> thks, i found one problem, when users of ourxdbu try to write code
>> using BlobImport, macro evaluator not found this function :(, I think
>> can be good idea to add synonim fo DbFileGet and DbFilePut too as
>> BlobImport, BlobExport and others to help macroevaluator to solve this
>> type of code, of course i can say too users, that BlobImport is not a
>> function. :(
>> What do you think?
> 
> This sounds reasonable but in such case all blob*() functions should be
> in separated file and not mixed with other RDD functions.
> 

I'm agree
From zen25000 at zen.co.uk  Thu Feb  5 08:07:15 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb  5 08:07:07 2009
Subject: [Harbour] Wich data type to store XLM documents?
In-Reply-To: <609353e70902041627vcac15cdt55789a4916377dea@mail.gmail.com>
References: <609353e70902040947k23cfb185mfed15a9d738692f@mail.gmail.com>	
	<20090204194228.GA19405@uran.home.aster.pl>	
	<498A125C.8060703@zen.co.uk>
	<609353e70902041627vcac15cdt55789a4916377dea@mail.gmail.com>
Message-ID: <498AE483.70308@zen.co.uk>

It was about 10 years ago and written quickly for my own use - so not 
really documented that well. On looking back I now recall that the 
content for the pages was exported from the memo fields along with other 
text and numeric data into a CSV file which was imported into a 3rd 
party eCommerce package on a daily basis and uploaded to the site. Some 
memo fields contained embedded HTML like combo boxes. I tried to find a 
snippet that would be useful but it would be meaningless taken in 
isolation! Basically, lots of string building. Like:-
       HTMStr=HTMStr+"</SELECT>"+crlf+"<INPUT TYPE=SUBMIT VALUE='"; 
 
+choosetxt+"'"+crlf+"OnClick='document.forms[0].PRODREF.value=ExtractValue(document.forms[0].";
                    +uniquname+")'>"+crlf+">!!"
and so on... :-)

Massimo Belgrano wrote:
> Have you a little sample?
> 
> 2009/2/4 Barry Jackson <zen25000@zen.co.uk>:
>> Yes - I used memo fields to hold HTML to generate web pages from stock
>> records in Clipper! :-)
>>
>> Przemyslaw Czerpak wrote:
>>> On Wed, 04 Feb 2009, Massimo Belgrano wrote:
>>>> Which data type will be used to store XML/html documents in dbf by
>>>> harbour?
>>> The same as for any other text or binary objects: MEMO
>>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 
From info at fsgiudice.com  Thu Feb  5 08:24:30 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Feb  5 08:24:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <21842486.post@talk.nabble.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>	<21821717.post@talk.nabble.com>	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>	<21822162.post@talk.nabble.com>	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>	<21823009.post@talk.nabble.com>	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>	<49895858.20202@fsgiudice.com>	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>	<49895F90.2080504@fsgiudice.com>	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>	<498A0696.1020806@fsgiudice.com>	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>
	<21842486.post@talk.nabble.com>
Message-ID: <498AE88E.40903@fsgiudice.com>

Hi Pritpal, Viktor,

Il 05/02/2009 0.58, Pritpal Bedi ha scritto:
> Hi
> 
> wapi_gdi32.c  OR  wapi_gdi.c ( removing 32, may contain gdi32 or gdi++
> functions )

the name I proposed is related to MSDN syntax and to ms libs.
To be clear in MSDN function:
CreateCompatibleDC() is defined:

Requirements
   Windows NT/2000/XP/Vista: Included in Windows NT 3.1 and later.
   Windows 95/98/Me: Included in Windows 95 and later.
   Header: Declared in Wingdi.h; include Windows.h.
   Library: Use Gdi32.lib.


Instead GetPixelFormatSize() is defined:

Function Information
Header Declared in GdiplusPixelFormats.h, include gdiplus.h
Import library gdiplus.lib
Minimum availability GDI+ 1.1
Minimum operating systems Windows 98, Windows XP, Windows 2000, Windows 
NT 4.0 SP6

so following ms docs you can know where they have to be included and 
filename to be adopted (in above samples first is wapi_gdi32.c, the 
second is wapi_gdiplus.c).

So I repeat my proposal to follow MS docs in file names.

> 
> hbwapi.h
> =======
> #define wapi_parwparam( n )  ( ( WPARAM )  ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parlparam( n )  ( ( LPARAM )  ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parhandle( n )  ( ( HANDLE )  ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parhwnd( n )    ( ( HWND )    ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parwndproc( n ) ( ( WNDPROC ) ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parhdc( n )     ( ( HDC )     ( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parcolor( n )   ( ( COLORREF )( HB_PTRDIFF ) hb_parnint( n ) )
> #define wapi_parstruct( n ) ( hb_parc( n ) )
> 
> #define wapi_rethandle( n )  ( hb_retnint( ( HB_PTRDIFF ) n ) )
> #define wapi_retstruct( x )  ( hb_retc( x ) )
> 
> #define wapi_more_most_often_used_types( x ) (...)
> 
> #define HB_HWND        HWND
> #define HB_COLORREF  COLORREF
> #define HB_HDC          HDC
> // etc.
> 
> /*      IMO, we must avoid the direct API types at the API level       */
> 
> 
> wapi_gdi.c
> ========
> /*
>    All functions prefixed with WAPI_* will accept parameters in 
>    the same order and types, including structures. Only in cases
>    where a complex structure is involved, an array of same number
>    of elements corresponding members of the structure. If both
>    can be implemented, the better it could be.
> */

What it means "will accept parameters in the same order and types, 
including structures" ? Referring to ms docs or between them ?
I suppose ms docs.

One problem I recall in mind is about length parameters.
There are some win functions that have length parameters (mostly with 
string parameters) that, in many wrappers I have seen, is dropped 
because we have hb_parclen() that returns string length.
In this case I prefer to follow ms syntax checking presence of above 
parameters using i.e.:
dwLen = ( ISNIL( 6 ) ? hb_parclen( 5 ) : hb_parnl( 6 ) )

> #include <windows.h>
> #include <gdi32.h>
> #include "hbwapi.h"
> 
> HB_FUNC( WAPI_PRINTDLG )
> {
>    PRINTDLG *pd = hb_parc( 1 );  // structure WHEREEVER possible
>    ...
>    wapi_retstruct( pd );
> }
> 

Ah, following above naming convention, PrintDlg() fits in 
wapi_comdlg32.c and not in wapi_gdi.c:

Function Information
Minimum DLL Version comdlg32.dll
Header Declared in Commdlg.h, include Windows.h
Import library Comdlg32.lib
Minimum operating systems Windows 95, Windows NT 3.1
Unicode Implemented as ANSI and Unicode versions.


To be continued ...

Best regards

Francesco
From harbour.01 at syenar.hu  Thu Feb  5 09:17:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  5 09:20:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <498AE88E.40903@fsgiudice.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<49895858.20202@fsgiudice.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
	<49895F90.2080504@fsgiudice.com>
	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>
	<498A0696.1020806@fsgiudice.com>
	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>
	<21842486.post@talk.nabble.com> <498AE88E.40903@fsgiudice.com>
Message-ID: <18d502870902050617g5f18aff7y8f24b6480347e357@mail.gmail.com>

>
> the name I proposed is related to MSDN syntax and to ms libs.
> To be clear in MSDN function:
> CreateCompatibleDC() is defined:
>
> Requirements
>  Windows NT/2000/XP/Vista: Included in Windows NT 3.1 and later.
>  Windows 95/98/Me: Included in Windows 95 and later.
>  Header: Declared in Wingdi.h; include Windows.h.
>  Library: Use Gdi32.lib.
>
>
> Instead GetPixelFormatSize() is defined:
>
> Function Information
> Header Declared in GdiplusPixelFormats.h, include gdiplus.h
> Import library gdiplus.lib
> Minimum availability GDI+ 1.1
> Minimum operating systems Windows 98, Windows XP, Windows 2000, Windows NT
> 4.0 SP6
>
> so following ms docs you can know where they have to be included and
> filename to be adopted (in above samples first is wapi_gdi32.c, the second
> is wapi_gdiplus.c).


> So I repeat my proposal to follow MS docs in file names.


Thanks for clarifying, I still agree with you.


> What it means "will accept parameters in the same order and types,
>> including structures" ? Referring to ms docs or between them ?
>>
> I suppose ms docs.
>
> One problem I recall in mind is about length parameters.
> There are some win functions that have length parameters (mostly with
> string parameters) that, in many wrappers I have seen, is dropped because we
> have hb_parclen() that returns string length.
> In this case I prefer to follow ms syntax checking presence of above
> parameters using i.e.:
> dwLen = ( ISNIL( 6 ) ? hb_parclen( 5 ) : hb_parnl( 6 ) )


If you ask me, I'd rather fully ignore the explicitly passed
length parameter, as the only result of that is potential
buffer overrun and big security holes (and/or more complicated
and bug-prone interface code) potentially resulting in easy
to make fatal mistakes on the .prg level. I've fixed FWRITE()
and BASE64() conversion just recently in this regard. Anyhow
if someone doesn't want to pass the full string, we have 'LEFT()'
there to help, and there is little point in replicating this functionality
in each API functions. IMO.

Generally speaking, while keeping a more or less transparent
WINAPI layer, we should also try to blend into the Harbour
language as much as possible. Not being a hardcore WINAPI
user for me it's difficult to tell any specifics, but it's probably
a matter of balancing between what feels natural for a Harbour
programmer while giving a straight as possible WINAPI interface.
If in doubt I'd personally in all cases prefer to favour the "Harbour
feel". "Harbour feel" means that .prg programmer shouldn't be
able to cause a GPF/memory corruption using .prg level
WINAPI calls.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090205/3b6f42ee/attachment-0001.html
From info at fsgiudice.com  Thu Feb  5 09:32:14 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Feb  5 09:32:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902050617g5f18aff7y8f24b6480347e357@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>	<49895858.20202@fsgiudice.com>	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>	<49895F90.2080504@fsgiudice.com>	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>	<498A0696.1020806@fsgiudice.com>	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>	<21842486.post@talk.nabble.com>
	<498AE88E.40903@fsgiudice.com>
	<18d502870902050617g5f18aff7y8f24b6480347e357@mail.gmail.com>
Message-ID: <498AF86E.6040700@fsgiudice.com>


Il 05/02/2009 15.17, Viktor Szak?ts ha scritto:
> Thanks for clarifying, I still agree with you.
Thank you

> 
> If you ask me, I'd rather fully ignore the explicitly passed 
> length parameter, as the only result of that is potential 
> buffer overrun and big security holes (and/or more complicated 
> and bug-prone interface code) potentially resulting in easy 
> to make fatal mistakes on the .prg level. I've fixed FWRITE() 
> and BASE64() conversion just recently in this regard. Anyhow 
> if someone doesn't want to pass the full string, we have 'LEFT()' 
> there to help, and there is little point in replicating this functionality 
> in each API functions. IMO.
> 
> Generally speaking, while keeping a more or less transparent 
> WINAPI layer, we should also try to blend into the Harbour 
> language as much as possible. Not being a hardcore WINAPI 
> user for me it's difficult to tell any specifics, but it's probably 
> a matter of balancing between what feels natural for a Harbour 
> programmer while giving a straight as possible WINAPI interface. 
> If in doubt I'd personally in all cases prefer to favour the "Harbour 
> feel". "Harbour feel" means that .prg programmer shouldn't be 
> able to cause a GPF/memory corruption using .prg level 
> WINAPI calls.
> 
This is ok for me, just to decide if we have to keep positional order, 
also if then we ignore length, but only to have closest implementation 
to ms syntax and use their docs as valid reference.

Best regards,

Francesco

From harbour.01 at syenar.hu  Thu Feb  5 09:43:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  5 09:43:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <498AF86E.6040700@fsgiudice.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
	<49895F90.2080504@fsgiudice.com>
	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>
	<498A0696.1020806@fsgiudice.com>
	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>
	<21842486.post@talk.nabble.com> <498AE88E.40903@fsgiudice.com>
	<18d502870902050617g5f18aff7y8f24b6480347e357@mail.gmail.com>
	<498AF86E.6040700@fsgiudice.com>
Message-ID: <18d502870902050643o5dc37b20s1b21c8bda217b420@mail.gmail.com>

>
> as possible WINAPI interface. If in doubt I'd personally in all cases
>> prefer to favour the "Harbour feel". "Harbour feel" means that .prg
>> programmer shouldn't be able to cause a GPF/memory corruption using .prg
>> level WINAPI calls.
>>
>>  This is ok for me, just to decide if we have to keep positional order,
> also if then we ignore length, but only to have closest implementation to ms
> syntax and use their docs as valid reference.


Sticking to original MS syntax only makes sense if this
can be more or less consistently followed as a rule, at
least with most of the functions without making .prg level
programming too cumbersome. WINAPI users have to
decide whether this is a reasonable goal. If possible
to do without major drawbacks, it should be done, as
it makes the whole layer well documented by existing
MS docs, and it also clears up WINAPI developer from
making difficult decisions on hiding details.

Anyhow, in the case of having a fully synced WINAPI layer,
it is still possible to add extra Harbour functions (even
on top of that) to help accessing commonly used Windows
functionality in a higher level, potentially friendlier way.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090205/b329293c/attachment.html
From druzus at acn.waw.pl  Thu Feb  5 09:54:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb  5 09:50:01 2009
Subject: [Harbour] Make system configuration envvar changes
In-Reply-To: <18d502870902041719w59771fe1x934a54470c3ab7a0@mail.gmail.com>
References: <18d502870902041719w59771fe1x934a54470c3ab7a0@mail.gmail.com>
Message-ID: <20090205145433.GA13330@uran.home.aster.pl>

On Thu, 05 Feb 2009, Szak?ts Viktor wrote:

Hi,

> I plan to commit this long time planned modification,
> to clear up some last non prefixed public envvars
> needed to configure Harbour:
> HB_USER_LIBS -> HB_USR_LIBLIST

IMHO HB_USER_LIBS or HB_USR_LIBS is better.
'libs' is commonly used shortcut for library list in GNU tools.

> PRG_USR      -> HB_USR_PRG

HB_PRGFLAGS

> C_USR        -> HB_USR_C

HB_CFLAGS

> L_USR        -> HB_USR_L  (or HB_USR_LINK ?)

HB_LFLAGS

> A_USR        -> HB_USR_A  (or HB_USR_LIB ?)

HB_AFLAGS

> MK_USR       -> HB_USR_MK (or HB_USR_MAKE/MAK ?)

remove it. I added it when it was not possible to compile
whole Harbour with  -j<n> switch. Now it is so this option
does not give any valuable extensions now.

best regards,
Przemek
From info at fsgiudice.com  Thu Feb  5 09:49:54 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Feb  5 09:50:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <18d502870902050643o5dc37b20s1b21c8bda217b420@mail.gmail.com>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>	<49895F90.2080504@fsgiudice.com>	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>	<498A0696.1020806@fsgiudice.com>	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>	<21842486.post@talk.nabble.com>
	<498AE88E.40903@fsgiudice.com>	<18d502870902050617g5f18aff7y8f24b6480347e357@mail.gmail.com>	<498AF86E.6040700@fsgiudice.com>
	<18d502870902050643o5dc37b20s1b21c8bda217b420@mail.gmail.com>
Message-ID: <498AFC92.3000409@fsgiudice.com>


Il 05/02/2009 15.43, Viktor Szak?ts ha scritto:
>         as possible WINAPI interface. If in doubt I'd personally in all
>         cases prefer to favour the "Harbour feel". "Harbour feel" means
>         that .prg programmer shouldn't be able to cause a GPF/memory
>         corruption using .prg level WINAPI calls.
> 
>     This is ok for me, just to decide if we have to keep positional
>     order, also if then we ignore length, but only to have closest
>     implementation to ms syntax and use their docs as valid reference.
> 
> 
> Sticking to original MS syntax only makes sense if this 
> can be more or less consistently followed as a rule, at 
> least with most of the functions without making .prg level 
> programming too cumbersome. WINAPI users have to 
> decide whether this is a reasonable goal. If possible 
> to do without major drawbacks, it should be done, as 
> it makes the whole layer well documented by existing 
> MS docs, and it also clears up WINAPI developer from 
> making difficult decisions on hiding details.
> 
This is exactly what I mean

> Anyhow, in the case of having a fully synced WINAPI layer, 
> it is still possible to add extra Harbour functions (even 
> on top of that) to help accessing commonly used Windows 
> functionality in a higher level, potentially friendlier way.
> 

And this is the scope of w_*.c files that, as I wrote in previous mail, 
will contains upper level functions:
"After these we will have win_*.c files that will contains higher level 
functions (like: DrawTransparentBitmap() functions that uses more than 
single win API). Those functions will be prefixed with WIN_."

Best regards

Francesco
From harbour.01 at syenar.hu  Thu Feb  5 10:08:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  5 10:25:37 2009
Subject: [Harbour] Make system configuration envvar changes
In-Reply-To: <20090205145433.GA13330@uran.home.aster.pl>
References: <18d502870902041719w59771fe1x934a54470c3ab7a0@mail.gmail.com>
	<20090205145433.GA13330@uran.home.aster.pl>
Message-ID: <18d502870902050708y5620821bm12c75ae3328684c4@mail.gmail.com>

>
> HB_USR_LIBS


Okay. [ changed to *LIBLIST last minute to avoid resemblance to *LIB. ]


> > PRG_USR      -> HB_USR_PRG
>
> HB_PRGFLAGS
>
> > C_USR        -> HB_USR_C
>
> HB_CFLAGS
>
> > L_USR        -> HB_USR_L  (or HB_USR_LINK ?)
>
> HB_LFLAGS
>
> > A_USR        -> HB_USR_A  (or HB_USR_LIB ?)
>
> HB_AFLAGS


I'd like to keep all user level flags in one namespace
(HB_USR was the idea), for easy identification and
lookup.

How about:

HB_USR_LIBS
HB_USR_PRGFLAGS
HB_USR_CFLAGS
HB_USR_LFLAGS (shouldn't this be HB_USR_L*D*FLAGS?)
HB_USR_AFLAGS
HB_USR_MAKEFLAGS


> > MK_USR       -> HB_USR_MK (or HB_USR_MAKE/MAK ?)
>

Thanks. The non-GNU make still uses that, former name
was HB_MAKE_FLAGS. I'm not sure how important it is,
but it has to be there for a reason.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090205/57c3d4b6/attachment.html
From bedipritpal at hotmail.com  Thu Feb  5 10:31:51 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb  5 10:31:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <20090205015029.GA18878@uran.home.aster.pl>
References: <E1LUUkJ-0007ri-39@c3vjzd1.ch3.sourceforge.com>
	<21821717.post@talk.nabble.com>
	<18d502870902031626h65e33599i1b9cb25ce222ec64@mail.gmail.com>
	<21822162.post@talk.nabble.com>
	<18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>
	<21823009.post@talk.nabble.com>
	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>
	<49895858.20202@fsgiudice.com>
	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>
	<49895F90.2080504@fsgiudice.com>
	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>
	<498A0696.1020806@fsgiudice.com>
	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>
	<21842486.post@talk.nabble.com>
	<20090205015029.GA18878@uran.home.aster.pl>
Message-ID: <21853693.post@talk.nabble.com>


Przemek


Przemyslaw Czerpak-2 wrote:
> 
> Passing C structures as string is also bad idea.
> If we do not need support for direct updating C structure
> members at .prg level then it will be enough to introduce
> special type of GC pointer to hold all such structures with
> basic type veryfication. Below I'm attaching modified code from
> message I sent two days ago to xHGtk devel list. It address such
> problem.
> 

Sounds interesting. Never thought of such preposition before.

Can you explain a bit more how we can 
use this concept in real-use. I mean I must be able to 
exploit returned structure from wapi_* functions on the 
PRG level. If we can pass a structure and can receive 
a structure and can exploit it both ways, a much better
scenario will emerge.

Right now, we do like (via xhb.lib)
typedef struct tagPD {;  // pd
    DWORD            lStructSize;
    HWND             hwndOwner;
    HANDLE           hDevMode;
    HANDLE           hDevNames;
    HDC              hDC;
    DWORD            Flags;
    WORD             nFromPage;
    WORD             nToPage;
    WORD             nMinPage;
    WORD             nMaxPage;
    WORD             nCopies;
    HINSTANCE        hInstance;
    DWORD            lCustData;
    LPPRINTHOOKPROC  lpfnPrintHook;
    LPSETUPHOOKPROC  lpfnSetupHook;
    LPCTSTR          lpPrintTemplateName;
    LPCTSTR          lpSetupTemplateName;
    HANDLE           hPrintTemplate;
    HANDLE           hSetupTemplate;
} PRINTDLG

Method PrintIt()
   ::pd IS PRINTDLG
   ::pd:Reset()
   ::pd:lStructSize := ::pd:sizeof
   ::pd:Flags   := PD_RETURNDC + PD_SHOWHELP  + PD_PRINTSETUP
   ::pd:nCopies := ::nCopies

   if WApi_PrintDlg( ::pd:value )
      ::pd:Devalue()
   endif

   ::hDC := ::pd:hDC
   ...

Can we achieve this type of functionality?

Regards
Pritpal Bedi

   
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10164--trunk-harbour-tp21821360p21853693.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Feb  5 10:40:55 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb  5 10:36:21 2009
Subject: [Harbour] Cleaning Harbour C types
In-Reply-To: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
Message-ID: <20090205154055.GA19749@uran.home.aster.pl>

On Wed, 04 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> What would the preferred direction we should go in order
> to avoid C type name collisions with external packages,
> and OS APIs (like Windows API)?
> Here's is an incomplete list of type names which may cause such problems:
> BOOL
> SCHAR, UCHAR, BYTE
> SHORT, USHORT
> INT, UINT
> LONG, ULONG
> INT32, UINT32
> INT64, UINT64
> If cleaned up, we could finally get rid of the HB_OS_WIN_USED
> hack and freely include "windows.h" anywhere in C code. It would
> allow us to integrate Harbour with any tools without having to
> worry about such collisions.
> OpenWatcom 1.8 gives hundreds of warnings for INT32.

We do not have to use HB_OS_WIN_USED. It's enough to include windows.h
before Harbour header files. We can also disable it or include it always
in hbdefs.h this is not big problem.
We should only add detecting of already included windows.h and clipdefs.h
should be fixed a little bit.
In practice whole Harbour code can be compiled with windows.h without
problems with one exception. bison files and definitions we used for
terminal symbols (f.e. IN) which can break also many other things.
But this is different problem and now can be easy eliminated. We do
not use FLEX so we do not need external header files (harboury.h and
macroy.h) and we can simply include compiler (complex.c) and macro
(marcolex.c) lexer to grammar files.

> 1) One route is to prefix everything with HB_. HB_INT, HB_UINT.
> Pretty obvious, but a tad verbose and not very elengant for such
> basic types.
> 2) Using standard types: int, long, unsigned int.
> 3) Combination of the above: standard types for everything
> where we can be in sync with underlying compiler types,
> and HB_* special types whenever we want to enforce certain
> sizes in public Harbour APIs, or to override compiler limits for
> consistency, like Harbour string pointer/size, Harbour file pointer
> (HB_FOFFSET), Harbour array pointer/size, Harbour character
> type (HB_CHAR). One important point is to make above
> distinction and planning in advance and in full detail, before
> touching the source.
> +1) Regardless of the above we should keep legacy types
> for Clipper compatibility, so they should be moved to Clipper
> compatibility headers.
> Any thoughts?

This is big and potentially danger modification. Whole code will have
to be updated. Even simply copy and replace may create problems and
bugs very hard to locate.
It will also be problem for 3-rd party developers and existing code.
Finally we should not force our own types in functions used as public
3-rd party API because we will only create problems when native OS
types have to be translated to Harbour ones. Even know people have
serious problems when they have to understand difference between
signed and unsigned integer. Such modification will intorduce yet
another problem for them with casting between platfom and Harbour
types so I do not want to make it. It's not real problem for me
now but if we start it then for sure it will ;-)
Much important for me is cleaning the code and replacing all BYTE
used as synonym of 'unsigned char' with UCHAR and probably fixing
the ULONG used as array and string indexes. We should used signed
index because many of Clipper/Harbour functions needs negative
values so even know it's not true that we can support full ULONG
area in all cases (of course it platform has enough space) because
such arrays as strings will not be fully functional. I gues that
the only one reason why Harbour has ULONG as string and array indexes
was caused by the fact that Clipper used USHORT so someone extended
it to ULONG without thinking what will happen.

best regards,
Przemek
From maurilio.longo at libero.it  Thu Feb  5 10:43:29 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb  5 10:43:39 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <498970D0.7040305@libero.it>
References: <20090202143903.GA16904@uran.home.aster.pl>	<49870C01.2030008@libero.it>	<20090202162341.GA3599@uran.home.aster.pl>	<4987233C.4010405@libero.it>	<4987288B.30006@libero.it>	<49872A0B.4060604@libero.it>	<49873307.3000705@libero.it>	<20090202184020.GA27877@uran.home.aster.pl>	<4988110E.5010107@libero.it>	<498892DF.4050201@libero.it>	<20090203200055.GA3779@uran.home.aster.pl>	<498955A3.7070608@libero.it>
	<498970D0.7040305@libero.it>
Message-ID: <498B0921.9090502@libero.it>

Przemyslaw,

I hope I've solved this one, I hade to write in os/install.cf the install rule
this way. Note that removing the empty line inside inst_file and/or trying to
make a for %i in ( ... ) loop causes a segfault.

The fault is inside cmd.exe, I don't understand way the previous code was
failing, I mean, what really does make.exe when interpreting this rule,
anyway, this is a little bit slower, but I can execute it with -jn re-gaining
all the lost speed :)

define inst_file
$(COMSPEC) /C $(CP) $(file) $(INSTALL_OS2_DIR)

endef

INSTALL_LIST = $(subst /,\,$(INSTALL_OBJS))
INSTALL_OS2_DIR = $(subst /,\,$(INSTALL_DIR))
INSTALL_RULE = $(foreach file, $(INSTALL_LIST), $(inst_file))

I'll commit in a while.

Maurilio.


Maurilio Longo wrote:
> Przemyslaw,
> 
> make install fails as well :( with this error:
> 
> (E:\repository\harbour-svn)make install
> make -C doc install
> make[1]: Entering directory `E:/repository/harbour-svn/doc'
> make -C en install
> make[2]: Entering directory `E:/repository/harbour-svn/doc/en'
> make[2]: Nothing to be done for `install'.
> make[2]: Leaving directory `E:/repository/harbour-svn/doc/en'
> make -C es install
> make[2]: Entering directory `E:/repository/harbour-svn/doc/es'
> make[2]: Nothing to be done for `install'.
> make[2]: Leaving directory `E:/repository/harbour-svn/doc/es'
> make[1]: Leaving directory `E:/repository/harbour-svn/doc'
> make -C include install
> make[1]: Entering directory `E:/repository/harbour-svn/include'
> ECHO copy clipdefs.h e:\harbour\include >> _nstall.cmd
> make[1]: *** [install] Segmentation fault (core dumped)
> make[1]: Leaving directory `E:/repository/harbour-svn/include'
> make: *** [include.inst] Error 2
> 
> Looking a config/os2/install.cf it is unchanged since august 2008 and it does
> not include any other file, so, what went wrong?
> 
> Maurilio.
> 
> 
> Maurilio Longo wrote:
>> Przemyslaw Czerpak wrote:
>>> Interesting. Now it looks like GNU make problem.
>>> Maybe some trick with eval function can help, f.e. something like:
>>>
>>>    define lib_object
>>>    echo ADDMOD $(1) >> __lib__.tmp
>>>    endef
>>>
>>>    define create_library
>>>    IF EXIST $(OS2_LIB_ARCH) $(RM) $(OS2_LIB_ARCH)
>>>    echo CREATE $(LIB_DIR)/$@ > __lib__.tmp
>>>    $(foreach file, $(^F), $(eval $(call lib_object,$(file))))
>>>    echo SAVE >> __lib__.tmp
>>>    echo END >> __lib__.tmp
>>>    $(AR) -M < __lib__.tmp
>>>    endef
>>>
>> With this I get an  error:
>>
>> c ../../hbarch.c -ohbarch.o
>> gcc -I. -I../../../../include -Wall -W -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF -
>> c ../../reserved.c -oreserved.o
>> ../../../../config/lib.cf:30: *** missing separator.  Stop.
>> make[3]: Leaving directory `E:/repository/harbour-svn/source/common/os2/gcc'
>> make[2]: *** [descend] Error 2
>> make[2]: Leaving directory `E:/repository/harbour-svn/source/common'
>> make[1]: *** [common] Error 2
>> make[1]: Leaving directory `E:/repository/harbour-svn/source'
>> make: *** [source] Error 2
>>
>>
>>>> Of course it works on the assumption that the library is made up of .o files.
>>> You can use $(OBJ_EXT) instead of .o
>>>    $(COMSPEC) /C "for %i in ( *$(OBJ_EXT) ) do echo ADDMOD %i >> _l_.tmp"
>> Yes, I can even remove the
>>
>> $(COMSPEC) /C
>>
>> there is no need to spawn another shell.
>>
>>> I do not know OS2 command line size limit but if it's big enough then
>>> you can also use:
>> 1024 chars
>>
>>>    $(COMSPEC) /C "for %i in ($(^F)) do echo ADDMOD %i >> _l_.tmp"
>>> Though in such case it should be possible to directly call ar without
>>> the above trick by simple:
>>>    AR_RULE = $(AR) $(ARFLAGS) cr $(LIB_DIR)/$@ $(^F)
>>> so I guess it's smaller then necessary.
>>>
>> Yes, this limit was reached long ago and the script was created to bypass it.
>>
>> Thanks a lot.
>>
>> Maurilio.
>>
>> PS. I'll do some timing to see how much it takes to build with various -j ASAP :)
>>
>>> best regards,
>>> Przemek
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Thu Feb  5 11:15:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  5 11:15:52 2009
Subject: [Harbour] Cleaning Harbour C types
In-Reply-To: <20090205154055.GA19749@uran.home.aster.pl>
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
	<20090205154055.GA19749@uran.home.aster.pl>
Message-ID: <18d502870902050815t3bc7c256o3a05fc942177f2c1@mail.gmail.com>

Hi Przemek,


> > OpenWatcom 1.8 gives hundreds of warnings for INT32.
>
> We do not have to use HB_OS_WIN_USED. It's enough to include windows.h
> before Harbour header files. We can also disable it or include it always
> in hbdefs.h this is not big problem.
> We should only add detecting of already included windows.h and clipdefs.h
> should be fixed a little bit.
> In practice whole Harbour code can be compiled with windows.h without
> problems with one exception. bison files and definitions we used for
> terminal symbols (f.e. IN) which can break also many other things.
> But this is different problem and now can be easy eliminated. We do
> not use FLEX so we do not need external header files (harboury.h and
> macroy.h) and we can simply include compiler (complex.c) and macro
> (marcolex.c) lexer to grammar files.


We should IMO never include windows.h from hbdefs.h. Besides
slowing down build time to a great deal, we don't do this for other
OS APIs either. This would also suggest that Windows API usage
is freely allowed in any files, which counteracts with our effort to
create portable code in the first place. Most of our core files don't
need windows.h.

Including windows.h before Harbour header files has the disadvantage
that at this point we don't have any standard ways (#ifdef HB_OS_WIN)
to detect that we're compiling for Windows. There are of course
non-standard ways, but it's quite a big mess, which will probably
need hacks on the build side.

That kind of sums it up why we have to resort to HB_OS_WIN_USED now.


> > +1) Regardless of the above we should keep legacy types
> > for Clipper compatibility, so they should be moved to Clipper
> > compatibility headers.
> > Any thoughts?
>
> This is big and potentially danger modification. Whole code will have
> to be updated. Even simply copy and replace may create problems and
> bugs very hard to locate.
> It will also be problem for 3-rd party developers and existing code.
> Finally we should not force our own types in functions used as public
> 3-rd party API because we will only create problems when native OS
> types have to be translated to Harbour ones. Even know people have
> serious problems when they have to understand difference between
> signed and unsigned integer. Such modification will intorduce yet
> another problem for them with casting between platfom and Harbour
> types so I do not want to make it. It's not real problem for me
> now but if we start it then for sure it will ;-)


Well, this clearly isn't a search and replace task. It neither is
a one pass job, I was rather thinking of laying the grounds
for a properly clean type system, at least on paper, as a guideline,
and *gradually* shift to use that in practice.

Currently there is no Harbour docs about what types to use in
what occasions (chars, string types, BYTE* vs. char*, USHORT
vs. int in GT, etcetc), and we even have some problems integrating
with C code (size_t), plus the potential name collisions, so even
our current undocumented system isn't all perfect.

Just a simple example to start somewhere:
#define HB_INDEX   long /* HB_INDEX is used as length and size for Harbour
strings and arrays. */

Then start to replace ULONG with HB_INDEX, instead of replacing
ULONG with LONG, just so that later we have to identify these again.
At a later time, we can make the effort to replace LONGs with
HB_INDEX.

So why not take this opportunity to solve both problems at the
same time? There is common set of source spots that need to
be changed for both issues.

I think first of all we'd need to design the types we use.


> Much important for me is cleaning the code and replacing all BYTE
> used as synonym of 'unsigned char' with UCHAR and probably fixing
> the ULONG used as array and string indexes. We should used signed
> index because many of Clipper/Harbour functions needs negative
> values so even know it's not true that we can support full ULONG
> area in all cases (of course it platform has enough space) because
> such arrays as strings will not be fully functional. I gues that
> the only one reason why Harbour has ULONG as string and array indexes
> was caused by the fact that Clipper used USHORT so someone extended
> it to ULONG without thinking what will happen.


I agree these are very important, but just partially related to my
original point. F.e. if we want to fix the unsigned vs. signed issue,
why not to introduce a proper and standard type for the entity
and start using that? This way we could solve two problems at
once. The new type can simply be 'long' either, but in case of indexes,
maybe it'd be even better to detach it from C type. ULONG or LONG
are both definitly _wrong_ for this purpose though.

Maybe I didn't understand well, but are you saying that the raised
(name-collision) problem is in your opinion non-existent?

The hbfimage build problem on Linux shows the problem quite
clearly, and also OW 1.8, however we try to hack it around in
Harbour. There is no guarantee that such collision cannot happen
anytime in the future with 3rd party packages. What am I missing
here?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090205/3c69773e/attachment.html
From druzus at acn.waw.pl  Thu Feb  5 11:24:21 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb  5 11:19:47 2009
Subject: [Harbour] Cleaning Harbour C types
In-Reply-To: <20090205154055.GA19749@uran.home.aster.pl>
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
	<20090205154055.GA19749@uran.home.aster.pl>
Message-ID: <20090205162421.GA29571@uran.home.aster.pl>

On Thu, 05 Feb 2009, Przemyslaw Czerpak wrote:
[...]
Hi,

And one thing else much more important for me because it's
a real problem in current code which may cause unpredictable
results, f.e. some index corruption.
We should eliminate functions which uses locale settings because
they can badly change the behavior of existing code.
If you link your code with some external library which enables
locale then it effects all isalpha()/isupper()/tolower() and similar
functions. If someone has index on UPPER(<Sth>) then you have problem.
Our UPPER() function may give different results when locale are enabled
(it depends on used language and encoding). If you have two applications
(f.e. one written as daemon without user interface or with Harbour CUI
and second using GTK (GTK enables locale during initialization) and both
operates on the same index with UPPER then this index will be corrupted.
This have to be fixed.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb  5 11:26:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  5 11:29:36 2009
Subject: [Harbour] Cleaning Harbour C types
In-Reply-To: <20090205162421.GA29571@uran.home.aster.pl>
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
	<20090205154055.GA19749@uran.home.aster.pl>
	<20090205162421.GA29571@uran.home.aster.pl>
Message-ID: <18d502870902050826y4b274febk178e11f121cb201d@mail.gmail.com>

Yes, it's inside one of my entries in ChangeLog as TOFIX.
I didn't want to touch that, but already searched for
toupper/tolower/islower/etc references, and there isn't
a great number of them fortunately.

I've also added Harbour API replacement for these.
Some of them currently using above functions.

First we should fix these by replacing it with simple
ASCII char comparisons/operations, and as a next
phase change above APIs to the Harbour ones.

Does this sound right?

Brgds,
Viktor

On Thu, Feb 5, 2009 at 5:24 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 05 Feb 2009, Przemyslaw Czerpak wrote:
> [...]
> Hi,
>
> And one thing else much more important for me because it's
> a real problem in current code which may cause unpredictable
> results, f.e. some index corruption.
> We should eliminate functions which uses locale settings because
> they can badly change the behavior of existing code.
> If you link your code with some external library which enables
> locale then it effects all isalpha()/isupper()/tolower() and similar
> functions. If someone has index on UPPER(<Sth>) then you have problem.
> Our UPPER() function may give different results when locale are enabled
> (it depends on used language and encoding). If you have two applications
> (f.e. one written as daemon without user interface or with Harbour CUI
> and second using GTK (GTK enables locale during initialization) and both
> operates on the same index with UPPER then this index will be corrupted.
> This have to be fixed.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090205/e01fc83c/attachment.html
From abe.buch at att.net  Thu Feb  5 15:02:39 2009
From: abe.buch at att.net (AbeB)
Date: Thu Feb  5 15:02:42 2009
Subject: [Harbour] RDDADS rddinfo() not returning settings.
Message-ID: <1233864159377-2276935.post@n2.nabble.com>


like rddinf( RDDI_CONNECTION )

and thanks again for everybody for all this work. I mean it's fascinating..
marvelous?
-- 
View this message in context: http://n2.nabble.com/RDDADS-rddinfo%28%29-not-returning-settings.-tp2276935p2276935.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From zen25000 at zen.co.uk  Thu Feb  5 15:47:38 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb  5 15:47:30 2009
Subject: [Harbour] curdir() and cross platform compatibility
Message-ID: <498B506A.2060700@zen.co.uk>

In Linux the full path is returned with the leading "/" missing, which 
breaks compatibility with Windows code.
Path = "/"+curdir()      // Linux
Path = curdir()          // Win

Is it possible to correct this?
From druzus at acn.waw.pl  Thu Feb  5 17:40:13 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb  5 17:35:39 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <498B506A.2060700@zen.co.uk>
References: <498B506A.2060700@zen.co.uk>
Message-ID: <20090205224013.GA29796@uran.home.aster.pl>

On Thu, 05 Feb 2009, Barry Jackson wrote:

Hi Barry.

> In Linux the full path is returned with the leading "/" missing, which 
> breaks compatibility with Windows code.
> Path = "/"+curdir()      // Linux
> Path = curdir()          // Win

Have you tested it?

> Is it possible to correct this?

In all systems curdir() returns path without leading "/".
I do not like this behavior but it's Clipper compatible so I do not
think we can touch curdir() behavior.
But I agree that we should introduce function which will return
full directory with all leading dir separators, drives or devices
signatures, f.e. hb_curdir(). It's necessary for multiplatform
portable programs. Stripping/adding leading [back]slashes is usually
bad idea and we should not make it on Harbour level to avoid problems
and bad interactions with UNC paths (//server/path/tree/file).
Question: what this code shows in windows if current directory is set
to some //server/path/tree/file path?

   ? curdrive()+hb_osPathSeparator()+curdir()

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb  5 17:41:11 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb  5 17:36:37 2009
Subject: [Harbour] building on opensolaris
In-Reply-To: <498B0921.9090502@libero.it>
References: <4987288B.30006@libero.it> <49872A0B.4060604@libero.it>
	<49873307.3000705@libero.it>
	<20090202184020.GA27877@uran.home.aster.pl>
	<4988110E.5010107@libero.it> <498892DF.4050201@libero.it>
	<20090203200055.GA3779@uran.home.aster.pl>
	<498955A3.7070608@libero.it> <498970D0.7040305@libero.it>
	<498B0921.9090502@libero.it>
Message-ID: <20090205224111.GB29796@uran.home.aster.pl>

On Thu, 05 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> I hope I've solved this one, I hade to write in os/install.cf the install rule
> this way. Note that removing the empty line inside inst_file and/or trying to
> make a for %i in ( ... ) loop causes a segfault.
> The fault is inside cmd.exe, I don't understand way the previous code was
> failing, I mean, what really does make.exe when interpreting this rule,
> anyway, this is a little bit slower, but I can execute it with -jn re-gaining
> all the lost speed :)
> define inst_file
> $(COMSPEC) /C $(CP) $(file) $(INSTALL_OS2_DIR)
> 
> endef
> INSTALL_LIST = $(subst /,\,$(INSTALL_OBJS))
> INSTALL_OS2_DIR = $(subst /,\,$(INSTALL_DIR))
> INSTALL_RULE = $(foreach file, $(INSTALL_LIST), $(inst_file))
> I'll commit in a while.

Thank you very much.

best regards,
Przemek
From dbtopas at dbtopas.lt  Thu Feb  5 17:59:06 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Feb  5 17:59:08 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <20090205224013.GA29796@uran.home.aster.pl>
References: <498B506A.2060700@zen.co.uk>
	<20090205224013.GA29796@uran.home.aster.pl>
Message-ID: <498B6F3A.5060300@dbtopas.lt>

Hi,


> Question: what this code shows in windows if current directory is set
> to some //server/path/tree/file path?
> 
>    ? curdrive()+hb_osPathSeparator()+curdir()
========================================
C:\cawi32\sample\test>hbrun test146.prg

C\cawi32\sample\test
\\\linux\samba1
========================================
PROC main()
   ? curdrive()+hb_osPathSeparator()+curdir()
   DIRCHANGE("\\linux\samba1")
   ? curdrive()+hb_osPathSeparator()+curdir()
RETURN
========================================


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Thu Feb  5 18:01:14 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Feb  5 18:01:16 2009
Subject: [Harbour] RDDADS rddinfo() not returning settings.
In-Reply-To: <1233864159377-2276935.post@n2.nabble.com>
References: <1233864159377-2276935.post@n2.nabble.com>
Message-ID: <498B6FBA.6020404@dbtopas.lt>

AbeB wrote:
> like rddinf( RDDI_CONNECTION )
> 
> and thanks again for everybody for all this work. I mean it's fascinating..
> marvelous?


Hi,


rddinfo( RDDI_CONNECTION ) works very well for me. SELF CONTAINED 
sample, please.


Regards,
Mindaugas
From druzus at users.sourceforge.net  Thu Feb  5 18:01:44 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb  5 18:01:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10184] trunk/harbour
Message-ID: <E1LVDE8-0004nT-8y@dn4whf1.ch3.sourceforge.com>

Revision: 10184
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10184&view=rev
Author:   druzus
Date:     2009-02-05 23:01:40 +0000 (Thu, 05 Feb 2009)

Log Message:
-----------
2009-02-06 00:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbstack.h
  * harbour/source/vm/estack.c
    ! fixed typo in one internal function name

  * harbour/include/hbapi.h
  * harbour/include/hbstack.h
  * harbour/source/vm/estack.c
  * harbour/source/vm/dynsym.c
  * harbour/source/vm/memvars.c
    % changed code used for memvars clear in MT mode - it greatly 
      reduce the cost of HVM thread exit
    % changed code for memvars copping/sharing when thread is started
      it greatly reduce the time of thread creation when existing memvars
      are shared or copied
   Both modifications reduced the cost of simple
      hb_threadJoin( hb_threadCreate( {|| NIL } ) )
   few times depending on number of symbols and memvars.

  * harbour/source/rtl/gttrm/gttrm.c
  * harbour/source/rtl/gtsln/gtsln.c
  * harbour/source/rtl/gtsln/gtsln.h
  * harbour/source/rtl/gtpca/gtpca.c
    % added better initial cursor position detection and eliminated sscanf()

  * harbour/source/Makefile
    ! fixed concurrent dependencies in cross builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/source/Makefile
    trunk/harbour/source/rtl/gtpca/gtpca.c
    trunk/harbour/source/rtl/gtsln/gtsln.c
    trunk/harbour/source/rtl/gtsln/gtsln.h
    trunk/harbour/source/rtl/gttrm/gttrm.c
    trunk/harbour/source/vm/dynsym.c
    trunk/harbour/source/vm/estack.c
    trunk/harbour/source/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Thu Feb  5 18:14:08 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb  5 18:14:01 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <498B6F3A.5060300@dbtopas.lt>
References: <498B506A.2060700@zen.co.uk>	<20090205224013.GA29796@uran.home.aster.pl>
	<498B6F3A.5060300@dbtopas.lt>
Message-ID: <498B72C0.8070100@zen.co.uk>

Sorry, my mistake - I did not test in Windows.
I just found my old Clipper code in which:-
path_str = (DISKNAME())+":\"+(CURDIR())
Will test more in future!  ;-)

Mindaugas Kavaliauskas wrote:
> Hi,
> 
> 
>> Question: what this code shows in windows if current directory is set
>> to some //server/path/tree/file path?
>>
>>    ? curdrive()+hb_osPathSeparator()+curdir()
> ========================================
> C:\cawi32\sample\test>hbrun test146.prg
> 
> C\cawi32\sample\test
> \\\linux\samba1
> ========================================
> PROC main()
>   ? curdrive()+hb_osPathSeparator()+curdir()
>   DIRCHANGE("\\linux\samba1")
>   ? curdrive()+hb_osPathSeparator()+curdir()
> RETURN
> ========================================
> 
> 
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
From zen25000 at zen.co.uk  Thu Feb  5 18:32:44 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb  5 18:32:36 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <498B72C0.8070100@zen.co.uk>
References: <498B506A.2060700@zen.co.uk>	<20090205224013.GA29796@uran.home.aster.pl>	<498B6F3A.5060300@dbtopas.lt>
	<498B72C0.8070100@zen.co.uk>
Message-ID: <498B771C.9090601@zen.co.uk>

In Linux:-

/home/baz/hash         // current path in Linux

? curdrive()+hb_osPathSeparator()+curdir()
Returns:-
A/home/baz/hash

If curdrive() returned "" in Linux then there may be compatibility?
Where does "A" come from?

Barry Jackson wrote:
> Sorry, my mistake - I did not test in Windows.
> I just found my old Clipper code in which:-
> path_str = (DISKNAME())+":\"+(CURDIR())
> Will test more in future!  ;-)
> 
> Mindaugas Kavaliauskas wrote:
>> Hi,
>>
>>
>>> Question: what this code shows in windows if current directory is set
>>> to some //server/path/tree/file path?
>>>
>>>    ? curdrive()+hb_osPathSeparator()+curdir()
>> ========================================
>> C:\cawi32\sample\test>hbrun test146.prg
>>
>> C\cawi32\sample\test
>> \\\linux\samba1
>> ========================================
>> PROC main()
>>   ? curdrive()+hb_osPathSeparator()+curdir()
>>   DIRCHANGE("\\linux\samba1")
>>   ? curdrive()+hb_osPathSeparator()+curdir()
>> RETURN
>> ========================================
>>
>>
>> Regards,
>> Mindaugas
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
From druzus at acn.waw.pl  Fri Feb  6 04:58:37 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 04:54:02 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <498B6F3A.5060300@dbtopas.lt>
References: <498B506A.2060700@zen.co.uk>
	<20090205224013.GA29796@uran.home.aster.pl>
	<498B6F3A.5060300@dbtopas.lt>
Message-ID: <20090206095837.GA8158@uran.home.aster.pl>

On Fri, 06 Feb 2009, Mindaugas Kavaliauskas wrote:

Hi,

>> Question: what this code shows in windows if current directory is set
>> to some //server/path/tree/file path?
>>    ? curdrive()+hb_osPathSeparator()+curdir()
> ========================================
> C:\cawi32\sample\test>hbrun test146.prg
> C\cawi32\sample\test
> \\\linux\samba1
> ========================================
> PROC main()
>   ? curdrive()+hb_osPathSeparator()+curdir()
>   DIRCHANGE("\\linux\samba1")
>   ? curdrive()+hb_osPathSeparator()+curdir()
> RETURN
> ========================================

Interesting. Looks that curdrive() in Windows returns '\' for UNC paths.
In all systems which does not support drives letters idea it returns 'A'.
It has to be fixed.
Anyhow we definitely need function which will operate on _full_ path
with drive or host IDs.
F.e.:
   hb_curdir( [<cNewDir>] ) -> <cOldDIr>
and use it instead of:
   cDir := curdrive()+hb_osDriveSeparator()+hb_osPathSeparator()+curdir()
Of course after fixing curdrive() to return empty string in *nixes.

As I can see from Mindaugas' results then:
   ? curdrive()+hb_osDriveSeparator()+hb_osPathSeparator()+curdir()
cannot work correctly in Windows for UNC paths.

I have a questions for Windows users.
Can we use SetCurrentDirectory() with only drive signature (f.e. "D:")
to change to recently set current path for drive "D:"? Looking at
MS documentation seems that it should work but I would like to confirm
it.

best regards,
Przemek
From mauriliolongo at users.sourceforge.net  Fri Feb  6 04:55:05 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Fri Feb  6 04:55:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10185] trunk/harbour
Message-ID: <E1LVNQP-0008FN-Fl@d5vjzd1.ch3.sourceforge.com>

Revision: 10185
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10185&view=rev
Author:   mauriliolongo
Date:     2009-02-06 09:55:04 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 10:55 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
  * config/os2/dir.cf
    * use $(COMSPEC) instead of calling cmd.exe directly
  * config/os2/gcc.cf
    * rewrote create_library rule to work with make -jn without
      breaking shell environment/command line size.
  * source/rtl/hbproces.c
    * included sys/waith.h in OS/2 build. I think that initial
      #defines can be simplified a bit.
  * config/os2/install.cf
    * rewrote install_rule to work with make -jn without
      breaking shell environment/command line size.
  * config/lib.cf
    * removed unnecessary double quotes around TOP definition

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/lib.cf
    trunk/harbour/config/os2/dir.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/install.cf
    trunk/harbour/source/rtl/hbproces.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Fri Feb  6 05:04:34 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb  6 05:04:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10185] trunk/harbour
In-Reply-To: <E1LVNQP-0008FN-Fl@d5vjzd1.ch3.sourceforge.com>
References: <E1LVNQP-0008FN-Fl@d5vjzd1.ch3.sourceforge.com>
Message-ID: <498C0B32.3020506@libero.it>

And now some numbers about making on OS/2 with more than one instance of make
running (make -jn).

NB: I did not restart my pc between runs, so there can be some cache effect;
all test do a full rebuild of cvs code.

make (single instance) 12:15 (mm:ss)
make -j2 7:27
make -j3 7:14
make -j4 7:20

So, on my PIV HT it seems that -j3 is best.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From e.m.giordano at emagsoftware.it  Fri Feb  6 05:18:02 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb  6 05:18:08 2009
Subject: [Harbour] curdir() and cross platform compatibility
References: <498B506A.2060700@zen.co.uk><20090205224013.GA29796@uran.home.aster.pl><498B6F3A.5060300@dbtopas.lt>
	<20090206095837.GA8158@uran.home.aster.pl>
Message-ID: <52A21AB46CB640DD9C3DAA44B5F757F3@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 6 febbraio 2009 10.58
Oggetto: Re: [Harbour] curdir() and cross platform compatibility


> I have a questions for Windows users.
> Can we use SetCurrentDirectory() with only drive signature (f.e. "D:")
> to change to recently set current path for drive "D:"? Looking at
> MS documentation seems that it should work but I would like to confirm
> it.

It seems not. The following sample:

FUNCTION MAIN()

    LOCAL cCurDir := CURDRIVE() + ":\" + CURDIR()

    ? cCurDir

    ? SETCURRENTDIRECTORY( "C:\WINDOWS" )

    ? SETCURRENTDIRECTORY( cCurDir )

    ? SETCURRENTDIRECTORY( "C:" )

    ? CURDRIVE() + ":\" + CURDIR()

    INKEY( 0 )

    RETURN NIL


#pragma BEGINDUMP

#include "windows.h"
#include "hbapi.h"


HB_FUNC( SETCURRENTDIRECTORY )
{
    hb_retl( SetCurrentDirectory( hb_parc( 1 ) ) );
}

#pragma ENDDUMP

prints:

E:\HARBOUR
T.
T.
T.
C:\

>From the MSDN:

"The final character before the null character must be a backslash ('\'). If 
you do not specify the backslash, it will be added for you;"

So it seems that it changes the current directory to the root of the 
specified drive.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From maurilio.longo at libero.it  Fri Feb  6 05:18:17 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb  6 05:18:25 2009
Subject: [Harbour] estack.c error
Message-ID: <498C0E69.9090703@libero.it>

Hi,

I think that there is a missing HB_STACK_TLS_PRELOAD at the top of
hb_stackDynHandlesCount(), am I right?

Maurilio.


F -DHB_MT_VM -c ../../../estack.c -oestack.o
../../../estack.c: In function `hb_stackDynHandlesCount':
../../../estack.c:397: error: `_hb_stack_ptr_' undeclared (first use in this fun
ction)
../../../estack.c:397: error: (Each undeclared identifier is reported only once
../../../estack.c:397: error: for each function it appears in.)
make[4]: *** [estack.o] Error 1
make[4]: Leaving directory `E:/repository/harbour-svn/source/vm/vmmt/os2/gcc'
make[3]: *** [descend] Error 2
make[3]: Leaving directory `E:/repository/harbour-svn/source/vm/vmmt'
make[2]: *** [vmmt] Error 2
make[2]: Leaving directory `E:/repository/harbour-svn/source/vm'
make[1]: *** [vm] Error 2
make[1]: Leaving directory `E:/repository/harbour-svn/source'
make: *** [source] Error 2

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Fri Feb  6 05:23:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 05:19:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10185] trunk/harbour
In-Reply-To: <E1LVNQP-0008FN-Fl@d5vjzd1.ch3.sourceforge.com>
References: <E1LVNQP-0008FN-Fl@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20090206102349.GA16397@uran.home.aster.pl>

On Fri, 06 Feb 2009, mauriliolongo@users.sourceforge.net wrote:

Hi,

> 2009-02-06 10:55 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
[...]

Thank you.

>   * source/rtl/hbproces.c
>     * included sys/waith.h in OS/2 build. I think that initial
>       #defines can be simplified a bit.

Can you point me which ones?
BTW this code is not exact xHarbour version replacement.
it fixes some problems which exists in xHarbour like resource leaks.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Feb  6 05:21:52 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb  6 05:21:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10186] trunk/harbour
Message-ID: <E1LVNqK-0001IZ-FQ@3kljzd1.ch3.sourceforge.com>

Revision: 10186
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10186&view=rev
Author:   druzus
Date:     2009-02-06 10:21:51 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 11:26 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/philes.c
  * harbour/source/rtl/dirdrive.c
  * harbour/source/rtl/philesx.c
  * harbour/source/rtl/filesys.c
    ! fixed CURDRIVE() and DISKNAME() to not return "A" in OS-es which
      does not use drive letters
    ! eliminated toupper()
    % minor cleanup and speed improvement

  * harbour/config/bin.cf
  * harbour/config/test.cf
    * removed quoting for TOP=$(GRANDP) nested GNU make call parameters

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/test.cf
    trunk/harbour/source/rtl/dirdrive.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/hbproces.c
    trunk/harbour/source/rtl/philes.c
    trunk/harbour/source/rtl/philesx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Feb  6 05:26:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb  6 05:26:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10187] trunk/harbour
Message-ID: <E1LVNuR-0002X2-Q0@3kljzd1.ch3.sourceforge.com>

Revision: 10187
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10187&view=rev
Author:   druzus
Date:     2009-02-06 10:26:07 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 11:30 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/estack.c
    ! added missing HB_STACK_TLS_PRELOAD

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/estack.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Fri Feb  6 05:27:00 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb  6 05:27:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10185] trunk/harbour
In-Reply-To: <20090206102349.GA16397@uran.home.aster.pl>
References: <E1LVNQP-0008FN-Fl@d5vjzd1.ch3.sourceforge.com>
	<20090206102349.GA16397@uran.home.aster.pl>
Message-ID: <498C1074.4000503@libero.it>

Przemyslaw,

sure, on lines 64-79 it has a #if defined HB_OS_UNIX and then it tests for
HB_OS_OS2 || HB_OS_UNIX.

Maurilio.


Przemyslaw Czerpak wrote:
> On Fri, 06 Feb 2009, mauriliolongo@users.sourceforge.net wrote:
> 
> Hi,
> 
>> 2009-02-06 10:55 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
> [...]
> 
> Thank you.
> 
>>   * source/rtl/hbproces.c
>>     * included sys/waith.h in OS/2 build. I think that initial
>>       #defines can be simplified a bit.
> 
> Can you point me which ones?
> BTW this code is not exact xHarbour version replacement.
> it fixes some problems which exists in xHarbour like resource leaks.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Fri Feb  6 05:46:04 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 05:41:28 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <52A21AB46CB640DD9C3DAA44B5F757F3@emag>
References: <20090206095837.GA8158@uran.home.aster.pl>
	<52A21AB46CB640DD9C3DAA44B5F757F3@emag>
Message-ID: <20090206104604.GB16397@uran.home.aster.pl>

On Fri, 06 Feb 2009, Enrico Maria Giordano wrote:

Hi,

> It seems not. The following sample:
> FUNCTION MAIN()
>    LOCAL cCurDir := CURDRIVE() + ":\" + CURDIR()
>    ? cCurDir
>    ? SETCURRENTDIRECTORY( "C:\WINDOWS" )
>    ? SETCURRENTDIRECTORY( cCurDir )
>    ? SETCURRENTDIRECTORY( "C:" )
>    ? CURDRIVE() + ":\" + CURDIR()
>    INKEY( 0 )
>    RETURN NIL
> #pragma BEGINDUMP
> #include "windows.h"
> #include "hbapi.h"
> HB_FUNC( SETCURRENTDIRECTORY )
> {
>    hb_retl( SetCurrentDirectory( hb_parc( 1 ) ) );
> }
> #pragma ENDDUMP
>
> prints:
>
> E:\HARBOUR
> T.
> T.
> T.
> C:\

Thank you for test.
BTW why leading dot (.) in missing in logical results?
Typo or some other problem?

>> From the MSDN:
> "The final character before the null character must be a backslash ('\'). 
> If you do not specify the backslash, it will be added for you;"
> So it seems that it changes the current directory to the root of the 
> specified drive.

But it also says:
,----------------------------------------------------------------------------
| Note  Although each process can have only one current directory, if the
|       application switches volumes using the SetCurrentDirectory function,
|       the system remembers the last current path for each volume (drive
|       letter). This behavior will manifest itself only when specifying a
|       drive letter without a fully qualified path when changing the current
|       directory point of reference to a different volume. This applies to
|       either Get or Set operations.
`----------------------------------------------------------------------------

So were is the true ;-)
Can you repeat your test without using any [x]Harbour functions like
CurDrive() or CurDir() but the following GetCurrentDirectory() instead:

HB_FUNC( GETCURRENTDIRECTORY )
{
   char szPath[ MAX_PATH ];
   if( GetCurrentDirectory( MAX_PATH, szPath ) )
      hb_retc( szPath );
}

best regards,
Przemek
From druzus at acn.waw.pl  Fri Feb  6 05:47:00 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 05:42:25 2009
Subject: [Harbour] estack.c error
In-Reply-To: <498C0E69.9090703@libero.it>
References: <498C0E69.9090703@libero.it>
Message-ID: <20090206104700.GC16397@uran.home.aster.pl>

On Fri, 06 Feb 2009, Maurilio Longo wrote:
> I think that there is a missing HB_STACK_TLS_PRELOAD at the top of
> hb_stackDynHandlesCount(), am I right?

Yes. Thank you for the information. Just fixed.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Feb  6 05:50:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 05:45:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10185] trunk/harbour
In-Reply-To: <498C1074.4000503@libero.it>
References: <E1LVNQP-0008FN-Fl@d5vjzd1.ch3.sourceforge.com>
	<20090206102349.GA16397@uran.home.aster.pl>
	<498C1074.4000503@libero.it>
Message-ID: <20090206105002.GA19621@uran.home.aster.pl>

On Fri, 06 Feb 2009, Maurilio Longo wrote:
> sure, on lines 64-79 it has a #if defined HB_OS_UNIX and then it tests for
> HB_OS_OS2 || HB_OS_UNIX.

Right, thanks.
I'll clean it.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Feb  6 05:47:57 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb  6 05:48:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10188] trunk/harbour
Message-ID: <E1LVOFZ-0007se-M8@bj8yhf1.ch3.sourceforge.com>

Revision: 10188
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10188&view=rev
Author:   druzus
Date:     2009-02-06 10:47:56 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 11:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/hbproces.c
    * removed always false condition for #if expression

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/hbproces.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Feb  6 05:56:19 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb  6 05:56:23 2009
Subject: [Harbour] curdir() and cross platform compatibility
References: <20090206095837.GA8158@uran.home.aster.pl><52A21AB46CB640DD9C3DAA44B5F757F3@emag>
	<20090206104604.GB16397@uran.home.aster.pl>
Message-ID: <4F4B1AA7C14041F281DCF74960BA9EE1@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 6 febbraio 2009 11.46
Oggetto: Re: [Harbour] curdir() and cross platform compatibility


> Thank you for test.
> BTW why leading dot (.) in missing in logical results?
> Typo or some other problem?

Ops! A copy/paste problem, sorry:

E:\HARBOUR
T.
T.
T.
C:\

> But it also says:
> ,----------------------------------------------------------------------------
> | Note  Although each process can have only one current directory, if the
> |       application switches volumes using the SetCurrentDirectory 
> function,
> |       the system remembers the last current path for each volume (drive
> |       letter). This behavior will manifest itself only when specifying a
> |       drive letter without a fully qualified path when changing the 
> current
> |       directory point of reference to a different volume. This applies 
> to
> |       either Get or Set operations.
> `----------------------------------------------------------------------------
>
> So were is the true ;-)

Who knows? :-)

> Can you repeat your test without using any [x]Harbour functions like
> CurDrive() or CurDir() but the following GetCurrentDirectory() instead:
>
> HB_FUNC( GETCURRENTDIRECTORY )
> {
>   char szPath[ MAX_PATH ];
>   if( GetCurrentDirectory( MAX_PATH, szPath ) )
>      hb_retc( szPath );
> }

FUNCTION MAIN()

    LOCAL cCurDir := GETCURRENTDIRECTORY()

    ? cCurDir

    ? SETCURRENTDIRECTORY( "C:\WINDOWS" )

    ? SETCURRENTDIRECTORY( cCurDir )

    ? SETCURRENTDIRECTORY( "C:" )

    ? GETCURRENTDIRECTORY()

    INKEY( 0 )

    RETURN NIL


#pragma BEGINDUMP

#include "windows.h"
#include "hbapi.h"


HB_FUNC( SETCURRENTDIRECTORY )
{
    hb_retl( SetCurrentDirectory( hb_parc( 1 ) ) );
}

HB_FUNC( GETCURRENTDIRECTORY )
{
   char szPath[ MAX_PATH ];
   if( GetCurrentDirectory( MAX_PATH, szPath ) )
      hb_retc( szPath );
}

#pragma ENDDUMP

Same result:

E:\HARBOUR
T.
T.
T.
C:\

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Fri Feb  6 06:09:17 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 06:04:42 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <4F4B1AA7C14041F281DCF74960BA9EE1@emag>
References: <20090206104604.GB16397@uran.home.aster.pl>
	<4F4B1AA7C14041F281DCF74960BA9EE1@emag>
Message-ID: <20090206110917.GA14423@uran.home.aster.pl>

On Fri, 06 Feb 2009, Enrico Maria Giordano wrote:
> Same result:
> E:\HARBOUR
> T.
> T.
> T.
> C:\

Thank you.
Last two questions.
1. What windows version do you use.
2. What will happen if you use SETCURRENTDIRECTORY( "C:.\" )
   instead of SETCURRENTDIRECTORY( "C:" )

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Fri Feb  6 06:11:18 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb  6 06:11:22 2009
Subject: [Harbour] curdir() and cross platform compatibility
References: <20090206104604.GB16397@uran.home.aster.pl><4F4B1AA7C14041F281DCF74960BA9EE1@emag>
	<20090206110917.GA14423@uran.home.aster.pl>
Message-ID: <C0C20B3B02EB45D3B171C3517D41D62A@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 6 febbraio 2009 12.09
Oggetto: Re: [Harbour] curdir() and cross platform compatibility


> > Same result:
> > E:\HARBOUR
> > T.
> > T.
> > T.
> > C:\

The dot is missing again. But it was there when I pasted it. Perhaps a 
problem with Outlook Express and Unicode chars.

> Thank you.
> Last two questions.
> 1. What windows version do you use.

Windows XP Pro SP3.

> 2. What will happen if you use SETCURRENTDIRECTORY( "C:.\" )
>   instead of SETCURRENTDIRECTORY( "C:" )

No change. I already tried it.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at users.sourceforge.net  Fri Feb  6 06:25:08 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb  6 06:25:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10189] trunk/harbour
Message-ID: <E1LVOpY-0004vr-Th@dn4whf1.ch3.sourceforge.com>

Revision: 10189
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10189&view=rev
Author:   druzus
Date:     2009-02-06 11:25:08 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 12:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbprintf.c
    * pacified warning

  * harbour/source/rtl/philesx.c
    ! fixed typo

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbprintf.c
    trunk/harbour/source/rtl/philesx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Feb  6 07:42:34 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb  6 07:42:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10190] trunk/harbour
Message-ID: <E1LVQ2U-0000pB-DC@dn4whf1.ch3.sourceforge.com>

Revision: 10190
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10190&view=rev
Author:   druzus
Date:     2009-02-06 12:42:33 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 13:46 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour-win-spec
    ! fixed CRLF=>LF

  * harbour/harbour-win-spec
  * harbour/harbour-wce-spec
  * harbour/harbour.spec
    * set svn attributes

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-win-spec

Property Changed:
----------------
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Fri Feb  6 07:55:08 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb  6 07:55:07 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <4F4B1AA7C14041F281DCF74960BA9EE1@emag>
References: <20090206095837.GA8158@uran.home.aster.pl><52A21AB46CB640DD9C3DAA44B5F757F3@emag>	<20090206104604.GB16397@uran.home.aster.pl>
	<4F4B1AA7C14041F281DCF74960BA9EE1@emag>
Message-ID: <498C332C.1020205@dbtopas.lt>

Hi,


> FUNCTION MAIN()
>    LOCAL cCurDir := GETCURRENTDIRECTORY()
>    ? cCurDir
>    ? SETCURRENTDIRECTORY( "C:\WINDOWS" )
>    ? SETCURRENTDIRECTORY( cCurDir )
>    ? SETCURRENTDIRECTORY( "C:" )
>    ? GETCURRENTDIRECTORY()
>    INKEY( 0 )
>    RETURN NIL
> 
> #pragma BEGINDUMP
> #include "windows.h"
> #include "hbapi.h"
> HB_FUNC( SETCURRENTDIRECTORY )
> {
>    hb_retl( SetCurrentDirectory( hb_parc( 1 ) ) );
> }
> HB_FUNC( GETCURRENTDIRECTORY )
> {
>   char szPath[ MAX_PATH ];
>   if( GetCurrentDirectory( MAX_PATH, szPath ) )
>      hb_retc( szPath );
> }
> #pragma ENDDUMP
> 
> Same result:
> 
> E:\HARBOUR
> T.
> T.
> T.
> C:\
> 
> EMG


I have different results (WinXP SP2)! SetCurrentDirectory("C:") 
correctly sets C drive and its current directory.

======================================================
PROC main()
   TEST()
RETURN

#pragma BEGINDUMP
#include "windows.h"
HB_FUNC( TEST )
{
    char szPath[ MAX_PATH ];
    printf( "%d\n", GetCurrentDirectory( MAX_PATH, szPath ) );
    printf( "%s\n", szPath );
    printf( "%d\n", SetCurrentDirectory( "D:\PRG" ) );
    printf( "%d\n", GetCurrentDirectory( MAX_PATH, szPath ) );
    printf( "%s\n", szPath );
    printf( "%d\n", SetCurrentDirectory( "C:" ) );
    printf( "%d\n", GetCurrentDirectory( MAX_PATH, szPath ) );
    printf( "%s\n", szPath );
}
#pragma enddump
======================================================
C:\cawi32\sample\test>test147
21
C:\cawi32\sample\test
1
6
D:\PRG
1
21
C:\cawi32\sample\test
======================================================


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Fri Feb  6 07:57:58 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb  6 07:57:56 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <C0C20B3B02EB45D3B171C3517D41D62A@emag>
References: <20090206104604.GB16397@uran.home.aster.pl><4F4B1AA7C14041F281DCF74960BA9EE1@emag>	<20090206110917.GA14423@uran.home.aster.pl>
	<C0C20B3B02EB45D3B171C3517D41D62A@emag>
Message-ID: <498C33D6.7050209@dbtopas.lt>

>> > Same result:
>> > E:\HARBOUR
>> > T.
>> > T.
>> > T.
>> > C:\
> 
> The dot is missing again. But it was there when I pasted it. Perhaps a 
> problem with Outlook Express and Unicode chars.

Does Outlook "eats" also "WINDOWS" from "C:\WINDOWS" in last line?

Regards,
Mindaugas
From dbtopas at dbtopas.lt  Fri Feb  6 08:11:08 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb  6 08:11:07 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <20090206110917.GA14423@uran.home.aster.pl>
References: <20090206104604.GB16397@uran.home.aster.pl>	<4F4B1AA7C14041F281DCF74960BA9EE1@emag>
	<20090206110917.GA14423@uran.home.aster.pl>
Message-ID: <498C36EC.9080206@dbtopas.lt>

> 1. What windows version do you use.

WinXP SP2

> 2. What will happen if you use SETCURRENTDIRECTORY( "C:.\" )
>    instead of SETCURRENTDIRECTORY( "C:" )

============================================
PROC main()
   TEST()
RETURN

#pragma BEGINDUMP
#include "windows.h"
HB_FUNC( TEST )
{
    char szPath[ MAX_PATH ];
    printf( "%d\n", GetCurrentDirectory( MAX_PATH, szPath ) );
    printf( "%s\n", szPath );
    printf( "%d\n", SetCurrentDirectory( "D:\\PRG\\POSAS" ) );
    printf( "%d\n", GetCurrentDirectory( MAX_PATH, szPath ) );
    printf( "%s\n", szPath );
    printf( "%d\n", SetCurrentDirectory( "C:.\\" ) );
    printf( "%d\n", GetCurrentDirectory( MAX_PATH, szPath ) );
    printf( "%s\n", szPath );
}
#pragma enddump
============================================
C:\cawi32\sample\test>test148
21
C:\cawi32\sample\test
1
12
D:\PRG\POSAS
1
21
C:\cawi32\sample\test
============================================

So, "C:.\" result is the same as "C:\".

(!) I've noticed an error in my previous test147 sample. It should be: 
"D:\\PRG" in C code, but not "D:\PRG".
Results for both C strings "D:\PRG" and "D:\\PRG" (actually memory 
strings are "D:PRG" and "D:\PRG") are the same, i.e. D:\PRG directory is 
selected.



Regards,
Mindaugas
From e.m.giordano at emagsoftware.it  Fri Feb  6 09:40:32 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb  6 09:40:36 2009
Subject: [Harbour] curdir() and cross platform compatibility
References: <20090206095837.GA8158@uran.home.aster.pl><52A21AB46CB640DD9C3DAA44B5F757F3@emag>	<20090206104604.GB16397@uran.home.aster.pl><4F4B1AA7C14041F281DCF74960BA9EE1@emag>
	<498C332C.1020205@dbtopas.lt>
Message-ID: <3ECB849E049B41AB9E89FA84A2A0B8D2@emag>


-----Messaggio Originale----- 
Da: "Mindaugas Kavaliauskas" <dbtopas@dbtopas.lt>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 6 febbraio 2009 13.55
Oggetto: Re: [Harbour] curdir() and cross platform compatibility


> I have different results (WinXP SP2)! SetCurrentDirectory("C:") correctly 
> sets C drive and its current directory.

I confirm your result with *your* sample.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Fri Feb  6 09:40:58 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb  6 09:41:03 2009
Subject: [Harbour] curdir() and cross platform compatibility
References: <20090206104604.GB16397@uran.home.aster.pl><4F4B1AA7C14041F281DCF74960BA9EE1@emag>	<20090206110917.GA14423@uran.home.aster.pl><C0C20B3B02EB45D3B171C3517D41D62A@emag>
	<498C33D6.7050209@dbtopas.lt>
Message-ID: <00D82C6E6EB74E2A80CA08BA9B00F21A@emag>


-----Messaggio Originale----- 
Da: "Mindaugas Kavaliauskas" <dbtopas@dbtopas.lt>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 6 febbraio 2009 13.57
Oggetto: Re: [Harbour] curdir() and cross platform compatibility


>>> > Same result:
>>> > E:\HARBOUR
>>> > T.
>>> > T.
>>> > T.
>>> > C:\
>>
>> The dot is missing again. But it was there when I pasted it. Perhaps a 
>> problem with Outlook Express and Unicode chars.
>
> Does Outlook "eats" also "WINDOWS" from "C:\WINDOWS" in last line?

:-)))

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Fri Feb  6 10:59:32 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 10:54:58 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <3ECB849E049B41AB9E89FA84A2A0B8D2@emag>
References: <498C332C.1020205@dbtopas.lt>
	<3ECB849E049B41AB9E89FA84A2A0B8D2@emag>
Message-ID: <20090206155932.GA21867@uran.home.aster.pl>

On Fri, 06 Feb 2009, Enrico Maria Giordano wrote:

Hi,

>> I have different results (WinXP SP2)! SetCurrentDirectory("C:") correctly 
>> sets C drive and its current directory.
> I confirm your result with *your* sample.

Sorry but I have to miss sth.
Do you want to say that in this code:

FUNCTION MAIN()
    LOCAL cCurDir := GETCURRENTDIRECTORY()
    ? cCurDir
    ? SETCURRENTDIRECTORY( "C:\WINDOWS" )
    ? SETCURRENTDIRECTORY( cCurDir )
    ? SETCURRENTDIRECTORY( "C:" )
    ? GETCURRENTDIRECTORY()
    INKEY( 0 )
    RETURN NIL
#pragma BEGINDUMP
#include "windows.h"
#include "hbapi.h"
HB_FUNC( SETCURRENTDIRECTORY )
{
    hb_retl( SetCurrentDirectory( hb_parc( 1 ) ) );
}
HB_FUNC( GETCURRENTDIRECTORY )
{
   char szPath[ MAX_PATH ];
   if( GetCurrentDirectory( MAX_PATH, szPath ) )
      hb_retc( szPath );
}
#pragma ENDDUMP

it does not work for you but works in the Mindaugas code?
Mindaugas can you confirm it?

best regards,
Przemek
From toninhofwi at yahoo.com.br  Fri Feb  6 11:56:36 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Feb  6 11:02:12 2009
Subject: [Harbour] Windows unfreed resources
Message-ID: <urqoo495a5ifldmetq5qnlq0nl4nal3f03@4ax.com>

Hi ppl.

I?m testing my application with MemProof and I have a lot of unfreed
resources like VirtualAlloc, that need be freed with VirtualFree and
GetStdHandle that is freed with CloseHandle.

I?m looking at harbour sources and I see that VirtualAlloc is *only*
used by dlmalloc.c and GetStdHandle is used in some files but I think
that the problem is related to filesys.c.

for test, a simple:

function Main()
   ? "Hello world!"
return nil

report the problem.

Memproof is free and can be found here:

http://www.onlythebestfreeware.com/out.asp?url=http://www.automatedqa.com/downloads/memp0950.zip


Thanks in advance,

Best regards,

Toninho.

__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From e.m.giordano at emagsoftware.it  Fri Feb  6 11:40:10 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb  6 11:40:18 2009
Subject: [Harbour] curdir() and cross platform compatibility
References: <498C332C.1020205@dbtopas.lt><3ECB849E049B41AB9E89FA84A2A0B8D2@emag>
	<20090206155932.GA21867@uran.home.aster.pl>
Message-ID: <FA56567808754F139AED57432503700A@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 6 febbraio 2009 16.59
Oggetto: Re: [Harbour] curdir() and cross platform compatibility


> Sorry but I have to miss sth.
> Do you want to say that in this code:
>
> FUNCTION MAIN()
>    LOCAL cCurDir := GETCURRENTDIRECTORY()
>    ? cCurDir
>    ? SETCURRENTDIRECTORY( "C:\WINDOWS" )
>    ? SETCURRENTDIRECTORY( cCurDir )
>    ? SETCURRENTDIRECTORY( "C:" )
>    ? GETCURRENTDIRECTORY()
>    INKEY( 0 )
>    RETURN NIL
> #pragma BEGINDUMP
> #include "windows.h"
> #include "hbapi.h"
> HB_FUNC( SETCURRENTDIRECTORY )
> {
>    hb_retl( SetCurrentDirectory( hb_parc( 1 ) ) );
> }
> HB_FUNC( GETCURRENTDIRECTORY )
> {
>   char szPath[ MAX_PATH ];
>   if( GetCurrentDirectory( MAX_PATH, szPath ) )
>      hb_retc( szPath );
> }
> #pragma ENDDUMP
>
> it does not work for you but works in the Mindaugas code?

Yes, exactly.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Fri Feb  6 11:50:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 11:50:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10191] trunk/harbour
Message-ID: <E1LVTuF-00089H-1P@c3vjzd1.ch3.sourceforge.com>

Revision: 10191
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10191&view=rev
Author:   vszakats
Date:     2009-02-06 16:50:18 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 17:46 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbdefs.h
    + Added macros:
      HB_TOUPPER(), HB_TOLOWER(), HB_ISUPPER(), HB_ISLOWER(),
      HB_ISALPHA(), HB_ISDIGIT().

  * source/rtl/strcase.c
  * source/compiler/cmdcheck.c
    * Replaced tolower()/toupper()/isdigit() with macros or other
      constructs.

  * source/rtl/tmenusys.prg
    % Changed to use Inkey() second parameter instead of
      tweaking Set( _SET_EVENTMASK ).

  * contrib/rddads/ads1.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/include/hbdefs.h
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/rtl/strcase.c
    trunk/harbour/source/rtl/tmenusys.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb  6 11:57:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  6 12:02:44 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <FA56567808754F139AED57432503700A@emag>
References: <498C332C.1020205@dbtopas.lt>
	<3ECB849E049B41AB9E89FA84A2A0B8D2@emag>
	<20090206155932.GA21867@uran.home.aster.pl>
	<FA56567808754F139AED57432503700A@emag>
Message-ID: <18d502870902060857p26f72a42pbaa601ccb36c1d53@mail.gmail.com>

Here are some more results when run in M:\tests_m, while the default dir on
C: was \tests_c:--
M:\tests_m
.T.
.T.
.T.
C:\tests_c
--

C code slightly changed for MSVC:
--
FUNCTION MAIN()
  LOCAL cCurDir := GETCURRENTDIRECTORY()
  ? cCurDir
  ? SETCURRENTDIRECTORY( "C:\WINDOWS" )
  ? SETCURRENTDIRECTORY( cCurDir )
  ? SETCURRENTDIRECTORY( "C:" )
  ? GETCURRENTDIRECTORY()
  INKEY( 0 )
  RETURN NIL
#pragma BEGINDUMP
#include "windows.h"
#include "hbapi.h"
HB_FUNC( SETCURRENTDIRECTORY )
{
  hb_retl( SetCurrentDirectoryA( ( LPCSTR ) hb_parc( 1 ) ) );
}
HB_FUNC( GETCURRENTDIRECTORY )
{
 char szPath[ MAX_PATH ];
 if( GetCurrentDirectoryA( MAX_PATH, ( LPSTR ) szPath ) )
    hb_retc( szPath );
}
#pragma ENDDUMP
--

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090206/7476d62a/attachment.html
From dbtopas at dbtopas.lt  Fri Feb  6 12:23:15 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb  6 12:23:13 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <20090206155932.GA21867@uran.home.aster.pl>
References: <498C332C.1020205@dbtopas.lt>	<3ECB849E049B41AB9E89FA84A2A0B8D2@emag>
	<20090206155932.GA21867@uran.home.aster.pl>
Message-ID: <498C7203.5050809@dbtopas.lt>

Hi,

> Sorry but I have to miss sth.
> Do you want to say that in this code:
> ...
> it does not work for you but works in the Mindaugas code?
> Mindaugas can you confirm it?

The results is very strange for me also. I've changed a code a little,
to indicate an errors and did much more tests. Also tried to avoid any
far manager enviroment, so started from Start->Run->cmd . But results
still surprises me.

==============================================================
FUNCTION MAIN()
     LOCAL cCurDir := GETCURRENTDIRECTORY()
     ? cCurDir
     ? SETCURRENTDIRECTORY( "C:\WINDOWS" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? "Try again"
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? "Try set directory and select drive"
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:\WINDOWS" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? "Try select drive and set directory"
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:\WINDOWS" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? "Try select drive, set directory, select drive"
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:\WINDOWS" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? "Try select drive, set directory WITHOUT disk"
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "\WINDOWS" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( cCurDir )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? "Sorry, I'm unable to change default directory of C:"
     ? "Let's try on startup current drive D:"
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "D:\JAVA" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "D:" )
     ? GETCURRENTDIRECTORY()
     ? "Try2"
     ? SETCURRENTDIRECTORY( "D:\" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "D:\JAVA" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "D:" )
     ? GETCURRENTDIRECTORY()
     ? "Try3"
     ? SETCURRENTDIRECTORY( "D:\" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "JAVA" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "C:" )
     ? GETCURRENTDIRECTORY()
     ? SETCURRENTDIRECTORY( "D:" )
     ? GETCURRENTDIRECTORY()
     ? "D default is still D:\PRG, I've failed"
     RETURN NIL
#pragma BEGINDUMP
#include "windows.h"
#include "hbapi.h"
HB_FUNC( SETCURRENTDIRECTORY )
{
     hb_retl( SetCurrentDirectory( hb_parc( 1 ) ) );
}
HB_FUNC( GETCURRENTDIRECTORY )
{
    char szPath[ MAX_PATH ];
    if( GetCurrentDirectory( MAX_PATH, szPath ) )
       hb_retc( szPath );
    else
       hb_retc("!!!error");
}
#pragma ENDDUMP
==============================================================
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

C:\Documents and Settings\Administrator>d:

D:\>cd prg

D:\PRG>test149

D:\PRG
.T.
C:\WINDOWS
.T.
D:\PRG
.T.
C:\Documents and Settings\Administrator
Try again
.T.
D:\PRG
.T.
C:\Documents and Settings\Administrator
Try set directory and select drive
.T.
D:\PRG
.T.
C:\WINDOWS
.T.
C:\WINDOWS
.T.
D:\PRG
.T.
C:\Documents and Settings\Administrator
Try select drive and set directory
.T.
D:\PRG
.T.
C:\Documents and Settings\Administrator
.T.
C:\WINDOWS
.T.
D:\PRG
.T.
C:\Documents and Settings\Administrator
Try select drive, set directory, select drive
.T.
D:\PRG
.T.
C:\Documents and Settings\Administrator
.T.
C:\WINDOWS
.T.
C:\WINDOWS
.T.
D:\PRG
.T.
C:\Documents and Settings\Administrator
Try select drive, set directory WITHOUT disk
.T.
D:\PRG
.T.
C:\Documents and Settings\Administrator
.T.
C:\WINDOWS
.T.
D:\PRG
.T.
C:\Documents and Settings\Administrator
Sorry, I'm unable to change default directory of C:
Let's try on startup current drive D:
.T.
C:\Documents and Settings\Administrator
.T.
D:\JAVA
.T.
C:\Documents and Settings\Administrator
.T.
D:\PRG
Try2
.T.
D:\
.T.
D:\JAVA
.T.
C:\Documents and Settings\Administrator
.T.
D:\PRG
Try3
.T.
D:\
.T.
D:\JAVA
.T.
C:\Documents and Settings\Administrator
.T.
D:\PRG
D default is still D:\PRG, I've failed
==============================================================

Conclusion: drives default directory could not be changed using
SetCurrentDirectory()

So, I've tried command line commands. It changes current drive, but it
has another logic: if cd is made for not current drive, current
directory is not changed, but the directory of specified drive is changed:
==============================================================
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

C:\Documents and Settings\Administrator>cd d:\prg

C:\Documents and Settings\Administrator>d:

D:\PRG>c:

C:\Documents and Settings\Administrator>d:

D:\PRG>cd c:
C:\Documents and Settings\Administrator

D:\PRG>cd c:\windows

D:\PRG>cd c:
C:\WINDOWS

D:\PRG>c:

C:\WINDOWS>
==============================================================
Perhaps we need to reverse engineer to understand how cd command
works... :) It seems it is not based on SetCurrentDirectory() function.



Regards,
Mindaugas




From dbtopas at dbtopas.lt  Fri Feb  6 12:37:08 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb  6 12:37:06 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <498C7203.5050809@dbtopas.lt>
References: <498C332C.1020205@dbtopas.lt>	<3ECB849E049B41AB9E89FA84A2A0B8D2@emag>	<20090206155932.GA21867@uran.home.aster.pl>
	<498C7203.5050809@dbtopas.lt>
Message-ID: <498C7544.6070509@dbtopas.lt>

Hi,


> Perhaps we need to reverse engineer to understand how cd command
> works... :) It seems it is not based on SetCurrentDirectory() function.

cmd.exe:

Command:
C:\Documents and Settings\Administrator>cd d:\prg

API call:
GetCurrentDirectoryW(DWORD:260, PWSTR:0x13f80c:"??") 	0x4ad041f0	
GetCurrentDirectoryW returned 0x27
GetCurrentDirectoryW(DWORD:260, PWSTR:0x4ad34400:"C:\Documents and 
Settings\Administrator")
GetCurrentDirectoryW returned 0x27
GetCurrentDirectoryW(DWORD:260, PWSTR:0x4ad34400:"C:\Documents and 
Settings\Administrator")
GetCurrentDirectoryW returned 0x27

Conclusion: no SetCurrentDirectory() called!

--------------------------------------------------
Command:
C:\Documents and Settings\Administrator>d:

API call:
SetCurrentDirectoryW(PWSTR:0x4ad2ba20:"D:\PRG")
SetCurrentDirectoryW returned 0x1
GetCurrentDirectoryW(DWORD:260, PWSTR:0x4ad34400:"C:\Documents and 
Settings\Administrator")
GetCurrentDirectoryW returned 0x6
GetCurrentDirectoryW(DWORD:260, PWSTR:0x4ad34400:"D:\PRG")
GetCurrentDirectoryW returned 0x6

Conclusion: here SetCurrentDirectory() is called! So, cmd.exe caches cd 
instructions for all drives and calls real SetCurrentDirectory() on disk 
change.

--------------------------------------------------
Command:
D:\PRG>cd c:
C:\Documents and Settings\Administrator

API call:
GetCurrentDirectoryW(DWORD:260, PWSTR:0x4ad34400:"D:\PRG")
GetCurrentDirectoryW returned 0x6

Conclusion: no SetCurrentDirectoryW() is called at all. 
GetCurrentDirectoryW() returned 6 bytes sting (i.e., "D:\PRG"). So 
command result (C:\Documents and Settings\Administrator) is printed from 
cmd.exe "cache".


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Fri Feb  6 12:47:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 12:47:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10192] trunk/harbour
Message-ID: <E1LVUns-0000Lj-9c@c3vjzd1.ch3.sourceforge.com>

Revision: 10192
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10192&view=rev
Author:   vszakats
Date:     2009-02-06 17:47:46 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 18:46 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbdefs.h
    + Added HB_ISALNUM() macro.

  * include/hbpp.h
  * include/hbapicdp.h
  * contrib/hbct/pos1.c
  * contrib/hbct/ascpos.c
  * contrib/xhb/hbxml.c
  * contrib/hbtip/utils.c
  * contrib/examples/pp/hbppcore.c
  * source/vm/itemapi.c
  * source/vm/memvars.c
  * source/vm/set.c
  * source/vm/classes.c
  * source/debug/dbgentry.c
  * source/common/hbstr.c
  * source/common/expropt2.c
  * source/rtl/strcase.c
  * source/rtl/cdpapi.c
  * source/rtl/is.c
  * source/rtl/transfrm.c
  * source/rtl/dates.c
  * source/rtl/natmsg.c
  * source/rtl/soundex.c
  * source/rtl/hbffind.c
  * source/rdd/workarea.c
  * source/compiler/hbmain.c
  * source/compiler/harbour.yyc
  * source/compiler/harbour.y
    * Replaced:
      isdigit() -> HB_ISDIGIT()
      isalpha() -> HB_ISALPHA()
      isalnum() -> HB_ISALNUM()
      isupper() -> HB_ISUPPER()
      islower() -> HB_ISLOWER()
      tolower() -> HB_TOLOWER()
      toupper() -> HB_TOUPPER()

  * source/rtl/natmsg.c
    ! Fixed to use CP sensitive case conversion in
      __NATISNEGATIVE() and __NATISAFFIRM().

  * source/rtl/is.c
    ! Fixed typo in recently added hb_charIsUpper()/hb_charIsLower()
      functions.

  ; TODO: Remove DJGPP to*() hack.
  ; TODO: Replace HB_PP_UPPER(), HB_PP_ISDIGIT() with equivalent
          new macros.
  ; TOFIX: Some of the above macros should better be replaced
           by CP sensitive versions. F.e. the one in hbtip.
  ; TOFIX: Remove remaining #include <ctype.h> lines.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/pp/hbppcore.c
    trunk/harbour/contrib/hbct/ascpos.c
    trunk/harbour/contrib/hbct/pos1.c
    trunk/harbour/contrib/hbtip/utils.c
    trunk/harbour/contrib/xhb/hbxml.c
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbpp.h
    trunk/harbour/source/common/expropt2.c
    trunk/harbour/source/common/hbstr.c
    trunk/harbour/source/compiler/harbour.y
    trunk/harbour/source/compiler/harbour.yyc
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/debug/dbgentry.c
    trunk/harbour/source/rdd/workarea.c
    trunk/harbour/source/rtl/cdpapi.c
    trunk/harbour/source/rtl/dates.c
    trunk/harbour/source/rtl/hbffind.c
    trunk/harbour/source/rtl/is.c
    trunk/harbour/source/rtl/natmsg.c
    trunk/harbour/source/rtl/soundex.c
    trunk/harbour/source/rtl/strcase.c
    trunk/harbour/source/rtl/transfrm.c
    trunk/harbour/source/vm/classes.c
    trunk/harbour/source/vm/itemapi.c
    trunk/harbour/source/vm/memvars.c
    trunk/harbour/source/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb  6 13:19:50 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 13:15:14 2009
Subject: [Harbour] curdir() and cross platform compatibility
In-Reply-To: <498C7544.6070509@dbtopas.lt>
References: <498C332C.1020205@dbtopas.lt>
	<3ECB849E049B41AB9E89FA84A2A0B8D2@emag>
	<20090206155932.GA21867@uran.home.aster.pl>
	<498C7203.5050809@dbtopas.lt> <498C7544.6070509@dbtopas.lt>
Message-ID: <20090206181950.GA24791@uran.home.aster.pl>

On Fri, 06 Feb 2009, Mindaugas Kavaliauskas wrote:

Hi,

[...]
> Conclusion: no SetCurrentDirectoryW() is called at all. 
> GetCurrentDirectoryW() returned 6 bytes sting (i.e., "D:\PRG"). So command 
> result (C:\Documents and Settings\Administrator) is printed from cmd.exe 
> "cache".

Thank you very much for tests.
So the final conclusion is that In WinXP process has only one attribute
"current directory" which is global for process and not divided for devices
like in pure DOS though some tools (maybe also CRTLs) may try to emulate
old DOS behavior.
Probably the last question is when this modifications was introduced:
with Xin9x, NT, 2K or XP.
This is probably also an answer for some user "bug" reports about
wrongly set/restored current directory when drive is changed.
It also create additional question for us. Should we try to emulate
DOS disk drives behavior in HBRTL or not.
It may help in porting Clipper applications to different OS-es (such
emulation may work also in *nixes - we can define drives to directory
mapping, f.e. SET DRIVE A TO /media/floppy) but I do not know if it's
worth to invest time in it.
For sure we should intorduce one function which will change/restore
current drive and directory in one call.
Current Harbour code which operates on drive letters in windows builds
seems to be buggy. We are using CRTL functions to change current drive
and API calls to change current directory so we have desynchronization
between CRTL current directory buffers and real process current path.
If we want to keep DOS like emulation of current directory in Windows
builds then we have to create our own current drive emulation. Otherwise
we should remove all existing directory hacks and mixing CRTL with WINAPI
calls because it may be source of unpredictable results and document it
as native OS behavior.

best regards,
Przemek
From vszakats at users.sourceforge.net  Fri Feb  6 13:23:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 13:23:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10193] trunk/harbour
Message-ID: <E1LVVM6-0004hG-B3@dn4whf1.ch3.sourceforge.com>

Revision: 10193
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10193&view=rev
Author:   vszakats
Date:     2009-02-06 18:23:08 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 19:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbdefs.h
    + Added HB_ISALNUM() macro.
    + Added HB_ISSPACE() macro. Please review.

  * source/contrib/hbver.c
    * isspace() -> HB_ISSPACE().

  * contrib/rddads/ads1.c
    ! toupper() -> HB_TOUPPER()

  * contrib/xhb/hbxml.c
    + Readded #include <ctype.h> because this one still uses isspace().

  * include/hbcomp.h
  * include/hbmacro.h
  * contrib/hbct/token1.c
  * contrib/hbodbc/odbc.c
  * contrib/xhb/freadlin.c
  * contrib/rddsql/sqlmix.c
  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.h
  * contrib/rddads/adsx.c
  * contrib/rddads/ads1.c
  * contrib/hbclipsm/time.c
  * contrib/hbclipsm/status.c
  * contrib/hbmisc/dates2.c
  * contrib/hbwin/win_ole.c
  * contrib/examples/pp/pp.c
  * source/debug/dbgentry.c
  * source/common/hbver.c
  * source/rtl/chrasc.c
  * source/rtl/philes.c
  * source/rtl/dirdrive.c
  * source/rtl/dateshb.c
  * source/rtl/philesx.c
  * source/rtl/disksphb.c
  * source/rtl/soundex.c
  * source/rtl/gtapi.c
  * source/rtl/filesys.c
  * source/codepage/cppt850.c
  * source/codepage/cpuawin.c
  * source/codepage/cpde850.c
  * source/codepage/cpsv850.c
  * source/codepage/cpeswinc.c
  * source/codepage/cptr857.c
  * source/codepage/cpru866.c
  * source/codepage/cproiso.c
  * source/codepage/cprowin.c
  * source/codepage/cpeswinm.c
  * source/codepage/cpes850.c
  * source/codepage/cpcs852.c
  * source/codepage/cpitisb.c
  * source/codepage/cphu852.c
  * source/codepage/cpsk852.c
  * source/codepage/cpplmaz.c
  * source/codepage/cpesisoc.c
  * source/codepage/cppliso.c
  * source/codepage/cpbgmik.c
  * source/codepage/cpplwin.c
  * source/codepage/cpbg866.c
  * source/codepage/cpltwin.c
  * source/codepage/cphu852s.c
  * source/codepage/cpptiso.c
  * source/codepage/cpel737.c
  * source/codepage/cpsrwin.c
  * source/codepage/cpsviso.c
  * source/codepage/cpdeiso.c
  * source/codepage/cpfr850.c
  * source/codepage/cpsvwin.c
  * source/codepage/cpdewin.c
  * source/codepage/cphr437.c
  * source/codepage/cpes850c.c
  * source/codepage/cphr852.c
  * source/codepage/cpua866.c
  * source/codepage/cpit850.c
  * source/codepage/cpit437.c
  * source/codepage/cpsl437.c
  * source/codepage/cpsl852.c
  * source/codepage/cphuwins.c
  * source/codepage/cpcsiso.c
  * source/codepage/cpesiso.c
  * source/codepage/cpcswin.c
  * source/codepage/cpeswin.c
  * source/codepage/cphuiso.c
  * source/codepage/cpskiso.c
  * source/codepage/cprukoi.c
  * source/codepage/cphuwin.c
  * source/codepage/cpskwin.c
  * source/codepage/cp_tpl.c
  * source/codepage/cpruiso.c
  * source/codepage/cpruwin.c
  * source/codepage/cphuisos.c
  * source/codepage/cpelwin.c
  * source/codepage/cpro852.c
  * source/codepage/cpfriso.c
  * source/codepage/cpfrwin.c
  * source/codepage/cpitiso.c
  * source/codepage/cphrwin.c
  * source/codepage/cpsliso.c
  * source/codepage/cpitwin.c
  * source/codepage/cpslwin.c
  * source/codepage/cpcskam.c
  * source/codepage/cpsvclip.c
  * source/codepage/cpbgiso.c
  * source/codepage/cptrwin.c
  * source/codepage/cpskkam.c
  * source/codepage/cpbgwin.c
  * source/codepage/cpuakoi.c
  * source/codepage/cppl852.c
  * utils/hbdoc/hbdfrdln.c
  * utils/hbmake/hbmfrdln.c
    % Removed #include <ctype.h>. Most of these didn't need it anyway.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/pp/pp.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/hbclipsm/status.c
    trunk/harbour/contrib/hbclipsm/time.c
    trunk/harbour/contrib/hbct/token1.c
    trunk/harbour/contrib/hbmisc/dates2.c
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbwin/win_ole.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/contrib/xhb/freadlin.c
    trunk/harbour/contrib/xhb/hbxml.c
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbmacro.h
    trunk/harbour/source/codepage/cp_tpl.c
    trunk/harbour/source/codepage/cpbg866.c
    trunk/harbour/source/codepage/cpbgiso.c
    trunk/harbour/source/codepage/cpbgmik.c
    trunk/harbour/source/codepage/cpbgwin.c
    trunk/harbour/source/codepage/cpcs852.c
    trunk/harbour/source/codepage/cpcsiso.c
    trunk/harbour/source/codepage/cpcskam.c
    trunk/harbour/source/codepage/cpcswin.c
    trunk/harbour/source/codepage/cpde850.c
    trunk/harbour/source/codepage/cpdeiso.c
    trunk/harbour/source/codepage/cpdewin.c
    trunk/harbour/source/codepage/cpel737.c
    trunk/harbour/source/codepage/cpelwin.c
    trunk/harbour/source/codepage/cpes850.c
    trunk/harbour/source/codepage/cpes850c.c
    trunk/harbour/source/codepage/cpesiso.c
    trunk/harbour/source/codepage/cpesisoc.c
    trunk/harbour/source/codepage/cpeswin.c
    trunk/harbour/source/codepage/cpeswinc.c
    trunk/harbour/source/codepage/cpeswinm.c
    trunk/harbour/source/codepage/cpfr850.c
    trunk/harbour/source/codepage/cpfriso.c
    trunk/harbour/source/codepage/cpfrwin.c
    trunk/harbour/source/codepage/cphr437.c
    trunk/harbour/source/codepage/cphr852.c
    trunk/harbour/source/codepage/cphrwin.c
    trunk/harbour/source/codepage/cphu852.c
    trunk/harbour/source/codepage/cphu852s.c
    trunk/harbour/source/codepage/cphuiso.c
    trunk/harbour/source/codepage/cphuisos.c
    trunk/harbour/source/codepage/cphuwin.c
    trunk/harbour/source/codepage/cphuwins.c
    trunk/harbour/source/codepage/cpit437.c
    trunk/harbour/source/codepage/cpit850.c
    trunk/harbour/source/codepage/cpitisb.c
    trunk/harbour/source/codepage/cpitiso.c
    trunk/harbour/source/codepage/cpitwin.c
    trunk/harbour/source/codepage/cpltwin.c
    trunk/harbour/source/codepage/cppl852.c
    trunk/harbour/source/codepage/cppliso.c
    trunk/harbour/source/codepage/cpplmaz.c
    trunk/harbour/source/codepage/cpplwin.c
    trunk/harbour/source/codepage/cppt850.c
    trunk/harbour/source/codepage/cpptiso.c
    trunk/harbour/source/codepage/cpro852.c
    trunk/harbour/source/codepage/cproiso.c
    trunk/harbour/source/codepage/cprowin.c
    trunk/harbour/source/codepage/cpru866.c
    trunk/harbour/source/codepage/cpruiso.c
    trunk/harbour/source/codepage/cprukoi.c
    trunk/harbour/source/codepage/cpruwin.c
    trunk/harbour/source/codepage/cpsk852.c
    trunk/harbour/source/codepage/cpskiso.c
    trunk/harbour/source/codepage/cpskkam.c
    trunk/harbour/source/codepage/cpskwin.c
    trunk/harbour/source/codepage/cpsl437.c
    trunk/harbour/source/codepage/cpsl852.c
    trunk/harbour/source/codepage/cpsliso.c
    trunk/harbour/source/codepage/cpslwin.c
    trunk/harbour/source/codepage/cpsrwin.c
    trunk/harbour/source/codepage/cpsv850.c
    trunk/harbour/source/codepage/cpsvclip.c
    trunk/harbour/source/codepage/cpsviso.c
    trunk/harbour/source/codepage/cpsvwin.c
    trunk/harbour/source/codepage/cptr857.c
    trunk/harbour/source/codepage/cptrwin.c
    trunk/harbour/source/codepage/cpua866.c
    trunk/harbour/source/codepage/cpuakoi.c
    trunk/harbour/source/codepage/cpuawin.c
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/debug/dbgentry.c
    trunk/harbour/source/rtl/chrasc.c
    trunk/harbour/source/rtl/dateshb.c
    trunk/harbour/source/rtl/dirdrive.c
    trunk/harbour/source/rtl/disksphb.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/gtapi.c
    trunk/harbour/source/rtl/philes.c
    trunk/harbour/source/rtl/philesx.c
    trunk/harbour/source/rtl/soundex.c
    trunk/harbour/utils/hbdoc/hbdfrdln.c
    trunk/harbour/utils/hbmake/hbmfrdln.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb  6 14:03:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 14:03:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10194] trunk/harbour
Message-ID: <E1LVVz6-00015I-OR@c3vjzd1.ch3.sourceforge.com>

Revision: 10194
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10194&view=rev
Author:   vszakats
Date:     2009-02-06 19:03:27 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 20:02 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/codepage/cptr857.c
  * source/codepage/cphu852s.c
  * source/codepage/cphuwins.c
  * source/codepage/cphuisos.c
  * source/codepage/cpes850c.c
    ! Fixed accents Far Manager (one of its new plugins probably)
      messed up.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/codepage/cpes850c.c
    trunk/harbour/source/codepage/cphu852s.c
    trunk/harbour/source/codepage/cphuisos.c
    trunk/harbour/source/codepage/cphuwins.c
    trunk/harbour/source/codepage/cptr857.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb  6 13:59:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 14:06:59 2009
Subject: [Harbour] Cleaning Harbour C types
In-Reply-To: <18d502870902050815t3bc7c256o3a05fc942177f2c1@mail.gmail.com>
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
	<20090205154055.GA19749@uran.home.aster.pl>
	<18d502870902050815t3bc7c256o3a05fc942177f2c1@mail.gmail.com>
Message-ID: <20090206185930.GA24213@uran.home.aster.pl>

On Thu, 05 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> We should IMO never include windows.h from hbdefs.h. Besides
> slowing down build time to a great deal, we don't do this for other
> OS APIs either. This would also suggest that Windows API usage
> is freely allowed in any files, which counteracts with our effort to
> create portable code in the first place. Most of our core files don't
> need windows.h.

I do not agree.
And now I have very good example.
In xHarbour there is serious bug related to this subject.
Today I lost few hours to locate it. The problem can be observed
in SORT ON ... command but not only. Now I think that I know the
answer for some other bug reports though without any code watching
for them.
Let's give some days to xharbour team to check how much time is
necessary to locate the source of such problem and fixing it. It's
possible to fix the problem even without knowing the reason and it
will be also interesting to see how it will be resolved.
It should give the real life answer if you are right or not and how
much developers time can it cost.
You can also try to locate it. Below is self contain example Enrico
sent to me.

best regards,
Przemek



FUNCTION MAIN()

    Local aStru:={{'aa','C',3,0},;
                  {'bb','C',3,0}}
    ? version()
    DbCreate('testxxx',aStru)
    Use testxxx Exclusive New

    Append Blank
    Replace aa With 'xxx'
    Replace bb With 'xxx'

    Append Blank
    Replace aa With 'ggg'
    Replace bb With 'ggg'

    Append Blank
    Replace aa With 'kkk'
    Replace bb With 'kkk'

    ? "Sorting..."
    Sort On aa To testxxx1
    ? "Done"

    RETURN NIL
From harbour.01 at syenar.hu  Fri Feb  6 14:54:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  6 14:54:14 2009
Subject: [Harbour] Cleaning Harbour C types
In-Reply-To: <20090206185930.GA24213@uran.home.aster.pl>
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
	<20090205154055.GA19749@uran.home.aster.pl>
	<18d502870902050815t3bc7c256o3a05fc942177f2c1@mail.gmail.com>
	<20090206185930.GA24213@uran.home.aster.pl>
Message-ID: <18d502870902061154n25cddb6ci708fdd9ab11ff0e6@mail.gmail.com>

Hi Przemek,
Generically speaking IMO it's the wrong solution for avoiding
bugs to uniformly require the addition of all full OS headers
to each source files, if that's what you say. Be those OS
headers windows.h files or any other OS files.

[ If that's what you're suggesting that is, your words are not
very clear to me this time to be honest, so sorry if I'm on
the wrong track here. ]

On the contrary, the leaner approach would be to isolate
windows.h dependent code as much as possible, and achieve
the same results, but without bloat and by avoiding other
problems (like unknowingly adding windows.h dependencies
to supposedly portable source code).

Since currently we're using an overlapping set of types
with windows.h, there is always the danger that code
behaviour changes, depending on whether windows.h is
included (and we're using _its_ types), or it isn't and we're
using locally defined "replicas" of those type.

I'm not sure of the xhb problem, as I'm not familiar with
its codebase, but theoretically speaking, above effect
might cause such problem.

And if we take a look on any multiplatform projects, it's
quite difficult to pick one which would do what you
suggest (= #including <windows.h> everywhere), instead,
all projects I've seen are using either standard types,
or distinctly names ones, and they not only don't
include "windows.h" in every file, but rather isolate the
Windows API dependent parts in separate directories,
or files. I'm not saying to go this far (we have HB_OS_WIN
instead), but including "windows.h" in all files, looks really
unusual, and IMO rather unnecessary and/or the wrong
(albeit easier) solution to the problem (not the xhb one,
but the one I've started the thread for).

There is yet another potential drawback of hitting the
whole project with "windows.h". "windows.h" isn't a
static entity, it has different incarnation depending on
C compiler and SDK version used, and it even changes
over time, so this wouldn't create a well defined static
environment in Harbour either.

Brgds,
Viktor

On Fri, Feb 6, 2009 at 7:59 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 05 Feb 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
> > We should IMO never include windows.h from hbdefs.h. Besides
> > slowing down build time to a great deal, we don't do this for other
> > OS APIs either. This would also suggest that Windows API usage
> > is freely allowed in any files, which counteracts with our effort to
> > create portable code in the first place. Most of our core files don't
> > need windows.h.
>
> I do not agree.
> And now I have very good example.
> In xHarbour there is serious bug related to this subject.
> Today I lost few hours to locate it. The problem can be observed
> in SORT ON ... command but not only. Now I think that I know the
> answer for some other bug reports though without any code watching
> for them.
> Let's give some days to xharbour team to check how much time is
> necessary to locate the source of such problem and fixing it. It's
> possible to fix the problem even without knowing the reason and it
> will be also interesting to see how it will be resolved.
> It should give the real life answer if you are right or not and how
> much developers time can it cost.
> You can also try to locate it. Below is self contain example Enrico
> sent to me.
>
> best regards,
> Przemek
>
>
>
> FUNCTION MAIN()
>
>    Local aStru:={{'aa','C',3,0},;
>                  {'bb','C',3,0}}
>    ? version()
>    DbCreate('testxxx',aStru)
>    Use testxxx Exclusive New
>
>    Append Blank
>    Replace aa With 'xxx'
>    Replace bb With 'xxx'
>
>    Append Blank
>    Replace aa With 'ggg'
>    Replace bb With 'ggg'
>
>    Append Blank
>    Replace aa With 'kkk'
>    Replace bb With 'kkk'
>
>    ? "Sorting..."
>    Sort On aa To testxxx1
>    ? "Done"
>
>    RETURN NIL
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090206/2899a139/attachment.html
From vszakats at users.sourceforge.net  Fri Feb  6 15:36:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 15:36:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10195] trunk/harbour
Message-ID: <E1LVXRG-0000Uh-Fo@d5vjzd1.ch3.sourceforge.com>

Revision: 10195
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10195&view=rev
Author:   vszakats
Date:     2009-02-06 20:36:37 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 21:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbdefs.h
    - Removed HB_ISSPACE(). It was already defined.

  * include/hbset.h
  * contrib/hbct/ctwin.c
  * contrib/hbct/ctwin.h
  * source/vm/set.c
    * BYTE -> UCHAR

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/contrib/hbct/ctwin.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbset.h
    trunk/harbour/source/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb  6 15:47:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  6 15:47:33 2009
Subject: [Harbour] Make system configuration envvar changes
In-Reply-To: <18d502870902050708y5620821bm12c75ae3328684c4@mail.gmail.com>
References: <18d502870902041719w59771fe1x934a54470c3ab7a0@mail.gmail.com>
	<20090205145433.GA13330@uran.home.aster.pl>
	<18d502870902050708y5620821bm12c75ae3328684c4@mail.gmail.com>
Message-ID: <18d502870902061247s78e1b9b7y6ac14d6e8c2c1188@mail.gmail.com>

Hi all,

I'll go this route:

HB_USR_LIBS
HB_USR_PRGFLAGS
HB_USR_CFLAGS
HB_USR_LDFLAGS
HB_USR_AFLAGS
HB_USR_MAKEFLAGS

The reason is: it's both easy to look for all user settings
(with grep), and it's also easy to catch all CFLAGS
(be it HB_USR_CFLAGS or plain CFLAGS).

Brgds,
Viktor

On Thu, Feb 5, 2009 at 4:08 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> HB_USR_LIBS
>
>
> Okay. [ changed to *LIBLIST last minute to avoid resemblance to *LIB. ]
>
>
>> > PRG_USR      -> HB_USR_PRG
>>
>> HB_PRGFLAGS
>>
>> > C_USR        -> HB_USR_C
>>
>> HB_CFLAGS
>>
>> > L_USR        -> HB_USR_L  (or HB_USR_LINK ?)
>>
>> HB_LFLAGS
>>
>> > A_USR        -> HB_USR_A  (or HB_USR_LIB ?)
>>
>> HB_AFLAGS
>
>
> I'd like to keep all user level flags in one namespace
> (HB_USR was the idea), for easy identification and
> lookup.
>
> How about:
>
> HB_USR_LIBS
> HB_USR_PRGFLAGS
> HB_USR_CFLAGS
> HB_USR_LFLAGS (shouldn't this be HB_USR_L*D*FLAGS?)
> HB_USR_AFLAGS
> HB_USR_MAKEFLAGS
>
>
>> > MK_USR       -> HB_USR_MK (or HB_USR_MAKE/MAK ?)
>>
>
> Thanks. The non-GNU make still uses that, former name
> was HB_MAKE_FLAGS. I'm not sure how important it is,
> but it has to be there for a reason.
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090206/6ca1a0c3/attachment.html
From druzus at acn.waw.pl  Fri Feb  6 16:35:26 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 16:30:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10192] trunk/harbour
In-Reply-To: <E1LVUns-0000Lj-9c@c3vjzd1.ch3.sourceforge.com>
References: <E1LVUns-0000Lj-9c@c3vjzd1.ch3.sourceforge.com>
Message-ID: <20090206213526.GA8143@uran.home.aster.pl>

On Fri, 06 Feb 2009, vszakats@users.sourceforge.net wrote:

Hi Viktor,

>   ; TODO: Replace HB_PP_UPPER(), HB_PP_ISDIGIT() with equivalent
>           new macros.

Please do not make it. I intentionally defined separated macros for PP
to fully control input character stream without any relations to other code.
If you want then you can redirect these macros to hbpp.h (as I can see you
even already made it) but do not change the ppcore.c source code because
they can be different or easy modified for some extensions without
interactions to other code which uses the same macros.

best regards,
Przemek
From vszakats at users.sourceforge.net  Fri Feb  6 16:45:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 16:45:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10196] trunk/harbour
Message-ID: <E1LVYVU-0003rR-KC@74yxhf1.ch3.sourceforge.com>

Revision: 10196
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10196&view=rev
Author:   vszakats
Date:     2009-02-06 21:45:03 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 22:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/make_b32_all.bat
  * contrib/make_gcc_all.sh
  * contrib/make_vc_all.bat
    * Corrected to always build rddsql (not just when MYSQL
      is configured).

  * contrib/rddsql/make_b32.bat
  * contrib/rddsql/make_vc.bat
  * contrib/rddsql/make_gcc.sh
    + Added logic to build sdds.
      (logic copied from contrib/make_*_all.* files)

  * contrib/rddsql/sddfb/make_b32.bat
  * contrib/rddsql/sddfb/make_vc.bat
  * contrib/rddsql/sddfb/Makefile
    * FBIRD -> FIREBIRD to be in sync with hbfbird setup.

  * contrib/rddsql/sddfb/fbirddd.c
    + Added hack (from hbfbird) to make it work with latest
      FB and BCC versions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/make_b32_all.bat
    trunk/harbour/contrib/make_gcc_all.sh
    trunk/harbour/contrib/make_vc_all.bat
    trunk/harbour/contrib/rddsql/make_b32.bat
    trunk/harbour/contrib/rddsql/make_gcc.sh
    trunk/harbour/contrib/rddsql/make_vc.bat
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddfb/make_b32.bat
    trunk/harbour/contrib/rddsql/sddfb/make_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb  6 16:48:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  6 16:49:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10192] trunk/harbour
In-Reply-To: <20090206213526.GA8143@uran.home.aster.pl>
References: <E1LVUns-0000Lj-9c@c3vjzd1.ch3.sourceforge.com>
	<20090206213526.GA8143@uran.home.aster.pl>
Message-ID: <18d502870902061348s106ba8adtc3938157c46f5afe@mail.gmail.com>

I won't, I have cancelled it after giving it a second thought.
All I did is I've remapped them to HB_TOUPPER() and
HB_ISDIGIT() in header, but won't do more here. I'll mark
this TODO as [CANCELLED].

[ If you want I can even undo the above change in hbpp.h, too. ]

Brgds,
Viktor

On Fri, Feb 6, 2009 at 10:35 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Fri, 06 Feb 2009, vszakats@users.sourceforge.net wrote:
>
> Hi Viktor,
>
> >   ; TODO: Replace HB_PP_UPPER(), HB_PP_ISDIGIT() with equivalent
> >           new macros.
>
> Please do not make it. I intentionally defined separated macros for PP
> to fully control input character stream without any relations to other
> code.
> If you want then you can redirect these macros to hbpp.h (as I can see you
> even already made it) but do not change the ppcore.c source code because
> they can be different or easy modified for some extensions without
> interactions to other code which uses the same macros.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090206/a33f9087/attachment.html
From vszakats at users.sourceforge.net  Fri Feb  6 17:00:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 17:00:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10197] trunk/harbour
Message-ID: <E1LVYka-0004Rd-JL@74yxhf1.ch3.sourceforge.com>

Revision: 10197
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10197&view=rev
Author:   vszakats
Date:     2009-02-06 22:00:39 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 23:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbpp.h
    * Minor rearrangement of previous state.
      Still referencing HB_ISDIGIT() and HB_TOUPPER(), one time
      each.

  * contrib/xhb/hbxml.c
    * isspace() -> HB_ISSPACE(). HB_ISSPACE() should be
      revised in the future if Unicode is used, but until
      then this is fine here.

  * ChangeLog
    * Marked one TODO as [CANCELLED].

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hbxml.c
    trunk/harbour/include/hbpp.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb  6 18:12:44 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb  6 18:08:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10192] trunk/harbour
In-Reply-To: <18d502870902061348s106ba8adtc3938157c46f5afe@mail.gmail.com>
References: <E1LVUns-0000Lj-9c@c3vjzd1.ch3.sourceforge.com>
	<20090206213526.GA8143@uran.home.aster.pl>
	<18d502870902061348s106ba8adtc3938157c46f5afe@mail.gmail.com>
Message-ID: <20090206231244.GA23903@uran.home.aster.pl>

On Fri, 06 Feb 2009, Szak?ts Viktor wrote:
> I won't, I have cancelled it after giving it a second thought.
> All I did is I've remapped them to HB_TOUPPER() and
> HB_ISDIGIT() in header, but won't do more here. I'll mark
> this TODO as [CANCELLED].

Thank you,

> [ If you want I can even undo the above change in hbpp.h, too. ]

No please leave it.
I even redirect others HB_PP_IS* macros ro HB_IS* ones which I'll group
together in hbdefs.h. I hope it will make the code more clean.

best regards,
Przemek
From vszakats at users.sourceforge.net  Fri Feb  6 18:15:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 18:15:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10198] trunk/harbour
Message-ID: <E1LVZv9-0006jX-VQ@74yxhf1.ch3.sourceforge.com>

Revision: 10198
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10198&view=rev
Author:   vszakats
Date:     2009-02-06 23:15:37 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-06 23:47 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * common.mak
  * harbour-wce-spec
  * harbour-win-spec
  * harbour.spec
  * make_b32.bat
  * make_b32.mak
  * make_gcc.mak
  * make_gcc.sh
  * make_gnu.bat
  * make_gnu.sh
  * make_gnu_os2.cmd
  * make_gnu_xmingw.sh
  * make_gnu_xmingwce.sh
  * make_vc.bat
  * make_vc.mak
  * mpkg_tgz.sh
  * bin/hb-func.sh
  * bin/hb-mkslib.sh
  * bin/hbmk.bat
  * bin/hbmk_os2.cmd
  * bin/postinst.sh
  * config/bin.cf
  * config/bsd/gcc.cf
  * config/darwin/gcc.cf
  * config/dos/bcc16.cf
  * config/dos/djgpp.cf
  * config/dos/owatcom.cf
  * config/dos/rsx32.cf
  * config/hpux/gcc.cf
  * config/lib.cf
  * config/linux/gcc.cf
  * config/linux/owatcom.cf
  * config/os2/gcc.cf
  * config/os2/icc.cf
  * config/rules.cf
  * config/sunos/gcc.cf
  * config/win/bcc32.cf
  * config/win/dm.cf
  * config/win/gcc.cf
  * config/win/icc.cf
  * config/win/mingw.cf
  * config/win/mingwce.cf
  * config/win/msvc.cf
  * config/win/msvcce.cf
  * config/win/owatcom.cf
  * config/win/pocc.cf
  * config/win/pocc64.cf
  * config/win/poccce.cf
  * config/win/rsxnt.cf
  * config/win/xcc.cf
  * contrib/gtalleg/Makefile
  * contrib/hbapollo/Makefile
  * contrib/hbcurl/Makefile
  * contrib/hbfbird/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbgd/Makefile
  * contrib/hbgd/tests/hbmk_b32.bat
  * contrib/hbgd/tests/hbmk_vc.bat
  * contrib/hbgf/hbgfgtk/Makefile
  * contrib/hbhpdf/Makefile
  * contrib/hbmysql/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbpgsql/Makefile
  * contrib/hbssl/Makefile
  * contrib/hbtip/ChangeLog
  * contrib/hbwhat/Makefile
  * contrib/hbwhat/tests/hbmk_b32.bat
  * contrib/hbwhat/tests/hbmk_vc.bat
  * contrib/mtpl_b32.bat
  * contrib/mtpl_b32.mak
  * contrib/mtpl_gcc.mak
  * contrib/mtpl_gcc.sh
  * contrib/mtpl_vc.bat
  * contrib/mtpl_vc.mak
  * contrib/rddads/Makefile
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddpg/Makefile
  * doc/es/tracing.txt
  * doc/gmake.txt
  * doc/tracing.txt
  * include/hbapi.h
  * source/main/harbour.c
  * source/pp/hbpp.c
  * source/rdd/dbffpt/Makefile
  * source/vm/cmdarg.c
  * source/vm/Makefile
  * source/vm/vmmt/Makefile
  * tests/multifnc/Makefile
  * tests/testid.prg
  * utils/hbdoc/Makefile
  * utils/hbi18n/Makefile
  * utils/hbmake/hbmake.prg
  * utils/hbmake/Makefile
  * utils/hbrun/Makefile
  * utils/hbtest/Makefile
    * Renamed remaining build configration envvars:
      - PRG_USR -> HB_USER_PRGFLAGS
      - C_USR   -> HB_USER_CFLAGS
      - L_USR   -> HB_USER_LDFLAGS
      - A_USR   -> HB_USER_AFLAGS
      - MK_USR  -> HB_USER_MAKEFLAGS
      (finally settled with HB_USER* instead of HB_USR*,
      this also means that HB_USER_LIBS was kept unchanged.)
    ; Please update your environment.
      You may use these commands to make it easy:
      gsar -o -sPRG_USR -rHB_USER_PRGFLAGS  *
      gsar -o -sC_USR   -rHB_USER_CFLAGS    *
      gsar -o -sL_USR   -rHB_USER_LDFLAGS   *
      gsar -o -sA_USR   -rHB_USER_AFLAGS    *
      gsar -o -sMK_USR  -rHB_USER_MAKEFLAGS *

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkslib.sh
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/bin/hbmk_os2.cmd
    trunk/harbour/bin/postinst.sh
    trunk/harbour/common.mak
    trunk/harbour/config/bin.cf
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/bcc16.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/dos/rsx32.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/icc.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/win/bcc32.cf
    trunk/harbour/config/win/dm.cf
    trunk/harbour/config/win/gcc.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/mingwce.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/msvcce.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/pocc64.cf
    trunk/harbour/config/win/poccce.cf
    trunk/harbour/config/win/rsxnt.cf
    trunk/harbour/config/win/xcc.cf
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/hbapollo/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbgd/Makefile
    trunk/harbour/contrib/hbgd/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbgd/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbgf/hbgfgtk/Makefile
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/contrib/hbmysql/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbpgsql/Makefile
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbtip/ChangeLog
    trunk/harbour/contrib/hbwhat/Makefile
    trunk/harbour/contrib/hbwhat/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbwhat/tests/hbmk_vc.bat
    trunk/harbour/contrib/mtpl_b32.bat
    trunk/harbour/contrib/mtpl_b32.mak
    trunk/harbour/contrib/mtpl_gcc.mak
    trunk/harbour/contrib/mtpl_gcc.sh
    trunk/harbour/contrib/mtpl_vc.bat
    trunk/harbour/contrib/mtpl_vc.mak
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/doc/es/tracing.txt
    trunk/harbour/doc/gmake.txt
    trunk/harbour/doc/tracing.txt
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/include/hbapi.h
    trunk/harbour/make_b32.bat
    trunk/harbour/make_b32.mak
    trunk/harbour/make_gcc.mak
    trunk/harbour/make_gcc.sh
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu.sh
    trunk/harbour/make_gnu_os2.cmd
    trunk/harbour/make_gnu_xmingw.sh
    trunk/harbour/make_gnu_xmingwce.sh
    trunk/harbour/make_vc.bat
    trunk/harbour/make_vc.mak
    trunk/harbour/mpkg_tgz.sh
    trunk/harbour/source/main/harbour.c
    trunk/harbour/source/pp/hbpp.c
    trunk/harbour/source/rdd/dbffpt/Makefile
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/source/vm/vmmt/Makefile
    trunk/harbour/tests/multifnc/Makefile
    trunk/harbour/tests/testid.prg
    trunk/harbour/utils/hbdoc/Makefile
    trunk/harbour/utils/hbi18n/Makefile
    trunk/harbour/utils/hbmake/Makefile
    trunk/harbour/utils/hbmake/hbmake.prg
    trunk/harbour/utils/hbrun/Makefile
    trunk/harbour/utils/hbtest/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Feb  6 18:18:19 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb  6 18:18:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10199] trunk/harbour
Message-ID: <E1LVZxj-0006nY-QA@74yxhf1.ch3.sourceforge.com>

Revision: 10199
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10199&view=rev
Author:   druzus
Date:     2009-02-06 23:18:19 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-07 00:22 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
  * harbour/include/hbapi.h
    * moved HB_ISSPACE(), HB_ISFIRSTIDCHAR() and HB_ISNEXTIDCHAR() from
      hbapi.h to hbdefs.h
    + HB_ISXDIGIT() macro

  * harbour/include/hbpp.h
    * updated other HB_PP_IS*() macros definitions to internally use HB_IS*()
      ones

  * harbour/source/rtl/fstemp.c
    ! fixed unterminated ASCIIZ string

   TODO: new macros HB_CHARVAL( c ), HB_CHARXVAL( c ),
                    HB_VALDIGIT( i ), HB_VALXDIGIT( i )

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbpp.h
    trunk/harbour/source/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb  6 18:23:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 18:23:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10200] trunk/harbour
Message-ID: <E1LVa2b-00076C-O1@74yxhf1.ch3.sourceforge.com>

Revision: 10200
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10200&view=rev
Author:   vszakats
Date:     2009-02-06 23:23:20 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-07 00:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/Makefile
  - include/hbfixdj.h
  * include/hbsetup.h
    - Removed file no longer needed. Harbour no longer uses
      is*()/toupper()/tolower() calls, or <ctype.h>.

  * source/rtl/gtpca/gtpca.c
    % Removed #include <ctype.h>.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/Makefile
    trunk/harbour/include/hbsetup.h
    trunk/harbour/source/rtl/gtpca/gtpca.c

Removed Paths:
-------------
    trunk/harbour/include/hbfixdj.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb  6 18:27:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 18:27:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10201] trunk/harbour
Message-ID: <E1LVa6n-0007Az-Rl@74yxhf1.ch3.sourceforge.com>

Revision: 10201
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10201&view=rev
Author:   vszakats
Date:     2009-02-06 23:27:41 +0000 (Fri, 06 Feb 2009)

Log Message:
-----------
2009-02-07 00:27 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/debug/dbgentry.c
    % Using HB_ISFIRSTIDCHAR() and HB_ISNEXTIDCHAR() macros.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/debug/dbgentry.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb  6 19:22:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 19:22:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10202] trunk/harbour
Message-ID: <E1LVay1-0008Rr-6B@74yxhf1.ch3.sourceforge.com>

Revision: 10202
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10202&view=rev
Author:   vszakats
Date:     2009-02-07 00:22:40 +0000 (Sat, 07 Feb 2009)

Log Message:
-----------
2009-02-07 01:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbapifs.h
  * include/hbextern.ch
  * source/rtl/fstemp.c
  * source/rtl/filebuf.c
    + Added hb_fsCreateTempEx(). Similar to hb_fsCreateTemp(),
      but allows to control the extension. Note, that the
      ordering of parameters ha slightly changed compared to
      hb_fsCreateTemp().
    + Added hb_fileCreateTempEx(). See above.
    + Added Harbour level HB_FTEMPCREATEEX(). See above.
    ; Please review & test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rtl/filebuf.c
    trunk/harbour/source/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb  6 19:24:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  6 19:24:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10203]
	trunk/harbour/ChangeLog
Message-ID: <E1LVazl-0008UF-F3@74yxhf1.ch3.sourceforge.com>

Revision: 10203
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10203&view=rev
Author:   vszakats
Date:     2009-02-07 00:24:28 +0000 (Sat, 07 Feb 2009)

Log Message:
-----------
added small usage example for HB_FTEMPCREATEEX()

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Feb  6 20:11:04 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb  6 20:11:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10204] trunk/harbour
Message-ID: <E1LVbiq-0002Bq-80@c3vjzd1.ch3.sourceforge.com>

Revision: 10204
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10204&view=rev
Author:   druzus
Date:     2009-02-07 01:11:03 +0000 (Sat, 07 Feb 2009)

Log Message:
-----------
2009-02-07 02:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/fstemp.c
    * casting for C++ mode

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb  7 03:47:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb  7 03:47:12 2009
Subject: [Harbour] BYTE -> UCHAR patch
Message-ID: <18d502870902070047le0355c5h55392ca2fd7afbaf@mail.gmail.com>

Hi Przemek and all,
I've a patch ready to address BYTE to UCHAR conversion.

Would you mind reviewing it, before committing?

http://www.syenar.hu/harbour/byte_2_uchar_dif.zip
(size: 26KB)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090207/bc1b393d/attachment.html
From druzus at acn.waw.pl  Sat Feb  7 10:13:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Feb  7 10:09:01 2009
Subject: [Harbour] BYTE -> UCHAR patch
In-Reply-To: <18d502870902070047le0355c5h55392ca2fd7afbaf@mail.gmail.com>
References: <18d502870902070047le0355c5h55392ca2fd7afbaf@mail.gmail.com>
Message-ID: <20090207151338.GA9470@uran.home.aster.pl>

On Sat, 07 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> I've a patch ready to address BYTE to UCHAR conversion.
> Would you mind reviewing it, before committing?
> http://www.syenar.hu/harbour/byte_2_uchar_dif.zip
> (size: 26KB)

Yes, sure I've just seen it but it's not what I wanted to make.
The sign of 'char' and 'BYTE' types differes between platforms.
It means that they should be used only for text strings or to mark
some raw memory block.
I suggest to change all 'BYTE *' used as file name in Harbour
FS API and similar functions to 'char *' type to not replicate
the problems which comes from Clipper, f.e. from CL53 header files:
   typedef unsigned char BYTE;
   typedef BYTE far * BYTEP;
   extern void _retc(BYTEP);
   extern void _retclen(char far *, unsigned int);
You may find similar problems also in CL52.
It forces explicit casting in C++ mode if char is signed. Such casting
has bad side effect. It can hide typos or even errors normally easy to
catch at compile time, f.e. pFile wrongly used instead of szFile:
   PHB_ITEM pFile = hb_param( 1, HB_IT_STRING );
   char * szFile = hb_itemGetCPtr( pFile )
   HB_FHANDLE hFile = hb_fsOpen( ( BYTE * ) pFile, ... );

For text strings and raw memory blocks the sign is unimportant.
It can be signed or unsigned without any problem and Harbour
code should work with both version. In the past I cleaned char
usage so now Harbour can be compiled and works also on platforms
where 'char' is unsigned.
The sing of 'char' and 'BYTE' should be for us undefined because
it can be different on different platorms.
I suggest to unify all places which uses text strings like file
names to use 'char *'. It allow us to remove unnecessary casting
(char*)<->(BYTE*) and it should be removed with this modification.
But we use BYTE* type also for arrays of unsigned 8-bits integers,
f.e. PCODE, RDD file structures or functions which makes some
calculations on memory blocks using them as array of 8-bits unsigned
integers like most of check sum functions. Here BYTE should be replaced
by UCHAR at least internally. Now Harbour cannot work on platforms where
BYTE is already defined as signed char, f.e. this HVM code will fail:
         case HB_P_SENDSHORT:
            hb_itemSetNil( hb_stackReturnItem() );
            hb_vmSend( pCode[ w + 1 ] );
because pCode[ w + 1 ] after casting to USHORT will give wrong result
for value greater then 128. F.e. for 255 we will have 65535.
We should fix it. Here simple replacing BYTE by UCHAR in PCODE array
definition is enough though really clean version should make sth like:
         case HB_P_SENDSHORT:
            hb_itemSetNil( hb_stackReturnItem() );
            hb_vmSend( HB_PCODE_MKUCHAR( &pCode[ w + 1 ] ) );
but cleaning code to work with PCODE stored in signed or unsigned
bytes so we can keep it in array of BYTEs needs much more work.
In few places when programmer wants to use single byte as signed 8bit
integer then he should use it as 'signed char' or 'SCHAR' because
he cannot assume that 'char' will be signed or unsigned on destination
platform/C compiler. I fixed all such places in core code when I was
working on Harbour port to mips390 CPUs but I want other developers
remember about it creating new code or updating existing one.

In your modifications you replaced BYTE * used as file name in Harbour
FS API to UCHAR *. File names are text strings and  I want to use
simple char * for them and I want to change BYTE used as synonym
of 8bit unsigned integer to UCHAR.
Sorry my fault, I should be more clear earlier and well explain
the problem.

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Feb  7 10:44:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb  7 10:44:23 2009
Subject: [Harbour] BYTE -> UCHAR patch
In-Reply-To: <20090207151338.GA9470@uran.home.aster.pl>
References: <18d502870902070047le0355c5h55392ca2fd7afbaf@mail.gmail.com>
	<20090207151338.GA9470@uran.home.aster.pl>
Message-ID: <18d502870902070744n7e86b402t38e8cc5c82880e1f@mail.gmail.com>

Hi Przemek,


> I suggest to change all 'BYTE *' used as file name in Harbour
> FS API and similar functions to 'char *' type to not replicate
> the problems which comes from Clipper, f.e. from CL53 header files:
>   typedef unsigned char BYTE;
>   typedef BYTE far * BYTEP;
>   extern void _retc(BYTEP);
>   extern void _retclen(char far *, unsigned int);
> You may find similar problems also in CL52.
> It forces explicit casting in C++ mode if char is signed. Such casting
> has bad side effect. It can hide typos or even errors normally easy to
> catch at compile time, f.e. pFile wrongly used instead of szFile:
>   PHB_ITEM pFile = hb_param( 1, HB_IT_STRING );
>   char * szFile = hb_itemGetCPtr( pFile )
>   HB_FHANDLE hFile = hb_fsOpen( ( BYTE * ) pFile, ... );


Yes, I see your point.

I'll try to fix that before committing anything, but first
I have some questions.

Am I right assuming that we will definitely take the UTF-8
route then (for filenames, too), and in this case 'char' may
just hold UTF-8 strings in the future? (had we choose UTF16,
we may need to centrally redefine 'char' to double bytes in
the future, so such abstract type might have its benefits.)


> I suggest to unify all places which uses text strings like file
> names to use 'char *'. It allow us to remove unnecessary casting
> (char*)<->(BYTE*) and it should be removed with this modification.
> But we use BYTE* type also for arrays of unsigned 8-bits integers,
> f.e. PCODE, RDD file structures or functions which makes some
> calculations on memory blocks using them as array of 8-bits unsigned
> integers like most of check sum functions. Here BYTE should be replaced
> by UCHAR at least internally. Now Harbour cannot work on platforms where
> BYTE is already defined as signed char, f.e. this HVM code will fail:


Indeed, this was a grey area (BYTEs used in checksum, pcode,
and the like) I intentionally didn't touch. I think I may convert these
a second pass just to be on the safe side.


>         case HB_P_SENDSHORT:
>            hb_itemSetNil( hb_stackReturnItem() );
>            hb_vmSend( pCode[ w + 1 ] );
> because pCode[ w + 1 ] after casting to USHORT will give wrong result
> for value greater then 128. F.e. for 255 we will have 65535.
> We should fix it. Here simple replacing BYTE by UCHAR in PCODE array
> definition is enough though really clean version should make sth like:
>         case HB_P_SENDSHORT:
>            hb_itemSetNil( hb_stackReturnItem() );
>            hb_vmSend( HB_PCODE_MKUCHAR( &pCode[ w + 1 ] ) );
> but cleaning code to work with PCODE stored in signed or unsigned
> bytes so we can keep it in array of BYTEs needs much more work.
> In few places when programmer wants to use single byte as signed 8bit
> integer then he should use it as 'signed char' or 'SCHAR' because
> he cannot assume that 'char' will be signed or unsigned on destination
> platform/C compiler. I fixed all such places in core code when I was
> working on Harbour port to mips390 CPUs but I want other developers
> remember about it creating new code or updating existing one.
>
> In your modifications you replaced BYTE * used as file name in Harbour
> FS API to UCHAR *. File names are text strings and  I want to use
> simple char * for them and I want to change BYTE used as synonym
> of 8bit unsigned integer to UCHAR.


Is this true for GT strings, too? (to convert them to char, not UCHAR)


> Sorry my fault, I should be more clear earlier and well explain
> the problem.


No problem. My assumption was based on current usage, plus the
idea that we're marking everything as UCHAR what is meant as 'text'
in Harbour (as opposed to raw binary data).

Q1: Having Unicode support in mind, shouldn't we use some distinct
marking for 'text' (char *) data?

Q2: May I change to UCHAR / SCHAR to HB_UCHAR / HB_SCHAR,
as part of moving our special types to our own namespace?
(UCHAR is an Microsoft type name, also)

Q3: Can we define the rules for different string/char types, so that
everyone speaks the same language here:

- HB_UCHAR, HB_SCHAR: ... ?
- char / HB_TEXT?: Harbour character/string (with future UTF-8 support) ?
- BYTE: ... Harbour raw binary data or other simple numeric BYTE ?

Maybe that would help for everyone to see more clearly.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090207/cea0fe68/attachment.html
From info at fsgiudice.com  Sat Feb  7 11:12:11 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Feb  7 11:12:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <20090205015029.GA18878@uran.home.aster.pl>
References: <18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>	<21823009.post@talk.nabble.com>	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>	<49895858.20202@fsgiudice.com>	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>	<49895F90.2080504@fsgiudice.com>	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>	<498A0696.1020806@fsgiudice.com>	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>	<21842486.post@talk.nabble.com>
	<20090205015029.GA18878@uran.home.aster.pl>
Message-ID: <498DB2DB.5090908@fsgiudice.com>

Hi Przemek,

Il 05/02/2009 2.50, Przemyslaw Czerpak ha scritto:
> 
> Passing C structures as string is also bad idea.
> If we do not need support for direct updating C structure
> members at .prg level then it will be enough to introduce
> special type of GC pointer to hold all such structures with
> basic type veryfication. Below I'm attaching modified code from
> message I sent two days ago to xHGtk devel list. It address such
> problem.
> 
> 
I have read your post, but I have not understood how I can use your code 
passing structures between prg and c code and viceversa.
Could you kindly post an example, also of a simple structure ?

Actually I use structures using cstruct.prg in xhb.
So, using as simple example, passing a point actually I do:

----- prg ------
.....
#include "cstruct.ch"

pragma pack(4)

/* POINT */

typedef struct tagPOINT { ;
     LONG x;
     LONG y;
} POINT, *PPOINT

.....
METHOD ClientToScreen( x, y )
   LOCAL pt := (struct POINT)
   LOCAL cBuff

   IF PCount() == 2
      pt:x := x
      pt:y := y
   ELSE    // x is already a point
      pt := x
   ENDIF

   cBuff := pt:value
   XGUI_API_ClientToScreen( ::Handle, @cBuff )
   pt:Buffer( cBuff )

RETURN pt
------ c -------
HB_FUNC( XGUI_API_CLIENTTOSCREEN )
{
    HWND  hWnd = (HWND)  hb_parnl( 1 );
    POINT * pt = (POINT *) hb_parcx( 2 );

    hb_retl( ClientToScreen( hWnd, // handle to window
                             pt    // screen coordinates
                           ) );
}
----------------

Best regards

Francesco
From toninhofwi at yahoo.com.br  Sat Feb  7 11:16:10 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sat Feb  7 11:16:12 2009
Subject: [Harbour] Windows unfreed resources
In-Reply-To: <urqoo495a5ifldmetq5qnlq0nl4nal3f03@4ax.com>
References: <urqoo495a5ifldmetq5qnlq0nl4nal3f03@4ax.com>
Message-ID: <2scro41anihspg340plmo3t9u65008sgpe@4ax.com>

>used by dlmalloc.c...

I tested without dlmalloc and the same issue appear.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From info at fsgiudice.com  Sat Feb  7 13:47:59 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Feb  7 13:48:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10164] trunk/harbour
In-Reply-To: <498DB2DB.5090908@fsgiudice.com>
References: <18d502870902031711l493e223dr2f9171d5a6fa2ec3@mail.gmail.com>	<21823009.post@talk.nabble.com>	<18d502870902031835x1a34e70ateae8bc24629915b0@mail.gmail.com>	<49895858.20202@fsgiudice.com>	<18d502870902040114o3755d4cy31a9f7d766283c0b@mail.gmail.com>	<49895F90.2080504@fsgiudice.com>	<18d502870902040145s1b8955bei6842cf022ba22d3f@mail.gmail.com>	<498A0696.1020806@fsgiudice.com>	<18d502870902041448w6fbee979m8795400071fc14a5@mail.gmail.com>	<21842486.post@talk.nabble.com>	<20090205015029.GA18878@uran.home.aster.pl>
	<498DB2DB.5090908@fsgiudice.com>
Message-ID: <498DD75F.5040905@fsgiudice.com>

Hi Przemek,


> I have read your post, but I have not understood how I can use your code 
> passing structures between prg and c code and viceversa.
> Could you kindly post an example, also of a simple structure ?
  understood.
Now I'm trying to generalize it, if it is possible.

Best regards,

Francesco
From marek.horodyski at interia.pl  Sun Feb  8 10:26:41 2009
From: marek.horodyski at interia.pl (marek.horodyski@interia.pl)
Date: Sun Feb  8 10:26:47 2009
Subject: [Harbour] OW - Windows&Linux
Message-ID: <20090208152642.339966FC4FD@f01.poczta.interia.pl>

When I have installed OW 1.8 with option to Linux (experimantal),
can I to compile on Windows executables under Linux?

Regards,
Marek Horodyski




----------------------------------------------------------------------
169 stacji TV! Naziemne i satelitarne!
Sprawdz program TV w kilka sekund >> http://link.interia.pl/f2050

From druzus at acn.waw.pl  Sun Feb  8 10:48:51 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Feb  8 10:44:11 2009
Subject: [Harbour] BYTE -> UCHAR patch
In-Reply-To: <18d502870902070744n7e86b402t38e8cc5c82880e1f@mail.gmail.com>
References: <18d502870902070047le0355c5h55392ca2fd7afbaf@mail.gmail.com>
	<20090207151338.GA9470@uran.home.aster.pl>
	<18d502870902070744n7e86b402t38e8cc5c82880e1f@mail.gmail.com>
Message-ID: <20090208154851.GA6045@uran.home.aster.pl>

On Sat, 07 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> > I suggest to change all 'BYTE *' used as file name in Harbour
> > FS API and similar functions to 'char *' type to not replicate
> > the problems which comes from Clipper, f.e. from CL53 header files:
> >   typedef unsigned char BYTE;
> >   typedef BYTE far * BYTEP;
> >   extern void _retc(BYTEP);
> >   extern void _retclen(char far *, unsigned int);
> > You may find similar problems also in CL52.
> > It forces explicit casting in C++ mode if char is signed. Such casting
> > has bad side effect. It can hide typos or even errors normally easy to
> > catch at compile time, f.e. pFile wrongly used instead of szFile:
> >   PHB_ITEM pFile = hb_param( 1, HB_IT_STRING );
> >   char * szFile = hb_itemGetCPtr( pFile )
> >   HB_FHANDLE hFile = hb_fsOpen( ( BYTE * ) pFile, ... );
> Yes, I see your point.
> I'll try to fix that before committing anything, but first
> I have some questions.
> Am I right assuming that we will definitely take the UTF-8
> route then (for filenames, too), and in this case 'char' may
> just hold UTF-8 strings in the future? (had we choose UTF16,
> we may need to centrally redefine 'char' to double bytes in
> the future, so such abstract type might have its benefits.)

I do not think we can decide now. The UTF-8 allows to keep all
existing functions with 'char' as is but in some cases U16 (it's
not exactly UTF16) is better because it's fixed length format.
Anyhow I do not think we can fully drop pure char API. It still
can be usable for different libraries so maybe we will have both.
I would like to return to this subject when we will have CDP API
and will work on Unicode support.

> > In your modifications you replaced BYTE * used as file name in Harbour
> > FS API to UCHAR *. File names are text strings and  I want to use
> > simple char * for them and I want to change BYTE used as synonym
> > of 8bit unsigned integer to UCHAR.
> Is this true for GT strings, too? (to convert them to char, not UCHAR)

It will depend on functions.
Here we will have interaction with Unicode, too.
Now characters and strings are passed as BYTEs.
Let's leave it now. Here we should make also few other modifications
which will break backward binary compatibility so it should be grouped
with other modifications.

> Q1: Having Unicode support in mind, shouldn't we use some distinct
> marking for 'text' (char *) data?

Using 'char *' already make it.

> Q2: May I change to UCHAR / SCHAR to HB_UCHAR / HB_SCHAR,
> as part of moving our special types to our own namespace?
> (UCHAR is an Microsoft type name, also)

Please not now. We have many different types and we haven't decide
how the final version should look and what names space we should
use. Now I suggest to make only basic modifications which does not
break backward binary compatibility and freeze modifications to
releaze new stable version with MT support. When this version
will be ready then we can stat discussion on core API modifications
and begin to implement it. Such modifications make take long time,
even more then year and people will need stable version which MT
so first we have to release it. Probably it should be version 1.2.
After releasing 1.2 we can start new branch with 1.3 and begin to
introduce agreed modifications. If the backward source code and/or
binary compatibility will be seriously broken by new API (I expect it
in this case) then probably next stable release should have number
2.0 to make difference between branches and 1.x and 2.x API.


> Q3: Can we define the rules for different string/char types, so that
> everyone speaks the same language here:
> - HB_UCHAR, HB_SCHAR: ... ?
> - char / HB_TEXT?: Harbour character/string (with future UTF-8 support) ?
> - BYTE: ... Harbour raw binary data or other simple numeric BYTE ?

The sign of BYTE is platform/C compiler dependent so should not be used
internally as number holder because programmers does not know it will be
mapped to signed or unsigned char. This type should be rather used to
mark data where sign is undefined.
I do not know yet what name space we will use and how we will represent
Unicode strings so I do not think we should make any of such modifications
now. Please remember that each time you are changing some definitions in
core code you force code updating in 3-rd party projects. Making such
modifications with important reasons and then reverting them or changing
to sth else has to be serious problem for 3-rd party code developers.
We have to well know what is our final goal before we start anything like
that.

> Maybe that would help for everyone to see more clearly.

If we change it once again in few months then for sure not.

best regards,
Przemek

ps. For new types I suggest to use sth like:

   ANSI C types:
      void,
      [ [un]signed ] char, [ [un]signed ] short, [ [un]signed ] int,
      [ [un]signed ] long, double,

      [ [un]signed ] long long is not supported by some platforms / C compilers
      so it should not be used

   harbour overloaded types:
      hbChar, hbSChar, hbUChar, hbShort, hbUShort, hbInt, hbUInt,
      hbLong, hbULong, hbLongLong, hbULongLong, hbDouble,
      hbMaxInt, hbMaxDouble,
      hbCounter, hbSize, hbPtrDiff, hbPtrVal,
      hbPointer,
      hbWChar // for future wide character representation

   harbour strict bit types:
      hbI8, hbU8, hbI16, hbU16, hbI32, hbU32, hbI64, hbI64

   Types which depends on internal HVM/compilation settings:
      hbMaxVMInt - maximal integer which can be storred in HVM item
                   (HB_IT_LONG). It's current HB_LONG, usually will be
                   the same as hbMaxInt unless for some reasons it will
                   not be reduced, f.e. compiler may support 128bit
                   integers as hbMaxInt but we may don't use it for
                   HB_IT_LONG due to performance reduction.

It's not the full list. Just a startup proposition. After 1.2 we can discuss
about the full list of types and new API. I will also want to update some
public structures (f.e. RDD ones). All this modifications can make Harbour
unstable for some time and when they will be finally ready then people
using 3-rd party libraries will have to wait for their updating and new
releases. Without 1.2 they will have very serious problem.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Feb  8 11:53:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb  8 11:53:34 2009
Subject: [Harbour] BYTE -> UCHAR patch
In-Reply-To: <20090208154851.GA6045@uran.home.aster.pl>
References: <18d502870902070047le0355c5h55392ca2fd7afbaf@mail.gmail.com>
	<20090207151338.GA9470@uran.home.aster.pl>
	<18d502870902070744n7e86b402t38e8cc5c82880e1f@mail.gmail.com>
	<20090208154851.GA6045@uran.home.aster.pl>
Message-ID: <18d502870902080853m68a2b144m6402b4c5f51c2f65@mail.gmail.com>

Hi Przemek,
Now I think I understand your concept, plus that your
main concern (for now) is that BYTE's signedness isn't
currently well defined. Of course I didn't want to change
anything that could break compatibility.

Here's my draft planned steps to switch to a properly typed
core; I've keyed this in yesterday, and your types seem to
fit nicely into the concept, I agree on the naming, too:

--- [ draft / brainstorm stage ]
Safe path to proper typing:
1. Copy all current Harbour-defined generic (legacy) types to a "hb" prefix
version.
2. Convert all current Harbour-defined generic (legacy) type usages to have
an "hb" prefix. (essentialy S&R)
3. Move Clipper compatibility types into *.api/extend.h/clipdefs.h.
4. Add new define to enable/disable legacy types. Leave that enabled by
default
   for a transition period. Harbour developers should explictly disable
   legacy types locally by setting HB_USER_CFLAGS appropriately.
5. Add Harbour abstract types (all "hb" prefixed) for all important entities
in Harbour
   (which doesn't yet have one, but would be nice to control them
independently).
   Favour plain ANSI C types (unsigned char, int, long, unsigned int,
unsigned long)
   _where possible_. size_t should be handled like any other foreign type
which
   external packages might happen to use, we should explicitly cast to/from
it.
   Possible list of such abstract types:
   - Harbour character (text) (currently: char, BYTE, SCHAR, UCHAR) ->
HB_CHAR ?
   - Harbour character (binary/raw) (currently: char, BYTE, SCHAR, UCHAR) ->
HB_BYTE ?
   - Harbour string (text) (currently: char *, BYTE *, SCHAR *, UCHAR *) ->
PHB_CHAR / HB_CHAR * ?
   - Harbour string (binary/raw) (currently: char *, BYTE *, SCHAR *, UCHAR
*) -> PHB_BYTE / HB_BYTE * ?
   - Harbour string/array/hash length / index (currently: ULONG) -> HB_POS?
(== long) / long
   - Harbour integer num (currently: int) -> OKAY
   - Harbour long num (currently: long ?) -> OKAY
   - Harbour longlong num (currently: HB_LONG ?) -> OKAY
   - Harbour float (currently: double) -> OKAY
   - Harbour date (currently: long) -> HB_DATELONG
   - Harbour time (currently: LONG) -> HB_TIMELONG / long
   - Harbour GT color (currently: BYTE) -> HB_COLOR ? int ?
   - Harbour GT attribute (currently: BYTE) -> HB_ATTR (existing type) ? int
?
   - Harbour internal indexes (pcode pointer, param count, line no,
class/method ID) (currently: USHORT | LONG) -> ?
   - probably more, please extend. (colors, screen positions, other internal
types...)
6. Begin to cleanse HB_ prefixed _generic_ types to abstract ones.
   This isn't automatic, and isn't done in one pass.
   It's rather a process, but at this point the code is already
   free of legacy types, so we can take our time to further rise
   code quality + consistency by moving to abstract ones.
---

Brgds,
Viktor

On Sun, Feb 8, 2009 at 4:48 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Sat, 07 Feb 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
> > > I suggest to change all 'BYTE *' used as file name in Harbour
> > > FS API and similar functions to 'char *' type to not replicate
> > > the problems which comes from Clipper, f.e. from CL53 header files:
> > >   typedef unsigned char BYTE;
> > >   typedef BYTE far * BYTEP;
> > >   extern void _retc(BYTEP);
> > >   extern void _retclen(char far *, unsigned int);
> > > You may find similar problems also in CL52.
> > > It forces explicit casting in C++ mode if char is signed. Such casting
> > > has bad side effect. It can hide typos or even errors normally easy to
> > > catch at compile time, f.e. pFile wrongly used instead of szFile:
> > >   PHB_ITEM pFile = hb_param( 1, HB_IT_STRING );
> > >   char * szFile = hb_itemGetCPtr( pFile )
> > >   HB_FHANDLE hFile = hb_fsOpen( ( BYTE * ) pFile, ... );
> > Yes, I see your point.
> > I'll try to fix that before committing anything, but first
> > I have some questions.
> > Am I right assuming that we will definitely take the UTF-8
> > route then (for filenames, too), and in this case 'char' may
> > just hold UTF-8 strings in the future? (had we choose UTF16,
> > we may need to centrally redefine 'char' to double bytes in
> > the future, so such abstract type might have its benefits.)
>
> I do not think we can decide now. The UTF-8 allows to keep all
> existing functions with 'char' as is but in some cases U16 (it's
> not exactly UTF16) is better because it's fixed length format.
> Anyhow I do not think we can fully drop pure char API. It still
> can be usable for different libraries so maybe we will have both.
> I would like to return to this subject when we will have CDP API
> and will work on Unicode support.
>
> > > In your modifications you replaced BYTE * used as file name in Harbour
> > > FS API to UCHAR *. File names are text strings and  I want to use
> > > simple char * for them and I want to change BYTE used as synonym
> > > of 8bit unsigned integer to UCHAR.
> > Is this true for GT strings, too? (to convert them to char, not UCHAR)
>
> It will depend on functions.
> Here we will have interaction with Unicode, too.
> Now characters and strings are passed as BYTEs.
> Let's leave it now. Here we should make also few other modifications
> which will break backward binary compatibility so it should be grouped
> with other modifications.
>
> > Q1: Having Unicode support in mind, shouldn't we use some distinct
> > marking for 'text' (char *) data?
>
> Using 'char *' already make it.
>
> > Q2: May I change to UCHAR / SCHAR to HB_UCHAR / HB_SCHAR,
> > as part of moving our special types to our own namespace?
> > (UCHAR is an Microsoft type name, also)
>
> Please not now. We have many different types and we haven't decide
> how the final version should look and what names space we should
> use. Now I suggest to make only basic modifications which does not
> break backward binary compatibility and freeze modifications to
> releaze new stable version with MT support. When this version
> will be ready then we can stat discussion on core API modifications
> and begin to implement it. Such modifications make take long time,
> even more then year and people will need stable version which MT
> so first we have to release it. Probably it should be version 1.2.
> After releasing 1.2 we can start new branch with 1.3 and begin to
> introduce agreed modifications. If the backward source code and/or
> binary compatibility will be seriously broken by new API (I expect it
> in this case) then probably next stable release should have number
> 2.0 to make difference between branches and 1.x and 2.x API.
>
>
> > Q3: Can we define the rules for different string/char types, so that
> > everyone speaks the same language here:
> > - HB_UCHAR, HB_SCHAR: ... ?
> > - char / HB_TEXT?: Harbour character/string (with future UTF-8 support) ?
> > - BYTE: ... Harbour raw binary data or other simple numeric BYTE ?
>
> The sign of BYTE is platform/C compiler dependent so should not be used
> internally as number holder because programmers does not know it will be
> mapped to signed or unsigned char. This type should be rather used to
> mark data where sign is undefined.
> I do not know yet what name space we will use and how we will represent
> Unicode strings so I do not think we should make any of such modifications
> now. Please remember that each time you are changing some definitions in
> core code you force code updating in 3-rd party projects. Making such
> modifications with important reasons and then reverting them or changing
> to sth else has to be serious problem for 3-rd party code developers.
> We have to well know what is our final goal before we start anything like
> that.
>
> > Maybe that would help for everyone to see more clearly.
>
> If we change it once again in few months then for sure not.
>
> best regards,
> Przemek
>
> ps. For new types I suggest to use sth like:
>
>   ANSI C types:
>      void,
>      [ [un]signed ] char, [ [un]signed ] short, [ [un]signed ] int,
>      [ [un]signed ] long, double,
>
>      [ [un]signed ] long long is not supported by some platforms / C
> compilers
>      so it should not be used
>
>   harbour overloaded types:
>      hbChar, hbSChar, hbUChar, hbShort, hbUShort, hbInt, hbUInt,
>      hbLong, hbULong, hbLongLong, hbULongLong, hbDouble,
>      hbMaxInt, hbMaxDouble,
>      hbCounter, hbSize, hbPtrDiff, hbPtrVal,
>      hbPointer,
>      hbWChar // for future wide character representation
>
>   harbour strict bit types:
>      hbI8, hbU8, hbI16, hbU16, hbI32, hbU32, hbI64, hbI64
>
>   Types which depends on internal HVM/compilation settings:
>      hbMaxVMInt - maximal integer which can be storred in HVM item
>                   (HB_IT_LONG). It's current HB_LONG, usually will be
>                   the same as hbMaxInt unless for some reasons it will
>                   not be reduced, f.e. compiler may support 128bit
>                   integers as hbMaxInt but we may don't use it for
>                   HB_IT_LONG due to performance reduction.
>
> It's not the full list. Just a startup proposition. After 1.2 we can
> discuss
> about the full list of types and new API. I will also want to update some
> public structures (f.e. RDD ones). All this modifications can make Harbour
> unstable for some time and when they will be finally ready then people
> using 3-rd party libraries will have to wait for their updating and new
> releases. Without 1.2 they will have very serious problem.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090208/71734426/attachment-0001.html
From vszakats at users.sourceforge.net  Sun Feb  8 12:07:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  8 12:07:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10205] trunk/harbour
Message-ID: <E1LWD87-0008BC-Se@74yxhf1.ch3.sourceforge.com>

Revision: 10205
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10205&view=rev
Author:   vszakats
Date:     2009-02-08 17:07:38 +0000 (Sun, 08 Feb 2009)

Log Message:
-----------
2009-02-08 18:06 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/gtwvt/gtwvt.c
    * BYTE -> CHAR (Windows)

  * contrib/hbct/ctwin.c
  * contrib/hbct/ctwin.h
    + Added hb_ctwGetPosWindows() to find out which window
      is visible on a given physical screen coordinate.

  * make_b32.mak
  * make_gcc.mak
  * make_vc.mak
    * Formatting.

  * include/hbdefs.h
    + Added type HB_COLOR to replace current BYTE.
    * Minor formatting.

  * contrib/rddsql/sddfb/make_b32.bat
  * contrib/rddsql/sddfb/make_vc.bat
  * contrib/rddsql/sddmy/make_b32.bat
  * contrib/rddsql/sddmy/make_vc.bat
  * contrib/rddsql/sddpg/make_b32.bat
  * contrib/rddsql/sddpg/make_vc.bat
    * Minor cleanup.

  * source/vm/hvm.c
  * source/vm/memvars.c
    * Added varnames to prototypes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/contrib/hbct/ctwin.h
    trunk/harbour/contrib/rddsql/sddfb/make_b32.bat
    trunk/harbour/contrib/rddsql/sddfb/make_vc.bat
    trunk/harbour/contrib/rddsql/sddmy/make_b32.bat
    trunk/harbour/contrib/rddsql/sddmy/make_vc.bat
    trunk/harbour/contrib/rddsql/sddpg/make_b32.bat
    trunk/harbour/contrib/rddsql/sddpg/make_vc.bat
    trunk/harbour/include/hbdefs.h
    trunk/harbour/make_b32.mak
    trunk/harbour/make_gcc.mak
    trunk/harbour/make_vc.mak
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb  8 14:57:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  8 14:57:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10206] trunk/harbour
Message-ID: <E1LWFmA-0008St-TD@d5vjzd1.ch3.sourceforge.com>

Revision: 10206
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10206&view=rev
Author:   vszakats
Date:     2009-02-08 19:57:07 +0000 (Sun, 08 Feb 2009)

Log Message:
-----------
2009-02-08 20:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/whatsnew.txt
    + Started 1.1.0 whatsnew section. Incomplete.
      Please, review, extend, reorder, proofread, etc.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/whatsnew.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb  8 16:37:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  8 16:37:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10207] trunk/harbour
Message-ID: <E1LWHKy-0002Wp-SG@dn4whf1.ch3.sourceforge.com>

Revision: 10207
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10207&view=rev
Author:   vszakats
Date:     2009-02-08 21:36:57 +0000 (Sun, 08 Feb 2009)

Log Message:
-----------
2009-02-08 22:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbapifs.h
  * source/rtl/spfiles.c
    + Added hb_spFileExists(). Same as hb_spFile(), but uses
      the more efficient (especially on networks) hb_fsFileExists()
      call to check for file exitance.
      [ not very elegant solution, as I've just copied the
      whole function, and changed the file existance call, maybe
      a worker function + passing the check function pointer
      could help, but the hb_fsFile() and hb_fsFileExists() workings
      differ slightly. ]

  * source/rdd/dbfntx/dbfntx1.c
  * source/rdd/dbfnsx/dbfnsx1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbf1.c
    % Using hb_spFileExists() instead of hb_spFile().
      This API also works for dirs where use doesn't have file listing
      rights, which may create a slight incompatibility by finding
      files which weren't found by former method (and by Clipper).
      C:\WINDOWS\TEMP\*.* were such when logged in as non-admin user,
      but this dir is only used as a default TEMP dir for DOS programs.
      Please speak up if you find this issue (or something else) to
      be problem.

  * source/rtl/file.c
    * File naming standardized.

  * doc/whatsnew.txt
    * Minor updates.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/include/hbapifs.h
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
    trunk/harbour/source/rtl/file.c
    trunk/harbour/source/rtl/spfiles.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Mon Feb  9 01:20:55 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Feb  9 01:23:59 2009
Subject: [Harbour] BYTE -> UCHAR patch
Message-ID: <1A07FEDC778C3E4AA417F089511F859C07B71C4573@Mail-yoq.SYNEL-COMPANY.LTD>

Internal representation is one thing,
but what happen when you need to interact with OS API and CRT?
You need to cast our internal types into those used by the API or run-time?
(like the whole WIN API types change when use work in UNICODE)

  Chen.
From harbour.01 at syenar.hu  Mon Feb  9 03:08:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  9 03:08:08 2009
Subject: [Harbour] BYTE -> UCHAR patch
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C07B71C4573@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C07B71C4573@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870902090008u3a02ff63y16e5088bf21e2a2b@mail.gmail.com>

Hi Chen,

Yes, we either need to convert or cast when dealing with the outside world.
Not just OS APIs,
but any 3rd party APIs.

This is what we do now, but in the future we can
add more built-in APIs for conversion, if our
internal representation becomes better defined
and/or more sophisticated.

Brgds,
Viktor

On Mon, Feb 9, 2009 at 7:20 AM, Chen Kedem <niki@synel.co.il> wrote:

> Internal representation is one thing,
> but what happen when you need to interact with OS API and CRT?
> You need to cast our internal types into those used by the API or run-time?
> (like the whole WIN API types change when use work in UNICODE)
>
>  Chen._______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090209/a5158bba/attachment.html
From vszakats at users.sourceforge.net  Mon Feb  9 06:43:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  9 06:43:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10208] trunk/harbour
Message-ID: <E1LWUYF-0002F8-5r@dn4whf1.ch3.sourceforge.com>

Revision: 10208
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10208&view=rev
Author:   vszakats
Date:     2009-02-09 11:43:46 +0000 (Mon, 09 Feb 2009)

Log Message:
-----------
2009-02-09 12:43 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/fstemp.c
    ! Added cast for MSVC warning. (this code part was 
      formerly only active for non-Windows builds)

  * include/hbapifs.h
  * source/rtl/fstemp.c
  * source/rtl/filebuf.c
    * UCHAR -> BYTE in new FS functions, for consistency.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapifs.h
    trunk/harbour/source/rtl/filebuf.c
    trunk/harbour/source/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Feb  9 08:55:31 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb  9 08:55:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10209] trunk/harbour
Message-ID: <E1LWWbj-000499-CE@3kljzd1.ch3.sourceforge.com>

Revision: 10209
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10209&view=rev
Author:   druzus
Date:     2009-02-09 13:55:30 +0000 (Mon, 09 Feb 2009)

Log Message:
-----------
2009-02-09 15:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/hsx/hsx.c
    * keep HSX indexes in global table synced by mutex instead of
      using thread storage data (TSD) on HVM stack. It allows to
      move HSX indexes between threads, f.e. when workarea is moved
      by HB_DEATCH()/HB_REQUEST()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rdd/hsx/hsx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Mon Feb  9 09:53:24 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Feb  9 09:53:12 2009
Subject: [Harbour] How to link an external C library to Harbour?
Message-ID: <49904364.6050404@zen.co.uk>

I have a library of functions to control a data acquisition card via USB 
which is written for Linux. I want to access these functions from 
Harbour. Is there a "How To" anywhere that would help me to achieve this?
I have tried simply calling the functions in my .prg and linking the C 
library, but all the functions are unresolved at link time.
Undefined reference to `HB_FUN_CLEARALLDIGITAL' etc. etc.
 I have used the same card with xBase++ and xHarbour in Windows using 
functions in an external .dll which work well, but I do not know how to 
use this C library in Linux.
Any help would be appreciated.

Regards, Barry
From druzus at acn.waw.pl  Mon Feb  9 10:27:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  9 10:22:19 2009
Subject: [Harbour] How to link an external C library to Harbour?
In-Reply-To: <49904364.6050404@zen.co.uk>
References: <49904364.6050404@zen.co.uk>
Message-ID: <20090209152703.GA31471@uran.home.aster.pl>

On Mon, 09 Feb 2009, Barry Jackson wrote:

Hi Barry,

> I have a library of functions to control a data acquisition card via USB 
> which is written for Linux. I want to access these functions from Harbour. 
> Is there a "How To" anywhere that would help me to achieve this?
> I have tried simply calling the functions in my .prg and linking the C 
> library, but all the functions are unresolved at link time.
> Undefined reference to `HB_FUN_CLEARALLDIGITAL' etc. etc.
> I have used the same card with xBase++ and xHarbour in Windows using 
> functions in an external .dll which work well, but I do not know how to use 
> this C library in Linux.
> Any help would be appreciated.

For each function you want to call from external library you have to
create Harbour function as wrapper to the external C function. You
can start using #pragma begindump / #pragma enddump but for final version
I suggest to move C code into separated .c file. F.e. let's create
wrappers to some GLIBC functions:
   extern int chmod(const char *path, mode_t mode);
   extern mode_t umask(mode_t mask);

The code may look like:

   /*** tst.prg ***/
   proc main()
      ? UMASK(0)
      ? CHMOD( "tst.prg", 420 /* 644 in octal notation */ )
   return

   /* start C code */
   #pragma begindump

   /* header files for external functions */
   #include <sys/stat.h>
   #include <sys/types.h>

   /* Harbour functions header file */
   #include "hbapi.h"

   HB_FUNC( UMASK )
   {
      hb_retni( umask( hb_parni( 1 ) ) );
   }

   HB_FUNC( CHMOD )
   {
      hb_retni( chmod( hb_parc( 1 ), hb_parni( 2 ) ) );
   }

   /* end of C code */
   #pragma enddump

   /*** tst.prg EOF ***/


In this code are used Harbour functions hb_par*(), hb_ret*()
In Clipper's NG you can find documentation for extended C API
and _par*()/_ret*() functions which makes the same job as
Harbour ones.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Feb  9 12:36:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb  9 12:36:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10209] trunk/harbour
In-Reply-To: <E1LWWbj-000499-CE@3kljzd1.ch3.sourceforge.com>
References: <E1LWWbj-000499-CE@3kljzd1.ch3.sourceforge.com>
Message-ID: <609353e70902090936q4fd6548fgc6e8c039f7e4bc34@mail.gmail.com>

Without a sample feature like this are impossible tu use for me
Is possible post ultra little sample in changelog


2009/2/9 <druzus@users.sourceforge.net>
>
> Revision: 10209
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10209&view=rev
> Author:   druzus
> Date:     2009-02-09 13:55:30 +0000 (Mon, 09 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-09 15:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/rdd/hsx/hsx.c
>    * keep HSX indexes in global table synced by mutex instead of
>      using thread storage data (TSD) on HVM stack. It allows to
>      move HSX indexes between threads, f.e. when workarea is moved
>      by HB_DEATCH()/HB_REQUEST()
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/source/rdd/hsx/hsx.c
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour



--
Massimo Belgrano
From druzus at acn.waw.pl  Mon Feb  9 16:55:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  9 16:50:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10209] trunk/harbour
In-Reply-To: <609353e70902090936q4fd6548fgc6e8c039f7e4bc34@mail.gmail.com>
References: <E1LWWbj-000499-CE@3kljzd1.ch3.sourceforge.com>
	<609353e70902090936q4fd6548fgc6e8c039f7e4bc34@mail.gmail.com>
Message-ID: <20090209215502.GA29732@uran.home.aster.pl>

On Mon, 09 Feb 2009, Massimo Belgrano wrote:

Hi Massimo,

> Without a sample feature like this are impossible tu use for me
> Is possible post ultra little sample in changelog

I'm afraid I do not understand what you are asking for.
The documentation and examples for HSX indexes you can
find in the inet and ChangeLog. Our HSX implementation
if fully SIX3 and CFTS compatible. I also added additonal
documentation for some Harbour extensions in harbour/
source/rdd/hsx/hsx.c header file. You can also find simple
example/test code for HSX in harbour/tests directory.
In harbour/source/rdd/usrrdd/rdds/hscdx.prg you have
simple RDD example which introduce automatically updated
HSX indexes.
HB_DEATCH()/HB_REQUEST() it's my typo - by mistake 'DB'
is eaten. These functions are called db_dbDetach() and
hb_dbRequest(). This mechanism was discussed here and
I was sending different examples for using it. You can
also see such example in harbour/tests/mt or in xbase++
documentation where such functions are called dbRelease()
and dbRequest() - Harbour also supports original xbase++
names so you can use them if you prefer it.

The last modification in HSX allows to use HSX index
created by one thread in another one because they are not
longer thread local stored in TSD but global to Harbour
application. If you do no understand the difference then
any examples will not help in this case because it's rather
general MT programming knowledge and here it's necessary to
understand MT programming rules. Any examples will look like
the ones which already exists (see above).

best regards,
Przemek
From zen25000 at zen.co.uk  Mon Feb  9 17:01:20 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Feb  9 17:01:07 2009
Subject: [Harbour] How to link an external C library to Harbour?
In-Reply-To: <20090209152703.GA31471@uran.home.aster.pl>
References: <49904364.6050404@zen.co.uk>
	<20090209152703.GA31471@uran.home.aster.pl>
Message-ID: <4990A7B0.6070406@zen.co.uk>

Przemek,
Thank you so much for your explanation. Excellent!
I now have one C function working, so I am on the way! :-) 

I now need to use another thread for timing / sampling loop - I have
made a test like this:-
/* ttest.prg  */
func main
PUBLIC  SampleCsecs:=1, ShutDown:=.F.
//Start Thread 2 to handle sampling and clock
oThread:=Thread():New()
oThread:setInterval( SampleCsecs )
oThread:start( {|| MainClock() } )
DO WHILE !ShutDown
    inkey(0)
        IF LASTKEY()=27
        ShutDown=.T.
    EXIT
ENDDO
RETURN

FUNCTION MainClock
   DispOutAt(0, MaxCol()-7, Time())
/*Lots of menu and control functions in here*/
         IF Shutdown
         ThreadObject():setInterval( NIL )
         RETURN nil
      ENDIF
RETURN nil
---------------end-----------------

It builds without errors but thread 2 never calls MainClock().
I did this in xHarbour with BackgroundTaskAdd (IIRC) and in xBase++ as 
above,
what would be the correct approach in Harbour?
I can find no documentation on threads / background tasks and searches 
of SVN
have not found anything to help.
Regards, Barry

 



Przemyslaw Czerpak wrote:
>
> For each function you want to call from external library you have to
> create Harbour function as wrapper to the external C function. 
From vszakats at users.sourceforge.net  Mon Feb  9 18:44:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  9 18:44:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10210] trunk/harbour
Message-ID: <E1LWfo2-0004YO-94@dn4whf1.ch3.sourceforge.com>

Revision: 10210
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10210&view=rev
Author:   vszakats
Date:     2009-02-09 23:44:49 +0000 (Mon, 09 Feb 2009)

Log Message:
-----------
2009-02-10 00:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbapigt.h
  * source/rtl/gtfunc.c
    + Extended HB_GT_INFO structure with nPCount member.

  * include/hbgtinfo.ch
  * include/hbgtcore.h
  * source/rtl/hbgtcore.c
    + Added HB_GTI_CARGO. This can be used to store whatever
      user defined value on a per GT basis.
      HB_GTINFO( HB_GTI_CARGO[, <xValue ] ) -> <xPrevValue>

  * source/rtl/hbgtcore.c
    ! hb_gt_def_Alert() fixed to also initialize pNewVal2 with NULL.
      (didn't cause any real-world harm).

  * contrib/hbwin/win_tprn.prg
    % Minor optimizations.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_tprn.prg
    trunk/harbour/include/hbapigt.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/include/hbgtinfo.ch
    trunk/harbour/source/rtl/gtfunc.c
    trunk/harbour/source/rtl/hbgtcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  9 18:51:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  9 18:51:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10211]
	trunk/harbour/ChangeLog
Message-ID: <E1LWfu4-0005X2-7v@dn4whf1.ch3.sourceforge.com>

Revision: 10211
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10211&view=rev
Author:   vszakats
Date:     2009-02-09 23:51:00 +0000 (Mon, 09 Feb 2009)

Log Message:
-----------
2009-02-10 00:50 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * ChangeLog
    * Updated [DONE] statuses.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fsgiudice at users.sourceforge.net  Mon Feb  9 19:39:41 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Mon Feb  9 19:39:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10212] trunk/harbour
Message-ID: <E1LWgf7-0003yP-GP@d5vjzd1.ch3.sourceforge.com>

Revision: 10212
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10212&view=rev
Author:   fsgiudice
Date:     2009-02-10 00:39:40 +0000 (Tue, 10 Feb 2009)

Log Message:
-----------
2009-02-10 01:38 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpd.prg
    * Updated uHTTPD (Work in progress)
      + Added support for Sessions
      * Fixed ini file support
  * harbour/contrib/examples/uhttpd/cgifunc.prg
    * Fixed some functions
  + harbour/contrib/examples/uhttpd/session.prg
    + Session class
  * harbour/contrib/examples/uhttpd/modules/info.prg
    + Added display of SESSION vars
    + Added a simple example of SESSIONS
  * harbour/contrib/examples/uhttpd/hbmk_b32.bat
  * harbour/contrib/examples/uhttpd/hbmk_b32.bat
    + Added new files
  + harbour/contrib/examples/uhttpd/sessions
    + Added folder used in samples

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/cgifunc.prg
    trunk/harbour/contrib/examples/uhttpd/cookie.prg
    trunk/harbour/contrib/examples/uhttpd/hbmk_b32.bat
    trunk/harbour/contrib/examples/uhttpd/hbmk_vc.bat
    trunk/harbour/contrib/examples/uhttpd/modules/info.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg

Added Paths:
-----------
    trunk/harbour/contrib/examples/uhttpd/session.prg
    trunk/harbour/contrib/examples/uhttpd/sessions/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  9 19:47:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  9 19:47:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10213] trunk/harbour
Message-ID: <E1LWgn2-0003bh-3F@dn4whf1.ch3.sourceforge.com>

Revision: 10213
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10213&view=rev
Author:   vszakats
Date:     2009-02-10 00:47:50 +0000 (Tue, 10 Feb 2009)

Log Message:
-----------
2009-02-10 01:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/whatsnew.txt
  * include/clipdefs.h
  * include/filesys.api
  * include/gt.api
  * include/hbapi.h
  * include/hbapierr.h
  * include/hbapifs.h
  * include/hbapigt.h
  * include/hbapiitm.h
  * include/hbapirdd.h
  * include/hbdefs.h
  * include/hbgfxdef.ch
  * include/hbgtinfo.ch
  * include/hbsetup.ch
  * include/hbsetup.h
  * include/item.api
  * include/rdd.api
  * source/rtl/errorapi.c
  * source/rtl/filesys.c
  * source/vm/cmdarg.c
  * common.mak
  - source/vm/debugold.c
  * source/vm/Makefile
  * source/vm/vmmt/Makefile
    - Permanently disabled HB_LEGACY_LEVEL support.
    + Added HB_LEGACY_LEVEL2 support to protect some
      recently made incompatible changes. Old methods
      are supported until Harbour 1.2. Please update
      your code until then. To test your code for
      compatibility with recent changes, you can turn
      off legacy support manually by #defining HB_LEGACY_OFF.
      (HB_USER_CFLAGS=-DHB_LEGACY_OFF)
      This is recommended on local systems for all
      Harbour developers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/common.mak
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/include/clipdefs.h
    trunk/harbour/include/filesys.api
    trunk/harbour/include/gt.api
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapierr.h
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbapigt.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/include/hbapirdd.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbgfxdef.ch
    trunk/harbour/include/hbgtinfo.ch
    trunk/harbour/include/hbsetup.ch
    trunk/harbour/include/hbsetup.h
    trunk/harbour/include/item.api
    trunk/harbour/include/rdd.api
    trunk/harbour/source/rtl/errorapi.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/source/vm/vmmt/Makefile

Removed Paths:
-------------
    trunk/harbour/source/vm/debugold.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb  9 20:17:38 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb  9 20:12:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10210] trunk/harbour
In-Reply-To: <E1LWfo2-0004YO-94@dn4whf1.ch3.sourceforge.com>
References: <E1LWfo2-0004YO-94@dn4whf1.ch3.sourceforge.com>
Message-ID: <20090210011738.GA5664@uran.home.aster.pl>

On Mon, 09 Feb 2009, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> 2009-02-10 00:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * include/hbapigt.h
>   * source/rtl/gtfunc.c
>     + Extended HB_GT_INFO structure with nPCount member.

It's not clear for me why we need this parameter.
So far we were checking for NULL in pNewVal.
Should we now update the whole code which uses pNewVal to 1-st
check if nPCount >= 1 and code which uses pNewVal2 to check
if nPCount >= 2?
I'm finding it redundant and confusing.
I can understand that we may want to introduce such member but
for me it makes sense only if we change the whole HB_GT_INFO
structure to support variable number of parameters instead of
fixed ones. In such case we will probably need some helper
functions or macros to initialize this structure, add new
parameters and clear if necessary.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Feb  9 20:27:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  9 20:28:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10214] trunk/harbour
Message-ID: <E1LWhPn-0004CY-Lg@c3vjzd1.ch3.sourceforge.com>

Revision: 10214
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10214&view=rev
Author:   vszakats
Date:     2009-02-10 01:27:54 +0000 (Tue, 10 Feb 2009)

Log Message:
-----------
2009-02-10 02:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/whatsnew.txt
  * include/hbextern.ch
  * source/vm/runner.c
  * source/rdd/dbcmd.c
    * __HRB*() functions marked as HB_LEGACY_LEVEL2 compatibility,
      please update your code to use HB_HRB*().
    * __RDDGETTEMPALIAS() marked as HB_LEGACY_LEVEL2 compatibility,
      please update your code to use HB_RDDGETTEMPALIAS().
    ; I've permanently remove these symbols from hbextern.ch, so 
      regardless of the legacy setting, hbrun won't have them 
      anymore. This is merely technical, as it would need some 
      hacks in the make system to push through HB_LEGACY_OFF 
      to pptable.c generation. If someone wants to deal with 
      this, even better.

  * include/hbstdgen.ch
    * Added #undef __FILE__.

  * include/hbsetup.ch
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/include/hbextern.ch
    trunk/harbour/include/hbsetup.ch
    trunk/harbour/include/hbstdgen.ch
    trunk/harbour/source/rdd/dbcmd.c
    trunk/harbour/source/vm/runner.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb  9 20:31:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  9 20:31:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10210] trunk/harbour
In-Reply-To: <20090210011738.GA5664@uran.home.aster.pl>
References: <E1LWfo2-0004YO-94@dn4whf1.ch3.sourceforge.com>
	<20090210011738.GA5664@uran.home.aster.pl>
Message-ID: <18d502870902091731o53423790k7c53866cf8a5b0bc@mail.gmail.com>

Hi Przemek,


> It's not clear for me why we need this parameter.
> So far we were checking for NULL in pNewVal.
> Should we now update the whole code which uses pNewVal to 1-st
> check if nPCount >= 1 and code which uses pNewVal2 to check
> if nPCount >= 2?


> I'm finding it redundant and confusing.
> I can understand that we may want to introduce such member but
> for me it makes sense only if we change the whole HB_GT_INFO
> structure to support variable number of parameters instead of
> fixed ones. In such case we will probably need some helper
> functions or macros to initialize this structure, add new
> parameters and clear if necessary.


I wanted to detect parameter existence, you're right NULL
is just fine, it's just slipped out of my mind.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/0f1a935f/attachment-0001.html
From harbour.01 at syenar.hu  Mon Feb  9 20:34:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  9 20:34:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10210] trunk/harbour
In-Reply-To: <18d502870902091731o53423790k7c53866cf8a5b0bc@mail.gmail.com>
References: <E1LWfo2-0004YO-94@dn4whf1.ch3.sourceforge.com>
	<20090210011738.GA5664@uran.home.aster.pl>
	<18d502870902091731o53423790k7c53866cf8a5b0bc@mail.gmail.com>
Message-ID: <18d502870902091734q504e2ba0qdd9ebdc9e5a274df@mail.gmail.com>

Variable number of parameters is a nice idea, BTW.Would make the whole
function pretty generic.

Brgds,
Viktor

On Tue, Feb 10, 2009 at 2:31 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi Przemek,
>
>
>> It's not clear for me why we need this parameter.
>> So far we were checking for NULL in pNewVal.
>> Should we now update the whole code which uses pNewVal to 1-st
>> check if nPCount >= 1 and code which uses pNewVal2 to check
>> if nPCount >= 2?
>
>
>> I'm finding it redundant and confusing.
>> I can understand that we may want to introduce such member but
>> for me it makes sense only if we change the whole HB_GT_INFO
>> structure to support variable number of parameters instead of
>> fixed ones. In such case we will probably need some helper
>> functions or macros to initialize this structure, add new
>> parameters and clear if necessary.
>
>
> I wanted to detect parameter existence, you're right NULL
> is just fine, it's just slipped out of my mind.
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/81be59fc/attachment.html
From vszakats at users.sourceforge.net  Mon Feb  9 20:35:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  9 20:35:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10215] trunk/harbour
Message-ID: <E1LWhWu-0004TN-NH@c3vjzd1.ch3.sourceforge.com>

Revision: 10215
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10215&view=rev
Author:   vszakats
Date:     2009-02-10 01:35:15 +0000 (Tue, 10 Feb 2009)

Log Message:
-----------
2009-02-10 02:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbapigt.h
  * source/rtl/hbgtcore.c
  * source/rtl/gtfunc.c
    - Removed unnecessary extension to HB_GT_INFO.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapigt.h
    trunk/harbour/source/rtl/gtfunc.c
    trunk/harbour/source/rtl/hbgtcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Feb  9 20:45:26 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb  9 20:45:30 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
Message-ID: <21926105.post@talk.nabble.com>


Hello Przemek

Can we have Date type as DateTimeStamp?

Francesco has sent me a solution to retrieve
datetime value from an com object but it returns it
as an object. This forces me to rewrite code 
employing active-x controls.

This is the only feedback from my users 
whenever they use my extended utilities.
Not a show stopper but certainly a cause of 
embrassment from my clients.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Date-Time-Functions---Revisited-%28II%29-tp21926105p21926105.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Feb  9 20:54:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  9 20:54:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10216] trunk/harbour
Message-ID: <E1LWhpU-00050b-8M@c3vjzd1.ch3.sourceforge.com>

Revision: 10216
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10216&view=rev
Author:   vszakats
Date:     2009-02-10 01:54:27 +0000 (Tue, 10 Feb 2009)

Log Message:
-----------
2009-02-10 02:53 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * ChangeLog
  * contrib/rddsql/sddmy/common.mak
  * contrib/rddsql/sddmy/make_b32.bat
  * contrib/rddsql/sddmy/make_vc.bat
  * contrib/rddsql/sddpg/common.mak
  * contrib/rddsql/sddpg/make_b32.bat
  * contrib/rddsql/sddpg/make_vc.bat
  * contrib/rddsql/sddfb/common.mak
  * contrib/rddsql/sddfb/make_b32.bat
  * contrib/rddsql/sddfb/make_vc.bat
    ! Fixed HB_ROOT setting. This fixes a former TOFIX
      in ChangeLog.
      'set HB_ROOT = ..\..\..' was right, but spaces 
      aren't accepted around '=', so it wasn't executed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/common.mak
    trunk/harbour/contrib/rddsql/sddfb/make_b32.bat
    trunk/harbour/contrib/rddsql/sddfb/make_vc.bat
    trunk/harbour/contrib/rddsql/sddmy/common.mak
    trunk/harbour/contrib/rddsql/sddmy/make_b32.bat
    trunk/harbour/contrib/rddsql/sddmy/make_vc.bat
    trunk/harbour/contrib/rddsql/sddpg/common.mak
    trunk/harbour/contrib/rddsql/sddpg/make_b32.bat
    trunk/harbour/contrib/rddsql/sddpg/make_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb  9 21:09:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  9 21:09:44 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <21926105.post@talk.nabble.com>
References: <21926105.post@talk.nabble.com>
Message-ID: <18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>

Hi Pritpal,

Sorry to jump it but I fail to see why should we rush a new proprietary type
into the core, while it has a
proper 3rd party solution.

There could be lots of other types introduced into
core by this reasoning.

Datetime's only "merit" seems that some proprietary
xbase dialects have already implemented it, plus xhb.
The xhb implementation (particularly the syntax) stinks
however, so if we decide to introduce it, it should be
done properly, and only if it really gives proper benefits
for the whole user base compared to the cost.

Instead of hard-wiring more core types for specific usages,
it'd seem much more useful to consider this item from
the TODO, which would smooth out the few remaining
drawbacks of current possibilities:

---
Detail...: Extended HB_IT_POINTER. In practice we can give them the
           same functionality as for objects and use them for fast
           creation objects at C level. We can also add HB_VALTYPE()
           function which will return the extended type name, f.e.
           "WINDOW", "FONT", "SOCKET" or anything what 3-rd party
           programmers may want to use. It will greatly simplify
           writing some libraries.
---

Brgds,
Viktor

On Tue, Feb 10, 2009 at 2:45 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hello Przemek
>
> Can we have Date type as DateTimeStamp?
>
> Francesco has sent me a solution to retrieve
> datetime value from an com object but it returns it
> as an object. This forces me to rewrite code
> employing active-x controls.
>
> This is the only feedback from my users
> whenever they use my extended utilities.
> Not a show stopper but certainly a cause of
> embrassment from my clients.
>
> Regards
> Pritpal Bedi
> --
> View this message in context:
> http://www.nabble.com/Date-Time-Functions---Revisited-%28II%29-tp21926105p21926105.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/42b9bbd9/attachment.html
From bedipritpal at hotmail.com  Mon Feb  9 21:37:37 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb  9 21:37:40 2009
Subject: [Harbour] Copyright Information about Function Names
Message-ID: <21926594.post@talk.nabble.com>


Hi Everybody

I need some clarification on the issue
related with function names used from one 
compiler in another.

I am implementing Xbase++ parts in GTWVG and 
all classes have a prefix of WVG*(). In Xbase++ naming
of classes is prefixed with Xbp*(). This necessiates
an a .ch #xtranslating WVG* => XBP* to compile
an Xbase++ prg in Harbour.

What if I change WVG* to XBP* and Xbase++ .ch
files constants.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Copyright-Information-about-Function-Names-tp21926594p21926594.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Feb  9 21:54:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  9 21:54:45 2009
Subject: [Harbour] 1.1 pending items
Message-ID: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>

Hi everyone,
Who has what pending items (fixes, new development, TODOs)
before the 1.1 release?

This is my list for 1.1:
- gtwvt: add HB_GTI_BOXCP support to change hard-wired "EN" CP.
- core: HB_MD5() incompatible modification.
- contrib: openssl GNU-make detection.
- core: hb_snprintf() switch?
- xhb, hbwhat: .prg level MT issues.
- hbct .c level MT issues in files.c. (per thread cargo holder may help?)
- gtwvg: reported GPF with MSVC, possible problems with other compilers,
AMD64 mode and WinCE.
  (build stopper !)
- core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().
- core: hb_regexMatch()'s 3rd parameter has a double meaning.
- hbct: SetFDaTi() duplicated logic.
- hbct: hb_fsFindClose() at app exit.
- New dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, <cDelimArg>, <nConnection>
) -> <lSuccess>
- Platform builds and tests.

Post 1.1:
- Type cleanup.
- hbole, hbwin, hbwhat consolidation, cleanup (can be started anytime).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/5b76d2f5/attachment.html
From druzus at users.sourceforge.net  Mon Feb  9 22:10:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb  9 22:11:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10217] trunk/harbour
Message-ID: <E1LWj1W-00079V-I0@d5vjzd1.ch3.sourceforge.com>

Revision: 10217
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10217&view=rev
Author:   druzus
Date:     2009-02-10 03:10:57 +0000 (Tue, 10 Feb 2009)

Log Message:
-----------
2009-02-10 04:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/classes.c
    * covered some old functions marked as deprecated long time ago
      by HB_LEGACY_LEVEL2 macro

  * harbour/source/rtl/hbgtcore.c
  * harbour/contrib/hbct/ctwin.c
  * harbour/contrib/hbct/keyset.c
  * harbour/contrib/hbct/misc3.c
  * harbour/contrib/hbnf/numlock.c
  * harbour/contrib/hbnf/shift.c
  * harbour/contrib/hbnf/alt.c
  * harbour/contrib/hbnf/ctrl.c
  * harbour/contrib/hbnf/caplock.c
    * use memset( &gtInfo, 0, sizeof( gtInfo ) ); to initialize
      HB_GT_INFO structure - it also fixes possible problems with
      uninitialized pNewVal2 member in few cases.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/contrib/hbct/keyset.c
    trunk/harbour/contrib/hbct/misc3.c
    trunk/harbour/contrib/hbnf/alt.c
    trunk/harbour/contrib/hbnf/caplock.c
    trunk/harbour/contrib/hbnf/ctrl.c
    trunk/harbour/contrib/hbnf/numlock.c
    trunk/harbour/contrib/hbnf/shift.c
    trunk/harbour/source/rtl/hbgtcore.c
    trunk/harbour/source/vm/classes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb  9 22:14:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  9 22:14:33 2009
Subject: [Harbour] Copyright Information about Function Names
In-Reply-To: <21926594.post@talk.nabble.com>
References: <21926594.post@talk.nabble.com>
Message-ID: <18d502870902091914m5b73db86v8c5353483f476935@mail.gmail.com>

Hi Pritpal,

It's highly unlikely that function names or namespaces
are copyrighted.

This is rather a design and package management issue.
If you use original Xbase++ names, you create a
potential name collision with another tool trying to implement
the same thing. In practice this could be a problem if two
overlapping subsets of these functions are implemented
by two competing libs. Users won't be able to use both
at the same time. A likely scenario for this is when
user has some local partial implementations of some
XPP classes, and will now experience collisions.
In the case of GTWVG this doesn't seem very likely.

I'd personally do the renaming after GTWVG is proven
to be working properly, now it seem a bit early yet.

Much more important would be to resolve the violation
of WVT* and WIN*() namespaces in GTWVG, and
last but not least the build-breaker MSVC GPF, and
the meaningful warnings. [ posted on the list a while
ago. ]

Brgds,
Viktor

On Tue, Feb 10, 2009 at 3:37 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi Everybody
>
> I need some clarification on the issue
> related with function names used from one
> compiler in another.
>
> I am implementing Xbase++ parts in GTWVG and
> all classes have a prefix of WVG*(). In Xbase++ naming
> of classes is prefixed with Xbp*(). This necessiates
> an a .ch #xtranslating WVG* => XBP* to compile
> an Xbase++ prg in Harbour.
>
> What if I change WVG* to XBP* and Xbase++ .ch
> files constants.
>
> Regards
> Pritpal Bedi
> --
> View this message in context:
> http://www.nabble.com/Copyright-Information-about-Function-Names-tp21926594p21926594.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/5e467003/attachment.html
From vszakats at users.sourceforge.net  Mon Feb  9 22:19:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  9 22:19:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10218] trunk/harbour
Message-ID: <E1LWj9T-0005mK-90@c3vjzd1.ch3.sourceforge.com>

Revision: 10218
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10218&view=rev
Author:   vszakats
Date:     2009-02-10 03:19:10 +0000 (Tue, 10 Feb 2009)

Log Message:
-----------
2009-02-10 03:52 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbssl/Makefile
    + Added new detection dir.

  * source/rtl/gtwvt/gtwvt.c
    + Added support for HB_GTI_BOXCP.
      (available for UNICODE builds only).

  * source/rtl/filesys.c
    + Added (untested) support for *NIX system to
      hb_fsBaseDirBuff() / HB_DIRBASE().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Feb  9 23:31:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb  9 23:31:47 2009
Subject: [Harbour] Copyright Information about Function Names
In-Reply-To: <18d502870902091914m5b73db86v8c5353483f476935@mail.gmail.com>
References: <21926594.post@talk.nabble.com>
	<18d502870902091914m5b73db86v8c5353483f476935@mail.gmail.com>
Message-ID: <21927558.post@talk.nabble.com>


Viktor

>It's highly unlikely that function names or namespaces
>are copyrighted.

I too think so. Otherwise clones to the other compilers
would not been in existance.

<<<
This is rather a design and package management issue.
If you use original Xbase++ names, you create a
potential name collision with another tool trying to implement
the same thing. In practice this could be a problem if two
overlapping subsets of these functions are implemented
by two competing libs. Users won't be able to use both
at the same time. A likely scenario for this is when
user has some local partial implementations of some
XPP classes, and will now experience collisions.
In the case of GTWVG this doesn't seem very likely.
>>>

I do not think anybody has done so far on this front.
It is only GTWVG which is implementing XbpParts.
But nevertheless, this is not a big issue, a simple .ch
does the trick.

<<<
I'd personally do the renaming after GTWVG is proven
to be working properly, now it seem a bit early yet.
>>>

What you mean by "proven" ? For the last few years
my applns are in production with GTWVG. 
BTW, a simple Xbase++ program has been submitted
to Harbour and it ran flawless just with few changes.
If anybody is interested to look into that code, speak up.

<<<
Much more important would be to resolve the violation
of WVT* and WIN*() namespaces in GTWVG, and
last but not least the build-breaker MSVC GPF, and
the meaningful warnings. [ posted on the list a while
ago. ]
>>>

WVT* namespace cannot be changed, and it need not be.
WIN* namespace is under transition as we discussed earlier.
I have fixed most of MSVC warnings, but do not know 
how to fix GPF as I am not a user of MSVC. How I can 
have MSVC with bulk of the downloads it attracts?
Or cn you provide more info where it crashes?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Copyright-Information-about-Function-Names-tp21926594p21927558.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From elart at elart.it  Tue Feb 10 03:36:00 2009
From: elart at elart.it (elart)
Date: Tue Feb 10 03:36:04 2009
Subject: [Harbour] Linux Ubuntu 8.10 error on compile...
Message-ID: <P3sPCLf7.1234254960.5181010.marcobra@82.105.36.210>


Today compiling from sources...

make[3]: Entering directory
`/usr/src/harbour/harbour/source/rtl/linux/gcc'
gcc -I. -I../../../../include -Wall -W -O3  -c ../../filesys.c -ofilesys.o
../../filesys.c: In function ?hb_fsBaseDirBuff?:
../../filesys.c:3242: error: invalid operands to binary + (have
?char[257]? and ?int?)
../../filesys.c:3246: error: ?byBuffer? undeclared (first use in this
function)
../../filesys.c:3246: error: (Each undeclared identifier is reported only
once
../../filesys.c:3246: error: for each function it appears in.)
make[3]: *** [filesys.o] Error 1
make[3]: Leaving directory
`/usr/src/harbour/harbour/source/rtl/linux/gcc'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `/usr/src/harbour/harbour/source/rtl'
make[1]: *** [rtl.inst] Error 2
make[1]: Leaving directory `/usr/src/harbour/harbour/source'
make: *** [source.inst] Error 2

Best regards and thank you
From mbelgrano at deltain.it  Tue Feb 10 04:22:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 10 04:22:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10209] trunk/harbour
In-Reply-To: <20090209215502.GA29732@uran.home.aster.pl>
References: <E1LWWbj-000499-CE@3kljzd1.ch3.sourceforge.com>
	<609353e70902090936q4fd6548fgc6e8c039f7e4bc34@mail.gmail.com>
	<20090209215502.GA29732@uran.home.aster.pl>
Message-ID: <609353e70902100122j495f2d8ag6168a8d60ea36d12@mail.gmail.com>

Thanks for your useful suggestion
my suggestion is add sample in changelog  (or reference where is the
sample) because sample explain better that word

A newbies harbour's user must
search in changelog
read harbour/source/rdd/hsx/hsx.c header file
search in mailing list where the mechanism was discusse
read in harbour/tests/mt or
search in xbase++  documentation for dbRelease()  and dbRequest() -

This only because is mt related?


2009/2/9 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Mon, 09 Feb 2009, Massimo Belgrano wrote:
>
> Hi Massimo,
>
>> Without a sample feature like this are impossible tu use for me
>> Is possible post ultra little sample in changelog
>
> I'm afraid I do not understand what you are asking for.
> The documentation and examples for HSX indexes you can
> find in the inet and ChangeLog. Our HSX implementation
> if fully SIX3 and CFTS compatible. I also added additonal
> documentation for some Harbour extensions in harbour/
> source/rdd/hsx/hsx.c header file. You can also find simple
> example/test code for HSX in harbour/tests directory.
> In harbour/source/rdd/usrrdd/rdds/hscdx.prg you have
> simple RDD example which introduce automatically updated
> HSX indexes.
> HB_DEATCH()/HB_REQUEST() it's my typo - by mistake 'DB'
> is eaten. These functions are called db_dbDetach() and
> hb_dbRequest(). This mechanism was discussed here and
> I was sending different examples for using it. You can
> also see such example in harbour/tests/mt or in xbase++
> documentation where such functions are called dbRelease()
> and dbRequest() - Harbour also supports original xbase++
> names so you can use them if you prefer it.
>
> The last modification in HSX allows to use HSX index
> created by one thread in another one because they are not
> longer thread local stored in TSD but global to Harbour
> application. If you do no understand the difference then
> any examples will not help in this case because it's rather
> general MT programming knowledge and here it's necessary to
> understand MT programming rules. Any examples will look like
> the ones which already exists (see above).
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Feb 10 04:30:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 04:30:18 2009
Subject: [Harbour] Copyright Information about Function Names
In-Reply-To: <21927558.post@talk.nabble.com>
References: <21926594.post@talk.nabble.com>
	<18d502870902091914m5b73db86v8c5353483f476935@mail.gmail.com>
	<21927558.post@talk.nabble.com>
Message-ID: <18d502870902100130v2beddb41ge9032ded68dc51f8@mail.gmail.com>

Hi Pritpal,


> What you mean by "proven" ? For the last few years
> my applns are in production with GTWVG.
> BTW, a simple Xbase++ program has been submitted
> to Harbour and it ran flawless just with few changes.
> If anybody is interested to look into that code, speak up.


For me it does only GPF, for example. By proven I meant
some tests and feedback by users, followed by some finishing.
It should build and run on all Harbour supported C compilers.


> WVT* namespace cannot be changed, and it need not be.
> WIN* namespace is under transition as we discussed earlier.
> I have fixed most of MSVC warnings, but do not know
> how to fix GPF as I am not a user of MSVC. How I can
> have MSVC with bulk of the downloads it attracts?
> Or cn you provide more info where it crashes?


You can download the Express version from MS website
(for free) and install it.

Building Harbour and tests is just as easy as for BCC.
You can use the installed "vsvars.bat" (or similarly named)
file to setup your environment before makes and builds.

I've provided the hole crash dump, with function names.
(it crashed in the same wrapper function in both tests,
so it seems a clear cut case, not some kind of memory
corruption).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/d31b92e4/attachment.html
From vszakats at users.sourceforge.net  Tue Feb 10 04:34:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 10 04:34:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10219] trunk/harbour
Message-ID: <E1LWp0v-00088b-Lb@3kljzd1.ch3.sourceforge.com>

Revision: 10219
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10219&view=rev
Author:   vszakats
Date:     2009-02-10 09:34:44 +0000 (Tue, 10 Feb 2009)

Log Message:
-----------
2009-02-10 10:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/filesys.c
    ! Fixes for *NIX compilation to latest change.
      Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 10 04:36:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 10 04:36:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10220] trunk/harbour
Message-ID: <E1LWp2j-0008Ad-C7@3kljzd1.ch3.sourceforge.com>

Revision: 10220
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10220&view=rev
Author:   vszakats
Date:     2009-02-10 09:36:36 +0000 (Tue, 10 Feb 2009)

Log Message:
-----------
2009-02-10 10:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/filesys.c
    ! Fixes for *NIX compilation to latest change.
      Please test. [ some more ]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From elart at elart.it  Tue Feb 10 04:48:53 2009
From: elart at elart.it (elart)
Date: Tue Feb 10 04:48:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10220] trunk/harbour
In-Reply-To: <E1LWp2j-0008Ad-C7@3kljzd1.ch3.sourceforge.com>
Message-ID: <ggF4T05F.1234259333.8945840.marcobra@82.105.36.210>


>Log Message:
>-----------
>2009-02-10 10:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * source/rtl/filesys.c
>    ! Fixes for *NIX compilation to latest change.
>      Please test. [ some more ]
>

Viktor, compile was successful.

Thank you
From toninhofwi at yahoo.com.br  Tue Feb 10 05:53:53 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Feb 10 04:51:40 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
Message-ID: <ltm2p4pue28e394kce4sj8lnbas7l5j3fl@4ax.com>

>Hi everyone,
>Who has what pending items (fixes, new development, TODOs)
>before the 1.1 release?

Hi Viktor, I have a lot of windows unfreed resources here. I don?t
know if this is a problem that need be fixed before the 1.1 release,
or if this issue is a real problem, but it exist.

this is my post about it:

---cut---
Hi ppl.

I?m testing my application with MemProof and I found a lot of unfreed
resources like VirtualAlloc, that need be freed with VirtualFree and
GetStdHandle that is freed with CloseHandle.

I?m looking at harbour sources and I see that VirtualAlloc is *only*
used by dlmalloc.c and GetStdHandle is used in some files but I think
that the problem is related to filesys.c.

for test, a simple:

function Main()
   ? "Hello world!"
return nil

report the problem.

Memproof is free and can be found here:

http://www.onlythebestfreeware.com/out.asp?url=http://www.automatedqa.com/downloads/memp0950.zip

---cut---



Best regards,

Toninho.




		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor op??o para voc?! 
Experimente j? e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
 

From harbour.01 at syenar.hu  Tue Feb 10 05:20:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 05:20:40 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <ltm2p4pue28e394kce4sj8lnbas7l5j3fl@4ax.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<ltm2p4pue28e394kce4sj8lnbas7l5j3fl@4ax.com>
Message-ID: <18d502870902100220j7660a599j3d981c4245c7ab5c@mail.gmail.com>

Hi Toninho,
Yes, I've seen it. Even installed the tool.

I just can guess that dlmalloc won't explictly deal with
releasing its whole pool (which may include preallocated
areas) while the app is running, and instead leaves that
for the OS when quitting the app. Maybe similar is happening
with GTs/FS. If this is the case, it's not critical, and may
be even faster to let the OS deal with that on exit.

If someone has a better idea, please tell us.

This is my report for a simple MSVC / GTWIN "hello world" one-liner:
---
        2  Heap                  022D0000       4096  HeapCreate(0,4096,0)
        0045A39A   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
        3  Thread Local Storage  00000018          0  TlsAlloc
        0045A249   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
        4  Thread Local Storage  00000019          0  TlsAlloc
        00459EC3   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
        5  Heap Memory           022D1EA0        532
 HeapAlloc(36503552,8,532)
        00464736   C:\memproof\test.exe
        0045E719   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
        7  Heap Memory           022D20D0       1792
 HeapAlloc(36503552,8,1792)
        00464736   C:\memproof\test.exe
        0045E719   C:\memproof\test.exe
        00456A6F   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
        8  Std. Handle           00000003          0  GetStdHandle(-10)
        00459C9F   C:\memproof\test.exe
        00456A6F   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
        9  Std. Handle           00000007          0  GetStdHandle(-11)
        00459C9F   C:\memproof\test.exe
        00456A6F   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
       10  Std. Handle           0000000B          0  GetStdHandle(-12)
        00459C9F   C:\memproof\test.exe
        00456A6F   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
       13  Heap Memory           022D3090        544
 HeapAlloc(36503552,0,544)
       15  Heap Memory           022D32C8         31
 HeapAlloc(36503552,0,31)
       16  Heap Memory           022D3300        168
 HeapAlloc(36503552,8,168)
        00464736   C:\memproof\test.exe
        0045E719   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
       17  Heap Memory           022D33C0         53
 HeapAlloc(36503552,8,53)
        00464736   C:\memproof\test.exe
       18  Heap Memory           022D3410         52
 HeapAlloc(36503552,8,52)
        00464736   C:\memproof\test.exe
       19  Heap Memory           022D3460         60
 HeapAlloc(36503552,8,60)
        00464736   C:\memproof\test.exe
       20  Heap Memory           022D34B8         32
 HeapAlloc(36503552,8,32)
        00464736   C:\memproof\test.exe
       21  Heap Memory           022D34F0         58
 HeapAlloc(36503552,8,58)
        00464736   C:\memproof\test.exe
       22  Heap Memory           022D3548         19
 HeapAlloc(36503552,8,19)
        00464736   C:\memproof\test.exe
       23  Heap Memory           022D3578         49
 HeapAlloc(36503552,8,49)
        00464736   C:\memproof\test.exe
       24  Heap Memory           022D35C8         17
 HeapAlloc(36503552,8,17)
        00464736   C:\memproof\test.exe
       25  Heap Memory           022D35F8         36
 HeapAlloc(36503552,8,36)
        00464736   C:\memproof\test.exe
       26  Heap Memory           022D3638         29
 HeapAlloc(36503552,8,29)
        00464736   C:\memproof\test.exe
       27  Heap Memory           022D3670         16
 HeapAlloc(36503552,8,16)
        00464736   C:\memproof\test.exe
       28  Heap Memory           022D3698         20
 HeapAlloc(36503552,8,20)
        00464736   C:\memproof\test.exe
       29  Heap Memory           022D36C8         42
 HeapAlloc(36503552,8,42)
        00464736   C:\memproof\test.exe
       30  Heap Memory           022D3710         13
 HeapAlloc(36503552,8,13)
        00464736   C:\memproof\test.exe
       31  Heap Memory           022D3738         42
 HeapAlloc(36503552,8,42)
        00464736   C:\memproof\test.exe
       32  Heap Memory           022D3780         64
 HeapAlloc(36503552,8,64)
        00464736   C:\memproof\test.exe
       33  Heap Memory           022D37D8         44
 HeapAlloc(36503552,8,44)
        00464736   C:\memproof\test.exe
       34  Heap Memory           022D3820         56
 HeapAlloc(36503552,8,56)
        00464736   C:\memproof\test.exe
       35  Heap Memory           022D3870         18
 HeapAlloc(36503552,8,18)
        00464736   C:\memproof\test.exe
       36  Heap Memory           022D38A0         23
 HeapAlloc(36503552,8,23)
        00464736   C:\memproof\test.exe
       37  Heap Memory           022D38D0         14
 HeapAlloc(36503552,8,14)
        00464736   C:\memproof\test.exe
       38  Heap Memory           022D38F8        550
 HeapAlloc(36503552,8,550)
        00464736   C:\memproof\test.exe
       39  Heap Memory           022D3B38         66
 HeapAlloc(36503552,8,66)
        00464736   C:\memproof\test.exe
       40  Heap Memory           022D3B98         57
 HeapAlloc(36503552,8,57)
        00464736   C:\memproof\test.exe
       41  Heap Memory           022D3BF0         27
 HeapAlloc(36503552,8,27)
        00464736   C:\memproof\test.exe
       42  Heap Memory           022D3C28         68
 HeapAlloc(36503552,8,68)
        00464736   C:\memproof\test.exe
       43  Heap Memory           022D3C88         19
 HeapAlloc(36503552,8,19)
        00464736   C:\memproof\test.exe
       44  Heap Memory           022D3CB8         24
 HeapAlloc(36503552,8,24)
        00464736   C:\memproof\test.exe
       45  Heap Memory           022D3CE8         30
 HeapAlloc(36503552,8,30)
        00464736   C:\memproof\test.exe
       46  Heap Memory           022D3D20         53
 HeapAlloc(36503552,8,53)
        00464736   C:\memproof\test.exe
       47  Heap Memory           022D3D70         20
 HeapAlloc(36503552,8,20)
        00464736   C:\memproof\test.exe
       48  Heap Memory           022D3DA0         15
 HeapAlloc(36503552,8,15)
        00464736   C:\memproof\test.exe
       49  Heap Memory           022D3DC8         22
 HeapAlloc(36503552,8,22)
        00464736   C:\memproof\test.exe
       50  Heap Memory           022D3DF8         40
 HeapAlloc(36503552,8,40)
        00464736   C:\memproof\test.exe
       51  Heap Memory           022D3E38         39
 HeapAlloc(36503552,8,39)
        00464736   C:\memproof\test.exe
       52  Heap Memory           022D3E78         15
 HeapAlloc(36503552,8,15)
        00464736   C:\memproof\test.exe
       53  Heap Memory           022D3EA0         18
 HeapAlloc(36503552,8,18)
        00464736   C:\memproof\test.exe
       54  Heap Memory           022D3ED0         47
 HeapAlloc(36503552,8,47)
        00464736   C:\memproof\test.exe
       55  Heap Memory           022D3F18         72
 HeapAlloc(36503552,8,72)
        00464736   C:\memproof\test.exe
       56  Heap Memory           022D3F78         74
 HeapAlloc(36503552,8,74)
        00464736   C:\memproof\test.exe
       57  Heap Memory           022D3FE0         18
 HeapAlloc(36503552,8,18)
        00464736   C:\memproof\test.exe
       59  Heap Memory           022D4010        128
 HeapAlloc(36503552,8,128)
        00464736   C:\memproof\test.exe
        0045E719   C:\memproof\test.exe
        7C817062 RegisterWaitForInputIdle  C:\windows\system32\kernel32.dll
       60  Virtual Memory        022E0000      65536
 VirtualAlloc(00000000,65536,12288,4)
       64  Std. Handle           00000003          0  GetStdHandle(-10)
       66  File                  00000013          0
 CreateFile("CONIN$",-1073741824,3,00000000,3,0,0)
---

Brgds,
Viktor

On Tue, Feb 10, 2009 at 11:53 AM, Toninho@fwi <toninhofwi@yahoo.com.br>wrote:

> >Hi everyone,
> >Who has what pending items (fixes, new development, TODOs)
> >before the 1.1 release?
>
> Hi Viktor, I have a lot of windows unfreed resources here. I don?t
> know if this is a problem that need be fixed before the 1.1 release,
> or if this issue is a real problem, but it exist.
>
> this is my post about it:
>
> ---cut---
> Hi ppl.
>
> I?m testing my application with MemProof and I found a lot of unfreed
> resources like VirtualAlloc, that need be freed with VirtualFree and
> GetStdHandle that is freed with CloseHandle.
>
> I?m looking at harbour sources and I see that VirtualAlloc is *only*
> used by dlmalloc.c and GetStdHandle is used in some files but I think
> that the problem is related to filesys.c.
>
> for test, a simple:
>
> function Main()
>   ? "Hello world!"
> return nil
>
> report the problem.
>
> Memproof is free and can be found here:
>
>
> http://www.onlythebestfreeware.com/out.asp?url=http://www.automatedqa.com/downloads/memp0950.zip
>
> ---cut---
>
>
>
> Best regards,
>
> Toninho.
>
>
>
>
>
> _______________________________________________________
> Yahoo! Mail - Sempre a melhor op??o para voc?!
> Experimente j? e veja as novidades.
> http://br.yahoo.com/mailbeta/tudonovo/
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/9c944a95/attachment-0001.html
From toninhofwi at yahoo.com.br  Tue Feb 10 06:52:30 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Feb 10 05:50:17 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902100220j7660a599j3d981c4245c7ab5c@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<ltm2p4pue28e394kce4sj8lnbas7l5j3fl@4ax.com>
	<18d502870902100220j7660a599j3d981c4245c7ab5c@mail.gmail.com>
Message-ID: <kiq2p4118pro0bn8nvav6cp2khon3gvrsf@4ax.com>

>Hi Toninho,
>Yes, I've seen it. Even installed the tool.
>
>I just can guess that dlmalloc won't explictly deal with
>releasing its whole pool (which may include preallocated
>areas) while the app is running, and instead leaves that
>for the OS when quitting the app. Maybe similar is happening
>with GTs/FS. If this is the case, it's not critical, and may
>be even faster to let the OS deal with that on exit.

Thank you for reply.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From toninhofwi at yahoo.com.br  Tue Feb 10 06:54:23 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Feb 10 05:52:10 2009
Subject: [Harbour] Problem in Hashes with latest SVN
Message-ID: <ecq2p49k80lpreoci0hoefu6817bfm2b46@4ax.com>

Hi,

After latest SVN changes hashes can?t be assigned with ":", same
compiling Harbour with -DHB_HASH_MSG_ITEMS.

SET C_USR=-DHB_GUI -DHB_FM_STATISTICS_OFF -DHB_NO_PROFILER
-DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -DHB_NO_DEBUG
-DHB_LEGACY_OFF


Thanks and best regards,

Toninho.

__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Tue Feb 10 06:11:02 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 06:11:06 2009
Subject: [Harbour] Problem in Hashes with latest SVN
In-Reply-To: <ecq2p49k80lpreoci0hoefu6817bfm2b46@4ax.com>
References: <ecq2p49k80lpreoci0hoefu6817bfm2b46@4ax.com>
Message-ID: <18d502870902100311g44000a29od664374660e21cb8@mail.gmail.com>

Pls read this entry (and preceding e-mails on the list):2009-02-06 23:47
UTC+0100 Viktor Szakats

Brgds,
Viktor

On Tue, Feb 10, 2009 at 12:54 PM, Toninho@fwi <toninhofwi@yahoo.com.br>wrote:

> Hi,
>
> After latest SVN changes hashes can?t be assigned with ":", same
> compiling Harbour with -DHB_HASH_MSG_ITEMS.
>
> SET C_USR=-DHB_GUI -DHB_FM_STATISTICS_OFF -DHB_NO_PROFILER
> -DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -DHB_NO_DEBUG
> -DHB_LEGACY_OFF
>
>
> Thanks and best regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/35f14571/attachment.html
From mbelgrano at deltain.it  Tue Feb 10 06:31:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 10 06:31:19 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
Message-ID: <609353e70902100331q35add252gb258e58dfdca0d2c@mail.gmail.com>

One cent for my dream list:
Unification of make system by hbmk.prg
Capability of gtwvt,gtwvg of running on little virtual screen either
absolute,relative x,y coordinate (window mobile device with old code)


2009/2/10 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi everyone,
> Who has what pending items (fixes, new development, TODOs)
> before the 1.1 release?
> This is my list for 1.1:
> - gtwvt: add HB_GTI_BOXCP support to change hard-wired "EN" CP.
> - core: HB_MD5() incompatible modification.
> - contrib: openssl GNU-make detection.
> - core: hb_snprintf() switch?
> - xhb, hbwhat: .prg level MT issues.
> - hbct .c level MT issues in files.c. (per thread cargo holder may help?)
> - gtwvg: reported GPF with MSVC, possible problems with other compilers,
> AMD64 mode and WinCE.
>   (build stopper !)
> - core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().
> - core: hb_regexMatch()'s 3rd parameter has a double meaning.
> - hbct: SetFDaTi() duplicated logic.
> - hbct: hb_fsFindClose() at app exit.
> - New dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, <cDelimArg>, <nConnection>
> ) -> <lSuccess>
> - Platform builds and tests.
>
> Post 1.1:
> - Type cleanup.
> - hbole, hbwin, hbwhat consolidation, cleanup (can be started anytime).
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Feb 10 06:31:51 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 10 06:31:56 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
Message-ID: <609353e70902100331j73143d4bl48c8ae0f1e2cf5ae@mail.gmail.com>

Unification of make system by hbmk.prg
Capability of gtwvt,gtwvg of running on little virtual screen either
absolute,relative coordinate (window mobile device with old code)
mix traditional SAY/GET or TBrowse() with Graphical User Interface
elements (like xbase++ 1.9 sl1 at
http://www.alaska-software.com/products/xpp/feature-overview-v19sl1.pdf)



2009/2/10 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi everyone,
> Who has what pending items (fixes, new development, TODOs)
> before the 1.1 release?
> This is my list for 1.1:
> - gtwvt: add HB_GTI_BOXCP support to change hard-wired "EN" CP.
> - core: HB_MD5() incompatible modification.
> - contrib: openssl GNU-make detection.
> - core: hb_snprintf() switch?
> - xhb, hbwhat: .prg level MT issues.
> - hbct .c level MT issues in files.c. (per thread cargo holder may help?)
> - gtwvg: reported GPF with MSVC, possible problems with other compilers,
> AMD64 mode and WinCE.
>   (build stopper !)
> - core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().
> - core: hb_regexMatch()'s 3rd parameter has a double meaning.
> - hbct: SetFDaTi() duplicated logic.
> - hbct: hb_fsFindClose() at app exit.
> - New dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, <cDelimArg>, <nConnection>
> ) -> <lSuccess>
> - Platform builds and tests.
>
> Post 1.1:
> - Type cleanup.
> - hbole, hbwin, hbwhat consolidation, cleanup (can be started anytime).
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Feb 10 06:37:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 06:37:14 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <609353e70902100331q35add252gb258e58dfdca0d2c@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902100331q35add252gb258e58dfdca0d2c@mail.gmail.com>
Message-ID: <18d502870902100337p40dfad0w51554ff62116745e@mail.gmail.com>

On Tue, Feb 10, 2009 at 12:31 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> One cent for my dream list:
> Unification of make system by hbmk.prg
> Capability of gtwvt,gtwvg of running on little virtual screen either
> absolute,relative x,y coordinate (window mobile device with old code)


hbmk.prg can be added anytime.

As for GTWVT scrollbar support, I think we should rather
release 1.1 first, and add this afterwards.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/c17b8c20/attachment.html
From toninhofwi at yahoo.com.br  Tue Feb 10 07:42:21 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Feb 10 06:40:06 2009
Subject: [Harbour] Problem in Hashes with latest SVN
In-Reply-To: <18d502870902100311g44000a29od664374660e21cb8@mail.gmail.com>
References: <ecq2p49k80lpreoci0hoefu6817bfm2b46@4ax.com>
	<18d502870902100311g44000a29od664374660e21cb8@mail.gmail.com>
Message-ID: <h6t2p45l01g41f1qkler3hbrdm2o4p2f92@4ax.com>


>Pls read this entry (and preceding e-mails on the list):2009-02-06 23:47
>UTC+0100 Viktor Szakats

Hi Viktor,

Thanks again. I completely forgot that change :(


Best regards,

Toninho.
__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Tue Feb 10 06:41:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 06:41:26 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <609353e70902100331j73143d4bl48c8ae0f1e2cf5ae@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902100331j73143d4bl48c8ae0f1e2cf5ae@mail.gmail.com>
Message-ID: <18d502870902100341h7baa0c80y931373bdc233b2ce@mail.gmail.com>

>
> mix traditional SAY/GET or TBrowse() with Graphical User Interface
> elements (like xbase++ 1.9 sl1 at
> http://www.alaska-software.com/products/xpp/feature-overview-v19sl1.pdf)


Isn't it the goal of GTWVG?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/79fb5473/attachment.html
From druzus at acn.waw.pl  Tue Feb 10 09:05:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 10 09:00:40 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
Message-ID: <20090210140524.GA23952@uran.home.aster.pl>

On Tue, 10 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> Sorry to jump it but I fail to see why should we rush a new proprietary type
> into the core, while it has a
> proper 3rd party solution.
> There could be lots of other types introduced into
> core by this reasoning.

In general I agree that introducing many different types directly
to HVM is not good idea. Especially when they are strictly bound
with some allocated resources. For such types HB_IT_POINTER seems
to be the best choice.
But I do not think that we can generalize it also for DATETIME type.
Just simply in current days in many database projects simple DATE fields
are replaced by DATETIME ones. Such fields are necessary to resolve some
problem, f.e. when you have to chose some orders from bigger set depending
on their time. Simple DATE field is not enough and is much easier to
replace it with DATETIME then creating some local solutions which are
not such trivial to implement as many people things, f.e. this function:
   func curdatetime()
      return (date()-ctod(""))+seconds()/86400
which should return datetime as number where integer part is Julian
day and fractional part is the time is buggy because there is race
condition between calling date() and seconds(). At midnight it may
give wrong results so it should be change to sth like:
   func curdatetime()
      local day, sec
      while .t.
         day := date()
         sec := seconds()
         if day == date()
            exit
         endif
      enddo
      return (day-ctod(""))+sec/86400

In the internet days it's also important to resolve the problem with
time comparing for users working in different time zones. Here also DATE
field is not enough. It's necessary to use DATETIME fields and operate
on UTC time, f.e. using function like: hb_utcDateTime() which returns
current UTC time to be able to compare values.
Please also note that relation local_time -> utc_time is not a function
so such conversions cannot be used in programs which have to work 365days
per year, f.e. to control some production processes. These and many others
things causes that project mangers quite often define pure DATE fields
as depreciated forcing datetime usage.
Harbour is designed to work with data base systems and we need direct
support for datetime types which can be used to exchange data between
different RDDs and HVM and which can be used in calculations and filter
expressions in such simple way as date is. It have to work in a way which
allows to easy replace pure DATE type with DATETIME if necessary.

> Datetime's only "merit" seems that some proprietary
> xbase dialects have already implemented it, plus xhb.
> The xhb implementation (particularly the syntax) stinks
> however, so if we decide to introduce it, it should be
> done properly, and only if it really gives proper benefits
> for the whole user base compared to the cost.

In practice this type is systematically more popular eliminating
pure DATE usage so for many people it will be aceptable to even
fully drop DATE support but intorduce DATETIME.
For me here it's not a question if we should introduce it but rather how.
In xHarbour simple DATE type is extended and can hold also time so it
does not use separate type for it. It's quite interesting solution but
it causes some small incompatibilities in DATE type arithmetic which can
be illustrated by this example:
   d := date()
   ? d
   ? d + 1
   ? d + 0.5
   ? d + 0.5 + 0.5
just compare Clipper and xHarbour results.
If we do not make separate type for DATETIME type then we will have
to deal with the same problem.
Anyhow someone may say that respecting fractional part in the above code
is Clipper bug fixing so it's correct that it works in such way.
Interesting is this example:
   ? d + 0.5 + 0.5
Please note that the result is different then for:
   ? d + ( 0.5 + 0.5 )
In Harbour such effect can be exploited by -ko optimization, f.e. try this:
   #pragma -ko-
   ? d + 0.5 + 0.5
   #pragma -ko+
   ? d + 0.5 + 0.5
It's the reason why this (and also some other optimizations) are enabled
optionally by compiler switch.
Anyhow the rest of datetime RT arithmetic in xHarbour looks fine for me
though I haven't tested all conditions.
The one question to the group is if we want to use separate type marked
in type HB_ITEM member (f.e. HB_IT_DATETIME) to keep strict Clipper
compatibility for DATE type when it's increased/decreased by number
with fractional part or we should use only one HB_IT_DATE type.
The second part is declaring DATETIME constants in source code.
It's not strictly necessary (f.e. Clipper does not support DATE constants
at all) but it's usable. xHarbour uses VFP syntax here:
VFP strict datetime format looks like:
   {^YYYY/MM/DD[,][HH[:MM[:SS][.CCC]][A|P]]}
VFP accepts slash, dot or hyphen as date delimiter and 12 or 24-hour
formatted time.
If only hours are included in time part then comma have to be used to
separate date and time parts or it's necessary to follow the hours with
a colon.
In the semi PP notation this format can be defined as:
   { ^ <YEAR> <sep:/.-> <MONTH> <sep:/.-> <DAY> [[<sep2:,>]
     [ <HOUR> [ : <MIN> [ : <SEC> [ . <FRAQ> ] ] ] [A[M]|P[M]] ] }
I do not know how many other languages also supports similar notation.
If you have some propositions or examples from other languages then
please send it here.
We can accept and use above format though in such case I suggest to
introduce small modification and do not accept dot (.) as date delimiter
to avoid possible conflicts with PP and conversions to numbers though if
you think it's necessary we can implement it too.
As you can see this format allows to also define pure DATEs, f.e.:
   d := { ^ 1998/12/31 }
It's probably more readable form of:
   d := 0d19981231
which can be used in Harbour now.
xHarbour also accepts less then four digits in year, f.e.:
   d := { ^ 98/12/31 }
but it gives 0098/12/31 as result and it does not generate error when
values out of range are used, f.e.:
   d := { ^ 2008/13/34 }
but creates empty date. IMHO this should not be replicated because it's
usually programmer typo and should be reported as error or at least warning
during compilation.
In xHarbour it's also possible to use only time part, f.e.:
   ? { ^ 17:55:20 }
but here xHarbour sets in hidden way the day to 1899/12/30 so the
above code shows:
   1899/12/30 17:55:20.00
I guess it's for some strict VFP and/or MS products compatibility.
I do not like it. It introduce sth what breaks DATETIME arithmetic.
I'd rather expect that { ^ 12:00:00 } will give the same internal
value as ( { ^ 2009/02/12 12:00:00 } - { ^ 2009/02/12 } ) as number
or datetime value and that ( { ^ 2008/12/31 } + { ^ 17:25:33 } )
will give the same result as { ^ 2008/12/31 17:25:33 } so IMO this
part should not be replicated.

> Instead of hard-wiring more core types for specific usages,
> it'd seem much more useful to consider this item from
> the TODO, which would smooth out the few remaining
> drawbacks of current possibilities:
> ---
> Detail...: Extended HB_IT_POINTER. In practice we can give them the
>            same functionality as for objects and use them for fast
>            creation objects at C level. We can also add HB_VALTYPE()
>            function which will return the extended type name, f.e.
>            "WINDOW", "FONT", "SOCKET" or anything what 3-rd party
>            programmers may want to use. It will greatly simplify
>            writing some libraries.
> ---

I agree with it (I wrote above text and still want to implement it)
but it does not mean that I want to replace all HVM types with it.
IMHO direct support for DATETIME in HVM is a must in current days.
We should only agree how it should be implemented.
If we agree how the final version should look then I can implement
it quite fast.

best regards,
Przemek
From sscc at mweb.co.za  Tue Feb 10 09:12:10 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Feb 10 09:12:23 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090210140524.GA23952@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
Message-ID: <49918B3A.9060205@mweb.co.za>

Przemyslaw Czerpak wrote:

> But I do not think that we can generalize it also for DATETIME type.
> Just simply in current days in many database projects simple DATE fields
> are replaced by DATETIME ones.

I currently have no use for them but when I have done some tests with 
moving from dbfs to some SQL database, and for this it does seem a 
"must have". It would also simplify some interactions with COM and 
ActiveX, so, I for one would be very glad if you implement it.

Best regards
Alex


From mbelgrano at deltain.it  Tue Feb 10 09:40:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 10 09:41:03 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902100341h7baa0c80y931373bdc233b2ce@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902100331j73143d4bl48c8ae0f1e2cf5ae@mail.gmail.com>
	<18d502870902100341h7baa0c80y931373bdc233b2ce@mail.gmail.com>
Message-ID: <609353e70902100640v7ac94afi8469c2fed1e41784@mail.gmail.com>

afaik gtwvg Not mix gui and cui in same screen but only in same
application but in different screen

>I did not see the xbase++ sl1 yet.
>First part is to write all classes to honor xbase parts, then
I> will see how it can be integrated with CUI.
>Regards
>Pritpal Bedi


2009/2/10 Viktor Szak?ts <harbour.01@syenar.hu>:
>> mix traditional SAY/GET or TBrowse() with Graphical User Interface
>> elements (like xbase++ 1.9 sl1 at
>> http://www.alaska-software.com/products/xpp/feature-overview-v19sl1.pdf)
>
> Isn't it the goal of GTWVG?
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From zen25000 at zen.co.uk  Tue Feb 10 09:44:35 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Feb 10 09:44:22 2009
Subject: [Harbour] How to link an external C library to Harbour?
In-Reply-To: <4990A7B0.6070406@zen.co.uk>
References: <49904364.6050404@zen.co.uk>	<20090209152703.GA31471@uran.home.aster.pl>
	<4990A7B0.6070406@zen.co.uk>
Message-ID: <499192D3.6040402@zen.co.uk>

OK, I finally found -mt switch!   ;-)

Barry

Barry Jackson wrote:

> 
> It builds without errors but thread 2 never calls MainClock().
From harbour.01 at syenar.hu  Tue Feb 10 09:46:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 09:46:20 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090210140524.GA23952@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
Message-ID: <18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>

Hi Przemek and all,
Okay, I understand the reasons and benefits, so it all
comes down how we implement it in Harbour.

I vote for adding a new type to have a clear case
rather than mixing this feature into current "D" type.
Besides creating backward compatibility problems
it would also make porting code very difficult between
different xbase dialects, in essence this would be
showcase for the "hidden extension" effect we try
to avoid in Harbour.

New type ID could be "T" (as timestamp or time).

  ? d + 0.5 + 0.5
> just compare Clipper and xHarbour results.


xHarbour never built properly on my system, nor
could I use any binaries, so I'll skip that, but I believe you :)


> Anyhow the rest of datetime RT arithmetic in xHarbour looks fine for me
> though I haven't tested all conditions.
> The one question to the group is if we want to use separate type marked
> in type HB_ITEM member (f.e. HB_IT_DATETIME) to keep strict Clipper
> compatibility for DATE type when it's increased/decreased by number


My definite vote for this one.


> The second part is declaring DATETIME constants in source code.
> It's not strictly necessary (f.e. Clipper does not support DATE constants
> at all) but it's usable. xHarbour uses VFP syntax here:
> VFP strict datetime format looks like:
>   {^YYYY/MM/DD[,][HH[:MM[:SS][.CCC]][A|P]]}
> VFP accepts slash, dot or hyphen as date delimiter and 12 or 24-hour
> formatted time.
> If only hours are included in time part then comma have to be used to
> separate date and time parts or it's necessary to follow the hours with
> a colon.
> In the semi PP notation this format can be defined as:
>   { ^ <YEAR> <sep:/.-> <MONTH> <sep:/.-> <DAY> [[<sep2:,>]
>     [ <HOUR> [ : <MIN> [ : <SEC> [ . <FRAQ> ] ] ] [A[M]|P[M]] ] }
> I do not know how many other languages also supports similar notation.
> If you have some propositions or examples from other languages then
> please send it here.


This syntax is an ugly nightmare rarely seen in proper
language design, and the product which introduced it
is now dead, so in case we want to support the above,
I'd suggest to implementing it in PP only (protected by
VFP guards), and avoid it Harbour code completely.

Instead, I'd suggest a set of function, just like Clipper
uses for dates:

- hb_time() -> <tCurrentDateTime>
- hb_stot( "language independent string representation of date/time" ) ->
<tValue>
- hb_ttos() -> <cValue> language independent string repr of date/time, easy
to parse with fixed positions ("YYYYMMDDHHMMSSFF")
- hb_ctot( "freeform date/time representation" ) -> <tValue>
- hb_ttoc( <tValue>[, <cFormat> ] ) -> <cValue> freeform date/time
representation (also controllable by Set( _SET_TIMEFORMAT ) )

These functions could be optimized at compile
time to native internal representation, just like
current date functions are doing.

For explicit constant notation, I'd suggest:
- 0tYYYYMMDDHHMMSSFF (allowing elements to be dropped from the right)
- 0tYYYYMMDD
(same as the format used by hb_ttos()/hb_stot())

Notice that above solution makes it easy to switch
from current DATE to DATETIME (TIMESTAMP or TIME
for simplicity), by merely replacing appropriate
functions and constant notation to the TIME equivalents.

Current functions dealing with DATE types can be
modified to also handle TIME types, without breaking
backward compatibility, so YEAR(), MONTH(), DOW(),
and all similar, even in 3rd party products can be
used just like before.

Of course, several additional new functions become
possible: HB_HOUR(), HB_MINUTE().

We should decide what time granularity to have and
what to return for: <tTime1> - <tTime2> -> ? (seconds,
millisecs, else? probably the least resolution we allow).

We could have additional functions dealing with time
differences:
HB_TIMEDIFFINMIN( <tTime1>, <tTime2> -> <nMinutes>
HB_TIMEDIFFINSEC( <tTime1>, <tTime2> -> <nSeconds>
HB_TIMEDIFFINDAY( <tTime1>, <tTime2> -> <nDays>
etc...

For pure TIME representations (where the date is irrelevant)
0t00000000125801 may be used, or some special functions
helping that, anyhow internally the date might be simply
empty in this case.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/3abc0d9f/attachment.html
From ptucker at sympatico.ca  Tue Feb 10 10:16:37 2009
From: ptucker at sympatico.ca (Paul Tucker)
Date: Tue Feb 10 10:16:45 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
Message-ID: <COL0-F269A5BB2E80A4629CA4750DFBD0@phx.gbl>

>
>xHarbour never built properly on my system, nor
>could I use any binaries, so I'll skip that, but I believe you :)
>

It looks like this quote came from you.  What on earth are yoiu talking 
about?

Paul


From dbtopas at dbtopas.lt  Tue Feb 10 10:23:51 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Feb 10 10:23:41 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090210140524.GA23952@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
Message-ID: <49919C07.7000700@dbtopas.lt>

Hi,


> In general I agree that introducing many different types directly
> to HVM is not good idea. Especially when they are strictly bound
> with some allocated resources. For such types HB_IT_POINTER seems
> to be the best choice.
> But I do not think that we can generalize it also for DATETIME type.

I also think dattime (or Timestamp (it helps easier to find well-fit and 
remember VALTYPE()=="T")) is necessary in Harbour.

We had a long discussion some time ago and could not agree on 
implementations details. AFAIR, we main questions was:

1) internal implementation: float point number using fractional part for 
time representation (drawback: float point side effects, ex. 
today+8h+8h+8h != tomorrow, feature: easy calculation), or julian date 
and milliseconds.

2) does we need to include timezone into timestamp;

3) timestamp representation in Harbour language.

I hoped that passing some time will make these things more clear to me, 
but it had not.


> condition between calling date() and seconds(). At midnight it may
> give wrong results so it should be change to sth like:
>    func curdatetime()
>       local day, sec
>       while .t.
>          day := date()
>          sec := seconds()
>          if day == date()
>             exit
>          endif
>       enddo
>       return (day-ctod(""))+sec/86400

Yes. It really is a problem. I always feel doing a bad thing, then I 
write: DTOC(DATE()) + " " + TIME().


> In xHarbour simple DATE type is extended and can hold also time so it
> does not use separate type for it. It's quite interesting solution but
> it causes some small incompatibilities in DATE type arithmetic which can
> be illustrated by this example:
>    d := date()
>    ? d
>    ? d + 1
>    ? d + 0.5
>    ? d + 0.5 + 0.5
> just compare Clipper and xHarbour results.

I do not have xHarbour on my computer any more, but I think we will be 
unable to change Date time to work like Datetime type and to be 
compatible with Clipper. Since compatibility is important, we must 
implement new type.


> The second part is declaring DATETIME constants in source code.
> It's not strictly necessary (f.e. Clipper does not support DATE constants
> at all) but it's usable. xHarbour uses VFP syntax here:
> VFP strict datetime format looks like:
>    {^YYYY/MM/DD[,][HH[:MM[:SS][.CCC]][A|P]]}
> VFP accepts slash, dot or hyphen as date delimiter and 12 or 24-hour
> formatted time.
> If only hours are included in time part then comma have to be used to
> separate date and time parts or it's necessary to follow the hours with
> a colon.

This VFP syntax looks very ugly to me. It makes me feel, that date is a 
kind of array (because of starting "{"). I would prefer "0t" prefixed 
numbers 0t20080209235959. If this becomes cryptic and difficult to 
separate date, time, milliseconds part, and we want to have string style 
(containing ":" separator between hours, minutes, seconds, etc.) time 
syntax, I'd rather suggest to use the existing quoted string prefixing:
   tTimeStamp := t"2009-02-09 23:59:59".

The similar way timestamps are represented in SQL databases. My SQL uses 
'2009-02-09 23:59:59' or 20080209235959 notation for TIMESTAMP type.
We can also look for timestamp representation in other languages.


> In the semi PP notation this format can be defined as:
>    { ^ <YEAR> <sep:/.-> <MONTH> <sep:/.-> <DAY> [[<sep2:,>]
>      [ <HOUR> [ : <MIN> [ : <SEC> [ . <FRAQ> ] ] ] [A[M]|P[M]] ] }

One minor note on date separator. Using "/" always makes confusion, 
because you never now if it is MM/DD/YY or DD/MM/YY. Adding YY/MM/DD is 
making problem even worse. I prefer to use "-" as date separator (BWT, 
AFAIK its ANSI standard). We can use "/" also, but compiler should be 
date format independent, so, people using "/" should expect result like:
   SET(4, "MM/DD/YY")
   tTimeStamp := t"08/02/09 23:59:59"
   ? tTimeStamp  // prints: 02/09/08 23:59:59


> In xHarbour it's also possible to use only time part, f.e.:
>    ? { ^ 17:55:20 }
> but here xHarbour sets in hidden way the day to 1899/12/30 so the
> above code shows:
>    1899/12/30 17:55:20.00
> I guess it's for some strict VFP and/or MS products compatibility.
> I do not like it. It introduce sth what breaks DATETIME arithmetic.

I think we should not follow VFP in multiplatform project. For me it is 
natural, that time only value has a zero julian date part.



Regards,
Mindaugas
From xharbour at telkom.net.id  Tue Feb 10 10:25:30 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Tue Feb 10 10:25:43 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <COL0-F269A5BB2E80A4629CA4750DFBD0@phx.gbl>
References: <18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
	<COL0-F269A5BB2E80A4629CA4750DFBD0@phx.gbl>
Message-ID: <20090210222433.6C5B.422BA498@telkom.net.id>

On Tue, 10 Feb 2009 10:16:37 -0500
"Paul Tucker" <ptucker@sympatico.ca> wrote:

> >xHarbour never built properly on my system, nor
> >could I use any binaries, so I'll skip that, but I believe you :)
> >
> 
> It looks like this quote came from you.  What on earth are yoiu talking 
> about?

Sh*t, for sure ;-)
--
Andi
From harbour.01 at syenar.hu  Tue Feb 10 10:28:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 10:28:58 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <COL0-F269A5BB2E80A4629CA4750DFBD0@phx.gbl>
References: <18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
	<COL0-F269A5BB2E80A4629CA4750DFBD0@phx.gbl>
Message-ID: <18d502870902100728h18a45d22k2334716fe382ee50@mail.gmail.com>

Hi Paul,
Yes, I wrote it to the Harbour list.

What on earth? Pardon?

Brgds,
Viktor

On Tue, Feb 10, 2009 at 4:16 PM, Paul Tucker <ptucker@sympatico.ca> wrote:

>
>> xHarbour never built properly on my system, nor
>> could I use any binaries, so I'll skip that, but I believe you :)
>>
>>
> It looks like this quote came from you.  What on earth are yoiu talking
> about?
>
> Paul
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/a25d347c/attachment.html
From harbour.01 at syenar.hu  Tue Feb 10 10:36:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 10:36:39 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <49919C07.7000700@dbtopas.lt>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
Message-ID: <18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>

>
> 1) internal implementation: float point number using fractional part for
> time representation (drawback: float point side effects, ex. today+8h+8h+8h
> != tomorrow, feature: easy calculation), or julian date and milliseconds.


My vote for the latter (millisecs).


> 2) does we need to include timezone into timestamp;


Yes, good question.

Probably yes, if we can implement it properly and add it to the
syntax smoothly, while avoiding any possible confusion from the
user side.


> If only hours are included in time part then comma have to be used to
>>
> separate date and time parts or it's necessary to follow the hours with
>> a colon.
>>
>
> This VFP syntax looks very ugly to me. It makes me feel, that date is a
> kind of array (because of starting "{"). I would prefer "0t" prefixed
> numbers 0t20080209235959. If this becomes cryptic and difficult to separate
> date, time, milliseconds part, and we want to have string style (containing
> ":" separator between hours, minutes, seconds, etc.) time syntax, I'd rather
> suggest to use the existing quoted string prefixing:
>  tTimeStamp := t"2009-02-09 23:59:59".


Or rather a (pseudo)function to not introduce a new syntax concept here.


> I think we should not follow VFP in multiplatform project. For me it is
> natural, that time only value has a zero julian date part.


Yes.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/348ba4a3/attachment.html
From ptucker at sympatico.ca  Tue Feb 10 11:30:15 2009
From: ptucker at sympatico.ca (Paul Tucker)
Date: Tue Feb 10 11:30:36 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902100728h18a45d22k2334716fe382ee50@mail.gmail.com>
Message-ID: <COL0-F9C1A0FA07F877A7EB9768DFBD0@phx.gbl>

My friends

All is well, Viktor and I cleared this up in email and he's ok with my 
posting this:


===
Nope Paul, but I didn't even try very hard.


Building from source fails mainly because I no longer
maintain BISON/FLEX tools.


I've once tried some binaries, but failed for some reason I
cannot remember anymore. But I've seen stuff compiled
with xhb which worked on my system, the Visual IDE
I believe (but that one crashed after a while).

pt> That may still be WIP, not sure - due to family issues, I've been out of 
the loop for a few months..

pt> I also suggested if we don't know it's broke, we can't fix it...


It's not a blanket statement, there were a few points where
I wanted to check some things, but failed, which probably
rather shows my slim efforts, rather than the quality of xhb,
as we all know that many ppl are using it, which means it
can be made work, obviously.


Brgds,
Viktor



On Tue, Feb 10, 2009 at 4:34 PM, Paul Tucker <ptucker@sympatico.ca> wrote:

Viktor,

I just meant that a blanket statement like that seems to imply far greater 
problems than reality would show to be the case with xHarbour.

If you've _never_ been able to build it or run _any_ binaries, then surely 
the problem is on your end.

That would make the most sense to me.

Paul


From druzus at acn.waw.pl  Tue Feb 10 11:48:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 10 11:43:39 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
Message-ID: <20090210164825.GA30386@uran.home.aster.pl>

On Tue, 10 Feb 2009, Szak?ts Viktor wrote:
> > 1) internal implementation: float point number using fractional part for
> > time representation (drawback: float point side effects, ex. today+8h+8h+8h
> > != tomorrow, feature: easy calculation), or julian date and milliseconds.
> My vote for the latter (millisecs).

There are two things here:
1. internal representation
2. .prg level arithmetic

The internal representation should be separated from user code by
API functions so it will be only our own choice and we can easy
change it in the future. Probably keeping internally DATE and
TIMESTAMP structures compatible will simplify HVM code and we will
not have introduce additional if() statements or conversions what
is important for speed. In such case we should have separate member
with number of milliseconds in a given julian day. Just like in
xHarbour. In such way we limit precision to milliseconds but we
also do not introduce sth what we will have to eliminate in the future.
It's always easier to extend precision then reduce it due to backward
compatibility and maybe reduced functionality.

The .prg level timestamp arithmetic for me should be as closed as possible
to date one. I think that the best part of xHarbour datetime implementation
is the possibilities to easy replace existing date fields with datetime ones
and that the whole code works in the same way, f.e.:
   SET FILTER TO dt - 1 >= DATE .AND. DATE <= dt + 2
works well in all combinations of DATE and DATETIME used in 'dt' and DATE.
Such code also works without any modifications:
   SET FILTER TO date() - 7 >= SALE_DATE .AND. SALE_DATE <= date() - 1
for SALE_DATE declared as pure DATE or TIMESTAMP. Walter made it really
nice.
If we want to keep it then it will determinate the base value returned by
TIMESTAMP1 - TIMESTAMP2 and all other calculations. It will have to be number
where integer parts is julian day and fraction part is time.

> > 2) does we need to include timezone into timestamp;
> Yes, good question.
> Probably yes, if we can implement it properly and add it to the
> syntax smoothly, while avoiding any possible confusion from the
> user side.

The conversion between local time and UTC is a nightmare. If we want
to introduce time zone to TIMESTAMP items then we will have to implement
conversions tables for each countries with hard coded rules for summer/
winter time periods. In many countries such periods cannot be calculated
because in each year it was government decision. Now in most of European
countries it's strictly defined and can be calculated for each year from
some rule, f.e. this one is for Poland:
   TZ="CET-1CEST-2,M3.5.0,M10.5.0"
but it works only for last 15 years and if I want to converts some
earlier daytime values I have to use tables with hard coded periods
for summer and winter time. In GLIBC source code you can find such
tables for different countries and years.
Probably the only one reasonable implementation we can fully implement
in core code is introducing offset to UTC time but not real timezone
implementation.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb 10 11:55:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 11:55:48 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090210164825.GA30386@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
Message-ID: <18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>

Hi Przemek,


> The .prg level timestamp arithmetic for me should be as closed as possible
> to date one. I think that the best part of xHarbour datetime implementation
> is the possibilities to easy replace existing date fields with datetime
> ones
> and that the whole code works in the same way, f.e.:
>   SET FILTER TO dt - 1 >= DATE .AND. DATE <= dt + 2
> works well in all combinations of DATE and DATETIME used in 'dt' and DATE.
> Such code also works without any modifications:
>   SET FILTER TO date() - 7 >= SALE_DATE .AND. SALE_DATE <= date() - 1
> for SALE_DATE declared as pure DATE or TIMESTAMP. Walter made it really
> nice.
> If we want to keep it then it will determinate the base value returned by
> TIMESTAMP1 - TIMESTAMP2 and all other calculations. It will have to be
> number
> where integer parts is julian day and fraction part is time.


Sounds reasonable to me.

We'd need some helpers though to free users from
computing day fractions to/from normal everyday terms
like hours, minutes and seconds. Those fractions are
pretty cryptic in their raw form.

One hour is 0.041667 day.

countries it's strictly defined and can be calculated for each year from
> some rule, f.e. this one is for Poland:
>   TZ="CET-1CEST-2,M3.5.0,M10.5.0"
> but it works only for last 15 years and if I want to converts some
> earlier daytime values I have to use tables with hard coded periods
> for summer and winter time. In GLIBC source code you can find such
> tables for different countries and years.
> Probably the only one reasonable implementation we can fully implement
> in core code is introducing offset to UTC time but not real timezone
> implementation.


Very ugly indeed. Well, I think offset is pretty much enough for most
practical business purposes, and it doesn't block the way for 3rd party
tools to implement "proper" (if we can use this word for the TZ system
of the world in practice ;) TZ support with all the gory details of it.

I have no idea however, how to introduce offset in syntaxes in an
elegant way, especially in the fixed position format.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/67a6ccc6/attachment.html
From druzus at acn.waw.pl  Tue Feb 10 12:24:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 10 12:19:15 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <COL0-F9C1A0FA07F877A7EB9768DFBD0@phx.gbl>
References: <18d502870902100728h18a45d22k2334716fe382ee50@mail.gmail.com>
	<COL0-F9C1A0FA07F877A7EB9768DFBD0@phx.gbl>
Message-ID: <20090210172401.GA22207@uran.home.aster.pl>

On Tue, 10 Feb 2009, Paul Tucker wrote:

Hi Paul,

> pt> I also suggested if we don't know it's broke, we can't fix it...

AFAIR only few examples of problems with xHarbour HVM I sent over
two year ago has been fixed and most of them still fails. Many of them
are even registered in xHarbour bug report system and no one touched
them. Meanwhile I've found few other ones. If you are really interested
I can try to collect them but if they come to xHarbour bug report and
will be forgotten by developers then it will be only waste of our time.
BTW now I'm really interested if any of xHarbour developers tries to
locate the source of SORT ON ... problem.

In the last year pure Linux builds were broken and I always had to patch
xHarbour manually to create binaries. This recently was fixed at least
for pure compilation using make_gnu.sh but make_rpm.sh still fails due
to dependencies to allegro and ACE external header files.
It has to be fixed too.
HTH.

best regards,
Przemek
From ptucker at sympatico.ca  Tue Feb 10 12:39:59 2009
From: ptucker at sympatico.ca (Paul Tucker)
Date: Tue Feb 10 12:40:26 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090210172401.GA22207@uran.home.aster.pl>
Message-ID: <COL0-F39C76E57EEF4E6E0248C8DFBD0@phx.gbl>

Hi Przemek,

Thanks for the heads up.  I'll start with what I can find, then if you have 
other exmples, I'll be in touch.

btw, You're doing a great job - wish I had 10% of the energy you do :-)

Paul

>On Tue, 10 Feb 2009, Paul Tucker wrote:
>
>Hi Paul,
>
> > pt> I also suggested if we don't know it's broke, we can't fix it...
>
>AFAIR only few examples of problems with xHarbour HVM I sent over
>two year ago has been fixed and most of them still fails. Many of them
>are even registered in xHarbour bug report system and no one touched
>them. Meanwhile I've found few other ones. If you are really interested
>I can try to collect them but if they come to xHarbour bug report and
>will be forgotten by developers then it will be only waste of our time.
>BTW now I'm really interested if any of xHarbour developers tries to
>locate the source of SORT ON ... problem.
>
>In the last year pure Linux builds were broken and I always had to patch
>xHarbour manually to create binaries. This recently was fixed at least
>for pure compilation using make_gnu.sh but make_rpm.sh still fails due
>to dependencies to allegro and ACE external header files.
>It has to be fixed too.
>HTH.
>
>best regards,
>Przemek


From druzus at acn.waw.pl  Tue Feb 10 12:52:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 10 12:47:32 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
Message-ID: <20090210175218.GA20113@uran.home.aster.pl>

On Tue, 10 Feb 2009, Szak?ts Viktor wrote:

Hi,

> We'd need some helpers though to free users from
> computing day fractions to/from normal everyday terms
> like hours, minutes and seconds. Those fractions are
> pretty cryptic in their raw form.
> One hour is 0.041667 day.

Here support for constant time values should greatly help. User will
not have to make any calculations manually. Just simply t"01:00" will
be enough, f.e.:
   tValue += t"01:00"
We have to define also supported math operations and item type for results.
I suggest to make it date compatible too and define that date + timestamp
and timestamp + date gives timestamp as result. The list of legal operations
will look like:
   <t> + <t> => <t>
   <t> - <t> => <n>
   <t> + <n> => <t>
   <n> + <t> => <t>
   <t> - <n> => <t>

   <d> + <t> => <t>
   <t> + <d> => <t>
   <d> - <t> => <n>
   <t> - <d> => <n>

[...]
> I have no idea however, how to introduce offset in syntaxes in an
> elegant way, especially in the fixed position format.

The formatted text format like:
   t"YYYY-MM-DD hh:mm:ss.ccc"
can be extended by UTC+-NNNN sufix, f.e.:
   t"2009-02-10 18:39:47 UTC+0100"
It will be sth like output of:
   date "+%F %X UTC%z"
plus optional .ccc as number of milliseconds.
But we can also use TZ rules only for conversions and leave to user
how he want to internally use timestamp value. In some programs it
may be UTC time in some other local. The important is only the way
how this information is exchanged with the rest of world. Here in
many representation the UTC offset is missing so it's always necessary
to use UTC values and only make conversions to local time when they are
presented.

best regards,
Przemek
From miguelangel at marchuet.net  Tue Feb 10 12:54:38 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Tue Feb 10 12:49:32 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>	<20090210140524.GA23952@uran.home.aster.pl>
	<18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
Message-ID: <4991BF5E.5080802@marchuet.net>


> 
> Instead, I'd suggest a set of function, just like Clipper 
> uses for dates:
> 
> - hb_time() -> <tCurrentDateTime>
> - hb_stot( "language independent string representation of date/time" ) 
> -> <tValue>
> - hb_ttos() -> <cValue> language independent string repr of date/time, 
> easy to parse with fixed positions ("YYYYMMDDHHMMSSFF")
> - hb_ctot( "freeform date/time representation" ) -> <tValue>
> - hb_ttoc( <tValue>[, <cFormat> ] ) -> <cValue> freeform date/time 
> representation (also controllable by Set( _SET_TIMEFORMAT ) )
> 

Please function TTOS is necessary to fully support cdx indexes of
last version of dbf (implemented in vfp). Please don't add hb_ prefix
in this case, please don't add it.

Best regards,
Miguel Angel Marchuet
From harbour.01 at syenar.hu  Tue Feb 10 13:02:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 13:02:46 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090210175218.GA20113@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
Message-ID: <18d502870902101002t1e4f06c0h6b2932b756e8d73e@mail.gmail.com>

Hi Przemek,


> > I have no idea however, how to introduce offset in syntaxes in an
> > elegant way, especially in the fixed position format.
>
>
>   t"YYYY-MM-DD hh:mm:ss.ccc"
> can be extended by UTC+-NNNN sufix, f.e.:
>   t"2009-02-10 18:39:47 UTC+0100"
> It will be sth like output of:
>   date "+%F %X UTC%z"
> plus optional .ccc as number of milliseconds.


Sounds good.


> many representation the UTC offset is missing so it's always necessary
> to use UTC values and only make conversions to local time when they are
> presented.


Nice, but could we avoid this strange syntax t"<text>" ?
I find it rather strange in Harbour. Any problems with the
already used function name (hb_ctot) and 0t... approach?

Maybe we'd need another notation for time without date:
0h0100 => meaning 01:00 (plus empty date)
0h015827 => meaning 01:58:27 (plus empty date)
0t20090209 => meaning 2009-02-09 00:00:00
0t20090209203510 => meaning 2009-02-10 20:35:10
hb_ctot( "2009-02-10 18:39:47 UTC+0100" ) => meaning 2009-02-10 18:39:47
UTC+0100

hb_ctot() could also accept all formats you wrote for t"":
hb_ctot( "01:00" )
hb_ctot( "01:58:27" )
hb_ctot( "2009-02-09" )

hb_stot() could use the strict format:
hb_stot( "20090210" )
hb_stot( "20090210183947" )
hb_stot( "20090210183947+0100" )

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/71c0ffcc/attachment.html
From harbour.01 at syenar.hu  Tue Feb 10 13:08:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 13:08:52 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <4991BF5E.5080802@marchuet.net>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
	<4991BF5E.5080802@marchuet.net>
Message-ID: <18d502870902101008k30c4804aqab0ed31e9b5faaf8@mail.gmail.com>

>
> Please function TTOS is necessary to fully support cdx indexes of
> last version of dbf (implemented in vfp). Please don't add hb_ prefix
> in this case, please don't add it.


You know we have a rule to add it for all Harbour extension
functions.

Depending on where TTOS() comes from, we may implement
it in xhb.lib, or add it to core with HB_COMPAT_FOXPRO
protection.

At this point we haven't even decided that HB_TTOS() will or
will not be compatible with TTOS() (I don't know the details of
TTOS()).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/26bdd28c/attachment.html
From dbtopas at dbtopas.lt  Tue Feb 10 13:37:00 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Feb 10 13:36:50 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902101002t1e4f06c0h6b2932b756e8d73e@mail.gmail.com>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>	<20090210140524.GA23952@uran.home.aster.pl>	<49919C07.7000700@dbtopas.lt>	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>	<20090210164825.GA30386@uran.home.aster.pl>	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>	<20090210175218.GA20113@uran.home.aster.pl>
	<18d502870902101002t1e4f06c0h6b2932b756e8d73e@mail.gmail.com>
Message-ID: <4991C94C.8070902@dbtopas.lt>

Hi,


> hb_ctot( "2009-02-10 18:39:47 UTC+0100" ) => meaning 2009-02-10 18:39:47 
> UTC+0100
> hb_ctot() could also accept all formats you wrote for t"":
> hb_ctot( "01:00" )
> hb_ctot( "01:58:27" )
> hb_ctot( "2009-02-09" )

Only runtime function evaluation (without compilers pseudo-function 
optimisation) is possible, since hb_ctot() depends on 
set(_SET_TIMESTAMPFORMAT, ...). Usage in libraries is not possible at 
all, since library user can set any format.



Regards,
Mindaugas
From dbtopas at dbtopas.lt  Tue Feb 10 13:39:06 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Feb 10 13:38:56 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <4991BF5E.5080802@marchuet.net>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>	<20090210140524.GA23952@uran.home.aster.pl>	<18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
	<4991BF5E.5080802@marchuet.net>
Message-ID: <4991C9CA.7090203@dbtopas.lt>

Miguel Angel Marchuet wrote:
> Please function TTOS is necessary to fully support cdx indexes of
> last version of dbf (implemented in vfp). Please don't add hb_ prefix
> in this case, please don't add it.

Hi,


I'm not always a fan of HB_ prefix, but in final application it can be 
solved, by:
FUNC TTOS(x);  RETURN HB_TTOS(x)


Regards,
Mindaugas
From harbour.01 at syenar.hu  Tue Feb 10 13:59:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 13:59:16 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <4991C94C.8070902@dbtopas.lt>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<18d502870902101002t1e4f06c0h6b2932b756e8d73e@mail.gmail.com>
	<4991C94C.8070902@dbtopas.lt>
Message-ID: <18d502870902101059l59987a39p6de6c8ad2f91d6d8@mail.gmail.com>

>
> hb_ctot( "2009-02-10 18:39:47 UTC+0100" ) => meaning 2009-02-10 18:39:47
>> UTC+0100
>> hb_ctot() could also accept all formats you wrote for t"":
>> hb_ctot( "01:00" )
>> hb_ctot( "01:58:27" )
>> hb_ctot( "2009-02-09" )
>>
>
> Only runtime function evaluation (without compilers pseudo-function
> optimisation) is possible, since hb_ctot() depends on
> set(_SET_TIMESTAMPFORMAT, ...). Usage in libraries is not possible at all,
> since library user can set any format.


Yes, that's why we need the 0h, 0t, hb_stot() flavours
in the first place.

It's yet to be thought out how can we, or is it possible at
all to have a generic TIMEFORMAT to parse input strings,
since there can be quite many variations, some ambiguous.

I'd rather think that programs would mainly use ttos, stot
when dealing with string / date conversions internally
and resort to ttoc to produce human readable output, and
ctot to parse human input, but even that only in rare cases.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/024f6bd1/attachment-0001.html
From lorenzo.fiorini at gmail.com  Tue Feb 10 14:00:53 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb 10 14:00:57 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902101002t1e4f06c0h6b2932b756e8d73e@mail.gmail.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<18d502870902101002t1e4f06c0h6b2932b756e8d73e@mail.gmail.com>
Message-ID: <9257026e0902101100v686d2cacu87688c2a26733a8a@mail.gmail.com>

On Tue, Feb 10, 2009 at 7:02 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Nice, but could we avoid this strange syntax t"<text>" ?
> I find it rather strange in Harbour.

I find t"xyz" coherent with SQL where dates and times are simply literals.

Some examples are:

DATE'1999-12-25'
TIME'08:23:16'
TIME'14:23:16.5'
TIMESTAMP'1999-12-25 08:23:16'

select * from period where date = DATE '1999-12-25'

Datetime Literals:

|--+-+-DATE--'YYYY-MM-DD'-------+-----------------------+-------|
   | '-'alternative_date_value'-'                       |
   +-+---TIME--+-'HH:MM:SS'----------+---+--------------+
   | |         '-'HH:MM:SS.fraction'-'   |              |
   | '-'alternative_time_value'----------'              |
   '-+-TIMESTAMP--'YYYY-MM-DD--+-HH:MM:SS'----------+-+-'
     |                         '-HH:MM:SS.fraction'-' |
     '-'alternative_timestamp_value'------------------'

Not a request, just an example.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Feb 10 15:08:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 15:16:57 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <9257026e0902101100v686d2cacu87688c2a26733a8a@mail.gmail.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<18d502870902101002t1e4f06c0h6b2932b756e8d73e@mail.gmail.com>
	<9257026e0902101100v686d2cacu87688c2a26733a8a@mail.gmail.com>
Message-ID: <18d502870902101208q416b0e15r191d64894d599f1a@mail.gmail.com>

>
> > Nice, but could we avoid this strange syntax t"<text>" ?
> > I find it rather strange in Harbour.
>
> I find t"xyz" coherent with SQL where dates and times are simply literals.


Yes, but IMO it's not a very good idea to mix different language
concepts, Harbour is rooted in Clipper, not SQL.


> Some examples are:
>
> DATE'1999-12-25'
> TIME'08:23:16'
> TIME'14:23:16.5'
> TIMESTAMP'1999-12-25 08:23:16'
>
> select * from period where date = DATE '1999-12-25'
>
> Datetime Literals:
>
> |--+-+-DATE--'YYYY-MM-DD'-------+-----------------------+-------|
>   | '-'alternative_date_value'-'                       |
>   +-+---TIME--+-'HH:MM:SS'----------+---+--------------+
>   | |         '-'HH:MM:SS.fraction'-'   |              |
>   | '-'alternative_time_value'----------'              |
>   '-+-TIMESTAMP--'YYYY-MM-DD--+-HH:MM:SS'----------+-+-'
>     |                         '-HH:MM:SS.fraction'-' |
>     '-'alternative_timestamp_value'------------------'
>
> Not a request, just an example.


Thanks, the concept is absolutely good, we need something similar,
but with a more natural syntax.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090210/bdde8256/attachment.html
From info at fsgiudice.com  Tue Feb 10 16:02:26 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Feb 10 16:02:40 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902101002t1e4f06c0h6b2932b756e8d73e@mail.gmail.com>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>	<20090210140524.GA23952@uran.home.aster.pl>	<49919C07.7000700@dbtopas.lt>	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>	<20090210164825.GA30386@uran.home.aster.pl>	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>	<20090210175218.GA20113@uran.home.aster.pl>
	<18d502870902101002t1e4f06c0h6b2932b756e8d73e@mail.gmail.com>
Message-ID: <4991EB62.1090207@fsgiudice.com>

Hi Viktor,

Il 10/02/2009 19.02, Viktor Szak?ts ha scritto:
> Hi Przemek,
>  
> 
>      > I have no idea however, how to introduce offset in syntaxes in an
>      > elegant way, especially in the fixed position format.
> 
> 
>       t"YYYY-MM-DD hh:mm:ss.ccc"
>     can be extended by UTC+-NNNN sufix, f.e.:
>       t"2009-02-10 18:39:47 UTC+0100"
>     It will be sth like output of:
>       date "+%F %X UTC%z"
>     plus optional .ccc as number of milliseconds.
> 
> 
> Sounds good.
>  
> 
>     many representation the UTC offset is missing so it's always necessary
>     to use UTC values and only make conversions to local time when they are
>     presented.
> 
> 
> Nice, but could we avoid this strange syntax t"<text>" ?
> I find it rather strange in Harbour. Any problems with the 
> already used function name (hb_ctot) and 0t... approach?
> 
> Maybe we'd need another notation for time without date:
> 0h0100 => meaning 01:00 (plus empty date)
> 0h015827 => meaning 01:58:27 (plus empty date)
> 0t20090209 => meaning 2009-02-09 00:00:00
> 0t20090209203510 => meaning 2009-02-10 20:35:10
> hb_ctot( "2009-02-10 18:39:47 UTC+0100" ) => meaning 2009-02-10 18:39:47 
> UTC+0100
> 
> hb_ctot() could also accept all formats you wrote for t"":
> hb_ctot( "01:00" )
> hb_ctot( "01:58:27" )
> hb_ctot( "2009-02-09" )
> 
> hb_stot() could use the strict format:
> hb_stot( "20090210" )
> hb_stot( "20090210183947" )
> hb_stot( "20090210183947+0100" )
> 

I vote to adopt both notations that will be useful in many cases:
0t*, 0h* are faster and precise, but t"" I found very interesting, 
because it is more readable.

My 2 cents,

Best regards

Francesco


From ptucker at sympatico.ca  Tue Feb 10 16:57:20 2009
From: ptucker at sympatico.ca (Paul Tucker)
Date: Tue Feb 10 16:57:28 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
Message-ID: <COL0-F2147F80D15B9025692E358DFBD0@phx.gbl>

>
>   ? d + 0.5 + 0.5
> > just compare Clipper and xHarbour results.
>

Just for fun... VO gives 'Conversion is not possible between Date and Float' 
and 'Illegal Operation' and Vulcan.net sets it to 2/10/2009 (same as 
Clipper)

Paul


From info at fsgiudice.com  Tue Feb 10 17:21:08 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Feb 10 17:21:17 2009
Subject: [Harbour] Error building hbssl test
Message-ID: <4991FDD4.1040701@fsgiudice.com>

Hi Viktor,

with last SVN I got
J:\cvs\harbourSVN\contrib\hbssl\tests>hbmk_b32.bat test
test.c:
Error: Unresolved external '_SSL_get_read_ahead' referenced from
J:\CVS\HARBOURSVN\LIB\HBSSL.LIB|ssl

could you kindly revise ?
Tested with BCC 5.82 with last OpenSSL 0.9.8j

Best regards

Francesco

From e.m.giordano at emagsoftware.it  Tue Feb 10 17:35:18 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Feb 10 17:35:23 2009
Subject: [Harbour] Errors
Message-ID: <59EF2462DF8B4474A33722E4616EA697@emag>

I get the following errors compiling one of my modules:

Error E2238 e:\harbour\include\clipdefs.h 88: Multiple declaration for 
'WORD'
Error E2344 e:\bcc55\include\windef.h 145: Earlier declaration of 'WORD'
Error E2238 e:\harbour\include\clipdefs.h 90: Multiple declaration for 
'PWORD'
Error E2344 e:\bcc55\include\windef.h 154: Earlier declaration of 'PWORD'
Error E2238 e:\harbour\include\clipdefs.h 122: Multiple declaration for 
'HANDLE'
Error E2344 e:\bcc55\include\winnt.h 283: Earlier declaration of 'HANDLE'

What am I missing?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Tue Feb 10 18:14:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 18:15:08 2009
Subject: [Harbour] Error building hbssl test
In-Reply-To: <4991FDD4.1040701@fsgiudice.com>
References: <4991FDD4.1040701@fsgiudice.com>
Message-ID: <18d502870902101514q2ff08d65i2e7c754b84518ea7@mail.gmail.com>

Hi Francesco,
Good question, I don't know, MSVC doesn't complain,
probably some quirk with Borland implib vs. ssleay32.dll.
This one symbol only is included without the leading
underscore in the generated ssleay32.lib.

Since the solution doesn't look trivial, unless this function
is important, I'd suggest to comment out line 771 to 782 in
ssl.c as a workaround.

Brgds,
Viktor

On Tue, Feb 10, 2009 at 11:21 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Viktor,
>
> with last SVN I got
> J:\cvs\harbourSVN\contrib\hbssl\tests>hbmk_b32.bat test
> test.c:
> Error: Unresolved external '_SSL_get_read_ahead' referenced from
> J:\CVS\HARBOURSVN\LIB\HBSSL.LIB|ssl
>
> could you kindly revise ?
> Tested with BCC 5.82 with last OpenSSL 0.9.8j
>
> Best regards
>
> Francesco
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/3eab860c/attachment.html
From harbour.01 at syenar.hu  Tue Feb 10 18:16:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 18:16:49 2009
Subject: [Harbour] Errors
In-Reply-To: <59EF2462DF8B4474A33722E4616EA697@emag>
References: <59EF2462DF8B4474A33722E4616EA697@emag>
Message-ID: <18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com>

Hi EMG,

Was this working before, or is this a new file?

My guess, is you're trying to #include clipdefs.h and windows.h
in the same file explicitly.

Try using HB_OS_WIN_USED to include windows.h.

Also see:
2009-02-04 01:09 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

Brgds,
Viktor

On Tue, Feb 10, 2009 at 11:35 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

> I get the following errors compiling one of my modules:
>
> Error E2238 e:\harbour\include\clipdefs.h 88: Multiple declaration for
> 'WORD'
> Error E2344 e:\bcc55\include\windef.h 145: Earlier declaration of 'WORD'
> Error E2238 e:\harbour\include\clipdefs.h 90: Multiple declaration for
> 'PWORD'
> Error E2344 e:\bcc55\include\windef.h 154: Earlier declaration of 'PWORD'
> Error E2238 e:\harbour\include\clipdefs.h 122: Multiple declaration for
> 'HANDLE'
> Error E2344 e:\bcc55\include\winnt.h 283: Earlier declaration of 'HANDLE'
>
> What am I missing?
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/760aedb3/attachment-0001.html
From e.m.giordano at emagsoftware.it  Tue Feb 10 19:09:57 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Feb 10 19:10:02 2009
Subject: [Harbour] Errors
References: <59EF2462DF8B4474A33722E4616EA697@emag>
	<18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com>
Message-ID: <FB32AF5F997B4C91B3F821B612EB2CE1@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 0.16
Oggetto: Re: [Harbour] Errors


> Hi EMG,
>
> Was this working before,

Yes.

> or is this a new file?

No, it is an old file.

> My guess, is you're trying to #include clipdefs.h and windows.h
> in the same file explicitly.

Yes!

> Try using HB_OS_WIN_USED to include windows.h.

I put

#define HB_OS_WIN_USED

just before

#include "clipdefs.h"

and the errors went away. Is this correct?

> Also see:
> 2009-02-04 01:09 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

Ok, I see. Antonio has to replace HB_OS_WIN_32_USED with HB_OS_WIN_USED in 
one of FWH include files. Just reported.

One more problem: I get

Warning W0001  Redefinition or duplicate definition of #define ES_PASSWORD

in another module that compiled fine before. Any suggestions?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Tue Feb 10 19:34:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 10 19:29:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10220] trunk/harbour
In-Reply-To: <E1LWp2j-0008Ad-C7@3kljzd1.ch3.sourceforge.com>
References: <E1LWp2j-0008Ad-C7@3kljzd1.ch3.sourceforge.com>
Message-ID: <20090211003425.GA8893@uran.home.aster.pl>

On Tue, 10 Feb 2009, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> 2009-02-10 10:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * source/rtl/filesys.c
>     ! Fixes for *NIX compilation to latest change.
>       Please test. [ some more ]

It's not good idea to create code which depends on executable file
location in directory tree in systems where soft and hard links
exist. File is not directory entry in *nixes. Here directory entries
are only sth like hash tables indexed by file names which return file
i-node. The same file i-node may have many different entries in one or
more directories so you can execute the same single executable file using
different paths. It will interact with any code user can create using
hb_fsBaseDirBuff().
Anyhow if you need such functionality then it should be implemented in
a little bit different way. The internal logic which may extract current
directory should be moved to cmdarg.c and hb_cmdargInit() function to
avoid problems with current directory changed by user code and the result
should be kept in internal buffer like s_szAppName in MS-Win builds.
Also the code which tries to create full path should be modified a little
bit. If you want I can implement it. At least we will have all such
manipulations with executable name in one place so it will be easy
to locate and change/fix if necessary.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb 10 19:33:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 19:33:27 2009
Subject: [Harbour] Errors
In-Reply-To: <FB32AF5F997B4C91B3F821B612EB2CE1@emag>
References: <59EF2462DF8B4474A33722E4616EA697@emag>
	<18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com>
	<FB32AF5F997B4C91B3F821B612EB2CE1@emag>
Message-ID: <18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com>

>
> Try using HB_OS_WIN_USED to include windows.h.
>>
>
> I put
>
> #define HB_OS_WIN_USED
>
> just before
>
> #include "clipdefs.h"
>
> and the errors went away. Is this correct?


Yes. You should put #define HB_OS_WIN_USED before any
Harbour headers. At the same time you should remove the
#include <windows.h> line from your source file. This logic didn't
change since the beginning, except the name of the macro
controlling it (was HB_OS_WIN_32_USED, now is HB_OS_WIN_USED).

Since Harbour should be compatible with old name yet,
chances are high your using -DHB_LEGACY_OFF, which
turns off this compatibility feature. Remove this macro,
and retry, and add it back when code is fully cleaned from
legacy macros.


> Warning W0001  Redefinition or duplicate definition of #define ES_PASSWORD
>>
>
> in another module that compiled fine before. Any suggestions?


Some Windows headers are double #included.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/266a4e4a/attachment.html
From harbour.01 at syenar.hu  Tue Feb 10 19:41:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 10 19:41:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10220] trunk/harbour
In-Reply-To: <20090211003425.GA8893@uran.home.aster.pl>
References: <E1LWp2j-0008Ad-C7@3kljzd1.ch3.sourceforge.com>
	<20090211003425.GA8893@uran.home.aster.pl>
Message-ID: <18d502870902101641y1d29e2ebqd4f7f707cb168282@mail.gmail.com>

Hi Przemek,

> 2009-02-10 10:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >   * source/rtl/filesys.c
> >     ! Fixes for *NIX compilation to latest change.
> >       Please test. [ some more ]
>
> It's not good idea to create code which depends on executable file
> location in directory tree in systems where soft and hard links
> exist. File is not directory entry in *nixes. Here directory entries
> are only sth like hash tables indexed by file names which return file
> i-node. The same file i-node may have many different entries in one or
> more directories so you can execute the same single executable file using
> different paths. It will interact with any code user can create using
> hb_fsBaseDirBuff().
> Anyhow if you need such functionality then it should be implemented in
> a little bit different way. The internal logic which may extract current
> directory should be moved to cmdarg.c and hb_cmdargInit() function to
> avoid problems with current directory changed by user code and the result
> should be kept in internal buffer like s_szAppName in MS-Win builds.
> Also the code which tries to create full path should be modified a little
> bit. If you want I can implement it. At least we will have all such
> manipulations with executable name in one place so it will be easy
> to locate and change/fix if necessary.


Thanks for your suggestions, in fact I was wondering how to
do that properly, and this was the closest thing I could dig up.

I definitely need this, and I believe it could be of interest for
other developers, as it seems needed if an app needs to access
some files relative to the executable dir. Typical example:
<appdir>/font/somefont.ttf. If I assume the app can be installed
onto any dirs, and can be launched from any dirs, there doesn't
seem to be any other ways to locate that .ttf than the help of
such function.

HB_PROGNAME() is very similar, but it's meant to return
the (or one) absolute path of the executable, including the
executable name.

If you can make your proposed changes to make this robust,
it'd be really great.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/579f207b/attachment.html
From druzus at users.sourceforge.net  Tue Feb 10 20:33:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb 10 20:33:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10221] trunk/harbour
Message-ID: <E1LX3ym-0004uL-Gg@c3vjzd1.ch3.sourceforge.com>

Revision: 10221
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10221&view=rev
Author:   druzus
Date:     2009-02-11 01:33:31 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 02:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/source/vm/cmdarg.c
    + added const char * hb_cmdargARGVN( int argc )

  * harbour/source/vm/cmdarg.c
    * try to convert executable file name argument in argv[0] to
      absolute path if it's relative one. Respect PATH envvar it necessary.

  * harbour/source/common/hbdate.c
    * formatting

  * harbour/source/rtl/philes.c
  * harbour/source/rtl/errorint.c
  * harbour/source/rtl/filesys.c
    ! use hb_cmdargARGVN(n) instead of hb_cmdargARGV()[n] to avoid
      possible GPF if some function will be called before argument
      initialization
    * removed additional logic which tries to convert relative paths
      in file name from hb_fsBaseDirBuff() and HB_PROGNAME() functions

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/source/common/hbdate.c
    trunk/harbour/source/rtl/errorint.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/philes.c
    trunk/harbour/source/vm/cmdarg.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From yamamoto at rocketmail.com  Wed Feb 11 02:43:03 2009
From: yamamoto at rocketmail.com (Mitja Podgornik)
Date: Wed Feb 11 02:43:06 2009
Subject: [Harbour] Max number of open files in WIN XP/Vista/2000 environment
Message-ID: <823806.3545.qm@web30703.mail.mud.yahoo.com>


How Harbour handles that? Where can I increase "default" value (if exists)
Is this harbour related or OS related?

regards,  Mitja


      
From miguelangel at marchuet.net  Wed Feb 11 03:41:24 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Wed Feb 11 03:36:12 2009
Subject: [Harbour] little optimization at rdds
Message-ID: <49928F34.5090607@marchuet.net>

I purpose to separate next macro

HB_CDP_SUPPORT_OFF

as

HB_COLLATE_SUPPORT_OFF
HB_CHARSET_SUPPORT_OFF

To optimize dbfGetValue and dbfPutValue, because in most cases
pArea->cdPage are equal hb_cdp_page always.
We optimize only 1 if but this if is executed many times, in some
applications are millions of times.

Best regards
Miguel Angel Marchuet
From vszakats at users.sourceforge.net  Wed Feb 11 03:47:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 03:47:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10222] trunk/harbour
Message-ID: <E1LXAl3-0002mY-BY@c3vjzd1.ch3.sourceforge.com>

Revision: 10222
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10222&view=rev
Author:   vszakats
Date:     2009-02-11 08:47:48 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 09:46 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * source/rtl/gtwvt/gtwvt.c
    * BYTE -> CHAR (Windows) - UNDONE.

  * include/hbdefs.h
    + Added (commented) new types. Work in progress, incomplete.

  * contrib/hbssl/ssl.c
    - Temporary disabled SSL_GET_READ_AHEAD() as a workaround for
      BCC linking problem with SSL_get_read_ahead() OpenSSL
      library function (symbol is unresolved due to missing
      leading underscore in implib generated ssleay32.lib file).

  * source/vm/set.c
    % hb_fsFile() -> hb_fsFileExists()

  * source/rtl/hbffind.c
    * HB_WIN_32_MATCH -> HB_WIN_MATCH

  * doc/whatsnew.txt
  * include/hbsetup.h
  * source/vm/fm.c
    * #define HB_FM_WIN32_ALLOC renamed to HB_FM_WIN_ALLOC.
    ; INCOMPATIBLE: For those who are using this switch, please
                    update your make files.

  * source/rtl/tpopup.prg
    ! Fixed to draw separator lines with BOX GT attributes,
      so that they appear properly.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbssl/ssl.c
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/rtl/hbffind.c
    trunk/harbour/source/rtl/tpopup.prg
    trunk/harbour/source/vm/fm.c
    trunk/harbour/source/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From paolorus at 2bm.it  Wed Feb 11 04:19:13 2009
From: paolorus at 2bm.it (Paolo Russignan)
Date: Wed Feb 11 04:20:18 2009
Subject: [Harbour] Open File VFP
Message-ID: <49929811.4000909@2bm.it>

Hello,

in Harbor you can open files created with Fox Pro 9? Where if I find 
examples?
Hello and thanks
Paolo Russignan
From harbour.01 at syenar.hu  Wed Feb 11 04:26:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 04:27:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10221] trunk/harbour
In-Reply-To: <E1LX3ym-0004uL-Gg@c3vjzd1.ch3.sourceforge.com>
References: <E1LX3ym-0004uL-Gg@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870902110126x42d22552l1fba56b2fb86719d@mail.gmail.com>

Many thanks Przemek. It works perfectly, I'm happy this feature is now
available for all platforms in core
quality.

Brgds,
Viktor

On Wed, Feb 11, 2009 at 2:33 AM, <druzus@users.sourceforge.net> wrote:

> Revision: 10221
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10221&view=rev
> Author:   druzus
> Date:     2009-02-11 01:33:31 +0000 (Wed, 11 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-11 02:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbapi.h
>  * harbour/source/vm/cmdarg.c
>    + added const char * hb_cmdargARGVN( int argc )
>
>  * harbour/source/vm/cmdarg.c
>    * try to convert executable file name argument in argv[0] to
>      absolute path if it's relative one. Respect PATH envvar it necessary.
>
>  * harbour/source/common/hbdate.c
>    * formatting
>
>  * harbour/source/rtl/philes.c
>  * harbour/source/rtl/errorint.c
>  * harbour/source/rtl/filesys.c
>    ! use hb_cmdargARGVN(n) instead of hb_cmdargARGV()[n] to avoid
>      possible GPF if some function will be called before argument
>      initialization
>    * removed additional logic which tries to convert relative paths
>      in file name from hb_fsBaseDirBuff() and HB_PROGNAME() functions
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbapi.h
>    trunk/harbour/source/common/hbdate.c
>    trunk/harbour/source/rtl/errorint.c
>    trunk/harbour/source/rtl/filesys.c
>    trunk/harbour/source/rtl/philes.c
>    trunk/harbour/source/vm/cmdarg.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/56eb4a6b/attachment.html
From vszakats at users.sourceforge.net  Wed Feb 11 04:45:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 04:45:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10223]
	trunk/harbour/ChangeLog
Message-ID: <E1LXBf5-0006oG-GP@bj8yhf1.ch3.sourceforge.com>

Revision: 10223
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10223&view=rev
Author:   vszakats
Date:     2009-02-11 09:45:42 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 10:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * ChangeLog
    ! Fixed wrong name/e-mail in previous changelog header of mine.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Wed Feb 11 05:05:40 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 05:05:45 2009
Subject: [Harbour] Errors
References: <59EF2462DF8B4474A33722E4616EA697@emag><18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com><FB32AF5F997B4C91B3F821B612EB2CE1@emag>
	<18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com>
Message-ID: <66FA6220A1AB443B8F22F6CCBB0132B3@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 1.33
Oggetto: Re: [Harbour] Errors


> Yes. You should put #define HB_OS_WIN_USED before any
> Harbour headers. At the same time you should remove the
> #include <windows.h> line from your source file.

I can't remove

#include "windows.h"

(please note, not

#include <windows.h>

as it isn't a C standard header file)

If I remove it then I get undeclared functions. Do you need a sample?

> This logic didn't change since the beginning

Are you sure? My modules compiled fine before.

> Since Harbour should be compatible with old name yet,
> chances are high your using -DHB_LEGACY_OFF,

No, I don't use that define.

> Some Windows headers are double #included.

Yes, but was working fine before.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Feb 11 05:33:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 05:33:04 2009
Subject: [Harbour] Errors
In-Reply-To: <66FA6220A1AB443B8F22F6CCBB0132B3@emag>
References: <59EF2462DF8B4474A33722E4616EA697@emag>
	<18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com>
	<FB32AF5F997B4C91B3F821B612EB2CE1@emag>
	<18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com>
	<66FA6220A1AB443B8F22F6CCBB0132B3@emag>
Message-ID: <18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com>

>
> Yes. You should put #define HB_OS_WIN_USED before any
>> Harbour headers. At the same time you should remove the
>> #include <windows.h> line from your source file.
>>
>
> I can't remove
>
> #include "windows.h"
>
> (please note, not
>
> #include <windows.h>
>
> as it isn't a C standard header file)


Sorry, this is wrong, on Windows, windows.h is part of the
system and <> has be used for all Windows headers.
You should use "" when referring to your own headers
or 3rd party headers not part of the system (where system
can be the OS or the compiler, but I'm probably using
sloppy terminology here). <> tells the compiler to first
look for the headers in default system locations, and
look in -I dirs and local dir only after that.

Some Windows headers are double #included.
>>
>
> Yes, but was working fine before.


Only HB_OS_WIN_32 has been changed to HB_OS_WIN,
and HB_OS_WIN_32_USED has been changed to HB_OS_WIN_USED.

And, again, old method should work by default, I've just
recompiled older hbwhat sources, and it went without errors.

If everything else fails, just do this replacement in your
code and headers, and retry. This did the job for all
Windows dependent parts of Harbour.

Maybe your code does something special, not found in
Harbour, but it's difficult to guess exactly what. Or maybe
some other recently changed build settings are effecting
you, pls also see these:

2009-02-06 23:47 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
2009-02-04 23:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/f973fe6b/attachment.html
From miguelangel at marchuet.net  Wed Feb 11 05:39:09 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Wed Feb 11 05:33:56 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902101008k30c4804aqab0ed31e9b5faaf8@mail.gmail.com>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>	<20090210140524.GA23952@uran.home.aster.pl>	<18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>	<4991BF5E.5080802@marchuet.net>
	<18d502870902101008k30c4804aqab0ed31e9b5faaf8@mail.gmail.com>
Message-ID: <4992AACD.9050706@marchuet.net>

Viktor Szak?ts escribi?:
>     Please function TTOS is necessary to fully support cdx indexes of
>     last version of dbf (implemented in vfp). Please don't add hb_ prefix
>     in this case, please don't add it.
> 
> 
> You know we have a rule to add it for all Harbour extension 
> functions.
> 
> Depending on where TTOS() comes from, we may implement 
> it in xhb.lib, or add it to core with HB_COMPAT_FOXPRO 
> protection.
> 
> At this point we haven't even decided that HB_TTOS() will or 
> will not be compatible with TTOS() (I don't know the details of 
> TTOS()).
> 
	
can do whatever you want, but if you want 100% support harbor index cdx, TTOS must exist to support them, not just visual fox 
pro, advantage also uses it for example.

Why we need HB_TTOS() and TTOS() at the same time.
I think TTOS is the best solution with HB_COMPAT_FOXPRO and without it.

Best regards,
Miguel Angel Marchuet
From harbour.01 at syenar.hu  Wed Feb 11 06:01:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 06:01:57 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <4992AACD.9050706@marchuet.net>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
	<4991BF5E.5080802@marchuet.net>
	<18d502870902101008k30c4804aqab0ed31e9b5faaf8@mail.gmail.com>
	<4992AACD.9050706@marchuet.net>
Message-ID: <18d502870902110301m11ae38a6s1c3f481419b6a435@mail.gmail.com>

>
> can do whatever you want, but if you want 100% support harbor index cdx,
> TTOS must exist to support them, not just visual fox pro, advantage also
> uses it for example.
>
> Why we need HB_TTOS() and TTOS() at the same time.
> I think TTOS is the best solution with HB_COMPAT_FOXPRO and without it.


ADS has it as part of its FoxPro compatibility feature, this
doesn't change the fact that this is a FoxPro compatibility
function.

Again, Harbour's doesn't aim to be FoxPro compatible in
the first place. FoxPro is just another dialect, like XPP,
FlagShip, etc, but it's different and incompatible enough
with the rest of the bunch that we've choosen not to enable
support by default. If this isn't enough for your purposes,
you can enable HB_COMPAT_FOXPRO, and/or add support
with speciality features by other means.

Overall It wouldn't be very wise to make bad compromises or
break core Harbour rules, or limit ourselves just to add support
for some FoxPro features, if we can add support for something
without any adverse effect on higher priority goals, it's fine
though. And finally, there is always room to do development
outside the Harbour core, for example as part of a FoxPro
compatibility library, which could implement the exact replica
of FoxPro features without being limited by other factors.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/b7b456b0/attachment.html
From mbelgrano at deltain.it  Wed Feb 11 06:05:21 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 06:05:26 2009
Subject: [Harbour] Harbour Web Site - English & Portuguese version
In-Reply-To: <531d7a750901201308r4da94e94leced030f735025fe@mail.gmail.com>
References: <531d7a750812111206q4c63ef5lac1401af490eb30@mail.gmail.com>
	<609353e70901141104l34dbdeb9t453d28312597efb4@mail.gmail.com>
	<531d7a750901201308r4da94e94leced030f735025fe@mail.gmail.com>
Message-ID: <609353e70902110305m59a29792q7d22fcd17d5a1499@mail.gmail.com>

Hi Renato
Have you same news?

2009/1/20 Vailton Renato <vailtom@gmail.com>:
> After a few days away for health care and personal matters and many
> details I'm back to finish the CONTRIB page and post again updates for
> revisions and comments.
>
> 2009/1/14 Massimo Belgrano <mbelgrano@deltain.it>:
>> Wich situation for upcoming harbour website?
>> Anybody have news?
>>
>> 2008/12/11 Vailton Renato <vailtom@gmail.com>
>>>
>>> Hi all!
>>>
>>> I concluded much of the development of the site for the project and
>>> would like to present the results.
>>>
>>> Project site in English:
>>> http://www.harbour-project.org/preview2/index.html
>>>
>>> Project site in Portuguese of Brazil (updated mirror):
>>> http://www.harbour-project.com.br/
>>>
>>> If I forgot to include someone in the Crew List please let me know.
>>> Opportunity to list the details that feel incomplete:
>>>
>>> * Documentation> Harbor documentation Index
>>>   Requires adjustments in the layout of the page.
>>>
>>> * Documentation> Tutorials
>>>   Need texts to fill the page. I have personal difficulties in
>>> assembling something in English to this page, but in the longer
>>> version in Portuguese I can contribute more.
>>>
>>> * Downloads> Helping tools
>>>  If you approve the idea, I think here would be the ideal place to
>>> put a list of tools for download as auxiliary Bison, GCC, FLEX,
>>> TortoiseSVN, and so on.
>>>
>>> Outside this, the site as a whole needs to be reviewed in search of
>>> errors. I look forward criticisms and suggestions ...
>>> Vailton Renato
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> Albo Nazionale Informatici Professionisti 2620
>> Socio 2843 Associazione Informatici prof.
>>
>> Analisi e sviluppo software per Lan e Web
>> Consulenza informatica - Formazione
>> Delta Informatica S.r.l.  http://www.deltain.it
>> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
>
> --
> Vailton Renato
> SQL LIB, MyMake & xDev Developer
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Feb 11 06:11:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 06:15:58 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902110301m11ae38a6s1c3f481419b6a435@mail.gmail.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
	<4991BF5E.5080802@marchuet.net>
	<18d502870902101008k30c4804aqab0ed31e9b5faaf8@mail.gmail.com>
	<4992AACD.9050706@marchuet.net>
	<18d502870902110301m11ae38a6s1c3f481419b6a435@mail.gmail.com>
Message-ID: <18d502870902110311h16193d3am4af40188a25f09ac@mail.gmail.com>

BTW, I've just searched through the ACE 9.10 Client Engine (including the
local server), and I couldn't find any reference to
TTOS().

Where are the ADS supported index functions documented??

Brgds,
Viktor

On Wed, Feb 11, 2009 at 12:01 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> can do whatever you want, but if you want 100% support harbor index cdx,
>> TTOS must exist to support them, not just visual fox pro, advantage also
>> uses it for example.
>>
>> Why we need HB_TTOS() and TTOS() at the same time.
>> I think TTOS is the best solution with HB_COMPAT_FOXPRO and without it.
>
>
> ADS has it as part of its FoxPro compatibility feature, this
> doesn't change the fact that this is a FoxPro compatibility
> function.
>
> Again, Harbour's doesn't aim to be FoxPro compatible in
> the first place. FoxPro is just another dialect, like XPP,
> FlagShip, etc, but it's different and incompatible enough
> with the rest of the bunch that we've choosen not to enable
> support by default. If this isn't enough for your purposes,
> you can enable HB_COMPAT_FOXPRO, and/or add support
> with speciality features by other means.
>
> Overall It wouldn't be very wise to make bad compromises or
> break core Harbour rules, or limit ourselves just to add support
> for some FoxPro features, if we can add support for something
> without any adverse effect on higher priority goals, it's fine
> though. And finally, there is always room to do development
> outside the Harbour core, for example as part of a FoxPro
> compatibility library, which could implement the exact replica
> of FoxPro features without being limited by other factors.
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/6a01f1a3/attachment.html
From mbelgrano at deltain.it  Wed Feb 11 06:27:02 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 06:27:06 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902110301m11ae38a6s1c3f481419b6a435@mail.gmail.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
	<4991BF5E.5080802@marchuet.net>
	<18d502870902101008k30c4804aqab0ed31e9b5faaf8@mail.gmail.com>
	<4992AACD.9050706@marchuet.net>
	<18d502870902110301m11ae38a6s1c3f481419b6a435@mail.gmail.com>
Message-ID: <609353e70902110327n54c6916dic404b89067eab3f3@mail.gmail.com>

xbase++ go to be more visual fox pro compatible because a large user
base will be given
xbase++ have added new datatypes to the Xbase++ language such as
datetime and interval. They are compatible with the VFP Timestamp typ
xbase++ have added a /fox switch to the Xbase++ compiler to accept the
"." instead of the ":" (OO syntax ).
xbase++ is working on  FoxPro compatible command layer based on xbase part.

so if we follow xbase++ we follow also fox
naturally we can follow xbase where it not break clipper compatibility
but xbase implementation seem to be still clipper compatible
also with new data type is compatibile afaik

2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>:
>> can do whatever you want, but if you want 100% support harbor index cdx,
>> TTOS must exist to support them, not just visual fox pro, advantage also
>> uses it for example.
>>
>> Why we need HB_TTOS() and TTOS() at the same time.
>> I think TTOS is the best solution with HB_COMPAT_FOXPRO and without it.
>
> ADS has it as part of its FoxPro compatibility feature, this
> doesn't change the fact that this is a FoxPro compatibility
> function.
> Again, Harbour's doesn't aim to be FoxPro compatible in
> the first place. FoxPro is just another dialect, like XPP,
> FlagShip, etc, but it's different and incompatible enough
> with the rest of the bunch that we've choosen not to enable
> support by default. If this isn't enough for your purposes,
> you can enable HB_COMPAT_FOXPRO, and/or add support
> with speciality features by other means.
> Overall It wouldn't be very wise to make bad compromises or
> break core Harbour rules, or limit ourselves just to add support
> for some FoxPro features, if we can add support for something
> without any adverse effect on higher priority goals, it's fine
> though. And finally, there is always room to do development
> outside the Harbour core, for example as part of a FoxPro
> compatibility library, which could implement the exact replica
> of FoxPro features without being limited by other factors.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Wed Feb 11 06:46:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 06:41:28 2009
Subject: [Harbour] little optimization at rdds
In-Reply-To: <49928F34.5090607@marchuet.net>
References: <49928F34.5090607@marchuet.net>
Message-ID: <20090211114616.GA30052@uran.home.aster.pl>

On Wed, 11 Feb 2009, Miguel Angel Marchuet wrote:

Hi Miguel,

> I purpose to separate next macro
> HB_CDP_SUPPORT_OFF
> as
> HB_COLLATE_SUPPORT_OFF
> HB_CHARSET_SUPPORT_OFF
> To optimize dbfGetValue and dbfPutValue, because in most cases
> pArea->cdPage are equal hb_cdp_page always.
> We optimize only 1 if but this if is executed many times, in some
> applications are millions of times.

The total cost of this millions of times execution for C if() statement
means milliseconds for current computers and it's a small part of much more
expensive operation. I think that you should write few small test programs
in C to check real cost of some constructions to see how much speed can be
reduced. Of course it's always good to find redundant code and optimize
it so thank you for your suggestion but in this particular case we will not
win any valuable speed improvement but for sure we will have to keep alive
more code branches when we will try to update it and we do not know how
problematic such extension can be when we will work on Unicode support in
HVM what probably force using translations so we will have to even remove
current HB_CDP_SUPPORT_OFF macro.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Feb 11 06:42:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 06:42:34 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
Message-ID: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>

For compile harbour and contrib with bcc i set this env after set path
SET HB_ARCHITECTURE=WIN
SET HB_COMPILER=bcc32
SET INCLUDE=c:\harbour\INCLUDE;c:\xharbour\bcc55\INCLUDE;c:\oohg\include;
SET LIB=c:\harbour\LIB;c:\xharbour\bcc55\lib;c:\xharbour\bcc55\lib\PSDK
SET HB_PATH=c:\harbour
SET HB_BIN_INSTALL=c:\harbour\BIN
SET HB_LIB_INSTALL=c:\harbour\LIB
SET HB_INC_INSTALL=c:\harbour\INCLUDE
SET L_USR=
SET PRG_USR=-l
SET C_USR=-DHB_FM_STATISTICS_OFF -tWM -OS -Ov -Oi -Oc -Q
SET HB_BUILD_ST=

in bcc32.cfg
-I"c:\Xharbour\bcc55\include"
-L"c:\xharbour\bcc55\lib"
-L"C:\xharbour\BCC55\Lib\PSDK"
in ilink32.cfg
-L"c:\xharbour\bcc55\lib"
-L"C:\xharbour\BCC55\Lib\PSDK"

I share bcc with xharbour

i invite anybody share other setting used also for ow , mingw, vc

-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Feb 11 06:54:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 06:55:00 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
Message-ID: <609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>

Another request that is not for 1.1:

will somebody port gtwvw as harbour contrib?
afaik Budjanto not have free time and is blocked from new gt
implementation (a year ago)
I remember that Przemek have advised ron but gtwvw is still unported to new gt


2009/2/10 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi everyone,
> Who has what pending items (fixes, new development, TODOs)
> before the 1.1 release?
> This is my list for 1.1:
> - gtwvt: add HB_GTI_BOXCP support to change hard-wired "EN" CP.
> - core: HB_MD5() incompatible modification.
> - contrib: openssl GNU-make detection.
> - core: hb_snprintf() switch?
> - xhb, hbwhat: .prg level MT issues.
> - hbct .c level MT issues in files.c. (per thread cargo holder may help?)
> - gtwvg: reported GPF with MSVC, possible problems with other compilers,
> AMD64 mode and WinCE.
>   (build stopper !)
> - core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().
> - core: hb_regexMatch()'s 3rd parameter has a double meaning.
> - hbct: SetFDaTi() duplicated logic.
> - hbct: hb_fsFindClose() at app exit.
> - New dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, <cDelimArg>, <nConnection>
> ) -> <lSuccess>
> - Platform builds and tests.
>
> Post 1.1:
> - Type cleanup.
> - hbole, hbwin, hbwhat consolidation, cleanup (can be started anytime).
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From druzus at users.sourceforge.net  Wed Feb 11 07:05:30 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 11 07:05:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10224]
	trunk/harbour/ChangeLog
Message-ID: <E1LXDqM-00028I-C2@bj8yhf1.ch3.sourceforge.com>

Revision: 10224
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10224&view=rev
Author:   druzus
Date:     2009-02-11 12:05:29 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 13:10 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
    * add missing information about optimized hb_fsExtName() in previous
      commit

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb 11 07:17:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 07:12:29 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
Message-ID: <20090211121718.GA28253@uran.home.aster.pl>

On Wed, 11 Feb 2009, Massimo Belgrano wrote:
> For compile harbour and contrib with bcc i set this env after set path
> SET HB_ARCHITECTURE=WIN
> SET HB_COMPILER=bcc32
> SET INCLUDE=c:\harbour\INCLUDE;c:\xharbour\bcc55\INCLUDE;c:\oohg\include;
> SET LIB=c:\harbour\LIB;c:\xharbour\bcc55\lib;c:\xharbour\bcc55\lib\PSDK
> SET HB_PATH=c:\harbour
> SET HB_BIN_INSTALL=c:\harbour\BIN
> SET HB_LIB_INSTALL=c:\harbour\LIB
> SET HB_INC_INSTALL=c:\harbour\INCLUDE
> SET L_USR=
> SET PRG_USR=-l
> SET C_USR=-DHB_FM_STATISTICS_OFF -tWM -OS -Ov -Oi -Oc -Q
> SET HB_BUILD_ST=

L_USR and PRG_USR are not longer used.

> SET INCLUDE=c:\harbour\INCLUDE;c:\xharbour\bcc55\INCLUDE;c:\oohg\include;
> in bcc32.cfg
> -I"c:\Xharbour\bcc55\include"
> -L"c:\xharbour\bcc55\lib"
> -L"C:\xharbour\BCC55\Lib\PSDK"
> in ilink32.cfg
> -L"c:\xharbour\bcc55\lib"
> -L"C:\xharbour\BCC55\Lib\PSDK"
> I share bcc with xharbour

The above is very bad idea. It sets access to Harbour and xHarbour
header files simultaneously. They are not binary compatible so
you will create wrong binaries at least for one of the above compilers.
_NEVER_ _MIX_ INCLUDE, BIN, and LIB paths for both compilers because
many files have exactly the same name. As result you may have unpredictable
compile time or runtime errors.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb 11 07:17:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 07:18:02 2009
Subject: [Harbour] little optimization at rdds
In-Reply-To: <20090211114616.GA30052@uran.home.aster.pl>
References: <49928F34.5090607@marchuet.net>
	<20090211114616.GA30052@uran.home.aster.pl>
Message-ID: <18d502870902110417g2fad8c15o84174dc0304f0749@mail.gmail.com>

>
> > I purpose to separate next macro
> > HB_CDP_SUPPORT_OFF
> > as
> > HB_COLLATE_SUPPORT_OFF
> > HB_CHARSET_SUPPORT_OFF
> > To optimize dbfGetValue and dbfPutValue, because in most cases
> > pArea->cdPage are equal hb_cdp_page always.
> > We optimize only 1 if but this if is executed many times, in some
> > applications are millions of times.
>
> The total cost of this millions of times execution for C if() statement
> means milliseconds for current computers and it's a small part of much more
> expensive operation. I think that you should write few small test programs
> in C to check real cost of some constructions to see how much speed can be
> reduced. Of course it's always good to find redundant code and optimize
> it so thank you for your suggestion but in this particular case we will not
> win any valuable speed improvement but for sure we will have to keep alive
> more code branches when we will try to update it and we do not know how
> problematic such extension can be when we will work on Unicode support in
> HVM what probably force using translations so we will have to even remove
> current HB_CDP_SUPPORT_OFF macro.


I was wondering since long what is the purpose of this switch, and
why would anyone want to use it, effectively disabling a very
important part of Harbour core, which not very well defined consequences.
Some code branches I've accidentally found, didn't even compile.

Any opinions on starting the removal now?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/5b8b1c29/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb 11 07:19:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 07:19:16 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
Message-ID: <18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>

It looks rather a rewrite than a simple port.
What does gtwvw do?

Brgds,
Viktor

On Wed, Feb 11, 2009 at 12:54 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Another request that is not for 1.1:
>
> will somebody port gtwvw as harbour contrib?
> afaik Budjanto not have free time and is blocked from new gt
> implementation (a year ago)
> I remember that Przemek have advised ron but gtwvw is still unported to new
> gt
>
>
> 2009/2/10 Viktor Szak?ts <harbour.01@syenar.hu>:
> > Hi everyone,
> > Who has what pending items (fixes, new development, TODOs)
> > before the 1.1 release?
> > This is my list for 1.1:
> > - gtwvt: add HB_GTI_BOXCP support to change hard-wired "EN" CP.
> > - core: HB_MD5() incompatible modification.
> > - contrib: openssl GNU-make detection.
> > - core: hb_snprintf() switch?
> > - xhb, hbwhat: .prg level MT issues.
> > - hbct .c level MT issues in files.c. (per thread cargo holder may help?)
> > - gtwvg: reported GPF with MSVC, possible problems with other compilers,
> > AMD64 mode and WinCE.
> >   (build stopper !)
> > - core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().
> > - core: hb_regexMatch()'s 3rd parameter has a double meaning.
> > - hbct: SetFDaTi() duplicated logic.
> > - hbct: hb_fsFindClose() at app exit.
> > - New dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, <cDelimArg>,
> <nConnection>
> > ) -> <lSuccess>
> > - Platform builds and tests.
> >
> > Post 1.1:
> > - Type cleanup.
> > - hbole, hbwin, hbwhat consolidation, cleanup (can be started anytime).
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/b5ac5374/attachment.html
From druzus at acn.waw.pl  Wed Feb 11 07:27:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 07:22:43 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
Message-ID: <20090211122731.GB28253@uran.home.aster.pl>

On Wed, 11 Feb 2009, Massimo Belgrano wrote:

Hi Massimo,

> I remember that Przemek have advised ron but gtwvw is still unported
> to new gt

GTWVW was never ported to Harbour so it's rather question to
xHarbour developers.
I do not use Windows and I do not like to make any modifications
for this platform because I cannot test them well. For Windows developers
updating GTWVW to new GT API should be quite easy job for a weekend but
looks that no one is interested in it.
Maybe someone can create WVT compatibility library using GTWVG.
Here Pritpal can help.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Feb 11 07:30:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 07:25:12 2009
Subject: [Harbour] little optimization at rdds
In-Reply-To: <18d502870902110417g2fad8c15o84174dc0304f0749@mail.gmail.com>
References: <49928F34.5090607@marchuet.net>
	<20090211114616.GA30052@uran.home.aster.pl>
	<18d502870902110417g2fad8c15o84174dc0304f0749@mail.gmail.com>
Message-ID: <20090211123001.GA29141@uran.home.aster.pl>

On Wed, 11 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> I was wondering since long what is the purpose of this switch, and
> why would anyone want to use it, effectively disabling a very
> important part of Harbour core, which not very well defined consequences.
> Some code branches I've accidentally found, didn't even compile.
> Any opinions on starting the removal now?

Please leave it.
It's quite well marker for code which must be updated when we will
add unicode support or when we will change the CDP API.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb 11 07:30:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 07:30:15 2009
Subject: [Harbour] little optimization at rdds
In-Reply-To: <20090211123001.GA29141@uran.home.aster.pl>
References: <49928F34.5090607@marchuet.net>
	<20090211114616.GA30052@uran.home.aster.pl>
	<18d502870902110417g2fad8c15o84174dc0304f0749@mail.gmail.com>
	<20090211123001.GA29141@uran.home.aster.pl>
Message-ID: <18d502870902110430g5fd69f10t5d7b669caff61dad@mail.gmail.com>

Okay.

On Wed, Feb 11, 2009 at 1:30 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Wed, 11 Feb 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
> > I was wondering since long what is the purpose of this switch, and
> > why would anyone want to use it, effectively disabling a very
> > important part of Harbour core, which not very well defined consequences.
> > Some code branches I've accidentally found, didn't even compile.
> > Any opinions on starting the removal now?
>
> Please leave it.
> It's quite well marker for code which must be updated when we will
> add unicode support or when we will change the CDP API.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/ce5e50ad/attachment.html
From harbour.01 at syenar.hu  Wed Feb 11 07:29:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 07:32:32 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <20090211121718.GA28253@uran.home.aster.pl>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
Message-ID: <18d502870902110429h62acfa94m8c83ad6a332c66cb@mail.gmail.com>

It seems this is a never ending topic :)

First I'd suggest to create separate scripts to setup the
environment for Harbour and xhb, and even C compiler.

> SET HB_ARCHITECTURE=WIN
> > SET HB_COMPILER=bcc32
> > SET HB_PATH=c:\harbour
> > SET HB_BIN_INSTALL=c:\harbour\BIN
> > SET HB_LIB_INSTALL=c:\harbour\LIB
> > SET HB_INC_INSTALL=c:\harbour\INCLUDE
>

So far so good.

HB_PATH isn't needed for Harbour.


> > SET INCLUDE=c:\harbour\INCLUDE;c:\xharbour\bcc55\INCLUDE;c:\oohg\include;
> > SET LIB=c:\harbour\LIB;c:\xharbour\bcc55\lib;c:\xharbour\bcc55\lib\PSDK
>

This isn't needed for Harbour (and also very dangerous
as Przemek pointed), instead setup the compiler as per
their docs. (discussed on this list many times, and you
can find it in BCC readme, too)


> > SET L_USR=
> > SET PRG_USR=-l
> > SET C_USR=-DHB_FM_STATISTICS_OFF -tWM -OS -Ov -Oi -Oc -Q
>

Only -DHM_FM_STATISTICS_OFF is needed, optionally.

For the rest, see:
2009-02-06 23:47 UTC+0100 Viktor Szakats (harbour.01 syenar hu)


> > SET HB_BUILD_ST=
>

Not needed.


> > in bcc32.cfg
> > -I"c:\Xharbour\bcc55\include"
> > -L"c:\xharbour\bcc55\lib"
> > -L"C:\xharbour\BCC55\Lib\PSDK"
> > in ilink32.cfg
> > -L"c:\xharbour\bcc55\lib"
> > -L"C:\xharbour\BCC55\Lib\PSDK"
> > I share bcc with xharbour
>

This may be okay if this is a clean BCC55 install
inside your xhb dir, but to be sure I'd suggest to
separate your C compiler environment from the
Harbour/xhb compiler environments. It creates a clearer
state to begin with.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/9b428d20/attachment.html
From druzus at acn.waw.pl  Wed Feb 11 07:37:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 07:32:38 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>
Message-ID: <20090211123727.GB29141@uran.home.aster.pl>

On Wed, 11 Feb 2009, Szak?ts Viktor wrote:
> It looks rather a rewrite than a simple port.
> What does gtwvw do?

It allows to create more then one console window (this is already supported
in Harbour core GTs) and gives support for using windows widgets with this
windows.
As final result you can quite easy convert pure console application to
semi GUI mode keeping the internal application code unchanged.
It's probably the easiest conversion way for people who does not want
to change application user interface to GUI driven but want to make it
"GUI like". It also allows to systematically replace CUI elements and
introduce real GUI ones - migration to full GUI mode and event driven
interface in small steps.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb 11 07:48:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 07:48:44 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <609353e70902110327n54c6916dic404b89067eab3f3@mail.gmail.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<18d502870902100646p6a1a382auc72bc8d90eaa0a7f@mail.gmail.com>
	<4991BF5E.5080802@marchuet.net>
	<18d502870902101008k30c4804aqab0ed31e9b5faaf8@mail.gmail.com>
	<4992AACD.9050706@marchuet.net>
	<18d502870902110301m11ae38a6s1c3f481419b6a435@mail.gmail.com>
	<609353e70902110327n54c6916dic404b89067eab3f3@mail.gmail.com>
Message-ID: <18d502870902110448w62fb5277l9bc4085f62dab007@mail.gmail.com>

>
> xbase++ go to be more visual fox pro compatible because a large user
> base will be given
> xbase++ have added new datatypes to the Xbase++ language such as
> datetime and interval. They are compatible with the VFP Timestamp typ
> xbase++ have added a /fox switch to the Xbase++ compiler to accept the
> "." instead of the ":" (OO syntax ).
> xbase++ is working on  FoxPro compatible command layer based on xbase part.
>
> so if we follow xbase++ we follow also fox
> naturally we can follow xbase where it not break clipper compatibility
> but xbase implementation seem to be still clipper compatible
> also with new data type is compatibile afaik


If XPP follows FOX and we want to follow both, we will have
the exact same issues, so it doesn't really change things
fundamentally. Our goal is not even to copy XPP.

Maybe we can learn something from how XPP is doing it,
but personally I'd be happier with a better designed language
than a mishmash of badly designed features from different
dialects hard-wired into the core. XPP is trying to find new
markets and profit, and maybe they are ready to sacrifice
on the technical side. We will see how they do it, but we're
certainly not obliged to follow, and our driving forces and
priorities are also different.

So I'm not saying FoxPro compatibility isn't to be considered,
ever, but it's not top priority and we should keep sticking to
our development model and rules, try the best solutions within
this frame.

Our goal is to create a sleek and stable language based
on the Clipper heritage, while keeping compatibility. IMO
we should rather aim to get Harbour on par with Python,
PHP as far as their versatility and extendibility goes,
and go beyond that by keeping what we already have.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/6d1b8fe3/attachment-0001.html
From e.m.giordano at emagsoftware.it  Wed Feb 11 08:01:46 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 08:01:52 2009
Subject: [Harbour] Errors
References: <59EF2462DF8B4474A33722E4616EA697@emag><18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com><FB32AF5F997B4C91B3F821B612EB2CE1@emag><18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com><66FA6220A1AB443B8F22F6CCBB0132B3@emag>
	<18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com>
Message-ID: <670315E3FEA34F3682ABDC7B61D47AA2@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 11.33
Oggetto: Re: [Harbour] Errors


> > #include <windows.h>
> >
> > as it isn't a C standard header file)
>
> Sorry, this is wrong, on Windows, windows.h is part of the
> system and <> has be used for all Windows headers.

I thought that only standard C language header files needed <>. Can you 
address me to an official docs that explicitly state something different? 
Or, from where did you read that <> can be used for non-standard C language 
header files too?

> > > Some Windows headers are double #included.
> >
> > Yes, but was working fine before.
>
> Only HB_OS_WIN_32 has been changed to HB_OS_WIN,
> and HB_OS_WIN_32_USED has been changed to HB_OS_WIN_USED.

Ok. The following sample:

#define ES_PASSWORD 32
#define ES_PASSWORD 32


FUNCTION MAIN()

    RETURN NIL

shows:

Warning W0001  Redefinition or duplicate definition of #define ES_PASSWORD

that's perfectly correct. But the compilation is aborted using the following 
compiler switches:

SET HARBOURCMD=/a /es2 /gc0 /m /n /q /w

How can I instruct the compiler to continue the compilation for this 
particular kind of warning? In xHarbour I use

/w2 /wb-

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Feb 11 07:56:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 08:02:20 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <20090211123727.GB29141@uran.home.aster.pl>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>
	<20090211123727.GB29141@uran.home.aster.pl>
Message-ID: <18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>

>
> > What does gtwvw do?
>
> It allows to create more then one console window (this is already supported
> in Harbour core GTs) and gives support for using windows widgets with this
> windows.
> As final result you can quite easy convert pure console application to
> semi GUI mode keeping the internal application code unchanged.
> It's probably the easiest conversion way for people who does not want
> to change application user interface to GUI driven but want to make it
> "GUI like". It also allows to systematically replace CUI elements and
> introduce real GUI ones - migration to full GUI mode and event driven
> interface in small steps.


Hm, this sounds quite nice. Too bad it's Windows only.

I'm thinking of similar but based on GTWVT, GWXC + XHGTK.
I didn't try XHGTK yet (I haven't yet been able to build XHGTK
on Windows), but theoretically it may be possible to have a
CUI base, and start to extend this, or gradually convert windows
to GTK ones, which has similar effect, but by skipping one stage.

BTW, if anyone has experience with building XHGTK on Windows,
I'd appreciate any information.

After installing a great amount of GTK dependencies, I stuck with this:
--
Package pixman-1 was not found in the pkg-config search path.
Perhaps you should add the directory containing `pixman-1.pc'
(...)
include\xhgtk.h(22) : fatal error C1083: Cannot open include file: 'glib.h':
No such file or directory
--

(with the downloads on the GTK page, I didn't even reach this far)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/13aa9adf/attachment.html
From harbour.01 at syenar.hu  Wed Feb 11 08:42:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 08:45:59 2009
Subject: [Harbour] Errors
In-Reply-To: <670315E3FEA34F3682ABDC7B61D47AA2@emag>
References: <59EF2462DF8B4474A33722E4616EA697@emag>
	<18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com>
	<FB32AF5F997B4C91B3F821B612EB2CE1@emag>
	<18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com>
	<66FA6220A1AB443B8F22F6CCBB0132B3@emag>
	<18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com>
	<670315E3FEA34F3682ABDC7B61D47AA2@emag>
Message-ID: <18d502870902110542u50a21025ne025fbc82175f943@mail.gmail.com>

>
> I thought that only standard C language header files needed <>. Can you
> address me to an official docs that explicitly state something different?
> Or, from where did you read that <> can be used for non-standard C language
> header files too?


http://gcc.gnu.org/onlinedocs/cpp/Include-Syntax.html
http://msdn.microsoft.com/en-us/library/36k2cdd4(VS.71).aspx

If you're still unsure, just look around on any well known
OSS projects, or MS source code (the CRT for example),
or even official MS Windows headers to see how they
#include other Windows headers.


> Only HB_OS_WIN_32 has been changed to HB_OS_WIN,
>> and HB_OS_WIN_32_USED has been changed to HB_OS_WIN_USED.
>>
>
> Ok. The following sample:
>
> #define ES_PASSWORD 32
> #define ES_PASSWORD 32
>
>
> FUNCTION MAIN()
>
>   RETURN NIL
>
> shows:
>
> Warning W0001  Redefinition or duplicate definition of #define ES_PASSWORD
>
> that's perfectly correct. But the compilation is aborted using the
> following compiler switches:
>
> SET HARBOURCMD=/a /es2 /gc0 /m /n /q /w
>
> How can I instruct the compiler to continue the compilation for this
> particular kind of warning? In xHarbour I use
>
> /w2 /wb-


You should remove /es2 switch if you don't want warnings to
stop your build process.

I don't know exactly what it does, but Harbour surely doesn't
support /wb-.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/426e3555/attachment.html
From dbtopas at dbtopas.lt  Wed Feb 11 08:46:55 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb 11 08:46:59 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>	<20090211123727.GB29141@uran.home.aster.pl>
	<18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
Message-ID: <4992D6CF.9000606@dbtopas.lt>

Hi,


> BTW, if anyone has experience with building XHGTK on Windows, 
> I'd appreciate any information.
> 
> After installing a great amount of GTK dependencies, I stuck with this:
> --
> Package pixman-1 was not found in the pkg-config search path.
> Perhaps you should add the directory containing `pixman-1.pc'
> (...)
> include\xhgtk.h(22) : fatal error C1083: Cannot open include file: 
> 'glib.h': No such file or directory
> --

I've not tried to compile xhgtk, but I've successfully compiler gtk 
libraries together with harbour code.
I've used mingw to compile gtk code. gtk related libraries was: atk-dev, 
cairo-dev, glib-dev, gtk+-dev, pango-dev.

Here is a simple compile.bat:
===========================================
SET PATH=c:\mingw\bin;c:\gtk\bin;c:\harboursvn\bin

erase hello.exe

harbour.exe -n -w -gc -Ic:\harboursvn\include hello.prg

gcc -Wall -W hello.c -o hello.exe -mwindows -mms-bitfields 
-Ic:\mingw\include -Ic:\harboursvn\include -Ic:\gtk\include 
-Ic:\gtk\include\gtk-2.0 -Ic:\gtk\include\cairo 
-Ic:\gtk\include\pango-1.0 -Ic:\gtk\include\glib-2.0 
-Ic:\gtk\lib\gtk-2.0\include -Ic:\gtk\lib\glib-2.0\include 
-Ic:\gtk\include\atk-1.0 -Lc:\harboursvn\lib -Lc:\gtk\lib 
-Wl,--start-group -lvm -lrtl -lcommon -lrdd -lmacro -lgtwin 
-Wl,--end-group -lgtk-win32-2.0 -lglib-2.0 -lgobject-2.0 2 > compile.log

erase hello.c
===========================================

It's an old harbour version, Harbour library names should be changed.

AFAIK, pixman is a part of cairo library.


Regards,
Mindaugas
From druzus at users.sourceforge.net  Wed Feb 11 08:47:03 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 11 08:47:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10225] trunk/harbour
Message-ID: <E1LXFQd-0005nm-7D@dn4whf1.ch3.sourceforge.com>

Revision: 10225
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10225&view=rev
Author:   druzus
Date:     2009-02-11 13:47:02 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 14:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wvgsink.c
    * pacified MinGW warnings. This one:
      ../../wvgsink.c:368: warning: comparison of unsigned expression < 0
                                    is always false
      Should be checked by author. Pritpal can you look at it?
      'count' is declared as WORD so it cannot be negative.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 11 08:50:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 08:50:37 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <20090211121718.GA28253@uran.home.aster.pl>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
Message-ID: <609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>

>
> L_USR and PRG_USR are not longer used.
Wich name is used for l_usr and prg_usr?

> The above is very bad idea. It sets access to Harbour and xHarbour
> header files simultaneously. They are not binary compatible so
> you will create wrong binaries at least for one of the above compilers.
> _NEVER_ _MIX_ INCLUDE, BIN, and LIB paths for both compilers because
> many files have exactly the same name. As result you may have unpredictable
> compile time or runtime errors.
I use only bcc path common harbour and an old xharbour are in
different directory with different lib
Using harbour and xharbour i must have double bcc installed?
From druzus at users.sourceforge.net  Wed Feb 11 09:00:39 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 11 09:00:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10226] trunk/harbour
Message-ID: <E1LXFdn-0006ao-8r@dn4whf1.ch3.sourceforge.com>

Revision: 10226
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10226&view=rev
Author:   druzus
Date:     2009-02-11 14:00:37 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 15:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/set.c
    ! fixed casting in hb_fsFileExists()

  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/wvgsink.c
    ! fixed WinCE (Unicode) compilation

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/source/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 11 09:07:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 09:07:59 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902110429h62acfa94m8c83ad6a332c66cb@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<18d502870902110429h62acfa94m8c83ad6a332c66cb@mail.gmail.com>
Message-ID: <609353e70902110607yf99ca93wc9e4280eb096a6a7@mail.gmail.com>

After suggestion this is my env
SET HB_ARCHITECTURE=WIN
SET HB_COMPILER=BCC322
SET INCLUDE=C:\HARBOUR\INCLUDE;C:\OOHG\INCLUDE;
SET LIB=C:\HARBOUR\LIB;
SET HB_BIN_INSTALL=C:\HARBOUR\BIN
SET HB_LIB_INSTALL=C:\HARBOUR\LIB
SET HB_INC_INSTALL=C:\HARBOUR\INCLUDE
SET C_USR=-DHB_FM_STATISTICS_OFF
 in bcc32.cfg  for now i have still
 -I"c:\Xharbour\bcc55\include"
 -L"c:\xharbour\bcc55\lib"
 -L"C:\xharbour\BCC55\Lib\PSDK"
in ilink32.cfg
 -L"c:\xharbour\bcc55\lib"
 -L"C:\xharbour\BCC55\Lib\PSDK"
This is a clean BCC55 install  inside your xhb dir, but i plan to
move c:\harbour\bcc55 to c:\borland\bcc55
 so separate my  C compiler environment from the  Harbour/xhb compiler
environments.
Massimo Belgrano
From druzus at acn.waw.pl  Wed Feb 11 09:24:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 09:19:15 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
Message-ID: <20090211142402.GA23446@uran.home.aster.pl>

On Wed, 11 Feb 2009, Massimo Belgrano wrote:
> > The above is very bad idea. It sets access to Harbour and xHarbour
> > header files simultaneously. They are not binary compatible so
> > you will create wrong binaries at least for one of the above compilers.
> > _NEVER_ _MIX_ INCLUDE, BIN, and LIB paths for both compilers because
> > many files have exactly the same name. As result you may have unpredictable
> > compile time or runtime errors.
> I use only bcc path common harbour and an old xharbour are in
> different directory with different lib
> Using harbour and xharbour i must have double bcc installed?

No Massimo, you do not need it.
Just simply you created the problem _YOURSELF_ by adding xharbour
paths to BCC *.cfg files. It's not necessary for using xHarbour
and never was. Just remove it and create two separated batch files
with Harbour and xHarbour environment settings.
The main problem with environment variables is that 90% of users and
even [x]Harbour developers does not exactly know what they do but
they've seen them somewhere added to own build scripts and public the
final results on [x]Harbour related forums increasing the noise.
F.e. Enrico still keeps HB_LEX=simplex for xHarbour builds and this
variables is not necessary for xHarbour and AFAIR never was (maybe
only in 1-st few days of xHarbour life just after coping Harbour source)
because xHarbour has only one lexer and only this lexer can be and always
is enabled. Using HB_LEX may only exploit some bugs in old Harbour scripts
if they were not updated properly for xHarbour
In xMate default configuration there are macros which does not have any
effect or may cause that wrong binaries will be created. They also should
be removed.
In fact only few macros many times public here are used to compile Harbour
core code and in practice non of them is necessary to compile user code
by Harbour and/or C compiler.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Feb 11 09:34:14 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 09:29:25 2009
Subject: [Harbour] Errors
In-Reply-To: <670315E3FEA34F3682ABDC7B61D47AA2@emag>
References: <18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com>
	<670315E3FEA34F3682ABDC7B61D47AA2@emag>
Message-ID: <20090211143413.GA2030@uran.home.aster.pl>

On Wed, 11 Feb 2009, Enrico Maria Giordano wrote:

Hi Enrico,

> Ok. The following sample:
> #define ES_PASSWORD 32
> #define ES_PASSWORD 32
> FUNCTION MAIN()
>    RETURN NIL
> shows:
> Warning W0001  Redefinition or duplicate definition of #define ES_PASSWORD
> that's perfectly correct. But the compilation is aborted using the 
> following compiler switches:
> SET HARBOURCMD=/a /es2 /gc0 /m /n /q /w
> How can I instruct the compiler to continue the compilation for this 
> particular kind of warning? In xHarbour I use
> /w2 /wb-

You are wrong. You cannot disable above warning in xHarbour using -wb-
switch. The warning will still exists. Just try.
-wb- in xHarbour only disables warnings for unused clodeblock local
variables.

So this example only illustrates xHarbour bug. Just simply many of
warnings does not interrupt compilation even when -es2 switch is used.
In short words -es2 does not work correctly in xHarbour. You can find
also many other warnings which ignores -es2 switch in xHarbour.
When -es2 switch is used then warnings should interrupt compilation
like errors. It does not work in xHarbour so you should report above
to xHarbour devel list as bug.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Feb 11 09:34:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 09:34:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10227] trunk/harbour
Message-ID: <E1LXGAA-0000Vx-1Z@dn4whf1.ch3.sourceforge.com>

Revision: 10227
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10227&view=rev
Author:   vszakats
Date:     2009-02-11 14:34:05 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 15:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/gtwvg/wvgwin.c
    ! Fixed to use hb_snprintf() instead of unsafe sprintf().
    ! Fixed WIN_APPENDMENU() to not directly modify Harbour string buffer 
      (when compiled in non-Unicode mode).
    ! Fixed WIN_APPENDMENU() to modify string _before_ converting it to Unicode.
      (when compiled in Unicode mode).
    ; This clears the GPF previously reported by me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 11 09:37:36 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 09:37:41 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <20090211123727.GB29141@uran.home.aster.pl>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>
	<20090211123727.GB29141@uran.home.aster.pl>
Message-ID: <609353e70902110637o2787e933i1b5cd47bc36a216e@mail.gmail.com>

gtwvw is product based on gtwvt
90% of command are wvt command with first a parameter as windows number like:
/*-------------------------------------------------------------------*/
/*   Wvw_DrawBoxGet( [nWinNum], nRow, nCol, nWidth )                     */
/*                                                                       */


but particularly Have also support multiwindows for relative and
absolute coordinate
@ 5,5 box 7,40
@ 6,6 SAY "Number" get number
read

will be converted
wvw_setmaincoord(.t.)
WINDO=WVW_nOpenWindow("", 5, 5, 7, 40)
@ 5,5 box 7,40
@ 6,6 SAY "Number" get number
read
WVW_lCloseWindow(WINDO)

I can made a lot of test because i have a lot of program and test in gtwvw


*WVW_nOpenWindow(cWinName, row1, col1, row2, col2, ;
 *                nStyle, nParentWin)
 *rowx and colx are relative to MAIN WINDOW (not current window!)
 *rowx and colx are used for:
 *(1) positioning window to its initial position,
 *(2) determining the size of the window (new maxrow() and maxcol())
 *(3) saved into RowOfs and ColOfs for MainCoord mode
 *
 *nStyle is window style (eg. WS_OVERLAPPEDWINDOW, etc.)
 *       default is: WS_CAPTION|WS_SYSMENU |WS_CLIPCHILDREN
 *       WARNING: you must know what you're doing if you supplied this param
 *       NOTES: if you will use controls such as PUSHBUTTON,
 *              you MUST include WS_CLIPCHILDREN.
 *
 *nParentWin is parent window of the new on we're about to open.
 *       default is: current window (in Standard Mode)
 *                   last window (in MainCoord Mode)
 *       If you want the new window to not have parent,
 *       pass -1 as nParentWin.
 *
 *
 *returns window number if successful
 *returns 0 if failed
 */



2009/2/11 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Wed, 11 Feb 2009, Szak?ts Viktor wrote:
>> It looks rather a rewrite than a simple port.
>> What does gtwvw do?
>
> It allows to create more then one console window (this is already supported
> in Harbour core GTs) and gives support for using windows widgets with this
> windows.
> As final result you can quite easy convert pure console application to
> semi GUI mode keeping the internal application code unchanged.
> It's probably the easiest conversion way for people who does not want
> to change application user interface to GUI driven but want to make it
> "GUI like". It also allows to systematically replace CUI elements and
> introduce real GUI ones - migration to full GUI mode and event driven
> interface in small steps.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From soporte at dsgsoftware.com  Wed Feb 11 09:42:16 2009
From: soporte at dsgsoftware.com (=?utf-8?Q?Juan_G=C3=A1lvez?=)
Date: Wed Feb 11 09:42:40 2009
Subject: [Harbour] Errors
References: <18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com><670315E3FEA34F3682ABDC7B61D47AA2@emag>
	<20090211143413.GA2030@uran.home.aster.pl>
Message-ID: <006901c98c56$fb2dd210$6c01a8c0@PcJuanxp>

Hi Przemek,

> ...
> -wb- in xHarbour only disables warnings for unused clodeblock local
> variables.
> ...

What do you think about implementing this flag in Harbour? 

Best regards
Juan
From harbour.01 at syenar.hu  Wed Feb 11 09:44:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 09:51:28 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <20090211142402.GA23446@uran.home.aster.pl>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
Message-ID: <18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>

For reference, here is my vanilla BCC build script to build core + all
contribs. Nothing else is needed, and I have no
Harbour or C compiler parts in any default PATH, LIB, INSTALL
or other envvars, so this should work on a _freshly installed
system_ with BCC55 installed, and the Harbour sources (plus
the 3rd party tools of course, which are *all optional*).

---
set PATH=C:\devl\bcc55\bin

rem ; _optional_ 3rd party packages:
set HB_DIR_ADS=C:\devl\ADS910\ACESDK
set HB_DIR_ALLEGRO=C:\devl\allegro-4.2.2
set HB_DIR_APOLLO=C:\devl\Apollo-6.1.0.4
set HB_DIR_CURL=C:\devl\curl-7.19.3
set HB_DIR_FIREBIRD=C:\devl\Firebird-2.1.1
set HB_DIR_FREEIMAGE=C:\devl\FreeImage-3.11.0
set HB_DIR_GD=C:\devl\gd-2.0.34
set HB_DIR_LIBHARU=C:\devl\libharu-2.1.0
set HB_DIR_MYSQL=C:\devl\mysql-5.0.67
set HB_DIR_OPENSSL=C:\devl\openssl-0.9.8j
set HB_DIR_PGSQL=C:\devl\pgsql-8.3.3

call make_b32.bat clean
call make_b32.bat
call make_b32.bat install

cd contrib
call make_b32_all.bat clean
call make_b32_all.bat
call make_b32_all.bat install
cd ..
---

And here is C:\devl\BCC55\Bin\bcc32.cfg:
---
-I"C:\devl\BCC55\include"
-L"C:\devl\BCC55\lib"
---

Brgds,
Viktor

On Wed, Feb 11, 2009 at 3:24 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Wed, 11 Feb 2009, Massimo Belgrano wrote:
> > > The above is very bad idea. It sets access to Harbour and xHarbour
> > > header files simultaneously. They are not binary compatible so
> > > you will create wrong binaries at least for one of the above compilers.
> > > _NEVER_ _MIX_ INCLUDE, BIN, and LIB paths for both compilers because
> > > many files have exactly the same name. As result you may have
> unpredictable
> > > compile time or runtime errors.
> > I use only bcc path common harbour and an old xharbour are in
> > different directory with different lib
> > Using harbour and xharbour i must have double bcc installed?
>
> No Massimo, you do not need it.
> Just simply you created the problem _YOURSELF_ by adding xharbour
> paths to BCC *.cfg files. It's not necessary for using xHarbour
> and never was. Just remove it and create two separated batch files
> with Harbour and xHarbour environment settings.
> The main problem with environment variables is that 90% of users and
> even [x]Harbour developers does not exactly know what they do but
> they've seen them somewhere added to own build scripts and public the
> final results on [x]Harbour related forums increasing the noise.
> F.e. Enrico still keeps HB_LEX=simplex for xHarbour builds and this
> variables is not necessary for xHarbour and AFAIR never was (maybe
> only in 1-st few days of xHarbour life just after coping Harbour source)
> because xHarbour has only one lexer and only this lexer can be and always
> is enabled. Using HB_LEX may only exploit some bugs in old Harbour scripts
> if they were not updated properly for xHarbour
> In xMate default configuration there are macros which does not have any
> effect or may cause that wrong binaries will be created. They also should
> be removed.
> In fact only few macros many times public here are used to compile Harbour
> core code and in practice non of them is necessary to compile user code
> by Harbour and/or C compiler.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/7bf1508f/attachment.html
From dbtopas at dbtopas.lt  Wed Feb 11 10:00:04 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb 11 10:00:10 2009
Subject: [Harbour] MT ErrorBlock()
Message-ID: <4992E7F4.5010200@dbtopas.lt>

Hi,


has each thread a separate errorblock, or they share the same?


Regards,
Mindaugas
From harbour.01 at syenar.hu  Wed Feb 11 10:05:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 10:05:36 2009
Subject: [Harbour] MT ErrorBlock()
In-Reply-To: <4992E7F4.5010200@dbtopas.lt>
References: <4992E7F4.5010200@dbtopas.lt>
Message-ID: <18d502870902110705v62bea583x64357d449e6a4196@mail.gmail.com>

Hi Mindaugas,

Separate.
[ Thx for the GTK tip on the other thread, I'll recheck it soon.]

Brgds,
Viktor

On Wed, Feb 11, 2009 at 4:00 PM, Mindaugas Kavaliauskas
<dbtopas@dbtopas.lt>wrote:

> Hi,
>
>
> has each thread a separate errorblock, or they share the same?
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/783253d2/attachment.html
From dbtopas at dbtopas.lt  Wed Feb 11 10:10:33 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb 11 10:10:37 2009
Subject: [Harbour] MT ErrorBlock()
In-Reply-To: <18d502870902110705v62bea583x64357d449e6a4196@mail.gmail.com>
References: <4992E7F4.5010200@dbtopas.lt>
	<18d502870902110705v62bea583x64357d449e6a4196@mail.gmail.com>
Message-ID: <4992EA69.4060801@dbtopas.lt>

Hi,


> Separate.

Thanks.


> [ Thx for the GTK tip on the other thread, I'll recheck it soon.]

I've just tried to change compile.bat to ensure I've not lied to you. 
Everything is working OK. Attaching one on my first gtk+harbour tests.


Regards,
Mindaugas
-------------- next part --------------
SET PATH=c:\mingw\bin;c:\gtk\bin;c:\harboursvn\bin
erase hello.exe
harbour.exe -n -w -gc -Ic:\harboursvn\include hello.prg
gcc -Wall -W hello.c -o hello.exe -mwindows -mms-bitfields -Ic:\mingw\include -Ic:\harboursvn\include -Ic:\gtk\include -Ic:\gtk\include\gtk-2.0 -Ic:\gtk\include\cairo -Ic:\gtk\include\pango-1.0 -Ic:\gtk\include\glib-2.0 -Ic:\gtk\lib\gtk-2.0\include -Ic:\gtk\lib\glib-2.0\include -Ic:\gtk\include\atk-1.0 -Lc:\harboursvn\lib\win\mingw -Lc:\gtk\lib -Wl,--start-group -lhbvm -lhbrtl -lhbcommon -lhbrdd -lhbmacro -lhbcpage -lgtwin -Wl,--end-group -lgtk-win32-2.0 -lglib-2.0 -lgobject-2.0 2>_compile.log
erase hello.c
-------------- next part --------------

#ifndef HBGTK_CH_
#define HBGTK_CH_

#define GTK_WINDOW_TOPLEVEL  0
#define GTK_WINDOW_POPUP     1


#endif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hello.prg
Type: application/x-prg
Size: 3089 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/75c7583d/hello-0001.bin
From vszakats at users.sourceforge.net  Wed Feb 11 10:34:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 10:34:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10228] trunk/harbour
Message-ID: <E1LXH6d-0000gN-Br@bj8yhf1.ch3.sourceforge.com>

Revision: 10228
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10228&view=rev
Author:   vszakats
Date:     2009-02-11 15:34:30 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 16:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/gtwvg/wvgutils.c
    ! Applied fixes done to WIN_APPENDMENU() to the exact
      same function named WVT_APPENDMENU().
    % Converted WVT_APPENDMENU() to a simple stub redirecting
      the call to WIN_APPENDMENU().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgutils.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 11 10:37:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 10:38:03 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>
	<20090211123727.GB29141@uran.home.aster.pl>
	<18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
Message-ID: <609353e70902110737q6fa7b576g8d7b045e9869216@mail.gmail.com>

I am interested to your experiment with GTWVT, GWXC + XHGTK.
can you share experience here?
I have tried xhgtk but seem work only with mingw & msvc

2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>:
>> > What does gtwvw do?
>>
>> It allows to create more then one console window (this is already
>> supported
>> in Harbour core GTs) and gives support for using windows widgets with this
>> windows.
>> As final result you can quite easy convert pure console application to
>> semi GUI mode keeping the internal application code unchanged.
>> It's probably the easiest conversion way for people who does not want
>> to change application user interface to GUI driven but want to make it
>> "GUI like". It also allows to systematically replace CUI elements and
>> introduce real GUI ones - migration to full GUI mode and event driven
>> interface in small steps.
>
> Hm, this sounds quite nice. Too bad it's Windows only.
> I'm thinking of similar but based on GTWVT, GWXC + XHGTK.
> I didn't try XHGTK yet (I haven't yet been able to build XHGTK
> on Windows), but theoretically it may be possible to have a
> CUI base, and start to extend this, or gradually convert windows
> to GTK ones, which has similar effect, but by skipping one stage.
> BTW, if anyone has experience with building XHGTK on Windows,
> I'd appreciate any information.
> After installing a great amount of GTK dependencies, I stuck with this:
> --
> Package pixman-1 was not found in the pkg-config search path.
> Perhaps you should add the directory containing `pixman-1.pc'
> (...)
> include\xhgtk.h(22) : fatal error C1083: Cannot open include file: 'glib.h':
> No such file or directory
> --
>
> (with the downloads on the GTK page, I didn't even reach this far)
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From miguelangel at marchuet.net  Wed Feb 11 10:54:25 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Wed Feb 11 10:49:15 2009
Subject: [Harbour] little optimization at rdds
In-Reply-To: <18d502870902110417g2fad8c15o84174dc0304f0749@mail.gmail.com>
References: <49928F34.5090607@marchuet.net>	<20090211114616.GA30052@uran.home.aster.pl>
	<18d502870902110417g2fad8c15o84174dc0304f0749@mail.gmail.com>
Message-ID: <4992F4B1.5000204@marchuet.net>

Is possible i explain bad:

the only purpose is eliminate ( 2 if ) at rdd


       case HB_FT_STRING:
#ifndef HB_CHARSET_SUPPORT_OFF
          if( pArea->cdPage != hb_cdp_page )
          {
             char * pVal = ( char * ) hb_xgrab( pField->uiLen + 1 );
             memcpy( pVal, pArea->pRecord + pArea->pFieldOffset[ uiIndex ], pField->uiLen );
             pVal[ pField->uiLen ] = '\0';
             hb_cdpnTranslate( pVal, pArea->cdPage, hb_cdp_page, pField->uiLen );
             hb_itemPutCPtr( pItem, pVal, pField->uiLen );
          }
          else
#endif
          {
             hb_itemPutCL( pItem, ( char * ) pArea->pRecord + pArea->pFieldOffset[ uiIndex ],
                           pField->uiLen );
          }

only changes hb_???PutValue and hb_???GetValue because in this cases pArea->cdPage and hb_cdp_page are always ==

I want to sort index properly, but my application never uses different charset.

And your applications ?

I think that the great part of developers are agree.

for example executing speedtest we run it 2 seconds more quick without 2 if less at fm.c


Best regards,
Miguel Angel Marchuet
From dbtopas at dbtopas.lt  Wed Feb 11 10:58:16 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb 11 10:58:20 2009
Subject: [Harbour] little optimization at rdds
In-Reply-To: <4992F4B1.5000204@marchuet.net>
References: <49928F34.5090607@marchuet.net>	<20090211114616.GA30052@uran.home.aster.pl>	<18d502870902110417g2fad8c15o84174dc0304f0749@mail.gmail.com>
	<4992F4B1.5000204@marchuet.net>
Message-ID: <4992F598.5080700@dbtopas.lt>

Hi,


> for example executing speedtest we run it 2 seconds more quick without 2 
> if less at fm.c

And how many seconds we run faster without "if" in hb_dbfGetValue()?


Regards,
Mindaugas

From mbelgrano at deltain.it  Wed Feb 11 11:03:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 11:03:21 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
Message-ID: <609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>

This is your path for mingw32
have you also openwatcom,msvc,w32/mingwce, w32/msvcce,w32/poccce

@echo off

set PATH=C:\devl\MinGW-412\bin\;C:\devl\msys\1.0\bin\;%PATH%

set HB_INC_APOLLO=C:/devl/Apollo/include
set HB_INC_CURL=C:/devl/curl/include
set HB_INC_FIREBIRD=C:/devl/Firebird/include
set HB_INC_FREEIMAGE=C:/devl/FreeImage/Dist
set HB_INC_GD=C:/devl/gd/include
set HB_INC_LIBHARU=C:/devl/libharu/include
set HB_INC_MYSQL=C:/devl/mysql/include
set HB_INC_PGSQL=C:/devl/pgsql/include
set HB_INC_ADS=C:/devl/ADS900/ACESDK

set HB_INSTALL_PREFIX=C:/devl/hb_gcc
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%/bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%/lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%/include
set HB_ARCHITECTURE=w32
set HB_COMPILER=mingw32
set PRG_USR=-l
set C_USR=-march=pentiumpro -O4 -fomit-frame-pointer -ffast-math
set L_USR=-s

sh make_gnu.sh %*
From bedipritpal at hotmail.com  Wed Feb 11 11:26:30 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 11 11:26:33 2009
Subject: [Harbour] MT ErrorBlock()
In-Reply-To: <4992EA69.4060801@dbtopas.lt>
References: <4992E7F4.5010200@dbtopas.lt>
	<18d502870902110705v62bea583x64357d449e6a4196@mail.gmail.com>
	<4992EA69.4060801@dbtopas.lt>
Message-ID: <21958239.post@talk.nabble.com>


Mindaugus


Mindaugas Kavaliauskas wrote:
> 
> I've just tried to change compile.bat to ensure I've not lied to you. 
> Everything is working OK. Attaching one on my first gtk+harbour tests.
> 

It appears that xgtk is about to enter Harbour world.
Thanks for your efforts.

Can you follow WvgParts class modal (GTWVG) compatible
with Xbase++XbpParts? New()|Init() / Create() / Configure() / Destroy().

I think we can follow same class structure to make the 
code portable.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/MT-ErrorBlock%28%29-tp21956773p21958239.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From snaiperis at users.sourceforge.net  Wed Feb 11 11:29:58 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Wed Feb 11 11:30:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10229] trunk/harbour
Message-ID: <E1LXHyI-0005ZO-FG@74yxhf1.ch3.sourceforge.com>

Revision: 10229
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10229&view=rev
Author:   snaiperis
Date:     2009-02-11 16:29:57 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 18:30 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/source/vm/proc.c
    * hb_procname() support for symbol evaluation

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/proc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 11 11:44:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 11:44:46 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
Message-ID: <18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>

>
> This is your path for mingw32
> have you also openwatcom,msvc,w32/mingwce, w32/msvcce,w32/poccce


No, but the idea is very very similar.


> @echo off
>
> set PATH=C:\devl\MinGW-412\bin\;C:\devl\msys\1.0\bin\;%PATH%


msys is better to precede MinGW.


> set PRG_USR=-l
> set C_USR=-march=pentiumpro -O4 -fomit-frame-pointer -ffast-math


None needed as discussed earlier.


> set HB_ARCHITECTURE=w32
> set HB_COMPILER=mingw32

set L_USR=-s


Wrong, use this:

set HB_ARCHITECTURE=win
set HB_COMPILER=mingw
set HB_USER_LDFLAGS=-s

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/30076060/attachment.html
From dbtopas at dbtopas.lt  Wed Feb 11 11:49:43 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb 11 11:49:47 2009
Subject: [Harbour] MT ErrorBlock()
In-Reply-To: <21958239.post@talk.nabble.com>
References: <4992E7F4.5010200@dbtopas.lt>	<18d502870902110705v62bea583x64357d449e6a4196@mail.gmail.com>	<4992EA69.4060801@dbtopas.lt>
	<21958239.post@talk.nabble.com>
Message-ID: <499301A7.9090603@dbtopas.lt>


> It appears that xgtk is about to enter Harbour world.
> Thanks for your efforts.
> 
> Can you follow WvgParts class modal (GTWVG) compatible
> with Xbase++XbpParts? New()|Init() / Create() / Configure() / Destroy().
> 
> I think we can follow same class structure to make the 
> code portable.

Hi,


actually I know very few about Wvg, Xbase++, and GT* also. You can see 
in my sample code, I even have not used xhgtk and all C wrapper 
functions are inside the same hello.prg. I did not know xhgtk that time.

It was just one of my "lab" works for making multiplatform GUI terminal 
application. The idea was similar to Network Transparent Widgets 
(http://sourceforge.net/projects/ntw/) project. But this project seems 
to be dead.



Regards,
Mindaugas
From harbour.01 at syenar.hu  Wed Feb 11 11:52:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 11:56:54 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <609353e70902110737q6fa7b576g8d7b045e9869216@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>
	<20090211123727.GB29141@uran.home.aster.pl>
	<18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
	<609353e70902110737q6fa7b576g8d7b045e9869216@mail.gmail.com>
Message-ID: <18d502870902110852y7d951c5bv94f675b742d3f554@mail.gmail.com>

On Wed, Feb 11, 2009 at 4:37 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I am interested to your experiment with GTWVT, GWXC + XHGTK.
> can you share experience here?
> I have tried xhgtk but seem work only with mingw & msvc


After some tweaking, now I have an xhgtk.lib for MSVC.
I had to manually fix the makefile and fix one error in code in
latest SVN.

I've used packages from here:
http://www.gtk.org/download-windows.html

The missing bit was "libglade-2.0", which I got from here:
http://gladewin32.sourceforge.net/

Here's the patch for the error:
---
Index: source/gtk/gtkcomboboxentry.c
===================================================================
--- source/gtk/gtkcomboboxentry.c (revision 357)
+++ source/gtk/gtkcomboboxentry.c (working copy)
@@ -90,6 +90,7 @@

 HB_FUNC( XHGTK_COMBO_BOX_ENTRY_GET_ENTRY )
 {
-   GtkWidget *widget = hb_gtk_param(1, TRUE);
+   GtkWidget *widget = ( GtkWidget * ) hb_gtk_param(1, TRUE);
    hb_gtk_ret( (GtkEntry*) GTK_ENTRY( GTK_BIN( widget )->child ), FALSE );
 }
+
---

Now comes to build and run some samples.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/863231be/attachment-0001.html
From druzus at acn.waw.pl  Wed Feb 11 12:11:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 12:06:35 2009
Subject: [Harbour] MT ErrorBlock()
In-Reply-To: <4992E7F4.5010200@dbtopas.lt>
References: <4992E7F4.5010200@dbtopas.lt>
Message-ID: <20090211171124.GA18566@uran.home.aster.pl>

On Wed, 11 Feb 2009, Mindaugas Kavaliauskas wrote:
> Hi,
> has each thread a separate errorblock, or they share the same?

Errorblock is thread local but not inherited from parent thread.
When new thread is created then ClipInit() is executed which creates
public variable GetList, initialize errorblock by calling ERRORSYS()
and SETKEY F1 to user HELP() function if it exists. See ClipInit()
function in source/vm/harbinit.prg for details. AFAIR you overloaded
this function so please remember that your code will be executed
when new thread is created.
Errorblock and RT errors are thread local. RT error can interrupt
only given thread not the whole application unless it was not generated
by main thread. In such case QUIT request is send to all existing threads.
In such way works also QUIT/__QUIT() command/function. It terminates
only thread which executed it with the exception to main thread.
Math error handler and math error block are also thread local and
not inherited from parent thread. If you are using them in your code
then you should initialize them for each thread.

Here is list of attributes which are thread local but inherited from
parent thread:
      - code page
      - language
      - SETs
      - default RDD
      - active GT driver/window
      - I18N translation set
To this list we probably should add macro compiler features setting
(hb_setMacro()) which is now thread local but not inherited.
But IMHO we should move it to SETs (_SET_MACROFLAG) so it will be
inherited just like any other SETs. I think we should make it ASAP.

Here is the list of .prg MT functions:

   hb_threadStart( [<nThreadAttrs> ,] <@sStart()> | <bStart> [, <params,...> ] ) -> <pThID>
   hb_threadSelf() -> <pThID> | NIL
   hb_threadId( [ <pThID> ] ) -> <nThNo>
   hb_threadJoin( <pThID> [, @<xRetCode> ] ) -> <lOK>
   hb_threadDetach( <pThID> ) -> <lOK>
 * hb_threadQuitRequest( <pThID> ) -> <lOK> /* can be ignored !!! */
   hb_threadTerminateAll() -> NIL
   hb_threadWaitForAll() -> NIL
   hb_threadWait( <pThID> | <apThID>, [ <nTimeOut> ] [, <lAll> ] ) => <nThInd> | <nThCount> | 0
   hb_threadOnce( @<onceControl> [, <bAction> ] ) -> <lFirstCall>
   hb_mutexCreate() -> <pMtx>
   hb_mutexLock( <pMtx> [, <nTimeOut> ] ) -> <lLocked>
   hb_mutexUnlock( <pMtx> ) -> <lOK>
   hb_mutexNotify( <pMtx> [, <xVal>] ) -> NIL
   hb_mutexNotifyAll( <pMtx> [, <xVal>] ) -> NIL
   hb_mutexSubscribe( <pMtx>, [ <nTimeOut> ] [, @<xSubscribed> ] ) -> <lSubscribed>
   hb_mutexSubscribeNow( <pMtx>, [ <nTimeOut> ] [, @<xSubscribed> ] ) -> <lSubscribed>

HTH,

best regards,
Przemek
From mbelgrano at deltain.it  Wed Feb 11 12:07:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 12:07:53 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
Message-ID: <609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>

I have tried for mscv
SET HB_ARCHITECTURE=WIN
SET MSVCDIR=C:\Programmi\Microsoft Visual Studio 9.0\VC
SET PLATFORM=C:\Programmi\Microsoft Visual Studio 2008 SDK
SET HB_COMPILER=msvc
SET HB_VISUALC_VER=90
SET HB_BIN_INSTALL=C:\HARBOUR\BIN
SET HB_LIB_INSTALL=C:\HARBOUR\LIB
SET HB_INC_INSTALL=C:\HARBOUR\INCLUDE
SET INCLUDE=%MSVCDir%\INCLUDE;%PLATFORM%\INCLUDE;c:\HARBOUR\INCLUDE
SET LIB=%PLATFORM%\Lib;%MSVCDir%\LIB;C:\HARBOUR\LIB
REM SET PATH=C:\Harbour\bin;%MSVCDIR%\bin;%PATH%;
SET CFLAGS=
IN OLD POST I HAVE FOUND
SET CFLAGS=/MT -D"_CRT_SECURE_NO_DEPRECATE" -D"_CRT_NONSTDC_NO_DEPRECATE"

but receive error
C:\harbour>CALL MAKE_VC CLEAN
NMAKE : fatal error U1077: '"C:\Programmi\Microsoft Visual Studio 9.0\VC\bin\cl.
exe"' : codice restituito '0xc0000135'
Stop.
From druzus at acn.waw.pl  Wed Feb 11 12:18:04 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 12:13:16 2009
Subject: [Harbour] Errors
In-Reply-To: <006901c98c56$fb2dd210$6c01a8c0@PcJuanxp>
References: <20090211143413.GA2030@uran.home.aster.pl>
	<006901c98c56$fb2dd210$6c01a8c0@PcJuanxp>
Message-ID: <20090211171804.GB18566@uran.home.aster.pl>

On Wed, 11 Feb 2009, Juan G?lvez wrote:

Hi Juan,

>> -wb- in xHarbour only disables warnings for unused clodeblock local
>> variables.
> What do you think about implementing this flag in Harbour? 

I do not find as important feature. Maybe in the future if we add
some warnings which should not be enabled for default settings but
only on user explicit request.
I only think that HB_SYMBOL_UNUSED() should be moved from common.ch
to std.ch. In practice it's now part of compiler and not all users
wants to include common.ch to pacify some warnings.
Such modification allows to also replace __HB_CLS_SYMBOL_UNUSED() in
hbclass.ch with HB_SYMBOL_UNUSED() which will be always available.

best regards,
Przemek
From makis1970 at gmail.com  Wed Feb 11 12:11:54 2009
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Wed Feb 11 12:18:43 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>	<20090211123727.GB29141@uran.home.aster.pl>
	<18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
Message-ID: <011b01c98c6b$d79e12a0$86da37e0$@com>

Hi to everybody,

I've been away the last months (due to a new project under .Net) but I've
always looking about Harbour and xHarbour. I've already publish a huge
application that was coded with clipper to windows with a Heavily changed
GTWVW. The transition was very easy and the result was excellent. I'm using
also a skinning library (appface) so my application have also support for
themes. If you have a look under xHarbour you'll see how many users ask for
support of GTWVW under the last GT API. All of them (including me) they are
stacked with an old version of xHarbour. GTWVW support for the new GT Api is
the most wanted "feature" under xHarbour. Sadly the original coder have no
time to do it (and he is also stacked with an old version of xHarbour).   Of
course many times Ron said that this is a contribution library and the best
way for transition is Visual xHarbour the only official supported library.
The bad think about this lib is that is almost stopped for the last few
months and if someone asks about it you are getting an answer that they are
working hard for a new version. Also visual xHarbour is not an easy to
transition library.

 

Brgds

Mike Evans

 

 

Hm, this sounds quite nice. Too bad it's Windows only.

 

I'm thinking of similar but based on GTWVT, GWXC + XHGTK.

I didn't try XHGTK yet (I haven't yet been able to build XHGTK 

on Windows), but theoretically it may be possible to have a 

CUI base, and start to extend this, or gradually convert windows 

to GTK ones, which has similar effect, but by skipping one stage.

 

BTW, if anyone has experience with building XHGTK on Windows, 

I'd appreciate any information.

 

After installing a great amount of GTK dependencies, I stuck with this:

--

Package pixman-1 was not found in the pkg-config search path.

Perhaps you should add the directory containing `pixman-1.pc'

(...)

include\xhgtk.h(22) : fatal error C1083: Cannot open include file: 'glib.h':
No such file or directory

--

 

(with the downloads on the GTK page, I didn't even reach this far)

 

Brgds,

Viktor

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/76f19d15/attachment.html
From harbour.01 at syenar.hu  Wed Feb 11 12:19:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 12:22:40 2009
Subject: [Harbour] xhgtk and Harbour
Message-ID: <18d502870902110919k2c41af88v5c56889d1f2dd59e@mail.gmail.com>

I'm happy to report, that GTK+ is in the Harbour.

Samples building / running just fine, after simply adding a few libs
to HB_USER_LIBS, -I for the headers and copying in the required RT .dlls.

Congrats for the xhgtk team, very nice job.

Brgds,
Viktor

------------
After some tweaking, now I have an xhgtk.lib for MSVC.
I had to manually fix the makefile and fix one error in code in
latest SVN.

I've used packages from here:
http://www.gtk.org/download-windows.html

The missing bit was "libglade-2.0", which I got from here:
http://gladewin32.sourceforge.net/

Here's the patch for the error:
---
Index: source/gtk/gtkcomboboxentry.c
===================================================================
--- source/gtk/gtkcomboboxentry.c (revision 357)
+++ source/gtk/gtkcomboboxentry.c (working copy)
@@ -90,6 +90,7 @@

 HB_FUNC( XHGTK_COMBO_BOX_ENTRY_GET_ENTRY )
 {
-   GtkWidget *widget = hb_gtk_param(1, TRUE);
+   GtkWidget *widget = ( GtkWidget * ) hb_gtk_param(1, TRUE);
    hb_gtk_ret( (GtkEntry*) GTK_ENTRY( GTK_BIN( widget )->child ), FALSE );
 }
+
---
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/a2d54894/attachment.html
From harbour.01 at syenar.hu  Wed Feb 11 12:23:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 12:23:19 2009
Subject: [Harbour] Errors
In-Reply-To: <20090211171804.GB18566@uran.home.aster.pl>
References: <20090211143413.GA2030@uran.home.aster.pl>
	<006901c98c56$fb2dd210$6c01a8c0@PcJuanxp>
	<20090211171804.GB18566@uran.home.aster.pl>
Message-ID: <18d502870902110923k44ba42f6m9aeda2fabb847caf@mail.gmail.com>

>
> I do not find as important feature. Maybe in the future if we add
> some warnings which should not be enabled for default settings but
> only on user explicit request.
> I only think that HB_SYMBOL_UNUSED() should be moved from common.ch
> to std.ch. In practice it's now part of compiler and not all users
> wants to include common.ch to pacify some warnings.
> Such modification allows to also replace __HB_CLS_SYMBOL_UNUSED() in
> hbclass.ch with HB_SYMBOL_UNUSED() which will be always available.


Good idea.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/e7623e2f/attachment.html
From snaiperis at users.sourceforge.net  Wed Feb 11 12:28:46 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Wed Feb 11 12:28:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10230] trunk/harbour
Message-ID: <E1LXItC-0003XX-Ko@bj8yhf1.ch3.sourceforge.com>

Revision: 10230
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10230&view=rev
Author:   snaiperis
Date:     2009-02-11 17:28:45 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 19:30 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/include/hbextern.ch
  * harbour/source/rtl/philes.c
    + added HB_FGETDATETIME(). A "brother" of function HB_FGETDATETIME().
    ; TODO: BTW, hb_fs*() functions can get a better precision 
      (milliseconds). It would be nice to support it also at .prg level.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rtl/philes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb 11 12:35:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 12:30:15 2009
Subject: [Harbour] xhgtk and Harbour
In-Reply-To: <18d502870902110919k2c41af88v5c56889d1f2dd59e@mail.gmail.com>
References: <18d502870902110919k2c41af88v5c56889d1f2dd59e@mail.gmail.com>
Message-ID: <20090211173502.GA23194@uran.home.aster.pl>

On Wed, 11 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> I'm happy to report, that GTK+ is in the Harbour.
> Samples building / running just fine, after simply adding a few libs
> to HB_USER_LIBS, -I for the headers and copying in the required RT .dlls.
> Congrats for the xhgtk team, very nice job.

You do not have to use this libs too if you are using MinGW or other
GCC based compiler.
Try to build xhgtk shared library by:
   hb-mkslib libxhgtk libxhgtk.a `pkg-config --libs gtk+-2.0 libglade-2.0`
It will have all references to extenral GTK libraries inside xhgtk.dll
so all what you will have to do is adding -lxhgtk when you link your
application.
If you are using hb* scripts then you can also use -xhgtk switch for
linking (hblnk or hbmk). In such case it will work also for static
xhgtk lib.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Wed Feb 11 12:30:35 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 12:30:40 2009
Subject: [Harbour] Errors
References: <59EF2462DF8B4474A33722E4616EA697@emag><18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com><FB32AF5F997B4C91B3F821B612EB2CE1@emag><18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com><66FA6220A1AB443B8F22F6CCBB0132B3@emag><18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com><670315E3FEA34F3682ABDC7B61D47AA2@emag>
	<18d502870902110542u50a21025ne025fbc82175f943@mail.gmail.com>
Message-ID: <59A4E264854947F3BA0327BE49982825@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 14.42
Oggetto: Re: [Harbour] Errors


> http://gcc.gnu.org/onlinedocs/cpp/Include-Syntax.html
> http://msdn.microsoft.com/en-us/library/36k2cdd4(VS.71).aspx
>
> If you're still unsure, just look around on any well known
> OSS projects, or MS source code (the CRT for example),
> or even official MS Windows headers to see how they
> #include other Windows headers.

Thank you, but I would see what ISO have to say on this subject, not GNU or 
MS. I haven't clear what a HEADER is and what a FILE is. The syntax with <> 
is only for HEADERs. An HEADER is not a FILE, in the sense that it doesn't 
have to exist as a file, which doesn't necessarily mean that a FILE can't be 
considered a HEADER.

> You should remove /es2 switch if you don't want warnings to
> stop your build process.
>
> I don't know exactly what it does, but Harbour surely doesn't
> support /wb-.

Ok, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From dbtopas at dbtopas.lt  Wed Feb 11 12:31:56 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb 11 12:32:00 2009
Subject: [Harbour] rtl/philes.c license
Message-ID: <49930B8C.8080609@dbtopas.lt>

Hi,


I've noticed this file have a pure GPL license (without exception) 
header. It should be error, since it is a part of hbrtl.lib. Most 
functions has copyright of Viktor. I think we must correct this issue.


Regards,
Mindaugas

From harbour.01 at syenar.hu  Wed Feb 11 12:28:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 12:32:15 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
Message-ID: <18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>

Try this:
---
set WindowsSDKDir=C:\Program Files\Microsoft SDKs\Windows\v6.0A\
call "C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86

set HB_VISUALC_VER=90

set HB_ARCHITECTURE=win
set HB_COMPILER=msvc
---

Brgds,
Viktor

On Wed, Feb 11, 2009 at 6:07 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I have tried for mscv
> SET HB_ARCHITECTURE=WIN
> SET MSVCDIR=C:\Programmi\Microsoft Visual Studio 9.0\VC
> SET PLATFORM=C:\Programmi\Microsoft Visual Studio 2008 SDK
> SET HB_ARCHITECTURE=WIN
> SET HB_COMPILER=msvc
> SET HB_VISUALC_VER=90
> SET HB_BIN_INSTALL=C:\HARBOUR\BIN
> SET HB_LIB_INSTALL=C:\HARBOUR\LIB
> SET HB_INC_INSTALL=C:\HARBOUR\INCLUDE
> SET INCLUDE=%MSVCDir%\INCLUDE;%PLATFORM%\INCLUDE;c:\HARBOUR\INCLUDE
> SET LIB=%PLATFORM%\Lib;%MSVCDir%\LIB;C:\HARBOUR\LIB
> REM SET PATH=C:\Harbour\bin;%MSVCDIR%\bin;%PATH%;
> SET CFLAGS=
> IN OLD POST I HAVE FOUND
> SET CFLAGS=/MT -D"_CRT_SECURE_NO_DEPRECATE" -D"_CRT_NONSTDC_NO_DEPRECATE"
>
> but receive error
> C:\harbour>CALL MAKE_VC CLEAN
> NMAKE : fatal error U1077: '"C:\Programmi\Microsoft Visual Studio
> 9.0\VC\bin\cl.
> exe"' : codice restituito '0xc0000135'
> Stop.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/e283272b/attachment.html
From druzus at acn.waw.pl  Wed Feb 11 12:43:44 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 12:38:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10230] trunk/harbour
In-Reply-To: <E1LXItC-0003XX-Ko@bj8yhf1.ch3.sourceforge.com>
References: <E1LXItC-0003XX-Ko@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20090211174344.GA28944@uran.home.aster.pl>

On Wed, 11 Feb 2009, snaiperis@users.sourceforge.net wrote:

Hi,

> 2009-02-11 19:30 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>   * harbour/include/hbextern.ch
>   * harbour/source/rtl/philes.c
>     + added HB_FGETDATETIME(). A "brother" of function HB_FGETDATETIME().
>     ; TODO: BTW, hb_fs*() functions can get a better precision 
>       (milliseconds). It would be nice to support it also at .prg level.

Yes, but I think we can wait with it for TIMESTAMP support and update
above functions to use this new type.
Seems that we agreed basic HVM support for it so I can implement this
part without touching compiler syntax yet to not stop such modifications.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Wed Feb 11 12:39:17 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 12:39:21 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com><20090211121718.GA28253@uran.home.aster.pl><609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
Message-ID: <9B23036F52A74EAC9D9DCCC18171B6DF@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 15.24
Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?


> F.e. Enrico still keeps HB_LEX=simplex for xHarbour builds and this
> variables is not necessary for xHarbour

Great! Now my batch to build xHarbour looks like

@ ECHO OFF
SET PATH=e:\bcc55\bin;e:\bison\bin;%PATH%
SET PRG_USR=-l
make_b32 clean build

And this is for Harbour:

@ ECHO OFF
SET PATH=e:\bcc55\bin
SET HB_USER_CFLAGS=-a8
SET HB_USER_PRGFLAGS=-l
CALL make_b32 clean
CALL make_b32
CD contrib
CALL make_b32_all clean
CALL make_b32_all

Do you still see something unuseful?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Wed Feb 11 12:40:17 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 12:40:21 2009
Subject: [Harbour] Errors
References: <18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com><670315E3FEA34F3682ABDC7B61D47AA2@emag>
	<20090211143413.GA2030@uran.home.aster.pl>
Message-ID: <CAF2B0E8BDA74A59B63C111D143874BE@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 15.34
Oggetto: Re: [Harbour] Errors


> You are wrong. You cannot disable above warning in xHarbour using -wb-
> switch. The warning will still exists. Just try.
> -wb- in xHarbour only disables warnings for unused clodeblock local
> variables.

Ops! You're right.

> So this example only illustrates xHarbour bug. Just simply many of
> warnings does not interrupt compilation even when -es2 switch is used.
> In short words -es2 does not work correctly in xHarbour. You can find
> also many other warnings which ignores -es2 switch in xHarbour.
> When -es2 switch is used then warnings should interrupt compilation
> like errors. It does not work in xHarbour so you should report above
> to xHarbour devel list as bug.

I'm going to do so... :-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Wed Feb 11 12:41:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 12:41:33 2009
Subject: [Harbour] xhgtk and Harbour
In-Reply-To: <18d502870902110919k2c41af88v5c56889d1f2dd59e@mail.gmail.com>
References: <18d502870902110919k2c41af88v5c56889d1f2dd59e@mail.gmail.com>
Message-ID: <609353e70902110941p6ee03015lccf8006bba10c7d3@mail.gmail.com>

have you used gtk from
svn checkout http://svn.gnome.org/svn/gtk+/trunk gtk

Do you think that is possible use bcc?

2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>:
> I'm happy to report, that GTK+ is in the Harbour.
> Samples building / running just fine, after simply adding a few libs
> to HB_USER_LIBS, -I for the headers and copying in the required RT .dlls.
> Congrats for the xhgtk team, very nice job.
> Brgds,
> Viktor
> ------------
> After some tweaking, now I have an xhgtk.lib for MSVC.
> I had to manually fix the makefile and fix one error in code in
> latest SVN.
> I've used packages from here:
> http://www.gtk.org/download-windows.html
>
> The missing bit was "libglade-2.0", which I got from here:
> http://gladewin32.sourceforge.net/
>
> Here's the patch for the error:
> ---
> Index: source/gtk/gtkcomboboxentry.c
> ===================================================================
> --- source/gtk/gtkcomboboxentry.c (revision 357)
> +++ source/gtk/gtkcomboboxentry.c (working copy)
> @@ -90,6 +90,7 @@
>
>  HB_FUNC( XHGTK_COMBO_BOX_ENTRY_GET_ENTRY )
>  {
> -   GtkWidget *widget = hb_gtk_param(1, TRUE);
> +   GtkWidget *widget = ( GtkWidget * ) hb_gtk_param(1, TRUE);
>     hb_gtk_ret( (GtkEntry*) GTK_ENTRY( GTK_BIN( widget )->child ), FALSE );
>  }
> +
> ---
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Feb 11 12:45:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 12:45:47 2009
Subject: [Harbour] Errors
In-Reply-To: <59A4E264854947F3BA0327BE49982825@emag>
References: <59EF2462DF8B4474A33722E4616EA697@emag>
	<18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com>
	<FB32AF5F997B4C91B3F821B612EB2CE1@emag>
	<18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com>
	<66FA6220A1AB443B8F22F6CCBB0132B3@emag>
	<18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com>
	<670315E3FEA34F3682ABDC7B61D47AA2@emag>
	<18d502870902110542u50a21025ne025fbc82175f943@mail.gmail.com>
	<59A4E264854947F3BA0327BE49982825@emag>
Message-ID: <18d502870902110945m36ec088eif2e5696201e4506b@mail.gmail.com>

>
> If you're still unsure, just look around on any well known
>> OSS projects, or MS source code (the CRT for example),
>> or even official MS Windows headers to see how they
>> #include other Windows headers.
>>
>
> Thank you, but I would see what ISO have to say on this subject, not GNU or
> MS. I haven't clear what a HEADER is and what a FILE is. The syntax with <>
> is only for HEADERs. An HEADER is not a FILE, in the sense that it doesn't
> have to exist as a file, which doesn't necessarily mean that a FILE can't be
> considered a HEADER.


Good luck finding an ISO standard on the net (for free) :)

IMO there is no difference whether it's a FILE or HEADER as
the standard merely controls in which _order_ to check different
dirs for the specified FILE/HEADER. This means the standard most
probably won't use the words "systems headers", or "OS headers",
but rather something like "default include dir", dir specified
by user (INCLUDE envvar, -I cmdline option), and dir of compiled
source file.

Of course you don't have to believe me, if you find some more
authentic information, post it here.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/d970f2af/attachment-0001.html
From druzus at acn.waw.pl  Wed Feb 11 12:51:43 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 12:46:54 2009
Subject: [Harbour] rtl/philes.c license
In-Reply-To: <49930B8C.8080609@dbtopas.lt>
References: <49930B8C.8080609@dbtopas.lt>
Message-ID: <20090211175143.GB28944@uran.home.aster.pl>

On Wed, 11 Feb 2009, Mindaugas Kavaliauskas wrote:

Hi,

> I've noticed this file have a pure GPL license (without exception) header. 
> It should be error, since it is a part of hbrtl.lib. Most functions has 
> copyright of Viktor. I think we must correct this issue.

It has to be resolved. In practice current code of all functions inside
is created by me or Viktor and the original code does not exists.
You can check it extracting older versions from SVN repository.
I'm giving all permissions to changing the license and adding Harbour
exception for my code in this file. I hope Viktor will make the same.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Feb 11 12:53:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 12:48:15 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <9B23036F52A74EAC9D9DCCC18171B6DF@emag>
References: <20090211142402.GA23446@uran.home.aster.pl>
	<9B23036F52A74EAC9D9DCCC18171B6DF@emag>
Message-ID: <20090211175303.GA11131@uran.home.aster.pl>

On Wed, 11 Feb 2009, Enrico Maria Giordano wrote:
> SET HB_USER_PRGFLAGS=-l
> Do you still see something unuseful?

-l is default in Harbour now.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb 11 12:52:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 12:52:33 2009
Subject: [Harbour] rtl/philes.c license
In-Reply-To: <20090211175143.GB28944@uran.home.aster.pl>
References: <49930B8C.8080609@dbtopas.lt>
	<20090211175143.GB28944@uran.home.aster.pl>
Message-ID: <18d502870902110952x36108469o2614e869a039eb7d@mail.gmail.com>

>
> It has to be resolved. In practice current code of all functions inside
> is created by me or Viktor and the original code does not exists.
> You can check it extracting older versions from SVN repository.
> I'm giving all permissions to changing the license and adding Harbour
> exception for my code in this file. I hope Viktor will make the same.


Of course, Harbour exception is okay for my part.

If we agree, let's change it then, but it'd be best to deal
with the other files, too. See my other mail.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/c03bfa9f/attachment.html
From harbour.01 at syenar.hu  Wed Feb 11 12:50:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 12:53:47 2009
Subject: [Harbour] rtl/philes.c license
In-Reply-To: <49930B8C.8080609@dbtopas.lt>
References: <49930B8C.8080609@dbtopas.lt>
Message-ID: <18d502870902110950t3c0841ddve2a0f4090cbef3e9@mail.gmail.com>

Yeah, it belongs to Manuel Ruiz. I wrote him a letter last year, but got no
answer. The story was that I gave this copyright to
this file on his behalf in the beginning when Manuel sent some functions
to the mailing list, and I committed them.

Most of these functions have since been rewritten in filesys.c,
so the copyright is probably pointless.

Please advise what to do.

Here's a complete files of non-compliant licenses (from /COPYING):

   source\rtl\philes.c
   source\rtl\binnum.c
   source\lang\msgeu.c
   source\lang\msgsl437.c
   source\lang\msgsl852.c
   source\lang\msgsliso.c
   source\lang\msgslwin.c
   source\lang\msgsr852.c
   source\lang\msgsriso.c

Brgds,
Viktor

On Wed, Feb 11, 2009 at 6:31 PM, Mindaugas Kavaliauskas
<dbtopas@dbtopas.lt>wrote:

> Hi,
>
>
> I've noticed this file have a pure GPL license (without exception) header.
> It should be error, since it is a part of hbrtl.lib. Most functions has
> copyright of Viktor. I think we must correct this issue.
>
>
> Regards,
> Mindaugas
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/093ff088/attachment.html
From harbour.01 at syenar.hu  Wed Feb 11 12:55:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 12:58:03 2009
Subject: [Harbour] xhgtk and Harbour
In-Reply-To: <609353e70902110941p6ee03015lccf8006bba10c7d3@mail.gmail.com>
References: <18d502870902110919k2c41af88v5c56889d1f2dd59e@mail.gmail.com>
	<609353e70902110941p6ee03015lccf8006bba10c7d3@mail.gmail.com>
Message-ID: <18d502870902110955g74d7f57br3272d7308906eb55@mail.gmail.com>

xhgtk doesn't have Borland make files, and you would have to build yourself
all the .lib files from .dlls.

Probably doable, but I'm not interested.

Brgds,
Viktor

On Wed, Feb 11, 2009 at 6:41 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> have you used gtk from
> svn checkout http://svn.gnome.org/svn/gtk+/trunk gtk
>
> Do you think that is possible use bcc?
>
> 2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>:
> > I'm happy to report, that GTK+ is in the Harbour.
> > Samples building / running just fine, after simply adding a few libs
> > to HB_USER_LIBS, -I for the headers and copying in the required RT .dlls.
> > Congrats for the xhgtk team, very nice job.
> > Brgds,
> > Viktor
> > ------------
> > After some tweaking, now I have an xhgtk.lib for MSVC.
> > I had to manually fix the makefile and fix one error in code in
> > latest SVN.
> > I've used packages from here:
> > http://www.gtk.org/download-windows.html
> >
> > The missing bit was "libglade-2.0", which I got from here:
> > http://gladewin32.sourceforge.net/
> >
> > Here's the patch for the error:
> > ---
> > Index: source/gtk/gtkcomboboxentry.c
> > ===================================================================
> > --- source/gtk/gtkcomboboxentry.c (revision 357)
> > +++ source/gtk/gtkcomboboxentry.c (working copy)
> > @@ -90,6 +90,7 @@
> >
> >  HB_FUNC( XHGTK_COMBO_BOX_ENTRY_GET_ENTRY )
> >  {
> > -   GtkWidget *widget = hb_gtk_param(1, TRUE);
> > +   GtkWidget *widget = ( GtkWidget * ) hb_gtk_param(1, TRUE);
> >     hb_gtk_ret( (GtkEntry*) GTK_ENTRY( GTK_BIN( widget )->child ), FALSE
> );
> >  }
> > +
> > ---
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/e7a300bb/attachment.html
From vszakats at users.sourceforge.net  Wed Feb 11 13:05:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 13:05:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10231] trunk/harbour
Message-ID: <E1LXJSv-0004TQ-FI@dn4whf1.ch3.sourceforge.com>

Revision: 10231
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10231&view=rev
Author:   vszakats
Date:     2009-02-11 18:05:27 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 19:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * COPYING
  * source/rtl/philes.c
    ! Fixed license to have the Harbour exception, in agreement
      with the group and main copyright holders.
    * Minor cleanup to HB_FGETDATETIME().

Modified Paths:
--------------
    trunk/harbour/COPYING
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/philes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 11 13:07:13 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 13:07:17 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <9B23036F52A74EAC9D9DCCC18171B6DF@emag>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<9B23036F52A74EAC9D9DCCC18171B6DF@emag>
Message-ID: <609353e70902111007y6541f4a9nb4f804e859ffb82e@mail.gmail.com>

IMO you missed *bold*
call make_b32.bat clean
call make_b32.bat
*call make_b32.bat install*

cd contrib
call make_b32_all.bat clean
call make_b32_all.bat
*call make_b32_all.bat install*


2009/2/11 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>:
>
> -----Messaggio Originale----- Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 11 febbraio 2009 15.24
> Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?
>
>
>> F.e. Enrico still keeps HB_LEX=simplex for xHarbour builds and this
>> variables is not necessary for xHarbour
>
> Great! Now my batch to build xHarbour looks like
>
> @ ECHO OFF
> SET PATH=e:\bcc55\bin;e:\bison\bin;%PATH%
> SET PRG_USR=-l
> make_b32 clean build
>
> And this is for Harbour:
>
> @ ECHO OFF
> SET PATH=e:\bcc55\bin
> SET HB_USER_CFLAGS=-a8
> SET HB_USER_PRGFLAGS=-l
> CALL make_b32 clean
> CALL make_b32
> CD contrib
> CALL make_b32_all clean
> CALL make_b32_all
>
> Do you still see something unuseful?
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/cf3b2b32/attachment.html
From e.m.giordano at emagsoftware.it  Wed Feb 11 13:12:58 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 13:13:03 2009
Subject: [Harbour] Errors
References: <59EF2462DF8B4474A33722E4616EA697@emag><18d502870902101516u35d78974o67c1f26656eea5dc@mail.gmail.com><FB32AF5F997B4C91B3F821B612EB2CE1@emag><18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com><66FA6220A1AB443B8F22F6CCBB0132B3@emag><18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com><670315E3FEA34F3682ABDC7B61D47AA2@emag><18d502870902110542u50a21025ne025fbc82175f943@mail.gmail.com><59A4E264854947F3BA0327BE49982825@emag>
	<18d502870902110945m36ec088eif2e5696201e4506b@mail.gmail.com>
Message-ID: <B118C08CF64546E3A0883BBD72F9CDA3@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 18.45
Oggetto: Re: [Harbour] Errors


> IMO there is no difference whether it's a FILE or HEADER as
> the standard merely controls in which _order_ to check different
> dirs for the specified FILE/HEADER.

Not exactly. As I said, a HEADER doesn't necessarily have to exist as a 
file.

> Of course you don't have to believe me, if you find some more
> authentic information, post it here.

Ok.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Wed Feb 11 13:14:11 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 13:14:15 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
References: <20090211142402.GA23446@uran.home.aster.pl><9B23036F52A74EAC9D9DCCC18171B6DF@emag>
	<20090211175303.GA11131@uran.home.aster.pl>
Message-ID: <37C661AF6D664E9BA1A566F3C289D47C@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 18.53
Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?


> -l is default in Harbour now.

Great! Removed, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Wed Feb 11 13:18:22 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 13:18:27 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com><20090211121718.GA28253@uran.home.aster.pl><609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com><20090211142402.GA23446@uran.home.aster.pl><9B23036F52A74EAC9D9DCCC18171B6DF@emag>
	<609353e70902111007y6541f4a9nb4f804e859ffb82e@mail.gmail.com>
Message-ID: <1A1E55EED5B7467680B1BC256CD8A6E6@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 19.07
Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?


> IMO you missed *bold*

I asked for something unuseful, not for something missing. :-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Feb 11 13:24:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 13:27:59 2009
Subject: [Harbour] Errors
In-Reply-To: <B118C08CF64546E3A0883BBD72F9CDA3@emag>
References: <59EF2462DF8B4474A33722E4616EA697@emag>
	<FB32AF5F997B4C91B3F821B612EB2CE1@emag>
	<18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com>
	<66FA6220A1AB443B8F22F6CCBB0132B3@emag>
	<18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com>
	<670315E3FEA34F3682ABDC7B61D47AA2@emag>
	<18d502870902110542u50a21025ne025fbc82175f943@mail.gmail.com>
	<59A4E264854947F3BA0327BE49982825@emag>
	<18d502870902110945m36ec088eif2e5696201e4506b@mail.gmail.com>
	<B118C08CF64546E3A0883BBD72F9CDA3@emag>
Message-ID: <18d502870902111024k21c7d2cbjf7aca3400802fa84@mail.gmail.com>

>
> IMO there is no difference whether it's a FILE or HEADER as
>> the standard merely controls in which _order_ to check different
>> dirs for the specified FILE/HEADER.
>>
>
> Not exactly. As I said, a HEADER doesn't necessarily have to exist as a
> file.


Sorry, but speaking of ANSI C, I'm not sure what you mean by that.

Here's the standard:
http://std.dkuug.dk/JTC1/SC22/WG14/www/docs/n843.htm

--- [snippet from: "6.10.2  Source file inclusion" ]
Semantics

       [#2] A preprocessing directive of the form

         # include <h-char-sequence> new-line

       searches a sequence of implementation-defined places  for  a
       header identified uniquely by the specified sequence between
       the < and > delimiters, and causes the replacement  of  that
       directive  by  the  entire  contents of the header.  How the
       places  are  specified   or   the   header   identified   is
       implementation-defined.

       [#3] A preprocessing directive of the form

         # include "q-char-sequence" new-line

       causes  the  replacement  of  that  directive  by the entire
       contents of the source  file  identified  by  the  specified
       sequence between the " delimiters.  The named source file is
       searched for in an implementation-defined manner.   If  this
       search  is  not  supported,  or  if  the  search  fails, the
       directive is reprocessed as if it read
---

Difference between <> and "" is implementation dependent,
and it doesn't even mention "file". There we have it ;)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/ce17337a/attachment.html
From druzus at acn.waw.pl  Wed Feb 11 13:33:43 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 13:28:54 2009
Subject: [Harbour] rtl/philes.c license
In-Reply-To: <18d502870902110950t3c0841ddve2a0f4090cbef3e9@mail.gmail.com>
References: <49930B8C.8080609@dbtopas.lt>
	<18d502870902110950t3c0841ddve2a0f4090cbef3e9@mail.gmail.com>
Message-ID: <20090211183343.GB11131@uran.home.aster.pl>

On Wed, 11 Feb 2009, Szak?ts Viktor wrote:

Hi,

>    source\rtl\binnum.c

binnum.c is not in original version and was updated by me and
AFAIR Phil Krylow.
Anyhow all these functions are very easy can be written in simpler
and a little bit faster way. So let's write them from scratch in a
while:

   #include "hbapi.h"
   #include "hbapiitm.h"

   HB_FUNC( BIN2W )
   {
      PHB_ITEM pItem = hb_param( 1, HB_IT_STRING );
      UINT16 uiResult = 0;

      if( pItem )
      {
         ULONG ulLen = hb_itemGetCLen( pItem );
         if( ulLen )
         {
            const char * pszString = hb_itemGetCPtr( pItem );
            uiResult = HB_GET_LE_INT16( pszString );
         }
      }
      hb_retnint( uiResult );
   }

   HB_FUNC( BIN2I )
   {
      PHB_ITEM pItem = hb_param( 1, HB_IT_STRING );
      INT16 iResult = 0;

      if( pItem )
      {
         ULONG ulLen = hb_itemGetCLen( pItem );
         if( ulLen )
         {
            const char * pszString = hb_itemGetCPtr( pItem );
            iResult = HB_GET_LE_UINT16( pszString );
         }
      }
      hb_retnint( iResult );
   }

   HB_FUNC( BIN2L )
   {
      PHB_ITEM pItem = hb_param( 1, HB_IT_STRING );
      INT32 iResult = 0;

      if( pItem )
      {
         ULONG ulLen = hb_itemGetCLen( pItem );
         if( ulLen )
         {
            const char * pszString = hb_itemGetCPtr( pItem );
            if( ulLen >= 3 )
               iResult = HB_GET_LE_INT32( pszString );
            else
               iResult = HB_GET_LE_UINT16( pszString );
         }
      }
      hb_retnint( iResult );
   }

   HB_FUNC( I2BIN )
   {
      char szResult[ 2 ];
      INT16 iValue = ( INT16 ) hb_parni( 1 );
      HB_PUT_LE_UINT16( szResult, iValue );
      hb_retclen( szResult, 2 );
   }

   HB_FUNC( L2BIN )
   {
      char szResult[ 4 ];
      INT32 iValue = ( INT32 ) hb_parnl( 1 );
      HB_PUT_LE_UINT32( szResult, iValue );
      hb_retclen( szResult, 4 );
   }

Just simply use the above code instead.
NOTE. Not testsed.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Feb 11 13:37:00 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 13:32:11 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <37C661AF6D664E9BA1A566F3C289D47C@emag>
References: <20090211175303.GA11131@uran.home.aster.pl>
	<37C661AF6D664E9BA1A566F3C289D47C@emag>
Message-ID: <20090211183700.GC11131@uran.home.aster.pl>

On Wed, 11 Feb 2009, Enrico Maria Giordano wrote:

Hi Enrico,

>> -l is default in Harbour now.
> Great! Removed, thank you.

-a8 is also default in BCC builds so you do not have to use it.
So far Harbour does not set any alignment switches or use #prgama
pack() so it does not change anything.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Feb 11 13:41:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 13:41:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10232] trunk/harbour
Message-ID: <E1LXK1c-0005VD-Jj@bj8yhf1.ch3.sourceforge.com>

Revision: 10232
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10232&view=rev
Author:   vszakats
Date:     2009-02-11 18:41:31 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 19:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/en/diskspac.txt
  * doc/en/terminal.txt
  * doc/en/setmode.txt
  * doc/es/diskspac.txt
  * doc/es/dirstruc.txt
  * doc/inet.txt
  * contrib/hbmysql/readme.txt
  * contrib/hbct/disk.c
  * contrib/hbtpathy/telepath.prg
  * contrib/hbole/tests/testole.prg
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvgclass.prg
  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.c
  * contrib/gtwvg/wvggui.h
  * contrib/gtwvg/wvgwin.c
  * contrib/gtwvg/wvgutils.c
  * contrib/gtwvg/wvgcore.c
  * contrib/hbgf/hbgfos2/winctrl.prg
  * contrib/hbgf/hbgfos2/tform.prg
  * source/common/hbver.c
  * source/rtl/run.c
  * source/rtl/gtwin/gtwin.c
  * source/rtl/oemansi.c
  * source/rtl/gtwvt/gtwvt.h
  * source/rtl/gtwvt/gtwvt.c
  * source/rtl/hbrandom.c
  * source/rtl/filesys.c
    * Win32 -> Windows. In comments / docs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvgclass.prg
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbgf/hbgfos2/tform.prg
    trunk/harbour/contrib/hbgf/hbgfos2/winctrl.prg
    trunk/harbour/contrib/hbmysql/readme.txt
    trunk/harbour/contrib/hbole/tests/testole.prg
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/doc/en/diskspac.txt
    trunk/harbour/doc/en/setmode.txt
    trunk/harbour/doc/en/terminal.txt
    trunk/harbour/doc/es/dirstruc.txt
    trunk/harbour/doc/es/diskspac.txt
    trunk/harbour/doc/inet.txt
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/gtwin/gtwin.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.h
    trunk/harbour/source/rtl/hbrandom.c
    trunk/harbour/source/rtl/oemansi.c
    trunk/harbour/source/rtl/run.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Wed Feb 11 13:43:34 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb 11 13:43:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10230] trunk/harbour
In-Reply-To: <20090211174344.GA28944@uran.home.aster.pl>
References: <E1LXItC-0003XX-Ko@bj8yhf1.ch3.sourceforge.com>
	<20090211174344.GA28944@uran.home.aster.pl>
Message-ID: <49931C56.3090605@dbtopas.lt>

>>     + added HB_FGETDATETIME(). A "brother" of function HB_FGETDATETIME().
>>     ; TODO: BTW, hb_fs*() functions can get a better precision 
>>       (milliseconds). It would be nice to support it also at .prg level.
> 
> Yes, but I think we can wait with it for TIMESTAMP support and update
> above functions to use this new type.
> Seems that we agreed basic HVM support for it so I can implement this
> part without touching compiler syntax yet to not stop such modifications.

Hi,


yes, good idea! BTW, I still do not understood your opinion about 
internal TIMESTAMP item format: julian and milliseconds, or double 
julian.fraction?
And Where can we put timezone offset? How it affects timestamp 
calculation? I see some hidden problems here.


Regards,
Mindaugas

From vszakats at users.sourceforge.net  Wed Feb 11 13:45:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 13:45:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10233] trunk/harbour
Message-ID: <E1LXK5P-0005Z2-Ro@bj8yhf1.ch3.sourceforge.com>

Revision: 10233
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10233&view=rev
Author:   vszakats
Date:     2009-02-11 18:45:26 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 19:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbct/files.c
  * source/common/hbfsapi.c
  * source/rtl/gtgui/gtgui.c
  * source/rtl/gttone.c
    * W32 -> Windows. In comments.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/source/common/hbfsapi.c
    trunk/harbour/source/rtl/gtgui/gtgui.c
    trunk/harbour/source/rtl/gttone.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 11 13:48:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 13:48:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10234] trunk/harbour
Message-ID: <E1LXK8V-0005dg-ET@bj8yhf1.ch3.sourceforge.com>

Revision: 10234
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10234&view=rev
Author:   vszakats
Date:     2009-02-11 18:48:38 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 19:47 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/std.ch
  * include/hbclass.ch
  * include/common.ch
    * HB_SYMBOL_UNUSED() moved to std.ch.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/common.ch
    trunk/harbour/include/hbclass.ch
    trunk/harbour/include/std.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Wed Feb 11 13:51:50 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb 11 13:51:53 2009
Subject: [Harbour] rtl/philes.c license
In-Reply-To: <20090211183343.GB11131@uran.home.aster.pl>
References: <49930B8C.8080609@dbtopas.lt>	<18d502870902110950t3c0841ddve2a0f4090cbef3e9@mail.gmail.com>
	<20090211183343.GB11131@uran.home.aster.pl>
Message-ID: <49931E46.2000805@dbtopas.lt>

Hi,


a nice idea for testing code in relicensing could be svn blame command.


Regards,
Mindaugas
From marcos.gambeta at yahoo.com.br  Wed Feb 11 13:52:25 2009
From: marcos.gambeta at yahoo.com.br (Marcos Gambeta)
Date: Wed Feb 11 13:52:33 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>	<20090211123727.GB29141@uran.home.aster.pl>
	<18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
Message-ID: <49931E69.7010608@yahoo.com.br>

Viktor Szak?ts escreveu:
 > BTW, if anyone has experience with building XHGTK on Windows,
 > I'd appreciate any information.

I am using this package with xHGTK library (Windows Vista):

http://www.4shared.com/file/80890683/3601dedc/gtk-2147-win32.html

GTK+ 2.14.7
GLib 2.18.4
ATK 1.24.0
Cairo 1.8.6
Pango 1.22.2
Glade 2.12.1
Glade 3.0.2

Only download, unzip and add c:\gtk\bin to PATH.

I am planning a installer (one version for runtime and other for 
runtime/development), but don't have time to work on it now. And the 
package need some cleanup (some files are not necessary).


Regards,
Marcos Gambeta

From druzus at acn.waw.pl  Wed Feb 11 14:06:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 14:01:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10230] trunk/harbour
In-Reply-To: <49931C56.3090605@dbtopas.lt>
References: <E1LXItC-0003XX-Ko@bj8yhf1.ch3.sourceforge.com>
	<20090211174344.GA28944@uran.home.aster.pl>
	<49931C56.3090605@dbtopas.lt>
Message-ID: <20090211190612.GA27423@uran.home.aster.pl>

On Wed, 11 Feb 2009, Mindaugas Kavaliauskas wrote:

Hi Mindaugas,

> yes, good idea! BTW, I still do not understood your opinion about internal 
> TIMESTAMP item format: julian and milliseconds, or double julian.fraction?

In the 1-st version I'll use milliseconds as separated member.
We will see how much code we have to update and how it will effect
HVM speed. Later if it's necessary we can change it to double for
better precision. It will not effect existing public C API function
so this modification will be hidden for 3-rd party developers and users.
Just simply the precision becomes bigger. Of course in systems where
time can be taken from OS with such bigger precision, f.e. in Linux.

> And Where can we put timezone offset? How it affects timestamp calculation? 
> I see some hidden problems here.

Now nowhere. I'll introduce it only if we strictly define rules how
it should be used and correspond with OS functions. Without it I see
only possible problems in conversions or comparisons, f.e. storing and
restoring values in database systems which do not support UTC offset
in TIMESTAMP fields. At this moment I do not have enough knowledge to
define all possible conditions and interactions with external code in
all OS-es. For my own use it's not necessary now. I only need some
conversion functions. So I want to leave it to the until we will have
more practice knowledge and feedback from 3-rd party developers.
Of course if some can help here then I can try to already implement it.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb 11 14:02:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 14:02:24 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <49931E69.7010608@yahoo.com.br>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>
	<20090211123727.GB29141@uran.home.aster.pl>
	<18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
	<49931E69.7010608@yahoo.com.br>
Message-ID: <18d502870902111102s282e4a56p3410ddce0f84488e@mail.gmail.com>

Thanks Marcos,
This is perfect, no installer please.

Brgds,
Viktor

On Wed, Feb 11, 2009 at 7:52 PM, Marcos Gambeta <marcos.gambeta@yahoo.com.br
> wrote:

> Viktor Szak?ts escreveu:
> > BTW, if anyone has experience with building XHGTK on Windows,
> > I'd appreciate any information.
>
> I am using this package with xHGTK library (Windows Vista):
>
> http://www.4shared.com/file/80890683/3601dedc/gtk-2147-win32.html
>
> GTK+ 2.14.7
> GLib 2.18.4
> ATK 1.24.0
> Cairo 1.8.6
> Pango 1.22.2
> Glade 2.12.1
> Glade 3.0.2
>
> Only download, unzip and add c:\gtk\bin to PATH.
>
> I am planning a installer (one version for runtime and other for
> runtime/development), but don't have time to work on it now. And the package
> need some cleanup (some files are not necessary).
>
>
> Regards,
> Marcos Gambeta
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/b5b9ab24/attachment.html
From vszakats at users.sourceforge.net  Wed Feb 11 14:06:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 14:06:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10235] trunk/harbour
Message-ID: <E1LXKPJ-0006Fl-Ci@bj8yhf1.ch3.sourceforge.com>

Revision: 10235
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10235&view=rev
Author:   vszakats
Date:     2009-02-11 19:06:00 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 20:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * COPYING
  * doc/license.txt
  * source/rtl/binnum.c
    * Added rewritten versions of these functions, now with 
      a proper license: BIN2W(), BIN2I(), BIN2L(), I2BIN(), L2BIN()
    ; Thanks to Przemek.

Modified Paths:
--------------
    trunk/harbour/COPYING
    trunk/harbour/ChangeLog
    trunk/harbour/doc/license.txt
    trunk/harbour/source/rtl/binnum.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Wed Feb 11 14:08:31 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 14:08:35 2009
Subject: [Harbour] Errors
References: <59EF2462DF8B4474A33722E4616EA697@emag><FB32AF5F997B4C91B3F821B612EB2CE1@emag><18d502870902101633u74e3432cj9c786b55e07e6399@mail.gmail.com><66FA6220A1AB443B8F22F6CCBB0132B3@emag><18d502870902110233w639b0289ld3e4101d502659bb@mail.gmail.com><670315E3FEA34F3682ABDC7B61D47AA2@emag><18d502870902110542u50a21025ne025fbc82175f943@mail.gmail.com><59A4E264854947F3BA0327BE49982825@emag><18d502870902110945m36ec088eif2e5696201e4506b@mail.gmail.com><B118C08CF64546E3A0883BBD72F9CDA3@emag>
	<18d502870902111024k21c7d2cbjf7aca3400802fa84@mail.gmail.com>
Message-ID: <89463D63AB374DC2B3438957F8DAF0A7@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 19.24
Oggetto: Re: [Harbour] Errors


> > Not exactly. As I said, a HEADER doesn't necessarily have to exist as a
> > file.
>
> Sorry, but speaking of ANSI C, I'm not sure what you mean by that.

Ehm... I was thinking about something like

#include <iostream>

of C++. iostream doesn't have to be a file (and normally isn't).

> Here's the standard:
> http://std.dkuug.dk/JTC1/SC22/WG14/www/docs/n843.htm
>
> --- [snippet from: "6.10.2  Source file inclusion" ]
> Semantics
>
>       [#2] A preprocessing directive of the form
>
>         # include <h-char-sequence> new-line
>
>       searches a sequence of implementation-defined places  for  a
>       header identified uniquely by the specified sequence between
>       the < and > delimiters, and causes the replacement  of  that
>       directive  by  the  entire  contents of the header.  How the
>       places  are  specified   or   the   header   identified   is
>       implementation-defined.
>
>       [#3] A preprocessing directive of the form
>
>         # include "q-char-sequence" new-line
>
>       causes  the  replacement  of  that  directive  by the entire
>       contents of the source  file  identified  by  the  specified
>       sequence between the " delimiters.  The named source file is
>       searched for in an implementation-defined manner.   If  this
>       search  is  not  supported,  or  if  the  search  fails, the
>       directive is reprocessed as if it read
> ---
>
> Difference between <> and "" is implementation dependent,
> and it doesn't even mention "file". There we have it ;)

I don't agree. It explicitly mention the difference between a header (#2) 
and a source file (#3). It seems to imply that a header is a more abstract 
entity. I think that windows.h is a poor file. :-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Wed Feb 11 14:13:38 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 14:08:50 2009
Subject: [Harbour] rtl/philes.c license
In-Reply-To: <49931E46.2000805@dbtopas.lt>
References: <49930B8C.8080609@dbtopas.lt>
	<18d502870902110950t3c0841ddve2a0f4090cbef3e9@mail.gmail.com>
	<20090211183343.GB11131@uran.home.aster.pl>
	<49931E46.2000805@dbtopas.lt>
Message-ID: <20090211191338.GA8216@uran.home.aster.pl>

On Wed, 11 Feb 2009, Mindaugas Kavaliauskas wrote:

Hi,

> a nice idea for testing code in relicensing could be svn blame command.

really nice.
Thanks for the hint.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Wed Feb 11 14:17:12 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 14:17:17 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
References: <20090211175303.GA11131@uran.home.aster.pl><37C661AF6D664E9BA1A566F3C289D47C@emag>
	<20090211183700.GC11131@uran.home.aster.pl>
Message-ID: <0530FAB8C9DA4E03A5769D89D25A0DFB@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 19.37
Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?


> -a8 is also default in BCC builds so you do not have to use it.
> So far Harbour does not set any alignment switches or use #prgama
> pack() so it does not change anything.

Wonderful! Removed. This is what I have now:

@ ECHO OFF
SET PATH=e:\bcc55\bin
CALL make_b32 clean
CALL make_b32
CD contrib
CALL make_b32_all clean
CALL make_b32_all

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Wed Feb 11 14:21:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 14:22:03 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <0530FAB8C9DA4E03A5769D89D25A0DFB@emag>
References: <20090211175303.GA11131@uran.home.aster.pl>
	<37C661AF6D664E9BA1A566F3C289D47C@emag>
	<20090211183700.GC11131@uran.home.aster.pl>
	<0530FAB8C9DA4E03A5769D89D25A0DFB@emag>
Message-ID: <609353e70902111121o6ea67657u735b4845448ce21f@mail.gmail.com>

What about CALL make_b32_all install?

2009/2/11 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>

>
> -----Messaggio Originale----- Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 11 febbraio 2009 19.37
> Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?
>
>
>  -a8 is also default in BCC builds so you do not have to use it.
>> So far Harbour does not set any alignment switches or use #prgama
>> pack() so it does not change anything.
>>
>
> Wonderful! Removed. This is what I have now:
>
> @ ECHO OFF
> SET PATH=e:\bcc55\bin
> CALL make_b32 clean
> CALL make_b32
> CD contrib
> CALL make_b32_all clean
> CALL make_b32_all
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/dfe99881/attachment-0001.html
From druzus at acn.waw.pl  Wed Feb 11 14:34:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 14:29:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10235] trunk/harbour
In-Reply-To: <E1LXKPJ-0006Fl-Ci@bj8yhf1.ch3.sourceforge.com>
References: <E1LXKPJ-0006Fl-Ci@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20090211193430.GA22510@uran.home.aster.pl>

On Wed, 11 Feb 2009, vszakats@users.sourceforge.net wrote:

Hi,

>   * source/rtl/binnum.c
>     * Added rewritten versions of these functions, now with 
>       a proper license: BIN2W(), BIN2I(), BIN2L(), I2BIN(), L2BIN()

Thanks,
BTW maybe we should also update binumx.c functions to work in similar
way, f.e.:

   HB_FUNC( BIN2U )
   {
      PHB_ITEM pItem = hb_param( 1, HB_IT_STRING );
      UINT32 uiResult = 0;

      if( pItem )
      {
         ULONG ulLen = hb_itemGetCLen( pItem );
         if( ulLen )
         {
            const char * pszString = hb_itemGetCPtr( pItem );
            if( ulLen >= 3 )
               iResult = HB_GET_LE_UINT32( pszString );
            else
               iResult = HB_GET_LE_UINT16( pszString );
         }
      }
      hb_retnint( uiResult );
   }

   HB_FUNC( U2BIN )
   {
      char szResult[ 4 ];
      UINT32 iValue = ( UINT32 ) hb_parnint( 1 );
      HB_PUT_LE_UINT32( szResult, iValue );
      hb_retclen( szResult, 4 );
   }

   HB_FUNC( W2BIN )
   {
      char szResult[ 2 ];
      UINT16 uiValue = ( UINT16 ) hb_parni( 1 );
      HB_PUT_LE_UINT16( szResult, uiValue );
      hb_retclen( szResult, 4 );
   }

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Feb 11 14:41:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 14:41:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10236] trunk/harbour
Message-ID: <E1LXKxU-0001Xy-Iy@74yxhf1.ch3.sourceforge.com>

Revision: 10236
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10236&view=rev
Author:   vszakats
Date:     2009-02-11 19:41:19 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 20:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/binnumx.c
    * Added rewritten versions of these functions:
      a proper license: BIN2U(), W2BIN(), U2BIN()
    ; Work of Przemek.

  * source/rtl/binnum.c
    ! Readded old copyright holder as co-holder.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/binnum.c
    trunk/harbour/source/rtl/binnumx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 11 14:46:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 14:46:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10237]
	trunk/harbour/source/rtl/binnumx.c
Message-ID: <E1LXL22-0001ho-Ej@74yxhf1.ch3.sourceforge.com>

Revision: 10237
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10237&view=rev
Author:   vszakats
Date:     2009-02-11 19:46:02 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
minor mistake in prev commit

Modified Paths:
--------------
    trunk/harbour/source/rtl/binnumx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 11 14:49:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 11 14:49:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10238]
	trunk/harbour/source/rtl/binnumx.c
Message-ID: <E1LXL53-0001l5-HN@74yxhf1.ch3.sourceforge.com>

Revision: 10238
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10238&view=rev
Author:   vszakats
Date:     2009-02-11 19:49:09 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
and some minor typos in code

Modified Paths:
--------------
    trunk/harbour/source/rtl/binnumx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 11 15:31:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 15:31:52 2009
Subject: [Harbour] 1.1 pending items
In-Reply-To: <18d502870902111102s282e4a56p3410ddce0f84488e@mail.gmail.com>
References: <18d502870902091854x1ddea7a2s39a04362c7b33e32@mail.gmail.com>
	<609353e70902110354wead593gfa0f32ce417feddc@mail.gmail.com>
	<18d502870902110419s1d3bce27k5eff61f352a894ca@mail.gmail.com>
	<20090211123727.GB29141@uran.home.aster.pl>
	<18d502870902110456i5ff7fe3er831a4260a2d65927@mail.gmail.com>
	<49931E69.7010608@yahoo.com.br>
	<18d502870902111102s282e4a56p3410ddce0f84488e@mail.gmail.com>
Message-ID: <609353e70902111231x4622bd62waf761d0e1feb111d@mail.gmail.com>

Have you installed in c:\devl\gtk?

2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>

> Thanks Marcos,
> This is perfect, no installer please.
>
> Brgds,
> Viktor
>
> On Wed, Feb 11, 2009 at 7:52 PM, Marcos Gambeta <
> marcos.gambeta@yahoo.com.br> wrote:
>
>> Viktor Szak?ts escreveu:
>> > BTW, if anyone has experience with building XHGTK on Windows,
>> > I'd appreciate any information.
>>
>> I am using this package with xHGTK library (Windows Vista):
>>
>> http://www.4shared.com/file/80890683/3601dedc/gtk-2147-win32.html
>>
>> GTK+ 2.14.7
>> GLib 2.18.4
>> ATK 1.24.0
>> Cairo 1.8.6
>> Pango 1.22.2
>> Glade 2.12.1
>> Glade 3.0.2
>>
>> Only download, unzip and add c:\gtk\bin to PATH.
>>
>> I am planning a installer (one version for runtime and other for
>> runtime/development), but don't have time to work on it now. And the package
>> need some cleanup (some files are not necessary).
>>
>>
>> Regards,
>> Marcos Gambeta
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/4e27947b/attachment.html
From e.m.giordano at emagsoftware.it  Wed Feb 11 15:46:43 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 15:46:48 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
References: <20090211175303.GA11131@uran.home.aster.pl><37C661AF6D664E9BA1A566F3C289D47C@emag><20090211183700.GC11131@uran.home.aster.pl><0530FAB8C9DA4E03A5769D89D25A0DFB@emag>
	<609353e70902111121o6ea67657u735b4845448ce21f@mail.gmail.com>
Message-ID: <8FEA2B9A3CAE42D480995DEB48ADE604@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 20.21
Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?


> What about CALL make_b32_all install?

I don't need it. What else? :-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Wed Feb 11 16:01:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 16:01:53 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <8FEA2B9A3CAE42D480995DEB48ADE604@emag>
References: <20090211175303.GA11131@uran.home.aster.pl>
	<37C661AF6D664E9BA1A566F3C289D47C@emag>
	<20090211183700.GC11131@uran.home.aster.pl>
	<0530FAB8C9DA4E03A5769D89D25A0DFB@emag>
	<609353e70902111121o6ea67657u735b4845448ce21f@mail.gmail.com>
	<8FEA2B9A3CAE42D480995DEB48ADE604@emag>
Message-ID: <609353e70902111301g7f811bb2n287a4d3760a56c39@mail.gmail.com>

why you don't need it?i don't have any file in c:\harbour\lib without this
are only present on c:\harbour\lib\b32

2009/2/11 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>

>
> -----Messaggio Originale----- Da: "Massimo Belgrano" <mbelgrano@deltain.it
> >
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 11 febbraio 2009 20.21
> Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?
>
>
>  What about CALL make_b32_all install?
>>
>
> I don't need it. What else? :-)
>
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/5d32fc89/attachment.html
From e.m.giordano at emagsoftware.it  Wed Feb 11 16:09:01 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 11 16:09:05 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
References: <20090211175303.GA11131@uran.home.aster.pl><37C661AF6D664E9BA1A566F3C289D47C@emag><20090211183700.GC11131@uran.home.aster.pl><0530FAB8C9DA4E03A5769D89D25A0DFB@emag><609353e70902111121o6ea67657u735b4845448ce21f@mail.gmail.com><8FEA2B9A3CAE42D480995DEB48ADE604@emag>
	<609353e70902111301g7f811bb2n287a4d3760a56c39@mail.gmail.com>
Message-ID: <0318E5C3C310408D95E40F2DF72B7233@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 febbraio 2009 22.01
Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?


> why you don't need it?

I have my way of organize things. :-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Wed Feb 11 16:12:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 16:12:11 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <0318E5C3C310408D95E40F2DF72B7233@emag>
References: <20090211175303.GA11131@uran.home.aster.pl>
	<37C661AF6D664E9BA1A566F3C289D47C@emag>
	<20090211183700.GC11131@uran.home.aster.pl>
	<0530FAB8C9DA4E03A5769D89D25A0DFB@emag>
	<609353e70902111121o6ea67657u735b4845448ce21f@mail.gmail.com>
	<8FEA2B9A3CAE42D480995DEB48ADE604@emag>
	<609353e70902111301g7f811bb2n287a4d3760a56c39@mail.gmail.com>
	<0318E5C3C310408D95E40F2DF72B7233@emag>
Message-ID: <609353e70902111312q452b0ea3s434ed46e6937a1ec@mail.gmail.com>

ok. good for you good for all

2009/2/11 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>

>
> -----Messaggio Originale----- Da: "Massimo Belgrano" <mbelgrano@deltain.it
> >
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 11 febbraio 2009 22.01
> Oggetto: Re: [Harbour] Wich var enviroment you set for compiling harbour?
>
>
>  why you don't need it?
>>
>
> I have my way of organize things. :-)
>
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/7b308156/attachment-0001.html
From fsgiudice at users.sourceforge.net  Wed Feb 11 16:37:01 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Wed Feb 11 16:37:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10239] trunk/harbour
Message-ID: <E1LXMlR-0005s6-8C@c3vjzd1.ch3.sourceforge.com>

Revision: 10239
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10239&view=rev
Author:   fsgiudice
Date:     2009-02-11 21:37:00 +0000 (Wed, 11 Feb 2009)

Log Message:
-----------
2009-02-11 22:36 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/rddsql/sddfb/make_vc.bat
    * fixed typo
      ; NOTE: Viktor pls check me, this is my first build with MSVC.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/make_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 11 17:05:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 17:05:57 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
Message-ID: <609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>

Now i receive this error
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
9.0\VC\BIN
\link.exe"' : codice restituito '0x460'



2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>

> Try this:
> ---
> set WindowsSDKDir=C:\Program Files\Microsoft SDKs\Windows\v6.0A\
> call "C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>
> set HB_VISUALC_VER=90
>
> set HB_ARCHITECTURE=win
> set HB_COMPILER=msvc
> ---
>
> Brgds,
> Viktor
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/5f02fb8a/attachment.html
From harbour.01 at syenar.hu  Wed Feb 11 17:11:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 17:11:22 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
Message-ID: <18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>

Check make_vc.log for the actual error message generated by link.exe.

On Wed, Feb 11, 2009 at 11:05 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Now i receive this error
> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
> 9.0\VC\BIN
> \link.exe"' : codice restituito '0x460'
>
>
>
> 2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>
>
>> Try this:
>> ---
>> set WindowsSDKDir=C:\Program Files\Microsoft SDKs\Windows\v6.0A\
>> call "C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>>
>> set HB_VISUALC_VER=90
>>
>> set HB_ARCHITECTURE=win
>> set HB_COMPILER=msvc
>> ---
>>
>> Brgds,
>> Viktor
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/85084956/attachment.html
From harbour.01 at syenar.hu  Wed Feb 11 17:22:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 11 17:22:59 2009
Subject: [Harbour] xhgtk and Harbour
In-Reply-To: <20090211173502.GA23194@uran.home.aster.pl>
References: <18d502870902110919k2c41af88v5c56889d1f2dd59e@mail.gmail.com>
	<20090211173502.GA23194@uran.home.aster.pl>
Message-ID: <18d502870902111422u1c6c77dep9ddd333fe78460c0@mail.gmail.com>

Hi Przemek,
I've successfully created xhgtk lib using MinGW,
but for some reason, the .dll creation you've suggested
throws thousands of errors similar to this:
./libxhgtk.a/TWindow.o:TWindow.c:(.text+0x37): undefined reference to
`hb_vmExecute'

Do you have any idea what could be missing?

--- xhgtk-mingw-4.1.2.bat
@echo off

call devenvsetup-mingw-4.1.2.bat
call devenvsetup-hb-1.1.bat

rem ; From: http://www.gtk.org/download-windows.html
set GTK_BASEPATH=C:/devl/gtk+-2.14.7
set PATH=C:\devl\gtk+-2.14.7\bin;C:\devl\pkg-config-0.23\bin;%PATH%
set PKG_CONFIG_PATH=%GTK_BASEPATH%/lib/pkgconfig
set PKG_CONFIG_PATH=%PKG_CONFIG_PATH%;C:/devl/glib-2.18.4/lib/pkgconfig
set PKG_CONFIG_PATH=%PKG_CONFIG_PATH%;C:/devl/pango-1.22.4/lib/pkgconfig
set PKG_CONFIG_PATH=%PKG_CONFIG_PATH%;C:/devl/cairo-1.8.6/lib/pkgconfig
set PKG_CONFIG_PATH=%PKG_CONFIG_PATH%;C:/devl/atk-1.24.0/lib/pkgconfig
set PKG_CONFIG_PATH=%PKG_CONFIG_PATH%;C:/devl/png-1.2.34/lib/pkgconfig
rem ; From: http://gladewin32.sourceforge.net/
set PKG_CONFIG_PATH=%PKG_CONFIG_PATH%;C:/devl/gtk-dev-2.12.9/lib/pkgconfig

copy "C:\devl\glib-2.18.4\lib\glib-2.0\include\glibconfig.h"
"C:\devl\glib-2.18.4\include\glib-2.0\glibconfig.h"
copy "C:\devl\gtk+-2.14.7\lib\gtk-2.0\include\gdkconfig.h"
"C:\devl\gtk+-2.14.7\include\gtk-2.0\gdkconfig.h"

set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%/bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%/lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%/include

set HB_COMPILER=mingw32

sh build.sh
sh -c '${HB_BIN_INSTALL}/hb-mkslib libxhgtk lib/libxhgtk.a `pkg-config
--libs gtk+-2.0 libglade-2.0`'
---

Brgds,
Viktor

On Wed, Feb 11, 2009 at 6:35 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Wed, 11 Feb 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
> > I'm happy to report, that GTK+ is in the Harbour.
> > Samples building / running just fine, after simply adding a few libs
> > to HB_USER_LIBS, -I for the headers and copying in the required RT .dlls.
> > Congrats for the xhgtk team, very nice job.
>
> You do not have to use this libs too if you are using MinGW or other
> GCC based compiler.
> Try to build xhgtk shared library by:
>   hb-mkslib libxhgtk libxhgtk.a `pkg-config --libs gtk+-2.0 libglade-2.0`
> It will have all references to extenral GTK libraries inside xhgtk.dll
> so all what you will have to do is adding -lxhgtk when you link your
> application.
> If you are using hb* scripts then you can also use -xhgtk switch for
> linking (hblnk or hbmk). In such case it will work also for static
> xhgtk lib.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090211/38915f2d/attachment.html
From druzus at acn.waw.pl  Wed Feb 11 18:57:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 18:52:36 2009
Subject: [Harbour] xhgtk and Harbour
In-Reply-To: <18d502870902111422u1c6c77dep9ddd333fe78460c0@mail.gmail.com>
References: <18d502870902110919k2c41af88v5c56889d1f2dd59e@mail.gmail.com>
	<20090211173502.GA23194@uran.home.aster.pl>
	<18d502870902111422u1c6c77dep9ddd333fe78460c0@mail.gmail.com>
Message-ID: <20090211235725.GA2140@uran.home.aster.pl>

On Wed, 11 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> I've successfully created xhgtk lib using MinGW,
> but for some reason, the .dll creation you've suggested
> throws thousands of errors similar to this:
> ./libxhgtk.a/TWindow.o:TWindow.c:(.text+0x37): undefined reference to
> `hb_vmExecute'
> Do you have any idea what could be missing?

Windows does not support late binding in share libraries so
you have to add harbour.dll to linked libraru list:
   hb-mkslib libxhgtk libxhgtk.a `pkg-config --libs gtk+-2.0 libglade-2.0` \
             -lharbour
(if necessary use also -L<path> to specify where harbour.dll is located)
and then create Harbour shared binaries.
The second method is creating wrapper for Harbour API functions used
by XHGTK and link it with xhgtk.dll.
harbour/source/vm/maindllp.c is example of such wrapper which can be
used with PCODE DLLs.
In fact this code should be divided.
We should have one file, let's call it maindll.c which will have only
hb_vmProcessSymbolsEx() and hb_vmExecute() functions. Only this functions
are necessary to linked compiled PCODE when -gc[0-2] is used.
The second files should have also all hb_xvm*() functions used by .prg
code compiled with -gc3.
The third one should have wrappers to extended API (hb_par*(), hb_ret*(),
hb_stor*()) functions and others which are defined as public API and
commonly used. F.e. hb_item*(), hb_array*(), hb_hash*(), etc.
>From this files we should create library, f.e. hbdll which will be used
in such cases (create .DLLs which can be linked with static or shared
Harbour application).
Now you can simply try to add maindllp.o to above hb-mkslib command:
   hb-mkslib libxhgtk maindllp.o libxhgtk.a \
             `pkg-config --libs gtk+-2.0 libglade-2.0` \
To see how it reduce the list of unresolved references and which functions
are still missing and should be added.

If you look at this wrapper then you will find two things which should
be precisely defined because they stop to work due to modified names:

#define HB_DLL_NAME  "harbour.dll"
#if defined( __BORLANDC__ )
#  define HB_DLL_NAME2 "harbour-b32.dll"
#elif defined( _MSC_VER )
#  define HB_DLL_NAME2 "harbour-vc.dll"
#endif

[...]

   if( s_hModule == NULL )
   {
      s_hModule = GetModuleHandle( HB_DLL_NAME );
#ifdef HB_DLL_NAME2
      if( s_hModule == NULL )
         s_hModule = GetModuleHandle( HB_DLL_NAME2 );
#endif
      if( s_hModule == NULL )
         s_hModule = GetModuleHandle( NULL );
   }

Now BCC and MSVC builds uses different names for DLLs then the old
ones defined in HB_DLL_NAME2 so this code will not detect it. I do
not know if in Windows it's possible to extract module handle using
wildcards, f.e. "harbour*.dll". It not then we have to define strict
naming rules and update build script and above code keeping the names
synced.
If application is linked with static HVM then
         s_hModule = GetModuleHandle( NULL );
returns handle to this module.
      pProcAddr = GetProcAddress( s_hModule, szProcName );
      if( pProcAddr == NULL && szProcName[ 0 ] == '_' )
         pProcAddr = GetProcAddress( s_hModule, szProcName + 1 );
extracts function addresses. To make it working also for static HVM
Harbour has to be compiled with exported public symbols (-DHB_DYNLIB)
In this code we already have hack for underscore prefix used by some
C compilers.


/* a little bit off-topic subject */

There is also small problem with functions using variable number of
parameters like: hb_parc( int iParam, ... ) which is also related to
other problem much more serious.
Personally I do not like this ... extended API feature because it breaks
code we all often used expecting default values for wrong types, f.e.:

   iVal = hb_parni( 1 ); /* default to 0 */

If used pass array as 1-st parameter then hb_parni() tries to used
unexisting 2-nd parameter as index to this array. On x86 machines it's
usually access to uninitialized memory used as array index so integer
value is extracted from the random item in passed array or 0 when it's
out of bound. When different ABI (calling convention) is used then it
may caused other unpredictable results. F.e. if hardware supports
stack frame protection then it may even cause SIGSEG or sth like that.

I would like to remove ... from all existing extended API functions
and add second set which can be used for Clipper compatibility to
replace _par*() and _stor*() functions, f.e.:
   int  hb_parni( int iParam );
   long hb_parnl( int iParam );
   [...]
   int  hb_vparni( int iParam, ... );
   long hb_vparnl( int iParam, ... );
   [...]
   int hb_storni( int iValue, int iParam );
   int hb_stornl( long lValue, int iParam );
   [...]
   int hb_vstorni( int iValue, int iParam, ... );
   int hb_vstornl( long lValue, int iParam, ... );

Such modification resolves the problem, still allows to use hb_v*()
functions in few places where it's usable and additional parameter
with array index is passed.

This is not directly related to .DLL problem but it's occasion to
refresh it and maybe implement soon.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Feb 11 19:12:35 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 11 19:12:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10240] trunk/harbour
Message-ID: <E1LXPBz-0003Vm-9T@dn4whf1.ch3.sourceforge.com>

Revision: 10240
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10240&view=rev
Author:   druzus
Date:     2009-02-12 00:12:34 +0000 (Thu, 12 Feb 2009)

Log Message:
-----------
2009-02-12 01:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/extend.c
    * formatting

  * harbour/contrib/gtwvg/wvgwin.c
    * pacified few warnings

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/source/vm/extend.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Wed Feb 11 19:28:57 2009
From: abe.buch at att.net (AbeB)
Date: Wed Feb 11 19:29:02 2009
Subject: [Harbour] inkey() & HB_K_RESIZE   % SET(_SET_EVENTMASK,
	INKEY_KEYBOARD )
Message-ID: <1234398537475-2312362.post@n2.nabble.com>


is it possible that even if SET(_SET_EVENTMASK, INKEY_KEYBOARD ) is used
inkey() will return HB_K_RESIZE   (1101)?
-- 
View this message in context: http://n2.nabble.com/inkey%28%29---HB_K_RESIZE-----SET%28_SET_EVENTMASK%2C-INKEY_KEYBOARD-%29-tp2312362p2312362.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Feb 11 19:39:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 11 19:40:00 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
Message-ID: <609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>

 link.exe @C:\Users\MBELGR~1\AppData\Local\Temp\nm9C4E.tmp
hbrtl.lib(scrollbr.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(teditor.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(ttextlin.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(checkbox.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(treport.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tlabel.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(memoedit.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(pushbtn.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tpopup.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tmenuitm.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(listbox.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tgetx.obj) : error LNK2019: riferimento al simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto nella funzione _HB_FUN_XPP_GET
hbrtl.lib(ttopbar.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(radiogrp.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(radiobtn.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tbcolumn.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tbrowse.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tscalar.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tthreadx.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(gui.obj) : error LNK2001: simbolo esterno _HB_FUN_HB_SYMBOL_UNUSED
non risolto
hbrtl.lib(tmenusys.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(getsys53.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrdd.lib(rddordu.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(getsys.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tgetlist.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(tget.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
hbrtl.lib(menusys.obj) : error LNK2001: simbolo esterno
_HB_FUN_HB_SYMBOL_UNUSED non risolto
bin\vc\hbrun.exe : fatal error LNK1120: 1 esterni non risolti


2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>

> Check make_vc.log for the actual error message generated by link.exe.
>
> On Wed, Feb 11, 2009 at 11:05 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>
>> Now i receive this error
>> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
>> 9.0\VC\BIN
>> \link.exe"' : codice restituito '0x460'
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/3db3c061/attachment.html
From vouchcac at users.sourceforge.net  Wed Feb 11 20:08:22 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 11 20:08:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10241] trunk/harbour
Message-ID: <E1LXQ3y-0008GK-8f@d5vjzd1.ch3.sourceforge.com>

Revision: 10241
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10241&view=rev
Author:   vouchcac
Date:     2009-02-12 01:08:20 +0000 (Thu, 12 Feb 2009)

Log Message:
-----------
2009-12-11 17:00 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wvgsink.c
  * harbour/contrib/gtwvg/wvgax.prg
  * harbour/contrib/gtwvg/wvgdlg.prg
  * harbour/contrib/gtwvg/wvgmenub.prg
  * harbour/contrib/gtwvg/wvgparts.ch
  * harbour/contrib/gtwvg/wvgphdlr.prg
  * harbour/contrib/gtwvg/wvgstatc.prg
  * harbour/contrib/gtwvg/wvgtoolb.prg
  * harbour/contrib/gtwvg/wvgwnd.prg
    ! Numerous enhancements and fixes, difficult to remember as 
      most are spread over a long time and where I had no means
      to update them. But all are synchronized with changes
      effected till date by others.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgax.prg
    trunk/harbour/contrib/gtwvg/wvgdlg.prg
    trunk/harbour/contrib/gtwvg/wvgmenub.prg
    trunk/harbour/contrib/gtwvg/wvgparts.ch
    trunk/harbour/contrib/gtwvg/wvgphdlr.prg
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgstatc.prg
    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Feb 11 20:08:48 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 11 20:08:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10225] trunk/harbour
In-Reply-To: <E1LXFQd-0005nm-7D@dn4whf1.ch3.sourceforge.com>
References: <E1LXFQd-0005nm-7D@dn4whf1.ch3.sourceforge.com>
Message-ID: <21968024.post@talk.nabble.com>


Log Message:
-----------
2009-02-11 14:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wvgsink.c
    * pacified MinGW warnings. This one:
      ../../wvgsink.c:368: warning: comparison of unsigned expression < 0
                                    is always false
      Should be checked by author. Pritpal can you look at it?
      'count' is declared as WORD so it cannot be negative.

cound now declared as int.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10225--trunk-harbour-tp21955079p21968024.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Feb 11 20:33:32 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 11 20:33:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10225] trunk/harbour
In-Reply-To: <E1LXFQd-0005nm-7D@dn4whf1.ch3.sourceforge.com>
References: <E1LXFQd-0005nm-7D@dn4whf1.ch3.sourceforge.com>
Message-ID: <21968298.post@talk.nabble.com>


Log Message:
-----------
2009-02-11 14:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wvgsink.c
    * pacified MinGW warnings. This one:
      ../../wvgsink.c:368: warning: comparison of unsigned expression < 0
                                    is always false
      Should be checked by author. Pritpal can you look at it?
      'count' is declared as WORD so it cannot be negative.

cound now declared as int.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10225--trunk-harbour-tp21955079p21968298.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Feb 11 20:54:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 20:49:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10225] trunk/harbour
In-Reply-To: <21968298.post@talk.nabble.com>
References: <E1LXFQd-0005nm-7D@dn4whf1.ch3.sourceforge.com>
	<21968298.post@talk.nabble.com>
Message-ID: <20090212015439.GA14144@uran.home.aster.pl>

On Wed, 11 Feb 2009, Pritpal Bedi wrote:

Hi Pritpal,

> 2009-02-11 14:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/gtwvg/wvgwin.c
>   * harbour/contrib/gtwvg/wvgsink.c
>     * pacified MinGW warnings. This one:
>       ../../wvgsink.c:368: warning: comparison of unsigned expression < 0
>                                     is always false
>       Should be checked by author. Pritpal can you look at it?
>       'count' is declared as WORD so it cannot be negative.
> cound now declared as int.

Thank you. I'm not familiar with this code so I didn't know if simple
type modification is enough in this case.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Feb 11 20:59:21 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 11 20:54:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10241] trunk/harbour
In-Reply-To: <E1LXQ3y-0008GK-8f@d5vjzd1.ch3.sourceforge.com>
References: <E1LXQ3y-0008GK-8f@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20090212015921.GA23196@uran.home.aster.pl>

On Thu, 12 Feb 2009, vouchcac@users.sourceforge.net wrote:

Hi Pritpal,

> 2009-12-11 17:00 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/contrib/gtwvg/wvgwin.c
[...]

hbwapi.h included by wvgwin.c seems to be missing.

best regards,
Przemek
From bedipritpal at hotmail.com  Wed Feb 11 21:06:17 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 11 21:06:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10241] trunk/harbour
In-Reply-To: <20090212015921.GA23196@uran.home.aster.pl>
References: <E1LXQ3y-0008GK-8f@d5vjzd1.ch3.sourceforge.com>
	<20090212015921.GA23196@uran.home.aster.pl>
Message-ID: <21968608.post@talk.nabble.com>


Hi


Przemyslaw Czerpak-2 wrote:
> 
> hbwapi.h included by wvgwin.c seems to be missing.
> 

Ooops. I was experimenting something.
Can be commented out.

hbwapi.h will be extended as

#ifndef __HBWAPI_H

   #define __HBWAPI_H

   #include "hbapi.h"
   #include "hbapiitm.h"

   /*
       If we implement pointers than we need to return back pointers in all
       those functions which return a handle. My existing code checks for
the
       return values and compare it against some numeric. So for time being
       I am deferring the use of pointers till we come up with a common
solution.

       #define wapi_par_WPARAM( n )    ( ( WPARAM ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   */

   #define wapi_par_WNDPROC( n )   ( ( WNDPROC   ) ( HB_PTRDIFF )
hb_parnint( n ) )
   #define wapi_par_WPARAM( n )    ( ( WPARAM    ) ( HB_PTRDIFF )
hb_parnint( n ) )
   #define wapi_par_LPARAM( n )    ( ( LPARAM    ) ( HB_PTRDIFF )
hb_parnint( n ) )

   #define wapi_par_HWND( n )      ( ( HWND      ) ( HB_PTRDIFF )
hb_parnint( n ) )
   #define wapi_par_HDC( n )       ( ( HDC       ) ( HB_PTRDIFF )
hb_parnint( n ) )
   #define wapi_par_HANDLE( n )    ( ( HANDLE    ) ( HB_PTRDIFF )
hb_parnint( n ) )
   #define wapi_par_HGDIOBJ( n )   ( ( HGDIOBJ   ) ( HB_PTRDIFF )
hb_parnint( n ) )
   #define wapi_par_HBITMAP( n )   ( ( HBITMAP   ) ( HB_PTRDIFF )
hb_parnint( n ) )
   #define wapi_par_HFONT( n )     ( ( HFONT     ) ( HB_PTRDIFF )
hb_parnint( n ) )
   #define wapi_par_HINSTANCE( n ) ( ( HINSTANCE ) ( HB_PTRDIFF )
hb_parnint( n ) )

   #define wapi_par_COLORREF( n )  ( ( COLORREF  ) ( HB_PTRDIFF )
hb_parnint( n ) )
   #define wapi_par_STRUCT( n )    ( hb_parc( n ) )

   #define wapi_ret_HANDLE( n )    ( hb_retnint( ( HB_PTRDIFF ) n ) )
   #define wapi_ret_HRESULT( hr )  ( hb_retnint( ( HB_PTRDIFF ) hr ) )


#endif //__HBWAPI_H



I propose to place it in harbour/include, right?

I will be commenting out hbwapi.h in wvgwin.c.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10241--trunk-harbour-tp21968021p21968608.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Wed Feb 11 21:10:37 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 11 21:10:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10242] trunk/harbour
Message-ID: <E1LXR2D-0001ug-5U@3kljzd1.ch3.sourceforge.com>

Revision: 10242
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10242&view=rev
Author:   vouchcac
Date:     2009-02-12 02:10:36 +0000 (Thu, 12 Feb 2009)

Log Message:
-----------
2009-12-11 18:09 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgwin.c
    - #include "hbwapi.h"

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Feb 11 21:24:57 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 11 21:25:00 2009
Subject: [Harbour] inkey() & HB_K_RESIZE   % SET(_SET_EVENTMASK,
	INKEY_KEYBOARD )
In-Reply-To: <1234398537475-2312362.post@n2.nabble.com>
References: <1234398537475-2312362.post@n2.nabble.com>
Message-ID: <21968790.post@talk.nabble.com>


Abeb


Abeb wrote:
> 
> is it possible that even if SET(_SET_EVENTMASK, INKEY_KEYBOARD ) is used
> inkey() will return HB_K_RESIZE   (1101)?
> 

Which GT? GTWVT ?

HB_K_RESIZE is not honoring EVENTMASKs. 
Any practical reason you want to disable it?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/inkey%28%29---HB_K_RESIZE-----SET%28_SET_EVENTMASK%2C-INKEY_KEYBOARD-%29-tp21967614p21968790.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Wed Feb 11 23:20:02 2009
From: philb at philb.us (Phil Barnett)
Date: Wed Feb 11 23:20:10 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>	<20090210140524.GA23952@uran.home.aster.pl>	<49919C07.7000700@dbtopas.lt>	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
Message-ID: <4993A372.1080105@philb.us>

Viktor Szak?ts wrote:
> Very ugly indeed. Well, I think offset is pretty much enough for most 
> practical business purposes, and it doesn't block the way for 3rd party 
> tools to implement "proper" (if we can use this word for the TZ system 
> of the world in practice ;) TZ support with all the gory details of it.
>
> I have no idea however, how to introduce offset in syntaxes in an 
> elegant way, especially in the fixed position format.
I believe that the last time this came up, I pointed out that I had 
completed all the necessary julian functions in both ANSI C and Clipper 
code and have had it posted for over 10 years on The Oasis. But as far 
as I know, nobody looked at it.

I used these functions successfully in Time and Attendance software that 
was sold all over the US for a decade.

The format is simple and the conversion functions are very fast.

http://www.the-oasis.net/files/general/julian.zip contains the .prg 
code, I have the .c code here somewhere if you want it.
From harbour.01 at syenar.hu  Thu Feb 12 00:02:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 00:02:05 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
Message-ID: <18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>

Create a fresh checkout and do clean build.

On Thu, Feb 12, 2009 at 1:39 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> link.exe @C:\Users\MBELGR~1\AppData\Local\Temp\nm9C4E.tmp
> hbrtl.lib(scrollbr.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(teditor.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(ttextlin.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(checkbox.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(treport.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tlabel.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(memoedit.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(pushbtn.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tpopup.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tmenuitm.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(listbox.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tgetx.obj) : error LNK2019: riferimento al simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto nella funzione _HB_FUN_XPP_GET
> hbrtl.lib(ttopbar.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(radiogrp.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(radiobtn.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tbcolumn.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tbrowse.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tscalar.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tthreadx.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(gui.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tmenusys.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(getsys53.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrdd.lib(rddordu.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(getsys.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tgetlist.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(tget.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> hbrtl.lib(menusys.obj) : error LNK2001: simbolo esterno
> _HB_FUN_HB_SYMBOL_UNUSED non risolto
> bin\vc\hbrun.exe : fatal error LNK1120: 1 esterni non risolti
>
>
> 2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>
>
>> Check make_vc.log for the actual error message generated by link.exe.
>>
>> On Wed, Feb 11, 2009 at 11:05 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>>
>>> Now i receive this error
>>> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
>>> 9.0\VC\BIN
>>> \link.exe"' : codice restituito '0x460'
>>>
>>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/294b1106/attachment.html
From harbour.01 at syenar.hu  Thu Feb 12 01:09:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 01:09:34 2009
Subject: [Harbour] xhgtk and Harbour
In-Reply-To: <20090211235725.GA2140@uran.home.aster.pl>
References: <18d502870902110919k2c41af88v5c56889d1f2dd59e@mail.gmail.com>
	<20090211173502.GA23194@uran.home.aster.pl>
	<18d502870902111422u1c6c77dep9ddd333fe78460c0@mail.gmail.com>
	<20090211235725.GA2140@uran.home.aster.pl>
Message-ID: <18d502870902112209ye3e68fdtc0bc214feda0bbbf@mail.gmail.com>

Hi Przemek,


> > ./libxhgtk.a/TWindow.o:TWindow.c:(.text+0x37): undefined reference to
> > `hb_vmExecute'
> > Do you have any idea what could be missing?
>
> Windows does not support late binding in share libraries so
> you have to add harbour.dll to linked libraru list:
>   hb-mkslib libxhgtk libxhgtk.a `pkg-config --libs gtk+-2.0 libglade-2.0` \
>             -lharbour
> (if necessary use also -L<path> to specify where harbour.dll is located)
> and then create Harbour shared binaries.


Nice, now there is libxhgtk.so created without errors.


> The second method is creating wrapper for Harbour API functions used
> by XHGTK and link it with xhgtk.dll.
> harbour/source/vm/maindllp.c is example of such wrapper which can be
> used with PCODE DLLs.
> Now you can simply try to add maindllp.o to above hb-mkslib command:
>   hb-mkslib libxhgtk maindllp.o libxhgtk.a \
>             `pkg-config --libs gtk+-2.0 libglade-2.0` \
> To see how it reduce the list of unresolved references and which functions
> are still missing and should be added.


Hm, thanks for the details here I was always wondering
what is the purpose of that file. But still, what I don't see,
is whether all these complications worth the effort? What
are the benefits?


> #define HB_DLL_NAME  "harbour.dll"
> #if defined( __BORLANDC__ )
> #  define HB_DLL_NAME2 "harbour-b32.dll"
> #elif defined( _MSC_VER )
> #  define HB_DLL_NAME2 "harbour-vc.dll"
> #endif


I'll correct this ASAP.

Now BCC and MSVC builds uses different names for DLLs then the old
> ones defined in HB_DLL_NAME2 so this code will not detect it. I do
> not know if in Windows it's possible to extract module handle using
> wildcards, f.e. "harbour*.dll". It not then we have to define strict
> naming rules and update build script and above code keeping the names
> synced.


Did a try, but GetModuleHandle() didn't pick up
Harbour .dll at all for some reason. Maybe I just haven't
waken up properly yet.

---
PROC MAIN()

? Empty( HND("gdi32.dll") ) // .T.
? Empty( HND("harbour*.dll") ) // .F.
? Empty( HND("harbour-*.dll") ) // .F.
? Empty( HND("harbour-11-vc.dll") ) // .F.

#pragma begindump

#include <windows.h>
#include "hbapi.h"

HB_FUNC( HND )
{
   hb_retptr( GetModuleHandle( hb_parc( 1 ) ) );
}

#pragma enddump
---


> /* a little bit off-topic subject */
>
> There is also small problem with functions using variable number of
> parameters like: hb_parc( int iParam, ... ) which is also related to
> other problem much more serious.
> Personally I do not like this ... extended API feature because it breaks
> code we all often used expecting default values for wrong types, f.e.:
>
>   iVal = hb_parni( 1 ); /* default to 0 */
>
> If used pass array as 1-st parameter then hb_parni() tries to used
> unexisting 2-nd parameter as index to this array. On x86 machines it's
> usually access to uninitialized memory used as array index so integer
> value is extracted from the random item in passed array or 0 when it's
> out of bound. When different ABI (calling convention) is used then it
> may caused other unpredictable results. F.e. if hardware supports
> stack frame protection then it may even cause SIGSEG or sth like that.
>
> I would like to remove ... from all existing extended API functions
> and add second set which can be used for Clipper compatibility to
> replace _par*() and _stor*() functions, f.e.:
>   int  hb_parni( int iParam );
>   long hb_parnl( int iParam );
>   [...]
>   int  hb_vparni( int iParam, ... );
>   long hb_vparnl( int iParam, ... );
>   [...]
>   int hb_storni( int iValue, int iParam );
>   int hb_stornl( long lValue, int iParam );
>   [...]
>   int hb_vstorni( int iValue, int iParam, ... );
>   int hb_vstornl( long lValue, int iParam, ... );
>
> Such modification resolves the problem, still allows to use hb_v*()
> functions in few places where it's usable and additional parameter
> with array index is passed.
>
> This is not directly related to .DLL problem but it's occasion to
> refresh it and maybe implement soon.


Please do it. It's a very important problem, probably
also a security hole.

Only one thing I'd suggest here, maybe hb_storniv(),
hb_*v() function names would be better here to let them
align and group well, and make grepping more straightforward.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/999c63e9/attachment.html
From mbelgrano at deltain.it  Thu Feb 12 02:25:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 12 02:25:17 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
Message-ID: <609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>

I Made a snv update BUT Still receive error but i will  try on a clean
machine at soon  as possible
SET HB_DIR_ADS=C:\PROGRAMMI\Extended Systems\Advantage 8.1\acesdk
SET HB_ARCHITECTURE=WIN
SET MSVCDIR=C:\Programmi\Microsoft Visual Studio 9.0\VC
SET PLATFORM=C:\Programmi\Microsoft Visual Studio 2008 SDK
SET HB_COMPILER=msvc
SET HB_VISUALC_VER=90
SET HB_BIN_INSTALL=C:\HARBOUR\BIN
SET HB_LIB_INSTALL=C:\HARBOUR\LIB
SET HB_INC_INSTALL=C:\HARBOUR\INCLUDE
SET INCLUDE=%MSVCDir%\INCLUDE;%PLATFORM%\INCLUDE;c:\HARBOUR\INCLUDE
SET LIB=%PLATFORM%\Lib;%MSVCDir%\LIB;C:\HARBOUR\LIB
CD \HARBOUR
CALL MAKE_VC CLEAN
CALL MAKE_VC


2009/2/12 Viktor Szak?ts <harbour.01@syenar.hu>

> Create a fresh checkout and do clean build.
>
> On Thu, Feb 12, 2009 at 1:39 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>
>> link.exe @C:\Users\MBELGR~1\AppData\Local\Temp\nm9C4E.tmp
>> hbrtl.lib(scrollbr.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(teditor.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(ttextlin.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(checkbox.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(treport.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tlabel.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(memoedit.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(pushbtn.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tpopup.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tmenuitm.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(listbox.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tgetx.obj) : error LNK2019: riferimento al simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto nella funzione _HB_FUN_XPP_GET
>> hbrtl.lib(ttopbar.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(radiogrp.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(radiobtn.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tbcolumn.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tbrowse.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tscalar.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tthreadx.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(gui.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tmenusys.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(getsys53.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrdd.lib(rddordu.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(getsys.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tgetlist.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tget.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(menusys.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> bin\vc\hbrun.exe : fatal error LNK1120: 1 esterni non risolti
>>
>>
>> 2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>
>>
>>> Check make_vc.log for the actual error message generated by link.exe.
>>>
>>> On Wed, Feb 11, 2009 at 11:05 PM, Massimo Belgrano <mbelgrano@deltain.it
>>> > wrote:
>>>
>>>> Now i receive this error
>>>> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
>>>> 9.0\VC\BIN
>>>> \link.exe"' : codice restituito '0x460'
>>>>
>>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/a153f1c2/attachment-0001.html
From harbour.01 at syenar.hu  Thu Feb 12 02:30:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 02:30:43 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
Message-ID: <18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>

Massimo, please note that you're _again_ trying with the wrong build script.
You obviously don't read the answers, and this way this thread is a waste of
time.

Brgds,
Viktor

On Thu, Feb 12, 2009 at 8:25 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I Made a snv update BUT Still receive error but i will  try on a clean
> machine at soon  as possible
> SET HB_DIR_ADS=C:\PROGRAMMI\Extended Systems\Advantage 8.1\acesdk
> SET HB_ARCHITECTURE=WIN
> SET MSVCDIR=C:\Programmi\Microsoft Visual Studio 9.0\VC
> SET PLATFORM=C:\Programmi\Microsoft Visual Studio 2008 SDK
> SET HB_COMPILER=msvc
> SET HB_VISUALC_VER=90
> SET HB_BIN_INSTALL=C:\HARBOUR\BIN
> SET HB_LIB_INSTALL=C:\HARBOUR\LIB
> SET HB_INC_INSTALL=C:\HARBOUR\INCLUDE
> SET INCLUDE=%MSVCDir%\INCLUDE;%PLATFORM%\INCLUDE;c:\HARBOUR\INCLUDE
> SET LIB=%PLATFORM%\Lib;%MSVCDir%\LIB;C:\HARBOUR\LIB
> CD \HARBOUR
> CALL MAKE_VC CLEAN
> CALL MAKE_VC
>
>
> 2009/2/12 Viktor Szak?ts <harbour.01@syenar.hu>
>
> Create a fresh checkout and do clean build.
>>
>> On Thu, Feb 12, 2009 at 1:39 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>>
>>> link.exe @C:\Users\MBELGR~1\AppData\Local\Temp\nm9C4E.tmp
>>> hbrtl.lib(scrollbr.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(teditor.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(ttextlin.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(checkbox.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(treport.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tlabel.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(memoedit.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(pushbtn.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tpopup.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tmenuitm.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(listbox.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tgetx.obj) : error LNK2019: riferimento al simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto nella funzione _HB_FUN_XPP_GET
>>> hbrtl.lib(ttopbar.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(radiogrp.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(radiobtn.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tbcolumn.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tbrowse.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tscalar.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tthreadx.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(gui.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tmenusys.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(getsys53.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrdd.lib(rddordu.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(getsys.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tgetlist.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(tget.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> hbrtl.lib(menusys.obj) : error LNK2001: simbolo esterno
>>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>>> bin\vc\hbrun.exe : fatal error LNK1120: 1 esterni non risolti
>>>
>>>
>>> 2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>
>>>
>>>> Check make_vc.log for the actual error message generated by link.exe.
>>>>
>>>> On Wed, Feb 11, 2009 at 11:05 PM, Massimo Belgrano <
>>>> mbelgrano@deltain.it> wrote:
>>>>
>>>>> Now i receive this error
>>>>> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
>>>>> 9.0\VC\BIN
>>>>> \link.exe"' : codice restituito '0x460'
>>>>>
>>>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/6c3e48d4/attachment.html
From mbelgrano at deltain.it  Thu Feb 12 02:46:51 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 12 02:46:55 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
Message-ID: <609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>

Sorry now Create a fresh checkout by tortoisesvnright click on c drive and
 svn checout of
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
in a few second was done

and do clean build by
SET HB_DIR_ADS=C:\PROGRAMMI\Extended Systems\Advantage 8.1\acesdk
SET HB_ARCHITECTURE=WIN
SET MSVCDIR=C:\Programmi\Microsoft Visual Studio 9.0\VC
SET PLATFORM=C:\Programmi\Microsoft Visual Studio 2008 SDK
SET HB_COMPILER=msvc
SET HB_VISUALC_VER=90
SET HB_BIN_INSTALL=C:\HARBOUR\BIN
SET HB_LIB_INSTALL=C:\HARBOUR\LIB
SET HB_INC_INSTALL=C:\HARBOUR\INCLUDE
SET INCLUDE=%MSVCDir%\INCLUDE;%PLATFORM%\INCLUDE;c:\HARBOUR\INCLUDE
SET LIB=%PLATFORM%\Lib;%MSVCDir%\LIB;C:\HARBOUR\LIB
CD \HARBOUR
CALL MAKE_VC CLEAN
CALL MAKE_VC

but i have receive same eror
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/c262abfa/attachment.html
From harbour.01 at syenar.hu  Thu Feb 12 03:10:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 03:10:33 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
Message-ID: <18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>

Sorry, I cannot help you, we're circling around and you don't seem to make
an effort to read and interpret
the answers to your own questions. For better results,
please take the time and re-read this thread, or at least
the last few messages. All information is there.

If this isn't enough, read the documentation of MSVC,
about how to set it up properly, and double check your
environment, and if it still fails post your log output,
maybe someone can help.

Brgds,
Viktor

On Thu, Feb 12, 2009 at 8:46 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Sorry now Create a fresh checkout by tortoisesvnright click on c drive and
>  svn checout of
>
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
> in a few second was done
>
> and do clean build by
> SET HB_DIR_ADS=C:\PROGRAMMI\Extended Systems\Advantage 8.1\acesdk
> SET HB_ARCHITECTURE=WIN
> SET MSVCDIR=C:\Programmi\Microsoft Visual Studio 9.0\VC
> SET PLATFORM=C:\Programmi\Microsoft Visual Studio 2008 SDK
> SET HB_COMPILER=msvc
> SET HB_VISUALC_VER=90
> SET HB_BIN_INSTALL=C:\HARBOUR\BIN
> SET HB_LIB_INSTALL=C:\HARBOUR\LIB
> SET HB_INC_INSTALL=C:\HARBOUR\INCLUDE
> SET INCLUDE=%MSVCDir%\INCLUDE;%PLATFORM%\INCLUDE;c:\HARBOUR\INCLUDE
> SET LIB=%PLATFORM%\Lib;%MSVCDir%\LIB;C:\HARBOUR\LIB
> CD \HARBOUR
> CALL MAKE_VC CLEAN
> CALL MAKE_VC
>
> but i have receive same eror
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/00b532b1/attachment.html
From petr_ch at users.sourceforge.net  Thu Feb 12 04:13:23 2009
From: petr_ch at users.sourceforge.net (petr_ch@users.sourceforge.net)
Date: Thu Feb 12 04:13:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10243]
	trunk/harbour/source/lang
Message-ID: <E1LXXdL-0008Rj-TO@d5vjzd1.ch3.sourceforge.com>

Revision: 10243
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10243&view=rev
Author:   petr_ch
Date:     2009-02-12 09:13:22 +0000 (Thu, 12 Feb 2009)

Log Message:
-----------
2009-02-12 01:49 UTC+0200 Petr Chornyj (myorg63 at mail.ru)
  * /source/lang/msguawin.c
  * /source/lang/msgua866.c
  * /source/lang/msguakoi.c
    * Corrected bad Ukrainian localization

Modified Paths:
--------------
    trunk/harbour/source/lang/msgua866.c
    trunk/harbour/source/lang/msguakoi.c
    trunk/harbour/source/lang/msguawin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From petr_ch at users.sourceforge.net  Thu Feb 12 04:46:17 2009
From: petr_ch at users.sourceforge.net (petr_ch@users.sourceforge.net)
Date: Thu Feb 12 04:46:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10244] trunk/harbour
Message-ID: <E1LXY9B-00070I-TS@dn4whf1.ch3.sourceforge.com>

Revision: 10244
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10244&view=rev
Author:   petr_ch
Date:     2009-02-12 09:46:17 +0000 (Thu, 12 Feb 2009)

Log Message:
-----------
2009-02-12 11:43 UTC+0200 Petr Chornyj (myorg63 at mail.ru)
  * /source/lang/msguawin.c
  * /source/lang/msgua866.c
  * /source/lang/msguakoi.c
    * Minor changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/lang/msgua866.c
    trunk/harbour/source/lang/msguakoi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb 12 05:03:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 12 05:03:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10245] trunk/harbour
Message-ID: <E1LXYQ6-00009r-6z@dn4whf1.ch3.sourceforge.com>

Revision: 10245
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10245&view=rev
Author:   vszakats
Date:     2009-02-12 10:03:45 +0000 (Thu, 12 Feb 2009)

Log Message:
-----------
2009-02-12 10:57 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbsetup.h
  * include/hbapi.h
  * source/common/hbprintf.c
  * source/common/hbstr.c
    + Temporarily enabled local hb_snprintf() implementation.
    ; Please test. If it's okay, we can enable it permanently.

  * contrib/rddsql/sddmy/make_b32.bat
  * contrib/rddsql/sddmy/make_vc.bat
  * contrib/rddsql/sddpg/make_b32.bat
  * contrib/rddsql/sddpg/make_vc.bat
  * contrib/rddsql/sddfb/make_b32.bat
  * contrib/rddsql/sddfb/make_vc.bat
    ! Fixed typos for VC flavours.
    % Removed unnecessary INCLUDE path.

  * source/vm/maindllp.c
    ! Updated dll name for Borland and MSVC.

  * source/lang/msguawin.c
  * source/lang/msgua866.c
  * source/lang/msguakoi.c
    ! Fixed corrupted equal char in code.
    ! Fixed date format.
    ! Fixed CP IDs and descriptions in UA866 and UAKOI.
    ! Restored 'CA-Cl*pper' in comment.
    ; Please verify me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/make_b32.bat
    trunk/harbour/contrib/rddsql/sddfb/make_vc.bat
    trunk/harbour/contrib/rddsql/sddmy/make_b32.bat
    trunk/harbour/contrib/rddsql/sddmy/make_vc.bat
    trunk/harbour/contrib/rddsql/sddpg/make_b32.bat
    trunk/harbour/contrib/rddsql/sddpg/make_vc.bat
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/source/common/hbprintf.c
    trunk/harbour/source/common/hbstr.c
    trunk/harbour/source/lang/msgua866.c
    trunk/harbour/source/lang/msguakoi.c
    trunk/harbour/source/lang/msguawin.c
    trunk/harbour/source/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Feb 12 05:31:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 12 05:31:57 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902110907l5b3e3acfg939eb524c2de32ba@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
Message-ID: <609353e70902120231g42670d66ube11d9629bc0c1d4@mail.gmail.com>

Sorry for my ignorance
How can i create a fresh checkout?
checkout of harbor or msvc?

2009/2/12 Viktor Szak?ts <harbour.01@syenar.hu>

> Create a fresh checkout and do clean build.
>
>   On Thu, Feb 12, 2009 at 1:39 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>
>>   link.exe @C:\Users\MBELGR~1\AppData\Local\Temp\nm9C4E.tmp
>> hbrtl.lib(scrollbr.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(teditor.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(ttextlin.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(checkbox.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(treport.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tlabel.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(memoedit.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(pushbtn.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tpopup.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tmenuitm.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(listbox.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tgetx.obj) : error LNK2019: riferimento al simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto nella funzione _HB_FUN_XPP_GET
>> hbrtl.lib(ttopbar.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(radiogrp.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(radiobtn.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tbcolumn.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tbrowse.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tscalar.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tthreadx.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(gui.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tmenusys.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(getsys53.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrdd.lib(rddordu.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(getsys.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tgetlist.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(tget.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> hbrtl.lib(menusys.obj) : error LNK2001: simbolo esterno
>> _HB_FUN_HB_SYMBOL_UNUSED non risolto
>> bin\vc\hbrun.exe : fatal error LNK1120: 1 esterni non risolti
>>
>>
>> 2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>
>>
>>> Check make_vc.log for the actual error message generated by link.exe.
>>>
>>>   On Wed, Feb 11, 2009 at 11:05 PM, Massimo Belgrano <
>>> mbelgrano@deltain.it> wrote:
>>>
>>>>   Now i receive this error
>>>> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
>>>> 9.0\VC\BIN
>>>> \link.exe"' : codice restituito '0x460'
>>>>
>>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/c9a679be/attachment.html
From myorg63 at mail.ru  Thu Feb 12 06:37:29 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Thu Feb 12 06:37:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10245] trunk/harbour
In-Reply-To: <E1LXYQ6-00009r-6z@dn4whf1.ch3.sourceforge.com>
References: <E1LXYQ6-00009r-6z@dn4whf1.ch3.sourceforge.com>
Message-ID: <21974332.post@talk.nabble.com>




vszakats wrote:
> 
> 2009-02-12 10:57 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * source/lang/msguawin.c
>   * source/lang/msgua866.c
>   * source/lang/msguakoi.c
>     ! Fixed corrupted equal char in code.
>     ! Fixed date format.
>     ! Fixed CP IDs and descriptions in UA866 and UAKOI.
>     ! Restored 'CA-Cl*pper' in comment.
>     ; Please verify me.
> 

    Thank you and sorry.. One clarification - a format of date for UA (and I
think for RU) is DD.MM.YYYY 


Regards,
Petr



-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10245--trunk-harbour-tp21973052p21974332.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Feb 12 06:47:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 06:47:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10245] trunk/harbour
In-Reply-To: <21974332.post@talk.nabble.com>
References: <E1LXYQ6-00009r-6z@dn4whf1.ch3.sourceforge.com>
	<21974332.post@talk.nabble.com>
Message-ID: <18d502870902120347q40de250dg5cdee1a7d7bee083@mail.gmail.com>

>
>
>     Thank you and sorry.. One clarification - a format of date for UA (and
> I
> think for RU) is DD.MM.YYYY


No worries, many thanks for fixing all those texts and the correct
date format.

I'll correct for both RU and UA. BTW I've checked and this value
isn't used anywhere in Harbour (yet), so it couldn't cause any harm.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/52304dd5/attachment.html
From vszakats at users.sourceforge.net  Thu Feb 12 06:48:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 12 06:48:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10246] trunk/harbour
Message-ID: <E1LXa3n-0008CJ-74@bj8yhf1.ch3.sourceforge.com>

Revision: 10246
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10246&view=rev
Author:   vszakats
Date:     2009-02-12 11:48:50 +0000 (Thu, 12 Feb 2009)

Log Message:
-----------
2009-02-12 12:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/lang/msgrukoi.c
  * source/lang/msgruwin.c
  * source/lang/msguakoi.c
  * source/lang/msguawin.c
  * source/lang/msgru866.c
  * source/lang/msgua866.c
    ! Fixed date format to be DD.MM.YYYY.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/lang/msgru866.c
    trunk/harbour/source/lang/msgrukoi.c
    trunk/harbour/source/lang/msgruwin.c
    trunk/harbour/source/lang/msgua866.c
    trunk/harbour/source/lang/msguakoi.c
    trunk/harbour/source/lang/msguawin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb 12 07:12:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 12 07:07:49 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <4993A372.1080105@philb.us>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<4993A372.1080105@philb.us>
Message-ID: <20090212121239.GA15059@uran.home.aster.pl>

On Wed, 11 Feb 2009, Phil Barnett wrote:

Hi Phil,

>> I have no idea however, how to introduce offset in syntaxes in an elegant 
>> way, especially in the fixed position format.
> I believe that the last time this came up, I pointed out that I had 
> completed all the necessary julian functions in both ANSI C and Clipper 
> code and have had it posted for over 10 years on The Oasis. But as far as I 
> know, nobody looked at it.

I remember about it and thank you. Anyhow here they will not help us
a lot. We already have functions to manage julian dates and time
factor introduce only few additional by simple calculations.
The main problem we have now is syntax which we should use for
constant representation of timestamp (date + time) values in .prg
code.
The second one is introducing UTC offset to this value so local time
extracted on different computers in the whole world can be easy compared.
This seems to be the most problematic part because database systems
usually does not support this additional attribute so when our timestamp
value is stored and retrieve into database then information about UTC
offset is lost. I do not see any easy solution here which will work
in all cases. Probably the easiest solution is working internally on
time in UTC+0000 and only using functions to convert to local time
when values are presented. In such case we do not need any additional
member with UTC offset in hour timestamp structure.
The 3-rd problem is internal representation. In general we have two
choices here:
   1. two 32bit fields for julian day and number of millisecond in this day
   2. double value with julian day in integer part and time in fractional
      part.
The 1-st one is faster to mange in HVM during operations on timestamp
items though a little bit more complicated (code will be longer). The
bad is that it has fixed millisecond precision.
The 2-nd one is very simple to write code (the HVM code will be a little
bit shorter) but this code will be also a little bit slower due to double
conversions. But it also has one additional feature. The precision is
variable and such type can be used to count time differences. Even if
it contain whole julian date then for julian day we need
   log( date() - ctod("") ) / log(2) ~= 22
22bits. It means that we have 31 bits on IEEE758 double (53bit precision)
for time so we have ~ 25 better precision. Without julian day part, f.e.
when this type is used to count some time differences the precision is
much bigger ~100'000'000 times for single day period.
But not all systems allows to access time with better then millisecond
precision so such functionality will be dummy in some cases.

> I used these functions successfully in Time and Attendance software that 
> was sold all over the US for a decade.
> The format is simple and the conversion functions are very fast.

I believe we can use them as library functions for Harbour but in
core code they will not help us too much. The timestamp value is
necessary for us if we want to easy exchange data with different
database systems or programs, use it in RDD expressions, f.e. as
filters and index key/for expressions just like now we are using
dates. The helper functions to manage timestamp value in some
different representations does not resolve all problems.

best regards,
Przemek
From niki at synel.co.il  Thu Feb 12 07:42:54 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Feb 12 07:45:58 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
Message-ID: <1A07FEDC778C3E4AA417F089511F859C07B71C458B@Mail-yoq.SYNEL-COMPANY.LTD>

> The main problem we have now is syntax which we should use for
> constant representation of timestamp (date + time) values in .prg code.

Just to add to the general mayhem, ODBC and MSSQL understand this FIXED notation:

Date:
{d 'yyyy-mm-dd'}

DateTime (timestamp):
{ts 'yyyy-mm-dd hh:mm:ss'}


  Chen.
From druzus at acn.waw.pl  Thu Feb 12 09:44:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 12 09:39:41 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090210175218.GA20113@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
Message-ID: <20090212144431.GA15304@uran.home.aster.pl>

Hi All,

On Tue, 10 Feb 2009, Przemyslaw Czerpak wrote:
> We have to define also supported math operations and item type for results.
> I suggest to make it date compatible too and define that date + timestamp
> and timestamp + date gives timestamp as result. The list of legal operations
> will look like:
>    <t> + <t> => <t>
>    <t> - <t> => <n>
>    <t> + <n> => <t>
>    <n> + <t> => <t>
>    <t> - <n> => <t>
> 
>    <d> + <t> => <t>
>    <t> + <d> => <t>
>    <d> - <t> => <n>
>    <t> - <d> => <n>

We also have to define relation operators behavior: ==, =, <, >, <=, >=
when DATE and TIMESTAMP are used.
We have the following choices:
1. compare only date part ignoring the time with the exception for ==
   operator which will make exact comparison. For this exact comparision
   we also have two choices:
   a. strict type checking => results always .F.
   b. if dates are equal and time part in TIMESTAMP item is 0 then
      result is .T. otherwise .F.
2. convert DATE to TIMESTAMP setting 00:00 as TIME and compare items
   like two TIMESTAMP values.
   In such way works xHarbour.
3. use asymmetric comparison like for strings so:
      FIELD->DATETIME <= date()
   will work but
      date() => FIELD->DATETIME
   won't.

Now my opinion:
I do not like 3-rd version because it may be too complicated for users
and normal usage.
2-nd one has some bad side effect. User cannot use DATE in filter
expressions like:
   FIELD->DATETIME <= date()
because date() value after conversion will have time part set to 0
so it will be smaller then TIMESTAMP value calculated today (except
the midnight).
For me the best choice is 1.
Probably 1b but I also found 1a as usable in some cases. The question
is how deeply we want to hide difference between DATE and TIMESTAMP
types. If it should be fully hidden like for numbers (we do not make
any difference between HB_IT_INTEGER, HB_IT_LONG and HB_IT_DOUBLE in
== comparision) then we should chose 1b.

I would like to hear your opinions.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 12 09:57:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 09:59:47 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212144431.GA15304@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
Message-ID: <18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>

Hi Przemek,

3) by no means. 2) could be good, but not with this problematic case,
which is a very important and common expression.

I vote for 1/b) as the most natural one.

Brgds,
Viktor

On Thu, Feb 12, 2009 at 3:44 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> Hi All,
>
> On Tue, 10 Feb 2009, Przemyslaw Czerpak wrote:
> > We have to define also supported math operations and item type for
> results.
> > I suggest to make it date compatible too and define that date + timestamp
> > and timestamp + date gives timestamp as result. The list of legal
> operations
> > will look like:
> >    <t> + <t> => <t>
> >    <t> - <t> => <n>
> >    <t> + <n> => <t>
> >    <n> + <t> => <t>
> >    <t> - <n> => <t>
> >
> >    <d> + <t> => <t>
> >    <t> + <d> => <t>
> >    <d> - <t> => <n>
> >    <t> - <d> => <n>
>
> We also have to define relation operators behavior: ==, =, <, >, <=, >=
> when DATE and TIMESTAMP are used.
> We have the following choices:
> 1. compare only date part ignoring the time with the exception for ==
>   operator which will make exact comparison. For this exact comparision
>   we also have two choices:
>   a. strict type checking => results always .F.
>   b. if dates are equal and time part in TIMESTAMP item is 0 then
>      result is .T. otherwise .F.
> 2. convert DATE to TIMESTAMP setting 00:00 as TIME and compare items
>   like two TIMESTAMP values.
>   In such way works xHarbour.
> 3. use asymmetric comparison like for strings so:
>      FIELD->DATETIME <= date()
>   will work but
>      date() => FIELD->DATETIME
>   won't.
>
> Now my opinion:
> I do not like 3-rd version because it may be too complicated for users
> and normal usage.
> 2-nd one has some bad side effect. User cannot use DATE in filter
> expressions like:
>   FIELD->DATETIME <= date()
> because date() value after conversion will have time part set to 0
> so it will be smaller then TIMESTAMP value calculated today (except
> the midnight).
> For me the best choice is 1.
> Probably 1b but I also found 1a as usable in some cases. The question
> is how deeply we want to hide difference between DATE and TIMESTAMP
> types. If it should be fully hidden like for numbers (we do not make
> any difference between HB_IT_INTEGER, HB_IT_LONG and HB_IT_DOUBLE in
> == comparision) then we should chose 1b.
>
> I would like to hear your opinions.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/419839bd/attachment.html
From vailtom at gmail.com  Thu Feb 12 10:24:54 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Feb 12 10:25:03 2009
Subject: [Harbour] Harbour Web Site - English & Portuguese version
In-Reply-To: <609353e70902110305m59a29792q7d22fcd17d5a1499@mail.gmail.com>
References: <531d7a750812111206q4c63ef5lac1401af490eb30@mail.gmail.com>
	<609353e70901141104l34dbdeb9t453d28312597efb4@mail.gmail.com>
	<531d7a750901201308r4da94e94leced030f735025fe@mail.gmail.com>
	<609353e70902110305m59a29792q7d22fcd17d5a1499@mail.gmail.com>
Message-ID: <531d7a750902120724s60a439e2xfcceaadb322e0d71@mail.gmail.com>

There is only one detail that is mixed to complete the entire site:
the pages of documentation.

They were "generated" or someone typed that the way?

I changed some text in the general layout of the site and it is hard
to make the whole process but pages of documentation and example ... I
could not even finish the adjustment in the pages of documentation.

And I would like to know if the examples are available in
http://www.harbour-project.org/preview2/samples.html these or we will
make a direct link to the archive page of the project?

I am thinking of upgrading the entire site and the pages of
documentation will be updated as I complete the conversion, because
the rest is ready for a good time (including the CONTRIB), but I had
not updated the entry site, because be working on pages of
documentation to post all at once.

What is the suggestion of the group?
From harbour.01 at syenar.hu  Thu Feb 12 10:29:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 10:29:27 2009
Subject: [Harbour] Harbour Web Site - English & Portuguese version
In-Reply-To: <531d7a750902120724s60a439e2xfcceaadb322e0d71@mail.gmail.com>
References: <531d7a750812111206q4c63ef5lac1401af490eb30@mail.gmail.com>
	<609353e70901141104l34dbdeb9t453d28312597efb4@mail.gmail.com>
	<531d7a750901201308r4da94e94leced030f735025fe@mail.gmail.com>
	<609353e70902110305m59a29792q7d22fcd17d5a1499@mail.gmail.com>
	<531d7a750902120724s60a439e2xfcceaadb322e0d71@mail.gmail.com>
Message-ID: <18d502870902120729q4564084bs36157e05657a7649@mail.gmail.com>

Hi Renato,

I am thinking of upgrading the entire site and the pages of
> documentation will be updated as I complete the conversion, because
> the rest is ready for a good time (including the CONTRIB), but I had
> not updated the entry site, because be working on pages of
> documentation to post all at once.
>
> What is the suggestion of the group?


Feel free to update everything what is ready, the documentation
can wait some more. It's incomplete and outdated anyway AFAIR,
so it's a little bit different issue.

In other words: Go on an update the site with what you already have now :)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/02920e7e/attachment.html
From info at fsgiudice.com  Thu Feb 12 11:07:33 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Feb 12 11:08:19 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>	<20090210140524.GA23952@uran.home.aster.pl>	<49919C07.7000700@dbtopas.lt>	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>	<20090210164825.GA30386@uran.home.aster.pl>	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>	<20090210175218.GA20113@uran.home.aster.pl>	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
Message-ID: <49944945.2010501@fsgiudice.com>



Il 12/02/2009 15.57, Viktor Szak?ts ha scritto:
> Hi Przemek,
> 
> 3) by no means. 2) could be good, but not with this problematic case, 
> which is a very important and common expression.
> 
> I vote for 1/b) as the most natural one.
> 

+1

Best regards

Francesco
From amigosam at adinet.com.uy  Thu Feb 12 11:20:24 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Feb 12 11:20:27 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C07B71C458B@Mail-yoq.SYNEL-COMPANY.LTD>
References: <21926105.post@talk.nabble.com>
	<1A07FEDC778C3E4AA417F089511F859C07B71C458B@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <21979336.post@talk.nabble.com>


Also:

A date is represented in DBF as "YYYYMMDD"
Wil timestamp be represented in DBFS with 17 characters ?
eg: YYYYMMDDHHMMSSmmm bieng the last 3 millisecs.

Another one:
Why timestand has to have a literal representation since dates don't have it
?

In dates we use dtos(), stod(), dtoc() ctod()
So in timestanp we should use ttos(), stot(), ttoc(), ttoc() don?t we ?

Regards
Angel



Chen Kedem wrote:
> 
>> The main problem we have now is syntax which we should use for
>> constant representation of timestamp (date + time) values in .prg code.
> 
> Just to add to the general mayhem, ODBC and MSSQL understand this FIXED
> notation:
> 
> Date:
> {d 'yyyy-mm-dd'}
> 
> DateTime (timestamp):
> {ts 'yyyy-mm-dd hh:mm:ss'}
> 
> 

-- 
View this message in context: http://www.nabble.com/Date-Time-Functions---Revisited-%28II%29-tp21926105p21979336.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Feb 12 11:20:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 12 11:20:51 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
Message-ID: <21979355.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> Hi Przemek,
> 
> 3) by no means. 2) could be good, but not with this problematic case,
> which is a very important and common expression.
> 
> I vote for 1/b) as the most natural one.
> 

+1

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Date-Time-Functions---Revisited-%28II%29-tp21926105p21979355.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From rportnoff at spendmap.com  Thu Feb 12 11:28:02 2009
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Feb 12 11:26:59 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <21979355.post@talk.nabble.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com>
Message-ID: <B0086550191@ms1.3peaks.com>

Sorry if this was already covered, but the time 
zone should also be included in the datetime 
value and considered by the date-time functions/operators.

At 11:20 AM 2/12/2009, you wrote:



>Viktor Szak??ts wrote:
> >
> > Hi Przemek,
> >
> > 3) by no means. 2) could be good, but not with this problematic case,
> > which is a very important and common expression.
> >
> > I vote for 1/b) as the most natural one.
> >
>
>+1
>
>Regards
>Pritpal Bedi
>
>--
>View this message in context: 
>http://www.nabble.com/Date-Time-Functions---Revisited-%28II%29-tp21926105p21979355.html
>Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From abe.buch at att.net  Thu Feb 12 11:33:06 2009
From: abe.buch at att.net (Abeb)
Date: Thu Feb 12 11:33:09 2009
Subject: [Harbour] inkey() & HB_K_RESIZE   % SET(_SET_EVENTMASK,
	INKEY_KEYBOARD )
In-Reply-To: <21968790.post@talk.nabble.com>
References: <1234398537475-2312362.post@n2.nabble.com>
	<21968790.post@talk.nabble.com>
Message-ID: <21979614.post@talk.nabble.com>


GTWVT. 
Please make is so it should honor EVENTMASKs. 
programs waiting at inkey(0) just continue if the screen was resized before.

Thanks
Abe



Pritpal Bedi wrote:
> 
> Abeb
> 
> 
> Abeb wrote:
>> 
>> is it possible that even if SET(_SET_EVENTMASK, INKEY_KEYBOARD ) is used
>> inkey() will return HB_K_RESIZE   (1101)?
>> 
> 
> Which GT? GTWVT ?
> 
> HB_K_RESIZE is not honoring EVENTMASKs. 
> Any practical reason you want to disable it?
> 
> Regards
> Pritpal Bedi
> 
> 

-- 
View this message in context: http://www.nabble.com/inkey%28%29---HB_K_RESIZE-----SET%28_SET_EVENTMASK%2C-INKEY_KEYBOARD-%29-tp21967614p21979614.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Feb 12 11:59:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 12 12:00:02 2009
Subject: [Harbour] Harbour Web Site - English & Portuguese version
In-Reply-To: <18d502870902120729q4564084bs36157e05657a7649@mail.gmail.com>
References: <531d7a750812111206q4c63ef5lac1401af490eb30@mail.gmail.com>
	<609353e70901141104l34dbdeb9t453d28312597efb4@mail.gmail.com>
	<531d7a750901201308r4da94e94leced030f735025fe@mail.gmail.com>
	<609353e70902110305m59a29792q7d22fcd17d5a1499@mail.gmail.com>
	<531d7a750902120724s60a439e2xfcceaadb322e0d71@mail.gmail.com>
	<18d502870902120729q4564084bs36157e05657a7649@mail.gmail.com>
Message-ID: <609353e70902120859r6b93c3b3s41366af206892bf0@mail.gmail.com>

Yes agree
Update then search a way for documentation

2009/2/12 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi Renato,
>
>  I am thinking of upgrading the entire site and the pages of
>> documentation will be updated as I complete the conversion, because
>> the rest is ready for a good time (including the CONTRIB), but I had
>> not updated the entry site, because be working on pages of
>> documentation to post all at once.
>>
>> What is the suggestion of the group?
>
>
> Feel free to update everything what is ready, the documentation
> can wait some more. It's incomplete and outdated anyway AFAIR,
> so it's a little bit different issue.
>
> In other words: Go on an update the site with what you already have now :)
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/982f65e5/attachment.html
From toninhofwi at yahoo.com.br  Thu Feb 12 13:17:55 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Thu Feb 12 12:15:28 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212144431.GA15304@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
Message-ID: <gqp8p49nov9tcqs43f8usif04ajt8rv17t@4ax.com>

>We also have to define relation operators behavior: ==, =, <, >, <=, >=
>when DATE and TIMESTAMP are used.
>We have the following choices:
>1. compare only date part ignoring the time with the exception for ==
>   operator which will make exact comparison. For this exact comparision
>   we also have two choices:
>   b. if dates are equal and time part in TIMESTAMP item is 0 then
>      result is .T. otherwise .F.

Hi Przemek.

+1, but IMO TIMESTAMP item not need be 0, in any case, only compare
dates and ignore time.


Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From druzus at acn.waw.pl  Thu Feb 12 13:02:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 12 12:57:59 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <21979336.post@talk.nabble.com>
References: <21926105.post@talk.nabble.com>
	<1A07FEDC778C3E4AA417F089511F859C07B71C458B@Mail-yoq.SYNEL-COMPANY.LTD>
	<21979336.post@talk.nabble.com>
Message-ID: <20090212180248.GA25276@uran.home.aster.pl>

On Thu, 12 Feb 2009, Angel Pais wrote:
> Also:
> A date is represented in DBF as "YYYYMMDD"

No. It's only one of few representations in DBF format:
1. { "D", 8, 0 }  // stirng as above
2. { "D", 4, 0 }  // julian date as 32bit binary little endian integer number
3. { "D", 3, 0 }  // julian date as 24bit binary little endian integer number
4. { "V", 3, 0 }  // packed YYYYMMDD date in SIX3/ADS compatible format

> Wil timestamp be represented in DBFS with 17 characters ?
> eg: YYYYMMDDHHMMSSmmm bieng the last 3 millisecs.

No. I know about two formats in which timestamp can be stored in DBFs
1. { "T", 8, 0 }  // timestamp as julian date and number of milliseconds
                  // in two 32bit binary little endian integer numbers
2. { "T", 4, 0 }  // time in milliseconds as 24bit binary little endian
                  // integer number
There is also:
   { "@", 8, 0 }  // it's the same as { "T", 8, 0 }, Harbour supports it.
Harbur also supports:
   { "=", 8, 0 }  // the same representation as { "T", 8, 0 } but it's
                  // automatically updated when record is added/modified

> Another one:
> Why timestand has to have a literal representation since dates don't have it
> ?

Harbour support constant date value:
   ? 0d20090212
Non constant values cannot be used to initialize static variables, f.e.
try in Clipper:
   static s1 := ctod( "01/01/01" )
   static s2 := stod( "20010101" )
   static s3 := stod( "20090101" ) - stod( "20010101" )
Harbour optimize STOD() and HB_STOD() during compilation so s2 and s3
above can be compiled but ctod() cannot be optimized at compile time
because it depends on _SET_DATEFORMAT run time setting.
Constant values are not strictly necessary but makes life easier.
Direct support for constant values can be replaced by functions optimized
at compile time. It's a little bit more expensive (slower) but for compiler
it does not cause big problems. Probably only in macrocompiler the speed
is important.

> In dates we use dtos(), stod(), dtoc() ctod()
> So in timestanp we should use ttos(), stot(), ttoc(), ttoc() don?t we ?

We can but we used to not intorduce new public functions without HB_ prefix
to not cause problems with 3-rd party or user code which may already use
functions with the same names.
Anyhow here we have yet another aspect. These functions are already
implemented in some xbase compatible languages. For sure in CLIP and
AFAIK in VFP.
In such case we may want to keep the exact names for compatibility with
these languages, f.e. to be able to open index which has key expression
like "CLIENT_ID + TTOS( SALES_TIME )".
But it means that our implementation of above functions has to be _EXACTLY_
compatible with them (of course if possible).
In CLIP TTOC()/CTOT() functions respect RT settings for date and time
formatting. TTOS()/STOT() functions use fixed format "YYYY-MM-DD HH:MM:SS".
I do not know how these functions works in VFP. Can someone help here?
In xHarbour TTOS()/STOT() functions use fixed format "YYYYMMDDHHMMSS.FFF"
so we cannot be CLIP and xHarbour compatible in the same time.
Does anyone knows sth about these functions in other languages?
If the results are not compatible then probably the best choice is
not implementing TTOS()/STOT() at all so users can write their own
wrappers depending on preferred compatibility, f.e. for CLIP compatibility:
   FUNC TTOS( tTimeStamp )
   RETURN HB_TTOC( tTimeStamp, "YYYY-MM-DD HH:MM:SS" )
or:
   FUNC TTOS( tTimeStamp )
   RETURN HB_TTOC( tTimeStamp, "YYYYMMDDHHMMSS.FFF" )
for xHarbour.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 12 13:07:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 13:07:14 2009
Subject: [Harbour] inkey() & HB_K_RESIZE % SET(_SET_EVENTMASK, 
	INKEY_KEYBOARD )
In-Reply-To: <21979614.post@talk.nabble.com>
References: <1234398537475-2312362.post@n2.nabble.com>
	<21968790.post@talk.nabble.com> <21979614.post@talk.nabble.com>
Message-ID: <18d502870902121007t4829890dw7410f07069be12e6@mail.gmail.com>

The easiest solution is to turn off resize while you're waiting for input, so
you won't receive any events.
hb_GTInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_FONT )

This is the default for GTWVT.

Brgds,
Viktor

On Thu, Feb 12, 2009 at 5:33 PM, Abeb <abe.buch@att.net> wrote:

>
> GTWVT.
> Please make is so it should honor EVENTMASKs.
> programs waiting at inkey(0) just continue if the screen was resized
> before.
>
> Thanks
> Abe
>
>
>
> Pritpal Bedi wrote:
> >
> > Abeb
> >
> >
> > Abeb wrote:
> >>
> >> is it possible that even if SET(_SET_EVENTMASK, INKEY_KEYBOARD ) is used
> >> inkey() will return HB_K_RESIZE   (1101)?
> >>
> >
> > Which GT? GTWVT ?
> >
> > HB_K_RESIZE is not honoring EVENTMASKs.
> > Any practical reason you want to disable it?
> >
> > Regards
> > Pritpal Bedi
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/inkey%28%29---HB_K_RESIZE-----SET%28_SET_EVENTMASK%2C-INKEY_KEYBOARD-%29-tp21967614p21979614.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/c2190cd8/attachment.html
From druzus at acn.waw.pl  Thu Feb 12 13:20:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 12 13:16:02 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <B0086550191@ms1.3peaks.com>
References: <20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
Message-ID: <20090212182052.GB25276@uran.home.aster.pl>

On Thu, 12 Feb 2009, Randy Portnoff wrote:

Hi Randy,

> Sorry if this was already covered, but the time zone should also be 
> included in the datetime value and considered by the date-time 
> functions/operators.

But can you say sth more.
Which timezone we should set when DATETIME value is extracted from table,
f.e. ADT or DBF file or from some SQL RDBMS. Which database systems you
know that supports timezone or UTC offsets or at least binary UTC time
signature in DATETIME values? Or maybe they have some strict rules used
for DATETIME representation in tables, f.e. always safe them after conversion
to UTC+0000.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb 12 13:23:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 12 13:18:50 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <gqp8p49nov9tcqs43f8usif04ajt8rv17t@4ax.com>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<gqp8p49nov9tcqs43f8usif04ajt8rv17t@4ax.com>
Message-ID: <20090212182342.GC25276@uran.home.aster.pl>

On Thu, 12 Feb 2009, Toninho@fwi wrote:

Hi Toninho,

> +1, but IMO TIMESTAMP item not need be 0, in any case, only compare
> dates and ignore time.

So you vote for 1c where '==' operator works like '=' and only
Julian date is compared.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 12 13:17:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 13:20:32 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212180248.GA25276@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>
	<1A07FEDC778C3E4AA417F089511F859C07B71C458B@Mail-yoq.SYNEL-COMPANY.LTD>
	<21979336.post@talk.nabble.com>
	<20090212180248.GA25276@uran.home.aster.pl>
Message-ID: <18d502870902121017i3ffc544dw4d1abae08f9334e4@mail.gmail.com>

>
> We can but we used to not intorduce new public functions without HB_ prefix
> to not cause problems with 3-rd party or user code which may already use
> functions with the same names.
> Anyhow here we have yet another aspect. These functions are already
> implemented in some xbase compatible languages. For sure in CLIP and
> AFAIK in VFP.


> so we cannot be CLIP and xHarbour compatible in the same time.
> Does anyone knows sth about these functions in other languages?
> If the results are not compatible then probably the best choice is
> not implementing TTOS()/STOT() at all so users can write their own
> wrappers depending on preferred compatibility, f.e. for CLIP compatibility:
>   FUNC TTOS( tTimeStamp )
>   RETURN HB_TTOC( tTimeStamp, "YYYY-MM-DD HH:MM:SS" )
> or:
>   FUNC TTOS( tTimeStamp )
>   RETURN HB_TTOC( tTimeStamp, "YYYYMMDDHHMMSS.FFF" )
> for xHarbour.


I think Harbour shouldn't implement a TTOS() function.

Instead, we should have a HB_TTOS() without any restrictions
regarding compatibility. Anyhow xhb solution looks good, and
if it _is_ good, we can use it, but if there is any problem with it,
lets get over it and solve it here properly, so lets not be constrained
by xhb compatibility, since there are other means to address that.

To help compatibility with other flavours, we can implement
100% compatible functions with names:
CLIP_TTOS()
XPP_TTOS()
XHB_TTOS()
VFP_TTOS()

We can even have these in parallel, and if we go this route,
we should gather all these <dialect>_*() dialect prefixed
functions in separate files (for clarity and future development),
and user can easily map the one they need using
"FUNC TTOS( x ) ; RETURN *_TTOS( x )" [ or with null
overhead in C ], or even use them in parallel. Later we can
move these dialect dependent implementations into separate
libs, which would allow to use the original names, of course
in this case collision may occur if someone links multiple
one with such colliding names, but I don't this is a problem
in practice.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/32d08d2f/attachment.html
From harbour.01 at syenar.hu  Thu Feb 12 13:21:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 13:21:29 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212182052.GB25276@uran.home.aster.pl>
References: <20090210140524.GA23952@uran.home.aster.pl>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
Message-ID: <18d502870902121021p5f9829b9t7aae46f4f098eb22@mail.gmail.com>

>
> But can you say sth more.
> Which timezone we should set when DATETIME value is extracted from table,
> f.e. ADT or DBF file or from some SQL RDBMS. Which database systems you
> know that supports timezone or UTC offsets or at least binary UTC time
> signature in DATETIME values? Or maybe they have some strict rules used
> for DATETIME representation in tables, f.e. always safe them after
> conversion
> to UTC+0000.


I personally like your proposal to always assume
UTC+0000 when dealing with dates.

We can then add some ways for users to set actual TZ,
using a Set( _SET_TZ ) function, which would influence
the dates on read and write. Plus we can add some
functions to make it easy to shift timestamps by a passed
TZ.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/f8d323c7/attachment-0001.html
From rportnoff at spendmap.com  Thu Feb 12 13:35:07 2009
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Feb 12 13:34:03 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212182052.GB25276@uran.home.aster.pl>
References: <20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
Message-ID: <B0086553296@ms1.3peaks.com>

Hi Przemek,

No, I am not aware of a database that stores time zone with the 
date/time value. I agree with Viktor - The date/time value stored in 
the database must be timezone independent (ie. UTC 0). Then, the app 
can set some value (eg. environment var) to align any date/time 
values read from the database with the user's timezone (this should 
happen automatically at the RDD level). So, all date/time values in 
memory (including the current record buffer) will be adjusted for the 
current timezone while date/time values in the database will not.

Regards,
Randy.

At 01:20 PM 2/12/2009, you wrote:
>On Thu, 12 Feb 2009, Randy Portnoff wrote:
>
>Hi Randy,
>
> > Sorry if this was already covered, but the time zone should also be
> > included in the datetime value and considered by the date-time
> > functions/operators.
>
>But can you say sth more.
>Which timezone we should set when DATETIME value is extracted from table,
>f.e. ADT or DBF file or from some SQL RDBMS. Which database systems you
>know that supports timezone or UTC offsets or at least binary UTC time
>signature in DATETIME values? Or maybe they have some strict rules used
>for DATETIME representation in tables, f.e. always safe them after conversion
>to UTC+0000.
>
>best regards,
>Przemek
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From druzus at acn.waw.pl  Thu Feb 12 13:38:55 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 12 13:34:09 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902121021p5f9829b9t7aae46f4f098eb22@mail.gmail.com>
References: <18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
	<18d502870902121021p5f9829b9t7aae46f4f098eb22@mail.gmail.com>
Message-ID: <20090212183855.GA18508@uran.home.aster.pl>

On Thu, 12 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> > Which timezone we should set when DATETIME value is extracted from table,
> > f.e. ADT or DBF file or from some SQL RDBMS. Which database systems you
> > know that supports timezone or UTC offsets or at least binary UTC time
> > signature in DATETIME values? Or maybe they have some strict rules used
> > for DATETIME representation in tables, f.e. always safe them after
> > conversion
> > to UTC+0000.
> I personally like your proposal to always assume
> UTC+0000 when dealing with dates.
> We can then add some ways for users to set actual TZ,
> using a Set( _SET_TZ ) function, which would influence
> the dates on read and write. Plus we can add some
> functions to make it easy to shift timestamps by a passed
> TZ.

Not only DATEs but also TIMESTAMPs. Even if we'd fully honor TZ
signature in our internal representation (this is quite easy)
then it does not resolve the problem how to restore it when TIMESTAMP
value is exchange between Harbour and different data base systems.
For DBFs I can implement new field type which can hold timezone or
UTC offset. But what to do with closed systems like ADS or different
SQL RDBMS? For my own use in such cases I use in application only UTC+0000
values. But for such usage I do not need any additional support from HVM.
Just simply I'm using function which returns UTC time instead of local one.
I'm really interested if some RDBMSes already supports TZ signature or
UTC offset or at least UTC+0000 flag.

best regards,
Przemek
From info at fsgiudice.com  Thu Feb 12 13:44:18 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Feb 12 13:44:26 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902121017i3ffc544dw4d1abae08f9334e4@mail.gmail.com>
References: <21926105.post@talk.nabble.com>	<1A07FEDC778C3E4AA417F089511F859C07B71C458B@Mail-yoq.SYNEL-COMPANY.LTD>	<21979336.post@talk.nabble.com>	<20090212180248.GA25276@uran.home.aster.pl>
	<18d502870902121017i3ffc544dw4d1abae08f9334e4@mail.gmail.com>
Message-ID: <49946E02.1000503@fsgiudice.com>

Hi Viktor,

Il 12/02/2009 19.17, Viktor Szak?ts ha scritto:
> We can even have these in parallel, and if we go this route, 
> we should gather all these <dialect>_*() dialect prefixed 
> functions in separate files (for clarity and future development), 
> and user can easily map the one they need using 
> "FUNC TTOS( x ) ; RETURN *_TTOS( x )" [ or with null 
> overhead in C ], or even use them in parallel. Later we can 
> move these dialect dependent implementations into separate 
> libs, which would allow to use the original names, of course 
> in this case collision may occur if someone links multiple 
> one with such colliding names, but I don't this is a problem 
> in practice.
> 
This will open an interesting discussion on a possible namespace 
implementation, like Ron did in xharbour (but I never tried it and I 
don't know any implementation detail), that I think will be useful in 
some cases.
Obviously this is a future request possibly for harbour 2.0 ;-)
But I begin to thought to this thinking if it possible to create a 
*small* php wrapper to use in uHTTPD server (only an idea, I don't think 
to any implementation detail) where I can take a php source and paste 
it in a hrb module, but using activating a namespace functionality to 
redirect any function to a PHP_*() internal functions and have no 
collision with harbour/clipper namespace.

Just a thought.

Best regards,

Francesco
From druzus at acn.waw.pl  Thu Feb 12 14:17:10 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 12 14:12:18 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <B0086553296@ms1.3peaks.com>
References: <18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
	<B0086553296@ms1.3peaks.com>
Message-ID: <20090212191710.GA31090@uran.home.aster.pl>

On Thu, 12 Feb 2009, Randy Portnoff wrote:

Hi Randy,

> No, I am not aware of a database that stores time zone with the date/time 
> value. I agree with Viktor - The date/time value stored in the database 
> must be timezone independent (ie. UTC 0). Then, the app can set some value 
> (eg. environment var) to align any date/time values read from the database 
> with the user's timezone (this should happen automatically at the RDD 
> level). So, all date/time values in memory (including the current record 
> buffer) will be adjusted for the current timezone while date/time values in 
> the database will not.

The implementation should be a little bit different. The timezone part
should be used only for formatting strings when they are shown in human
readable form if the julians part gives valid date to not convert time
diff values.
But I see two problems with such conversions:
1. It will be necessary to hardcode TZ tables in Harbour source code
   for each countries and years. It's not job for single developer because
   it may not have enough knowledge about rules used for time conversions
   and summer/winter time offsets in all countries in the world in all past
   years.
   Now we have problem with collecting CPs files for different counteries
   what seems to be much easier job.
   We can try to extract this information from some other projects, f.e.
   GLIBC sources but I do not know how big the full list is and how big
   overhead it may cause.
   For such TZ updating we have to know the exact rules and any static
   _SET_UTC_OFFSET will not help because today in Poland we use CET
   (Central European Time) but on the last Sunday of March we will switch
   to CET (Central European Summer Time) and I do not wont to see in browser
   that on March 27 I started my job at 9:00 AM but one record down on
   March 30 I begin to work at 10:00 AM.
   We have to implement full conversion rules so we will know that in
   Poland in year 2009 on March 29 the time zone is swiched at 02:00 UTC+0100
2. The second problem is compatibility with other tools. What will happen
   if some other xbase compilers does not make the same conversion when
   DATETIME is stored in DBF and Harbour application shares DBF table with
   VFP program? Or what will happen if other ADS clients does not make the
   same and they share tables with ADS RDD?

It's easy to resolve such problems for single application which works only
in strictly defined and well know for programmer countries in given period.
Just simply programmer can hardcode all necessary conversions and does not
need any additional support from HVM which sometimes can even make things
harder to resolve.
My personal opinion is that the worse possible choice will be implementing
sth partially because later it will be very hard to revert or even fix
sth due to backward compatibility which will be necessary to support values
already stored in different data base systems.
So now I'm interesting how it looks in other RDBMs.

best regards,
Przemek
From dbtopas at dbtopas.lt  Thu Feb 12 14:12:35 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Feb 12 14:12:37 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212144431.GA15304@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>	<20090210140524.GA23952@uran.home.aster.pl>	<49919C07.7000700@dbtopas.lt>	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>	<20090210164825.GA30386@uran.home.aster.pl>	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
Message-ID: <499474A3.2070209@dbtopas.lt>


> We also have to define relation operators behavior: ==, =, <, >, <=, >=
> when DATE and TIMESTAMP are used.
> We have the following choices:
> 1. compare only date part ignoring the time with the exception for ==
>    operator which will make exact comparison. For this exact comparision
>    we also have two choices:
>    a. strict type checking => results always .F.
>    b. if dates are equal and time part in TIMESTAMP item is 0 then
>       result is .T. otherwise .F.
> 2. convert DATE to TIMESTAMP setting 00:00 as TIME and compare items
>    like two TIMESTAMP values.
>    In such way works xHarbour.
> 3. use asymmetric comparison like for strings so:
>       FIELD->DATETIME <= date()
>    will work but
>       date() => FIELD->DATETIME
>    won't.

Hi,


I vote 1b.

2 is also acceptable for me.

3 Well a can not even understand the third choice. The truth is, that 
still do not understand string comparison in Clipper, but very well 
understand strcmp() behaviour. I always use ==, and I change != to !( == 
), for strings. I had a luck, that using of <, > does not cause bugs in 
my code, and I try to avoid using <=, >= for strings.


More on 1b vs 2. 1b gives more expected results for:
   dDate := DATE()
   DATETIME <= dDate

1b result is TRUE for yesterday and older timestamps, but it is also 
true, for all timestamps of today, just as I expect writing 
"DATETIME<=dDate".

2 results is TRUE for yesterday and older timestamps, and only a 
midnight of today. If DATETIME is midnight + 1 milliseconds is not less 
or equal to dDate. I guess writing "DATETIME<=dDate", you've did not 
expected to include values of exactly midnight, and not include midnight 
+ 1 millisecond.


Best regards,
Mindaugas

From harbour.01 at syenar.hu  Thu Feb 12 14:21:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 14:21:45 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212183855.GA18508@uran.home.aster.pl>
References: <18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
	<18d502870902121021p5f9829b9t7aae46f4f098eb22@mail.gmail.com>
	<20090212183855.GA18508@uran.home.aster.pl>
Message-ID: <18d502870902121121s60862524n6f515eec2c8f525c@mail.gmail.com>

Hi Przemek,


> Not only DATEs but also TIMESTAMPs. Even if we'd fully honor TZ
> signature in our internal representation (this is quite easy)


Yes, I meant timestamp of course.


> then it does not resolve the problem how to restore it when TIMESTAMP
> value is exchange between Harbour and different data base systems.


Since there is no standard ways to do that, we cannot
do else than leave this to the app developers. For example
I store the TZ in a location/host table, so it's basically
a per site global app setting [ I know this has it's disadvantages,
but so far this was enough ], in the database there the
dates are stored after converted to UTC-0000.


> For DBFs I can implement new field type which can hold timezone or
> UTC offset. But what to do with closed systems like ADS or different
> SQL RDBMS? For my own use in such cases I use in application only UTC+0000
> values. But for such usage I do not need any additional support from HVM.


Same here. Basically a TZ is just a "N", 6, 2 (or maybe even 1
is enough), number.

Core Harbour can help to do some required calculations.
Through functions and maybe through a Set().

Anyhow this doesn't really influence the core/HVM timestamp
implementation, as these are just making calculations on
regular timestamps, nothing more.


> Just simply I'm using function which returns UTC time instead of local one.


Exactly.


> I'm really interested if some RDBMSes already supports TZ signature or
> UTC offset or at least UTC+0000 flag.


I don't know, probably there are, but I expect a beautiful chaos
in this area, especially when it comes to details :) For sure
normal .dbf, .csv doesn't have such means, so we have to adapt.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/e1cbdc79/attachment.html
From harbour.01 at syenar.hu  Thu Feb 12 14:20:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 14:23:48 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <49946E02.1000503@fsgiudice.com>
References: <21926105.post@talk.nabble.com>
	<1A07FEDC778C3E4AA417F089511F859C07B71C458B@Mail-yoq.SYNEL-COMPANY.LTD>
	<21979336.post@talk.nabble.com>
	<20090212180248.GA25276@uran.home.aster.pl>
	<18d502870902121017i3ffc544dw4d1abae08f9334e4@mail.gmail.com>
	<49946E02.1000503@fsgiudice.com>
Message-ID: <18d502870902121120t6256d0c4q865fb76fb6dad9cf@mail.gmail.com>

Hi Francesco,


> Il 12/02/2009 19.17, Viktor Szak?ts ha scritto:
>
>> We can even have these in parallel, and if we go this route, we should
>> gather all these <dialect>_*() dialect prefixed functions in separate files
>> (for clarity and future development), and user can easily map the one they
>> need using "FUNC TTOS( x ) ; RETURN *_TTOS( x )" [ or with null overhead in
>> C ], or even use them in parallel. Later we can move these dialect dependent
>> implementations into separate libs, which would allow to use the original
>> names, of course in this case collision may occur if someone links multiple
>> one with such colliding names, but I don't this is a problem in practice.
>>
>>  This will open an interesting discussion on a possible namespace
> implementation, like Ron did in xharbour (but I never tried it and I don't
> know any implementation detail), that I think will be useful in some cases.
> Obviously this is a future request possibly for harbour 2.0 ;-)
> But I begin to thought to this thinking if it possible to create a *small*
> php wrapper to use in uHTTPD server (only an idea, I don't think to any
> implementation detail) where I can take a php source and paste it in a hrb
> module, but using activating a namespace functionality to redirect any
> function to a PHP_*() internal functions and have no collision with
> harbour/clipper namespace.


Yes, interesting idea to remap a whole set of functions
to another namespace. This might help on the "sandboxing"
problem when running non-trusted scripts in an app
environment. If we define a namespace with all allowed
functions and apply that namespace to the macro
compiler, this may solve the problem, as not allowed
one will simply err. It's also useful for 3rd party lib
developers (including contribs).

I don't know the xhb implementation either, so it's difficult
to comment, the devil is in the details probably.

Overall I feel this should come a bit later, and even before
that it'd be great to separate dialect specific functions and
classes into libs, so we get the ability to choose features at
runtime, rather than build time. Later with namespace this
can be made even more flexible, but it's not a requirement.

We could even go as far to move these dialect libs to
contrib, which allows more freedom for developers. In fact
we already have one such lib: xhb.lib.

If this becomes a system, we may use some common
prefix for these libs (hd = Harbour Dialect): hdxpp, hbfs, hdx,
hdfox, hdvo, hbclip. These could replace current
HB_COMPAT_* macros, but with much more possibilities.

[ Since we're pretty much compatible with C5.3 without
any big drawbacks, and the implementation is finished,
there is no need to move it a separate dialect lib. ]

And BTW, it's not just dialects, but even things like
WAPI_, if we make it right now, it will be later much
easier to just switch to namespaces, as we already
have an analogous system.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/685bf3ff/attachment-0001.html
From rportnoff at spendmap.com  Thu Feb 12 14:27:59 2009
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Feb 12 14:26:55 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212191710.GA31090@uran.home.aster.pl>
References: <18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
	<B0086553296@ms1.3peaks.com>
	<20090212191710.GA31090@uran.home.aster.pl>
Message-ID: <B0086554493@ms1.3peaks.com>

Hi Przemek,

Yes, I see your point - Make all date/time values (DB and in memory) 
UTC 0 and only adjust what the user sees. This will have to happen at 
the application level since there are many UI possibilities (eg. DOS, 
Windows, Web). Perhaps add a special mask to be used with the 
Transform() function or maybe an extra param in the DtoC() function.

With respect to Harbour knowing what the timezone is - Could that not 
come from the O/S? In Windows, this can be obtained using the 
GetTimeZoneInformation() API - I imagine something similar is 
available in other O/S also. However, in the case when Harbour is 
used as a server program (eg. CGI web app), the time zone bias would 
need to be overridden at the PRG level since it would have to be set 
based on the user's time zone and not where the server is installed.

Regards,
Randy.

At 02:17 PM 2/12/2009, you wrote:
>On Thu, 12 Feb 2009, Randy Portnoff wrote:
>
>Hi Randy,
>
> > No, I am not aware of a database that stores time zone with the date/time
> > value. I agree with Viktor - The date/time value stored in the database
> > must be timezone independent (ie. UTC 0). Then, the app can set some value
> > (eg. environment var) to align any date/time values read from the database
> > with the user's timezone (this should happen automatically at the RDD
> > level). So, all date/time values in memory (including the current record
> > buffer) will be adjusted for the current timezone while date/time 
> values in
> > the database will not.
>
>The implementation should be a little bit different. The timezone part
>should be used only for formatting strings when they are shown in human
>readable form if the julians part gives valid date to not convert time
>diff values.
>But I see two problems with such conversions:
>1. It will be necessary to hardcode TZ tables in Harbour source code
>    for each countries and years. It's not job for single developer because
>    it may not have enough knowledge about rules used for time conversions
>    and summer/winter time offsets in all countries in the world in all past
>    years.
>    Now we have problem with collecting CPs files for different counteries
>    what seems to be much easier job.
>    We can try to extract this information from some other projects, f.e.
>    GLIBC sources but I do not know how big the full list is and how big
>    overhead it may cause.
>    For such TZ updating we have to know the exact rules and any static
>    _SET_UTC_OFFSET will not help because today in Poland we use CET
>    (Central European Time) but on the last Sunday of March we will switch
>    to CET (Central European Summer Time) and I do not wont to see in browser
>    that on March 27 I started my job at 9:00 AM but one record down on
>    March 30 I begin to work at 10:00 AM.
>    We have to implement full conversion rules so we will know that in
>    Poland in year 2009 on March 29 the time zone is swiched at 02:00 UTC+0100
>2. The second problem is compatibility with other tools. What will happen
>    if some other xbase compilers does not make the same conversion when
>    DATETIME is stored in DBF and Harbour application shares DBF table with
>    VFP program? Or what will happen if other ADS clients does not make the
>    same and they share tables with ADS RDD?
>
>It's easy to resolve such problems for single application which works only
>in strictly defined and well know for programmer countries in given period.
>Just simply programmer can hardcode all necessary conversions and does not
>need any additional support from HVM which sometimes can even make things
>harder to resolve.
>My personal opinion is that the worse possible choice will be implementing
>sth partially because later it will be very hard to revert or even fix
>sth due to backward compatibility which will be necessary to support values
>already stored in different data base systems.
>So now I'm interesting how it looks in other RDBMs.
>
>best regards,
>Przemek
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From vouchcac at users.sourceforge.net  Thu Feb 12 14:27:57 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 12 14:28:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10247] trunk/harbour
Message-ID: <E1LXhE5-0008C4-Jj@74yxhf1.ch3.sourceforge.com>

Revision: 10247
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10247&view=rev
Author:   vouchcac
Date:     2009-02-12 19:27:56 +0000 (Thu, 12 Feb 2009)

Log Message:
-----------
2009-02-12 11:23 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + harbour/include/hbwapi.h

    As this header will be required fot many libraries in contrib
    I have placed it in core folder. It will pave me the way to 
    isolated WINAPI wrappers as discussed earlier. Before I begin to
    shift functions in harbour/contrib/hbwin please feel free to
    include in this header whatever you feel will be required
    for such transition.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/include/hbwapi.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Feb 12 14:27:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 14:31:27 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212191710.GA31090@uran.home.aster.pl>
References: <18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
	<B0086553296@ms1.3peaks.com>
	<20090212191710.GA31090@uran.home.aster.pl>
Message-ID: <18d502870902121127p6061d55ejcf9d78b985a70e6a@mail.gmail.com>

Hi Przemek,


> > No, I am not aware of a database that stores time zone with the date/time
> > value. I agree with Viktor - The date/time value stored in the database
> > must be timezone independent (ie. UTC 0). Then, the app can set some
> value
> > (eg. environment var) to align any date/time values read from the
> database
> > with the user's timezone (this should happen automatically at the RDD
> > level). So, all date/time values in memory (including the current record
> > buffer) will be adjusted for the current timezone while date/time values
> in
> > the database will not.
>
> The implementation should be a little bit different. The timezone part
> should be used only for formatting strings when they are shown in human
> readable form if the julians part gives valid date to not convert time
> diff values.


My thoughts exactly.


>
> But I see two problems with such conversions:
> 1. It will be necessary to hardcode TZ tables in Harbour source code
>   for each countries and years. It's not job for single developer because
>   it may not have enough knowledge about rules used for time conversions
>   and summer/winter time offsets in all countries in the world in all past
>   years.


Oh, you mean TZ passed as some sort of standard string
value?

IMO, no way should Harbour try to handle these. Let's
call it rather UTC offset, and let's make it a simple numeric
value in minutes or hours.

To handle any more details than that it's a perfect job
for a 3rd party lib. Updating it here regularly is a nightmare.


>   For such TZ updating we have to know the exact rules and any static
>   _SET_UTC_OFFSET will not help because today in Poland we use CET
>   (Central European Time) but on the last Sunday of March we will switch
>   to CET (Central European Summer Time) and I do not wont to see in browser
>   that on March 27 I started my job at 9:00 AM but one record down on
>   March 30 I begin to work at 10:00 AM.
>   We have to implement full conversion rules so we will know that in
>   Poland in year 2009 on March 29 the time zone is swiched at 02:00
> UTC+0100


Okay, that's what I wrote above. I was thinking of UTC offset the
whole time, but were writing TZ, sorry.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/bb3e2c90/attachment.html
From harbour.01 at syenar.hu  Thu Feb 12 14:33:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 14:43:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10247] trunk/harbour
In-Reply-To: <E1LXhE5-0008C4-Jj@74yxhf1.ch3.sourceforge.com>
References: <E1LXhE5-0008C4-Jj@74yxhf1.ch3.sourceforge.com>
Message-ID: <18d502870902121133h1ad7b00s5af7eeab1233c826@mail.gmail.com>

Hi Pritpal,
What we need to be doing here is an interdependency between
Windows contribs and our Win API contrib (hbwin), not an
interdependency between Windows contribs and _core_.
This file has no place in core, since it isn't portable.

Notice that when hbwin contrib is installed, all the header files,
including this one, will be copied into the central dir, so you can
use it as it. I can help updating the make files in hbwin to achieve
that.

Please move this file to contrib/hbwin/.

Brgds,
Viktor

On Thu, Feb 12, 2009 at 8:27 PM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10247
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10247&view=rev
> Author:   vouchcac
> Date:     2009-02-12 19:27:56 +0000 (Thu, 12 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-12 11:23 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  + harbour/include/hbwapi.h
>
>    As this header will be required fot many libraries in contrib
>    I have placed it in core folder. It will pave me the way to
>    isolated WINAPI wrappers as discussed earlier. Before I begin to
>    shift functions in harbour/contrib/hbwin please feel free to
>    include in this header whatever you feel will be required
>    for such transition.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>
> Added Paths:
> -----------
>    trunk/harbour/include/hbwapi.h
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/a6e58e8e/attachment.html
From vouchcac at users.sourceforge.net  Thu Feb 12 14:45:11 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 12 14:45:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10248] trunk/harbour
Message-ID: <E1LXhUl-0000HB-IY@74yxhf1.ch3.sourceforge.com>

Revision: 10248
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10248&view=rev
Author:   vouchcac
Date:     2009-02-12 19:45:10 +0000 (Thu, 12 Feb 2009)

Log Message:
-----------
2009-02-12 11:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  - harbour/include/hbwapi.h
  + harbour/contrib/hbwin/hbwapi.h

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/hbwapi.h

Removed Paths:
-------------
    trunk/harbour/include/hbwapi.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Feb 12 14:46:02 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 12 14:46:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10247] trunk/harbour
In-Reply-To: <18d502870902121133h1ad7b00s5af7eeab1233c826@mail.gmail.com>
References: <E1LXhE5-0008C4-Jj@74yxhf1.ch3.sourceforge.com>
	<18d502870902121133h1ad7b00s5af7eeab1233c826@mail.gmail.com>
Message-ID: <21983517.post@talk.nabble.com>


Done!


Viktor Szak?ts wrote:
> 
> Please move this file to contrib/hbwin/.
> 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10247--trunk-harbour-tp21983156p21983517.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Thu Feb 12 14:49:36 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Feb 12 14:49:42 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902121120t6256d0c4q865fb76fb6dad9cf@mail.gmail.com>
References: <21926105.post@talk.nabble.com>	<1A07FEDC778C3E4AA417F089511F859C07B71C458B@Mail-yoq.SYNEL-COMPANY.LTD>	<21979336.post@talk.nabble.com>	<20090212180248.GA25276@uran.home.aster.pl>	<18d502870902121017i3ffc544dw4d1abae08f9334e4@mail.gmail.com>	<49946E02.1000503@fsgiudice.com>
	<18d502870902121120t6256d0c4q865fb76fb6dad9cf@mail.gmail.com>
Message-ID: <49947D50.5050601@fsgiudice.com>

Hi Viktor,

Il 12/02/2009 20.20, Viktor Szak?ts ha scritto:
> Hi Francesco,
> 
> Yes, interesting idea to remap a whole set of functions 
> to another namespace. This might help on the "sandboxing" 
> problem when running non-trusted scripts in an app 
> environment. If we define a namespace with all allowed 
> functions and apply that namespace to the macro 
> compiler, this may solve the problem, as not allowed 
> one will simply err. It's also useful for 3rd party lib 
> developers (including contribs).
> 
Exactly what I have in mind.

> I don't know the xhb implementation either, so it's difficult 
> to comment, the devil is in the details probably.
> 

AFAIR, the problem is on build time because every file have to be built 
3 times, first parsed to add a prefix, second compiled with xharbour, 
than the result is compiled from C compiler. (This for PRG level)
But this is what I remember reading mailing list on the fly, probably wrong.

> Overall I feel this should come a bit later, and even before 
> that it'd be great to separate dialect specific functions and 
> classes into libs, so we get the ability to choose features at 
> runtime, rather than build time. Later with namespace this 
> can be made even more flexible, but it's not a requirement.
> 
> We could even go as far to move these dialect libs to 
> contrib, which allows more freedom for developers. In fact 
> we already have one such lib: xhb.lib.
> 
> If this becomes a system, we may use some common 
> prefix for these libs (hd = Harbour Dialect): hdxpp, hbfs, hdx, 
> hdfox, hdvo, hbclip. These could replace current 
> HB_COMPAT_* macros, but with much more possibilities.
> 
> [ Since we're pretty much compatible with C5.3 without 
> any big drawbacks, and the implementation is finished, 
> there is no need to move it a separate dialect lib. ]
> 
> And BTW, it's not just dialects, but even things like 
> WAPI_, if we make it right now, it will be later much 
> easier to just switch to namespaces, as we already 
> have an analogous system.
> 
Agree.

Best regards,

Francesco
From druzus at acn.waw.pl  Thu Feb 12 15:41:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 12 15:36:11 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <18d502870902121127p6061d55ejcf9d78b985a70e6a@mail.gmail.com>
References: <18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
	<B0086553296@ms1.3peaks.com>
	<20090212191710.GA31090@uran.home.aster.pl>
	<18d502870902121127p6061d55ejcf9d78b985a70e6a@mail.gmail.com>
Message-ID: <20090212204103.GA6018@uran.home.aster.pl>

On Thu, 12 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> > 1. It will be necessary to hardcode TZ tables in Harbour source code
> >   for each countries and years. It's not job for single developer because
> >   it may not have enough knowledge about rules used for time conversions
> >   and summer/winter time offsets in all countries in the world in all past
> >   years.
> Oh, you mean TZ passed as some sort of standard string
> value?
> IMO, no way should Harbour try to handle these. Let's
> call it rather UTC offset, and let's make it a simple numeric
> value in minutes or hours.

Sorry but it's not enough.

> To handle any more details than that it's a perfect job
> for a 3rd party lib. Updating it here regularly is a nightmare.
> >   For such TZ updating we have to know the exact rules and any static
> >   _SET_UTC_OFFSET will not help because today in Poland we use CET
> >   (Central European Time) but on the last Sunday of March we will switch
> >   to CET (Central European Summer Time) and I do not wont to see in browser
> >   that on March 27 I started my job at 9:00 AM but one record down on
> >   March 30 I begin to work at 10:00 AM.
> >   We have to implement full conversion rules so we will know that in
> >   Poland in year 2009 on March 29 the time zone is swiched at 02:00
> > UTC+0100
> Okay, that's what I wrote above. I was thinking of UTC offset the
> whole time, but were writing TZ, sorry.

But without information about TZ rules we will not be able to present valid
local time.
In Poland
   17:00 UTC+0000
today means
   18:00 (CET)
but on March the 30 the same time (17:00 UTC+0000) will be:
   19:00 (CEST)
Without real timezone information we will not be able to present valid
local time. In both cases we extract from data base 17:00 UTC+0000.
Where we will find information that we should present it in local time
as: 18:00 or 19:00. Without full timzone tables I see only one solution.
Make conversion from UTC to local time using OS function. Most of modern
OS-es usually supports such conversions at least for one country set for
given system.
But here we will have other problem which should be resolved. DATE()
functions returns local date on UTC+0000 one. If we want to keep internally
TIMESTAMP values in UTC+0000 then we should make conversion to local time
(add UTC offset) before we make any comparison or calculations between
DATE and TIMESTAMP value. We probably cannot change DATE representation
now due to backward compatibility so (though I do not like it) maybe we
should keep in HVM TIMESTAMP value as local time and makes conversions
only when we exchange data with external systems, f.e. data base files.
Anyhow it's internal implementation detail which can be changed at any
time and which will not be visible for Harbour users. The public Harbour
API should hide it so it's not a problem we have to discus here.

If we agree that we store TIMESTAMP values always as UTC+0000 in external
systems then we will have yet another problem which should be resolved
when TIMESTAMP value is extracted. We should not make conversion to local
time if TIMESTAMP value contains time period not a whole date, f.e. one hour
"01:00:00.000". I do not want to see the situation when this one hour
is converted to two hours because I run my program in UTC+0100 timezone.
Without UTC flag stored in the table we have to introduce some hacks to
cover such situations. F.e. we can define that if TIMESTAMP value is smaller
then STOD( "00000101" ) then it's time period not exact date and time so it
should not be converted but taken directly as UTC+0000. It will reduce the
maximal range of time periods to 1721060 days what gives ~4712 years and
few days. IMHO it's big enough period in most of cases.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 12 19:52:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 19:53:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10247] trunk/harbour
In-Reply-To: <21983517.post@talk.nabble.com>
References: <E1LXhE5-0008C4-Jj@74yxhf1.ch3.sourceforge.com>
	<18d502870902121133h1ad7b00s5af7eeab1233c826@mail.gmail.com>
	<21983517.post@talk.nabble.com>
Message-ID: <18d502870902121652t417c8c67ha046b5ed532cd037@mail.gmail.com>

Thanks a lot Pritpal.
Brgds,
Viktor

On Thu, Feb 12, 2009 at 8:46 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Done!
>
>
> Viktor Szak?ts wrote:
> >
> > Please move this file to contrib/hbwin/.
> >
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10247--trunk-harbour-tp21983156p21983517.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090213/32451439/attachment.html
From harbour.01 at syenar.hu  Thu Feb 12 20:03:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 12 20:03:13 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212204103.GA6018@uran.home.aster.pl>
References: <18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
	<B0086553296@ms1.3peaks.com>
	<20090212191710.GA31090@uran.home.aster.pl>
	<18d502870902121127p6061d55ejcf9d78b985a70e6a@mail.gmail.com>
	<20090212204103.GA6018@uran.home.aster.pl>
Message-ID: <18d502870902121703j73252d84uf0b22e41ff06db2c@mail.gmail.com>

Hi Przemek,


> > To handle any more details than that it's a perfect job
> > for a 3rd party lib. Updating it here regularly is a nightmare.
> > >   For such TZ updating we have to know the exact rules and any static
> > >   _SET_UTC_OFFSET will not help because today in Poland we use CET
> > >   (Central European Time) but on the last Sunday of March we will
> switch
> > >   to CET (Central European Summer Time) and I do not wont to see in
> browser
> > >   that on March 27 I started my job at 9:00 AM but one record down on
> > >   March 30 I begin to work at 10:00 AM.
> > >   We have to implement full conversion rules so we will know that in
> > >   Poland in year 2009 on March 29 the time zone is swiched at 02:00
> > > UTC+0100
> > Okay, that's what I wrote above. I was thinking of UTC offset the
> > whole time, but were writing TZ, sorry.
>
> But without information about TZ rules we will not be able to present valid
> local time.
> In Poland
>   17:00 UTC+0000
> today means
>   18:00 (CET)
> but on March the 30 the same time (17:00 UTC+0000) will be:
>   19:00 (CEST)


Okay I understand, in order to know this rule, you must
know at least the Country code. Too bad. This system
sucks badly.

#if OFF
And we didn't even want to deal with working days, now
this system, at least in my country is even worse. Almost
impossible to properly deal with it.
#endif


> But here we will have other problem which should be resolved. DATE()
> functions returns local date on UTC+0000 one. If we want to keep internally
> TIMESTAMP values in UTC+0000 then we should make conversion to local time
> (add UTC offset) before we make any comparison or calculations between
> DATE and TIMESTAMP value. We probably cannot change DATE representation
> now due to backward compatibility so (though I do not like it) maybe we
> should keep in HVM TIMESTAMP value as local time and makes conversions
> only when we exchange data with external systems, f.e. data base files.
> Anyhow it's internal implementation detail which can be changed at any
> time and which will not be visible for Harbour users. The public Harbour
> API should hide it so it's not a problem we have to discus here.
>
> If we agree that we store TIMESTAMP values always as UTC+0000 in external
> systems then we will have yet another problem which should be resolved
> when TIMESTAMP value is extracted. We should not make conversion to local
> time if TIMESTAMP value contains time period not a whole date, f.e. one
> hour
> "01:00:00.000". I do not want to see the situation when this one hour
> is converted to two hours because I run my program in UTC+0100 timezone.
> Without UTC flag stored in the table we have to introduce some hacks to
> cover such situations. F.e. we can define that if TIMESTAMP value is
> smaller
> then STOD( "00000101" ) then it's time period not exact date and time so it
> should not be converted but taken directly as UTC+0000. It will reduce the
> maximal range of time periods to 1721060 days what gives ~4712 years and
> few days. IMHO it's big enough period in most of cases.


Okay, I understand what you mean.

Time to sleep for me now, good night for all in our TZ :)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090213/6b3e2532/attachment.html
From dbtopas at dbtopas.lt  Thu Feb 12 20:03:59 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Feb 12 20:04:01 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212204103.GA6018@uran.home.aster.pl>
References: <18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>	<20090210175218.GA20113@uran.home.aster.pl>	<20090212144431.GA15304@uran.home.aster.pl>	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>	<21979355.post@talk.nabble.com>
	<B0086550191@ms1.3peaks.com>	<20090212182052.GB25276@uran.home.aster.pl>	<B0086553296@ms1.3peaks.com>	<20090212191710.GA31090@uran.home.aster.pl>	<18d502870902121127p6061d55ejcf9d78b985a70e6a@mail.gmail.com>
	<20090212204103.GA6018@uran.home.aster.pl>
Message-ID: <4994C6FF.9020009@dbtopas.lt>

> Sorry but it's not enough.
> ...
> But here we will have other problem ....


Hi,


I do not know, that will be the end decision of this discussion, but I 
do NOT see any good way to implement Time zones, or even Time offset in 
the core of timestamp data typein some magic transparent way.
I think in many implementations (database field format, etc.) has just 
timestamp without time zone, but it's programmers business to do a 
proper conversion. If we try to do employers work time registration, 
perhaps we will save local time in database and we will not play with 
different UTC offsets for summer and winter. If we are going to do air 
traffic controller database we will use UTC only (despite of place on 
earth we are working). If we try to collect some time sensitive 
astronomical data, we may need to pay a huge attention on leap seconds 
(http://en.wikipedia.org/wiki/Leap_second).

We just have to know that system our database {, "T", 8, 0} field is, 
and have a function to know different between local time and time on 
THAT system. In many cases information about time difference between 
local and UTC is enough. It programmers job to convert it to required 
time offset for some database, or network protocol.


Regards,
Mindaugas

From druzus at acn.waw.pl  Thu Feb 12 21:57:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 12 21:52:55 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <4994C6FF.9020009@dbtopas.lt>
References: <20090212144431.GA15304@uran.home.aster.pl>
	<18d502870902120657k65a112d6uf7fb8d82b6562bd9@mail.gmail.com>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
	<B0086553296@ms1.3peaks.com>
	<20090212191710.GA31090@uran.home.aster.pl>
	<18d502870902121127p6061d55ejcf9d78b985a70e6a@mail.gmail.com>
	<20090212204103.GA6018@uran.home.aster.pl>
	<4994C6FF.9020009@dbtopas.lt>
Message-ID: <20090213025747.GA21796@uran.home.aster.pl>

On Fri, 13 Feb 2009, Mindaugas Kavaliauskas wrote:

Hi Mindaugas,

>> Sorry but it's not enough.
>> But here we will have other problem ....
> I do not know, that will be the end decision of this discussion, but I do 
> NOT see any good way to implement Time zones, or even Time offset in the 
> core of timestamp data typein some magic transparent way.
> I think in many implementations (database field format, etc.) has just 
> timestamp without time zone, but it's programmers business to do a proper 
> conversion.

Very well said. I hoped that someone will see it ;-)
If I want to store UTC+0000 value then I simply use that time
representation by using function which returns UTC time.
If I need local time then I use function which returns local time.

In theory it is possible to resolve this problem and keep everything
internally in UTC and make online conversions. But in real life it
cannot be easy implemented due to the fact well described in one of
GNU man pages:

,-------------------------------------------------------------------------
| Of course it turned out that the period in which Daylight Saving Time
| is in force cannot be given by a simple algorithm, one per country;
| indeed, this period is determined by unpredictable political decisions.
`-------------------------------------------------------------------------

Each time when I was writing about some automatic conversions I was
thinking how to disable them for my own use ;-)
I think it should finish the discussion about this feature until someone
will not present complete and working solution which will not break the
code already designed to work with different timestamp representations.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Feb 13 02:31:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 13 02:31:16 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090213025747.GA21796@uran.home.aster.pl>
References: <20090212144431.GA15304@uran.home.aster.pl>
	<21979355.post@talk.nabble.com> <B0086550191@ms1.3peaks.com>
	<20090212182052.GB25276@uran.home.aster.pl>
	<B0086553296@ms1.3peaks.com>
	<20090212191710.GA31090@uran.home.aster.pl>
	<18d502870902121127p6061d55ejcf9d78b985a70e6a@mail.gmail.com>
	<20090212204103.GA6018@uran.home.aster.pl>
	<4994C6FF.9020009@dbtopas.lt>
	<20090213025747.GA21796@uran.home.aster.pl>
Message-ID: <18d502870902122331l7a0c21bdq8cc6277fba57811d@mail.gmail.com>

>
> ,-------------------------------------------------------------------------
> | Of course it turned out that the period in which Daylight Saving Time
> | is in force cannot be given by a simple algorithm, one per country;
> | indeed, this period is determined by unpredictable political decisions.
> `-------------------------------------------------------------------------
>
> Each time when I was writing about some automatic conversions I was
> thinking how to disable them for my own use ;-)
> I think it should finish the discussion about this feature until someone
> will not present complete and working solution which will not break the
> code already designed to work with different timestamp representations.


I agree.

[ Same political reason is influencing working days here, to such
extent that they are modifying the system a few prior its occurrence,
probably the same story with TZ in some other places. So let's leave it. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090213/a2ecdb7d/attachment-0001.html
From vszakats at users.sourceforge.net  Fri Feb 13 03:26:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 03:26:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10249] trunk/harbour
Message-ID: <E1LXtNE-0002Cg-5m@74yxhf1.ch3.sourceforge.com>

Revision: 10249
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10249&view=rev
Author:   vszakats
Date:     2009-02-13 08:26:11 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 09:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/rddads/rddads.h
    ! Added missing extern directive.

  * contrib/hbwin/common.mak
  * contrib/hbwin/Makefile
    + Added hbwapi.h to installed headers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/common.mak
    trunk/harbour/contrib/rddads/rddads.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Feb 13 03:39:31 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb 13 03:39:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10250] trunk/harbour
Message-ID: <E1LXta7-0001UQ-B1@d5vjzd1.ch3.sourceforge.com>

Revision: 10250
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10250&view=rev
Author:   vouchcac
Date:     2009-02-13 08:39:30 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 00:29 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgcore.c
    ! Fixed hb_wvt_Get|SetStringAttrib()s to respect return errcode.

  + harbour/contrib/examples/terminal
  + harbour/contrib/examples/terminal/terminal.prg
  + harbour/contrib/examples/terminal/terminal.ch
  + harbour/contrib/examples/terminal/trm_server.prg
  + harbour/contrib/examples/terminal/trm_client.prg
  + harbour/contrib/examples/terminal/trm_appn.prg
  + harbour/contrib/examples/terminal/reame.txt
    + Added components for Harbour Terminal Protocol

    Welcome in the world of Harbour Terminal Protocol
    =================================================
    
    Harbour Terminal Protocol is build on three components:
    
    1) Terminal Server
    2) Terminal Client
    3) The Harbour Application
    
    Terminal Server
    ===============
       Source    => trm_server.prg
       Link      => GTWVG
       Run       => trm_server.exe 2011
       Parameter => <TCP/IP Port number - [D] 8085 ]
       Mode      => MT ( Multi Threaded )
    
       Terminal Server will reside on the same machine or network ( as of now )
       where Harbour Application resides. Harbour Application must be able
       to be run by ShellExecute() WINAPI function issued by the Terminal Server.
    
    
    Terminal Client
    ===============
       Source    => trm_client.prg
       Link      => GTWVG
       Run       => trm_client.exe  <IP - 127.0.0.1 | vouch.dynalias.com>
                                    <Port where Terminal Server is Listening - 2011>
                                    <Harbour Application - c:\harbour\contrib\examples\terminal\trm_appn.exe>
                                    [Parameters - Norammly Supplied to Appln - Separated by SPACE ]
                                    [InitDirectory - Harbour Application's Startup Folder ]
       Mode      => ST ( Single Threaded )
    
       Terminal Client can be distributed anywhere there is ACCESS TO designated TCP/IP port,
       be it a network clinet or any computer having internet avalable.
       Parameters supplied TO Harbour Client can be on command line or as an .ini file.
       .Ini file may contain these entries:
    
          ServerIP      =  127.0.0.1 | vouch.dynalias.com
          ServerPort    =  2011
          Application   =  c:\harbour\contrib\examples\terminal\trm_appn.exe
          Parameters    =  any number of parameters separated by a space
          InitDirectory =  Complete Folder path from where Harbour Appln will be invoked.
    
       IF parameters are supplied as .ini file, then .ini filename ( without path ) will be the
       only parameter - note - only one parameter passed on the command line.
    
    
    Harbour Application
    ===================
       Source(s)  => trm_appn.prg | Your program sources +
                     terminal.prg +
                     terminal.ch
       Link       => GTWVG
       Run        => No
       Mode       => ST ( Single Thread )
    
       Main() FUNCTION in Harbour Application will have TO be modified TO accept
       one additional parameter <cServerInfo> at the END of the usual parameters
       your application is accepting as ususal. And make sure that you send the same
       number of parameter either on the command line or through .ini file.
       <cServerInfo> parameter is supplied by Harbour Terminal Server.
    
       At just start of the Harbour Application, immediately after variable definitions
       in main() add these lines:
    
       FUNCTION Main( [p1] [, p2] [, p3], cServerInfo )
          LOCAL x, y
    
          // Required it initialize the GTWVG window
          SetColor( 'N/W,W/B,W+/N' )
          CLS
          ? ' '
    
          #ifdef __REMOTE__
             // cServerInfo will be supplied by the Remote Server
             //
             RmtSvrSetInfo( cServerInfo )
    
             IF ( nServerPort := RmtSvrSetInfo( 1 ) ) <> NIL .and. nServerPort > 0
                IF !RmtSvrInitialize( NTRIM( nServerPort ), 60/*nTimeoutClient*/, 0.5 /*nTimeRefresh*/ )
                   Quit
                ENDIF
             ENDIF
          #endif
    
          ...
          ...
    
          RETURN
    
    
       Must remember to issue - ANNOUNCE HB_NOSTARTUPWINDOW - somewhere in your sources
       Please note that we do not want to show up the Harbour console on the server so
       HB_NOSTARTUPWINDOW symbol must be defined.
    
       And this is the only requirement for your appln to be NET ready.
    
    
    Technical Overview
    ==================
       Client connects to Server.
       Server looks for a free port - 45000+.
       Server invokes Harbour Application with client supplied parameters + <cSerrverInfo==45000+>.
       Harbour Application itself behaves as server on start listening on designated port.
       Server informs back to Client about this port where Harbour Application is listening.
       Client connects to Harbour Application on designated port.
       If connection is successful, Server closes the connection from Client and Application.
       Client and Application then have the direct communication.
       Client transmits the keystrokes and Application reacts TO those events as IF supplied via keyboard.
       Application transmits the screen buffer back TO client IF there have been any changes.
       Application also transmits special commands, call them 'Remote Procedure Calls'.
       Client responds TO received buffer according TO instruction it contains.
       Client retrieves buffer per command basis.
       Events are not serialized.
    
    
    The Bottom Line
    ===============
       The protocol above works as expected but is not as sophisticated as it should be.
       GTNET as Przemek has been talking about will be the perfect solution though this
       can be the basis FOR future enhancements. A lot can be improved, i.e., remote
       printing, etc., which I hope you Gurus can implement in no times.
    
       It is my humble contribution TO the Harbour world.
    
    
    Regards
    Pritpal Bedi <pritpal@vouchcac.com>
    a student of software analysis & design

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgcore.c

Added Paths:
-----------
    trunk/harbour/contrib/examples/terminal/
    trunk/harbour/contrib/examples/terminal/readme.txt
    trunk/harbour/contrib/examples/terminal/terminal.ch
    trunk/harbour/contrib/examples/terminal/terminal.prg
    trunk/harbour/contrib/examples/terminal/trm_appn.prg
    trunk/harbour/contrib/examples/terminal/trm_client.prg
    trunk/harbour/contrib/examples/terminal/trm_server.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 04:53:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 04:53:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10251] trunk/harbour
Message-ID: <E1LXujS-0005gA-BC@dn4whf1.ch3.sourceforge.com>

Revision: 10251
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10251&view=rev
Author:   vszakats
Date:     2009-02-13 09:53:13 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 10:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbdefs.h
  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.h
  * contrib/examples/terminal/trm_client.prg
    + Added HB_EXTERN_START/END.

  * include/hbdefs.h
    + Added some comments from the original mail from Przemek.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/terminal/trm_client.prg
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb 13 04:50:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 13 04:54:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10250] trunk/harbour
In-Reply-To: <E1LXta7-0001UQ-B1@d5vjzd1.ch3.sourceforge.com>
References: <E1LXta7-0001UQ-B1@d5vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870902130150r114a2517s11710bdc2442fc0d@mail.gmail.com>

Hi Pritpal, looks great, many thanks.
I'll try to create make files for them.

Basically that's what's needed:

set HB_ARCHITECTURE=win
set HB_COMPILER=bcc32
set HB_USER_LIBS=gtwvg.lib hbwin.lib xhb.lib
set HB_GUI=yes
set HB_USER_CFLAGS=

Brgds,
Viktor

On Fri, Feb 13, 2009 at 9:39 AM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10250
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10250&view=rev
> Author:   vouchcac
> Date:     2009-02-13 08:39:30 +0000 (Fri, 13 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-13 00:29 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/gtwvg/wvgcore.c
>    ! Fixed hb_wvt_Get|SetStringAttrib()s to respect return errcode.
>
>  + harbour/contrib/examples/terminal
>  + harbour/contrib/examples/terminal/terminal.prg
>  + harbour/contrib/examples/terminal/terminal.ch
>  + harbour/contrib/examples/terminal/trm_server.prg
>  + harbour/contrib/examples/terminal/trm_client.prg
>  + harbour/contrib/examples/terminal/trm_appn.prg
>  + harbour/contrib/examples/terminal/reame.txt
>    + Added components for Harbour Terminal Protocol
>
>    Welcome in the world of Harbour Terminal Protocol
>    =================================================
>
>    Harbour Terminal Protocol is build on three components:
>
>    1) Terminal Server
>    2) Terminal Client
>    3) The Harbour Application
>
>    Terminal Server
>    ===============
>       Source    => trm_server.prg
>       Link      => GTWVG
>       Run       => trm_server.exe 2011
>       Parameter => <TCP/IP Port number - [D] 8085 ]
>       Mode      => MT ( Multi Threaded )
>
>       Terminal Server will reside on the same machine or network ( as of
> now )
>       where Harbour Application resides. Harbour Application must be able
>       to be run by ShellExecute() WINAPI function issued by the Terminal
> Server.
>
>
>    Terminal Client
>    ===============
>       Source    => trm_client.prg
>       Link      => GTWVG
>       Run       => trm_client.exe  <IP - 127.0.0.1 | vouch.dynalias.com>
>                                    <Port where Terminal Server is Listening
> - 2011>
>                                    <Harbour Application -
> c:\harbour\contrib\examples\terminal\trm_appn.exe>
>                                    [Parameters - Norammly Supplied to Appln
> - Separated by SPACE ]
>                                    [InitDirectory - Harbour Application's
> Startup Folder ]
>       Mode      => ST ( Single Threaded )
>
>       Terminal Client can be distributed anywhere there is ACCESS TO
> designated TCP/IP port,
>       be it a network clinet or any computer having internet avalable.
>       Parameters supplied TO Harbour Client can be on command line or as an
> .ini file.
>       .Ini file may contain these entries:
>
>          ServerIP      =  127.0.0.1 | vouch.dynalias.com
>          ServerPort    =  2011
>          Application   =  c:\harbour\contrib\examples\terminal\trm_appn.exe
>          Parameters    =  any number of parameters separated by a space
>          InitDirectory =  Complete Folder path from where Harbour Appln
> will be invoked.
>
>       IF parameters are supplied as .ini file, then .ini filename ( without
> path ) will be the
>       only parameter - note - only one parameter passed on the command
> line.
>
>
>    Harbour Application
>    ===================
>       Source(s)  => trm_appn.prg | Your program sources +
>                     terminal.prg +
>                     terminal.ch
>       Link       => GTWVG
>       Run        => No
>       Mode       => ST ( Single Thread )
>
>       Main() FUNCTION in Harbour Application will have TO be modified TO
> accept
>       one additional parameter <cServerInfo> at the END of the usual
> parameters
>       your application is accepting as ususal. And make sure that you send
> the same
>       number of parameter either on the command line or through .ini file.
>       <cServerInfo> parameter is supplied by Harbour Terminal Server.
>
>       At just start of the Harbour Application, immediately after variable
> definitions
>       in main() add these lines:
>
>       FUNCTION Main( [p1] [, p2] [, p3], cServerInfo )
>          LOCAL x, y
>
>          // Required it initialize the GTWVG window
>          SetColor( 'N/W,W/B,W+/N' )
>          CLS
>          ? ' '
>
>          #ifdef __REMOTE__
>             // cServerInfo will be supplied by the Remote Server
>             //
>             RmtSvrSetInfo( cServerInfo )
>
>             IF ( nServerPort := RmtSvrSetInfo( 1 ) ) <> NIL .and.
> nServerPort > 0
>                IF !RmtSvrInitialize( NTRIM( nServerPort ),
> 60/*nTimeoutClient*/, 0.5 /*nTimeRefresh*/ )
>                   Quit
>                ENDIF
>             ENDIF
>          #endif
>
>          ...
>          ...
>
>          RETURN
>
>
>       Must remember to issue - ANNOUNCE HB_NOSTARTUPWINDOW - somewhere in
> your sources
>       Please note that we do not want to show up the Harbour console on the
> server so
>       HB_NOSTARTUPWINDOW symbol must be defined.
>
>       And this is the only requirement for your appln to be NET ready.
>
>
>    Technical Overview
>    ==================
>       Client connects to Server.
>       Server looks for a free port - 45000+.
>       Server invokes Harbour Application with client supplied parameters +
> <cSerrverInfo==45000+>.
>       Harbour Application itself behaves as server on start listening on
> designated port.
>       Server informs back to Client about this port where Harbour
> Application is listening.
>       Client connects to Harbour Application on designated port.
>       If connection is successful, Server closes the connection from Client
> and Application.
>       Client and Application then have the direct communication.
>       Client transmits the keystrokes and Application reacts TO those
> events as IF supplied via keyboard.
>       Application transmits the screen buffer back TO client IF there have
> been any changes.
>       Application also transmits special commands, call them 'Remote
> Procedure Calls'.
>       Client responds TO received buffer according TO instruction it
> contains.
>       Client retrieves buffer per command basis.
>       Events are not serialized.
>
>
>    The Bottom Line
>    ===============
>       The protocol above works as expected but is not as sophisticated as
> it should be.
>       GTNET as Przemek has been talking about will be the perfect solution
> though this
>       can be the basis FOR future enhancements. A lot can be improved,
> i.e., remote
>       printing, etc., which I hope you Gurus can implement in no times.
>
>       It is my humble contribution TO the Harbour world.
>
>
>    Regards
>    Pritpal Bedi <pritpal@vouchcac.com>
>    a student of software analysis & design
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/wvgcore.c
>
> Added Paths:
> -----------
>    trunk/harbour/contrib/examples/terminal/
>    trunk/harbour/contrib/examples/terminal/readme.txt
>    trunk/harbour/contrib/examples/terminal/terminal.ch
>    trunk/harbour/contrib/examples/terminal/terminal.prg
>    trunk/harbour/contrib/examples/terminal/trm_appn.prg
>    trunk/harbour/contrib/examples/terminal/trm_client.prg
>    trunk/harbour/contrib/examples/terminal/trm_server.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090213/7bfbc1e0/attachment-0001.html
From druzus at users.sourceforge.net  Fri Feb 13 05:04:17 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb 13 05:04:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10252] trunk/harbour
Message-ID: <E1LXuu9-0002uP-V5@d5vjzd1.ch3.sourceforge.com>

Revision: 10252
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10252&view=rev
Author:   druzus
Date:     2009-02-13 10:04:16 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 11:08 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbpp.h
  * harbour/source/pp/hbpp.c
  * harbour/source/pp/ppcore.c
  * harbour/source/compiler/hbmain.c
    + added support for dynamically calculated #define results
    ! removed old code which was adding __FILE__ #define constant
      It was not working correctly like in other compilers ignoring
      #include
    + added __FILE__ and __LINE__ #define directives using dynamically
      calculated results - now it works as expected respecting #include
      directives and the implementation is local to PP without any hacks
      in core compiler code.

  * harbour/contrib/hbct/files.c
    * added support for optional milliseconds part in HB_FSETDATETIME()/
      HB_FGETDATETIME().

  * harbour/source/rtl/philes.c
    ! minor fix in return value

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/include/hbpp.h
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/pp/hbpp.c
    trunk/harbour/source/pp/ppcore.c
    trunk/harbour/source/rtl/philes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Fri Feb 13 05:05:41 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 13 05:06:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10250] trunk/harbour
In-Reply-To: <E1LXta7-0001UQ-B1@d5vjzd1.ch3.sourceforge.com>
References: <E1LXta7-0001UQ-B1@d5vjzd1.ch3.sourceforge.com>
Message-ID: <499545F5.6090606@fsgiudice.com>

Hi Pritpal,


Il 13/02/2009 9.39, vouchcac@users.sourceforge.net ha scritto:
> 
>     Welcome in the world of Harbour Terminal Protocol
>     =================================================

Great!
Thank you for sharing it.

Best regards

Francesco
From druzus at acn.waw.pl  Fri Feb 13 05:13:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 13 05:08:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10250] trunk/harbour
In-Reply-To: <E1LXta7-0001UQ-B1@d5vjzd1.ch3.sourceforge.com>
References: <E1LXta7-0001UQ-B1@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20090213101325.GA22425@uran.home.aster.pl>

On Fri, 13 Feb 2009, vouchcac@users.sourceforge.net wrote:

Hi Pritpal,

>     Welcome in the world of Harbour Terminal Protocol
>     =================================================

Great contribution.
My congratulations.
I'll try to look at it in spare time when I'll finish some
things for Harbour I'm working on.

best regards,
Przemek
From mauriliolongo at users.sourceforge.net  Fri Feb 13 05:18:29 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Fri Feb 13 05:18:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
Message-ID: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>

Revision: 10253
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10253&view=rev
Author:   mauriliolongo
Date:     2009-02-13 10:18:28 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 11:15 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
  * harbour/include/hbthread.h
  * harbour/source/vm/thread.c
    ! fixed a bug on OS/2 MT implementation adding a new function,
      _hb_cond_timed_wait() because when a semaphore gets posted it has
      to be reset, otherwise it does not stop new threads entering it in a wait.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbthread.h
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Fri Feb 13 05:21:04 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb 13 05:21:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>
Message-ID: <49954990.3000503@libero.it>

Przemyslaw,

do you think my change can conflict in any way with current MT implementation
on OS/2? I don't think, but I'd like to hear from you on this issue.

Thanks.

Maurilio.


mauriliolongo@users.sourceforge.net wrote:
> Revision: 10253
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10253&view=rev
> Author:   mauriliolongo
> Date:     2009-02-13 10:18:28 +0000 (Fri, 13 Feb 2009)
> 
> Log Message:
> -----------
> 2009-02-13 11:15 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
>   * harbour/include/hbthread.h
>   * harbour/source/vm/thread.c
>     ! fixed a bug on OS/2 MT implementation adding a new function,
>       _hb_cond_timed_wait() because when a semaphore gets posted it has
>       to be reset, otherwise it does not stop new threads entering it in a wait.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/include/hbthread.h
>     trunk/harbour/source/vm/thread.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Fri Feb 13 06:10:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 06:10:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10254] trunk/harbour
Message-ID: <E1LXvwY-0001yc-HV@bj8yhf1.ch3.sourceforge.com>

Revision: 10254
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10254&view=rev
Author:   vszakats
Date:     2009-02-13 11:10:49 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 12:09 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + contrib/examples/terminal/hbmk_b32.bat
  + contrib/examples/terminal/hbmk_b32_trm_appn.bat
  + contrib/examples/terminal/hbmk_vc.bat
  + contrib/examples/terminal/hbmk_vc_trm_appn.bat
    + Added build batches, one generic for client and server,
      and one special for trm_appn.
    ; NOTE: Turn off Unicode when building these apps.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/examples/terminal/hbmk_b32.bat
    trunk/harbour/contrib/examples/terminal/hbmk_b32_trm_appn.bat
    trunk/harbour/contrib/examples/terminal/hbmk_vc.bat
    trunk/harbour/contrib/examples/terminal/hbmk_vc_trm_appn.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 07:08:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 07:08:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10255] trunk/harbour
Message-ID: <E1LXwq2-0008V3-6X@74yxhf1.ch3.sourceforge.com>

Revision: 10255
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10255&view=rev
Author:   vszakats
Date:     2009-02-13 12:08:09 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 13:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/common/hbver.c
    + Added Windows 7 and Windows Server 2008 R2 detection.

  * source/rtl/dateshb.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/rtl/dateshb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Feb 13 10:00:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 13 10:01:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10250] trunk/harbour
In-Reply-To: <E1LXta7-0001UQ-B1@d5vjzd1.ch3.sourceforge.com>
References: <E1LXta7-0001UQ-B1@d5vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70902130700g7cc24244ya3fd18c0b6b4e8b5@mail.gmail.com>

Great!compliment

2009/2/13 <vouchcac@users.sourceforge.net>

> Revision: 10250
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10250&view=rev
> Author:   vouchcac
> Date:     2009-02-13 08:39:30 +0000 (Fri, 13 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-13 00:29 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/gtwvg/wvgcore.c
>    ! Fixed hb_wvt_Get|SetStringAttrib()s to respect return errcode.
>
>  + harbour/contrib/examples/terminal
>  + harbour/contrib/examples/terminal/terminal.prg
>  + harbour/contrib/examples/terminal/terminal.ch
>  + harbour/contrib/examples/terminal/trm_server.prg
>  + harbour/contrib/examples/terminal/trm_client.prg
>  + harbour/contrib/examples/terminal/trm_appn.prg
>  + harbour/contrib/examples/terminal/reame.txt
>    + Added components for Harbour Terminal Protocol
>
>    Welcome in the world of Harbour Terminal Protocol
>    =================================================
>
>    Harbour Terminal Protocol is build on three components:
>
>    1) Terminal Server
>    2) Terminal Client
>    3) The Harbour Application
>
>    Terminal Server
>    ===============
>       Source    => trm_server.prg
>       Link      => GTWVG
>       Run       => trm_server.exe 2011
>       Parameter => <TCP/IP Port number - [D] 8085 ]
>       Mode      => MT ( Multi Threaded )
>
>       Terminal Server will reside on the same machine or network ( as of
> now )
>       where Harbour Application resides. Harbour Application must be able
>       to be run by ShellExecute() WINAPI function issued by the Terminal
> Server.
>
>
>    Terminal Client
>    ===============
>       Source    => trm_client.prg
>       Link      => GTWVG
>       Run       => trm_client.exe  <IP - 127.0.0.1 | vouch.dynalias.com>
>                                    <Port where Terminal Server is Listening
> - 2011>
>                                    <Harbour Application -
> c:\harbour\contrib\examples\terminal\trm_appn.exe>
>                                    [Parameters - Norammly Supplied to Appln
> - Separated by SPACE ]
>                                    [InitDirectory - Harbour Application's
> Startup Folder ]
>       Mode      => ST ( Single Threaded )
>
>       Terminal Client can be distributed anywhere there is ACCESS TO
> designated TCP/IP port,
>       be it a network clinet or any computer having internet avalable.
>       Parameters supplied TO Harbour Client can be on command line or as an
> .ini file.
>       .Ini file may contain these entries:
>
>          ServerIP      =  127.0.0.1 | vouch.dynalias.com
>          ServerPort    =  2011
>          Application   =  c:\harbour\contrib\examples\terminal\trm_appn.exe
>          Parameters    =  any number of parameters separated by a space
>          InitDirectory =  Complete Folder path from where Harbour Appln
> will be invoked.
>
>       IF parameters are supplied as .ini file, then .ini filename ( without
> path ) will be the
>       only parameter - note - only one parameter passed on the command
> line.
>
>
>    Harbour Application
>    ===================
>       Source(s)  => trm_appn.prg | Your program sources +
>                     terminal.prg +
>                     terminal.ch
>       Link       => GTWVG
>       Run        => No
>       Mode       => ST ( Single Thread )
>
>       Main() FUNCTION in Harbour Application will have TO be modified TO
> accept
>       one additional parameter <cServerInfo> at the END of the usual
> parameters
>       your application is accepting as ususal. And make sure that you send
> the same
>       number of parameter either on the command line or through .ini file.
>       <cServerInfo> parameter is supplied by Harbour Terminal Server.
>
>       At just start of the Harbour Application, immediately after variable
> definitions
>       in main() add these lines:
>
>       FUNCTION Main( [p1] [, p2] [, p3], cServerInfo )
>          LOCAL x, y
>
>          // Required it initialize the GTWVG window
>          SetColor( 'N/W,W/B,W+/N' )
>          CLS
>          ? ' '
>
>          #ifdef __REMOTE__
>             // cServerInfo will be supplied by the Remote Server
>             //
>             RmtSvrSetInfo( cServerInfo )
>
>             IF ( nServerPort := RmtSvrSetInfo( 1 ) ) <> NIL .and.
> nServerPort > 0
>                IF !RmtSvrInitialize( NTRIM( nServerPort ),
> 60/*nTimeoutClient*/, 0.5 /*nTimeRefresh*/ )
>                   Quit
>                ENDIF
>             ENDIF
>          #endif
>
>          ...
>          ...
>
>          RETURN
>
>
>       Must remember to issue - ANNOUNCE HB_NOSTARTUPWINDOW - somewhere in
> your sources
>       Please note that we do not want to show up the Harbour console on the
> server so
>       HB_NOSTARTUPWINDOW symbol must be defined.
>
>       And this is the only requirement for your appln to be NET ready.
>
>
>    Technical Overview
>    ==================
>       Client connects to Server.
>       Server looks for a free port - 45000+.
>       Server invokes Harbour Application with client supplied parameters +
> <cSerrverInfo==45000+>.
>       Harbour Application itself behaves as server on start listening on
> designated port.
>       Server informs back to Client about this port where Harbour
> Application is listening.
>       Client connects to Harbour Application on designated port.
>       If connection is successful, Server closes the connection from Client
> and Application.
>       Client and Application then have the direct communication.
>       Client transmits the keystrokes and Application reacts TO those
> events as IF supplied via keyboard.
>       Application transmits the screen buffer back TO client IF there have
> been any changes.
>       Application also transmits special commands, call them 'Remote
> Procedure Calls'.
>       Client responds TO received buffer according TO instruction it
> contains.
>       Client retrieves buffer per command basis.
>       Events are not serialized.
>
>
>    The Bottom Line
>    ===============
>       The protocol above works as expected but is not as sophisticated as
> it should be.
>       GTNET as Przemek has been talking about will be the perfect solution
> though this
>       can be the basis FOR future enhancements. A lot can be improved,
> i.e., remote
>       printing, etc., which I hope you Gurus can implement in no times.
>
>       It is my humble contribution TO the Harbour world.
>
>
>    Regards
>    Pritpal Bedi <pritpal@vouchcac.com>
>    a student of software analysis & design
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/wvgcore.c
>
> Added Paths:
> -----------
>    trunk/harbour/contrib/examples/terminal/
>    trunk/harbour/contrib/examples/terminal/readme.txt
>    trunk/harbour/contrib/examples/terminal/terminal.ch
>    trunk/harbour/contrib/examples/terminal/terminal.prg
>    trunk/harbour/contrib/examples/terminal/trm_appn.prg
>    trunk/harbour/contrib/examples/terminal/trm_client.prg
>    trunk/harbour/contrib/examples/terminal/trm_server.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090213/fa50d2bb/attachment-0001.html
From vszakats at users.sourceforge.net  Fri Feb 13 10:12:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 10:12:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10256] trunk/harbour
Message-ID: <E1LXzid-0008Ag-1t@bj8yhf1.ch3.sourceforge.com>

Revision: 10256
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10256&view=rev
Author:   vszakats
Date:     2009-02-13 15:12:42 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hbmk.bat
    + Added autodetection of Harbour dirs. So this batch will
      now work when called from any directories, and even if
      '/bin' dir is added to the PATH. IOW, it's not anymore
      necessary to supply these envvars in normal cases:
      HB_INSTALL_PREFIX, HB_BIN_INSTALL, HB_LIB_INSTALL,
      HB_INC_INSTALL. If someone moves this batch file away
      from its original place, these envvars can still be used
      to point to the Harbour tree, but support for this may
      be removed in the future to keep things simple.
    + Added support for multiple .prg files on the command line.
      The first will be the main program.
    + Added support to supply .c files on the command line.
      [these features need Windows NT or upper]
    ; TODO: Test OpenWatcom. I had to remove -fo and FILE
            directives from script, if this was required we
            need to find a solution to support multiple
            input files.

  * bin/hbmk_b32.bat
  * bin/hbmk_vc.bat
    + Now these files can be called from any directories and even
      when '/bin' dir is added to the PATH.
    + Added support for unlimited number of command line parameters.
      [these features need Windows NT or upper]
    * Changed to not interfere with 'echo off' setting of the
      caller.

  ; NOTE: After this change it's possible to get rid of all
          non-customized version of hbmk_b32.bat/hbmk_vc.bat
          files in the source tree. I plan to remove these in
          the near future. The rest can be simplified in most
          places. This will only cause some inconvenience
          for developers still using Win95/98/ME.

  + bin/hbmk_gcc.bat
  + bin/hbmk_ow.bat
    + Added make batch files to MingW/GCC and OpenWatcom.

  * contrib/hbwin/win_tprn.prg
    ! Fixed recent typo.

  * include/hbstdgen.ch
    - Removed #undef __FILE__. I understand this isn't needed anymore.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/bin/hbmk_b32.bat
    trunk/harbour/bin/hbmk_vc.bat
    trunk/harbour/contrib/hbwin/win_tprn.prg
    trunk/harbour/include/hbstdgen.ch

Added Paths:
-----------
    trunk/harbour/bin/hbmk_gcc.bat
    trunk/harbour/bin/hbmk_ow.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 10:36:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 10:36:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10257] trunk/harbour
Message-ID: <E1LY05D-0007zo-Mm@c3vjzd1.ch3.sourceforge.com>

Revision: 10257
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10257&view=rev
Author:   vszakats
Date:     2009-02-13 15:36:02 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 16:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hbmk.bat
    + Added detection for .PRG written in uppercase.
      (needed for DBU original sources.)
    ! Fixed to set 'echo off'

  * contrib/examples/guestbk/hbmk_b32.bat
  * contrib/examples/guestbk/hbmk_vc.bat
  * contrib/examples/dbu/hbmk_b32.bat
  * contrib/examples/dbu/hbmk_vc.bat
  * utils/hbdoc/hbmk_b32.bat
  * utils/hbdoc/hbmk_vc.bat
  * utils/hbmake/hbmk_b32.bat
  * utils/hbmake/hbmk_vc.bat
    % Switched to use hbmk instead of using local logic.

  * ChangeLog
    + Added one item to previous entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/contrib/examples/dbu/hbmk_b32.bat
    trunk/harbour/contrib/examples/dbu/hbmk_vc.bat
    trunk/harbour/contrib/examples/guestbk/hbmk_b32.bat
    trunk/harbour/contrib/examples/guestbk/hbmk_vc.bat
    trunk/harbour/utils/hbdoc/hbmk_b32.bat
    trunk/harbour/utils/hbdoc/hbmk_vc.bat
    trunk/harbour/utils/hbmake/hbmk_b32.bat
    trunk/harbour/utils/hbmake/hbmk_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Fri Feb 13 11:42:02 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Feb 13 10:39:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10256] trunk/harbour
In-Reply-To: <E1LXzid-0008Ag-1t@bj8yhf1.ch3.sourceforge.com>
References: <E1LXzid-0008Ag-1t@bj8yhf1.ch3.sourceforge.com>
Message-ID: <fl8bp45l4l3hd05mqbrls902dhjlff3o9j@4ax.com>

>2009-02-13 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * bin/hbmk.bat
>    + Added autodetection of Harbour dirs. So this batch will
>      now work when called from any directories

Very nice feature Viktor, thank you.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From vszakats at users.sourceforge.net  Fri Feb 13 11:28:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 11:28:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10258] trunk/harbour
Message-ID: <E1LY0tz-0008JW-QP@dn4whf1.ch3.sourceforge.com>

Revision: 10258
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10258&view=rev
Author:   vszakats
Date:     2009-02-13 16:28:30 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 17:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hbmk.bat
    + Added support for pure .c projects. (like pp)

  * contrib/examples/pp/hbmk_b32.bat
  * contrib/examples/pp/hbmk_vc.bat
  * contrib/examples/guestbk/hbmk_b32.bat
  * contrib/examples/guestbk/hbmk_vc.bat
  * contrib/examples/pe/hbmk_b32.bat
  * contrib/examples/pe/hbmk_vc.bat
  * contrib/examples/hbsqlit2/tests/hbmk_b32.bat
  * contrib/examples/hbsqlit2/tests/hbmk_vc.bat
  * contrib/examples/uhttpd/hbmk_b32.bat
  * contrib/examples/uhttpd/hbmk_vc.bat
  * contrib/examples/dbu/hbmk_b32.bat
  * contrib/examples/dbu/hbmk_vc.bat
  * contrib/examples/terminal/hbmk_b32.bat
  * contrib/examples/terminal/hbmk_b32_trm_appn.bat
  * contrib/examples/terminal/hbmk_vc.bat
  * contrib/examples/terminal/hbmk_vc_trm_appn.bat
  * contrib/examples/hscript/hbmk_b32.bat
  * contrib/examples/hscript/hbmk_vc.bat
  * contrib/examples/rl/hbmk_b32.bat
  * contrib/examples/rl/hbmk_vc.bat
  * utils/hbdoc/hbmk_b32.bat
  * utils/hbdoc/hbmk_vc.bat
  * utils/hbmake/hbmk_b32.bat
  * utils/hbmake/hbmk_vc.bat
    % Much simplified batch files. Actually the content of vc
      and b32 are fully identical, so you can easily create new
      flavours for GCC and OpenWatcom by simply making a copy by
      the name hbmk_gcc.bat or hbmk_ow.bat. Et voila.
    ; NOTE: As indicated, these won't work with Win9x anymore.

  * contrib/examples/pp/hbppcore.c
    + Added <ctype.h> to make it compile with recent Harbour.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/contrib/examples/dbu/hbmk_b32.bat
    trunk/harbour/contrib/examples/dbu/hbmk_vc.bat
    trunk/harbour/contrib/examples/guestbk/hbmk_b32.bat
    trunk/harbour/contrib/examples/guestbk/hbmk_vc.bat
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbmk_b32.bat
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbmk_vc.bat
    trunk/harbour/contrib/examples/hscript/hbmk_b32.bat
    trunk/harbour/contrib/examples/hscript/hbmk_vc.bat
    trunk/harbour/contrib/examples/pe/hbmk_b32.bat
    trunk/harbour/contrib/examples/pe/hbmk_vc.bat
    trunk/harbour/contrib/examples/pp/hbmk_b32.bat
    trunk/harbour/contrib/examples/pp/hbmk_vc.bat
    trunk/harbour/contrib/examples/pp/hbppcore.c
    trunk/harbour/contrib/examples/rl/hbmk_b32.bat
    trunk/harbour/contrib/examples/rl/hbmk_vc.bat
    trunk/harbour/contrib/examples/terminal/hbmk_b32.bat
    trunk/harbour/contrib/examples/terminal/hbmk_b32_trm_appn.bat
    trunk/harbour/contrib/examples/terminal/hbmk_vc.bat
    trunk/harbour/contrib/examples/terminal/hbmk_vc_trm_appn.bat
    trunk/harbour/contrib/examples/uhttpd/hbmk_b32.bat
    trunk/harbour/contrib/examples/uhttpd/hbmk_vc.bat
    trunk/harbour/utils/hbdoc/hbmk_b32.bat
    trunk/harbour/utils/hbdoc/hbmk_vc.bat
    trunk/harbour/utils/hbmake/hbmk_b32.bat
    trunk/harbour/utils/hbmake/hbmk_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 11:35:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 11:35:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10259] trunk/harbour
Message-ID: <E1LY10M-0001xZ-O8@dn4whf1.ch3.sourceforge.com>

Revision: 10259
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10259&view=rev
Author:   vszakats
Date:     2009-02-13 16:35:06 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 17:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hbmk.bat
    + Allow mixing -mt, -gui, -shared, -debug switches 
      with the input files.
      So 'hbmk_vc testapp -gui' will now work.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 12:39:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 12:39:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10260] trunk/harbour
Message-ID: <E1LY20i-0003Ku-FP@dn4whf1.ch3.sourceforge.com>

Revision: 10260
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10260&view=rev
Author:   vszakats
Date:     2009-02-13 17:39:31 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 18:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hbmk.bat
    + Added automatic architecture detection on Windows NT and above.
    + Added automatic compiler detection on Windows NT and above.
      (mingw, msvc, bcc32 and owatcom are detected - in that order)
      The given compiler should be properly setup, with compiler
      executable in PATH or current dir.

    ; NOTE: This makes it possible to get rid of all hbmk_b32.bat and
            hbmk_vc.bat files and at the same time automatically
            add support for OpenWatcom and MinGW for all our tests,
            examples, etc. I'll replace all special hbmk_b32.bat 
            and hbmk_vc.bat files with generic local hbmk.bat files, 
            which can be used with any supported compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 12:43:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 12:43:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10261] trunk/harbour
Message-ID: <E1LY24f-0004Nr-Dx@dn4whf1.ch3.sourceforge.com>

Revision: 10261
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10261&view=rev
Author:   vszakats
Date:     2009-02-13 17:43:36 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 18:43 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + contrib/examples/dbu/hbmk.bat
  - contrib/examples/dbu/hbmk_b32.bat
  - contrib/examples/dbu/hbmk_vc.bat
  + contrib/examples/hscript/hbmk.bat
  - contrib/examples/hscript/hbmk_b32.bat
  - contrib/examples/hscript/hbmk_vc.bat
    % Converted compiler specific make files to generic ones.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/examples/dbu/hbmk.bat
    trunk/harbour/contrib/examples/hscript/hbmk.bat

Removed Paths:
-------------
    trunk/harbour/contrib/examples/dbu/hbmk_b32.bat
    trunk/harbour/contrib/examples/dbu/hbmk_vc.bat
    trunk/harbour/contrib/examples/hscript/hbmk_b32.bat
    trunk/harbour/contrib/examples/hscript/hbmk_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 12:47:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 12:48:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10262]
	trunk/harbour/bin/hbmk.bat
Message-ID: <E1LY28s-0005UH-Du@dn4whf1.ch3.sourceforge.com>

Revision: 10262
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10262&view=rev
Author:   vszakats
Date:     2009-02-13 17:47:58 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
two minor debug stuff removed

Modified Paths:
--------------
    trunk/harbour/bin/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 13:02:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 13:02:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10263] trunk/harbour
Message-ID: <E1LY2N3-0008Tz-8n@dn4whf1.ch3.sourceforge.com>

Revision: 10263
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10263&view=rev
Author:   vszakats
Date:     2009-02-13 18:02:34 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 19:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hbmk.bat
    % Compiler detection made faster.
    ; TOFIX: MinGW requires different library names than the rest
             of compilers, so it currently won't work for hbmk.bat
             files where HB_USER_LIBS is set.

  + contrib/examples/pp/hbmk.bat
  - contrib/examples/pp/hbmk_b32.bat
  - contrib/examples/pp/hbmk_vc.bat
  + contrib/examples/guestbk/hbmk.bat
  - contrib/examples/guestbk/hbmk_b32.bat
  - contrib/examples/guestbk/hbmk_vc.bat
  + contrib/examples/pe/hbmk.bat
  - contrib/examples/pe/hbmk_b32.bat
  - contrib/examples/pe/hbmk_vc.bat
  + contrib/examples/hbsqlit2/tests/hbmk.bat
  - contrib/examples/hbsqlit2/tests/hbmk_b32.bat
  - contrib/examples/hbsqlit2/tests/hbmk_vc.bat
  + contrib/examples/uhttpd/hbmk.bat
  - contrib/examples/uhttpd/hbmk_b32.bat
  - contrib/examples/uhttpd/hbmk_vc.bat
  + contrib/examples/terminal/hbmk.bat
  - contrib/examples/terminal/hbmk_b32.bat
  - contrib/examples/terminal/hbmk_vc.bat
  + contrib/examples/terminal/hbmk_trm_appn.bat
  - contrib/examples/terminal/hbmk_b32_trm_appn.bat
  - contrib/examples/terminal/hbmk_vc_trm_appn.bat
  + contrib/examples/rl/hbmk.bat
  - contrib/examples/rl/hbmk_b32.bat
  - contrib/examples/rl/hbmk_vc.bat
  + utils/hbdoc/hbmk.bat
  - utils/hbdoc/hbmk_b32.bat
  - utils/hbdoc/hbmk_vc.bat
  + utils/hbmake/hbmk.bat
  - utils/hbmake/hbmk_b32.bat
  - utils/hbmake/hbmk_vc.bat
    % Changed to generic make files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat

Added Paths:
-----------
    trunk/harbour/contrib/examples/guestbk/hbmk.bat
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbmk.bat
    trunk/harbour/contrib/examples/pe/hbmk.bat
    trunk/harbour/contrib/examples/pp/hbmk.bat
    trunk/harbour/contrib/examples/rl/hbmk.bat
    trunk/harbour/contrib/examples/terminal/hbmk.bat
    trunk/harbour/contrib/examples/terminal/hbmk_trm_appn.bat
    trunk/harbour/contrib/examples/uhttpd/hbmk.bat
    trunk/harbour/utils/hbdoc/hbmk.bat
    trunk/harbour/utils/hbmake/hbmk.bat

Removed Paths:
-------------
    trunk/harbour/contrib/examples/guestbk/hbmk_b32.bat
    trunk/harbour/contrib/examples/guestbk/hbmk_vc.bat
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbmk_b32.bat
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbmk_vc.bat
    trunk/harbour/contrib/examples/pe/hbmk_b32.bat
    trunk/harbour/contrib/examples/pe/hbmk_vc.bat
    trunk/harbour/contrib/examples/pp/hbmk_b32.bat
    trunk/harbour/contrib/examples/pp/hbmk_vc.bat
    trunk/harbour/contrib/examples/rl/hbmk_b32.bat
    trunk/harbour/contrib/examples/rl/hbmk_vc.bat
    trunk/harbour/contrib/examples/terminal/hbmk_b32.bat
    trunk/harbour/contrib/examples/terminal/hbmk_b32_trm_appn.bat
    trunk/harbour/contrib/examples/terminal/hbmk_vc.bat
    trunk/harbour/contrib/examples/terminal/hbmk_vc_trm_appn.bat
    trunk/harbour/contrib/examples/uhttpd/hbmk_b32.bat
    trunk/harbour/contrib/examples/uhttpd/hbmk_vc.bat
    trunk/harbour/utils/hbdoc/hbmk_b32.bat
    trunk/harbour/utils/hbdoc/hbmk_vc.bat
    trunk/harbour/utils/hbmake/hbmk_b32.bat
    trunk/harbour/utils/hbmake/hbmk_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 14:24:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 14:24:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10264] trunk/harbour
Message-ID: <E1LY3eQ-0000Gq-Mp@bj8yhf1.ch3.sourceforge.com>

Revision: 10264
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10264&view=rev
Author:   vszakats
Date:     2009-02-13 19:24:37 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 20:10 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_b32.bat
  * tests/rddtest/make_c52.bat
  * tests/run_prg.bat
  * tests/hbmk_gnu.bat
  * tests/hbmk_vc.bat
  * tests/hbmk_b32.bat
  * tests/run_prg_all.bat
  * bin/hbmk.bat
  * bin/hbmk_os2.cmd
  * bin/postinst.bat
  * make_vc.bat
  * make_gnu_os2.cmd
  * make_gnu.bat
  * contrib/make_b32_all.bat
  * contrib/mtpl_b32.bat
  * contrib/make_vc_all.bat
  * contrib/mtpl_vc.bat
  * contrib/examples/pp/hbmk.bat
  * contrib/examples/guestbk/hbmk.bat
  * contrib/examples/pe/hbmk.bat
  * contrib/examples/hbsqlit2/tests/hbmk.bat
  * contrib/examples/uhttpd/hbmk.bat
  * contrib/examples/dbu/hbmk.bat
  * contrib/examples/terminal/hbmk.bat
  * contrib/examples/terminal/hbmk_trm_appn.bat
  * contrib/examples/hscript/hbmk.bat
  * contrib/examples/rl/hbmk.bat
  * utils/hbdoc/hbmk.bat
  * utils/hbextern/make_c5x.bat
  * utils/hbmake/hbmk.bat
  * utils/hbtest/make_c5x.bat
  * utils/hbtest/make_xpp.bat
    * Minor formatting.
    * Cleanups to refer to simply 'hbmk'.

  ; TODO: Add support for other than bcc/msvc compiler for
          HB_USER_LIBS. Change HB_USER_LIBS settings to
          contain the raw lib list without extensions.
          This is where batch capabilities end, so this
          might need a .prg rewrite.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/bin/hbmk_os2.cmd
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/examples/dbu/hbmk.bat
    trunk/harbour/contrib/examples/guestbk/hbmk.bat
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbmk.bat
    trunk/harbour/contrib/examples/hscript/hbmk.bat
    trunk/harbour/contrib/examples/pe/hbmk.bat
    trunk/harbour/contrib/examples/pp/hbmk.bat
    trunk/harbour/contrib/examples/rl/hbmk.bat
    trunk/harbour/contrib/examples/terminal/hbmk.bat
    trunk/harbour/contrib/examples/terminal/hbmk_trm_appn.bat
    trunk/harbour/contrib/examples/uhttpd/hbmk.bat
    trunk/harbour/contrib/make_b32_all.bat
    trunk/harbour/contrib/make_vc_all.bat
    trunk/harbour/contrib/mtpl_b32.bat
    trunk/harbour/contrib/mtpl_vc.bat
    trunk/harbour/make_b32.bat
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu_os2.cmd
    trunk/harbour/make_vc.bat
    trunk/harbour/tests/hbmk_b32.bat
    trunk/harbour/tests/hbmk_gnu.bat
    trunk/harbour/tests/hbmk_vc.bat
    trunk/harbour/tests/rddtest/make_c52.bat
    trunk/harbour/tests/run_prg.bat
    trunk/harbour/tests/run_prg_all.bat
    trunk/harbour/utils/hbdoc/hbmk.bat
    trunk/harbour/utils/hbextern/make_c5x.bat
    trunk/harbour/utils/hbmake/hbmk.bat
    trunk/harbour/utils/hbtest/make_c5x.bat
    trunk/harbour/utils/hbtest/make_xpp.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fsgiudice at users.sourceforge.net  Fri Feb 13 15:57:55 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Fri Feb 13 15:58:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10265] trunk/harbour
Message-ID: <E1LY56h-0006W8-Ve@c3vjzd1.ch3.sourceforge.com>

Revision: 10265
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10265&view=rev
Author:   fsgiudice
Date:     2009-02-13 20:57:55 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 21:57 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/bin/hbmk.bat
    * added more temp envvar cleanup

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 13 16:14:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 13 16:14:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10266] trunk/harbour
Message-ID: <E1LY5N4-0006lK-Mh@c3vjzd1.ch3.sourceforge.com>

Revision: 10266
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10266&view=rev
Author:   vszakats
Date:     2009-02-13 21:14:47 +0000 (Fri, 13 Feb 2009)

Log Message:
-----------
2009-02-13 22:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + utils/hbmk
  + utils/hbmk/hbmk.prg
  + utils/hbmk/Makefile
    + Added hbmk .prg implementation. First pass, work in progress,
      unfinished. It aims to fully replace hbmk.bat, hbmk_os2.cmd
      and possibly/eventually hbmk bash script, with similar
      functionality. Beyond that it's meant to support all
      compiler/platform combination we happen to have under /config.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/utils/hbmk/
    trunk/harbour/utils/hbmk/Makefile
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Feb 13 17:06:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 13 17:06:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10266] trunk/harbour
In-Reply-To: <E1LY5N4-0006lK-Mh@c3vjzd1.ch3.sourceforge.com>
References: <E1LY5N4-0006lK-Mh@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70902131406m26225b23sb4696c945ca18577@mail.gmail.com>

hbmk.prg is very good noticeI have waited a long
Thanks!

2009/2/13 <vszakats@users.sourceforge.net>

> Revision: 10266
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10266&view=rev
> Author:   vszakats
> Date:     2009-02-13 21:14:47 +0000 (Fri, 13 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-13 22:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  + utils/hbmk
>  + utils/hbmk/hbmk.prg
>  + utils/hbmk/Makefile
>    + Added hbmk .prg implementation. First pass, work in progress,
>      unfinished. It aims to fully replace hbmk.bat, hbmk_os2.cmd
>      and possibly/eventually hbmk bash script, with similar
>      functionality. Beyond that it's meant to support all
>      compiler/platform combination we happen to have under /config.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>
> Added Paths:
> -----------
>    trunk/harbour/utils/hbmk/
>    trunk/harbour/utils/hbmk/Makefile
>    trunk/harbour/utils/hbmk/hbmk.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090213/e868869d/attachment.html
From mbelgrano at deltain.it  Sat Feb 14 03:44:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 14 03:44:47 2009
Subject: [Harbour] command syntax for multi weindows
Message-ID: <609353e70902140044y41e286f8w79dbd46a8530a262@mail.gmail.com>

harbour now support multiwindows
clipper user are command driven
so i proposal a command syntax that will be stantard
a good idea will be a common syntax common to minigui, fivewin or
xbase, visual fox
I think something like
#inglude "harbwind"
define window main width 400 height 400 clientarea
@ 10,10 say "test" get test
end window
activate window main
read

#include "FiveWin.ch"

function Main()

local oButton, oWnd, hBitmap

DEFINE WINDOW oWnd TITLE "ViaCoral - Skinned All Application Buttons!!"

ACTIVATE WINDOW oWnd MAXIMIZED
----------------------------------------------------------------
#include "minigui.ch"

Function Main
    DEFINE WINDOW Win_1 ;
        AT 0,0 ;
        WIDTH 400 ;
        HEIGHT 200 ;
        TITLE 'Hola Mundo!' ;
        MAIN
    END WINDOW
    ACTIVATE WINDOW Win_1
Return
------------------------------------------------------------
visual fox pro oop syntax
loForm = CREATEOBJECT("HiForm")
loForm.Show(1)

DEFINE CLASS HiForm AS Form
  AutoCenter = .T.
  Caption = "Hello, World"

  ADD OBJECT lblHi as Label WITH ;
    Caption = "Hello, World!"
ENDDEFINE


visual fox pro command syntax
DEFINE WINDOW HelloWorld FROM 1,1 TO 2,10 TITLE "Hello World"
ACTIVATE WINDOW HelloWorld
--------------------------------------------------------
xbase syntax based on xppdialog that is already implemented in gtwvg
#include "Gra.ch"
#include "Xbp.ch"
#include "Appevent.ch"

PROCEDURE AppSys
   LOCAL oDlg, oXbp, aPos[2], aSize

  /*
   * Get size of the desktop to display the application window centered
   */
   aSize         := SetAppWindow():currentSize()
   aPos[1]       := (aSize[1] - 640) / 2
   aPos[2]       := (aSize[2] - 400) / 2

   oDlg          := XbpDialog():new( SetAppWindow(), , aPos, {640,400}, , .F.)
   oDlg:title    := "GUI Demo"
   oDlg:taskList := .T.
   oDlg:icon     := 1
   oDlg:close    := {|| AppQuit() }
   oDlg:create()
   oDlg:drawingArea:SetColorBG( GRA_CLR_WHITE )
   SetAppWindow( oDlg )
   oDlg:show()
RETURN


--
Massimo Belgrano
From druzus at users.sourceforge.net  Sat Feb 14 04:44:24 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Feb 14 04:44:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10267] trunk/harbour
Message-ID: <E1LYH4S-0004vh-Ay@bj8yhf1.ch3.sourceforge.com>

Revision: 10267
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10267&view=rev
Author:   druzus
Date:     2009-02-14 09:44:23 +0000 (Sat, 14 Feb 2009)

Log Message:
-----------
2009-02-14 10:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/memvars.c
    % small optimization in __MVSAVE()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 14 07:18:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 14 07:18:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10268] trunk/harbour
Message-ID: <E1LYJTV-0008SS-MS@bj8yhf1.ch3.sourceforge.com>

Revision: 10268
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10268&view=rev
Author:   vszakats
Date:     2009-02-14 12:18:24 +0000 (Sat, 14 Feb 2009)

Log Message:
-----------
2009-02-14 13:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_b32.mak
  * make_vc.mak
  * make_gcc.mak
  * common.mak
  * utils/Makefile
    + Added hbmk to make systems.

  * utils/hbmk/hbmk.prg
    + Update. Second pass, it's now ready for testing. I've
      only tried with BCC yet.
      Please test and if possible update internal setup
      for various platforms/compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/common.mak
    trunk/harbour/make_b32.mak
    trunk/harbour/make_gcc.mak
    trunk/harbour/make_vc.mak
    trunk/harbour/utils/Makefile
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 14 07:26:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 14 07:26:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10269] trunk/harbour
Message-ID: <E1LYJbi-00008b-NX@bj8yhf1.ch3.sourceforge.com>

Revision: 10269
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10269&view=rev
Author:   vszakats
Date:     2009-02-14 12:26:53 +0000 (Sat, 14 Feb 2009)

Log Message:
-----------
2009-02-14 13:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added linux/owatcom, os2/icc support. (completely untested)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 14 08:26:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 14 08:26:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10270] trunk/harbour
Message-ID: <E1LYKXQ-0000WX-I2@3kljzd1.ch3.sourceforge.com>

Revision: 10270
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10270&view=rev
Author:   vszakats
Date:     2009-02-14 13:26:30 +0000 (Sat, 14 Feb 2009)

Log Message:
-----------
2009-02-14 14:23 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    - Added support for -o option for win/bcc32.

  - tests/hbmk_vc.bat
  - tests/hbmk_b32.bat
  + contrib/hbmysql/utils/hbmk.bat
  - contrib/hbmysql/utils/hbmk_b32.bat
  - contrib/hbmysql/utils/hbmk_vc.bat
  + contrib/hbmysql/tests/hbmk.bat
  - contrib/hbmysql/tests/hbmk_b32.bat
  - contrib/hbmysql/tests/hbmk_vc.bat
  + contrib/hbct/tests/hbmk.bat
  - contrib/hbct/tests/hbmk_b32.bat
  - contrib/hbct/tests/hbmk_vc.bat
  + contrib/hbodbc/tests/hbmk.bat
  - contrib/hbodbc/tests/hbmk_b32.bat
  - contrib/hbodbc/tests/hbmk_vc.bat
  + contrib/xhb/tests/hbmk.bat
  - contrib/xhb/tests/hbmk_b32.bat
  - contrib/xhb/tests/hbmk_vc.bat
  + contrib/hbtpathy/tests/hbmk.bat
  - contrib/hbtpathy/tests/hbmk_b32.bat
  - contrib/hbtpathy/tests/hbmk_vc.bat
  + contrib/hbmsql/tests/hbmk.bat
  - contrib/hbmsql/tests/hbmk_b32.bat
  - contrib/hbmsql/tests/hbmk_vc.bat
  + contrib/hbsqlit3/tests/hbmk.bat
  - contrib/hbsqlit3/tests/hbmk_b32.bat
  - contrib/hbsqlit3/tests/hbmk_vc.bat
  + contrib/hbole/tests/hbmk.bat
  - contrib/hbole/tests/hbmk_b32.bat
  - contrib/hbole/tests/hbmk_vc.bat
  + contrib/hbmzip/tests/hbmk.bat
  - contrib/hbmzip/tests/hbmk_b32.bat
  - contrib/hbmzip/tests/hbmk_vc.bat
  + contrib/hbapollo/tests/hbmk.bat
  - contrib/hbapollo/tests/hbmk_b32.bat
  - contrib/hbapollo/tests/hbmk_vc.bat
  + contrib/hbfbird/tests/hbmk.bat
  - contrib/hbfbird/tests/hbmk_b32.bat
  - contrib/hbfbird/tests/hbmk_vc.bat
  + contrib/hbziparc/tests/hbmk.bat
  - contrib/hbziparc/tests/hbmk_b32.bat
  - contrib/hbziparc/tests/hbmk_vc.bat
  + contrib/hbnf/tests/hbmk.bat
  - contrib/hbnf/tests/hbmk_b32.bat
  - contrib/hbnf/tests/hbmk_vc.bat
  + contrib/hbcurl/tests/hbmk.bat
  - contrib/hbcurl/tests/hbmk_b32.bat
  - contrib/hbcurl/tests/hbmk_vc.bat
  + contrib/rddsql/tests/hbmk.bat
  - contrib/rddsql/tests/hbmk_b32.bat
  - contrib/rddsql/tests/hbmk_vc.bat
  + contrib/hbhpdf/tests/hbmk.bat
  - contrib/hbhpdf/tests/hbmk_b32.bat
  - contrib/hbhpdf/tests/hbmk_vc.bat
  + contrib/rddado/tests/hbmk.bat
  - contrib/rddado/tests/hbmk_b32.bat
  - contrib/rddado/tests/hbmk_vc.bat
  + contrib/gtwvg/tests/hbmk.bat
  - contrib/gtwvg/tests/hbmk_b32.bat
  - contrib/gtwvg/tests/hbmk_vc.bat
  + contrib/hbpgsql/tests/hbmk.bat
  - contrib/hbpgsql/tests/hbmk_b32.bat
  - contrib/hbpgsql/tests/hbmk_vc.bat
  + contrib/rddads/tests/hbmk.bat
  - contrib/rddads/tests/hbmk_b32.bat
  - contrib/rddads/tests/hbmk_vc.bat
  + contrib/hbclipsm/tests/hbmk.bat
  - contrib/hbclipsm/tests/hbmk_b32.bat
  - contrib/hbclipsm/tests/hbmk_vc.bat
  + contrib/hbfimage/tests/hbmk.bat
  - contrib/hbfimage/tests/hbmk_b32.bat
  - contrib/hbfimage/tests/hbmk_vc.bat
  + contrib/hbgd/tests/hbmk.bat
  - contrib/hbgd/tests/hbmk_b32.bat
  - contrib/hbgd/tests/hbmk_vc.bat
  + contrib/hbmisc/tests/hbmk.bat
  - contrib/hbmisc/tests/hbmk_b32.bat
  - contrib/hbmisc/tests/hbmk_vc.bat
  + contrib/hbgf/tests/hbmk.bat
  - contrib/hbgf/tests/hbmk_b32.bat
  - contrib/hbgf/tests/hbmk_vc.bat
  + contrib/hbtip/tests/hbmk.bat
  - contrib/hbtip/tests/hbmk_b32.bat
  - contrib/hbtip/tests/hbmk_vc.bat
  + contrib/hbwin/tests/hbmk.bat
  - contrib/hbwin/tests/hbmk_b32.bat
  - contrib/hbwin/tests/hbmk_vc.bat
  + contrib/hbvpdf/tests/hbmk.bat
  - contrib/hbvpdf/tests/hbmk_b32.bat
  - contrib/hbvpdf/tests/hbmk_vc.bat
  + contrib/hbbtree/tests/hbmk.bat
  - contrib/hbbtree/tests/hbmk_djg.bat
  - contrib/hbbtree/tests/hbmk_b32.bat
  - contrib/hbbtree/tests/hbmk_vc.bat
  + contrib/hbcrypt/tests/hbmk.bat
  - contrib/hbcrypt/tests/hbmk_b32.bat
  - contrib/hbcrypt/tests/hbmk_vc.bat
  + contrib/hbssl/tests/hbmk.bat
  - contrib/hbssl/tests/hbmk_b32.bat
  - contrib/hbssl/tests/hbmk_vc.bat
  + contrib/hbwhat/tests/hbmk.bat
  - contrib/hbwhat/tests/hbmk_b32.bat
  - contrib/hbwhat/tests/hbmk_vc.bat
  - source/rdd/usrrdd/example/hbmk_b32.bat
  - source/rdd/usrrdd/example/hbmk_vc.bat
    % Updated for new hbmk.bat and hbmk.exe.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg

Added Paths:
-----------
    trunk/harbour/contrib/gtwvg/tests/hbmk.bat
    trunk/harbour/contrib/hbapollo/tests/hbmk.bat
    trunk/harbour/contrib/hbbtree/tests/hbmk.bat
    trunk/harbour/contrib/hbclipsm/tests/hbmk.bat
    trunk/harbour/contrib/hbcrypt/tests/hbmk.bat
    trunk/harbour/contrib/hbct/tests/hbmk.bat
    trunk/harbour/contrib/hbcurl/tests/hbmk.bat
    trunk/harbour/contrib/hbfbird/tests/hbmk.bat
    trunk/harbour/contrib/hbfimage/tests/hbmk.bat
    trunk/harbour/contrib/hbgd/tests/hbmk.bat
    trunk/harbour/contrib/hbgf/tests/hbmk.bat
    trunk/harbour/contrib/hbhpdf/tests/hbmk.bat
    trunk/harbour/contrib/hbmisc/tests/hbmk.bat
    trunk/harbour/contrib/hbmsql/tests/hbmk.bat
    trunk/harbour/contrib/hbmysql/tests/hbmk.bat
    trunk/harbour/contrib/hbmysql/utils/hbmk.bat
    trunk/harbour/contrib/hbmzip/tests/hbmk.bat
    trunk/harbour/contrib/hbnf/tests/hbmk.bat
    trunk/harbour/contrib/hbodbc/tests/hbmk.bat
    trunk/harbour/contrib/hbole/tests/hbmk.bat
    trunk/harbour/contrib/hbpgsql/tests/hbmk.bat
    trunk/harbour/contrib/hbsqlit3/tests/hbmk.bat
    trunk/harbour/contrib/hbssl/tests/hbmk.bat
    trunk/harbour/contrib/hbtip/tests/hbmk.bat
    trunk/harbour/contrib/hbtpathy/tests/hbmk.bat
    trunk/harbour/contrib/hbvpdf/tests/hbmk.bat
    trunk/harbour/contrib/hbwhat/tests/hbmk.bat
    trunk/harbour/contrib/hbwin/tests/hbmk.bat
    trunk/harbour/contrib/hbziparc/tests/hbmk.bat
    trunk/harbour/contrib/rddado/tests/hbmk.bat
    trunk/harbour/contrib/rddads/tests/hbmk.bat
    trunk/harbour/contrib/rddsql/tests/hbmk.bat
    trunk/harbour/contrib/xhb/tests/hbmk.bat

Removed Paths:
-------------
    trunk/harbour/contrib/gtwvg/tests/hbmk_b32.bat
    trunk/harbour/contrib/gtwvg/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbapollo/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbapollo/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbbtree/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbbtree/tests/hbmk_djg.bat
    trunk/harbour/contrib/hbbtree/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbclipsm/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbclipsm/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbcrypt/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbcrypt/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbct/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbct/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbcurl/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbcurl/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbfbird/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbfbird/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbfimage/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbfimage/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbgd/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbgd/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbgf/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbgf/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbhpdf/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbhpdf/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbmisc/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmisc/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbmsql/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmsql/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbmysql/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmysql/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbmysql/utils/hbmk_b32.bat
    trunk/harbour/contrib/hbmysql/utils/hbmk_vc.bat
    trunk/harbour/contrib/hbmzip/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbmzip/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbnf/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbnf/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbodbc/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbodbc/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbole/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbole/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbpgsql/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbpgsql/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbsqlit3/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbsqlit3/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbssl/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbssl/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbtip/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbtip/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbtpathy/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbtpathy/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbvpdf/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbvpdf/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbwhat/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbwhat/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbwin/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbwin/tests/hbmk_vc.bat
    trunk/harbour/contrib/hbziparc/tests/hbmk_b32.bat
    trunk/harbour/contrib/hbziparc/tests/hbmk_vc.bat
    trunk/harbour/contrib/rddado/tests/hbmk_b32.bat
    trunk/harbour/contrib/rddado/tests/hbmk_vc.bat
    trunk/harbour/contrib/rddads/tests/hbmk_b32.bat
    trunk/harbour/contrib/rddads/tests/hbmk_vc.bat
    trunk/harbour/contrib/rddsql/tests/hbmk_b32.bat
    trunk/harbour/contrib/rddsql/tests/hbmk_vc.bat
    trunk/harbour/contrib/xhb/tests/hbmk_b32.bat
    trunk/harbour/contrib/xhb/tests/hbmk_vc.bat
    trunk/harbour/source/rdd/usrrdd/example/hbmk_b32.bat
    trunk/harbour/source/rdd/usrrdd/example/hbmk_vc.bat
    trunk/harbour/tests/hbmk_b32.bat
    trunk/harbour/tests/hbmk_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 14 11:35:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 14 11:35:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10271] trunk/harbour
Message-ID: <E1LYNUG-0006NZ-Ax@c3vjzd1.ch3.sourceforge.com>

Revision: 10271
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10271&view=rev
Author:   vszakats
Date:     2009-02-14 16:35:17 +0000 (Sat, 14 Feb 2009)

Log Message:
-----------
2009-02-14 17:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    ! Fixes after testing with MSVC and MINGW both static and dynamic mode.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 14 13:48:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 14 13:48:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10272] trunk/harbour
Message-ID: <E1LYPYW-0005DA-EO@dn4whf1.ch3.sourceforge.com>

Revision: 10272
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10272&view=rev
Author:   vszakats
Date:     2009-02-14 18:47:59 +0000 (Sat, 14 Feb 2009)

Log Message:
-----------
2009-02-14 19:50 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added -strip/nostrip switch and implemented for GCC/GPP.
    + Added -trace switch to see executed commands.
    + Added negative switches: -std, -st, -nodebug
    + Added detection whether Harbour is installed in default system
      locations on *NIX systems. If it is, turn on shared libraries
      by default for all *NIX systems.
    + Added support for GT selection with -gt??? switch.
      (using .prg method, not .c as in hbmk bash script)
    + Added support for linux/gpp.
    ; NOTE: Some things still missing:
      - details of *NIX stuff, systems libs, switches,
        etc, etc.
      - -fullstatic not yet supported.
      - fmstat/nofmstat. It would be good to find a
        more easily manageable way to influence that.
        Current one is make system dependent and a bit hackish.
      - handling 3rd party libs. These should be supported
        by supplying proper parameter, and we can provide
        example scripts for these libs. Hard-wiring them
        into core Harbour is quite dangerous.
      - "MAIN" function override. I'd rather leave this out,
        and clear up the situation with entry procs.
      - gtsln and gtcrs support.
      - Watcom, OS/2, *NIX not tested.
      - Built-in support for our contribs. For clear
        separation of components contribs shouldn't be
        referred to in this core component.
      - Filtering foreign system libs passed on the command
        line for platforms not needing them. The goal is to
        be able to use as simple and _portable_ hbmk command
        lines as possible.
      - Support for POCC, DM.
    ; TODO:
      - Switch to portable command lines in hbmk.bat files.
        (Win9x will be supported again).
      - Remove bin/hbmk*.bat, bin/hbmk*.cmd, util/hbmake/*.
      - Cleanup on variable names in hbmk.prg.

  * tests/testid.prg
    * Minor cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/testid.prg
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 14 15:22:12 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 14 15:22:17 2009
Subject: [Harbour] WINAPI Functions .C Namespace
Message-ID: <22016531.post@talk.nabble.com>


Hello,

What we had decided on this topic?

I mean, should we use .C file name based on .DLL or .H ?

WAPI_ImageList_*() .C is ready and I have named it as 
c_commctrl.c.  

MSDN : 
Minimum DLL Version comctl32.dll version 6.0 or later 
Header   commctrl.h 
Minimum operating systems Windows XP 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/WINAPI-Functions-.C-Namespace-tp22016531p22016531.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Feb 14 15:23:48 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 14 15:23:51 2009
Subject: [Harbour] WINAPI Functions .C Namespace
In-Reply-To: <22016531.post@talk.nabble.com>
References: <22016531.post@talk.nabble.com>
Message-ID: <22016551.post@talk.nabble.com>


Sorry


Pritpal Bedi wrote:
> 
> c_commctrl.c.  
> 

c_commctrl.c    X
w_commctrl.c 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/WINAPI-Functions-.C-Namespace-tp22016531p22016551.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Feb 14 15:50:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 14 15:50:11 2009
Subject: [Harbour] WINAPI Functions .C Namespace
In-Reply-To: <22016551.post@talk.nabble.com>
References: <22016531.post@talk.nabble.com> <22016551.post@talk.nabble.com>
Message-ID: <18d502870902141250s6aaec3e3i1a563b335303086a@mail.gmail.com>

Hi Pritpal,
The final agreement was on wapi_commctrl.c.

Brgds,
Viktor

On Sat, Feb 14, 2009 at 9:23 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Sorry
>
>
> Pritpal Bedi wrote:
> >
> > c_commctrl.c.
> >
>
> c_commctrl.c    X
> w_commctrl.c
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/WINAPI-Functions-.C-Namespace-tp22016531p22016551.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090214/28e112d8/attachment.html
From bedipritpal at hotmail.com  Sat Feb 14 16:28:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 14 16:28:51 2009
Subject: [Harbour] WINAPI Functions .C Namespace
In-Reply-To: <18d502870902141250s6aaec3e3i1a563b335303086a@mail.gmail.com>
References: <22016531.post@talk.nabble.com> <22016551.post@talk.nabble.com>
	<18d502870902141250s6aaec3e3i1a563b335303086a@mail.gmail.com>
Message-ID: <22017182.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Hi Pritpal,
> The final agreement was on wapi_commctrl.c.
> 

So make it crystal clear:

MSDN .H ( Header File Name ) where function is declared 
will be ppstfixed to "wapi_?.c".

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/WINAPI-Functions-.C-Namespace-tp22016531p22017182.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Sat Feb 14 16:46:20 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 14 16:46:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
Message-ID: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>

Revision: 10273
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10273&view=rev
Author:   vouchcac
Date:     2009-02-14 21:46:19 +0000 (Sat, 14 Feb 2009)

Log Message:
-----------
2009-02-14 13:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + harbour/contrib/hbwin/wapi_commctrl.c
    + Added WAPI_Image*() functions.

  * harbour/contrib/hbwin/hbwapi.h
    + Added more _par and _ret defines.
    
    ; The idea is to encapsulate Harbour API for WINAPI 
      parameters and return values. Now wapi_commctrl.c 
      looks very clean and easy to understand code.
      Also I have contained all those functions which are
      either not required on normal programming level 
      OR I could not convert, with #if 0 / #endif blocks.
      But the header definitions are pulled from MSDN and 
      have been kept alongwith. This ensures that whenever
      someone will try to implement them, all info will be
      handy.

    ; Please approve the above implementation so that I 
      include these files in the build batches.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwapi.h

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/wapi_commctrl.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 14 16:52:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 14 16:52:48 2009
Subject: [Harbour] WINAPI Functions .C Namespace
In-Reply-To: <22017182.post@talk.nabble.com>
References: <22016531.post@talk.nabble.com> <22016551.post@talk.nabble.com>
	<18d502870902141250s6aaec3e3i1a563b335303086a@mail.gmail.com>
	<22017182.post@talk.nabble.com>
Message-ID: <18d502870902141352o6634063eke21fe6d8a8e3133d@mail.gmail.com>

>
> >
> > Hi Pritpal,
> > The final agreement was on wapi_commctrl.c.
> >
>
> So make it crystal clear:
>
> MSDN .H ( Header File Name ) where function is declared
> will be ppstfixed to "wapi_?.c".


I was thinking of the Library File Name where the given function
is implemented. Reading back the mails, I'm not 100% sure
what Francesco had in mind regarding this. We should hear
him.

Anyhow, for commctrl the header and lib names are
the same, so we're fine until then.

The implementations go to: wapi_*.c
The Harbour headers are: wapi_*.ch

Question is, what should '*' be.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090214/64b97189/attachment.html
From harbour.01 at syenar.hu  Sat Feb 14 17:06:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 14 17:06:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>

Hi Pritpal,
--- wapi_commctrl.c (now)
#include <windows.h>
#include <commctrl.h>
#include "hbapi.h"
#include "hbwapi.h"
---

Please don't explicitly #include <windows.h>, it's not
necessary, as it's automatically pulled in by hbapi.h
by #defining HB_OS_WIN_USED.

This is the clean way (notice that commctrl.h is moved
after Harbour headers, and windows.h got deleted):
--- wapi_commctrl.c (corrected)
#include "hbapi.h"
#include "hbwapi.h"

#include <commctrl.h>
---

--- hbwapi.h (now)
   #define wapi_ret_HANDLE( n )     ( hb_retnint( ( HB_PTRDIFF ) n ) )
   #define wapi_ret_HRESULT( hr )   ( hb_retnint( ( HB_PTRDIFF ) hr ) )
   #define wapi_ret_COLORREF( n )   ( hb_retnint( ( HB_PTRDIFF ) n ) )
---

This isn't ideal, we should use hb_retptr() otherwise the
caller can easily mess up the values and cause various
security holes, GPFs and other random behaviour.

I'd suggest to change this right from the start, before
introducing numeric dependent code in hbwin itself, too.
With these pointers, .prg level code should only do equality
check, call hb_IsPointer() and Empty() on these values.
Everything else is to be avoided.

--- hbwapi.h (corrected)
   #define wapi_ret_HANDLE( n )     ( hb_retptr( ( HB_PTRDIFF ) n ) )
   #define wapi_ret_HRESULT( hr )   ( hb_retptr( ( HB_PTRDIFF ) hr ) )
   #define wapi_ret_COLORREF( n )   ( hb_retptr( ( HB_PTRDIFF ) n ) )
---

Even more ideally we should switch to hb_retptrGC() to
avoid resource leaks due to .prg level programming errors,
but this can be done later.

Brgds,
Viktor

On Sat, Feb 14, 2009 at 10:46 PM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10273
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10273&view=rev
> Author:   vouchcac
> Date:     2009-02-14 21:46:19 +0000 (Sat, 14 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-14 13:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  + harbour/contrib/hbwin/wapi_commctrl.c
>    + Added WAPI_Image*() functions.
>
>  * harbour/contrib/hbwin/hbwapi.h
>    + Added more _par and _ret defines.
>
>    ; The idea is to encapsulate Harbour API for WINAPI
>      parameters and return values. Now wapi_commctrl.c
>      looks very clean and easy to understand code.
>      Also I have contained all those functions which are
>      either not required on normal programming level
>      OR I could not convert, with #if 0 / #endif blocks.
>      But the header definitions are pulled from MSDN and
>      have been kept alongwith. This ensures that whenever
>      someone will try to implement them, all info will be
>      handy.
>
>    ; Please approve the above implementation so that I
>      include these files in the build batches.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbwin/hbwapi.h
>
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbwin/wapi_commctrl.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090214/bda7f424/attachment-0001.html
From harbour.01 at syenar.hu  Sat Feb 14 17:09:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 14 17:09:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870902141409k28094f33h6637ab62565e8b28@mail.gmail.com>

Hi Pritpal,

Ops, sorry I forgot one important issue, could you please use ANSI C
comments only?
This rule wasn't lifted from hbwin, so we should stick
to it to be ANSI C compliant.

--- wapi_commctrl.c (now)
//----------------------------------------------------------------------//
//                       BEGIN - ImageList_* - API
//----------------------------------------------------------------------//

--- wapi_commctrl.c (correct)
/*----------------------------------------------------------------------
                         BEGIN - ImageList_* - API
  ---------------------------------------------------------------------- */

Brgds,
Viktor

On Sat, Feb 14, 2009 at 10:46 PM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10273
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10273&view=rev
> Author:   vouchcac
> Date:     2009-02-14 21:46:19 +0000 (Sat, 14 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-14 13:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  + harbour/contrib/hbwin/wapi_commctrl.c
>    + Added WAPI_Image*() functions.
>
>  * harbour/contrib/hbwin/hbwapi.h
>    + Added more _par and _ret defines.
>
>    ; The idea is to encapsulate Harbour API for WINAPI
>      parameters and return values. Now wapi_commctrl.c
>      looks very clean and easy to understand code.
>      Also I have contained all those functions which are
>      either not required on normal programming level
>      OR I could not convert, with #if 0 / #endif blocks.
>      But the header definitions are pulled from MSDN and
>      have been kept alongwith. This ensures that whenever
>      someone will try to implement them, all info will be
>      handy.
>
>    ; Please approve the above implementation so that I
>      include these files in the build batches.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbwin/hbwapi.h
>
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbwin/wapi_commctrl.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090214/c8f7f211/attachment.html
From bedipritpal at hotmail.com  Sat Feb 14 17:55:23 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 14 17:55:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
	<18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>
Message-ID: <22017970.post@talk.nabble.com>


Viktor

<<<<<
--- wapi_commctrl.c (now)
#include <windows.h>
#include <commctrl.h>
#include "hbapi.h"
#include "hbwapi.h"
---

Please don't explicitly #include <windows.h>, it's not
necessary, as it's automatically pulled in by hbapi.h
by #defining HB_OS_WIN_USED.

This is the clean way (notice that commctrl.h is moved
after Harbour headers, and windows.h got deleted):
--- wapi_commctrl.c (corrected)
#include "hbapi.h"
#include "hbwapi.h"

#include <commctrl.h>
---
>>>>>

OK. I was not sure about the sequence, so..

<<<<
--- hbwapi.h (now)
   #define wapi_ret_HANDLE( n )     ( hb_retnint( ( HB_PTRDIFF ) n ) )
   #define wapi_ret_HRESULT( hr )   ( hb_retnint( ( HB_PTRDIFF ) hr ) )
   #define wapi_ret_COLORREF( n )   ( hb_retnint( ( HB_PTRDIFF ) n ) )
---

This isn't ideal, we should use hb_retptr() otherwise the
caller can easily mess up the values and cause various
security holes, GPFs and other random behaviour.

I'd suggest to change this right from the start, before
introducing numeric dependent code in hbwin itself, too.
With these pointers, .prg level code should only do equality
check, call hb_IsPointer() and Empty() on these values.
Everything else is to be avoided.

--- hbwapi.h (corrected)
   #define wapi_ret_HANDLE( n )     ( hb_retptr( ( HB_PTRDIFF ) n ) )
   #define wapi_ret_HRESULT( hr )   ( hb_retptr( ( HB_PTRDIFF ) hr ) )
   #define wapi_ret_COLORREF( n )   ( hb_retptr( ( HB_PTRDIFF ) n ) )
---

>>>>

I agree your implementation is valid, but then it
holds good for new PRG code only.

If we return pointers and in the next call we sent it back to 
another function, then it has to be retried as wapi_par_POINTER()?
Or I am missing something.

If this is the case then I am afraid the wrappers I will be writing
will be usable in my applications or not. Most of the functions
designed in few years are adapted to numeric values only.
It also implies that I have to rewrite my souces again, which
is not at my priority list at present.

Yes off course for new developments it is the ideal situation.
So, if I cannot test my existing code, there is no motivation for 
me to write wrappers. My existing libraries are serving my purpose
for sure.

Or if you have some other thoughts ?

<<<
Even more ideally we should switch to hb_retptrGC() to
avoid resource leaks due to .prg level programming errors,
but this can be done later.
>>>

Yes for sure, but it is not exactly the same with WINAPI.
For example:
   Method One()
   ::hBitmap := WAPI_LoadImage(...)
   
   Method Destroy()
   WAPI_DeleteObject( ::hBitmap )    // How this will be handelled in GC?

Still thinking how can be lived with both worlds.

One thought comes to me:

wapi_commctrl.c

#if defined( HB_HANDLES_AS_POINTERS )
   #define wapi_ret_HANDLE( n )     ( hb_retptr( ( HB_PTRDIFF ) n ) )
   #define wapi_ret_HRESULT( hr )   ( hb_retptr( ( HB_PTRDIFF ) hr ) )
   #define wapi_ret_COLORREF( n )   ( hb_retptr( ( HB_PTRDIFF ) n ) )
#else
   #define wapi_ret_HANDLE( n )     ( hb_retnint( ( HB_PTRDIFF ) n ) )
   #define wapi_ret_HRESULT( hr )   ( hb_retnint( ( HB_PTRDIFF ) hr ) )
   #define wapi_ret_COLORREF( n )   ( hb_retnint( ( HB_PTRDIFF ) n ) )
#endif

Until one can switch to finer mode.

Opinions...

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10273--trunk-harbour-tp22017357p22017970.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Feb 14 18:27:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 14 18:27:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <22017970.post@talk.nabble.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
	<18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>
	<22017970.post@talk.nabble.com>
Message-ID: <18d502870902141527o34a21128qab41db9f741f9cb6@mail.gmail.com>

Hi Pritpal,


> >>>>
>
> I agree your implementation is valid, but then it
> holds good for new PRG code only.
>
> If we return pointers and in the next call we sent it back to
> another function, then it has to be retried as wapi_par_POINTER()?
> Or I am missing something.


Yes, it should be retrieved using hb_parptr(). But, here on
retrieval, we can be flexible, and also accept numeric:

( ISNUM( n ) ? ( HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) )


> If this is the case then I am afraid the wrappers I will be writing
> will be usable in my applications or not. Most of the functions
> designed in few years are adapted to numeric values only.
> It also implies that I have to rewrite my souces again, which
> is not at my priority list at present.


Since we're developing a Harbour component here, and a new
one, we should aim for best quality, not compatibility.

I'd suggest to gradually clean your code and switch to hbwin
then.


> Yes off course for new developments it is the ideal situation.
> So, if I cannot test my existing code, there is no motivation for
> me to write wrappers. My existing libraries are serving my purpose
> for sure.


> Or if you have some other thoughts ?


We already have several non-generic/duplicate/parallel
implementations of winapis inside Harbour, so now we should
aim for a good one, not yet another compromise. That was
the goal we've discussed and agreed on last week. If we go
the same route with the same mistakes as the previous
implementations, I see no point to deal with this topic in
such depth.

Sorry to say that, but in Harbour we shouldn't use limitations
because of your own local codebase. If we go this route we just
unnecessarily limit ourselves, and we lose the freedom of
doing it the way we've decided. To keep compatibility with your
own code, we need to give up a lot of what we've discussed
last week.

Again, the point is to have one good quality Windows API
wrapper collection which satisfies most users, and which can
be used from .prg, safely and easily.

If this cannot be done, we don't have to use any new naming,
just carefully merge the currently spread WIN_ functions (from
gtwvg, hbole, uhttpd) under hbwin library, that's all.

Yes for sure, but it is not exactly the same with WINAPI.
> For example:
>   Method One()
>   ::hBitmap := WAPI_LoadImage(...)
>
>   Method Destroy()
>   WAPI_DeleteObject( ::hBitmap )    // How this will be handelled in GC?


When creating a GC collected object, you also specify
a destructor function which gets called when the object
should be freed, so in this destructor function you call
DeleteObject(), and you're done. In fact, you don't even
need to use WAPI_DeleteObject() on the .prg level,
as it's handled automatically.

Please examine the code I've sent to you to the list
a few weeks ago. (FFIND API, and maybe another one).
I've also pointed you to hbcurl, or the new hbssl, where
such method is used for several objects. Once you get
the scheme, it's not at all complicated.


> One thought comes to me:
>
> wapi_commctrl.c
>
> #if defined( HB_HANDLES_AS_POINTERS )
>    #define wapi_ret_HANDLE( n )     ( hb_retptr( ( HB_PTRDIFF ) n ) )
>   #define wapi_ret_HRESULT( hr )   ( hb_retptr( ( HB_PTRDIFF ) hr ) )
>   #define wapi_ret_COLORREF( n )   ( hb_retptr( ( HB_PTRDIFF ) n ) )
> #else
>    #define wapi_ret_HANDLE( n )     ( hb_retnint( ( HB_PTRDIFF ) n ) )
>   #define wapi_ret_HRESULT( hr )   ( hb_retnint( ( HB_PTRDIFF ) hr ) )
>   #define wapi_ret_COLORREF( n )   ( hb_retnint( ( HB_PTRDIFF ) n ) )
> #endif
>
> Until one can switch to finer mode.


Maybe if the default is hb_retptr() for Harbour. But even then
the problem is that it will create confusion and incompatibility
for .prg code. Should we then have hbwinptr.lib and hbwinnum.lib,
too? :) It just makes things weird.

It's generally not a good idea to do these kind hacks in the
lib to please one specific application.

Instead, if I were you, I'd create a new #define to cover type
check (later easily switchable to hb_IsPointer()), plus start to
switch to EMPTY() instead of '== 0'. Switching to EMPTY()
is safe even if you use numerics.

Also see this article, I've just read it today, and it's on topic:
http://blogs.msdn.com/oldnewthing/archive/2009/02/13/9416485.aspx

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/327de633/attachment.html
From bedipritpal at hotmail.com  Sat Feb 14 18:48:10 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 14 18:48:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <18d502870902141527o34a21128qab41db9f741f9cb6@mail.gmail.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
	<18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>
	<22017970.post@talk.nabble.com>
	<18d502870902141527o34a21128qab41db9f741f9cb6@mail.gmail.com>
Message-ID: <22018462.post@talk.nabble.com>


Hi Viktor

I agree with whole concept.
Let us do it right, right now. Only pointers,
no numeric handles at all. Basically, if we have 
to use existing code too, we will be changing the
function calls and there stays the whole effort.

So, it should be like:
   #define wapi_par_HWND( n ) ( ( HWND ) ( HB_PTRDIFF ) hb_parptr( n ) )
   just to avoid the cost of - ( ISNUM( n ) ? ( HB_PTRDIFF ) hb_parnint( n )
: hb_parptr( n ) )
OR 
   the flexible way is better in the long run?

BTW, this artical is really thought provoking.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10273--trunk-harbour-tp22017357p22018462.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Feb 14 19:06:21 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 14 19:06:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <22018462.post@talk.nabble.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
	<18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>
	<22017970.post@talk.nabble.com>
	<18d502870902141527o34a21128qab41db9f741f9cb6@mail.gmail.com>
	<22018462.post@talk.nabble.com>
Message-ID: <22018577.post@talk.nabble.com>


Hi Viktor

I did changed hbwapi.h as

   #define wapi_par_WNDPROC( n )    ( ( WNDPROC    ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_WPARAM( n )     ( ( WPARAM     ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_LPARAM( n )     ( ( LPARAM     ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_HWND( n )       ( ( HWND       ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_HDC( n )        ( ( HDC        ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_HANDLE( n )     ( ( HANDLE     ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_HGDIOBJ( n )    ( ( HGDIOBJ    ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_HBITMAP( n )    ( ( HBITMAP    ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_HICON( n )      ( ( HICON      ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_HIMAGELIST( n ) ( ( HIMAGELIST ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_HFONT( n )      ( ( HFONT      ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_HINSTANCE( n )  ( ( HINSTANCE  ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
   #define wapi_par_COLORREF( n )   ( ( COLORREF   ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )

   #define wapi_par_STRUCT( n )     ( hb_parc( n ) )

   #define wapi_par_INT( n )        ( hb_parni( n ) )
   #define wapi_par_UINT( n )       ( ( UINT ) hb_parni( n ) )

   #define wapi_ret_NI( i )         ( hb_retni( i ) )
   #define wapi_ret_L( b )          ( hb_retl( b ) )
   #define wapi_ret_HANDLE( h )     ( hb_retptr( ( HB_PTRDIFF ) h  ) )
   #define wapi_ret_HRESULT( hr )   ( hb_retptr( ( HB_PTRDIFF ) hr ) )
   #define wapi_ret_COLORREF( cr )  ( hb_retptr( ( HB_PTRDIFF ) cr ) )

And compiled wapi_commctrl.c and I get tons of errors like :

Error E2349 wapi_commctrl.c 195: Nonportable pointer conversion in function
HB_FUN_WAPI_IMAGELIST_DRAWEX

and 

Error E2349 wapi_commctrl.c 148: Nonportable pointer conversion in function
HB_FUN_WAPI_IMAGELIST_DRAGLEAVE

I am sure I am missing something, but what ?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10273--trunk-harbour-tp22017357p22018577.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Feb 14 19:32:17 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 14 19:32:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <22018577.post@talk.nabble.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
	<18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>
	<22017970.post@talk.nabble.com>
	<18d502870902141527o34a21128qab41db9f741f9cb6@mail.gmail.com>
	<22018462.post@talk.nabble.com> <22018577.post@talk.nabble.com>
Message-ID: <22018701.post@talk.nabble.com>


Hi

And this sets everything right, please review:

   #define wapi_par_WNDPROC( n )    ( ( WNDPROC    ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_WPARAM( n )     ( ( WPARAM     ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_LPARAM( n )     ( ( LPARAM     ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_HWND( n )       ( ( HWND       ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_HDC( n )        ( ( HDC        ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_HANDLE( n )     ( ( HANDLE     ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_HGDIOBJ( n )    ( ( HGDIOBJ    ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_HBITMAP( n )    ( ( HBITMAP    ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_HICON( n )      ( ( HICON      ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_HIMAGELIST( n ) ( ( HIMAGELIST ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_HFONT( n )      ( ( HFONT      ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_HINSTANCE( n )  ( ( HINSTANCE  ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
   #define wapi_par_COLORREF( n )   ( ( COLORREF   ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )

   #define wapi_par_STRUCT( n )     ( hb_parc( n ) )

   #define wapi_par_INT( n )        ( hb_parni( n ) )
   #define wapi_par_UINT( n )       ( ( UINT ) hb_parni( n ) )

   #define wapi_ret_NI( i )         ( hb_retni( i ) )
   #define wapi_ret_L( b )          ( hb_retl( b ) )

   #define wapi_ret_HANDLE( h )     ( hb_retptr( h  ) )
   #define wapi_ret_HRESULT( hr )   ( hb_retptr( hr ) )
   #define wapi_ret_COLORREF( cr )  ( hb_retnint( ( HB_PTRDIFF ) cr ) )

COLORREF is always accepted as 'long' and not as a pointer.

Regards
Pritpal Bedi

PS Now some real usage of ImageList_*() functions.
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10273--trunk-harbour-tp22017357p22018701.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sat Feb 14 20:21:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 14 20:21:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10274] trunk/harbour
Message-ID: <E1LYVh3-0007UY-3m@dn4whf1.ch3.sourceforge.com>

Revision: 10274
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10274&view=rev
Author:   vszakats
Date:     2009-02-15 01:21:12 +0000 (Sun, 15 Feb 2009)

Log Message:
-----------
2009-02-15 02:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added support for parameters passed in files:
      'hbmk @myprogram.hbm'.
      Multiple scripts can be passed, and they can be
      combined with normal command line options.
      This makes it possible to supply quasi make files
      for programs.
    + Added support for hbmake parameter (.hbp) files. hbmk
      will scan current dir for .hbp files and process them.
      .hbp files can specify user libs, .prg options, can
      control MT, GUI, NULRDD, SHARED, DEBUG, STRIP and can
      select GT. This makes it ideal to offer automatic setup
      for lib dependent programs, f.e. an .hbp can be places
      in contrib test dirs to allow for a configuration free
      make process without the need of any helper batch/script
      files. 3rd party makers can also supply .hbp file for
      the same effect, f.e. xhgtk, hwgui support may be added
      this way, without hard-wiring knowledge into hbmk itself.
      -nohbp disables processing of these files.
    + Added support for HB_GT envvar.
    + -o support for win/msvc.
    ! Fix to GT handling and -shared to for msvc and bcc32.
    ! Fixed some envvar names.

  * utils/hbi18n/hbi18n.prg
    * Minor typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbi18n/hbi18n.prg
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 14 20:29:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 14 20:29:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10275] trunk/harbour
Message-ID: <E1LYVow-0007bU-VL@dn4whf1.ch3.sourceforge.com>

Revision: 10275
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10275&view=rev
Author:   vszakats
Date:     2009-02-15 01:29:22 +0000 (Sun, 15 Feb 2009)

Log Message:
-----------
2009-02-15 02:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    ! Fix to previous commit.
    * Help screen made more compact.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb 15 02:58:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 15 02:58:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10276] trunk/harbour
Message-ID: <E1LYbt6-0004hX-Gf@c3vjzd1.ch3.sourceforge.com>

Revision: 10276
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10276&view=rev
Author:   vszakats
Date:     2009-02-15 07:58:03 +0000 (Sun, 15 Feb 2009)

Log Message:
-----------
2009-02-15 08:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added -bldflags option which tells hbmk to also
      apply user build flags (HB_USER_*FLAGS) used when
      building Harbour.
    * Minor internal cleanups.
    ! Typo in help screen.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb 15 03:15:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 03:15:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <22018577.post@talk.nabble.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
	<18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>
	<22017970.post@talk.nabble.com>
	<18d502870902141527o34a21128qab41db9f741f9cb6@mail.gmail.com>
	<22018462.post@talk.nabble.com> <22018577.post@talk.nabble.com>
Message-ID: <18d502870902150015h5855bf3s39ab8dde6a63f71a@mail.gmail.com>

Hi Pritpal,
Try with this version:
---
  #define wapi_par_WNDPROC( n )    ( ( WNDPROC    ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_WPARAM( n )     ( ( WPARAM     ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_LPARAM( n )     ( ( LPARAM     ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_HWND( n )       ( ( HWND       ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_HDC( n )        ( ( HDC        ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_HANDLE( n )     ( ( HANDLE     ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_HGDIOBJ( n )    ( ( HGDIOBJ    ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_HBITMAP( n )    ( ( HBITMAP    ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_HICON( n )      ( ( HICON      ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_HIMAGELIST( n ) ( ( HIMAGELIST ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_HFONT( n )      ( ( HFONT      ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_HINSTANCE( n )  ( ( HINSTANCE  ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
  #define wapi_par_COLORREF( n )   ( ( COLORREF   ) ( ISNUM( n ) ? (
HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )

  #define wapi_par_STRUCT( n )     ( hb_parc( n ) )

  #define wapi_par_INT( n )        ( hb_parni( n ) )
  #define wapi_par_UINT( n )       ( ( UINT ) hb_parni( n ) )

  #define wapi_ret_NI( i )         ( hb_retni( i ) )
  #define wapi_ret_L( b )          ( hb_retl( b ) )
  #define wapi_ret_HANDLE( h )     ( hb_retptr( ( void * ) h  ) )
  #define wapi_ret_HRESULT( hr )   ( hb_retptr( ( void * ) hr ) )
  #define wapi_ret_COLORREF( cr )  ( hb_retptr( ( void * ) cr ) )
---

Also, there are a few old ones with MSVC, if anybody has an idea
how to clean these, please speak up:
---
.\win_dll.c(759) : warning C4054: 'type cast' : from function pointer
'FARPROC' to data pointer 'LPVOID'
.\win_dll.c(762) : warning C4054: 'type cast' : from function pointer
'FARPROC' to data pointer 'LPVOID'
.\win_dll.c(811) : warning C4054: 'type cast' : from function pointer
'FARPROC' to data pointer 'LPVOID'
.\win_dll.c(817) : warning C4054: 'type cast' : from function pointer
'FARPROC' to data pointer 'LPVOID'
---

Brgds,
Viktor

On Sun, Feb 15, 2009 at 1:06 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi Viktor
>
> I did changed hbwapi.h as
>
>   #define wapi_par_WNDPROC( n )    ( ( WNDPROC    ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_WPARAM( n )     ( ( WPARAM     ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_LPARAM( n )     ( ( LPARAM     ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_HWND( n )       ( ( HWND       ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_HDC( n )        ( ( HDC        ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_HANDLE( n )     ( ( HANDLE     ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_HGDIOBJ( n )    ( ( HGDIOBJ    ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_HBITMAP( n )    ( ( HBITMAP    ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_HICON( n )      ( ( HICON      ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_HIMAGELIST( n ) ( ( HIMAGELIST ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_HFONT( n )      ( ( HFONT      ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_HINSTANCE( n )  ( ( HINSTANCE  ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>   #define wapi_par_COLORREF( n )   ( ( COLORREF   ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : hb_parptr( n ) ) )
>
>   #define wapi_par_STRUCT( n )     ( hb_parc( n ) )
>
>    #define wapi_par_INT( n )        ( hb_parni( n ) )
>   #define wapi_par_UINT( n )       ( ( UINT ) hb_parni( n ) )
>
>   #define wapi_ret_NI( i )         ( hb_retni( i ) )
>   #define wapi_ret_L( b )          ( hb_retl( b ) )
>    #define wapi_ret_HANDLE( h )     ( hb_retptr( ( HB_PTRDIFF ) h  ) )
>   #define wapi_ret_HRESULT( hr )   ( hb_retptr( ( HB_PTRDIFF ) hr ) )
>    #define wapi_ret_COLORREF( cr )  ( hb_retptr( ( HB_PTRDIFF ) cr ) )
>
> And compiled wapi_commctrl.c and I get tons of errors like :
>
> Error E2349 wapi_commctrl.c 195: Nonportable pointer conversion in function
> HB_FUN_WAPI_IMAGELIST_DRAWEX
>
> and
>
> Error E2349 wapi_commctrl.c 148: Nonportable pointer conversion in function
> HB_FUN_WAPI_IMAGELIST_DRAGLEAVE
>
> I am sure I am missing something, but what ?
>
> Regards
> Pritpal Bedi
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10273--trunk-harbour-tp22017357p22018577.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/029609c8/attachment.html
From harbour.01 at syenar.hu  Sun Feb 15 03:21:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 03:21:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <22018701.post@talk.nabble.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
	<18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>
	<22017970.post@talk.nabble.com>
	<18d502870902141527o34a21128qab41db9f741f9cb6@mail.gmail.com>
	<22018462.post@talk.nabble.com> <22018577.post@talk.nabble.com>
	<22018701.post@talk.nabble.com>
Message-ID: <18d502870902150021n1766d22k7b28276e03cf50e7@mail.gmail.com>

Yes, and sorry, I've answered before noticing this new message of yours.
This seems right and even better than my suggestion.

Brgds,
Viktor

On Sun, Feb 15, 2009 at 1:32 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
> And this sets everything right, please review:
>
>   #define wapi_par_WNDPROC( n )    ( ( WNDPROC    ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_WPARAM( n )     ( ( WPARAM     ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_LPARAM( n )     ( ( LPARAM     ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_HWND( n )       ( ( HWND       ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_HDC( n )        ( ( HDC        ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_HANDLE( n )     ( ( HANDLE     ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_HGDIOBJ( n )    ( ( HGDIOBJ    ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_HBITMAP( n )    ( ( HBITMAP    ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_HICON( n )      ( ( HICON      ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_HIMAGELIST( n ) ( ( HIMAGELIST ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_HFONT( n )      ( ( HFONT      ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_HINSTANCE( n )  ( ( HINSTANCE  ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>    #define wapi_par_COLORREF( n )   ( ( COLORREF   ) ( ISNUM( n ) ? (
> HB_PTRDIFF ) hb_parnint( n ) : ( HB_PTRDIFF ) hb_parptr( n ) ) )
>
>   #define wapi_par_STRUCT( n )     ( hb_parc( n ) )
>
>   #define wapi_par_INT( n )        ( hb_parni( n ) )
>   #define wapi_par_UINT( n )       ( ( UINT ) hb_parni( n ) )
>
>   #define wapi_ret_NI( i )         ( hb_retni( i ) )
>   #define wapi_ret_L( b )          ( hb_retl( b ) )
>
>    #define wapi_ret_HANDLE( h )     ( hb_retptr( h  ) )
>   #define wapi_ret_HRESULT( hr )   ( hb_retptr( hr ) )
>   #define wapi_ret_COLORREF( cr )  ( hb_retnint( ( HB_PTRDIFF ) cr ) )
>
> COLORREF is always accepted as 'long' and not as a pointer.
>
> Regards
> Pritpal Bedi
>
> PS Now some real usage of ImageList_*() functions.
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10273--trunk-harbour-tp22017357p22018701.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/529cc746/attachment-0001.html
From harbour.01 at syenar.hu  Sun Feb 15 03:30:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 03:30:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10273] trunk/harbour
In-Reply-To: <22018462.post@talk.nabble.com>
References: <E1LYSL6-000228-30@d5vjzd1.ch3.sourceforge.com>
	<18d502870902141406p3de5f17ay8d2e5329931a1787@mail.gmail.com>
	<22017970.post@talk.nabble.com>
	<18d502870902141527o34a21128qab41db9f741f9cb6@mail.gmail.com>
	<22018462.post@talk.nabble.com>
Message-ID: <18d502870902150030w9e514dem2595843d202b00a4@mail.gmail.com>

Hi Pritpal,

I agree with whole concept.
> Let us do it right, right now. Only pointers,
> no numeric handles at all. Basically, if we have
> to use existing code too, we will be changing the
> function calls and there stays the whole effort.
>
> So, it should be like:
>   #define wapi_par_HWND( n ) ( ( HWND ) ( HB_PTRDIFF ) hb_parptr( n ) )
>   just to avoid the cost of - ( ISNUM( n ) ? ( HB_PTRDIFF ) hb_parnint( n )
> : hb_parptr( n ) )
> OR
>   the flexible way is better in the long run?


My thinking was that this way, hbwin may work better with other
Windows libs or apps, where the developers were still using
numeric pointers. This way you can mix these in some occasions.
Probably you and Francesco could tell better, I personally don't
use any Windows libs, nor the API for anything complicated.
If Windows users think it's not needed, it can be dropped, and it
would certainly result in more consistent code on both levels,
it creates a cleaner state and maybe it will slightly push other
Windows libs to use pointers, too. So you have my vote for
dropping this, if you think it's not necessary.


> BTW, this artical is really thought provoking.


I'm glad you liked it. It made me thinking again about
the two parallel make systems we have :)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/46133646/attachment.html
From vszakats at users.sourceforge.net  Sun Feb 15 11:46:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 15 11:46:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10277] trunk/harbour
Message-ID: <E1LYk8V-0007Zu-6g@c3vjzd1.ch3.sourceforge.com>

Revision: 10277
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10277&view=rev
Author:   vszakats
Date:     2009-02-15 16:46:28 +0000 (Sun, 15 Feb 2009)

Log Message:
-----------
2009-02-16 17:45 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added support for -map switch to create a map file.
    + Added support for -run switch to run the created executable.
    + Script files can be passed without '@' prefix if using the
      extension '.hbm'. So 'hbmk myscript.hbm' will now also work.
    + Now possible to negate most switches using a '-' postfix:
      'hbmk -strip-'
    + Added '-notrace'/'-trace-' switches to disable tracing.
    + Some steps towards Windows resource support.
    + Added support for 'cflags=' and 'ldflags=' in .hbp files.
    + Added mini architecture/compiler filter which can be used
      in every line of an .hbp file, and also for every library
      passed on the command line:
      hbmk hello.prg -lonlyforlinux{linux}
      The filter expression can use paranthesis, '&' for AND,
      '|' for OR and '!' for not. F.e.: {linux&!owatcom}
    % Minor optimizations.

  + utils/hbmk/examples
  + utils/hbmk/examples/whoo.hbp
  + utils/hbmk/examples/c4w.hbp
  + utils/hbmk/examples/minigui.hbp
  + utils/hbmk/examples/hwgui.hbp
  + utils/hbmk/examples/fwh.hbp
    + Added few example for .hbp files to support 3rd party
      packages. These may be removed, as it's better if these
      are supplied by the packages themselves.
      NOTE: I took these from hbmake, and they are probably
            obsolete.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg

Added Paths:
-----------
    trunk/harbour/utils/hbmk/examples/
    trunk/harbour/utils/hbmk/examples/c4w.hbp
    trunk/harbour/utils/hbmk/examples/fwh.hbp
    trunk/harbour/utils/hbmk/examples/hwgui.hbp
    trunk/harbour/utils/hbmk/examples/minigui.hbp
    trunk/harbour/utils/hbmk/examples/whoo.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Feb 15 12:35:34 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Feb 15 12:30:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <49954990.3000503@libero.it>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>
	<49954990.3000503@libero.it>
Message-ID: <20090215173534.GA31852@uran.home.aster.pl>

On Fri, 13 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> do you think my change can conflict in any way with current MT implementation
> on OS/2? I don't think, but I'd like to hear from you on this issue.
> >   * harbour/include/hbthread.h
> >   * harbour/source/vm/thread.c
> >     ! fixed a bug on OS/2 MT implementation adding a new function,
> >       _hb_cond_timed_wait() because when a semaphore gets posted it has
> >       to be reset, otherwise it does not stop new threads entering it in a wait.

Looks that I haven't read OS2 API documentation carefully.
Thanks for fix.
Though I have few questions because looks that current code have to
be updated. Your modification suggests that DosPostEventSem() sends
broadcast message and wake up _ALL_ threads which where blocked by
event semaphore by DosWaitEventSem() and not only one. DosWaitEventSem()
blocks calling thread on event semaphore only if this semaphore was
not posted after last call to DosResetEventSem() so it's necessary to
call DosResetEventSem() to clear all posted events and make event semaphore
blocking. I guess that DosResetEventSem() is atomic operation and when
two or more threads call this function simultaneously then only one will
receive non 0 value if semaphore was posted.
If I'm right then I see few potential problems.
1-st we do not need separate macros for HB_COND_SIGNAL() and
HB_COND_SIGNALN() in OS2 builds because all works like HB_COND_BROADCAST()
and wake up all waiting threads.
2-nd we should change all places where HB_COND_TIMEDWAIT() is used
and check timeout parameter ourselves just like in hb_threadWait()
function. In summary I should implement it at beginning because it
pacifies also other potential though minor problem on MS-Win builds.
But there is also other problem much more critical. DosResetEventSem()
is not atomic to DosWaitEventSem() and we have nothing to sync well
number of posted signals with number of waiting threads to be sure
that all threads will be woken up. To resolve this problem we have
to move DosResetEventSem() changing the code in OS2 builds. But
before I'll make deeper modifications I would like to confirm that
I correctly described how DosWaitEventSem(), DosPostEventSem() and
DosResetEventSem() work. I do not have precise OS2 documentation
and I have to guess some things.

best regards,
Przemek
From vszakats at users.sourceforge.net  Sun Feb 15 12:37:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 15 12:37:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10278] trunk/harbour
Message-ID: <E1LYkvZ-0003fc-FE@3kljzd1.ch3.sourceforge.com>

Revision: 10278
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10278&view=rev
Author:   vszakats
Date:     2009-02-15 17:37:12 +0000 (Sun, 15 Feb 2009)

Log Message:
-----------
2009-02-16 18:37 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added POCC and DMC autodetection.
    + Added screen message when no C compiler could be
      autodetected.
    ! owatcom was missing from OS/2 supported compiler 
      internal list.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Sun Feb 15 14:41:58 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 15 14:42:05 2009
Subject: [Harbour] Website layout updated!
Message-ID: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>

The Harbour's site has new layout. I have update the ftp with the
changes what we reviewed here in the list.

Some points to highlight:

* If you're missing some information on page 'Crew list' please send
me again because I probably would have deleted or lost. :S

* On the page of samples lack a text to put in the "How to compile the
samples ON WINDOWS.
http://www.harbour-project.org/samples/HowToBuildOnWindows.html

This link is disabled because I'm unable to write any text to put
there .. (Massimo could help me with this?)

* In my opinion there are missing the pages "Tutorials & Articles" and
"Auxiliar Tools"

* The site need more examples updated and comprehensive but we can
adjust it later.

* I would also like to know how was the speed of loading of pages on the site.

* It needs to be revised the text of the page "Legal notes"
(http://www.harbour-project.com.br/legalnotes.html) because I'm not
sure if the text is correct,due to my poor English.

I await comments.
Vailton Renato
From vailtom at gmail.com  Sun Feb 15 14:47:00 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 15 14:47:06 2009
Subject: [Harbour] Re: Website layout updated!
In-Reply-To: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
Message-ID: <531d7a750902151147i3bb597c9mbc3496e50ef48fd@mail.gmail.com>

Ops... the correct link to "Legal notes" is
http://www.harbour-project.org/legalnotes.html
=D

2009/2/15 Vailton Renato <vailtom@gmail.com>:
> The Harbour's site has new layout. I have update the ftp with the
> changes what we reviewed here in the list.
>
> Some points to highlight:
>
> * If you're missing some information on page 'Crew list' please send
> me again because I probably would have deleted or lost. :S
>
> * On the page of samples lack a text to put in the "How to compile the
> samples ON WINDOWS.
> http://www.harbour-project.org/samples/HowToBuildOnWindows.html
>
> This link is disabled because I'm unable to write any text to put
> there .. (Massimo could help me with this?)
>
> * In my opinion there are missing the pages "Tutorials & Articles" and
> "Auxiliar Tools"
>
> * The site need more examples updated and comprehensive but we can
> adjust it later.
>
> * I would also like to know how was the speed of loading of pages on the site.
>
> * It needs to be revised the text of the page "Legal notes"
> (http://www.harbour-project.com.br/legalnotes.html) because I'm not
> sure if the text is correct,due to my poor English.
>
> I await comments.
> Vailton Renato
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From harbour.01 at syenar.hu  Sun Feb 15 15:01:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 15:01:56 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
Message-ID: <18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>

Hi Renato,

Congrats and huge thanks for your quality work and efforts.The pages look
absolutely great.
Just two minor notes:
- The year in the release date is shown as 2009-09-17 on main page.
- Missing space separator between .tgz and .bz2 links on main page.

There is a short delay after loading the heading image here,
but nothing grave.

Brgds,
Viktor

On Sun, Feb 15, 2009 at 8:41 PM, Vailton Renato <vailtom@gmail.com> wrote:

> The Harbour's site has new layout. I have update the ftp with the
> changes what we reviewed here in the list.
>
> Some points to highlight:
>
> * If you're missing some information on page 'Crew list' please send
> me again because I probably would have deleted or lost. :S
>
> * On the page of samples lack a text to put in the "How to compile the
> samples ON WINDOWS.
> http://www.harbour-project.org/samples/HowToBuildOnWindows.html
>
> This link is disabled because I'm unable to write any text to put
> there .. (Massimo could help me with this?)
>
> * In my opinion there are missing the pages "Tutorials & Articles" and
> "Auxiliar Tools"
>
> * The site need more examples updated and comprehensive but we can
> adjust it later.
>
> * I would also like to know how was the speed of loading of pages on the
> site.
>
> * It needs to be revised the text of the page "Legal notes"
> (http://www.harbour-project.com.br/legalnotes.html) because I'm not
> sure if the text is correct,due to my poor English.
>
> I await comments.
> Vailton Renato
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/8bd50eff/attachment.html
From vszakats at users.sourceforge.net  Sun Feb 15 15:14:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 15 15:14:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10279] trunk/harbour
Message-ID: <E1LYnNx-0002Rt-4m@dn4whf1.ch3.sourceforge.com>

Revision: 10279
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10279&view=rev
Author:   vszakats
Date:     2009-02-15 20:14:40 +0000 (Sun, 15 Feb 2009)

Log Message:
-----------
2009-02-16 20:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added support for '#' comment lines in .hbm files.
    + Added support to automatically convert slashes/backslashes
      in passed libnames and prg options.
    * Cleanup on computing Harbour location. I didn't test all
      situations here. This should fix previous versions not
      honoring explicit HB_*_INSTALL envvars.
    + Added support for POCC (untested).

   + contrib/hbct/tests/hbct.hbp
   + contrib/examples/terminal/terminal.hbp
   + contrib/examples/terminal/trm_appn.hbm
     + Added new hbmk files to show what it takes to replace
       the current system, but this time fully supporting
       all Harbour platforms.
       To use these just run hbmk, either from the path, or
       by directly pointing to it:
       ..\..\..\bin\hbmk.exe <test.prg>
       ..\..\..\bin\hbmk.exe trm_appn.hbm
       .exe can be dropped as soon as we delete out hbmk.bat file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg

Added Paths:
-----------
    trunk/harbour/contrib/examples/terminal/terminal.hbp
    trunk/harbour/contrib/examples/terminal/trm_appn.hbm
    trunk/harbour/contrib/hbct/tests/hbct.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Sun Feb 15 15:26:42 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 15 15:26:48 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>
Message-ID: <531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>

This is OK now.
:)
From info at fsgiudice.com  Sun Feb 15 15:35:08 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 15 15:35:16 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
Message-ID: <49987C7C.209@fsgiudice.com>

Hi Renato,

Il 15/02/2009 20.41, Vailton Renato ha scritto:
> The Harbour's site has new layout. I have update the ftp with the
> changes what we reviewed here in the list.

My compliments, it's looks great.

> 
> Some points to highlight:
> 
> * If you're missing some information on page 'Crew list' please send
> me again because I probably would have deleted or lost. :S

For me it should reflects developers list as it is in 
harbour/source/compiler/hbusage.c in SVN.
There are some names I don't know and I don't found in developers list. 
But surely due to my young history with harbour project.
Maybe also hbusage.c should be updated if someone is missing.

Another, is it possible to reduce some images size ?

Best regards,

Francesco
From info at fsgiudice.com  Sun Feb 15 15:57:36 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 15 15:58:07 2009
Subject: [Harbour] WINAPI Functions .C Namespace
In-Reply-To: <18d502870902141352o6634063eke21fe6d8a8e3133d@mail.gmail.com>
References: <22016531.post@talk.nabble.com>
	<22016551.post@talk.nabble.com>	<18d502870902141250s6aaec3e3i1a563b335303086a@mail.gmail.com>	<22017182.post@talk.nabble.com>
	<18d502870902141352o6634063eke21fe6d8a8e3133d@mail.gmail.com>
Message-ID: <499881C0.9050001@fsgiudice.com>

Hi Pritpal and Viktor,

Il 14/02/2009 22.52, Viktor Szak?ts ha scritto:
>      >
>      > Hi Pritpal,
>      > The final agreement was on wapi_commctrl.c.
>      >
> 
>     So make it crystal clear:
> 
>     MSDN .H ( Header File Name ) where function is declared
>     will be ppstfixed to "wapi_?.c".
> 
> 
> I was thinking of the Library File Name where the given function 
> is implemented. Reading back the mails, I'm not 100% sure 
> what Francesco had in mind regarding this. We should hear 
> him.
> 
> Anyhow, for commctrl the header and lib names are 
> the same, so we're fine until then.
> 
> The implementations go to: wapi_*.c
> The Harbour headers are: wapi_*.ch
> 
> Question is, what should '*' be.
> 

As I wrote in previous mails above functions ImageList_*() should be
implemented in wapi_comctl32.c as declared in MSDN:
------------------------
ImageList_GetDragImage()

Function Information

Minimum DLL Version comctl32.dll
Header commctrl.h
Import library comctl32.lib
Minimum operating systems Windows NT 3.51, Windows 95
-----------------------

but after a deeper look to MS docs I see some problems:
there are some API defined exclusively as macro like:
Animate_Close Macro that in commctrl.h is converted to a sendmessage()
call. In this case should be used wapi_commctrl.c.

So, as final version, I accept wapi_commctrl.c as for header file name 
as already Pritpal did.

Best regards

Francesco

From elart at elart.it  Sun Feb 15 16:16:28 2009
From: elart at elart.it (elart)
Date: Sun Feb 15 16:16:40 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
Message-ID: <4998862C.3080807@elart.it>

Very good Renato...

Thank you

From vszakats at users.sourceforge.net  Sun Feb 15 16:27:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 15 16:27:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
Message-ID: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>

Revision: 10280
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10280&view=rev
Author:   vszakats
Date:     2009-02-15 21:26:57 +0000 (Sun, 15 Feb 2009)

Log Message:
-----------
2009-02-16 22:28 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + contrib/gtwvg/tests/gtwvg.hbp
  + contrib/hbapollo/tests/hbapollo.hbp
  + contrib/hbbtree/tests/hbbtree.hbp
  + contrib/hbbtree/tests/test.hbm
    + Added hbmk files.

  * contrib/hbbtree/tests/hbmk.bat
  * contrib/hbbtree/tests/test.prg
    * Cleaned hbct dependency.

  * contrib/hbbtree/Makefile
  * contrib/hbbtree/common.mak
  - contrib/hbbtree/hb_btree.api
  + contrib/hbbtree/hb_btree.h
  * contrib/hbbtree/hb_btree.c
  * contrib/hbbtree/tests/ctest.c
    * Renamed hb_btree.api -> hb_btree.h

  * contrib/examples/terminal/terminal.hbp
    + Added {win} filter.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/terminal/terminal.hbp
    trunk/harbour/contrib/hbbtree/Makefile
    trunk/harbour/contrib/hbbtree/common.mak
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbbtree/tests/ctest.c
    trunk/harbour/contrib/hbbtree/tests/hbmk.bat
    trunk/harbour/contrib/hbbtree/tests/test.prg

Added Paths:
-----------
    trunk/harbour/contrib/gtwvg/tests/gtwvg.hbp
    trunk/harbour/contrib/hbapollo/tests/hbapollo.hbp
    trunk/harbour/contrib/hbbtree/hb_btree.h
    trunk/harbour/contrib/hbbtree/tests/hbbtree.hbp
    trunk/harbour/contrib/hbbtree/tests/test.hbm

Removed Paths:
-------------
    trunk/harbour/contrib/hbbtree/hb_btree.api


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sun Feb 15 16:40:42 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 15 16:40:50 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>	<18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>
	<531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>
Message-ID: <49988BDA.3070008@fsgiudice.com>

Hi Renato,
for images could you compress them using irfanview 
(http://www.irfanview.net) ?
It has a plugin that compress images optimizing them for web and it 
reduces at least of 50% image size.
Try it with jpeg compression of 75 and 90%.
I have just tested it and big images in main page can be reduced from:
header_1.jpg 30.047 Kb -> 90% = 11.174 Kb -> 75% 7.387 Kb
header_2.jpg 83.164 Kb -> 90% = 22.490 Kb -> 75% 14.222 Kb

Best regards

Francesco

Il 15/02/2009 21.26, Vailton Renato ha scritto:
> This is OK now.
> :)
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From vailtom at gmail.com  Sun Feb 15 16:43:29 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 15 16:43:33 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <49988BDA.3070008@fsgiudice.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>
	<531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>
	<49988BDA.3070008@fsgiudice.com>
Message-ID: <531d7a750902151343w7a485cdq1d377b34d2c1bdfd@mail.gmail.com>

Send these images to me.

2009/2/15 Francesco Saverio Giudice <info@fsgiudice.com>:
> Hi Renato,
> for images could you compress them using irfanview
> (http://www.irfanview.net) ?
> It has a plugin that compress images optimizing them for web and it reduces
> at least of 50% image size.
> Try it with jpeg compression of 75 and 90%.
> I have just tested it and big images in main page can be reduced from:
> header_1.jpg 30.047 Kb -> 90% = 11.174 Kb -> 75% 7.387 Kb
> header_2.jpg 83.164 Kb -> 90% = 22.490 Kb -> 75% 14.222 Kb
>
> Best regards
>
> Francesco
>
> Il 15/02/2009 21.26, Vailton Renato ha scritto:
>>
>> This is OK now.
>> :)
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From vailtom at gmail.com  Sun Feb 15 16:51:48 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 15 16:51:51 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <49987C7C.209@fsgiudice.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<49987C7C.209@fsgiudice.com>
Message-ID: <531d7a750902151351l54e534a6nb064cf893f7023cd@mail.gmail.com>

> For me it should reflects developers list as it is in
> harbour/source/compiler/hbusage.c in SVN.
> There are some names I don't know and I don't found in developers list. But
> surely due to my young history with harbour project.
> Maybe also hbusage.c should be updated if someone is missing.

About crew list is useful to read this thread:
http://lists.harbour-project.org/pipermail/harbour/2008-October/012446.html

> Another, is it possible to reduce some images size ?

What images do you mean?
From mbelgrano at deltain.it  Sun Feb 15 16:53:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 15 16:53:35 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
Message-ID: <609353e70902151353k1634262fi7ee6d40a2e672749@mail.gmail.com>

Very goog news
Thanks

2009/2/15 Vailton Renato <vailtom@gmail.com>:
> The Harbour's site has new layout. I have update the ftp with the
> changes what we reviewed here in the list.
>
> Some points to highlight:
>
> * If you're missing some information on page 'Crew list' please send
> me again because I probably would have deleted or lost. :S
>
> * On the page of samples lack a text to put in the "How to compile the
> samples ON WINDOWS.
> http://www.harbour-project.org/samples/HowToBuildOnWindows.html
>
> This link is disabled because I'm unable to write any text to put
> there .. (Massimo could help me with this?)
>
> * In my opinion there are missing the pages "Tutorials & Articles" and
> "Auxiliar Tools"
>
> * The site need more examples updated and comprehensive but we can
> adjust it later.
>
> * I would also like to know how was the speed of loading of pages on the site.
>
> * It needs to be revised the text of the page "Legal notes"
> (http://www.harbour-project.com.br/legalnotes.html) because I'm not
> sure if the text is correct,due to my poor English.
>
> I await comments.
> Vailton Renato
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From info at fsgiudice.com  Sun Feb 15 16:56:55 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 15 16:57:05 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151343w7a485cdq1d377b34d2c1bdfd@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>	<18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>	<531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>	<49988BDA.3070008@fsgiudice.com>
	<531d7a750902151343w7a485cdq1d377b34d2c1bdfd@mail.gmail.com>
Message-ID: <49988FA7.4000800@fsgiudice.com>

Attached you find images at compressed with a factor of 75%.
Next mail (due to attachment restriction) will contains images at 90%.
Best regards

Francesco

Il 15/02/2009 22.43, Vailton Renato ha scritto:
> Send these images to me.
> 
> 2009/2/15 Francesco Saverio Giudice <info@fsgiudice.com>:
>> Hi Renato,
>> for images could you compress them using irfanview
>> (http://www.irfanview.net) ?
>> It has a plugin that compress images optimizing them for web and it reduces
>> at least of 50% image size.
>> Try it with jpeg compression of 75 and 90%.
>> I have just tested it and big images in main page can be reduced from:
>> header_1.jpg 30.047 Kb -> 90% = 11.174 Kb -> 75% 7.387 Kb
>> header_2.jpg 83.164 Kb -> 90% = 22.490 Kb -> 75% 14.222 Kb
>>
>> Best regards
>>
>> Francesco
>>
>> Il 15/02/2009 21.26, Vailton Renato ha scritto:
>>> This is OK now.
>>> :)
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: images_75.zip
Type: application/x-zip-compressed
Size: 20835 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/03377a58/images_75-0001.bin
From mbelgrano at deltain.it  Sun Feb 15 17:06:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 15 17:06:40 2009
Subject: [Harbour] Little problem with hbmk
Message-ID: <609353e70902151406r208922dfj6640f7c80413b965@mail.gmail.com>

Will HB_COMPILER, HB_ARCHITECTURE be in uppercase ?
If i set
  SET HB_COMPILER=BCC32
  SET HB_ARCHITECTURE=WIN
then receive running hbmk test.prg
hbmk: Error: Architecture not properly set.

MY proposal is
237      CASE t_cARCH == "win"

237        CASE upper(t_cARCH) == "WIN"

Have somebody collect documentation regarding hbmk?


-- 
Massimo Belgrano

81
From harbour.01 at syenar.hu  Sun Feb 15 17:16:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 17:16:20 2009
Subject: [Harbour] Little problem with hbmk
In-Reply-To: <609353e70902151406r208922dfj6640f7c80413b965@mail.gmail.com>
References: <609353e70902151406r208922dfj6640f7c80413b965@mail.gmail.com>
Message-ID: <18d502870902151416n50ed4893ne78b429cfc4cd64a@mail.gmail.com>

Hi Massimo,
No, compiler and architecture are case-sensitive, currently
lowercase strings all over Harbour. I don't plan to change this,
as this would be very error prone, with no benefit and a
waste of valuable time.

Notice however that you don't need to set ANY values for
these envvars, since they will be automatically detected.

Just try.

I also suggest to read my ChangeLogs from the last few
days, and also the help screen of hbmk.

Brgds,
Viktor

On Sun, Feb 15, 2009 at 11:06 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Will HB_COMPILER, HB_ARCHITECTURE be in uppercase ?
> If i set
>  SET HB_COMPILER=BCC32
>  SET HB_ARCHITECTURE=WIN
> then receive running hbmk test.prg
> hbmk: Error: Architecture not properly set.
>
> MY proposal is
> 237      CASE t_cARCH == "win"
>
> 237        CASE upper(t_cARCH) == "WIN"
>
> Have somebody collect documentation regarding hbmk?
>
>
> --
> Massimo Belgrano
>
> 81
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/ff7069d3/attachment.html
From info at fsgiudice.com  Sun Feb 15 17:16:44 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 15 17:16:51 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151351l54e534a6nb064cf893f7023cd@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>	<49987C7C.209@fsgiudice.com>
	<531d7a750902151351l54e534a6nb064cf893f7023cd@mail.gmail.com>
Message-ID: <4998944C.6050304@fsgiudice.com>

Ok, so there are some peoples missing:
List from crew.html contains 44 persons, instead hbusage.c contains 68.

As per Viktor comments this should be a personal choice, because who 
wants to appear in web list should be also give some personal data, but 
I think that on the first, all members from hbusage.c should be added in 
web page, than who wants can send other infos to add.

Then all crew.html should be revised as comments are not updated. (One 
on the fly: Patrick is not current webmaster).
So I propose to make a simple table list that contains:
Name - Nation - eMail - Photo - Comments
ordered by name as in hbusage.c

Viktor, all ?

Best regards

Francesco

Il 15/02/2009 22.51, Vailton Renato ha scritto:
>> For me it should reflects developers list as it is in
>> harbour/source/compiler/hbusage.c in SVN.
>> There are some names I don't know and I don't found in developers list. But
>> surely due to my young history with harbour project.
>> Maybe also hbusage.c should be updated if someone is missing.
> 
> About crew list is useful to read this thread:
> http://lists.harbour-project.org/pipermail/harbour/2008-October/012446.html
> 
>> Another, is it possible to reduce some images size ?
> 
> What images do you mean?
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sun Feb 15 17:24:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 17:24:56 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <4998944C.6050304@fsgiudice.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<49987C7C.209@fsgiudice.com>
	<531d7a750902151351l54e534a6nb064cf893f7023cd@mail.gmail.com>
	<4998944C.6050304@fsgiudice.com>
Message-ID: <18d502870902151424x26119d7eyc4f442c5e42dfbb0@mail.gmail.com>

Hi Francesco,

Ok, so there are some peoples missing:
> List from crew.html contains 44 persons, instead hbusage.c contains 68.
>
> As per Viktor comments this should be a personal choice, because who wants
> to appear in web list should be also give some personal data, but I think
> that on the first, all members from hbusage.c should be added in web page,
> than who wants can send other infos to add.
>
> Then all crew.html should be revised as comments are not updated. (One on
> the fly: Patrick is not current webmaster).


These descriptions reflect the first few month or half-year
of development, so it's rather fun than something with
factual or currently valid information. I'm no "regression test
captain" anymore probably :) (but couldn't easily give an
updated one-liner either)


> So I propose to make a simple table list that contains:
> Name - Nation - eMail - Photo - Comments
> ordered by name as in hbusage.c
>
> Viktor, all ?


Okay, for me it's fine.

Just one minor: e-mail _or website_ (or none).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/71039e1b/attachment.html
From info at fsgiudice.com  Sun Feb 15 17:29:45 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 15 17:29:53 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <18d502870902151424x26119d7eyc4f442c5e42dfbb0@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>	<49987C7C.209@fsgiudice.com>	<531d7a750902151351l54e534a6nb064cf893f7023cd@mail.gmail.com>	<4998944C.6050304@fsgiudice.com>
	<18d502870902151424x26119d7eyc4f442c5e42dfbb0@mail.gmail.com>
Message-ID: <49989759.7020503@fsgiudice.com>

Hi Vitkor, Renato,

Il 15/02/2009 23.24, Viktor Szak?ts ha scritto:
> 
> These descriptions reflect the first few month or half-year 
> of development, so it's rather fun than something with 
> factual or currently valid information. I'm no "regression test 
> captain" anymore probably :) (but couldn't easily give an 
> updated one-liner either)
>

Yep ;-)

>     So I propose to make a simple table list that contains:
>     Name - Nation - eMail - Photo - Comments
>     ordered by name as in hbusage.c
> 
>     Viktor, all ?
> 
> 
> Okay, for me it's fine.
> 
> Just one minor: e-mail _or website_ (or none).
> 
It's ok also for me.
Ah, obviously Renato has to be added in hbusage.c !

Best regards

Francesco

From info at fsgiudice.com  Sun Feb 15 17:43:28 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 15 17:43:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
Message-ID: <49989A90.7030709@fsgiudice.com>

Hi Viktor,

thank you for this very useful tool!
Best regards

Francesco

Il 15/02/2009 22.27, vszakats@users.sourceforge.net ha scritto:
> Revision: 10280
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10280&view=rev
> Author:   vszakats
> Date:     2009-02-15 21:26:57 +0000 (Sun, 15 Feb 2009)

From harbour.01 at syenar.hu  Sun Feb 15 17:44:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 17:44:05 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <49989759.7020503@fsgiudice.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<49987C7C.209@fsgiudice.com>
	<531d7a750902151351l54e534a6nb064cf893f7023cd@mail.gmail.com>
	<4998944C.6050304@fsgiudice.com>
	<18d502870902151424x26119d7eyc4f442c5e42dfbb0@mail.gmail.com>
	<49989759.7020503@fsgiudice.com>
Message-ID: <18d502870902151444hf13094eka34e5732d8ba6479@mail.gmail.com>

>
> Just one minor: e-mail _or website_ (or none).
>>
>>  It's ok also for me.
> Ah, obviously Renato has to be added in hbusage.c !


Without question. I'll update hbusage.c in next commit.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/a82be409/attachment.html
From info at fsgiudice.com  Sun Feb 15 17:49:02 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 15 17:49:10 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <18d502870902151444hf13094eka34e5732d8ba6479@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>	<49987C7C.209@fsgiudice.com>	<531d7a750902151351l54e534a6nb064cf893f7023cd@mail.gmail.com>	<4998944C.6050304@fsgiudice.com>	<18d502870902151424x26119d7eyc4f442c5e42dfbb0@mail.gmail.com>	<49989759.7020503@fsgiudice.com>
	<18d502870902151444hf13094eka34e5732d8ba6479@mail.gmail.com>
Message-ID: <49989BDE.9060700@fsgiudice.com>


>     Ah, obviously Renato has to be added in hbusage.c !
> 
> 
> Without question. I'll update hbusage.c in next commit.
> 
Thank you
Best regards

Francesco
From mbelgrano at deltain.it  Sun Feb 15 18:18:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 15 18:18:20 2009
Subject: [Harbour] Little problem with hbmk
In-Reply-To: <18d502870902151416n50ed4893ne78b429cfc4cd64a@mail.gmail.com>
References: <609353e70902151406r208922dfj6640f7c80413b965@mail.gmail.com>
	<18d502870902151416n50ed4893ne78b429cfc4cd64a@mail.gmail.com>
Message-ID: <609353e70902151518n3f69ce02jc8a21945093a4790@mail.gmail.com>

if i have m1.prg,m2.prg How can i create a EXE?
hbmk  m1.prg+m2.prg
 can i use a harbour  define  like -DEURO -D__SIM__
 Is possible create a lib instead a exe from m1.prg/m2.prg?


2009/2/15 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Massimo,
> No, compiler and architecture are case-sensitive, currently
> lowercase strings all over Harbour. I don't plan to change this,
> as this would be very error prone, with no benefit and a
> waste of valuable time.
> Notice however that you don't need to set ANY values for
> these envvars, since they will be automatically detected.
> Just try.
> I also suggest to read my ChangeLogs from the last few
> days, and also the help screen of hbmk.
> Brgds,
> Viktor
> On Sun, Feb 15, 2009 at 11:06 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Will HB_COMPILER, HB_ARCHITECTURE be in uppercase ?
>> If i set
>>  SET HB_COMPILER=BCC32
>>  SET HB_ARCHITECTURE=WIN
>> then receive running hbmk test.prg
>> hbmk: Error: Architecture not properly set.
>>
>> MY proposal is
>> 237      CASE t_cARCH == "win"
>>
>> 237        CASE upper(t_cARCH) == "WIN"
>>
>> Have somebody collect documentation regarding hbmk?
>>
>>
>> --
>> Massimo Belgrano
>>
>> 81
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Sun Feb 15 18:22:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 18:22:44 2009
Subject: [Harbour] Little problem with hbmk
In-Reply-To: <609353e70902151518n3f69ce02jc8a21945093a4790@mail.gmail.com>
References: <609353e70902151406r208922dfj6640f7c80413b965@mail.gmail.com>
	<18d502870902151416n50ed4893ne78b429cfc4cd64a@mail.gmail.com>
	<609353e70902151518n3f69ce02jc8a21945093a4790@mail.gmail.com>
Message-ID: <18d502870902151522j11695251nefc64b9671c8eb96@mail.gmail.com>

On Mon, Feb 16, 2009 at 12:18 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> if i have m1.prg,m2.prg How can i create a EXE?
> hbmk  m1.prg+m2.prg


hbmk m1.prg m2.prg


>  can i use a harbour  define  like -DEURO -D__SIM__


Yes.


>  Is possible create a lib instead a exe from m1.prg/m2.prg?


No.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/84a537a4/attachment.html
From vszakats at users.sourceforge.net  Sun Feb 15 18:35:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 15 18:35:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10281] trunk/harbour
Message-ID: <E1LYqVn-0008M1-W5@c3vjzd1.ch3.sourceforge.com>

Revision: 10281
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10281&view=rev
Author:   vszakats
Date:     2009-02-15 23:34:57 +0000 (Sun, 15 Feb 2009)

Log Message:
-----------
2009-02-17 00:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/compiler/hbusage.c
    + Added Vailton Renato to credit list.

  * utils/hbmk/hbmk.prg
    + Cleanups and additions to help screen.
    ! Fixed dm/dmc compiler ID.

  - config/win/dm.cf
  + config/win/dmc.cf
  * contrib/gtalleg/Makefile
  * contrib/hbwhat/Makefile
    * Digital Mars C compiler ID changed from dm to dmc.
      (they also have a D compiler f.e.)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/hbwhat/Makefile
    trunk/harbour/source/compiler/hbusage.c
    trunk/harbour/utils/hbmk/hbmk.prg

Added Paths:
-----------
    trunk/harbour/config/win/dmc.cf

Removed Paths:
-------------
    trunk/harbour/config/win/dm.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Sun Feb 15 18:36:26 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 15 18:36:31 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <18d502870902151424x26119d7eyc4f442c5e42dfbb0@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<49987C7C.209@fsgiudice.com>
	<531d7a750902151351l54e534a6nb064cf893f7023cd@mail.gmail.com>
	<4998944C.6050304@fsgiudice.com>
	<18d502870902151424x26119d7eyc4f442c5e42dfbb0@mail.gmail.com>
Message-ID: <531d7a750902151536n7146de71ga8a49138361574e5@mail.gmail.com>

Ok, I will be making this change to the site in the coming days.
From vszakats at users.sourceforge.net  Sun Feb 15 18:40:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 15 18:40:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10282] trunk/harbour
Message-ID: <E1LYqax-0008RR-8Q@c3vjzd1.ch3.sourceforge.com>

Revision: 10282
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10282&view=rev
Author:   vszakats
Date:     2009-02-15 23:40:18 +0000 (Sun, 15 Feb 2009)

Log Message:
-----------
2009-02-17 00:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * common.mak
  * make_b32.mak
  * make_vc.mak
  * make_gcc.mak
  * utils/Makefile
  - utils/hbmake
    - Removed hbmake from repository.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/common.mak
    trunk/harbour/make_b32.mak
    trunk/harbour/make_gcc.mak
    trunk/harbour/make_vc.mak
    trunk/harbour/utils/Makefile

Removed Paths:
-------------
    trunk/harbour/utils/hbmake/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 11 18:03:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 19:22:46 2009
Subject: [Harbour] DBCREATETEMP() patch
Message-ID: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>

Hi all,
Pls find enclosed patch which implements:
dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, <cDelimArg>, <cCodePage>,
<nConnection> ) -> <lSuccess>

This creates and opens a new temporary table. The file automatically
gets deleted on close, all indexes created are also handled as temporary.

Please review and comment.

Brgds,
Viktor

---
Index: include/hbrdddbf.h
===================================================================
--- include/hbrdddbf.h (revision 10239)
+++ include/hbrdddbf.h (working copy)
@@ -223,6 +223,7 @@
    BOOL     fMemoFlush;             /* data was written to MEMO and not
commited */
    BOOL     fShared;                /* Shared file */
    BOOL     fReadonly;              /* Read only file */
+   BOOL     fTemporary;             /* Temporary file */
    BOOL     fValidBuffer;           /* State of buffer */
    BOOL     fPositioned;            /* Positioned record */
    BOOL     fRecordChanged;         /* Record changed */
Index: include/hbrddnsx.h
===================================================================
--- include/hbrddnsx.h (revision 10239)
+++ include/hbrddnsx.h (working copy)
@@ -307,7 +307,7 @@
 } NSXLEAFPAGE;
 typedef NSXLEAFPAGE * LPNSXLEAFPAGE;

-#if 0
+#if 0
 /* meta structures for description only, cannot be compiled due to
    variable member sizes */
 typedef struct _NSXBRANCHKEY
@@ -595,6 +595,7 @@
    BOOL        fMemoFlush;          /* data was written to MEMO and not
commited */
    BOOL        fShared;             /* Shared file */
    BOOL        fReadonly;           /* Read only file */
+   BOOL        fTemporary;          /* Temporary file */
    BOOL        fValidBuffer;        /* State of buffer */
    BOOL        fPositioned;         /* Positioned record */
    BOOL        fRecordChanged;      /* Record changed */
Index: include/hbapirdd.h
===================================================================
--- include/hbapirdd.h (revision 10239)
+++ include/hbapirdd.h (working copy)
@@ -197,6 +197,7 @@
    BYTE * atomAlias;       /* The logical name of the data store */
    BOOL   fShared;         /* Share mode of the data store */
    BOOL   fReadonly;       /* Readonly mode of the data store */
+   BOOL   fTemporary;      /* Is this a temporary data store */
    BYTE * cdpId;           /* Id of a codepage */
    ULONG  ulConnection;    /* connection handler for RDDs which support it
*/
    void * lpdbHeader;      /* Pointer to a header of the data store */
@@ -1195,6 +1196,11 @@
                                  BOOL fKeepOpen,
                                  const char * szCpId, ULONG ulConnection,
                                  PHB_ITEM pStruct, PHB_ITEM pDelim );
+extern HB_EXPORT HB_ERRCODE   hb_rddCreateTableTemp(
+                                 const char * szDriver,
+                                 const char * szAlias,
+                                 const char * szCpId, ULONG ulConnection,
+                                 PHB_ITEM pStruct, PHB_ITEM pDelim );
 extern HB_EXPORT HB_ERRCODE   hb_dbTransStruct(
                                  AREAP lpaSource, AREAP lpaDest,
                                  LPDBTRANSINFO lpdbTransInfo,
Index: include/dbinfo.ch
===================================================================
--- include/dbinfo.ch (revision 10239)
+++ include/dbinfo.ch (working copy)
@@ -289,6 +289,7 @@
 #define DBI_MEMOPACK            142  /* Pack memo file */
 #define DBI_DIRTYREAD           143  /* Get/Set index dirty read flag */
 #define DBI_POSITIONED          144  /* Is cursor positioned to valid
record */
+#define DBI_ISTEMPORARY         145  /* Is the table a temporary one? */

 /* RECORD MAP (RM) support */
 #define DBI_RM_SUPPORTED        150  /* has WA RDD record map support? */
Index: include/hbrddcdx.h
===================================================================
--- include/hbrddcdx.h (revision 10239)
+++ include/hbrddcdx.h (working copy)
@@ -506,6 +506,7 @@
    BOOL     fMemoFlush;             /* data was written to MEMO and not
commited */
    BOOL     fShared;                /* Shared file */
    BOOL     fReadonly;              /* Read only file */
+   BOOL     fTemporary;             /* Temporary file */
    BOOL     fValidBuffer;           /* State of buffer */
    BOOL     fPositioned;            /* Positioned record */
    BOOL     fRecordChanged;         /* Record changed */
Index: include/hbrddntx.h
===================================================================
--- include/hbrddntx.h (revision 10239)
+++ include/hbrddntx.h (working copy)
@@ -400,6 +400,7 @@
    BOOL     fMemoFlush;             /* data was written to MEMO and not
commited */
    BOOL     fShared;                /* Shared file */
    BOOL     fReadonly;              /* Read only file */
+   BOOL     fTemporary;             /* Temporary file */
    BOOL     fValidBuffer;           /* State of buffer */
    BOOL     fPositioned;            /* Positioned record */
    BOOL     fRecordChanged;         /* Record changed */
Index: source/rdd/dbfntx/dbfntx1.c
===================================================================
--- source/rdd/dbfntx/dbfntx1.c (revision 10239)
+++ source/rdd/dbfntx/dbfntx1.c (working copy)
@@ -6235,6 +6235,9 @@

    SELF_GOTO( ( AREAP ) pArea, ulRecNo );

+   if( pArea->fTemporary )
+      fTemporary = TRUE;
+
    pData = DBFAREA_DATA( pArea );
    /*
     * abBagName -> cBag, atomBagName -> cTag
Index: source/rdd/dbfnsx/dbfnsx1.c
===================================================================
--- source/rdd/dbfnsx/dbfnsx1.c (revision 10239)
+++ source/rdd/dbfnsx/dbfnsx1.c (working copy)
@@ -6675,6 +6675,9 @@

    SELF_GOTO( ( AREAP ) pArea, ulRecNo );

+   if( pArea->fTemporary )
+      fTemporary = TRUE;
+
    /*
     * abBagName -> cBag, atomBagName -> cTag
     * The following scheme implemented:
Index: source/rdd/dbfcdx/dbfcdx1.c
===================================================================
--- source/rdd/dbfcdx/dbfcdx1.c (revision 10239)
+++ source/rdd/dbfcdx/dbfcdx1.c (working copy)
@@ -7592,6 +7592,9 @@

    SELF_GOTO( ( AREAP ) pArea, ulRecNo );

+   if( pArea->fTemporary )
+      fTemporary = TRUE;
+
    /*
     * abBagName -> cBag, atomBagName -> cTag
     * The following scheme implemented:
Index: source/rdd/dbcmd.c
===================================================================
--- source/rdd/dbcmd.c (revision 10239)
+++ source/rdd/dbcmd.c (working copy)
@@ -399,6 +399,63 @@
 }

 /*
+ *    dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, <cDelimArg>, <cCodePage>,
<nConnection> ) -> <lSuccess>
+ */
+HB_FUNC( DBCREATETEMP )
+{
+   char * szAlias, * szDriver, * szCpId;
+   USHORT uiSize, uiLen;
+   PHB_ITEM pStruct, pFieldDesc, pDelim;
+   ULONG ulConnection;
+
+   szAlias = hb_parc( 1 );
+   pStruct = hb_param( 2, HB_IT_ARRAY );
+   szDriver = hb_parc( 3 );
+   pDelim = hb_param( 4, HB_IT_ANY );
+   szCpId = hb_parc( 5 );
+   ulConnection = hb_parnl( 6 );
+
+   /*
+    * Clipper allows to use empty struct array for RDDs which does not
+    * support fields, f.e.: DBFBLOB in CL5.3
+    * In CL5.3 it's also possible to create DBF file without fields.
+    * if some RDD wants to block it then they should serve it in lower
+    * level, [druzus]
+    */
+   if( !pStruct
+#ifdef HB_C52_STRICT
+       || hb_arrayLen( pStruct ) == 0
+#endif
+       )
+   {
+      hb_errRT_DBCMD( EG_ARG, EDBCMD_DBCMDBADPARAMETER, NULL,
HB_ERR_FUNCNAME );
+      return;
+   }
+   uiLen = ( USHORT ) hb_arrayLen( pStruct );
+
+   for( uiSize = 1; uiSize <= uiLen; ++uiSize )
+   {
+      pFieldDesc = hb_arrayGetItemPtr( pStruct, uiSize );
+
+      /* Validate items types of fields */
+      if( hb_arrayLen( pFieldDesc ) < 4 ||
+          !( hb_arrayGetType( pFieldDesc, 1 ) & HB_IT_STRING ) ||
+          !( hb_arrayGetType( pFieldDesc, 2 ) & HB_IT_STRING ) ||
+          !( hb_arrayGetType( pFieldDesc, 3 ) & HB_IT_NUMERIC ) ||
+          !( hb_arrayGetType( pFieldDesc, 4 ) & HB_IT_NUMERIC ) )
+      {
+         hb_errRT_DBCMD( EG_ARG, EDBCMD_DBCMDBADPARAMETER, NULL,
HB_ERR_FUNCNAME );
+         return;
+      }
+   }
+
+   hb_retl( hb_rddCreateTableTemp( szDriver,
+                                   szAlias,
+                                   szCpId, ulConnection,
+                                   pStruct, pDelim ) == HB_SUCCESS );
+}
+
+/*
  * I'm not sure if lKeepOpen open works exactly like in DBCREATE, I haven't
  * tested it with Clipper yet. If it doesn't then please inform me about it
  * and I'll update the code. [druzus]
Index: source/rdd/dbf1.c
===================================================================
--- source/rdd/dbf1.c (revision 10239)
+++ source/rdd/dbf1.c (working copy)
@@ -2660,6 +2660,9 @@
    {
       hb_fileClose( pArea->pDataFile );
       pArea->pDataFile = NULL;
+
+      if( pArea->fTemporary )
+         hb_fsDelete( ( BYTE * ) pArea->szDataFileName );
    }

    /* Close the memo file */
@@ -2667,8 +2670,14 @@
    {
       hb_fileClose( pArea->pMemoFile );
       pArea->pMemoFile = NULL;
+
+      if( pArea->fTemporary )
+         hb_fsDelete( ( BYTE * ) pArea->szMemoFileName );
    }

+   if( pArea->fTemporary )
+      pArea->fTemporary = FALSE;
+
    /* Free field offset array */
    if( pArea->pFieldOffset )
    {
@@ -2730,27 +2739,31 @@
    HB_TRACE(HB_TR_DEBUG, ("hb_dbfCreate(%p, %p)", pArea, pCreateInfo));

    pArea->lpdbOpenInfo = pCreateInfo;
+   pArea->fTemporary = pCreateInfo->fTemporary;

-   pFileName = hb_fsFNameSplit( ( char * ) pCreateInfo->abName );
+   if( ! pArea->fTemporary )
+   {
+      pFileName = hb_fsFNameSplit( ( char * ) pCreateInfo->abName );

-   if( ! pFileName->szExtension && hb_setGetDefExtension() )
-   {
-      pItem = hb_itemPutC( pItem, NULL );
-      if( SELF_INFO( ( AREAP ) pArea, DBI_TABLEEXT, pItem ) != HB_SUCCESS )
+      if( ! pFileName->szExtension && hb_setGetDefExtension() )
       {
-         hb_itemRelease( pItem );
-         hb_xfree( pFileName );
-         pArea->lpdbOpenInfo = NULL;
-         return HB_FAILURE;
+         pItem = hb_itemPutC( pItem, NULL );
+         if( SELF_INFO( ( AREAP ) pArea, DBI_TABLEEXT, pItem ) !=
HB_SUCCESS )
+         {
+            hb_itemRelease( pItem );
+            hb_xfree( pFileName );
+            pArea->lpdbOpenInfo = NULL;
+            return HB_FAILURE;
+         }
+         pFileName->szExtension = hb_itemGetCPtr( pItem );
+         hb_fsFNameMerge( ( char * ) szFileName, pFileName );
       }
-      pFileName->szExtension = hb_itemGetCPtr( pItem );
-      hb_fsFNameMerge( ( char * ) szFileName, pFileName );
+      else
+      {
+         hb_strncpy( ( char * ) szFileName, ( char * ) pCreateInfo->abName,
sizeof( szFileName ) - 1 );
+      }
+      hb_xfree( pFileName );
    }
-   else
-   {
-      hb_strncpy( ( char * ) szFileName, ( char * ) pCreateInfo->abName,
sizeof( szFileName ) - 1 );
-   }
-   hb_xfree( pFileName );

    pItem = hb_itemPutL( pItem, FALSE );
    fRawBlob = SELF_RDDINFO( SELF_RDDNODE( pArea ), RDDI_BLOB_SUPPORT,
pCreateInfo->ulConnection, pItem ) == HB_SUCCESS &&
@@ -2826,10 +2839,13 @@
       /* Try create */
       do
       {
-         pArea->pDataFile = hb_fileExtOpen( szFileName, NULL,
-                                            FO_READWRITE | FO_EXCLUSIVE |
FXO_TRUNCATE |
-                                            FXO_DEFAULTS | FXO_SHARELOCK |
FXO_COPYNAME,
-                                            NULL, pError );
+         if( pArea->fTemporary )
+            pArea->pDataFile = hb_fileCreateTempEx( szFileName, NULL, NULL,
NULL, FC_NORMAL );
+         else
+            pArea->pDataFile = hb_fileExtOpen( szFileName, NULL,
+                                               FO_READWRITE | FO_EXCLUSIVE
| FXO_TRUNCATE |
+                                               FXO_DEFAULTS | FXO_SHARELOCK
| FXO_COPYNAME,
+                                               NULL, pError );
          if( ! pArea->pDataFile )
          {
             if( !pError )
@@ -3075,7 +3091,7 @@
       }
       pThisField++;
    }
-   pArea->fShared = FALSE;    /* pCreateInfo->fShared; */
+   pArea->fShared = FALSE;    /* pCreateInfo->fShared */
    pArea->fReadonly = FALSE;  /* pCreateInfo->fReadonly */
    pArea->ulRecCount = 0;
    pArea->uiHeaderLen = ( USHORT ) ( sizeof( DBFHEADER ) + ulSize );
@@ -3273,6 +3289,10 @@
          hb_itemPutL( pItem, pArea->fReadonly );
          break;

+      case DBI_ISTEMPORARY:
+         hb_itemPutL( pItem, pArea->fTemporary );
+         break;
+
       case DBI_VALIDBUFFER:
          hb_itemPutL( pItem, pArea->fValidBuffer );
          break;
@@ -3642,6 +3662,7 @@
 #endif
    pArea->fShared = pOpenInfo->fShared;
    pArea->fReadonly = pOpenInfo->fReadonly;
+/*   pArea->fTemporary = pOpenInfo->fTemporary; */
    /* Force exclusive mode
     *   0: AUTOSHARE disabled.
     *   1: AUTOSHARE enabled.
Index: source/rdd/wafunc.c
===================================================================
--- source/rdd/wafunc.c (revision 10239)
+++ source/rdd/wafunc.c (working copy)
@@ -583,10 +583,10 @@
 }

 HB_ERRCODE hb_rddOpenTable( const char * szFileName, const char * szDriver,
-                         USHORT uiArea, const char *szAlias,
-                         BOOL fShared, BOOL fReadonly,
-                         const char * szCpId, ULONG ulConnection,
-                         PHB_ITEM pStruct, PHB_ITEM pDelim )
+                            USHORT uiArea, const char *szAlias,
+                            BOOL fShared, BOOL fReadonly,
+                            const char * szCpId, ULONG ulConnection,
+                            PHB_ITEM pStruct, PHB_ITEM pDelim )
 {
    char szDriverBuffer[ HB_RDD_MAX_DRIVERNAME_LEN + 1 ];
    DBOPENINFO pInfo;
@@ -671,10 +671,10 @@
 }

 HB_ERRCODE hb_rddCreateTable( const char * szFileName, const char *
szDriver,
-                           USHORT uiArea, const char *szAlias,
-                           BOOL fKeepOpen,
-                           const char * szCpId, ULONG ulConnection,
-                           PHB_ITEM pStruct, PHB_ITEM pDelim )
+                              USHORT uiArea, const char *szAlias,
+                              BOOL fKeepOpen,
+                              const char * szCpId, ULONG ulConnection,
+                              PHB_ITEM pStruct, PHB_ITEM pDelim )
 {
    char szDriverBuffer[ HB_RDD_MAX_DRIVERNAME_LEN + 1 ];
    DBOPENINFO pInfo;
@@ -748,6 +748,76 @@
    return errCode;
 }

+HB_ERRCODE hb_rddCreateTableTemp( const char * szDriver,
+                                  const char * szAlias,
+                                  const char * szCpId, ULONG ulConnection,
+                                  PHB_ITEM pStruct, PHB_ITEM pDelim )
+{
+   char szDriverBuffer[ HB_RDD_MAX_DRIVERNAME_LEN + 1 ];
+   DBOPENINFO pInfo;
+   HB_ERRCODE errCode;
+   USHORT uiPrevArea;
+   AREAP pArea;
+
+   if( szDriver && szDriver[ 0 ] )
+   {
+      hb_strncpyUpper( szDriverBuffer, szDriver, sizeof( szDriverBuffer ) -
1 );
+      szDriver = szDriverBuffer;
+   }
+   else
+      szDriver = hb_rddDefaultDrv( NULL );
+
+   uiPrevArea = hb_rddGetCurrentWorkAreaNumber();
+
+   /*
+    * 0 means chose first available in hb_rddInsertAreaNode()
+    * This hack is necessary to avoid race condition in MT
+    * mode where workareas are shared between threads and
+    * we don't want to lock whole RDD subsystem, [druzus]
+    */
+   hb_rddSelectWorkAreaNumber( 0 );
+
+   /* Create a new WorkArea node */
+   if( ! hb_rddInsertAreaNode( szDriver ) )
+   {
+      hb_rddSelectWorkAreaNumber( uiPrevArea );
+      hb_errRT_DBCMD( EG_ARG, EDBCMD_BADPARAMETER, NULL, HB_ERR_FUNCNAME );
+      return HB_FAILURE;
+   }
+   pArea = ( AREAP ) hb_rddGetCurrentWorkAreaPointer();
+
+   /* Fill pInfo structure */
+   pInfo.uiArea = pArea->uiArea;
+   pInfo.abName = NULL;
+   pInfo.atomAlias = ( BYTE * ) szAlias;
+   pInfo.fShared = FALSE;
+   pInfo.fReadonly = FALSE;
+   pInfo.fTemporary = TRUE;
+   pInfo.cdpId = ( BYTE * ) szCpId;
+   pInfo.ulConnection = ulConnection;
+   pInfo.lpdbHeader = NULL;
+
+   if( pDelim && !HB_IS_NIL( pDelim ) )
+      errCode = SELF_INFO( pArea, DBI_SETDELIMITER, pDelim );
+   else
+      errCode = HB_SUCCESS;
+
+   if( errCode == HB_SUCCESS )
+   {
+      errCode = SELF_CREATEFIELDS( pArea, pStruct );
+      if( errCode == HB_SUCCESS )
+         errCode = SELF_CREATE( pArea, &pInfo );
+   }
+
+   if( errCode != HB_SUCCESS )
+   {
+      hb_rddReleaseCurrentArea();
+      hb_rddSelectWorkAreaNumber( uiPrevArea );
+   }
+
+   return errCode;
+}
+
 static void hb_fldStructure( AREAP pArea, USHORT uiField, USHORT uiSize,
                              PHB_ITEM pField )
 {
---
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090212/4f504d75/attachment-0001.html
From info at fsgiudice.com  Sun Feb 15 16:58:06 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 15 19:22:51 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <49988FA7.4000800@fsgiudice.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>	<18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>	<531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>	<49988BDA.3070008@fsgiudice.com>	<531d7a750902151343w7a485cdq1d377b34d2c1bdfd@mail.gmail.com>
	<49988FA7.4000800@fsgiudice.com>
Message-ID: <49988FEE.1030801@fsgiudice.com>

Here 90% version.
Best regards

Francesco

Il 15/02/2009 22.56, Francesco Saverio Giudice ha scritto:
> Attached you find images at compressed with a factor of 75%.
> Next mail (due to attachment restriction) will contains images at 90%.
> Best regards
> 
> Francesco
> 
> Il 15/02/2009 22.43, Vailton Renato ha scritto:
>> Send these images to me.
>>
>> 2009/2/15 Francesco Saverio Giudice <info@fsgiudice.com>:
>>> Hi Renato,
>>> for images could you compress them using irfanview
>>> (http://www.irfanview.net) ?
>>> It has a plugin that compress images optimizing them for web and it 
>>> reduces
>>> at least of 50% image size.
>>> Try it with jpeg compression of 75 and 90%.
>>> I have just tested it and big images in main page can be reduced from:
>>> header_1.jpg 30.047 Kb -> 90% = 11.174 Kb -> 75% 7.387 Kb
>>> header_2.jpg 83.164 Kb -> 90% = 22.490 Kb -> 75% 14.222 Kb
>>>
>>> Best regards
>>>
>>> Francesco
>>>
>>> Il 15/02/2009 21.26, Vailton Renato ha scritto:
>>>> This is OK now.
>>>> :)
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
A non-text attachment was scrubbed...
Name: images_90.zip
Type: application/x-zip-compressed
Size: 32927 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090215/c5cf6837/images_90-0001.bin
From harbour.01 at syenar.hu  Sun Feb 15 19:24:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 15 19:24:53 2009
Subject: [Harbour] rxsnt, rsx32, bcc16 compiler support removal.
Message-ID: <18d502870902151624m57322642y577441be59a8f0b@mail.gmail.com>

Hi all,
I'd like to remove support for above compilers.

The RSX family (which I've added in 2000) is
pretty much dead by now, and has been superseded
by MinGW, DJGPP. RSX most probably doesn't
work any more with Harbour, since it hasn't been
tested in the last 5 years.

BCC16 doesn't work since many years.

Any objections?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/5683b32a/attachment.html
From vailtom at gmail.com  Sun Feb 15 19:51:27 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 15 19:51:30 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <49988FEE.1030801@fsgiudice.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>
	<531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>
	<49988BDA.3070008@fsgiudice.com>
	<531d7a750902151343w7a485cdq1d377b34d2c1bdfd@mail.gmail.com>
	<49988FA7.4000800@fsgiudice.com> <49988FEE.1030801@fsgiudice.com>
Message-ID: <531d7a750902151651l75d8da39q4699dccca520d6eb@mail.gmail.com>

In another email the image lost much quality
From vszakats at users.sourceforge.net  Sun Feb 15 20:18:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 15 20:18:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10283] trunk/harbour
Message-ID: <E1LYs7U-0004Mu-Ve@3kljzd1.ch3.sourceforge.com>

Revision: 10283
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10283&view=rev
Author:   vszakats
Date:     2009-02-16 01:18:00 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-17 02:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  - bin/hbmk.bat
  - bin/hbmk_gcc.bat
  - bin/hbmk_os2.cmd
  - bin/hbmk_ow.bat
  - bin/hbmk_b32.bat
  - bin/hbmk_vc.bat
    - Removed make files obsoleted by new hbmk tool.
      Old calling convention, features, switches, envvars
      continue to work.
      WARNING: If you've called hbmk as hbmk.bat,
               you'll need to change that to simply hbmk.

  * contrib/hbodbc/odbc.c
    * Minor formatting.

  * utils/hbmk/hbmk.prg
    ! Fixed owatcom link commands. (it was also wrong
      in hbmk.bat)
    + Added -debug support for owatcom. (untested)
    + Added rsxnt/rsx32 support in an unobtrusive way.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/utils/hbmk/hbmk.prg

Removed Paths:
-------------
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/bin/hbmk_b32.bat
    trunk/harbour/bin/hbmk_gcc.bat
    trunk/harbour/bin/hbmk_os2.cmd
    trunk/harbour/bin/hbmk_ow.bat
    trunk/harbour/bin/hbmk_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb 15 20:22:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 15 20:22:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10284] trunk/harbour
Message-ID: <E1LYsCA-0004qD-AF@3kljzd1.ch3.sourceforge.com>

Revision: 10284
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10284&view=rev
Author:   vszakats
Date:     2009-02-16 01:22:49 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-17 02:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_b32.mak
  * make_vc.mak
    - Deleted hbmk*.bat references.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_b32.mak
    trunk/harbour/make_vc.mak


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Mon Feb 16 03:10:34 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 16 03:11:47 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151651l75d8da39q4699dccca520d6eb@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>	<18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>	<531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>	<49988BDA.3070008@fsgiudice.com>	<531d7a750902151343w7a485cdq1d377b34d2c1bdfd@mail.gmail.com>	<49988FA7.4000800@fsgiudice.com>
	<49988FEE.1030801@fsgiudice.com>
	<531d7a750902151651l75d8da39q4699dccca520d6eb@mail.gmail.com>
Message-ID: <49991F7A.7000609@fsgiudice.com>

Hi Renato, which version did you try ? 75% or 90% or both ? Because 90% 
seems to me acceptable.

Best regards

Francesco

Il 16/02/2009 1.51, Vailton Renato ha scritto:
> In another email the image lost much quality
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From vszakats at users.sourceforge.net  Mon Feb 16 03:26:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 03:26:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10285] trunk/harbour
Message-ID: <E1LYyng-00063p-DW@d5vjzd1.ch3.sourceforge.com>

Revision: 10285
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10285&view=rev
Author:   vszakats
Date:     2009-02-16 08:25:59 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-17 09:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbapollo/tests/hbapollo.hbp
    + Added filters.
    ; TOFIX: hbapollo test doesn't link with MSVC.

  - contrib/hbapollo/tests/hbmk.bat
  - contrib/gtwvg/tests/hbmk.bat
  - contrib/hbbtree/tests/hbmk.bat
  - contrib/examples/terminal/hbmk.bat
  - contrib/examples/terminal/hbmk_trm_appn.bat
    - Removed batch versions of make files.
      Go to the directory the source are located and
      use the .hbm files where there is one, or just pass
      the .prg name to hbmk.exe.

  * utils/hbmk/hbmk.prg
    ! Fixed handling lib/source files with double extensions.
    ! Fixed to not add empty items to lists in some occasions.
    + Added -q to suppress informational output + header.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbapollo/tests/hbapollo.hbp
    trunk/harbour/utils/hbmk/hbmk.prg

Removed Paths:
-------------
    trunk/harbour/contrib/examples/terminal/hbmk.bat
    trunk/harbour/contrib/examples/terminal/hbmk_trm_appn.bat
    trunk/harbour/contrib/gtwvg/tests/hbmk.bat
    trunk/harbour/contrib/hbapollo/tests/hbmk.bat
    trunk/harbour/contrib/hbbtree/tests/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Feb 16 03:40:51 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 03:40:56 2009
Subject: [Harbour] harbour project program
Message-ID: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>

Harbour will have the  defnition of a project
With hbp web have in harbour an file with structure of project

Will hbmk adopt as format of file xhbp of xmate?
ore something  of similar,ispiraded by this files?
Particularry powerfill is having a unique list of files prg,c,lib
Other extension (txt,ch) are include only to give editing capability
THis make system will be adopted also bt a future version of visual harbour
Follow xbase++ and xmate choice
--------------------------------
XBASE++ XHP
[PROJECT]
    DEBUG         = yes
    OBJ_FORMAT    = COFF
    OMF_LINKER    = BLINKER.com /QM /CODEVIEW /CVON
    OPENFILES     = arcawi.prg;ARCA.PRG
    VERSION       = 2.0
    Project.xpj

[Project.xpj]
    ARCAW.EXE

[ARCAW.EXE]
    COMPILE       = xpp
    COMPILE_FLAGS = /q /n /rDclipx.lib /dAXSERV /dEURO /p
    DEBUG_SAVE    = yes
    GUI           = yes
    LINKER        = ALINK
    LINK_FLAGS    = /FORCE:MULTIPLE
    RC_COMPILE    = arc
    RC_FLAGS      = /v
    OBJ_DIR       = OBJ
// $START-AUTODEPEND
    ARCABI.CH
    C:\alaska\EXP1\LIB\EXPRESS.RES
    C:\alaska\EXP1\LIB\DCLIP1.LIB
    C:\alaska\EXP1\LIB\DCLIP2.LIB
    C:\alaska\EXP1\LIB\DCLIPC.LIB
    C:\alaska\EXP1\LIB\DCLIPX.LIB
    C:\ALASKA\XPPW32\LIB\DELTAW.LIB
    ADAC20B.LIB
    ADSUTIL.LIB
    M1obj
    M2.obj
    M3.obj
    M4.obj
    M5.obj
    M6.obj
    M7.obj
    M8.obj
    M9.obj
    M10.obj
    M11.obj
    M12.obj
// $STOP-AUTODEPEND
    M1.PRG
    M2.PRG
    M3.PRG
    M4.PRG
    M5.PRG
    M6.PRG
    M7.PRG
    M8.PRG
    M9.PRG
    M10.PRG
    M11.PRG
    M12.PRG



------------------------------------
[Version]
Type=xMate
Number=1.15

[Info]
Type=Executable
Architecture=harbour
Include=
Define=

[xMate]
Create Map/List File=No

[Project]
Run=
Params=
Final Path=%HOME%
Maintain LNK=Yes
Default Type=1
Error log=

[Data Path]
Dbf=

[Editor]


[Files]
%HOME%\m1.PRG=1,.F.,1497,32,
%HOME%\m2.PRG=2,.F.,5955,30,
%HOME%\M3.PRG=3,.F.,247,43,
%HOME%\M4.PRG=4,.F.,554,32,
%HOME%\M4.PRG=5,.F.,669,46,
%HOME%\M6.PRG=6,.F.,511,12,
<%HOME%\M7.PRG=7,.F.,2577,30,
%HOME%\M8.PRG=8,.F.,3669,6,
%HOME%\M9.PRG=9,.F.,580,64,
%HOME%\M10.PRG=10,.F.,720,10,
%HOME%\M11.PRG=11,.F.,4,20,
%HOME%\M12.prg=12,.F.,7277,6,
%HOME%\M13.PRG=13,.F.,1780,84,
%HOME%\ARCATAB.PRG=14,.F.,6705,9,
%HOME%\M14.PRG=15,.F.,3080,67,
%HOME%\M15.PRG=16,.F.,107,16,
%HOME%\M16.PRG=17,.F.,402,11,
%HB_LIB_INSTALL%\rddads.lib=18,.F.,0,0,
%HB_LIB_INSTALL%\ace32.lib=19,.F.,0,0,
%HB_LIB_INSTALL%\delta4hc.lib=20,.F.,0,0,
%HB_LIB_INSTALL%\gtwvt.lib=46,.T.,0,0,
%HOME%\INC1.CH=22,.F.,2,38,
%HOME%\INC2.CH=23,.F.,136,12,
%HOME%\README.TXT=24,.F.,2,43,
%HOME%\INC3.CH=25,.F.,166,1,
%HB_LIB_INSTALL%\HBvm.lib=26,.T.,0,0,
%HB_LIB_INSTALL%\HBrtl.lib=27,.T.,0,0,
%HB_LIB_INSTALL%\HBrdd.lib=28,.T.,0,0,
%HB_LIB_INSTALL%\HBmacro.lib=29,.T.,0,0,
%HB_LIB_INSTALL%\HBlang.lib=30,.T.,0,0,
%HB_LIB_INSTALL%\HBpp.lib=31,.T.,0,0,
%HB_LIB_INSTALL%\HBcommon.lib=32,.T.,0,0,
%HB_LIB_INSTALL%\HBpcre.lib=33,.T.,0,0,
%HB_LIB_INSTALL%\RDDfpt.lib=34,.T.,0,0,
%HB_LIB_INSTALL%\RDDntx.lib=35,.T.,0,0,
%HB_LIB_INSTALL%\RDDcdx.lib=36,.T.,0,0,
%HB_LIB_INSTALL%\HBsIx.lib=37,.T.,0,0,
%HB_LIB_INSTALL%\HBdebug.lib=38,.T.,0,0,
%HB_LIB_INSTALL%\hbhsx.lib=39,.T.,0,0,
%HB_LIB_INSTALL%\hbcplr.lib=40,.T.,0,0,
%HB_LIB_INSTALL%\hbtip.lib=41,.T.,0,0,
%HB_LIB_INSTALL%\gtwin.lib=42,.T.,0,0,
%HB_LIB_INSTALL%\gtwvg.lib=43,.T.,0,0,
%HB_LIB_INSTALL%\gtstd.lib=44,.T.,0,0,
%HB_LIB_INSTALL%\gtgui.lib=45,.T.,0,0,
%HB_LIB_INSTALL%\hbcpage.lib=47,.T.,0,0,
%HB_LIB_INSTALL%\hbstr.LIB=48,.T.,0,0,



-- 
Massimo Belgrano
From maurilio.longo at libero.it  Mon Feb 16 03:48:38 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 16 03:48:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <20090215173534.GA31852@uran.home.aster.pl>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>	<49954990.3000503@libero.it>
	<20090215173534.GA31852@uran.home.aster.pl>
Message-ID: <49992866.8090806@libero.it>

Przemyslaw Czerpak wrote:
> Looks that I haven't read OS2 API documentation carefully.
> Thanks for fix.
> Though I have few questions because looks that current code have to
> be updated. Your modification suggests that DosPostEventSem() sends
> broadcast message and wake up _ALL_ threads which where blocked by
> event semaphore by DosWaitEventSem() and not only one. DosWaitEventSem()
> blocks calling thread on event semaphore only if this semaphore was
> not posted after last call to DosResetEventSem() so it's necessary to
> call DosResetEventSem() to clear all posted events and make event semaphore
> blocking. I guess that DosResetEventSem() is atomic operation and when
> two or more threads call this function simultaneously then only one will
> receive non 0 value if semaphore was posted.

You're correct, this comes from OS/2 docs:

-------------8<-------------------
An event semaphore provides a signaling mechanism among threads or processes,
ensuring that events occur in the desired sequence. Event semaphores are used
by one thread to signal other threads that an event has occurred. An
application can use this type of semaphore to block a thread or process until
the event has occurred.

An event semaphore has two states, reset and posted. When an event semaphore
is in the reset state, OS/2 blocks any thread or process that is waiting on
the semaphore. When an event semaphore is in the posted state, all threads or
processes waiting on the semaphore resume execution.

For example, assume thread 1 is allocating a shared memory object and threads
2 and 3 must wait for the memory to be allocated before they attempt to
examine its contents. Before thread 1 allocates the memory, it creates an
event semaphore, specifying the initial state of the semaphore as reset. (If
the event semaphore has already been created, thread 1 simply resets the
semaphore.) Threads 2 and 3 use DosWaitEventSem to wait for the semaphore to
signal that the event, in this case the allocation and preparation of the
shared memory object, has been completed. Because the semaphore was reset by
thread 1, threads 2 and 3 are blocked when they call DosWaitEventSem. After
thread 1 has finished allocating and placing data in the shared memory object,
it signals the completion of its task by posting the event semaphore. The
posting of the event semaphore unblocks threads 2 and 3, enabling them to
resume execution. They can then proceed to examine the contents of the
allocated memory.

In the example above, one thread controls the resetting and posting of the
event semaphore, while other threads merely wait on the semaphore. Another
approach could be for an application or thread to reset an event semaphore,
then block itself on that semaphore. At a later time, another application or
thread would post the event semaphore, unblocking the first thread.
------------->8-------------------


> If I'm right then I see few potential problems.
> 1-st we do not need separate macros for HB_COND_SIGNAL() and
> HB_COND_SIGNALN() in OS2 builds because all works like HB_COND_BROADCAST()
> and wake up all waiting threads.

Yes

> 2-nd we should change all places where HB_COND_TIMEDWAIT() is used
> and check timeout parameter ourselves just like in hb_threadWait()
> function. In summary I should implement it at beginning because it
> pacifies also other potential though minor problem on MS-Win builds.
> But there is also other problem much more critical. DosResetEventSem()
> is not atomic to DosWaitEventSem() and we have nothing to sync well
> number of posted signals with number of waiting threads to be sure
> that all threads will be woken up. To resolve this problem we have

You can call DosQueryEventSem() to know how many times a semaphore has been
posted since last DosResetEventSem() which gives you back this info when called.

-------------8<-------------
DosResetEventSem resets an event semaphore, causing all threads that
subsequently call DosWaitEventSem to be blocked. It also returns the post
count for the semaphore. The post count is the number of times that
DosPostEventSem has been called since the last time the semaphore was in the
reset state.
------------->8-------------

> to move DosResetEventSem() changing the code in OS2 builds. But
> before I'll make deeper modifications I would like to confirm that
> I correctly described how DosWaitEventSem(), DosPostEventSem() and
> DosResetEventSem() work. I do not have precise OS2 documentation
> and I have to guess some things.
> 

You're correct.

Thanks a lot.

Maurilio.


> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vouchcac at users.sourceforge.net  Mon Feb 16 03:52:02 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 16 03:52:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10286] trunk/harbour
Message-ID: <E1LYzCs-0003K0-8d@c3vjzd1.ch3.sourceforge.com>

Revision: 10286
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10286&view=rev
Author:   vouchcac
Date:     2009-02-16 08:52:01 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-16 00:10 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/common.mak
  * harbour/contrib/gtwvg/Makefile
    + Added wvgdarea.prg

  * harbour/contrib/gtwvg/wvgwin.c
    + Added more functions.

  + harbour/contrib/gtwvg/wvgdarea.prg
    + Added WvgDrawingArea(), a helper class to WvgDialog().
  * harbour/contrib/gtwvg/wvgdlg.prg
  * harbour/contrib/gtwvg/wvgparts.ch
  * harbour/contrib/gtwvg/wvgphdlr.prg
  * harbour/contrib/gtwvg/wvgstatc.prg
  * harbour/contrib/gtwvg/wvgtoolb.prg
  * harbour/contrib/gtwvg/wvgwnd.prg
  * harbour/contrib/gtwvg/wvtwin.ch
    ! Numerous class structure enhancements. More Xbase++ compatibility
      XbpDialog:drawingArea concept implemented in greater details.
      WvgToolbarButtons() now take use of WAPI_ImageList_*() functions.

  * harbour/contrib/hbwin/hbwapi.h
    ! Defines updated to respect pointers also.
  + harbour/contrib/hbwin/wapi_commctrl.c
    + Implemented WAPI ImageList_*() family of functions.

  * harbour/contrib/hbwin/Makefile
  * harbour/contrib/hbwin/common.mak
    + Added wapi_commctrl.c

  * harbour/contrib/gtwvg/tests/demowvg.prg
  * harbour/contrib/gtwvg/tests/demoxbp.prg
    ! Updated TO respect new changes in class structures.
      Xbase++ related components are more compatible now.

    ; TODO: Tooltips on Toolbar Buttons. WHILE implemeting
      XbpDialog:drawingArea concept I have lost track of this
      feature as buttons are now created via image lists and
      Toolbar window is created with CreateWindowEx() instead of
      CreateToolbarWindow().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/common.mak
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/gtwvg/tests/demoxbp.prg
    trunk/harbour/contrib/gtwvg/wvgdlg.prg
    trunk/harbour/contrib/gtwvg/wvgparts.ch
    trunk/harbour/contrib/gtwvg/wvgphdlr.prg
    trunk/harbour/contrib/gtwvg/wvgstatc.prg
    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg
    trunk/harbour/contrib/gtwvg/wvtwin.ch
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/common.mak
    trunk/harbour/contrib/hbwin/hbwapi.h
    trunk/harbour/contrib/hbwin/wapi_commctrl.c

Added Paths:
-----------
    trunk/harbour/contrib/gtwvg/wvgdarea.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Feb 16 04:02:46 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 04:02:50 2009
Subject: [Harbour] hbmake deleted
Message-ID: <609353e70902160102k79c7e7b7o1bbd63f23d8892d6@mail.gmail.com>

in last cvs i don't found  utils/hbmake/ path
is possible move in example dir?
hmake Will be recompiled  by hbmk.prg?

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Feb 16 04:18:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 04:18:52 2009
Subject: [Harbour] harbour project program
In-Reply-To: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
Message-ID: <18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>

Hi Massimo,


> Harbour will have the  defnition of a project
> With hbp web have in harbour an file with structure of project
>
> Will hbmk adopt as format of file xhbp of xmate?


Nope, but hbmk could probably be extended to read these
files and try to use as much as possible from them.
I'm personally largely uninterested in spending time to
create code to process these file formats (which I don't
know). Many/most features are already supported by hbmk,
and the format is simple enough, that it takes just a few
minutes for a human to do it manually.

If someone wants to contribute here, probably the best
would be to write small converter tools from Xbase++
and xMate config files to .hbm. These tools can then
be integrated into hbmk, quite easily.

Since I've never used above products, it's difficult to tell
what they offer (beyond the file format). What still could
be done in hbmk, is dependency tracking and incremental
build features. I'm currently not interested in these, nor
do I have time to implement it, first let's see how this
new tool works, let's make it on par with hbmk.sh, let's
fill the gaps, then reconsider.

Overall however, hbmk does want to stay a simple/light
tool, not a Visual IDE replacement nor a do-it-all / solve-it-all
utility. Its main purpose is to hide platform differences
for users and to allow to make .prg -> executable a one
step process on all platforms.

So, if you read my ChangeLog entries, you'd find, that
the relevant parts/features are already supported of
your quoted config files. Resource file handling is still
on the TODO list, but since Harbour core doesn't have
any resources this isn't topmost priority, I'll add it later
as time allows.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/57db343a/attachment.html
From harbour.01 at syenar.hu  Mon Feb 16 04:26:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 04:26:08 2009
Subject: [Harbour] hbmake deleted
In-Reply-To: <609353e70902160102k79c7e7b7o1bbd63f23d8892d6@mail.gmail.com>
References: <609353e70902160102k79c7e7b7o1bbd63f23d8892d6@mail.gmail.com>
Message-ID: <18d502870902160126i1e83d23esbca5ffca6342fc16@mail.gmail.com>

>
> in last cvs i don't found  utils/hbmake/ path

is possible move in example dir?


Nope, because it's not a good example IMO,
and also very big for what it offers.

You can take the .exe from 1.0.1 release,
or get yesterday's sources from the repository
by using -r <revision> option of Subversion.


> hmake Will be recompiled  by hbmk.prg?


hbmk hbmake hbmfrdln.c hbmgauge.c hbmlang.c

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/9e683f79/attachment.html
From mbelgrano at deltain.it  Mon Feb 16 04:51:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 04:51:57 2009
Subject: [Harbour] harbour project program
In-Reply-To: <18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
Message-ID: <609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>

Thanks for your clarification
i want  try to write a guide for hbmk
I plan to write in Italian then i try request a translation
somebody have suggestion about which tool use
I think write in open office 3 and search a good layout for manual

Which feature are planed for hbmk in 1.1?


I have still one suggestion
Having a simple interactive mode
launching hbmk without parameter see a list of prg,hbp,c,rc
select with space one or more and press button compile
Simple and easy but will be a bridge between people command line
driven and gui driven
hbmk -? for actual help that can be read also with f1 from interactive mode
can be used a memoedit to read actual help with scrolling row?
harbour with this little feature will be more interactive
hbp extension will be associated to hbmk.exe by setup?
hbp will be ready to support user defined extension ignoring parameter
external to his group?
In somebody in future made a visual extension will extend using hbmk



2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Massimo,
>
>>
>> Harbour will have the  defnition of a project
>> With hbp web have in harbour an file with structure of project
>>
>> Will hbmk adopt as format of file xhbp of xmate?
>
> Nope, but hbmk could probably be extended to read these
> files and try to use as much as possible from them.
> I'm personally largely uninterested in spending time to
> create code to process these file formats (which I don't
> know). Many/most features are already supported by hbmk,
> and the format is simple enough, that it takes just a few
> minutes for a human to do it manually.
> If someone wants to contribute here, probably the best
> would be to write small converter tools from Xbase++
> and xMate config files to .hbm. These tools can then
> be integrated into hbmk, quite easily.
> Since I've never used above products, it's difficult to tell
> what they offer (beyond the file format). What still could
> be done in hbmk, is dependency tracking and incremental
> build features. I'm currently not interested in these, nor
> do I have time to implement it, first let's see how this
> new tool works, let's make it on par with hbmk.sh, let's
> fill the gaps, then reconsider.
> Overall however, hbmk does want to stay a simple/light
> tool, not a Visual IDE replacement nor a do-it-all / solve-it-all
> utility. Its main purpose is to hide platform differences
> for users and to allow to make .prg -> executable a one
> step process on all platforms.
> So, if you read my ChangeLog entries, you'd find, that
> the relevant parts/features are already supported of
> your quoted config files. Resource file handling is still
> on the TODO list, but since Harbour core doesn't have
> any resources this isn't topmost priority, I'll add it later
> as time allows.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Mon Feb 16 05:22:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 05:22:54 2009
Subject: [Harbour] harbour project program
In-Reply-To: <609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
Message-ID: <18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>

>
> I plan to write in Italian then i try request a translation
> somebody have suggestion about which tool use
> I think write in open office 3 and search a good layout for manual


We have the trac wiki on sf.net. I've posted the link a few times.


> Which feature are planed for hbmk in 1.1?


I don't know yet. Maybe lib support, resource support.


> I have still one suggestion
> Having a simple interactive mode
> launching hbmk without parameter see a list of prg,hbp,c,rc
> select with space one or more and press button compile
> Simple and easy but will be a bridge between people command line
> driven and gui driven


Nope sorry, I've meant this is a pure command line tool.
In fact all our supplied tools are command line only, and
this shouldn't be an exception.

If you want CUI/GUI, a wrapper program is the best solution. This
could simply create a hbmk command line after presenting
all the options on the screen for the user and either launch it
or save it as .hbm (similar to hbmake). Can be independently
developed from hbmk, and if it's good and portable (which now
means CUI), we can also include it as part of the Harbour package.


> hbmk -? for actual help that can be read also with f1 from interactive mode
> can be used a memoedit to read actual help with scrolling row?


hbmk | more
(on Linux/Darwin you can even scroll up/down)


> harbour with this little feature will be more interactive
> hbp extension will be associated to hbmk.exe by setup?


It can be done, and if someone does this, fine. Notice
we don't have a setup for Harbour yet.


> hbp will be ready to support user defined extension ignoring parameter
> external to his group?


Adding user defined extensions is too heavy for this tool IMO,
since it would need a whole generic, configurable solution
to setup the command and option rules. This would go right
against portability and simplicity.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/50059770/attachment.html
From toninhofwi at yahoo.com.br  Mon Feb 16 06:55:10 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Mon Feb 16 05:52:31 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <18d502870902151424x26119d7eyc4f442c5e42dfbb0@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<49987C7C.209@fsgiudice.com>
	<531d7a750902151351l54e534a6nb064cf893f7023cd@mail.gmail.com>
	<4998944C.6050304@fsgiudice.com>
	<18d502870902151424x26119d7eyc4f442c5e42dfbb0@mail.gmail.com>
Message-ID: <6tkip4dpv561epncnbo4ro9345mbotc5p3@4ax.com>

Hi Vailton,

Congrats. Each time better.

>> So I propose to make a simple table list that contains:
>> Name - Nation - eMail - Photo - Comments
>> ordered by name as in hbusage.c
>>
>> Viktor, all ?
+1


Regards,

Toninho.


	

	
		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor opo para voc! 
Experimente j e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
From vszakats at users.sourceforge.net  Mon Feb 16 05:53:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 05:53:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10287] trunk/harbour
Message-ID: <E1LZ16D-0007aT-DT@3kljzd1.ch3.sourceforge.com>

Revision: 10287
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10287&view=rev
Author:   vszakats
Date:     2009-02-16 10:53:16 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-17 11:52 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added support to pass .hbp files on the command line.

  * contrib/hbwin/wapi_commctrl.c
  * contrib/hbwin/hbwapi.h
    ! Remaining comments changed to ANSI.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwapi.h
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Feb 16 06:05:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 06:05:24 2009
Subject: [Harbour] harbour project program
In-Reply-To: <18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
	<18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
Message-ID: <609353e70902160305h45bdb3cckd9de2b171eb7dd0b@mail.gmail.com>

2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>> I plan to write in Italian then i try request a translation
>> somebody have suggestion about which tool use
>> I think write in open office 3 and search a good layout for manual
>
> We have the trac wiki on sf.net. I've posted the link a few times.
I have see at  https://apps.sourceforge.net/trac/harbour-project/wiki
But i can't understand How use
why contain Welcome to Trac 0.11.2.1 ?
is planed delete "Trac 0.11.2.1" content and insert harbour contents?
is possible download instead Plain Text a pdf?
How can i add a image?

> Nope sorry, I've meant this is a pure command line tool.
> In fact all our supplied tools are command line only, and
> this shouldn't be an exception.
Here i not agree because also A pure command line tool must  be a
little interactive
I agree that will be created a gui that execute hbmk but in my opinion
having inside harbour itself is very important for newbbies
From miguelangel at marchuet.net  Mon Feb 16 06:13:28 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Feb 16 06:08:06 2009
Subject: [Harbour] help to finish charset support for vfp dbf tables
Message-ID: <49994A58.7030904@marchuet.net>

We need next charset to finish:

          932 	      Japanese Windows 	         x7B
          936 	      Chinese (PRC, Singapore) Windows 	x7A
          949 	      Korean Windows 	         x79
          950 	      Chinese (Hong Kong SAR, Taiwan) Windows 	x78
          10000 	   Standard Macintosh 	      x04
          10006 	   Greek Macintosh 	         x98
          10007 * 	   Russian Macintosh 	      x96
          10029 	   Macintosh EE 	            x97

Some body can find some information ?

       /*
          Code page 	Platform 	               Code page identifier    xharbour charset
          437 	      U.S. MS-DOS 	            x01                     HB_CPID_437
          620 * 	   Mazovia (Polish) MS-DOS    x69                     HB_CPID_MAZ
          737 * 	   Greek MS-DOS (437G) 	      x6A                     HB_CPID_737
          850 	      International MS-DOS 	   x02                     HB_CPID_850
          852 	      Eastern European MS-DOS    x64                     HB_CPID_852
          857 	      Turkish MS-DOS 	         x6B                     HB_CPID_857
          861 	      Icelandic MS-DOS 	         x67                     HB_CPID_861
          865 	      Nordic MS-DOS 	            x66                     HB_CPID_865
          866 	      Russian MS-DOS 	         x65                     HB_CPID_866
          874 	      Thai Windows 	            x7C                     HB_CPID_874
          895 * 	   Kamenicky (Czech) MS-DOS 	x68                     HB_CPID_KAM
          932 	      Japanese Windows 	         x7B
          936 	      Chinese (PRC, Singapore) Windows 	x7A
          949 	      Korean Windows 	         x79
          950 	      Chinese (Hong Kong SAR, Taiwan) Windows 	x78
          1250 	      Eastern European Windows 	xC8                     HB_CPID_1250
          1251 	      Russian Windows 	         xC9                     HB_CPID_1251
          1252 	      Windows ANSI 	            x03                     HB_CPID_1252
          1253 	      Greek Windows 	            xCB                     HB_CPID_1253
          1254 	      Turkish Windows 	         xCA                     HB_CPID_1254
          1255 	      Hebrew Windows 	         x7D                     HB_CPID_1255
          1256 	      Arabic Windows 	         x7E                     HB_CPID_1256
          10000 	   Standard Macintosh 	      x04
          10006 	   Greek Macintosh 	         x98
          10007 * 	   Russian Macintosh 	      x96
          10029 	   Macintosh EE 	            x97
          * Not detected when you include CODEPAGE=AUTO in your configuration file.
       */


Best regards,
Miguel Angel Marchuet
From harbour.01 at syenar.hu  Mon Feb 16 06:17:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 06:17:42 2009
Subject: [Harbour] harbour project program
In-Reply-To: <609353e70902160305h45bdb3cckd9de2b171eb7dd0b@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
	<18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
	<609353e70902160305h45bdb3cckd9de2b171eb7dd0b@mail.gmail.com>
Message-ID: <18d502870902160317j37a25b45r97590e33d624d64f@mail.gmail.com>

>
> > We have the trac wiki on sf.net. I've posted the link a few times.
> I have see at  https://apps.sourceforge.net/trac/harbour-project/wiki
> But i can't understand How use
> why contain Welcome to Trac 0.11.2.1 ?
> is planed delete "Trac 0.11.2.1" content and insert harbour contents?
> is possible download instead Plain Text a pdf?
> How can i add a image?


You should read the docs on the wiki if you're not familiar with it.
As for the "Welcome" page, rather than overwriting it, you
should create a new link in it, and start writing the text into the
newly created page under your new link. Image is also possible,
pls check the docs, I may have posted a link, anyhow it's the same
syntax MediaWiki uses.

I'm just recommending this, if it's not easy for you, just use
anything you'd like.


> > Nope sorry, I've meant this is a pure command line tool.
> > In fact all our supplied tools are command line only, and
> > this shouldn't be an exception.
> Here i not agree because also A pure command line tool must  be a
> little interactive
> I agree that will be created a gui that execute hbmk but in my opinion
> having inside harbour itself is very important for newbbies


It can be inside Harbour, say, under the name of hbmkui.
Someone has to develop it.

Brdgs,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/a0972b8d/attachment.html
From vailtom at gmail.com  Mon Feb 16 06:19:45 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Feb 16 06:19:48 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <49991F7A.7000609@fsgiudice.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>
	<531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>
	<49988BDA.3070008@fsgiudice.com>
	<531d7a750902151343w7a485cdq1d377b34d2c1bdfd@mail.gmail.com>
	<49988FA7.4000800@fsgiudice.com> <49988FEE.1030801@fsgiudice.com>
	<531d7a750902151651l75d8da39q4699dccca520d6eb@mail.gmail.com>
	<49991F7A.7000609@fsgiudice.com>
Message-ID: <531d7a750902160319h77399f2bu665bb84dbae74990@mail.gmail.com>

75%... I updated images of the site (with 90%) and includes a new news
release about the layout.

2009/2/16 Francesco Saverio Giudice <info@fsgiudice.com>:
> Hi Renato, which version did you try ? 75% or 90% or both ? Because 90%
> seems to me acceptable.
>
> Best regards
>
> Francesco
>
> Il 16/02/2009 1.51, Vailton Renato ha scritto:
>>
>> In another email the image lost much quality
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From mbelgrano at deltain.it  Mon Feb 16 06:22:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 06:22:31 2009
Subject: [Harbour] harbour project program
In-Reply-To: <18d502870902160317j37a25b45r97590e33d624d64f@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
	<18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
	<609353e70902160305h45bdb3cckd9de2b171eb7dd0b@mail.gmail.com>
	<18d502870902160317j37a25b45r97590e33d624d64f@mail.gmail.com>
Message-ID: <609353e70902160322k1f33cdbar39f647dac1e38a6f@mail.gmail.com>

>
> It can be inside Harbour, say, under the name of hbmkui.
> Someone has to develop it.

I will try any suggestion is welcome
i plan start using gtwvt

Massimo Belgrano
From vszakats at users.sourceforge.net  Mon Feb 16 06:50:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 06:50:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10288] trunk/harbour
Message-ID: <E1LZ1zg-0002aw-Rx@74yxhf1.ch3.sourceforge.com>

Revision: 10288
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10288&view=rev
Author:   vszakats
Date:     2009-02-16 11:50:35 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-17 12:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * include/hbapicdp.h
   * common.mak
   * source/codepage/Makefile
   + source/codepage/ucmacce.c
   + source/codepage/ucmacice.c
   + source/codepage/uc424.c
   + source/codepage/ucmacrom.c
   + source/codepage/ucmacgrk.c
   + source/codepage/uc037.c
   + source/codepage/uc875.c
   + source/codepage/uc1026.c
   + source/codepage/ucascii.c
   + source/codepage/ucatari.c
   + source/codepage/ucmaccyr.c
   + source/codepage/uc1006.c
   + source/codepage/ucnext.c
   + source/codepage/ucmactrk.c
   + source/codepage/uc856.c
   + source/codepage/uc500.c
     + Added missing codepages. Except for multi-byte ones,
       which I believe are not supported by the current
       Harbour infrastructure.

   * utils/hbmk/hbmk.prg
     ! Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/common.mak
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/source/codepage/Makefile
    trunk/harbour/utils/hbmk/hbmk.prg

Added Paths:
-----------
    trunk/harbour/source/codepage/uc037.c
    trunk/harbour/source/codepage/uc1006.c
    trunk/harbour/source/codepage/uc1026.c
    trunk/harbour/source/codepage/uc424.c
    trunk/harbour/source/codepage/uc500.c
    trunk/harbour/source/codepage/uc856.c
    trunk/harbour/source/codepage/uc875.c
    trunk/harbour/source/codepage/ucascii.c
    trunk/harbour/source/codepage/ucatari.c
    trunk/harbour/source/codepage/ucmacce.c
    trunk/harbour/source/codepage/ucmaccyr.c
    trunk/harbour/source/codepage/ucmacgrk.c
    trunk/harbour/source/codepage/ucmacice.c
    trunk/harbour/source/codepage/ucmacrom.c
    trunk/harbour/source/codepage/ucmactrk.c
    trunk/harbour/source/codepage/ucnext.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From a.jurkiewicz at abix.info.pl  Mon Feb 16 06:50:50 2009
From: a.jurkiewicz at abix.info.pl (ABIX Adam Jurkiewicz)
Date: Mon Feb 16 06:51:03 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
Message-ID: <4999531A.3090600@abix.info.pl>

Vailton Renato pisze:
> The Harbour's site has new layout. I have update the ftp with the

Great job !

> * I would also like to know how was the speed of loading of pages on the site.

In Poland loading is OK! I think in today's world 256 kbps is almost
everywhere ;-)

Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj
Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From ckedem at users.sourceforge.net  Mon Feb 16 07:03:39 2009
From: ckedem at users.sourceforge.net (ckedem@users.sourceforge.net)
Date: Mon Feb 16 07:03:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10289] trunk/harbour
Message-ID: <E1LZ2CJ-0000aZ-5t@3kljzd1.ch3.sourceforge.com>

Revision: 10289
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10289&view=rev
Author:   ckedem
Date:     2009-02-16 12:03:38 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-16 14:02 UTC+0200 Chen Kedem <niki@synel.co.il>
   * doc/dirstruc.txt
     * Updated to reflect current state.

   * source/compiler/hbusage.c
   * source/lang/msghe862.c
   * source/lang/msghewin.c
   * source/rtl/tone.c
   * source/rtl/gtos2/gtos2.c
     * Update my email on source files
       (didn't bother to change those under doc).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/dirstruc.txt
    trunk/harbour/source/compiler/hbusage.c
    trunk/harbour/source/lang/msghe862.c
    trunk/harbour/source/lang/msghewin.c
    trunk/harbour/source/rtl/gtos2/gtos2.c
    trunk/harbour/source/rtl/tone.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Mon Feb 16 07:04:06 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Feb 16 07:07:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10288] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C07B71C4596@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> 2009-02-17 12:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

You're in the future already?

  Chen.
From vszakats at users.sourceforge.net  Mon Feb 16 07:11:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 07:11:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10290]
	trunk/harbour/ChangeLog
Message-ID: <E1LZ2K2-0002vk-Fm@74yxhf1.ch3.sourceforge.com>

Revision: 10290
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10290&view=rev
Author:   vszakats
Date:     2009-02-16 12:11:37 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
corrected day of recent entries.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 16 07:12:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 07:12:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10288] trunk/harbour
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C07B71C4596@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C07B71C4596@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870902160412g48bbb42fu5db5bf25f36b572a@mail.gmail.com>

Hi Chen,

Ops, yep, I lost track of it in recent days :)Seemingly yesterday.

Brgds,
Viktor

On Mon, Feb 16, 2009 at 1:04 PM, Chen Kedem <niki@synel.co.il> wrote:

> Viktor,
>
> > 2009-02-17 12:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>
> You're in the future already?
>
>  Chen._______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/daede4d6/attachment-0001.html
From druzus at acn.waw.pl  Mon Feb 16 07:27:45 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 07:22:45 2009
Subject: [Harbour] DBCREATETEMP() patch
In-Reply-To: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>
References: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>
Message-ID: <20090216122745.GA5005@uran.home.aster.pl>

On Thu, 12 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> Pls find enclosed patch which implements:
> dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, <cDelimArg>, <cCodePage>,
> <nConnection> ) -> <lSuccess>
> This creates and opens a new temporary table. The file automatically
> gets deleted on close, all indexes created are also handled as temporary.
> Please review and comment.

It needs some additional modification:
1. it does not touch memo files and memo RDD at all. I has to be fixed.
2. <cAlias> is obligatory in dbCreateTemp() so RT error should be generated
   when it's missing though we can add support for empty alias ("") which
   is also legal in Clipper. In such case alias is not allocated at all
   and not generated from file name. So we have to choices when szAlias
   is NULL. Assing "" to it or generate RT error. The RT error should be
   made in dbCreateTemp() function. In the C function hb_rddCreateTableTemp()
   we should have:
      if( szAlias == NULL )
         szAlias = "";
3. pInfo.fTemporary is not initialized in hb_rddOpenTable() and
   hb_rddCreateTable() what will cause very serious bugs.

Rest should be OK though I haven't look at it very deeply but I see one
problem with adding new member to DBOPENINFO.
In practice it means breaking binary compatibility so any existing 3-rd
party RDDs will stop to work and will have to be recompiled for new code.
Such modifications should be made only if they are strictly necessary and
we should group them with other modifications we plan to introduce to not
force unnecessary upgrades or create problems when user will try to use
old binaries with new Harbour code. I do not know how many 3-rd party RDDs
exist for Harbour. For sure MEDIATOR. If you know some others then please
send some information here.
Jacek used to read this list so there is a chance that he will release
new MEDIATOR version for Harbour quite fast. Anyhow I also want to make
some other modifications in RDD structures (f.e. reorder some members to
make them alignment independent) and such modification should be done
together. Probably it should be the part of type modifications which also
may interact with this code so I suggest to not introduce this one now.
It's also possible to not change DBOPENINFO but pass information about
temporary flag using DBI_* or RDDI_* interface. Such method is already
used in some places, f.e. in SIX3 to pass encryption password when table
is open or even in the function you created (hb_rddCreateTableTemp()) to
set field delimiters by DBI_SETDELIMITER. BTW pDelim is used in practice
only by DELIM export RDD and I do not know if it's necessary to keep it
in hb_rddCreateTableTemp(). You can remove it and add code which will
pass temporary flag as DBI_ISTEMPORARY, f.e.:
   errCode = SELF_INFO( pArea, DBI_ISTEMPORARY, pTrueItm );
and change in dbf1.c:
      case DBI_ISTEMPORARY:
         hb_itemPutL( pItem, pArea->fTemporary );
         break;
to:
      case DBI_ISTEMPORARY:
         if( !pArea->pDataFile && pArea->pMemoFile && HB_IS_LOGICAL( pItem ) )
            pArea->fTemporary = hb_itemGetL( pItem );
         else
            hb_itemPutL( pItem, pArea->fTemporary );
         break;
and do not change DBOPENINFO structure.
In such case we can introduce it even now of course after resolving the few
problem above.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb 16 07:33:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 07:36:02 2009
Subject: [Harbour] DBCREATETEMP() patch
In-Reply-To: <20090216122745.GA5005@uran.home.aster.pl>
References: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>
	<20090216122745.GA5005@uran.home.aster.pl>
Message-ID: <18d502870902160433l3d0501dq8e5f4e1304b4b3a9@mail.gmail.com>

Hi Przemek,
Many thanks for your answer, I've just noticed your mail
today, sorry.

I'm processing it, trying to make modifications and will
get back to you. I agree with grouping RDD modifications,
1.1 seems like a good opportunity to make some changes.
MT support may require it anyway, if for nothing else the
changed Set() interface.

One part which might be much for me is the memo handling,
I'd appreciate your help in this area.

Brgds,
Viktor

It needs some additional modification:
> 1. it does not touch memo files and memo RDD at all. I has to be fixed.





> 2. <cAlias> is obligatory in dbCreateTemp() so RT error should be generated
>   when it's missing though we can add support for empty alias ("") which
>   is also legal in Clipper. In such case alias is not allocated at all
>   and not generated from file name. So we have to choices when szAlias
>   is NULL. Assing "" to it or generate RT error. The RT error should be
>   made in dbCreateTemp() function. In the C function
> hb_rddCreateTableTemp()
>   we should have:
>      if( szAlias == NULL )
>         szAlias = "";


I'd vote for RT error.


>
> 3. pInfo.fTemporary is not initialized in hb_rddOpenTable() and
>   hb_rddCreateTable() what will cause very serious bugs.
>
> Rest should be OK though I haven't look at it very deeply but I see one
> problem with adding new member to DBOPENINFO.
> In practice it means breaking binary compatibility so any existing 3-rd
> party RDDs will stop to work and will have to be recompiled for new code.
> Such modifications should be made only if they are strictly necessary and
> we should group them with other modifications we plan to introduce to not
> force unnecessary upgrades or create problems when user will try to use
> old binaries with new Harbour code. I do not know how many 3-rd party RDDs
> exist for Harbour. For sure MEDIATOR. If you know some others then please
> send some information here.


xhb RDDs shipped as binaries, but I've never tried them
with Harbour and it's difficult to guess whether they are
working even without these modifications.


> Jacek used to read this list so there is a chance that he will release
> new MEDIATOR version for Harbour quite fast. Anyhow I also want to make
> some other modifications in RDD structures (f.e. reorder some members to
> make them alignment independent) and such modification should be done
> together. Probably it should be the part of type modifications which also
> may interact with this code so I suggest to not introduce this one now.
> It's also possible to not change DBOPENINFO but pass information about
> temporary flag using DBI_* or RDDI_* interface. Such method is already
> used in some places, f.e. in SIX3 to pass encryption password when table
> is open or even in the function you created (hb_rddCreateTableTemp()) to
> set field delimiters by DBI_SETDELIMITER. BTW pDelim is used in practice
> only by DELIM export RDD and I do not know if it's necessary to keep it
> in hb_rddCreateTableTemp(). You can remove it and add code which will
> pass temporary flag as DBI_ISTEMPORARY, f.e.:
>   errCode = SELF_INFO( pArea, DBI_ISTEMPORARY, pTrueItm );
> and change in dbf1.c:
>       case DBI_ISTEMPORARY:
>         hb_itemPutL( pItem, pArea->fTemporary );
>         break;
> to:
>      case DBI_ISTEMPORARY:
>         if( !pArea->pDataFile && pArea->pMemoFile && HB_IS_LOGICAL( pItem )
> )
>            pArea->fTemporary = hb_itemGetL( pItem );
>         else
>             hb_itemPutL( pItem, pArea->fTemporary );
>         break;
> and do not change DBOPENINFO structure.
> In such case we can introduce it even now of course after resolving the few
> problem above.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/db81e202/attachment.html
From druzus at acn.waw.pl  Mon Feb 16 08:09:15 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 08:04:13 2009
Subject: [Harbour] DBCREATETEMP() patch
In-Reply-To: <18d502870902160433l3d0501dq8e5f4e1304b4b3a9@mail.gmail.com>
References: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>
	<20090216122745.GA5005@uran.home.aster.pl>
	<18d502870902160433l3d0501dq8e5f4e1304b4b3a9@mail.gmail.com>
Message-ID: <20090216130915.GA32670@uran.home.aster.pl>

On Mon, 16 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> One part which might be much for me is the memo handling,
> I'd appreciate your help in this area.

OK, I'll look at it but we should not have any bigger problems here.
Just simply memo file should also be temporary and maybe we should
block some operations like memo packing.

> > 2. <cAlias> is obligatory in dbCreateTemp() so RT error should be generated
> >   when it's missing though we can add support for empty alias ("") which
> >   is also legal in Clipper. In such case alias is not allocated at all
> >   and not generated from file name. So we have to choices when szAlias
> >   is NULL. Assing "" to it or generate RT error. The RT error should be
> >   made in dbCreateTemp() function. In the C function
> > hb_rddCreateTableTemp()
> >   we should have:
> >      if( szAlias == NULL )
> >         szAlias = "";
> I'd vote for RT error.

OK but only if user does not pass alias at all. If he passes explicitly ""
as alias then we should allow empty alias just like in all other open/create
functions to not force allocating unnecessary temporary alias.

> > In practice it means breaking binary compatibility so any existing 3-rd
> > party RDDs will stop to work and will have to be recompiled for new code.
> > Such modifications should be made only if they are strictly necessary and
> > we should group them with other modifications we plan to introduce to not
> > force unnecessary upgrades or create problems when user will try to use
> > old binaries with new Harbour code. I do not know how many 3-rd party RDDs
> > exist for Harbour. For sure MEDIATOR. If you know some others then please
> > send some information here.
> xhb RDDs shipped as binaries, but I've never tried them
> with Harbour and it's difficult to guess whether they are
> working even without these modifications.

I guess you are talking about SQLRDD and RMDBF* RDDs.
They cannot work just like any other binary RDDs without recompilation
with Harbour header files due to differences between both compilers.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb 16 08:18:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 08:18:59 2009
Subject: [Harbour] DBCREATETEMP() patch
In-Reply-To: <20090216130915.GA32670@uran.home.aster.pl>
References: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>
	<20090216122745.GA5005@uran.home.aster.pl>
	<18d502870902160433l3d0501dq8e5f4e1304b4b3a9@mail.gmail.com>
	<20090216130915.GA32670@uran.home.aster.pl>
Message-ID: <18d502870902160518y1099b628i7a4e03cd174775f0@mail.gmail.com>

Hi Przemek,


> > One part which might be much for me is the memo handling,
> > I'd appreciate your help in this area.
>
> OK, I'll look at it but we should not have any bigger problems here.
> Just simply memo file should also be temporary and maybe we should
> block some operations like memo packing.


Thank you.


> > > hb_rddCreateTableTemp()
> > >   we should have:
> > >      if( szAlias == NULL )
> > >         szAlias = "";
> > I'd vote for RT error.
>
> OK but only if user does not pass alias at all. If he passes explicitly ""
> as alias then we should allow empty alias just like in all other
> open/create
> functions to not force allocating unnecessary temporary alias.


Hm, few minutes later I've found it's better to allow empty alias.
It could be useful in practice. So that's what I did.


> > xhb RDDs shipped as binaries, but I've never tried them
> > with Harbour and it's difficult to guess whether they are
> > working even without these modifications.
>
> I guess you are talking about SQLRDD and RMDBF* RDDs.
> They cannot work just like any other binary RDDs without recompilation
> with Harbour header files due to differences between both compilers.


Yes, so we don't lose anything here then. Anyhow I'm trying to
avoid the DBOPENINFO modification (plus your suggested fixes).
Will redo the tests and if okay, commit.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/e0cdebc3/attachment.html
From druzus at users.sourceforge.net  Mon Feb 16 08:59:08 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb 16 08:59:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10291] trunk/harbour
Message-ID: <E1LZ404-0004YJ-Sf@d5vjzd1.ch3.sourceforge.com>

Revision: 10291
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10291&view=rev
Author:   druzus
Date:     2009-02-16 13:59:06 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-16 15:03 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/thread.c
    ! fixed typo in PTHREAD (*nixes) version of hb_threadMutexTimedLock()
      (.prg HB_MUTEXLOCK() with timeout parameter)
    ! unlock HVM in *nix version of hb_threadWait()
    ; added TODO note

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 16 09:09:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 09:09:24 2009
Subject: [Harbour] DBCREATETEMP() patch
In-Reply-To: <18d502870902160518y1099b628i7a4e03cd174775f0@mail.gmail.com>
References: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>
	<20090216122745.GA5005@uran.home.aster.pl>
	<18d502870902160433l3d0501dq8e5f4e1304b4b3a9@mail.gmail.com>
	<20090216130915.GA32670@uran.home.aster.pl>
	<18d502870902160518y1099b628i7a4e03cd174775f0@mail.gmail.com>
Message-ID: <18d502870902160609w71be2760m5dc571e7f1e828e0@mail.gmail.com>

Hi Przemek,


> Yes, so we don't lose anything here then. Anyhow I'm trying to
> avoid the DBOPENINFO modification (plus your suggested fixes).
> Will redo the tests and if okay, commit.
>

Didn't manage yet.

Couldn't debunk how DBFAREAP and AREAP are related to
each other, and it seems I'm accessing one of them on the caller
side and the other on the dbf1.c side, or maybe something else.

I've add these:
--- wafunc.c / hb_rddCreateTableTemp()
   {
      PHB_ITEM pTrueItm = hb_itemPutL( NULL, TRUE );
      errCode = SELF_INFO( pArea, DBI_ISTEMPORARY, pTrueItm ); //////// GPF
somewhere down this call
      hb_itemRelease( pTrueItm );
   }
---
--- dbf1.c / hb_dbfInfo()
      case DBI_ISTEMPORARY:
         /////// never reached
         if( ! pArea->pDataFile && ! pArea->pMemoFile && HB_IS_LOGICAL(
pItem ) )
            pArea->fTemporary = hb_itemGetL( pItem );
         else
            hb_itemPutL( pItem, pArea->fTemporary );
         break;
---
--- dbf1.c / hb_dbfCreate()
   pItem = hb_itemNew( pItem );
   if( SELF_INFO( pArea, DBI_ISTEMPORARY, pItem ) != HB_SUCCESS )
   {
      hb_itemRelease( pItem );
      return HB_FAILURE;
   }
   pArea->fTemporary = hb_itemGetL( pItem );
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/b41cebee/attachment-0001.html
From mbelgrano at deltain.it  Mon Feb 16 09:28:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 09:28:04 2009
Subject: [Harbour] hbmake deleted
In-Reply-To: <18d502870902160126i1e83d23esbca5ffca6342fc16@mail.gmail.com>
References: <609353e70902160102k79c7e7b7o1bbd63f23d8892d6@mail.gmail.com>
	<18d502870902160126i1e83d23esbca5ffca6342fc16@mail.gmail.com>
Message-ID: <609353e70902160628t1c0060f2ua47599558e66a242@mail.gmail.com>

Thanks for info.
now I am  able to make hbmake using
hbmk hbmake hbmfrdln.c hbmgauge.c hbmlang.c


2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>> in last cvs i don't found  utils/hbmake/ path
>>
>> is possible move in example dir?
>
> Nope, because it's not a good example IMO,
> and also very big for what it offers.
> You can take the .exe from 1.0.1 release,
> or get yesterday's sources from the repository
> by using -r <revision> option of Subversion.
>
>>
>> hmake Will be recompiled  by hbmk.prg?
>
> hbmk hbmake hbmfrdln.c hbmgauge.c hbmlang.c
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Mon Feb 16 09:53:15 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 09:48:14 2009
Subject: [Harbour] DBCREATETEMP() patch
In-Reply-To: <18d502870902160609w71be2760m5dc571e7f1e828e0@mail.gmail.com>
References: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>
	<20090216122745.GA5005@uran.home.aster.pl>
	<18d502870902160433l3d0501dq8e5f4e1304b4b3a9@mail.gmail.com>
	<20090216130915.GA32670@uran.home.aster.pl>
	<18d502870902160518y1099b628i7a4e03cd174775f0@mail.gmail.com>
	<18d502870902160609w71be2760m5dc571e7f1e828e0@mail.gmail.com>
Message-ID: <20090216145315.GA1133@uran.home.aster.pl>

On Mon, 16 Feb 2009, Szak?ts Viktor wrote:

Hi,

> Couldn't debunk how DBFAREAP and AREAP are related to
> each other, and it seems I'm accessing one of them on the caller
> side and the other on the dbf1.c side, or maybe something else.
> I've add these:
> --- wafunc.c / hb_rddCreateTableTemp()
>    {
>       PHB_ITEM pTrueItm = hb_itemPutL( NULL, TRUE );
>       errCode = SELF_INFO( pArea, DBI_ISTEMPORARY, pTrueItm ); //////// GPF
> somewhere down this call
>       hb_itemRelease( pTrueItm );
>    }
> ---
> --- dbf1.c / hb_dbfInfo()
>       case DBI_ISTEMPORARY:
>          /////// never reached
>          if( ! pArea->pDataFile && ! pArea->pMemoFile && HB_IS_LOGICAL(
> pItem ) )
>             pArea->fTemporary = hb_itemGetL( pItem );
>          else
>             hb_itemPutL( pItem, pArea->fTemporary );
>          break;
> ---
> --- dbf1.c / hb_dbfCreate()
>    pItem = hb_itemNew( pItem );
>    if( SELF_INFO( pArea, DBI_ISTEMPORARY, pItem ) != HB_SUCCESS )
>    {
>       hb_itemRelease( pItem );
>       return HB_FAILURE;
>    }
>    pArea->fTemporary = hb_itemGetL( pItem );
> ---

It should work. The problem is probably caused by some typo I do not
see now. I'll make this modification myself using the patch you sent
and I'll commit it.

best regards,
Przemek
From info at fsgiudice.com  Mon Feb 16 10:06:29 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 16 10:07:46 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902160319h77399f2bu665bb84dbae74990@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>	<18d502870902151201r542756a9y4355a68562e672d7@mail.gmail.com>	<531d7a750902151226n123a6915o1c713228784fb972@mail.gmail.com>	<49988BDA.3070008@fsgiudice.com>	<531d7a750902151343w7a485cdq1d377b34d2c1bdfd@mail.gmail.com>	<49988FA7.4000800@fsgiudice.com>
	<49988FEE.1030801@fsgiudice.com>	<531d7a750902151651l75d8da39q4699dccca520d6eb@mail.gmail.com>	<49991F7A.7000609@fsgiudice.com>
	<531d7a750902160319h77399f2bu665bb84dbae74990@mail.gmail.com>
Message-ID: <499980F5.7070304@fsgiudice.com>

Hi Renato,
thank you. The site now loads faster.

Best regards

Francesco

Il 16/02/2009 12.19, Vailton Renato ha scritto:
> 75%... I updated images of the site (with 90%) and includes a new news
> release about the layout.
> 

From fmancera at viaopen.com  Mon Feb 16 10:42:24 2009
From: fmancera at viaopen.com (fmancera@viaopen.com)
Date: Mon Feb 16 10:42:30 2009
Subject: [Harbour] Native and ADS DBF BLOB size
Message-ID: <3515bf8ee0cb46c9fa0ca844bdc98494@viaopen.com>

Hello,

What is the maximum size of a blob field in ADS and Native Harbor RDD?
And the maximum size of the database file on disk?
I have a project and need save on blob field jpg files.

From bedipritpal at hotmail.com  Mon Feb 16 10:54:46 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 16 10:54:50 2009
Subject: [Harbour] DBCREATETEMP() patch
In-Reply-To: <20090216145315.GA1133@uran.home.aster.pl>
References: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>
	<20090216122745.GA5005@uran.home.aster.pl>
	<18d502870902160433l3d0501dq8e5f4e1304b4b3a9@mail.gmail.com>
	<20090216130915.GA32670@uran.home.aster.pl>
	<18d502870902160518y1099b628i7a4e03cd174775f0@mail.gmail.com>
	<18d502870902160609w71be2760m5dc571e7f1e828e0@mail.gmail.com>
	<20090216145315.GA1133@uran.home.aster.pl>
Message-ID: <22039826.post@talk.nabble.com>


Hello Przemek


Przemyslaw Czerpak-2 wrote:
> 
> It should work. The problem is probably caused by some typo I do not
> see now. I'll make this modification myself using the patch you sent
> and I'll commit it.
> 

If you are touching RDD code, may I request to provide
one more slot of type PHB_ITEM, say Cargo for open|close|
create|copy methods. I had posted this request almost 
an year before and you agreed to implement it if you remember.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/DBCREATETEMP%28%29-patch-tp22029718p22039826.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From M.Horodyski at pzuzycie.com.pl  Mon Feb 16 11:12:52 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Feb 16 11:13:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>

>-----Original Message-----
>From: vszakats@users.sourceforge.net 
>[mailto:vszakats@users.sourceforge.net] 
>Sent: Sunday, February 15, 2009 10:27 PM
>To: harbour@harbour-project.org
>Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
>
>Revision: 10280

[...]

>  * contrib/hbbtree/tests/hbmk.bat
>  * contrib/hbbtree/tests/test.prg
>    * Cleaned hbct dependency.

Viktor, in cguide.hlp file from OW 1.8 we can read :

>>>>>
The macros described below may be used to identify the target system for
which the application is being compiled.  (Note:  In several places in
the following text, a pair of underscore characters appears as __ which
resembles a single, elongated underscore.)

The Open Watcom C/C++ compilers support both 16-bit and 32-bit
application development.  The following macros are defined for 16-bit
and 32-bit target systems.  
    
      16-bit      32-bit
     ========    ========
[...]
     _M_IX86     _M_IX86
Notes:
1.	The __X86__ identifies the target as an Intel environment.
2.	The __I86__,  M_I86 and _M_I86 macros identify the target as a
16-bit Intel environment.
3.	The __386__,  M_I386 and _M_I386 macros identify the target as a
32-bit Intel environment.
4.	The _M_IX86 macro is identically equal to 100 times the
architecture compiler option value (/0, /1, /2, /3, /4, /5, etc.).  If
"/5" (Pentium instruction timings) was specified as a compiler option,
then the value of _M_IX86 would be 500.
The Open Watcom C/C++ compilers support application development for a
variety of operating systems.  The following macros are defined for
particular target operating systems.  
      
     Target      Macros
     ======      ======================================
     DOS         __DOS__, _DOS, MSDOS
[...]
     NT          __NT__
     Windows     __WINDOWS__, _WINDOWS, __WINDOWS_386__
     Linux       __LINUX__, __UNIX__
Notes:
1.	The __DOS__,  _DOS and MSDOS macros are defined when the build
target is "DOS" (16-bit DOS or 32-bit extended DOS).
[...]
9.	The __LINUX__ and __UNIX__ macros are defined when the build
target is "LINUX" (32-bit Linux).
>>>>>

My ask is :
Can we bulid with hbmk and above macro, Linux executable aplication
format (ELF ?) on Windows Platform ?

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Mon Feb 16 11:21:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 11:16:24 2009
Subject: [Harbour] Native and ADS DBF BLOB size
In-Reply-To: <3515bf8ee0cb46c9fa0ca844bdc98494@viaopen.com>
References: <3515bf8ee0cb46c9fa0ca844bdc98494@viaopen.com>
Message-ID: <20090216162125.GA4144@uran.home.aster.pl>

On Mon, 16 Feb 2009, fmancera@viaopen.com wrote:

Hi,

> What is the maximum size of a blob field in ADS and Native Harbor RDD?
> And the maximum size of the database file on disk?
> I have a project and need save on blob field jpg files.

In native Harbour DBF* RDDs single field limit is 4GB (SMT, FPT, DBT
memo files). Maximum number of single blocks which can be allocated is
2^32 and maximum memo file size is 2^32 * memoblock size. Default memo
block size for FPT is 64 bytes, SMT-32 bytes and DBT 512 bytes. Memo block
size can be changed before file is created. Maximum size of single memoblock
is 64KB bytes.
AFAIR in ADS the ADT/ADM files have similar limits but if you use ADS
DBF tables then the limits are much smaller then in Harbour.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Feb 16 11:25:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 11:20:05 2009
Subject: [Harbour] DBCREATETEMP() patch
In-Reply-To: <22039826.post@talk.nabble.com>
References: <18d502870902111503n52c63bb3gd919eaeba3db0916@mail.gmail.com>
	<20090216122745.GA5005@uran.home.aster.pl>
	<18d502870902160433l3d0501dq8e5f4e1304b4b3a9@mail.gmail.com>
	<20090216130915.GA32670@uran.home.aster.pl>
	<18d502870902160518y1099b628i7a4e03cd174775f0@mail.gmail.com>
	<18d502870902160609w71be2760m5dc571e7f1e828e0@mail.gmail.com>
	<20090216145315.GA1133@uran.home.aster.pl>
	<22039826.post@talk.nabble.com>
Message-ID: <20090216162506.GB4144@uran.home.aster.pl>

On Mon, 16 Feb 2009, Pritpal Bedi wrote:

Hi Pritpal,

> If you are touching RDD code, may I request to provide
> one more slot of type PHB_ITEM, say Cargo for open|close|
> create|copy methods. I had posted this request almost 
> an year before and you agreed to implement it if you remember.

We've just agreed how to add support for temporary tables and not
touch DBOPENINFO structure.
But I remember about your request so if we make modifications in
core RDD structures then we can talk about it.

best regards,
Przemek
From toninhofwi at yahoo.com.br  Mon Feb 16 11:26:26 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Mon Feb 16 11:23:50 2009
Subject: [Harbour] Native and ADS DBF BLOB size
In-Reply-To: <3515bf8ee0cb46c9fa0ca844bdc98494@viaopen.com>
References: <3515bf8ee0cb46c9fa0ca844bdc98494@viaopen.com>
Message-ID: <2b4jp4d2g7opumfr21dvi4qlgl9acksj6s@4ax.com>

Hi,

>What is the maximum size of a blob field in ADS
For ADS ADT Table is 4 GB for Memo, Image and Binary field data.
For ASS DBF Table, Memo support 4 GB too.


>And the maximum size of the database file on disk?
No maximum - limited by disk space only. Indexes files have
limitations but is very high, ADI for example in NTFS is 16 exabytes.


Regards,

Toninho.


	

	
		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor opo para voc! 
Experimente j e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
From druzus at acn.waw.pl  Mon Feb 16 11:39:11 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 11:34:10 2009
Subject: [Harbour] Native and ADS DBF BLOB size
In-Reply-To: <2b4jp4d2g7opumfr21dvi4qlgl9acksj6s@4ax.com>
References: <3515bf8ee0cb46c9fa0ca844bdc98494@viaopen.com>
	<2b4jp4d2g7opumfr21dvi4qlgl9acksj6s@4ax.com>
Message-ID: <20090216163911.GA23842@uran.home.aster.pl>

On Mon, 16 Feb 2009, Toninho@fwi wrote:

Hi,

> >What is the maximum size of a blob field in ADS
> For ADS ADT Table is 4 GB for Memo, Image and Binary field data.
> For ASS DBF Table, Memo support 4 GB too.

It's not true. Number of memo blocks is limited.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Feb 16 11:39:40 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb 16 11:39:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10292] trunk/harbour
Message-ID: <E1LZ6VQ-00080w-Qo@bj8yhf1.ch3.sourceforge.com>

Revision: 10292
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10292&view=rev
Author:   druzus
Date:     2009-02-16 16:39:39 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-16 17:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/dbinfo.ch
    + added DBI_ISTEMPORARY

  * harbour/include/hbapirdd.h
  * harbour/source/rdd/wafunc.c
    + added hb_rddCreateTableTemp() C function to create temporary
      table which are automatically deleted on close. All indexes and
      memo files for such tables are also in temporary files and
      automatically deleted on close. Please remember that Harbour uses
      OS functions to create temporary files so it's installation dependent
      how much disk space is available for them. Some RDDs may also do
      not create temporary files but keep everything in memory if they
      decide it's more efficient.

  * harbour/source/rdd/dbcmd.c
    + added .prg function to create temporary files:
         dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, ;
                       <cCodePage>, <nConnection> ) -> <lSuccess>
      Not all RDDs have to support it. It's verified by support for
      DBI_ISTEMPORARY dbInfo() action.

  * harbour/include/hbrdddbf.h
  * harbour/include/hbrddnsx.h
  * harbour/include/hbrddcdx.h
  * harbour/include/hbrddntx.h
  * harbour/source/rdd/dbf1.c
  * harbour/source/rdd/dbffpt/dbffpt1.c
  * harbour/source/rdd/dbfntx/dbfntx1.c
  * harbour/source/rdd/dbfnsx/dbfnsx1.c
  * harbour/source/rdd/dbfcdx/dbfcdx1.c
    + added support for temporary tables in native RDDs.

   Most of above modifications were done by Viktor Szakats.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/dbinfo.ch
    trunk/harbour/include/hbapirdd.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/include/hbrdddbf.h
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/include/hbrddntx.h
    trunk/harbour/source/rdd/dbcmd.c
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
    trunk/harbour/source/rdd/wafunc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 16 11:39:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 11:42:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
Message-ID: <18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>

Hi Marek,
> Can we bulid with hbmk and above macro, Linux executable aplication
> format (ELF ?) on Windows Platform ?

Generally it's possible, it all depends on the capabilities
of the C compiler on your platform. Notice that hbmk is
a simple wrapper which helps you create Harbour executables
using the _compiler tools available on your host system_.
hbmk itself doesn't create any kind of object files or binaries.
This means, if the C compiler supports this, hbmk may
also support it. If not, hbmk won't help us.

What you ask for is cross compilation. I haven't heard
of this specific scenario, maybe OpenWatcom supports
it, I don't know.

Since hbmk is pretty new and even straight compilation
isn't tested on all platforms / compilers, I haven't yet tried
to add features to specifically aid cross-compilation, but
it should happen eventually. Some obvious cases are already
drafted, but actual support hasn't been added yet
(win / poccce for example). I'll most probably replicate the
method already used in Harbour builds, by providing a
way to point to the target build Harbour installation.

Here's a non-extensive list of cross-compilations known to exist/work:
- win32 executable on linux + mingw
- win64 executable on win + msvc (already working, needs compiler setup
only)
- win64 executable on win + pocc64
- wince executable on linux + mingw
- wince executable on win + poccce
- wince executable on win + mingwce
- wince executable on win + msvce

I invite everyone to peek into hbmk.prg sources and
try adding support for combinations we don't yet have.

Brgds,
Viktor

On Mon, Feb 16, 2009 at 5:12 PM, Horodyski Marek (PZUZ) <
M.Horodyski@pzuzycie.com.pl> wrote:

> >-----Original Message-----
> >From: vszakats@users.sourceforge.net
> >[mailto:vszakats@users.sourceforge.net]
> >Sent: Sunday, February 15, 2009 10:27 PM
> >To: harbour@harbour-project.org
> >Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
> >
> >Revision: 10280
>
> [...]
>
> >  * contrib/hbbtree/tests/hbmk.bat
> >  * contrib/hbbtree/tests/test.prg
> >    * Cleaned hbct dependency.
>
> Viktor, in cguide.hlp file from OW 1.8 we can read :
>
> >>>>>
> The macros described below may be used to identify the target system for
> which the application is being compiled.  (Note:  In several places in
> the following text, a pair of underscore characters appears as __ which
> resembles a single, elongated underscore.)
>
> The Open Watcom C/C++ compilers support both 16-bit and 32-bit
> application development.  The following macros are defined for 16-bit
> and 32-bit target systems.
>
>      16-bit      32-bit
>     ========    ========
> [...]
>     _M_IX86     _M_IX86
> Notes:
> 1.      The __X86__ identifies the target as an Intel environment.
> 2.      The __I86__,  M_I86 and _M_I86 macros identify the target as a
> 16-bit Intel environment.
> 3.      The __386__,  M_I386 and _M_I386 macros identify the target as a
> 32-bit Intel environment.
> 4.      The _M_IX86 macro is identically equal to 100 times the
> architecture compiler option value (/0, /1, /2, /3, /4, /5, etc.).  If
> "/5" (Pentium instruction timings) was specified as a compiler option,
> then the value of _M_IX86 would be 500.
> The Open Watcom C/C++ compilers support application development for a
> variety of operating systems.  The following macros are defined for
> particular target operating systems.
>
>     Target      Macros
>     ======      ======================================
>     DOS         __DOS__, _DOS, MSDOS
> [...]
>     NT          __NT__
>     Windows     __WINDOWS__, _WINDOWS, __WINDOWS_386__
>     Linux       __LINUX__, __UNIX__
> Notes:
> 1.      The __DOS__,  _DOS and MSDOS macros are defined when the build
> target is "DOS" (16-bit DOS or 32-bit extended DOS).
> [...]
> 9.      The __LINUX__ and __UNIX__ macros are defined when the build
> target is "LINUX" (32-bit Linux).
> >>>>>
>
> My ask is :
> Can we bulid with hbmk and above macro, Linux executable aplication
> format (ELF ?) on Windows Platform ?
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/3863f3fb/attachment.html
From bedipritpal at hotmail.com  Mon Feb 16 11:54:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 16 11:54:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10292] trunk/harbour
In-Reply-To: <E1LZ6VQ-00080w-Qo@bj8yhf1.ch3.sourceforge.com>
References: <E1LZ6VQ-00080w-Qo@bj8yhf1.ch3.sourceforge.com>
Message-ID: <22041053.post@talk.nabble.com>


Przemek


druzus wrote:
> 
> Revision: 10292
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10292&view=rev
> Author:   druzus
> Date:     2009-02-16 16:39:39 +0000 (Mon, 16 Feb 2009)
> 

Is it automatic in USRRDD ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10292--trunk-harbour-tp22040754p22041053.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Feb 16 12:04:28 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 11:59:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10292] trunk/harbour
In-Reply-To: <22041053.post@talk.nabble.com>
References: <E1LZ6VQ-00080w-Qo@bj8yhf1.ch3.sourceforge.com>
	<22041053.post@talk.nabble.com>
Message-ID: <20090216170428.GA10977@uran.home.aster.pl>

On Mon, 16 Feb 2009, Pritpal Bedi wrote:

Hi,

> > http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10292&view=rev
> > Author:   druzus
> > Date:     2009-02-16 16:39:39 +0000 (Mon, 16 Feb 2009)
> Is it automatic in USRRDD ?

If you implement support for DBI_ISTEMPORARY in your RDD which uses
usrrdd library then it will work.

best regards,
Przemek
From miguelangel at marchuet.net  Mon Feb 16 12:08:13 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Feb 16 12:02:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10288] trunk/harbour
In-Reply-To: <E1LZ1zg-0002aw-Rx@74yxhf1.ch3.sourceforge.com>
References: <E1LZ1zg-0002aw-Rx@74yxhf1.ch3.sourceforge.com>
Message-ID: <49999D7D.6000302@marchuet.net>

thk's

do you have any info about this ones ?

          932           Japanese Windows                        x7B
          936           Chinese (PRC, Singapore) Windows        x7A
          949           Korean Windows                          x79
          950           Chinese (Hong Kong SAR, Taiwan) Windows x78
          10000         Standard Macintosh                      x04

Best regards,
Miguel Angel Marchuet

vszakats@users.sourceforge.net escribi?:
> Revision: 10288
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10288&view=rev
> Author:   vszakats
> Date:     2009-02-16 11:50:35 +0000 (Mon, 16 Feb 2009)
> 
> Log Message:
> -----------
> 2009-02-17 12:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>    * include/hbapicdp.h
>    * common.mak
>    * source/codepage/Makefile
>    + source/codepage/ucmacce.c
>    + source/codepage/ucmacice.c
>    + source/codepage/uc424.c
>    + source/codepage/ucmacrom.c
>    + source/codepage/ucmacgrk.c
>    + source/codepage/uc037.c
>    + source/codepage/uc875.c
>    + source/codepage/uc1026.c
>    + source/codepage/ucascii.c
>    + source/codepage/ucatari.c
>    + source/codepage/ucmaccyr.c
>    + source/codepage/uc1006.c
>    + source/codepage/ucnext.c
>    + source/codepage/ucmactrk.c
>    + source/codepage/uc856.c
>    + source/codepage/uc500.c
>      + Added missing codepages. Except for multi-byte ones,
>        which I believe are not supported by the current
>        Harbour infrastructure.
> 
>    * utils/hbmk/hbmk.prg
>      ! Minor.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/common.mak
>     trunk/harbour/include/hbapicdp.h
>     trunk/harbour/source/codepage/Makefile
>     trunk/harbour/utils/hbmk/hbmk.prg
> 
> Added Paths:
> -----------
>     trunk/harbour/source/codepage/uc037.c
>     trunk/harbour/source/codepage/uc1006.c
>     trunk/harbour/source/codepage/uc1026.c
>     trunk/harbour/source/codepage/uc424.c
>     trunk/harbour/source/codepage/uc500.c
>     trunk/harbour/source/codepage/uc856.c
>     trunk/harbour/source/codepage/uc875.c
>     trunk/harbour/source/codepage/ucascii.c
>     trunk/harbour/source/codepage/ucatari.c
>     trunk/harbour/source/codepage/ucmacce.c
>     trunk/harbour/source/codepage/ucmaccyr.c
>     trunk/harbour/source/codepage/ucmacgrk.c
>     trunk/harbour/source/codepage/ucmacice.c
>     trunk/harbour/source/codepage/ucmacrom.c
>     trunk/harbour/source/codepage/ucmactrk.c
>     trunk/harbour/source/codepage/ucnext.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> __________ Informaci?n de ESET NOD32 Antivirus, versi?n de la base de firmas de virus 3856 (20090216) __________
> 
> ESET NOD32 Antivirus ha comprobado este mensaje.
> 
> http://www.eset.com
> 
> 
> 
> 

From harbour.01 at syenar.hu  Mon Feb 16 12:12:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 12:16:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
	<18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
Message-ID: <18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>

>
> Here's a non-extensive list of cross-compilations known to exist/work:
> - win64 executable on win + msvc (already working, needs compiler setup
> only)
>
Update: Sorry this won't work yet either.

The cross compilation method should look something like this:

You manually set HB_COMPILER= to your cross target
compiler. If the target platform of selected compiler differs
from the native platform of hbmk.exe, it will require you to
use these envvars to point to your target built Harbour
installation:

HB_TARGET_PREFIX=C:\harbour-msvc64
.OR.
HB_BIN_TARGET=C:\harbour-msvc64\bin
HB_LIB_TARGET=C:\harbour-msvc64\lib
HB_INC_TARGET=C:\harbour-msvc64\inc

The host and target Harbour versions should be pcode
compatible.

Before we jump into these things it would be better
to clean up the whole xbuild situation in Harbour, as
there are few problem with current approach:
- ARCHITECTURE isn't really architecture, it's
  rather platform. ARCHITECTURE is x86, amd64, ARM.
- COMPILER is a mixture of compiler + architecture.

It's just brainstorming, but we'd need something like this:
- PLAT (linux, darwin, win, dos, os/2, bsd, hpux, sunos)
- ARCH (x86, amd64, arm, ppc32, ppc64, ia64, pa-risc, [unibin])
- COMP (gcc, owatcom, msvc, bcc)
  Cross compilers would need to be marked as such:
  gcc-win-x86, gcc-win-arm, msvc-win-arm, msvc-win-amd64,
  pocc-win-arm, pocc-win-amd64. (WinCE == win-arm).

[

It would also greatly help making our system a faster moving
target if we could drop support for non-GNU make systems.
This would have these consequences:
1) MSVC, BCC users would need mingw-make.exe to create a build.
2) MSVC, BCC GNU-make should be able to create proper .dlls.

The other possibility is to drop our GNU-make, and resort to our
non-GNU make system, which also supports GCC flavours, so this means:
1) OpenWatcom, POCC, DMC support should be added, maybe also DJGPP.

Question who would make these, and which way to go. It looks
GNU-make is the easier path, but the two issues should be solved,
and we it more difficult to build Harbour on the most popular
platforms/compilers.

Anyhow I'd like to recheck the situation after fully switching to
new hbmk. I hope this will happen rather sooner than later.

]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/4da86275/attachment.html
From vszakats at users.sourceforge.net  Mon Feb 16 12:31:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 12:31:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10293] trunk/harbour
Message-ID: <E1LZ7Jh-0006ZO-Vd@c3vjzd1.ch3.sourceforge.com>

Revision: 10293
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10293&view=rev
Author:   vszakats
Date:     2009-02-16 17:31:37 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-16 18:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbextern.ch
    + Added HB_DBCREATETEMP()

  * harbour/source/rdd/dbcmd.c
    * Renamed to HB_DBCREATETEMP().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rdd/dbcmd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 16 12:35:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 12:35:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10292] trunk/harbour
In-Reply-To: <E1LZ6VQ-00080w-Qo@bj8yhf1.ch3.sourceforge.com>
References: <E1LZ6VQ-00080w-Qo@bj8yhf1.ch3.sourceforge.com>
Message-ID: <18d502870902160935p2f8c26cdxa692df6f86a89080@mail.gmail.com>

Thanks Przemek. It looks that the DBI_ISTEMPORARY + fTemporary stuff was put
in the wrong place in AREAP while
it should have been in DBFAREAP. That explains it.

I think we should also allow empty aliases for temp tables.
If you have no objections, I'd like to commit it.

Brgds,
Viktor

On Mon, Feb 16, 2009 at 5:39 PM, <druzus@users.sourceforge.net> wrote:

> Revision: 10292
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10292&view=rev
> Author:   druzus
> Date:     2009-02-16 16:39:39 +0000 (Mon, 16 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-16 17:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/dbinfo.ch
>    + added DBI_ISTEMPORARY
>
>  * harbour/include/hbapirdd.h
>  * harbour/source/rdd/wafunc.c
>    + added hb_rddCreateTableTemp() C function to create temporary
>      table which are automatically deleted on close. All indexes and
>      memo files for such tables are also in temporary files and
>      automatically deleted on close. Please remember that Harbour uses
>      OS functions to create temporary files so it's installation dependent
>      how much disk space is available for them. Some RDDs may also do
>      not create temporary files but keep everything in memory if they
>      decide it's more efficient.
>
>  * harbour/source/rdd/dbcmd.c
>    + added .prg function to create temporary files:
>         dbCreateTemp( <cAlias>, <aStruct>, <cRDD>, ;
>                       <cCodePage>, <nConnection> ) -> <lSuccess>
>      Not all RDDs have to support it. It's verified by support for
>      DBI_ISTEMPORARY dbInfo() action.
>
>  * harbour/include/hbrdddbf.h
>  * harbour/include/hbrddnsx.h
>  * harbour/include/hbrddcdx.h
>  * harbour/include/hbrddntx.h
>  * harbour/source/rdd/dbf1.c
>  * harbour/source/rdd/dbffpt/dbffpt1.c
>  * harbour/source/rdd/dbfntx/dbfntx1.c
>  * harbour/source/rdd/dbfnsx/dbfnsx1.c
>  * harbour/source/rdd/dbfcdx/dbfcdx1.c
>    + added support for temporary tables in native RDDs.
>
>   Most of above modifications were done by Viktor Szakats.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/dbinfo.ch
>    trunk/harbour/include/hbapirdd.h
>    trunk/harbour/include/hbrddcdx.h
>    trunk/harbour/include/hbrdddbf.h
>    trunk/harbour/include/hbrddnsx.h
>    trunk/harbour/include/hbrddntx.h
>    trunk/harbour/source/rdd/dbcmd.c
>    trunk/harbour/source/rdd/dbf1.c
>    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
>    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
>    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
>    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
>    trunk/harbour/source/rdd/wafunc.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/b9e9fb25/attachment.html
From harbour.01 at syenar.hu  Mon Feb 16 12:38:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 12:38:41 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
Message-ID: <18d502870902160938g6c2990d5m84b6b1e1cb90d7d7@mail.gmail.com>

Hi all,

I'd like to raise this issue again:

  ; TOFIX: hb_regexMatch()'s 3rd parameter has a double meaning.
           It controls case-sensitivity (in sync with the documentation),
           but it also controls if hb_regexMatch() behaves like
           hb_regexLike() (.T.), or hb_regexHas() (.F.). This means
           that hb_regexMatch(,, .T.) == hb_regexLike(,, .T.)
(case-sensitive) and
                hb_regexMatch(,, .F.) == hb_regexHas(,, .F.)
(case-insensitive)
           Maybe this was the intent of the original developers, but
           to me it looks a rather strange behaviour which was added by
           accidentally forgetting about the 3rd parameter already being
           utilized. This either needs to be fixed, or properly documented.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/52bad469/attachment.html
From bedipritpal at hotmail.com  Mon Feb 16 12:47:41 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 16 12:47:45 2009
Subject: [Harbour] dmalloc.c - VirtualAlloc() - Unfreed
Message-ID: <22042235.post@talk.nabble.com>


Hello All

Today I was debugging GTWVG through MemProof.exe 
which revealed this information :

       16  Virtual Memory        02520000       4096 
VirtualAlloc(02520000,4096,4096,4)
        1  Virtual Memory        029E0000       4096 
VirtualAlloc(029E0000,4096,4096,64)
        1  Virtual Memory        020C0000      65536 
VirtualAlloc(00000000,65536,12288,4)
        2  Virtual Memory        02930000      65536 
VirtualAlloc(00000000,65536,12288,4)
        3  Virtual Memory        02110000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        02FA0000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        03010000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        02F80000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        020D0000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        020E0000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        02940000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        02A40000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        02FC0000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        02FF0000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        02F90000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        02920000      65536 
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        020F0000     131072 
VirtualAlloc(00000000,131072,12288,4)

MemProof.exe reports that these pages must be freed with 
VirtualFree().

While digging deep, VirtualAlloc() is called in dmalloc.c which
somehow does not call the VirtualFree(). 

Is it normal behavior or dmalloc.c could be fixed ?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/dmalloc.c---VirtualAlloc%28%29---Unfreed-tp22042235p22042235.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Feb 16 12:49:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 12:49:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10294] trunk/harbour
Message-ID: <E1LZ7az-0006n1-Ek@c3vjzd1.ch3.sourceforge.com>

Revision: 10294
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10294&view=rev
Author:   vszakats
Date:     2009-02-16 17:49:28 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-16 18:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  - contrib/hbct/tests/hbmk.bat
  - contrib/hbcurl/tests/hbmk.bat
  + contrib/hbcurl/tests/hbcurl.hbp
  - contrib/hbclipsm/tests/hbmk.bat
  + contrib/hbclipsm/tests/hbclipsm.hbp
  - contrib/hbcrypt/tests/hbmk.bat
  + contrib/hbcrypt/tests/hbcrypt.hbp
  - contrib/examples/pp/hbmk.bat
  + contrib/examples/pp/pp.hbm
  - contrib/examples/guestbk/hbmk.bat
  + contrib/examples/guestbk/guestbk.hbm
  - contrib/examples/pe/hbmk.bat
  + contrib/examples/pe/pe.hbm
  - contrib/examples/hbsqlit2/tests/hbmk.bat
  + contrib/examples/hbsqlit2/tests/hbsqlit2.hbp
  - contrib/examples/hscript/hbmk.bat
  + contrib/examples/hscript/hscript.hbm
  - utils/hbdoc/hbmk.bat
  + utils/hbdoc/hbdoc.hbm
    * Converted some DOS/WIN batch files to platform
      independent .hbm/.hbp files.
    ; Please test them.

  * ChangeLog
    + Marked DBCREATETEMP() as DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/tests/hbct.hbp

Added Paths:
-----------
    trunk/harbour/contrib/examples/guestbk/guestbk.hbm
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbsqlit2.hbp
    trunk/harbour/contrib/examples/hscript/hscript.hbm
    trunk/harbour/contrib/examples/pe/pe.hbm
    trunk/harbour/contrib/examples/pp/pp.hbm
    trunk/harbour/contrib/hbclipsm/tests/hbclipsm.hbp
    trunk/harbour/contrib/hbcrypt/tests/hbcrypt.hbp
    trunk/harbour/contrib/hbcurl/tests/hbcurl.hbp
    trunk/harbour/utils/hbdoc/hbdoc.hbm

Removed Paths:
-------------
    trunk/harbour/contrib/examples/guestbk/hbmk.bat
    trunk/harbour/contrib/examples/hbsqlit2/tests/hbmk.bat
    trunk/harbour/contrib/examples/hscript/hbmk.bat
    trunk/harbour/contrib/examples/pe/hbmk.bat
    trunk/harbour/contrib/examples/pp/hbmk.bat
    trunk/harbour/contrib/hbclipsm/tests/hbmk.bat
    trunk/harbour/contrib/hbcrypt/tests/hbmk.bat
    trunk/harbour/contrib/hbct/tests/hbmk.bat
    trunk/harbour/contrib/hbcurl/tests/hbmk.bat
    trunk/harbour/utils/hbdoc/hbmk.bat

Property Changed:
----------------
    trunk/harbour/contrib/hbct/tests/hbct.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb 16 13:13:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 13:08:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10292] trunk/harbour
In-Reply-To: <18d502870902160935p2f8c26cdxa692df6f86a89080@mail.gmail.com>
References: <E1LZ6VQ-00080w-Qo@bj8yhf1.ch3.sourceforge.com>
	<18d502870902160935p2f8c26cdxa692df6f86a89080@mail.gmail.com>
Message-ID: <20090216181330.GA20628@uran.home.aster.pl>

On Mon, 16 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> Thanks Przemek. It looks that the DBI_ISTEMPORARY + fTemporary stuff was put
> in the wrong place in AREAP while
> it should have been in DBFAREAP. That explains it.

I'm afraid that I do not understand. It's the same structure
and from the beginning fTemporary is only in extended DBFAREA members
not one of the AREA ones. It's good and I didn't change it.
If it was not working for you then probably it was probably result of
some typo in code.
Please also not that in current implementation we have also verification
if RDD supports such functionality. Just simply by default:
   errCode = SELF_INFO( pArea, DBI_ISTEMPORARY, pItem );
returns FAILURE if RDD does not implement such action so we will
not execute farther commands (CREATEFILEDS()/CREATE()) if they
cannot be supported so it's not necessary to updated existing
RDDs to not GPF abName in DBOPENINFO is NULL. BTW it was probably the
reason why you had GPF - the fTemporary was not set correctly before
call to CREATE() method.

> I think we should also allow empty aliases for temp tables.
> If you have no objections, I'd like to commit it.

They are supported. Just simply use empty alias ("") as first parameter
in this function.
It works in exactly the same way as in dbUseArea() and dbCreate() just
like in Clipper - "" as alias name means that alias should not be
allocated.

best regards,
Przemek
From toninhofwi at yahoo.com.br  Mon Feb 16 13:11:18 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Mon Feb 16 13:08:41 2009
Subject: [Harbour] Native and ADS DBF BLOB size
In-Reply-To: <20090216163911.GA23842@uran.home.aster.pl>
References: <3515bf8ee0cb46c9fa0ca844bdc98494@viaopen.com>
	<2b4jp4d2g7opumfr21dvi4qlgl9acksj6s@4ax.com>
	<20090216163911.GA23842@uran.home.aster.pl>
Message-ID: <00bjp4lqiprce1ioavh6va9eu4kmjag7ri@4ax.com>

>> >What is the maximum size of a blob field in ADS
>> For ADS ADT Table is 4 GB for Memo, Image and Binary field data.
>> For ASS DBF Table, Memo support 4 GB too.
>
>It's not true. Number of memo blocks is limited.

Hi Przemek, thanks for the hint.  I read it in ADS 9.0 docs.

Regards,

Toninho.


__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From mbelgrano at deltain.it  Mon Feb 16 13:10:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 13:10:37 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<18d502870902110928q68232ea0xeac5af8194b7616e@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
	<18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
Message-ID: <609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>

I have resolved:
SET HB_ARCHITECTURE=win
SET HB_COMPILER=msvc
SET HB_VISUALC_VER=90
SET MSVCDIR=C:\Programmi\Microsoft Visual Studio 9.0\VC
SET PLATFORM=C:\Programmi\Microsoft Visual Studio 2008 SDK
SET HB_BIN_INSTALL=C:\HARBOUR\BIN
SET HB_LIB_INSTALL=C:\HARBOUR\LIB
SET HB_INC_INSTALL=C:\HARBOUR\INCLUDE
SET LIBPATH=
SET LIb=C:\HARBOUR\LIB
SET INCLUDE=c:\HARBOUR\INCLUDE
call "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
cd \harbour
CALL MAKE_VC CLEAN
CALL MAKE_VC
CALL MAKE_VC INSTALL

Now i don't have c:\harbour\hbmk.exe
have follow warning in make of contrib
Entering: gtwvg
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio 9.0\VC\BIN
\cl.exe"' : codice restituito '0x2'
Stop.
...
Entering: hbct
No code generated.
NMAKE : fatal error U1077: '..\..\bin\vc\\harbour.exe' : codice restituito '0x1'

Stop.

2009/2/12 Viktor Szak?ts <harbour.01@syenar.hu>:
> Sorry, I cannot help you, we're circling around and
> you don't seem to make an effort to read and interpret
> the answers to your own questions. For better results,
> please take the time and re-read this thread, or at least
> the last few messages. All information is there.
> If this isn't enough, read the documentation of MSVC,
> about how to set it up properly, and double check your
> environment, and if it still fails post your log output,
> maybe someone can help.
> Brgds,
> Viktor
> On Thu, Feb 12, 2009 at 8:46 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Sorry now Create a fresh checkout by tortoisesvn
>> right click on c drive and  svn checout of
>>
>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>> in a few second was done
>> and do clean build by
>> SET HB_DIR_ADS=C:\PROGRAMMI\Extended Systems\Advantage 8.1\acesdk
>> SET HB_ARCHITECTURE=WIN
>> SET MSVCDIR=C:\Programmi\Microsoft Visual Studio 9.0\VC
>> SET PLATFORM=C:\Programmi\Microsoft Visual Studio 2008 SDK
>> SET HB_COMPILER=msvc
>> SET HB_VISUALC_VER=90
>> SET HB_BIN_INSTALL=C:\HARBOUR\BIN
>> SET HB_LIB_INSTALL=C:\HARBOUR\LIB
>> SET HB_INC_INSTALL=C:\HARBOUR\INCLUDE
>> SET INCLUDE=%MSVCDir%\INCLUDE;%PLATFORM%\INCLUDE;c:\HARBOUR\INCLUDE
>> SET LIB=%PLATFORM%\Lib;%MSVCDir%\LIB;C:\HARBOUR\LIB
>> CD \HARBOUR
>> CALL MAKE_VC CLEAN
>> CALL MAKE_VC
>> but i have receive same eror
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Mon Feb 16 13:13:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 13:14:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10292] trunk/harbour
In-Reply-To: <20090216181330.GA20628@uran.home.aster.pl>
References: <E1LZ6VQ-00080w-Qo@bj8yhf1.ch3.sourceforge.com>
	<18d502870902160935p2f8c26cdxa692df6f86a89080@mail.gmail.com>
	<20090216181330.GA20628@uran.home.aster.pl>
Message-ID: <18d502870902161013v74ba1968wd8dbe8efff37549b@mail.gmail.com>

Hi Przemek,


> Please also not that in current implementation we have also verification
> if RDD supports such functionality. Just simply by default:
>    errCode = SELF_INFO( pArea, DBI_ISTEMPORARY, pItem );
> returns FAILURE if RDD does not implement such action so we will
> not execute farther commands (CREATEFILEDS()/CREATE()) if they
> cannot be supported so it's not necessary to updated existing
> RDDs to not GPF abName in DBOPENINFO is NULL. BTW it was probably the
> reason why you had GPF - the fTemporary was not set correctly before
> call to CREATE() method.


Okay, you must be right, anyhow now it's working
properly again, I've just did a test.


> > I think we should also allow empty aliases for temp tables.
> > If you have no objections, I'd like to commit it.
>
> They are supported. Just simply use empty alias ("") as first parameter
> in this function.
> It works in exactly the same way as in dbUseArea() and dbCreate() just
> like in Clipper - "" as alias name means that alias should not be
> allocated.


Perfect! and thanks for the tip.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/aeb91a4c/attachment.html
From druzus at acn.waw.pl  Mon Feb 16 13:21:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 13:16:05 2009
Subject: [Harbour] Native and ADS DBF BLOB size
In-Reply-To: <00bjp4lqiprce1ioavh6va9eu4kmjag7ri@4ax.com>
References: <3515bf8ee0cb46c9fa0ca844bdc98494@viaopen.com>
	<2b4jp4d2g7opumfr21dvi4qlgl9acksj6s@4ax.com>
	<20090216163911.GA23842@uran.home.aster.pl>
	<00bjp4lqiprce1ioavh6va9eu4kmjag7ri@4ax.com>
Message-ID: <20090216182106.GB20628@uran.home.aster.pl>

On Mon, 16 Feb 2009, Toninho@fwi wrote:

Hi,

> >> >What is the maximum size of a blob field in ADS
> >> For ADS ADT Table is 4 GB for Memo, Image and Binary field data.
> >> For ASS DBF Table, Memo support 4 GB too.
> >It's not true. Number of memo blocks is limited.
> Hi Przemek, thanks for the hint.  I read it in ADS 9.0 docs.

To clarify because I cut wrong lines from you message.
It's not true that the file size is unlimited.
It's limited by maximum number of memoblocks * memoblock size.
Just look at memo block number holder in the table and you
will know how many blocks can be access.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb 16 13:13:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 13:16:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10292] trunk/harbour
In-Reply-To: <20090216181330.GA20628@uran.home.aster.pl>
References: <E1LZ6VQ-00080w-Qo@bj8yhf1.ch3.sourceforge.com>
	<18d502870902160935p2f8c26cdxa692df6f86a89080@mail.gmail.com>
	<20090216181330.GA20628@uran.home.aster.pl>
Message-ID: <18d502870902161013v74ba1968wd8dbe8efff37549b@mail.gmail.com>

Hi Przemek,


> Please also not that in current implementation we have also verification
> if RDD supports such functionality. Just simply by default:
>    errCode = SELF_INFO( pArea, DBI_ISTEMPORARY, pItem );
> returns FAILURE if RDD does not implement such action so we will
> not execute farther commands (CREATEFILEDS()/CREATE()) if they
> cannot be supported so it's not necessary to updated existing
> RDDs to not GPF abName in DBOPENINFO is NULL. BTW it was probably the
> reason why you had GPF - the fTemporary was not set correctly before
> call to CREATE() method.


Okay, you must be right, anyhow now it's working
properly again, I've just did a test.


> > I think we should also allow empty aliases for temp tables.
> > If you have no objections, I'd like to commit it.
>
> They are supported. Just simply use empty alias ("") as first parameter
> in this function.
> It works in exactly the same way as in dbUseArea() and dbCreate() just
> like in Clipper - "" as alias name means that alias should not be
> allocated.


Perfect! and thanks for the tip.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/aeb91a4c/attachment-0001.html
From harbour.01 at syenar.hu  Mon Feb 16 13:26:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 13:26:36 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<609353e70902111405k2059566dk294eb5d408a9df69@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
	<18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
	<609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>
Message-ID: <18d502870902161026j6f2d5011kd270339e892a1be3@mail.gmail.com>

This is enough:
==============

> C:
> CD \harbour
> SET HB_VISUALC_VER=90
>
SET HB_INSTALL_PREFIX=C:\harbour
> CALL "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>
CALL MAKE_VC CLEAN
> CALL MAKE_VC
> CALL MAKE_VC INSTALL

==============


> Now i don't have c:\harbour\hbmk.exe
> have follow warning in make of contrib
> Entering: gtwvg
> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
> 9.0\VC\BIN
> \cl.exe"' : codice restituito '0x2'
> Stop.
> ...
> Entering: hbct
> No code generated.
> NMAKE : fatal error U1077: '..\..\bin\vc\\harbour.exe' : codice restituito
> '0x1'


It is very strange because command above don't even
build the contribs. Also in these errors the HB_BIN_INSTALL
path is clearly not set like in your script. Don't mix hbmk.exe
here, it's not needed to build Harbour.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/9a66abc1/attachment-0001.html
From toninhofwi at yahoo.com.br  Mon Feb 16 13:36:15 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Mon Feb 16 13:33:36 2009
Subject: [Harbour] dmalloc.c - VirtualAlloc() - Unfreed
In-Reply-To: <22042235.post@talk.nabble.com>
References: <22042235.post@talk.nabble.com>
Message-ID: <mbcjp4tkpislv4hquho0acgmpsnqdc2dsq@4ax.com>

Hi Pritpal,

Please, see my last post about it in "[Harbour] 1.1 pending items"

BTW, I see that, for less with FWH, if I compile with -gc0 I have more
unfreed resources than compiling with -gc3. Strange no?

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From druzus at acn.waw.pl  Mon Feb 16 14:24:37 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 14:19:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <49992866.8090806@libero.it>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>
	<49954990.3000503@libero.it>
	<20090215173534.GA31852@uran.home.aster.pl>
	<49992866.8090806@libero.it>
Message-ID: <20090216192437.GA24539@uran.home.aster.pl>

On Mon, 16 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> You're correct, this comes from OS/2 docs:
[...]

Thanks for information.

> > 2-nd we should change all places where HB_COND_TIMEDWAIT() is used
> > and check timeout parameter ourselves just like in hb_threadWait()
> > function. In summary I should implement it at beginning because it
> > pacifies also other potential though minor problem on MS-Win builds.
> > But there is also other problem much more critical. DosResetEventSem()
> > is not atomic to DosWaitEventSem() and we have nothing to sync well
> > number of posted signals with number of waiting threads to be sure
> > that all threads will be woken up. To resolve this problem we have
> You can call DosQueryEventSem() to know how many times a semaphore has been
> posted since last DosResetEventSem() which gives you back this info when called.

Thanks though it will not help us very much.
It's necessary to change the OS2 code to eliminate possible race condition.
BTW I see in xHarbour that you used together:
   DosPostEventSem( hSem );
   DosResetEventSem( hSem, &ulCount );
so I guess that it's guarantied that all threads blocked on hSem by
DosWaitEventSem() will be woken up even if other thread immediately
calls DosResetEventSem() before any of this thread begin execution.
Without such condition the above peace of code may never wake up all
threads. But there is other problem and as I can see it exists also
in xHarbour. It's still possible that signal will be lost and waiting
thread will never be woken up due to hb_threadCondWait() implementation.
It needs multistate semaphore like in Windows to be sure that we do not
lost posted event.
F.e. 1-st thread is waiting on some results calculated by 2-nd thread
in code like:

   hb_threadEnterCriticalSection( mutex );
   while( result == 0 )
      hb_threadCondWait( cond, mutex );
   hb_threadLeaveCriticalSection( mutex );

The second thread is making:
   hb_threadEnterCriticalSection( mutex );
   result += nDone;
   hb_threadLeaveCriticalSection( mutex );
   hb_threadCondSignal( cond );

in hb_threadCondWait() the mutex should be unlocked and process suspended
in one atomic operation. OS2 API does not give us such functionality and
the code like above can freeze 1-st thread forever. It may happen if
inside hb_threadCondWait() it executes:
   DosReleaseMutexSem( mutex );
and OS suspend the thread before executing:
   DosWaitEventSem( cond );
activating 2-nd thread. Which can lock unlocked mutex set result and
send signal which will be ignored because the 1-st thread has not
entered DosWaitEventSem() yet. The second thread finish its job and
terminates and the 1-st one is never woken up so our application
hangups. The above now can happen in xHarbour.
Multistate semaphores like in Windows resolve this problem (though they
are not such elegant and efficient like pure PTHREAD API) but I cannot
find anything like that in OS2 API so we will have to resolve the problem
in different way.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Feb 16 15:19:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 15:19:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10295] trunk/harbour
Message-ID: <E1LZ9w7-0006fv-Aa@74yxhf1.ch3.sourceforge.com>

Revision: 10295
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10295&view=rev
Author:   vszakats
Date:     2009-02-16 20:19:26 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-16 21:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  - tests/hbmk_gnu.bat
    - Removed.

  * contrib/examples/uhttpd/hbmk.bat
  * contrib/examples/dbu/hbmk.bat
  * contrib/examples/rl/hbmk.bat
    * Made them compatible with Win9x/NT systems again.

  * source/lang/msg_tpl.c
    + Added NOTE about date format.

  * source/lang/msgbe866.c
  * source/lang/msgbewin.c
  * source/lang/msgbg866.c
  * source/lang/msgbgiso.c
  * source/lang/msgbgmik.c
  * source/lang/msgbgwin.c
  * source/lang/msgit.c
  * source/lang/msgnl.c
  * source/lang/msgsl437.c
  * source/lang/msgsl852.c
  * source/lang/msgsliso.c
  * source/lang/msgslwin.c
    ! Fixed date formats to only contain YYYY MM and DD.
      Plus the format itself corrected in a few places.

  * utils/hbmk/hbmk.prg
    + Added TODO
    % Added ANNOUNCE HB_GTSYS / REQUEST HB_GT_STD_DEFAULT.
      Since this tools doesn't need anything fullscreen, and
      this way it's faster smaller, yet portable.

  * ChangeLog
    * Few old TODO/TOFIX statuses updated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/dbu/hbmk.bat
    trunk/harbour/contrib/examples/rl/hbmk.bat
    trunk/harbour/contrib/examples/uhttpd/hbmk.bat
    trunk/harbour/source/lang/msg_tpl.c
    trunk/harbour/source/lang/msgbe866.c
    trunk/harbour/source/lang/msgbewin.c
    trunk/harbour/source/lang/msgbg866.c
    trunk/harbour/source/lang/msgbgiso.c
    trunk/harbour/source/lang/msgbgmik.c
    trunk/harbour/source/lang/msgbgwin.c
    trunk/harbour/source/lang/msgit.c
    trunk/harbour/source/lang/msgnl.c
    trunk/harbour/source/lang/msgsl437.c
    trunk/harbour/source/lang/msgsl852.c
    trunk/harbour/source/lang/msgsliso.c
    trunk/harbour/source/lang/msgslwin.c
    trunk/harbour/utils/hbmk/hbmk.prg

Removed Paths:
-------------
    trunk/harbour/tests/hbmk_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Feb 16 15:42:46 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 15:42:51 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902161026j6f2d5011kd270339e892a1be3@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
	<18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
	<609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>
	<18d502870902161026j6f2d5011kd270339e892a1be3@mail.gmail.com>
Message-ID: <609353e70902161242vb5356bj5265f1bb701ee8e9@mail.gmail.com>

I not able to compile also with your script
In attached my make_vc.log zipped

2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
> This is enough:
> ==============
>>
>> C:
>> CD \harbour
>> SET HB_VISUALC_VER=90
>>
>> SET HB_INSTALL_PREFIX=C:\harbour
>> CALL "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>>
>> CALL MAKE_VC CLEAN
>> CALL MAKE_VC
>> CALL MAKE_VC INSTALL
>
> ==============
>
>>
>> Now i don't have c:\harbour\hbmk.exe
>> have follow warning in make of contrib
>> Entering: gtwvg
>> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
>> 9.0\VC\BIN
>> \cl.exe"' : codice restituito '0x2'
>> Stop.
>> ...
>> Entering: hbct
>> No code generated.
>> NMAKE : fatal error U1077: '..\..\bin\vc\\harbour.exe' : codice restituito
>> '0x1'
>
> It is very strange because command above don't even
> build the contribs. Also in these errors the HB_BIN_INSTALL
> path is clearly not set like in your script. Don't mix hbmk.exe
> here, it's not needed to build Harbour.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
-------------- next part --------------
A non-text attachment was scrubbed...
Name: make_vc.zip
Type: application/zip
Size: 12086 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/e60dd328/make_vc-0001.zip
From harbour.01 at syenar.hu  Mon Feb 16 15:54:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 15:54:22 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902161242vb5356bj5265f1bb701ee8e9@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
	<18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
	<609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>
	<18d502870902161026j6f2d5011kd270339e892a1be3@mail.gmail.com>
	<609353e70902161242vb5356bj5265f1bb701ee8e9@mail.gmail.com>
Message-ID: <18d502870902161254v67f1eb61ybb172c170c78c38b@mail.gmail.com>

It's almost good. The problem is that your sources are mixed up, and/or you
didn't do a proper clean. It's also
possible you have a slightly older harbour.exe in the way.

Pls download/checkout the sources to an empty dir and
retry with the same script.

svn co
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour

Brgds,
Viktor

On Mon, Feb 16, 2009 at 9:42 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I not able to compile also with your script
> In attached my make_vc.log zipped
>
> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
> > This is enough:
> > ==============
> >>
> >> C:
> >> CD \harbour
> >> SET HB_VISUALC_VER=90
> >>
> >> SET HB_INSTALL_PREFIX=C:\harbour
> >> CALL "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
> >>
> >> CALL MAKE_VC CLEAN
> >> CALL MAKE_VC
> >> CALL MAKE_VC INSTALL
> >
> > ==============
> >
> >>
> >> Now i don't have c:\harbour\hbmk.exe
> >> have follow warning in make of contrib
> >> Entering: gtwvg
> >> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
> >> 9.0\VC\BIN
> >> \cl.exe"' : codice restituito '0x2'
> >> Stop.
> >> ...
> >> Entering: hbct
> >> No code generated.
> >> NMAKE : fatal error U1077: '..\..\bin\vc\\harbour.exe' : codice
> restituito
> >> '0x1'
> >
> > It is very strange because command above don't even
> > build the contribs. Also in these errors the HB_BIN_INSTALL
> > path is clearly not set like in your script. Don't mix hbmk.exe
> > here, it's not needed to build Harbour.
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/9fa94eee/attachment.html
From druzus at acn.waw.pl  Mon Feb 16 16:25:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 16 16:20:56 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902161242vb5356bj5265f1bb701ee8e9@mail.gmail.com>
References: <18d502870902111411k42179b46qc38c6c7a0f8eece@mail.gmail.com>
	<609353e70902111639w1a5a074ah6dae33f02b7bdad8@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
	<18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
	<609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>
	<18d502870902161026j6f2d5011kd270339e892a1be3@mail.gmail.com>
	<609353e70902161242vb5356bj5265f1bb701ee8e9@mail.gmail.com>
Message-ID: <20090216212558.GA15408@uran.home.aster.pl>

On Mon, 16 Feb 2009, Massimo Belgrano wrote:

Hi,

> I not able to compile also with your script
> In attached my make_vc.log zipped

You have some old pptable.c file in harbour/source/pp directory
which is used instead of obj/vc/pptable.c generated by hbpp.exe.
Remove this file (harbour/source/pp/pptable.c) or better make
clean checkout for Harbour SVN using new directory as Viktor
suggested because it's possible that you have also some other
file which does not come from Harbour SVN repository and may
cause that wrong binaries will be created but without compile
time error. F.e. this harbour/source/pp/pptable.c file you
probably have for a long time so you were creating harbour.exe
which were using PP rules from some old std.ch not the current
one.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Feb 16 16:56:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 16:56:06 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902161254v67f1eb61ybb172c170c78c38b@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<18d502870902112101q42df0dc4ya2aab5f1639bd740@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
	<18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
	<609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>
	<18d502870902161026j6f2d5011kd270339e892a1be3@mail.gmail.com>
	<609353e70902161242vb5356bj5265f1bb701ee8e9@mail.gmail.com>
	<18d502870902161254v67f1eb61ybb172c170c78c38b@mail.gmail.com>
Message-ID: <609353e70902161356h36678d27oe55bf1f1bf082330@mail.gmail.com>

I have download svn in a new directory
renamed my harbour to old and new directory to harbour
compiled and now works!

The problem was  that i have some old files harbour/source/pp/pptable.c
IMO  that problem will be due by fact that use notepad ++ that will be
open during some update and lock certain files

Thanks to Viktor & Przemyslaw!

2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
> It's almost good. The problem is that your sources are
> mixed up, and/or you didn't do a proper clean. It's also
> possible you have a slightly older harbour.exe in the way.
> Pls download/checkout the sources to an empty dir and
> retry with the same script.
> svn co
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>
> Brgds,
> Viktor
>
> On Mon, Feb 16, 2009 at 9:42 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> I not able to compile also with your script
>> In attached my make_vc.log zipped
>>
>> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>> > This is enough:
>> > ==============
>> >>
>> >> C:
>> >> CD \harbour
>> >> SET HB_VISUALC_VER=90
>> >>
>> >> SET HB_INSTALL_PREFIX=C:\harbour
>> >> CALL "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>> >>
>> >> CALL MAKE_VC CLEAN
>> >> CALL MAKE_VC
>> >> CALL MAKE_VC INSTALL
>> >
>> > ==============
>> >
>> >>
>> >> Now i don't have c:\harbour\hbmk.exe
>> >> have follow warning in make of contrib
>> >> Entering: gtwvg
>> >> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
>> >> 9.0\VC\BIN
>> >> \cl.exe"' : codice restituito '0x2'
>> >> Stop.
>> >> ...
>> >> Entering: hbct
>> >> No code generated.
>> >> NMAKE : fatal error U1077: '..\..\bin\vc\\harbour.exe' : codice
>> >> restituito
>> >> '0x1'
>> >
>> > It is very strange because command above don't even
>> > build the contribs. Also in these errors the HB_BIN_INSTALL
>> > path is clearly not set like in your script. Don't mix hbmk.exe
>> > here, it's not needed to build Harbour.
>> > Brgds,
>> > Viktor
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From marcos.gambeta at yahoo.com.br  Mon Feb 16 17:11:01 2009
From: marcos.gambeta at yahoo.com.br (Marcos Gambeta)
Date: Mon Feb 16 17:11:21 2009
Subject: [Harbour] Compiling gtwvg with current Harbour
Message-ID: <4999E475.6050707@yahoo.com.br>

Hi all,

Compiling gtwvg with current Harbour, i get errors below:

Last entry in ChangeLog:
2009-02-16 18:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

Error E2209 .\wvgwin.c 80: Unable to open include file 'hbwapi.h'
Error E2342 .\wvgwin.c 2615: Type mismatch in parameter 'hDC' (wanted 
'HDC__ *', got 'int') in function HB_FUN_WIN_FILLRECT
Error E2342 .\wvgwin.c 2615: Type mismatch in parameter 'hbr' (wanted 
'HBRUSH__ *', got 'int') in function HB_FUN_WIN_FILLRECT
*** 3 errors in Compile ***

I am using Windows Vista and BCC 5.5.1.


Regards,
Marcos Gambeta

From harbour.01 at syenar.hu  Mon Feb 16 17:54:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 17:54:14 2009
Subject: [Harbour] Compiling gtwvg with current Harbour
In-Reply-To: <4999E475.6050707@yahoo.com.br>
References: <4999E475.6050707@yahoo.com.br>
Message-ID: <18d502870902161454h10304f08w4be5aefb5e999b08@mail.gmail.com>

Hi Marcos,
gtwvg started to use hbwin, so you need to
build and install it before building gtwvg.

Brgds,
Viktor

On Mon, Feb 16, 2009 at 11:11 PM, Marcos Gambeta <
marcos.gambeta@yahoo.com.br> wrote:

> Hi all,
>
> Compiling gtwvg with current Harbour, i get errors below:
>
> Last entry in ChangeLog:
> 2009-02-16 18:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>
> Error E2209 .\wvgwin.c 80: Unable to open include file 'hbwapi.h'
> Error E2342 .\wvgwin.c 2615: Type mismatch in parameter 'hDC' (wanted
> 'HDC__ *', got 'int') in function HB_FUN_WIN_FILLRECT
> Error E2342 .\wvgwin.c 2615: Type mismatch in parameter 'hbr' (wanted
> 'HBRUSH__ *', got 'int') in function HB_FUN_WIN_FILLRECT
> *** 3 errors in Compile ***
>
> I am using Windows Vista and BCC 5.5.1.
>
>
> Regards,
> Marcos Gambeta
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090216/cf18bfff/attachment.html
From fsgiudice at users.sourceforge.net  Mon Feb 16 18:01:33 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Mon Feb 16 18:01:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10296] trunk/harbour
Message-ID: <E1LZCSz-0001rx-Np@74yxhf1.ch3.sourceforge.com>

Revision: 10296
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10296&view=rev
Author:   fsgiudice
Date:     2009-02-16 23:01:32 +0000 (Mon, 16 Feb 2009)

Log Message:
-----------
2009-02-16 23:55 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  + harbour/contrib/hbblat
  + harbour/contrib/hbblat/blatcls.prg
  + harbour/contrib/hbblat/blatwrp.c
  + harbour/contrib/hbblat/common.mak
  + harbour/contrib/hbblat/hbblat.ch
  + harbour/contrib/hbblat/make_b32.bat
  + harbour/contrib/hbblat/make_vc.bat
  + harbour/contrib/hbblat/Makefile
  + harbour/contrib/hbblat/syntax.txt
  + harbour/contrib/hbblat/tests
  + harbour/contrib/hbblat/tests/blatcmd.prg
  + harbour/contrib/hbblat/tests/blattest.prg
  + harbour/contrib/hbblat/tests/f_listtext.txt
  + harbour/contrib/hbblat/tests/f_ps.txt
  + harbour/contrib/hbblat/tests/f_sample.txt
  + harbour/contrib/hbblat/tests/f_sample1.txt
  + harbour/contrib/hbblat/tests/f_subjectline.txt
  + harbour/contrib/hbblat/tests/hbmk.bat
    + Added BLAT wrapper class

  * harbour/contrib/make_b32_all.bat
  * harbour/contrib/make_vc_all.bat
    * added above contrib

  * harbour/source/vm/hvm.c
    * added missing ;

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/make_b32_all.bat
    trunk/harbour/contrib/make_vc_all.bat
    trunk/harbour/source/vm/hvm.c

Added Paths:
-----------
    trunk/harbour/contrib/hbblat/
    trunk/harbour/contrib/hbblat/Makefile
    trunk/harbour/contrib/hbblat/blatcls.prg
    trunk/harbour/contrib/hbblat/blatwrp.c
    trunk/harbour/contrib/hbblat/common.mak
    trunk/harbour/contrib/hbblat/hbblat.ch
    trunk/harbour/contrib/hbblat/make_b32.bat
    trunk/harbour/contrib/hbblat/make_vc.bat
    trunk/harbour/contrib/hbblat/syntax.txt
    trunk/harbour/contrib/hbblat/tests/
    trunk/harbour/contrib/hbblat/tests/blatcmd.prg
    trunk/harbour/contrib/hbblat/tests/blattest.prg
    trunk/harbour/contrib/hbblat/tests/f_listtext.txt
    trunk/harbour/contrib/hbblat/tests/f_ps.txt
    trunk/harbour/contrib/hbblat/tests/f_sample.txt
    trunk/harbour/contrib/hbblat/tests/f_sample1.txt
    trunk/harbour/contrib/hbblat/tests/f_subjectline.txt
    trunk/harbour/contrib/hbblat/tests/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Feb 16 18:05:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 18:05:38 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
Message-ID: <609353e70902161505i57655616n7e887deaf524d7e9@mail.gmail.com>

I have Tried with
set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
set HB_ARCHITECTURE=win
set HB_COMPILER=mingw
set HB_USER_LDFLAGS=-s
cd \harbour
MAKE_GNU clear
MAKE_GNU

but receive this error:
/bin/sh.exe: -c: line 1: syntax error near unexpected token `(w'
/bin/sh.exe: -c: line 1: `C:\Windows\system32\cmd.exe /c  for %d in (wi
gw) do if not exist %d\. md %d'
make[2]: [dirbase] Error 2 (ignored)
/bin/sh.exe: -c: line 1: syntax error near unexpected token `(.'
/bin/sh.exe: -c: line 1: `C:\Windows\system32\cmd.exe /c for %d in (..\
n ..\..\lib\win\mingw) do if not exist %d\. md %d'
make[2]: [dirbase] Error 2 (ignored)
make: *** win/mingw: No such file or directory.  Stop.
make[2]: *** [descend] Error 2
make[1]: *** [common] Error 2
make: *** [source] Error 2

My log for open watcom is
set HB_ARCHITECTURE=win
set HB_COMPILER=owatcom
SET WATCOM=c:\devl\watcom
SET PATH=%WATCOM%\BINP;%WATCOM%\BINW;%PATH%
SET BEGINLIBPATH=%WATCOM%\BINP\DLL
SET EDPATH=%WATCOM%\EDDAT
SET INCLUDE=%WATCOM%\H\OS2;%WATCOM%\H
REM SET LIB=
SET HELP=%WATCOM%\BINP\HELP;%HELP%
SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
set HB_BIN_INSTALL=\harbour\bin\
set HB_LIB_INSTALL=\harbour\lib\
set HB_INC_INSTALL=\harbour\include\
cd \harbour
MAKE_GNU clear
MAKE_GNU
But is not compile


2009/2/11 Viktor Szak?ts <harbour.01@syenar.hu>:
>> This is your path for mingw32
>> have you also openwatcom,msvc,w32/mingwce, w32/msvcce,w32/poccce
>
> No, but the idea is very very similar.
>
>>
>> @echo off
>>
>> set PATH=C:\devl\MinGW-412\bin\;C:\devl\msys\1.0\bin\;%PATH%
>
> msys is better to precede MinGW.
>
>>
>> set PRG_USR=-l
>> set C_USR=-march=pentiumpro -O4 -fomit-frame-pointer -ffast-math
>
> None needed as discussed earlier.
>
>>
>> set HB_ARCHITECTURE=w32
>> set HB_COMPILER=mingw32
>>
>> set L_USR=-s
>
> Wrong, use this:
> set HB_ARCHITECTURE=win
> set HB_COMPILER=mingw
> set HB_USER_LDFLAGS=-s
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From marcos.gambeta at yahoo.com.br  Mon Feb 16 18:25:32 2009
From: marcos.gambeta at yahoo.com.br (Marcos Gambeta)
Date: Mon Feb 16 18:25:45 2009
Subject: [Harbour] Compiling gtwvg with current Harbour
In-Reply-To: <18d502870902161454h10304f08w4be5aefb5e999b08@mail.gmail.com>
References: <4999E475.6050707@yahoo.com.br>
	<18d502870902161454h10304f08w4be5aefb5e999b08@mail.gmail.com>
Message-ID: <4999F5EC.6010809@yahoo.com.br>

Viktor Szak?ts escreveu:
 >
 > gtwvg started to use hbwin, so you need to
 > build and install it before building gtwvg.
 >

GTWVG.LIB is compiled now.

But i think that file \contrib\make_b32_all.bat need some fix, because 
gtwvg is compiled before hbwin.

set _HB_DIRS=gtwvg hbbmcdx hbbtree hbclipsm hbcrypt hbct hbgt hbmisc
for %%n in ( %_HB_DIRS% ) do %COMSPEC% /c %_HB_BATWORKER% %%n %1 %2 %3 
%4 %5 %6 %7 %8 %9

set _HB_DIRS=hbmsql hbmzip hbnf hbodbc hbole hbsqlit3
for %%n in ( %_HB_DIRS% ) do %COMSPEC% /c %_HB_BATWORKER% %%n %1 %2 %3 
%4 %5 %6 %7 %8 %9

set _HB_DIRS=hbtip hbtpathy hbvpdf hbwin hbwhat hbziparc
for %%n in ( %_HB_DIRS% ) do %COMSPEC% /c %_HB_BATWORKER% %%n %1 %2 %3 
%4 %5 %6 %7 %8 %9

To get gtwvg compiled, i need to run the script two times.

Thanks!


Regards,
Marcos Gambeta

From elart at elart.it  Mon Feb 16 18:35:40 2009
From: elart at elart.it (elart)
Date: Mon Feb 16 18:35:48 2009
Subject: [Harbour] Tips to use commons harbour scripts and tools with a
 already set distcc shell environment
Message-ID: <4999F84C.1070905@elart.it>

I use distcc to distribute my kernel compile to other Linux computer.
So i have the default gcc wrapped to another path.

My question: what can i do to configure and use the hbcmp and other 
tools coming with Harbour.

Actually i don't use them and i have tried hbcmp (shell script) and it 
don't work it look for standard gcc path.

I was playing with the tools of this page:

http://www.harbour-project.org/samples/HowToBuildOnLinux.html

to see if i can get a default Harbour enviroment to play with other samples.

Thank you in advance.

Best regards.

From harbour.01 at syenar.hu  Mon Feb 16 18:39:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 18:39:31 2009
Subject: [Harbour] Tips to use commons harbour scripts and tools with a 
	already set distcc shell environment
In-Reply-To: <4999F84C.1070905@elart.it>
References: <4999F84C.1070905@elart.it>
Message-ID: <18d502870902161539v78e774b4g4435ae9b92c27509@mail.gmail.com>

Hi Elart,
You can have a try with new hbmk (non-script).
It should pick the location of Harbour dynamically.

Pls get back to the list with any problems.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 12:35 AM, elart <elart@elart.it> wrote:

> I use distcc to distribute my kernel compile to other Linux computer.
> So i have the default gcc wrapped to another path.
>
> My question: what can i do to configure and use the hbcmp and other tools
> coming with Harbour.
>
> Actually i don't use them and i have tried hbcmp (shell script) and it
> don't work it look for standard gcc path.
>
> I was playing with the tools of this page:
>
> http://www.harbour-project.org/samples/HowToBuildOnLinux.html
>
> to see if i can get a default Harbour enviroment to play with other
> samples.
>
> Thank you in advance.
>
> Best regards.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/c2211cd3/attachment.html
From harbour.01 at syenar.hu  Mon Feb 16 18:40:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 18:40:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10296] trunk/harbour
In-Reply-To: <E1LZCSz-0001rx-Np@74yxhf1.ch3.sourceforge.com>
References: <E1LZCSz-0001rx-Np@74yxhf1.ch3.sourceforge.com>
Message-ID: <18d502870902161540y2046becct69a1579c3b4b3976@mail.gmail.com>

Hi Francesco,
Many thanks for this contribution. It's very useful and nicely done.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 12:01 AM, <fsgiudice@users.sourceforge.net> wrote:

> Revision: 10296
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10296&view=rev
> Author:   fsgiudice
> Date:     2009-02-16 23:01:32 +0000 (Mon, 16 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-16 23:55 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com
> )
>  + harbour/contrib/hbblat
>  + harbour/contrib/hbblat/blatcls.prg
>  + harbour/contrib/hbblat/blatwrp.c
>  + harbour/contrib/hbblat/common.mak
>  + harbour/contrib/hbblat/hbblat.ch
>  + harbour/contrib/hbblat/make_b32.bat
>  + harbour/contrib/hbblat/make_vc.bat
>  + harbour/contrib/hbblat/Makefile
>  + harbour/contrib/hbblat/syntax.txt
>  + harbour/contrib/hbblat/tests
>  + harbour/contrib/hbblat/tests/blatcmd.prg
>  + harbour/contrib/hbblat/tests/blattest.prg
>  + harbour/contrib/hbblat/tests/f_listtext.txt
>  + harbour/contrib/hbblat/tests/f_ps.txt
>  + harbour/contrib/hbblat/tests/f_sample.txt
>  + harbour/contrib/hbblat/tests/f_sample1.txt
>  + harbour/contrib/hbblat/tests/f_subjectline.txt
>  + harbour/contrib/hbblat/tests/hbmk.bat
>    + Added BLAT wrapper class
>
>  * harbour/contrib/make_b32_all.bat
>  * harbour/contrib/make_vc_all.bat
>    * added above contrib
>
>  * harbour/source/vm/hvm.c
>    * added missing ;
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/make_b32_all.bat
>    trunk/harbour/contrib/make_vc_all.bat
>    trunk/harbour/source/vm/hvm.c
>
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbblat/
>    trunk/harbour/contrib/hbblat/Makefile
>    trunk/harbour/contrib/hbblat/blatcls.prg
>    trunk/harbour/contrib/hbblat/blatwrp.c
>    trunk/harbour/contrib/hbblat/common.mak
>    trunk/harbour/contrib/hbblat/hbblat.ch
>    trunk/harbour/contrib/hbblat/make_b32.bat
>    trunk/harbour/contrib/hbblat/make_vc.bat
>    trunk/harbour/contrib/hbblat/syntax.txt
>    trunk/harbour/contrib/hbblat/tests/
>    trunk/harbour/contrib/hbblat/tests/blatcmd.prg
>    trunk/harbour/contrib/hbblat/tests/blattest.prg
>    trunk/harbour/contrib/hbblat/tests/f_listtext.txt
>    trunk/harbour/contrib/hbblat/tests/f_ps.txt
>    trunk/harbour/contrib/hbblat/tests/f_sample.txt
>    trunk/harbour/contrib/hbblat/tests/f_sample1.txt
>    trunk/harbour/contrib/hbblat/tests/f_subjectline.txt
>    trunk/harbour/contrib/hbblat/tests/hbmk.bat
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/a124a473/attachment.html
From harbour.01 at syenar.hu  Mon Feb 16 18:41:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 18:41:32 2009
Subject: [Harbour] Compiling gtwvg with current Harbour
In-Reply-To: <4999F5EC.6010809@yahoo.com.br>
References: <4999E475.6050707@yahoo.com.br>
	<18d502870902161454h10304f08w4be5aefb5e999b08@mail.gmail.com>
	<4999F5EC.6010809@yahoo.com.br>
Message-ID: <18d502870902161541q4d5b86b4r78b3eefd7bb37714@mail.gmail.com>

You're right we'll need to take care this.Since we should also take care of
GNU-make,
maybe we will need to use some other method,
I'll try something.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 12:25 AM, Marcos Gambeta <
marcos.gambeta@yahoo.com.br> wrote:

> Viktor Szak?ts escreveu:
> >
> > gtwvg started to use hbwin, so you need to
> > build and install it before building gtwvg.
> >
>
> GTWVG.LIB is compiled now.
>
> But i think that file \contrib\make_b32_all.bat need some fix, because
> gtwvg is compiled before hbwin.
>
> set _HB_DIRS=gtwvg hbbmcdx hbbtree hbclipsm hbcrypt hbct hbgt hbmisc
> for %%n in ( %_HB_DIRS% ) do %COMSPEC% /c %_HB_BATWORKER% %%n %1 %2 %3 %4
> %5 %6 %7 %8 %9
>
> set _HB_DIRS=hbmsql hbmzip hbnf hbodbc hbole hbsqlit3
> for %%n in ( %_HB_DIRS% ) do %COMSPEC% /c %_HB_BATWORKER% %%n %1 %2 %3 %4
> %5 %6 %7 %8 %9
>
> set _HB_DIRS=hbtip hbtpathy hbvpdf hbwin hbwhat hbziparc
> for %%n in ( %_HB_DIRS% ) do %COMSPEC% /c %_HB_BATWORKER% %%n %1 %2 %3 %4
> %5 %6 %7 %8 %9
>
> To get gtwvg compiled, i need to run the script two times.
>
> Thanks!
>
>
>
> Regards,
> Marcos Gambeta
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/623378ea/attachment.html
From info at fsgiudice.com  Mon Feb 16 18:44:25 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 16 18:44:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10296] trunk/harbour
In-Reply-To: <18d502870902161540y2046becct69a1579c3b4b3976@mail.gmail.com>
References: <E1LZCSz-0001rx-Np@74yxhf1.ch3.sourceforge.com>
	<18d502870902161540y2046becct69a1579c3b4b3976@mail.gmail.com>
Message-ID: <4999FA59.9050909@fsgiudice.com>

Hi Viktor,

Il 17/02/2009 0.40, Viktor Szak?ts ha scritto:
> Many thanks for this contribution. It's very useful and nicely done.
> 
Thank you, my pleasure

Best regards

Francesco
From harbour.01 at syenar.hu  Mon Feb 16 18:52:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 18:52:13 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902161505i57655616n7e887deaf524d7e9@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902161505i57655616n7e887deaf524d7e9@mail.gmail.com>
Message-ID: <18d502870902161552h1569e3dew794dfa1e1fa00b48@mail.gmail.com>

>
> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
> set HB_ARCHITECTURE=win
> set HB_COMPILER=mingw
> set HB_USER_LDFLAGS=-s
> cd \harbour
> MAKE_GNU clear
> MAKE_GNU


You should replace last two lines with:
sh make_gnu.sh clean install

I think we should delete make_gnu.bat from the
repository as it's rather confusing than useful.
mingw is best used with msys, otherwise some
things won't work and hacks are needed to make
work even the basic functionality. Any thoughts
regarding this?

My log for open watcom is
> set HB_ARCHITECTURE=win
> set HB_COMPILER=owatcom
> SET WATCOM=c:\devl\watcom
> SET PATH=%WATCOM%\BINP;%WATCOM%\BINW;%PATH%
> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
> SET EDPATH=%WATCOM%\EDDAT
> SET INCLUDE=%WATCOM%\H\OS2;%WATCOM%\H
> REM SET LIB=
> SET HELP=%WATCOM%\BINP\HELP;%HELP%
> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%


See comments here:

> set HB_BIN_INSTALL=\harbour\bin\ <==== Use full path here, with drive
> letter
> set HB_LIB_INSTALL=\harbour\lib\ <==== Use full path here, with drive
> letter
> set HB_INC_INSTALL=\harbour\include\ <==== Use full path here, with drive
> letter
> cd \harbour
> MAKE_GNU clear
> MAKE_GNU


Last two lines:
make clean > nul
make install %1 %2 %3 -r SHELL=%COMSPEC%

Also very important to have a proper GNU make.exe in
the path. mingw-make.exe will do if you rename it the
make.exe.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/3bd35964/attachment-0001.html
From elart at elart.it  Mon Feb 16 18:59:52 2009
From: elart at elart.it (elart)
Date: Mon Feb 16 18:59:57 2009
Subject: [Harbour] Any idea to run some kind of Openoffice (on linux)
	harbour integration
Message-ID: <4999FDF8.8020504@elart.it>

On the old Windows days i was able using Visual Objects to run 
Openoffice and make some useful with it..., now i'm glad to work only 
with Linux.

http://www.groupsrv.com/computers/about313338.html

I ask you some starting points to make the same with Harbour and 
Openoffice on Linux, i mean run Openoffice via uno interface or 
something similar 
(http://udk.openoffice.org/common/man/uno_the_idea.html) via Harbour.

Thank you in advance

Best regards.
From vszakats at users.sourceforge.net  Mon Feb 16 19:12:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 19:12:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10297] trunk/harbour
Message-ID: <E1LZDZM-0001bl-CE@d5vjzd1.ch3.sourceforge.com>

Revision: 10297
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10297&view=rev
Author:   vszakats
Date:     2009-02-17 00:12:11 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 01:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/gtwvg/make_b32.bat
  * contrib/gtwvg/make_vc.bat
  * contrib/gtwvg/Makefile
    * Trying new method to point to hbwin, so that
      we're not relying on hbwin headers being installed.
    ; Please test.

  * contrib/Makefile
    + Added hbblat.

  * contrib/make_vc_all.bat
  * contrib/make_b32_all.bat
  * contrib/make_gcc_all.sh
  * contrib/hbblat/Makefile
  * contrib/hbblat/common.mak
  * contrib/hbblat/make_b32.bat
  * contrib/hbblat/make_vc.bat
  * contrib/hbblat/blatwrp.c
  * contrib/hbblat/tests/hbmk.bat
  * contrib/hbblat/tests/blatcmd.prg
    + Added support for HB_INC_BLAT (needed for releases).
    * Some EOLs added.
    * Minor correction to .ch name in make files.
    % Replaced command line retrieval with hb_cmdline() call.
    * Cleaned some headers/#defines.
    * GNU make file got protection to only compile for win,
      and to install headers.

  * make_gnu.bat
  * contrib/hbct/Makefile
  * contrib/hbwin/Makefile
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/make_b32.bat
    trunk/harbour/contrib/gtwvg/make_vc.bat
    trunk/harbour/contrib/hbblat/Makefile
    trunk/harbour/contrib/hbblat/blatwrp.c
    trunk/harbour/contrib/hbblat/common.mak
    trunk/harbour/contrib/hbblat/make_b32.bat
    trunk/harbour/contrib/hbblat/make_vc.bat
    trunk/harbour/contrib/hbblat/tests/blatcmd.prg
    trunk/harbour/contrib/hbblat/tests/hbmk.bat
    trunk/harbour/contrib/hbct/Makefile
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/make_b32_all.bat
    trunk/harbour/contrib/make_gcc_all.sh
    trunk/harbour/contrib/make_vc_all.bat
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 16 19:16:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 19:16:47 2009
Subject: [Harbour] Any idea to run some kind of Openoffice (on linux) 
	harbour integration
In-Reply-To: <4999FDF8.8020504@elart.it>
References: <4999FDF8.8020504@elart.it>
Message-ID: <18d502870902161616j56720896le077318f008d4865@mail.gmail.com>

Good idea! We would need an uno wrapper for Harbour (hbuno).
Similar to this for Python:
http://udk.openoffice.org/python/python-bridge.html

Brgds,
Viktor

On Tue, Feb 17, 2009 at 12:59 AM, elart <elart@elart.it> wrote:

> On the old Windows days i was able using Visual Objects to run Openoffice
> and make some useful with it..., now i'm glad to work only with Linux.
>
> http://www.groupsrv.com/computers/about313338.html
>
> I ask you some starting points to make the same with Harbour and Openoffice
> on Linux, i mean run Openoffice via uno interface or something similar (
> http://udk.openoffice.org/common/man/uno_the_idea.html) via Harbour.
>
> Thank you in advance
>
> Best regards.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/08c96142/attachment.html
From mbelgrano at deltain.it  Mon Feb 16 19:17:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 16 19:17:35 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902161552h1569e3dew794dfa1e1fa00b48@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902161505i57655616n7e887deaf524d7e9@mail.gmail.com>
	<18d502870902161552h1569e3dew794dfa1e1fa00b48@mail.gmail.com>
Message-ID: <609353e70902161617x6060fd45k855d47086915d4b5@mail.gmail.com>

and how can create contrib for either open watcom,mingw
CD \HARBOUR\CONTRIB
Echo ----------contrib---------
CALL MAKE_??_ALL CLEAN
CALL MAKE_??_ALL
CALL MAKE_??_ALL INSTALL

SH MAKE_GCC_ALL?


2009/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>> set HB_ARCHITECTURE=win
>> set HB_COMPILER=mingw
>> set HB_USER_LDFLAGS=-s
>> cd \harbour
>> MAKE_GNU clear
>> MAKE_GNU
>
> You should replace last two lines with:
> sh make_gnu.sh clean install
>
> I think we should delete make_gnu.bat from the
> repository as it's rather confusing than useful.
> mingw is best used with msys, otherwise some
> things won't work and hacks are needed to make
> work even the basic functionality. Any thoughts
> regarding this?
>>
>> My log for open watcom is
>> set HB_ARCHITECTURE=win
>> set HB_COMPILER=owatcom
>> SET WATCOM=c:\devl\watcom
>> SET PATH=%WATCOM%\BINP;%WATCOM%\BINW;%PATH%
>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
>> SET EDPATH=%WATCOM%\EDDAT
>> SET INCLUDE=%WATCOM%\H\OS2;%WATCOM%\H
>> REM SET LIB=
>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
>
>
> See comments here:
>>
>> set HB_BIN_INSTALL=\harbour\bin\ <==== Use full path here, with drive
>> letter
>> set HB_LIB_INSTALL=\harbour\lib\ <==== Use full path here, with drive
>> letter
>> set HB_INC_INSTALL=\harbour\include\ <==== Use full path here, with drive
>> letter
>> cd \harbour
>> MAKE_GNU clear
>> MAKE_GNU
>
> Last two lines:
> make clean > nul
> make install %1 %2 %3 -r SHELL=%COMSPEC%
> Also very important to have a proper GNU make.exe in
> the path. mingw-make.exe will do if you rename it the
> make.exe.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Mon Feb 16 19:28:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 16 19:28:17 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902161617x6060fd45k855d47086915d4b5@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902161505i57655616n7e887deaf524d7e9@mail.gmail.com>
	<18d502870902161552h1569e3dew794dfa1e1fa00b48@mail.gmail.com>
	<609353e70902161617x6060fd45k855d47086915d4b5@mail.gmail.com>
Message-ID: <18d502870902161628p727883d8p79c9fefaf1e9d9a3@mail.gmail.com>

With the GNU-make system (owatcom and mingw in this case), they'll built for
you automatically. No need to explicitly request it.
Brgds,
Viktor

On Tue, Feb 17, 2009 at 1:17 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> and how can create contrib for either open watcom,mingw
> CD \HARBOUR\CONTRIB
> Echo ----------contrib---------
> CALL MAKE_??_ALL CLEAN
> CALL MAKE_??_ALL
> CALL MAKE_??_ALL INSTALL
>
> SH MAKE_GCC_ALL?
>
>
> 2009/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
> >> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
> >> set HB_ARCHITECTURE=win
> >> set HB_COMPILER=mingw
> >> set HB_USER_LDFLAGS=-s
> >> cd \harbour
> >> MAKE_GNU clear
> >> MAKE_GNU
> >
> > You should replace last two lines with:
> > sh make_gnu.sh clean install
> >
> > I think we should delete make_gnu.bat from the
> > repository as it's rather confusing than useful.
> > mingw is best used with msys, otherwise some
> > things won't work and hacks are needed to make
> > work even the basic functionality. Any thoughts
> > regarding this?
> >>
> >> My log for open watcom is
> >> set HB_ARCHITECTURE=win
> >> set HB_COMPILER=owatcom
> >> SET WATCOM=c:\devl\watcom
> >> SET PATH=%WATCOM%\BINP;%WATCOM%\BINW;%PATH%
> >> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
> >> SET EDPATH=%WATCOM%\EDDAT
> >> SET INCLUDE=%WATCOM%\H\OS2;%WATCOM%\H
> >> REM SET LIB=
> >> SET HELP=%WATCOM%\BINP\HELP;%HELP%
> >> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
> >
> >
> > See comments here:
> >>
> >> set HB_BIN_INSTALL=\harbour\bin\ <==== Use full path here, with drive
> >> letter
> >> set HB_LIB_INSTALL=\harbour\lib\ <==== Use full path here, with drive
> >> letter
> >> set HB_INC_INSTALL=\harbour\include\ <==== Use full path here, with
> drive
> >> letter
> >> cd \harbour
> >> MAKE_GNU clear
> >> MAKE_GNU
> >
> > Last two lines:
> > make clean > nul
> > make install %1 %2 %3 -r SHELL=%COMSPEC%
> > Also very important to have a proper GNU make.exe in
> > the path. mingw-make.exe will do if you rename it the
> > make.exe.
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/aeb97767/attachment.html
From vszakats at users.sourceforge.net  Mon Feb 16 19:39:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 19:39:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10298] trunk/harbour
Message-ID: <E1LZE00-0002Lv-OI@d5vjzd1.ch3.sourceforge.com>

Revision: 10298
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10298&view=rev
Author:   vszakats
Date:     2009-02-17 00:39:43 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 01:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/linux/install.cf
    ! Added hack to ignore copy errors.
      This probably isn't the ultimate solution, but since a few
      weeks Harbour cannot be installed in the same dirs where
      sources are located, since it fails with
      cp: `file' and `/harbour/include/file' are the same file
      which causes that no binaries will be installed either.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/install.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb 16 19:49:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 19:49:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10299] trunk/harbour
Message-ID: <E1LZE9m-0002Vn-QF@d5vjzd1.ch3.sourceforge.com>

Revision: 10299
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10299&view=rev
Author:   vszakats
Date:     2009-02-17 00:49:50 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 01:50 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbfimage/Makefile
    ! Disabled hbfimage on Linux until we solve the type 
      collision problem. Some more platforms may need to 
      be added.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb 16 21:19:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 16 21:19:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10300] trunk/harbour
Message-ID: <E1LZFYc-0006pE-2b@74yxhf1.ch3.sourceforge.com>

Revision: 10300
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10300&view=rev
Author:   vszakats
Date:     2009-02-17 02:19:33 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 03:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/fstemp.c
    ! Fixed temp filename generation in {(linux|bsd)&!owatcom} 
      builds when extension was requested.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Tue Feb 17 02:34:45 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Feb 17 02:35:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>	<18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
	<18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
Message-ID: <499A6895.8070200@mweb.co.za>

Viktor Szak?ts wrote:

> It would also greatly help making our system a faster moving 
> target if we could drop support for non-GNU make systems.
> This would have these consequences:
> 1) MSVC, BCC users would need mingw-make.exe to create a build.
> 2) MSVC, BCC GNU-make should be able to create proper .dlls.

I think this is a good idea.

Regards
Alex


From vszakats at users.sourceforge.net  Tue Feb 17 03:18:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 03:18:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10301] trunk/harbour
Message-ID: <E1LZLA1-0000sx-FX@dn4whf1.ch3.sourceforge.com>

Revision: 10301
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10301&view=rev
Author:   vszakats
Date:     2009-02-17 08:18:32 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 09:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_gcc.sh
  * contrib/make_gcc_all.sh
    ! Fixed typo in if condition.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/make_gcc_all.sh
    trunk/harbour/make_gcc.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Tue Feb 17 03:33:02 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Feb 17 03:33:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10297] trunk/harbour
In-Reply-To: <E1LZDZM-0001bl-CE@d5vjzd1.ch3.sourceforge.com>
References: <E1LZDZM-0001bl-CE@d5vjzd1.ch3.sourceforge.com>
Message-ID: <499A763E.9050807@fsgiudice.com>

Hi Viktor,

Il 17/02/2009 1.12, vszakats@users.sourceforge.net ha scritto:
> 2009-02-17 01:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * contrib/hbblat/tests/blatcmd.prg
>     % Replaced command line retrieval with hb_cmdline() call.


Thank you for other changes, but this should be reverted, as I will do 
but after a your reply to this mail, because hb_cmdline() doesn't work 
in same way of API GetCommandLine(), that I think should be used inside 
hb_cmdline() at Windows level.

To understand the difference please try the below example and on command 
line try this command and see the difference (please change 
from@address, my.smtp.server, to@address with yours):

blatcmd - -body "Message body" -t to@address -s "test" -server 
my.smtp.server -debug -log blat.log -timestamp -q -f from@address

as you will see, in hb_cmdline() version '"' are lost and blat doesn't 
send the mail.

Best regards

Francesco


-- start of blatcmd.prg --------------------------
#include "common.ch"

PROCEDURE Main()

    LOCAL cCmd := hb_cmdline()
    LOCAL cCmd1 := GetParams()
    LOCAL nRet

    ? "Simple BLAT Command interface"
    ? "With hb_cmdline() paramenters: "
    ? cCmd
    ? "With WAPI_GetCommandLine() paramenters1: "
    ? cCmd1
    IF !Empty( cCmd )
       ? "Sending parameters to blat"
       nRet := hb_BlatSend( cCmd )
       ? nRet
    ENDIF

    ? "Paramenters: ", cCmd
    ? "Paramenters1: ", cCmd1
    IF !Empty( cCmd1 )
       ? "Sending parameters to blat"
       nRet := hb_BlatSend( cCmd1 )
       ? nRet
    ENDIF

RETURN

STATIC FUNCTION GetParams()
    LOCAL cCmd := WAPI_GetCommandLine()
    LOCAL n

    // Search first space after program name
    n := AT( " ", cCmd )
    IF n > 0
       // remove program name
       cCmd := SubStr( cCmd, n + 1 )
    ELSE
       // empty params list
       cCmd := ""
    ENDIF

RETURN cCmd

//-----------------------------------------

// TODO: move to hbwin lib
#pragma BEGINDUMP

#define HB_OS_WIN_32_USED

#include <windows.h>

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbstack.h"
#include "hbapierr.h"
#include "hbapifs.h"

/* GetCommandLine() returns entire command line as a single string */
HB_FUNC( WAPI_GETCOMMANDLINE )
{
    hb_retc( GetCommandLine() );
}

#pragma ENDDUMP
--- end of blatcmd.prg --------------------------------


From harbour.01 at syenar.hu  Tue Feb 17 03:36:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 03:37:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <499A6895.8070200@mweb.co.za>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
	<18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
	<18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
	<499A6895.8070200@mweb.co.za>
Message-ID: <18d502870902170036g1744a68dt8f76f3a75ed4e428@mail.gmail.com>

Other opinions of this topic?
Can .dll creation be implemented using our GNU-make system?

Brgds,
Viktor

On Tue, Feb 17, 2009 at 8:34 AM, Alex Strickland <sscc@mweb.co.za> wrote:

> Viktor Szak?ts wrote:
>
>  It would also greatly help making our system a faster moving target if we
>> could drop support for non-GNU make systems.
>> This would have these consequences:
>> 1) MSVC, BCC users would need mingw-make.exe to create a build.
>> 2) MSVC, BCC GNU-make should be able to create proper .dlls.
>>
>
> I think this is a good idea.
>
> Regards
> Alex
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/7e5337ee/attachment.html
From mbelgrano at deltain.it  Tue Feb 17 03:37:34 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 03:37:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <499A6895.8070200@mweb.co.za>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
	<18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
	<18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
	<499A6895.8070200@mweb.co.za>
Message-ID: <609353e70902170037l2afb323dxb88d5d05d9a852d@mail.gmail.com>

Yes is very good idea
IMO for user is important use his c compiler not his  make system
Can we distribute mingw-make.exe with harbour binary for windows platform?
then using our make harbour\make\ only if not present main make

2009/2/17 Alex Strickland <sscc@mweb.co.za>:
> Viktor Szak?ts wrote:
>
>> It would also greatly help making our system a faster moving target if we
>> could drop support for non-GNU make systems.
>> This would have these consequences:
>> 1) MSVC, BCC users would need mingw-make.exe to create a build.
>> 2) MSVC, BCC GNU-make should be able to create proper .dlls.
>
> I think this is a good idea.
>
> Regards
> Alex
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From M.Horodyski at pzuzycie.com.pl  Tue Feb 17 03:41:17 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Feb 17 03:41:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29F57@PINK.zycie.pzu>

 

________________________________

	From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
	Sent: Monday, February 16, 2009 5:39 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
	
	
	Hi Marek, 
	
	
	> Can we bulid with hbmk and above macro, Linux executable aplication
	> format (ELF ?) on Windows Platform ?
	
	[ ...] 
	
	I invite everyone to peek into hbmk.prg sources and 
	try adding support for combinations we don't yet have. 
	 

So far I used only hbmk.bat, and now actually see that it is also hbmk.prg. Worth the watch.
 
Regards,
Marek Horodyski 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/8fa101b8/attachment.html
From mbelgrano at deltain.it  Tue Feb 17 03:44:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 03:44:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29F57@PINK.zycie.pzu>
References: <18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29F57@PINK.zycie.pzu>
Message-ID: <609353e70902170044j1566188anf43b82d2d3be6752@mail.gmail.com>

HBMK is great innovation for harbour 1.1
is a unique make system for all os
is powerfull and is written in harbour!


2009/2/17 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>
>
> ________________________________
> From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
> Sent: Monday, February 16, 2009 5:39 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
>
> Hi Marek,
>> Can we bulid with hbmk and above macro, Linux executable aplication
>> format (ELF ?) on Windows Platform ?
> [ ...]
> I invite everyone to peek into hbmk.prg sources and
> try adding support for combinations we don't yet have.
>
>
> So far I used only hbmk.bat, and now actually see that it is also hbmk.prg.
> Worth the watch.
>
> Regards,
> Marek Horodyski
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Feb 17 03:45:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 03:46:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10297] trunk/harbour
In-Reply-To: <499A763E.9050807@fsgiudice.com>
References: <E1LZDZM-0001bl-CE@d5vjzd1.ch3.sourceforge.com>
	<499A763E.9050807@fsgiudice.com>
Message-ID: <18d502870902170045o686f0115hb4e6c2e4101570dd@mail.gmail.com>

Hi Francesco,
Okay, I see what you mean. We should fix hb_cmdline() to
work properly, it's a common need. I'm not 100% sure
where to touch current code, first we get the command line
directly from WinMain(), split the command line to pieces
in /include/hbwmain.c for GUI apps _or_ get the command
line already split from main() (I think that's what happens in
our current example). Later on, we reassemble the pieces
in /source/vm/cmdarg.c into the full command line.

Probably hb_cmdline() should be modified to use the
direct Windows API.

Could you help here?

Brgds,
Viktor

On Tue, Feb 17, 2009 at 9:33 AM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Viktor,
>
> Il 17/02/2009 1.12, vszakats@users.sourceforge.net ha scritto:
>
>> 2009-02-17 01:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>  * contrib/hbblat/tests/blatcmd.prg
>>    % Replaced command line retrieval with hb_cmdline() call.
>>
>
>
> Thank you for other changes, but this should be reverted, as I will do but
> after a your reply to this mail, because hb_cmdline() doesn't work in same
> way of API GetCommandLine(), that I think should be used inside hb_cmdline()
> at Windows level.
>
> To understand the difference please try the below example and on command
> line try this command and see the difference (please change from@address,
> my.smtp.server, to@address with yours):
>
> blatcmd - -body "Message body" -t to@address -s "test" -server
> my.smtp.server -debug -log blat.log -timestamp -q -f from@address
>
> as you will see, in hb_cmdline() version '"' are lost and blat doesn't send
> the mail.
>
> Best regards
>
> Francesco
>
>
> -- start of blatcmd.prg --------------------------
> #include "common.ch"
>
> PROCEDURE Main()
>
>   LOCAL cCmd := hb_cmdline()
>   LOCAL cCmd1 := GetParams()
>   LOCAL nRet
>
>   ? "Simple BLAT Command interface"
>   ? "With hb_cmdline() paramenters: "
>   ? cCmd
>   ? "With WAPI_GetCommandLine() paramenters1: "
>   ? cCmd1
>   IF !Empty( cCmd )
>      ? "Sending parameters to blat"
>      nRet := hb_BlatSend( cCmd )
>      ? nRet
>   ENDIF
>
>   ? "Paramenters: ", cCmd
>   ? "Paramenters1: ", cCmd1
>   IF !Empty( cCmd1 )
>      ? "Sending parameters to blat"
>      nRet := hb_BlatSend( cCmd1 )
>      ? nRet
>
>   ENDIF
>
> RETURN
>
> STATIC FUNCTION GetParams()
>   LOCAL cCmd := WAPI_GetCommandLine()
>   LOCAL n
>
>   // Search first space after program name
>   n := AT( " ", cCmd )
>   IF n > 0
>      // remove program name
>      cCmd := SubStr( cCmd, n + 1 )
>   ELSE
>      // empty params list
>      cCmd := ""
>   ENDIF
>
> RETURN cCmd
>
> //-----------------------------------------
>
> // TODO: move to hbwin lib
> #pragma BEGINDUMP
>
> #define HB_OS_WIN_32_USED
>
> #include <windows.h>
>
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbstack.h"
> #include "hbapierr.h"
> #include "hbapifs.h"
>
> /* GetCommandLine() returns entire command line as a single string */
> HB_FUNC( WAPI_GETCOMMANDLINE )
> {
>   hb_retc( GetCommandLine() );
> }
>
> #pragma ENDDUMP
> --- end of blatcmd.prg --------------------------------
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/8b22e37d/attachment-0001.html
From lorenzo.fiorini at gmail.com  Tue Feb 17 03:59:33 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb 17 03:59:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
	<18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
	<18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
Message-ID: <9257026e0902170059n3cb6dfb0w773e988d160d6bba@mail.gmail.com>

On Mon, Feb 16, 2009 at 6:12 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> It would also greatly help making our system a faster moving
> target if we could drop support for non-GNU make systems.

The only widely used method I know is autoconf/automake.
It's not easy to master but reinventing it is insane.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Feb 17 04:15:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 04:15:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <9257026e0902170059n3cb6dfb0w773e988d160d6bba@mail.gmail.com>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
	<18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
	<18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
	<9257026e0902170059n3cb6dfb0w773e988d160d6bba@mail.gmail.com>
Message-ID: <18d502870902170115u4316d127h2a9055d8a8ceed24@mail.gmail.com>

>
> The only widely used method I know is autoconf/automake.
> It's not easy to master but reinventing it is insane.


The codebase already builds on MSVC, BCC regardless of
the build system (I'll retest the GNU-make line for MSVC, BCC,
to make sure their GNU-make build setup isn't broken), anyhow
autoconf is no help here.

What we need is .dll support using the GNU-make system.

I very much hope autoconf won't be mixed into Harbour
anytime soon, as it's one of the ugliest workarounds I've ever seen.
IMO it's better to go for portability by more concious/careful
coding, Harbour is quite well here.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/5e505186/attachment.html
From miguelangel at marchuet.net  Tue Feb 17 04:28:44 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Tue Feb 17 04:23:22 2009
Subject: [Harbour] Descend bug.
Message-ID: <499A834C.9000702@marchuet.net>

hb_strDescend don't respect HB_SetCodePage

I'm using now:

/******************************************************************************************************************************************
*  +cDescend( cValue )
*
*  Retorna un valor invertido teniendo en cuenta el collation ESMWIN.
*  Esta funci?n se puede usar en la creaci?n de indices parcialmente descendentes.
*/
FUNCTION cDescend( cValue )
    LOCAL n, nPos
    LOCAL nLen := Len( cValue )
    LOCAL cRet := Space( nLen )
    //                   1         2         3         4         5         6         7         8         9         1
    // 1234567     8    901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234
    STATIC cOrden := ' !"#$%&' + "'" 
+'()*+,-./:;<=>?[\]^_@0123456789A?BCDE?FGHI?JKLMN?O?PQRSTU??VWXYZa?bcde?fghi?jklmn?o?pqrstu??vwxyz'

    FOR n := 1 TO nLen
       IF ( nPos := At( cValue[n], cOrden ) ) > 0
          cRet[n] := cOrden[104 - nPos]
       ELSE
          cRet[n] := 255 - cValue[n]
       ENDIF
    NEXT

RETURN cRet

I think any similar but using collations, needs to be implemented at c level, by the moment DESCEND function
can't be used at index :

INDEX ON Upper( Code ) + Descend( FisrtName ) TAG CodeName TO Cust01

Best regards,
Miguel Angel Marchuet
From vszakats at users.sourceforge.net  Tue Feb 17 05:27:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 05:27:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10302] trunk/harbour
Message-ID: <E1LZNAW-0000Xk-0A@bj8yhf1.ch3.sourceforge.com>

Revision: 10302
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10302&view=rev
Author:   vszakats
Date:     2009-02-17 10:27:10 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 11:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   - contrib/hbmysql/tests/hbmk.bat
   + contrib/hbmysql/tests/hbmysql.hbp
   - contrib/xhb/tests/hbmk.bat
   + contrib/xhb/tests/xhb.hbp
   - contrib/hbodbc/tests/hbmk.bat
   + contrib/hbodbc/tests/hbodbc.hbp
   - contrib/hbtpathy/tests/hbmk.bat
   + contrib/hbtpathy/tests/hbtpathy.hbp
   - contrib/hbmsql/tests/hbmk.bat
   + contrib/hbmsql/tests/hbmsql.hbp
   - contrib/hbmzip/tests/hbmk.bat
   + contrib/hbmzip/tests/hbmzip.hbp
   - contrib/hbole/tests/hbmk.bat
   + contrib/hbole/tests/hbole.hbp
   - contrib/hbsqlit3/tests/hbmk.bat
   + contrib/hbsqlit3/tests/hbsqlit3.hbp
   - contrib/hbfbird/tests/hbmk.bat
   + contrib/hbfbird/tests/hbfbird.hbp
   - contrib/hbziparc/tests/hbmk.bat
   + contrib/hbziparc/tests/hbziparc.hbp
   - contrib/hbnf/tests/hbmk.bat
   + contrib/hbnf/tests/hbnf.hbp
   - contrib/rddsql/tests/hbmk.bat
   + contrib/rddsql/tests/rddsql.hbp
   - contrib/hbhpdf/tests/hbmk.bat
   + contrib/hbhpdf/tests/hbhpdf.hbp
   - contrib/rddado/tests/hbmk.bat
   + contrib/rddado/tests/rddado.hbp
   - contrib/hbpgsql/tests/hbmk.bat
   + contrib/hbpgsql/tests/hbpgsql.hbp
   - contrib/rddads/tests/hbmk.bat
   + contrib/rddads/tests/rddads.hbp
   - contrib/hbfimage/tests/hbmk.bat
   + contrib/hbfimage/tests/hbfimage.hbp
   - contrib/hbgd/tests/hbmk.bat
   + contrib/hbgd/tests/hbgd.hbp
   - contrib/hbmisc/tests/hbmk.bat
   + contrib/hbmisc/tests/hbmisc.hbp
   - contrib/hbtip/tests/hbmk.bat
   + contrib/hbtip/tests/hbtip.hbp
   - contrib/hbgf/tests/hbmk.bat
   + contrib/hbgf/tests/hbgf.hbp
   - contrib/hbwin/tests/hbmk.bat
   + contrib/hbwin/tests/hbwin.hbp
   - contrib/hbvpdf/tests/hbmk.bat
   + contrib/hbvpdf/tests/hbvpdf.hbp
   - contrib/hbssl/tests/hbmk.bat
   + contrib/hbssl/tests/hbssl.hbp
   - contrib/hbwhat/tests/hbmk.bat
   + contrib/hbwhat/tests/hbwhat.hbp
     * Switched from WIN/DOS specific to platform
       independent .hbp files. These will be automatically
       picked by hbmk (prg). Some libnames will need tweaking
       for non-Windows platforms.
     ! Fixed a few liblists along the way.

   * contrib/hbgd/gdwrp.c
     ! Fixed to properly check GD lib version for conditional
       compiling. Formerly used GD_VERS isn't defined by the
       library headers.

   - contrib/hbmisc/tests/Makefile
   * contrib/hbmisc/doc/gendoc.bat
   - contrib/hbmisc/doc/libmisc.lnk
   - contrib/hbmisc/doc/libmisc.rsp
   + contrib/hbmisc/doc/hbmisc.lnk
   + contrib/hbmisc/doc/hbmisc.rsp
     * libmisc -> hbmisc

   * util/hbmk/hbmk.prg
     + Added TODO.

   * ChangeLog
     * TODO marked DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbgd/gdwrp.c
    trunk/harbour/contrib/hbmisc/doc/gendoc.bat
    trunk/harbour/utils/hbmk/hbmk.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbfbird/tests/hbfbird.hbp
    trunk/harbour/contrib/hbfimage/tests/hbfimage.hbp
    trunk/harbour/contrib/hbgd/tests/hbgd.hbp
    trunk/harbour/contrib/hbgf/tests/hbgf.hbp
    trunk/harbour/contrib/hbhpdf/tests/hbhpdf.hbp
    trunk/harbour/contrib/hbmisc/doc/hbmisc.lnk
    trunk/harbour/contrib/hbmisc/doc/hbmisc.rsp
    trunk/harbour/contrib/hbmisc/tests/hbmisc.hbp
    trunk/harbour/contrib/hbmsql/tests/hbmsql.hbp
    trunk/harbour/contrib/hbmysql/tests/hbmysql.hbp
    trunk/harbour/contrib/hbmzip/tests/hbmzip.hbp
    trunk/harbour/contrib/hbnf/tests/hbnf.hbp
    trunk/harbour/contrib/hbodbc/tests/hbodbc.hbp
    trunk/harbour/contrib/hbole/tests/hbole.hbp
    trunk/harbour/contrib/hbpgsql/tests/hbpgsql.hbp
    trunk/harbour/contrib/hbsqlit3/tests/hbsqlit3.hbp
    trunk/harbour/contrib/hbssl/tests/hbssl.hbp
    trunk/harbour/contrib/hbtip/tests/hbtip.hbp
    trunk/harbour/contrib/hbtpathy/tests/hbtpathy.hbp
    trunk/harbour/contrib/hbvpdf/tests/hbvpdf.hbp
    trunk/harbour/contrib/hbwhat/tests/hbwhat.hbp
    trunk/harbour/contrib/hbwin/tests/hbwin.hbp
    trunk/harbour/contrib/hbziparc/tests/hbziparc.hbp
    trunk/harbour/contrib/rddado/tests/rddado.hbp
    trunk/harbour/contrib/rddads/tests/rddads.hbp
    trunk/harbour/contrib/rddsql/tests/rddsql.hbp
    trunk/harbour/contrib/xhb/tests/xhb.hbp

Removed Paths:
-------------
    trunk/harbour/contrib/hbfbird/tests/hbmk.bat
    trunk/harbour/contrib/hbfimage/tests/hbmk.bat
    trunk/harbour/contrib/hbgd/tests/hbmk.bat
    trunk/harbour/contrib/hbgf/tests/hbmk.bat
    trunk/harbour/contrib/hbhpdf/tests/hbmk.bat
    trunk/harbour/contrib/hbmisc/doc/libmisc.lnk
    trunk/harbour/contrib/hbmisc/doc/libmisc.rsp
    trunk/harbour/contrib/hbmisc/tests/Makefile
    trunk/harbour/contrib/hbmisc/tests/hbmk.bat
    trunk/harbour/contrib/hbmsql/tests/hbmk.bat
    trunk/harbour/contrib/hbmysql/tests/hbmk.bat
    trunk/harbour/contrib/hbmzip/tests/hbmk.bat
    trunk/harbour/contrib/hbnf/tests/hbmk.bat
    trunk/harbour/contrib/hbodbc/tests/hbmk.bat
    trunk/harbour/contrib/hbole/tests/hbmk.bat
    trunk/harbour/contrib/hbpgsql/tests/hbmk.bat
    trunk/harbour/contrib/hbsqlit3/tests/hbmk.bat
    trunk/harbour/contrib/hbssl/tests/hbmk.bat
    trunk/harbour/contrib/hbtip/tests/hbmk.bat
    trunk/harbour/contrib/hbtpathy/tests/hbmk.bat
    trunk/harbour/contrib/hbvpdf/tests/hbmk.bat
    trunk/harbour/contrib/hbwhat/tests/hbmk.bat
    trunk/harbour/contrib/hbwin/tests/hbmk.bat
    trunk/harbour/contrib/hbziparc/tests/hbmk.bat
    trunk/harbour/contrib/rddado/tests/hbmk.bat
    trunk/harbour/contrib/rddads/tests/hbmk.bat
    trunk/harbour/contrib/rddsql/tests/hbmk.bat
    trunk/harbour/contrib/xhb/tests/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 17 05:37:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 05:37:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10303] trunk/harbour
Message-ID: <E1LZNK3-0000ig-Vq@bj8yhf1.ch3.sourceforge.com>

Revision: 10303
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10303&view=rev
Author:   vszakats
Date:     2009-02-17 10:37:03 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 11:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbblat/tests/blatcmd.prg
    ! Reverted fix of mine until we properly fix hb_cmdline().
    ; TOFIX: Fix hb_cmdline() to work more consistently on Windows.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbblat/tests/blatcmd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Feb 17 05:56:03 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 17 05:56:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <20090216192437.GA24539@uran.home.aster.pl>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>	<49954990.3000503@libero.it>	<20090215173534.GA31852@uran.home.aster.pl>	<49992866.8090806@libero.it>
	<20090216192437.GA24539@uran.home.aster.pl>
Message-ID: <499A97C3.5040806@libero.it>

Hi Przemyslaw,

Przemyslaw Czerpak wrote:
> Thanks though it will not help us very much.
> It's necessary to change the OS2 code to eliminate possible race condition.
> BTW I see in xHarbour that you used together:
>    DosPostEventSem( hSem );
>    DosResetEventSem( hSem, &ulCount );
> so I guess that it's guarantied that all threads blocked on hSem by
> DosWaitEventSem() will be woken up even if other thread immediately
> calls DosResetEventSem() before any of this thread begin execution.

I think this is what happens, even if I never made such a test, anyway OS/2
sdk states that:

---------------8<---------------------
DosResetEventSem resets an event semaphore if it is not already reset, and
returns the number of times the semaphore was posted since it was last reset.
All threads that subsequently call DosWaitEventSem for this semaphore will be
blocked.

Any thread belonging to the process that created the event semaphore can
change the state of the semaphore to reset by calling DosResetEventSem.
Threads in other processes can also call DosResetEventSem, but they must first
gain access to the semaphore by calling DosOpenEventSem.

When an event semaphore is in the reset state, any thread that calls
DosWaitEventSem to wait for the semaphore will be blocked. When the event
semaphore is posted, all of the threads that are waiting for the semaphore are
released to continue execution.
--------------->8---------------------

> Without such condition the above peace of code may never wake up all
> threads. But there is other problem and as I can see it exists also
> in xHarbour. It's still possible that signal will be lost and waiting
> thread will never be woken up due to hb_threadCondWait() implementation.
> It needs multistate semaphore like in Windows to be sure that we do not
> lost posted event.
> F.e. 1-st thread is waiting on some results calculated by 2-nd thread
> in code like:
> 
>    hb_threadEnterCriticalSection( mutex );
>    while( result == 0 )
>       hb_threadCondWait( cond, mutex );
>    hb_threadLeaveCriticalSection( mutex );
> 
> The second thread is making:
>    hb_threadEnterCriticalSection( mutex );
>    result += nDone;
>    hb_threadLeaveCriticalSection( mutex );
>    hb_threadCondSignal( cond );
> 
> in hb_threadCondWait() the mutex should be unlocked and process suspended
> in one atomic operation. OS2 API does not give us such functionality and
> the code like above can freeze 1-st thread forever. It may happen if
> inside hb_threadCondWait() it executes:
>    DosReleaseMutexSem( mutex );
> and OS suspend the thread before executing:
>    DosWaitEventSem( cond );
> activating 2-nd thread. Which can lock unlocked mutex set result and
> send signal which will be ignored because the 1-st thread has not
> entered DosWaitEventSem() yet. The second thread finish its job and
> terminates and the 1-st one is never woken up so our application
> hangups. The above now can happen in xHarbour.

I see these two comments on OS/2 sdk:

-------------------8<-----------------
If the semaphore is already posted when DosWaitEventSem is called, the
function returns immediately, and the thread continues to run. Otherwise, the
thread is blocked until the semaphore is posted.
------------------->8-----------------

and also

-------------------8<-----------------
Unlike multiple event semaphores in a muxwait list, which are level-triggered,
single event semaphores are edge-triggered. This means that if an event
semaphore is posted and then reset before a waiting thread gets a chance to
run, the semaphore is considered to be posted for the rest of that thread's
waiting period; the thread does not have to wait for the semaphore to be
posted again.
------------------->8-----------------

So the thread should not block and the event does not get lost.

Do you think this answers your questions?

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Feb 17 06:02:08 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 05:57:05 2009
Subject: [Harbour] Descend bug.
In-Reply-To: <499A834C.9000702@marchuet.net>
References: <499A834C.9000702@marchuet.net>
Message-ID: <20090217110208.GA31422@uran.home.aster.pl>

On Tue, 17 Feb 2009, Miguel Angel Marchuet wrote:

Hi,

> hb_strDescend don't respect HB_SetCodePage

Yes it doesn't and it's expected behavior.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Feb 17 06:06:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 06:00:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <18d502870902170036g1744a68dt8f76f3a75ed4e428@mail.gmail.com>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
	<18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
	<18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
	<499A6895.8070200@mweb.co.za>
	<18d502870902170036g1744a68dt8f76f3a75ed4e428@mail.gmail.com>
Message-ID: <20090217110602.GB31422@uran.home.aster.pl>

On Tue, 17 Feb 2009, Szak?ts Viktor wrote:
> Other opinions of this topic?
> Can .dll creation be implemented using our GNU-make system?

It is in MinGW builds.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Feb 17 06:02:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 06:02:42 2009
Subject: [Harbour] Choice a c compiler for windows platform
Message-ID: <609353e70902170302w57440a60k5974d88f1aee9d0c@mail.gmail.com>

Please help me to write a little guide, please revise this
First steep in harbour is choice of a c compiler
Microsoft vc 2008  Modern Free but not open source, fast
Min Gw   Open source Multi platform
Open watcom 1.8 Open source
Borland c++ 5.5 Old lighte lite but little buggy
This choice have result also to compatibility with additional library

http://docs.google.com/a/deltain.net/Doc?id=dhmtv9fs_2304k5t6qg4&invite=c746ppg


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Feb 17 06:05:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 06:05:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <499A6895.8070200@mweb.co.za>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
	<18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
	<18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
	<499A6895.8070200@mweb.co.za>
Message-ID: <18d502870902170305j45381c74kecc031e0553f5e82@mail.gmail.com>

With hbmk, the number of batch files could be reduced from 189 to 107, and
this way Harbour itself did a big step
towards portability.

Now, by dropping the non-GNU make system, the number
of batch file could be further reduced by 86, leaving a mere
20 batches, neither of them critical. It would also reduce
number of .sh files from 56 to 15.

This would be a great relief for Harbour maintenance and
reduce number of possible errors as well as testing scenarios
to a controllable level.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 8:34 AM, Alex Strickland <sscc@mweb.co.za> wrote:

> Viktor Szak?ts wrote:
>
>  It would also greatly help making our system a faster moving target if we
>> could drop support for non-GNU make systems.
>> This would have these consequences:
>> 1) MSVC, BCC users would need mingw-make.exe to create a build.
>> 2) MSVC, BCC GNU-make should be able to create proper .dlls.
>>
>
> I think this is a good idea.
>
> Regards
> Alex
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/ecc8112a/attachment.html
From druzus at acn.waw.pl  Tue Feb 17 06:16:46 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 06:11:44 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902161552h1569e3dew794dfa1e1fa00b48@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902161505i57655616n7e887deaf524d7e9@mail.gmail.com>
	<18d502870902161552h1569e3dew794dfa1e1fa00b48@mail.gmail.com>
Message-ID: <20090217111646.GC31422@uran.home.aster.pl>

On Tue, 17 Feb 2009, Szak?ts Viktor wrote:

Hi,

> I think we should delete make_gnu.bat from the
> repository as it's rather confusing than useful.
> mingw is best used with msys, otherwise some
> things won't work and hacks are needed to make
> work even the basic functionality. Any thoughts
> regarding this?

The last time when I was using it make_gnu.bat was working for me.
There is only one problem caused by "feature" in Windows port of
GNU make. If you have *sh.exe in the PATH then it will be used instead
of command.com/cmd.exe and we cannot detect it in our make system.
But I was using make_gnu.bat only when I did not have any *nix like
shell installed so it was not real problem for me and make_gnu.bat
was working out of the box without any hacks. It's also possible
to use it with *sh.exe in the PATH but in such case we have to
inform manually make system that such file exists, by simple:
   set SHLVL=1
before calling GNU make.
Probably using wildcard function and decoding PATH we can try to
hardcode such auto detection ourselves. I can try to add it.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb 17 06:12:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 06:12:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10280] trunk/harbour
In-Reply-To: <20090217110602.GB31422@uran.home.aster.pl>
References: <E1LYoVx-0001BT-7I@d5vjzd1.ch3.sourceforge.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E29EC6@PINK.zycie.pzu>
	<18d502870902160839l7f69767bm589a9c468e3e1ded@mail.gmail.com>
	<18d502870902160912h51d86b03n98b51f0be516a05@mail.gmail.com>
	<499A6895.8070200@mweb.co.za>
	<18d502870902170036g1744a68dt8f76f3a75ed4e428@mail.gmail.com>
	<20090217110602.GB31422@uran.home.aster.pl>
Message-ID: <18d502870902170312p5cc43d2eg7e415bb289cfced1@mail.gmail.com>

I know, it would be important for BCC and MSVC, too.
Not for me, but if we want not to lose anything on this,
we may want to deal with it. The current problem is the
double pass needed for BCC/MSVC, one without HB_DYLIB,
and one with it, for .dlls.

One solution could be to permanently use HB_DYNLIB
if someone requests a .dll enabled build for these compilers.
This means that each generated final executable will
have an export table. It doesn't cause any harm as far as
I could tell, besides some minor size increase. So in essence
we will split the BCC/MSVC builds into two flavours for
those who are bothered by this disadvantage. Official
builds can be done with HB_DYNLIB.

Assuming we have enabled HB_DYNLIB, the .dll generation
logic should still be added to the GNU-make system, and
I wonder if there is anyone wanting to do this.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 12:06 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Tue, 17 Feb 2009, Szak?ts Viktor wrote:
> > Other opinions of this topic?
> > Can .dll creation be implemented using our GNU-make system?
>
> It is in MinGW builds.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/5fcee5c0/attachment.html
From harbour.01 at syenar.hu  Tue Feb 17 06:38:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 06:38:30 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <20090217111646.GC31422@uran.home.aster.pl>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<20090211121718.GA28253@uran.home.aster.pl>
	<609353e70902110550w74525cd3n7e64857006dcda10@mail.gmail.com>
	<20090211142402.GA23446@uran.home.aster.pl>
	<18d502870902110644q73472c0dr1719c3ddd76efee9@mail.gmail.com>
	<609353e70902110803v7d6af4egf901987498775700@mail.gmail.com>
	<18d502870902110844q5acb9805g46b472b3823936cf@mail.gmail.com>
	<609353e70902161505i57655616n7e887deaf524d7e9@mail.gmail.com>
	<18d502870902161552h1569e3dew794dfa1e1fa00b48@mail.gmail.com>
	<20090217111646.GC31422@uran.home.aster.pl>
Message-ID: <18d502870902170338m50cbe38dqec24a2a56001d44d@mail.gmail.com>

Everything which make is easier to use is good. But this batch file does
very little right now, f.e. setup of
those three envvars could be done inside the make
files. Only -r seems to be meaningful, but maybe this
could also be added to the make files. If this is so we
should make it.
I had to resort to this hack to make it work:
make install -r SHELL=%COMSPEC%

It's was not always needed, maybe it's not needed now,
overall I never use mingw without msys, because it's
always a difficult task to make it work.

For example, trying it now results in this:
---
make -C common
make[2]: Entering directory `C:/harbour/source/common'
'[' is not recognized as an internal or external command,
operable program or batch file.
---

With or without SHLVL or SHELL=. Using a mingw built
make.exe.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 12:16 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Tue, 17 Feb 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > I think we should delete make_gnu.bat from the
> > repository as it's rather confusing than useful.
> > mingw is best used with msys, otherwise some
> > things won't work and hacks are needed to make
> > work even the basic functionality. Any thoughts
> > regarding this?
>
> The last time when I was using it make_gnu.bat was working for me.
> There is only one problem caused by "feature" in Windows port of
> GNU make. If you have *sh.exe in the PATH then it will be used instead
> of command.com/cmd.exe and we cannot detect it in our make system.
> But I was using make_gnu.bat only when I did not have any *nix like
> shell installed so it was not real problem for me and make_gnu.bat
> was working out of the box without any hacks. It's also possible
> to use it with *sh.exe in the PATH but in such case we have to
> inform manually make system that such file exists, by simple:
>   set SHLVL=1
> before calling GNU make.
> Probably using wildcard function and decoding PATH we can try to
> hardcode such auto detection ourselves. I can try to add it.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/a7cb8ab9/attachment.html
From guy.roussin at teledetection.fr  Tue Feb 17 06:54:20 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Feb 17 06:54:25 2009
Subject: [Harbour] Can't use hbmk ...
Message-ID: <499AA56C.9030503@teledetection.fr>

Hi,
I create a new deb package with current svn. But the package
don't include the new hbmk command (from utils).
In the package hbmk is always a link to hb-build.
Thanks.

-- 
Guy 

From harbour.01 at syenar.hu  Tue Feb 17 07:04:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 07:04:33 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <499AA56C.9030503@teledetection.fr>
References: <499AA56C.9030503@teledetection.fr>
Message-ID: <18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>

Yes, until further testing I didn't want touch the package creation files.
They still refer to hbmake,
which should be replaced with hbmk.

There is another problem, hbmk collides with
current hbmk script. The build process overwrites
the hbmk executable with the script of the same
name.

For the transition I'd like to ask group opinion on
renaming hbmk script to hbmko or hbmks. The
script should stay until hbmk works and has all
needed features (see the list in ChangeLog).

Also, I think it's time to remove some aliases
of hbmk: hbcc, hbcmp, hblnk, hb-build.

Przemek, what do think how to proceed?

Brgds,
Viktor

On Tue, Feb 17, 2009 at 12:54 PM, Guy Roussin
<guy.roussin@teledetection.fr>wrote:

> Hi,
> I create a new deb package with current svn. But the package
> don't include the new hbmk command (from utils).
> In the package hbmk is always a link to hb-build.
> Thanks.
>
> --
> Guy
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/a4f53bcb/attachment.html
From druzus at acn.waw.pl  Tue Feb 17 07:15:56 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 07:10:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <499A97C3.5040806@libero.it>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>
	<49954990.3000503@libero.it>
	<20090215173534.GA31852@uran.home.aster.pl>
	<49992866.8090806@libero.it>
	<20090216192437.GA24539@uran.home.aster.pl>
	<499A97C3.5040806@libero.it>
Message-ID: <20090217121556.GA26868@uran.home.aster.pl>

On Tue, 17 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> > Without such condition the above peace of code may never wake up all
> > threads. But there is other problem and as I can see it exists also
> > in xHarbour. It's still possible that signal will be lost and waiting
> > thread will never be woken up due to hb_threadCondWait() implementation.
> > It needs multistate semaphore like in Windows to be sure that we do not
> > lost posted event.
> > F.e. 1-st thread is waiting on some results calculated by 2-nd thread
> > in code like:
> > 
> >    hb_threadEnterCriticalSection( mutex );
> >    while( result == 0 )
> >       hb_threadCondWait( cond, mutex );
> >    hb_threadLeaveCriticalSection( mutex );
> > 
> > The second thread is making:
> >    hb_threadEnterCriticalSection( mutex );
> >    result += nDone;
> >    hb_threadLeaveCriticalSection( mutex );
> >    hb_threadCondSignal( cond );
> > 
> > in hb_threadCondWait() the mutex should be unlocked and process suspended
> > in one atomic operation. OS2 API does not give us such functionality and
> > the code like above can freeze 1-st thread forever. It may happen if
> > inside hb_threadCondWait() it executes:
> >    DosReleaseMutexSem( mutex );
> > and OS suspend the thread before executing:
> >    DosWaitEventSem( cond );
> > activating 2-nd thread. Which can lock unlocked mutex set result and
> > send signal which will be ignored because the 1-st thread has not
> > entered DosWaitEventSem() yet. The second thread finish its job and
> > terminates and the 1-st one is never woken up so our application
> > hangups. The above now can happen in xHarbour.
> I see these two comments on OS/2 sdk:
> -------------------8<-----------------
> If the semaphore is already posted when DosWaitEventSem is called, the
> function returns immediately, and the thread continues to run. Otherwise, the
> thread is blocked until the semaphore is posted.
> ------------------->8-----------------

Yes I know but the semaphor won't be posted
because inside hb_threadCondSignal() xHarbour has:

   DosPostEventSem( cond ); // it does nothing because 1-st thread
                            // haven't reached DosWaitEventSem() yet
   DosResetEventSem( cond, &ulPostCount ); // it reset the posted even't
                                           // so the event semaphore is
                                           // still close

> -------------------8<-----------------
> Unlike multiple event semaphores in a muxwait list, which are level-triggered,
> single event semaphores are edge-triggered. This means that if an event
> semaphore is posted and then reset before a waiting thread gets a chance to
> run, the semaphore is considered to be posted for the rest of that thread's
> waiting period; the thread does not have to wait for the semaphore to be
> posted again.
> ------------------->8-----------------

Yes, this is the condtion I said is necessary to be sure that all threads
waiting on even semaphore will be woken up even if other thread execute
   DosPostEventSem( cond );
   DosResetEventSem( cond, &ulPostCount );
before they start execution. The above confirms it. Thank you.

> So the thread should not block and the event does not get lost.

Unfortunately not because the 1-st thread haven't reached DosWaitEventSem()
function and when it's resumed the semaphore is already reset by the same
thread which also called DosPostEventSem() so it enters not posted event
semaphore and is blocked.

> Do you think this answers your questions?

See above. Such code potentially causes that signal will be lost and
waiting thread will be frozen forever. It's not good solution. In general
such API is not good solution because it always causes race condition so
can be used only in places where such race condition is unimportant.
The problem is caused by the fact that there is not good place to execute
DosResetEventSem().
It's a serious problem for us because to resolve it well I should implement
full waiting queue or at least introduce few additional semaphores.
replicating the OS job. It may cause serious performance overhead.
I can also try introduce additional counters with posted events and
reset semaphore when such counter reach 0 but as I can see it only
reduce the problem (in our case seems that it may be enough for HVM
code) but it also isn't good solution because it does not eliminate
starvation effect which can be exploited by the fact that DosPostEventSem()
works like a broadcast signal waking up all threads. With such solution
it's still possible that only one thread will "eat" all posted events
and reset the semaphore before some threads like the 1-st one in the
example above will be resumed. But here we are sure that at least one
thread will be woken up so if all threads are waiting with the same
condition nothing wrong will happen. The problem appears only when
the conditions are different and threads which can continue execution
will not be woken up. The only one solution I see here is introducing
second event semaphore and maybe also event queue if it will not be
enough. I have to rethink it yet and build a model to not miss sth
important.
Meanwhile I can commit modification which will introduce simple counters
to reduce the problem from dead lock to starvation effect.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Feb 17 07:13:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 07:13:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10304] trunk/harbour
Message-ID: <E1LZOp3-0006Bk-J1@3kljzd1.ch3.sourceforge.com>

Revision: 10304
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10304&view=rev
Author:   vszakats
Date:     2009-02-17 12:13:08 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 13:12 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  - contrib/hbmysql/utils/hbmk.bat
  + contrib/hbmysql/utils/hbmysql.hbp
  - contrib/hbblat/tests/hbmk.bat
  + contrib/hbblat/tests/hbblat.hbp
    * Switched from WIN/DOS specific to .hbp.

  - contrib/hbgd/tests/hbmk_gnu.sh
  * contrib/hbgd/tests/hbgd.hbp
    * Switched from *NIX specific to .hbp.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbgd/tests/hbgd.hbp

Added Paths:
-----------
    trunk/harbour/contrib/hbblat/tests/hbblat.hbp
    trunk/harbour/contrib/hbmysql/utils/hbmysql.hbp

Removed Paths:
-------------
    trunk/harbour/contrib/hbblat/tests/hbmk.bat
    trunk/harbour/contrib/hbgd/tests/hbmk_gnu.sh
    trunk/harbour/contrib/hbmysql/utils/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Tue Feb 17 07:19:06 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb 17 07:19:11 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
Message-ID: <9257026e0902170419p5e118aabtb7fa5088ac01640a@mail.gmail.com>

On Tue, Feb 17, 2009 at 1:04 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> There is another problem, hbmk collides with
> current hbmk script. The build process overwrites
> the hbmk executable with the script of the same
> name.
> For the transition I'd like to ask group opinion on
> renaming hbmk script to hbmko or hbmks. The
> script should stay until hbmk works and has all
> needed features (see the list in ChangeLog).
> Also, I think it's time to remove some aliases
> of hbmk: hbcc, hbcmp, hblnk, hb-build.

I rely on those hb* script for all my development, please don't touch them.

best regards,
Lorenzo
From sscc at mweb.co.za  Tue Feb 17 07:21:51 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Feb 17 07:22:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <20090217121556.GA26868@uran.home.aster.pl>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>	<49954990.3000503@libero.it>	<20090215173534.GA31852@uran.home.aster.pl>	<49992866.8090806@libero.it>	<20090216192437.GA24539@uran.home.aster.pl>	<499A97C3.5040806@libero.it>
	<20090217121556.GA26868@uran.home.aster.pl>
Message-ID: <499AABDF.2000906@mweb.co.za>

Does

ftp://ftp.netlabs.org/pub/pthreads/

from

http://www.netlabs.org

help?

Regards
Alex
From harbour.01 at syenar.hu  Tue Feb 17 07:25:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 07:25:16 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <9257026e0902170419p5e118aabtb7fa5088ac01640a@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<9257026e0902170419p5e118aabtb7fa5088ac01640a@mail.gmail.com>
Message-ID: <18d502870902170425s2c37797al97efaedcb1a04667@mail.gmail.com>

Hi Lorenzo,


> > There is another problem, hbmk collides with
> > current hbmk script. The build process overwrites
> > the hbmk executable with the script of the same
> > name.
> > For the transition I'd like to ask group opinion on
> > renaming hbmk script to hbmko or hbmks. The
> > script should stay until hbmk works and has all
> > needed features (see the list in ChangeLog).
> > Also, I think it's time to remove some aliases
> > of hbmk: hbcc, hbcmp, hblnk, hb-build.
>
> I rely on those hb* script for all my development, please don't touch them.


Please start to update your script to point to hbmk.
They are all the same, under different names, you just
have to swap hbcc to hbmk, etc. Search and replace.

gsar -o -shbcc -rhbmk *.sh
gsar -o -shblnk -rhbmk *.sh
gsar -o -shb-build -rhb-build *.sh

And since the goal is to have one common hbmk for all
platforms, you should prepare for it, but the intention is
to stay as compatible as possible.

Brgdsm
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/f1818b16/attachment.html
From druzus at acn.waw.pl  Tue Feb 17 07:30:37 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 07:25:35 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
Message-ID: <20090217123037.GA26465@uran.home.aster.pl>

On Tue, 17 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> Yes, until further testing I didn't want touch the package creation files.
> They still refer to hbmake,
> which should be replaced with hbmk.
> There is another problem, hbmk collides with
> current hbmk script. The build process overwrites
> the hbmk executable with the script of the same
> name.
> For the transition I'd like to ask group opinion on
> renaming hbmk script to hbmko or hbmks. The
> script should stay until hbmk works and has all
> needed features (see the list in ChangeLog).
> Also, I think it's time to remove some aliases
> of hbmk: hbcc, hbcmp, hblnk, hb-build.
> Przemek, what do think how to proceed?

It will break all my projects and also 3-rd party ones which uses them.
The naming convention is strict and I can use:
   hb* for harbour native compiler
   hbw* for harbour windows cross builds
   hbce* for harbour windows-ce cross builds
   xhb* for xhabrbour builds
   xhbw* for xhabrbour windows cross builds
xharbour does not support win-ce so xhbce* scripts do not work.
I need all of them and they can perfectly hide the installation
differences and configuration. F.e. look at xHGtk project and
Makefile.scr. One simple make file which can be used in all
platforms to create different builds without setting any additional
environment variables - only HB_PREF to chose the build type.
Look also at make_gtk.sh:

# ---------------------------------------------------------------
# simple script to build XHGTK binaries using [x]hb*scripts
# to hide platform differences
# By default they looks for native Harbour then xHarbour scripts
# It's possible to force build type using as 1-st parametr:
#     -hb      # Harbour platform native binaries
#     -hbw     # Harbour Win32 cross build binaries (MinGW32)
#     -hbce    # Harbour WinCE cross build binaries (MinGW32-CE)
#     -xhb     # xHarbour platform native binaries
#     -xhbw    # Harbour Win32 cross build binaries (MinGW32)
#     -xhbce   # Harbour WinCE cross build binaries (MinGW32-CE)

It's really simple solution which safe me a lot of time working
on different Harbour projects.
As long as hbmk.prg will not support whole hb* scripts functionality
then please leave the scripts with original names.
To avoid name conflict we can rename hbmk.prg - it's not widely used
tool yet so it should not be a problem now.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb 17 07:40:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 07:41:02 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <20090217123037.GA26465@uran.home.aster.pl>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
Message-ID: <18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>

Hi Przemek,


> It will break all my projects and also 3-rd party ones which uses them.
> The naming convention is strict and I can use:
>   hb* for harbour native compiler
>   hbw* for harbour windows cross builds
>   hbce* for harbour windows-ce cross builds
>   xhb* for xhabrbour builds
>   xhbw* for xhabrbour windows cross builds


I don't see why these names need separate hbcc, hbcmp,
hblnk and hb-build scripts. The 'hb' prefix would stay,
in Harbour we don't have hbw, nor hbce, but we can
create equivalents (even though I'd be personally happier with
more generic solution). Anyhow I still don't see how this is
related to these extra aliases. I have no intention to remove
hb prefix.


> Look also at make_gtk.sh:


Swapping hbcmp to hbmk seems to solve the problem,
if xhb has hbmk as well, if not it takes probably a few lines
more to do the automatic detection.


> It's really simple solution which safe me a lot of time working
> on different Harbour projects.
> As long as hbmk.prg will not support whole hb* scripts functionality
> then please leave the scripts with original names.
> To avoid name conflict we can rename hbmk.prg - it's not widely used
> tool yet so it should not be a problem now.


>From your words it looks hbmk.prg is the sole effort of mine
without your support or too much chance to get grounds due
to constraints posed by external project details, even though
the new tool is meant to be a plugin replacement. And this
makes it practically impossible to achieve any kind of simplification
here.

If this is the case I won't touch hbmk.prg anymore.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/7f25d92c/attachment.html
From sscc at mweb.co.za  Tue Feb 17 07:48:12 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Feb 17 07:48:22 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
Message-ID: <499AB20C.1080406@mweb.co.za>

Viktor Szak?ts wrote:

> If this is the case I won't touch hbmk.prg anymore.

They do different things although they are symlinks:

"xhbcc" is a wrapper to the harbour compiler only. It only sets 
environment
variables. The result of its work is a C file.

Use "xhbcmp" exactly as you would use the harbour compiler itself.
The main difference with xhbcmp is that it results in an object file,
not a C file that needs compiling down to an object. xhbcmp also
ensures that the harbour include directory is seen by the harbour 
compiler.

"xhblnk" simply takes a list of object files and links them together
with the harbour virtual machine and run-time library to produce an
executable. The executable will be given the basename of the first object
file if not directly set by the "-o" command line switch.

"xhbmk" tries to produce an executable from your .prg file. It's a simple
equivalent of cl.bat from the CA-Clipper distribution.

Regards
Alex
From druzus at acn.waw.pl  Tue Feb 17 08:09:07 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 08:04:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <499AABDF.2000906@mweb.co.za>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>
	<49954990.3000503@libero.it>
	<20090215173534.GA31852@uran.home.aster.pl>
	<49992866.8090806@libero.it>
	<20090216192437.GA24539@uran.home.aster.pl>
	<499A97C3.5040806@libero.it>
	<20090217121556.GA26868@uran.home.aster.pl>
	<499AABDF.2000906@mweb.co.za>
Message-ID: <20090217130907.GA6135@uran.home.aster.pl>

On Tue, 17 Feb 2009, Alex Strickland wrote:
> Does
> ftp://ftp.netlabs.org/pub/pthreads/
> from
> http://www.netlabs.org
> help?

Have you look at implementation?
pthread_cond_wait() =>
         WaitEventSem((*cond)->c_event,SEM_INDEFINITE_WAIT);
pthread_cond_signal =>
         DosPostEventSem((*cond)->c_event);
pthread_cond_broadcast =>
         while (i--) rc = DosPostEventSem((*cond)->c_event);

and DosRestEventSem() is never executed.
It's exactly what I implemented for Harbour. Looks that I'm not
alone in interpretation of OS2 documentation. Just simply it's
hard to believe that official API cannot be used without race
conditions. This code is wrong because it does not freeze the
thread on even semaphore. It works just like Harbour was working
in OS2 builds but waiting on signal variable is in active loop
which consume CPU and fixing it by simple introducing DosRestEventSem()
without additional synchronization mechanism creates anomalies which may
cause dead lock due to potentially lost signal or starvation effect.
Looks that we have no choice and we will have to implement safe
condition variables ourselves. But I cannot say now how expensive
it will be in user space. AFAIR OS2 has function to suspend/resume
threads and probably I will have to use them.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb 17 08:23:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 08:24:03 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <499AB20C.1080406@mweb.co.za>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
Message-ID: <18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>

Thanks Alex, I forgot about these details.


> They do different things although they are symlinks:
>
> "xhbcc" is a wrapper to the harbour compiler only. It only sets environment
> variables. The result of its work is a C file.


I'll add support for this, by hbmk switch '-cc'.

so hbcc script shall be: 'hbmk -cc $*'


> Use "xhbcmp" exactly as you would use the harbour compiler itself.
> The main difference with xhbcmp is that it results in an object file,
> not a C file that needs compiling down to an object. xhbcmp also
> ensures that the harbour include directory is seen by the harbour compiler.


I'll add support for this too, by hbmk switch '-cmp'.

so hbcmp script shall be: 'hbmk -cmp $*'


> "xhblnk" simply takes a list of object files and links them together
> with the harbour virtual machine and run-time library to produce an
> executable. The executable will be given the basename of the first object
> file if not directly set by the "-o" command line switch.


Given that hbmk already accepts a pure list obj objects,
this doesn't need a separate switch. hbmk will now consider
obj filename too as executable name, if found before other
input files.


> "xhbmk" tries to produce an executable from your .prg file. It's a simple
> equivalent of cl.bat from the CA-Clipper distribution.


Default mode of hbmk.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/cf34b527/attachment-0001.html
From info at fsgiudice.com  Tue Feb 17 08:50:47 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Feb 17 08:51:38 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>	<20090217123037.GA26465@uran.home.aster.pl>	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>	<499AB20C.1080406@mweb.co.za>
	<18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>
Message-ID: <499AC0B7.2090509@fsgiudice.com>

Hi Viktor,

Il 17/02/2009 14.23, Viktor Szak?ts ha scritto:
> Thanks Alex, I forgot about these details.
>  
> 
>     They do different things although they are symlinks:

I know that there is a lot of work already did, but could you consider, 
as there is actually a problem of name overlapping, to rename current 
hbmk.prg to hbmake.prg and create hbmk.bat that redirects calls to 
hbmake.prg. So, until this (I found very useful) tool will be widely 
accepted and tested, both gcc and non-gcc version can be used in parallel ?
In this case you can also add hbcc.bat, hbcmp.bat and hblnk.bat so it 
will full compatible with gcc version.

My 2 cents

Best regards

Francesco
From vszakats at users.sourceforge.net  Tue Feb 17 08:55:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 08:55:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10305] trunk/harbour
Message-ID: <E1LZQQ9-00033z-RZ@dn4whf1.ch3.sourceforge.com>

Revision: 10305
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10305&view=rev
Author:   vszakats
Date:     2009-02-17 13:55:33 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 14:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added support for -cc switch. This will stop hbmk after creating
      the Harbour .c outputs to emulate hbcc tool behaviour.
      'hbcc' -> 'hbmk -cc $*'
    + Added support for -cmp switch. This will stop hbmk after creating
      the object outputs from the C compiler.
      'hbcmp' -> 'hbmk -cmp $*'
    + From now on objects file passed on the command line will also
      be considered as final executable name if passed before the other
      files.
    * Tweaked internals to cope with some new combinations, like
      passing object only for a compiler having separate C compiler
      and link phases. Launching C compiler even if there are only
      object files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Feb 17 09:08:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 09:08:47 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <499AC0B7.2090509@fsgiudice.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>
	<499AC0B7.2090509@fsgiudice.com>
Message-ID: <609353e70902170608o6c7a2ba1t33a81d3266f6022f@mail.gmail.com>

As command line better name small
I propose hbm.prg (and hbmg the gui ui possible version)

2009/2/17 Francesco Saverio Giudice <info@fsgiudice.com>:
> Hi Viktor,
>
> Il 17/02/2009 14.23, Viktor Szak?ts ha scritto:
>>
>> Thanks Alex, I forgot about these details.
>>
>>    They do different things although they are symlinks:
>
> I know that there is a lot of work already did, but could you consider, as
> there is actually a problem of name overlapping, to rename current hbmk.prg
> to hbmake.prg and create hbmk.bat that redirects calls to hbmake.prg. So,
> until this (I found very useful) tool will be widely accepted and tested,
> both gcc and non-gcc version can be used in parallel ?
> In this case you can also add hbcc.bat, hbcmp.bat and hblnk.bat so it will
> full compatible with gcc version.
>
> My 2 cents
>
> Best regards
>
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From mbelgrano at deltain.it  Tue Feb 17 09:18:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 09:18:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10305] trunk/harbour
In-Reply-To: <E1LZQQ9-00033z-RZ@dn4whf1.ch3.sourceforge.com>
References: <E1LZQQ9-00033z-RZ@dn4whf1.ch3.sourceforge.com>
Message-ID: <609353e70902170618w763666cdj9184d6f9bcaed65d@mail.gmail.com>

Compliment this is FAL development service
FAL is Faster As Light

2009/2/17  <vszakats@users.sourceforge.net>:
> Revision: 10305
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10305&view=rev
> Author:   vszakats
> Date:     2009-02-17 13:55:33 +0000 (Tue, 17 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-17 14:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * utils/hbmk/hbmk.prg
>    + Added support for -cc switch. This will stop hbmk after creating
>      the Harbour .c outputs to emulate hbcc tool behaviour.
>      'hbcc' -> 'hbmk -cc $*'
>    + Added support for -cmp switch. This will stop hbmk after creating
>      the object outputs from the C compiler.
>      'hbcmp' -> 'hbmk -cmp $*'
>    + From now on objects file passed on the command line will also
>      be considered as final executable name if passed before the other
>      files.
>    * Tweaked internals to cope with some new combinations, like
>      passing object only for a compiler having separate C compiler
>      and link phases. Launching C compiler even if there are only
>      object files.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/utils/hbmk/hbmk.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Tue Feb 17 09:22:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 09:22:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10306] trunk/harbour
Message-ID: <E1LZQpy-0006BN-4r@bj8yhf1.ch3.sourceforge.com>

Revision: 10306
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10306&view=rev
Author:   vszakats
Date:     2009-02-17 14:22:13 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 15:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added support for multiple -L (lib path) options.
    + Added support for libpaths= option in .hbp files.
    ! Fix/cleanup to help screen.
    ! Fixed handling of libs specified in an explicitly passed
      .hbp file due to typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Tue Feb 17 09:30:13 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Feb 17 09:30:24 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>	<20090217123037.GA26465@uran.home.aster.pl>	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>	<499AB20C.1080406@mweb.co.za>
	<18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>
Message-ID: <499AC9F5.5020402@mweb.co.za>

Viktor Szak?ts wrote:

> I'll add support for this, by hbmk switch '-cc'.

Perhaps to better emulate the current shell script it could check 
argv[0] for the name that defines its expected behaviour. When it is 
ready to replace the script then the symlinks will still work on 
Unix/Linux. On Windows we will have to put up with a few extra 
executables which are identical. I think disk space is the last 
problem on people's minds these days.

Regards
Alex


From vailtom at gmail.com  Tue Feb 17 09:30:45 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Feb 17 09:30:49 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <609353e70902170608o6c7a2ba1t33a81d3266f6022f@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>
	<499AC0B7.2090509@fsgiudice.com>
	<609353e70902170608o6c7a2ba1t33a81d3266f6022f@mail.gmail.com>
Message-ID: <531d7a750902170630r2bd01efcp6d18957a61cd2253@mail.gmail.com>

With the name "hbmk" the shell scripts (which probably already exist)
for Linux and possibly also for Windows can be maintained without
further inconvenience.

This, I believe.

2009/2/17 Massimo Belgrano <mbelgrano@deltain.it>:
> As command line better name small
> I propose hbm.prg (and hbmg the gui ui possible version)
>
> 2009/2/17 Francesco Saverio Giudice <info@fsgiudice.com>:
>> Hi Viktor,
>>
>> Il 17/02/2009 14.23, Viktor Szak?ts ha scritto:
>>>
>>> Thanks Alex, I forgot about these details.
>>>
>>>    They do different things although they are symlinks:
>>
>> I know that there is a lot of work already did, but could you consider, as
>> there is actually a problem of name overlapping, to rename current hbmk.prg
>> to hbmake.prg and create hbmk.bat that redirects calls to hbmake.prg. So,
>> until this (I found very useful) tool will be widely accepted and tested,
>> both gcc and non-gcc version can be used in parallel ?
>> In this case you can also add hbcc.bat, hbcmp.bat and hblnk.bat so it will
>> full compatible with gcc version.
>>
>> My 2 cents
>>
>> Best regards
>>
>> Francesco
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From vszakats at users.sourceforge.net  Tue Feb 17 09:45:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 09:45:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10307] trunk/harbour
Message-ID: <E1LZRCV-0001tF-OT@3kljzd1.ch3.sourceforge.com>

Revision: 10307
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10307&view=rev
Author:   vszakats
Date:     2009-02-17 14:45:31 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 15:45 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    + Added autodetection of -cc, -cmp options based on argv[0].

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 17 09:47:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 09:47:27 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <499AC9F5.5020402@mweb.co.za>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>
	<499AC9F5.5020402@mweb.co.za>
Message-ID: <18d502870902170647o21a9796y534236ffb3318c46@mail.gmail.com>

Hi Alex,


> Perhaps to better emulate the current shell script it could check argv[0]
> for the name that defines its expected behaviour. When it is ready to
> replace the script then the symlinks will still work on Unix/Linux. On
> Windows we will have to put up with a few extra executables which are
> identical. I think disk space is the last problem on people's minds these
> days.


On Windows I think users should use the command line switches.
At least that's the most common way on this platform, and there is
no compatibility concern here. Of course we may add wrapper
batches, to offer a similar environment to *nixes. Best would be if
the GNU-make would generate these (instead of storing them on
SVN), to be even more on par with *nixes.

I'll implement the argv[0] trick, many thanks for the suggestion.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/9bcac6c2/attachment.html
From harbour.01 at syenar.hu  Tue Feb 17 09:50:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 09:51:00 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <499AC0B7.2090509@fsgiudice.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>
	<499AC0B7.2090509@fsgiudice.com>
Message-ID: <18d502870902170650j584d503fna962634826a4447d@mail.gmail.com>

Hi Francesco,
Could be done. But I expect a long parallel development
if we seriously settle with both. The other thing is that
hbmk.exe is a replacement for hbmk.bat for Windows/DOS
world, not for hbmake.exe, which worked differently. Given
this, maybe it's better to rename it in the GNU make system
to hbmk2. Albeit this isn't precise either, as this makes
life difficult for MinGW users (myself included)... Maybe we
should rename it conditionally for linux/darwin users. I don't
know how to do this though. I'll check.

The so far icy reception of hbmk / silence from Linux
users isn't very reassuring on any of the issues/comments
I've made recently. Yet I think we should clear these up
to create an easier to understand platform in general,
because right now with our two parallel and overlapping
make systems, plus our two parallel and overlapping
make tools isn't good for anyone, especially not for
potential users. In fact it's much worse now with a
second more sophisticated tool and additional file formats.
I think in the case of make tool we can do the integration
without losing any values, and least we should try. My
impression was that this is general need for everyone.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 2:50 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Viktor,
>
> Il 17/02/2009 14.23, Viktor Szak?ts ha scritto:
>
>> Thanks Alex, I forgot about these details.
>>
>>    They do different things although they are symlinks:
>>
>
> I know that there is a lot of work already did, but could you consider, as
> there is actually a problem of name overlapping, to rename current hbmk.prg
> to hbmake.prg and create hbmk.bat that redirects calls to hbmake.prg. So,
> until this (I found very useful) tool will be widely accepted and tested,
> both gcc and non-gcc version can be used in parallel ?
> In this case you can also add hbcc.bat, hbcmp.bat and hblnk.bat so it will
> full compatible with gcc version.
>
> My 2 cents
>
> Best regards
>
> Francesco
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/7d920cca/attachment-0001.html
From mbelgrano at deltain.it  Tue Feb 17 10:21:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 10:21:43 2009
Subject: [Harbour] Suggestion for a file manager written in harbour
Message-ID: <609353e70902170721n1233ba06i6ee1dd0f6fdb4f94@mail.gmail.com>

I am searching a harbour project of very simple multiplatform file
manager written in harbour (prg)
Have anyone similar experiences?
Something similar Norton commander or Winfile also with navigation
only capability
IMO Will be an interesting project for a multiplatform project

-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Tue Feb 17 10:31:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 10:31:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10308] trunk/harbour
Message-ID: <E1LZRud-0008KG-RD@bj8yhf1.ch3.sourceforge.com>

Revision: 10308
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10308&view=rev
Author:   vszakats
Date:     2009-02-17 15:31:06 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 16:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk.prg
    * Minor changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 17 10:36:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 10:36:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10309] trunk/harbour
Message-ID: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>

Revision: 10309
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10309&view=rev
Author:   vszakats
Date:     2009-02-17 15:36:34 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 16:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * make_b32.mak
   * make_vc.mak
   * common.mak
   + bin/hbmk.bat
   * utils/hbmk/Makefile
   - utils/hbmk/hbmk.prg
   + utils/hbmk/hbmk2.prg
    + Renamed hbmk to hbmk2 to avoid collision with hbmk script,
      and to allow parallel testing.
    + Readded hbmk.bat to redirect to hbmk2.exe.
      This will be removed in the future. Win9x/OS/2 isn't 
      supported with this batch file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/common.mak
    trunk/harbour/make_b32.mak
    trunk/harbour/make_vc.mak
    trunk/harbour/utils/hbmk/Makefile

Added Paths:
-----------
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/utils/hbmk/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/utils/hbmk/hbmk.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 17 10:42:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 10:43:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10310] trunk/harbour
Message-ID: <E1LZS66-00008m-DQ@bj8yhf1.ch3.sourceforge.com>

Revision: 10310
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10310&view=rev
Author:   vszakats
Date:     2009-02-17 15:42:57 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 16:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * harbour-win-spec
  * harbour-wce-spec
  * mpkg_tgz.sh
  * harbour.spec
    + Replaced hbmake with hbmk2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_tgz.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Tue Feb 17 10:44:33 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Feb 17 10:46:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10309] trunk/harbour
In-Reply-To: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>
References: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>
Message-ID: <499ADB61.7020401@fsgiudice.com>

Hi Viktor,

faster than my hands :-)
I was just writing about it.
It seems to me that it is a good choice for the moment.
I think that you could also add hbcc.bat, hbcmp.bat and hblnk.bat to 
route options in hidden way and have same names of linux version.
If do you think that it could be useful.

Best regards

Francesco

Il 17/02/2009 16.36, vszakats@users.sourceforge.net ha scritto:
> 2009-02-17 16:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
From info at fsgiudice.com  Tue Feb 17 10:46:40 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Feb 17 10:47:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10309] trunk/harbour
In-Reply-To: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>
References: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>
Message-ID: <499ADBE0.2050203@fsgiudice.com>

Hi Viktor,

faster than my hands :-)
I was just writing about it.
It seems to me that it is a good choice for the moment.
I think that you could also add hbcc.bat, hbcmp.bat and hblnk.bat to 
route options in hidden way and have same names of linux version.
If do you think that it could be useful.

Best regards

Francesco

Il 17/02/2009 16.36, vszakats@users.sourceforge.net ha scritto:
> 2009-02-17 16:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
From mbelgrano at deltain.it  Tue Feb 17 10:50:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 10:50:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10309] trunk/harbour
In-Reply-To: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>
References: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>
Message-ID: <609353e70902170750m7e0cda68m90470e7665df2367@mail.gmail.com>

Is not better a small name like bhm.prg

2009/2/17  <vszakats@users.sourceforge.net>:
> Revision: 10309
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10309&view=rev
> Author:   vszakats
> Date:     2009-02-17 15:36:34 +0000 (Tue, 17 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-17 16:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * make_b32.mak
>   * make_vc.mak
>   * common.mak
>   + bin/hbmk.bat
>   * utils/hbmk/Makefile
>   - utils/hbmk/hbmk.prg
>   + utils/hbmk/hbmk2.prg
>    + Renamed hbmk to hbmk2 to avoid collision with hbmk script,
>      and to allow parallel testing.
>    + Readded hbmk.bat to redirect to hbmk2.exe.
>      This will be removed in the future. Win9x/OS/2 isn't
>      supported with this batch file.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/common.mak
>    trunk/harbour/make_b32.mak
>    trunk/harbour/make_vc.mak
>    trunk/harbour/utils/hbmk/Makefile
>
> Added Paths:
> -----------
>    trunk/harbour/bin/hbmk.bat
>    trunk/harbour/utils/hbmk/hbmk2.prg
>
> Removed Paths:
> -------------
>    trunk/harbour/utils/hbmk/hbmk.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From mbelgrano at deltain.it  Tue Feb 17 10:55:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 10:55:14 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902161356h36678d27oe55bf1f1bf082330@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<609353e70902112325u4e337f8cj3d91d90e53f0867c@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
	<18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
	<609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>
	<18d502870902161026j6f2d5011kd270339e892a1be3@mail.gmail.com>
	<609353e70902161242vb5356bj5265f1bb701ee8e9@mail.gmail.com>
	<18d502870902161254v67f1eb61ybb172c170c78c38b@mail.gmail.com>
	<609353e70902161356h36678d27oe55bf1f1bf082330@mail.gmail.com>
Message-ID: <609353e70902170755t7c4ca821mfd2c591a644ee37@mail.gmail.com>

For Documentation

Using VIsual C  2008 non sp1 you must download sdk from
http://www.microsoft.com/downloads/details.aspx?familyid=30402623-93ca-479a-867c-04dc45164f5b&displaylang=en

Using visual C 2008 sp1 you must download sdk from
http://www.microsoft.com/downloads/details.aspx?familyid=59EC6EC3-4273-48A3-BA25-DC925A45584D&displaylang=en

2009/2/16 Massimo Belgrano <mbelgrano@deltain.it>:
> I have download svn in a new directory
> renamed my harbour to old and new directory to harbour
> compiled and now works!
>
> The problem was  that i have some old files harbour/source/pp/pptable.c
> IMO  that problem will be due by fact that use notepad ++ that will be
> open during some update and lock certain files
>
> Thanks to Viktor & Przemyslaw!
>
> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>> It's almost good. The problem is that your sources are
>> mixed up, and/or you didn't do a proper clean. It's also
>> possible you have a slightly older harbour.exe in the way.
>> Pls download/checkout the sources to an empty dir and
>> retry with the same script.
>> svn co
>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>>
>> Brgds,
>> Viktor
>>
>> On Mon, Feb 16, 2009 at 9:42 PM, Massimo Belgrano <mbelgrano@deltain.it>
>> wrote:
>>>
>>> I not able to compile also with your script
>>> In attached my make_vc.log zipped
>>>
>>> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> > This is enough:
>>> > ==============
>>> >>
>>> >> C:
>>> >> CD \harbour
>>> >> SET HB_VISUALC_VER=90
>>> >>
>>> >> SET HB_INSTALL_PREFIX=C:\harbour
>>> >> CALL "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>>> >>
>>> >> CALL MAKE_VC CLEAN
>>> >> CALL MAKE_VC
>>> >> CALL MAKE_VC INSTALL
>>> >
>>> > ==============
>>> >
>>> >>
>>> >> Now i don't have c:\harbour\hbmk.exe
>>> >> have follow warning in make of contrib
>>> >> Entering: gtwvg
>>> >> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
>>> >> 9.0\VC\BIN
>>> >> \cl.exe"' : codice restituito '0x2'
>>> >> Stop.
>>> >> ...
>>> >> Entering: hbct
>>> >> No code generated.
>>> >> NMAKE : fatal error U1077: '..\..\bin\vc\\harbour.exe' : codice
>>> >> restituito
>>> >> '0x1'
>>> >
>>> > It is very strange because command above don't even
>>> > build the contribs. Also in these errors the HB_BIN_INSTALL
>>> > path is clearly not set like in your script. Don't mix hbmk.exe
>>> > here, it's not needed to build Harbour.
>>> > Brgds,
>>> > Viktor
>>> >
>>> > _______________________________________________
>>> > Harbour mailing list
>>> > Harbour@harbour-project.org
>>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>>> >
>>> >
>>>
>>>
>>>
>>> --
>>> Massimo Belgrano
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
>
> --
> Massimo Belgrano
From harbour.01 at syenar.hu  Tue Feb 17 10:56:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 10:56:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10310] trunk/harbour
In-Reply-To: <E1LZS66-00008m-DQ@bj8yhf1.ch3.sourceforge.com>
References: <E1LZS66-00008m-DQ@bj8yhf1.ch3.sourceforge.com>
Message-ID: <18d502870902170756s738e21f2h485add507b703842@mail.gmail.com>

Hi everyone, particularly *nix users,

After these changes, it's possible to use the new hbmk under the name hbmk2.
I hope this effectively cleared the
way from trying and testing it.

Be aware that it was never tested in Linux yet, so bumps
are expected at this point.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 4:42 PM, <vszakats@users.sourceforge.net> wrote:

> Revision: 10310
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10310&view=rev
> Author:   vszakats
> Date:     2009-02-17 15:42:57 +0000 (Tue, 17 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-17 16:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * harbour-win-spec
>  * harbour-wce-spec
>  * mpkg_tgz.sh
>  * harbour.spec
>    + Replaced hbmake with hbmk2.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/harbour-wce-spec
>    trunk/harbour/harbour-win-spec
>    trunk/harbour/harbour.spec
>    trunk/harbour/mpkg_tgz.sh
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/97e6d064/attachment.html
From M.Horodyski at pzuzycie.com.pl  Tue Feb 17 10:58:17 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Feb 17 10:58:24 2009
Subject: [Harbour] Errors in last builds.
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE42@PINK.zycie.pzu>

Errors in make_gnu.bat build.

On screen :

C:\harbour>make_gnu.bat clean          
                                       
C:\harbour>make_gnu.bat                
make[3]: [hbrun.exe] Error 1 (ignored) 
make[3]: [hbtest.exe] Error 1 (ignored)
make[3]: [hbi18n.exe] Error 1 (ignored)
make[3]: [hbdoc.exe] Error 1 (ignored) 
make[3]: [hbmake.exe] Error 1 (ignored)
make[3]: [hbmk.exe] Error 1 (ignored)  

And 2 parts from make_gnu.log file :

...
Warning! W1108: file C:\WATCOM\binw\wlsystem.lnk: line(435): system
dos16m defined more than once
loading object files
searching libraries
Error! E2028: hb_forceLinkMainWin_ is an undefined reference
Warning! W1023: no starting address found, using 00401000
creating a Windows NT character-mode executable
file ../../../../lib/w32/owatcom/hbvm.lib(C:\harbour\source\vm\hvm.c):
undefined symbol hb_forceLinkMainWin_
make[3]: Leaving directory `C:/harbour/utils/hbrun/w32/owatcom'
...
Warning! W1108: file C:\WATCOM\binw\wlsystem.lnk: line(435): system
dos16m defined more than once
loading object files
searching libraries
Error! E2028: hb_forceLinkMainWin_ is an undefined reference
Warning! W1023: no starting address found, using 00401000
creating a Windows NT character-mode executable
file ../../../../lib/w32/owatcom/hbvm.lib(C:\harbour\source\vm\hvm.c):
undefined symbol hb_forceLinkMainWin_
make[3]: Leaving directory `C:/harbour/utils/hbtest/w32/owatcom'
...


What make I bad ?

Regards,
Marek Horodyski
From M.Horodyski at pzuzycie.com.pl  Tue Feb 17 11:00:49 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Feb 17 11:00:55 2009
Subject: [Harbour] Errors in last builds (install).
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE43@PINK.zycie.pzu>

And after install :

C:\harbour>make_gnu.bat install        
make[1]: *** [install] Error 1         
make: *** [include.inst] Error 2       

What is wrong ?
Regards,
Marek Horodyski
From mbelgrano at deltain.it  Tue Feb 17 11:08:14 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 11:08:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10309] trunk/harbour
In-Reply-To: <499ADBE0.2050203@fsgiudice.com>
References: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>
	<499ADBE0.2050203@fsgiudice.com>
Message-ID: <609353e70902170808q7258a3f9nd754c152caae41ba@mail.gmail.com>

I still prefer a short name like hbm


2009/2/17 Francesco Saverio Giudice <info@fsgiudice.com>:
> Hi Viktor,
>
> faster than my hands :-)
> I was just writing about it.
> It seems to me that it is a good choice for the moment.
> I think that you could also add hbcc.bat, hbcmp.bat and hblnk.bat to route
> options in hidden way and have same names of linux version.
> If do you think that it could be useful.
>
> Best regards
>
> Francesco
>
> Il 17/02/2009 16.36, vszakats@users.sourceforge.net ha scritto:
>>
>> 2009-02-17 16:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From mbelgrano at deltain.it  Tue Feb 17 11:13:00 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 11:13:05 2009
Subject: [Harbour] Errors in last builds (install).
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE43@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE43@PINK.zycie.pzu>
Message-ID: <609353e70902170813x165c3418t4c66d32c54c7ec2f@mail.gmail.com>

set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
set HB_ARCHITECTURE=win
set HB_COMPILER=mingw
set HB_USER_LDFLAGS=-s
CD \HARBOUR
sh make_gnu.sh clean install


2009/2/17 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
> And after install :
>
> C:\harbour>make_gnu.bat install
> make[1]: *** [install] Error 1
> make: *** [include.inst] Error 2
>
> What is wrong ?
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From mbelgrano at deltain.it  Tue Feb 17 11:19:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 11:19:41 2009
Subject: [Harbour] harbour project group on facebook
Message-ID: <609353e70902170819v3bd790cfy81c01a49139b187a@mail.gmail.com>

I invite everybody to join harbour group on facebook

http://www.facebook.com/groups/edit.php?customize&gid=48795263775#/group.php?gid=48795263775

This is a usergroup for people who apreciate Harbour & Clipper
Harbour is a modern, fast, open source, computer programming language.
It is a Clipper-compatible compiler which is cross-platform

I invite everybody post as photo screenshot of application made with harbour!
Post library used and little description of application
So we have a big collection of this works

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Feb 17 11:20:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 11:20:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10309] trunk/harbour
In-Reply-To: <609353e70902170808q7258a3f9nd754c152caae41ba@mail.gmail.com>
References: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>
	<499ADBE0.2050203@fsgiudice.com>
	<609353e70902170808q7258a3f9nd754c152caae41ba@mail.gmail.com>
Message-ID: <18d502870902170820x648bd2dfr869d0fef9c46fe1a@mail.gmail.com>

I'd rather stick with hbmk, it's a quite commonly
used name since long, many ppl know it. hbm doesn't
tell much about the purpose.

You can create any kind of alias locally. I use hbvc,
hbbc, hbmi wrappers which set the environments
and call hbmk, for example.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 5:08 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I still prefer a short name like hbm
>
>
> 2009/2/17 Francesco Saverio Giudice <info@fsgiudice.com>:
> > Hi Viktor,
> >
> > faster than my hands :-)
> > I was just writing about it.
> > It seems to me that it is a good choice for the moment.
> > I think that you could also add hbcc.bat, hbcmp.bat and hblnk.bat to
> route
> > options in hidden way and have same names of linux version.
> > If do you think that it could be useful.
> >
> > Best regards
> >
> > Francesco
> >
> > Il 17/02/2009 16.36, vszakats@users.sourceforge.net ha scritto:
> >>
> >> 2009-02-17 16:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/17e3ac99/attachment.html
From harbour.01 at syenar.hu  Tue Feb 17 11:23:24 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 11:23:28 2009
Subject: [Harbour] Errors in last builds (install).
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE43@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE43@PINK.zycie.pzu>
Message-ID: <18d502870902170823i43b6cc8bt9aaa0920288bcbc9@mail.gmail.com>

I'm getting the same. Didn't try to run it like this since
a very long time, so it's difficult to tell when did it break.

Also see my message to Przemek, about an error
complaining on '[' command. Maybe that's it.

Overall I recommend the msys way. It feels much more
robust and even faster.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 5:00 PM, Horodyski Marek (PZUZ) <
M.Horodyski@pzuzycie.com.pl> wrote:

> And after install :
>
> C:\harbour>make_gnu.bat install
> make[1]: *** [install] Error 1
> make: *** [include.inst] Error 2
>
> What is wrong ?
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/8338dde3/attachment.html
From mbelgrano at deltain.it  Tue Feb 17 11:28:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 11:28:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10309] trunk/harbour
In-Reply-To: <18d502870902170820x648bd2dfr869d0fef9c46fe1a@mail.gmail.com>
References: <E1LZRzv-0008RX-1B@bj8yhf1.ch3.sourceforge.com>
	<499ADBE0.2050203@fsgiudice.com>
	<609353e70902170808q7258a3f9nd754c152caae41ba@mail.gmail.com>
	<18d502870902170820x648bd2dfr869d0fef9c46fe1a@mail.gmail.com>
Message-ID: <609353e70902170828j556bb93ak4077d9a1ae2db4@mail.gmail.com>

Well
Are you the chief commander
If is good for you is good for all


2009/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
> I'd rather stick with hbmk, it's a quite commonly
> used name since long, many ppl know it. hbm doesn't
> tell much about the purpose.
> You can create any kind of alias locally. I use hbvc,
> hbbc, hbmi wrappers which set the environments
> and call hbmk, for example.
> Brgds,
> Viktor
>
> On Tue, Feb 17, 2009 at 5:08 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> I still prefer a short name like hbm
>>
>>
>> 2009/2/17 Francesco Saverio Giudice <info@fsgiudice.com>:
>> > Hi Viktor,
>> >
>> > faster than my hands :-)
>> > I was just writing about it.
>> > It seems to me that it is a good choice for the moment.
>> > I think that you could also add hbcc.bat, hbcmp.bat and hblnk.bat to
>> > route
>> > options in hidden way and have same names of linux version.
>> > If do you think that it could be useful.
>> >
>> > Best regards
>> >
>> > Francesco
>> >
>> > Il 17/02/2009 16.36, vszakats@users.sourceforge.net ha scritto:
>> >>
>> >> 2009-02-17 16:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From harbour.01 at syenar.hu  Tue Feb 17 11:30:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 11:31:02 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <609353e70902170755t7c4ca821mfd2c591a644ee37@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<18d502870902112330n6c7d0091ga60617b0ca72acc5@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
	<18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
	<609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>
	<18d502870902161026j6f2d5011kd270339e892a1be3@mail.gmail.com>
	<609353e70902161242vb5356bj5265f1bb701ee8e9@mail.gmail.com>
	<18d502870902161254v67f1eb61ybb172c170c78c38b@mail.gmail.com>
	<609353e70902161356h36678d27oe55bf1f1bf082330@mail.gmail.com>
	<609353e70902170755t7c4ca821mfd2c591a644ee37@mail.gmail.com>
Message-ID: <18d502870902170830q27585878wc6111c33cbd1120@mail.gmail.com>

>
> Using VIsual C  2008 non sp1 you must download sdk from
>
> http://www.microsoft.com/downloads/details.aspx?familyid=30402623-93ca-479a-867c-04dc45164f5b&displaylang=en
>
> Using visual C 2008 sp1 you must download sdk from
>
> http://www.microsoft.com/downloads/details.aspx?familyid=59EC6EC3-4273-48A3-BA25-DC925A45584D&displaylang=en


You only need these if you want to develop extensions for Visual Studio.

Maybe you confused it with the Windows SDK:
http://www.microsoft.com/downloads/details.aspx?FamilyID=e6e1c3df-a74f-4207-8586-711ebe331cdc

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/1b6dbbdc/attachment.html
From vszakats at users.sourceforge.net  Tue Feb 17 11:35:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 11:35:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10311] trunk/harbour
Message-ID: <E1LZSuh-0004Sd-NF@3kljzd1.ch3.sourceforge.com>

Revision: 10311
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10311&view=rev
Author:   vszakats
Date:     2009-02-17 16:35:14 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 17:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    + Added support for -fullstatic.
    + Added '-lm' to linux/gcc. Still needs to tweaking, like gpm.

  * bin/hbmk.bat
    + Added missing '@'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Feb 17 11:38:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 11:39:03 2009
Subject: [Harbour] Wich var enviroment you set for compiling harbour?
In-Reply-To: <18d502870902170830q27585878wc6111c33cbd1120@mail.gmail.com>
References: <609353e70902110342y4862c39eteaa3cb8e023bfd17@mail.gmail.com>
	<609353e70902112346p23af7f35h6cf0f3430758f6fb@mail.gmail.com>
	<18d502870902120010v1568810cm8a25fbd25d961530@mail.gmail.com>
	<609353e70902161010t66303e31tcf1134c831bb6331@mail.gmail.com>
	<18d502870902161026j6f2d5011kd270339e892a1be3@mail.gmail.com>
	<609353e70902161242vb5356bj5265f1bb701ee8e9@mail.gmail.com>
	<18d502870902161254v67f1eb61ybb172c170c78c38b@mail.gmail.com>
	<609353e70902161356h36678d27oe55bf1f1bf082330@mail.gmail.com>
	<609353e70902170755t7c4ca821mfd2c591a644ee37@mail.gmail.com>
	<18d502870902170830q27585878wc6111c33cbd1120@mail.gmail.com>
Message-ID: <609353e70902170838n1ea9a469x97c2014893db7b6d@mail.gmail.com>

Yes Thanks for correction

2009/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Using VIsual C  2008 non sp1 you must download sdk from
>>
>> http://www.microsoft.com/downloads/details.aspx?familyid=30402623-93ca-479a-867c-04dc45164f5b&displaylang=en
>>
>> Using visual C 2008 sp1 you must download sdk from
>>
>> http://www.microsoft.com/downloads/details.aspx?familyid=59EC6EC3-4273-48A3-BA25-DC925A45584D&displaylang=en
>
> You only need these if you want to develop extensions for Visual Studio.
> Maybe you confused it with the Windows SDK:
> http://www.microsoft.com/downloads/details.aspx?FamilyID=e6e1c3df-a74f-4207-8586-711ebe331cdc
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From maurilio.longo at libero.it  Tue Feb 17 11:49:36 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 17 11:49:44 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
Message-ID: <499AEAA0.1040701@libero.it>

Hi Viktor,

latest hbmk2 does not work anymore on OS/2 because it looks for
HB_INSTALL_PREFIX which I never had to set to build/install harbour.

I have hbmk2.exe inside HB_BIN_STALL with all the other .EXEs.

Is HB_INSTALL_PREFIX required as of now, in which case what do I have to set
it to?

Thanks.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Feb 17 11:56:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 11:56:49 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <499AB20C.1080406@mweb.co.za>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
Message-ID: <18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>

Hi Alex, Przemek,
What is the significance of 'bin/hb-build' ?

Brgds,
Viktor

On Tue, Feb 17, 2009 at 1:48 PM, Alex Strickland <sscc@mweb.co.za> wrote:

> Viktor Szak?ts wrote:
>
>  If this is the case I won't touch hbmk.prg anymore.
>>
>
> They do different things although they are symlinks:
>
> "xhbcc" is a wrapper to the harbour compiler only. It only sets environment
> variables. The result of its work is a C file.
>
> Use "xhbcmp" exactly as you would use the harbour compiler itself.
> The main difference with xhbcmp is that it results in an object file,
> not a C file that needs compiling down to an object. xhbcmp also
> ensures that the harbour include directory is seen by the harbour compiler.
>
> "xhblnk" simply takes a list of object files and links them together
> with the harbour virtual machine and run-time library to produce an
> executable. The executable will be given the basename of the first object
> file if not directly set by the "-o" command line switch.
>
> "xhbmk" tries to produce an executable from your .prg file. It's a simple
> equivalent of cl.bat from the CA-Clipper distribution.
>
> Regards
> Alex
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/6dd7da83/attachment.html
From miguelangel at marchuet.net  Tue Feb 17 12:04:39 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Tue Feb 17 11:59:21 2009
Subject: [Harbour] Descend bug.
In-Reply-To: <20090217110208.GA31422@uran.home.aster.pl>
References: <499A834C.9000702@marchuet.net>
	<20090217110208.GA31422@uran.home.aster.pl>
Message-ID: <499AEE27.1070103@marchuet.net>

Przemyslaw Czerpak escribi?:
> On Tue, 17 Feb 2009, Miguel Angel Marchuet wrote:
> 
> Hi,
> 
>> hb_strDescend don't respect HB_SetCodePage
> 
> Yes it doesn't and it's expected behavior.

Then is a Clipper bug, that can be solved, for example adding a new parameter ?


Best regards,
Miguel angel Marchuet

From harbour.01 at syenar.hu  Tue Feb 17 12:04:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 12:04:17 2009
Subject: [Harbour] Inkey() problem with GTXWC + mouse
Message-ID: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>

Hi all,
There seem to be some problems with mouse handling in GTXWC:

- When left clicking and dragging, instead of K_MMLEFTDOWN,
K_MOUSEMOVE gets generated.

- When middle clicking and dragging, instead of K_MMMIDDLEDOWN,
a mixture of K_MBUTTONDOWN, K_MBUTTONUP, K_MDBLCLK
events are generated.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/e212d3fb/attachment.html
From guy.roussin at teledetection.fr  Tue Feb 17 12:12:14 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Feb 17 12:12:19 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <499AA56C.9030503@teledetection.fr>
References: <499AA56C.9030503@teledetection.fr>
Message-ID: <499AEFEE.5090703@teledetection.fr>

Guy Roussin a ?crit :
> Hi,
> I create a new deb package with current svn. But the package
> don't include the new hbmk command (from utils).
> In the package hbmk is always a link to hb-build.
> Thanks.
>
Now i can use hbmk2 :-)

But i get this error :

$ hbmk2 hbpgsql.hbp
Harbour Make 1.1.0dev (Rev. 10311)
Copyright (c) 1999-2009, Viktor Szakats
http://www.harbour-project.org/

hbmk: Autodetected HB_ARCHITECTURE: linux
hbmk: Harbour Make couldn't detect any supported C compilers
      on your system. Please setup one and try again.
hbmk: Error: Compiler not properly set.

$ which gcc
/usr/bin/gcc

$ ls -al /usr/bin/gcc*
lrwxrwxrwx 1 root root      7 oct 15 09:24 /usr/bin/gcc -> gcc-4.3
-rwxr-xr-x 1 root root  80976 jan  3  2007 /usr/bin/gcc-3.3
-rwxr-xr-x 1 root root  89680 sep  4  2006 /usr/bin/gcc-4.0
-rwxr-xr-x 1 root root 196996 d?c  2 02:14 /usr/bin/gcc-4.1
-rwxr-xr-x 1 root root 192220 jan  4 19:58 /usr/bin/gcc-4.2
-rwxr-xr-x 1 root root 207648 d?c 31 13:52 /usr/bin/gcc-4.3
-rwxr-xr-x 1 root root  15963 jan  3  2007 /usr/bin/gccbug-3.3
-rwxr-xr-x 1 root root  16203 sep  4  2006 /usr/bin/gccbug-4.0
-rwxr-xr-x 1 root root  16288 d?c  2 02:11 /usr/bin/gccbug-4.1
-rwxr-xr-x 1 root root   2018 jui 18  2008 /usr/bin/gccmakedep

Thanks

-- 
Guy

From harbour.01 at syenar.hu  Tue Feb 17 12:23:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 12:23:41 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <499AEAA0.1040701@libero.it>
References: <499AEAA0.1040701@libero.it>
Message-ID: <18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>

Hi Maurilio,
> latest hbmk2 does not work anymore on OS/2 because it looks for
> HB_INSTALL_PREFIX which I never had to set to build/install harbour.
>
> I have hbmk2.exe inside HB_BIN_STALL with all the other .EXEs.
>
> Is HB_INSTALL_PREFIX required as of now, in which case what do I have to
set
> it to?

Normally you don't need it. If you leave this envvar
empty hbmk2 will attempt to detect Harbour root
automatically, based on the location of hbmk2.exe
(and the relative position of harbour.exe). If that fails,
it will look for the HB_*_INSTALL envvars, and in this
case you need to have all three of them setup.

hbmk2 will show the final settings for bin/include/lib
dirs in this line: "hbmk: Using Harbour:"

If autodetection doesn't work, please send me the
output of hb_DirBase() (possibly when you run the
program from path, with explicit dir, relative dir, and
no dir), this function hasn't been tested on OS/2 yet,
and it should return an absolute path for autodetection
to work.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 5:49 PM, Maurilio Longo <maurilio.longo@libero.it>wrote:

> Hi Viktor,
>
> latest hbmk2 does not work anymore on OS/2 because it looks for
> HB_INSTALL_PREFIX which I never had to set to build/install harbour.
>
> I have hbmk2.exe inside HB_BIN_STALL with all the other .EXEs.
>
> Is HB_INSTALL_PREFIX required as of now, in which case what do I have to
> set
> it to?
>
> Thanks.
>
> Maurilio.
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/27e58ca0/attachment.html
From harbour.01 at syenar.hu  Tue Feb 17 12:25:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 12:25:50 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <499AEFEE.5090703@teledetection.fr>
References: <499AA56C.9030503@teledetection.fr>
	<499AEFEE.5090703@teledetection.fr>
Message-ID: <18d502870902170925q7a732872x4f81ddfa07067892@mail.gmail.com>

Hi Guy,

Please set HB_COMPILER=gcc for the time being.
I'm not sure yet how to do the detection in Linux, since
beyond gcc, it also supports owatcom and gpp. For now,
you need to choose between them manually.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 6:12 PM, Guy Roussin
<guy.roussin@teledetection.fr>wrote:

> Guy Roussin a ?crit :
>
>> Hi,
>> I create a new deb package with current svn. But the package
>> don't include the new hbmk command (from utils).
>> In the package hbmk is always a link to hb-build.
>> Thanks.
>>
>>  Now i can use hbmk2 :-)
>
> But i get this error :
>
> $ hbmk2 hbpgsql.hbp
> Harbour Make 1.1.0dev (Rev. 10311)
> Copyright (c) 1999-2009, Viktor Szakats
> http://www.harbour-project.org/
>
> hbmk: Autodetected HB_ARCHITECTURE: linux
> hbmk: Harbour Make couldn't detect any supported C compilers
>     on your system. Please setup one and try again.
> hbmk: Error: Compiler not properly set.
>
> $ which gcc
> /usr/bin/gcc
>
> $ ls -al /usr/bin/gcc*
> lrwxrwxrwx 1 root root      7 oct 15 09:24 /usr/bin/gcc -> gcc-4.3
> -rwxr-xr-x 1 root root  80976 jan  3  2007 /usr/bin/gcc-3.3
> -rwxr-xr-x 1 root root  89680 sep  4  2006 /usr/bin/gcc-4.0
> -rwxr-xr-x 1 root root 196996 d?c  2 02:14 /usr/bin/gcc-4.1
> -rwxr-xr-x 1 root root 192220 jan  4 19:58 /usr/bin/gcc-4.2
> -rwxr-xr-x 1 root root 207648 d?c 31 13:52 /usr/bin/gcc-4.3
> -rwxr-xr-x 1 root root  15963 jan  3  2007 /usr/bin/gccbug-3.3
> -rwxr-xr-x 1 root root  16203 sep  4  2006 /usr/bin/gccbug-4.0
> -rwxr-xr-x 1 root root  16288 d?c  2 02:11 /usr/bin/gccbug-4.1
> -rwxr-xr-x 1 root root   2018 jui 18  2008 /usr/bin/gccmakedep
>
>
> Thanks
>
> --
> Guy
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/0d142073/attachment.html
From mbelgrano at deltain.it  Tue Feb 17 12:30:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 12:30:38 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902170650j584d503fna962634826a4447d@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170523k19c37cdxd893db5fdce5586@mail.gmail.com>
	<499AC0B7.2090509@fsgiudice.com>
	<18d502870902170650j584d503fna962634826a4447d@mail.gmail.com>
Message-ID: <609353e70902170930l4fe6ae7cwdfdbd3ad75374c85@mail.gmail.com>

i vote for one make systems, one make tools
What about a solution where Prev make/tool will be reactivated by a
copy and rename solution present in cvs

If all user not switch on new make system and make tools we haven't a good debug


2009/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Francesco,
> Could be done. But I expect a long parallel development
> if we seriously settle with both. The other thing is that
> hbmk.exe is a replacement for hbmk.bat for Windows/DOS
> world, not for hbmake.exe, which worked differently. Given
> this, maybe it's better to rename it in the GNU make system
> to hbmk2. Albeit this isn't precise either, as this makes
> life difficult for MinGW users (myself included)... Maybe we
> should rename it conditionally for linux/darwin users. I don't
> know how to do this though. I'll check.
> The so far icy reception of hbmk / silence from Linux
> users isn't very reassuring on any of the issues/comments
> I've made recently. Yet I think we should clear these up
> to create an easier to understand platform in general,
> because right now with our two parallel and overlapping
> make systems, plus our two parallel and overlapping
> make tools isn't good for anyone, especially not for
> potential users. In fact it's much worse now with a
> second more sophisticated tool and additional file formats.
> I think in the case of make tool we can do the integration
> without losing any values, and least we should try. My
> impression was that this is general need for everyone.
> Brgds,
> Viktor
>
From vszakats at users.sourceforge.net  Tue Feb 17 12:44:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 12:44:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10312] trunk/harbour
Message-ID: <E1LZTzo-0003PI-EH@bj8yhf1.ch3.sourceforge.com>

Revision: 10312
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10312&view=rev
Author:   vszakats
Date:     2009-02-17 17:44:35 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 18:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    + More informative messages for HB_COMPILER problems.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Feb 17 12:47:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 17 12:47:19 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
Message-ID: <609353e70902170947x576a9f4am947fc6cb5f6c3d95@mail.gmail.com>

Audodetect is based on search of compiler in path?
better way if will possible is set path of your c compiler as only
works and call a compilation batch that like hbmk2 show the detected
compiler and go

Is still required bison?
must SET BISON_SIMPLES ?


2009/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Maurilio,
>> latest hbmk2 does not work anymore on OS/2 because it looks for
>> HB_INSTALL_PREFIX which I never had to set to build/install harbour.
>>
>> I have hbmk2.exe inside HB_BIN_STALL with all the other .EXEs.
>>
>> Is HB_INSTALL_PREFIX required as of now, in which case what do I have to
>> set
>> it to?
>
> Normally you don't need it. If you leave this envvar
> empty hbmk2 will attempt to detect Harbour root
> automatically, based on the location of hbmk2.exe
> (and the relative position of harbour.exe). If that fails,
> it will look for the HB_*_INSTALL envvars, and in this
> case you need to have all three of them setup.
> hbmk2 will show the final settings for bin/include/lib
> dirs in this line: "hbmk: Using Harbour:"
> If autodetection doesn't work, please send me the
> output of hb_DirBase() (possibly when you run the
> program from path, with explicit dir, relative dir, and
> no dir), this function hasn't been tested on OS/2 yet,
> and it should return an absolute path for autodetection
> to work.
> Brgds,
> Viktor
> On Tue, Feb 17, 2009 at 5:49 PM, Maurilio Longo <maurilio.longo@libero.it>
> wrote:
>>
>> Hi Viktor,
>>
>> latest hbmk2 does not work anymore on OS/2 because it looks for
>> HB_INSTALL_PREFIX which I never had to set to build/install harbour.
>>
>> I have hbmk2.exe inside HB_BIN_STALL with all the other .EXEs.
>>
>> Is HB_INSTALL_PREFIX required as of now, in which case what do I have to
>> set
>> it to?
>>
>> Thanks.
>>
>> Maurilio.
>>
>> --
>>  __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From maurilio.longo at libero.it  Tue Feb 17 12:59:59 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 17 13:00:09 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
Message-ID: <499AFB1F.80901@libero.it>

Viktor,

Viktor Szak?ts wrote:

> Normally you don't need it. If you leave this envvar 
> empty hbmk2 will attempt to detect Harbour root 
> automatically, based on the location of hbmk2.exe
> (and the relative position of harbour.exe). If that fails,
> it will look for the HB_*_INSTALL envvars, and in this
> case you need to have all three of them setup.


No, it stops before testing if hb_bin_install has something, see lines 357 and
364 of hbmk2.prg at level 10309.

> 
> hbmk2 will show the final settings for bin/include/lib 
> dirs in this line: "hbmk: Using Harbour:"
> 
> If autodetection doesn't work, please send me the 
> output of hb_DirBase() (possibly when you run the 
> program from path, with explicit dir, relative dir, and 
> no dir), this function hasn't been tested on OS/2 yet, 
> and it should return an absolute path for autodetection 
> to work.

hb_DirBase() is empty if I don't write the full path to hbmk2.exe when calling
it (either absolute or relative).

It seems that argv[0] does not contain executable path, but just executable
name (I did just a quick test).

Best regards.

Maurilio.

> 
> Brgds,
> Viktor
> 
> On Tue, Feb 17, 2009 at 5:49 PM, Maurilio Longo
> <maurilio.longo@libero.it <mailto:maurilio.longo@libero.it>> wrote:
> 
>     Hi Viktor,
> 
>     latest hbmk2 does not work anymore on OS/2 because it looks for
>     HB_INSTALL_PREFIX which I never had to set to build/install harbour.
> 
>     I have hbmk2.exe inside HB_BIN_STALL with all the other .EXEs.
> 
>     Is HB_INSTALL_PREFIX required as of now, in which case what do I
>     have to set
>     it to?
> 
>     Thanks.
> 
>     Maurilio.
> 
>     --
>      __________
>     |  |  | |__| Maurilio Longo
>     |_|_|_|____| farmaconsult s.r.l.
> 
> 
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Feb 17 13:14:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 13:14:44 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <499AFB1F.80901@libero.it>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<499AFB1F.80901@libero.it>
Message-ID: <18d502870902171014n635ec128h7204efb805f642a6@mail.gmail.com>

>
> > If autodetection doesn't work, please send me the
> > output of hb_DirBase() (possibly when you run the
> > program from path, with explicit dir, relative dir, and
> > no dir), this function hasn't been tested on OS/2 yet,
> > and it should return an absolute path for autodetection
> > to work.
>
> hb_DirBase() is empty if I don't write the full path to hbmk2.exe when
> calling
> it (either absolute or relative).
>
> It seems that argv[0] does not contain executable path, but just executable
> name (I did just a quick test).


Thanks, we need fix this for OS/2, more closely hb_cmdargInit(),
argv[0] detection.

Could you help here? Does OS/2 have a native call to determine this?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/2581a0fd/attachment.html
From druzus at acn.waw.pl  Tue Feb 17 13:30:26 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 13:25:23 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <499AFB1F.80901@libero.it>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<499AFB1F.80901@libero.it>
Message-ID: <20090217183026.GA8333@uran.home.aster.pl>

On Tue, 17 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> hb_DirBase() is empty if I don't write the full path to hbmk2.exe when calling
> it (either absolute or relative).
> It seems that argv[0] does not contain executable path, but just executable
> name (I did just a quick test).

Please look at source/vm/cmdarg.c and function hb_cmdargInit().
We are trying her to replicate DOS argv[0] behavior in different
platform. If OS2 has sth like GetModuleFileName() in Windows then
please add support for it and overload the 1-st parameter by the
result kept in static s_szAppName buffer. I guess that in OS2
the .exe extension is not added to argv[0] so the PATH scan does
not work. If I'm right then it should work if you call it using:
hbmk2.exe. In such case if OS2 does not have function like MS-Win
GetModuleFileName() then you may try to set the default extension.
Before:
            while( pNextPath )
            {

add this lines:

#ifdef HB_OS_OS2
            if( !pFName->szExt )
               pFName->szExt = ".exe";
#endif

It's a hack but in general this function is a hack and cannot return
valid results in some cases. F.e. physical executable file may not exists
at all.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb 17 13:25:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 13:25:48 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <609353e70902170947x576a9f4am947fc6cb5f6c3d95@mail.gmail.com>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<609353e70902170947x576a9f4am947fc6cb5f6c3d95@mail.gmail.com>
Message-ID: <18d502870902171025p675001f0od5e2302b6e50a9dc@mail.gmail.com>

>
> Audodetect is based on search of compiler in path?


No, first it checks the dir where the executed hbmk executable
is located. If it finds a harbour executable there, it assumes
a regular binary install with root/bin, root/include, root/lib structure.
Then it looks a few directory level upper, for those cases where
hbmk exe is copied into subdirs, but this is just for mere convenience.
Some regular Linux install paths (/opt/harbour/ and /usr/local/bin/
currently) are also detected and inc/lib dirs adjusted accordingly.

If someone knows other standard *nix paths where Harbour
is installed, please tell, and I'll add it.


> better way if will possible is set path of your c compiler as only
> works and call a compilation batch that like hbmk2 show the detected
> compiler and go


C compiler is detected from PATH. But this doesn't
work well on *nix systems, so it's only used on win/dos/os2.


> Is still required bison?
> must SET BISON_SIMPLES ?


No, it's not required at all for hbmk.
It's not even needed to build Harbour, since long.

You can forget about it.
(unless you want to tweak the Harbour grammar parser)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/308e4647/attachment.html
From vszakats at users.sourceforge.net  Tue Feb 17 13:29:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 13:29:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10313] trunk/harbour
Message-ID: <E1LZUgz-0004Zv-8V@bj8yhf1.ch3.sourceforge.com>

Revision: 10313
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10313&view=rev
Author:   vszakats
Date:     2009-02-17 18:29:12 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 19:29 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    ! Fixed Linux system location detection to work
      regardless of the name of the executable.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 17 13:33:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 13:33:13 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <20090217183026.GA8333@uran.home.aster.pl>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<499AFB1F.80901@libero.it> <20090217183026.GA8333@uran.home.aster.pl>
Message-ID: <18d502870902171033h58db68edv2bb13d6f2f1e7557@mail.gmail.com>

Found this code (from git):
http://git.savannah.gnu.org/gitweb/?p=gnulib.git;a=blob_plain;f=lib/progreloc.c

Maybe there are some hints in it.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 7:30 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Tue, 17 Feb 2009, Maurilio Longo wrote:
>
> Hi Maurilio,
>
> > hb_DirBase() is empty if I don't write the full path to hbmk2.exe when
> calling
> > it (either absolute or relative).
> > It seems that argv[0] does not contain executable path, but just
> executable
> > name (I did just a quick test).
>
> Please look at source/vm/cmdarg.c and function hb_cmdargInit().
> We are trying her to replicate DOS argv[0] behavior in different
> platform. If OS2 has sth like GetModuleFileName() in Windows then
> please add support for it and overload the 1-st parameter by the
> result kept in static s_szAppName buffer. I guess that in OS2
> the .exe extension is not added to argv[0] so the PATH scan does
> not work. If I'm right then it should work if you call it using:
> hbmk2.exe. In such case if OS2 does not have function like MS-Win
> GetModuleFileName() then you may try to set the default extension.
> Before:
>            while( pNextPath )
>            {
>
> add this lines:
>
> #ifdef HB_OS_OS2
>            if( !pFName->szExt )
>               pFName->szExt = ".exe";
> #endif
>
> It's a hack but in general this function is a hack and cannot return
> valid results in some cases. F.e. physical executable file may not exists
> at all.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/eb89753e/attachment.html
From dbtopas at dbtopas.lt  Tue Feb 17 13:38:26 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Feb 17 13:38:16 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <609353e70902170947x576a9f4am947fc6cb5f6c3d95@mail.gmail.com>
References: <499AEAA0.1040701@libero.it>	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<609353e70902170947x576a9f4am947fc6cb5f6c3d95@mail.gmail.com>
Message-ID: <499B0422.4090102@dbtopas.lt>

> Is still required bison?
> must SET BISON_SIMPLES ?

Hi,


see ChangeLog entry:
2006-11-28 19:30 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Tue Feb 17 13:43:33 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Feb 17 13:43:21 2009
Subject: [Harbour] Web error
Message-ID: <499B0555.4040800@dbtopas.lt>

Hi,


http://www.harbour-project.org/ has banner picture with text 
"MultHi-threads".


Regards,
Mindaugas
From druzus at acn.waw.pl  Tue Feb 17 14:01:43 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 13:56:39 2009
Subject: [Harbour] Descend bug.
In-Reply-To: <499AEE27.1070103@marchuet.net>
References: <499A834C.9000702@marchuet.net>
	<20090217110208.GA31422@uran.home.aster.pl>
	<499AEE27.1070103@marchuet.net>
Message-ID: <20090217190143.GA18703@uran.home.aster.pl>

On Tue, 17 Feb 2009, Miguel Angel Marchuet wrote:

Hi,

>>> hb_strDescend don't respect HB_SetCodePage
>> Yes it doesn't and it's expected behavior.
> Then is a Clipper bug, that can be solved, for example adding a new parameter ?

It cannot be touched because DESCEND() is commonly used function and
should return binary compatible data with other dbase compatible systems
if you want to share some data, f.e. indexes.

But of course you can create new function which will respect current
active HVM CP though for some languages which uses accented characters
with the same direct wight it's mathematically impossible to create such
function for all 256 binary characters keeping the original string length
so the results will be well sorted with active CP. The result will have
to be longer because you have to store some additional information with
character wights.
For CPs which does not have such condition you can create simple conversion
table indexed by character ASCII value. The final conversion function should
give revertible results so:
   str == my_descend( my_descend( str ) )
you can use the above rule to test if you made everything well.
F.e. use this code:
   for i := 0 to 255
      if ! chr( i ) == my_descend( my_descend( chr( i ) ) )
         ? "ERROR at:", i
      endif
   next
I'm leaving writing my_descend() function which will work for any active
HVM CP using above conditions for you as homework ;-). It should not
take more then 20 short lines for dynamically create translation table
and translate given string using this table. For final version you can
use one static translation table or many different in hash table indexed
by active CP.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Feb 17 14:06:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 14:06:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10314] trunk/harbour
Message-ID: <E1LZVGx-0007go-0q@dn4whf1.ch3.sourceforge.com>

Revision: 10314
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10314&view=rev
Author:   vszakats
Date:     2009-02-17 19:06:22 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 20:06 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    ! Fixed -run on *nix systems.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 17 14:13:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 14:13:34 2009
Subject: [Harbour] Re: Inkey() problem with GTXWC + mouse
In-Reply-To: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
References: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
Message-ID: <18d502870902171113w6d267c57w9b3846da7f9bebc8@mail.gmail.com>

Forgot to mention this was observed on Ubuntu 8.10 Gnome (x86), and Leopard
10.5 (x86) both fully patched.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 6:04 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi all,
> There seem to be some problems with mouse handling in GTXWC:
>
> - When left clicking and dragging, instead of K_MMLEFTDOWN,
> K_MOUSEMOVE gets generated.
>
> - When middle clicking and dragging, instead of K_MMMIDDLEDOWN,
> a mixture of K_MBUTTONDOWN, K_MBUTTONUP, K_MDBLCLK
> events are generated.
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/9948ea08/attachment.html
From druzus at acn.waw.pl  Tue Feb 17 14:42:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 14:37:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <20090217121556.GA26868@uran.home.aster.pl>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>
	<49954990.3000503@libero.it>
	<20090215173534.GA31852@uran.home.aster.pl>
	<49992866.8090806@libero.it>
	<20090216192437.GA24539@uran.home.aster.pl>
	<499A97C3.5040806@libero.it>
	<20090217121556.GA26868@uran.home.aster.pl>
Message-ID: <20090217194248.GA4610@uran.home.aster.pl>

On Tue, 17 Feb 2009, Przemyslaw Czerpak wrote:

Hi Maurilio,

> The only one solution I see here is introducing
> second event semaphore and maybe also event queue if it will not be
> enough. I have to rethink it yet and build a model to not miss sth
> important.

I think that the easiest way will be implementing real conditional
variables like in PTHREADS.
I will need for this event semaphore allocated for each thread and
keep waiting thread list for each conditional variable. To avoid
memory allocation at run time the waiting thread list items will be
part of HB_THREADSTATE. One thread can wait only on one semaphore
so we need only single item per thread. Because each thread will
use its own event semaphore then we can rest them and signal for
each thread without the bad side effects I was describing.
I only do not know how many event semaphores can be allocated per
process. The maximal value may reduce number of threads which can
be executed simultaneously. I hope it's bigger. If not then we
can try to use thread suspend/resume mechanism but in such case
1-st I will have to carefully read OS2 documentation to not find
some new unexpected problems.
Below I'm attaching basic version of code which introduce conditional
variables working like in PTHREADS. Please look at it and tell me
what do you think about it.
If in OS2 thread can suspend itself for given time period and be
resumed on other thread request then we can eliminate even semaphores.

best regards,
Przemek


/* new structures */
typedef struct _HB_WAIT_LIST
{
   struct _HB_WAIT_LIST *  prev;
   struct _HB_WAIT_LIST *  next;
   HB_RAWCOND_T            cond;
   BOOL                    signaled;
} HB_WAIT_LIST, * PHB_WAIT_LIST;

typedef struct
{
   HB_RAWCRITICAL_T  critical;
   PHB_WAIT_LIST     waiters;
} HB_COND_T;

/* modified structure: new member pWaitList */
typedef struct _HB_THREADSTATE
{
   const char *   pszCDP;
   const char *   pszLang;
   const char *   pszDefRDD;
   PHB_SET_STRUCT pSet;
   void *         pI18N;
   void *         hGT;
   void *         pStackId;
   BOOL           fActive;
   BOOL           fFinished;
   PHB_ITEM       pParams;
   PHB_ITEM       pMemvars;
   PHB_ITEM       pResult;
   PHB_ITEM       pThItm;
   HB_THREAD_NO      th_no;
   HB_THREAD_ID      th_id;
   HB_THREAD_HANDLE  th_h;
   struct _HB_THREADSTATE * pPrev;
   struct _HB_THREADSTATE * pNext;
#if defined( HB_OS_OS2 )
   HB_WAIT_LIST   pWaitList;
#endif
} HB_THREADSTATE, * PHB_THREADSTATE;


/* new internal functions */
static PHB_WAIT_LIST hb_thread_wait_list( void )
{
   PHB_THREADSTATE pThread = ( PHB_THREADSTATE ) hb_vmThreadState();

   if( pThread )
      return &pThread->pWaitList;
   else
      return NULL;
}

static void hb_thread_wait_add( HB_COND_T * cond, PHB_WAIT_LIST pWaiting )
{
   ULONG ulPostCount = 0;

   DosRequestMutexSem( cond->critical );
   if( cond->waiters == NULL )
   {
      cond->waiters = pWaiting->next = pWaiting->prev = pWaiting;
   }
   else
   {
      pWaiting->next = cond->waiters;
      pWaiting->prev = cond->waiters->prev;
      cond->waiters->prev = pWaiting->prev->next = pWaiting;
   }
   cond->signaled = FALSE;
   DosResetEventSem( pWaiting->cond, &ulPostCount );
   DosReleaseMutexSem( cond->critical );
}

static void hb_thread_wait_del( HB_COND_T * cond, PHB_WAIT_LIST pWaiting )
{
   DosRequestMutexSem( cond->critical );
   if( pWaiting->next == pWaiting->prev )
      cond->waiters = NULL;
   else
   {
      pWaiting->next->prev = pWaiting->prev;
      pWaiting->prev->next = pWaiting->next;
      if( pWaiting == cond->waiters )
         cond->waiters = pWaiting->next;
   }
   DosReleaseMutexSem( cond->critical );
}

/* should work like pthread_cond_signal() */
static BOOL hb_thread_cond_signal( HB_COND_T * cond )
{
   DosRequestMutexSem( cond->critical );
   if( cond->waiters )
   {
      PHB_WAIT_LIST pWaiting = cond->waiters;
      do
      {
         if( !pWaiting->signaled )
         {
            DosPostEventSem( pWaiting->cond )
            pWaiting->signaled = TRUE;
            /* signal only single thread */
            break;
         }
         pWaiting = pWaiting->pPrev;
      }
      while( pWaiting != cond->waiters );
      DosPostEventSem( cond->cond );
   }
   DosReleaseMutexSem( cond->critical );

   return TRUE;
}

/* should work like pthread_cond_broadcast() */
static BOOL hb_thread_cond_broadcast( HB_COND_T * cond )
{
   DosRequestMutexSem( cond->critical );
   if( cond->waiters )
   {
      PHB_WAIT_LIST pWaiting = cond->waiters;
      do
      {
         if( !pWaiting->signaled )
         {
            DosPostEventSem( pWaiting->cond )
            pWaiting->signaled = TRUE;
         }
         pWaiting = pWaiting->pPrev;
      }
      while( pWaiting != cond->waiters );
      DosPostEventSem( cond->cond );
   }
   DosReleaseMutexSem( cond->critical );

   return TRUE;
}

/* should work like pthread_cond_wait() */
static BOOL hb_thread_cond_wait( HB_COND_T * cond, HB_CRITICAL_T * mutex )
{
   PHB_WAIT_LIST pWaiting = hb_thread_wait_list( void )
   BOOL fResult = FALSE;

   if( pWaiting )
   {
      hb_thread_wait_add( cond, pWaiting );

      DosReleaseMutexSem( mutex->critical );
      fResult = DosWaitEventSem( cond->cond, SEM_INDEFINITE_WAIT ) == NO_ERROR;
      DosRequestMutexSem( mutex->critical );

      hb_thread_wait_del( cond, pWaiting );
   }

   return fResult;
}

/* should work like pthread_cond_timedwait() but it uses timeout in
 * milliseconds instead of real time. Using real time is more flexible
 * for programmer so maybe I'll change it.
 */
static BOOL hb_thread_cond_timedwait( HB_COND_T * cond, HB_CRITICAL_T * mutex,
                                      ULONG ulMillisec )
{
   PHB_WAIT_LIST pWaiting = hb_thread_wait_list( void )
   BOOL fResult = FALSE;

   if( pWaiting )
   {
      hb_thread_wait_add( cond, pWaiting );

      DosReleaseMutexSem( mutex->critical );
      fResult = DosWaitEventSem( cond->cond, ulMillisec ) == NO_ERROR;
      DosRequestMutexSem( mutex->critical );

      hb_thread_wait_del( cond, pWaiting );
   }

   return fResult;
}

/* modified functions:
 * allocate release event semaphore in pThread->pWaitList.cond
 */
PHB_THREADSTATE hb_threadStateNew( void )
{
   PHB_ITEM pThItm;
   PHB_THREADSTATE pThread;

   pThItm = hb_itemNew( NULL );
   pThread = ( PHB_THREADSTATE )
                  hb_gcAlloc( sizeof( HB_THREADSTATE ), hb_threadDestructor );
   memset( pThread, 0, sizeof( HB_THREADSTATE ) );
   hb_itemPutPtrGC( pThItm, pThread );

   pThread->pszCDP  = HB_MACRO2STRING( HB_CODEPAGE_DEFAULT );
   pThread->pszLang = HB_MACRO2STRING( HB_LANG_DEFAULT );
   pThread->pThItm  = pThItm;
   pThread->hGT     = hb_gtAlloc( NULL );

#if defined( HB_OS_OS2 )
   DosCreateEventSem( NULL, &pThread->pWaitList.cond, 0L, FALSE );
#endif

   return pThread;
}

static HB_GARBAGE_FUNC( hb_threadDestructor )
{
   PHB_THREADSTATE pThread = ( PHB_THREADSTATE ) Cargo;

   if( pThread->pParams )
   {
      hb_itemRelease( pThread->pParams );
      pThread->pParams = NULL;
   }
   if( pThread->pMemvars )
   {
      hb_itemRelease( pThread->pMemvars );
      pThread->pMemvars = NULL;
   }
   if( pThread->pResult )
   {
      hb_itemRelease( pThread->pResult );
      pThread->pResult = NULL;
   }
   if( pThread->pI18N )
   {
      hb_i18n_release( pThread->pI18N );
      pThread->pI18N = NULL;
   }
   if( pThread->pSet )
   {
      hb_setRelease( pThread->pSet );
      hb_xfree( pThread->pSet );
      pThread->pSet = NULL;
   }
   if( pThread->th_h != 0 )
   {
      hb_threadDetach( pThread->th_h );
      pThread->th_h = 0;
   }
   if( pThread->hGT )
   {
      hb_gtRelease( pThread->hGT );
      pThread->hGT = NULL;
   }
#if defined( HB_OS_OS2 )
   if( pThread->pWaitList.cond )
   {
      DosCloseEventSem( pThread->pWaitList.cond );
      pThread->pWaitList.cond = ( HEV ) 0;
   }
#endif
}
From kaddath at users.sourceforge.net  Tue Feb 17 14:45:40 2009
From: kaddath at users.sourceforge.net (kaddath@users.sourceforge.net)
Date: Tue Feb 17 14:45:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10315] trunk/harbour
Message-ID: <E1LZVsy-0004ZI-Kg@74yxhf1.ch3.sourceforge.com>

Revision: 10315
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10315&view=rev
Author:   kaddath
Date:     2009-02-17 19:45:39 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 11:43 UTC+0800 Luis Krause (lkrausem at shaw dot ca)
  * utils/hbmk/hbmk2.prg
    ! Fixed typo on line 1038 (missing . in .OR.)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Feb 17 14:50:57 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 14:45:53 2009
Subject: [Harbour] Inkey() problem with GTXWC + mouse
In-Reply-To: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
References: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
Message-ID: <20090217195057.GB4610@uran.home.aster.pl>

On Tue, 17 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> There seem to be some problems with mouse handling in GTXWC:
> - When left clicking and dragging, instead of K_MMLEFTDOWN,
> K_MOUSEMOVE gets generated.
> - When middle clicking and dragging, instead of K_MMMIDDLEDOWN,
> a mixture of K_MBUTTONDOWN, K_MBUTTONUP, K_MDBLCLK
> events are generated.

I do not know what is K_MMLEFTDOWN, K_MMRIGHTDOWN, K_MMMIDDLEDOWN
and K_NCMOUSEMOVE. It's Harbour extension and I've never seen any
description for this inkey mouse value. I thought that the first
3 ones describes some extended mouse buttons but I do not have it.
Clipper does not support such values.
The behavior of K_MBUTTONDOWN, K_MBUTTONUP, K_MDBLCLK is exactly
as it should be and it's the same as K_[LR]BUTTONDOWN, K_[LR]BUTTONUP
and K_[LR]DBLCLK in GTXWC and CL53. If you used some GT dirver which
does not work like CL53 then it should be fixed.

best regards,
Przemek
From zen25000 at zen.co.uk  Tue Feb 17 14:53:27 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Feb 17 14:53:30 2009
Subject: [Harbour] Web error
In-Reply-To: <499B0555.4040800@dbtopas.lt>
References: <499B0555.4040800@dbtopas.lt>
Message-ID: <499B15B7.6040002@zen.co.uk>

Also on home page:-
"Harbour is a free software 100% compatible with Clipper compilers"
should be:-
"Harbour is free software 100% compatible with Clipper compilers"
and on "about" page:-
"Why using it?"
should be:-
"Why use it?
also:-
"Because is a free software..."
should be:-
"Because it is free software..."
also:-
"Because remove some of the limits..."
should be:-
"Because it removes some of the limits..."
On the mailing lists page:-
"some professionals has joined in our mailing with the intention of help 
voluntarily the users."
should be:-
"some professionals have joined our mailing lists with the intention of 
voluntarily helping users."

I hope that helps.

Regards,
Barry


Mindaugas Kavaliauskas wrote:
> Hi,
> 
> 
> http://www.harbour-project.org/ has banner picture with text 
> "MultHi-threads".
> 
> 
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
From vszakats at users.sourceforge.net  Tue Feb 17 14:58:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 14:58:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10316] trunk/harbour
Message-ID: <E1LZW5d-0006iS-AV@bj8yhf1.ch3.sourceforge.com>

Revision: 10316
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10316&view=rev
Author:   vszakats
Date:     2009-02-17 19:58:44 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 20:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    + HB_COMPILER now automatically set to gcc for Linux.
      You can override it if you need gpp or owatcom.
    + xcc, icc autodetection for win.
    + Added support for HB_MT=mt|MT for compatibility.
    + Added support for -mwindows/-mconsole for compatibility.
    + 0/1 is accepted instead of yes/no for compatibility.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From hbco2 at sbcglobal.net  Tue Feb 17 15:16:46 2009
From: hbco2 at sbcglobal.net (Bill Smith)
Date: Tue Feb 17 15:16:55 2009
Subject: [Harbour] Can't use hbmk ...
References: <499AA56C.9030503@teledetection.fr>
	<499AEFEE.5090703@teledetection.fr>
Message-ID: <005101c9913c$aa97a520$0303a8c0@hbco>


hbmk: Error: Architecture not properly set.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/c4a76ff9/attachment.html
From harbour.01 at syenar.hu  Tue Feb 17 15:25:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 15:25:59 2009
Subject: [Harbour] Inkey() problem with GTXWC + mouse
In-Reply-To: <20090217195057.GB4610@uran.home.aster.pl>
References: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
	<20090217195057.GB4610@uran.home.aster.pl>
Message-ID: <18d502870902171225i7ff4d4bdu7a18ce459ed8669c@mail.gmail.com>

Hi Przemek,


> I do not know what is K_MMLEFTDOWN, K_MMRIGHTDOWN, K_MMMIDDLEDOWN
> and K_NCMOUSEMOVE. It's Harbour extension and I've never seen any
> description for this inkey mouse value. I thought that the first

3 ones describes some extended mouse buttons but I do not have it.
> Clipper does not support such values.
> The behavior of K_MBUTTONDOWN, K_MBUTTONUP, K_MDBLCLK is exactly
> as it should be and it's the same as K_[LR]BUTTONDOWN, K_[LR]BUTTONUP
> and K_[LR]DBLCLK in GTXWC and CL53. If you used some GT dirver which
> does not work like CL53 then it should be fixed.


To be honest I started using the mouse with Harbour, so I didn't
even check if these aren't C5.3 events. I should have. Thanks for the
clarification.

K_MDBCLK is randomly generated while keeping the middle button
pressed and moving the mouse, with GTXWC. This may count as a bug.

The uglier thing is that these ones:
#define K_MMLEFTDOWN            1011   /* Mouse Move Left Down */
#define K_MMRIGHTDOWN           1012   /* Mouse Move Right Down */
#define K_MMMIDDLEDOWN          1013   /* Mouse Move Middle Down */
will be generated instead of K_MOUSEMOVE, which makes
it impossible to write portable code between GTs, and it also breaks
C5.3 compatibility I believe. At least there should be a way to mask
these out, just like the other 2 x 3 events: INKEY_MMIDDLE and
INKEY_MWHEEL, with "INKEY_MMDOWN" or similar.

We have an incompatibility here, and this might solve it.
What do you think?

On the other hand, it would nice to add proper support for these
extensions where possible, and if enabled. GTWIN also don't
support these, but that's less important.

[ This is one reason why it's wiser to mark extensions as such...
Now I've found and extension the hard way. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/f45280cb/attachment-0001.html
From vszakats at users.sourceforge.net  Tue Feb 17 15:35:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 15:35:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10317] trunk/harbour
Message-ID: <E1LZWf3-0003eP-4e@d5vjzd1.ch3.sourceforge.com>

Revision: 10317
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10317&view=rev
Author:   vszakats
Date:     2009-02-17 20:35:17 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 21:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    + Made HB_ARCHITECTURE and HB_COMPILER case-insensitive.
      Notice however that other parts of Harbour (notably the 
      GNU-make system) will only accept them in lowercase, so 
      that's the recommended way to setup these values.
    * One error message made more informative.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 17 15:37:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 15:37:29 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <005101c9913c$aa97a520$0303a8c0@hbco>
References: <499AA56C.9030503@teledetection.fr>
	<499AEFEE.5090703@teledetection.fr>
	<005101c9913c$aa97a520$0303a8c0@hbco>
Message-ID: <18d502870902171237x79ac5be5q52052c99a7dae044@mail.gmail.com>

Hi Bill,
Pls see the help screen about accepted HB_ARCHITECTURE
values. It's also case sensitive.

The best solution however is to leave this envvar empty and let hbmk
autodetect.

Brgds,
Viktor

On Tue, Feb 17, 2009 at 9:16 PM, Bill Smith <hbco2@sbcglobal.net> wrote:

>
> hbmk: Error: Architecture not properly set.
>
>
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/d598dd31/attachment.html
From bedipritpal at hotmail.com  Tue Feb 17 15:49:09 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 17 15:49:13 2009
Subject: [Harbour] Inkey() problem with GTXWC + mouse
In-Reply-To: <20090217195057.GB4610@uran.home.aster.pl>
References: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
	<20090217195057.GB4610@uran.home.aster.pl>
Message-ID: <22066049.post@talk.nabble.com>


Hi


Przemyslaw Czerpak-2 wrote:
> 
> I do not know what is K_MMLEFTDOWN, K_MMRIGHTDOWN, K_MMMIDDLEDOWN
> and K_NCMOUSEMOVE. It's Harbour extension and I've never seen any
> description for this inkey mouse value. I thought that the first
> 3 ones describes some extended mouse buttons but I do not have it.
> Clipper does not support such values.
> The behavior of K_MBUTTONDOWN, K_MBUTTONUP, K_MDBLCLK is exactly
> as it should be and it's the same as K_[LR]BUTTONDOWN, K_[LR]BUTTONUP
> and K_[LR]DBLCLK in GTXWC and CL53. If you used some GT dirver which
> does not work like CL53 then it should be fixed.
> 

I had introduced these code way back in 2003 probably in GTWVT.
And these constants have been in use heavily since then.

K_MMLEFTDOWN is generated when mouse moves while left button
is kept pressed, i.e., MouseMoveLEFTDOWN, ....

A basic requirement if we are talking Windows.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Inkey%28%29-problem-with-GTXWC-%2B-mouse-tp22061779p22066049.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Tue Feb 17 16:06:08 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Feb 17 16:06:11 2009
Subject: [Harbour] Web error
In-Reply-To: <499B15B7.6040002@zen.co.uk>
References: <499B0555.4040800@dbtopas.lt> <499B15B7.6040002@zen.co.uk>
Message-ID: <531d7a750902171306n7e629b40u43d7cf42db4b468f@mail.gmail.com>

Noted. I am providing the fixes.


2009/2/17 Barry Jackson <zen25000@zen.co.uk>:
> Also on home page:-
> "Harbour is a free software 100% compatible with Clipper compilers"
> should be:-
> "Harbour is free software 100% compatible with Clipper compilers"
> and on "about" page:-
> "Why using it?"
> should be:-
> "Why use it?
> also:-
> "Because is a free software..."
> should be:-
> "Because it is free software..."
> also:-
> "Because remove some of the limits..."
> should be:-
> "Because it removes some of the limits..."
> On the mailing lists page:-
> "some professionals has joined in our mailing with the intention of help
> voluntarily the users."
> should be:-
> "some professionals have joined our mailing lists with the intention of
> voluntarily helping users."
>
> I hope that helps.
>
> Regards,
> Barry
>
>
> Mindaugas Kavaliauskas wrote:
>>
>> Hi,
>>
>>
>> http://www.harbour-project.org/ has banner picture with text
>> "MultHi-threads".
>>
>>
>> Regards,
>> Mindaugas
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From harbour.01 at syenar.hu  Tue Feb 17 16:11:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 16:11:52 2009
Subject: [Harbour] Inkey() problem with GTXWC + mouse
In-Reply-To: <20090217195057.GB4610@uran.home.aster.pl>
References: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
	<20090217195057.GB4610@uran.home.aster.pl>
Message-ID: <18d502870902171311g13ea18e5h561c90b6cd4b37ee@mail.gmail.com>

Hi Przemek and all,
About K_NCMOUSEMOVE:

Added here to xhb:
2004-07-21 16:45 UTC+0530 Pritpal Bedi <pritpal@vouchcac.com>

It will generate these events while hovering with the mouse
over non-client area of the GTWVT window, most notable the
title bar. This can explain some strange behaviour I've seen
while developing mousing.

I'd like to propose to remove this extension from GTWVT.

Bigger problem is the incompatible move events.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/357af7b7/attachment.html
From harbour.01 at syenar.hu  Tue Feb 17 16:21:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 16:21:45 2009
Subject: [Harbour] Inkey() problem with GTXWC + mouse
In-Reply-To: <22066049.post@talk.nabble.com>
References: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
	<20090217195057.GB4610@uran.home.aster.pl>
	<22066049.post@talk.nabble.com>
Message-ID: <18d502870902171321q75cd417fxa4f1ea03d492f333@mail.gmail.com>

Hi Pritpal,

> The behavior of K_MBUTTONDOWN, K_MBUTTONUP, K_MDBLCLK is exactly
> > as it should be and it's the same as K_[LR]BUTTONDOWN, K_[LR]BUTTONUP
> > and K_[LR]DBLCLK in GTXWC and CL53. If you used some GT dirver which
> > does not work like CL53 then it should be fixed.
> >
>
> I had introduced these code way back in 2003 probably in GTWVT.
> And these constants have been in use heavily since then.
>
> K_MMLEFTDOWN is generated when mouse moves while left button
> is kept pressed, i.e., MouseMoveLEFTDOWN, ....
>
> A basic requirement if we are talking Windows.


But we're not. We're talking about a CUI window,
which happens to be implemented in a Windows
graphical window. Could be a Braille display, or
a GTXWC display, it's an implementation detail the
app doesn't have to know or care. Or if it wants to
know, it should specifically request it.

These broke compatibility, since some events are
generated in place of some other events.

Besides breaking compatibility, now to create an
app which behaves the same under GTWVT and
GTXWC and GTWIN, you'll have to add such ugly
hack that iif( GTNAME == GTWVT, K_MMLEFTDOWN,
K_MOUSEMOVE). Such is the root of unportable
apps.

I'm not saying to remove these, but we should
have a mask to enable/disable it.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090217/5df87f33/attachment.html
From druzus at acn.waw.pl  Tue Feb 17 17:38:37 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 17:33:33 2009
Subject: [Harbour] Inkey() problem with GTXWC + mouse
In-Reply-To: <18d502870902171225i7ff4d4bdu7a18ce459ed8669c@mail.gmail.com>
References: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
	<20090217195057.GB4610@uran.home.aster.pl>
	<18d502870902171225i7ff4d4bdu7a18ce459ed8669c@mail.gmail.com>
Message-ID: <20090217223837.GA25359@uran.home.aster.pl>

On Tue, 17 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> K_MDBCLK is randomly generated while keeping the middle button
> pressed and moving the mouse, with GTXWC. This may count as a bug.

I've just tested it using tests/gtkeys and it works correctly just
like LEFT and RIGHT buttons. I tested it with GTXWC and GTTRM and
PTerm (XTerm emulator from PuTTY for *nixes).
If it does not work for you then probably it's a problem with mouse
driver or side effect of some features like enabled middle button
emulation in 3 button mouse. It does not look for me as Harbour
problem.

> The uglier thing is that these ones:
> #define K_MMLEFTDOWN            1011   /* Mouse Move Left Down */
> #define K_MMRIGHTDOWN           1012   /* Mouse Move Right Down */
> #define K_MMMIDDLEDOWN          1013   /* Mouse Move Middle Down */
> will be generated instead of K_MOUSEMOVE, which makes
> it impossible to write portable code between GTs, and it also breaks
> C5.3 compatibility I believe. At least there should be a way to mask
> these out, just like the other 2 x 3 events: INKEY_MMIDDLE and
> INKEY_MWHEEL, with "INKEY_MMDOWN" or similar.

Yes it should. To be compatible with Clipper we should have:
   INKEY_MUP
   INKEY_MDOWN
but to be honest I do not find it very useful. INKEY_MMIDDLE is 99.9%
enough. Just like single mask INKEY_MWHEEL.
Both middle and wheel button support does not change original CL53
values so code written for CL53 can work with then without modifications.
The problem is only with K_MM*DOWN. If they are not designed for extended
mouse keys but used for normal keys then it breaks existing code.
I do not understand why we have it. Such event reporting system does
not give full information about mouse events and it's necessary to
use additionally MCOL() and MROW() to extract mouse position.
So I do not see why programmer cannot call MLEFTDOWN()/MRIGHTDOWN()
to check button state two.
This extension does not give anything new and still keep the problem
Clipper API problem: it's not possible to check where an event happen
because MCOL() and MROW() returns the current mouse position not the
place where event appeared.
If we want to add any extensions then we should make it well and
resolve this problem so mouse events can be reported with cursor
position state and all button states.
The K_MM*DOW extensions does not give anything more then implementing
INKEY() wraper like:

   FUNC MY_INKEY( nDelay, nMask )
      LOCAL nKey
      nKey := INKEY( nDelay, nMask )
      IF nKey == K_MOUSEMOVE
         IF MLEFTDOWN()
            nKey := 1011
         ELSEIF MRIGHTDOWN()
            nKey := 1012
         ELSEIF MMIDDLEDOWN()  // it does not exist yet but can be easy added
            nKey := 1013
         ENDIF
      ENDIF
      RETURN nKey

So anyone who does not need original Clipper INKEY mouse codes can use it.
We can also enable HB_SETINKEYBEFOREBLOCK()/HB_SETINKEYAFTERBLOCK()
functions (I've never enabled them in Harbour) so user can make such
translation for pure INKEY() function by:
   HB_setInketAfterBlock( ;
         { |nKey| IIF( nKey == K_MOUSEMOVE, ;
                     IIF( MLEFTDOWN(), 1011, ;
                        IIF( MRIGHTDOWN(), 1012, ;
                           IIF( MMIDDLEDOWN(), 1013, nKey ) ) ), nKey ) } )

> We have an incompatibility here, and this might solve it.
> What do you think?

See above. Personally I do not find any reason to introduce trivial
to implement by user things which does not give any new functionality
as exceptions to core code. I will not be surprised if M*DOWN() was
not working in xHarbour when it was introduce so it's some type of
workaround for other problems. Pritpal?

> On the other hand, it would nice to add proper support for these
> extensions where possible, and if enabled. GTWIN also don't
> support these, but that's less important.

The only one reasonable extension for me is introducing extended
mouse and keyboard events so programmer can try to detect difference
between CTRL+S and LEFT cursor key and extract mouse events with
the exact position when the even appeared (f.e. the button was pressed)
and full button and key modifiers (SHIFT,CTRL,ALT) state in this moment.
For this we will probably have to use some more complex data then number
or encode this information in bits for: MROW, MCOL, MLEFT, MRIGHT, MMIDDLE,
SHIFT, CTRL, ALT.

> [ This is one reason why it's wiser to mark extensions as such...
> Now I've found and extension the hard way. ]

As opposite marking all harbour extension by HB_ prefix is a nightmare for
people who does not know Clipper wants to use Harbour and cannot understand
why some things have HB_ prefix but other don't and they belong to the same
function group, f.e. we can add:
   HB_FUNC( MMIDDLEDOWN )
   {
      hb_retl( hb_mouseButtonState( M_BUTTON_MIDDLE ) );
   }

but it should not be called HB_MMIDDLEDOWN() because we should have:
   MLEFTDOWN(), MMIDDLEDOWN(), MRIGHTDOWN()
not:
   MLEFTDOWN(), HB_MMIDDLEDOWN(), MRIGHTDOWN()

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb 17 18:00:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 17 18:00:45 2009
Subject: [Harbour] Inkey() problem with GTXWC + mouse
In-Reply-To: <20090217223837.GA25359@uran.home.aster.pl>
References: <18d502870902170904h40e68a05q5f6737c1e5210087@mail.gmail.com>
	<20090217195057.GB4610@uran.home.aster.pl>
	<18d502870902171225i7ff4d4bdu7a18ce459ed8669c@mail.gmail.com>
	<20090217223837.GA25359@uran.home.aster.pl>
Message-ID: <18d502870902171500t1255ac3dvb24ea04294314a80@mail.gmail.com>

Hi Przemek,


> > K_MDBCLK is randomly generated while keeping the middle button
> > pressed and moving the mouse, with GTXWC. This may count as a bug.
>
> I've just tested it using tests/gtkeys and it works correctly just
> like LEFT and RIGHT buttons. I tested it with GTXWC and GTTRM and
> PTerm (XTerm emulator from PuTTY for *nixes).
> If it does not work for you then probably it's a problem with mouse
> driver or side effect of some features like enabled middle button
> emulation in 3 button mouse. It does not look for me as Harbour
> problem.


Okay, might be it's an Ubuntu running under VirtualBox.
Anyhow this isn't really causing headaches for me.


> The problem is only with K_MM*DOWN. If they are not designed for extended
> mouse keys but used for normal keys then it breaks existing code.
> I do not understand why we have it. Such event reporting system does
> not give full information about mouse events and it's necessary to
> use additionally MCOL() and MROW() to extract mouse position.
> So I do not see why programmer cannot call MLEFTDOWN()/MRIGHTDOWN()
> to check button state two.


I didn't know about these functions, but in the shade of them
these event are absolutely pointless.

I've a patch to add a new mask for them, but it'd be better
to just remove them. The other is K_NCMOUSEMOVE which
would better get a mask, but it doesn't cause that big problems.


> This extension does not give anything new and still keep the problem
> Clipper API problem: it's not possible to check where an event happen
> because MCOL() and MROW() returns the current mouse position not the
> place where event appeared.


Good point. I've observed strange things because of that, now
that you mention.


> So anyone who does not need original Clipper INKEY mouse codes can use it.
> We can also enable HB_SETINKEYBEFOREBLOCK()/HB_SETINKEYAFTERBLOCK()
> functions (I've never enabled them in Harbour) so user can make such
> translation for pure INKEY() function by:
>   HB_setInketAfterBlock( ;
>         { |nKey| IIF( nKey == K_MOUSEMOVE, ;
>                     IIF( MLEFTDOWN(), 1011, ;
>                        IIF( MRIGHTDOWN(), 1012, ;
>                           IIF( MMIDDLEDOWN(), 1013, nKey ) ) ), nKey ) } )


In any case, not with these horrible names,
for me personally such extensions always seems
forced and unnatural, and looks like a hack to
workaround app problems. If the group think we
can add them if course, but let's give them slightly
better names:
hb_inkeySetPreBlock()
hb_inkeySetPostBlock()


> The only one reasonable extension for me is introducing extended
> mouse and keyboard events so programmer can try to detect difference
> between CTRL+S and LEFT cursor key and extract mouse events with
> the exact position when the even appeared (f.e. the button was pressed)
> and full button and key modifiers (SHIFT,CTRL,ALT) state in this moment.
> For this we will probably have to use some more complex data then number
> or encode this information in bits for: MROW, MCOL, MLEFT, MRIGHT, MMIDDLE,
> SHIFT, CTRL, ALT.


This would be great. I always wanted to differentiate between
<Ins> and <Ctrl+V>, maybe that would make this possible,
plus a lot of combinations I forgot in the meantime.


> As opposite marking all harbour extension by HB_ prefix is a nightmare for
> people who does not know Clipper wants to use Harbour and cannot understand
> why some things have HB_ prefix but other don't and they belong to the same
> function group, f.e. we can add:


Well, I'm still saying that _all_ extensions should have a prefix, and
a few things may happen from here, either I don't feel like spending
a week trying to defend this rule for every occasions, or I wasn't here,
or the feature wasn't discussed before commit. Every decision is a
compromise for some group of people (this one for new users), in
Harbour we opted to favour compatibility.

>From the current situation where every (well almost) extensions are
properly marked there is an easy way to flat everything into a
generic namespace and make newcomers happy. It's a matter of
a translation table. Try this the other way round...

Let's find out what to do with these incompatible events. In the
mean time I had to modify my code to check for ( key == K_MOUSEMOVE
.OR. key == K_MMLEFTDOWN ).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/e1837cee/attachment-0001.html
From vszakats at users.sourceforge.net  Tue Feb 17 18:02:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 18:02:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10318] trunk/harbour
Message-ID: <E1LZYwy-0006ld-S1@d5vjzd1.ch3.sourceforge.com>

Revision: 10318
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10318&view=rev
Author:   vszakats
Date:     2009-02-17 23:02:00 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-17 23:31 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + contrib/gtalleg/tests
  + contrib/gtalleg/tests/gtalleg-shared.hbp
  + contrib/gtalleg/tests/gtalleg-static.hbp
  * utils/hbmk/examples/whoo.hbp
  * utils/hbmk/examples/c4w.hbp
  * utils/hbmk/examples/minigui.hbp
  * utils/hbmk/examples/hwgui.hbp
  * utils/hbmk/examples/fwh.hbp
  + utils/hbmk/examples/xbgtk.hbp
  + utils/hbmk/examples/xhgtk.hbp
    + Added new hbp files and settings to cover support by current
      hbmk script features.
    + Added new gtalleg hbp files for Windows, both static
      and shared. Added logic from hbmk script for Linux.
    ; NOTE: This is a work in progress, I'll have to investigate
            -I support needed for xbgtk, hbmk can't handle that yet.
            Also pkgconfig notation isn't parsed well yet, there needs
            to be added syntax to allow spaces inside items.
            Expect some possible incompatible changes in this area.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/examples/c4w.hbp
    trunk/harbour/utils/hbmk/examples/fwh.hbp
    trunk/harbour/utils/hbmk/examples/hwgui.hbp
    trunk/harbour/utils/hbmk/examples/minigui.hbp
    trunk/harbour/utils/hbmk/examples/whoo.hbp

Added Paths:
-----------
    trunk/harbour/contrib/gtalleg/tests/
    trunk/harbour/contrib/gtalleg/tests/gtalleg-shared.hbp
    trunk/harbour/contrib/gtalleg/tests/gtalleg-static.hbp
    trunk/harbour/utils/hbmk/examples/xbgtk.hbp
    trunk/harbour/utils/hbmk/examples/xhgtk.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Feb 17 18:09:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 17 18:04:37 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <499474A3.2070209@dbtopas.lt>
References: <21926105.post@talk.nabble.com>
	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>
	<20090210140524.GA23952@uran.home.aster.pl>
	<49919C07.7000700@dbtopas.lt>
	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>
	<20090210164825.GA30386@uran.home.aster.pl>
	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>
	<20090210175218.GA20113@uran.home.aster.pl>
	<20090212144431.GA15304@uran.home.aster.pl>
	<499474A3.2070209@dbtopas.lt>
Message-ID: <20090217230942.GA16310@uran.home.aster.pl>

On Thu, 12 Feb 2009, Mindaugas Kavaliauskas wrote:

Hi Mindaugas,

> 3 Well a can not even understand the third choice. The truth is, that still 
> do not understand string comparison in Clipper, but very well understand 
> strcmp() behaviour.

So you can think about:

   ( <cVal1> <op> <cVal2> )

where <op> is <, <=, >, >=, = as:

   ( strncmp( <cVal1>, <cVal2>, strlen( <cVal2> ) ) <op> 0 )

in C code. The results are exactly the same.
Of course as long as you will not try to enable SET EXACT ON which makes
the string comparison really strange for someone who does not know the
exact semantic.
For me the standard string comparison is simple, natural and very usable,
f.e.:
   SET FILTER TO FIELD->ART_CODE >= "B" .and. FIELD->ART_CODE <= "E"
all articles with code starting on letters: B, C, D, E.
It's much faster then using LEFT() function. Personally I would like to
add switch for compiler to generate PCODE which will not depend on
_SET_EXACT switch. It can greatly help in core code or library code
developing because we will not have to add workarounds for _SET_EXACT.
BTW in rtl/listbox.prg we have _SET_EXACT and this peace of code is
not Clipper compatible because enabling _SET_EXACT does not replicate
the "exact" Clipper comparison used in this code. It should be fixed.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Feb 17 18:20:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 18:20:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10319] trunk/harbour
Message-ID: <E1LZZEf-00077f-5q@d5vjzd1.ch3.sourceforge.com>

Revision: 10319
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10319&view=rev
Author:   vszakats
Date:     2009-02-17 23:20:16 +0000 (Tue, 17 Feb 2009)

Log Message:
-----------
2009-02-18 00:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/listbox.prg
    ! Restored _SET_EXACT dependent code parts to have the
      same logic as before my modifications a few years ago.
      Przemek, is it right now? I honestly didn't understand
      the issue here.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/listbox.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Tue Feb 17 18:25:17 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Feb 17 18:25:19 2009
Subject: [Harbour] dbEdit() CTRL/PG-UP/DOWN not handled?
Message-ID: <499B475D.5090600@zen.co.uk>

In dbEdit()  CTRL/PAGE_UP and CTRL/PAGE_DOWN are not being handled 
internally AND the user function is not being called.
Is this a known bug ?    (Linux)
Regards
Barry
From zen25000 at zen.co.uk  Tue Feb 17 18:46:47 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Feb 17 18:46:49 2009
Subject: [Harbour] dbEdit() CTRL/PG-UP/DOWN not handled?
In-Reply-To: <499B475D.5090600@zen.co.uk>
References: <499B475D.5090600@zen.co.uk>
Message-ID: <499B4C67.7020305@zen.co.uk>

I have just discovered that the problem is not there when running in a
different terminal.
Using the Dolphin (KDE) file manager F4 terminal - no problem.
Using Mandriva "konsole" CTRL/PG-UP/DOWN don't work.
I normally use Mandriva konsole.
Rgds Barry



Barry Jackson wrote:
> In dbEdit()  CTRL/PAGE_UP and CTRL/PAGE_DOWN are not being handled 
> internally AND the user function is not being called.
> Is this a known bug ?    (Linux)
> Regards
> Barry
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
From vszakats at users.sourceforge.net  Tue Feb 17 20:06:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 17 20:07:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10320] trunk/harbour
Message-ID: <E1LZatu-0004LU-9I@c3vjzd1.ch3.sourceforge.com>

Revision: 10320
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10320&view=rev
Author:   vszakats
Date:     2009-02-18 01:06:57 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 02:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    ! Fixed not recognising hbp lines if the filter was at BOL.
    ! Two minor fixes.

  * utils/hbmk/examples/xbgtk.hbp
    + Added cflags, it was already supported, just forgot about it.

  * contrib/hbblat/tests/hbblat.hbp
  * contrib/hbblat/tests/blatcmd.prg
    % Using WIN_GETCOMMANDLINEPARAM().

  * contrib/hbwin/win_misc.c
  * contrib/hbwin/tests/testreg.prg
    + Added WIN_GETCOMMANDLINEPARAM().
      Similar to WAPI_GETCOMMANDLINE() but returns
      only the parameter part. Handles UNICODE,
      _SET_OSCODEPAGE and appnames with spaces.

  * contrib/hbwin/tests/hbwin.hbp
    ! Fixed to include shell32 lib.

  * contrib/hbwin/Makefile
  * contrib/hbwin/common.mak
  + contrib/hbwin/wapi_winbase.c
  * contrib/hbwin/tests/testreg.prg
    + Added WAPI_GETCOMMANDLINE().
      With UNICODE and _SET_OSCODEPAGE support.

  * ChangeLog
    * TOFIX (hb_cmdline()) marked as POSTPONED with explanation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbblat/tests/blatcmd.prg
    trunk/harbour/contrib/hbblat/tests/hbblat.hbp
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/common.mak
    trunk/harbour/contrib/hbwin/tests/hbwin.hbp
    trunk/harbour/contrib/hbwin/tests/testreg.prg
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/utils/hbmk/examples/xbgtk.hbp
    trunk/harbour/utils/hbmk/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/wapi_winbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Wed Feb 18 02:08:21 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Feb 18 02:08:34 2009
Subject: [Harbour] harbour project group on facebook
In-Reply-To: <609353e70902170819v3bd790cfy81c01a49139b187a@mail.gmail.com>
References: <609353e70902170819v3bd790cfy81c01a49139b187a@mail.gmail.com>
Message-ID: <499BB3E5.9050208@mweb.co.za>

Massimo Belgrano wrote:
> I invite everybody to join harbour group on facebook
> 
> http://www.facebook.com/groups/edit.php?customize&gid=48795263775#/group.php?gid=48795263775
> 
I'm an old fart Massimo, facebook is for my kids :)

Cheers
Alex
From sscc at mweb.co.za  Wed Feb 18 02:18:07 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Feb 18 02:18:20 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>	<20090217123037.GA26465@uran.home.aster.pl>	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>	<499AB20C.1080406@mweb.co.za>
	<18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>
Message-ID: <499BB62F.3090004@mweb.co.za>

Viktor Szak?ts wrote:

> What is the significance of 'bin/hb-build' ?

Sorry, I don't know.

Regards
Alex
From M.Horodyski at pzuzycie.com.pl  Wed Feb 18 02:57:06 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Feb 18 02:57:20 2009
Subject: [Harbour] Errors in last builds (install).
In-Reply-To: <609353e70902170813x165c3418t4c66d32c54c7ec2f@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE93@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Tuesday, February 17, 2009 5:13 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Errors in last builds (install).
>
>set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>set HB_ARCHITECTURE=win
>set HB_COMPILER=mingw
>set HB_USER_LDFLAGS=-s
>CD \HARBOUR
>sh make_gnu.sh clean install
>

I have :
Path=C:\BATCH;C:\ExeCom;C:\harbour\bin;C:\watcom\BINNT;C:\watcom\BINW;C:\Program Files\QuickTime\QTSystem\;C:\WINDOWS\system
:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\system32\nls;C:\WINDOWS\system32\nls\POLSK;C:\BORLAND\BCC55\BIN;
PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH
HB_ARCHITECTURE=w32
HB_COMPILER=owatcom

And don't have HB_USER_LDFLAGS

When I set architecture to win and define HB_USER_LDFLAGS, have I :

C:\harbour>make_gnu.bat                                                                                                     
make[3]: [hbpp.exe] Error 1 (ignored)                                                                                       
process_begin: CreateProcess(NULL, ./hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c -v../../../../include/hbverb
, ...) failed.                                                                                                              
make (e=2): Nie mo?na odnale?? okre?lonego pliku.                                                                           
make[3]: *** [pptable.c] Error 2                                                                                            
make[2]: *** [descend] Error 2                                                                                              
make[1]: *** [pp] Error 2                                                                                                   
make: *** [source] Error 2                                                                                                  

:(

Regards,
Marek Horodyski
From M.Horodyski at pzuzycie.com.pl  Wed Feb 18 03:04:52 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Feb 18 03:04:58 2009
Subject: [Harbour] Errors in last builds (install).
In-Reply-To: <18d502870902170823i43b6cc8bt9aaa0920288bcbc9@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE9C@PINK.zycie.pzu>

From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
Sent: Tuesday, February 17, 2009 5:23 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Errors in last builds (install).

	I'm getting the same. Didn't try to run it like this since 
	a very long time, so it's difficult to tell when did it break.
	[...]
	Overall I recommend the msys way. It feels much more 
	robust and even faster.

MSYS  way ?
Can you write 2 words about how to do this?

Regards,
Marek Horodyski
From maurilio.longo at libero.it  Wed Feb 18 03:14:56 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 03:15:08 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <18d502870902171014n635ec128h7204efb805f642a6@mail.gmail.com>
References: <499AEAA0.1040701@libero.it>	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>	<499AFB1F.80901@libero.it>
	<18d502870902171014n635ec128h7204efb805f642a6@mail.gmail.com>
Message-ID: <499BC380.40305@libero.it>

Viktor,

> Thanks, we need fix this for OS/2, more closely hb_cmdargInit(), 
> argv[0] detection.
> 
> Could you help here? Does OS/2 have a native call to determine this?
> 

Yes, it has a function which returns:

--------------8<--------------
This is the address of the ASCIIZ argument strings passed to the program. This
string represents command parameters.

The convention used by CMD.EXE is that the first of these strings is the
program name (as entered from the command prompt or found in a batch file),
and the second string consists of the parameters for the program. The second
ASCIIZ string is followed by an additional byte of zeros. A value of zero for
the address of pib_pchcmd means that no arguments are to be passed to the
program.
------------->8---------------

I'll into this issue later.

Thanks.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Wed Feb 18 03:17:12 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 03:17:23 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <20090217183026.GA8333@uran.home.aster.pl>
References: <499AEAA0.1040701@libero.it>	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>	<499AFB1F.80901@libero.it>
	<20090217183026.GA8333@uran.home.aster.pl>
Message-ID: <499BC408.9000602@libero.it>

Przemyslaw Czerpak wrote:
> On Tue, 17 Feb 2009, Maurilio Longo wrote:
> 
> Hi Maurilio,
> 
>> hb_DirBase() is empty if I don't write the full path to hbmk2.exe when calling
>> it (either absolute or relative).
>> It seems that argv[0] does not contain executable path, but just executable
>> name (I did just a quick test).
> 
> Please look at source/vm/cmdarg.c and function hb_cmdargInit().
> We are trying her to replicate DOS argv[0] behavior in different
> platform. If OS2 has sth like GetModuleFileName() in Windows then
> please add support for it and overload the 1-st parameter by the
> result kept in static s_szAppName buffer. I guess that in OS2
> the .exe extension is not added to argv[0] so the PATH scan does
> not work. If I'm right then it should work if you call it using:
> hbmk2.exe. In such case if OS2 does not have function like MS-Win
> GetModuleFileName() then you may try to set the default extension.
> Before:
>             while( pNextPath )
>             {
> 
> add this lines:
> 
> #ifdef HB_OS_OS2
>             if( !pFName->szExt )
>                pFName->szExt = ".exe";
> #endif

Przemyslaw,

as usual you're right, calling hbmk2.exe makes it work :)

I'll try to fix this issue.

Thanks.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Wed Feb 18 03:26:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 03:27:01 2009
Subject: [Harbour] harbour project group on facebook
In-Reply-To: <499BB3E5.9050208@mweb.co.za>
References: <609353e70902170819v3bd790cfy81c01a49139b187a@mail.gmail.com>
	<499BB3E5.9050208@mweb.co.za>
Message-ID: <609353e70902180026y7a161d58vd98c0dc3b427430@mail.gmail.com>

Created in 2004, by 2007 Facebook was reported to have more than 21
million registered members generating 1.6 billion page views each day
Facebook is  a string way for  establish or maintain connections with
friends,parent, people that you know and imo this is good for all age
You can find and maintain a connection with people with you same interest
for example you can chat on line with me , or other people that love
an Harbour For Clipper
Create Your profile is very easy are 4 simple step. Are sufficient
your name and your email , bird date (that can be not visible) no
other information is necessary also  if you want can add a photo an a
more detailed profile

I invite you and all people here to register on facebook to combact
with us our war at hatred and ignorance
http://www.facebook.com/groups/edit.phpcustomize&gid=48795263775#/group.php?gid=48795263775



2009/2/18 Alex Strickland <sscc@mweb.co.za>:
> Massimo Belgrano wrote:
>>
>> I invite everybody to join harbour group on facebook
>>
>>
>> http://www.facebook.com/groups/edit.php?customize&gid=48795263775#/group.php?gid=48795263775
>>
> I'm an old fart Massimo, facebook is for my kids :)
>
> Cheers
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Feb 18 03:33:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 03:33:27 2009
Subject: [Harbour] Errors in last builds (install).
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE93@PINK.zycie.pzu>
References: <609353e70902170813x165c3418t4c66d32c54c7ec2f@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE93@PINK.zycie.pzu>
Message-ID: <609353e70902180033j31a3609w89ed23da8572392d@mail.gmail.com>

First suggestion having c compiler in first position in path and one
compiler at time
for minigw is string recommended having  msys in first position and
mingw in second
The audodetect find your c compiler in your path so help him
the manual procedure set HB_ARCHITECTURE= and  HB_COMPILER to proper value

2009/2/18 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>Sent: Tuesday, February 17, 2009 5:13 PM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] Errors in last builds (install).
>>
>>set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>>set HB_ARCHITECTURE=win
>>set HB_COMPILER=mingw
>>set HB_USER_LDFLAGS=-s
>>CD \HARBOUR
>>sh make_gnu.sh clean install
>>
>
> I have :
> Path=C:\BATCH;C:\ExeCom;C:\harbour\bin;C:\watcom\BINNT;C:\watcom\BINW;C:\Program Files\QuickTime\QTSystem\;C:\WINDOWS\system
> :\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\system32\nls;C:\WINDOWS\system32\nls\POLSK;C:\BORLAND\BCC55\BIN;
> PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH
> HB_ARCHITECTURE=w32
> HB_COMPILER=owatcom
>
> And don't have HB_USER_LDFLAGS
>
> When I set architecture to win and define HB_USER_LDFLAGS, have I :
>
> C:\harbour>make_gnu.bat
> make[3]: [hbpp.exe] Error 1 (ignored)
> process_begin: CreateProcess(NULL, ./hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c -v../../../../include/hbverb
> , ...) failed.
> make (e=2): Nie mo?na odnale?? okre?lonego pliku.
> make[3]: *** [pptable.c] Error 2
> make[2]: *** [descend] Error 2
> make[1]: *** [pp] Error 2
> make: *** [source] Error 2
>
> :(
>
> Regards,
> Marek Horodyski
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Feb 18 03:48:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 03:48:57 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express
	edition with Harbour From svn
Message-ID: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>

If you choice Visual C ++ for windows version or harbour
Dowload and install tortoise from http://tortoisesvn.tigris.org/

Right Click on your c Drive and  in svn checkout pass as address
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour

Now you have source of harbour on c:\harbour

you can download Microsoft Visual C++ Express from
http://www.microsoft.com/express/vcsharp/
Here you can download sdk for visual c++ from
http://www.microsoft.com/downloads/details.aspx?FamilyID=e6e1c3df-a74f-4207-8586-711ebe331cdc&displaylang=en


Execute This batch cchbvc9 for compile harbour and contrib
---------------cchbvc9.bat----------------
SET HB_VISUALC_VER=90
SET HB_INSTALL_PREFIX=C:\harbour
SET LIB=C:\HARBOUR\LIB
SET INCLUDE=C:\HARBOUR\INCLUDE
call "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
CD \HARBOUR
CALL MAKE_VC CLEAN
CALL MAKE_VC
CALL MAKE_VC INSTALL
CD \HARBOUR\CONTRIB
Echo ----------contrib---------
CALL MAKE_VC_ALL CLEAN
CALL MAKE_VC_ALL
cd \harbour
CALL MAKE_VC INSTALL
cd \



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Feb 18 03:52:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 03:52:38 2009
Subject: [Harbour] Errors in last builds (install).
In-Reply-To: <609353e70902180033j31a3609w89ed23da8572392d@mail.gmail.com>
References: <609353e70902170813x165c3418t4c66d32c54c7ec2f@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8CE93@PINK.zycie.pzu>
	<609353e70902180033j31a3609w89ed23da8572392d@mail.gmail.com>
Message-ID: <18d502870902180052s176d44er860f7b48f55dfcc@mail.gmail.com>

>
> First suggestion having c compiler in first position in path and one
> compiler at time
> for minigw is string recommended having  msys in first position and
> mingw in second
> The audodetect find your c compiler in your path so help him
> the manual procedure set HB_ARCHITECTURE= and  HB_COMPILER to proper value


Please don't confuse the Harbour build process with hbmk.

Harbour build process doesn't do arch/comp autodetection, only hbmk.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/3810050d/attachment.html
From lorenzo.fiorini at gmail.com  Wed Feb 18 04:00:22 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 18 04:00:27 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>
Message-ID: <9257026e0902180100i23d32ce5r8531486845ab098@mail.gmail.com>

On Tue, Feb 17, 2009 at 5:56 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> What is the significance of 'bin/hb-build' ?

It is the "target" created by hb-func.sh during postinst.
hbcc, hbmk, hbcmp, hblnk are simply simlinks to hb-build.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Feb 18 04:07:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:07:28 2009
Subject: [Harbour] OS/2 batch question
Message-ID: <18d502870902180107p1a6a4815n8b3a80054676221@mail.gmail.com>

Hi Maurilio, David,
Does OS/2 command interpreter supports %* to retrieve all
parameters passed to a batch file?

--- hello.cmd
echo %*
---

>hello.cmd 1 2 3 4 5 6
1 2 3 4 5 6

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/43bb816b/attachment.html
From maurilio.longo at libero.it  Wed Feb 18 04:09:25 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 04:09:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <20090217194248.GA4610@uran.home.aster.pl>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>	<49954990.3000503@libero.it>	<20090215173534.GA31852@uran.home.aster.pl>	<49992866.8090806@libero.it>	<20090216192437.GA24539@uran.home.aster.pl>	<499A97C3.5040806@libero.it>	<20090217121556.GA26868@uran.home.aster.pl>
	<20090217194248.GA4610@uran.home.aster.pl>
Message-ID: <499BD045.7010505@libero.it>

Przemyslaw,

Przemyslaw Czerpak wrote:
> On Tue, 17 Feb 2009, Przemyslaw Czerpak wrote:
> 
> Hi Maurilio,
> 
>> The only one solution I see here is introducing
>> second event semaphore and maybe also event queue if it will not be
>> enough. I have to rethink it yet and build a model to not miss sth
>> important.
> 
First, note that you have an api DosCreateMuxWaitSem() to wait for up to 64
envent semaphores _OR_ mutexes (they cannot be mixed) with a single call, I
don't know if this can make your job easier, though.

--------8<--------------
Semaphores are defined by OS/2 and reside in an internal memory buffer. They
are divided into three types, according to the functionality they provide:

Event semaphores enable a thread to notify waiting threads that an event has
occurred. The waiting threads then resume execution, performing operations
that are dependent on the completion of the signaled event.

Mutual exclusion (mutex) semaphores enable threads to serialize their access
to shared resources. That is, ownership of a mutex semaphore is used by
cooperating threads as a prerequisite for performing operations on a resource.
(Threads cooperate by using the mutex semaphore functions to ensure that
access to the resource is mutually exclusive.)

Multiple wait (muxwait) semaphores enable threads to wait either for multiple
events to occur, or for multiple resources to become available. Alternatively,
a flag can be set so that a thread waits for any one of multiple events to
occur, or for any one of multiple resources to become available.
-------->8--------------

> I think that the easiest way will be implementing real conditional
> variables like in PTHREADS.
> I will need for this event semaphore allocated for each thread and
> keep waiting thread list for each conditional variable. To avoid
> memory allocation at run time the waiting thread list items will be
> part of HB_THREADSTATE. One thread can wait only on one semaphore
> so we need only single item per thread. Because each thread will
> use its own event semaphore then we can rest them and signal for
> each thread without the bad side effects I was describing.
> I only do not know how many event semaphores can be allocated per
> process. The maximal value may reduce number of threads which can
> be executed simultaneously. I hope it's bigger. If not then we

--------8<-------------
There is a system-wide limit of 65536 (64K) shared semaphores (including
mutex, event, and muxwait semaphores); in addition, each process can have up
to 65536 (64K) private semaphores.
-------->8-------------

> can try to use thread suspend/resume mechanism but in such case
> 1-st I will have to carefully read OS2 documentation to not find
> some new unexpected problems.
> Below I'm attaching basic version of code which introduce conditional
> variables working like in PTHREADS. Please look at it and tell me
> what do you think about it.
> If in OS2 thread can suspend itself for given time period and be
> resumed on other thread request then we can eliminate even semaphores.
> 

There is a couple of APIs for this but they have this limitation which I think
makes them not suited for this task:

--------------8<-------------
A thread's execution is suspended when another thread in its process issues
DosSuspendThread, specifying the ID of the target thread. The thread may not
be suspended immediately because it may have locked some system resources that
have to be freed first. However, the thread is not allowed to execute further
application program instructions until a corresponding DosResumeThread is issued.

DosSuspendThread permits the suspension of only one other thread within the
current process. If a thread needs to disable all thread switching within its
process so that the calling thread can execute time-critical code, it issues
DosEnterCritSec and DosExitCritSec.

DosKillThread will not terminate a thread that is suspended. Instead the
suspended thread will be terminated when it resumes execution. For this
reason, you should not kill the main thread of an application if there are any
secondary threads that are suspended.

Note: This function is very powerful and must be used with extreme caution. It
should be used only when the state of the target thread is known.
-------------->8-------------

I'll look at the code later.

Thanks.

Maurilio.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Wed Feb 18 04:13:36 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 04:13:46 2009
Subject: [Harbour] OS/2 batch question
In-Reply-To: <18d502870902180107p1a6a4815n8b3a80054676221@mail.gmail.com>
References: <18d502870902180107p1a6a4815n8b3a80054676221@mail.gmail.com>
Message-ID: <499BD140.3060705@libero.it>

Viktor,

no.

You have %1, %2 and so on and you can shift them if they're more than 10.

-------------8<--------------
To shift the parameters on the command line one position to the left, with the
%0 parameter being replaced by the %1 parameter and so on, type the following
in your batch file.

ECHO %0
.
.
.
ECHO %8
SHIFT
ECHO %9
.
.
.



As an example, assume:

%0 = 'round'
%1 = 'square'
%2 = 'flat'
%3 - %9 are empty


A SHIFT results in the following:

%0 = 'square'
%1 = 'flat'
%2 - %9 are empty


In the following batch file named PROCESS.CMD, you could use a file such as
this to call other processes and call on more than the 10 (%0 through %9)
variables that only batch-file processing allows. The file will process the
first batch file specified, and the SHIFT command will then move to the next
specified batch file. This allows you to specify the files to be processed in
any order that you want as well as vary the number of files to be processed.

@ECHO OFF
:CHECK
IF "%1" == "" GOTO DONE

ECHO PROCESSING THE FILE %1
CALL %1
SHIFT
GOTO CHECK

:DONE
ECHO PROCESSING COMPLETED


To process three files named FILE1, FILE6, and FILE2 using the batch file in
the previous example, enter the following at the command line:

PROCESS FILE1 FILE6 FILE2


The SHIFT results in the following:

PROCESSING THE FILE FILE1
(output of file1 if there is any...)
PROCESSING THE FILE FILE6
(output of file6 if there is any...)
PROCESSING THE FILE FILE2
(output of file2 if there is any...)
PROCESSING COMPLETED
------------->8--------------

Best regards.

Maurilio.

Viktor Szak?ts wrote:
> Hi Maurilio, David,
> 
> Does OS/2 command interpreter supports %* to retrieve all 
> parameters passed to a batch file?
> 
> --- hello.cmd
> echo %*
> ---
> 
>>hello.cmd 1 2 3 4 5 6
> 1 2 3 4 5 6
> 
> Brgds,
> Viktor
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Wed Feb 18 04:14:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:14:12 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
Message-ID: <18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>

Here's a cleaned/fixed one.(and we're back to my first e-mail on this thread
basically ;)

Execute this batch cchbvc9 to from the Harbour source root dir
to build harbour and all contribs for MSVC 2008 Intel 32-bit.
---
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
set HB_VISUALC_VER=90
call make_vc clean
call make_vc
call make_vc install
cd contrib
call make_vc_all clean
call make_vc_all
call make_vc_all install
cd ..
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/cb311d4c/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 04:15:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:15:05 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <9257026e0902180100i23d32ce5r8531486845ab098@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>
	<9257026e0902180100i23d32ce5r8531486845ab098@mail.gmail.com>
Message-ID: <18d502870902180115r49f09a6bp41d31274918a6848@mail.gmail.com>

Thanks Lorenzo.

On Wed, Feb 18, 2009 at 10:00 AM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com
> wrote:

> On Tue, Feb 17, 2009 at 5:56 PM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
>
> > What is the significance of 'bin/hb-build' ?
>
> It is the "target" created by hb-func.sh during postinst.
> hbcc, hbmk, hbcmp, hblnk are simply simlinks to hb-build.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/56225cb6/attachment.html
From mbelgrano at deltain.it  Wed Feb 18 04:16:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 04:16:16 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <9257026e0902180100i23d32ce5r8531486845ab098@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>
	<9257026e0902180100i23d32ce5r8531486845ab098@mail.gmail.com>
Message-ID: <609353e70902180116m6bbc9d7epb0e13831f6e74f09@mail.gmail.com>

Sorry i want try to help but is still difficult but when we have one
tool for build and one for make all be more simplest.

Can i suggest for hbmk2 the conditional compilation that non compile
module already compiled comparing creation date (i think)


2009/2/18 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>:
> On Tue, Feb 17, 2009 at 5:56 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>
>> What is the significance of 'bin/hb-build' ?
>
> It is the "target" created by hb-func.sh during postinst.
> hbcc, hbmk, hbcmp, hblnk are simply simlinks to hb-build.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Wed Feb 18 04:17:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:17:50 2009
Subject: [Harbour] OS/2 batch question
In-Reply-To: <499BD140.3060705@libero.it>
References: <18d502870902180107p1a6a4815n8b3a80054676221@mail.gmail.com>
	<499BD140.3060705@libero.it>
Message-ID: <18d502870902180117y5d33881dxf52947f3424ef75d@mail.gmail.com>

Many thanks Maurilio.
Brgds,
Viktor

On Wed, Feb 18, 2009 at 10:13 AM, Maurilio Longo
<maurilio.longo@libero.it>wrote:

> Viktor,
>
> no.
>
> You have %1, %2 and so on and you can shift them if they're more than 10.
>
> -------------8<--------------
> To shift the parameters on the command line one position to the left, with
> the
> %0 parameter being replaced by the %1 parameter and so on, type the
> following
> in your batch file.
>
> ECHO %0
> .
> .
> .
> ECHO %8
> SHIFT
> ECHO %9
> .
> .
> .
>
>
>
> As an example, assume:
>
> %0 = 'round'
> %1 = 'square'
> %2 = 'flat'
> %3 - %9 are empty
>
>
> A SHIFT results in the following:
>
> %0 = 'square'
> %1 = 'flat'
> %2 - %9 are empty
>
>
> In the following batch file named PROCESS.CMD, you could use a file such as
> this to call other processes and call on more than the 10 (%0 through %9)
> variables that only batch-file processing allows. The file will process the
> first batch file specified, and the SHIFT command will then move to the
> next
> specified batch file. This allows you to specify the files to be processed
> in
> any order that you want as well as vary the number of files to be
> processed.
>
> @ECHO OFF
> :CHECK
> IF "%1" == "" GOTO DONE
>
> ECHO PROCESSING THE FILE %1
> CALL %1
> SHIFT
> GOTO CHECK
>
> :DONE
> ECHO PROCESSING COMPLETED
>
>
> To process three files named FILE1, FILE6, and FILE2 using the batch file
> in
> the previous example, enter the following at the command line:
>
> PROCESS FILE1 FILE6 FILE2
>
>
> The SHIFT results in the following:
>
> PROCESSING THE FILE FILE1
> (output of file1 if there is any...)
> PROCESSING THE FILE FILE6
> (output of file6 if there is any...)
> PROCESSING THE FILE FILE2
> (output of file2 if there is any...)
> PROCESSING COMPLETED
> ------------->8--------------
>
> Best regards.
>
> Maurilio.
>
> Viktor Szak?ts wrote:
> > Hi Maurilio, David,
> >
> > Does OS/2 command interpreter supports %* to retrieve all
> > parameters passed to a batch file?
> >
> > --- hello.cmd
> > echo %*
> > ---
> >
> >>hello.cmd 1 2 3 4 5 6
> > 1 2 3 4 5 6
> >
> > Brgds,
> > Viktor
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/371f8102/attachment.html
From druzus at users.sourceforge.net  Wed Feb 18 04:20:40 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 18 04:20:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10321] trunk/harbour
Message-ID: <E1LZibg-0000cT-1Z@3kljzd1.ch3.sourceforge.com>

Revision: 10321
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10321&view=rev
Author:   druzus
Date:     2009-02-18 09:20:39 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 10:25 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/source/vm/cmdarg.c
  * harbour/source/vm/hvm.c
    * added hb_cmdargUpdate() function which makes final argc/argv updating
      (code moved from hb_cmdargInit())
    ! use hb_cmdargUpdate() - it fixes GPF in MT mode when some fs* functions
      were called before allocating HVM stack
    ; TOFIX: change some hb_setGet*() functions to work without HVM stack.

  * harbour/source/rtl/hbtoken.c
    * formatting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/source/rtl/hbtoken.c
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/source/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 18 04:23:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:23:50 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
Message-ID: <18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>

And if we're at it, here's one which is supposed to work with the GNU-make
(let's call this an 'alpha' version):

---
rem 1) You need to have MinGW 'make.exe' in your path.
rem 2) Run from the Harbour source root dir.

call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86

set HB_ARCHITECTURE=win
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
make install -r
---

Brgds,
Viktor

On Wed, Feb 18, 2009 at 10:14 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Here's a cleaned/fixed one.(and we're back to my first e-mail on this
> thread basically ;)
>
> Execute this batch cchbvc9 to from the Harbour source root dir
> to build harbour and all contribs for MSVC 2008 Intel 32-bit.
> ---
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
> set HB_VISUALC_VER=90
> call make_vc clean
> call make_vc
> call make_vc install
> cd contrib
> call make_vc_all clean
> call make_vc_all
> call make_vc_all install
> cd ..
> ---
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/3a9e00ab/attachment.html
From sscc at mweb.co.za  Wed Feb 18 04:27:52 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Feb 18 04:28:01 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <609353e70902180116m6bbc9d7epb0e13831f6e74f09@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>	<20090217123037.GA26465@uran.home.aster.pl>	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>	<499AB20C.1080406@mweb.co.za>	<18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>	<9257026e0902180100i23d32ce5r8531486845ab098@mail.gmail.com>
	<609353e70902180116m6bbc9d7epb0e13831f6e74f09@mail.gmail.com>
Message-ID: <499BD498.20801@mweb.co.za>

Massimo Belgrano wrote:

> Can i suggest for hbmk2 the conditional compilation that non compile
> module already compiled comparing creation date (i think)

It is *not* a make tool. It is simply a wrapper around the compiler 
and linker, a replacement for cl.exe and rtlink.exe, not rmake.exe.

GNU make is an excellent product for a make tool, and it would be a 
huge task replacing it, and not necessary.

Regards
Alex
From harbour.01 at syenar.hu  Wed Feb 18 04:29:24 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:29:30 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <609353e70902180116m6bbc9d7epb0e13831f6e74f09@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>
	<9257026e0902180100i23d32ce5r8531486845ab098@mail.gmail.com>
	<609353e70902180116m6bbc9d7epb0e13831f6e74f09@mail.gmail.com>
Message-ID: <18d502870902180129y344f3579y9be7c872e52fceda@mail.gmail.com>

>
> Sorry i want try to help but is still difficult but when we have one
> tool for build and one for make all be more simplest.


How would you build the Harbour build tool withour Harbour?

These are two different topics, please let's no mix them together.

It'd be much more important to clean both processes to have
_one common method each_. (GNU-make and hbmk respectively).


> Can i suggest for hbmk2 the conditional compilation that non compile
> module already compiled comparing creation date (i think)


hbmk cleans the objects it created, so it'd need a serious
change in functionality compared to current state. I don't
plan to deal with this right now.

If you need such functionality, you'll have to use hbcmp, hblnk,
plus the help of an incremental build tool, like GNU-make, nmake,
etc.

Implementing this in Harbour seems like an unnecessary double
work.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/720c326a/attachment-0001.html
From mbelgrano at deltain.it  Wed Feb 18 04:33:21 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 04:33:25 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
	<18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
Message-ID: <609353e70902180133x71d15dcag35eb5fb6e08fbf51@mail.gmail.com>

and what do you think about set HB_  gccMAKEpath=C:\devl\make
so it will be compiler directory also if it is not in path?

2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> And if we're at it, here's one which is supposed to work
> with the GNU-make (let's call this an 'alpha' version):
> ---
> rem 1) You need to have MinGW 'make.exe' in your path.
> rem 2) Run from the Harbour source root dir.
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>
> set HB_ARCHITECTURE=win
> set HB_COMPILER=msvc
> set HB_INSTALL_PREFIX=%~dp0
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> make install -r
> ---
> Brgds,
> Viktor
>
> On Wed, Feb 18, 2009 at 10:14 AM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
>>
>> Here's a cleaned/fixed one.
>> (and we're back to my first e-mail on this thread basically ;)
>> Execute this batch cchbvc9 to from the Harbour source root dir
>> to build harbour and all contribs for MSVC 2008 Intel 32-bit.
>> ---
>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>> set HB_VISUALC_VER=90
>> call make_vc clean
>> call make_vc
>> call make_vc install
>> cd contrib
>> call make_vc_all clean
>> call make_vc_all
>> call make_vc_all install
>> cd ..
>> ---
>> Brgds,
>> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From vszakats at users.sourceforge.net  Wed Feb 18 04:34:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 04:34:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10322] trunk/harbour
Message-ID: <E1LZipP-0008OK-Cm@bj8yhf1.ch3.sourceforge.com>

Revision: 10322
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10322&view=rev
Author:   vszakats
Date:     2009-02-18 09:34:50 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 10:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.bat
    + Added generation of hbcc[.bat|.cmd], hbcmp[.bat|.cmd]
      and hblnk[.bat|.cmd].
    ; NOTE: Available only when using GNU-make to build Harbour.

  * utils/hbmk/hbmk2.prg
    % Minor optimizations.
    + HB_USER_LIBS now gets automatic path separator adjustment.

  * config/win/msvc.cf
    ! Added missing system libs.
    ! Tweaked C options to be like in non-GNU make.

  * make_gcc.sh
  * make_gnu.sh
    - Removed compatibility with HB_ARCHITECTURE = w32.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/make_gcc.sh
    trunk/harbour/make_gnu.sh
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 18 04:36:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:36:52 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <609353e70902180133x71d15dcag35eb5fb6e08fbf51@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
	<18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
	<609353e70902180133x71d15dcag35eb5fb6e08fbf51@mail.gmail.com>
Message-ID: <18d502870902180136s4e483363ha0be9cb2c67deda3@mail.gmail.com>

>
> and what do you think about set HB_  gccMAKEpath=C:\devl\make
> so it will be compiler directory also if it is not in path?


Why would this be simpler than:
set PATH=C:\devl\make;%PATH%
?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/d8760ba9/attachment.html
From mbelgrano at deltain.it  Wed Feb 18 04:37:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 04:37:54 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902180129y344f3579y9be7c872e52fceda@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>
	<9257026e0902180100i23d32ce5r8531486845ab098@mail.gmail.com>
	<609353e70902180116m6bbc9d7epb0e13831f6e74f09@mail.gmail.com>
	<18d502870902180129y344f3579y9be7c872e52fceda@mail.gmail.com>
Message-ID: <609353e70902180137g6d3e2b7lca315ac057e497f5@mail.gmail.com>

Ok i agree no problem
In your opinion Is hbmk2 a definitive name?
do you Plan other functionality for 1.1?

2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Sorry i want try to help but is still difficult but when we have one
>> tool for build and one for make all be more simplest.
>
> How would you build the Harbour build tool withour Harbour?
> These are two different topics, please let's no mix them together.
> It'd be much more important to clean both processes to have
> _one common method each_. (GNU-make and hbmk respectively).
>
>>
>> Can i suggest for hbmk2 the conditional compilation that non compile
>> module already compiled comparing creation date (i think)
>
> hbmk cleans the objects it created, so it'd need a serious
> change in functionality compared to current state. I don't
> plan to deal with this right now.
> If you need such functionality, you'll have to use hbcmp, hblnk,
> plus the help of an incremental build tool, like GNU-make, nmake,
> etc.
> Implementing this in Harbour seems like an unnecessary double
> work.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From mbelgrano at deltain.it  Wed Feb 18 04:39:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 04:39:44 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <18d502870902180136s4e483363ha0be9cb2c67deda3@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
	<18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
	<609353e70902180133x71d15dcag35eb5fb6e08fbf51@mail.gmail.com>
	<18d502870902180136s4e483363ha0be9cb2c67deda3@mail.gmail.com>
Message-ID: <609353e70902180139q7dc23221i39947628da5e67d0@mail.gmail.com>

Beceuse if i store in gcc compiler directory i don't want collide with
Ms compiler for example

2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
>> and what do you think about set HB_  gccMAKEpath=C:\devl\make
>> so it will be compiler directory also if it is not in path?
>
> Why would this be simpler than:
> set PATH=C:\devl\make;%PATH%
> ?
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Feb 18 04:43:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:43:47 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <609353e70902180137g6d3e2b7lca315ac057e497f5@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<18d502870902170404g3d21eb96sc6ac0611d9afa23e@mail.gmail.com>
	<20090217123037.GA26465@uran.home.aster.pl>
	<18d502870902170440x3fce8dbbpa9633aa69c07f423@mail.gmail.com>
	<499AB20C.1080406@mweb.co.za>
	<18d502870902170856o7428fd4bm37eb72ad160e6111@mail.gmail.com>
	<9257026e0902180100i23d32ce5r8531486845ab098@mail.gmail.com>
	<609353e70902180116m6bbc9d7epb0e13831f6e74f09@mail.gmail.com>
	<18d502870902180129y344f3579y9be7c872e52fceda@mail.gmail.com>
	<609353e70902180137g6d3e2b7lca315ac057e497f5@mail.gmail.com>
Message-ID: <18d502870902180143x7f71a7c1n38f9acb566f25ed5@mail.gmail.com>

Definitive name is 'hbmk'. hbmk2 is temporary, I hope.
See the TODO/TOFIXes in hbmk.prg for some possibilities,
and my notes in the ChangeLog.

Brgds,
Viktor

On Wed, Feb 18, 2009 at 10:37 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Ok i agree no problem
> In your opinion Is hbmk2 a definitive name?
> do you Plan other functionality for 1.1?
>
> 2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> >> Sorry i want try to help but is still difficult but when we have one
> >> tool for build and one for make all be more simplest.
> >
> > How would you build the Harbour build tool withour Harbour?
> > These are two different topics, please let's no mix them together.
> > It'd be much more important to clean both processes to have
> > _one common method each_. (GNU-make and hbmk respectively).
> >
> >>
> >> Can i suggest for hbmk2 the conditional compilation that non compile
> >> module already compiled comparing creation date (i think)
> >
> > hbmk cleans the objects it created, so it'd need a serious
> > change in functionality compared to current state. I don't
> > plan to deal with this right now.
> > If you need such functionality, you'll have to use hbcmp, hblnk,
> > plus the help of an incremental build tool, like GNU-make, nmake,
> > etc.
> > Implementing this in Harbour seems like an unnecessary double
> > work.
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/4b72d913/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 04:53:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:53:43 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <609353e70902180139q7dc23221i39947628da5e67d0@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
	<18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
	<609353e70902180133x71d15dcag35eb5fb6e08fbf51@mail.gmail.com>
	<18d502870902180136s4e483363ha0be9cb2c67deda3@mail.gmail.com>
	<609353e70902180139q7dc23221i39947628da5e67d0@mail.gmail.com>
Message-ID: <18d502870902180153i1e4f0aaetb8d328816de4ad36@mail.gmail.com>

For most MinGW distributions make is now called mingw-make.exe in the MinGW
dir, so putting MinGW bin dir into PATH for make.exe
isn't a safe method. If you intend to use multiple compilers on your
machine I wouldn't recommend putting any compiler package in your
default PATH anyway. Compiler don't mix well, and such can cause
various errors, not just in Harbour.

On non-*nix systems it's best to have GNU-make copied into some
general batch/tools/util dir by the name of make.exe, and put this
into the PATH (chances are high it's already there). The recent
MinGW build of make.exe seems to work fine, it's version 3.81,
you can check with 'make --version'.

Brgds,
Viktor

On Wed, Feb 18, 2009 at 10:39 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Beceuse if i store in gcc compiler directory i don't want collide with
> Ms compiler for example
>
> 2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> >> and what do you think about set HB_  gccMAKEpath=C:\devl\make
> >> so it will be compiler directory also if it is not in path?
> >
> > Why would this be simpler than:
> > set PATH=C:\devl\make;%PATH%
> > ?
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/a0452eb6/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 04:56:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 04:56:20 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <18d502870902180153i1e4f0aaetb8d328816de4ad36@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
	<18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
	<609353e70902180133x71d15dcag35eb5fb6e08fbf51@mail.gmail.com>
	<18d502870902180136s4e483363ha0be9cb2c67deda3@mail.gmail.com>
	<609353e70902180139q7dc23221i39947628da5e67d0@mail.gmail.com>
	<18d502870902180153i1e4f0aaetb8d328816de4ad36@mail.gmail.com>
Message-ID: <18d502870902180156r23e462e9w59860509b813532d@mail.gmail.com>

On Wed, Feb 18, 2009 at 10:53 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> For most MinGW distributions make is now called mingw-make.exe in the
> MinGW dir, so putting MinGW bin dir into PATH for make.exe
> isn't a safe method. If you intend to use multiple compilers on your
> machine I wouldn't recommend putting any compiler package in your
> default PATH anyway. Compiler don't mix well, and such can cause
> various errors, not just in Harbour.
>
> On non-*nix systems it's best to have GNU-make copied into some
> general batch/tools/util dir by the name of make.exe, and put this
> into the PATH (chances are high it's already there). The recent
> MinGW build of make.exe seems to work fine, it's version 3.81,
> you can check with 'make --version'.
>

One more note here: Latter can also cause problems, f.e. for Borland,
which has its own make.exe, you have to make sure to setup your
compilers into the PATH in proper order, or always explicitly add
GNU make.exe to your path, instead of putting it into the default dir.
Maybe I'll do that locally to have a clear situation.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/81d42b33/attachment-0001.html
From alcisoft at arrakis.es  Wed Feb 18 04:18:29 2009
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Wed Feb 18 05:50:07 2009
Subject: [Harbour] Re: Little Guide for installing Visual C++ 2008
	expressedition with Harbour From svn
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
Message-ID: <gngk7d$a9d$1@ger.gmane.org>

Massimo,

Wich advantage from Visual C++ 2008 versus Borland C++ 5.5? execution speed,
robust.. ?

Regards


Massimo Belgrano escribi en mensaje
<609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>...
>If you choice Visual C ++ for windows version or harbour
>Dowload and install tortoise from http://tortoisesvn.tigris.org/
>
>Right Click on your c Drive and  in svn checkout pass as address
>https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/h
arbour
>
>Now you have source of harbour on c:\harbour
>
>you can download Microsoft Visual C++ Express from
>http://www.microsoft.com/express/vcsharp/
>Here you can download sdk for visual c++ from
>http://www.microsoft.com/downloads/details.aspx?FamilyID=e6e1c3df-a74f-4207
-8586-711ebe331cdc&displaylang=en
>
>
>Execute This batch cchbvc9 for compile harbour and contrib
>---------------cchbvc9.bat----------------
>SET HB_VISUALC_VER=90
>SET HB_INSTALL_PREFIX=C:\harbour
>SET LIB=C:\HARBOUR\LIB
>SET INCLUDE=C:\HARBOUR\INCLUDE
>call "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>CD \HARBOUR
>CALL MAKE_VC CLEAN
>CALL MAKE_VC
>CALL MAKE_VC INSTALL
>CD \HARBOUR\CONTRIB
>Echo ----------contrib---------
>CALL MAKE_VC_ALL CLEAN
>CALL MAKE_VC_ALL
>cd \harbour
>CALL MAKE_VC INSTALL
>cd \
>
>
>
>--
>Massimo Belgrano



From druzus at users.sourceforge.net  Wed Feb 18 06:12:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 18 06:12:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10323] trunk/harbour
Message-ID: <E1LZkLt-0002TS-Bg@c3vjzd1.ch3.sourceforge.com>

Revision: 10323
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10323&view=rev
Author:   druzus
Date:     2009-02-18 11:12:27 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 12:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/source/vm/hvm.c
    % replaced index to evaluated PCODE by direct PCODE pointer
      modification

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/source/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 18 06:26:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 06:26:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10324] trunk/harbour
Message-ID: <E1LZkZc-0004Au-Lx@dn4whf1.ch3.sourceforge.com>

Revision: 10324
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10324&view=rev
Author:   vszakats
Date:     2009-02-18 11:26:39 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 12:20 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbextern.ch
  * common.mak
  * source/rtl/Makefile
  * source/rtl/mouse53.c
    + Added HB_MMIDDLEDOWN() functions, plus MMIDDLEDOWN() alias.
      These are always available regardless of the CLIP53
      compatibility setting.

    ; TOFIX: K_MM*DOWN events _override_ C5.3 compatible
             K_MOUSEMOVE events (in GTWVT only), which created
             an unfortunate incompatibility with our target
             C5.x compiler when using some specific GT. Ideas 
             are welcome how to fix this. We should probably
             either send out both codes and let the inkey queue
             do the filtering as requested by app (we need a
             new filter then), or remove these event code and 
             generate proper K_MOUSEMOVE events instead. Apps
             using this these incompatible keycodes are encouraged 
             to replace expressions:
             '( key == K_KK*DOWN )' with the compatible:
             '( key == K_MOUSEMOVE .AND. M*DOWN() )' to prepare
             for the fix.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/common.mak
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/mouse53.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Wed Feb 18 06:30:54 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 18 06:31:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10324] trunk/harbour
References: <E1LZkZc-0004Au-Lx@dn4whf1.ch3.sourceforge.com>
Message-ID: <3CC41EB94A0E4C9CAF29B7FF19885532@emag>


-----Messaggio Originale----- 
Da: <vszakats@users.sourceforge.net>
A: <harbour@harbour-project.org>
Data invio: mercoled? 18 febbraio 2009 12.26
Oggetto: [Harbour] SF.net SVN: harbour-project:[10324] trunk/harbour


Fatal: 'obj\b32\mousehb.obj' does not exist - don't know how to make it

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Feb 18 06:36:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 06:36:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10324] trunk/harbour
In-Reply-To: <3CC41EB94A0E4C9CAF29B7FF19885532@emag>
References: <E1LZkZc-0004Au-Lx@dn4whf1.ch3.sourceforge.com>
	<3CC41EB94A0E4C9CAF29B7FF19885532@emag>
Message-ID: <18d502870902180336i11395b8cq39d84be3f0f4fe60@mail.gmail.com>

Are you sure your common.mak file got properly updated?
Pls check / redownload, this should be fine.

Brgds,
Viktor

On Wed, Feb 18, 2009 at 12:30 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: <vszakats@users.sourceforge.net>
> A: <harbour@harbour-project.org>
> Data invio: mercoled? 18 febbraio 2009 12.26
> Oggetto: [Harbour] SF.net SVN: harbour-project:[10324] trunk/harbour
>
>
> Fatal: 'obj\b32\mousehb.obj' does not exist - don't know how to make it
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/4d6fabe7/attachment.html
From druzus at users.sourceforge.net  Wed Feb 18 06:40:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 18 06:40:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10325] trunk/harbour
Message-ID: <E1LZkmm-0003q8-Bp@3kljzd1.ch3.sourceforge.com>

Revision: 10325
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10325&view=rev
Author:   druzus
Date:     2009-02-18 11:40:15 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 12:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/itemapi.c
    ! fixed wrong exact condition hb_itemStrICmp()
    % small optimization in hb_itemStr[I]Cmp() functions

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/itemapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb 18 06:55:13 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 18 06:50:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10324] trunk/harbour
In-Reply-To: <18d502870902180336i11395b8cq39d84be3f0f4fe60@mail.gmail.com>
References: <E1LZkZc-0004Au-Lx@dn4whf1.ch3.sourceforge.com>
	<3CC41EB94A0E4C9CAF29B7FF19885532@emag>
	<18d502870902180336i11395b8cq39d84be3f0f4fe60@mail.gmail.com>
Message-ID: <20090218115513.GA24511@uran.home.aster.pl>

On Wed, 18 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> Are you sure your common.mak file got properly updated?
> Pls check / redownload, this should be fine.

You haven't committed mousehb.c file.
Anyhow I strongly suggest to remove HB_MMIDDLEDOWN().
We do not need it. Please.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Feb 18 06:53:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 06:53:25 2009
Subject: [Harbour] Re: Little Guide for installing Visual C++ 2008 
	expressedition with Harbour From svn
In-Reply-To: <gngk7d$a9d$1@ger.gmane.org>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<gngk7d$a9d$1@ger.gmane.org>
Message-ID: <609353e70902180353h2aaabe88mb38663c01980240@mail.gmail.com>

It is still incomplete
Harbour guide to choice C compiler for Windows  platformFirst steep in
harbour is choice of a c compilerThis is priority list of compilers /
platforms supported  by Harbour
MSVC 2008, MSVC 2005, MingW/GCC 4.x, OpenWatcom.
[ BCC only to do quick draft Harbour builds and to clean code
from warnings/errors. ]
SpeedThere are also pretty extensive C compiler benchmark pages on the
net, and the overall conclusion is that the slower the
compiling process is, the faster the compiled binary, and the _general_ rank
by speed is usually this:
ICC (non-free), MSVC, GCC, BCC. Compilation speed rank is about the reverse.
For speed testing use speedtst.prg is perfectly good. Or just build your app
and try.

Microsoft vc 2008

Microsoft Visual c++ 2008 express ver 9 support w32,w64,arm is Modern
Free (Express
Edition) but not open source, fast

Microsoft Visual C++ (often abbreviated as MSVC) is a commercial integrated
development environment (IDE) product engineered by Microsoft for the C,
C++, and C++/CLI programming languages. It has tools for developing and
debugging C++ code

http://www. <http://www.microsoft.com/express/vc/>microsoft<http://www.microsoft.com/express/vc/>
.com/ <http://www.microsoft.com/express/vc/>express/vc/<http://www.microsoft.com/express/vc/>

Visual Studio 2008 Standard and Professional editions have
x64<http://en.wikipedia.org/wiki/X86-64> compiler
support, and Visual Studio 2008 Team Suite supports both
x64<http://en.wikipedia.org/wiki/X86-64>
 and IA-64 <http://en.wikipedia.org/wiki/Itanium>.

you can download Microsoft Visual C++ Express from
http://www.microsoft.com/express/vcsharp/
Here you can download sdk for visual c++ from
http://www.microsoft.com/downloads/details.aspx?FamilyID=e6e1c3df-a74f-4207-8586-711ebe331cdc&displaylang=en



MingW/GCC
Min Gw   Open source Multi platform
MingW/GCC support w32,arm open source
 is a  open source tools,
 GCC has a few drawbacks on Windows (executable size).

Open watcom

Open Watcom is open source

Honestly can't see it's advantages if we compare it to MSVC or GCC.

Even if it's a good compiler, today it's not  mainstream, so it's not widely
supported and this makes it difficult to use it to compile 3rd
party packages, or find support for it.

OW seems the best choice out of the "non-mainstream"  bunch of compilers
though, and it seems superior to BCC  in most aspects, except support and
general acceptance.

This may change as OpenWatcom has the potential to grow and gain acceptance
(being OSS), while I believe BCC is pretty much dying.

OW is here much better (speed of execution). Exe is bigger than from BCC,
but the pace
On disk you have busy/spent 53 Mb 708 kb with custom OW 1.8 ver.
When you instal full version (Linux, DOS, OS/2, Novell, Win 3.1, Etc, etc)
you need 189 Mb 204 kb.
Borland C ++

Borland c++ 5.5 Old l lite but little buggy

Borland ver 5.82 (free) and 5.9 is supported from most library(mediator) but
limited to w32 platform

No serious compilers on the free (and non-free) software marked use BCC.

It's a historical thing that Harbour picked it up (*), and developers
followed suit 10 years ago and stuck with it since then.

[ (*) With reason, as 10 years ago this was pretty much the first mainstream
and usable compiler to go free, GCC just began to gain acceptance and
maturity with version 2.95, but it was much slower on the computers of that
time. Times have changed, and none of these advantages are relevant anymore.
]

This choice have result also to compatibility with additional library

the  object module library use  as Format OMF (BORLAND) or COFF
(MICROSOFT,MINGW,
PELLES C)

The OMF is Microsoft defined format but Microsoft at one point decided
to abandon it in favor of a Microsoft defined variant on COFF

Just as there are OMF- and COFF-format object files (.obj's), there are
 also OMF and COFF format library files (.lib's).

http://www.microsoft.com/whdc/system/platform/firmware/PECOFF.mspx

http://www.delorie.com/djgpp/ <http://www.delorie.com/djgpp/doc/coff/>
doc/coff/ <http://www.delorie.com/djgpp/doc/coff/>

Borland c++ 5.5  has 8.9MB single install file.

There are many talks about calling conventions, but until know I've
successfully linked all .dll files I've needed (with BCC made import
libraries), regardless compiler .dll was compiler with.

There are much more problems with .h and .lib files compatibility than with
.dlls. I use gcc (actually mingw) for some projects, because I'm unable to
link GTK .h files with BCC.

I've done some mingw tests in the past (trying to move from BCC to mingw),
but mingw speed was poor. Perhaps because of not very good RTL code, for
example mingw uses windows heap functions instead of high quality dlmalloc,
ptmalloc allocators. I still like a small disk size programs, so, I guess
I'll switch to mingw (it has 50MB on disk) some time. BCC bugs can make me
do this switch very quickly, but until know these bugs does not exposes
itself in end user applications.



Mediator is also available for MSVC. Binary distributions for Windows
usually support MSVC and MingW these days, sometimes Borland, but it's
fading.


Anyhow above two packages show exactly why closed commercial products can
tie developer's hand, even if they are otherwise good and useful ones.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/265d01eb/attachment-0001.html
From druzus at acn.waw.pl  Wed Feb 18 07:05:55 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 18 07:00:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <499BD045.7010505@libero.it>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>
	<49954990.3000503@libero.it>
	<20090215173534.GA31852@uran.home.aster.pl>
	<49992866.8090806@libero.it>
	<20090216192437.GA24539@uran.home.aster.pl>
	<499A97C3.5040806@libero.it>
	<20090217121556.GA26868@uran.home.aster.pl>
	<20090217194248.GA4610@uran.home.aster.pl>
	<499BD045.7010505@libero.it>
Message-ID: <20090218120555.GA26365@uran.home.aster.pl>

On Wed, 18 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> First, note that you have an api DosCreateMuxWaitSem() to wait for up to 64
> envent semaphores _OR_ mutexes (they cannot be mixed) with a single call, I
> don't know if this can make your job easier, though.
> --------8<--------------
> Semaphores are defined by OS/2 and reside in an internal memory buffer. They
> are divided into three types, according to the functionality they provide:
> 
> Event semaphores enable a thread to notify waiting threads that an event has
> occurred. The waiting threads then resume execution, performing operations
> that are dependent on the completion of the signaled event.
> 
> Mutual exclusion (mutex) semaphores enable threads to serialize their access
> to shared resources. That is, ownership of a mutex semaphore is used by
> cooperating threads as a prerequisite for performing operations on a resource.
> (Threads cooperate by using the mutex semaphore functions to ensure that
> access to the resource is mutually exclusive.)
> 
> Multiple wait (muxwait) semaphores enable threads to wait either for multiple
> events to occur, or for multiple resources to become available. Alternatively,
> a flag can be set so that a thread waits for any one of multiple events to
> occur, or for any one of multiple resources to become available.
> -------->8--------------

Thanks for the info. I was looking at DosCreateMuxWaitSem() but
I cannot find in the documentation any information that I can pass
to this function locked mutex and event semaphore and it will unlock
the mutex waiting for an event or can reset posted event and such
functionality is necessary to avoid race condition so I'm afraid
it will not help us in this case.

> > I only do not know how many event semaphores can be allocated per
> > process. The maximal value may reduce number of threads which can
> > be executed simultaneously. I hope it's bigger. If not then we
> --------8<-------------
> There is a system-wide limit of 65536 (64K) shared semaphores (including
> mutex, event, and muxwait semaphores); in addition, each process can have up
> to 65536 (64K) private semaphores.
> -------->8-------------

It's quite big. I do not think that it's possible to create more
threads executed simultaneously in OS2.

> There is a couple of APIs for this but they have this limitation which I think
> makes them not suited for this task:
> --------------8<-------------
> A thread's execution is suspended when another thread in its process issues
> DosSuspendThread, specifying the ID of the target thread. The thread may not
> be suspended immediately because it may have locked some system resources that
> have to be freed first. However, the thread is not allowed to execute further
> application program instructions until a corresponding DosResumeThread is issued.
> 
> DosSuspendThread permits the suspension of only one other thread within the
> current process. If a thread needs to disable all thread switching within its
> process so that the calling thread can execute time-critical code, it issues
> DosEnterCritSec and DosExitCritSec.
> 
> DosKillThread will not terminate a thread that is suspended. Instead the
> suspended thread will be terminated when it resumes execution. For this
> reason, you should not kill the main thread of an application if there are any
> secondary threads that are suspended.
> 
> Note: This function is very powerful and must be used with extreme caution. It
> should be used only when the state of the target thread is known.
> -------------->8-------------

And I do not see any simple mechanism to wake up suspended thread
automatically and I do not want to create inspector thread.

> I'll look at the code later.

Thank you.
I'll try to make necessary modifications in hbthread.c code but
I will have to ask you to make compilation tests. I still haven't
setup environment for cross OpenWatcom OS2 builds so I cannot even
make simple compilation tests.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Wed Feb 18 07:05:06 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 18 07:05:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10324] trunk/harbour
References: <E1LZkZc-0004Au-Lx@dn4whf1.ch3.sourceforge.com><3CC41EB94A0E4C9CAF29B7FF19885532@emag>
	<18d502870902180336i11395b8cq39d84be3f0f4fe60@mail.gmail.com>
Message-ID: <5266BA7213F0451DA0AA8DF5B6A83B49@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 18 febbraio 2009 12.36
Oggetto: Re: [Harbour] SF.net SVN: harbour-project:[10324] trunk/harbour


> Are you sure your common.mak file got properly updated?

It seems so:

# $Id: common.mak 10324 2009-02-18 11:26:39Z vszakats $

> Pls check / redownload, this should be fine.

Done. Same error.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Wed Feb 18 07:06:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 07:06:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10326] trunk/harbour
Message-ID: <E1LZlCQ-0003Jz-91@bj8yhf1.ch3.sourceforge.com>

Revision: 10326
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10326&view=rev
Author:   vszakats
Date:     2009-02-18 12:06:45 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 13:06 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   + source/rtl/mousehb.c
     + Added missing file from previous commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/source/rtl/mousehb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Wed Feb 18 07:06:53 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 18 07:06:58 2009
Subject: [Harbour] Re: Little Guide for installing Visual C++ 2008
	expressedition with Harbour From svn
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com><gngk7d$a9d$1@ger.gmane.org>
	<609353e70902180353h2aaabe88mb38663c01980240@mail.gmail.com>
Message-ID: <ADDB6C8188A54425B8B0CEA27E84F640@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 18 febbraio 2009 12.53
Oggetto: Re: [Harbour] Re: Little Guide for installing Visual C++ 2008 
expressedition with Harbour From svn


> First steep

step

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Feb 18 07:09:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 07:09:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10324] trunk/harbour
In-Reply-To: <20090218115513.GA24511@uran.home.aster.pl>
References: <E1LZkZc-0004Au-Lx@dn4whf1.ch3.sourceforge.com>
	<3CC41EB94A0E4C9CAF29B7FF19885532@emag>
	<18d502870902180336i11395b8cq39d84be3f0f4fe60@mail.gmail.com>
	<20090218115513.GA24511@uran.home.aster.pl>
Message-ID: <18d502870902180409t6ce832ddyd9b26f124dddd01b@mail.gmail.com>

Ops, my apology.
[ We have the HB_ prefixed version for all such
functions, so I didn't want to start yet another
exception here. Anyhow MMIDDLEDOWN()
is available for everyone without any limitations. ]

Brgds,
Viktor

On Wed, Feb 18, 2009 at 12:55 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Wed, 18 Feb 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
> > Are you sure your common.mak file got properly updated?
> > Pls check / redownload, this should be fine.
>
> You haven't committed mousehb.c file.
> Anyhow I strongly suggest to remove HB_MMIDDLEDOWN().
> We do not need it. Please.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/92104551/attachment.html
From e.m.giordano at emagsoftware.it  Wed Feb 18 07:11:13 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 18 07:11:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10326] trunk/harbour
References: <E1LZlCQ-0003Jz-91@bj8yhf1.ch3.sourceforge.com>
Message-ID: <F0956C39D65D4CA8BD77E6CA172F6101@emag>


-----Messaggio Originale----- 
Da: <vszakats@users.sourceforge.net>
A: <harbour@harbour-project.org>
Data invio: mercoled? 18 febbraio 2009 13.06
Oggetto: [Harbour] SF.net SVN: harbour-project:[10326] trunk/harbour

It's ok now, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Wed Feb 18 07:36:21 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 18 07:31:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10319] trunk/harbour
In-Reply-To: <E1LZZEf-00077f-5q@d5vjzd1.ch3.sourceforge.com>
References: <E1LZZEf-00077f-5q@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20090218123621.GA18815@uran.home.aster.pl>

On Tue, 17 Feb 2009, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> Log Message:
> -----------
> 2009-02-18 00:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * source/rtl/listbox.prg
>     ! Restored _SET_EXACT dependent code parts to have the
>       same logic as before my modifications a few years ago.
>       Przemek, is it right now? I honestly didn't understand
>       the issue here.

I suggest to fully remove _SET_EXACT modifications and replace it
by own code which will work respecting _SET_EXACT setting. I'll
try to make it.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb 18 07:55:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 07:55:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10319] trunk/harbour
In-Reply-To: <20090218123621.GA18815@uran.home.aster.pl>
References: <E1LZZEf-00077f-5q@d5vjzd1.ch3.sourceforge.com>
	<20090218123621.GA18815@uran.home.aster.pl>
Message-ID: <18d502870902180455g30bd2e68k22b3ca4d1fb5ba8c@mail.gmail.com>

Yes it would be good.
Is this what you had in mind?:
---
METHOD findText( cText, nPos, lCaseSensitive, lExact ) CLASS LISTBOX

   LOCAL nPosFound
   LOCAL nPass
   LOCAL nPasses
   LOCAL nSize
   LOCAL lOldExact

   IF !ISCHARACTER( cText )
      RETURN 0
   ENDIF
   IF !ISNUMBER( nPos )
      nPos := 1
   ENDIF
   IF !ISLOGICAL( lCaseSensitive )
      lCaseSensitive := .T.
   ENDIF
   IF !lCaseSensitive
      cText := Lower( cText )
   ENDIF
   DEFAULT lExact TO Set( _SET_EXACT )

   nSize := Len( ::aItems ) - nPos + 1
   nPasses := iif( nPos > 1, 2, 1 )

   IF lExact
      FOR nPass := 1 TO nPasses
         IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
                                                 { | aItem | aItem[
_ITEM_cTEXT ] == cText },;
                                                 { | aItem | Lower( aItem[
_ITEM_cTEXT ] ) == cText } ), nPos, nSize ) ) > 0
            EXIT
         ENDIF

         nSize := nPos - 1
         nPos := 1
      NEXT
   ELSE
      FOR nPass := 1 TO nPasses
         /* NOTE: Intentionally using "=" comparison to honor the _SET_EXACT
setting. */
         IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
                                                 { | aItem | aItem[
_ITEM_cTEXT ] = cText },;
                                                 { | aItem | Lower( aItem[
_ITEM_cTEXT ] ) = cText } ), nPos, nSize ) ) > 0
            EXIT
         ENDIF

         nSize := nPos - 1
         nPos := 1
      NEXT
   ENDIF

   RETURN nPosFound

METHOD findData( cData, nPos, lCaseSensitive, lExact ) CLASS LISTBOX

   LOCAL nPosFound
   LOCAL nPass
   LOCAL nPasses
   LOCAL nSize
   LOCAL lOldExact

   IF !ISCHARACTER( cData )
      RETURN 0
   ENDIF
   IF !ISNUMBER( nPos )
      nPos := 1
   ENDIF
   IF !ISLOGICAL( lCaseSensitive )
      lCaseSensitive := .T.
   ENDIF
   IF !lCaseSensitive
      cData := Lower( cData )
   ENDIF
   DEFAULT lExact TO Set( _SET_EXACT )

   nSize := Len( ::aItems ) - nPos + 1
   nPasses := iif( nPos > 1, 2, 1 )

   IF lExact
      FOR nPass := 1 TO nPasses
         IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
                                                 { | aItem |
_LISTBOX_ITEMDATA( aItem ) == cData },;
                                                 { | aItem | Lower(
_LISTBOX_ITEMDATA( aItem ) ) == cData } ), nPos, nSize ) ) > 0
            EXIT
         ENDIF

         nSize := nPos - 1
         nPos := 1
      NEXT
   ELSE
      FOR nPass := 1 TO nPasses
         /* NOTE: Intentionally using "=" comparison to honor the _SET_EXACT
setting. */
         IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
                                                 { | aItem |
_LISTBOX_ITEMDATA( aItem ) = cData },;
                                                 { | aItem | Lower(
_LISTBOX_ITEMDATA( aItem ) ) = cData } ), nPos, nSize ) ) > 0
            EXIT
         ENDIF

         nSize := nPos - 1
         nPos := 1
      NEXT
   ENDIF

   IF lOldExact != NIL
      Set( _SET_EXACT, lOldExact )
   ENDIF

   RETURN nPosFound
---

Brgds,
Viktor

On Wed, Feb 18, 2009 at 1:36 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Tue, 17 Feb 2009, vszakats@users.sourceforge.net wrote:
>
> Hi Viktor,
>
> > Log Message:
> > -----------
> > 2009-02-18 00:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >   * source/rtl/listbox.prg
> >     ! Restored _SET_EXACT dependent code parts to have the
> >       same logic as before my modifications a few years ago.
> >       Przemek, is it right now? I honestly didn't understand
> >       the issue here.
>
> I suggest to fully remove _SET_EXACT modifications and replace it
> by own code which will work respecting _SET_EXACT setting. I'll
> try to make it.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/ec777d96/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb 18 08:01:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 08:01:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10319] trunk/harbour
In-Reply-To: <18d502870902180455g30bd2e68k22b3ca4d1fb5ba8c@mail.gmail.com>
References: <E1LZZEf-00077f-5q@d5vjzd1.ch3.sourceforge.com>
	<20090218123621.GA18815@uran.home.aster.pl>
	<18d502870902180455g30bd2e68k22b3ca4d1fb5ba8c@mail.gmail.com>
Message-ID: <18d502870902180501s86198e9l4f657c7d8e7c6866@mail.gmail.com>

Rather this, with minor correction:---
METHOD findText( cText, nPos, lCaseSensitive, lExact ) CLASS LISTBOX

   LOCAL nPosFound
   LOCAL nPass
   LOCAL nPasses
   LOCAL nSize

   IF !ISCHARACTER( cText )
      RETURN 0
   ENDIF
   IF !ISNUMBER( nPos )
      nPos := 1
   ENDIF
   IF !ISLOGICAL( lCaseSensitive )
      lCaseSensitive := .T.
   ENDIF
   IF !lCaseSensitive
      cText := Lower( cText )
   ENDIF
   IF !ISLOGICAL( lExact )
      lExact := Set( _SET_EXACT )
   ENDIF

   nSize := Len( ::aItems ) - nPos + 1
   nPasses := iif( nPos > 1, 2, 1 )

   IF lExact
      FOR nPass := 1 TO nPasses
         IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
                                                 { | aItem | aItem[
_ITEM_cTEXT ] == cText },;
                                                 { | aItem | Lower( aItem[
_ITEM_cTEXT ] ) == cText } ), nPos, nSize ) ) > 0
            EXIT
         ENDIF

         nSize := nPos - 1
         nPos := 1
      NEXT
   ELSE
      FOR nPass := 1 TO nPasses
         /* NOTE: Intentionally using "=" comparison to honor the _SET_EXACT
setting. */
         IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
                                                 { | aItem | aItem[
_ITEM_cTEXT ] = cText },;
                                                 { | aItem | Lower( aItem[
_ITEM_cTEXT ] ) = cText } ), nPos, nSize ) ) > 0
            EXIT
         ENDIF

         nSize := nPos - 1
         nPos := 1
      NEXT
   ENDIF

   RETURN nPosFound

METHOD findData( cData, nPos, lCaseSensitive, lExact ) CLASS LISTBOX

   LOCAL nPosFound
   LOCAL nPass
   LOCAL nPasses
   LOCAL nSize

   IF !ISCHARACTER( cData )
      RETURN 0
   ENDIF
   IF !ISNUMBER( nPos )
      nPos := 1
   ENDIF
   IF !ISLOGICAL( lCaseSensitive )
      lCaseSensitive := .T.
   ENDIF
   IF !lCaseSensitive
      cData := Lower( cData )
   ENDIF
   IF !ISLOGICAL( lExact )
      lExact := Set( _SET_EXACT )
   ENDIF

   nSize := Len( ::aItems ) - nPos + 1
   nPasses := iif( nPos > 1, 2, 1 )

   IF lExact
      FOR nPass := 1 TO nPasses
         IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
                                                 { | aItem |
_LISTBOX_ITEMDATA( aItem ) == cData },;
                                                 { | aItem | Lower(
_LISTBOX_ITEMDATA( aItem ) ) == cData } ), nPos, nSize ) ) > 0
            EXIT
         ENDIF

         nSize := nPos - 1
         nPos := 1
      NEXT
   ELSE
      FOR nPass := 1 TO nPasses
         /* NOTE: Intentionally using "=" comparison to honor the _SET_EXACT
setting. */
         IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
                                                 { | aItem |
_LISTBOX_ITEMDATA( aItem ) = cData },;
                                                 { | aItem | Lower(
_LISTBOX_ITEMDATA( aItem ) ) = cData } ), nPos, nSize ) ) > 0
            EXIT
         ENDIF

         nSize := nPos - 1
         nPos := 1
      NEXT
   ENDIF

   RETURN nPosFound
---

Brgds,
Viktor

On Wed, Feb 18, 2009 at 1:55 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Yes it would be good.
> Is this what you had in mind?:
> ---
> METHOD findText( cText, nPos, lCaseSensitive, lExact ) CLASS LISTBOX
>
>    LOCAL nPosFound
>    LOCAL nPass
>    LOCAL nPasses
>    LOCAL nSize
>    LOCAL lOldExact
>
>    IF !ISCHARACTER( cText )
>       RETURN 0
>    ENDIF
>    IF !ISNUMBER( nPos )
>       nPos := 1
>    ENDIF
>    IF !ISLOGICAL( lCaseSensitive )
>       lCaseSensitive := .T.
>    ENDIF
>    IF !lCaseSensitive
>       cText := Lower( cText )
>    ENDIF
>    DEFAULT lExact TO Set( _SET_EXACT )
>
>    nSize := Len( ::aItems ) - nPos + 1
>    nPasses := iif( nPos > 1, 2, 1 )
>
>    IF lExact
>       FOR nPass := 1 TO nPasses
>          IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
>                                                  { | aItem | aItem[
> _ITEM_cTEXT ] == cText },;
>                                                  { | aItem | Lower( aItem[
> _ITEM_cTEXT ] ) == cText } ), nPos, nSize ) ) > 0
>             EXIT
>          ENDIF
>
>          nSize := nPos - 1
>          nPos := 1
>       NEXT
>    ELSE
>       FOR nPass := 1 TO nPasses
>          /* NOTE: Intentionally using "=" comparison to honor the
> _SET_EXACT setting. */
>          IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
>                                                  { | aItem | aItem[
> _ITEM_cTEXT ] = cText },;
>                                                  { | aItem | Lower( aItem[
> _ITEM_cTEXT ] ) = cText } ), nPos, nSize ) ) > 0
>             EXIT
>          ENDIF
>
>          nSize := nPos - 1
>          nPos := 1
>       NEXT
>    ENDIF
>
>    RETURN nPosFound
>
> METHOD findData( cData, nPos, lCaseSensitive, lExact ) CLASS LISTBOX
>
>    LOCAL nPosFound
>    LOCAL nPass
>    LOCAL nPasses
>    LOCAL nSize
>    LOCAL lOldExact
>
>    IF !ISCHARACTER( cData )
>       RETURN 0
>    ENDIF
>    IF !ISNUMBER( nPos )
>       nPos := 1
>    ENDIF
>    IF !ISLOGICAL( lCaseSensitive )
>       lCaseSensitive := .T.
>    ENDIF
>    IF !lCaseSensitive
>       cData := Lower( cData )
>    ENDIF
>    DEFAULT lExact TO Set( _SET_EXACT )
>
>    nSize := Len( ::aItems ) - nPos + 1
>    nPasses := iif( nPos > 1, 2, 1 )
>
>    IF lExact
>       FOR nPass := 1 TO nPasses
>          IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
>                                                  { | aItem |
> _LISTBOX_ITEMDATA( aItem ) == cData },;
>                                                  { | aItem | Lower(
> _LISTBOX_ITEMDATA( aItem ) ) == cData } ), nPos, nSize ) ) > 0
>             EXIT
>          ENDIF
>
>          nSize := nPos - 1
>          nPos := 1
>       NEXT
>    ELSE
>       FOR nPass := 1 TO nPasses
>          /* NOTE: Intentionally using "=" comparison to honor the
> _SET_EXACT setting. */
>          IF ( nPosFound := AScan( ::aItems, iif( lCaseSensitive,;
>                                                  { | aItem |
> _LISTBOX_ITEMDATA( aItem ) = cData },;
>                                                  { | aItem | Lower(
> _LISTBOX_ITEMDATA( aItem ) ) = cData } ), nPos, nSize ) ) > 0
>             EXIT
>          ENDIF
>
>          nSize := nPos - 1
>          nPos := 1
>       NEXT
>    ENDIF
>
>    IF lOldExact != NIL
>       Set( _SET_EXACT, lOldExact )
>    ENDIF
>
>    RETURN nPosFound
> ---
>
> Brgds,
> Viktor
>
>
> On Wed, Feb 18, 2009 at 1:36 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:
>
>> On Tue, 17 Feb 2009, vszakats@users.sourceforge.net wrote:
>>
>> Hi Viktor,
>>
>> > Log Message:
>> > -----------
>> > 2009-02-18 00:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>> >   * source/rtl/listbox.prg
>> >     ! Restored _SET_EXACT dependent code parts to have the
>> >       same logic as before my modifications a few years ago.
>> >       Przemek, is it right now? I honestly didn't understand
>> >       the issue here.
>>
>> I suggest to fully remove _SET_EXACT modifications and replace it
>> by own code which will work respecting _SET_EXACT setting. I'll
>> try to make it.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/7fa41f22/attachment.html
From vailtom at gmail.com  Wed Feb 18 08:05:53 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Feb 18 08:05:57 2009
Subject: [Harbour] Web error
In-Reply-To: <499B15B7.6040002@zen.co.uk>
References: <499B0555.4040800@dbtopas.lt> <499B15B7.6040002@zen.co.uk>
Message-ID: <531d7a750902180505w71682972g85e8cba3fb1fcdca@mail.gmail.com>

I have posted the changes observed... all suggestions are welcome.
Regards,
Vailton Renato

2009/2/17 Barry Jackson <zen25000@zen.co.uk>:
> Also on home page:-
> "Harbour is a free software 100% compatible with Clipper compilers"
> should be:-
> "Harbour is free software 100% compatible with Clipper compilers"
> and on "about" page:-
> "Why using it?"
> should be:-
> "Why use it?
> also:-
> "Because is a free software..."
> should be:-
> "Because it is free software..."
> also:-
> "Because remove some of the limits..."
> should be:-
> "Because it removes some of the limits..."
> On the mailing lists page:-
> "some professionals has joined in our mailing with the intention of help
> voluntarily the users."
> should be:-
> "some professionals have joined our mailing lists with the intention of
> voluntarily helping users."
>
> I hope that helps.
>
> Regards,
> Barry
>
>
> Mindaugas Kavaliauskas wrote:
>>
>> Hi,
>>
>>
>> http://www.harbour-project.org/ has banner picture with text
>> "MultHi-threads".
>>
>>
>> Regards,
>> Mindaugas
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From mbelgrano at deltain.it  Wed Feb 18 08:06:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 08:06:31 2009
Subject: [Harbour] Re: Little Guide for installing Visual C++ 2008 
	expressedition with Harbour From svn
In-Reply-To: <ADDB6C8188A54425B8B0CEA27E84F640@emag>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<gngk7d$a9d$1@ger.gmane.org>
	<609353e70902180353h2aaabe88mb38663c01980240@mail.gmail.com>
	<ADDB6C8188A54425B8B0CEA27E84F640@emag>
Message-ID: <609353e70902180506q600d3834tefa6bb971e8d0444@mail.gmail.com>

Thanks!

2009/2/18 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>

>
> -----Messaggio Originale----- Da: "Massimo Belgrano" <mbelgrano@deltain.it
> >
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 18 febbraio 2009 12.53
> Oggetto: Re: [Harbour] Re: Little Guide for installing Visual C++ 2008
> expressedition with Harbour From svn
>
>
>  First steep
>>
>
> step
>
> EMG
>
> --
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/f8f28792/attachment-0001.html
From druzus at users.sourceforge.net  Wed Feb 18 08:14:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 18 08:14:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10327] trunk/harbour
Message-ID: <E1LZmFU-00058l-DH@c3vjzd1.ch3.sourceforge.com>

Revision: 10327
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10327&view=rev
Author:   druzus
Date:     2009-02-18 13:13:55 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 14:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/listbox.prg
    * changed FindText() and FindData() LISTBOX method to work without
      _SET_EXACT modification

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/listbox.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 18 08:14:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 08:14:36 2009
Subject: [Harbour] Web error
In-Reply-To: <531d7a750902180505w71682972g85e8cba3fb1fcdca@mail.gmail.com>
References: <499B0555.4040800@dbtopas.lt> <499B15B7.6040002@zen.co.uk>
	<531d7a750902180505w71682972g85e8cba3fb1fcdca@mail.gmail.com>
Message-ID: <18d502870902180514l66e7a21aq9f1c1a5b9e00290e@mail.gmail.com>

Hi Renato,
Looks good!

One more thing, not design related, but it'd be nice to have a news item:

"Harbour v1.0.1 is released!" on 2008-09-18.

Brgds,
Viktor

On Wed, Feb 18, 2009 at 2:05 PM, Vailton Renato <vailtom@gmail.com> wrote:

> I have posted the changes observed... all suggestions are welcome.
> Regards,
> Vailton Renato
>
> 2009/2/17 Barry Jackson <zen25000@zen.co.uk>:
> > Also on home page:-
> > "Harbour is a free software 100% compatible with Clipper compilers"
> > should be:-
> > "Harbour is free software 100% compatible with Clipper compilers"
> > and on "about" page:-
> > "Why using it?"
> > should be:-
> > "Why use it?
> > also:-
> > "Because is a free software..."
> > should be:-
> > "Because it is free software..."
> > also:-
> > "Because remove some of the limits..."
> > should be:-
> > "Because it removes some of the limits..."
> > On the mailing lists page:-
> > "some professionals has joined in our mailing with the intention of help
> > voluntarily the users."
> > should be:-
> > "some professionals have joined our mailing lists with the intention of
> > voluntarily helping users."
> >
> > I hope that helps.
> >
> > Regards,
> > Barry
> >
> >
> > Mindaugas Kavaliauskas wrote:
> >>
> >> Hi,
> >>
> >>
> >> http://www.harbour-project.org/ has banner picture with text
> >> "MultHi-threads".
> >>
> >>
> >> Regards,
> >> Mindaugas
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Vailton Renato
> SQL LIB, MyMake & xDev Developer
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/59210a88/attachment.html
From druzus at acn.waw.pl  Wed Feb 18 08:22:17 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 18 08:17:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10319] trunk/harbour
In-Reply-To: <18d502870902180501s86198e9l4f657c7d8e7c6866@mail.gmail.com>
References: <E1LZZEf-00077f-5q@d5vjzd1.ch3.sourceforge.com>
	<20090218123621.GA18815@uran.home.aster.pl>
	<18d502870902180455g30bd2e68k22b3ca4d1fb5ba8c@mail.gmail.com>
	<18d502870902180501s86198e9l4f657c7d8e7c6866@mail.gmail.com>
Message-ID: <20090218132217.GA28317@uran.home.aster.pl>

On Wed, 18 Feb 2009, Szak?ts Viktor wrote:
> Rather this, with minor correction:---
> METHOD findText( cText, nPos, lCaseSensitive, lExact ) CLASS LISTBOX
[...]

Something similar: I want to only read _SET_EXACT.
But the code should be a little bit different and use only ==
to work without interactions to _SET_EXACT value.
See the version I've just committed.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Feb 18 08:20:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 08:20:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10328] trunk/harbour
Message-ID: <E1LZmLk-0006k9-J8@dn4whf1.ch3.sourceforge.com>

Revision: 10328
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10328&view=rev
Author:   vszakats
Date:     2009-02-18 13:20:27 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 14:20 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    + Added handling of quoted options (with double quotes) for
      items containing spaces. hb_AToken( , , .T. ) is used, so 
      these rules apply. Outer double quote pair will be stripped 
      from the quoted items.
      We will probably need extra code to add the quote back
      when forming the command lines. Anyway this feature mainly
      targets to support pkg-config options, which have their
      own special quotes anyway.
    ! Minor change to not use hb_cmdline() for -q option detection,
      and also to ignore -q in main option processing loop.
    ! Fixed explicit .hbp processing.

  * contrib/gtalleg/tests/gtalleg-shared.hbp
  * contrib/gtalleg/tests/gtalleg-static.hbp
  * utils/hbmk/examples/xbgtk.hbp
  * utils/hbmk/examples/hwgui.hbp
  * utils/hbmk/examples/xhgtk.hbp
    * Updated pkg-config related lines.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/tests/gtalleg-shared.hbp
    trunk/harbour/contrib/gtalleg/tests/gtalleg-static.hbp
    trunk/harbour/utils/hbmk/examples/hwgui.hbp
    trunk/harbour/utils/hbmk/examples/xbgtk.hbp
    trunk/harbour/utils/hbmk/examples/xhgtk.hbp
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 18 08:21:13 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 08:21:17 2009
Subject: [Harbour] Plase Share here Info about speed of c compiler
Message-ID: <609353e70902180521g3fa47cb6w920707fe0330654f@mail.gmail.com>

Interesting article also if a Little old (2004)
http://www.ddj.com/showArticle.jhtml?documentID=ddj0405a&pgno=12
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/c1dbd18b/attachment.html
From maurilio.longo at libero.it  Wed Feb 18 08:22:21 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 08:22:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10253] trunk/harbour
In-Reply-To: <20090218120555.GA26365@uran.home.aster.pl>
References: <E1LXv7t-0000Z9-0G@dn4whf1.ch3.sourceforge.com>	<49954990.3000503@libero.it>	<20090215173534.GA31852@uran.home.aster.pl>	<49992866.8090806@libero.it>	<20090216192437.GA24539@uran.home.aster.pl>	<499A97C3.5040806@libero.it>	<20090217121556.GA26868@uran.home.aster.pl>	<20090217194248.GA4610@uran.home.aster.pl>	<499BD045.7010505@libero.it>
	<20090218120555.GA26365@uran.home.aster.pl>
Message-ID: <499C0B8D.2060206@libero.it>

Przemyslaw Czerpak wrote:
> 
> Thanks for the info. I was looking at DosCreateMuxWaitSem() but
> I cannot find in the documentation any information that I can pass
> to this function locked mutex and event semaphore and it will unlock
> the mutex waiting for an event or can reset posted event and such
> functionality is necessary to avoid race condition so I'm afraid
> it will not help us in this case.
> 

Yes, it will not help, you can pass to it either mutexes or event sems, but
not a mix of them.

>>> I only do not know how many event semaphores can be allocated per
>>> process. The maximal value may reduce number of threads which can
>>> be executed simultaneously. I hope it's bigger. If not then we
>> --------8<-------------
>> There is a system-wide limit of 65536 (64K) shared semaphores (including
>> mutex, event, and muxwait semaphores); in addition, each process can have up
>> to 65536 (64K) private semaphores.
>> -------->8-------------
> 
> It's quite big. I do not think that it's possible to create more
> threads executed simultaneously in OS2.

4096 is the maximum number of threads you can have on OS/2 system wide.

> 
> Thank you.
> I'll try to make necessary modifications in hbthread.c code but
> I will have to ask you to make compilation tests. I still haven't
> setup environment for cross OpenWatcom OS2 builds so I cannot even
> make simple compilation tests.
> 

I'll do my best to help you and I keep thanking you for your continued support
of OS/2.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Wed Feb 18 08:37:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 08:37:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10329] trunk/harbour
Message-ID: <E1LZmcW-000763-29@dn4whf1.ch3.sourceforge.com>

Revision: 10329
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10329&view=rev
Author:   vszakats
Date:     2009-02-18 13:37:47 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 14:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/gtalleg/tests/gtalleg-static.hbp
    + Added some Windows libs. The libs seem compiler
      and/or SDK dependent, so pls update this, current state 
      is probably enough to get an idea of it.

  + utils/hbmk/examples/winapi.hbp
    + Created hbp file for Windows libs.

  * utils/hbmk/hbmk2.prg
  * utils/hbmk/examples/xbgtk.hbp
  * utils/hbmk/examples/xhgtk.hbp
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/tests/gtalleg-static.hbp
    trunk/harbour/utils/hbmk/examples/xbgtk.hbp
    trunk/harbour/utils/hbmk/examples/xhgtk.hbp
    trunk/harbour/utils/hbmk/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/utils/hbmk/examples/winapi.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 18 09:08:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 09:08:14 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
	<18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
Message-ID: <609353e70902180608t7b362369tfd5e43ed7d61f5f6@mail.gmail.com>

Tried and works!If you have a solution also for bcc,open watcom,msvcce i can
try
This is my cchgvc9.bat
set path=c:\devl\mingw32-make;%path%
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
cd \harbour
set HB_ARCHITECTURE=win
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
make install -r

not made a clean?
is not required SET HB_VISUALC_VER=90 ?
i not found gtwvg.lib probably because it not make contrib?
can i specify contrib like SET HB_DIR_ADS=C:?

only very a little problem hbmake recompiled Error: Can't find harbour.cfg
file in C:\Program Files\Microsoft Visual Studio 9.0\Common7\IDE but not
wasting time about it for me is unnecessary....


2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>

> And if we're at it, here's one which is supposed to work with the GNU-make
> (let's call this an 'alpha' version):
>
> ---
> rem 1) You need to have MinGW 'make.exe' in your path.
> rem 2) Run from the Harbour source root dir.
>
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>
> set HB_ARCHITECTURE=win
> set HB_COMPILER=msvc
> set HB_INSTALL_PREFIX=%~dp0
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> make install -r
> ---
>
> Brgds,
> Viktor
>
>
> On Wed, Feb 18, 2009 at 10:14 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:
>
>> Here's a cleaned/fixed one.(and we're back to my first e-mail on this
>> thread basically ;)
>>
>> Execute this batch cchbvc9 to from the Harbour source root dir
>> to build harbour and all contribs for MSVC 2008 Intel 32-bit.
>> ---
>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>> set HB_VISUALC_VER=90
>> call make_vc clean
>> call make_vc
>> call make_vc install
>> cd contrib
>> call make_vc_all clean
>> call make_vc_all
>> call make_vc_all install
>> cd ..
>> ---
>>
>> Brgds,
>> Viktor
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/55d8d731/attachment-0001.html
From mbelgrano at deltain.it  Wed Feb 18 09:19:02 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 09:19:06 2009
Subject: [Harbour] SQLWIN - a free RDD for SQL by Antonio Linares
Message-ID: <609353e70902180619l458c8582u99cf8059aa90d8a6@mail.gmail.com>

SQLWIN - a free RDD for
SQL<http://forums.fivetechsupport.com/viewtopic.php?f=3&t=12646#p63818>

[image: Post]<http://forums.fivetechsupport.com/viewtopic.php?p=63818#p63818>
by *Antonio Linares<http://forums.fivetechsupport.com/memberlist.php?mode=viewprofile&u=2>
* ? Wed Sep 10, 2008 4:57 am
We start the development of SQLWIN, a free and open source RDD for SQL.

All of you interested in learning and use SQL are welcome to join this
project. You can already download a very early prototype, but that can be
already compiled and tested:

www.fivetechsoft.com/files/sqlwin.zip

The source code is licenced with the same Harbour licence (not included yet
in its code). We start from the ADORDD source code, but just to use its
structure, that will be totally redesigned.

Please visit also the spanish thread where some developers have already
joined the project:

http://forums.fivetechsoft.com/viewtopic.php?t=12645
Last edited by Antonio
Linares<http://forums.fivetechsupport.com/memberlist.php?mode=viewprofile&u=2>
on
Wed Sep 10, 2008 5:02 am, edited 2 times in total.
regards, saludos

Antonio Linares
www.fivetechsoft.com

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/1e15c14a/attachment.html
From mbelgrano at deltain.it  Wed Feb 18 09:22:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 09:22:08 2009
Subject: [Harbour] Harbour running on the iPhone!
In-Reply-To: <200801022026.27724.philb@philb.us>
References: <9471afc80801021723x266bf3a1h2d313f53efac3622@mail.gmail.com>
	<200801022026.27724.philb@philb.us>
Message-ID: <609353e70902180622o340222adl9687a489ba71a5e3@mail.gmail.com>

Have somebody experiences about IPHONE?

2008/1/3 Phil Barnett <philb@philb.us>

> On Wednesday 02 January 2008 08:23:41 pm Antonio Linares wrote:
> > http://img134.imageshack.us/img134/8962/iphone038tw6.png
>
> Bravo!
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour




-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/7bd844ae/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 09:26:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 09:26:59 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <609353e70902180608t7b362369tfd5e43ed7d61f5f6@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
	<18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
	<609353e70902180608t7b362369tfd5e43ed7d61f5f6@mail.gmail.com>
Message-ID: <18d502870902180626l5d302c0ch99b8c328dc61531@mail.gmail.com>

>
> If you have a solution also for bcc,open watcom,msvcce i can try
>

Not right, this is ok (generally speaking mingw must be before the compiler
in PATH):

---
cd \harbour
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
set PATH=c:\devl\mingw32-make;%PATH%
set HB_ARCHITECTURE=win
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
make install -r
---

not made a clean?
>

I assume everyone can make such trivial modifications
on these posted script. We have millions of options for
a reason. I cut these from some temp scripts and clean
was left out at that moment, generally though a clean is
a must for proper build. For core development it would
kill the day, at least on my old CPU.

For bcc, owatcom, etc, just replace the MSVC setup line
with the setup needed for the other compiler and adjust
HB_COMPILER accordingly. That's all.


> is not required SET HB_VISUALC_VER=90 ?
>

No. It's the default. For older you need to set HB_VISUAL_VER_PRE80.

BTW, I've checked now, and you don't even need
HB_VISUALC_VER=90 for non-GNU make, since I've
made it the default last year. You should only use it
for pre-8.0 (non-free) MSVC versions.


> i not found gtwvg.lib probably because it not make contrib?
> can i specify contrib like SET HB_DIR_ADS=C:?
>

You can, but I have to look into contribs with external
dependencies, they aren't detected properly with
GNU-make in cmd mode. Please note you have to use the
HB_INC_* envvars (HB_INC_ADS in this case) and point
them to the header directory directly. Import libs also won't
be created, this may be an inconvenience, mainly for BCC
users creating local builds.

Strange gtwvg didn't build for you, it should have, for me
it did. Post the relevant part of the .log file.


> only very a little problem hbmake recompiled Error: Can't find harbour.cfg
> file in C:\Program Files\Microsoft Visual Studio 9.0\Common7\IDE but not
> wasting time about it for me is unnecessary....
>

Never needed, never used harbour.cfg, I think it's an unnecessary
feature now having hbmk (script or prg). We should remove it once
the new superior methods have matured. hbmake uses it, but does
it totally wrongly, so forgive me to not go into it any deeper.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/912d2910/attachment.html
From lorenzo.fiorini at gmail.com  Wed Feb 18 09:55:47 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 18 09:55:51 2009
Subject: [Harbour] Help with gtxwc fonts
Message-ID: <9257026e0902180655s3ee4e2a6l4e7d8be2e055cdac@mail.gmail.com>

The font fixed at size 10-13 is very hard to read and users complains.
The same binary looks much better from putty and gttrm where I can
change colors and fonts.

I'm using xfontsel to find out font string but when I set fontname and
fontsize gtxwc resets to fixed.

Are there restrictions I can't see?

best regards,
Lorenzo

These are the relevant lines I found:

gtxwc.h

/* Font definition */
#define XWC_DEFAULT_FONT_HEIGHT      18
#define XWC_DEFAULT_FONT_WIDTH        9
#define XWC_DEFAULT_FONT_WEIGHT     "medium"
#define XWC_DEFAULT_FONT_NAME       "fixed"
#define XWC_DEFAULT_FONT_ENCODING   "iso10646-1"

gtxwc.c

...

   hb_snprintf( fontString, sizeof(fontString)-1,
"-*-%s-%s-r-*--%d-*-*-*-*-*-%s",
             fontFace, weight, size, encoding == NULL ? "*-*" : encoding );

   xfs = XLoadQueryFont( wnd->dpy, fontString );
...

      case HB_GTI_FONTSIZE:
         pInfo->pResult = hb_itemPutNI( pInfo->pResult, wnd->fontHeight );
         iVal = hb_itemGetNI( pInfo->pNewVal );
         if( iVal > 0 ) /* TODO */
            wnd->fontHeight = iVal;
         break;
...
      case HB_GTI_FONTNAME:
         pInfo->pResult = hb_itemPutC( pInfo->pResult, wnd->szFontName );
         if( hb_itemType( pInfo->pNewVal ) & HB_IT_STRING ) /* TODO */
         {
            if( wnd->szFontName )
               hb_xfree( wnd->szFontName );
            wnd->szFontName = hb_strdup( hb_itemGetCPtr( pInfo->pNewVal ) );
         }
         break;

...
From mbelgrano at deltain.it  Wed Feb 18 09:59:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 09:59:06 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <18d502870902180626l5d302c0ch99b8c328dc61531@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<18d502870902180114n3c4bf023ma99664a7442ac331@mail.gmail.com>
	<18d502870902180123i10604267g60079b15e3117c0b@mail.gmail.com>
	<609353e70902180608t7b362369tfd5e43ed7d61f5f6@mail.gmail.com>
	<18d502870902180626l5d302c0ch99b8c328dc61531@mail.gmail.com>
Message-ID: <609353e70902180659m1a72b107xa4f7c638c1fc37ad@mail.gmail.com>

i not found any log after executing this batch
compilation speed (5 minutes) seem to fast to be concluded
last row is
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-  -c
../.
./mouseapi.c -Fomouseapi.obj
mouseapi.c
make[3]: *** No rule to make target `mousehb.obj', needed by `hbrtl.lib'.
 Stop.

make[3]: Leaving directory `C:/harbour/source/rtl/win/msvc'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `C:/harbour/source/rtl'
make[1]: *** [rtl.inst] Error 2
make[1]: Leaving directory `C:/harbour/source'
make: *** [source.inst] Error 2

---------------------------------------------

call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
set path=c:\devl\mingw32-make;%path%
cd \harbour
set HB_ARCHITECTURE=win
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
make clean > nul
make install -r


2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>

> If you have a solution also for bcc,open watcom,msvcce i can try
>>
>
> Not right, this is ok (generally speaking mingw must be before the compiler
> in PATH):
>
> ---
> cd \harbour
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
> set PATH=c:\devl\mingw32-make;%PATH%
> set HB_ARCHITECTURE=win
> set HB_COMPILER=msvc
> set HB_INSTALL_PREFIX=%~dp0
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> make install -r
> ---
>
> not made a clean?
>>
>
> I assume everyone can make such trivial modifications
> on these posted script. We have millions of options for
> a reason. I cut these from some temp scripts and clean
> was left out at that moment, generally though a clean is
> a must for proper build. For core development it would
> kill the day, at least on my old CPU.
>
> For bcc, owatcom, etc, just replace the MSVC setup line
> with the setup needed for the other compiler and adjust
> HB_COMPILER accordingly. That's all.
>
>
>> is not required SET HB_VISUALC_VER=90 ?
>>
>
> No. It's the default. For older you need to set HB_VISUAL_VER_PRE80.
>
> BTW, I've checked now, and you don't even need
> HB_VISUALC_VER=90 for non-GNU make, since I've
> made it the default last year. You should only use it
> for pre-8.0 (non-free) MSVC versions.
>
>
>> i not found gtwvg.lib probably because it not make contrib?
>> can i specify contrib like SET HB_DIR_ADS=C:?
>>
>
> You can, but I have to look into contribs with external
> dependencies, they aren't detected properly with
> GNU-make in cmd mode. Please note you have to use the
> HB_INC_* envvars (HB_INC_ADS in this case) and point
> them to the header directory directly. Import libs also won't
> be created, this may be an inconvenience, mainly for BCC
> users creating local builds.
>
> Strange gtwvg didn't build for you, it should have, for me
> it did. Post the relevant part of the .log file.
>
>
>> only very a little problem hbmake recompiled Error: Can't find harbour.cfg
>> file in C:\Program Files\Microsoft Visual Studio 9.0\Common7\IDE but not
>> wasting time about it for me is unnecessary....
>>
>
> Never needed, never used harbour.cfg, I think it's an unnecessary
> feature now having hbmk (script or prg). We should remove it once
> the new superior methods have matured. hbmake uses it, but does
> it totally wrongly, so forgive me to not go into it any deeper.
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/1475e96b/attachment-0001.html
From maurilio.longo at libero.it  Wed Feb 18 10:05:56 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 10:06:08 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <20090217183026.GA8333@uran.home.aster.pl>
References: <499AEAA0.1040701@libero.it>	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>	<499AFB1F.80901@libero.it>
	<20090217183026.GA8333@uran.home.aster.pl>
Message-ID: <499C23D4.70002@libero.it>

Przemyslaw,

> hbmk2.exe. In such case if OS2 does not have function like MS-Win
> GetModuleFileName() then you may try to set the default extension.
> Before:
>             while( pNextPath )
>             {
> 
> add this lines:
> 
> #ifdef HB_OS_OS2
>             if( !pFName->szExt )
>                pFName->szExt = ".exe";
> #endif
> 
> It's a hack but in general this function is a hack and cannot return
> valid results in some cases. F.e. physical executable file may not exists
> at all.
> 

I've used your idea since in OS/2 I have a function which gives me the command
line, but the command name is as it has been entered and as such it lacks full
path and extension.

Best regards.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Wed Feb 18 10:08:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 10:08:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10330] trunk/harbour
Message-ID: <E1LZo2h-0007fy-9I@bj8yhf1.ch3.sourceforge.com>

Revision: 10330
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10330&view=rev
Author:   vszakats
Date:     2009-02-18 15:08:54 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 16:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/win/bcc32.cf
    * Synced flags with non-GNU make. This adds MT support.

  * config/win/install.cf
    ! Install command modified to not give errors and block
      the whole build process if the target file already exists.
      The workaround consisted of changing 'copy' to 'xcopy /d /y'.

  * include/inkey.ch
    + Added comments on K_MM*DOWN codes.
      These also should be protected, and moved to
      local the local headers belonging to GTs
      supporting this feature (GTWVG notably).

  * source/rtl/gtwvt/gtwvt.c
    + Protected non-Clipper compatible extension regarding
      K_MM*DOWN with __HB_GTWVT_GEN_K_MMDOWN_EVENTS #define.
      Also see notes in about app level code modification
      needed if you want to continue using default Harbour build:
      2009-02-18 12:20 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc32.cf
    trunk/harbour/config/win/install.cf
    trunk/harbour/include/inkey.ch
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Wed Feb 18 10:19:10 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Feb 18 10:19:14 2009
Subject: [Harbour] Log from build.
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>

Today, when I set hb_architecture to "win" and manually removed all w32
subfolders, after build have I on screen :

---------------
c:\harbour>make_gnu.bat
make[3]: *** [wvgcore.obj] Error 8
make[2]: *** [descend] Error 2
make[1]: *** [gtwvg] Error 2
make: *** [contrib] Error 2
----------

And on end make_gnu.log file is :

C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to
type of cast
../../wvgcore.c(176): Note! N630: col(81) source conversion type is
'_GUID const *'
../../wvgcore.c(176): Note! N631: col(81) target conversion type is
'_GUID const (lvalue)'
../../wvgcore.c(213): Error! E306: col(90) cannot convert expression to
type of cast
../../wvgcore.c(213): Note! N630: col(90) source conversion type is
'_GUID const *'
../../wvgcore.c(213): Note! N631: col(90) target conversion type is
'_GUID const (lvalue)'
../../wvgcore.c(617): Error! E306: col(85) cannot convert expression to
type of cast
../../wvgcore.c(617): Note! N630: col(85) source conversion type is
'_GUID const *'
../../wvgcore.c(617): Note! N631: col(85) target conversion type is
'_GUID const (lvalue)'
make[3]: Leaving directory `c:/harbour/contrib/gtwvg/win/owatcom'
make[2]: Leaving directory `c:/harbour/contrib/gtwvg'
make[1]: Leaving directory `c:/harbour/contrib'


But when I try build test aplication, have error :

c:\harbour\tests>hbmk_ow cls_test                                    
Autodetected HB_ARCHITECTURE: win                                    
Error! E107: filename required on command line                       
Open Watcom Linker Version 1.8                                       
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.   
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.                          
Error! E3122: no FILE directives found                               


Regards,
Marek Horodyski
From rodrmigu at gmail.com  Wed Feb 18 10:19:39 2009
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Wed Feb 18 10:19:42 2009
Subject: [Harbour] Creating a harbour dll to be used by Delphi App
Message-ID: <80b05d460902180719ga62b555n999a0eb3cf1d5014@mail.gmail.com>

All,

Some time ago, I heard that such of think is not possible due to the
Harbour VM. So that's reasonable. But is there any way to workaround
this, like Initialize the VM in WINAPI DllMain during the
DLL_PROCESS_ATTACH? Or, maybe initialize the VM inside of function to
be called and then calling the hb_dynsymFindName?

have you someone tried that before?

Thanks in advance
Rodrigo
From M.Horodyski at pzuzycie.com.pl  Wed Feb 18 10:25:43 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Feb 18 10:25:48 2009
Subject: [Harbour] SQLWIN - a free RDD for SQL by Antonio Linares
In-Reply-To: <609353e70902180619l458c8582u99cf8059aa90d8a6@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0F0@PINK.zycie.pzu>

________________________________

	From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
	Sent: Wednesday, February 18, 2009 3:19 PM
	To: Harbour Project Main Developer List.
	Subject: [Harbour] SQLWIN - a free RDD for SQL by Antonio
Linares
	

	SQLWIN - a free RDD for SQL
<http://forums.fivetechsupport.com/viewtopic.php?f=3&t=12646#p63818> 


Massimo, with or without FiveWin ?

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Wed Feb 18 10:32:21 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 18 10:27:15 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <499C23D4.70002@libero.it>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<499AFB1F.80901@libero.it>
	<20090217183026.GA8333@uran.home.aster.pl>
	<499C23D4.70002@libero.it>
Message-ID: <20090218153221.GA28345@uran.home.aster.pl>

On Wed, 18 Feb 2009, Maurilio Longo wrote:

Hi,

> > hbmk2.exe. In such case if OS2 does not have function like MS-Win
> > GetModuleFileName() then you may try to set the default extension.
> > Before:
> >             while( pNextPath )
> >             {
> > add this lines:
> > #ifdef HB_OS_OS2
> >             if( !pFName->szExt )
> >                pFName->szExt = ".exe";
> > #endif
> I've used your idea since in OS/2 I have a function which gives me the command
> line, but the command name is as it has been entered and as such it lacks full
> path and extension.

Just like in other OS-es. Probably in OS2 argv[0] is decoded by CRTL
from this command line. In some other OS-es, f.e. *nixes it's possible
to set by calling process argv[0] to any value which may not be bound
with executed file at all and in such case we cannot detect real binaries.
If the above works then please commit it. Probably we should even extend it
to:
   #if defined( HB_OS_OS2 ) || defined( HB_OS_WIN ) || defined( HB_OS_DOS )
               if( !pFName->szExt )
                  pFName->szExt = ".exe";
   #endif

best regards,
Przemek
From mbelgrano at deltain.it  Wed Feb 18 10:27:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 10:27:23 2009
Subject: [Harbour] SQLWIN - a free RDD for SQL by Antonio Linares
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0F0@PINK.zycie.pzu>
References: <609353e70902180619l458c8582u99cf8059aa90d8a6@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0F0@PINK.zycie.pzu>
Message-ID: <609353e70902180727g69413fa6q61e8bb62a4b466cc@mail.gmail.com>

 without FiveWin

2009/2/18 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

> ________________________________
>
>        From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>        Sent: Wednesday, February 18, 2009 3:19 PM
>        To: Harbour Project Main Developer List.
>        Subject: [Harbour] SQLWIN - a free RDD for SQL by Antonio
> Linares
>
>
>        SQLWIN - a free RDD for SQL
> <http://forums.fivetechsupport.com/viewtopic.php?f=3&t=12646#p63818>
>
>
> Massimo, with or without FiveWin ?
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/34d6c4a3/attachment.html
From vszakats at users.sourceforge.net  Wed Feb 18 10:27:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 10:27:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10331] trunk/harbour
Message-ID: <E1LZoKh-00082F-AO@bj8yhf1.ch3.sourceforge.com>

Revision: 10331
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10331&view=rev
Author:   vszakats
Date:     2009-02-18 15:27:30 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 16:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    * '-l-' is now passed to Harbour instead of being considered
      as a lib spec.
    * Arch/comp is now case-insensitive in filters too.
    * Removed GTSTD usage.
      It caused a stall at startup for BCC, and Ctrl+C had 
      to be pressed to proceed. I didn't investigate further, 
      maybe it's a local problem.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Wed Feb 18 10:30:11 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 18 10:30:15 2009
Subject: [Harbour] Re: Help with gtxwc fonts
In-Reply-To: <9257026e0902180655s3ee4e2a6l4e7d8be2e055cdac@mail.gmail.com>
References: <9257026e0902180655s3ee4e2a6l4e7d8be2e055cdac@mail.gmail.com>
Message-ID: <9257026e0902180730x317b8f46qabd5a97a8f0bbe7b@mail.gmail.com>

On Wed, Feb 18, 2009 at 3:55 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> Are there restrictions I can't see?

Maybe I found the problem.

If I replace XWC_DEFAULT_FONT_ENCODING   "iso10646-1" with "*-1" I get
many fonts working.

Not all are usable but at least there are choices.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Feb 18 10:37:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 10:37:20 2009
Subject: [Harbour] Log from build.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>
Message-ID: <18d502870902180737j69faba2dh7dd7ffe61807948c@mail.gmail.com>

Thanks Marek.

These are two problems:

C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
> ../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to


gtwvg does seem to be broken. We should ask Pritpal about
it, but for sure there are some obvious (many times cited)
problems which could be fixed there. Like proper <windows.h>
#inclusion. But there is probably more beyond that.
It could also be owatcom speciality.


> But when I try build test aplication, have error :
>
> c:\harbour\tests>hbmk_ow cls_test
> Autodetected HB_ARCHITECTURE: win
> Error! E107: filename required on command line
> Open Watcom Linker Version 1.8
> Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
> Source code is available under the Sybase Open Watcom Public License.
> See http://www.openwatcom.org/ for details.
> Error! E3122: no FILE directives found


I haven't tested owatcom, so current support is a rough
addition based on hbmk.bat, where owatcom support
was also not working properly. If you want to experiment,
you can try changing util/hbmk/hbmk2.prg line #769
from:
         cOpt_Link := "OP osn=NT OP stack=65536 OP CASEEXACT {OPTL} NAME {E}
{O} {L}"
to
         cOpt_Link := "OP osn=NT OP stack=65536 OP CASEEXACT {OPTL} NAME {E}
{O} {L}{SCRIPT}"

If it doesn't work, please use the -trace option and post
your outputs.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/7e80755a/attachment-0001.html
From mauriliolongo at users.sourceforge.net  Wed Feb 18 10:38:49 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Wed Feb 18 10:38:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10332] trunk/harbour
Message-ID: <E1LZoVd-00053A-5Z@74yxhf1.ch3.sourceforge.com>

Revision: 10332
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10332&view=rev
Author:   mauriliolongo
Date:     2009-02-18 15:38:48 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 16:35 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * source/vm/cmdarg.c
     * little hack from Przemyslaw to make it work under OS/2 where
       executable name hasen't got extension if extension was not give when
       executable was started.
   * utils/hbmk/hbmk2.prg
     * Changed to work under OS/2 with GCC; other OS/2 compilers not tested.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 18 10:40:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 10:40:15 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <20090218153221.GA28345@uran.home.aster.pl>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<499AFB1F.80901@libero.it> <20090217183026.GA8333@uran.home.aster.pl>
	<499C23D4.70002@libero.it> <20090218153221.GA28345@uran.home.aster.pl>
Message-ID: <18d502870902180740r519d078qf47d533957b07c03@mail.gmail.com>

>
> > I've used your idea since in OS/2 I have a function which gives me the
> command
> > line, but the command name is as it has been entered and as such it lacks
> full
> > path and extension.
>

Full path and extension is the main point of hb_progname()
and hb_dirbase() (both based on this low level feature).

So if there is any way to find that out on OS/2 too (even
when caller only passed relative path or no path), it'd be
great. This is needed for hbmk2, too.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/ae4f9d78/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 10:41:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 10:41:28 2009
Subject: [Harbour] SQLWIN - a free RDD for SQL by Antonio Linares
In-Reply-To: <609353e70902180727g69413fa6q61e8bb62a4b466cc@mail.gmail.com>
References: <609353e70902180619l458c8582u99cf8059aa90d8a6@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0F0@PINK.zycie.pzu>
	<609353e70902180727g69413fa6q61e8bb62a4b466cc@mail.gmail.com>
Message-ID: <18d502870902180741o5164454n3bc56623cfa338f2@mail.gmail.com>

But only for Windows as the name - sqlwin - implies.
Brgds,
Viktor

On Wed, Feb 18, 2009 at 4:27 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

>  without FiveWin
>
> 2009/2/18 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>
>
> ________________________________
>>
>>        From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>        Sent: Wednesday, February 18, 2009 3:19 PM
>>        To: Harbour Project Main Developer List.
>>        Subject: [Harbour] SQLWIN - a free RDD for SQL by Antonio
>> Linares
>>
>>
>>        SQLWIN - a free RDD for SQL
>> <http://forums.fivetechsupport.com/viewtopic.php?f=3&t=12646#p63818>
>>
>>
>> Massimo, with or without FiveWin ?
>>
>> Regards,
>> Marek Horodyski
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/45c296c0/attachment.html
From maurilio.longo at libero.it  Wed Feb 18 10:42:59 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 10:43:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10332] trunk/harbour
In-Reply-To: <E1LZoVd-00053A-5Z@74yxhf1.ch3.sourceforge.com>
References: <E1LZoVd-00053A-5Z@74yxhf1.ch3.sourceforge.com>
Message-ID: <499C2C83.2020200@libero.it>

errata corrige :)

executable name hasn't got extension if extension was not given when
executable was started.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mauriliolongo at users.sourceforge.net  Wed Feb 18 10:45:36 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Wed Feb 18 10:45:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10333]
	trunk/harbour/ChangeLog
Message-ID: <E1LZocC-0005At-Jq@74yxhf1.ch3.sourceforge.com>

Revision: 10333
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10333&view=rev
Author:   mauriliolongo
Date:     2009-02-18 15:45:35 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 16:45 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * ChangeLog
     * little correction to previous entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 18 10:55:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 10:55:13 2009
Subject: [Harbour] Linux development environment
Message-ID: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>

Hi all,
Has anyone some recommendations for an efficient
Linux development environment?

I'm thinking of a good file manager plus a decent editor,
with proper cut&paste support. Can be CUI or GUI, and
even integrated, to handle multiple projects. Plus possibly
an integrated FTP client. I'm rooting from Far Manager
on Windows.

On OSX, TextMate is a nice editor.

Tools I use, but none of them really cut the chase:
- Terminals (good but can't get up to speed)
- Midnight Commander (horrible keyboard handling, with cumbersome editor)
- mucommander (good file manager, very-very I mean very basic editor)
- vim/pico/emacs (I'd need to grow a meter long beard to use these I
suppose)

Opinions don't intend to flame, these a beginners
impressions, even though I'm a beginner since 10
years on Linux, I still feel numb when trying to a
achieve anything, it's slower than on Windows by
one factor.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/7106225a/attachment.html
From mbelgrano at deltain.it  Wed Feb 18 10:58:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 10:59:00 2009
Subject: [Harbour] SQLWIN - a free RDD for SQL by Antonio Linares
In-Reply-To: <18d502870902180741o5164454n3bc56623cfa338f2@mail.gmail.com>
References: <609353e70902180619l458c8582u99cf8059aa90d8a6@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0F0@PINK.zycie.pzu>
	<609353e70902180727g69413fa6q61e8bb62a4b466cc@mail.gmail.com>
	<18d502870902180741o5164454n3bc56623cfa338f2@mail.gmail.com>
Message-ID: <609353e70902180758r5c1fb119v1c7d9fc5dfff8db1@mail.gmail.com>

Antonio have write on his forum;
"This RDD does not need FiveWin, so we can adapt it to Linux too "
"This RDD does not use ADO at all."
"The SQLWIN RDD just issues SQL sentences: It translates Db...()
functions to SQL code, so we can use it with any database engine that
supports SQL."
The idea is to store the indexes tags and expresions in the server, so
when we issue some SQL sentences that require indexes then we use:
... ORDER BY <index_expression_stored_in_server>, sql_recno
i.e.:
SELECT ALL FROM `test_dbf` ORDER BY `Name`, `sql_recno` WHERE
`sql_deleted`!= 'T'
we have to previously retrieve those indexes expressions from the
server when we open the tablename (DBF) with the RDD

here is project
http://wiki.fivetechsoft.com/doku.php?id=sqlwin_development



2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>
>
> But only for Windows as the name - sqlwin - implies.
> Brgds,
> Viktor
>
> On Wed, Feb 18, 2009 at 4:27 PM, Massimo Belgrano <mbelgrano@deltain.it> wrote:
>>
>>  without FiveWin
>>
>> 2009/2/18 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>
>>>
>>> ________________________________
>>>
>>>        From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>>        Sent: Wednesday, February 18, 2009 3:19 PM
>>>        To: Harbour Project Main Developer List.
>>>        Subject: [Harbour] SQLWIN - a free RDD for SQL by Antonio
>>> Linares
>>>
>>>
>>>        SQLWIN - a free RDD for SQL
>>> <http://forums.fivetechsupport.com/viewtopic.php?f=3&t=12646#p63818>
>>>
>>>
>>> Massimo, with or without FiveWin ?
>>>
>>> Regards,
>>> Marek Horodyski
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



--
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From maurilio.longo at libero.it  Wed Feb 18 11:17:26 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 11:17:34 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
Message-ID: <499C3496.5060701@libero.it>

Viktor,

I've used sometimes jEdit, it is written in java; I've used it on linux,
macosx and lately on opensolaris.

I use it just as an editor, not a full ide.

Best regards.

Maurilio.

PS. On windows and on OS/2 I use MED and I miss it every time I'm on an
unsupported (by med) platform.

Viktor Szak?ts wrote:
> Hi all,
> 
> Has anyone some recommendations for an efficient 
> Linux development environment?
> 
> I'm thinking of a good file manager plus a decent editor, 
> with proper cut&paste support. Can be CUI or GUI, and 
> even integrated, to handle multiple projects. Plus possibly 
> an integrated FTP client. I'm rooting from Far Manager 
> on Windows.
> 
> On OSX, TextMate is a nice editor.
> 
> Tools I use, but none of them really cut the chase:
> - Terminals (good but can't get up to speed)
> - Midnight Commander (horrible keyboard handling, with cumbersome editor)
> - mucommander (good file manager, very-very I mean very basic editor)
> - vim/pico/emacs (I'd need to grow a meter long beard to use these I
> suppose)
> 
> Opinions don't intend to flame, these a beginners 
> impressions, even though I'm a beginner since 10 
> years on Linux, I still feel numb when trying to a
> achieve anything, it's slower than on Windows by 
> one factor.
> 
> Brgds,
> Viktor
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Wed Feb 18 11:18:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 11:18:33 2009
Subject: [Harbour] MSVC/BCC with the GNU-make and the future
Message-ID: <18d502870902180818l6293f748h54fa8391b040d2c0@mail.gmail.com>

Hi everyone,
I did tests with above combinations (MSVC 2005 x86 + BCC 5.5),
and they seem to work quite well. It should work the same way
for other MSVC and BCC versions. MSVC amd64 and WinCE
builds needs to be tested, I expect no problems for amd64, WinCE
should tested by someone having the required tools.

What's missing is two things:
- .dll creation (harbour-11-b32.dll and harbour-11-vc.dll)
     In fact we miss it for all other compilers (like owatcom), with the
     only exception of MinGW. See my other mail about possible
     path to a solution, but still the support has to be added, and
     at this point I don't know how. Help would be appreciated,
     especially from those who need .dll support.
- import lib creation.
     This isn't critical, and the feature was bashed here and it
     isn't needed for official builds either. Even hbmk2 can help
     us here. We will see.

Setup needs a few more lines than non-GNU, but that's really not
a problem, as these were already needed for MinGW and owatcom,
and it's nothing serious anyway. Even contrib external tool detection
works in contrary to what I've said a few e-mails back, it was just
local HB_INC_* misconfiguration. The only extra care which needs
to be taken is to properly setup MinGW make.exe in the PATH
_before_ the actual development tools, this is especially
important for BCC, as it has a different make tool under the same
name. So always use this line _AFTER_ setting up your compiler:

--- template
<setup compiler - put it into PATH, etc>
set PATH=C:\devl\make-3.81;%PATH%
<setup Harbour build options>
<start Harbour build>
---

I'll make the switch locally to pure GNU-make environment for Harbour
as a start. I encourage everyone else to do so.

If everything goes well, I plan to drop the non-GNU build to
create a much more coherent build environment, with easy switch
between compilers, similar working environments, features and
options. I'd appreciate support for this, and if there are any
objections or opinions in this regard, pls speak up.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/27e7cf52/attachment-0001.html
From maurilio.longo at libero.it  Wed Feb 18 11:19:12 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 11:19:20 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <18d502870902180740r519d078qf47d533957b07c03@mail.gmail.com>
References: <499AEAA0.1040701@libero.it>	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>	<499AFB1F.80901@libero.it>
	<20090217183026.GA8333@uran.home.aster.pl>	<499C23D4.70002@libero.it>
	<20090218153221.GA28345@uran.home.aster.pl>
	<18d502870902180740r519d078qf47d533957b07c03@mail.gmail.com>
Message-ID: <499C3500.4000305@libero.it>

Viktor,

command line hasn't got the full path of the command (argv[0]); there is an
api which gives such an information, but only for loaded .DLLs.

Best regards.

Maurilio.

Viktor Szak?ts wrote:
>     > I've used your idea since in OS/2 I have a function which gives me
>     the command
>     > line, but the command name is as it has been entered and as such
>     it lacks full
>     > path and extension.
> 
> 
> Full path and extension is the main point of hb_progname() 
> and hb_dirbase() (both based on this low level feature).
> 
> So if there is any way to find that out on OS/2 too (even 
> when caller only passed relative path or no path), it'd be 
> great. This is needed for hbmk2, too.
> 
> Brgds,
> Viktor
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Wed Feb 18 11:28:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 11:28:37 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <499C3500.4000305@libero.it>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<499AFB1F.80901@libero.it> <20090217183026.GA8333@uran.home.aster.pl>
	<499C23D4.70002@libero.it> <20090218153221.GA28345@uran.home.aster.pl>
	<18d502870902180740r519d078qf47d533957b07c03@mail.gmail.com>
	<499C3500.4000305@libero.it>
Message-ID: <18d502870902180828s4390773bh5b22e801a2806761@mail.gmail.com>

Hi Maurilio,
Okay, so if I understand correctly argv[0] works just like
everywhere else, and with the help of our cmdarg.c internals,
you're actually getting full paths, if you use Harbour functions
hb_DirBase() / hb_ProgName(), is that right?

Brgds,
Viktor

On Wed, Feb 18, 2009 at 5:19 PM, Maurilio Longo <maurilio.longo@libero.it>wrote:

> Viktor,
>
> command line hasn't got the full path of the command (argv[0]); there is an
> api which gives such an information, but only for loaded .DLLs.
>
> Best regards.
>
> Maurilio.
>
> Viktor Szak?ts wrote:
> >     > I've used your idea since in OS/2 I have a function which gives me
> >     the command
> >     > line, but the command name is as it has been entered and as such
> >     it lacks full
> >     > path and extension.
> >
> >
> > Full path and extension is the main point of hb_progname()
> > and hb_dirbase() (both based on this low level feature).
> >
> > So if there is any way to find that out on OS/2 too (even
> > when caller only passed relative path or no path), it'd be
> > great. This is needed for hbmk2, too.
> >
> > Brgds,
> > Viktor
> >
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/9d836da9/attachment.html
From mbelgrano at deltain.it  Wed Feb 18 11:29:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 11:29:43 2009
Subject: [Harbour] MSVC/BCC with the GNU-make and the future
In-Reply-To: <18d502870902180818l6293f748h54fa8391b040d2c0@mail.gmail.com>
References: <18d502870902180818l6293f748h54fa8391b040d2c0@mail.gmail.com>
Message-ID: <609353e70902180829ga50828lc91516bc662cf9d7@mail.gmail.com>

I totaly agree with your path
One unique way for make harbour is very good for create a much more
coherent build environment

2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi everyone,
> I did tests with above combinations (MSVC 2005 x86 + BCC 5.5),
> and they seem to work quite well. It should work the same way
> for other MSVC and BCC versions. MSVC amd64 and WinCE
> builds needs to be tested, I expect no problems for amd64, WinCE
> should tested by someone having the required tools.
> What's missing is two things:
> - .dll creation (harbour-11-b32.dll and harbour-11-vc.dll)
>      In fact we miss it for all other compilers (like owatcom), with the
>      only exception of MinGW. See my other mail about possible
>      path to a solution, but still the support has to be added, and
>      at this point I don't know how. Help would be appreciated,
>      especially from those who need .dll support.
> - import lib creation.
>      This isn't critical, and the feature was bashed here and it
>      isn't needed for official builds either. Even hbmk2 can help
>      us here. We will see.
> Setup needs a few more lines than non-GNU, but that's really not
> a problem, as these were already needed for MinGW and owatcom,
> and it's nothing serious anyway. Even contrib external tool detection
> works in contrary to what I've said a few e-mails back, it was just
> local HB_INC_* misconfiguration. The only extra care which needs
> to be taken is to properly setup MinGW make.exe in the PATH
> _before_ the actual development tools, this is especially
> important for BCC, as it has a different make tool under the same
> name. So always use this line _AFTER_ setting up your compiler:
> --- template
> <setup compiler - put it into PATH, etc>
> set PATH=C:\devl\make-3.81;%PATH%
> <setup Harbour build options>
> <start Harbour build>
> ---
> I'll make the switch locally to pure GNU-make environment for Harbour
> as a start. I encourage everyone else to do so.
> If everything goes well, I plan to drop the non-GNU build to
> create a much more coherent build environment, with easy switch
> between compilers, similar working environments, features and
> options. I'd appreciate support for this, and if there are any
> objections or opinions in this regard, pls speak up.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>

-- 
Massimo Belgrano
From maurilio.longo at libero.it  Wed Feb 18 11:34:41 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 18 11:34:49 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <18d502870902180828s4390773bh5b22e801a2806761@mail.gmail.com>
References: <499AEAA0.1040701@libero.it>	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>	<499AFB1F.80901@libero.it>
	<20090217183026.GA8333@uran.home.aster.pl>	<499C23D4.70002@libero.it>
	<20090218153221.GA28345@uran.home.aster.pl>	<18d502870902180740r519d078qf47d533957b07c03@mail.gmail.com>	<499C3500.4000305@libero.it>
	<18d502870902180828s4390773bh5b22e801a2806761@mail.gmail.com>
Message-ID: <499C38A1.7000001@libero.it>

Viktor,

after my last commit, having HB_BIN_INSTALL set, having the directory
containing hbmk2.exe inside PATH, I can issue a command like

hbmk2 -mt speedtst

inside tests and it builds speedtst.exe correctly.

So, now it works even without setting HB_INSTALL_PREFIX.

Best regards.

Maurilio.

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> Okay, so if I understand correctly argv[0] works just like 
> everywhere else, and with the help of our cmdarg.c internals, 
> you're actually getting full paths, if you use Harbour functions 
> hb_DirBase() / hb_ProgName(), is that right?
> 
> Brgds,
> Viktor
> 
> On Wed, Feb 18, 2009 at 5:19 PM, Maurilio Longo
> <maurilio.longo@libero.it <mailto:maurilio.longo@libero.it>> wrote:
> 
>     Viktor,
> 
>     command line hasn't got the full path of the command (argv[0]);
>     there is an
>     api which gives such an information, but only for loaded .DLLs.
> 
>     Best regards.
> 
>     Maurilio.
> 
>     Viktor Szak?ts wrote:
>     >     > I've used your idea since in OS/2 I have a function which
>     gives me
>     >     the command
>     >     > line, but the command name is as it has been entered and as such
>     >     it lacks full
>     >     > path and extension.
>     >
>     >
>     > Full path and extension is the main point of hb_progname()
>     > and hb_dirbase() (both based on this low level feature).
>     >
>     > So if there is any way to find that out on OS/2 too (even
>     > when caller only passed relative path or no path), it'd be
>     > great. This is needed for hbmk2, too.
>     >
>     > Brgds,
>     > Viktor
>     >
>     >
>     >
>     >
>     ------------------------------------------------------------------------
>     >
>     > _______________________________________________
>     > Harbour mailing list
>     > Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
>     --
>      __________
>     |  |  | |__| Maurilio Longo
>     |_|_|_|____| farmaconsult s.r.l.
> 
> 
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Wed Feb 18 11:42:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 11:42:12 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <499C38A1.7000001@libero.it>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<499AFB1F.80901@libero.it> <20090217183026.GA8333@uran.home.aster.pl>
	<499C23D4.70002@libero.it> <20090218153221.GA28345@uran.home.aster.pl>
	<18d502870902180740r519d078qf47d533957b07c03@mail.gmail.com>
	<499C3500.4000305@libero.it>
	<18d502870902180828s4390773bh5b22e801a2806761@mail.gmail.com>
	<499C38A1.7000001@libero.it>
Message-ID: <18d502870902180842m3705bec3wa361729b0e597210@mail.gmail.com>

Nice, this means it works. Thank you.
Brgds,
Viktor

On Wed, Feb 18, 2009 at 5:34 PM, Maurilio Longo <maurilio.longo@libero.it>wrote:

> Viktor,
>
> after my last commit, having HB_BIN_INSTALL set, having the directory
> containing hbmk2.exe inside PATH, I can issue a command like
>
> hbmk2 -mt speedtst
>
> inside tests and it builds speedtst.exe correctly.
>
> So, now it works even without setting HB_INSTALL_PREFIX.
>
> Best regards.
>
> Maurilio.
>
> Viktor Szak?ts wrote:
> > Hi Maurilio,
> >
> > Okay, so if I understand correctly argv[0] works just like
> > everywhere else, and with the help of our cmdarg.c internals,
> > you're actually getting full paths, if you use Harbour functions
> > hb_DirBase() / hb_ProgName(), is that right?
> >
> > Brgds,
> > Viktor
> >
> > On Wed, Feb 18, 2009 at 5:19 PM, Maurilio Longo
> > <maurilio.longo@libero.it <mailto:maurilio.longo@libero.it>> wrote:
> >
> >     Viktor,
> >
> >     command line hasn't got the full path of the command (argv[0]);
> >     there is an
> >     api which gives such an information, but only for loaded .DLLs.
> >
> >     Best regards.
> >
> >     Maurilio.
> >
> >     Viktor Szak?ts wrote:
> >     >     > I've used your idea since in OS/2 I have a function which
> >     gives me
> >     >     the command
> >     >     > line, but the command name is as it has been entered and as
> such
> >     >     it lacks full
> >     >     > path and extension.
> >     >
> >     >
> >     > Full path and extension is the main point of hb_progname()
> >     > and hb_dirbase() (both based on this low level feature).
> >     >
> >     > So if there is any way to find that out on OS/2 too (even
> >     > when caller only passed relative path or no path), it'd be
> >     > great. This is needed for hbmk2, too.
> >     >
> >     > Brgds,
> >     > Viktor
> >     >
> >     >
> >     >
> >     >
> >
> ------------------------------------------------------------------------
> >     >
> >     > _______________________________________________
> >     > Harbour mailing list
> >     > Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
> >     > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >     --
> >      __________
> >     |  |  | |__| Maurilio Longo
> >     |_|_|_|____| farmaconsult s.r.l.
> >
> >
> >     _______________________________________________
> >     Harbour mailing list
> >     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
> >     http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/1013f2ab/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 11:53:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 11:53:09 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <499C3496.5060701@libero.it>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
	<499C3496.5060701@libero.it>
Message-ID: <18d502870902180853s51202944g91dfe3431f08033f@mail.gmail.com>

Thanks for the suggestion Maurilio, jEdit really seems good.
Brgds,
Viktor

On Wed, Feb 18, 2009 at 5:17 PM, Maurilio Longo <maurilio.longo@libero.it>wrote:

> Viktor,
>
> I've used sometimes jEdit, it is written in java; I've used it on linux,
> macosx and lately on opensolaris.
>
> I use it just as an editor, not a full ide.
>
> Best regards.
>
> Maurilio.
>
> PS. On windows and on OS/2 I use MED and I miss it every time I'm on an
> unsupported (by med) platform.
>
> Viktor Szak?ts wrote:
> > Hi all,
> >
> > Has anyone some recommendations for an efficient
> > Linux development environment?
> >
> > I'm thinking of a good file manager plus a decent editor,
> > with proper cut&paste support. Can be CUI or GUI, and
> > even integrated, to handle multiple projects. Plus possibly
> > an integrated FTP client. I'm rooting from Far Manager
> > on Windows.
> >
> > On OSX, TextMate is a nice editor.
> >
> > Tools I use, but none of them really cut the chase:
> > - Terminals (good but can't get up to speed)
> > - Midnight Commander (horrible keyboard handling, with cumbersome editor)
> > - mucommander (good file manager, very-very I mean very basic editor)
> > - vim/pico/emacs (I'd need to grow a meter long beard to use these I
> > suppose)
> >
> > Opinions don't intend to flame, these a beginners
> > impressions, even though I'm a beginner since 10
> > years on Linux, I still feel numb when trying to a
> > achieve anything, it's slower than on Windows by
> > one factor.
> >
> > Brgds,
> > Viktor
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/a7362306/attachment-0001.html
From mbelgrano at deltain.it  Wed Feb 18 11:54:38 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 11:54:43 2009
Subject: [Harbour] MSVC/BCC with the GNU-make and the future
In-Reply-To: <18d502870902180818l6293f748h54fa8391b040d2c0@mail.gmail.com>
References: <18d502870902180818l6293f748h54fa8391b040d2c0@mail.gmail.com>
Message-ID: <609353e70902180854i73c4227fw2453d8aba5ff20c0@mail.gmail.com>

i Not able to create gtwvg.lib in c:\harbour\lib
---------------
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
set path=c:\devl\mingw32-make;%path%
cd \harbour
set HB_ARCHITECTURE=win
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
make clean > nul
make install -r >MAKE_GNU.LOG


-----------------scrach from MAKE_GNU.LOG
make[1]: Entering directory `C:/harbour/contrib'
make -C gtwvg install
make[2]: Entering directory `C:/harbour/contrib/gtwvg'

C:\harbour\contrib\gtwvg>if not exist win\. md win

C:\harbour\contrib\gtwvg>if not exist win\msvc\. md win\msvc

C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\. md ..\..\lib\win

C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\msvc\. md
..\..\lib\win\msvc

C:\harbour\contrib\gtwvg>if not exist win\. md win

C:\harbour\contrib\gtwvg>if not exist win\msvc\. md win\msvc

C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\. md ..\..\lib\win

C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\msvc\. md
..\..\lib\win\msvc
make[3]: Entering directory `C:/harbour/contrib/gtwvg/win/msvc'
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c ../../gtwvg.c -Fogtwvg.obj
gtwvg.c
C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
warning C4201: utilizzata estensione non standard: struct/union senza nome
../../gtwvg.c(2132) : warning C4244: '=': conversione da 'int' a 'USHORT'.
Possibile perdita di dati.
../../gtwvg.c(2133) : warning C4244: '=': conversione da 'int' a 'USHORT'.
Possibile perdita di dati.
../../gtwvg.c(2162) : warning C4244: '=': conversione da 'int' a 'USHORT'.
Possibile perdita di dati.
../../gtwvg.c(2163) : warning C4244: '=': conversione da 'int' a 'USHORT'.
Possibile perdita di dati.
../../gtwvg.c(3224) : warning C4244: 'funzione': conversione da 'int' a
'BYTE'. Possibile perdita di dati.
../../gtwvg.c(3247) : warning C4244: '=': conversione da 'HB_LONG' a
'DWORD'. Possibile perdita di dati.
../../gtwvg.c(3252) : warning C4244: '=': conversione da 'HB_LONG' a
'DWORD'. Possibile perdita di dati.
../../gtwvg.c(3257) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
Possibile perdita di dati.
../../gtwvg.c(3262) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
Possibile perdita di dati.
../../gtwvg.c(3267) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
Possibile perdita di dati.
../../gtwvg.c(3272) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
Possibile perdita di dati.
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c ../../wvgcore.c -Fowvgcore.obj
wvgcore.c
C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
warning C4201: utilizzata estensione non standard: struct/union senza nome
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c ../../wvgutils.c -Fowvgutils.obj
wvgutils.c
C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
warning C4201: utilizzata estensione non standard: struct/union senza nome
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c ../../wvgwin.c -Fowvgwin.obj
wvgwin.c
C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
warning C4201: utilizzata estensione non standard: struct/union senza nome
../../wvgwin.c(891) : warning C4244: 'funzione': conversione da 'HB_LONG' a
'DWORD'. Possibile perdita di dati.
../../wvgwin.c(894) : warning C4244: 'funzione': conversione da 'HB_LONG' a
'DWORD'. Possibile perdita di dati.
../../wvgwin.c(914) : warning C4244: 'funzione': conversione da 'HB_LONG' a
'DWORD'. Possibile perdita di dati.
../../wvgwin.c(918) : warning C4244: 'funzione': conversione da 'HB_LONG' a
'UINT_PTR'. Possibile perdita di dati.
../../wvgwin.c(1291) : warning C4244: '=': conversione da 'LONG' a 'USHORT'.
Possibile perdita di dati.
../../wvgwin.c(1429) : warning C4244: 'funzione': conversione da 'HB_LONG' a
'UINT'. Possibile perdita di dati.
../../wvgwin.c(2060) : warning C4244: 'funzione': conversione da 'int' a
'BYTE'. Possibile perdita di dati.
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c ../../wvgsink.c -Fowvgsink.obj
wvgsink.c
C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
warning C4201: utilizzata estensione non standard: struct/union senza nome
../../wvgsink.c(489) : warning C4244: 'funzione': conversione da 'int' a
'USHORT'. Possibile perdita di dati.
../../wvgsink.c(989) : warning C4305: 'cast di tipo': troncamento da
'HB_LONG' a 'HWND'
../../wvgsink.c(993) : warning C4305: 'cast di tipo': troncamento da
'HB_LONG' a 'IUnknown *'
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c ../../wvggui.c -Fowvggui.obj
wvggui.c
C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
warning C4201: utilizzata estensione non standard: struct/union senza nome
../../wvggui.c(2058) : warning C4244: 'funzione': conversione da 'int' a
'BYTE'. Possibile perdita di dati.
../../wvggui.c(2080) : warning C4244: '=': conversione da 'HB_LONG' a
'DWORD'. Possibile perdita di dati.
../../wvggui.c(2085) : warning C4244: '=': conversione da 'HB_LONG' a
'DWORD'. Possibile perdita di dati.
../../wvggui.c(2090) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
Possibile perdita di dati.
../../wvggui.c(2095) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
Possibile perdita di dati.
../../wvggui.c(2100) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
Possibile perdita di dati.
../../wvggui.c(2105) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
Possibile perdita di dati.
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c ../../wincallb.c -Fowincallb.obj
wincallb.c
../../wincallb.c(236) : warning C4244: 'funzione': conversione da 'int' a
'USHORT'. Possibile perdita di dati.
../../wincallb.c(238) : warning C4244: 'funzione': conversione da 'int' a
'USHORT'. Possibile perdita di dati.
../../wincallb.c(348) : warning C4152: estensione non standard, conversione
di puntatore a funzione/dati nell'espressione
../../wincallb.c(374) : warning C4244: '=': conversione da 'int' a 'BYTE'.
Possibile perdita di dati.
../../wincallb.c(375) : warning C4244: '=': conversione da 'int' a 'BYTE'.
Possibile perdita di dati.
../../wincallb.c(376) : warning C4244: '=': conversione da 'int' a 'BYTE'.
Possibile perdita di dati.
../../wincallb.c(391) : warning C4152: estensione non standard, conversione
di puntatore a funzione/dati nell'espressione
../../wincallb.c(392) : warning C4244: '=': conversione da 'int' a 'byte'.
Possibile perdita di dati.
../../wincallb.c(393) : warning C4244: '=': conversione da 'int' a 'byte'.
Possibile perdita di dati.
c:\harbour\contrib\gtwvg\wincallb.c(608) : warning C4701: utilizzata
variabile locale 'j' potenzialmente non inizializzata
../../../../source/main/win/msvc/harbour.exe ../../wvgclass.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgclass.c -Fowvgclass.obj
wvgclass.c
../../../../source/main/win/msvc/harbour.exe ../../wvgpaint.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgpaint.c -Fowvgpaint.obj
wvgpaint.c
../../../../source/main/win/msvc/harbour.exe ../../wvgphdlr.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgphdlr.c -Fowvgphdlr.obj
wvgphdlr.c
../../../../source/main/win/msvc/harbour.exe ../../wvgwnd.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgwnd.c -Fowvgwnd.obj
wvgwnd.c
../../../../source/main/win/msvc/harbour.exe ../../wvgcrt.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgcrt.c -Fowvgcrt.obj
wvgcrt.c
../../../../source/main/win/msvc/harbour.exe ../../wvgax.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgax.c -Fowvgax.obj
wvgax.c
../../../../source/main/win/msvc/harbour.exe ../../wvgdlg.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgdlg.c -Fowvgdlg.obj
wvgdlg.c
../../../../source/main/win/msvc/harbour.exe ../../wvgmenub.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgmenub.c -Fowvgmenub.obj
wvgmenub.c
../../../../source/main/win/msvc/harbour.exe ../../wvgtoolb.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgtoolb.c -Fowvgtoolb.obj
wvgtoolb.c
../../../../source/main/win/msvc/harbour.exe ../../wvgcombo.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgcombo.c -Fowvgcombo.obj
wvgcombo.c
../../../../source/main/win/msvc/harbour.exe ../../wvglistb.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvglistb.c -Fowvglistb.obj
wvglistb.c
../../../../source/main/win/msvc/harbour.exe ../../wvgpushb.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgpushb.c -Fowvgpushb.obj
wvgpushb.c
../../../../source/main/win/msvc/harbour.exe ../../wvgstatb.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgstatb.c -Fowvgstatb.obj
wvgstatb.c
../../../../source/main/win/msvc/harbour.exe ../../wvgstatc.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgstatc.c -Fowvgstatc.obj
wvgstatc.c
../../../../source/main/win/msvc/harbour.exe ../../wvgtreev.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgtreev.c -Fowvgtreev.obj
wvgtreev.c
../../../../source/main/win/msvc/harbour.exe ../../wincback.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wincback.c -Fowincback.obj
wincback.c
../../../../source/main/win/msvc/harbour.exe ../../wvgcheck.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgcheck.c -Fowvgcheck.obj
wvgcheck.c
../../../../source/main/win/msvc/harbour.exe ../../wvgdatar.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgdatar.c -Fowvgdatar.obj
wvgdatar.c
../../../../source/main/win/msvc/harbour.exe ../../wvgradio.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgradio.c -Fowvgradio.obj
wvgradio.c
../../../../source/main/win/msvc/harbour.exe ../../wvg3stat.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvg3stat.c -Fowvg3stat.obj
wvg3stat.c
../../../../source/main/win/msvc/harbour.exe ../../wvgbitmp.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgbitmp.c -Fowvgbitmp.obj
wvgbitmp.c
../../../../source/main/win/msvc/harbour.exe ../../wvgsle.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgsle.c -Fowvgsle.obj
wvgsle.c
../../../../source/main/win/msvc/harbour.exe ../../wvgmle.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgmle.c -Fowvgmle.obj
wvgmle.c
../../../../source/main/win/msvc/harbour.exe ../../wvghtmlv.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvghtmlv.c -Fowvghtmlv.obj
wvghtmlv.c
../../../../source/main/win/msvc/harbour.exe ../../wvgsysw.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgsysw.c -Fowvgsysw.obj
wvgsysw.c
../../../../source/main/win/msvc/harbour.exe ../../wvgdarea.prg -n
-i../../../../include -q0 -w3 -es2 -gc3 -km -l
cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
-I../../../../contrib/hbwin -c wvgdarea.c -Fowvgdarea.obj
wvgdarea.c
lib.exe  /out:../../../../lib/win/msvc/gtwvg.lib gtwvg.obj wvgcore.obj
wvgutils.obj wvgwin.obj wvgsink.obj wvggui.obj wincallb.obj wvgclass.obj
wvgpaint.obj wvgphdlr.obj wvgwnd.obj wvgcrt.obj wvgax.obj wvgdlg.obj
wvgmenub.obj wvgtoolb.obj wvgcombo.obj wvglistb.obj wvgpushb.obj
wvgstatb.obj wvgstatc.obj wvgtreev.obj wincback.obj wvgcheck.obj
wvgdatar.obj wvgradio.obj wvg3stat.obj wvgbitmp.obj wvgsle.obj wvgmle.obj
wvghtmlv.obj wvgsysw.obj wvgdarea.obj || del /q /f
../../../../lib/win/msvc/gtwvg.lib
Microsoft (R) Library Manager Version 9.00.21022.08
Copyright (C) Microsoft Corporation.  All rights reserved.

make[3]: Leaving directory `C:/harbour/contrib/gtwvg/win/msvc'
cmd.exe /c for %f in (..\..\lib\win\msvc\gtwvg.lib) do xcopy /d /y %f
C:\\lib

C:\harbour\contrib\gtwvg>xcopy /d /y ..\..\lib\win\msvc\gtwvg.lib C:\lib
..\..\lib\win\msvc\gtwvg.lib
1 File copiati
cmd.exe /c for %f in (..\..\lib\win\msvc\gtwvg.lib) do xcopy /d /y %f
C:\\lib

C:\harbour\contrib\gtwvg>xcopy /d /y ..\..\lib\win\msvc\gtwvg.lib C:\lib
0 File copiati
cmd.exe /c for %f in ( hbgtwvg.ch wvtwin.ch wvgparts.ch  ) do xcopy /d /y %f
C:\\include

C:\harbour\contrib\gtwvg>xcopy /d /y hbgtwvg.ch C:\include
0 File copiati

C:\harbour\contrib\gtwvg>xcopy /d /y wvtwin.ch C:\include
0 File copiati

C:\harbour\contrib\gtwvg>xcopy /d /y wvgparts.ch C:\include
0 File copiati
make[2]: Leaving directory `C:/harbour/contrib/gtwvg'




2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi everyone,
> I did tests with above combinations (MSVC 2005 x86 + BCC 5.5),
> and they seem to work quite well. It should work the same way
> for other MSVC and BCC versions. MSVC amd64 and WinCE
> builds needs to be tested, I expect no problems for amd64, WinCE
> should tested by someone having the required tools.
>
> What's missing is two things:
> - .dll creation (harbour-11-b32.dll and harbour-11-vc.dll)
>      In fact we miss it for all other compilers (like owatcom), with the
>      only exception of MinGW. See my other mail about possible
>      path to a solution, but still the support has to be added, and
>      at this point I don't know how. Help would be appreciated,
>      especially from those who need .dll support.
> - import lib creation.
>      This isn't critical, and the feature was bashed here and it
>      isn't needed for official builds either. Even hbmk2 can help
>      us here. We will see.
>
> Setup needs a few more lines than non-GNU, but that's really not
> a problem, as these were already needed for MinGW and owatcom,
> and it's nothing serious anyway. Even contrib external tool detection
> works in contrary to what I've said a few e-mails back, it was just
> local HB_INC_* misconfiguration. The only extra care which needs
> to be taken is to properly setup MinGW make.exe in the PATH
> _before_ the actual development tools, this is especially
> important for BCC, as it has a different make tool under the same
> name. So always use this line _AFTER_ setting up your compiler:
>
> --- template
> <setup compiler - put it into PATH, etc>
> set PATH=C:\devl\make-3.81;%PATH%
> <setup Harbour build options>
> <start Harbour build>
> ---
>
> I'll make the switch locally to pure GNU-make environment for Harbour
> as a start. I encourage everyone else to do so.
>
> If everything goes well, I plan to drop the non-GNU build to
> create a much more coherent build environment, with easy switch
> between compilers, similar working environments, features and
> options. I'd appreciate support for this, and if there are any
> objections or opinions in this regard, pls speak up.
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/25cbb038/attachment-0001.html
From mbelgrano at deltain.it  Wed Feb 18 12:17:13 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 12:17:18 2009
Subject: [Harbour] MT ErrorBlock()
In-Reply-To: <499301A7.9090603@dbtopas.lt>
References: <4992E7F4.5010200@dbtopas.lt>
	<18d502870902110705v62bea583x64357d449e6a4196@mail.gmail.com>
	<4992EA69.4060801@dbtopas.lt> <21958239.post@talk.nabble.com>
	<499301A7.9090603@dbtopas.lt>
Message-ID: <609353e70902180917w32168c46g15a4f25e64cf6911@mail.gmail.com>

WvgParts class modal (GTWVG) compatible with Xbase++XbpParts Is very good
way so i hope that will be made by somebodyIMO Will be a important step in
evolution of harbour
Following a standard New()|Init() / Create() / Configure() / Destroy( will
be a basis for new generation harbour gui?
Any opinion ?


2009/2/11 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>

>
>  It appears that xgtk is about to enter Harbour world.
>> Thanks for your efforts.
>>
>> Can you follow WvgParts class modal (GTWVG) compatible
>> with Xbase++XbpParts? New()|Init() / Create() / Configure() / Destroy().
>>
>> I think we can follow same class structure to make the code portable.
>>
>
> Hi,
>
>
> actually I know very few about Wvg, Xbase++, and GT* also. You can see in
> my sample code, I even have not used xhgtk and all C wrapper functions are
> inside the same hello.prg. I did not know xhgtk that time.
>
> It was just one of my "lab" works for making multiplatform GUI terminal
> application. The idea was similar to Network Transparent Widgets (
> http://sourceforge.net/projects/ntw/) project. But this project seems to
> be dead.
>
>
>
> Regards,
> Mindaugas
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/b274234a/attachment.html
From mbelgrano at deltain.it  Wed Feb 18 12:21:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 12:21:16 2009
Subject: [Harbour] hbmk2 and HB_INSTALL_PREFIX
In-Reply-To: <18d502870902171025p675001f0od5e2302b6e50a9dc@mail.gmail.com>
References: <499AEAA0.1040701@libero.it>
	<18d502870902170923o21b50b0wc114e16b3db6c8e8@mail.gmail.com>
	<609353e70902170947x576a9f4am947fc6cb5f6c3d95@mail.gmail.com>
	<18d502870902171025p675001f0od5e2302b6e50a9dc@mail.gmail.com>
Message-ID: <609353e70902180921x7b9e51c5uc1a00b0f9a6b83e7@mail.gmail.com>

Can be uptated harbour faq?
http://www.harbour-project.org/faq/harbour23.html#23

2009/2/17 Viktor Szak?ts <harbour.01@syenar.hu>

>
>> Is still required bison?
>> must SET BISON_SIMPLES ?
>
>
> No, it's not required at all for hbmk.
> It's not even needed to build Harbour, since long.
>
> You can forget about it.
> (unless you want to tweak the Harbour grammar parser)
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/0c650635/attachment.html
From a.jurkiewicz at abix.info.pl  Wed Feb 18 12:38:16 2009
From: a.jurkiewicz at abix.info.pl (ABIX Adam Jurkiewicz)
Date: Wed Feb 18 12:38:23 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
Message-ID: <499C4788.80004@abix.info.pl>

Viktor Szak?ts pisze:
> Hi all,
> 
> Has anyone some recommendations for an efficient 
> Linux development environment?

I'm using ME (Multi-Edit) under xDosEmu, and mc under pterm (terminal
emulator from putty). Works fine.
Copy,cut,paste under ME
under mc just compiling and testing ;-)

best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj
Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From lorenzo.fiorini at gmail.com  Wed Feb 18 12:48:24 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 18 12:48:28 2009
Subject: [Harbour] Re: Help with gtxwc fonts
In-Reply-To: <9257026e0902180730x317b8f46qabd5a97a8f0bbe7b@mail.gmail.com>
References: <9257026e0902180655s3ee4e2a6l4e7d8be2e055cdac@mail.gmail.com>
	<9257026e0902180730x317b8f46qabd5a97a8f0bbe7b@mail.gmail.com>
Message-ID: <9257026e0902180948s1f855bf3w5992be2da7ddd3a@mail.gmail.com>

On Wed, Feb 18, 2009 at 4:30 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> Maybe I found the problem.

Unfortunately it's not "universal".

For example under Ubuntu 8.10 Liberation.mono works great but under
Centos 5.2 ( which has xfs ) there is a "link" between font size and
setmode( maxrow, maxcol ) and the window gets easily corrupted.

Any suggestion?

best regards,
Lorenzo
From mbelgrano at deltain.it  Wed Feb 18 12:59:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 12:59:12 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
Message-ID: <609353e70902180959p4ec62a1el72fff447b98c5527@mail.gmail.com>

I think to an inesitent product: Xmate for Linux
if somebody know Andy Wos can made hin this little request?

2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi all,
> Has anyone some recommendations for an efficient
> Linux development environment?
> I'm thinking of a good file manager plus a decent editor,
> with proper cut&paste support. Can be CUI or GUI, and
> even integrated, to handle multiple projects. Plus possibly
> an integrated FTP client. I'm rooting from Far Manager
> on Windows.
> On OSX, TextMate is a nice editor.
> Tools I use, but none of them really cut the chase:
> - Terminals (good but can't get up to speed)
> - Midnight Commander (horrible keyboard handling, with cumbersome editor)
> - mucommander (good file manager, very-very I mean very basic editor)
> - vim/pico/emacs (I'd need to grow a meter long beard to use these I
> suppose)
> Opinions don't intend to flame, these a beginners
> impressions, even though I'm a beginner since 10
> years on Linux, I still feel numb when trying to a
> achieve anything, it's slower than on Windows by
> one factor.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From vszakats at users.sourceforge.net  Wed Feb 18 13:01:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 13:01:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10334] trunk/harbour
Message-ID: <E1LZqju-0008I9-BM@74yxhf1.ch3.sourceforge.com>

Revision: 10334
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10334&view=rev
Author:   vszakats
Date:     2009-02-18 18:01:41 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 18:59 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    % Optimizations in FindInPath().
    ! Fixed handling dirs in PATH with embedded path separator
      in them.
    ! Possible fix for owatcom compilers by forcing link
      script instead of passing options on the command line.

  * utils/hbmk/examples/winapi.hbp
    ! Updated for BCC.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/examples/winapi.hbp
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 18 13:15:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 18 13:15:10 2009
Subject: [Harbour] Intresting corner of info
Message-ID: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>

>From a user's POV they are probably the same.

Maybe there are some aspects of xhb which I don't know and could make
the process different, but normally it's just a recompile and relink,
feature-wise Harbour is on par with xhb, and a plus Harbour is
cleaner, more robust, more portable and faster, it also has an xhb.lib
which aims to provide compatibility with features we've opted not to
include in the core product...

Read the rest of this most interesting and helpful article at
Clipper... Clipper... Clipper at http://cch4clipper.blogspot.com.

CCH
Clipper... Clipper... Clipper
http://cch4clipper.blogspot.com.
From harbour.01 at syenar.hu  Wed Feb 18 13:22:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 13:22:21 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <499C4788.80004@abix.info.pl>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
	<499C4788.80004@abix.info.pl>
Message-ID: <18d502870902181022r6893f849n6346fe4a14ed3930@mail.gmail.com>

Hi Adam,


> I'm using ME (Multi-Edit) under xDosEmu, and mc under pterm (terminal
> emulator from putty). Works fine.
> Copy,cut,paste under ME
> under mc just compiling and testing ;-)


Thanks for the tips. I've tried pterm, and the MC experience
is already better (even F10 works! unbelievable :). Digging
into the help also revealed two keys which I've been looking
for since long: Alt+P/Alt+N to navigate in the command history.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/d903a0c0/attachment.html
From druzus at users.sourceforge.net  Wed Feb 18 13:55:33 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 18 13:55:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
Message-ID: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>

Revision: 10335
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10335&view=rev
Author:   druzus
Date:     2009-02-18 18:55:32 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 20:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbthread.h
  * harbour/source/vm/thread.c
    ! added support for conditional variables working like in PTHREADS
      in OS2 builds - it fixes the problem with possible dead lock or
      starvation effect which can also cause dead lock in some cases.
      OS2 users please test current code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbthread.h
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From a.jurkiewicz at abix.info.pl  Wed Feb 18 14:08:19 2009
From: a.jurkiewicz at abix.info.pl (ABIX Adam Jurkiewicz)
Date: Wed Feb 18 14:08:25 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <18d502870902181022r6893f849n6346fe4a14ed3930@mail.gmail.com>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>	<499C4788.80004@abix.info.pl>
	<18d502870902181022r6893f849n6346fe4a14ed3930@mail.gmail.com>
Message-ID: <499C5CA3.9090304@abix.info.pl>

Try im mc:
Esc + h
Esc + H
CTRL + O and then cursor keys UP DOWN

best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj
Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From zen25000 at zen.co.uk  Wed Feb 18 14:12:59 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Feb 18 14:13:02 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
Message-ID: <499C5DBB.6010107@zen.co.uk>

I am currently using Dolphin (KDE) as a file manager - it has a built in 
terminal which can be started in the currently viewed directory (F4).
It also has drag/drop twin window file displays.
For an editor, so far the best I have found is Kate. It has highlighting 
for Clipper code and "sessions" in which all a project's files can be saved.
Arachnophilia is also a good cross platform editor (Java) and very 
configurable for any programming language. It's a bit slow to launch 
being Java based, but I like the 'Careware' philosophy! (You have to 
read it ;-))
I am fairly new to Linux so I will be watching other people's 
suggestions with interest!
Rgds
Barry

Viktor Szak?ts wrote:
> Hi all,
> 
> Has anyone some recommendations for an efficient 
> Linux development environment?
> 
> I'm thinking of a good file manager plus a decent editor, 
> with proper cut&paste support. Can be CUI or GUI, and 
> even integrated, to handle multiple projects. Plus possibly 
> an integrated FTP client. I'm rooting from Far Manager 
> on Windows.
> 
> On OSX, TextMate is a nice editor.
> 
> Tools I use, but none of them really cut the chase:
> - Terminals (good but can't get up to speed)
> - Midnight Commander (horrible keyboard handling, with cumbersome editor)
> - mucommander (good file manager, very-very I mean very basic editor)
> - vim/pico/emacs (I'd need to grow a meter long beard to use these I 
> suppose)
> 
> Opinions don't intend to flame, these a beginners 
> impressions, even though I'm a beginner since 10 
> years on Linux, I still feel numb when trying to a
> achieve anything, it's slower than on Windows by 
> one factor.
> 
> Brgds,
> Viktor
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From niki at synel.co.il  Wed Feb 18 14:31:44 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Feb 18 14:34:54 2009
Subject: [Harbour] MSVC/BCC with the GNU-make and the future
Message-ID: <1A07FEDC778C3E4AA417F089511F859C07B71C45A1@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> The only extra care which needs to be taken is to properly setup
> MinGW make.exe in the PATH _before_ the actual development
> tools, this is especially important for BCC, as it has a different make
> tool under the same name.

Is it (or will it be) possible to rename MinGW make.exe to a name other than
"make.exe" and use that name instead as your make program?
(like "MinGWmake.exe" or whatever)

We do have HB_MAKE_PROGRAM in make_b32.bat, can't it be extended
to the GNU-make system too?


  Chen.
From a.jurkiewicz at abix.info.pl  Wed Feb 18 14:39:09 2009
From: a.jurkiewicz at abix.info.pl (ABIX Adam Jurkiewicz)
Date: Wed Feb 18 14:39:18 2009
Subject: [Harbour] Re: Help with gtxwc fonts
In-Reply-To: <9257026e0902180948s1f855bf3w5992be2da7ddd3a@mail.gmail.com>
References: <9257026e0902180655s3ee4e2a6l4e7d8be2e055cdac@mail.gmail.com>	<9257026e0902180730x317b8f46qabd5a97a8f0bbe7b@mail.gmail.com>
	<9257026e0902180948s1f855bf3w5992be2da7ddd3a@mail.gmail.com>
Message-ID: <499C63DD.3010901@abix.info.pl>

The only one for me is to distribute with aplication font as file, and
install it - fe. with rpm.

best regards,
Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj
Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From harbour.01 at syenar.hu  Wed Feb 18 14:52:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 14:53:04 2009
Subject: [Harbour] MSVC/BCC with the GNU-make and the future
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C07B71C45A1@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C07B71C45A1@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870902181152v37d79d8cga69e9e121f26b6a4@mail.gmail.com>

Hi Chen,

Is it (or will it be) possible to rename MinGW make.exe to a name other than
> "make.exe" and use that name instead as your make program?
> (like "MinGWmake.exe" or whatever)


Good idea.


> We do have HB_MAKE_PROGRAM in make_b32.bat, can't it be extended
> to the GNU-make system too?


GNU-make is a black box to me yet, difficult to touch,
and internally it's somewhat clumsy, so all I can see
is that it has variable named "MK" which is probably what
you ask for. I couldn't find any initialization line for it,
but maybe simple envvar override works.

Tell us your experiences, if you've tried it.

[ Overall we can probably add some nice finishes
to GNU-make, there could also be room for some
cleanups (names, platform hacks, output cleanup),
but since this isn't the most trivial make setup (least
to say), and GNU make is already a non-forgiving beast,
I'll only dare to touch it once I have some closer
experiences and I use it regularly. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/394e1291/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 14:58:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 14:58:31 2009
Subject: [Harbour] Intresting corner of info
In-Reply-To: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
Message-ID: <18d502870902181158t3caeab10od77dfb02dc422e56@mail.gmail.com>

After reading into a few lines I realized I wrote this a few days ago ;)
I used to know Chee Chong Hwa from pre-Harbour days, on the
apropos that he had - I believe - the first internet page in Clipper.
These were the days when you were browsing with a Netscape
browser :)

Very nice person, I hope he will join our list once.

Brgds,
Viktor

On Wed, Feb 18, 2009 at 7:15 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> >From a user's POV they are probably the same.
>
> Maybe there are some aspects of xhb which I don't know and could make
> the process different, but normally it's just a recompile and relink,
> feature-wise Harbour is on par with xhb, and a plus Harbour is
> cleaner, more robust, more portable and faster, it also has an xhb.lib
> which aims to provide compatibility with features we've opted not to
> include in the core product...
>
> Read the rest of this most interesting and helpful article at
> Clipper... Clipper... Clipper at http://cch4clipper.blogspot.com.
>
> CCH
> Clipper... Clipper... Clipper
> http://cch4clipper.blogspot.com.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/ea29ce32/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 14:59:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 14:59:30 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <499C5DBB.6010107@zen.co.uk>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
	<499C5DBB.6010107@zen.co.uk>
Message-ID: <18d502870902181159s12a201eld550badfd3f84355@mail.gmail.com>

Hi Barry,

On Wed, Feb 18, 2009 at 8:12 PM, Barry Jackson <zen25000@zen.co.uk> wrote:

> I am currently using Dolphin (KDE) as a file manager - it has a built in
> terminal which can be started in the currently viewed directory (F4).
> It also has drag/drop twin window file displays.
> For an editor, so far the best I have found is Kate. It has highlighting
> for Clipper code and "sessions" in which all a project's files can be saved.
> Arachnophilia is also a good cross platform editor (Java) and very
> configurable for any programming language. It's a bit slow to launch being
> Java based, but I like the 'Careware' philosophy! (You have to read it ;-))
> I am fairly new to Linux so I will be watching other people's suggestions
> with interest!


Thanks for this. This guy is a real character, Careware philosophy really
hit the nail on the head :)

This is also good:
http://www.atariarchives.org/deli/cottage_computer_programming.php

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/a2feafa1/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 15:02:24 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 15:02:31 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <499C5CA3.9090304@abix.info.pl>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>
	<499C4788.80004@abix.info.pl>
	<18d502870902181022r6893f849n6346fe4a14ed3930@mail.gmail.com>
	<499C5CA3.9090304@abix.info.pl>
Message-ID: <18d502870902181202q78aa5bh64ba2a8efc65b6ef@mail.gmail.com>

Great! Here Esc + h and up/down (in pterm) was enough.

On Wed, Feb 18, 2009 at 8:08 PM, ABIX Adam Jurkiewicz <
a.jurkiewicz@abix.info.pl> wrote:

> Try im mc:
> Esc + h
> Esc + H
> CTRL + O and then cursor keys UP DOWN
>
> best regards,
> Adam
> --
> ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
> Gadu-Gadu: 302315
> Skype: abix_adamj
> Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/3fa8eb9d/attachment.html
From vszakats at users.sourceforge.net  Wed Feb 18 16:05:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 16:05:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10336] trunk/harbour
Message-ID: <E1LZtbJ-0001NW-9a@dn4whf1.ch3.sourceforge.com>

Revision: 10336
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10336&view=rev
Author:   vszakats
Date:     2009-02-18 21:05:00 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------

2009-02-18 22:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * ChangeLog
  * utils/hbmk/hbmk2.prg
    * TODOs moved to source file.
    + Added hbp comment syntax to help screen.

  * config/win/install.cf
    ! Reverted previous fix (with xcopy) and replaced with
      official method to suppress return value.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/install.cf
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 18 16:35:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 16:35:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10337] trunk/harbour
Message-ID: <E1LZu4s-0005Mx-Pd@74yxhf1.ch3.sourceforge.com>

Revision: 10337
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10337&view=rev
Author:   vszakats
Date:     2009-02-18 21:35:33 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 22:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/global.cf
    + Added link to GNU make docs.
    + Added .SUFFIXES: to delete all built-in rules. This does 
      the same as the -r switch which we were using so far, 
      so this one is no more necessary. Now GNU make can be 
      started by simply running 'make' without parameters.

  * make_gcc.sh
  * make_gnu_os2.cmd
  * make_gnu.bat
    % Removed make -r switches.
    ; TODO: Do the same in the rest of the scripts.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/make_gcc.sh
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu_os2.cmd


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Wed Feb 18 16:40:31 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Feb 18 16:40:32 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <18d502870902181159s12a201eld550badfd3f84355@mail.gmail.com>
References: <18d502870902180755v16efe0e9laba50bc11ebdcbb0@mail.gmail.com>	
	<499C5DBB.6010107@zen.co.uk>
	<18d502870902181159s12a201eld550badfd3f84355@mail.gmail.com>
Message-ID: <499C804F.2060703@zen.co.uk>

Thanks Viktor - that was an interesting read!

Cheers, Barry

Viktor Szak?ts wrote:

> 
> This is also good:
> http://www.atariarchives.org/deli/cottage_computer_programming.php
> 
> Brgds,
> Viktor
> 
From cigcor at hotmail.com  Wed Feb 18 17:33:26 2009
From: cigcor at hotmail.com (=?iso-8859-1?Q?S=E9rgio_Kondo?=)
Date: Wed Feb 18 17:30:14 2009
Subject: [Harbour] Reading XML
Message-ID: <COL103-DS1869EBB9B9BDA9DA30CD75DCB50@phx.gbl>

Hi,
If my PHP application send XML to my CGI aplication, how to I can read this?
Thansk!
S?rgio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/dc1e830b/attachment.html
From vszakats at users.sourceforge.net  Wed Feb 18 17:35:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 17:35:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10338] trunk/harbour
Message-ID: <E1LZv0V-0001M3-Jj@bj8yhf1.ch3.sourceforge.com>

Revision: 10338
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10338&view=rev
Author:   vszakats
Date:     2009-02-18 22:35:06 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 23:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbole/ole2.c
  * contrib/hbwin/win_ole.c
  * contrib/hbwin/win_misc.c
  * contrib/hbwin/win_prn1.c
    ! Fixed Open Watcom 1.8 related warnings/errors.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbole/ole2.c
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_ole.c
    trunk/harbour/contrib/hbwin/win_prn1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 18 18:23:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 18:23:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10339] trunk/harbour
Message-ID: <E1LZvlD-0001lu-Fl@c3vjzd1.ch3.sourceforge.com>

Revision: 10339
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10339&view=rev
Author:   vszakats
Date:     2009-02-18 23:23:13 +0000 (Wed, 18 Feb 2009)

Log Message:
-----------
2009-02-18 00:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    + Added rest of default *nix system paths.
    % Minor optimization regarding the above.
    ! Fix regarding the above (include/lib were swapped).

  * make_gnu.sh
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_gnu.sh
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Wed Feb 18 19:32:13 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 18 19:32:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10340] trunk/harbour
Message-ID: <E1LZwpp-000447-7m@bj8yhf1.ch3.sourceforge.com>

Revision: 10340
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10340&view=rev
Author:   vouchcac
Date:     2009-02-19 00:32:12 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-18 16:25 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/Makefile
  * harbour/contrib/gtwvg/common.mak
    + Added wvgscrlb.prg.

  + harbour/contrib/gtwvg/wvgscrlb.prg
    + Implemented WvgScrollBar() class ( work-in-progress ).

  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/gtwvg.h
  * harbour/contrib/gtwvg/hbgtwvg.ch
  * harbour/contrib/gtwvg/wvgcrt.prg
  * harbour/contrib/gtwvg/wvgdarea.prg
  * harbour/contrib/gtwvg/wvgdatar.prg
  * harbour/contrib/gtwvg/wvgdlg.prg
  * harbour/contrib/gtwvg/wvggui.c
  * harbour/contrib/gtwvg/wvggui.h
  * harbour/contrib/gtwvg/wvgparts.ch
  * harbour/contrib/gtwvg/wvgphdlr.prg
  * harbour/contrib/gtwvg/wvgstatb.prg
  * harbour/contrib/gtwvg/wvgstatc.prg
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wvgwnd.prg
  * harbour/contrib/gtwvg/wvtwin.ch
    * Numerous changes and fixes and behavioral shifts.
    ! Started to implement CUI and GUI components in GTWVG.
    ! Started to use C STRUCTURES.

  * harbour/contrib/hbwin/Makefile
  * harbour/contrib/hbwin/common.mak
    + Added wapi_winuser.c

  * harbour/contrib/hbwin/hbwapi.h
    + added more WAPI macros to accomodate new types.

  + harbour/contrib/hbwin/wapi_winuser.c
    + Introduced wrapper function to manipulate scrollbars.

    ; NOTE: GTWVG now needs xhb.lib alongwith hbwin.lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/common.mak
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/hbgtwvg.ch
    trunk/harbour/contrib/gtwvg/wvgcrt.prg
    trunk/harbour/contrib/gtwvg/wvgdarea.prg
    trunk/harbour/contrib/gtwvg/wvgdatar.prg
    trunk/harbour/contrib/gtwvg/wvgdlg.prg
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvgparts.ch
    trunk/harbour/contrib/gtwvg/wvgphdlr.prg
    trunk/harbour/contrib/gtwvg/wvgstatb.prg
    trunk/harbour/contrib/gtwvg/wvgstatc.prg
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg
    trunk/harbour/contrib/gtwvg/wvtwin.ch
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/common.mak
    trunk/harbour/contrib/hbwin/hbwapi.h

Added Paths:
-----------
    trunk/harbour/contrib/gtwvg/wvgscrlb.prg
    trunk/harbour/contrib/hbwin/wapi_winuser.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb 18 19:43:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 18 19:38:45 2009
Subject: [Harbour] hbmk2.prg - few notes
Message-ID: <20090219004352.GA32330@uran.home.aster.pl>

Hi Viktor,

I've just tried hbmk2.prg and I have few notes about it.

1. the C compiler auto detection should be extended to use also
   compiler used to compile Harbour.
   This is peace of code I was using from my hb-tools.prg:


      if empty( s_hb_compiler )
         cEnv := getEnv( "HB_COMPILER" )
         if !empty( cEnv )
            s_hb_compiler := cEnv
         else
            cEnv := hb_compiler()
            if ( "Borland" $ cEnv .or. "CodeGear" $ cEnv ) .and. ;
                                       isExecutable( s_hb_ccprefix + "bcc32" )
               s_hb_compiler := "bcc32"
            elseif "DJGPP" $ cEnv .and. isExecutable( s_hb_ccprefix + "gcc" )
               s_hb_compiler := "djgpp"
            elseif "MinGW" $ cEnv .and. isExecutable( s_hb_ccprefix + "gcc" )
               s_hb_compiler := "mingw"
            elseif "GNU C++" $ cEnv .and. isExecutable( s_hb_ccprefix + "g++" )
               s_hb_compiler := "g++"
            elseif "GNU C" $ cEnv .and. isExecutable( s_hb_ccprefix + "gcc" )
               s_hb_compiler := "gcc"
            elseif "Watcom C++" $ cEnv .and. isExecutable( s_hb_ccprefix + "wpp386" )
               s_hb_compiler := "wpp386"
            elseif "Watcom C" $ cEnv .and. isExecutable( s_hb_ccprefix + "wcc386" )
               s_hb_compiler := "wcc386"
            elseif "(XCC)" $ cEnv .and. isExecutable( s_hb_ccprefix + "xcc" )
               s_hb_compiler := "xcc"
            elseif "Pelles ISO C" $ cEnv .and. isExecutable( s_hb_ccprefix + "pocc" )
               s_hb_compiler := "pocc"
            elseif "Digital Mars" $ cEnv .and. isExecutable( s_hb_ccprefix + "dmc" )
               s_hb_compiler := "dmc"
            elseif "Microsoft Visual C" $ cEnv .and. isExecutable( s_hb_ccprefix + "cl" )
               s_hb_compiler := "msvc"
            endif
         endif
      endif
      /* in few cases compiler can be used only with single platform so we
       * can always set it here overloading any auto detections
       */
      switch s_hb_compiler
         case "mingw"
         case "mingwce"
         case "bcc32"
         case "xcc"
         case "pocc"
         case "dmc"
         case "msvc"
            s_hb_arch := "win"
            exit
         case "djgpp"
            s_hb_arch := "dos"
            exit
      endswitch



   static function isExecutable( cExecName )
      return findExecutable( cExecName ) != NIL

   static function findExecutable( cExecName )
      local cFile, cPath, cExt

      hb_FNameSplit( cExecName,, @cExecName, @cExt )
      #if defined( __PLATFORM__DOS ) .or. ;
          defined( __PLATFORM__WINDOWS ) .or. ;
          defined( __PLATFORM__OS2 )
         if empty( cExt )
            cExt := ".exe"
         endif
      #endif

      hb_FNameSplit( hb_argv( 0 ), @cPath )
      if !empty( cPath )
         cFile := hb_FNameMerge( cPath, cExecName, cExt )
         if hb_fileExists( cFile )
            return cFile
         endif
      endif

      for each cPath in hb_aTokens( getEnv( "PATH" ), hb_osPathListSeparator() )
         cFile := hb_FNameMerge( cPath, cExecName, cExt )
         if hb_fileExists( cFile )
            return cFile
         endif
      next

      return NIL

2. install dir auto detection should be updated.
   In general we have two version of installation:
   a)
      <basdir>/bin
      <basdir>/include
      <basdir>/lib
   b)
      <basdir>/bin
      <basdir>/include/harbour
      <basdir>/lib/harbour
   so I was using this code:

         if !empty( s_hb_hbexe )
            hb_FNameSplit( s_hb_hbexe, @cBinPath )
            if right( cBinPath, 1 ) $ hb_osPathDelimiters()
               cBinPath := left( cBinPath, len( cBinPath ) - 1 )
            endif
            hb_FNameSplit( cBinPath, @cPath, @cName )
            if lower( cName ) == "bin"
               if !right( cPath, 1 ) $ hb_osPathDelimiters()
                  cPath += hb_osPathSeparator()
               endif
               if hb_dirExists( cPath + "lib" ) .and. hb_dirExists( cPath + "include" )
                  if isLib( "hbvm", cPath + "lib" ) .and. ;
                     hb_fileExists( cPath + "include" + hb_osPathSeparator() + "hbvm.h" )
                     s_hb_bindir := cBinPath
                     s_hb_libdir := cPath + "lib"
                     s_hb_incdir := cPath + "include"
                  elseif isLib( "hbvm", cPath + "lib" + hb_osPathSeparator() + ;
                                "harbour" ) .and. ;
                         hb_fileExists( cPath + "include" + hb_osPathSeparator() + ;
                                        "harbour" + hb_osPathSeparator() + "hbvm.h" )
                     s_hb_bindir := cBinPath
                     s_hb_libdir := cPath + "lib" + hb_osPathSeparator() + "harbour"
                     s_hb_incdir := cPath + "include" + hb_osPathSeparator() + "harbour"
                  endif
               endif
            endif
         endif


      static function isLib( cLib, cPath )
         return hb_fileExists( iif( cPath == NIL, s_hb_libdir, cPath ) + ;
                               hb_osPathSeparator() + ;
                               s_hb_libpfx + cLib + s_hb_libext )


3. in *nixes GTCGI have to be used as GT driver in hbmk.prg
   otherwise output from external command is lost. Probably
   it should be default also for all other platforms.

4. Such tool should be as invisible as possible so it should not
   any additional information until not explicitly requested by
   some switch, f.e. -verbose or sth like that to not mix the
   default output from executed compilers.
   It will be good to have additional verbose level in which
   executed command are shown before running compiler application
   to verify final results, f.e. options included by -bldflags

5. non of Harbour compiler options ( -n -q -w -es2, ...) should
   be enabled by default except the options necessary to compile
   the code: -I<HarbourIncludeDir>, -D<crossBuildDefines>,
   -undef:<crossBuildDefines> and of course -gc[0-3] to force .c
   output but only if user does not specify other form, f.e. -gh.

6. -bldflags should be probably divided into C flags and .prg
   flags. User may use completely different .prg flags then the ones
   we used to build Harbour but need C flags which can be necessary
   to create valid binaries.
   It will be also good to add automatic support for inheriting some
   C flags we know that are always necessary to create valid binaries,
   f.e. -m32/-m64 on some platforms which can create 32 or 64 bit
   binaries. For GCC I was always using this flags:
         if s_hb_cc == "gcc" .or. s_hb_cc == "g++"
            if     "-mlp64" $ s_hb_bldflags
               s_hb_cc_opt -= " -mlp64"
            elseif "-mlp32" $ s_hb_bldflags
               s_hb_cc_opt -= " -mlp32"
            elseif "-m64" $ s_hb_bldflags
               s_hb_cc_opt -= " -m64"
            elseif "-m32" $ s_hb_bldflags
               s_hb_cc_opt -= " -m32"
            endif
            if     "-fPIC" $ s_hb_bldflags
               s_hb_cc_opt -= " -fPIC"
            elseif "-fpic" $ s_hb_bldflags
               s_hb_cc_opt -= " -fpic"
            endif
         endif

7. output file name auto detection should respect the compilation
   mode, f.e.  hbmk -cmp a.prg it should generate a.{o,obj} not 'a'
   or 'a.exe'

8. When -l<libname> gcc option is used then <libname> should
   not contain prefix (lib) and extension (.so,.dll,.a)

9. We should have support for passing object archives (.a) in
   link file list and then pass it to GCC without -l parameter.
   Using 'mylib.a' and '-lmylib' as GCC parameters has different
   meaning so mylib.a should not be converted to -lmylib but simply
   passed to GCC as is.

10. In GCC builds on platforms which support
      -Wl,--start-group <HARBOUR_LIBS> -Wl,--end-group
    (linux, mingw) we should use it to not replicate libraries with
    cross bindings.
    BTW current library list is not well ordered so it's not possible
    to create some binaries, f.e. try hbmk hbrun.prg in some GCC builds.
    It has to be updated for platforms which does not support above
    library grouping.

11. There is no support for automatic main function detection in GCC
    builds. This code extracts 1-st function name from the 1-st linked
    file in my hb-tools.prg. It can receive the name of .c file generated
    from .prg file or .o file name but in such case it works only for
    gcc/g++ based compilers (it uses nm tool).

      /* in GCC LD (except DJGPP) the order of registering init function
       * does not depend directly on the order of linked files. If we want
       * to inform HVM about valid startup function then we should try to
       * locate it ourselves and pass it to HVM using our startup function
       */
      static func getFirstFunc( cFile )
         local cFuncList, cExecNM, cFuncName, cExt, cLine, n, c

         cFuncName := ""
         if ( s_hb_cc == "gcc" .or. s_hb_cc == "g++" ) .and. !s_hb_compiler == "djgpp"
            hb_FNameSplit( cFile,,, @cExt )
            if cExt == ".c"
               for each cLine in hb_aTokens( strtran( memoread( cFile ), chr( 13 ), chr( 10 ) ), chr( 10 ) )
                  cLine := alltrim( cLine )
                  if cLine = '{ "' .and. "HB_FS_FIRST" $ cLine
                     n := 4
                     while ( c := substr( cLine, n++, 1 ) ) != '"'
                        cFuncName += c
                     enddo
                     exit
                  endif
               next
            elseif !empty( cExecNM := findExecutable( s_hb_ccprefix + "nm" ) )
               cFuncList := commandResult( cExecNM + " " + cFile + " -g -n --defined-only -C" )
               if ( n := at( " T HB_FUN_", cFuncList ) ) != 0
                  n += 10
                  while ( c := substr( cFuncList, n++, 1 ) ) = "_" .or. ;
                        isdigit( c ) .or. isAlpha( c )
                     cFuncName += c
                  enddo
               endif
            endif
         endif

         return cFuncName

      static function commandResult( cCommand, nResult )
         local hFile, cFileName, cResult

         hFile := hb_FTempCreate( ,,, @cFileName )

         if hFile == -1
            outErr( "Error: cannot create temporary file" + EOL )
            break
         endif
         fclose( hFile )
         cCommand += ">" + cFileName
         nResult := hb_run( cCommand )
         cResult := memoRead( cFileName )
         ferase( cFileName )

         return cResult

    when we will have fully functional hbmk.prg then we can change
    the startup code and replace current -n1 and default support
    for HB_FS_FIRST. HB_FS_FIRST will be generated only by new explicit
    switch which will be used by hbmk for 1-st file only.

12. hbdebug and hbcplr libraries are not part of Harbour shared library
    and always should be added as static libraries even when harbour
    shared library is used

13. the -o can point also to directory name not only file. hbmk.prg
    should respect it and check the type of destination. Some C compilers
    does not support -o as directory name so they will need different
    calling if more then one .c file is passed in single command, f.e.
    explicitly used chdir. Harbour compiler support -o as directory name
    if the last character is path separator, f.e.:
         harbour test.prg -ooutdir/
    it would be very nice if hbmk.prg can use -o<dir> also for temporary
    C files.


HTH and thank you for your job.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Feb 18 19:41:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 18 19:41:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10341] trunk/harbour
Message-ID: <E1LZwzB-00017R-95@74yxhf1.ch3.sourceforge.com>

Revision: 10341
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10341&view=rev
Author:   vszakats
Date:     2009-02-19 00:41:52 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------

2009-02-18 01:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + contrib/gtalleg/tests/gtallegs.hbp
  - contrib/gtalleg/tests/gtalleg-shared.hbp
  + contrib/gtalleg/tests/gtallegd.hbp
  - contrib/gtalleg/tests/gtalleg-static.hbp
    * Converted to short filenames.

  * utils/hbmk/hbmk2.prg
    ! Typos in prev. commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/contrib/gtalleg/tests/gtallegd.hbp
    trunk/harbour/contrib/gtalleg/tests/gtallegs.hbp

Removed Paths:
-------------
    trunk/harbour/contrib/gtalleg/tests/gtalleg-shared.hbp
    trunk/harbour/contrib/gtalleg/tests/gtalleg-static.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Wed Feb 18 20:07:58 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 18 20:08:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10342] trunk/harbour
Message-ID: <E1LZxOQ-0003zO-IV@c3vjzd1.ch3.sourceforge.com>

Revision: 10342
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10342&view=rev
Author:   vouchcac
Date:     2009-02-19 01:07:54 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-18 17:05 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgscrlb.prg
    * Disabled structure support for time being as 
      build process is unable to locate cstruct.c, etc. headers.
      Viktor?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgscrlb.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 18 21:28:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 21:28:33 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <20090219004352.GA32330@uran.home.aster.pl>
References: <20090219004352.GA32330@uran.home.aster.pl>
Message-ID: <18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>

Hi Przemek,


> 1. the C compiler auto detection should be extended to use also
>   compiler used to compile Harbour.
>   This is peace of code I was using from my hb-tools.prg:
>
>      if empty( s_hb_compiler )
>         cEnv := getEnv( "HB_COMPILER" )
>         if !empty( cEnv )
>            s_hb_compiler := cEnv
>         else
>            cEnv := hb_compiler()
>            if ( "Borland" $ cEnv .or. "CodeGear" $ cEnv ) .and. ;
>                                       isExecutable( s_hb_ccprefix + "bcc32"
> )
>               s_hb_compiler := "bcc32"
>            elseif "DJGPP" $ cEnv .and. isExecutable( s_hb_ccprefix + "gcc"
> )
>               s_hb_compiler := "djgpp"
>            elseif "MinGW" $ cEnv .and. isExecutable( s_hb_ccprefix + "gcc"
> )
>               s_hb_compiler := "mingw"
>            elseif "GNU C++" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "g++" )
>               s_hb_compiler := "g++"
>            elseif "GNU C" $ cEnv .and. isExecutable( s_hb_ccprefix + "gcc"
> )
>               s_hb_compiler := "gcc"
>            elseif "Watcom C++" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "wpp386" )
>               s_hb_compiler := "wpp386"
>            elseif "Watcom C" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "wcc386" )
>               s_hb_compiler := "wcc386"
>            elseif "(XCC)" $ cEnv .and. isExecutable( s_hb_ccprefix + "xcc"
> )
>               s_hb_compiler := "xcc"
>            elseif "Pelles ISO C" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "pocc" )
>               s_hb_compiler := "pocc"
>            elseif "Digital Mars" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "dmc" )
>               s_hb_compiler := "dmc"
>            elseif "Microsoft Visual C" $ cEnv .and. isExecutable(
> s_hb_ccprefix + "cl" )
>               s_hb_compiler := "msvc"
>            endif
>         endif
>      endif


I intentionally created a fully platform neutral source and
executable (except two minor exceptions). So that an hbmk.exe
created with one compiler can easily be used to build with
any other compiler. It creates a cleaner situation. To make
things clean I also avoided __PLATFORM__ macros, this
is also important to create cross builds in the future. All in
all, exact same code runs on platforms to keep things in hand.

Your idea could be used to prioritize path searches
(specifically the hbmk.exe builder compiler would be
searched first, then the rest), thus possibly helping users
with multiple compilers setup in parallel, and we can
also make autodetection faster for typical cases. I don't
want to abuse this feature too much, as I fear it makes
hbmk detection behaviour less predictable, since we're
using a not very well visible information to bend functionality.

     /* in few cases compiler can be used only with single platform so we
>       * can always set it here overloading any auto detections
>       */
>      switch s_hb_compiler
>         case "mingw"
>         case "mingwce"
>         case "bcc32"
>         case "xcc"
>         case "pocc"
>         case "dmc"
>         case "msvc"
>            s_hb_arch := "win"
>            exit
>         case "djgpp"
>            s_hb_arch := "dos"
>            exit
>      endswitch


Good idea, I'll do this.


>  2. install dir auto detection should be updated.
>   In general we have two version of installation:
>   a)
>      <basdir>/bin
>      <basdir>/include
>      <basdir>/lib
>   b)
>      <basdir>/bin
>      <basdir>/include/harbour
>      <basdir>/lib/harbour
>   so I was using this code:
>
>         if !empty( s_hb_hbexe )
>            hb_FNameSplit( s_hb_hbexe, @cBinPath )
>            if right( cBinPath, 1 ) $ hb_osPathDelimiters()
>               cBinPath := left( cBinPath, len( cBinPath ) - 1 )
>            endif
>            hb_FNameSplit( cBinPath, @cPath, @cName )
>            if lower( cName ) == "bin"
>               if !right( cPath, 1 ) $ hb_osPathDelimiters()
>                  cPath += hb_osPathSeparator()
>               endif
>               if hb_dirExists( cPath + "lib" ) .and. hb_dirExists( cPath +
> "include" )
>                  if isLib( "hbvm", cPath + "lib" ) .and. ;
>                     hb_fileExists( cPath + "include" + hb_osPathSeparator()
> + "hbvm.h" )
>                     s_hb_bindir := cBinPath
>                     s_hb_libdir := cPath + "lib"
>                     s_hb_incdir := cPath + "include"
>                  elseif isLib( "hbvm", cPath + "lib" + hb_osPathSeparator()
> + ;
>                                "harbour" ) .and. ;
>                         hb_fileExists( cPath + "include" +
> hb_osPathSeparator() + ;
>                                        "harbour" + hb_osPathSeparator() +
> "hbvm.h" )
>                     s_hb_bindir := cBinPath
>                     s_hb_libdir := cPath + "lib" + hb_osPathSeparator() +
> "harbour"
>                     s_hb_incdir := cPath + "include" + hb_osPathSeparator()
> + "harbour"
>                  endif
>               endif
>            endif
>         endif
>
>
>      static function isLib( cLib, cPath )
>         return hb_fileExists( iif( cPath == NIL, s_hb_libdir, cPath ) + ;
>                               hb_osPathSeparator() + ;
>                               s_hb_libpfx + cLib + s_hb_libext )


Okay.


>
>
>
> 3. in *nixes GTCGI have to be used as GT driver in hbmk.prg
>   otherwise output from external command is lost. Probably
>   it should be default also for all other platforms.


Okay.


> 4. Such tool should be as invisible as possible so it should not
>   any additional information until not explicitly requested by
>   some switch, f.e. -verbose or sth like that to not mix the
>   default output from executed compilers.
>   It will be good to have additional verbose level in which
>   executed command are shown before running compiler application
>   to verify final results, f.e. options included by -bldflags


We have -trace to show all commands on screen, and -q to
turn off all informational output and logo. Now it's pretty
much in sync the Harbour compiler, I suppose it'd be used
to replace harbour executable calls, so similar behaviour
is okay. I've also left in some informational output because
we're at the beginning and it helps everyone to find out
what's happening, myself included, so it's partially for
"debugging". Some of those "autodetected this/that"
messages can certainly be made an option using a -info
switch with defaults off. I'll look into that. Verbosity
levels aren't too self-explanatory so let's try with -q, -info,
-trace. I've added -info to my TODO list for now.


> 5. non of Harbour compiler options ( -n -q -w -es2, ...) should
>   be enabled by default except the options necessary to compile
>   the code: -I<HarbourIncludeDir>, -D<crossBuildDefines>,
>   -undef:<crossBuildDefines> and of course -gc[0-3] to force .c
>   output but only if user does not specify other form, f.e. -gh.


Only -n is active. Without it, it isn't possible to create
a running executable, so IMO it should be default, unless
we want to use this tool for some other purposes. -q0 is
the other default to hide output. No other Harbour options
are active.

All unprocessed hbmk options are passed down to harbour,
including -gc, -gh, -D, -I, -undef.

>From your words it seems we intend to use this tools
for completely other purposes, so maybe we will want to
add some special modes of operation. I can only guess
what is the scenario you use this (part of a higher level
make system, for larger projects), and since we already
have -cc, -cmp options (and we could have a -lnk, but
couldn't figure the essence of it), maybe we could tie some
defaults you mention to these modes. F.e.:
-cc, -cmp, -lnk could automatically start in -q mode,
with no -n Harbour option, you get the idea. However,
I'd like to keep hbmk for the normal users wanting to
create an exe out of a few prg in manual mode with
presets targeting easy of use.

What do you think?


> 6. -bldflags should be probably divided into C flags and .prg
>   flags. User may use completely different .prg flags then the ones
>   we used to build Harbour but need C flags which can be necessary
>   to create valid binaries.


Okay.


>   It will be also good to add automatic support for inheriting some
>   C flags we know that are always necessary to create valid binaries,
>   f.e. -m32/-m64 on some platforms which can create 32 or 64 bit
>   binaries. For GCC I was always using this flags:
>         if s_hb_cc == "gcc" .or. s_hb_cc == "g++"
>            if     "-mlp64" $ s_hb_bldflags
>               s_hb_cc_opt -= " -mlp64"
>            elseif "-mlp32" $ s_hb_bldflags
>               s_hb_cc_opt -= " -mlp32"
>            elseif "-m64" $ s_hb_bldflags
>               s_hb_cc_opt -= " -m64"
>            elseif "-m32" $ s_hb_bldflags
>               s_hb_cc_opt -= " -m32"
>            endif
>            if     "-fPIC" $ s_hb_bldflags
>               s_hb_cc_opt -= " -fPIC"
>            elseif "-fpic" $ s_hb_bldflags
>               s_hb_cc_opt -= " -fpic"
>            endif
>         endif


Good, first I'll add the flag separation for inherited flags,
then it'd be much better if you'd add these to hbmk2.prg.
I'll probably make some mistakes.


> 7. output file name auto detection should respect the compilation
>   mode, f.e.  hbmk -cmp a.prg it should generate a.{o,obj} not 'a'
>   or 'a.exe'


Ok.


> 8. When -l<libname> gcc option is used then <libname> should
>   not contain prefix (lib) and extension (.so,.dll,.a)


hbmk does pass the stripped lib name to gcc -l option
already. The extension is already stripped (all of them,
maybe that's too harsh?). So if I understand you correctly
the 'lib' prefix should be stripped, too? In that case, isn't
that dangerous for libnames like "liblibcurl.a" when the
user supplies libcurl, we will have an invalid name.


> 9. We should have support for passing object archives (.a) in
>   link file list and then pass it to GCC without -l parameter.
>   Using 'mylib.a' and '-lmylib' as GCC parameters has different
>   meaning so mylib.a should not be converted to -lmylib but simply
>   passed to GCC as is.


I have to think about this one. Should be done, no question,
but I'd like to better understand. What the difference between a
mylib.a as object archive and a mylib.a as lib? Should these
non-lib .a files be supported through .hbp files? We will need
a separate option for it then.


> 10. In GCC builds on platforms which support
>      -Wl,--start-group <HARBOUR_LIBS> -Wl,--end-group
>    (linux, mingw) we should use it to not replicate libraries with
>    cross bindings.
>    BTW current library list is not well ordered so it's not possible
>    to create some binaries, f.e. try hbmk hbrun.prg in some GCC builds.
>    It has to be updated for platforms which does not support above
>    library grouping.


I was thinking about this, but didn't reach this topic yet.
-Wl seems easy to add, but I don't know which platforms
support it and which not (mingw does support it for sure).

May I let you do the reordering? I've spend lots of time
trying to figure it, but couldn't find the mechanism, so
I've settled with the first which was doable without full
rewrite and also worked for my own tests.


> 11. There is no support for automatic main function detection in GCC
>    builds. This code extracts 1-st function name from the 1-st linked
>    file in my hb-tools.prg. It can receive the name of .c file generated
>    from .prg file or .o file name but in such case it works only for
>    gcc/g++ based compilers (it uses nm tool).


Thanks for the code. Questions 1:
What exactly are we solving here? Forgive my ignorance,
but for the whole lifespan of Harbour I've never needed
anything like this, maybe because I've always used
-n + MAIN() (and -n1 in libs).
Question 2: Could we find a solution which doesn't
need such hacks?


>    when we will have fully functional hbmk.prg then we can change
>    the startup code and replace current -n1 and default support
>    for HB_FS_FIRST. HB_FS_FIRST will be generated only by new explicit
>    switch which will be used by hbmk for 1-st file only.


I'm a bit lost here. In autumn we've discussed once
some possibilities for improvement here, to remove
the -n1 switches, I guess you talk about the same.
Then we've agreed on moving in on direction.


> 12. hbdebug and hbcplr libraries are not part of Harbour shared library
>    and always should be added as static libraries even when harbour
>    shared library is used


Okay, I'll add hbdebug in shared mode. As for hbcplr, I'm not sure of the
legal situation here and it wasn't there in hbmk.bat.


> 13. the -o can point also to directory name not only file. hbmk.prg
>    should respect it and check the type of destination. Some C compilers
>    does not support -o as directory name so they will need different
>    calling if more then one .c file is passed in single command, f.e.
>    explicitly used chdir. Harbour compiler support -o as directory name
>    if the last character is path separator, f.e.:
>         harbour test.prg -ooutdir/


Okay, thought about it already.


>    it would be very nice if hbmk.prg can use -o<dir> also for temporary
>    C files.


It's probably too late, but I can't get this right now :)

Thanks for your suggestions, let's continue with
some remaining points from above, and I'll try to
implement the rest of the features in the meanwhile.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/c60bede9/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb 18 21:59:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 21:59:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10342] trunk/harbour
In-Reply-To: <E1LZxOQ-0003zO-IV@c3vjzd1.ch3.sourceforge.com>
References: <E1LZxOQ-0003zO-IV@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870902181859j5b06298bjc45f0b22d8161137@mail.gmail.com>

Hi Pritpal,
You can tweak this in gtwvg/Makefile + gtwvg/make_*.bat,
please see the solution for this same task in hbwhat's
similar files.

As for C structs, Przemek recommended a way of doing it
the clean way, maybe you should consider it, instead of the
xhb solution, which is a terrible and unsafe hack.

Anyhow I'm sad about the direction gtwvg and Windows
support in general in Harbour seems to take.

Brgds,
Viktor

On Thu, Feb 19, 2009 at 2:07 AM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10342
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10342&view=rev
> Author:   vouchcac
> Date:     2009-02-19 01:07:54 +0000 (Thu, 19 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-18 17:05 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/gtwvg/wvgscrlb.prg
>    * Disabled structure support for time being as
>      build process is unable to locate cstruct.c, etc. headers.
>      Viktor?
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/wvgscrlb.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/f342618d/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 22:09:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 18 22:10:02 2009
Subject: [Harbour] gtsln / gtcrs revisited
Message-ID: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>

Hi all,
After rechecking the situation with gtcrs, gtsln,
I'd like to ask group whether we could move
these two GTs to the contrib area.

The reasons are:
1) Dependency on optional external libs,
    with the same issues our contribs have to deal with,
    but managed by other means, special
    switches and envvars all deepely embedded
    into the make system. Most of this could
    be easily standardized if these would be
    simple contribs.

2) Both seems to be superseded by gttrm.

[ We can also apply the methods used for
contribs in their current location, and I plan
to do this to clean these obscure parts of
the make system. hbmk would also
integrate much better if these two wouldn't
be such exceptions as they currently are. ]

What do you think?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/6fbd12dc/attachment.html
From druzus at acn.waw.pl  Wed Feb 18 23:03:28 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 18 22:58:19 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
Message-ID: <20090219040328.GA15121@uran.home.aster.pl>

On Thu, 19 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,


> After rechecking the situation with gtcrs, gtsln,
> I'd like to ask group whether we could move
> these two GTs to the contrib area.
> The reasons are:
> 1) Dependency on optional external libs,
>     with the same issues our contribs have to deal with,
>     but managed by other means, special
>     switches and envvars all deepely embedded
>     into the make system. Most of this could
>     be easily standardized if these would be

*curses and/or slang are default part of *nix systems.

>     simple contribs.
> 2) Both seems to be superseded by gttrm.

It's not true, never was and never be as long as we do not
add full support for termcap/terminfo to GTTRM and because
the system functions to manage this database are usually part
of curses or slang then there is no solution to implement it
in portable way without references to these libraries.

> [ We can also apply the methods used for
> contribs in their current location, and I plan
> to do this to clean these obscure parts of
> the make system. hbmk would also
> integrate much better if these two wouldn't
> be such exceptions as they currently are. ]
> What do you think?

I think that nothing has changed from the time you asked about it last
time.
Both using basic screen libraries in *nixes and still are the only
one really portable solution which can be used.
Asking about it *nix users is the same as asking windows users about
moving GTWVT or GTWIN to contrib because both need some extertnal
.dlls which are part of windows system just like curses or slang
are part of *nix system.

best regards,
Przemek
From bedipritpal at hotmail.com  Wed Feb 18 23:10:09 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 18 23:10:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10342] trunk/harbour
In-Reply-To: <18d502870902181859j5b06298bjc45f0b22d8161137@mail.gmail.com>
References: <E1LZxOQ-0003zO-IV@c3vjzd1.ch3.sourceforge.com>
	<18d502870902181859j5b06298bjc45f0b22d8161137@mail.gmail.com>
Message-ID: <22093681.post@talk.nabble.com>


Viktor

<<<
You can tweak this in gtwvg/Makefile + gtwvg/make_*.bat,
please see the solution for this same task in hbwhat's
similar files.
>>>

Ok. I will look into.

<<<
As for C structs, Przemek recommended a way of doing it
the clean way, maybe you should consider it, instead of the
xhb solution, which is a terrible and unsafe hack.
>>>

I tried but am unable to use it in a generic way. May be 
I am not familiar with this concept since begining. 
Francesco was trying to make it generic, so I am waiting
till he comes up with this solution. I, at my level best, can do
with which I am familiar.

<<<
Anyhow I'm sad about the direction gtwvg and Windows
support in general in Harbour seems to take.
>>>

I could not follow what you mean. Can you explain which 
part of GTWVG is not upto Harbour standards or I am 
missing something? Please explain it in detail. We can 
follow the right direction, no compulsions.

Regards
Pritpal Bedi

PS. Structure support will remain deffered until I could 
get working Przemek's concept.

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10342--trunk-harbour-tp22092017p22093681.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Feb 19 00:01:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 18 23:56:22 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>
References: <20090219004352.GA32330@uran.home.aster.pl>
	<18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>
Message-ID: <20090219050129.GB15121@uran.home.aster.pl>

On Thu, 19 Feb 2009, Szak?ts Viktor wrote:

Hi Viktor,

> I intentionally created a fully platform neutral source and
> executable (except two minor exceptions). So that an hbmk.exe
> created with one compiler can easily be used to build with
> any other compiler. It creates a cleaner situation. To make
> things clean I also avoided __PLATFORM__ macros, this
> is also important to create cross builds in the future. All in
> all, exact same code runs on platforms to keep things in hand.
> Your idea could be used to prioritize path searches
> (specifically the hbmk.exe builder compiler would be
> searched first, then the rest), thus possibly helping users
> with multiple compilers setup in parallel, and we can
> also make autodetection faster for typical cases. I don't
> want to abuse this feature too much, as I fear it makes
> hbmk detection behaviour less predictable, since we're
> using a not very well visible information to bend functionality.

Now in Linux is 100% predictable - GCC is hardcoded as the only
one choice :-( and it's necessary to use HB_COMPILER envvar.
BTW -cc=<compiler> option will be also usable feature.

> > 4. Such tool should be as invisible as possible so it should not
> >   any additional information until not explicitly requested by
> >   some switch, f.e. -verbose or sth like that to not mix the
> >   default output from executed compilers.
> >   It will be good to have additional verbose level in which
> >   executed command are shown before running compiler application
> >   to verify final results, f.e. options included by -bldflags
> We have -trace to show all commands on screen, and -q to
> turn off all informational output and logo. Now it's pretty
> much in sync the Harbour compiler, I suppose it'd be used
> to replace harbour executable calls, so similar behaviour
> is okay. I've also left in some informational output because
> we're at the beginning and it helps everyone to find out
> what's happening, myself included, so it's partially for
> "debugging". Some of those "autodetected this/that"
> messages can certainly be made an option using a -info
> switch with defaults off. I'll look into that. Verbosity
> levels aren't too self-explanatory so let's try with -q, -info,
> -trace. I've added -info to my TODO list for now.

There is one difference between compiler and make wrapper output.
hbmk.prg output I need only once when I set new environment.
hbcompiler output I need each time when I'm compiling source
code which I modified so for me any non compiler messages are
only unnecessary noice.
Thanks for the -trace hint.

> > 5. non of Harbour compiler options ( -n -q -w -es2, ...) should
> >   be enabled by default except the options necessary to compile
> >   the code: -I<HarbourIncludeDir>, -D<crossBuildDefines>,
> >   -undef:<crossBuildDefines> and of course -gc[0-3] to force .c
> >   output but only if user does not specify other form, f.e. -gh.
> Only -n is active. Without it, it isn't possible to create
> a running executable, so IMO it should be default, unless
> we want to use this tool for some other purposes. -q0 is
> the other default to hide output. No other Harbour options
> are active.

-n is not necessary and never was. Many people does not use
it and have source code which cannot be compiled with this
switch so it cannot be enabled by default. Otherwise they
still will have to use harbour executable directly.
You can try with hbmk script:

   // t.prg
   ? "Hello World!!!"

hbmk t && ./t

> All unprocessed hbmk options are passed down to harbour,
> including -gc, -gh, -D, -I, -undef.

The above cannot be true because you have to also set at least
-I<incDir>.

> From your words it seems we intend to use this tools
> for completely other purposes, so maybe we will want to
> add some special modes of operation. I can only guess
> what is the scenario you use this (part of a higher level
> make system, for larger projects), and since we already
> have -cc, -cmp options (and we could have a -lnk, but
> couldn't figure the essence of it), maybe we could tie some
> defaults you mention to these modes. F.e.:
> -cc, -cmp, -lnk could automatically start in -q mode,
> with no -n Harbour option, you get the idea. However,
> I'd like to keep hbmk for the normal users wanting to
> create an exe out of a few prg in manual mode with
> presets targeting easy of use.
> What do you think?

I'm really sorry but I do not understand what you are
talking about. Current hbmk2.prg behavior is different
then the one you suggest that exists so I do not know
what I should answer and were is a mistake.

> > 8. When -l<libname> gcc option is used then <libname> should
> >   not contain prefix (lib) and extension (.so,.dll,.a)
> 
> hbmk does pass the stripped lib name to gcc -l option
> already. The extension is already stripped (all of them,
> maybe that's too harsh?). So if I understand you correctly
> the 'lib' prefix should be stripped, too? In that case, isn't
> that dangerous for libnames like "liblibcurl.a" when the
> user supplies libcurl, we will have an invalid name.

hbmk2.prg should not make any modifications in *.a parameters
but pass them to GCC as is because GCC uses in different way
.a archive passed directly then -l<libname> option. In the 1-st
case for GCC it's only archive with object files which can have
any name and can contain the path, f.e.:
   gcc ... mydir/myobjs.a
in the second case its library which have to be located in one
of system library paths (or specified by -L option) and need name
which confirms platform dependen't naming convention. In most of
case it 'lib' prefix and valid sufix ( .a, .so, .dll, .sl, ... )
The link precedence and rules used to overload symbols are also
different. Sometimes this difference is important if you want to
overload some library functions, f.e. customized getsys in Harbour
core code but also some system libraries. To make things more
complicated it also depends on -Wl,--start-group / -Wl,--end-group
options and used LD.

> > 9. We should have support for passing object archives (.a) in
> >   link file list and then pass it to GCC without -l parameter.
> >   Using 'mylib.a' and '-lmylib' as GCC parameters has different
> >   meaning so mylib.a should not be converted to -lmylib but simply
> >   passed to GCC as is.
> I have to think about this one. Should be done, no question,
> but I'd like to better understand. What the difference between a
> mylib.a as object archive and a mylib.a as lib? Should these
> non-lib .a files be supported through .hbp files? We will need
> a separate option for it then.

See above.

> > 10. In GCC builds on platforms which support
> >      -Wl,--start-group <HARBOUR_LIBS> -Wl,--end-group
> >    (linux, mingw) we should use it to not replicate libraries with
> >    cross bindings.
> >    BTW current library list is not well ordered so it's not possible
> >    to create some binaries, f.e. try hbmk hbrun.prg in some GCC builds.
> >    It has to be updated for platforms which does not support above
> >    library grouping.
> I was thinking about this, but didn't reach this topic yet.
> -Wl seems easy to add, but I don't know which platforms
> support it and which not (mingw does support it for sure).

MinGW and Linux.

> May I let you do the reordering? I've spend lots of time
> trying to figure it, but couldn't find the mechanism, so
> I've settled with the first which was doable without full
> rewrite and also worked for my own tests.

The rules are very simple:
libraries are scanned for necessary dependence but after scanning it
LD does not return to this library and begins to scan next one.
If next library contains references to symbols which exist in previous
one and was not necessary so far then you have to repeat the previous
library after currently scanned one. library grouping creates a set
of libraries in which LD returns to previous ones so you do not have
to repeat them.
Doubling library list is also not real solution in all cases. You can
easy create situation when it's necessary to repeat the same library
3, 4 or more times.

> > 11. There is no support for automatic main function detection in GCC
> >    builds. This code extracts 1-st function name from the 1-st linked
> >    file in my hb-tools.prg. It can receive the name of .c file generated
> >    from .prg file or .o file name but in such case it works only for
> >    gcc/g++ based compilers (it uses nm tool).
> Thanks for the code. Questions 1:
> What exactly are we solving here? Forgive my ignorance,
> but for the whole lifespan of Harbour I've never needed
> anything like this, maybe because I've always used
> -n + MAIN() (and -n1 in libs).
> Question 2: Could we find a solution which doesn't
> need such hacks?

The above is the only one really working solution to replicate
Clipper behavior and using as startup symbol 1-st linked function.
Such functionality can be implemented correctly only by linker.
Here we are trying to make it but because hbmk is not real linker
then it's implemented in such hackish way.
Of course we can define MAIN() as official startup symbol and remove
HB_FS_FIRST support from Windows compiler but it also has some bad
side effect. I know few programmers which never use -n switch and
have source code like:

   proc1.prg
   ? "hello"

   proc2.prg
   ...

and create different binaries from them choosing different 1-st
.prg module.

> >    when we will have fully functional hbmk.prg then we can change
> >    the startup code and replace current -n1 and default support
> >    for HB_FS_FIRST. HB_FS_FIRST will be generated only by new explicit
> >    switch which will be used by hbmk for 1-st file only.
> I'm a bit lost here. In autumn we've discussed once
> some possibilities for improvement here, to remove
> the -n1 switches, I guess you talk about the same.
> Then we've agreed on moving in on direction.

yes, and the conclusion was that we can remove it when we will have
hb* tool which can set information about 1-st symbol for HVM at link time.
If you do not want to extract this symbol from source code or object
files then as alternative you can enable in compiler setting HB_FS_FIRST
only for one compiled file (the 1-st one) so we will have only one
symbol registered in HVM with this flag.

> > 12. hbdebug and hbcplr libraries are not part of Harbour shared library
> >    and always should be added as static libraries even when harbour
> >    shared library is used
> Okay, I'll add hbdebug in shared mode. As for hbcplr, I'm not sure of the
> legal situation here and it wasn't there in hbmk.bat.

I do not see any problem here. If I do not use any compiler functions
then this library will be ignored at link time.
I think that it will be also good to add few contrib libraries like
hbct or hbmzip to default library list though it's not strictly necessary.

best regards,
Przemek
From philb at philb.us  Thu Feb 19 01:33:01 2009
From: philb at philb.us (Phil Barnett)
Date: Thu Feb 19 01:33:08 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
Message-ID: <499CFD1D.5060007@philb.us>

Vailton Renato wrote:
> The Harbour's site has new layout. I have update the ftp with the
> changes what we reviewed here in the list.
>
> Some points to highlight:
>
> * If you're missing some information on page 'Crew list' please send
> me again because I probably would have deleted or lost. :S
>
> * On the page of samples lack a text to put in the "How to compile the
> samples ON WINDOWS.
> http://www.harbour-project.org/samples/HowToBuildOnWindows.html
>
> This link is disabled because I'm unable to write any text to put
> there .. (Massimo could help me with this?)
>
> * In my opinion there are missing the pages "Tutorials & Articles" and
> "Auxiliar Tools"
>
> * The site need more examples updated and comprehensive but we can
> adjust it later.
>
> * I would also like to know how was the speed of loading of pages on the site.
>
> * It needs to be revised the text of the page "Legal notes"
> (http://www.harbour-project.com.br/legalnotes.html) because I'm not
> sure if the text is correct,due to my poor English.
>
> I await comments.
> Vailton Renato
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   
The site looks fantastic!

It loads just fine and very fast on my machine, but I live in the same 
town as the server, so I'm probably not the best judge. The server has 
excess capability and bandwidth, so it should be fine everywhere.

Also, on the crew page would you please change my email address from  
what is there now to philb at philb dot us?

Thanks.
From lorenzo.fiorini at gmail.com  Thu Feb 19 01:38:54 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 19 01:38:58 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
Message-ID: <9257026e0902182238h30b0be43he47f6fcbcfed927b@mail.gmail.com>

On Thu, Feb 19, 2009 at 4:09 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> After rechecking the situation with gtcrs, gtsln,
> I'd like to ask group whether we could move
> these two GTs to the contrib area.

No please don't. There are situations where gtcrs is necessary.

> [ We can also apply the methods used for
> contribs in their current location, and I plan
> to do this to clean these obscure parts of
> the make system. hbmk would also
> integrate much better if these two wouldn't
> be such exceptions as they currently are. ]

Please don't touch what you don't use and don't know.

There is nothing obscure in bash scripts. There is a huge
documentation and tons of sites related.

I'm also not a bash guru, so let's leave to Przemyslaw to maintain
*nix environment.

best regards,
Lorenzo
From philb at philb.us  Thu Feb 19 02:10:12 2009
From: philb at philb.us (Phil Barnett)
Date: Thu Feb 19 02:10:19 2009
Subject: [Harbour] Date-Time Functions - Revisited (II)
In-Reply-To: <20090212121239.GA15059@uran.home.aster.pl>
References: <21926105.post@talk.nabble.com>	<18d502870902091809i8272700xeea6eb89932c8484@mail.gmail.com>	<20090210140524.GA23952@uran.home.aster.pl>	<49919C07.7000700@dbtopas.lt>	<18d502870902100736k592c9a2ai3b5d0937a7c16f4f@mail.gmail.com>	<20090210164825.GA30386@uran.home.aster.pl>	<18d502870902100855u50cd5c56lef67e67dca4f0fd9@mail.gmail.com>	<4993A372.1080105@philb.us>
	<20090212121239.GA15059@uran.home.aster.pl>
Message-ID: <499D05D4.9000201@philb.us>

Przemyslaw Czerpak wrote:
> On Wed, 11 Feb 2009, Phil Barnett wrote:
>
> Hi Phil,
>
>   
>>> I have no idea however, how to introduce offset in syntaxes in an elegant 
>>> way, especially in the fixed position format.
>>>       
>> I believe that the last time this came up, I pointed out that I had 
>> completed all the necessary julian functions in both ANSI C and Clipper 
>> code and have had it posted for over 10 years on The Oasis. But as far as I 
>> know, nobody looked at it.
>>     
>
> I remember about it and thank you. Anyhow here they will not help us
> a lot. We already have functions to manage julian dates and time
> factor introduce only few additional by simple calculations.
> The main problem we have now is syntax which we should use for
> constant representation of timestamp (date + time) values in .prg
> code.
>   
Of course. I meant for ideas, not for exact code.

> The second one is introducing UTC offset to this value so local time
> extracted on different computers in the whole world can be easy compared.
> This seems to be the most problematic part because database systems
> usually does not support this additional attribute so when our timestamp
> value is stored and retrieve into database then information about UTC
> offset is lost. I do not see any easy solution here which will work
> in all cases. Probably the easiest solution is working internally on
> time in UTC+0000 and only using functions to convert to local time
> when values are presented. In such case we do not need any additional
> member with UTC offset in hour timestamp structure.
>   
As far as I'm concerned, we should simply store all julian as zulu and 
not TZ information. Then, you can wrap date information with a modifier 
for time zones. This will be country specific and is unreasonably 
complicated by idiots that pass laws who have no clue what it means to us.

So, at this time, I would vote for internal julian as zulu, a set of 
conversion functions, a set of comparison/add/subtract/diff functions 
and a set of timezone functions as contribs until they are proven. The 
biggest problem with timezone that I see is from examples here in US 
where they changed the date of crossover for daylight savings time, so 
before some date, it's one formula and after it, it's another formula. I 
seem to recall in Clipper that Dates were not guaranteed behind 1900 
because of how different churches in different countries tried to fix 
calendar anomalies. I think Rome dictated many of them and due to 
religious differences, many countries did it some other way.

It's a mess.

> The 3-rd problem is internal representation. In general we have two
> choices here:
>    1. two 32bit fields for julian day and number of millisecond in this day
>    2. double value with julian day in integer part and time in fractional
>       part.
> The 1-st one is faster to mange in HVM during operations on timestamp
> items though a little bit more complicated (code will be longer). The
> bad is that it has fixed millisecond precision.
> The 2-nd one is very simple to write code (the HVM code will be a little
> bit shorter) but this code will be also a little bit slower due to double
> conversions. But it also has one additional feature. The precision is
> variable and such type can be used to count time differences. Even if
> it contain whole julian date then for julian day we need
>    log( date() - ctod("") ) / log(2) ~= 22
> 22bits. It means that we have 31 bits on IEEE758 double (53bit precision)
> for time so we have ~ 25 better precision. Without julian day part, f.e.
> when this type is used to count some time differences the precision is
> much bigger ~100'000'000 times for single day period.
> But not all systems allows to access time with better then millisecond
> precision so such functionality will be dummy in some cases.
>
>   
Actually, there is a shorter way to save Julian numbers.

*!*********************************************************************
*!
*!       Function: JUL_PACK()
*!
*!     Parameters: A numeric Julian number
*!
*!        Returns: A packed 5 character Julian
*!
*!*********************************************************************
function JUL_PACK( nJulian )

local cJulian := strtran( strzero( nJulian, 11, 5 ), '.' )
local cPackJul := ''
local x

for x := 1 to 10 step 2
   cPackJul += chr( val( substr( cJulian, x, 2 ) ) )
next

return cPackJul

*!*********************************************************************
*!
*!       Function: JUL_UNPACK()
*!
*!     Parameters: A packed Julian number (5 character)
*!
*!        Returns: A numeric Julian
*!
*!*********************************************************************
function JUL_UNPACK( cPackJul )

local cJulian := ''
local x

for x := 1 to 5
   cJulian += strzero(asc(substr(cPackJul,x,1)),2)
next

return val(left(cJulian,5)+'.'+substr(cJulian,6,5))
>> I used these functions successfully in Time and Attendance software that 
>> was sold all over the US for a decade.
>> The format is simple and the conversion functions are very fast.
>>     
>
> I believe we can use them as library functions for Harbour but in
> core code they will not help us too much. The timestamp value is
> necessary for us if we want to easy exchange data with different
> database systems or programs, use it in RDD expressions, f.e. as
> filters and index key/for expressions just like now we are using
> dates. The helper functions to manage timestamp value in some
> different representations does not resolve all problems.
>   
These are simply ideas that worked for many years. Nothing cast in stone.
From mbelgrano at deltain.it  Thu Feb 19 03:07:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 19 03:07:15 2009
Subject: [Harbour] Intresting corner of info
In-Reply-To: <18d502870902181158t3caeab10od77dfb02dc422e56@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
	<18d502870902181158t3caeab10od77dfb02dc422e56@mail.gmail.com>
Message-ID: <609353e70902190007q46e060f2kbfbbc0940afdbe2c@mail.gmail.com>

I invite everybody give a reply to this poll
What is your favourite 32-bit Clipper-compatible Compiler ?
http://cch4clipper.blogspot.com


>I am conducting a poll as above  at http://cch4clipper.blogspot.com.
>This is to enable me to determine the future contents of Clipper...
>Clipper... Clipper.
>TQ
>CCH




2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> After reading into a few lines I realized I wrote this a few days ago ;)
> I used to know Chee Chong Hwa from pre-Harbour days, on the
> apropos that he had - I believe - the first internet page in Clipper.
> These were the days when you were browsing with a Netscape
> browser :)
> Very nice person, I hope he will join our list once.
> Brgds,
> Viktor
> On Wed, Feb 18, 2009 at 7:15 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> >From a user's POV they are probably the same.
>>
>> Maybe there are some aspects of xhb which I don't know and could make
>> the process different, but normally it's just a recompile and relink,
>> feature-wise Harbour is on par with xhb, and a plus Harbour is
>> cleaner, more robust, more portable and faster, it also has an xhb.lib
>> which aims to provide compatibility with features we've opted not to
>> include in the core product...
>>
>> Read the rest of this most interesting and helpful article at
>> Clipper... Clipper... Clipper at http://cch4clipper.blogspot.com.
>>
>> CCH
>> Clipper... Clipper... Clipper
>> http://cch4clipper.blogspot.com.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From M.Horodyski at pzuzycie.com.pl  Thu Feb 19 03:46:11 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Feb 19 03:46:17 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <499C4788.80004@abix.info.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D1B0@PINK.zycie.pzu>

>-----Original Message-----
>From: ABIX Adam Jurkiewicz [mailto:a.jurkiewicz@abix.info.pl] 
>Sent: Wednesday, February 18, 2009 6:38 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Linux development environment
>
>Viktor Szak?ts pisze:
>> Hi all,
>> 
>> Has anyone some recommendations for an efficient Linux development 
>> environment?
>
>I'm using ME (Multi-Edit) under xDosEmu, and mc under pterm 
>(terminal emulator from putty). Works fine.
>Copy,cut,paste under ME
>under mc just compiling and testing ;-)
>

On Windows and Linx works DosNawigator. For my better than MC (edito like in ME).


??[?]???????????? About ??????????????????
?                                        ?
?     Necromancer's Dos Navigator...     ?
?                                        ?
?         Version v2.31.2305/ENG         ?
?     22-11-2008 / WIN32 (W9x/WinNT)     ?
?   Based on Dos Navigator by RIT Labs.  ?
?                                        ?
?                Contacts:               ?
?            www: ndn.muxe.com           ?
?          e-mail: ndn@muxe.com          ?
?     -=[      Stefan Weber      ]=-     ?
?         e-mail: ho1459@bnhof.de        ?
?                                        ?
?                FREEWARE                ?
?                                        ?
?   Copyright (c) 1999-2008 NDN-Team...  ?
?                                        ?
?                  OK  ?               ?
?                 ????????               ?
??????????????????????????????????????????


Regads,
Marek Horodyski
From harbour.01 at syenar.hu  Thu Feb 19 04:01:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 04:01:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10342] trunk/harbour
In-Reply-To: <22093681.post@talk.nabble.com>
References: <E1LZxOQ-0003zO-IV@c3vjzd1.ch3.sourceforge.com>
	<18d502870902181859j5b06298bjc45f0b22d8161137@mail.gmail.com>
	<22093681.post@talk.nabble.com>
Message-ID: <18d502870902190101h2d74475ahf077fb15d2a026b3@mail.gmail.com>

Hi Pritpal,


> I tried but am unable to use it in a generic way. May be
> I am not familiar with this concept since begining.
> Francesco was trying to make it generic, so I am waiting
> till he comes up with this solution. I, at my level best, can do
> with which I am familiar.


Thanks, I think you should look at it, the other thing is GC
collected pointers which is essential for a lot of tasks here.
I'd suggest to try it, it's not that bad believe me.


> I could not follow what you mean. Can you explain which
> part of GTWVG is not upto Harbour standards or I am
> missing something? Please explain it in detail. We can
> follow the right direction, no compulsions.


1) You're introducing xhb dependency for gtwvg, which isn't good.
2) Problem reports of gtwvg problems are ignored.
3) Instead of moving useful and existing WAPI functionality from
    existing libs to hbwin, you're adding plain new ones.
    Which is by itself not a problem, currently messes situation
    just gets even more messed by growing another branch
    here without touching the numerous existing ones.

As a final effect it seems that we're growing another hbwhat
lib, and not getting closer to a well laid and unified Windows
interface.

At least, that's how it looks from here so far.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/becc414c/attachment.html
From bedipritpal at hotmail.com  Thu Feb 19 04:31:35 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 19 04:31:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10342] trunk/harbour
In-Reply-To: <18d502870902190101h2d74475ahf077fb15d2a026b3@mail.gmail.com>
References: <E1LZxOQ-0003zO-IV@c3vjzd1.ch3.sourceforge.com>
	<18d502870902181859j5b06298bjc45f0b22d8161137@mail.gmail.com>
	<22093681.post@talk.nabble.com>
	<18d502870902190101h2d74475ahf077fb15d2a026b3@mail.gmail.com>
Message-ID: <22096767.post@talk.nabble.com>


Hello

<<< 
Thanks, I think you should look at it, the other thing is GC
collected pointers which is essential for a lot of tasks here.
I'd suggest to try it, it's not that bad believe me.
>>>

I tried it after posting above message. But I get only 
pointers at PRG level which I cannot exploit there.
If we go by that way, then I am afraid we need to write
a lot of code just to streamline numerous structures.
I will show an example next post.

>1) You're introducing xhb dependency for gtwvg, which isn't good.
   
As stated in previous post, I have deffered this decision.
So until we reach an agreement WAPI_*() functions category
will contain only those functions not needing structures.

>2) Problem reports of gtwvg problems are ignored.

Which reports ? Any list? Except that there are type mismatches
on some other compilers which I do not use. Please post 
(everybody) the problems so those could be fixed.

<<<
3) Instead of moving useful and existing WAPI functionality from
    existing libs to hbwin, you're adding plain new ones.
    Which is by itself not a problem, currently messes situation
    just gets even more messed by growing another branch
    here without touching the numerous existing ones.
>>>

This is the next step. Right now I write only those functions
needed for WVG*() classes. Thses functions will be UNICODE 
compliant and are under testing env. To remove those from 
other libs will be quite fast, then.

<<<
As a final effect it seems that we're growing another hbwhat
lib, and not getting closer to a well laid and unified Windows
interface.

At least, that's how it looks from here so far.
>>>

Surely not. Not even interested in that direction.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10342--trunk-harbour-tp22092017p22096767.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Feb 19 04:48:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 04:48:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10342] trunk/harbour
In-Reply-To: <22096767.post@talk.nabble.com>
References: <E1LZxOQ-0003zO-IV@c3vjzd1.ch3.sourceforge.com>
	<18d502870902181859j5b06298bjc45f0b22d8161137@mail.gmail.com>
	<22093681.post@talk.nabble.com>
	<18d502870902190101h2d74475ahf077fb15d2a026b3@mail.gmail.com>
	<22096767.post@talk.nabble.com>
Message-ID: <18d502870902190148v469191adgdcbe52b7ce989dfb@mail.gmail.com>

Hi Pritpal,


> >1) You're introducing xhb dependency for gtwvg, which isn't good.
>

> As stated in previous post, I have deffered this decision.
> So until we reach an agreement WAPI_*() functions category
> will contain only those functions not needing structures.


That's fine good, but now you want to add xhb structures
to GTWVG, which cuts the chance to ever move those
Windows wrappers to hbwin (at least not without breaking
compatibility).


> >2) Problem reports of gtwvg problems are ignored.
>
> Which reports ? Any list? Except that there are type mismatches
> on some other compilers which I do not use. Please post
> (everybody) the problems so those could be fixed.


They were posted on this list, some others I used to include
in ChangeLog entries (also posted here), I don't maintain
such list. Yesterday owatcom incompatibility was reported.


> <<<
> 3) Instead of moving useful and existing WAPI functionality from
>    existing libs to hbwin, you're adding plain new ones.
>    Which is by itself not a problem, currently messes situation
>    just gets even more messed by growing another branch
>    here without touching the numerous existing ones.
> >>>
>
> This is the next step. Right now I write only those functions
> needed for WVG*() classes. Thses functions will be UNICODE
> compliant and are under testing env. To remove those from
> other libs will be quite fast, then.


Okay.


> >>>
>
> Surely not. Not even interested in that direction.


Great to hear that :)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/2ff85e13/attachment-0001.html
From harbour.01 at syenar.hu  Thu Feb 19 04:55:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 04:55:53 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <20090219040328.GA15121@uran.home.aster.pl>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
	<20090219040328.GA15121@uran.home.aster.pl>
Message-ID: <18d502870902190155m39ac35d6v9f2bd5bf611413be@mail.gmail.com>

Hi Przemek,
Okay, let's leave them there, that's why I was asking.

However I'd like to make some changes here to move
their solution closer to the standard we use in Harbour.
Particularly the inclusion logic and some misc GT
settings, and specifically to move GTSLN/GTCRS
specific logic to their respective Makefiles, instead of
being scattered around in scripts and multiple Makefiles
in the tree. Without losing functionality of course.

[ On Linux I can test, so it's not blind modification nor
something I've haven't done before, in case this wasn't
obvious from my activity here and the binary builds I've
so far produced for *nix systems (for Lorenzo). ]

Brgds,
Viktor

On Thu, Feb 19, 2009 at 5:03 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 19 Feb 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>
> > After rechecking the situation with gtcrs, gtsln,
> > I'd like to ask group whether we could move
> > these two GTs to the contrib area.
> > The reasons are:
> > 1) Dependency on optional external libs,
> >     with the same issues our contribs have to deal with,
> >     but managed by other means, special
> >     switches and envvars all deepely embedded
> >     into the make system. Most of this could
> >     be easily standardized if these would be
>
> *curses and/or slang are default part of *nix systems.
>
> >     simple contribs.
> > 2) Both seems to be superseded by gttrm.
>
> It's not true, never was and never be as long as we do not
> add full support for termcap/terminfo to GTTRM and because
> the system functions to manage this database are usually part
> of curses or slang then there is no solution to implement it
> in portable way without references to these libraries.
>
> > [ We can also apply the methods used for
> > contribs in their current location, and I plan
> > to do this to clean these obscure parts of
> > the make system. hbmk would also
> > integrate much better if these two wouldn't
> > be such exceptions as they currently are. ]
> > What do you think?
>
> I think that nothing has changed from the time you asked about it last
> time.
> Both using basic screen libraries in *nixes and still are the only
> one really portable solution which can be used.
> Asking about it *nix users is the same as asking windows users about
> moving GTWVT or GTWIN to contrib because both need some extertnal
> .dlls which are part of windows system just like curses or slang
> are part of *nix system.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/ef8b4967/attachment.html
From harbour.01 at syenar.hu  Thu Feb 19 05:02:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 05:02:06 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <20090219050129.GB15121@uran.home.aster.pl>
References: <20090219004352.GA32330@uran.home.aster.pl>
	<18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>
	<20090219050129.GB15121@uran.home.aster.pl>
Message-ID: <18d502870902190202r14d56c9am4c1826a4c852a170@mail.gmail.com>

Hi Przemek,


> Now in Linux is 100% predictable - GCC is hardcoded as the only
>  one choice :-( and it's necessary to use HB_COMPILER envvar.
> BTW -cc=<compiler> option will be also usable feature.


I know, but this isn't a Linux tool :) For Linux it isn't hardcoded,
just the default is set to gcc. You can set it just like for hbmk
script HB_COMPILER=gpp|owatcom. The new command
line switch is fine and I wanted to add it, but under the name of
-comp= (-cc is occupied already for mode setting). Also -arch=
should be added. I'll do these.


> > "debugging". Some of those "autodetected this/that"
> > messages can certainly be made an option using a -info
> > switch with defaults off. I'll look into that. Verbosity
> > levels aren't too self-explanatory so let's try with -q, -info,
> > -trace. I've added -info to my TODO list for now.
>
> There is one difference between compiler and make wrapper output.
> hbmk.prg output I need only once when I set new environment.
> hbcompiler output I need each time when I'm compiling source
> code which I modified so for me any non compiler messages are
> only unnecessary noice.
> Thanks for the -trace hint.


I'll add -info switch which will control currend OutStd()
messages, these will be kept 'on' until we test hbmk,
later turned off. -q will disable informational messages
+ logo.


> > Only -n is active. Without it, it isn't possible to create
> > a running executable, so IMO it should be default, unless
> > we want to use this tool for some other purposes. -q0 is
> > the other default to hide output. No other Harbour options
> > are active.
>
> -n is not necessary and never was. Many people does not use
> it and have source code which cannot be compiled with this
> switch so it cannot be enabled by default. Otherwise they
> still will have to use harbour executable directly.
> You can try with hbmk script:
>
>   // t.prg
>   ? "Hello World!!!"
>
> hbmk t && ./t


Is this also true on Windows? all compilers? I'd love to
see it working like this on all platforms/compilers, and in
this case we can safely remove -n.

What about the -n1 situation? Is it possible to add those
discussed changes?


> > All unprocessed hbmk options are passed down to harbour,
> > including -gc, -gh, -D, -I, -undef.
>
> The above cannot be true because you have to also set at least
> -I<incDir>.


Which it does, but it was so obvious I didn't include
in my answer.


> I'm really sorry but I do not understand what you are
> talking about. Current hbmk2.prg behavior is different
> then the one you suggest that exists so I do not know
> what I should answer and were is a mistake.


We had hbcc, hbcmp, hblnk and hbmk scripts so far.
Now we have hbmk program, which has -cc, -cmp,
-lnk (not yet committed) switches to emulate the
above modes, even more, there is autodetection for
these modes based on argv[0]. I only assume the
real-life purpose of cc/cmp/lnk modes, as I've never
used or need them, that they are intended to be used
in make scripts and hbmk to be used manually.
At least for typical uses. Hence we can tailor the
verbosity defaults based on the mode of operation
to make a best fit for typical usage of given mode.

[ I may change -cc/-cmp switches to -mode=<mode>
because -lnk collides with -l switch and it impossible
to pass lib named 'nk'. ]

I'll answer to the rest of the message a bit later.

Brgs,
Viktor


> > hbmk does pass the stripped lib name to gcc -l option
> > already. The extension is already stripped (all of them,
> > maybe that's too harsh?). So if I understand you correctly
> > the 'lib' prefix should be stripped, too? In that case, isn't
> > that dangerous for libnames like "liblibcurl.a" when the
> > user supplies libcurl, we will have an invalid name.
>
> hbmk2.prg should not make any modifications in *.a parameters
> but pass them to GCC as is because GCC uses in different way
> .a archive passed directly then -l<libname> option. In the 1-st
> case for GCC it's only archive with object files which can have
> any name and can contain the path, f.e.:
>   gcc ... mydir/myobjs.a
> in the second case its library which have to be located in one
> of system library paths (or specified by -L option) and need name
> which confirms platform dependen't naming convention. In most of
> case it 'lib' prefix and valid sufix ( .a, .so, .dll, .sl, ... )
> The link precedence and rules used to overload symbols are also
> different. Sometimes this difference is important if you want to
> overload some library functions, f.e. customized getsys in Harbour
> core code but also some system libraries. To make things more
> complicated it also depends on -Wl,--start-group / -Wl,--end-group
> options and used LD.
>
> > > 9. We should have support for passing object archives (.a) in
> > >   link file list and then pass it to GCC without -l parameter.
> > >   Using 'mylib.a' and '-lmylib' as GCC parameters has different
> > >   meaning so mylib.a should not be converted to -lmylib but simply
> > >   passed to GCC as is.
> > I have to think about this one. Should be done, no question,
> > but I'd like to better understand. What the difference between a
> > mylib.a as object archive and a mylib.a as lib? Should these
> > non-lib .a files be supported through .hbp files? We will need
> > a separate option for it then.
>
> See above.
>
> > > 10. In GCC builds on platforms which support
> > >      -Wl,--start-group <HARBOUR_LIBS> -Wl,--end-group
> > >    (linux, mingw) we should use it to not replicate libraries with
> > >    cross bindings.
> > >    BTW current library list is not well ordered so it's not possible
> > >    to create some binaries, f.e. try hbmk hbrun.prg in some GCC builds.
> > >    It has to be updated for platforms which does not support above
> > >    library grouping.
> > I was thinking about this, but didn't reach this topic yet.
> > -Wl seems easy to add, but I don't know which platforms
> > support it and which not (mingw does support it for sure).
>
> MinGW and Linux.
>
> > May I let you do the reordering? I've spend lots of time
> > trying to figure it, but couldn't find the mechanism, so
> > I've settled with the first which was doable without full
> > rewrite and also worked for my own tests.
>
> The rules are very simple:
> libraries are scanned for necessary dependence but after scanning it
> LD does not return to this library and begins to scan next one.
> If next library contains references to symbols which exist in previous
> one and was not necessary so far then you have to repeat the previous
> library after currently scanned one. library grouping creates a set
> of libraries in which LD returns to previous ones so you do not have
> to repeat them.
> Doubling library list is also not real solution in all cases. You can
> easy create situation when it's necessary to repeat the same library
> 3, 4 or more times.
>
> > > 11. There is no support for automatic main function detection in GCC
> > >    builds. This code extracts 1-st function name from the 1-st linked
> > >    file in my hb-tools.prg. It can receive the name of .c file
> generated
> > >    from .prg file or .o file name but in such case it works only for
> > >    gcc/g++ based compilers (it uses nm tool).
> > Thanks for the code. Questions 1:
> > What exactly are we solving here? Forgive my ignorance,
> > but for the whole lifespan of Harbour I've never needed
> > anything like this, maybe because I've always used
> > -n + MAIN() (and -n1 in libs).
> > Question 2: Could we find a solution which doesn't
> > need such hacks?
>
> The above is the only one really working solution to replicate
> Clipper behavior and using as startup symbol 1-st linked function.
> Such functionality can be implemented correctly only by linker.
> Here we are trying to make it but because hbmk is not real linker
> then it's implemented in such hackish way.
> Of course we can define MAIN() as official startup symbol and remove
> HB_FS_FIRST support from Windows compiler but it also has some bad
> side effect. I know few programmers which never use -n switch and
> have source code like:
>
>   proc1.prg
>   ? "hello"
>
>   proc2.prg
>   ...
>
> and create different binaries from them choosing different 1-st
> .prg module.
>
> > >    when we will have fully functional hbmk.prg then we can change
> > >    the startup code and replace current -n1 and default support
> > >    for HB_FS_FIRST. HB_FS_FIRST will be generated only by new explicit
> > >    switch which will be used by hbmk for 1-st file only.
> > I'm a bit lost here. In autumn we've discussed once
> > some possibilities for improvement here, to remove
> > the -n1 switches, I guess you talk about the same.
> > Then we've agreed on moving in on direction.
>
> yes, and the conclusion was that we can remove it when we will have
> hb* tool which can set information about 1-st symbol for HVM at link time.
> If you do not want to extract this symbol from source code or object
> files then as alternative you can enable in compiler setting HB_FS_FIRST
> only for one compiled file (the 1-st one) so we will have only one
> symbol registered in HVM with this flag.
>
> > > 12. hbdebug and hbcplr libraries are not part of Harbour shared library
> > >    and always should be added as static libraries even when harbour
> > >    shared library is used
> > Okay, I'll add hbdebug in shared mode. As for hbcplr, I'm not sure of the
> > legal situation here and it wasn't there in hbmk.bat.
>
> I do not see any problem here. If I do not use any compiler functions
> then this library will be ignored at link time.
> I think that it will be also good to add few contrib libraries like
> hbct or hbmzip to default library list though it's not strictly necessary.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/4d3d34ae/attachment-0001.html
From M.Horodyski at pzuzycie.com.pl  Thu Feb 19 05:31:27 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Feb 19 05:31:34 2009
Subject: [Harbour] Log from build.
In-Reply-To: <18d502870902180737j69faba2dh7dd7ffe61807948c@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D228@PINK.zycie.pzu>

________________________________

	From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
	Sent: Wednesday, February 18, 2009 4:37 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] Log from build.
	
	
	Thanks Marek.

	These are two problems:
	
	
>>>>
		C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
		../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to
>>>>

Pritpal, can you resolve this ?
Maby in gtwvg.h or wvggui.h ?

>>>
	I haven't tested owatcom, so current support is a rough 
	addition based on hbmk.bat, where owatcom support 
	was also not working properly. If you want to experiment, 
	you can try changing util/hbmk/hbmk2.prg line #769
	from:
	         cOpt_Link := "OP osn=NT OP stack=65536 OP CASEEXACT {OPTL} NAME {E} {O} {L}"
	to
	         cOpt_Link := "OP osn=NT OP stack=65536 OP CASEEXACT {OPTL} NAME {E} {O} {L}{SCRIPT}"
>>>>

I don't see difference between hbmk.bat and exe from hbmk/hbmk2[.prg].
Waiting until this is be solved in the project.

Regards,
Marek Horodyski

From mbelgrano at deltain.it  Thu Feb 19 05:37:21 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 19 05:37:25 2009
Subject: [Harbour] Log from build.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D228@PINK.zycie.pzu>
References: <18d502870902180737j69faba2dh7dd7ffe61807948c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D228@PINK.zycie.pzu>
Message-ID: <609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>

Hi Marek
please use the -trace option and post  your outputs.

2009/2/19 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
> ________________________________
>
>        From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
>        Sent: Wednesday, February 18, 2009 4:37 PM
>        To: Harbour Project Main Developer List.
>        Subject: Re: [Harbour] Log from build.
>
>
>        Thanks Marek.
>
>        These are two problems:
>
>
>>>>>
>                C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
>                ../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to
>>>>>
>
> Pritpal, can you resolve this ?
> Maby in gtwvg.h or wvggui.h ?
>
>>>>
>        I haven't tested owatcom, so current support is a rough
>        addition based on hbmk.bat, where owatcom support
>        was also not working properly. If you want to experiment,
>        you can try changing util/hbmk/hbmk2.prg line #769
>        from:
>                 cOpt_Link := "OP osn=NT OP stack=65536 OP CASEEXACT {OPTL} NAME {E} {O} {L}"
>        to
>                 cOpt_Link := "OP osn=NT OP stack=65536 OP CASEEXACT {OPTL} NAME {E} {O} {L}{SCRIPT}"
>>>>>
>
> I don't see difference between hbmk.bat and exe from hbmk/hbmk2[.prg].
> Waiting until this is be solved in the project.
>
> Regards,
> Marek Horodyski
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From maurilio.longo at libero.it  Thu Feb 19 05:39:09 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 05:39:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
In-Reply-To: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>
References: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>
Message-ID: <499D36CD.3050004@libero.it>

Przemyslaw,

it does not work, I did a full rebuild then I did build tests/speedtst with
hbmk2 -mt speedtst then I did a few tests.

1) speedtst --thread=2 runs ok
2) speedtst --thread=20 deadlock after some time
3) speedtst --thread=40 deadlocks as it starts, it creates 40 threads but all
threads are blocked.

With previous code test 2 and 3 run ok to completion.

Maurilio.

druzus@users.sourceforge.net wrote:
> Revision: 10335
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10335&view=rev
> Author:   druzus
> Date:     2009-02-18 18:55:32 +0000 (Wed, 18 Feb 2009)
> 
> Log Message:
> -----------
> 2009-02-18 20:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/include/hbthread.h
>   * harbour/source/vm/thread.c
>     ! added support for conditional variables working like in PTHREADS
>       in OS2 builds - it fixes the problem with possible dead lock or
>       starvation effect which can also cause dead lock in some cases.
>       OS2 users please test current code.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/include/hbthread.h
>     trunk/harbour/source/vm/thread.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Thu Feb 19 05:50:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 05:50:34 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <20090219050129.GB15121@uran.home.aster.pl>
References: <20090219004352.GA32330@uran.home.aster.pl>
	<18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>
	<20090219050129.GB15121@uran.home.aster.pl>
Message-ID: <18d502870902190250l502c442dlf5eaf93103fd4417@mail.gmail.com>

Hi Przemek,

(answers part 2)


> > > 8. When -l<libname> gcc option is used then <libname> should
> > >   not contain prefix (lib) and extension (.so,.dll,.a)
> >
> > hbmk does pass the stripped lib name to gcc -l option
> > already. The extension is already stripped (all of them,
> > maybe that's too harsh?). So if I understand you correctly
> > the 'lib' prefix should be stripped, too? In that case, isn't
> > that dangerous for libnames like "liblibcurl.a" when the
> > user supplies libcurl, we will have an invalid name.
>
> hbmk2.prg should not make any modifications in *.a parameters
> but pass them to GCC as is because GCC uses in different way
> .a archive passed directly then -l<libname> option. In the 1-st
> case for GCC it's only archive with object files which can have
> any name and can contain the path, f.e.:
>   gcc ... mydir/myobjs.a
> in the second case its library which have to be located in one
> of system library paths (or specified by -L option) and need name
> which confirms platform dependen't naming convention. In most of
> case it 'lib' prefix and valid sufix ( .a, .so, .dll, .sl, ... )
> The link precedence and rules used to overload symbols are also
> different. Sometimes this difference is important if you want to
> overload some library functions, f.e. customized getsys in Harbour
> core code but also some system libraries. To make things more
> complicated it also depends on -Wl,--start-group / -Wl,--end-group
> options and used LD.


Right now every filename passed as is (without -l) with the
extension .a is considered a library. Would it help if hbmk would
simply handle .a files just like object files? This would mean
that libs with .a ending must have to be passed with -l to make
it handled like a library.


> > > 9. We should have support for passing object archives (.a) in
> > >   link file list and then pass it to GCC without -l parameter.
> > >   Using 'mylib.a' and '-lmylib' as GCC parameters has different
> > >   meaning so mylib.a should not be converted to -lmylib but simply
> > >   passed to GCC as is.
> > I have to think about this one. Should be done, no question,
> > but I'd like to better understand. What the difference between a
> > mylib.a as object archive and a mylib.a as lib? Should these
> > non-lib .a files be supported through .hbp files? We will need
> > a separate option for it then.
>
> See above.
>
> > > 10. In GCC builds on platforms which support
> > >      -Wl,--start-group <HARBOUR_LIBS> -Wl,--end-group
> > >    (linux, mingw) we should use it to not replicate libraries with
> > >    cross bindings.
> > >    BTW current library list is not well ordered so it's not possible
> > >    to create some binaries, f.e. try hbmk hbrun.prg in some GCC builds.
> > >    It has to be updated for platforms which does not support above
> > >    library grouping.
> > I was thinking about this, but didn't reach this topic yet.
> > -Wl seems easy to add, but I don't know which platforms
> > support it and which not (mingw does support it for sure).
>
> MinGW and Linux.


Okay, and also djgpp, as per its .cf file.


> The rules are very simple:
> libraries are scanned for necessary dependence but after scanning it
> LD does not return to this library and begins to scan next one.
> If next library contains references to symbols which exist in previous
> one and was not necessary so far then you have to repeat the previous
> library after currently scanned one. library grouping creates a set
> of libraries in which LD returns to previous ones so you do not have
> to repeat them.
> Doubling library list is also not real solution in all cases. You can
> easy create situation when it's necessary to repeat the same library
> 3, 4 or more times.


Thanks for the clarifications, that explains it.


> > Thanks for the code. Questions 1:
> > What exactly are we solving here? Forgive my ignorance,
> > but for the whole lifespan of Harbour I've never needed
> > anything like this, maybe because I've always used
> > -n + MAIN() (and -n1 in libs).
> > Question 2: Could we find a solution which doesn't
> > need such hacks?
>
> The above is the only one really working solution to replicate
> Clipper behavior and using as startup symbol 1-st linked function.
> Such functionality can be implemented correctly only by linker.
> Here we are trying to make it but because hbmk is not real linker
> then it's implemented in such hackish way.
> Of course we can define MAIN() as official startup symbol and remove
> HB_FS_FIRST support from Windows compiler but it also has some bad
> side effect. I know few programmers which never use -n switch and
> have source code like:

  proc1.prg
>   ? "hello"
>
>   proc2.prg
>   ...
>
> and create different binaries from them choosing different 1-st
> .prg module.


Okay. I still can't fully see the picture here. (see my question
in answers 'part 1'.


> > I'm a bit lost here. In autumn we've discussed once
> > some possibilities for improvement here, to remove
> > the -n1 switches, I guess you talk about the same.
> > Then we've agreed on moving in on direction.
>
> yes, and the conclusion was that we can remove it when we will have
> hb* tool which can set information about 1-st symbol for HVM at link time.
> If you do not want to extract this symbol from source code or object
> files then as alternative you can enable in compiler setting HB_FS_FIRST
> only for one compiled file (the 1-st one) so we will have only one
> symbol registered in HVM with this flag.


Can we have a harbour compiler flag for this?

If I understand correctly, currently we have -n which
makes a FIRST for all compiled .prgs, and we have -n1
which disabled FIRST for all compiled .prgs. Perhaps
we should have another flag to enable FIRST only in
the first .prg.


> I do not see any problem here. If I do not use any compiler functions
> then this library will be ignored at link time.
> I think that it will be also good to add few contrib libraries like
> hbct or hbmzip to default library list though it's not strictly necessary.


I'd rather not hard-wire contribs into hbmk to keep dependencies
and territories clear. Plus, we also have the .hbp config files in place.
Including hbct (or hbmzip) takes this:
- hbmk <my.prg> -lhbct
.hbp gets useful when contrib needs some external libs, so you can simply
say:
- hbmk <my.prg> examples\xhgtk.hbp
which will pick everything needed for xhgtk.hbp. That's the idea at least
I couldn't yet test it specifically for xhgtk.
We can also have a .hbp to setup all our popular and portable contribs,
I'll create such .hbp:
- hbmk <my.prg> contrib.hpb

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/e3698219/attachment.html
From maurilio.longo at libero.it  Thu Feb 19 06:09:31 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 06:09:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
In-Reply-To: <499D36CD.3050004@libero.it>
References: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>
	<499D36CD.3050004@libero.it>
Message-ID: <499D3DEB.2070506@libero.it>

Przemyslaw,

it starts misbehaving with three threads, look at this:

 1  200 blocked fd504d64
 2  200 blocked fd5080c4
 3  200 running fd507008
 4  200 ready   fd507008


threads 3 and 4 are running and run to completion, thread 2 is blocked since
it started, thread 1 is blocked waiting for the other threads to start. ( 200
is priority normal )

This is with 5 threads

 1  200 blocked
 2  200 blocked
 3  200 blocked
 4  200 blocked
 5  200 running
 6  200 ready

They're all blocked but the last two.

This is with 10 threads

  1  200 blocked
  2  200 running
  3  200 blocked
  4  200 blocked
  5  200 ready
  6  200 blocked
  7  200 blocked
  8  200 blocked
  9  200 blocked
 10  200 ready
 11  200 ready

Now four are running, the others are blocked since they were created ?!

Maurilio.


Maurilio Longo wrote:
> Przemyslaw,
> 
> it does not work, I did a full rebuild then I did build tests/speedtst with
> hbmk2 -mt speedtst then I did a few tests.
> 
> 1) speedtst --thread=2 runs ok
> 2) speedtst --thread=20 deadlock after some time
> 3) speedtst --thread=40 deadlocks as it starts, it creates 40 threads but all
> threads are blocked.
> 
> With previous code test 2 and 3 run ok to completion.
> 
> Maurilio.
> 
> druzus@users.sourceforge.net wrote:
>> Revision: 10335
>>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10335&view=rev
>> Author:   druzus
>> Date:     2009-02-18 18:55:32 +0000 (Wed, 18 Feb 2009)
>>
>> Log Message:
>> -----------
>> 2009-02-18 20:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>>   * harbour/include/hbthread.h
>>   * harbour/source/vm/thread.c
>>     ! added support for conditional variables working like in PTHREADS
>>       in OS2 builds - it fixes the problem with possible dead lock or
>>       starvation effect which can also cause dead lock in some cases.
>>       OS2 users please test current code.
>>
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/include/hbthread.h
>>     trunk/harbour/source/vm/thread.c
>>
>>
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Thu Feb 19 06:23:43 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 19 06:18:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
In-Reply-To: <499D36CD.3050004@libero.it>
References: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>
	<499D36CD.3050004@libero.it>
Message-ID: <20090219112343.GA23767@uran.home.aster.pl>

On Thu, 19 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> it does not work, I did a full rebuild then I did build tests/speedtst with
> hbmk2 -mt speedtst then I did a few tests.
> 1) speedtst --thread=2 runs ok
> 2) speedtst --thread=20 deadlock after some time
> 3) speedtst --thread=40 deadlocks as it starts, it creates 40 threads but all
> threads are blocked.
> With previous code test 2 and 3 run ok to completion.

Can you make some tests with tests/mt/mttest*.prg
It may give me some more precise information what is wrong.
Now it's hard to guess what should I looking for.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb 19 06:48:41 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 19 06:43:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
In-Reply-To: <499D3DEB.2070506@libero.it>
References: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>
	<499D36CD.3050004@libero.it> <499D3DEB.2070506@libero.it>
Message-ID: <20090219114841.GA16153@uran.home.aster.pl>

On Thu, 19 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> it starts misbehaving with three threads, look at this:
>  1  200 blocked fd504d64
>  2  200 blocked fd5080c4
>  3  200 running fd507008
>  4  200 ready   fd507008
> threads 3 and 4 are running and run to completion, thread 2 is blocked since
> it started, thread 1 is blocked waiting for the other threads to start. ( 200
> is priority normal )
> This is with 5 threads
>  1  200 blocked
>  2  200 blocked
>  3  200 blocked
>  4  200 blocked
>  5  200 running
>  6  200 ready
> They're all blocked but the last two.
> This is with 10 threads
>   1  200 blocked
>   2  200 running
>   3  200 blocked
>   4  200 blocked
>   5  200 ready
>   6  200 blocked
>   7  200 blocked
>   8  200 blocked
>   9  200 blocked
>  10  200 ready
>  11  200 ready
> Now four are running, the others are blocked since they were created ?!

This can be result of my typo in _hb_thread_cond_signal()/
_hb_thread_cond_broadcast() used in current OS2 builds.
By mistake it was LIFO instead of FIFO.

I'll commit fix in a while but probably it's not the only one problem.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Feb 19 06:44:36 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb 19 06:44:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10343] trunk/harbour
Message-ID: <E1La7KW-0003HW-RK@dn4whf1.ch3.sourceforge.com>

Revision: 10343
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10343&view=rev
Author:   druzus
Date:     2009-02-19 11:44:36 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-19 12:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/thread.c
    ! fixed the typo in order of sending signals in _hb_thread_cond_signal()
      _hb_thread_cond_broadcast() for OS2. By mistake it was LIFO instead of
      FIFO.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Thu Feb 19 06:45:43 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 06:45:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
In-Reply-To: <20090219112343.GA23767@uran.home.aster.pl>
References: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>	<499D36CD.3050004@libero.it>
	<20090219112343.GA23767@uran.home.aster.pl>
Message-ID: <499D4667.7070303@libero.it>

Przemyslaw,

mttest01, 02, 03 work ok.

mttest04 blocks with 5 blocked threads.

(E:\REPOSITORY\HARBOUR\tests\mt)mttest04

Harbour 1.1.0dev (Rev. 10342)
Main start
Starting threads: <1><2><3><4><5>
Wait 5 seconds or hit any key...
Waiting for threads...


mttest05 blocks with 4 blocked threads

(E:\REPOSITORY\HARBOUR\tests\mt)mttest05

Harbour 1.1.0dev (Rev. 10342)
Starting threads: <1><2><3><4><5>
Waiting for threads...


same for mttest06

(E:\REPOSITORY\HARBOUR\tests\mt)mttest06

Harbour 1.1.0dev (Rev. 10342)
Starting threads: <1><2><3><4><5>
Waiting for threads...


mttest07 blocks with five blocked threads

(E:\REPOSITORY\HARBOUR\tests\mt)mttest07

Harbour 1.1.0dev (Rev. 10342)
Main start
Starting threads: <1><2><3><4><5>
Sending jobs...
Sending terminate values...<1><2><3><4><5>
Collecting results...
Waiting for threads...


mttest08 and 09 run to completion

mttest10 does not build at all

(E:\REPOSITORY\HARBOUR\tests\mt)hbmk2 -mt mttest10.prg
Harbour Make 1.1.0dev (Rev. 10342)
Copyright (c) 1999-2009, Viktor Szakats
http://www.harbour-project.org/

hbmk: Using Harbour: e:\harbour\bin e:\harbour\include e:\harbour\lib
e:\harbour\lib/hbrtl.a(browse.o): Undefined symbol _HB_FUN_INDEXKEY referenced f
rom data segment
e:\harbour\lib/hbrtl.a(browdb.o): Undefined symbol _HB_FUN_DBSKIPPER referenced
from data segment
hbmk: Error: Running C compiler. 1: 'gcc mttest10.c  -O3 -o mttest10.exe   -Ie:\
harbour\include -Le:\harbour\lib -lhbcpage -lhblang -lhbcommon -lhbdebug -lhbvmm
t -lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrdd
fpt -lhbrtl -lhbpp -lhbmacro -lhbpcre -lhbzlib -lhbextern -lgtcgi -lgtstd -lgtpc
a -lgtos2 -lhbcommon -lhbrtl -lhbvmmt -lsocket'


mttest11 runs ok with a running clock

mttest12 runs ok







Przemyslaw Czerpak wrote:
> On Thu, 19 Feb 2009, Maurilio Longo wrote:
> 
> Hi Maurilio,
> 
>> it does not work, I did a full rebuild then I did build tests/speedtst with
>> hbmk2 -mt speedtst then I did a few tests.
>> 1) speedtst --thread=2 runs ok
>> 2) speedtst --thread=20 deadlock after some time
>> 3) speedtst --thread=40 deadlocks as it starts, it creates 40 threads but all
>> threads are blocked.
>> With previous code test 2 and 3 run ok to completion.
> 
> Can you make some tests with tests/mt/mttest*.prg
> It may give me some more precise information what is wrong.
> Now it's hard to guess what should I looking for.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vailtom at gmail.com  Thu Feb 19 06:49:57 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Feb 19 06:50:00 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <499CFD1D.5060007@philb.us>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<499CFD1D.5060007@philb.us>
Message-ID: <531d7a750902190349n328545v4f78e20654f8a2d4@mail.gmail.com>

Done.
From lorenzo.fiorini at gmail.com  Thu Feb 19 06:50:08 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 19 06:50:13 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <18d502870902190155m39ac35d6v9f2bd5bf611413be@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
	<20090219040328.GA15121@uran.home.aster.pl>
	<18d502870902190155m39ac35d6v9f2bd5bf611413be@mail.gmail.com>
Message-ID: <9257026e0902190350n17aa0144vd546b5281fa501d7@mail.gmail.com>

On Thu, Feb 19, 2009 at 10:55 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> [ On Linux I can test, so it's not blind modification nor
> something I've haven't done before, in case this wasn't
> obvious from my activity here and the binary builds I've
> so far produced for *nix systems (for Lorenzo). ]

*nix is not only Linux.

For example OSX needs a lot of MacPorts, old distributions need
specific flags and under Win msys is not bash but sh.

What I mean is that "worksforme" under ubuntu 8.10 is not enough.

IMHO the only one here that has a such a "wide vision" is Przemyslaw.

My kind request is to keep things as they are for 1.1 and move the
"cleanup" to 1.2 or 2.0.

best regards,
Lorenzo
From vailtom at gmail.com  Thu Feb 19 06:54:50 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Feb 19 06:54:56 2009
Subject: [Harbour] Web error
In-Reply-To: <18d502870902180514l66e7a21aq9f1c1a5b9e00290e@mail.gmail.com>
References: <499B0555.4040800@dbtopas.lt> <499B15B7.6040002@zen.co.uk>
	<531d7a750902180505w71682972g85e8cba3fb1fcdca@mail.gmail.com>
	<18d502870902180514l66e7a21aq9f1c1a5b9e00290e@mail.gmail.com>
Message-ID: <531d7a750902190354s1f179d9ep7758482909ef8c3e@mail.gmail.com>

I am providing.

2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Renato,
> Looks good!
> One more thing, not design related, but it'd be nice to have a news item:
> "Harbour v1.0.1 is released!" on 2008-09-18.
>
> Brgds,
> Viktor
> On Wed, Feb 18, 2009 at 2:05 PM, Vailton Renato <vailtom@gmail.com> wrote:
>>
>> I have posted the changes observed... all suggestions are welcome.
>> Regards,
>> Vailton Renato
>>
>> 2009/2/17 Barry Jackson <zen25000@zen.co.uk>:
>> > Also on home page:-
>> > "Harbour is a free software 100% compatible with Clipper compilers"
>> > should be:-
>> > "Harbour is free software 100% compatible with Clipper compilers"
>> > and on "about" page:-
>> > "Why using it?"
>> > should be:-
>> > "Why use it?
>> > also:-
>> > "Because is a free software..."
>> > should be:-
>> > "Because it is free software..."
>> > also:-
>> > "Because remove some of the limits..."
>> > should be:-
>> > "Because it removes some of the limits..."
>> > On the mailing lists page:-
>> > "some professionals has joined in our mailing with the intention of help
>> > voluntarily the users."
>> > should be:-
>> > "some professionals have joined our mailing lists with the intention of
>> > voluntarily helping users."
>> >
>> > I hope that helps.
>> >
>> > Regards,
>> > Barry
>> >
>> >
>> > Mindaugas Kavaliauskas wrote:
>> >>
>> >> Hi,
>> >>
>> >>
>> >> http://www.harbour-project.org/ has banner picture with text
>> >> "MultHi-threads".
>> >>
>> >>
>> >> Regards,
>> >> Mindaugas
>> >> _______________________________________________
>> >> Harbour mailing list
>> >> Harbour@harbour-project.org
>> >> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >>
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>>
>>
>>
>> --
>> Vailton Renato
>> SQL LIB, MyMake & xDev Developer
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From druzus at acn.waw.pl  Thu Feb 19 07:15:15 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 19 07:10:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
In-Reply-To: <499D4667.7070303@libero.it>
References: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>
	<499D36CD.3050004@libero.it>
	<20090219112343.GA23767@uran.home.aster.pl>
	<499D4667.7070303@libero.it>
Message-ID: <20090219121514.GA4454@uran.home.aster.pl>

On Thu, 19 Feb 2009, Maurilio Longo wrote:
> Przemyslaw,
> mttest01, 02, 03 work ok.
> mttest08 and 09 run to completion
> mttest11 runs ok with a running clock
> mttest12 runs ok

So for two threads it works OK.

> mttest04 blocks with 5 blocked threads.
> mttest05 blocks with 4 blocked threads
> same for mttest06
> mttest07 blocks with five blocked threads
[...]
> Waiting for threads...

Here we have a problem which we will have to locate.
I'll try to look at it. If possible please also check
what happens when we reverted the order.

> mttest10 does not build at all
> (E:\REPOSITORY\HARBOUR\tests\mt)hbmk2 -mt mttest10.prg
> Harbour Make 1.1.0dev (Rev. 10342)
> Copyright (c) 1999-2009, Viktor Szakats
> http://www.harbour-project.org/
> 
> hbmk: Using Harbour: e:\harbour\bin e:\harbour\include e:\harbour\lib
> e:\harbour\lib/hbrtl.a(browse.o): Undefined symbol _HB_FUN_INDEXKEY referenced f
> rom data segment
> e:\harbour\lib/hbrtl.a(browdb.o): Undefined symbol _HB_FUN_DBSKIPPER referenced
> from data segment
> hbmk: Error: Running C compiler. 1: 'gcc mttest10.c  -O3 -o mttest10.exe   -Ie:\
> harbour\include -Le:\harbour\lib -lhbcpage -lhblang -lhbcommon -lhbdebug -lhbvmm
> t -lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrdd
> fpt -lhbrtl -lhbpp -lhbmacro -lhbpcre -lhbzlib -lhbextern -lgtcgi -lgtstd -lgtpc
> a -lgtos2 -lhbcommon -lhbrtl -lhbvmmt -lsocket'

It's hbmk2 problem caused by wrong library order.
Anyhow this test needs GT which can create many console windows so it
will not work even after successful compilation in OS2.

best regards,
Przemek
From maurilio.longo at libero.it  Thu Feb 19 07:20:18 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 07:20:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
In-Reply-To: <20090219121514.GA4454@uran.home.aster.pl>
References: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>	<499D36CD.3050004@libero.it>	<20090219112343.GA23767@uran.home.aster.pl>	<499D4667.7070303@libero.it>
	<20090219121514.GA4454@uran.home.aster.pl>
Message-ID: <499D4E82.70808@libero.it>

Przemyslaw Czerpak wrote:
> 
> So for two threads it works OK.
> 
it seems so, speedtst even works when only two threads are used.

>> mttest04 blocks with 5 blocked threads.
>> mttest05 blocks with 4 blocked threads
>> same for mttest06
>> mttest07 blocks with five blocked threads
> [...]
>> Waiting for threads...
> 
> Here we have a problem which we will have to locate.
> I'll try to look at it. If possible please also check
> what happens when we reverted the order.
> 
With your latest commit (thread.c at revision 10343):

mttest04 never ends, two threads keep running, the others are all blocked.

 1  200 blocked
 2  200 running
 3  200 ready
 4  200 blocked
 5  200 blocked
 6  200 blocked

mttest05 blocks after a little while, 4 threads blocked

 1  200 blocked
 3  200 blocked
 4  200 blocked
 6  200 blocked

mttest06 the same, 5 threads blocked

 1  200 blocked
 2  200 blocked
 3  200 blocked
 4  200 blocked
 6  200 blocked

mttest07 the same, 4 blocked threads

 1  200 blocked
 2  200 blocked
 3  200 blocked
 4  200 blocked

mttest08, 09, 10, 12 all work ok.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Thu Feb 19 07:46:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 19 07:46:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10344] trunk/harbour
Message-ID: <E1La8IG-0003Fp-JW@bj8yhf1.ch3.sourceforge.com>

Revision: 10344
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10344&view=rev
Author:   vszakats
Date:     2009-02-19 12:46:19 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-18 13:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    + Added new TODOs.
    + Now using GTCGI as the GT.
    + Added -info option to enable informational output.
      (currently this is the default for testing period)
    + Added -arch=<arch> command line option. Same as HB_ARCHITECTURE.
      Added -comp=<comp> command line option. Same as HB_COMPILER.
      envvars are kept for compatibility.
    + Added -hblnk option to give plave for hblnk script behaviour
      emulation.
    * Changed -cc, -cmp options to -hbcc, -hbcmp respecitvely.
    + Changed -hbcc, -hbcmp, -hblnk switches to turn off information
      output and turn on quiet mode by default.
    + Added autodetection of architecture when unique to
      architecture compiler is choosen manually. IOW, when
      -comp=msvc|mingw|pocc|dmc|xcc is passed the architecture will
      be set to win automatically. When -comp=djgpp is used,
      dos will be selected.
    ! Fixed ordering of compiler autodetection because f.e. owatcom
      bin dir holds a 'cl.exe', which made hbmk2 falsely detect msvc.
    + Added trick which I'm not sure I like, and may cause problems
      and seemingly unpredictable behaviour, but could also help
      in some environments where multiple compilers are setup in
      parallel (this isn't a recommended scenario for various other
      reasons, so maybe we shouldn't support it further). So from
      now on the compiler autodetection will first look for the
      compiler used to build hbmk2.exe, and check for the rest
      afterwards. This feature is turned off for msvc builds of
      hbmk2.exe because it breaks owatcom autodetection.
    + Added possibility to pass a plain dir by using -odir[\|/]
      switch. The final name will be determined by first input
      file name, if this one also has a dir, -o option will be
      ignored. Added logic to handle separator differences, this
      wasn't tested to a great deal.
    + Added -Wl,--start-group support for linux/gcc|gpp, win/mingw,
      dos/djgpp.
    ! Fixed owatcom support to setup library paths.
    ! Fixed linux/owatcom to use link script.
    * Some adjustments to win/owatcom C compiler settings. I guess
      the ones in .cf should also need a cleanup.
    * Few minor indentation problems fixed.
    ! C compiler and linker scripts now got an extension in
      the generated temp filename to make some of them happy
      (owatcom in this case). .cpl is used for compiler scripts,
      .lnk for linker ones.
    + Compiler autodetection now also looks in hbmk2 executable
      dir before looking into the PATH.
    ! Link script content was wrong due to typo.
    ! Fixed problem with library paths being wrong (doubly
      decorated) in the link command. This may also fix some
      problems with double extensions and final .c file cleanup.
    ! Fixed to add hbdebug lib when building in shared mode.
    ! Fixed typo in automatically adding './' on *nix systems.
    ; Please test, I definitely couldn't retest all scenaros
      after all these changes.

  * bin/postinst.bat
    * Adapted change in mode modifier switches, also
      added new -hblnk one.
  * utils/hbmk/examples/winapi.hbp
    + Added mapi32.
  + utils/hbmk/examples/contrib.hbp
    + Added .hbp file for popular and portable only contribs.
  * config/win/owatcom.cf
    - Removed unnecessary system libs.
  * contrib/hbvpdf/hbvpdft.prg
    * hbwhat32 -> hbwhat in comment.
  * contrib/hbwin/wapi_commctrl.c
  * contrib/hbwin/wapi_winuser.c
    ! Fixed harbour-project page link in header.
  * contrib/hbwin/hbwapi.h
    * Formatting (indenting the whole file content inside
      self-guard isn't necessary.)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/contrib/hbvpdf/hbvpdft.prg
    trunk/harbour/contrib/hbwin/hbwapi.h
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/utils/hbmk/examples/winapi.hbp
    trunk/harbour/utils/hbmk/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/utils/hbmk/examples/contrib.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb 19 08:18:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 19 08:13:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
In-Reply-To: <499D4E82.70808@libero.it>
References: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>
	<499D36CD.3050004@libero.it>
	<20090219112343.GA23767@uran.home.aster.pl>
	<499D4667.7070303@libero.it>
	<20090219121514.GA4454@uran.home.aster.pl>
	<499D4E82.70808@libero.it>
Message-ID: <20090219131847.GA25103@uran.home.aster.pl>

On Thu, 19 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> With your latest commit (thread.c at revision 10343):
> mttest04 never ends, two threads keep running, the others are all blocked.
> mttest05 blocks after a little while, 4 threads blocked
> mttest06 the same, 5 threads blocked
> mttest07 the same, 4 blocked threads
> mttest08, 09, 10, 12 all work ok.

I've got it. Yet another stupid typo in _hb_thread_wait_del()

      if( pWaiting->next == pWaiting->prev )
         cond->waiters = NULL;
      else

and list of waiting threads with two items only was cleared
instead of deleting only one item. It's a school mistake.
I really should make some break.

Please test current SVN repository.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Feb 19 08:13:37 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb 19 08:13:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10345] trunk/harbour
Message-ID: <E1La8if-0007WW-9E@74yxhf1.ch3.sourceforge.com>

Revision: 10345
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10345&view=rev
Author:   druzus
Date:     2009-02-19 13:13:36 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-19 14:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/thread.c
    ! fixed very stupid and also vary bad typo in my last OS2 modification.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Feb 19 08:18:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 08:18:56 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <9257026e0902190350n17aa0144vd546b5281fa501d7@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
	<20090219040328.GA15121@uran.home.aster.pl>
	<18d502870902190155m39ac35d6v9f2bd5bf611413be@mail.gmail.com>
	<9257026e0902190350n17aa0144vd546b5281fa501d7@mail.gmail.com>
Message-ID: <18d502870902190518j6a2ab767p43f29d3f6ff48d2c@mail.gmail.com>

>
> > [ On Linux I can test, so it's not blind modification nor
> > something I've haven't done before, in case this wasn't
> > obvious from my activity here and the binary builds I've
> > so far produced for *nix systems (for Lorenzo). ]
>
> *nix is not only Linux.


I beg you pardon?


> For example OSX needs a lot of MacPorts, old distributions need
> specific flags and under Win msys is not bash but sh.


Thank you, this is all new to me after digging knee
deep into two make systems since long.


> What I mean is that "worksforme" under ubuntu 8.10 is not enough.


If that's your conclusion about my working style, I really
cannot help you here.


> IMHO the only one here that has a such a "wide vision" is Przemyslaw.


I hope he can help where needed, but since I don't intend
to remove any functionality, we won't lose a single bit of
his work.


> My kind request is to keep things as they are for 1.1 and move the
> "cleanup" to 1.2 or 2.0.


We will see. You had similar requests for contribs too, amongst
others, and if we had stuck to it, we'd still have most contribs
broken, without a equal support on all platforms and largely
untested, targeted for a future version. To me it seems it's all
about your distrust towards my work, so I invite you to point to
specific problems. In case of any problems we have our SVN
there to help, so we revert if I happen to mess up everything.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/159b4fa7/attachment.html
From lorenzo.fiorini at gmail.com  Thu Feb 19 08:41:42 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 19 08:41:46 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <18d502870902190518j6a2ab767p43f29d3f6ff48d2c@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
	<20090219040328.GA15121@uran.home.aster.pl>
	<18d502870902190155m39ac35d6v9f2bd5bf611413be@mail.gmail.com>
	<9257026e0902190350n17aa0144vd546b5281fa501d7@mail.gmail.com>
	<18d502870902190518j6a2ab767p43f29d3f6ff48d2c@mail.gmail.com>
Message-ID: <9257026e0902190541k177b37ecgcc2b649276a45951@mail.gmail.com>

On Thu, Feb 19, 2009 at 2:18 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I beg you pardon?

*nix is used to describe Unix derivatives like Solaris, AIX, HPUX,
BSD, Linux, ...

> To me it seems it's all about your distrust towards my work

Please don't read too much inside my poor english :)

> so I invite you to point to specific problems

I could do the same question to you "what are the specific problems
you see inside actual gnu make system?"

best regards,
Lorenzo
From myorg63 at mail.ru  Thu Feb 19 08:57:10 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Thu Feb 19 08:57:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10344] trunk/harbour
In-Reply-To: <E1La8IG-0003Fp-JW@bj8yhf1.ch3.sourceforge.com>
References: <E1La8IG-0003Fp-JW@bj8yhf1.ch3.sourceforge.com>
Message-ID: <22100950.post@talk.nabble.com>




vszakats wrote:
> 
> Revision: 10344
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10344&view=rev
> Author:   vszakats
> Date:     2009-02-19 12:46:19 +0000 (Thu, 19 Feb 2009)
> 
> Log Message:
> -----------
> 2009-02-18 13:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>      ! Fixed ordering of compiler autodetection because f.e. owatcom
>       bin dir holds a 'cl.exe', which made hbmk2 falsely detect msvc.
>   
> 

For OpenWatcom autodetection we can use very simple way (on DOS, OS/2, Win32
at last)
from WATCOM\readme.txt

"For proper operation the Open Watcom compilers require few environment
variables to be set up correctly. These variables differ slightly depending
on the host platform (DOS, OS/2, Win32). The common variables are:
 ..
 - WATCOM   - points to the directory where Open Watcom is installed
              and is used by various Open Watcom tools to locate files
 .."

I think we can use this behavior

Regards, Petr

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10344--trunk-harbour-tp22099877p22100950.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Feb 19 08:57:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 08:57:32 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <9257026e0902190541k177b37ecgcc2b649276a45951@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
	<20090219040328.GA15121@uran.home.aster.pl>
	<18d502870902190155m39ac35d6v9f2bd5bf611413be@mail.gmail.com>
	<9257026e0902190350n17aa0144vd546b5281fa501d7@mail.gmail.com>
	<18d502870902190518j6a2ab767p43f29d3f6ff48d2c@mail.gmail.com>
	<9257026e0902190541k177b37ecgcc2b649276a45951@mail.gmail.com>
Message-ID: <18d502870902190557m6958c468i2c1722f978ef291e@mail.gmail.com>

>
> > I beg you pardon?
>
> *nix is used to describe Unix derivatives like Solaris, AIX, HPUX,
> BSD, Linux, ...


I hope you're not serious telling this to me ;)


> > To me it seems it's all about your distrust towards my work
>
> Please don't read too much inside my poor english :)
>
> > so I invite you to point to specific problems
>
> I could do the same question to you "what are the specific problems
> you see inside actual gnu make system?"


Certain logic is spanning across several different files,
which makes maintenance difficult. It also causes that
some behaviour is difficult to check for consistency across
all platforms. User settings are hidden inside these files,
and their availability is tool/platform dependent.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/6bdc2a26/attachment.html
From M.Horodyski at pzuzycie.com.pl  Thu Feb 19 09:11:50 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Feb 19 09:11:56 2009
Subject: [Harbour] Log from build.
In-Reply-To: <609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Thursday, February 19, 2009 11:37 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Log from build.
>
>Hi Marek
>please use the -trace option and post  your outputs.


Here is todays log :

c:\harbour>make_gnu.bat clean

c:\harbour>make_gnu.bat
make[3]: *** [wvgcore.obj] Error 8
make[2]: *** [descend] Error 2
make[1]: *** [gtwvg] Error 2
make: *** [contrib] Error 2

c:\harbour>make_gnu.log install

c:\harbour>make_gnu.bat install
make[1]: [install] Error 1 (ignored)
make[3]: *** [wvgcore.obj] Error 8
make[2]: *** [descend] Error 2
make[1]: *** [gtwvg.inst] Error 2
make: *** [contrib.inst] Error 2



c:\harbour\tests>hbmk_ow cls_test
Harbour Make 1.1.0dev (Rev. 10338)
Copyright (c) 1999-2009, Viktor Szakats
http://www.harbour-project.org/

hbmk: Using Harbour: C:\harbour\bin C:\harbour\include C:\harbour\lib
Open Watcom Linker Version 1.8
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
Error! E2093: cannot open C:\TEMP\2k5mce
hbmk: Error: Running linker. 1: 'wlink @C:\TEMP\2k5mce'
Press any key to continue...^C // <----- here hangs batch process.

 
c:\harbour\tests>hbmk_ow -trace cls_test
Harbour Make 1.1.0dev (Rev. 10338)
Copyright (c) 1999-2009, Viktor Szakats
http://www.harbour-project.org/

hbmk: Using Harbour: C:\harbour\bin C:\harbour\include C:\harbour\lib
hbmk: Harbour compiler command: 'C:\harbour\bin\harbour.exe cls_test -n
-q0 -iC:\harbour\include'
hbmk: C compiler command: 'wpp386 -j -w3 -5s -5r -fp5 -oxehtz -zq -zt0
-mf -bt=NT   cls_test.c'
hbmk: Linker command: 'wlink @C:\TEMP\5z4fqp'
hbmk: Linker script: '-j -w3 -5s -5r -fp5 -oxehtz -zq -zt0 -mf -bt=NT
cls_test.c'
Open Watcom Linker Version 1.8
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
Error! E2093: cannot open C:\TEMP\5z4fqp
hbmk: Error: Running linker. 1: 'wlink @C:\TEMP\5z4fqp'
Press any key to continue...


And ends of make_gnu.log file :

C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to
type of cast
../../wvgcore.c(176): Note! N630: col(81) source conversion type is
'_GUID const *'
../../wvgcore.c(176): Note! N631: col(81) target conversion type is
'_GUID const (lvalue)'
../../wvgcore.c(213): Error! E306: col(90) cannot convert expression to
type of cast
../../wvgcore.c(213): Note! N630: col(90) source conversion type is
'_GUID const *'
../../wvgcore.c(213): Note! N631: col(90) target conversion type is
'_GUID const (lvalue)'
../../wvgcore.c(617): Error! E306: col(85) cannot convert expression to
type of cast
../../wvgcore.c(617): Note! N630: col(85) source conversion type is
'_GUID const *'
../../wvgcore.c(617): Note! N631: col(85) target conversion type is
'_GUID const (lvalue)'
make[3]: Leaving directory `c:/harbour/contrib/gtwvg/win/owatcom'
make[2]: Leaving directory `c:/harbour/contrib/gtwvg'
make[1]: Leaving directory `c:/harbour/contrib'


Regards,
Marek Horodyski
From maurilio.longo at libero.it  Thu Feb 19 09:14:03 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 09:14:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10335] trunk/harbour
In-Reply-To: <20090219131847.GA25103@uran.home.aster.pl>
References: <E1LZra1-0004lO-9y@bj8yhf1.ch3.sourceforge.com>	<499D36CD.3050004@libero.it>	<20090219112343.GA23767@uran.home.aster.pl>	<499D4667.7070303@libero.it>	<20090219121514.GA4454@uran.home.aster.pl>	<499D4E82.70808@libero.it>
	<20090219131847.GA25103@uran.home.aster.pl>
Message-ID: <499D692B.5010200@libero.it>

Przemyslaw,

I'm sorry, it still does not work.

mttest04 never ends with a single thread running

 1  200 blocked
 2  200 blocked
 3  200 blocked
 4  200 blocked
 5  200 running
 6  200 blocked

I did not run the other tests.

Maurilio.

Przemyslaw Czerpak wrote:
> 
> I've got it. Yet another stupid typo in _hb_thread_wait_del()
> 
>       if( pWaiting->next == pWaiting->prev )
>          cond->waiters = NULL;
>       else
> 
> and list of waiting threads with two items only was cleared
> instead of deleting only one item. It's a school mistake.
> I really should make some break.
> 
> Please test current SVN repository.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Thu Feb 19 09:22:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 19 09:23:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10346] trunk/harbour
Message-ID: <E1La9nn-00012Q-9L@74yxhf1.ch3.sourceforge.com>

Revision: 10346
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10346&view=rev
Author:   vszakats
Date:     2009-02-19 14:22:58 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-18 15:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    + Added new flags to replace -bldflags[-]:
      -bldf[-] and -bldf=[p][c][l]. We can pass any combinations
      to the latter. '-bldf=' is the same as '-bldf-'.
    + Added hbcplr to liblists (both static and shared).
    + Added infrastructure to allow for any kind of logic
      to detect compilers (not just PATH search for .exe).
      We should however very carefully use such methods
      to keep detection precize, predictable. For now I'd like 
      to hear about misdetections using current system.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Feb 19 09:23:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 09:23:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10344] trunk/harbour
In-Reply-To: <22100950.post@talk.nabble.com>
References: <E1La8IG-0003Fp-JW@bj8yhf1.ch3.sourceforge.com>
	<22100950.post@talk.nabble.com>
Message-ID: <18d502870902190623g499faf3cg75e49a234f766896@mail.gmail.com>

Thanks for the tip Petr, I'll lay the infrastructure for this.
But before we add anything like this, I'd like to hear about
misdetections or actual problems with current method.

Brgds,
Viktor

On Thu, Feb 19, 2009 at 2:57 PM, Petr Chornyj <myorg63@mail.ru> wrote:

>
>
>
> vszakats wrote:
> >
> > Revision: 10344
> >
> >
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10344&view=rev
> > Author:   vszakats
> > Date:     2009-02-19 12:46:19 +0000 (Thu, 19 Feb 2009)
> >
> > Log Message:
> > -----------
> > 2009-02-18 13:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >      ! Fixed ordering of compiler autodetection because f.e. owatcom
> >       bin dir holds a 'cl.exe', which made hbmk2 falsely detect msvc.
> >
> >
>
> For OpenWatcom autodetection we can use very simple way (on DOS, OS/2,
> Win32
> at last)
> from WATCOM\readme.txt
>
> "For proper operation the Open Watcom compilers require few environment
> variables to be set up correctly. These variables differ slightly depending
> on the host platform (DOS, OS/2, Win32). The common variables are:
>  ..
>  - WATCOM   - points to the directory where Open Watcom is installed
>              and is used by various Open Watcom tools to locate files
>  .."
>
> I think we can use this behavior
>
> Regards, Petr
>
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10344--trunk-harbour-tp22099877p22100950.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/df0cff8e/attachment.html
From harbour.01 at syenar.hu  Thu Feb 19 09:24:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 09:24:46 2009
Subject: [Harbour] Log from build.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>
References: <609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>
Message-ID: <18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>

Hi Marek,
As for hbmk2, pls try again after:
2009-02-18 13:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

Brgds,
Viktor

On Thu, Feb 19, 2009 at 3:11 PM, Horodyski Marek (PZUZ) <
M.Horodyski@pzuzycie.com.pl> wrote:

> >-----Original Message-----
> >From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
> >Sent: Thursday, February 19, 2009 11:37 AM
> >To: Harbour Project Main Developer List.
> >Subject: Re: [Harbour] Log from build.
> >
> >Hi Marek
> >please use the -trace option and post  your outputs.
>
>
> Here is todays log :
>
> c:\harbour>make_gnu.bat clean
>
> c:\harbour>make_gnu.bat
> make[3]: *** [wvgcore.obj] Error 8
> make[2]: *** [descend] Error 2
> make[1]: *** [gtwvg] Error 2
> make: *** [contrib] Error 2
>
> c:\harbour>make_gnu.log install
>
> c:\harbour>make_gnu.bat install
> make[1]: [install] Error 1 (ignored)
> make[3]: *** [wvgcore.obj] Error 8
> make[2]: *** [descend] Error 2
> make[1]: *** [gtwvg.inst] Error 2
> make: *** [contrib.inst] Error 2
>
>
>
> c:\harbour\tests>hbmk_ow cls_test
> Harbour Make 1.1.0dev (Rev. 10338)
> Copyright (c) 1999-2009, Viktor Szakats
> http://www.harbour-project.org/
>
> hbmk: Using Harbour: C:\harbour\bin C:\harbour\include C:\harbour\lib
> Open Watcom Linker Version 1.8
> Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
> Source code is available under the Sybase Open Watcom Public License.
> See http://www.openwatcom.org/ for details.
> Error! E2093: cannot open C:\TEMP\2k5mce
> hbmk: Error: Running linker. 1: 'wlink @C:\TEMP\2k5mce'
> Press any key to continue...^C // <----- here hangs batch process.
>
>
> c:\harbour\tests>hbmk_ow -trace cls_test
> Harbour Make 1.1.0dev (Rev. 10338)
> Copyright (c) 1999-2009, Viktor Szakats
> http://www.harbour-project.org/
>
> hbmk: Using Harbour: C:\harbour\bin C:\harbour\include C:\harbour\lib
> hbmk: Harbour compiler command: 'C:\harbour\bin\harbour.exe cls_test -n
> -q0 -iC:\harbour\include'
> hbmk: C compiler command: 'wpp386 -j -w3 -5s -5r -fp5 -oxehtz -zq -zt0
> -mf -bt=NT   cls_test.c'
> hbmk: Linker command: 'wlink @C:\TEMP\5z4fqp'
> hbmk: Linker script: '-j -w3 -5s -5r -fp5 -oxehtz -zq -zt0 -mf -bt=NT
> cls_test.c'
> Open Watcom Linker Version 1.8
> Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
> Source code is available under the Sybase Open Watcom Public License.
> See http://www.openwatcom.org/ for details.
> Error! E2093: cannot open C:\TEMP\5z4fqp
> hbmk: Error: Running linker. 1: 'wlink @C:\TEMP\5z4fqp'
> Press any key to continue...
>
>
> And ends of make_gnu.log file :
>
> C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
> ../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to
> type of cast
> ../../wvgcore.c(176): Note! N630: col(81) source conversion type is
> '_GUID const *'
> ../../wvgcore.c(176): Note! N631: col(81) target conversion type is
> '_GUID const (lvalue)'
> ../../wvgcore.c(213): Error! E306: col(90) cannot convert expression to
> type of cast
> ../../wvgcore.c(213): Note! N630: col(90) source conversion type is
> '_GUID const *'
> ../../wvgcore.c(213): Note! N631: col(90) target conversion type is
> '_GUID const (lvalue)'
> ../../wvgcore.c(617): Error! E306: col(85) cannot convert expression to
> type of cast
> ../../wvgcore.c(617): Note! N630: col(85) source conversion type is
> '_GUID const *'
> ../../wvgcore.c(617): Note! N631: col(85) target conversion type is
> '_GUID const (lvalue)'
> make[3]: Leaving directory `c:/harbour/contrib/gtwvg/win/owatcom'
> make[2]: Leaving directory `c:/harbour/contrib/gtwvg'
> make[1]: Leaving directory `c:/harbour/contrib'
>
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/9934297d/attachment.html
From vszakats at users.sourceforge.net  Thu Feb 19 09:28:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 19 09:28:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10347]
	trunk/harbour/ChangeLog
Message-ID: <E1La9tH-00019K-KH@74yxhf1.ch3.sourceforge.com>

Revision: 10347
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10347&view=rev
Author:   vszakats
Date:     2009-02-19 14:28:38 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
got the date wrong again. sorry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Feb 19 09:31:59 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb 19 09:32:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10348] trunk/harbour
Message-ID: <E1La9wV-000612-QG@bj8yhf1.ch3.sourceforge.com>

Revision: 10348
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10348&view=rev
Author:   druzus
Date:     2009-02-19 14:31:59 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-19 15:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/thread.c
    ! fixed yest another stupid typo in new OS2 conditional variable
      code

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Thu Feb 19 09:42:30 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 09:42:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10348] trunk/harbour
In-Reply-To: <E1La9wV-000612-QG@bj8yhf1.ch3.sourceforge.com>
References: <E1La9wV-000612-QG@bj8yhf1.ch3.sourceforge.com>
Message-ID: <499D6FD6.30103@libero.it>

Ok, now it works, all mttest?? do work ok and even speedtst --thread=40
reaches the end.

Thank you so much!

Maurilio.

druzus@users.sourceforge.net wrote:
> Revision: 10348
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10348&view=rev
> Author:   druzus
> Date:     2009-02-19 14:31:59 +0000 (Thu, 19 Feb 2009)
> 
> Log Message:
> -----------
> 2009-02-19 15:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/source/vm/thread.c
>     ! fixed yest another stupid typo in new OS2 conditional variable
>       code
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/source/vm/thread.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From lorenzo.fiorini at gmail.com  Thu Feb 19 09:43:38 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 19 09:43:43 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <18d502870902190557m6958c468i2c1722f978ef291e@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
	<20090219040328.GA15121@uran.home.aster.pl>
	<18d502870902190155m39ac35d6v9f2bd5bf611413be@mail.gmail.com>
	<9257026e0902190350n17aa0144vd546b5281fa501d7@mail.gmail.com>
	<18d502870902190518j6a2ab767p43f29d3f6ff48d2c@mail.gmail.com>
	<9257026e0902190541k177b37ecgcc2b649276a45951@mail.gmail.com>
	<18d502870902190557m6958c468i2c1722f978ef291e@mail.gmail.com>
Message-ID: <9257026e0902190643t3b52071ey7394d306bf1b00da@mail.gmail.com>

On Thu, Feb 19, 2009 at 2:57 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I hope you're not serious telling this to me ;)

As I told you, english can be "dangerous", but unfortunately my german
and my spanish are even worse.

> Certain logic is spanning across several different files,
> which makes maintenance difficult. It also causes that
> some behaviour is difficult to check for consistency across
> all platforms. User settings are hidden inside these files,
> and their availability is tool/platform dependent.

Sorry I still don't see any real problem.
The number of the files says nothing about the quality of a solution.
1 big file, many small files? It depends.

What I can say is that today I can do:

svn co http://harbour.....

<install dependences>
<set HB_* with my paths>

./make_gnu.sh install

in Ubuntu, Fedora, OpenSuse, Centos, WinXP with msys/mingw and OSX
Leopard 10.5 with MacPorts and I get Harbour built and installed.

I can't see anything simpler.

I can also understand that msys/mingw cannot be imposed as requirement
under Win and that batch files are not a good solution but that's
nothing to do with *nix.

best regards,
Lorenzo
From mbelgrano at deltain.it  Thu Feb 19 09:51:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 19 09:51:21 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <9257026e0902190643t3b52071ey7394d306bf1b00da@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
	<20090219040328.GA15121@uran.home.aster.pl>
	<18d502870902190155m39ac35d6v9f2bd5bf611413be@mail.gmail.com>
	<9257026e0902190350n17aa0144vd546b5281fa501d7@mail.gmail.com>
	<18d502870902190518j6a2ab767p43f29d3f6ff48d2c@mail.gmail.com>
	<9257026e0902190541k177b37ecgcc2b649276a45951@mail.gmail.com>
	<18d502870902190557m6958c468i2c1722f978ef291e@mail.gmail.com>
	<9257026e0902190643t3b52071ey7394d306bf1b00da@mail.gmail.com>
Message-ID: <609353e70902190651p3d6d0a44h3fe91fa193af2fab@mail.gmail.com>

Is possible  made an harbour-updater written in harbour with tips for make
more simple operation?

2009/2/19 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>:
> On Thu, Feb 19, 2009 at 2:57 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>
>> I hope you're not serious telling this to me ;)
>
> What I can say is that today I can do:
>
> svn co http://harbour.....
>
> <install dependences>
> <set HB_* with my paths>
>
> ./make_gnu.sh install
>
> in Ubuntu, Fedora, OpenSuse, Centos, WinXP with msys/mingw and OSX
> Leopard 10.5 with MacPorts and I get Harbour built and installed.


-- 
Massimo Belgrano
From M.Horodyski at pzuzycie.com.pl  Thu Feb 19 09:59:41 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Feb 19 09:59:47 2009
Subject: [Harbour] Log from build.
In-Reply-To: <18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>

________________________________

	From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
	Sent: Thursday, February 19, 2009 3:25 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] Log from build.
	
	
	Hi Marek, 
	
	
	As for hbmk2, pls try again after:
	2009-02-18 13:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
	
	
	Brgds,
	Viktor
	 

I use nigtly zip file. In changelog from this file near hbmk2 I see :
 
2009-02-18 22:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * ChangeLog
  * utils/hbmk/hbmk2.prg
    * TODOs moved to source file.
    + Added hbp comment syntax to help screen.
 
  * config/win/install.cf
    ! Reverted previous fix (with xcopy) and replaced with
      official method to suppress return value.
 
and in header :
 
/*
 * $Id: ChangeLog 10338 2009-02-18 22:35:06Z vszakats $
 */
 
/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name (your_email address)
   For example:
   2009-12-31 13:59 UTC+0100 Foo Bar (foo.bar foobar.org)
*/
 
Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Thu Feb 19 10:02:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 10:02:48 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <9257026e0902190643t3b52071ey7394d306bf1b00da@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
	<20090219040328.GA15121@uran.home.aster.pl>
	<18d502870902190155m39ac35d6v9f2bd5bf611413be@mail.gmail.com>
	<9257026e0902190350n17aa0144vd546b5281fa501d7@mail.gmail.com>
	<18d502870902190518j6a2ab767p43f29d3f6ff48d2c@mail.gmail.com>
	<9257026e0902190541k177b37ecgcc2b649276a45951@mail.gmail.com>
	<18d502870902190557m6958c468i2c1722f978ef291e@mail.gmail.com>
	<9257026e0902190643t3b52071ey7394d306bf1b00da@mail.gmail.com>
Message-ID: <18d502870902190702g384a9c6bkd0f59a6375024061@mail.gmail.com>

>
> Sorry I still don't see any real problem.
> The number of the files says nothing about the quality of a solution.
> 1 big file, many small files? It depends.


Scattering logic for one feature to several independent
places can work, it's just error prone and much more
difficult to prove (test) that it works in all situations. Not
good practice, and in our case it's just the result of
10 years of continuous development, without ever revising
the whole topic in one.


> ./make_gnu.sh install
>
> in Ubuntu, Fedora, OpenSuse, Centos, WinXP with msys/mingw and OSX
> Leopard 10.5 with MacPorts and I get Harbour built and installed.
>
> I can't see anything simpler.


My intention is to keep it exactly like this.


> I can also understand that msys/mingw cannot be imposed as requirement
> under Win and that batch files are not a good solution but that's
> nothing to do with *nix.


It has, since we're heading to have one common make system, and
that is the GNU make. GNU make on Windows/DOS/OS/2, works also
without sh/msys, and we should do our best to keep as much logic
and features common, as possible. So for example if I wanted to create
GLSLN on Windows, I couldn't, or maybe I could, but differently. And
this is so for all features which depend on logic stored in .sh files,
instead of the Makefiles.

It's not just .sh files, it's logic inside Makefiles. If we have duplicated
logic and hidden relationships, it's easy to do a mistake or forget to
apply a modification to another required place.

See for example the GT defaulting logic we had in the past. I've
cleaned it, and it not only made things simpler to maintain,
understand, but also cleared some existing contradictions and
unsynced elements:

Here they are:
2008-09-25 00:22 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
2008-09-24 17:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
2008-09-24 12:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
2008-09-24 12:12 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
2008-09-24 02:26 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
2008-09-24 01:37 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/3b4a4aa3/attachment.html
From harbour.01 at syenar.hu  Thu Feb 19 10:21:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 10:21:51 2009
Subject: [Harbour] Log from build.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
References: <18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
Message-ID: <18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>

This is from yesterday. You'll have wait for the next nightly.
Brgds,
Viktor

2009/2/19 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

> ________________________________
>
>        From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
>         Sent: Thursday, February 19, 2009 3:25 PM
>         To: Harbour Project Main Developer List.
>        Subject: Re: [Harbour] Log from build.
>
>
>         Hi Marek,
>
>
>        As for hbmk2, pls try again after:
>        2009-02-18 13:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>
>
>        Brgds,
>        Viktor
>
>
> I use nigtly zip file. In changelog from this file near hbmk2 I see :
>
> 2009-02-18 22:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * ChangeLog
>  * utils/hbmk/hbmk2.prg
>    * TODOs moved to source file.
>    + Added hbp comment syntax to help screen.
>
>  * config/win/install.cf
>    ! Reverted previous fix (with xcopy) and replaced with
>      official method to suppress return value.
>
> and in header :
>
> /*
>  * $Id: ChangeLog 10338 2009-02-18 22:35:06Z vszakats $
>  */
>
> /* Use this format for the entry headers:
>   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name (your_email address)
>   For example:
>   2009-12-31 13:59 UTC+0100 Foo Bar (foo.bar foobar.org)
> */
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/e0f4ba05/attachment.html
From vszakats at users.sourceforge.net  Thu Feb 19 10:45:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 19 10:45:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10349] trunk/harbour
Message-ID: <E1LaB5A-00054V-CZ@d5vjzd1.ch3.sourceforge.com>

Revision: 10349
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10349&view=rev
Author:   vszakats
Date:     2009-02-19 15:44:59 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-19 16:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk/hbmk2.prg
    + Added object archive support for (currently) gcc compilers.
      .a file are gathered like .o files, and they can be added
      to the internal command line templates using the {OA} macro.
      I've added these after {O} macros in gcc cmdlines.
      (Przemek's request #9. Please review.)
    * Minor internal change to system location detection.

  * harbour-win-spec
  * harbour-wce-spec
  * harbour.spec
  * mpkg_tgz.sh
    % Removed -r make flags. No longer needed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_tgz.sh
    trunk/harbour/utils/hbmk/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb 19 10:59:35 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 19 10:54:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10348] trunk/harbour
In-Reply-To: <499D6FD6.30103@libero.it>
References: <E1La9wV-000612-QG@bj8yhf1.ch3.sourceforge.com>
	<499D6FD6.30103@libero.it>
Message-ID: <20090219155935.GA22418@uran.home.aster.pl>

On Thu, 19 Feb 2009, Maurilio Longo wrote:

Hi Maurilio,

> Ok, now it works, all mttest?? do work ok and even speedtst --thread=40
> reaches the end.
> Thank you so much!

Thank you for confirmation. Now it should work keeping the exact pthreads
semantic but there is one important note for developers which want
to use hb_threadCond{Singnal|Broadcast}() functions. They have to be
called protected by the mutex used in hb_threadCond[Timed]Wait().
Some pthreads implementation also have such limitation. I can eliminate
it but with the cost of aditonal mutex which will slow down the whole
code so I'd preffer to keep it as it and document the current behavior.
It should not be big problem for anyone. In 99% of cases it's important
to only check the order of instruction and instead of:
   hb_threadLeaveCriticalSection();
   hb_threadCondSignal();
programer always have to use:
   hb_threadCondSignal();
   hb_threadLeaveCriticalSection();

This last typo was a mistake in my previous fix:
Instead of:
      if( pWaiting == cond->waiters )
         cond->waiters = NULL;
I wrote:
      if( pWaiting == cond->waiters )
         pWaiting = NULL;

Grrr... Enough. It's time to make some other thing for few weeks.
I hope that nothing critical will appear. Please make some tests
with OS2 builds and if you will find anything else then please
inform me.

best regards,
Przemek
From maurilio.longo at libero.it  Thu Feb 19 11:04:24 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 11:04:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10348] trunk/harbour
In-Reply-To: <499D6FD6.30103@libero.it>
References: <E1La9wV-000612-QG@bj8yhf1.ch3.sourceforge.com>
	<499D6FD6.30103@libero.it>
Message-ID: <499D8308.7050706@libero.it>

I've done a little test

speedtst --thread=50

takes 93,98 secs with current code and 93,16 with previous, so current code is
 as efficient as previous :)

Maurilio.


Maurilio Longo wrote:
> Ok, now it works, all mttest?? do work ok and even speedtst --thread=40
> reaches the end.
> 
> Thank you so much!
> 
> Maurilio.
> 
> druzus@users.sourceforge.net wrote:
>> Revision: 10348
>>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10348&view=rev
>> Author:   druzus
>> Date:     2009-02-19 14:31:59 +0000 (Thu, 19 Feb 2009)
>>
>> Log Message:
>> -----------
>> 2009-02-19 15:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>>   * harbour/source/vm/thread.c
>>     ! fixed yest another stupid typo in new OS2 conditional variable
>>       code
>>
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/source/vm/thread.c
>>
>>
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Thu Feb 19 11:12:35 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 11:12:46 2009
Subject: [Harbour] uhttpd 
Message-ID: <499D84F3.40100@libero.it>

Hi,

I've built uhttpd on OS/2 using inet, it works ok, but every new connection
uses 4 Kb of memory, more or less, which is not freed until after the process
ends.

Question: did anybody make some test with uhttpd build with inet on windows?
did he experienced such 'memory leaks'?

I'm not sure it is a memory leak, but memory keeps getting consumed, I've
reached 2000 refreshes of index.html using more or less 16Mb or ram.

Best regards.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From a.jurkiewicz at abix.info.pl  Thu Feb 19 11:22:34 2009
From: a.jurkiewicz at abix.info.pl (ABIX Adam Jurkiewicz)
Date: Thu Feb 19 11:22:39 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D1B0@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D1B0@PINK.zycie.pzu>
Message-ID: <499D874A.6050105@abix.info.pl>

Horodyski Marek (PZUZ) pisze:

> On Windows and Linx works DosNawigator. For my better than MC (edito like in ME).
Cool, do you know, why keyboard does not work under linux ?

Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj
Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3282 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/c15ed4c5/smime.bin
From mbelgrano at deltain.it  Thu Feb 19 11:25:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 19 11:25:44 2009
Subject: [Harbour] uhttpd
In-Reply-To: <499D84F3.40100@libero.it>
References: <499D84F3.40100@libero.it>
Message-ID: <609353e70902190825i62c96abcu80d99e95d6e90146@mail.gmail.com>

if you post a sample i will try on windows (uhttpd with inet)

2009/2/19 Maurilio Longo <maurilio.longo@libero.it>:
> Hi,
>
> I've built uhttpd on OS/2 using inet, it works ok, but every new connection
> uses 4 Kb of memory, more or less, which is not freed until after the process
> ends.
>
> Question: did anybody make some test with uhttpd build with inet on windows?
> did he experienced such 'memory leaks'?
>
> I'm not sure it is a memory leak, but memory keeps getting consumed, I've
> reached 2000 refreshes of index.html using more or less 16Mb or ram.
>
> Best regards.
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From maurilio.longo at libero.it  Thu Feb 19 11:41:29 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 11:41:38 2009
Subject: [Harbour] uhttpd
In-Reply-To: <609353e70902190825i62c96abcu80d99e95d6e90146@mail.gmail.com>
References: <499D84F3.40100@libero.it>
	<609353e70902190825i62c96abcu80d99e95d6e90146@mail.gmail.com>
Message-ID: <499D8BB9.9000806@libero.it>

A sample?

I simply query  http://ip-of-pc-with-uhttpd/index.html  from a different pc,
on the pc with the uhttpd server memory keeps going down.

I've rebuilt without HB_FM_STATISTICS_OFF but when uhttpd stops it does not
show leaked memory blocks.

Maurilio.



Massimo Belgrano wrote:
> if you post a sample i will try on windows (uhttpd with inet)
> 
> 2009/2/19 Maurilio Longo <maurilio.longo@libero.it>:
>> Hi,
>>
>> I've built uhttpd on OS/2 using inet, it works ok, but every new connection
>> uses 4 Kb of memory, more or less, which is not freed until after the process
>> ends.
>>
>> Question: did anybody make some test with uhttpd build with inet on windows?
>> did he experienced such 'memory leaks'?
>>
>> I'm not sure it is a memory leak, but memory keeps getting consumed, I've
>> reached 2000 refreshes of index.html using more or less 16Mb or ram.
>>
>> Best regards.
>>
>> --
>>  __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Thu Feb 19 12:03:13 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 19 11:58:04 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <18d502870902190202r14d56c9am4c1826a4c852a170@mail.gmail.com>
References: <20090219004352.GA32330@uran.home.aster.pl>
	<18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>
	<20090219050129.GB15121@uran.home.aster.pl>
	<18d502870902190202r14d56c9am4c1826a4c852a170@mail.gmail.com>
Message-ID: <20090219170313.GA28736@uran.home.aster.pl>

On Thu, 19 Feb 2009, Szak?ts Viktor wrote:

Hi,

> I know, but this isn't a Linux tool :) For Linux it isn't hardcoded,
> just the default is set to gcc. You can set it just like for hbmk
> script HB_COMPILER=gpp|owatcom. The new command

For hbmk script I do not have to set anything because it's build
dynamically in install phase from user settings.

> line switch is fine and I wanted to add it, but under the name of
> -comp= (-cc is occupied already for mode setting). Also -arch=
> should be added. I'll do these.

I think that here we have yet another mistake. Probably someone send
you some very old hbcc description. In RPMs and in doc/howtobld.txt
we have:
,---------------------------------------------------------------------
| "hbcc" is a wrapper to the C compiler only. It sets all flags
| and paths necessary to compile .c files which include Harbour header
| files. The result of its work is an object file.
`---------------------------------------------------------------------

> I'll add -info switch which will control currend OutStd()
> messages, these will be kept 'on' until we test hbmk,
> later turned off. -q will disable informational messages
> + logo.

But -q is also harbour compiler switch so I cannot control them
separately.

> >   // t.prg
> >   ? "Hello World!!!"
> > hbmk t && ./t
> Is this also true on Windows? all compilers? I'd love to
> see it working like this on all platforms/compilers, and in
> this case we can safely remove -n.

It is and always was in the whole [x]Harbour history I remember.

> What about the -n1 situation? Is it possible to add those
> discussed changes?

I think that we should finish one thing 1-st. I have not idea what will
be the final result of hbmk2.prg usage in different platform and for
cross compilation so I'd prefer to leave it as is.

> Which it does, but it was so obvious I didn't include
> in my answer.

It's very hard to guess what is obvious for you.
-n and -q wasn't for me.
Just like this:
   TODO: Add support for wildcarded input source.
         Only if only one source file is specified.
is obvious technical nonsense for *nix users ;-)

> We had hbcc, hbcmp, hblnk and hbmk scripts so far.
> Now we have hbmk program, which has -cc, -cmp,
> -lnk (not yet committed) switches to emulate the
> above modes, even more, there is autodetection for
> these modes based on argv[0].

Here we should also add something to change path base path
logic detection because link can be in different directories
then hmmk2 binaries. We should add support for passing some
build time switches, f.e. we have to decode HB_PCRE_REGEX
and HB_EXT_ZLIB build time macros to use native platform pcre
and zlib binaries.
Probably hbmk2.prg auto detection logic should be changed.
1. default compile time mode - used by 99% of users which
   strictly keep the same platform and C compiler as the
   one used to create hbmk2 binaries. It's very seldom
   situation when user will want to use harbour.exe/hbmk2.exe
   compiled by different C compiler then the one used to compile
   harbour libraries. Such situation happens only during cross
   compilation. In fact also using different C compiler for the
   same platform should be treated as some type of cross compilation
   because binary libraries in most of cases cannot be moved between
   compilers and even if final executable files can be created then
   there is very big chance that it will be corrupted due to difference
   in CRTLs. I also do not believe that many users will try to collect
   manually final Harbour installation from two different binary builds
   and hbmk2.exe will come from the 1-st one and libraries from the second
   one. It's unusual situation and any auto detection which will prefer it
   will only create more troubles by sporadic wrong compiler detection
   due to differences in environment settings.
   In this mode hbmk2.prg should fully respect compile time macros
   like HB_PCRE_REGEX, HB_EXT_ZLIB, HAVE_GPM_H, etc. It may also
   detect default GT driver and not overload it if it's not strictly
   necessary though it's minor feature.
2. support for cross compilation where we can chose other then default
   C compiler.
   In such case it will be also necessary to set different library path
   (in few seldom situations maybe also include path), (un)define some
   harbour compiler macros using -D/-undef: options, set C compiler prefix
   and/or some C compiler options. It will be hard to create full
   auto detection for all possible combinations so user will have to
   control each setting manually. To make it easier I suggest to intorduce
   config file which will have sctions like in .ini file. Each section
   will contain full information necessary to pass succesfully cross
   compilation, f.e.:
         [xmingw]
         COMPILER=mingw
         CCPREFIX=/usr/local/bin/i386-mingw32-
         PRGFLAGS=-D__PLATFORM__WINDOWS -undef:__PLATFORM__UNIX -undef:__PLATFORM__LINUX
         ...
   such file is easy to edit and it's not necessary to hard code all
   information in different make file. It's also easy to copy and update
   on different computer for different configuration. It's single file so
   setting new environment is much easier. I hate when I have to update
   xxx files and I forgot about some of them. After setting user can
   easy specify 'xmingw' in some hbmk2 parameter and work with new
   environment.

> I only assume the
> real-life purpose of cc/cmp/lnk modes, as I've never
> used or need them, that they are intended to be used
> in make scripts and hbmk to be used manually.

I do not see any reason why we have to hard code such limitation
and forbid users to use hbmk also in make scripts. For me it's the
main job of such tool and I do not expect that we will create make
system comparable to GNU make in the nearest future.

> At least for typical uses. Hence we can tailor the
> verbosity defaults based on the mode of operation
> to make a best fit for typical usage of given mode.

yes.

> [ I may change -cc/-cmp switches to -mode=<mode>
> because -lnk collides with -l switch and it impossible
> to pass lib named 'nk'. ]

Yes, all hbmk switches should be added with careful to not
reduce possible collisions with parameters of executed compilers.

best regards,
Przemek
From mbelgrano at deltain.it  Thu Feb 19 11:59:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 19 11:59:47 2009
Subject: [Harbour] uhttpd
In-Reply-To: <499D8BB9.9000806@libero.it>
References: <499D84F3.40100@libero.it>
	<609353e70902190825i62c96abcu80d99e95d6e90146@mail.gmail.com>
	<499D8BB9.9000806@libero.it>
Message-ID: <609353e70902190859k3dff28bdw564b7bfb2172ff17@mail.gmail.com>

Sorry i can't.
i not have uhttpd server  and don't know How i write a simple query
Have only windows and harbour


2009/2/19 Maurilio Longo <maurilio.longo@libero.it>:
> A sample?
>
> I simply query  http://ip-of-pc-with-uhttpd/index.html  from a different pc,
> on the pc with the uhttpd server memory keeps going down.
>
> I've rebuilt without HB_FM_STATISTICS_OFF but when uhttpd stops it does not
> show leaked memory blocks.
>
> Maurilio.
>
>
>
> Massimo Belgrano wrote:
>> if you post a sample i will try on windows (uhttpd with inet)
>>
>> 2009/2/19 Maurilio Longo <maurilio.longo@libero.it>:
>>> Hi,
>>>
>>> I've built uhttpd on OS/2 using inet, it works ok, but every new connection
>>> uses 4 Kb of memory, more or less, which is not freed until after the process
>>> ends.
>>>
>>> Question: did anybody make some test with uhttpd build with inet on windows?
>>> did he experienced such 'memory leaks'?
>>>
>>> I'm not sure it is a memory leak, but memory keeps getting consumed, I've
>>> reached 2000 refreshes of index.html using more or less 16Mb or ram.
>>>
>>> Best regards.
>>>
>>> --
>>>  __________
>>> |  |  | |__| Maurilio Longo
>>> |_|_|_|____| farmaconsult s.r.l.
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From maurilio.longo at libero.it  Thu Feb 19 12:13:37 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 19 12:13:46 2009
Subject: [Harbour] uhttpd
In-Reply-To: <609353e70902190859k3dff28bdw564b7bfb2172ff17@mail.gmail.com>
References: <499D84F3.40100@libero.it>	<609353e70902190825i62c96abcu80d99e95d6e90146@mail.gmail.com>	<499D8BB9.9000806@libero.it>
	<609353e70902190859k3dff28bdw564b7bfb2172ff17@mail.gmail.com>
Message-ID: <499D9341.7060708@libero.it>

Massimo,

contrib/examples/uhttpd is the source code, you build it using inet (instead
of socket, which is default), then you start it.

>From a different pc or even the same, open IE, and ask for
localhost/index.html if on the same pc or ip-of-the-other-pc/index.html.

Now keep refreshing it (F5 on windows) and see how much memory it uses in
task-manager.

If it behaves like on OS/2, you'll see more and more memory being used without
it being released even if the server is idle.

Maurilio.

Massimo Belgrano wrote:
> Sorry i can't.
> i not have uhttpd server  and don't know How i write a simple query
> Have only windows and harbour
> 
> 
> 2009/2/19 Maurilio Longo <maurilio.longo@libero.it>:
>> A sample?
>>
>> I simply query  http://ip-of-pc-with-uhttpd/index.html  from a different pc,
>> on the pc with the uhttpd server memory keeps going down.
>>
>> I've rebuilt without HB_FM_STATISTICS_OFF but when uhttpd stops it does not
>> show leaked memory blocks.
>>
>> Maurilio.
>>
>>
>>
>> Massimo Belgrano wrote:
>>> if you post a sample i will try on windows (uhttpd with inet)
>>>
>>> 2009/2/19 Maurilio Longo <maurilio.longo@libero.it>:
>>>> Hi,
>>>>
>>>> I've built uhttpd on OS/2 using inet, it works ok, but every new connection
>>>> uses 4 Kb of memory, more or less, which is not freed until after the process
>>>> ends.
>>>>
>>>> Question: did anybody make some test with uhttpd build with inet on windows?
>>>> did he experienced such 'memory leaks'?
>>>>
>>>> I'm not sure it is a memory leak, but memory keeps getting consumed, I've
>>>> reached 2000 refreshes of index.html using more or less 16Mb or ram.
>>>>
>>>> Best regards.
>>>>
>>>> --
>>>>  __________
>>>> |  |  | |__| Maurilio Longo
>>>> |_|_|_|____| farmaconsult s.r.l.
>>>>
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>>
>> --
>>  __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Thu Feb 19 12:49:09 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 19 12:44:00 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <18d502870902190250l502c442dlf5eaf93103fd4417@mail.gmail.com>
References: <20090219004352.GA32330@uran.home.aster.pl>
	<18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>
	<20090219050129.GB15121@uran.home.aster.pl>
	<18d502870902190250l502c442dlf5eaf93103fd4417@mail.gmail.com>
Message-ID: <20090219174909.GB28736@uran.home.aster.pl>

On Thu, 19 Feb 2009, Szak?ts Viktor wrote:

Hi,

> Right now every filename passed as is (without -l) with the
> extension .a is considered a library. Would it help if hbmk would
> simply handle .a files just like object files? This would mean
> that libs with .a ending must have to be passed with -l to make
> it handled like a library.

Use .a files just like .o ones and pass them to compiler as is.
It will now what to do with them.

> Okay, and also djgpp, as per its .cf file.

Yes it also supports it. DJGPP LD has also uses different initialization
order more similar to the one used by Windows/DOS C compilers.

> > yes, and the conclusion was that we can remove it when we will have
> > hb* tool which can set information about 1-st symbol for HVM at link time.
> > If you do not want to extract this symbol from source code or object
> > files then as alternative you can enable in compiler setting HB_FS_FIRST
> > only for one compiled file (the 1-st one) so we will have only one
> > symbol registered in HVM with this flag.
> Can we have a harbour compiler flag for this?

We will _need_ such flag and hbmk2.prg will enable it to compile the first
file only. If more then one .prg file is given then harbour compiler will
reset this flag after compilation the 1-st one so only this file will have
HB_FS_FIRST set.

> If I understand correctly, currently we have -n which
> makes a FIRST for all compiled .prgs, and we have -n1
> which disabled FIRST for all compiled .prgs. Perhaps
> we should have another flag to enable FIRST only in
> the first .prg.

No. We have -n for compatibility with Clipper -n parameter. When it's
used harbour compiler does not automatically generate procedure with
the same name as file name.
HB_FS_FIRST is added independently to mark 1-st public function/procedure
in generated code. In fact it's redundant because we can guess where
compiler should set it using combination of other flags but it does not change
anything for us. Such detection of startup procedure cannot work well because
it depends on unpredictable for us linker behavior. But it was working for
most of windows linkers so HB_FS_FIRST was added and used. But only in
basic cases and it was still out of our control when it can stop to work
as expected. Such situation happened when users begins to use .DLLs with
PCODE functions. DLLs startup code was executed before the startup code
in user object files and HVM begins to execute wrong functions marked as
HB_FS_FIRST from DLL module instead of user ones. So as workaround for
workaround -n1 one was added. -n1 switch disables setting HB_FS_FIRST
and it's only Harbour extension unsupported by Clipper and windows users
use this switch when they want to create .dll with PCODE modules.

best regards,
Przemek
From teo at windtelsoft.com  Thu Feb 19 13:21:24 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Feb 19 13:27:29 2009
Subject: [Harbour] gtsln / gtcrs revisited
In-Reply-To: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
References: <18d502870902181909s513d2ba3i3b798eee8746490e@mail.gmail.com>
Message-ID: <200902191221.24694.teo@windtelsoft.com>

On Wednesday 18 February 2009 21:09:59 Viktor Szak?ts wrote:
> Hi all,
> After rechecking the situation with gtcrs, gtsln,
> I'd like to ask group whether we could move
> these two GTs to the contrib area.
>
> The reasons are:
> 1) Dependency on optional external libs,
>     with the same issues our contribs have to deal with,
>     but managed by other means, special
>     switches and envvars all deepely embedded
>     into the make system. Most of this could
>     be easily standardized if these would be
>     simple contribs.

There is not reason to do that, these GT's are part of the *nix builds.

>
> 2) Both seems to be superseded by gttrm.

gttrm, gtcrs, gtsln are independent on each other, so there is none similarity 
between them.

>
> [ We can also apply the methods used for
> contribs in their current location, and I plan
> to do this to clean these obscure parts of
> the make system. hbmk would also

IMO the scripts are ok.

> integrate much better if these two wouldn't
> be such exceptions as they currently are. ]
>
> What do you think?


best regards,

Teo

From e.m.giordano at emagsoftware.it  Thu Feb 19 13:40:45 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Feb 19 13:40:51 2009
Subject: [Harbour] Warning
Message-ID: <D68548CB85DD4FC291266162083B6006@emag>

Warning W8080 source\vm\thread.c 1078: 'fResult' is declared but never used 
in function hb_threadWait

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From bedipritpal at hotmail.com  Thu Feb 19 14:01:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 19 14:01:29 2009
Subject: [Harbour] MSVC/BCC with the GNU-make and the future
In-Reply-To: <609353e70902180854i73c4227fw2453d8aba5ff20c0@mail.gmail.com>
References: <18d502870902180818l6293f748h54fa8391b040d2c0@mail.gmail.com>
	<609353e70902180854i73c4227fw2453d8aba5ff20c0@mail.gmail.com>
Message-ID: <22107423.post@talk.nabble.com>


Massimo

Can you send the errors log such as below with latest SVN download.

Pritpal Bedi


Massimo Belgrano-3 wrote:
> 
> i Not able to create gtwvg.lib in c:\harbour\lib
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> ../../gtwvg.c(2132) : warning C4244: '=': conversione da 'int' a 'USHORT'.
> Possibile perdita di dati.
> ../../gtwvg.c(2133) : warning C4244: '=': conversione da 'int' a 'USHORT'.
> Possibile perdita di dati.
> ../../gtwvg.c(2162) : warning C4244: '=': conversione da 'int' a 'USHORT'.
> Possibile perdita di dati.
> ../../gtwvg.c(2163) : warning C4244: '=': conversione da 'int' a 'USHORT'.
> Possibile perdita di dati.
> ../../gtwvg.c(3224) : warning C4244: 'funzione': conversione da 'int' a
> 'BYTE'. Possibile perdita di dati.
> ../../gtwvg.c(3247) : warning C4244: '=': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../gtwvg.c(3252) : warning C4244: '=': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../gtwvg.c(3257) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'.
> Possibile perdita di dati.
> ../../gtwvg.c(3262) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'.
> Possibile perdita di dati.
> ../../gtwvg.c(3267) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'.
> Possibile perdita di dati.
> ../../gtwvg.c(3272) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'.
> Possibile perdita di dati.
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvgcore.c -Fowvgcore.obj
> wvgcore.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvgutils.c -Fowvgutils.obj
> wvgutils.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvgwin.c -Fowvgwin.obj
> wvgwin.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> ../../wvgwin.c(891) : warning C4244: 'funzione': conversione da 'HB_LONG'
> a
> 'DWORD'. Possibile perdita di dati.
> ../../wvgwin.c(894) : warning C4244: 'funzione': conversione da 'HB_LONG'
> a
> 'DWORD'. Possibile perdita di dati.
> ../../wvgwin.c(914) : warning C4244: 'funzione': conversione da 'HB_LONG'
> a
> 'DWORD'. Possibile perdita di dati.
> ../../wvgwin.c(918) : warning C4244: 'funzione': conversione da 'HB_LONG'
> a
> 'UINT_PTR'. Possibile perdita di dati.
> ../../wvgwin.c(1291) : warning C4244: '=': conversione da 'LONG' a
> 'USHORT'.
> Possibile perdita di dati.
> ../../wvgwin.c(1429) : warning C4244: 'funzione': conversione da 'HB_LONG'
> a
> 'UINT'. Possibile perdita di dati.
> ../../wvgwin.c(2060) : warning C4244: 'funzione': conversione da 'int' a
> 'BYTE'. Possibile perdita di dati.
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvgsink.c -Fowvgsink.obj
> wvgsink.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> ../../wvgsink.c(489) : warning C4244: 'funzione': conversione da 'int' a
> 'USHORT'. Possibile perdita di dati.
> ../../wvgsink.c(989) : warning C4305: 'cast di tipo': troncamento da
> 'HB_LONG' a 'HWND'
> ../../wvgsink.c(993) : warning C4305: 'cast di tipo': troncamento da
> 'HB_LONG' a 'IUnknown *'
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvggui.c -Fowvggui.obj
> wvggui.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> ../../wvggui.c(2058) : warning C4244: 'funzione': conversione da 'int' a
> 'BYTE'. Possibile perdita di dati.
> ../../wvggui.c(2080) : warning C4244: '=': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../wvggui.c(2085) : warning C4244: '=': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../wvggui.c(2090) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'.
> Possibile perdita di dati.
> ../../wvggui.c(2095) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'.
> Possibile perdita di dati.
> ../../wvggui.c(2100) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'.
> Possibile perdita di dati.
> ../../wvggui.c(2105) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'.
> Possibile perdita di dati.
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wincallb.c -Fowincallb.obj
> wincallb.c
> ../../wincallb.c(236) : warning C4244: 'funzione': conversione da 'int' a
> 'USHORT'. Possibile perdita di dati.
> ../../wincallb.c(238) : warning C4244: 'funzione': conversione da 'int' a
> 'USHORT'. Possibile perdita di dati.
> ../../wincallb.c(348) : warning C4152: estensione non standard,
> conversione
> di puntatore a funzione/dati nell'espressione
> ../../wincallb.c(374) : warning C4244: '=': conversione da 'int' a 'BYTE'.
> Possibile perdita di dati.
> ../../wincallb.c(375) : warning C4244: '=': conversione da 'int' a 'BYTE'.
> Possibile perdita di dati.
> ../../wincallb.c(376) : warning C4244: '=': conversione da 'int' a 'BYTE'.
> Possibile perdita di dati.
> ../../wincallb.c(391) : warning C4152: estensione non standard,
> conversione
> di puntatore a funzione/dati nell'espressione
> ../../wincallb.c(392) : warning C4244: '=': conversione da 'int' a 'byte'.
> Possibile perdita di dati.
> ../../wincallb.c(393) : warning C4244: '=': conversione da 'int' a 'byte'.
> Possibile perdita di dati.
> c:\harbour\contrib\gtwvg\wincallb.c(608) : warning C4701: utilizzata
> variabile locale 'j' potenzialmente non inizializzata
> ../../../../source/main/win/msvc/harbour.exe ../../wvgclass.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> 

-- 
View this message in context: http://www.nabble.com/MSVC-BCC-with-the-GNU-make-and-the-future-tp22082266p22107423.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From tfonrouge at users.sourceforge.net  Thu Feb 19 14:06:12 2009
From: tfonrouge at users.sourceforge.net (tfonrouge@users.sourceforge.net)
Date: Thu Feb 19 14:06:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10350] trunk/harbour
Message-ID: <E1LaEDs-0007bj-CT@74yxhf1.ch3.sourceforge.com>

Revision: 10350
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10350&view=rev
Author:   tfonrouge
Date:     2009-02-19 19:06:11 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-19 12:59 UTC-0600 Teo Fonrouge (teo/at/windtelsoft/dot/com)
  * common.mak
    * changed HBM_KDIR from "utils\hbmk" to "utils\hbmk2"

  - utils/hbmk
  + utils/hbmk2
    * renamed dir name to fix wrong dir change on gnu scripts: mpkg_tgz.sh
      and the harbour.spec
    ! Fixed dir name error that avoided to build rpms and tgz files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/common.mak

Added Paths:
-----------
    trunk/harbour/utils/hbmk2/

Removed Paths:
-------------
    trunk/harbour/utils/hbmk/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Feb 19 14:08:15 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb 19 14:08:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10351] trunk/harbour
Message-ID: <E1LaEFr-00013b-OT@d5vjzd1.ch3.sourceforge.com>

Revision: 10351
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10351&view=rev
Author:   druzus
Date:     2009-02-19 19:08:14 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-19 20:13 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/thread.c
    * pacified warning

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Thu Feb 19 14:09:17 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Feb 19 14:09:22 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
Message-ID: <D9E881289F09430BB46A61FDA4157002@emag>

Dear friends, I need to place the GET's cursor position to ::nMaxLen + 1. I 
changed the current code from setPos() method

::nPos := iif( ::nMaxLen == 0, 1, ::nMaxLen )

to

::nPos := iif( ::nMaxLen == 0, 1, nPos )

and it seems to work fine.

What is the better way to do this change, other than maintain my personal 
tget.prg?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Thu Feb 19 14:30:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 19 14:30:59 2009
Subject: [Harbour] MSVC/BCC with the GNU-make and the future
In-Reply-To: <22107423.post@talk.nabble.com>
References: <18d502870902180818l6293f748h54fa8391b040d2c0@mail.gmail.com>
	<609353e70902180854i73c4227fw2453d8aba5ff20c0@mail.gmail.com>
	<22107423.post@talk.nabble.com>
Message-ID: <609353e70902191130g295cfcfcs5e62da7efef60dcd@mail.gmail.com>

I have resolved , was a problem due to old files in my repository that
svn update not update

Thanks

Il 19 febbraio 2009 20.01, Pritpal Bedi <bedipritpal@hotmail.com> ha scritto:
>
> Massimo
>
> Can you send the errors log such as below with latest SVN download.
>
> Pritpal Bedi
>
>
> Massimo Belgrano-3 wrote:
>>
>> i Not able to create gtwvg.lib in c:\harbour\lib
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> ../../gtwvg.c(2132) : warning C4244: '=': conversione da 'int' a 'USHORT'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(2133) : warning C4244: '=': conversione da 'int' a 'USHORT'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(2162) : warning C4244: '=': conversione da 'int' a 'USHORT'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(2163) : warning C4244: '=': conversione da 'int' a 'USHORT'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(3224) : warning C4244: 'funzione': conversione da 'int' a
>> 'BYTE'. Possibile perdita di dati.
>> ../../gtwvg.c(3247) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'DWORD'. Possibile perdita di dati.
>> ../../gtwvg.c(3252) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'DWORD'. Possibile perdita di dati.
>> ../../gtwvg.c(3257) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(3262) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(3267) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(3272) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'.
>> Possibile perdita di dati.
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvgcore.c -Fowvgcore.obj
>> wvgcore.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvgutils.c -Fowvgutils.obj
>> wvgutils.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvgwin.c -Fowvgwin.obj
>> wvgwin.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> ../../wvgwin.c(891) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a
>> 'DWORD'. Possibile perdita di dati.
>> ../../wvgwin.c(894) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a
>> 'DWORD'. Possibile perdita di dati.
>> ../../wvgwin.c(914) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a
>> 'DWORD'. Possibile perdita di dati.
>> ../../wvgwin.c(918) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a
>> 'UINT_PTR'. Possibile perdita di dati.
>> ../../wvgwin.c(1291) : warning C4244: '=': conversione da 'LONG' a
>> 'USHORT'.
>> Possibile perdita di dati.
>> ../../wvgwin.c(1429) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a
>> 'UINT'. Possibile perdita di dati.
>> ../../wvgwin.c(2060) : warning C4244: 'funzione': conversione da 'int' a
>> 'BYTE'. Possibile perdita di dati.
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvgsink.c -Fowvgsink.obj
>> wvgsink.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> ../../wvgsink.c(489) : warning C4244: 'funzione': conversione da 'int' a
>> 'USHORT'. Possibile perdita di dati.
>> ../../wvgsink.c(989) : warning C4305: 'cast di tipo': troncamento da
>> 'HB_LONG' a 'HWND'
>> ../../wvgsink.c(993) : warning C4305: 'cast di tipo': troncamento da
>> 'HB_LONG' a 'IUnknown *'
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvggui.c -Fowvggui.obj
>> wvggui.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> ../../wvggui.c(2058) : warning C4244: 'funzione': conversione da 'int' a
>> 'BYTE'. Possibile perdita di dati.
>> ../../wvggui.c(2080) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'DWORD'. Possibile perdita di dati.
>> ../../wvggui.c(2085) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'DWORD'. Possibile perdita di dati.
>> ../../wvggui.c(2090) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'.
>> Possibile perdita di dati.
>> ../../wvggui.c(2095) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'.
>> Possibile perdita di dati.
>> ../../wvggui.c(2100) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'.
>> Possibile perdita di dati.
>> ../../wvggui.c(2105) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'.
>> Possibile perdita di dati.
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wincallb.c -Fowincallb.obj
>> wincallb.c
>> ../../wincallb.c(236) : warning C4244: 'funzione': conversione da 'int' a
>> 'USHORT'. Possibile perdita di dati.
>> ../../wincallb.c(238) : warning C4244: 'funzione': conversione da 'int' a
>> 'USHORT'. Possibile perdita di dati.
>> ../../wincallb.c(348) : warning C4152: estensione non standard,
>> conversione
>> di puntatore a funzione/dati nell'espressione
>> ../../wincallb.c(374) : warning C4244: '=': conversione da 'int' a 'BYTE'.
>> Possibile perdita di dati.
>> ../../wincallb.c(375) : warning C4244: '=': conversione da 'int' a 'BYTE'.
>> Possibile perdita di dati.
>> ../../wincallb.c(376) : warning C4244: '=': conversione da 'int' a 'BYTE'.
>> Possibile perdita di dati.
>> ../../wincallb.c(391) : warning C4152: estensione non standard,
>> conversione
>> di puntatore a funzione/dati nell'espressione
>> ../../wincallb.c(392) : warning C4244: '=': conversione da 'int' a 'byte'.
>> Possibile perdita di dati.
>> ../../wincallb.c(393) : warning C4244: '=': conversione da 'int' a 'byte'.
>> Possibile perdita di dati.
>> c:\harbour\contrib\gtwvg\wincallb.c(608) : warning C4701: utilizzata
>> variabile locale 'j' potenzialmente non inizializzata
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgclass.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>>
>
> --
> View this message in context: http://www.nabble.com/MSVC-BCC-with-the-GNU-make-and-the-future-tp22082266p22107423.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Thu Feb 19 14:35:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 14:35:10 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <D9E881289F09430BB46A61FDA4157002@emag>
References: <D9E881289F09430BB46A61FDA4157002@emag>
Message-ID: <18d502870902191135jaa6d770ubdbb26deb56b3adc@mail.gmail.com>

Is this a Clipper compatibility fix?
Brds,
Viktor

On Thu, Feb 19, 2009 at 8:09 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

> Dear friends, I need to place the GET's cursor position to ::nMaxLen + 1. I
> changed the current code from setPos() method
>
> ::nPos := iif( ::nMaxLen == 0, 1, ::nMaxLen )
>
> to
>
> ::nPos := iif( ::nMaxLen == 0, 1, nPos )
>
> and it seems to work fine.
>
> What is the better way to do this change, other than maintain my personal
> tget.prg?
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/77088396/attachment.html
From vszakats at users.sourceforge.net  Thu Feb 19 14:46:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 19 14:46:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10352] trunk/harbour
Message-ID: <E1LaEqd-0002Ff-TT@d5vjzd1.ch3.sourceforge.com>

Revision: 10352
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10352&view=rev
Author:   vszakats
Date:     2009-02-19 19:46:12 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-19 20:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/Makefile
    ! Fixed broken GNU Make after recent directory rename.

  * utils/hbmk/hbmk2.prg
    * -q switch changed to -quiet to not collide with harbour option
      of the same name.
    + Following C flags will automatically be inheried to
      *nix/gcc|gpp compilers regardless of -bldf flag:
      -mlp64, -mlp32, -m64, -m32, -fPIC, -fpic
    + Following C flags will be automatically processed and
      relevent system libs added:
      -DHB_PCRE_REGEX - pcre
      -DHB_EXT_ZLIB   - z
      -DHAVE_GPM_H    - gpm
    ! Stripping 'lib' prefix from lib names for gcc-family compilers.
    ! Stripping extension from lib names for gcc-family compilers.
    ; Please review.

  * contrib/examples/uhttpd/hbmk.bat
    * .lib extensions removed from HB_USER_LIBS.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/hbmk.bat
    trunk/harbour/utils/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Feb 19 15:23:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 15:23:28 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <20090219170313.GA28736@uran.home.aster.pl>
References: <20090219004352.GA32330@uran.home.aster.pl>
	<18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>
	<20090219050129.GB15121@uran.home.aster.pl>
	<18d502870902190202r14d56c9am4c1826a4c852a170@mail.gmail.com>
	<20090219170313.GA28736@uran.home.aster.pl>
Message-ID: <18d502870902191223q5292f8bcsb09d6d8e58883bde@mail.gmail.com>

Hi Przemek,


> > I know, but this isn't a Linux tool :) For Linux it isn't hardcoded,
> > just the default is set to gcc. You can set it just like for hbmk
> > script HB_COMPILER=gpp|owatcom. The new command
>
> For hbmk script I do not have to set anything because it's build
> dynamically in install phase from user settings.


If this is the preferred method for Linux users, we can easily
do it by extending compiler detection from hb_compiler() and
tweaking the currently static default based on that. How does
this seem for you?


> I think that here we have yet another mistake. Probably someone send
>  you some very old hbcc description. In RPMs and in doc/howtobld.txt
> we have:
> ,---------------------------------------------------------------------
> | "hbcc" is a wrapper to the C compiler only. It sets all flags
> | and paths necessary to compile .c files which include Harbour header
> | files. The result of its work is an object file.
> `---------------------------------------------------------------------


'hbmk -hbcc' will work as you say, given that you don't supply
any .prgs on the command line. If this isn't good enough we
can further tweak it to better emulate hbcc.


> > I'll add -info switch which will control currend OutStd()
> > messages, these will be kept 'on' until we test hbmk,
> > later turned off. -q will disable informational messages
> > + logo.
>
> But -q is also harbour compiler switch so I cannot control them
> separately.


Since harbour was called with -q0 anyway, this didn't
seem like a big problem, anyhow I've changed it to -quiet to
clear this up, and allow us to play with -q0.


> > >   // t.prg
> > >   ? "Hello World!!!"
> > > hbmk t && ./t
> > Is this also true on Windows? all compilers? I'd love to
> > see it working like this on all platforms/compilers, and in
> > this case we can safely remove -n.
>
> It is and always was in the whole [x]Harbour history I remember.


Good then. I remember otherwise from the early times,
and I might have missed something along the way, which
is good. Since we currently have _all_ Harbour tests and
samples using MAIN() entry points, we will have to find
a solution to let these compile easily. .hbp files could
help. If you have a suggestion, I'd appreciate it. [ maybe
entry point detection? ]


> > What about the -n1 situation? Is it possible to add those
> > discussed changes?
>
> I think that we should finish one thing 1-st. I have not idea what will
> be the final result of hbmk2.prg usage in different platform and for
> cross compilation so I'd prefer to leave it as is.


Ok.


> > Which it does, but it was so obvious I didn't include
> > in my answer.
>
> It's very hard to guess what is obvious for you.


Since without -I you don't have a chance to compile
any Harbour .prgs using .ch files, so it should be there,
just like -I for C compiler, I thought this is obvious. You
could have peeked into the source, which I thought you did ;)


> -n and -q wasn't for me.
> Just like this:
>   TODO: Add support for wildcarded input source.
>         Only if only one source file is specified.
> is obvious technical nonsense for *nix users ;-)


What is *nix? :) But seriously, thanks for reminding me,
anyway non-*nix users might find this useful still. The
TODO isn't clear but I meant to generate multiple .exes
in such case. This feature would need quite some work
with not terribly big use except compiling test dirs, so
I'll see, it's not top priority.


> Here we should also add something to change path base path
> logic detection because link can be in different directories
> then hmmk2 binaries. We should add support for passing some


Your help here will be needed here.


> build time switches, f.e. we have to decode HB_PCRE_REGEX
> and HB_EXT_ZLIB build time macros to use native platform pcre
> and zlib binaries.


I've implemented some bits of this. Tell me if something
is missing still.


> Probably hbmk2.prg auto detection logic should be changed.
> 1. default compile time mode - used by 99% of users which
>   strictly keep the same platform and C compiler as the
>   one used to create hbmk2 binaries. It's very seldom
>   situation when user will want to use harbour.exe/hbmk2.exe
>   compiled by different C compiler then the one used to compile


Speaking about non-*nix, to make everyone happy, we can
add a switch to influence autodetection, and allow to turn on
chameleon mode where it would behave like what it was
specifically built for.

Anyhow in prinpical here I very strongly disagree, for non-*nix systems.
I think this is more than unexpected behaviour in this world. I can
understand why you need it on *nix, but here this is completely
alien, I've never ever seen such, maybe with the exception
of some *nix rooted tools, and they've made life very difficult
when working with them, their behaviour very difficult to predict,
just to name two from the life of Harbour: make.exe, bison.exe
for many years. And this is still present with some ported
tools. We shouldn't replicate this with Harbour tools, and
we don't do this for harbour.exe either, very very luckily.


>   harbour libraries. Such situation happens only during cross
>   compilation. In fact also using different C compiler for the
>   same platform should be treated as some type of cross compilation
>   because binary libraries in most of cases cannot be moved between
>   compilers and even if final executable files can be created then
>   there is very big chance that it will be corrupted due to difference
>   in CRTLs. I also do not believe that many users will try to collect

  manually final Harbour installation from two different binary builds
>   and hbmk2.exe will come from the 1-st one and libraries from the second
>   one. It's unusual situation and any auto detection which will prefer it
>   will only create more troubles by sporadic wrong compiler detection
>   due to differences in environment settings.


While I agree with what you say, it's still fundamentally against
all non-*nix tools to do such thing. In this case we should at least
change the name of the .exe to make it clear that while all of them
look the same, feel the same, they indeed completely different tools
internally. Such thing would nix the possibility to put hbmk.exe
in the path and let do it's job neutrally for different Harbour dirs
explicitly specified with HB_INSTALL_PREFIX envvars. Not to
mention the case of simply copying hbmk.exe around to another
build and try to use it there, to much surprise.

So to sum it up I'd propose a switch to select free autodetection
like now, and fixed compiler detection based on build. In this
case I'll remove current hack to prioritize based on build.
For *nix system the build based method will be the default
for non-*nix build the former.

So much for simplicity, but what can we do.

  In this mode hbmk2.prg should fully respect compile time macros
>   like HB_PCRE_REGEX, HB_EXT_ZLIB, HAVE_GPM_H, etc. It may also
>   detect default GT driver and not overload it if it's not strictly
>   necessary though it's minor feature.


Same issue as above. I wouldn't abuse flag inheritance on
non-*nix too much, it's dangerous and not overly useful.
Except for prg flags.

Other than that we can detect these settings and apply for
platforms where this is expected and useful (*nix mostly).
The only current exception is the GT driver, if it was overridden
at build-time. For the GT issue, we can add a hb_version() readout
about the default state, but overall I'm not a big fan of GT override
at build time. After all it can be changed anytime dynamically.
It's like wanting to set the default RDD at build time. It just
creates problems. IMO.


> 2. support for cross compilation where we can chose other then default
>   C compiler.
>   In such case it will be also necessary to set different library path
>   (in few seldom situations maybe also include path), (un)define some
>   harbour compiler macros using -D/-undef: options, set C compiler prefix
>   and/or some C compiler options. It will be hard to create full
>   auto detection for all possible combinations so user will have to
>   control each setting manually. To make it easier I suggest to intorduce
>   config file which will have sctions like in .ini file. Each section
>   will contain full information necessary to pass succesfully cross
>   compilation, f.e.:
>         [xmingw]
>         COMPILER=mingw
>         CCPREFIX=/usr/local/bin/i386-mingw32-
>         PRGFLAGS=-D__PLATFORM__WINDOWS -undef:__PLATFORM__UNIX
> -undef:__PLATFORM__LINUX
>         ...
>   such file is easy to edit and it's not necessary to hard code all
>   information in different make file. It's also easy to copy and update
>   on different computer for different configuration. It's single file so
>   setting new environment is much easier. I hate when I have to update
>   xxx files and I forgot about some of them. After setting user can
>   easy specify 'xmingw' in some hbmk2 parameter and work with new
>   environment.
>

Yes, we need to solve cross compilation. But first I'd
like to clear the non-cross issues simply because I
cannot keep that many open threads in my head :)

For the cross compile thing, we'd need to find some
more generic solution than the current one. Even that
GNU-make settings are a bit unclean.

As for the config file, I'm not sure yet, it really starts
to push hbmk2 on the bloated/complicated side. We should
make it as light as possible and as easy to use as possible,
even for cross compilation. So, I'd prefer to hide cross platform
details (tools, logic) inside hbmk2, if there is any chance
for that. We could initiate a cross build by special arch | compiler
pairs: linux - mingwce, win - msvc64, we already have:
win - mingwce / poccce / pocc64. etc. So I'd try to add these
to the current structure.

Maybe what you say could be a way to override internal
rules in hbmk2. This can be interesting although very advanced,
and it would also need to create smooth easy to reconfigure
rules inside hbmk2. To make rules _fully_ configurable, it
would need a considerable amount of work to do it properly.

So in essence the current hard-wired .prg logic should be
separated to an external rule file + a rule processor.


> I do not see any reason why we have to hard code such limitation
> and forbid users to use hbmk also in make scripts. For me it's the
> main job of such tool and I do not expect that we will create make
> system comparable to GNU make in the nearest future.


We're circling around this topic, I'm not sure why,
probably we're misunderstanding each other. I've already made
several modifications to allow for this type of usage, plus this
was my intention right from the point I realized the need, and
I haven't by any means stated that I'd like to "frobid it". This
is nonsense, I have no idea where did you get this. So after
spending quite a time on it, now we have some modes which
focus on this kind of usage, and there is default mode which
focuses on normal (hbmk.bat-like) usage, and there are switches
to bend behaviour if defaults aren't adequate. Photocopying 100%
hbmk script behaviour isn't an option, as we have to deal with some
more aspect and more platforms, not to mention the possibilities
are also wider, so we should concentrate on what's important. If
you have some specific suggestions what to tweak to clear up
remaining ones, or why does it feel like it "forbids" anything,
please tell, but speaking in general I cannot do much more
than now.

I'd also invite you to try the tool out, I'm not sure if had
already done so :)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/abe8c06e/attachment-0001.html
From harbour.01 at syenar.hu  Thu Feb 19 15:36:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 15:36:38 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <20090219174909.GB28736@uran.home.aster.pl>
References: <20090219004352.GA32330@uran.home.aster.pl>
	<18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>
	<20090219050129.GB15121@uran.home.aster.pl>
	<18d502870902190250l502c442dlf5eaf93103fd4417@mail.gmail.com>
	<20090219174909.GB28736@uran.home.aster.pl>
Message-ID: <18d502870902191236s4c5d3085l10344515fe284651@mail.gmail.com>

Hi Przemek,


> Use .a files just like .o ones and pass them to compiler as is.
> It will now what to do with them.


This is in SVN already. For -l I'm stripping all extensions,
not just dll/so/a. Pls tell if this is a problem, and I'll solve it.


> Yes it also supports it. DJGPP LD has also uses different initialization
> order more similar to the one used by Windows/DOS C compilers.


Okay, this was done.


> We will _need_ such flag and hbmk2.prg will enable it to compile the first
> file only. If more then one .prg file is given then harbour compiler will
> reset this flag after compilation the 1-st one so only this file will have
> HB_FS_FIRST set.


Okay, I'll add this as soon as Harbour gets the support.


> > If I understand correctly, currently we have -n which
> > makes a FIRST for all compiled .prgs, and we have -n1
> > which disabled FIRST for all compiled .prgs. Perhaps
> > we should have another flag to enable FIRST only in
> > the first .prg.
>
> No. We have -n for compatibility with Clipper -n parameter. When it's
> used harbour compiler does not automatically generate procedure with
> the same name as file name.

...

> workaround -n1 one was added. -n1 switch disables setting HB_FS_FIRST
>
and it's only Harbour extension unsupported by Clipper and windows users
> use this switch when they want to create .dll with PCODE modules.


Okay, thanks.

Let me include here our conversation from autumn I was referring to,
back then the situations looked cleaner than what it seems now:

---- 2008 november:
-- vszakats says:
Now I have to change the build process to use HARBOURFLAGSLIB
and HARBOURFLAGSEXE instead of current HARBOURFLAGS and
HARBOURFLAGSDLL, the difference between them is -n1 option
vs -n. Executables should use -n, libs (.dll and .lib)
should use -n1.

-- druzus says:
It's enough to add support for MAIN() as default startup function
when non of functions is declared with HB_FS_FIRST and make all
builds with -n1.
We can also define that when MAIN() exists it's an application
entry point instead of symbol defined with HB_FS_FIRST. It will
have higher priority. In such case we can remove -n1 flag.
Choose what you prefer and I'll implement it.

-- vszakats says:
I like the second one better, as it clears the ambiguity
and even the requirement to use -n switch when someone
defines MAIN(). So there would be one thing less to worry
about. First choice however is more Clipper compatible,
so IMO we should do it.

-- druzus says:
Please remember that current support for startup function
is a hack which works only with few C compilers and even
for them does not work correctly in all cases and we had
to add yet another hack: -n1 switch which disable it for
DLLs because DLL functions where registered before normal
functions and 1-st dll function was used as startup one.
Now we have two different behaviors which may cause portability
problems for Harbour code and this is probably even bigger
problem then strict Clipper compatibility.
This problem cannot be resolved at compile time. To make it
well we need linker wrapper which will extract first Harbour
function from linked modules and mark it as startup one.
I added such functionality to hb* scripts and this is the
only one method which works in all conditions and does not
dependent on the order of init code execution.
Anyhow it works only for GCC. For backward compatibility
with older Harbour code I gave main() higher priority then
1-st linked function but it can be removed. This feature
exists for many years and works well. So far no one reported
that it's a problem. I think it should be default for all
platforms/C compilers.

-- vszakats says:
Okay with me. Any solution which closes platform,
compiler, build-system differences is superior. It
would be also nice to remove the hb* script hack if
possible.

-- druzus says:
BTW If we want to keep -n1 then it should be changed to -n2
and simply -n1 should be the same as -n and -n0 should work
like -n- to make it compatible with other switches.

-- vszakats says:
No, if possible let's please remove -n1 and keep only -n/-n-.
----

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/3b7bf6dd/attachment.html
From harbour.01 at syenar.hu  Wed Feb 18 12:20:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 15:45:09 2009
Subject: [Harbour] MSVC/BCC with the GNU-make and the future
In-Reply-To: <609353e70902180854i73c4227fw2453d8aba5ff20c0@mail.gmail.com>
References: <18d502870902180818l6293f748h54fa8391b040d2c0@mail.gmail.com>
	<609353e70902180854i73c4227fw2453d8aba5ff20c0@mail.gmail.com>
Message-ID: <18d502870902180920s2e82ec80jcdd7354d1d44a278@mail.gmail.com>

It's created, but it's not installed, since your script is still wrong.
You've added 'cd \harbour', which broke the HB_INSTALL_PREFIX
setting.

Either remove 'cd \harbour' and run the script from the
harbour root dir, as I've recommended here a few times,
or tweak
'set HB_INSTALL_PREFIX=%~dp0'
to
'set HB_INSTALL_PREFIX=%~dp0\harbour'
or set it manually to an explicit dir of your choice.

But I didn't test this, so if it doesn't work please do
some experiments with setting up the install dirs.

Brgds,
Viktor

On Wed, Feb 18, 2009 at 5:54 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

>
> i Not able to create gtwvg.lib in c:\harbour\lib
> ---------------
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
> set path=c:\devl\mingw32-make;%path%
> cd \harbour
> set HB_ARCHITECTURE=win
> set HB_COMPILER=msvc
> set HB_INSTALL_PREFIX=%~dp0
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> make clean > nul
> make install -r >MAKE_GNU.LOG
>
>
> -----------------scrach from MAKE_GNU.LOG
> make[1]: Entering directory `C:/harbour/contrib'
> make -C gtwvg install
> make[2]: Entering directory `C:/harbour/contrib/gtwvg'
>
> C:\harbour\contrib\gtwvg>if not exist win\. md win
>
> C:\harbour\contrib\gtwvg>if not exist win\msvc\. md win\msvc
>
> C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\. md ..\..\lib\win
>
> C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\msvc\. md
> ..\..\lib\win\msvc
>
> C:\harbour\contrib\gtwvg>if not exist win\. md win
>
> C:\harbour\contrib\gtwvg>if not exist win\msvc\. md win\msvc
>
> C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\. md ..\..\lib\win
>
> C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\msvc\. md
> ..\..\lib\win\msvc
> make[3]: Entering directory `C:/harbour/contrib/gtwvg/win/msvc'
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../gtwvg.c -Fogtwvg.obj
> gtwvg.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> ../../gtwvg.c(2132) : warning C4244: '=': conversione da 'int' a 'USHORT'.
> Possibile perdita di dati.
> ../../gtwvg.c(2133) : warning C4244: '=': conversione da 'int' a 'USHORT'.
> Possibile perdita di dati.
> ../../gtwvg.c(2162) : warning C4244: '=': conversione da 'int' a 'USHORT'.
> Possibile perdita di dati.
> ../../gtwvg.c(2163) : warning C4244: '=': conversione da 'int' a 'USHORT'.
> Possibile perdita di dati.
> ../../gtwvg.c(3224) : warning C4244: 'funzione': conversione da 'int' a
> 'BYTE'. Possibile perdita di dati.
> ../../gtwvg.c(3247) : warning C4244: '=': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../gtwvg.c(3252) : warning C4244: '=': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../gtwvg.c(3257) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
> Possibile perdita di dati.
> ../../gtwvg.c(3262) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
> Possibile perdita di dati.
> ../../gtwvg.c(3267) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
> Possibile perdita di dati.
> ../../gtwvg.c(3272) : warning C4244: '=': conversione da 'HB_LONG' a 'int'.
> Possibile perdita di dati.
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvgcore.c -Fowvgcore.obj
> wvgcore.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvgutils.c -Fowvgutils.obj
> wvgutils.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvgwin.c -Fowvgwin.obj
> wvgwin.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> ../../wvgwin.c(891) : warning C4244: 'funzione': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../wvgwin.c(894) : warning C4244: 'funzione': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../wvgwin.c(914) : warning C4244: 'funzione': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../wvgwin.c(918) : warning C4244: 'funzione': conversione da 'HB_LONG' a
> 'UINT_PTR'. Possibile perdita di dati.
> ../../wvgwin.c(1291) : warning C4244: '=': conversione da 'LONG' a
> 'USHORT'. Possibile perdita di dati.
> ../../wvgwin.c(1429) : warning C4244: 'funzione': conversione da 'HB_LONG'
> a 'UINT'. Possibile perdita di dati.
> ../../wvgwin.c(2060) : warning C4244: 'funzione': conversione da 'int' a
> 'BYTE'. Possibile perdita di dati.
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvgsink.c -Fowvgsink.obj
> wvgsink.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> ../../wvgsink.c(489) : warning C4244: 'funzione': conversione da 'int' a
> 'USHORT'. Possibile perdita di dati.
> ../../wvgsink.c(989) : warning C4305: 'cast di tipo': troncamento da
> 'HB_LONG' a 'HWND'
> ../../wvgsink.c(993) : warning C4305: 'cast di tipo': troncamento da
> 'HB_LONG' a 'IUnknown *'
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wvggui.c -Fowvggui.obj
> wvggui.c
> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: utilizzata estensione non standard: struct/union senza nome
> ../../wvggui.c(2058) : warning C4244: 'funzione': conversione da 'int' a
> 'BYTE'. Possibile perdita di dati.
> ../../wvggui.c(2080) : warning C4244: '=': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../wvggui.c(2085) : warning C4244: '=': conversione da 'HB_LONG' a
> 'DWORD'. Possibile perdita di dati.
> ../../wvggui.c(2090) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'. Possibile perdita di dati.
> ../../wvggui.c(2095) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'. Possibile perdita di dati.
> ../../wvggui.c(2100) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'. Possibile perdita di dati.
> ../../wvggui.c(2105) : warning C4244: '=': conversione da 'HB_LONG' a
> 'int'. Possibile perdita di dati.
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c ../../wincallb.c -Fowincallb.obj
> wincallb.c
> ../../wincallb.c(236) : warning C4244: 'funzione': conversione da 'int' a
> 'USHORT'. Possibile perdita di dati.
> ../../wincallb.c(238) : warning C4244: 'funzione': conversione da 'int' a
> 'USHORT'. Possibile perdita di dati.
> ../../wincallb.c(348) : warning C4152: estensione non standard, conversione
> di puntatore a funzione/dati nell'espressione
> ../../wincallb.c(374) : warning C4244: '=': conversione da 'int' a 'BYTE'.
> Possibile perdita di dati.
> ../../wincallb.c(375) : warning C4244: '=': conversione da 'int' a 'BYTE'.
> Possibile perdita di dati.
> ../../wincallb.c(376) : warning C4244: '=': conversione da 'int' a 'BYTE'.
> Possibile perdita di dati.
> ../../wincallb.c(391) : warning C4152: estensione non standard, conversione
> di puntatore a funzione/dati nell'espressione
> ../../wincallb.c(392) : warning C4244: '=': conversione da 'int' a 'byte'.
> Possibile perdita di dati.
> ../../wincallb.c(393) : warning C4244: '=': conversione da 'int' a 'byte'.
> Possibile perdita di dati.
> c:\harbour\contrib\gtwvg\wincallb.c(608) : warning C4701: utilizzata
> variabile locale 'j' potenzialmente non inizializzata
> ../../../../source/main/win/msvc/harbour.exe ../../wvgclass.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgclass.c -Fowvgclass.obj
> wvgclass.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgpaint.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgpaint.c -Fowvgpaint.obj
> wvgpaint.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgphdlr.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgphdlr.c -Fowvgphdlr.obj
> wvgphdlr.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgwnd.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgwnd.c -Fowvgwnd.obj
> wvgwnd.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgcrt.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgcrt.c -Fowvgcrt.obj
> wvgcrt.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgax.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgax.c -Fowvgax.obj
> wvgax.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgdlg.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgdlg.c -Fowvgdlg.obj
> wvgdlg.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgmenub.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgmenub.c -Fowvgmenub.obj
> wvgmenub.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgtoolb.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgtoolb.c -Fowvgtoolb.obj
> wvgtoolb.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgcombo.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgcombo.c -Fowvgcombo.obj
> wvgcombo.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvglistb.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvglistb.c -Fowvglistb.obj
> wvglistb.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgpushb.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgpushb.c -Fowvgpushb.obj
> wvgpushb.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgstatb.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgstatb.c -Fowvgstatb.obj
> wvgstatb.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgstatc.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgstatc.c -Fowvgstatc.obj
> wvgstatc.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgtreev.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgtreev.c -Fowvgtreev.obj
> wvgtreev.c
> ../../../../source/main/win/msvc/harbour.exe ../../wincback.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wincback.c -Fowincback.obj
> wincback.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgcheck.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgcheck.c -Fowvgcheck.obj
> wvgcheck.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgdatar.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgdatar.c -Fowvgdatar.obj
> wvgdatar.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgradio.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgradio.c -Fowvgradio.obj
> wvgradio.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvg3stat.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvg3stat.c -Fowvg3stat.obj
> wvg3stat.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgbitmp.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgbitmp.c -Fowvgbitmp.obj
> wvgbitmp.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgsle.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgsle.c -Fowvgsle.obj
> wvgsle.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgmle.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgmle.c -Fowvgmle.obj
> wvgmle.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvghtmlv.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvghtmlv.c -Fowvghtmlv.obj
> wvghtmlv.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgsysw.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgsysw.c -Fowvgsysw.obj
> wvgsysw.c
> ../../../../source/main/win/msvc/harbour.exe ../../wvgdarea.prg -n
> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
> -I../../../../contrib/hbwin -c wvgdarea.c -Fowvgdarea.obj
> wvgdarea.c
> lib.exe  /out:../../../../lib/win/msvc/gtwvg.lib gtwvg.obj wvgcore.obj
> wvgutils.obj wvgwin.obj wvgsink.obj wvggui.obj wincallb.obj wvgclass.obj
> wvgpaint.obj wvgphdlr.obj wvgwnd.obj wvgcrt.obj wvgax.obj wvgdlg.obj
> wvgmenub.obj wvgtoolb.obj wvgcombo.obj wvglistb.obj wvgpushb.obj
> wvgstatb.obj wvgstatc.obj wvgtreev.obj wincback.obj wvgcheck.obj
> wvgdatar.obj wvgradio.obj wvg3stat.obj wvgbitmp.obj wvgsle.obj wvgmle.obj
> wvghtmlv.obj wvgsysw.obj wvgdarea.obj || del /q /f
> ../../../../lib/win/msvc/gtwvg.lib
> Microsoft (R) Library Manager Version 9.00.21022.08
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> make[3]: Leaving directory `C:/harbour/contrib/gtwvg/win/msvc'
> cmd.exe /c for %f in (..\..\lib\win\msvc\gtwvg.lib) do xcopy /d /y %f
> C:\\lib
>
> C:\harbour\contrib\gtwvg>xcopy /d /y ..\..\lib\win\msvc\gtwvg.lib C:\lib
> ..\..\lib\win\msvc\gtwvg.lib
> 1 File copiati
> cmd.exe /c for %f in (..\..\lib\win\msvc\gtwvg.lib) do xcopy /d /y %f
> C:\\lib
>
> C:\harbour\contrib\gtwvg>xcopy /d /y ..\..\lib\win\msvc\gtwvg.lib C:\lib
> 0 File copiati
> cmd.exe /c for %f in ( hbgtwvg.ch wvtwin.ch wvgparts.ch  ) do xcopy /d /y
> %f C:\\include
>
> C:\harbour\contrib\gtwvg>xcopy /d /y hbgtwvg.ch C:\include
> 0 File copiati
>
> C:\harbour\contrib\gtwvg>xcopy /d /y wvtwin.ch C:\include
> 0 File copiati
>
> C:\harbour\contrib\gtwvg>xcopy /d /y wvgparts.ch C:\include
> 0 File copiati
> make[2]: Leaving directory `C:/harbour/contrib/gtwvg'
>
>
>
>
> 2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>
>
>> Hi everyone,
>>
>> I did tests with above combinations (MSVC 2005 x86 + BCC 5.5),
>> and they seem to work quite well. It should work the same way
>> for other MSVC and BCC versions. MSVC amd64 and WinCE
>> builds needs to be tested, I expect no problems for amd64, WinCE
>> should tested by someone having the required tools.
>>
>> What's missing is two things:
>> - .dll creation (harbour-11-b32.dll and harbour-11-vc.dll)
>>      In fact we miss it for all other compilers (like owatcom), with the
>>      only exception of MinGW. See my other mail about possible
>>      path to a solution, but still the support has to be added, and
>>      at this point I don't know how. Help would be appreciated,
>>      especially from those who need .dll support.
>> - import lib creation.
>>      This isn't critical, and the feature was bashed here and it
>>      isn't needed for official builds either. Even hbmk2 can help
>>      us here. We will see.
>>
>> Setup needs a few more lines than non-GNU, but that's really not
>>  a problem, as these were already needed for MinGW and owatcom,
>> and it's nothing serious anyway. Even contrib external tool detection
>> works in contrary to what I've said a few e-mails back, it was just
>> local HB_INC_* misconfiguration. The only extra care which needs
>> to be taken is to properly setup MinGW make.exe in the PATH
>> _before_ the actual development tools, this is especially
>> important for BCC, as it has a different make tool under the same
>> name. So always use this line _AFTER_ setting up your compiler:
>>
>> --- template
>> <setup compiler - put it into PATH, etc>
>> set PATH=C:\devl\make-3.81;%PATH%
>> <setup Harbour build options>
>> <start Harbour build>
>> ---
>>
>> I'll make the switch locally to pure GNU-make environment for Harbour
>> as a start. I encourage everyone else to do so.
>>
>> If everything goes well, I plan to drop the non-GNU build to
>> create a much more coherent build environment, with easy switch
>>  between compilers, similar working environments, features and
>> options. I'd appreciate support for this, and if there are any
>> objections or opinions in this regard, pls speak up.
>>
>> Brgds,
>> Viktor
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090218/f0ea96b2/attachment-0001.html
From vouchcac at users.sourceforge.net  Thu Feb 19 15:48:22 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 19 15:48:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10353] trunk/harbour
Message-ID: <E1LaFok-0003f5-9g@d5vjzd1.ch3.sourceforge.com>

Revision: 10353
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10353&view=rev
Author:   vouchcac
Date:     2009-02-19 20:48:17 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-19 12:42 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgwin.c
    + More functions.

  * harbour/contrib/gtwvg/wvgdatar.prg
  * harbour/contrib/gtwvg/wvgscrlb.prg
  * harbour/contrib/gtwvg/wvgwnd.prg
    ! WvgScrollBar() class now works in toto as per 
      Xbase++ documentation.

    ; TODO: Implementation of WvgScrollBar() in demowvg.prg.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgdatar.prg
    trunk/harbour/contrib/gtwvg/wvgscrlb.prg
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Thu Feb 19 15:56:41 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Feb 19 15:56:47 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <D9E881289F09430BB46A61FDA4157002@emag>
	<18d502870902191135jaa6d770ubdbb26deb56b3adc@mail.gmail.com>
Message-ID: <C486E707A49B46029ADDCA4D50EF5DF5@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: gioved? 19 febbraio 2009 20.35
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> Is this a Clipper compatibility fix?

No, as far as I know. It is just a personal need.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Thu Feb 19 16:20:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 19 16:20:43 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <C486E707A49B46029ADDCA4D50EF5DF5@emag>
References: <D9E881289F09430BB46A61FDA4157002@emag>
	<18d502870902191135jaa6d770ubdbb26deb56b3adc@mail.gmail.com>
	<C486E707A49B46029ADDCA4D50EF5DF5@emag>
Message-ID: <18d502870902191320w196d08f8rab2f859d25459ee9@mail.gmail.com>

Hi Enrico,

You can subclass the GET() class and create your custom setPosMy() method,
or maybe you can even override the
original and continue to use the name.

Brgds,
Viktor

On Thu, Feb 19, 2009 at 9:56 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: gioved? 19 febbraio 2009 20.35
> Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
>
>
>  Is this a Clipper compatibility fix?
>>
>
> No, as far as I know. It is just a personal need.
>
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/f5265a66/attachment.html
From e.m.giordano at emagsoftware.it  Thu Feb 19 16:25:36 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Feb 19 16:25:41 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <D9E881289F09430BB46A61FDA4157002@emag><18d502870902191135jaa6d770ubdbb26deb56b3adc@mail.gmail.com><C486E707A49B46029ADDCA4D50EF5DF5@emag>
	<18d502870902191320w196d08f8rab2f859d25459ee9@mail.gmail.com>
Message-ID: <C9FBA2E181EF4BE2A81AF57E4911BFEC@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: gioved? 19 febbraio 2009 22.20
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> Hi Enrico,
>
> You can subclass the GET() class and create your custom setPosMy() method,
> or maybe you can even override the
> original and continue to use the name.

Ok, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Thu Feb 19 17:00:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 19 16:55:38 2009
Subject: [Harbour] Re: Help with gtxwc fonts
In-Reply-To: <9257026e0902180730x317b8f46qabd5a97a8f0bbe7b@mail.gmail.com>
References: <9257026e0902180655s3ee4e2a6l4e7d8be2e055cdac@mail.gmail.com>
	<9257026e0902180730x317b8f46qabd5a97a8f0bbe7b@mail.gmail.com>
Message-ID: <20090219220047.GA6935@uran.home.aster.pl>

On Wed, 18 Feb 2009, Lorenzo Fiorini wrote:

Hi,

> > Are there restrictions I can't see?
> Maybe I found the problem.
> If I replace XWC_DEFAULT_FONT_ENCODING   "iso10646-1" with "*-1" I get
> many fonts working.

Yes though this are not unicode fonts so not in all countries it's an
option.
Looks that we have missing HB_GTI_* action for setting code encoding
which is kept in szFontEncoding GTXWC structure member. It should be
reactivated.
I also think that we should give direct access to use X11 font selection
instead of keeping the current code which tries to use some meta
multiplatfrom layer. I do not think we ever will be able to agree common
for different platfrom font description and translation rules to native
representation. Number of Windows only features in GTWVT is growing up
so I think we can add few ones for GTXWC. It will make *nix users life
much easier, f.e. sth like:

   REQUEST HB_GT_XWC_DEFAULT
   proc main()
      local cFont
      hb_gtInfo( HB_GTI_FONTSEL, cFont := xFontSel() )
      alert( "What do you think about it???;;" + cFont )
   return

   function xfontsel()
      local hProcess, hStdOut, cFontSel, n
      hProcess := hb_processOpen( "xfontsel -print",, @hStdOut )
      if hProcess != -1
         cFontSel := space( 256 )
         n := fread( hStdOut, @cFontSel, len( cFontSel ) )
         cFontSel := left( cFontSel, n )
         hb_processClose( hProcess )
         fclose( hStdOut )
      endif
   return cFontSel

> Not all are usable but at least there are choices.

If you install unicode fonts then you will also have more choice.
With HB_GTI_FONTSEL you will be able to chose any existing font.

best regards,
Przemek
From joe_bernardes at yahoo.com.br  Thu Feb 19 17:03:17 2009
From: joe_bernardes at yahoo.com.br (Joel M Bernardes)
Date: Thu Feb 19 17:03:23 2009
Subject: [Harbour] To compile in old version of the linux
Message-ID: <910452.92239.qm@web51906.mail.re2.yahoo.com>

Hello.

I am trying to compile harbour in Fedora 5 (I need to rotate in him).? 
But he asks to change Client Subversion (very old).? 
Does some exist it sorts things out of me to outline that?? 
? 
Best Regards.
{}s
Joel Bernardes




      Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090219/7d951c48/attachment.html
From druzus at acn.waw.pl  Thu Feb 19 17:14:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 19 17:09:32 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <18d502870902191236s4c5d3085l10344515fe284651@mail.gmail.com>
References: <20090219004352.GA32330@uran.home.aster.pl>
	<18d502870902181828n25e64c4hf3ab29803e629a7e@mail.gmail.com>
	<20090219050129.GB15121@uran.home.aster.pl>
	<18d502870902190250l502c442dlf5eaf93103fd4417@mail.gmail.com>
	<20090219174909.GB28736@uran.home.aster.pl>
	<18d502870902191236s4c5d3085l10344515fe284651@mail.gmail.com>
Message-ID: <20090219221442.GB6935@uran.home.aster.pl>

On Thu, 19 Feb 2009, Szak?ts Viktor wrote:
> Let me include here our conversation from autumn I was referring to,
> back then the situations looked cleaner than what it seems now:
[...]
> -- vszakats says:
> No, if possible let's please remove -n1 and keep only -n/-n-.
> ----

OK. When hbmk2 will be ready, well tested and accepted by users
then we remove this and add support for new switch which will
set HB_FS_FIRST only on request. But please remember that except
GCC and NM we do not have anything yet for other windows compilers
to extract first function name from compiled object file. It will
be good to look for such functionality or using hbmk2 for linking
will not work as expected.

best regards,
Przemek
From info at fsgiudice.com  Thu Feb 19 17:12:42 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Feb 19 17:12:53 2009
Subject: [Harbour] uhttpd
In-Reply-To: <499D84F3.40100@libero.it>
References: <499D84F3.40100@libero.it>
Message-ID: <499DD95A.1050000@fsgiudice.com>

Hi Maurilio,

Il 19/02/2009 17.12, Maurilio Longo ha scritto:
> Hi,
> 
> I've built uhttpd on OS/2 using inet, it works ok, but every new connection
> uses 4 Kb of memory, more or less, which is not freed until after the process
> ends.
> 
> Question: did anybody make some test with uhttpd build with inet on windows?
> did he experienced such 'memory leaks'?

I'm using it and yes, I have seen now about this problem. I'm investigating.

Best regards

Francesco

From mbelgrano at deltain.it  Thu Feb 19 17:42:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 19 17:42:59 2009
Subject: [Harbour] MSVC/BCC with the GNU-make and the future
In-Reply-To: <18d502870902180920s2e82ec80jcdd7354d1d44a278@mail.gmail.com>
References: <18d502870902180818l6293f748h54fa8391b040d2c0@mail.gmail.com>
	<609353e70902180854i73c4227fw2453d8aba5ff20c0@mail.gmail.com>
	<18d502870902180920s2e82ec80jcdd7354d1d44a278@mail.gmail.com>
Message-ID: <609353e70902191442o174ca6e2h54cd48b177e7e9f@mail.gmail.com>

moved  from c:\vc9.bat c:\harbour\vc9.bat and removed line with cd \harbour

Give follow  error but continue without problem and all works fine (Thanks )
make[1]: [install] Error 1 (ignored)


I not have changed starting directory using HB_INSTALL_PREFIX
It is very strange for a windows user be conditioned by path of batch

2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> It's created, but it's not installed, since your script is still wrong.
> You've added 'cd \harbour', which broke the HB_INSTALL_PREFIX
> setting.
> Either remove 'cd \harbour' and run the script from the
> harbour root dir, as I've recommended here a few times,
> or tweak
> 'set HB_INSTALL_PREFIX=%~dp0'
> to
> 'set HB_INSTALL_PREFIX=%~dp0\harbour'
> or set it manually to an explicit dir of your choice.
> But I didn't test this, so if it doesn't work please do
> some experiments with setting up the install dirs.
> Brgds,
> Viktor
>
> On Wed, Feb 18, 2009 at 5:54 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> i Not able to create gtwvg.lib in c:\harbour\lib
>> ---------------
>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>> set path=c:\devl\mingw32-make;%path%
>> cd \harbour
>> set HB_ARCHITECTURE=win
>> set HB_COMPILER=msvc
>> set HB_INSTALL_PREFIX=%~dp0
>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> set SHLVL=
>> make clean > nul
>> make install -r >MAKE_GNU.LOG
>>
>> -----------------scrach from MAKE_GNU.LOG
>> make[1]: Entering directory `C:/harbour/contrib'
>> make -C gtwvg install
>> make[2]: Entering directory `C:/harbour/contrib/gtwvg'
>> C:\harbour\contrib\gtwvg>if not exist win\. md win
>> C:\harbour\contrib\gtwvg>if not exist win\msvc\. md win\msvc
>> C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\. md ..\..\lib\win
>> C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\msvc\. md
>> ..\..\lib\win\msvc
>> C:\harbour\contrib\gtwvg>if not exist win\. md win
>> C:\harbour\contrib\gtwvg>if not exist win\msvc\. md win\msvc
>> C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\. md ..\..\lib\win
>> C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\msvc\. md
>> ..\..\lib\win\msvc
>> make[3]: Entering directory `C:/harbour/contrib/gtwvg/win/msvc'
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../gtwvg.c -Fogtwvg.obj
>> gtwvg.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> ../../gtwvg.c(2132) : warning C4244: '=': conversione da 'int' a 'USHORT'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(2133) : warning C4244: '=': conversione da 'int' a 'USHORT'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(2162) : warning C4244: '=': conversione da 'int' a 'USHORT'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(2163) : warning C4244: '=': conversione da 'int' a 'USHORT'.
>> Possibile perdita di dati.
>> ../../gtwvg.c(3224) : warning C4244: 'funzione': conversione da 'int' a
>> 'BYTE'. Possibile perdita di dati.
>> ../../gtwvg.c(3247) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'DWORD'. Possibile perdita di dati.
>> ../../gtwvg.c(3252) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'DWORD'. Possibile perdita di dati.
>> ../../gtwvg.c(3257) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'. Possibile perdita di dati.
>> ../../gtwvg.c(3262) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'. Possibile perdita di dati.
>> ../../gtwvg.c(3267) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'. Possibile perdita di dati.
>> ../../gtwvg.c(3272) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'. Possibile perdita di dati.
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvgcore.c -Fowvgcore.obj
>> wvgcore.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvgutils.c -Fowvgutils.obj
>> wvgutils.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvgwin.c -Fowvgwin.obj
>> wvgwin.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> ../../wvgwin.c(891) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a 'DWORD'. Possibile perdita di dati.
>> ../../wvgwin.c(894) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a 'DWORD'. Possibile perdita di dati.
>> ../../wvgwin.c(914) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a 'DWORD'. Possibile perdita di dati.
>> ../../wvgwin.c(918) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a 'UINT_PTR'. Possibile perdita di dati.
>> ../../wvgwin.c(1291) : warning C4244: '=': conversione da 'LONG' a
>> 'USHORT'. Possibile perdita di dati.
>> ../../wvgwin.c(1429) : warning C4244: 'funzione': conversione da 'HB_LONG'
>> a 'UINT'. Possibile perdita di dati.
>> ../../wvgwin.c(2060) : warning C4244: 'funzione': conversione da 'int' a
>> 'BYTE'. Possibile perdita di dati.
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvgsink.c -Fowvgsink.obj
>> wvgsink.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> ../../wvgsink.c(489) : warning C4244: 'funzione': conversione da 'int' a
>> 'USHORT'. Possibile perdita di dati.
>> ../../wvgsink.c(989) : warning C4305: 'cast di tipo': troncamento da
>> 'HB_LONG' a 'HWND'
>> ../../wvgsink.c(993) : warning C4305: 'cast di tipo': troncamento da
>> 'HB_LONG' a 'IUnknown *'
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wvggui.c -Fowvggui.obj
>> wvggui.c
>> C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
>> warning C4201: utilizzata estensione non standard: struct/union senza nome
>> ../../wvggui.c(2058) : warning C4244: 'funzione': conversione da 'int' a
>> 'BYTE'. Possibile perdita di dati.
>> ../../wvggui.c(2080) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'DWORD'. Possibile perdita di dati.
>> ../../wvggui.c(2085) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'DWORD'. Possibile perdita di dati.
>> ../../wvggui.c(2090) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'. Possibile perdita di dati.
>> ../../wvggui.c(2095) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'. Possibile perdita di dati.
>> ../../wvggui.c(2100) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'. Possibile perdita di dati.
>> ../../wvggui.c(2105) : warning C4244: '=': conversione da 'HB_LONG' a
>> 'int'. Possibile perdita di dati.
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c ../../wincallb.c -Fowincallb.obj
>> wincallb.c
>> ../../wincallb.c(236) : warning C4244: 'funzione': conversione da 'int' a
>> 'USHORT'. Possibile perdita di dati.
>> ../../wincallb.c(238) : warning C4244: 'funzione': conversione da 'int' a
>> 'USHORT'. Possibile perdita di dati.
>> ../../wincallb.c(348) : warning C4152: estensione non standard,
>> conversione di puntatore a funzione/dati nell'espressione
>> ../../wincallb.c(374) : warning C4244: '=': conversione da 'int' a 'BYTE'.
>> Possibile perdita di dati.
>> ../../wincallb.c(375) : warning C4244: '=': conversione da 'int' a 'BYTE'.
>> Possibile perdita di dati.
>> ../../wincallb.c(376) : warning C4244: '=': conversione da 'int' a 'BYTE'.
>> Possibile perdita di dati.
>> ../../wincallb.c(391) : warning C4152: estensione non standard,
>> conversione di puntatore a funzione/dati nell'espressione
>> ../../wincallb.c(392) : warning C4244: '=': conversione da 'int' a 'byte'.
>> Possibile perdita di dati.
>> ../../wincallb.c(393) : warning C4244: '=': conversione da 'int' a 'byte'.
>> Possibile perdita di dati.
>> c:\harbour\contrib\gtwvg\wincallb.c(608) : warning C4701: utilizzata
>> variabile locale 'j' potenzialmente non inizializzata
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgclass.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgclass.c -Fowvgclass.obj
>> wvgclass.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgpaint.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgpaint.c -Fowvgpaint.obj
>> wvgpaint.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgphdlr.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgphdlr.c -Fowvgphdlr.obj
>> wvgphdlr.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgwnd.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgwnd.c -Fowvgwnd.obj
>> wvgwnd.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgcrt.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgcrt.c -Fowvgcrt.obj
>> wvgcrt.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgax.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgax.c -Fowvgax.obj
>> wvgax.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgdlg.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgdlg.c -Fowvgdlg.obj
>> wvgdlg.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgmenub.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgmenub.c -Fowvgmenub.obj
>> wvgmenub.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgtoolb.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgtoolb.c -Fowvgtoolb.obj
>> wvgtoolb.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgcombo.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgcombo.c -Fowvgcombo.obj
>> wvgcombo.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvglistb.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvglistb.c -Fowvglistb.obj
>> wvglistb.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgpushb.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgpushb.c -Fowvgpushb.obj
>> wvgpushb.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgstatb.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgstatb.c -Fowvgstatb.obj
>> wvgstatb.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgstatc.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgstatc.c -Fowvgstatc.obj
>> wvgstatc.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgtreev.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgtreev.c -Fowvgtreev.obj
>> wvgtreev.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wincback.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wincback.c -Fowincback.obj
>> wincback.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgcheck.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgcheck.c -Fowvgcheck.obj
>> wvgcheck.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgdatar.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgdatar.c -Fowvgdatar.obj
>> wvgdatar.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgradio.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgradio.c -Fowvgradio.obj
>> wvgradio.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvg3stat.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvg3stat.c -Fowvg3stat.obj
>> wvg3stat.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgbitmp.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgbitmp.c -Fowvgbitmp.obj
>> wvgbitmp.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgsle.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgsle.c -Fowvgsle.obj
>> wvgsle.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgmle.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgmle.c -Fowvgmle.obj
>> wvgmle.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvghtmlv.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvghtmlv.c -Fowvghtmlv.obj
>> wvghtmlv.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgsysw.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgsysw.c -Fowvgsysw.obj
>> wvgsysw.c
>> ../../../../source/main/win/msvc/harbour.exe ../../wvgdarea.prg -n
>> -i../../../../include -q0 -w3 -es2 -gc3 -km -l
>> cl.exe -I. -I../../../../include -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c-
>> -I../../../../contrib/hbwin -c wvgdarea.c -Fowvgdarea.obj
>> wvgdarea.c
>> lib.exe  /out:../../../../lib/win/msvc/gtwvg.lib gtwvg.obj wvgcore.obj
>> wvgutils.obj wvgwin.obj wvgsink.obj wvggui.obj wincallb.obj wvgclass.obj
>> wvgpaint.obj wvgphdlr.obj wvgwnd.obj wvgcrt.obj wvgax.obj wvgdlg.obj
>> wvgmenub.obj wvgtoolb.obj wvgcombo.obj wvglistb.obj wvgpushb.obj
>> wvgstatb.obj wvgstatc.obj wvgtreev.obj wincback.obj wvgcheck.obj
>> wvgdatar.obj wvgradio.obj wvg3stat.obj wvgbitmp.obj wvgsle.obj wvgmle.obj
>> wvghtmlv.obj wvgsysw.obj wvgdarea.obj || del /q /f
>> ../../../../lib/win/msvc/gtwvg.lib
>> Microsoft (R) Library Manager Version 9.00.21022.08
>> Copyright (C) Microsoft Corporation.  All rights reserved.
>> make[3]: Leaving directory `C:/harbour/contrib/gtwvg/win/msvc'
>> cmd.exe /c for %f in (..\..\lib\win\msvc\gtwvg.lib) do xcopy /d /y %f
>> C:\\lib
>> C:\harbour\contrib\gtwvg>xcopy /d /y ..\..\lib\win\msvc\gtwvg.lib C:\lib
>> ..\..\lib\win\msvc\gtwvg.lib
>> 1 File copiati
>> cmd.exe /c for %f in (..\..\lib\win\msvc\gtwvg.lib) do xcopy /d /y %f
>> C:\\lib
>> C:\harbour\contrib\gtwvg>xcopy /d /y ..\..\lib\win\msvc\gtwvg.lib C:\lib
>> 0 File copiati
>> cmd.exe /c for %f in ( hbgtwvg.ch wvtwin.ch wvgparts.ch  ) do xcopy /d /y
>> %f C:\\include
>> C:\harbour\contrib\gtwvg>xcopy /d /y hbgtwvg.ch C:\include
>> 0 File copiati
>> C:\harbour\contrib\gtwvg>xcopy /d /y wvtwin.ch C:\include
>> 0 File copiati
>> C:\harbour\contrib\gtwvg>xcopy /d /y wvgparts.ch C:\include
>> 0 File copiati
>> make[2]: Leaving directory `C:/harbour/contrib/gtwvg'
>>
>>
>>
>> 2009/2/18 Viktor Szak?ts <harbour.01@syenar.hu>
>>>
>>> Hi everyone,
>>> I did tests with above combinations (MSVC 2005 x86 + BCC 5.5),
>>> and they seem to work quite well. It should work the same way
>>> for other MSVC and BCC versions. MSVC amd64 and WinCE
>>> builds needs to be tested, I expect no problems for amd64, WinCE
>>> should tested by someone having the required tools.
>>> What's missing is two things:
>>> - .dll creation (harbour-11-b32.dll and harbour-11-vc.dll)
>>>      In fact we miss it for all other compilers (like owatcom), with the
>>>      only exception of MinGW. See my other mail about possible
>>>      path to a solution, but still the support has to be added, and
>>>      at this point I don't know how. Help would be appreciated,
>>>      especially from those who need .dll support.
>>> - import lib creation.
>>>      This isn't critical, and the feature was bashed here and it
>>>      isn't needed for official builds either. Even hbmk2 can help
>>>      us here. We will see.
>>> Setup needs a few more lines than non-GNU, but that's really not
>>> a problem, as these were already needed for MinGW and owatcom,
>>> and it's nothing serious anyway. Even contrib external tool detection
>>> works in contrary to what I've said a few e-mails back, it was just
>>> local HB_INC_* misconfiguration. The only extra care which needs
>>> to be taken is to properly setup MinGW make.exe in the PATH
>>> _before_ the actual development tools, this is especially
>>> important for BCC, as it has a different make tool under the same
>>> name. So always use this line _AFTER_ setting up your compiler:
>>> --- template
>>> <setup compiler - put it into PATH, etc>
>>> set PATH=C:\devl\make-3.81;%PATH%
>>> <setup Harbour build options>
>>> <start Harbour build>
>>> ---
>>> I'll make the switch locally to pure GNU-make environment for Harbour
>>> as a start. I encourage everyone else to do so.
>>> If everything goes well, I plan to drop the non-GNU build to
>>> create a much more coherent build environment, with easy switch
>>> between compilers, similar working environments, features and
>>> options. I'd appreciate support for this, and if there are any
>>> objections or opinions in this regard, pls speak up.
>>> Brgds,
>>> Viktor
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> Albo Nazionale Informatici Professionisti 2620
>> Socio 2843 Associazione Informatici prof.
>>
>> Analisi e sviluppo software per Lan e Web
>> Consulenza informatica - Formazione
>> Delta Informatica S.r.l.  http://www.deltain.it
>> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From mbelgrano at deltain.it  Thu Feb 19 17:52:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 19 17:52:32 2009
Subject: [Harbour] uhttpd
In-Reply-To: <499DD95A.1050000@fsgiudice.com>
References: <499D84F3.40100@libero.it> <499DD95A.1050000@fsgiudice.com>
Message-ID: <609353e70902191452k42b32a3ep7f63f678cb693a09@mail.gmail.com>

I not have gd lib package to test uhttpd
and test seem already done

2009/2/19 Francesco Saverio Giudice <info@fsgiudice.com>:
> Hi Maurilio,
>
> Il 19/02/2009 17.12, Maurilio Longo ha scritto:
>>
>> Hi,
>>
>> I've built uhttpd on OS/2 using inet, it works ok, but every new
>> connection
>> uses 4 Kb of memory, more or less, which is not freed until after the
>> process
>> ends.
>>
>> Question: did anybody make some test with uhttpd build with inet on
>> windows?
>> did he experienced such 'memory leaks'?
>
> I'm using it and yes, I have seen now about this problem. I'm investigating.
>
> Best regards
>
> Francesco
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From vszakats at users.sourceforge.net  Thu Feb 19 18:45:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 19 18:45:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10354] trunk/harbour
Message-ID: <E1LaIa2-0007gf-T3@3kljzd1.ch3.sourceforge.com>

Revision: 10354
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10354&view=rev
Author:   vszakats
Date:     2009-02-19 23:45:22 +0000 (Thu, 19 Feb 2009)

Log Message:
-----------
2009-02-20 00:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added autodetection of compiler based on build data on linux.
    + Added '-comp:bld' option to force autodetection based on build
      data for all other platforms. This way the compiler will be
      set to the same one as was used to build hbmk2 executable.
    + Added support to specify object output name using the -o
      option in conjunction with the -hbcmp parameter. Single
      and multiple input (c. and .prg->.c) files are also supported,
      but that's compiler dependent, currently gcc/pocc/msvc/bcc32
      supports single file and also msvc/bcc32 support multiple files.
    * os2/icc libprefix reset and TODO added.
    + Added some cross-platform related markups (comments).
    ! Fixed not stripping 'lib' from libnames for linux/gpp.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Feb 19 19:52:32 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 19 19:52:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10355] trunk/harbour
Message-ID: <E1LaJd2-0001MN-3x@d5vjzd1.ch3.sourceforge.com>

Revision: 10355
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10355&view=rev
Author:   vouchcac
Date:     2009-02-20 00:52:31 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-19 16:50 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/source/rtl/gtwvt/gtwvt.c
    * Fixed not to generate RT if class is already been registered.
      Useful in cases where multiple windows are implemented.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Feb 19 22:11:54 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb 19 22:11:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10356] trunk/harbour
Message-ID: <E1LaLnu-0004Xp-RB@d5vjzd1.ch3.sourceforge.com>

Revision: 10356
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10356&view=rev
Author:   druzus
Date:     2009-02-20 03:11:51 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 04:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbgtinfo.ch
    + added HB_GTI_FONTSEL

  * harbour/source/rtl/gtxwc/gtxwc.c
    + added support for HB_GTI_FONTSEL
    + added support for HB_GTI_PALETTE

  + harbour/tests/gtxfnt.prg
    + added small demonstration/test code for HB_GTI_FONTSEL
      and XWindow GTs

  * harbour/source/rtl/hbproces.c
    * replaced execv() with execvp() in *nix builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbgtinfo.ch
    trunk/harbour/source/rtl/gtxwc/gtxwc.c
    trunk/harbour/source/rtl/hbproces.c

Added Paths:
-----------
    trunk/harbour/tests/gtxfnt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 20 03:30:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 03:30:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10357] trunk/harbour
Message-ID: <E1LaQmP-00056Q-Dk@bj8yhf1.ch3.sourceforge.com>

Revision: 10357
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10357&view=rev
Author:   vszakats
Date:     2009-02-20 08:30:40 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------

2009-02-20 09:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added CCPATH + CCPREFIX support for *nix/gcc|gpp.
    + Reworked *nix alternative dir layout detection to be generic.
    + Generating '-Wl,-mwindows', '-Wl,-mconsole' options for gcc, mingw
      (no -mconsole for mingw). Please review.
    ! Added missing gdi32 system lib for mingw when GTWVT is used.
    ! Added -shared support for mingw.
    + Added Przemek's code to detect entry function on gcc|gpp|mingw.
      Code not used yet.
    + Added HBMK_NO_GTCGI macro to disable automatic GTCGI
      selection for hbmk executable.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 20 03:52:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 03:52:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10358] trunk/harbour
Message-ID: <E1LaR7X-0005b8-1s@bj8yhf1.ch3.sourceforge.com>

Revision: 10358
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10358&view=rev
Author:   vszakats
Date:     2009-02-20 08:52:30 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 09:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for build level (or system level if that's
      needed in the future) configuration file for hbmk. Currently
      it will automatically pick the file named hbmkcfg.hbp from
      the dir where hbmk is located. This file can be used to store
      build settings so that they can later be used by hbmk,
      automatically. IOW this is the communication medium
      between the build process and hbmk. We can store here
      the selected GT, extra libraries, PRG flags, C flags, linker
      flags, while keeping hbmk executable free from such burnt-in
      information. For this to work, the build process needs
      to generate hbmkcfg.hbp with appropriate content, and this 
      file needs to be added to standard distribution packages. 
      The format is normal .hbp, described on the hbmk help screen.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Fri Feb 20 04:25:36 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb 20 04:25:43 2009
Subject: [Harbour] Linux development environment
In-Reply-To: <499D874A.6050105@abix.info.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D4BD@PINK.zycie.pzu>

>-----Original Message-----
>From: ABIX Adam Jurkiewicz [mailto:a.jurkiewicz@abix.info.pl] 
>Sent: Thursday, February 19, 2009 5:23 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Linux development environment
>
>Horodyski Marek (PZUZ) pisze:
>
>> On Windows and Linx works DosNawigator. For my better than 
>MC (edito like in ME).
>Cool, do you know, why keyboard does not work under linux ?

For my it work. In terminal and in x mode. I send here after this weekend
screenschot form NDN.

Regards,
Marek Horodyski 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4356 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/e332bc1a/smime.bin
From vszakats at users.sourceforge.net  Fri Feb 20 04:33:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 04:33:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10359] trunk/harbour
Message-ID: <E1LaRlS-0002tW-9P@c3vjzd1.ch3.sourceforge.com>

Revision: 10359
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10359&view=rev
Author:   vszakats
Date:     2009-02-20 09:33:44 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 10:32 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed build compiler detection when GNU C++ was used on Linux.

  * contrib/hbwin/win_dll.c
    % Removed unncessary (potential build-breaker) #define _WIN32_WINNT.

  * contrib/hbwhat/whtdate.c
  * contrib/hbwhat/whtini.c
  * contrib/hbwhat/wincorec.c
  * contrib/hbwhat/whticon.c
  * contrib/hbwhat/whtcret.c
  * contrib/hbwhat/whtsock.c
  * contrib/hbwhat/whthead.c
  * contrib/hbwhat/whtseria.c
  * contrib/hbwhat/whtilst.c
  * contrib/hbwhat/whtreg.c
  * contrib/hbwhat/whtmem.c
  * contrib/hbwhat/whtclpb.c
  * contrib/hbwhat/whtmous.c
  * contrib/hbwhat/whtrgn.c
  * contrib/hbwhat/whtmeta.c
  * contrib/hbwhat/whttbar.c
  * contrib/hbwhat/whtrect.c
  * contrib/hbwhat/whtbrsh.c
  * contrib/hbwhat/whtgdi.c
  * contrib/hbwhat/whtscrlb.c
  * contrib/hbwhat/whtdlg.c
  * contrib/hbwhat/whtview.c
  * contrib/hbwhat/whtsys.c
  * contrib/hbwhat/whtlv.c
  * contrib/hbwhat/whtmisc.c
  * contrib/hbwhat/whtcomm.c
  * contrib/hbwhat/whtmmcap.c
  * contrib/hbwhat/whtprn.c
  * contrib/hbwhat/whtinet.c
  * contrib/hbwhat/whttab.c
  * contrib/hbwhat/whtfont.c
  * contrib/hbwhat/whtshell.c
  * contrib/hbwhat/whtcdlg.c
  * contrib/hbwhat/whtbmp.c
  * contrib/hbwhat/whtdir.c
  * contrib/hbwhat/whtpen.c
  * contrib/hbwhat/whtkbrd.c
  * contrib/hbwhat/whttext.c
  * contrib/hbwhat/whtmsg.c
  * contrib/hbwhat/whtdc.c
  * contrib/hbwhat/whtdraw.c
  * contrib/hbwhat/whtmenu.c
    ! Added #undef _WIN32_* where needed. This should fix compilation
      problems if these macros were already #defined by user.
      It's better however to honor the host setting.
      This fixed a pending TOFIX.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwhat/whtbmp.c
    trunk/harbour/contrib/hbwhat/whtbrsh.c
    trunk/harbour/contrib/hbwhat/whtcdlg.c
    trunk/harbour/contrib/hbwhat/whtclpb.c
    trunk/harbour/contrib/hbwhat/whtcomm.c
    trunk/harbour/contrib/hbwhat/whtcret.c
    trunk/harbour/contrib/hbwhat/whtdate.c
    trunk/harbour/contrib/hbwhat/whtdc.c
    trunk/harbour/contrib/hbwhat/whtdir.c
    trunk/harbour/contrib/hbwhat/whtdlg.c
    trunk/harbour/contrib/hbwhat/whtdraw.c
    trunk/harbour/contrib/hbwhat/whtfont.c
    trunk/harbour/contrib/hbwhat/whtgdi.c
    trunk/harbour/contrib/hbwhat/whthead.c
    trunk/harbour/contrib/hbwhat/whticon.c
    trunk/harbour/contrib/hbwhat/whtilst.c
    trunk/harbour/contrib/hbwhat/whtinet.c
    trunk/harbour/contrib/hbwhat/whtini.c
    trunk/harbour/contrib/hbwhat/whtkbrd.c
    trunk/harbour/contrib/hbwhat/whtlv.c
    trunk/harbour/contrib/hbwhat/whtmem.c
    trunk/harbour/contrib/hbwhat/whtmenu.c
    trunk/harbour/contrib/hbwhat/whtmeta.c
    trunk/harbour/contrib/hbwhat/whtmisc.c
    trunk/harbour/contrib/hbwhat/whtmmcap.c
    trunk/harbour/contrib/hbwhat/whtmous.c
    trunk/harbour/contrib/hbwhat/whtmsg.c
    trunk/harbour/contrib/hbwhat/whtpen.c
    trunk/harbour/contrib/hbwhat/whtprn.c
    trunk/harbour/contrib/hbwhat/whtrect.c
    trunk/harbour/contrib/hbwhat/whtreg.c
    trunk/harbour/contrib/hbwhat/whtrgn.c
    trunk/harbour/contrib/hbwhat/whtscrlb.c
    trunk/harbour/contrib/hbwhat/whtseria.c
    trunk/harbour/contrib/hbwhat/whtshell.c
    trunk/harbour/contrib/hbwhat/whtsock.c
    trunk/harbour/contrib/hbwhat/whtsys.c
    trunk/harbour/contrib/hbwhat/whttab.c
    trunk/harbour/contrib/hbwhat/whttbar.c
    trunk/harbour/contrib/hbwhat/whttext.c
    trunk/harbour/contrib/hbwhat/whtview.c
    trunk/harbour/contrib/hbwhat/wincorec.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 20 04:59:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 04:59:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10360] trunk/harbour
Message-ID: <E1LaS9v-0002ed-GU@3kljzd1.ch3.sourceforge.com>

Revision: 10360
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10360&view=rev
Author:   vszakats
Date:     2009-02-20 09:59:02 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 10:58 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.sh
    ! Fixed s&r error (LIBTOOHB_USR_LDFLAGS).
    * Renamed LIBTOOL_USR to HB_USR_LIBTOOL.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 20 05:03:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 05:03:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10361] trunk/harbour
Message-ID: <E1LaSDt-0002js-OW@3kljzd1.ch3.sourceforge.com>

Revision: 10361
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10361&view=rev
Author:   vszakats
Date:     2009-02-20 10:03:08 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 11:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.sh
    ! Fix to prev HB_USR_LIBTOOL should be HB_USER_LIBTOOL to be
      consistent.

  * bin/hb-func.sh
    * HB_USR_LIBS -> HB_USER_LIBS to be in sync with rest of Harbour.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/postinst.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Fri Feb 20 05:32:30 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 20 05:32:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10356] trunk/harbour
In-Reply-To: <E1LaLnu-0004Xp-RB@d5vjzd1.ch3.sourceforge.com>
References: <E1LaLnu-0004Xp-RB@d5vjzd1.ch3.sourceforge.com>
Message-ID: <9257026e0902200232i7b6fa0cejd0f23266e48692c2@mail.gmail.com>

On Fri, Feb 20, 2009 at 4:11 AM,  <druzus@users.sourceforge.net> wrote:

>  * harbour/include/hbgtinfo.ch
>    + added HB_GTI_FONTSEL
>
>  * harbour/source/rtl/gtxwc/gtxwc.c
>    + added support for HB_GTI_FONTSEL
>    + added support for HB_GTI_PALETTE
>
>  + harbour/tests/gtxfnt.prg
>    + added small demonstration/test code for HB_GTI_FONTSEL
>      and XWindow GTs
>
>  * harbour/source/rtl/hbproces.c
>    * replaced execv() with execvp() in *nix builds

Many, many, many thanks.

Now I can remove my patches for palette.
The only hack I still have in gtxwc is to simulate: HB_GTI_CLOSABLE.

Back to gtxwc's fonts the only thing I badly need is a font less
"squared" than fixed.
F.e. Liberation Mono looks really good under Ubuntu 8.10 but I need to
use some "magic" combinations between fontsize and setmode( rows, cols
).
However with "older" distributions that use xfs I couldn't get
anything but "fixed".

Any suggestion?

best regards,
Lorenzo
From e.m.giordano at emagsoftware.it  Fri Feb 20 05:48:21 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 20 05:48:26 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <D9E881289F09430BB46A61FDA4157002@emag><18d502870902191135jaa6d770ubdbb26deb56b3adc@mail.gmail.com><C486E707A49B46029ADDCA4D50EF5DF5@emag>
	<18d502870902191320w196d08f8rab2f859d25459ee9@mail.gmail.com>
Message-ID: <136E6968D3264CC89EECCA1C8012F8FA@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: gioved? 19 febbraio 2009 22.20
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> Hi Enrico,
>
> You can subclass the GET() class and create your custom setPosMy() method,
> or maybe you can even override the original and continue to use the name.

Can I add my own method to a class without touching the class itself? If 
yes, how?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Fri Feb 20 06:22:14 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 20 06:17:03 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <136E6968D3264CC89EECCA1C8012F8FA@emag>
References: <18d502870902191320w196d08f8rab2f859d25459ee9@mail.gmail.com>
	<136E6968D3264CC89EECCA1C8012F8FA@emag>
Message-ID: <20090220112214.GA967@uran.home.aster.pl>

On Fri, 20 Feb 2009, Enrico Maria Giordano wrote:

Hi,

>> You can subclass the GET() class and create your custom setPosMy() method,
>> or maybe you can even override the original and continue to use the name.
> Can I add my own method to a class without touching the class itself? If 
> yes, how?

Harbour has a feature which can block class modification so such
action can be forbidden by programmer.
Anyhow if class is not locked (core classes isn't) then it's possible.
But you have to be careful because it's possible to create some really
strange results, f.e. when you add some new methods to the class from
which some other classes inherited before and then in object of this
classes you will use super casting.
   __clsAddMsg( <hClass>, <cMessage>, <sMthFunction> | <bMthBlock>, <nType>, ;
                [xInit], <uiScope> )
f.e.:
   __clsAddMsg( getNew():hClass, "MYMSG", @myMethod(), HB_OO_MSG_METHOD,, ;
                HB_OO_CLSTP_EXPORTED )

best regards,
Przemek
From druzus at acn.waw.pl  Fri Feb 20 06:32:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 20 06:27:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10356] trunk/harbour
In-Reply-To: <9257026e0902200232i7b6fa0cejd0f23266e48692c2@mail.gmail.com>
References: <E1LaLnu-0004Xp-RB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0902200232i7b6fa0cejd0f23266e48692c2@mail.gmail.com>
Message-ID: <20090220113212.GB967@uran.home.aster.pl>

On Fri, 20 Feb 2009, Lorenzo Fiorini wrote:

Hi,

> Now I can remove my patches for palette.
> The only hack I still have in gtxwc is to simulate: HB_GTI_CLOSABLE.

Can you send the .diff here?

> Back to gtxwc's fonts the only thing I badly need is a font less
> "squared" than fixed.
> F.e. Liberation Mono looks really good under Ubuntu 8.10 but I need to
> use some "magic" combinations between fontsize and setmode( rows, cols
> ).

??? I'm not sure what is the real problem.
In GTXWC there are two compile time switches which can be used to
"fix" font metrics:
   #define XWC_DEFAULT_FONT_FIXMETRIC  FALSE
   #define XWC_DEFAULT_FONT_CLRBKG     FALSE

You can enable them and makes some experiments but they reduce the speed.

> However with "older" distributions that use xfs I couldn't get
> anything but "fixed".
> Any suggestion?

I guess that you are not talking about font family ("fmly") but about
font definition. Try to use only fonts with "slant" = 2 and character
or monotype spacing ("spc" = "c" or "spc" = "m").

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Fri Feb 20 06:32:32 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb 20 06:32:37 2009
Subject: [Harbour] Log from build.
In-Reply-To: <18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>

________________________________

From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
Sent: Thursday, February 19, 2009 4:22 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Log from build.



	This is from yesterday. You'll have wait for the next nightly. 
	
	
	Brgds,
	Viktor
________________________________	

Todays log :

 
c:\harbour>make_gnu.bat
make[3]: *** [wvgcore.obj] Error 8
make[2]: *** [descend] Error 2
make[1]: *** [gtwvg] Error 2
make: *** [contrib] Error 2

c:\harbour>make_gnu.bat install
make[1]: [install] Error 1 (ignored)
make[3]: *** [wvgcore.obj] Error 8
make[2]: *** [descend] Error 2
make[1]: *** [gtwvg.inst] Error 2
make: *** [contrib.inst] Error 2

Ends from make_gnu.log :
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to type of cast
../../wvgcore.c(176): Note! N630: col(81) source conversion type is '_GUID const *'
../../wvgcore.c(176): Note! N631: col(81) target conversion type is '_GUID const (lvalue)'
../../wvgcore.c(213): Error! E306: col(90) cannot convert expression to type of cast
../../wvgcore.c(213): Note! N630: col(90) source conversion type is '_GUID const *'
../../wvgcore.c(213): Note! N631: col(90) target conversion type is '_GUID const (lvalue)'
../../wvgcore.c(617): Error! E306: col(85) cannot convert expression to type of cast
../../wvgcore.c(617): Note! N630: col(85) source conversion type is '_GUID const *'
../../wvgcore.c(617): Note! N631: col(85) target conversion type is '_GUID const (lvalue)'
make[3]: Leaving directory `c:/harbour/contrib/gtwvg/win/owatcom'
make[2]: Leaving directory `c:/harbour/contrib/gtwvg'
make[1]: Leaving directory `c:/harbour/contrib'

Top from Changelog :
/*
 * $Id: ChangeLog 10353 2009-02-19 20:48:17Z vouchcac $
 */

/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name (your_email address)
   For example:
   2009-12-31 13:59 UTC+0100 Foo Bar (foo.bar foobar.org)
*/




Regards,
Marek Horodyski
From e.m.giordano at emagsoftware.it  Fri Feb 20 06:46:22 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 20 06:46:28 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <18d502870902191320w196d08f8rab2f859d25459ee9@mail.gmail.com><136E6968D3264CC89EECCA1C8012F8FA@emag>
	<20090220112214.GA967@uran.home.aster.pl>
Message-ID: <12DF64DF8BE546DB9533EA275C864931@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 20 febbraio 2009 12.22
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> Harbour has a feature which can block class modification so such
> action can be forbidden by programmer.
> Anyhow if class is not locked (core classes isn't) then it's possible.
> But you have to be careful because it's possible to create some really
> strange results, f.e. when you add some new methods to the class from
> which some other classes inherited before and then in object of this
> classes you will use super casting.
>   __clsAddMsg( <hClass>, <cMessage>, <sMthFunction> | <bMthBlock>, 
> <nType>, ;
>                [xInit], <uiScope> )
> f.e.:
>   __clsAddMsg( getNew():hClass, "MYMSG", @myMethod(), HB_OO_MSG_METHOD,, ;
>                HB_OO_CLSTP_EXPORTED )

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Feb 20 06:58:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 20 06:58:30 2009
Subject: [Harbour] Log from build.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
References: <18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
Message-ID: <18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>

Hi Marek,
Does hbmk2 work for you now?

[ This GTWVG problem should be fixed by Pritpal, I cannot help. ]

Brgds,
Viktor


2009/2/20 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

> ________________________________
>
> From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
> Sent: Thursday, February 19, 2009 4:22 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Log from build.
>
>
>
>         This is from yesterday. You'll have wait for the next nightly.
>
>
>        Brgds,
>        Viktor
> ________________________________
>
> Todays log :
>
>
> c:\harbour>make_gnu.bat
> make[3]: *** [wvgcore.obj] Error 8
> make[2]: *** [descend] Error 2
> make[1]: *** [gtwvg] Error 2
> make: *** [contrib] Error 2
>
> c:\harbour>make_gnu.bat install
> make[1]: [install] Error 1 (ignored)
> make[3]: *** [wvgcore.obj] Error 8
> make[2]: *** [descend] Error 2
> make[1]: *** [gtwvg.inst] Error 2
> make: *** [contrib.inst] Error 2
>
> Ends from make_gnu.log :
> C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
> ../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to
> type of cast
> ../../wvgcore.c(176): Note! N630: col(81) source conversion type is '_GUID
> const *'
> ../../wvgcore.c(176): Note! N631: col(81) target conversion type is '_GUID
> const (lvalue)'
> ../../wvgcore.c(213): Error! E306: col(90) cannot convert expression to
> type of cast
> ../../wvgcore.c(213): Note! N630: col(90) source conversion type is '_GUID
> const *'
> ../../wvgcore.c(213): Note! N631: col(90) target conversion type is '_GUID
> const (lvalue)'
> ../../wvgcore.c(617): Error! E306: col(85) cannot convert expression to
> type of cast
> ../../wvgcore.c(617): Note! N630: col(85) source conversion type is '_GUID
> const *'
> ../../wvgcore.c(617): Note! N631: col(85) target conversion type is '_GUID
> const (lvalue)'
> make[3]: Leaving directory `c:/harbour/contrib/gtwvg/win/owatcom'
> make[2]: Leaving directory `c:/harbour/contrib/gtwvg'
> make[1]: Leaving directory `c:/harbour/contrib'
>
> Top from Changelog :
> /*
>  * $Id: ChangeLog 10353 2009-02-19 20:48:17Z vouchcac $
>  */
>
> /* Use this format for the entry headers:
>   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name (your_email address)
>   For example:
>   2009-12-31 13:59 UTC+0100 Foo Bar (foo.bar foobar.org)
> */
>
>
>
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/49907aae/attachment-0001.html
From e.m.giordano at emagsoftware.it  Fri Feb 20 07:00:42 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 20 07:00:47 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <18d502870902191320w196d08f8rab2f859d25459ee9@mail.gmail.com><136E6968D3264CC89EECCA1C8012F8FA@emag>
	<20090220112214.GA967@uran.home.aster.pl>
Message-ID: <09A6E6E807264E24B944750FD73D0888@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 20 febbraio 2009 12.22
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> f.e.:
>   __clsAddMsg( getNew():hClass, "MYMSG", @myMethod(), HB_OO_MSG_METHOD,, ;
>                HB_OO_CLSTP_EXPORTED )

Running this sample:

#include "Hbclass.ch"


FUNCTION MAIN()

    LOCAL GetList := {}

    LOCAL cVar := SPACE( 35 )

    #ifndef __XHARBOUR__
        __CLSADDMSG( getNew():hClass, "EMAG_SETPOS", @EMAG_SETPOS(), 
HB_OO_MSG_METHOD, , HB_OO_CLSTP_EXPORTED )
    #endif

    @ 1, 1 GET cVar

    READ

    RETURN NIL


STATIC FUNCTION EMAG_SETPOS( nPos )

    LOCAL Self := QSELF()

    ::nPos = nPos

    RETURN nPos

I get a red alert saying:

Error BASE/1004  Message not found: GET:HCLASS

Where am I wrong?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lorenzo.fiorini at gmail.com  Fri Feb 20 07:01:46 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 20 07:01:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10356] trunk/harbour
In-Reply-To: <20090220113212.GB967@uran.home.aster.pl>
References: <E1LaLnu-0004Xp-RB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0902200232i7b6fa0cejd0f23266e48692c2@mail.gmail.com>
	<20090220113212.GB967@uran.home.aster.pl>
Message-ID: <9257026e0902200401o5dd8242fsa9cf92684d99f5cd@mail.gmail.com>

On Fri, Feb 20, 2009 at 12:32 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

>> Now I can remove my patches for palette.
>> The only hack I still have in gtxwc is to simulate: HB_GTI_CLOSABLE.
>
> Can you send the .diff here?

I've simply commented out:

         /*
         if( ( Atom ) evt->xclient.data.l[ 0 ] == s_atomDelWin )
         {
            hb_vmRequestQuit();
         }
         break;
         */

> ??? I'm not sure what is the real problem.

I've done many tests but I cannot find a rule that explain it.
The goal is to find a font more readable than fixed at pxlsz less than 18.
I understand that this is "personal" but when many users complain it
become "business" :)

> In GTXWC there are two compile time switches which can be used to
> "fix" font metrics:
>   #define XWC_DEFAULT_FONT_FIXMETRIC  FALSE
>   #define XWC_DEFAULT_FONT_CLRBKG     FALSE
>
> You can enable them and makes some experiments but they reduce the speed.

Thanks, I'll do some tests.

> I guess that you are not talking about font family ("fmly") but about
> font definition. Try to use only fonts with "slant" = 2 and character
> or monotype spacing ("spc" = "c" or "spc" = "m").

xfontsel defines "slant" = *, (nil), i, o, r

best regards,
Lorenzo
From druzus at users.sourceforge.net  Fri Feb 20 07:13:06 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb 20 07:13:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10362] trunk/harbour
Message-ID: <E1LaUFe-0005ui-ER@c3vjzd1.ch3.sourceforge.com>

Revision: 10362
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10362&view=rev
Author:   druzus
Date:     2009-02-20 12:13:05 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 13:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/classes.c
    * cleanup comment

  * harbour/source/rtl/gttrm/gttrm.c
    + added support for HB_GTI_PALETTE - it's supported only by Linux console
      and PuTTY/PTerm

  * harbour/source/rtl/gtxwc/gtxwc.c
  * harbour/source/rtl/gtwvt/gtwvt.c
  * harbour/contrib/gtwvg/gtwvg.c
    ! fixed indexes in
         hb_gtInfo( HB_GTI_PALLETE, <nIndex> [, <nNewRGBcolor> ] )
      They should be the same as in our screen buffer: 0-based not one
      based.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/source/rtl/gttrm/gttrm.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/rtl/gtxwc/gtxwc.c
    trunk/harbour/source/vm/classes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb 20 07:20:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 20 07:14:52 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <09A6E6E807264E24B944750FD73D0888@emag>
References: <20090220112214.GA967@uran.home.aster.pl>
	<09A6E6E807264E24B944750FD73D0888@emag>
Message-ID: <20090220122003.GA25783@uran.home.aster.pl>

On Fri, 20 Feb 2009, Enrico Maria Giordano wrote:
> Running this sample:
[...]
> I get a red alert saying:
> Error BASE/1004  Message not found: GET:HCLASS
> Where am I wrong?

My typo, classH not Hclass.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Feb 20 07:21:38 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 20 07:16:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10356] trunk/harbour
In-Reply-To: <9257026e0902200401o5dd8242fsa9cf92684d99f5cd@mail.gmail.com>
References: <E1LaLnu-0004Xp-RB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0902200232i7b6fa0cejd0f23266e48692c2@mail.gmail.com>
	<20090220113212.GB967@uran.home.aster.pl>
	<9257026e0902200401o5dd8242fsa9cf92684d99f5cd@mail.gmail.com>
Message-ID: <20090220122138.GB25783@uran.home.aster.pl>

On Fri, 20 Feb 2009, Lorenzo Fiorini wrote:
> xfontsel defines "slant" = *, (nil), i, o, r

Sorry my typo, Thought about 'r'.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Feb 20 07:30:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 20 07:25:22 2009
Subject: [Harbour] two questions for windows guru
Message-ID: <20090220123031.GA2295@uran.home.aster.pl>

Hi All,

I have two questions to windows users. Maybe someone can help me.
1. is it possible to include unicode table with unicode character
   value to raster font stored in .fon file or I can only set
   the "MS official" codepage number?
2. can I attach raster font in .fon or .fnt file to final executable
   binaries f.e. using resource compiler and then use this font in
   the application working with different windows versions?

Thanks for any help.

best regards,
Przemek
From vszakats at users.sourceforge.net  Fri Feb 20 07:26:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 07:26:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10363] trunk/harbour
Message-ID: <E1LaUSA-0005za-MY@3kljzd1.ch3.sourceforge.com>

Revision: 10363
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10363&view=rev
Author:   vszakats
Date:     2009-02-20 12:26:01 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 13:08 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
    + Added generation of hbmkcfg.hbp.
      gt override, cflags, ldflags and slang/curses libs are
      currently added.
    ; TODO: Add this file to distro packages.

  * utils/hbmk2/hbmk2.prg
    ! Fixed handling of -DHB_EXT_ZLIB.
    ! Fixed handling of -DHB_PCRE_REGEX.
    + Added support for -DHB_POSIX_REGEX.
    ! Removed -mconsole from *nix gccs too.
    + Added new Linux targets mingw and mingwce for future
      cross compiling support.
    + Added remaining system libs for linux, sunos and hpux.
    + Added a more complete set of win system libs for mingw.
      TODO: Some more generic solution needs to be developed
            because currently the win systems libs add by our
            tools are pretty much random across the different
            supported compilers.
    + Added system lib list for mingwce.
    + Path separator translation for mingwce.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb 20 07:34:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 20 07:29:12 2009
Subject: [Harbour] __PLATFORM__*
Message-ID: <20090220123424.GB2295@uran.home.aster.pl>

Hi Viktor,

You recently made some modifications in hb_verPlatform() which broke
__PLATFORM__* predefined macro. F.e. now when I try to create windows
binaries it fails because __PLATFORM__WINDOWS is not defined but
I have __PLATFORM__WINE :-0
I do not know what else can be effected but please fix it.
If you want to add any extended information then it should be
after the 1-st space in platform name.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Fri Feb 20 07:43:07 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 20 07:43:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10356] trunk/harbour
In-Reply-To: <20090220113212.GB967@uran.home.aster.pl>
References: <E1LaLnu-0004Xp-RB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0902200232i7b6fa0cejd0f23266e48692c2@mail.gmail.com>
	<20090220113212.GB967@uran.home.aster.pl>
Message-ID: <9257026e0902200443jb3f26c2iaea72dccc27231a0@mail.gmail.com>

On Fri, Feb 20, 2009 at 12:32 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> In GTXWC there are two compile time switches which can be used to
> "fix" font metrics:
>   #define XWC_DEFAULT_FONT_FIXMETRIC  FALSE
>   #define XWC_DEFAULT_FONT_CLRBKG     FALSE

I'm working with 1.0.1 under Ubuntu now but I can choose many fonts
without any garbage.

Could it be that XWC_DEFAULT_FONT_FIXMETRIC  TRUE cures it?

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Fri Feb 20 07:44:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 07:44:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10364] trunk/harbour
Message-ID: <E1LaUjk-0006Hg-UO@3kljzd1.ch3.sourceforge.com>

Revision: 10364
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10364&view=rev
Author:   vszakats
Date:     2009-02-20 12:44:11 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 13:43 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/common/hbver.c
    ! Fixed hb_verPlatform() to avoid confusion for other
      parts of Harbour (and maybe even app code) parsing the
      returned string and expecting some format. NOTE added
      about this to source to avoid similar errors in future.
      The Wine text got moved between the Windows name and
      version number, and have been put into paranthesis:
      Like: 'Windows XP SP3 (Wine) 5.1'. Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbver.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb 20 07:51:36 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 20 07:46:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10364] trunk/harbour
In-Reply-To: <E1LaUjk-0006Hg-UO@3kljzd1.ch3.sourceforge.com>
References: <E1LaUjk-0006Hg-UO@3kljzd1.ch3.sourceforge.com>
Message-ID: <20090220125135.GA30185@uran.home.aster.pl>

On Fri, 20 Feb 2009, vszakats@users.sourceforge.net wrote:
> 2009-02-20 13:43 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * source/common/hbver.c
>     ! Fixed hb_verPlatform() to avoid confusion for other
>       parts of Harbour (and maybe even app code) parsing the
>       returned string and expecting some format. NOTE added
>       about this to source to avoid similar errors in future.
>       The Wine text got moved between the Windows name and
>       version number, and have been put into paranthesis:
>       Like: 'Windows XP SP3 (Wine) 5.1'. Please test.

Thank you.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Feb 20 08:01:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 20 07:56:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10356] trunk/harbour
In-Reply-To: <9257026e0902200443jb3f26c2iaea72dccc27231a0@mail.gmail.com>
References: <E1LaLnu-0004Xp-RB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0902200232i7b6fa0cejd0f23266e48692c2@mail.gmail.com>
	<20090220113212.GB967@uran.home.aster.pl>
	<9257026e0902200443jb3f26c2iaea72dccc27231a0@mail.gmail.com>
Message-ID: <20090220130118.GB30185@uran.home.aster.pl>

On Fri, 20 Feb 2009, Lorenzo Fiorini wrote:
> > In GTXWC there are two compile time switches which can be used to
> > "fix" font metrics:
> >   #define XWC_DEFAULT_FONT_FIXMETRIC  FALSE
> >   #define XWC_DEFAULT_FONT_CLRBKG     FALSE
> I'm working with 1.0.1 under Ubuntu now but I can choose many fonts
> without any garbage.
> Could it be that XWC_DEFAULT_FONT_FIXMETRIC  TRUE cures it?

Yes, it's possible.
When FIXMETRICS is set only single character is drawn and GTXWC
recalculates the position of next one. When it's not set then
many characters are set if they have the same foreground and
background colors. F.e. if you make
   ? "ABC"
then "ABC" is send to XServer as single string. If you set FixMetric to
TRUE then "A", "B" and "C" are send separately and for each character
new position is calculated. It allows to use some proportional fonts
but reduce the speed.
ClsrBkg enables additional clearing the background. By default characters
or strings are send with both foreground and background colors. But if
font metric is wrong then it's possible that not whole background area
will be written. If you set ClsrBkg to true then GTXWC write rectangle
in background color erasing the are before writing any character(s).
Both switches can be used separately and both causes some speed overhead.

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Fri Feb 20 08:21:14 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb 20 08:21:20 2009
Subject: [Harbour] Log from build.
In-Reply-To: <18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D612@PINK.zycie.pzu>

 ________________________________

	From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
	Sent: Friday, February 20, 2009 12:58 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] Log from build.
	
	
	Hi Marek, 

	Does hbmk2 work for you now?

	[ This GTWVG problem should be fixed by Pritpal, I cannot help. ]
	

	Brgds,
	Viktor
________________________________

Yes or maby.  I dont't can rules after run make_gnu.bat.
Now in bin subfolder have I :

???????????????????????? c:\harbour\bin ???????????????????[]??
?               Name                ?  Size   ?  Date  ?Time ? 

?..                                 ?<UP--DIR>?19-02-09?15:53? ?
?harbour                         exe?   566272?20-02-09?11:10? ?
?hb-func                          sh?    26623?06-02-09?18:15? ?
?hb-mkslib                        sh?     4458?06-02-09?18:15? ?
?hbdoc                           exe?   718336?20-02-09?11:40? ?
?hbi18n                          exe?   544768?20-02-09?11:39? ?
?hbmk                            bat?       94?17-02-09?11:35? ?
?hbmk2                           exe?   517120?20-02-09?11:40? ?



I make again this process, without einvirnment variables in shell (command, CMD, ndn) :

rem set HB_BIN_INSTALL=C:\harbour\bin
rem set HB_LIB_INSTALL=C:\harbour\lib
rem set HB_INC_INSTALL=C:\harbour\include

Because in make_gnu.bat char '\' is defined as '/' :
if "%HB_INC_INSTALL%" == "" set HB_INC_INSTALL=%HB_INSTALL_PREFIX%/include

And result after make_gnu clean is :
c:\harbour>set hb_                
HB_ARCHITECTURE=win               
HB_COMPILER=owatcom               
                                  
c:\harbour>make_gnu.bat           
make[3]: *** [wvgcore.obj] Error 8
make[2]: *** [descend] Error 2    
make[1]: *** [gtwvg] Error 2      
make: *** [contrib] Error 2       
                                  
c:\harbour>make_gnu.bat install   
make[3]: *** [wvgcore.obj] Error 8
make[2]: *** [descend] Error 2    
make[1]: *** [gtwvg.inst] Error 2 
make: *** [contrib.inst] Error 2  


Pritpal, are you read here about this error in wvgcore ?

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Fri Feb 20 08:59:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 08:59:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10365] trunk/harbour
Message-ID: <E1LaVug-0004wS-BF@bj8yhf1.ch3.sourceforge.com>

Revision: 10365
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10365&view=rev
Author:   vszakats
Date:     2009-02-20 13:59:33 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 14:57 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
    + Added gpm lib to config file when mouse is enabled at build time.

  * utils/hbmk2/hbmk2.prg
    ! Fixed not to use '$' sign in generated temp filename.
    ! Fixed recent typo causing RTE in *nix.
    ; After these changes linux/gcc works out of the box, but 
      it still needs tweaking (x11, other libs).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Feb 20 09:02:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 20 09:02:58 2009
Subject: [Harbour] Log from build.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D612@PINK.zycie.pzu>
References: <18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D612@PINK.zycie.pzu>
Message-ID: <609353e70902200602s1b82751flf0479a511d60da9f@mail.gmail.com>

If i try recomile with new mane system recevive error
set HB_ARCHITECTURE=win
set HB_COMPILER=owatcom
SET WATCOM=c:\devl\watcom
SET PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\minigw32-make;%PATH%
SET BEGINLIBPATH=%WATCOM%\BINP\DLL
SET EDPATH=%WATCOM%\EDDAT
SET INCLUDE=%WATCOM%\H\OS2;%WATCOM%\H
SET HELP=%WATCOM%\BINP\HELP;%HELP%
SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
set HB_BIN_INSTALL=C:\harbour\bin\
set HB_LIB_INSTALL=C:\harbour\lib\
set HB_INC_INSTALL=C:\harbour\include\

manualy go to harbour dir
make clean > nul
make install %1 %2 %3 -r SHELL=%COMSPEC%


----------------error
make[3]: Entering directory `C:/harbour/source/common/win/owatcom'
wpp386     ../../expropt1.c -fo=expropt1.obj
This is an OS/2 32-bit executable
make[3]: *** [expropt1.obj] Error 1
make[3]: Leaving directory `C:/harbour/source/common/win/owatcom'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `C:/harbour/source/common'
make[1]: *** [common.inst] Error 2
make[1]: Leaving directory `C:/harbour/source'
make: *** [source.inst] Error 2

2009/2/20 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>  ________________________________
>
>        From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
>        Sent: Friday, February 20, 2009 12:58 PM
>        To: Harbour Project Main Developer List.
>        Subject: Re: [Harbour] Log from build.
>
>
>        Hi Marek,
>
>        Does hbmk2 work for you now?
>
>        [ This GTWVG problem should be fixed by Pritpal, I cannot help. ]
>
>
>        Brgds,
>        Viktor
> ________________________________
>
> Yes or maby.  I dont't can rules after run make_gnu.bat.
> Now in bin subfolder have I :
>
> ???????????????????????? c:\harbour\bin ???????????????????[ ]??
> ?               Name                ?  Size   ?  Date  ?Time ?
> ?..                                 ?<UP--DIR>?19-02-09?15:53? ?
> ?harbour                         exe?   566272?20-02-09?11:10? ?
> ?hb-func                          sh?    26623?06-02-09?18:15? ?
> ?hb-mkslib                        sh?     4458?06-02-09?18:15? ?
> ?hbdoc                           exe?   718336?20-02-09?11:40? ?
> ?hbi18n                          exe?   544768?20-02-09?11:39? ?
> ?hbmk                            bat?       94?17-02-09?11:35? ?
> ?hbmk2                           exe?   517120?20-02-09?11:40? ?
>
>
>
> I make again this process, without einvirnment variables in shell (command, CMD, ndn) :
>
> rem set HB_BIN_INSTALL=C:\harbour\bin
> rem set HB_LIB_INSTALL=C:\harbour\lib
> rem set HB_INC_INSTALL=C:\harbour\include
>
> Because in make_gnu.bat char '\' is defined as '/' :
> if "%HB_INC_INSTALL%" == "" set HB_INC_INSTALL=%HB_INSTALL_PREFIX%/include
>
> And result after make_gnu clean is :
> c:\harbour>set hb_
> HB_ARCHITECTURE=win
> HB_COMPILER=owatcom
>
> c:\harbour>make_gnu.bat
> make[3]: *** [wvgcore.obj] Error 8
> make[2]: *** [descend] Error 2
> make[1]: *** [gtwvg] Error 2
> make: *** [contrib] Error 2
>
> c:\harbour>make_gnu.bat install
> make[3]: *** [wvgcore.obj] Error 8
> make[2]: *** [descend] Error 2
> make[1]: *** [gtwvg.inst] Error 2
> make: *** [contrib.inst] Error 2
>
>
> Pritpal, are you read here about this error in wvgcore ?
>
> Regards,
> Marek Horodyski
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From vszakats at users.sourceforge.net  Fri Feb 20 09:15:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 09:15:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10366] trunk/harbour
Message-ID: <E1LaWAU-0005Fk-VT@bj8yhf1.ch3.sourceforge.com>

Revision: 10366
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10366&view=rev
Author:   vszakats
Date:     2009-02-20 14:15:53 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 15:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    * Removed -q0 default Harbour option.
    * Turned off informational messages. (turn it on with -info)
    * Help screen made shorter.
    + Added -help option to show the full help.
    * Showing no logo for normal operation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Fri Feb 20 09:18:50 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb 20 09:18:55 2009
Subject: [Harbour] Log from build.
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D660@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Friday, February 20, 2009 2:21 PM
>To: 'Harbour Project Main Developer List.'
>Subject: RE: [Harbour] Log from build.
>
> ________________________________
>
>	From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>	Sent: Friday, February 20, 2009 12:58 PM
>	To: Harbour Project Main Developer List.
>	Subject: Re: [Harbour] Log from build.
>	
>	
>	Hi Marek, 
>
>	Does hbmk2 work for you now?
>
>	[ This GTWVG problem should be fixed by Pritpal, I 
>cannot help. ]
>	
>
>	Brgds,
>	Viktor
>________________________________


I would forget, now test compilation work.

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Fri Feb 20 09:30:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 09:30:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10367] trunk/harbour
Message-ID: <E1LaWOj-0005XE-Gu@bj8yhf1.ch3.sourceforge.com>

Revision: 10367
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10367&view=rev
Author:   vszakats
Date:     2009-02-20 14:30:36 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 15:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * Makefile
   * bin/postinst.bat
   + bin/postinst.cmd
     + Added postinst for OS/2.

   * utils/hbmk2/hbmk2.prg
     * Minor in comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/Makefile
    trunk/harbour/bin/postinst.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/bin/postinst.cmd


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 20 09:48:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 09:49:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10368] trunk/harbour
Message-ID: <E1LaWgS-0005u2-TL@bj8yhf1.ch3.sourceforge.com>

Revision: 10368
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10368&view=rev
Author:   vszakats
Date:     2009-02-20 14:48:55 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 15:47 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
    ! Two typos.
    - Disabled slang/ncurses lib stuff.

  * utils/hbmk2/hbmk2.prg
    ! Fixed to put a space after -o gcc option for darwin.
    ; This makes hbmk2 work under darwin (for basic cases).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Feb 20 10:14:12 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 20 10:14:16 2009
Subject: [Harbour] Log from build.
In-Reply-To: <18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>
	<18d502870902180737j69faba2dh7dd7ffe61807948c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D228@PINK.zycie.pzu>
	<609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>
	<18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
	<18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
	<18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
Message-ID: <22120432.post@talk.nabble.com>


Hi

I have looked into but don't know what to fix. 
Investigating.

Pritpal


Hi Marek,
Does hbmk2 work for you now?

[ This GTWVG problem should be fixed by Pritpal, I cannot help. ]

Brgds,
Viktor



-- 
View this message in context: http://www.nabble.com/Log-from-build.-tp22080896p22120432.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Feb 20 10:20:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 20 10:20:35 2009
Subject: [Harbour] Log from build.
In-Reply-To: <22120432.post@talk.nabble.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D228@PINK.zycie.pzu>
	<609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>
	<18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
	<18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
	<18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
	<22120432.post@talk.nabble.com>
Message-ID: <18d502870902200720t2346e229rc09ed0a836436172@mail.gmail.com>

Hi Pritpal,

Just a guess, but I've recently noticed when fixing Watcom compile problems
that you don't use a macro which is needed
to make OLE code portable, maybe this is the problem, see
HB_ID_REF() in hbole and hbwin.
Even better would be to not have 3 (!) OLE interface
implementations inside the Harbour tree ;)

Brgds,
Viktor

On Fri, Feb 20, 2009 at 4:14 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
> I have looked into but don't know what to fix.
> Investigating.
>
> Pritpal
>
>
> Hi Marek,
> Does hbmk2 work for you now?
>
> [ This GTWVG problem should be fixed by Pritpal, I cannot help. ]
>
> Brgds,
> Viktor
>
>
>
> --
> View this message in context:
> http://www.nabble.com/Log-from-build.-tp22080896p22120432.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/c00841f6/attachment-0001.html
From lorenzo.fiorini at gmail.com  Fri Feb 20 10:23:33 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 20 10:23:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10356] trunk/harbour
In-Reply-To: <20090220130118.GB30185@uran.home.aster.pl>
References: <E1LaLnu-0004Xp-RB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0902200232i7b6fa0cejd0f23266e48692c2@mail.gmail.com>
	<20090220113212.GB967@uran.home.aster.pl>
	<9257026e0902200443jb3f26c2iaea72dccc27231a0@mail.gmail.com>
	<20090220130118.GB30185@uran.home.aster.pl>
Message-ID: <9257026e0902200723w7eec3c03wac0c4a4e5f4f5bac@mail.gmail.com>

On Fri, Feb 20, 2009 at 2:01 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Both switches can be used separately and both causes some speed overhead.

Many, many thanks again.

With both TRUE almost every font can used even if proportional and
also under xfs based distro like Centos 5.2. Clearly not all are good,
but now there are choices.

On a LAN I don't see speed problems.

I've moved back to 1.0.1 since 1.1 is still under heavy development so
I can't use new HB_GTI_FONTSEL but "rgstry-encdng" matters.
An idea could be to use "xlsfonts" to find out the candidates but for
the time being I'll hard code few "certified" configurations to avoid
"mistakes" ( f.e. using the app from Mac's X11 via ssh -X the font
that works under Linux may not work ).

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Feb 20 10:24:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 20 10:25:03 2009
Subject: [Harbour] Log from build.
In-Reply-To: <18d502870902200720t2346e229rc09ed0a836436172@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>
	<609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>
	<18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
	<18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
	<18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
	<22120432.post@talk.nabble.com>
	<18d502870902200720t2346e229rc09ed0a836436172@mail.gmail.com>
Message-ID: <18d502870902200724p24330bbaq78ce652fcc35da96@mail.gmail.com>

Hi Pritpal

If you're looking at it, there are errors also in MSVC amd64 mode:
(plus some warnings which may need attention)

---
.\gtwvg.c(3332) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(3344) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(3388) : warning C4244: 'function' : conversion from 'int' to
'BYTE', possible loss of data
.\gtwvg.c(3411) : warning C4244: '=' : conversion from 'HB_LONG' to 'DWORD',
possible loss of data
.\gtwvg.c(3416) : warning C4244: '=' : conversion from 'HB_LONG' to 'DWORD',
possible loss of data
.\gtwvg.c(3421) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\gtwvg.c(3426) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\gtwvg.c(3431) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\gtwvg.c(3436) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\gtwvg.c(4230) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
wvgwin.c
C:\Program Files\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
warning C4201: nonstandard extension used : nameless struct/union
.\wvgwin.c(891) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(894) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(914) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(1288) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(1291) : warning C4244: '=' : conversion from 'LONG' to 'USHORT',
possible loss of data
.\wvgwin.c(1407) : error C2065: 'GWL_WNDPROC' : undeclared identifier
.\wvgwin.c(1407) : warning C4305: 'type cast' : truncation from 'WNDPROC' to
'long'
.\wvgwin.c(1407) : warning C4306: 'type cast' : conversion from 'LONG' to
'WNDPROC' of greater size
.\wvgwin.c(1429) : warning C4244: 'function' : conversion from 'HB_LONG' to
'UINT', possible loss of data
.\wvgwin.c(1464) : warning C4244: 'function' : conversion from 'DWORD_PTR'
to 'LONG', possible loss of data
.\wvgwin.c(1532) : warning C4305: 'type cast' : truncation from 'HTREEITEM'
to 'long'
.\wvgwin.c(1542) : warning C4267: 'function' : conversion from 'size_t' to
'ULONG', possible loss of data
.\wvgwin.c(1547) : warning C4305: 'type cast' : truncation from 'HTREEITEM'
to 'long'
.\wvgwin.c(1557) : warning C4267: 'function' : conversion from 'size_t' to
'ULONG', possible loss of data
.\wvgwin.c(1599) : warning C4305: 'type cast' : truncation from 'HTREEITEM'
to 'long'
.\wvgwin.c(1775) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvgwin.c(1783) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvgwin.c(2034) : error C2065: 'GCL_HBRBACKGROUND' : undeclared identifier
.\wvgwin.c(2060) : warning C4244: 'function' : conversion from 'int' to
'BYTE', possible loss of data
.\wvgwin.c(2091) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
.\wvgwin.c(2092) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(2097) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(2113) : warning C4244: '=' : conversion from 'LRESULT' to 'BOOL',
possible loss of data
.\wvgwin.c(2131) : warning C4244: '=' : conversion from 'LRESULT' to 'BOOL',
possible loss of data
.\wvgwin.c(2153) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
.\wvgwin.c(2155) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(2171) : warning C4244: 'function' : conversion from 'LRESULT' to
'int', possible loss of data
.\wvgwin.c(2180) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
wvggui.c
C:\Program Files\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
warning C4201: nonstandard extension used : nameless struct/union
.\wvggui.c(2039) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvggui.c(2051) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvggui.c(2095) : warning C4244: 'function' : conversion from 'int' to
'BYTE', possible loss of data
.\wvggui.c(2117) : warning C4244: '=' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvggui.c(2122) : warning C4244: '=' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvggui.c(2127) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\wvggui.c(2132) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\wvggui.c(2137) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\wvggui.c(2142) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
Generating Code...
---

Brgds,
Viktor

On Fri, Feb 20, 2009 at 4:20 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi Pritpal,
>
> Just a guess, but I've recently noticed when fixing Watcom compile
> problems that you don't use a macro which is needed
> to make OLE code portable, maybe this is the problem, see
> HB_ID_REF() in hbole and hbwin.
> Even better would be to not have 3 (!) OLE interface
> implementations inside the Harbour tree ;)
>
> Brgds,
> Viktor
>
>
> On Fri, Feb 20, 2009 at 4:14 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:
>
>>
>> Hi
>>
>> I have looked into but don't know what to fix.
>> Investigating.
>>
>> Pritpal
>>
>>
>> Hi Marek,
>> Does hbmk2 work for you now?
>>
>> [ This GTWVG problem should be fixed by Pritpal, I cannot help. ]
>>
>> Brgds,
>> Viktor
>>
>>
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Log-from-build.-tp22080896p22120432.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/df6f889a/attachment.html
From druzus at acn.waw.pl  Fri Feb 20 12:25:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 20 12:20:35 2009
Subject: [Harbour] Log from build.
In-Reply-To: <22120432.post@talk.nabble.com>
References: <18d502870902180737j69faba2dh7dd7ffe61807948c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D228@PINK.zycie.pzu>
	<609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>
	<18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
	<18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
	<18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
	<22120432.post@talk.nabble.com>
Message-ID: <20090220172547.GA25539@uran.home.aster.pl>

On Fri, 20 Feb 2009, Pritpal Bedi wrote:

Hi,

> I have looked into but don't know what to fix. 
> Investigating.

Maybe this help you:

wvgsink.c[369]:
   return( ( ULONG ) ( ( MyRealIEventHandler * ) this )->count < 0 ? ( ( MyRealIEventHandler * ) this )->count : 0 );
What this ULONG does? For sure after casting this value is _NEVER_
smaller then 0.

wvgsink.c[996]: warning: empty body in an if-statement
probably typo ';' directly after after if(...);

wvgsink.c[989,993]: add ( HB_PTRDIFF ) casting to hb_parnint( 2 ) value.

BTW:
wapi_commctrl.c[105] warning: implicit declaration of function `ImageList_Copy'
wapi_commctrl.c[225] warning: implicit declaration of function `ImageList_Duplicate'
wapi_commctrl.c[439] warning: implicit declaration of function `ImageList_SetImageCount'

For these functions _WIN32_IE should be checked.

#if (_WIN32_IE >= 0x0300) // ImageList_Copy
#if (_WIN32_IE >= 0x0400) // ImageList_Duplicate
#if (_WIN32_IE >= 0x0400) // ImageList_SetImageCount

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Feb 20 12:31:15 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb 20 12:31:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10369] trunk/harbour
Message-ID: <E1LaZDX-0007Hw-2j@d5vjzd1.ch3.sourceforge.com>

Revision: 10369
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10369&view=rev
Author:   druzus
Date:     2009-02-20 17:31:13 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 18:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtxwc/gtxwc.c
  * harbour/source/rtl/gttrm/gttrm.c
    * reverted the RGB numeric color definition to be compatible
      with Windows GTs which seems to use RGB values directly.
      Users who use to define RGB colors in hex notation (0xRRGGBB)
      should now remember that it's BGR definition (0xBBGGRR).
      Why MS have to make everything in reverted way?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gttrm/gttrm.c
    trunk/harbour/source/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Fri Feb 20 12:43:00 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb 20 12:45:03 2009
Subject: [Harbour] two questions for windows guru
In-Reply-To: <20090220123031.GA2295@uran.home.aster.pl>
References: <20090220123031.GA2295@uran.home.aster.pl>
Message-ID: <499EEBA4.3080700@dbtopas.lt>

Hi,


> I have two questions to windows users. Maybe someone can help me.
> 1. is it possible to include unicode table with unicode character
>    value to raster font stored in .fon file or I can only set
>    the "MS official" codepage number?

I know nothing about internal font structure, so, I don't know.


> 2. can I attach raster font in .fon or .fnt file to final executable
>    binaries f.e. using resource compiler and then use this font in
>    the application working with different windows versions?

Any file can be attached to .res file or final executable. For example, 
we use:

.rc file:
-------------------------------------
en_US	I18N	I18N\takas_en_US.pob


.prg code:
-------------------------------------
   cLang := "en_US"
   cDump := HB_i18n_Load( cLang )
   IF cDump != NIL .AND. VALTYPE(s_aStrings:=HB_DESERIALIZE(cDump))=="H"
      ...
   ENDIF


#pragma begindump
#include "windows.h"
#include "hbapi.h"
HB_FUNC( HB_I18N_LOAD )
{
     HGLOBAL  hMem;
     HRSRC    hRes;
     DWORD    dwLen;
     void*    pMem;

     hRes = FindResource( NULL, hb_parc( 1 ), "I18N" );
     if ( ! hRes )
     {
        hb_ret();
        return;
     }

     dwLen = SizeofResource( NULL, hRes );
     hMem = LoadResource( NULL, hRes );
     if ( ! hMem )
     {
        hb_ret();
        return;
     }

     pMem = LockResource( hMem );
     if( ! pMem )
     {
        hb_ret();
        return;
     }
     hb_retclen( (char*) pMem, dwLen );
}
#pragma enddump

So, You can attach any file to resource, but, I do not know if there are 
some special windows functions to work with "FONT" type resource (like, 
for example DialogBox() loads resource of "DIALOG" type).


Regards,
Mindaugas

From vszakats at users.sourceforge.net  Fri Feb 20 13:06:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 13:06:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10370] trunk/harbour
Message-ID: <E1LaZli-0004mm-Eh@3kljzd1.ch3.sourceforge.com>

Revision: 10370
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10370&view=rev
Author:   vszakats
Date:     2009-02-20 18:06:33 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 19:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
    ! Fixed gtalleg lib name.
    % Removed explicit harbour -gc0 option. This is now the default.

  * utils/hbmk2/hbmk2.prg
    + Added fmstat/nofmstat support.
    ! Minor fix to allow more freedom in formatting inside .hbp files.
    ! Fixed to delete prg stub file when using -hbcc option.
    + Added Copyright section for Przemek for the ideas I've
      borrowed from hbmk script and contributed code.
    + Detect platform default GT and only create stub if the
      user selected GT is different.
    + Now using versions shared libs on *nixes.
    + Mode detection now regards the ending or the beginning
      of the original name, so prefixed or postfixed names will
      also be recognized: xhbcmp, hbcmpx, myhbcmp.
    ! Fixed to multiple -gt options override each other so the
      last one will be effective.
    ! Fixed error message text when stub cannot be created.
      Furthermore in this case hbmk will now quit.
    + Also using '-Wl,--start-group' for bsd (from hbmk script).
    + Added '-bind_at_load', '-multiply_defined suppress' gcc
      options for darwin shared mode (from hbmk script).
    * Changed stub name to hbstub (from hbmkgt).
    * pthread lib handling streamlined based on hbmk script,
      but this probably needs further cleaning as the script
      isn't clear to me here.
    + Added fmstat/nofmstat switch. It most probably needs some
      tweaking, as the conditions seem rather sophisticated here.
      TODO: For non-*nix/non-gcc platforms (msvc/bcc32/owatcom
            most importantly).
    + Added system libs for darwin if gtcrs or gtsln are selected.
      (nslang isn't a default lib here, so it won't work on plain
      installations, slang however will).
    + Missed from previous commit: Fix so that -nohbp doesn't
      prevent processing the global config .hbp file.
    ! Fixed typo in prev commit.

  * utils/hbmk2/examples/contrib.hbp
    - Removed hbtip as it's not fully portable (dos).
  + utils/hbmk2/examples/contribf.hbp
    + Added complete database of contrib, with
      availability information.

  * contrib/xhb/Makefile
  * contrib/hbmsql/Makefile
  * contrib/hbmzip/Makefile
  * contrib/hbziparc/Makefile
  * contrib/hbnf/Makefile
  * contrib/hbmisc/Makefile
  * contrib/hbvpdf/Makefile
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/contrib/hbmisc/Makefile
    trunk/harbour/contrib/hbmsql/Makefile
    trunk/harbour/contrib/hbmzip/Makefile
    trunk/harbour/contrib/hbnf/Makefile
    trunk/harbour/contrib/hbvpdf/Makefile
    trunk/harbour/contrib/hbziparc/Makefile
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/utils/hbmk2/examples/contrib.hbp
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/utils/hbmk2/examples/contribf.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb 20 13:10:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 20 13:10:41 2009
Subject: [Harbour] two questions for windows guru
In-Reply-To: <499EEBA4.3080700@dbtopas.lt>
References: <20090220123031.GA2295@uran.home.aster.pl>
	<499EEBA4.3080700@dbtopas.lt>
Message-ID: <18d502870902201010q38e13318p18c34a3592aebd9b@mail.gmail.com>

Hi,


> #pragma begindump
> #include "windows.h"
> #include "hbapi.h"
> HB_FUNC( HB_I18N_LOAD )


You can find a new generic function in hbwin lib for exactly
such purpose:

WIN_LOADRESOURCE( <cName>, <cType> ) -> <cContent> | NIL

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/558f4abd/attachment.html
From harbour.01 at syenar.hu  Fri Feb 20 13:28:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 20 13:28:09 2009
Subject: [Harbour] hbmk2.prg - few notes
In-Reply-To: <20090219004352.GA32330@uran.home.aster.pl>
References: <20090219004352.GA32330@uran.home.aster.pl>
Message-ID: <18d502870902201028v5047f421xad669a4471e44909@mail.gmail.com>

Hi Przemek and all,
I've implemented almost all your requests by now (at
least I tried), so if you can invest some time in it I'd
appreciate your feedback very much. [ First I recommend
reading the relevant ChangeLog entries. ]

Of course I'd equally invite everyone on any platforms,
with any compilers for similar testing and feedback.

Most probably there are several gcc details which need
further tweaking, but conceptually it should be about
ready. And yeah, the code could now use a cleanup
in the compiler rule definition part, we should probably
have some generic internal representation of the rules,
but first I'd like to see the full feature set we need to
work with.

Few missing parts are gtcrs and gtsln handling, some still
missing syslibs, like X11, startup function detection, MAIN()
override, and -n issue. Overall I feel that while harbour exe
have to be compatible with Clipper command line to its
fullest, with hbmk we have some freedom to depart from
the heritage and by all standards a main entry function
isn't a bad idea, I assume most non-heritage code has
one, or it can be added in a minute, so, I'd rather make it
the sane default here with an option to override it.

Brgds,
Viktor

On Thu, Feb 19, 2009 at 1:43 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> Hi Viktor,
>
> I've just tried hbmk2.prg and I have few notes about it.
>
> 1. the C compiler auto detection should be extended to use also
>   compiler used to compile Harbour.
>   This is peace of code I was using from my hb-tools.prg:
>
>
>      if empty( s_hb_compiler )
>         cEnv := getEnv( "HB_COMPILER" )
>         if !empty( cEnv )
>            s_hb_compiler := cEnv
>         else
>            cEnv := hb_compiler()
>            if ( "Borland" $ cEnv .or. "CodeGear" $ cEnv ) .and. ;
>                                       isExecutable( s_hb_ccprefix + "bcc32"
> )
>               s_hb_compiler := "bcc32"
>            elseif "DJGPP" $ cEnv .and. isExecutable( s_hb_ccprefix + "gcc"
> )
>               s_hb_compiler := "djgpp"
>            elseif "MinGW" $ cEnv .and. isExecutable( s_hb_ccprefix + "gcc"
> )
>               s_hb_compiler := "mingw"
>            elseif "GNU C++" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "g++" )
>               s_hb_compiler := "g++"
>            elseif "GNU C" $ cEnv .and. isExecutable( s_hb_ccprefix + "gcc"
> )
>               s_hb_compiler := "gcc"
>            elseif "Watcom C++" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "wpp386" )
>               s_hb_compiler := "wpp386"
>            elseif "Watcom C" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "wcc386" )
>               s_hb_compiler := "wcc386"
>            elseif "(XCC)" $ cEnv .and. isExecutable( s_hb_ccprefix + "xcc"
> )
>               s_hb_compiler := "xcc"
>            elseif "Pelles ISO C" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "pocc" )
>               s_hb_compiler := "pocc"
>            elseif "Digital Mars" $ cEnv .and. isExecutable( s_hb_ccprefix +
> "dmc" )
>               s_hb_compiler := "dmc"
>            elseif "Microsoft Visual C" $ cEnv .and. isExecutable(
> s_hb_ccprefix + "cl" )
>               s_hb_compiler := "msvc"
>            endif
>         endif
>      endif
>      /* in few cases compiler can be used only with single platform so we
>       * can always set it here overloading any auto detections
>       */
>      switch s_hb_compiler
>         case "mingw"
>         case "mingwce"
>         case "bcc32"
>         case "xcc"
>         case "pocc"
>         case "dmc"
>         case "msvc"
>            s_hb_arch := "win"
>            exit
>         case "djgpp"
>            s_hb_arch := "dos"
>            exit
>      endswitch
>
>
>
>   static function isExecutable( cExecName )
>      return findExecutable( cExecName ) != NIL
>
>   static function findExecutable( cExecName )
>      local cFile, cPath, cExt
>
>      hb_FNameSplit( cExecName,, @cExecName, @cExt )
>      #if defined( __PLATFORM__DOS ) .or. ;
>          defined( __PLATFORM__WINDOWS ) .or. ;
>          defined( __PLATFORM__OS2 )
>         if empty( cExt )
>            cExt := ".exe"
>         endif
>      #endif
>
>      hb_FNameSplit( hb_argv( 0 ), @cPath )
>      if !empty( cPath )
>         cFile := hb_FNameMerge( cPath, cExecName, cExt )
>         if hb_fileExists( cFile )
>            return cFile
>         endif
>      endif
>
>      for each cPath in hb_aTokens( getEnv( "PATH" ),
> hb_osPathListSeparator() )
>         cFile := hb_FNameMerge( cPath, cExecName, cExt )
>         if hb_fileExists( cFile )
>            return cFile
>         endif
>      next
>
>      return NIL
>
> 2. install dir auto detection should be updated.
>   In general we have two version of installation:
>   a)
>      <basdir>/bin
>      <basdir>/include
>      <basdir>/lib
>   b)
>      <basdir>/bin
>      <basdir>/include/harbour
>      <basdir>/lib/harbour
>   so I was using this code:
>
>         if !empty( s_hb_hbexe )
>            hb_FNameSplit( s_hb_hbexe, @cBinPath )
>            if right( cBinPath, 1 ) $ hb_osPathDelimiters()
>               cBinPath := left( cBinPath, len( cBinPath ) - 1 )
>            endif
>            hb_FNameSplit( cBinPath, @cPath, @cName )
>            if lower( cName ) == "bin"
>               if !right( cPath, 1 ) $ hb_osPathDelimiters()
>                  cPath += hb_osPathSeparator()
>               endif
>               if hb_dirExists( cPath + "lib" ) .and. hb_dirExists( cPath +
> "include" )
>                  if isLib( "hbvm", cPath + "lib" ) .and. ;
>                     hb_fileExists( cPath + "include" + hb_osPathSeparator()
> + "hbvm.h" )
>                     s_hb_bindir := cBinPath
>                     s_hb_libdir := cPath + "lib"
>                     s_hb_incdir := cPath + "include"
>                  elseif isLib( "hbvm", cPath + "lib" + hb_osPathSeparator()
> + ;
>                                "harbour" ) .and. ;
>                         hb_fileExists( cPath + "include" +
> hb_osPathSeparator() + ;
>                                        "harbour" + hb_osPathSeparator() +
> "hbvm.h" )
>                     s_hb_bindir := cBinPath
>                     s_hb_libdir := cPath + "lib" + hb_osPathSeparator() +
> "harbour"
>                     s_hb_incdir := cPath + "include" + hb_osPathSeparator()
> + "harbour"
>                  endif
>               endif
>            endif
>         endif
>
>
>      static function isLib( cLib, cPath )
>         return hb_fileExists( iif( cPath == NIL, s_hb_libdir, cPath ) + ;
>                               hb_osPathSeparator() + ;
>                               s_hb_libpfx + cLib + s_hb_libext )
>
>
> 3. in *nixes GTCGI have to be used as GT driver in hbmk.prg
>   otherwise output from external command is lost. Probably
>   it should be default also for all other platforms.
>
> 4. Such tool should be as invisible as possible so it should not
>   any additional information until not explicitly requested by
>   some switch, f.e. -verbose or sth like that to not mix the
>   default output from executed compilers.
>   It will be good to have additional verbose level in which
>   executed command are shown before running compiler application
>   to verify final results, f.e. options included by -bldflags
>
> 5. non of Harbour compiler options ( -n -q -w -es2, ...) should
>   be enabled by default except the options necessary to compile
>   the code: -I<HarbourIncludeDir>, -D<crossBuildDefines>,
>   -undef:<crossBuildDefines> and of course -gc[0-3] to force .c
>   output but only if user does not specify other form, f.e. -gh.
>
> 6. -bldflags should be probably divided into C flags and .prg
>   flags. User may use completely different .prg flags then the ones
>   we used to build Harbour but need C flags which can be necessary
>   to create valid binaries.
>   It will be also good to add automatic support for inheriting some
>   C flags we know that are always necessary to create valid binaries,
>   f.e. -m32/-m64 on some platforms which can create 32 or 64 bit
>   binaries. For GCC I was always using this flags:
>         if s_hb_cc == "gcc" .or. s_hb_cc == "g++"
>            if     "-mlp64" $ s_hb_bldflags
>               s_hb_cc_opt -= " -mlp64"
>            elseif "-mlp32" $ s_hb_bldflags
>               s_hb_cc_opt -= " -mlp32"
>            elseif "-m64" $ s_hb_bldflags
>               s_hb_cc_opt -= " -m64"
>            elseif "-m32" $ s_hb_bldflags
>               s_hb_cc_opt -= " -m32"
>            endif
>            if     "-fPIC" $ s_hb_bldflags
>               s_hb_cc_opt -= " -fPIC"
>            elseif "-fpic" $ s_hb_bldflags
>               s_hb_cc_opt -= " -fpic"
>            endif
>         endif
>
> 7. output file name auto detection should respect the compilation
>   mode, f.e.  hbmk -cmp a.prg it should generate a.{o,obj} not 'a'
>   or 'a.exe'
>
> 8. When -l<libname> gcc option is used then <libname> should
>   not contain prefix (lib) and extension (.so,.dll,.a)
>
> 9. We should have support for passing object archives (.a) in
>   link file list and then pass it to GCC without -l parameter.
>   Using 'mylib.a' and '-lmylib' as GCC parameters has different
>   meaning so mylib.a should not be converted to -lmylib but simply
>   passed to GCC as is.
>
> 10. In GCC builds on platforms which support
>      -Wl,--start-group <HARBOUR_LIBS> -Wl,--end-group
>    (linux, mingw) we should use it to not replicate libraries with
>    cross bindings.
>    BTW current library list is not well ordered so it's not possible
>    to create some binaries, f.e. try hbmk hbrun.prg in some GCC builds.
>    It has to be updated for platforms which does not support above
>    library grouping.
>
> 11. There is no support for automatic main function detection in GCC
>    builds. This code extracts 1-st function name from the 1-st linked
>    file in my hb-tools.prg. It can receive the name of .c file generated
>    from .prg file or .o file name but in such case it works only for
>    gcc/g++ based compilers (it uses nm tool).
>
>      /* in GCC LD (except DJGPP) the order of registering init function
>       * does not depend directly on the order of linked files. If we want
>       * to inform HVM about valid startup function then we should try to
>       * locate it ourselves and pass it to HVM using our startup function
>       */
>      static func getFirstFunc( cFile )
>         local cFuncList, cExecNM, cFuncName, cExt, cLine, n, c
>
>         cFuncName := ""
>         if ( s_hb_cc == "gcc" .or. s_hb_cc == "g++" ) .and. !s_hb_compiler
> == "djgpp"
>            hb_FNameSplit( cFile,,, @cExt )
>            if cExt == ".c"
>               for each cLine in hb_aTokens( strtran( memoread( cFile ),
> chr( 13 ), chr( 10 ) ), chr( 10 ) )
>                  cLine := alltrim( cLine )
>                  if cLine = '{ "' .and. "HB_FS_FIRST" $ cLine
>                     n := 4
>                     while ( c := substr( cLine, n++, 1 ) ) != '"'
>                        cFuncName += c
>                     enddo
>                     exit
>                  endif
>               next
>            elseif !empty( cExecNM := findExecutable( s_hb_ccprefix + "nm" )
> )
>               cFuncList := commandResult( cExecNM + " " + cFile + " -g -n
> --defined-only -C" )
>               if ( n := at( " T HB_FUN_", cFuncList ) ) != 0
>                  n += 10
>                  while ( c := substr( cFuncList, n++, 1 ) ) = "_" .or. ;
>                        isdigit( c ) .or. isAlpha( c )
>                     cFuncName += c
>                  enddo
>               endif
>            endif
>         endif
>
>         return cFuncName
>
>      static function commandResult( cCommand, nResult )
>         local hFile, cFileName, cResult
>
>         hFile := hb_FTempCreate( ,,, @cFileName )
>
>         if hFile == -1
>            outErr( "Error: cannot create temporary file" + EOL )
>            break
>         endif
>         fclose( hFile )
>         cCommand += ">" + cFileName
>         nResult := hb_run( cCommand )
>         cResult := memoRead( cFileName )
>         ferase( cFileName )
>
>         return cResult
>
>    when we will have fully functional hbmk.prg then we can change
>    the startup code and replace current -n1 and default support
>    for HB_FS_FIRST. HB_FS_FIRST will be generated only by new explicit
>    switch which will be used by hbmk for 1-st file only.
>
> 12. hbdebug and hbcplr libraries are not part of Harbour shared library
>    and always should be added as static libraries even when harbour
>    shared library is used
>
> 13. the -o can point also to directory name not only file. hbmk.prg
>    should respect it and check the type of destination. Some C compilers
>    does not support -o as directory name so they will need different
>    calling if more then one .c file is passed in single command, f.e.
>    explicitly used chdir. Harbour compiler support -o as directory name
>    if the last character is path separator, f.e.:
>         harbour test.prg -ooutdir/
>    it would be very nice if hbmk.prg can use -o<dir> also for temporary
>    C files.
>
>
> HTH and thank you for your job.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/70980c75/attachment-0001.html
From dbtopas at dbtopas.lt  Fri Feb 20 13:26:50 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb 20 13:28:55 2009
Subject: [Harbour] two questions for windows guru
In-Reply-To: <18d502870902201010q38e13318p18c34a3592aebd9b@mail.gmail.com>
References: <20090220123031.GA2295@uran.home.aster.pl>	<499EEBA4.3080700@dbtopas.lt>
	<18d502870902201010q38e13318p18c34a3592aebd9b@mail.gmail.com>
Message-ID: <499EF5EA.30408@dbtopas.lt>

Viktor Szak?ts wrote:
>     #pragma begindump
>     #include "windows.h"
>     #include "hbapi.h"
>     HB_FUNC( HB_I18N_LOAD )
> 
> 
> You can find a new generic function in hbwin lib for exactly 
> such purpose:
> 
> WIN_LOADRESOURCE( <cName>, <cType> ) -> <cContent> | NIL

Hi,


sorry, I'm using my own library with huge number of Win API functions 
for 9 years. It has different structure handling, etc. So, I'm not going 
to move to WIN_*(), or hbwin, or hbwhat32, or hbwhatever.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Fri Feb 20 13:40:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 20 13:40:23 2009
Subject: [Harbour] two questions for windows guru
In-Reply-To: <499EF5EA.30408@dbtopas.lt>
References: <20090220123031.GA2295@uran.home.aster.pl>
	<499EEBA4.3080700@dbtopas.lt>
	<18d502870902201010q38e13318p18c34a3592aebd9b@mail.gmail.com>
	<499EF5EA.30408@dbtopas.lt>
Message-ID: <18d502870902201040v5d95e91am2eefda2c84e5509b@mail.gmail.com>

Hi Mindaugas,

It was just suggestion, and meant not just for you :)
Since you had all great contributions so far,
and if it's possible at all, it would be very nice to see
your Win API implementation in Harbour. Harbour
surely could use such a thing as both hbole, hbwin
and hbwhat are lacking in almost all areas, to say the
least. Well, of course if you can and want to contribute it.

[ BTW, I only use those few functions I've contributed,
plus a few more reg read/os detection calls :) ]

Brgds,
Viktor

On Fri, Feb 20, 2009 at 7:26 PM, Mindaugas Kavaliauskas
<dbtopas@dbtopas.lt>wrote:

> Viktor Szak?ts wrote:
>
>>    #pragma begindump
>>    #include "windows.h"
>>    #include "hbapi.h"
>>    HB_FUNC( HB_I18N_LOAD )
>>
>>
>> You can find a new generic function in hbwin lib for exactly such purpose:
>>
>> WIN_LOADRESOURCE( <cName>, <cType> ) -> <cContent> | NIL
>>
>
> Hi,
>
>
> sorry, I'm using my own library with huge number of Win API functions for 9
> years. It has different structure handling, etc. So, I'm not going to move
> to WIN_*(), or hbwin, or hbwhat32, or hbwhatever.
>
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/ea3f5b1c/attachment.html
From bedipritpal at hotmail.com  Fri Feb 20 14:45:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 20 14:45:54 2009
Subject: [Harbour] Log from build.
In-Reply-To: <18d502870902200724p24330bbaq78ce652fcc35da96@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>
	<18d502870902180737j69faba2dh7dd7ffe61807948c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D228@PINK.zycie.pzu>
	<609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>
	<18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
	<18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
	<18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
	<22120432.post@talk.nabble.com>
	<18d502870902200720t2346e229rc09ed0a836436172@mail.gmail.com>
	<18d502870902200724p24330bbaq78ce652fcc35da96@mail.gmail.com>
Message-ID: <22126050.post@talk.nabble.com>


Hi 

Sure, I will try to fix these today.

Pritpal


Viktor Szak?ts wrote:
> 
> Hi Pritpal
> 
> If you're looking at it, there are errors also in MSVC amd64 mode:
> (plus some warnings which may need attention)
> 
> ---
> .\gtwvg.c(3332) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size
> .\gtwvg.c(3344) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size
> .\gtwvg.c(3388) : warning C4244: 'function' : conversion from 'int' to
> 'BYTE', possible loss of data
> .\gtwvg.c(3411) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'DWORD',
> possible loss of data
> .\gtwvg.c(3416) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'DWORD',
> possible loss of data
> .\gtwvg.c(3421) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
> possible loss of data
> .\gtwvg.c(3426) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
> possible loss of data
> .\gtwvg.c(3431) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
> possible loss of data
> .\gtwvg.c(3436) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
> possible loss of data
> .\gtwvg.c(4230) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size
> wvgwin.c
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: nonstandard extension used : nameless struct/union
> .\wvgwin.c(891) : warning C4244: 'function' : conversion from 'HB_LONG' to
> 'DWORD', possible loss of data
> .\wvgwin.c(894) : warning C4244: 'function' : conversion from 'HB_LONG' to
> 'DWORD', possible loss of data
> .\wvgwin.c(914) : warning C4244: 'function' : conversion from 'HB_LONG' to
> 'DWORD', possible loss of data
> .\wvgwin.c(1288) : warning C4244: '=' : conversion from 'LRESULT' to
> 'int',
> possible loss of data
> .\wvgwin.c(1291) : warning C4244: '=' : conversion from 'LONG' to
> 'USHORT',
> possible loss of data
> .\wvgwin.c(1407) : error C2065: 'GWL_WNDPROC' : undeclared identifier
> .\wvgwin.c(1407) : warning C4305: 'type cast' : truncation from 'WNDPROC'
> to
> 'long'
> .\wvgwin.c(1407) : warning C4306: 'type cast' : conversion from 'LONG' to
> 'WNDPROC' of greater size
> .\wvgwin.c(1429) : warning C4244: 'function' : conversion from 'HB_LONG'
> to
> 'UINT', possible loss of data
> .\wvgwin.c(1464) : warning C4244: 'function' : conversion from 'DWORD_PTR'
> to 'LONG', possible loss of data
> .\wvgwin.c(1532) : warning C4305: 'type cast' : truncation from
> 'HTREEITEM'
> to 'long'
> .\wvgwin.c(1542) : warning C4267: 'function' : conversion from 'size_t' to
> 'ULONG', possible loss of data
> .\wvgwin.c(1547) : warning C4305: 'type cast' : truncation from
> 'HTREEITEM'
> to 'long'
> .\wvgwin.c(1557) : warning C4267: 'function' : conversion from 'size_t' to
> 'ULONG', possible loss of data
> .\wvgwin.c(1599) : warning C4305: 'type cast' : truncation from
> 'HTREEITEM'
> to 'long'
> .\wvgwin.c(1775) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size
> .\wvgwin.c(1783) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size
> .\wvgwin.c(2034) : error C2065: 'GCL_HBRBACKGROUND' : undeclared
> identifier
> .\wvgwin.c(2060) : warning C4244: 'function' : conversion from 'int' to
> 'BYTE', possible loss of data
> .\wvgwin.c(2091) : warning C4305: 'type cast' : truncation from 'HBITMAP'
> to
> 'UINT'
> .\wvgwin.c(2092) : warning C4244: '=' : conversion from 'LRESULT' to
> 'int',
> possible loss of data
> .\wvgwin.c(2097) : warning C4244: '=' : conversion from 'LRESULT' to
> 'int',
> possible loss of data
> .\wvgwin.c(2113) : warning C4244: '=' : conversion from 'LRESULT' to
> 'BOOL',
> possible loss of data
> .\wvgwin.c(2131) : warning C4244: '=' : conversion from 'LRESULT' to
> 'BOOL',
> possible loss of data
> .\wvgwin.c(2153) : warning C4305: 'type cast' : truncation from 'HBITMAP'
> to
> 'UINT'
> .\wvgwin.c(2155) : warning C4244: '=' : conversion from 'LRESULT' to
> 'int',
> possible loss of data
> .\wvgwin.c(2171) : warning C4244: 'function' : conversion from 'LRESULT'
> to
> 'int', possible loss of data
> .\wvgwin.c(2180) : warning C4244: '=' : conversion from 'LRESULT' to
> 'int',
> possible loss of data
> wvggui.c
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\include\olectl.h(205) :
> warning C4201: nonstandard extension used : nameless struct/union
> .\wvggui.c(2039) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size
> .\wvggui.c(2051) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size
> .\wvggui.c(2095) : warning C4244: 'function' : conversion from 'int' to
> 'BYTE', possible loss of data
> .\wvggui.c(2117) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'DWORD', possible loss of data
> .\wvggui.c(2122) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'DWORD', possible loss of data
> .\wvggui.c(2127) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'int',
> possible loss of data
> .\wvggui.c(2132) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'int',
> possible loss of data
> .\wvggui.c(2137) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'int',
> possible loss of data
> .\wvggui.c(2142) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'int',
> possible loss of data
> Generating Code...
> ---
> 
> Brgds,
> Viktor
> 
> On Fri, Feb 20, 2009 at 4:20 PM, Viktor Szak?ts
> <harbour.01@syenar.hu>wrote:
> 
>> Hi Pritpal,
>>
>> Just a guess, but I've recently noticed when fixing Watcom compile
>> problems that you don't use a macro which is needed
>> to make OLE code portable, maybe this is the problem, see
>> HB_ID_REF() in hbole and hbwin.
>> Even better would be to not have 3 (!) OLE interface
>> implementations inside the Harbour tree ;)
>>
>> Brgds,
>> Viktor
>>
>>
>> On Fri, Feb 20, 2009 at 4:14 PM, Pritpal Bedi
>> <bedipritpal@hotmail.com>wrote:
>>
>>>
>>> Hi
>>>
>>> I have looked into but don't know what to fix.
>>> Investigating.
>>>
>>> Pritpal
>>>
>>>
>>> Hi Marek,
>>> Does hbmk2 work for you now?
>>>
>>> [ This GTWVG problem should be fixed by Pritpal, I cannot help. ]
>>>
>>> Brgds,
>>> Viktor
>>>
>>>
>>>
>>> --
>>> View this message in context:
>>> http://www.nabble.com/Log-from-build.-tp22080896p22120432.html
>>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/Log-from-build.-tp22080896p22126050.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Feb 20 14:46:29 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 20 14:46:33 2009
Subject: [Harbour] Log from build.
In-Reply-To: <20090220172547.GA25539@uran.home.aster.pl>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>
	<18d502870902180737j69faba2dh7dd7ffe61807948c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D228@PINK.zycie.pzu>
	<609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>
	<18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
	<18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
	<18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
	<22120432.post@talk.nabble.com>
	<20090220172547.GA25539@uran.home.aster.pl>
Message-ID: <22126051.post@talk.nabble.com>


Thanks Przemek

I will fix these today.

Pritpal Bedi


Przemyslaw Czerpak-2 wrote:
> 
> On Fri, 20 Feb 2009, Pritpal Bedi wrote:
> 
> Hi,
> 
>> I have looked into but don't know what to fix. 
>> Investigating.
> 
> Maybe this help you:
> 
> wvgsink.c[369]:
>    return( ( ULONG ) ( ( MyRealIEventHandler * ) this )->count < 0 ? ( (
> MyRealIEventHandler * ) this )->count : 0 );
> What this ULONG does? For sure after casting this value is _NEVER_
> smaller then 0.
> 
> wvgsink.c[996]: warning: empty body in an if-statement
> probably typo ';' directly after after if(...);
> 
> wvgsink.c[989,993]: add ( HB_PTRDIFF ) casting to hb_parnint( 2 ) value.
> 
> BTW:
> wapi_commctrl.c[105] warning: implicit declaration of function
> `ImageList_Copy'
> wapi_commctrl.c[225] warning: implicit declaration of function
> `ImageList_Duplicate'
> wapi_commctrl.c[439] warning: implicit declaration of function
> `ImageList_SetImageCount'
> 
> For these functions _WIN32_IE should be checked.
> 
> #if (_WIN32_IE >= 0x0300) // ImageList_Copy
> #if (_WIN32_IE >= 0x0400) // ImageList_Duplicate
> #if (_WIN32_IE >= 0x0400) // ImageList_SetImageCount
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/Log-from-build.-tp22080896p22126051.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Feb 20 14:48:58 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 20 14:49:01 2009
Subject: [Harbour] two questions for windows guru
In-Reply-To: <20090220123031.GA2295@uran.home.aster.pl>
References: <20090220123031.GA2295@uran.home.aster.pl>
Message-ID: <22126052.post@talk.nabble.com>


Hello Przemek

I think I did something like this in Vouch32 some years back.
Let me dig into the code, will come to you a little later.

Pritpal Bedi


Przemyslaw Czerpak-2 wrote:
> 
> Hi All,
> 
> I have two questions to windows users. Maybe someone can help me.
> 1. is it possible to include unicode table with unicode character
>    value to raster font stored in .fon file or I can only set
>    the "MS official" codepage number?
> 2. can I attach raster font in .fon or .fnt file to final executable
>    binaries f.e. using resource compiler and then use this font in
>    the application working with different windows versions?
> 
> Thanks for any help.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/two-questions-for-windows-guru-tp22119661p22126052.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Feb 20 15:52:45 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 20 15:52:48 2009
Subject: [Harbour] two questions for windows guru
In-Reply-To: <20090220123031.GA2295@uran.home.aster.pl>
References: <20090220123031.GA2295@uran.home.aster.pl>
Message-ID: <22128406.post@talk.nabble.com>


Przemek

I extend Mindaugus' code as such:

Local cFont := LoadMyFont( "MYFONTRESOURCENAME" )

if !empty( cFont )
   memowrit( 'C:\MyFontFolder\MyFont.fon', cFont  )
endif
if file( 'C:\MyFontFolder\MyFont.fon' )
   WAPI_AddFontResource( 'C:\MyFontFolder\MyFont.fon' )
endif 

HB_GTINFO( HB_GTI_FONTNAME, 'TheNameOfFontInFontFile' )

// Appln Execution

// At Exit
WAPI_RemoveFontResource( 'C:\MyFontFolder\MyFont.fon'  )

#pragma begindump 
#include "windows.h" 
#include "hbapi.h" 
HB_FUNC( LOADMYFONT ) 
{ 
     HGLOBAL  hMem; 
     HRSRC    hRes; 
     DWORD    dwLen; 
     void*    pMem; 

     hRes = FindResource( NULL, hb_parc( 1 ), "MYFONTRESOURCENAME" ); 
     if ( ! hRes ) 
     { 
        hb_ret(); 
        return; 
     } 

     dwLen = SizeofResource( NULL, hRes ); 
     hMem = LoadResource( NULL, hRes ); 
     if ( ! hMem ) 
     { 
        hb_ret(); 
        return; 
     } 

     pMem = LockResource( hMem ); 
     if( ! pMem ) 
     { 
        hb_ret(); 
        return; 
     } 
     hb_retclen( (char*) pMem, dwLen ); 
} 
#pragma enddump 

Regards
Pritpal Bedi



-- 
View this message in context: http://www.nabble.com/two-questions-for-windows-guru-tp22119661p22128406.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Fri Feb 20 16:22:50 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 20 16:22:54 2009
Subject: [Harbour] Error building contrib/hbgd
Message-ID: <9257026e0902201322q51360e90n18c08672bb79d527@mail.gmail.com>

It worked at 2009-02-03 03:02 UTC+0100 Przemyslaw Czerpak
(druzus/at/priv.onet.pl)

Creating shared lib libhbgd...
./libhbgd.a/gdwrp.o: In function `HB_FUN_GDIMAGEELLIPSE':
gdwrp.c:(.text+0x4fd0): multiple definition of `HB_FUN_GDIMAGEELLIPSE'
./libhbgd.a/gd.o:gd.c:(.text+0x1760): first defined here
collect2: ld returned 1 exit status

In gd.prg there is:

FUNCTION gdImageEllipse( im, cx, cy, w, h, color )
RETURN gdImageArc( im, cx, cy, w, h, 0, 360, color )

while in gdwrp.c there is:

/* ---------------------------------------------------------------------------*/
#if HB_GD_VERS( 2, 0, 35 )
HB_FUNC( GDIMAGEELLIPSE ) /* void gdImageEllipse(gdImagePtr im, int
cx, int cy, int w, int h, int color) */
...
#endif /* ( GD_VERS >= 2035 ) */

Any fix?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Feb 20 16:32:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 20 16:32:47 2009
Subject: [Harbour] Error building contrib/hbgd
In-Reply-To: <9257026e0902201322q51360e90n18c08672bb79d527@mail.gmail.com>
References: <9257026e0902201322q51360e90n18c08672bb79d527@mail.gmail.com>
Message-ID: <18d502870902201332l588d923er13bde007a0cb832c@mail.gmail.com>

Hi Lorenzo,

I'll check it, there is quite a mess there (there are three implementations
of this same function in the lib), and my
recent fix made it surface.

Brgds,
Viktor

On Fri, Feb 20, 2009 at 10:22 PM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com
> wrote:

> It worked at 2009-02-03 03:02 UTC+0100 Przemyslaw Czerpak
> (druzus/at/priv.onet.pl)
>
> Creating shared lib libhbgd...
> ./libhbgd.a/gdwrp.o: In function `HB_FUN_GDIMAGEELLIPSE':
> gdwrp.c:(.text+0x4fd0): multiple definition of `HB_FUN_GDIMAGEELLIPSE'
> ./libhbgd.a/gd.o:gd.c:(.text+0x1760): first defined here
> collect2: ld returned 1 exit status
>
> In gd.prg there is:
>
> FUNCTION gdImageEllipse( im, cx, cy, w, h, color )
> RETURN gdImageArc( im, cx, cy, w, h, 0, 360, color )
>
> while in gdwrp.c there is:
>
> /*
> ---------------------------------------------------------------------------*/
> #if HB_GD_VERS( 2, 0, 35 )
> HB_FUNC( GDIMAGEELLIPSE ) /* void gdImageEllipse(gdImagePtr im, int
> cx, int cy, int w, int h, int color) */
> ...
> #endif /* ( GD_VERS >= 2035 ) */
>
> Any fix?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/c2856e4e/attachment.html
From lorenzo.fiorini at gmail.com  Fri Feb 20 16:39:26 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 20 16:39:31 2009
Subject: [Harbour] Error building contrib/hbgd
In-Reply-To: <18d502870902201332l588d923er13bde007a0cb832c@mail.gmail.com>
References: <9257026e0902201322q51360e90n18c08672bb79d527@mail.gmail.com>
	<18d502870902201332l588d923er13bde007a0cb832c@mail.gmail.com>
Message-ID: <9257026e0902201339t1b6f213ahc029cebe5d78f54b@mail.gmail.com>

On Fri, Feb 20, 2009 at 10:32 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I'll check it, there is quite a mess there (there are three
> implementations of this same function in the lib), and my
> recent fix made it surface.

Thanks.

It seems that before

2009-02-17 11:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbgd/gdwrp.c
    ! Fixed to properly check GD lib version for conditional
      compiling. Formerly used GD_VERS isn't defined by the
      library headers.

GD_VERS was "self defined" to 2.0.33 or 2.0.28.

Now that version checking works it found my 2.0.36 and compile the
function that before was excluded.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Fri Feb 20 16:42:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 16:42:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10371] trunk/harbour
Message-ID: <E1Lad90-0001xJ-MQ@c3vjzd1.ch3.sourceforge.com>

Revision: 10371
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10371&view=rev
Author:   vszakats
Date:     2009-02-20 21:42:40 +0000 (Fri, 20 Feb 2009)

Log Message:
-----------
2009-02-20 22:41 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbgd/gdwrp.c
    ! Fixed double implementation of GDIMAGEELLIPSE().
      The so far inactive .c version got enabled by recently
      making lib version detection automatic, which made it
      collide with the existing .prg implementation.
      Left the .prg one active because it works regardless
      of the lib gd version. Francesco, please verify me.
    - Deleted disabled, probably older copy of GDIMAGEELLIPSE()
      from .c source.

  * utils/hbmk2/hbmk2.prg
    * Help screen update.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbgd/gdwrp.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb 20 16:46:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 20 16:46:45 2009
Subject: [Harbour] Error building contrib/hbgd
In-Reply-To: <9257026e0902201339t1b6f213ahc029cebe5d78f54b@mail.gmail.com>
References: <9257026e0902201322q51360e90n18c08672bb79d527@mail.gmail.com>
	<18d502870902201332l588d923er13bde007a0cb832c@mail.gmail.com>
	<9257026e0902201339t1b6f213ahc029cebe5d78f54b@mail.gmail.com>
Message-ID: <18d502870902201346j3ea85881g19db63b59aaf5e43@mail.gmail.com>

>
> > I'll check it, there is quite a mess there (there are three
> > implementations of this same function in the lib), and my
> > recent fix made it surface.
>
> Thanks.
>
> It seems that before
>
> 2009-02-17 11:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>
> GD_VERS was "self defined" to 2.0.33 or 2.0.28.
>
> Now that version checking works it found my 2.0.36 and compile the
> function that before was excluded.


Yes, that's exactly what happened. I've left the .prg
version because it's always available (and seemed
compatible with the .c version), and deleted the commented
copy, which seemed like a previous version left in the
source.

I couldn't find more such potential problems, tell if you
find anything.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/230daeeb/attachment.html
From lorenzo.fiorini at gmail.com  Fri Feb 20 17:06:53 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 20 17:06:57 2009
Subject: [Harbour] Error building contrib/hbgd
In-Reply-To: <18d502870902201346j3ea85881g19db63b59aaf5e43@mail.gmail.com>
References: <9257026e0902201322q51360e90n18c08672bb79d527@mail.gmail.com>
	<18d502870902201332l588d923er13bde007a0cb832c@mail.gmail.com>
	<9257026e0902201339t1b6f213ahc029cebe5d78f54b@mail.gmail.com>
	<18d502870902201346j3ea85881g19db63b59aaf5e43@mail.gmail.com>
Message-ID: <9257026e0902201406n1f34b3eeh2cd7b3bf3a0a4d63@mail.gmail.com>

On Fri, Feb 20, 2009 at 10:46 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I couldn't find more such potential problems, tell if you
> find anything.

Many thanks.

best regards,
Lorenzo
From info at fsgiudice.com  Fri Feb 20 17:10:07 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 20 17:10:14 2009
Subject: [Harbour] Error building contrib/hbgd
In-Reply-To: <18d502870902201346j3ea85881g19db63b59aaf5e43@mail.gmail.com>
References: <9257026e0902201322q51360e90n18c08672bb79d527@mail.gmail.com>	<18d502870902201332l588d923er13bde007a0cb832c@mail.gmail.com>	<9257026e0902201339t1b6f213ahc029cebe5d78f54b@mail.gmail.com>
	<18d502870902201346j3ea85881g19db63b59aaf5e43@mail.gmail.com>
Message-ID: <499F2A3F.1030907@fsgiudice.com>

Hi Viktor,

I added prg version because in 2.0.28 it was not present in libgd, after 
it was implemented and I added also C version, but it was buggy (GD 
version), so I commented out it.
Now I haven't checked in current release if it is correctly implemented, 
surely yes, and if it has enhancements.
I have to find spare time to upgrade/add new functions.

Best regards

Francesco

Il 20/02/2009 22.46, Viktor Szak?ts ha scritto:
>      > I'll check it, there is quite a mess there (there are three
>      > implementations of this same function in the lib), and my
>      > recent fix made it surface.
> 
>     Thanks.
> 
>     It seems that before
> 
>     2009-02-17 11:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> 
>     GD_VERS was "self defined" to 2.0.33 or 2.0.28.
> 
>     Now that version checking works it found my 2.0.36 and compile the
>     function that before was excluded.
> 
> 
> Yes, that's exactly what happened. I've left the .prg 
> version because it's always available (and seemed 
> compatible with the .c version), and deleted the commented 
> copy, which seemed like a previous version left in the 
> source.
> 
> I couldn't find more such potential problems, tell if you 
> find anything.
> 
> Brgds,
> Viktor
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From e.m.giordano at emagsoftware.it  Fri Feb 20 17:30:49 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 20 17:30:54 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220112214.GA967@uran.home.aster.pl><09A6E6E807264E24B944750FD73D0888@emag>
	<20090220122003.GA25783@uran.home.aster.pl>
Message-ID: <0C5656E5F2BB4086AF14E24EAF46CD88@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 20 febbraio 2009 13.20
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> My typo, classH not Hclass.

Ok, thank you. Unfortunately it seems that creating a new method is not 
enough as the old method I'm trying to replace is still callled internally 
by other methods.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Feb 20 17:39:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 20 17:39:34 2009
Subject: [Harbour] Error building contrib/hbgd
In-Reply-To: <499F2A3F.1030907@fsgiudice.com>
References: <9257026e0902201322q51360e90n18c08672bb79d527@mail.gmail.com>
	<18d502870902201332l588d923er13bde007a0cb832c@mail.gmail.com>
	<9257026e0902201339t1b6f213ahc029cebe5d78f54b@mail.gmail.com>
	<18d502870902201346j3ea85881g19db63b59aaf5e43@mail.gmail.com>
	<499F2A3F.1030907@fsgiudice.com>
Message-ID: <18d502870902201439h4ced69a3r677bd7a48a8a0796@mail.gmail.com>

Many thanks Francesco.
Brgds,
Viktor

On Fri, Feb 20, 2009 at 11:10 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Viktor,
>
> I added prg version because in 2.0.28 it was not present in libgd, after it
> was implemented and I added also C version, but it was buggy (GD version),
> so I commented out it.
> Now I haven't checked in current release if it is correctly implemented,
> surely yes, and if it has enhancements.
> I have to find spare time to upgrade/add new functions.
>
> Best regards
>
> Francesco
>
> Il 20/02/2009 22.46, Viktor Szak?ts ha scritto:
>
>>     > I'll check it, there is quite a mess there (there are three
>>     > implementations of this same function in the lib), and my
>>     > recent fix made it surface.
>>
>>    Thanks.
>>
>>    It seems that before
>>
>>    2009-02-17 11:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>
>>    GD_VERS was "self defined" to 2.0.33 or 2.0.28.
>>
>>    Now that version checking works it found my 2.0.36 and compile the
>>    function that before was excluded.
>>
>>
>> Yes, that's exactly what happened. I've left the .prg version because it's
>> always available (and seemed compatible with the .c version), and deleted
>> the commented copy, which seemed like a previous version left in the source.
>>
>> I couldn't find more such potential problems, tell if you find anything.
>>
>> Brgds,
>> Viktor
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090220/f6d9e2cf/attachment-0001.html
From info at fsgiudice.com  Fri Feb 20 17:46:16 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 20 17:46:23 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <0C5656E5F2BB4086AF14E24EAF46CD88@emag>
References: <20090220112214.GA967@uran.home.aster.pl><09A6E6E807264E24B944750FD73D0888@emag>	<20090220122003.GA25783@uran.home.aster.pl>
	<0C5656E5F2BB4086AF14E24EAF46CD88@emag>
Message-ID: <499F32B8.6020409@fsgiudice.com>

Hi Enrico,

I added below pieces of code to emulate OVERRIDE command from xharbour 
and I use it successfully.
I don't know if harbour developers are interested to add, if yes I can 
add to SVN.

Use it, for your case, as:

OVERRIDE METHOD SetPos IN CLASS TGet WITH MySetPos

HTH

Best regards,

Francesco


----- hbclass.ch -----

// Extend Classes
#xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> WITH [METHOD] 
<!Method!> [SCOPE <Scope>] => ;
   <Class>(); __clsModMsg( __ObjGetClsHandle( #<Class> ), #<Message>, 
@<Method>(), IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )

----------------------

----- classes.c ------
/*
  * __objGetClsHandle( <cClassName> | <oObj> ) -> <hClass>
  *
  * Returns class handle of <oObj> or <cClassName>
  */
HB_FUNC( __OBJGETCLSHANDLE )
{
    PHB_ITEM pObject = hb_param( 1, HB_IT_OBJECT );
    const char * szClass;
    USHORT uiClass;

    if( pObject )
       uiClass = pObject->item.asArray.value->uiClass;
    else
    {
       szClass = hb_parc( 1 );
       uiClass = hb_clsFindClass( szClass, NULL );
    }
    hb_retni( uiClass );
}
----------------------


Il 20/02/2009 23.30, Enrico Maria Giordano ha scritto:
> 
> -----Messaggio Originale----- Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: venerd? 20 febbraio 2009 13.20
> Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
> 
> 
>> My typo, classH not Hclass.
> 
> Ok, thank you. Unfortunately it seems that creating a new method is not 
> enough as the old method I'm trying to replace is still callled 
> internally by other methods.
> 
> EMG
> 
> -- 
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From vszakats at users.sourceforge.net  Fri Feb 20 19:13:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 19:13:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10372] trunk/harbour
Message-ID: <E1LafV6-0007Fq-RW@d5vjzd1.ch3.sourceforge.com>

Revision: 10372
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10372&view=rev
Author:   vszakats
Date:     2009-02-21 00:13:47 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 01:11 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/compiler/hbusage.c
    ! Fixed to not show -n option as '(default)' on help screen.
      -n isn't the default in Harbour, nor in Clipper.
      Please review me.

  * utils/hbmk2/hbmk2.prg
    + Added -main=<id> option to override starting function/procedure
      name. Using the method from hbmk script, but made portable
      to all compilers. Can we add somewhat more official method
      to set this up? Preferably .prg level, but even a function
      call seems better, as with current method, MSVC complains
      with this warning:
      "hbsc_2nwvzg.obj : warning LNK4217: locally defined symbol \
         _hb_vm_pszLinkedMain imported in function __hb_hbmk_setdef_"
    + Added code to only accept valid Harbour identified as
      -main= value.
    + Added first module detection.
    + Enabled code to automatically find entry function in first
      module and make it the app entry point. This is very serious
      hack dealing with lots of internals.

  * source/compiler/cmdcheck.c
    * Typo in comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/compiler/hbusage.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 20 19:49:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 20 19:49:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10373] trunk/harbour
Message-ID: <E1Lag3k-00067x-Am@c3vjzd1.ch3.sourceforge.com>

Revision: 10373
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10373&view=rev
Author:   vszakats
Date:     2009-02-21 00:49:35 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 01:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbgd/gdwrp.c
    % Deleted #includes not necessary.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbgd/gdwrp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Feb 20 20:26:38 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb 20 20:26:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10374] trunk/harbour
Message-ID: <E1Lagda-00070T-PB@c3vjzd1.ch3.sourceforge.com>

Revision: 10374
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10374&view=rev
Author:   vouchcac
Date:     2009-02-21 01:26:37 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-20 17:23 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgsink.c
    ! Fixes as per Przemek's observations.
      ;TOREVIEW :    return( ( ULONG ) ( ( MyRealIEventHandler * ) this )->count < 0 ? 
                                      ( ( MyRealIEventHandler * ) this )->count : 0 );
       Actually I was having some problem with some old active-x 
       and was trying to fix that, that is why, now I do not remeber...

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgsink.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Feb 20 20:49:53 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 20 20:49:56 2009
Subject: [Harbour] Log from build.
In-Reply-To: <18d502870902200724p24330bbaq78ce652fcc35da96@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>
	<18d502870902180737j69faba2dh7dd7ffe61807948c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D228@PINK.zycie.pzu>
	<609353e70902190237m745ab594l1c944bd32dbb53c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D35B@PINK.zycie.pzu>
	<18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
	<18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
	<18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
	<22120432.post@talk.nabble.com>
	<18d502870902200720t2346e229rc09ed0a836436172@mail.gmail.com>
	<18d502870902200724p24330bbaq78ce652fcc35da96@mail.gmail.com>
Message-ID: <22131808.post@talk.nabble.com>


Viktor

It appears the errors reported below are not from current SVN,
probably some older download. Can you check it ?

Regards
Pritpal Bedi


Viktor Szak?ts wrote:
> 
> Hi Pritpal
> 
> If you're looking at it, there are errors also in MSVC amd64 mode:
> (plus some warnings which may need attention)
> 
> ---
> .\gtwvg.c(3332) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size
> .\gtwvg.c(3344) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size
> .\gtwvg.c(3388) : warning C4244: 'function' : conversion from 'int' to
> 'BYTE', possible loss of data
> .\gtwvg.c(3411) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'DWORD',
> possible loss of data
> .\gtwvg.c(3416) : warning C4244: '=' : conversion from 'HB_LONG' to
> 'DWORD',
> 
> 

-- 
View this message in context: http://www.nabble.com/Log-from-build.-tp22080896p22131808.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Feb 21 00:59:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 00:59:49 2009
Subject: [Harbour] Log from build.
In-Reply-To: <22131808.post@talk.nabble.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D0EE@PINK.zycie.pzu>
	<18d502870902190624i105789ddwc207041774aefbfa@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D3A6@PINK.zycie.pzu>
	<18d502870902190721v67a338a5y97f253ec2bfc10e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D564@PINK.zycie.pzu>
	<18d502870902200358r18178fe3r7cfeca46f52f942e@mail.gmail.com>
	<22120432.post@talk.nabble.com>
	<18d502870902200720t2346e229rc09ed0a836436172@mail.gmail.com>
	<18d502870902200724p24330bbaq78ce652fcc35da96@mail.gmail.com>
	<22131808.post@talk.nabble.com>
Message-ID: <18d502870902202159x599a4dbfwa5577506358fe414@mail.gmail.com>

Hi Pritpal,
Yes, could be, sorry :( here's the same list with for sure current
codebase,
the errors remain.

I've deleted warnings which are harmless, but these remaining cases
are most probably all Win64 build breakers causing potential problems
at runtime.

---
gtwvg.c
.\gtwvg.c(3332) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(3344) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(3411) : warning C4244: '=' : conversion from 'HB_LONG' to 'DWORD',
possible loss of data
.\gtwvg.c(3416) : warning C4244: '=' : conversion from 'HB_LONG' to 'DWORD',
possible loss of data
.\gtwvg.c(3421) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\gtwvg.c(3426) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\gtwvg.c(3431) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\gtwvg.c(3436) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\gtwvg.c(4230) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
wvgutils.c
.\wvgutils.c(1263) : warning C4244: 'function' : conversion from
'HB_PTRDIFF' to 'ULONG', possible loss of data
wvgsink.c
.\wvgsink.c(693) : warning C4305: 'type cast' : truncation from
'MyRealIEventHandler *' to 'LONG'
.\wvgsink.c(807) : warning C4306: 'type cast' : conversion from 'long' to
'HWND' of greater size
.\wvgsink.c(809) : warning C4306: 'type cast' : conversion from 'int' to
'HMENU' of greater size
.\wvgsink.c(809) : warning C4306: 'type cast' : conversion from 'int' to
'HMENU' of greater size
.\wvgsink.c(860) : warning C4305: 'type cast' : truncation from 'IDispatch
*' to 'long'
.\wvgsink.c(863) : warning C4305: 'type cast' : truncation from 'HMENU' to
'int'
.\wvgsink.c(894) : warning C4305: 'type cast' : truncation from 'HWND' to
'long'
.\wvgsink.c(909) : warning C4306: 'type cast' : conversion from 'long' to
'HWND' of greater size
.\wvgsink.c(911) : warning C4306: 'type cast' : conversion from 'int' to
'HMENU' of greater size
.\wvgsink.c(911) : warning C4306: 'type cast' : conversion from 'int' to
'HMENU' of greater size
.\wvgsink.c(956) : warning C4305: 'type cast' : truncation from 'HMENU' to
'int'
.\wvgsink.c(957) : warning C4305: 'type cast' : truncation from 'IDispatch
*' to 'long'
.\wvgsink.c(977) : warning C4305: 'type cast' : truncation from 'HWND' to
'long'
.\wvgsink.c(981) : warning C4305: 'type cast' : truncation from 'IUnknown *'
to 'long'
wvgwin.c
.\wvgwin.c(891) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(894) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(914) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(1288) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(1291) : warning C4244: '=' : conversion from 'LONG' to 'USHORT',
possible loss of data
.\wvgwin.c(1407) : error C2065: 'GWL_WNDPROC' : undeclared identifier
.\wvgwin.c(1407) : warning C4305: 'type cast' : truncation from 'WNDPROC' to
'long'
.\wvgwin.c(1407) : warning C4306: 'type cast' : conversion from 'LONG' to
'WNDPROC' of greater size
.\wvgwin.c(1429) : warning C4244: 'function' : conversion from 'HB_LONG' to
'UINT', possible loss of data
.\wvgwin.c(1464) : warning C4244: 'function' : conversion from 'DWORD_PTR'
to 'LONG', possible loss of data
.\wvgwin.c(1532) : warning C4305: 'type cast' : truncation from 'HTREEITEM'
to 'long'
.\wvgwin.c(1542) : warning C4267: 'function' : conversion from 'size_t' to
'ULONG', possible loss of data
.\wvgwin.c(1547) : warning C4305: 'type cast' : truncation from 'HTREEITEM'
to 'long'
.\wvgwin.c(1557) : warning C4267: 'function' : conversion from 'size_t' to
'ULONG', possible loss of data
.\wvgwin.c(1599) : warning C4305: 'type cast' : truncation from 'HTREEITEM'
to 'long'
.\wvgwin.c(1775) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvgwin.c(1783) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvgwin.c(2034) : error C2065: 'GCL_HBRBACKGROUND' : undeclared identifier
.\wvgwin.c(2091) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
.\wvgwin.c(2092) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(2097) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(2113) : warning C4244: '=' : conversion from 'LRESULT' to 'BOOL',
possible loss of data
.\wvgwin.c(2131) : warning C4244: '=' : conversion from 'LRESULT' to 'BOOL',
possible loss of data
.\wvgwin.c(2153) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
.\wvgwin.c(2155) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(2171) : warning C4244: 'function' : conversion from 'LRESULT' to
'int', possible loss of data
.\wvgwin.c(2180) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
wvggui.c
.\wvggui.c(2039) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvggui.c(2051) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvggui.c(2117) : warning C4244: '=' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvggui.c(2122) : warning C4244: '=' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvggui.c(2127) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\wvggui.c(2132) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\wvggui.c(2137) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
.\wvggui.c(2142) : warning C4244: '=' : conversion from 'HB_LONG' to 'int',
possible loss of data
wincallb.c
.\wincallb.c(191) : warning C4305: 'type cast' : truncation from 'LPVOID' to
'ULONG'
.\wincallb.c(236) : warning C4244: 'function' : conversion from 'int' to
'USHORT', possible loss of data
.\wincallb.c(238) : warning C4244: 'function' : conversion from 'int' to
'USHORT', possible loss of data
.\wincallb.c(403) : warning C4306: 'type cast' : conversion from 'long' to
'void *' of greater size
.\wincallb.c(417) : warning C4305: 'type cast' : truncation from 'BYTE *' to
'ULONG'
.\wincallb.c(419) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(431) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(432) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(433) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(434) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
Generating Code...
.\wincallb.c(608) : warning C4701: potentially uninitialized local variable
'j' used
---

Brgds,
Viktor

On Sat, Feb 21, 2009 at 2:49 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Viktor
>
> It appears the errors reported below are not from current SVN,
> probably some older download. Can you check it ?
>
> Regards
> Pritpal Bedi
>
>
> Viktor Szak?ts wrote:
> >
> > Hi Pritpal
> >
> > If you're looking at it, there are errors also in MSVC amd64 mode:
> > (plus some warnings which may need attention)
> >
> > ---
> > .\gtwvg.c(3332) : warning C4306: 'type cast' : conversion from 'int' to
> > 'HWND' of greater size
> > .\gtwvg.c(3344) : warning C4306: 'type cast' : conversion from 'int' to
> > 'HWND' of greater size
> > .\gtwvg.c(3388) : warning C4244: 'function' : conversion from 'int' to
> > 'BYTE', possible loss of data
> > .\gtwvg.c(3411) : warning C4244: '=' : conversion from 'HB_LONG' to
> > 'DWORD',
> > possible loss of data
> > .\gtwvg.c(3416) : warning C4244: '=' : conversion from 'HB_LONG' to
> > 'DWORD',
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/Log-from-build.-tp22080896p22131808.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090221/112d30da/attachment-0001.html
From vszakats at users.sourceforge.net  Sat Feb 21 02:06:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 02:06:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10375] trunk/harbour
Message-ID: <E1LalwE-0002ju-N8@74yxhf1.ch3.sourceforge.com>

Revision: 10375
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10375&view=rev
Author:   vszakats
Date:     2009-02-21 07:06:13 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------

2009-02-21 08:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbdefs.h
    + Added similar to HB_DONT_DEFINE_BOOL hack: HB_DONT_DEFINE_LONG.
      (needed until we clear up our types.)

  * contrib/hbfimage/fi_winfu.c
  * contrib/hbfimage/fi_wrp.c
  * contrib/hbfimage/Makefile
  * doc/whatsnew.txt
    % Deleted #includes/macro checks not necessary.
    ! Disabled body of fi_winfu.c when not compiled under
      Windows. This fixes one Linux compilation error.
    % Replaced HB_OS_WIN_USED with HB_DONT_DEFINE_BOOL and
      HB_DONT_DEFINE_LONG, moved foreign headers before
      Harbour headers, added non-Harbour Windows detection
      in fi_wrp.c (I'm not sure that is necessary), so that
      it now compiles on both Windows and non-Windows (Linux
      tested) systems.
    + Renabled on Linux in Makefile.
    ; Please review/test these changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sat Feb 21 02:08:07 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Feb 21 02:08:11 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220112214.GA967@uran.home.aster.pl><09A6E6E807264E24B944750FD73D0888@emag>	<20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag>
	<499F32B8.6020409@fsgiudice.com>
Message-ID: <D1AAB54F5EB841DC9FCA34905849CDA5@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 20 febbraio 2009 23.46
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> Hi Enrico,
>
> I added below pieces of code to emulate OVERRIDE command from xharbour and 
> I use it successfully.
> I don't know if harbour developers are interested to add, if yes I can add 
> to SVN.

I'm interested, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sat Feb 21 02:15:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 02:15:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10376] trunk/harbour
Message-ID: <E1Lam5b-0002ra-26@74yxhf1.ch3.sourceforge.com>

Revision: 10376
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10376&view=rev
Author:   vszakats
Date:     2009-02-21 07:15:54 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 08:15 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbfimage/fi_wrp.c
    ! Added hack to trick around FreeImage.h header not to 
      #include <inttypes.h> on Borland compilers. Maybe newers
      than 5.8.1 versions have it, so this can be made BCC version 
      dependend.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/fi_wrp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 21 02:45:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 02:45:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10377] trunk/harbour
Message-ID: <E1LamXq-0004cj-3U@3kljzd1.ch3.sourceforge.com>

Revision: 10377
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10377&view=rev
Author:   vszakats
Date:     2009-02-21 07:45:05 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 08:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/vm/hvm.c
    + Added hb_vmSetLinkedMain() function to replace direct
      access to exported variable hb_vm_pszLinkedMain.
      (it's not a public call and caller should always pass
      a string literal).
    * hb_vm_pszLinkedMain -> s_vm_pszLinkedMain and made static.

  * utils/hbmk2/hbmk2.prg
    ! Not adding 'dllimport' for externs in C stub when
      MSVC is used, to avoid compiler warning mentioned in 
      previous entry.

  * utils/hbmk2/hbmk2.prg
  * bin/hb-func.sh
    * Updated for above change.

  ; TODO: Convert GT defaulting to function call too.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Feb 21 03:18:39 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 21 03:18:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
Message-ID: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>

Revision: 10378
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10378&view=rev
Author:   vouchcac
Date:     2009-02-21 08:18:38 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 00:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/wvggui.c
  * harbour/contrib/gtwvg/wvgsink.c
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wvgutils.c
  * harbour/contrib/gtwvg/wvgtoolb.prg
  * harbour/contrib/gtwvg/wvgwnd.prg
  * harbour/contrib/gtwvg/wvgparts.ch
  * harbour/contrib/gtwvg/wvtwin.ch
  * harbour/contrib/hbwin/hbwapi.h
  * harbour/contrib/hbwin/wapi_commctrl.c
  * harbour/contrib/hbwin/wapi_winbase.c
  * harbour/contrib/hbwin/wapi_winuser.c
    ! Mostly warning fixes for 64bits.

      ; Viktor, review me and plese send list of warnings 
        left after this.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvgparts.ch
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg
    trunk/harbour/contrib/gtwvg/wvtwin.ch
    trunk/harbour/contrib/hbwin/hbwapi.h
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sat Feb 21 03:25:44 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Feb 21 03:25:48 2009
Subject: [Harbour] gtxwc segfault with invalid code
Message-ID: <9257026e0902210025o1017752es6774e8b2444f306e@mail.gmail.com>

It is an unlikely situation that I found with a misplaced cut and paste:

#0  0xb7c8950c in hb_gt_xwc_setPalette () from /opt/harbour/lib/libharbour.so
#1  0xb7c8f112 in hb_gt_xwc_Info () from /opt/harbour/lib/libharbour.so
#2  0xb7e74695 in hb_gtInfo () from /opt/harbour/lib/libharbour.so
#3  0xb7dbb9ae in HB_FUN_HB_GTINFO () from /opt/harbour/lib/libharbour.so
#4  0xb7cd4012 in hb_vmExecute () from /opt/harbour/lib/libharbour.so
#5  0x0804866b in ?? ()
#6  0xb7cdafda in hb_vmDo () from /opt/harbour/lib/libharbour.so
#7  0xb7cb6ace in main () from /opt/harbour/lib/libharbour.so

best regards,
Lorenzo

#include "hbgtinfo.ch"

#define RGB(r,g,b) ( r + ( g * 256 ) + ( b * 256 * 256 ) )

function main()

// ? "." /* --> adding this works */
Hb_GtInfo( HB_GTI_PALETTE, 6, RGB( 0xFF, 0xAE, 0x44 ) )

inkey( 0 )
return nil
From vszakats at users.sourceforge.net  Sat Feb 21 03:48:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 03:48:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10379] trunk/harbour
Message-ID: <E1LanXI-0007C5-EC@c3vjzd1.ch3.sourceforge.com>

Revision: 10379
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10379&view=rev
Author:   vszakats
Date:     2009-02-21 08:48:35 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------

2009-02-21 09:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added automatic selection of GUI/non-GNU modes for
      core/contrib GTs. This can be overridden by user by
      putting -gui (and related switches) _after_ -gt switch.
      In normal cases this isn't necessary.
    + Invalid GT names are ignored, instead of creating
      compile error in the stub.
    + GTs and FM are now requested from C stub just like they
      are in hbmk script. This makes it possible to override
      GT even for apps that already uses an official method
      to choose a GT. hbmk2 uses function call also to set GT.
    - Removed .prg stub.
    ! Fixed recent potential RTE when using darwin.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 21 03:53:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 03:53:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10380] trunk/harbour
Message-ID: <E1Lanbb-0007Fn-7j@c3vjzd1.ch3.sourceforge.com>

Revision: 10380
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10380&view=rev
Author:   vszakats
Date:     2009-02-21 08:53:02 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 09:52 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/gtwvg/wvgtoolb.prg
    ! Fixed unused variable.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgtoolb.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 21 03:58:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 03:58:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
Message-ID: <18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>

Thanks Pritpal, a bit fewer, the errors still remain. You're using some
features which are available on Win64
under different names probably, these used to be documented
on MSDN.

Also notice you've undone Przemek recent change
in gtwvg.c regarding the palette indexes.

Here's the updated list of 64-bit warnings (only the
dangerous one listed):
---
gtwvg.c
.\gtwvg.c(3338) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(3350) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(4236) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
wvgutils.c
.\wvgutils.c(1264) : warning C4305: 'type cast' : truncation from 'WORD *'
to 'WORD'
.\wvgutils.c(1264) : warning C4305: 'type cast' : truncation from 'WORD *'
to 'WORD'
wvgsink.c
.\wvgsink.c(693) : warning C4305: 'type cast' : truncation from
'MyRealIEventHandler *' to 'LONG'
.\wvgsink.c(809) : warning C4306: 'type cast' : conversion from 'int' to
'HMENU' of greater size
.\wvgsink.c(863) : warning C4305: 'type cast' : truncation from 'HMENU' to
'int'
.\wvgsink.c(894) : warning C4305: 'type cast' : truncation from 'HWND' to
'long'
.\wvgsink.c(911) : warning C4306: 'type cast' : conversion from 'int' to
'HMENU' of greater size
.\wvgsink.c(956) : warning C4305: 'type cast' : truncation from 'HMENU' to
'int'
wvgwin.c
.\wvgwin.c(898) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(901) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(921) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(1295) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(1298) : warning C4244: '=' : conversion from 'LONG' to 'USHORT',
possible loss of data
.\wvgwin.c(1414) : error C2065: 'GWL_WNDPROC' : undeclared identifier
.\wvgwin.c(1414) : warning C4305: 'type cast' : truncation from 'WNDPROC' to
'long'
.\wvgwin.c(1414) : warning C4306: 'type cast' : conversion from 'LONG' to
'WNDPROC' of greater size
.\wvgwin.c(1436) : warning C4244: 'function' : conversion from 'HB_LONG' to
'UINT', possible loss of data
.\wvgwin.c(1471) : warning C4244: 'function' : conversion from 'DWORD_PTR'
to 'LONG', possible loss of data
.\wvgwin.c(1483) : warning C4267: '=' : conversion from 'size_t' to 'int',
possible loss of data
.\wvgwin.c(1553) : warning C4305: 'type cast' : truncation from 'HTREEITEM'
to 'long'
.\wvgwin.c(1563) : warning C4267: 'function' : conversion from 'size_t' to
'ULONG', possible loss of data
.\wvgwin.c(1568) : warning C4305: 'type cast' : truncation from 'HTREEITEM'
to 'long'
.\wvgwin.c(1578) : warning C4267: 'function' : conversion from 'size_t' to
'ULONG', possible loss of data
.\wvgwin.c(1620) : warning C4305: 'type cast' : truncation from 'HTREEITEM'
to 'long'
.\wvgwin.c(1796) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvgwin.c(1804) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvgwin.c(2055) : error C2065: 'GCL_HBRBACKGROUND' : undeclared identifier
.\wvgwin.c(2081) : warning C4244: 'function' : conversion from 'int' to
'BYTE', possible loss of data
.\wvgwin.c(2112) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
.\wvgwin.c(2113) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(2118) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(2136) : warning C4244: '=' : conversion from 'LRESULT' to 'BOOL',
possible loss of data
.\wvgwin.c(2156) : warning C4244: '=' : conversion from 'LRESULT' to 'BOOL',
possible loss of data
.\wvgwin.c(2178) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
.\wvgwin.c(2180) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
.\wvgwin.c(2196) : warning C4244: 'function' : conversion from 'LRESULT' to
'int', possible loss of data
.\wvgwin.c(2205) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
wvggui.c
.\wvggui.c(2039) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvggui.c(2051) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
wincallb.c
.\wincallb.c(191) : warning C4305: 'type cast' : truncation from 'LPVOID' to
'ULONG'
.\wincallb.c(348) : warning C4152: nonstandard extension, function/data
pointer conversion in expression
.\wincallb.c(391) : warning C4152: nonstandard extension, function/data
pointer conversion in expression
.\wincallb.c(403) : warning C4306: 'type cast' : conversion from 'long' to
'void *' of greater size
.\wincallb.c(417) : warning C4305: 'type cast' : truncation from 'BYTE *' to
'ULONG'
.\wincallb.c(419) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(431) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(432) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(433) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(434) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
c:\work\harbour-new\harbour\contrib\gtwvg\wincallb.c(608) : warning C4701:
potentially uninitialized local variable 'j' used
---

Brgds,
Viktor

On Sat, Feb 21, 2009 at 9:18 AM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10378
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10378&view=rev
> Author:   vouchcac
> Date:     2009-02-21 08:18:38 +0000 (Sat, 21 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-21 00:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/gtwvg/gtwvg.c
>  * harbour/contrib/gtwvg/wvggui.c
>  * harbour/contrib/gtwvg/wvgsink.c
>  * harbour/contrib/gtwvg/wvgwin.c
>  * harbour/contrib/gtwvg/wvgutils.c
>  * harbour/contrib/gtwvg/wvgtoolb.prg
>  * harbour/contrib/gtwvg/wvgwnd.prg
>  * harbour/contrib/gtwvg/wvgparts.ch
>  * harbour/contrib/gtwvg/wvtwin.ch
>  * harbour/contrib/hbwin/hbwapi.h
>  * harbour/contrib/hbwin/wapi_commctrl.c
>  * harbour/contrib/hbwin/wapi_winbase.c
>  * harbour/contrib/hbwin/wapi_winuser.c
>    ! Mostly warning fixes for 64bits.
>
>      ; Viktor, review me and plese send list of warnings
>        left after this.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/gtwvg.c
>    trunk/harbour/contrib/gtwvg/wvggui.c
>    trunk/harbour/contrib/gtwvg/wvgparts.ch
>    trunk/harbour/contrib/gtwvg/wvgsink.c
>    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
>    trunk/harbour/contrib/gtwvg/wvgutils.c
>    trunk/harbour/contrib/gtwvg/wvgwin.c
>    trunk/harbour/contrib/gtwvg/wvgwnd.prg
>    trunk/harbour/contrib/gtwvg/wvtwin.ch
>    trunk/harbour/contrib/hbwin/hbwapi.h
>    trunk/harbour/contrib/hbwin/wapi_commctrl.c
>    trunk/harbour/contrib/hbwin/wapi_winbase.c
>    trunk/harbour/contrib/hbwin/wapi_winuser.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090221/a6a55a24/attachment-0001.html
From vszakats at users.sourceforge.net  Sat Feb 21 04:02:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 04:03:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10381] trunk/harbour
Message-ID: <E1LanlC-0007O0-9O@c3vjzd1.ch3.sourceforge.com>

Revision: 10381
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10381&view=rev
Author:   vszakats
Date:     2009-02-21 09:02:57 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 10:02 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Debug line removed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 21 04:57:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 04:57:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10382] trunk/harbour
Message-ID: <E1Laobi-0006rk-Gf@3kljzd1.ch3.sourceforge.com>

Revision: 10382
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10382&view=rev
Author:   vszakats
Date:     2009-02-21 09:57:13 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 10:57 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    - Removed HBMK_NO_GTCGI macro.
    * Cleanups and fixes to GT list handling after recent
      changes.
    * Minor rearrangement on help screen.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 21 05:09:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 05:09:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
Message-ID: <18d502870902210209m289f1d98hb40c86d8a21e46eb@mail.gmail.com>

Hi Pritpal,
When trying to build the demo (32-bit), I'm also getting:
---
hbwin.lib(win_prn1.obj) : error LNK2005: _HB_FUN_WIN_FILLRECT already
defined in gtwvg.lib(wvgwin.obj)
demowvg.exe : fatal error LNK1169: one or more multiply defined symbols
found
---

Brgds,
Viktor

On Sat, Feb 21, 2009 at 9:18 AM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10378
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10378&view=rev
> Author:   vouchcac
> Date:     2009-02-21 08:18:38 +0000 (Sat, 21 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-21 00:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/gtwvg/gtwvg.c
>  * harbour/contrib/gtwvg/wvggui.c
>  * harbour/contrib/gtwvg/wvgsink.c
>  * harbour/contrib/gtwvg/wvgwin.c
>  * harbour/contrib/gtwvg/wvgutils.c
>  * harbour/contrib/gtwvg/wvgtoolb.prg
>  * harbour/contrib/gtwvg/wvgwnd.prg
>  * harbour/contrib/gtwvg/wvgparts.ch
>  * harbour/contrib/gtwvg/wvtwin.ch
>  * harbour/contrib/hbwin/hbwapi.h
>  * harbour/contrib/hbwin/wapi_commctrl.c
>  * harbour/contrib/hbwin/wapi_winbase.c
>  * harbour/contrib/hbwin/wapi_winuser.c
>    ! Mostly warning fixes for 64bits.
>
>      ; Viktor, review me and plese send list of warnings
>        left after this.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/gtwvg.c
>    trunk/harbour/contrib/gtwvg/wvggui.c
>    trunk/harbour/contrib/gtwvg/wvgparts.ch
>    trunk/harbour/contrib/gtwvg/wvgsink.c
>    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
>    trunk/harbour/contrib/gtwvg/wvgutils.c
>    trunk/harbour/contrib/gtwvg/wvgwin.c
>    trunk/harbour/contrib/gtwvg/wvgwnd.prg
>    trunk/harbour/contrib/gtwvg/wvtwin.ch
>    trunk/harbour/contrib/hbwin/hbwapi.h
>    trunk/harbour/contrib/hbwin/wapi_commctrl.c
>    trunk/harbour/contrib/hbwin/wapi_winbase.c
>    trunk/harbour/contrib/hbwin/wapi_winuser.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090221/6acff04c/attachment.html
From vszakats at users.sourceforge.net  Sat Feb 21 05:13:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 05:13:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10383] trunk/harbour
Message-ID: <E1Laorf-000751-BZ@3kljzd1.ch3.sourceforge.com>

Revision: 10383
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10383&view=rev
Author:   vszakats
Date:     2009-02-21 10:13:42 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 11:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/gtwvg/tests/gtwvg.hbp
    * Moved gtwvg from libs= to gt=. gui=yes no longer needed.
    * Added xhb, Windows libs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/gtwvg.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Feb 21 06:53:36 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 21 06:53:39 2009
Subject: [Harbour] Clipper... Clipper... Clipper : Comments by Steffen F.
	Pirsig, CTO of Xbase++ on 21 February 2009
Message-ID: <609353e70902210353q309ce3b7id119a9411f5d8188@mail.gmail.com>

Nice blog, however I feel you are something out of touch with reality.
I mean xBase as a language is vitale since years.
The point is that Xbase++ for example is used by developers to earn
their living, or for inhouse development. So there is not much hype
around - to give you some numbers.
Xbase++ customers are coming from more than 140 countries, Alaska
Software is getting approx 300 new leads per month, according to our
last projection there are more than 1. million end users working with
Xbase++ solutions.
Have a look at; www.alaska-software.com/company/references.shtm you
will see large corporations working with Xbase++. Projectgroups with
sizes of 30+ developers working fulltime with Xbase++.
So I would say Clipper is by far not dead - it is dead as a product
but not as a language....
More at Clipper... Clipper... Clipper, http://cch4clipper.blogspot.com
p/s Stefen did comment on xHarbour/Harbour.

-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Sat Feb 21 07:45:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 07:45:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10384] trunk/harbour
Message-ID: <E1LarEp-0001ee-IC@3kljzd1.ch3.sourceforge.com>

Revision: 10384
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10384&view=rev
Author:   vszakats
Date:     2009-02-21 12:45:46 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 13:37 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added internal function to check for linked GTs, so that
      platform/compiler code can act accordingly.
    + Added required system libs and paths for gtsln, gtcrs
      and gtxwc. So now it's 100% hbmk script compatible.
      This effectively added support for gtsln and gtcrs
      (for *nix only). ncur194 support is missing though,
      plus maybe some build-time modifier switches aren't
      honored (the WITHOUT* ones, but I'm not positive that
      all of them have to be handled on hbmk2 level).
      Probably some clever autodetection can be used on 
      hbmk2 level for such cases.
    ! Fixed to not be case-sensitive when dealing with GT names.
    + Added NOTE about 3rd party/contrib stuff handling.
    * Minor formatting.

    ; NOTE: What remains is cross compilation support, which
            is a new topic. -n support tweak, if needed.
            And testing, adding missing compilers, fixing
            existing ones if needed, syncing with build-time
            switches, clean Win32 system libs.

  * contrib/gtwvg/tests/gtwvg.hbp
    + Readded gui=yes to better separate compontents.
  * ChangeLog
    * Entry marked done.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/gtwvg.hbp
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 21 07:55:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 07:56:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10385] trunk/harbour
Message-ID: <E1LarOd-0001lT-98@3kljzd1.ch3.sourceforge.com>

Revision: 10385
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10385&view=rev
Author:   vszakats
Date:     2009-02-21 12:55:54 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 13:55 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fix to prev.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 21 08:30:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 08:30:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10386] trunk/harbour
Message-ID: <E1LarwE-0002b2-8x@3kljzd1.ch3.sourceforge.com>

Revision: 10386
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10386&view=rev
Author:   vszakats
Date:     2009-02-21 13:30:37 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 14:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
  * utils/hbmk2/hbmk2.prg
    ! Some three bad typos in recent commit.
    ! Fixed the way build-default GT is supplied via hbmkcfg file.
      (via gtdef= line)
    ! Fixed to fill gtdef= line only if GT was overridden at
      build time. Previously it was filled with gtstd, which
      is wrong.
    ! Temporarily disabled automatic entry point detection,
      as it needs more complicated management because there
      needs to be a second C compiler pass. We should try
      to use some other means to implement this feature IMO.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 21 09:04:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 09:04:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10387] trunk/harbour
Message-ID: <E1LasSx-0005Zs-SL@dn4whf1.ch3.sourceforge.com>

Revision: 10387
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10387&view=rev
Author:   vszakats
Date:     2009-02-21 14:04:24 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 15:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + source/vm/fm
  + source/vm/fm/Makefile
  + source/vm/fmmt
  + source/vm/fmmt/Makefile
  * source/vm/Makefile
    + Added hbfm, hbfmmt lib generation which works for
      all compilers, not just gcc family.
    ; Please review.
    ; TOFIX: For some reason the locally added C flags 
             appear twice. Couldn't find out why.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/Makefile

Added Paths:
-----------
    trunk/harbour/source/vm/fm/
    trunk/harbour/source/vm/fm/Makefile
    trunk/harbour/source/vm/fmmt/
    trunk/harbour/source/vm/fmmt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 21 10:00:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 21 10:00:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
Message-ID: <22136911.post@talk.nabble.com>


Hello Viktor

Thanks for the report.

<<<
You're using some 
features which are available on Win64
under different names probably, these used to be documented
on MSDN.
>>>

I know, will be fixing today.

<<<
Also notice you've undone Przemek recent change
in gtwvg.c regarding the palette indexes.
>>>

It is because I was viewing Palette Index from 
.PRG point of view where arrays are always addressed
1 based instead of 0 based. My representation was logical.
As whole of WVT*() classes are based on this logic,
I will try to set it as in other GTs in a phased manner.
Till then it stays as is.

Will be looking other warnings today.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22136911.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Feb 21 10:05:53 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 21 10:05:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902210209m289f1d98hb40c86d8a21e46eb@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210209m289f1d98hb40c86d8a21e46eb@mail.gmail.com>
Message-ID: <22136960.post@talk.nabble.com>


OOps


Viktor Szak?ts wrote:
> 
> hbwin.lib(win_prn1.obj) : error LNK2005: _HB_FUN_WIN_FILLRECT already
> defined in gtwvg.lib(wvgwin.obj)
> demowvg.exe : fatal error LNK1169: one or more multiply defined symbols
> found
> ---
> 

I have changed it to Wvg_FillRect().
Both functions are aimed differently.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22136960.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Sat Feb 21 10:09:44 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 21 10:09:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10388]
	trunk/harbour/contrib/gtwvg
Message-ID: <E1LatU8-0005F2-Kb@bj8yhf1.ch3.sourceforge.com>

Revision: 10388
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10388&view=rev
Author:   vouchcac
Date:     2009-02-21 15:09:44 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 07:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wvgdarea.prg
    ! WIN_FillRect() => WVG_FillRect() 
      Namespace lashed with hbwin/win_prn1.c.

Modified Paths:
--------------
    trunk/harbour/contrib/gtwvg/wvgdarea.prg
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Feb 21 10:10:32 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 21 10:10:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10389]
	trunk/harbour/ChangeLog
Message-ID: <E1LatUu-0005G3-Ut@bj8yhf1.ch3.sourceforge.com>

Revision: 10389
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10389&view=rev
Author:   vouchcac
Date:     2009-02-21 15:10:32 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 07:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wvgdarea.prg
    ! WIN_FillRect() => WVG_FillRect() 
      Namespace lashed with hbwin/win_prn1.c.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Feb 21 10:29:37 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 21 10:29:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10390] trunk/harbour
Message-ID: <E1LatnN-0005Yc-Ha@bj8yhf1.ch3.sourceforge.com>

Revision: 10390
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10390&view=rev
Author:   vouchcac
Date:     2009-02-21 15:29:36 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 07:28 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/wvggui.c
    ! Pacified warnings on 64 bits.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvggui.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Feb 21 11:04:51 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 21 11:04:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10391] trunk/harbour
Message-ID: <E1LauLT-0005EL-Gk@74yxhf1.ch3.sourceforge.com>

Revision: 10391
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10391&view=rev
Author:   vouchcac
Date:     2009-02-21 16:04:50 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 07:28 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/wvggui.c
    ! Pacified warnings on 64 bits.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgsink.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Sat Feb 21 11:47:07 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sat Feb 21 11:47:12 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <499AA56C.9030503@teledetection.fr>
References: <499AA56C.9030503@teledetection.fr>
Message-ID: <49A0300B.3040807@teledetection.fr>

Hi Viktor,

Some more test of hbmk2 with debian 5.0 and current svn

$ hbmk2 round
Harbour 1.1.0dev (Rev. 10391)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'round.prg'...
Lines 25, Functions/Procedures 1
Generating C source output to 'round.c'... Done.
/usr/bin/ld: cannot find -lharbour.1.1.0
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 256: 'gcc round.c   -O3  -O3 -oround 
-I/usr/include/harbour -L/usr/lib/harbour -Wl,--start-group 
-lharbour.1.1.0 -lhbcplr -lhbdebug -lgpm -lm -ldl -lrt -Wl,--end-group'

I think the name of harbour library is :
harbour-1.1.0 and not harbour.1.1.0

Note that without env (export) i get something strange :
$ hbmk2 round
sh: hbmk2bin/harbour: Aucun fichier ou r?pertoire de ce type
hbmk: Error: Running Harbour compiler. 32512: 'hbmk2bin/harbour round -n 
-ihbmk2include/harbour'

Thank you,

Guy

From vouchcac at users.sourceforge.net  Sat Feb 21 12:02:56 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 21 12:03:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10392] trunk/harbour
Message-ID: <E1LavFg-0006S4-K7@3kljzd1.ch3.sourceforge.com>

Revision: 10392
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10392&view=rev
Author:   vouchcac
Date:     2009-02-21 17:02:55 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 09:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgwin.c
    ! Pacified warnings on 64 bits.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Feb 21 12:30:11 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 21 12:30:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10393] trunk/harbour
Message-ID: <E1Lavg3-0007Aw-TP@3kljzd1.ch3.sourceforge.com>

Revision: 10393
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10393&view=rev
Author:   vouchcac
Date:     2009-02-21 17:30:10 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 09:28 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wincallb.c
    ! Pacified warnings on 64 bits.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wincallb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 21 12:37:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 12:37:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10394] trunk/harbour
Message-ID: <E1Lavmp-0001Ty-MY@c3vjzd1.ch3.sourceforge.com>

Revision: 10394
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10394&view=rev
Author:   vszakats
Date:     2009-02-21 17:37:09 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 18:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed recent typo in shared names for *nix systems.
      Thanks Guy.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 21 12:37:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 21 12:37:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
Message-ID: <22138493.post@talk.nabble.com>


Hi Viktor


>gtwvg.c    

FIXED.

<<<
wvgutils.c
.\wvgutils.c(1264) : warning C4305: 'type cast' : truncation from 'WORD *'
to 'WORD'
.\wvgutils.c(1264) : warning C4305: 'type cast' : truncation from 'WORD *'
to 'WORD'
>>>

I am not sure how to do.

> wvgsink.c

Hope should be fixed.

> wvgwin.c

Mostly fixed.

> wvggui.c

Fixed.

> wincallb.c

Really a gray area but I have tried.

Regards
Pritpal Bedi

PS: Please recompile and send errors list again.


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22138493.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sat Feb 21 12:46:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 12:46:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10395] trunk/harbour
Message-ID: <E1Lavvw-0001cu-C6@c3vjzd1.ch3.sourceforge.com>

Revision: 10395
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10395&view=rev
Author:   vszakats
Date:     2009-02-21 17:46:35 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 18:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed forming Harbour installed paths when alternate
      *nix dir layout is detected.
      Thanks to Guy also. Please retest.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 21 12:48:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 12:48:10 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <49A0300B.3040807@teledetection.fr>
References: <499AA56C.9030503@teledetection.fr>
	<49A0300B.3040807@teledetection.fr>
Message-ID: <18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com>

Hi Guy,

On Sat, Feb 21, 2009 at 5:47 PM, Guy Roussin

> hbmk: Error: Running C compiler. 256: 'gcc round.c   -O3  -O3 -oround
> -I/usr/include/harbour -L/usr/lib/harbour -Wl,--start-group -lharbour.1.1.0
> -lhbcplr -lhbdebug -lgpm -lm -ldl -lrt -Wl,--end-group'
>
> I think the name of harbour library is :
> harbour-1.1.0 and not harbour.1.1.0


Thanks, corrected. It was indeed a typo I've added just recently.


> Note that without env (export) i get something strange :
> $ hbmk2 round
> sh: hbmk2bin/harbour: Aucun fichier ou r?pertoire de ce type
> hbmk: Error: Running Harbour compiler. 32512: 'hbmk2bin/harbour round -n
> -ihbmk2include/harbour'


Thanks for this, too. It was a bug in a code path which
I didn't test locally.

Please retry with r10395 or newer.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090221/147d8892/attachment.html
From harbour.01 at syenar.hu  Sat Feb 21 12:57:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 12:57:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22138493.post@talk.nabble.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
Message-ID: <18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>

Hi Pripal,

The errors went, thanks you. These are the warnings remaining.

[ In .\wvgutils.c(1264) the previous version (commented in
code) was correct, you probably need to cast the whole
expression manually to '( ULONG )'. ]

---
gtwvg.c
.\gtwvg.c(3338) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(3350) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(4236) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
wvgutils.c
.\wvgutils.c(1264) : warning C4305: 'type cast' : truncation from 'WORD *'
to 'WORD'
.\wvgutils.c(1264) : warning C4305: 'type cast' : truncation from 'WORD *'
to 'WORD'
wvgsink.c
.\wvgsink.c(805) : warning C4101: 'rc' : unreferenced local variable
wvgwin.c
.\wvgwin.c(921) : warning C4244: 'function' : conversion from 'HB_LONG' to
'DWORD', possible loss of data
.\wvgwin.c(1417) : warning C4305: 'type cast' : truncation from 'WNDPROC' to
'long'
.\wvgwin.c(1474) : warning C4244: 'function' : conversion from 'DWORD_PTR'
to 'LONG', possible loss of data
.\wvgwin.c(1801) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvgwin.c(1809) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvgwin.c(2121) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
.\wvgwin.c(2187) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
.\wvgwin.c(2189) : warning C4244: '=' : conversion from 'LRESULT' to 'int',
possible loss of data
wvggui.c
.\wvggui.c(2039) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvggui.c(2051) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
wincallb.c
.\wincallb.c(348) : warning C4152: nonstandard extension, function/data
pointer conversion in expression
.\wincallb.c(391) : warning C4152: nonstandard extension, function/data
pointer conversion in expression
.\wincallb.c(417) : warning C4305: 'type cast' : truncation from 'BYTE *' to
'ULONG'
.\wincallb.c(419) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(431) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(432) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(433) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(434) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
---

Brgds,
Viktor

On Sat, Feb 21, 2009 at 6:37 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi Viktor
>
>
> >gtwvg.c
>
> FIXED.
>
> <<<
> wvgutils.c
> .\wvgutils.c(1264) : warning C4305: 'type cast' : truncation from 'WORD *'
> to 'WORD'
> .\wvgutils.c(1264) : warning C4305: 'type cast' : truncation from 'WORD *'
> to 'WORD'
> >>>
>
> I am not sure how to do.
>
> > wvgsink.c
>
> Hope should be fixed.
>
> > wvgwin.c
>
> Mostly fixed.
>
> > wvggui.c
>
> Fixed.
>
> > wincallb.c
>
> Really a gray area but I have tried.
>
> Regards
> Pritpal Bedi
>
> PS: Please recompile and send errors list again.
>
>
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22138493.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090221/9be43ef8/attachment.html
From vszakats at users.sourceforge.net  Sat Feb 21 13:33:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 13:33:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10396] trunk/harbour
Message-ID: <E1Lawff-0001G8-Gb@bj8yhf1.ch3.sourceforge.com>

Revision: 10396
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10396&view=rev
Author:   vszakats
Date:     2009-02-21 18:33:50 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 19:31 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
  * harbour.spec
  * mpkg_tgz.sh
    % Removed -O3 user gcc switch. It's the default in all
      gcc family .cf files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_tgz.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 21 14:39:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 14:39:52 2009
Subject: [Harbour] Bug or FS difference?: Locking readonly tables
Message-ID: <18d502870902211139j36083bdet88757b6eda3223c2@mail.gmail.com>

Hi all,
I've run into a problem on Linux/Darwin, this code behaves differently:
---
PROC MAIN()
   dbCreate( "test.dbf", {{ "ID", "C", 10, 0 }})
   dbUseArea( .T., NIL, "test.dbf", "w_TEST", .T., .T. ) /* SHARED, READONLY
*/
   ? FLock()
---

Clipper on Windows: .T.
Harbour on Windows: .T.
Harbour on Linux: .F.
Harbour on Darwin: .F.

If I remove the READONLY flag, it works the same way on all above.

Is this normal platform difference, or something Harbour related?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090221/a728ce2d/attachment-0001.html
From vailtom at gmail.com  Sat Feb 21 15:44:16 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sat Feb 21 15:44:20 2009
Subject: [Harbour] Reading XML
In-Reply-To: <COL103-DS1869EBB9B9BDA9DA30CD75DCB50@phx.gbl>
References: <COL103-DS1869EBB9B9BDA9DA30CD75DCB50@phx.gbl>
Message-ID: <531d7a750902211244r48e8c67ew8ed84b92584be863@mail.gmail.com>

With GET or POST?

2009/2/18 S?rgio Kondo <cigcor@hotmail.com>:
> Hi,
> If my PHP application send XML to my CGI aplication, how to I can read this?
> Thansk!
> S?rgio
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From vouchcac at users.sourceforge.net  Sat Feb 21 16:01:53 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 21 16:02:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10397] trunk/harbour
Message-ID: <E1Layyv-0007PA-J0@d5vjzd1.ch3.sourceforge.com>

Revision: 10397
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10397&view=rev
Author:   vouchcac
Date:     2009-02-21 21:01:51 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 13:00 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgsink.c
  * harbour/contrib/gtwvg/wvgutils.c
  * harbour/contrib/gtwvg/wvgwin.c
    ! Pacified more warnings on 64bits.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 21 16:10:38 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 21 16:10:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
Message-ID: <22140618.post@talk.nabble.com>


Hello Viktor


[ In .\wvgutils.c(1264) the previous version (commented in
code) was correct, you probably need to cast the whole
expression manually to '( ULONG )'. ]

No, this code works only as is now, otherwise not.
I do not know what to do with it.

<<<<<<<<<
gtwvg.c
.\gtwvg.c(3338) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(3350) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\gtwvg.c(4236) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size

.\wvgwin.c(1801) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvgwin.c(1809) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size

wvggui.c
.\wvggui.c(2039) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
.\wvggui.c(2051) : warning C4306: 'type cast' : conversion from 'int' to
'HWND' of greater size
>>>>>>>>>>>>>>

The warnings above are in SetWindowPos( hWnd, hWndParent, ... )
Here if <hWndParent> <> NULL then it is being treated as "int" in 64 bits,
Otherwise "HWND". Should it be guarded against #if (_WIN_IE >= 0500) ?

<<<<<<<
.\wvgwin.c(2121) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
.\wvgwin.c(2187) : warning C4305: 'type cast' : truncation from 'HBITMAP' to
'UINT'
>>>>>>>

This again is the situation similar to above.


<<<<<<<<<
wincallb.c
.\wincallb.c(348) : warning C4152: nonstandard extension, function/data
pointer conversion in expression
.\wincallb.c(391) : warning C4152: nonstandard extension, function/data
pointer conversion in expression
.\wincallb.c(417) : warning C4305: 'type cast' : truncation from 'BYTE *' to
'ULONG'
.\wincallb.c(419) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(431) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(432) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(433) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(434) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
>>>>>>>>

I do not know how to fix it. These functions are important though.

BTW have you been able to execute demowvg.exe ?

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22140618.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sat Feb 21 16:17:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 16:17:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10398] trunk/harbour
Message-ID: <E1LazE9-0003Y3-J5@3kljzd1.ch3.sourceforge.com>

Revision: 10398
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10398&view=rev
Author:   vszakats
Date:     2009-02-21 21:17:36 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-21 22:11 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + contrib/examples/dbu/dbu.hbm
  - contrib/examples/dbu/hbmk.bat
  * contrib/examples/dbu/readme.txt
  + contrib/examples/rl/rl.hbm
  - contrib/examples/rl/hbmk.bat
  * contrib/examples/rl/readme.txt
    + Replace Win/DOS specific batch files with hbmk make
      file, so now all platforms are equally supported.

  - contrib/examples/dbu/hb_dbu.dif
  + contrib/examples/dbu/dbu.dif
    * Renamed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/dbu/readme.txt
    trunk/harbour/contrib/examples/rl/readme.txt

Added Paths:
-----------
    trunk/harbour/contrib/examples/dbu/dbu.dif
    trunk/harbour/contrib/examples/dbu/dbu.hbm
    trunk/harbour/contrib/examples/rl/rl.hbm

Removed Paths:
-------------
    trunk/harbour/contrib/examples/dbu/hb_dbu.dif
    trunk/harbour/contrib/examples/dbu/hbmk.bat
    trunk/harbour/contrib/examples/rl/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From joe_bernardes at yahoo.com.br  Sat Feb 21 16:25:53 2009
From: joe_bernardes at yahoo.com.br (Joel M Bernardes)
Date: Sat Feb 21 16:25:56 2009
Subject: [Harbour] Erro SRC(SVN)
Message-ID: <395376.19047.qm@web51901.mail.re2.yahoo.com>

Hello All
?
Does anybody can me to help with that mistake?? 
Msys/Mingw/winxp


gcc -c -O3 -W -Wall -Iinclude? -Iobj/gcc -oobj/gcc/gttrm.o source/rtl/gttrm/gttrm.c
source/rtl/gttrm/gttrm.c: In function `get_inch':
source/rtl/gttrm/gttrm.c:1173: error: storage size of 'tv' isn't known
source/rtl/gttrm/gttrm.c:1175: error: `fd_set' undeclared (first use in this function)
source/rtl/gttrm/gttrm.c:1175: error: (Each undeclared identifier is reported only once
source/rtl/gttrm/gttrm.c:1175: error: for each function it appears in.)
source/rtl/gttrm/gttrm.c:1175: error: syntax error before "rfds"
source/rtl/gttrm/gttrm.c:1191: warning: implicit declaration of function `FD_ZERO'
source/rtl/gttrm/gttrm.c:1191: error: `rfds' undeclared (first use in this function)
source/rtl/gttrm/gttrm.c:1192: error: `wfds' undeclared (first use in this function)
source/rtl/gttrm/gttrm.c:1200: warning: implicit declaration of function `FD_SET'
source/rtl/gttrm/gttrm.c:1215: warning: implicit declaration of function `select'
source/rtl/gttrm/gttrm.c:1219: warning: implicit declaration of function `FD_ISSET'
source/rtl/gttrm/gttrm.c:1173: warning: unused variable `tv'
source/rtl/gttrm/gttrm.c: In function `hb_gt_trm_AnsiGetCursorPos':
source/rtl/gttrm/gttrm.c:1831: warning: unused variable `iTODO'
make: *** [obj/gcc/gttrm.o] Error 1

At revision: 10398? 

Many thanks
Joel Bernardes





      Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090221/81815ca3/attachment.html
From harbour.01 at syenar.hu  Sat Feb 21 16:34:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 16:34:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22140618.post@talk.nabble.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
Message-ID: <18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>

Hi Pritpal,

Good job, the code looks quite clean now, except for some
regular warnings that can be safely ignored for now.

The remaining important ones are these (see below):
---
wvgutils.c
.\wvgutils.c(1263) : warning C4244: 'function' : conversion from
'HB_PTRDIFF' to 'ULONG', possible loss of data
wincallb.c
.\wincallb.c(417) : warning C4305: 'type cast' : truncation from 'BYTE *' to
'ULONG'
.\wincallb.c(419) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(431) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(432) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(433) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
.\wincallb.c(434) : warning C4305: 'type cast' : truncation from 'void *' to
'ULONG'
--


> [ In .\wvgutils.c(1264) the previous version (commented in
> code) was correct, you probably need to cast the whole
> expression manually to '( ULONG )'. ]
>
> No, this code works only as is now, otherwise not.
> I do not know what to do with it.


I see. Same code is used BTW in hbwhat, so that one's wrong also.
I seem to recall seeing the solution from Przemek, bug forgot
where it was, and couldn't find it now either. Casting a pointer to
WORD is definitely wrong though for 64-bit, should use PTRDIFF
in some ways or another.


> <<<<<<<<<
> gtwvg.c
> .\gtwvg.c(3338) : warning C4306: 'type cast' : conversion from 'int' to
> 'HWND' of greater size>>>>>>>>>>>>>>
>
> The warnings above are in SetWindowPos( hWnd, hWndParent, ... )
> Here if <hWndParent> <> NULL then it is being treated as "int" in 64 bits,
> Otherwise "HWND". Should it be guarded against #if (_WIN_IE >= 0500) ?


Rather HB_OS_WIN_64. But I think it's fine like this, it seems harmless.


> <<<<<<<<<
> wincallb.c
> .\wincallb.c(348) : warning C4152: nonstandard extension, function/data
> pointer conversion in expression
> .\wincallb.c(391) : warning C4152: nonstandard extension, function/data
> pointer conversion in expression
> .\wincallb.c(417) : warning C4305: 'type cast' : truncation from 'BYTE *'
> to
> 'ULONG'
> .\wincallb.c(419) : warning C4305: 'type cast' : truncation from 'void *'
> to
> 'ULONG'
> .\wincallb.c(431) : warning C4305: 'type cast' : truncation from 'void *'
> to
> 'ULONG'
> .\wincallb.c(432) : warning C4305: 'type cast' : truncation from 'void *'
> to
> 'ULONG'
> .\wincallb.c(433) : warning C4305: 'type cast' : truncation from 'void *'
> to
> 'ULONG'
> .\wincallb.c(434) : warning C4305: 'type cast' : truncation from 'void *'
> to
> 'ULONG'
> >>>>>>>>
>
> I do not know how to fix it. These functions are important though.


This code seems to be x86 (32-bit) specific, it's even using byte
coded assembler. Probably this part shouldn't be used if we want to
achieve 64-bit (or WinCE/ARM, or Itanium) support. I'm not sure how
important it is, or can it be swapped for some portable solutions.
One solution could be to write CALLBACK specific C wrappers for
Harbour, instead of using this generic solution. Little more coding,
but much cleaner.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090221/f413c4ad/attachment.html
From bedipritpal at hotmail.com  Sat Feb 21 17:15:46 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 21 17:15:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
Message-ID: <22141201.post@talk.nabble.com>


Viktor

>Good job, the code looks quite clean now, except for some
>regular warnings that can be safely ignored for now.

Thanks.

Question, does demowvg.exe runs on 64 bits ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22141201.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Feb 21 17:51:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 17:51:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22141201.post@talk.nabble.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
Message-ID: <18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>

Hi Pritpal,


> Thanks.
>
> Question, does demowvg.exe runs on 64 bits ?


Sorry, I had to fire up 64 bit stuff, and yes it did run.
I didn't do a very exhaustive test, but it looked like on
32-bit. One exception is the ActiveX menu, which did
nothing. Update: I've rechecked, and 32-bit doesn't do
anything either.

Would it be possible to remove xhb.lib dependence for
GTWVG?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090221/8d3e54fc/attachment.html
From harbour.01 at syenar.hu  Sat Feb 21 18:09:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 18:10:00 2009
Subject: [Harbour] Erro SRC(SVN)
In-Reply-To: <395376.19047.qm@web51901.mail.re2.yahoo.com>
References: <395376.19047.qm@web51901.mail.re2.yahoo.com>
Message-ID: <18d502870902211509v378567e9q57c11d9c5ba589eb@mail.gmail.com>

Hi Joel,
gttrm is only supported on *nix platforms.

make_gcc.sh (which belongs to non-GNU make) will try to
build it also for Cygwin (but dunno when it was tested last
time), for other Windows builds it should be disabled by
default.

Brgds,
Viktor

On Sat, Feb 21, 2009 at 10:25 PM, Joel M Bernardes <
joe_bernardes@yahoo.com.br> wrote:

> Hello All
>
> Does anybody can me to help with that mistake?
> Msys/Mingw/winxp
>
>
> gcc -c -O3 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/gttrm.o
> source/rtl/gttrm/gttrm.c
> source/rtl/gttrm/gttrm.c: In function `get_inch':
> source/rtl/gttrm/gttrm.c:1173: error: storage size of 'tv' isn't known
> source/rtl/gttrm/gttrm.c:1175: error: `fd_set' undeclared (first use in
> this function)
> source/rtl/gttrm/gttrm.c:1175: error: (Each undeclared identifier is
> reported only once
> source/rtl/gttrm/gttrm.c:1175: error: for each function it appears in.)
> source/rtl/gttrm/gttrm.c:1175: error: syntax error before "rfds"
> source/rtl/gttrm/gttrm.c:1191: warning: implicit declaration of function
> `FD_ZERO'
> source/rtl/gttrm/gttrm.c:1191: error: `rfds' undeclared (first use in this
> function)
> source/rtl/gttrm/gttrm.c:1192: error: `wfds' undeclared (first use in this
> function)
> source/rtl/gttrm/gttrm.c:1200: warning: implicit declaration of function
> `FD_SET'
> source/rtl/gttrm/gttrm.c:1215: warning: implicit declaration of function
> `select'
> source/rtl/gttrm/gttrm.c:1219: warning: implicit declaration of function
> `FD_ISSET'
> source/rtl/gttrm/gttrm.c:1173: warning: unused variable `tv'
> source/rtl/gttrm/gttrm.c: In function `hb_gt_trm_AnsiGetCursorPos':
> source/rtl/gttrm/gttrm.c:1831: warning: unused variable `iTODO'
> make: *** [obj/gcc/gttrm.o] Error 1
>
> At revision: 10398
>
> Many thanks
> Joel Bernardes
>
>
>
> ------------------------------
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10<http://br.rd.yahoo.com/mail/taglines/mail/*http://br.maisbuscados.yahoo.com/>-
> Celebridades<http://br.rd.yahoo.com/mail/taglines/mail/*http://br.maisbuscados.yahoo.com/celebridades/>-
> M?sica<http://br.rd.yahoo.com/mail/taglines/mail/*http://br.maisbuscados.yahoo.com/m%C3%BAsica/>-
> Esportes<http://br.rd.yahoo.com/mail/taglines/mail/*http://br.maisbuscados.yahoo.com/esportes/>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/af395f1b/attachment.html
From vszakats at users.sourceforge.net  Sat Feb 21 18:17:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 18:17:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10399] trunk/harbour
Message-ID: <E1Lb15w-00005V-8V@c3vjzd1.ch3.sourceforge.com>

Revision: 10399
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10399&view=rev
Author:   vszakats
Date:     2009-02-21 23:17:15 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-22 00:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fix to -mwindow/-mconsole switch handling for MinGW.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 21 18:22:29 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 21 18:22:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
Message-ID: <22141792.post@talk.nabble.com>


Viktor

<<<
Sorry, I had to fire up 64 bit stuff, and yes it did run.
I didn't do a very exhaustive test, but it looked like on
32-bit. One exception is the ActiveX menu, which did
nothing. Update: I've rechecked, and 32-bit doesn't do
anything either.
>>>

Strange. 
This can only happen if [ REQUEST HB_GT_WGU ] is missing.

> Would it be possible to remove xhb.lib dependence for
> GTWVG?

It is not dependant on xhb.lib at all.
Just pull out hb_ToOutDebug() call from demowvg.prg
and it will run without xhb. If we introduce structures
in hbwin, then probably we need xhb until Przemek
or Francesco offer some better solution. If we opt
out structure support then GTWVG is independant of
xhb.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22141792.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Feb 21 18:46:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 21 18:46:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22141792.post@talk.nabble.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
Message-ID: <18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>

>
> nothing. Update: I've rechecked, and 32-bit doesn't do
> anything either.
> >>>
>
> Strange.
> This can only happen if [ REQUEST HB_GT_WGU ] is missing.


I've found it: You need to build it in MT mode (maybe you
can put a screen message on this for ST build). So I did a new
build, and on 64-bit, here's the GPF what happens in every
ActiveX menu item:

---
Application Internal Error - Z:\demowvg.exe
Terminated at: 2009.02.21 23:37:57
Unrecoverable error 6005: Exception error:

    Exception Code:C0000005
    Exception Address:0x00000000400E1410
    RAX:0x0000000077C43ABC  RBX:0x0000000000000000  RCX:0x0000000000000000
 RDX:0x0000000000000000
    RSI:0x0000000000000404  RDI:0x0000000000000000  RBP:0x000000000241F540
    R8 :0x0000000000000001  R9 :0x000000000241F740  R10:0x000000000241F5B0
 R11:0x0000000077C20000
    R12:0x000000000241F740  R13:0x000000000002013E  R14:0x000000000002013E
 R15:0x0000000000000000
    CS:RIP:0033:0x00000000400E1410  SS:RSP:002B:0x000000000241F510
    DS:002B  ES:002B  FS:0053  GS:002B
    Flags:00010246

Modules:
0x0000000140000000 0x00000000001A7000 Z:\demowvg0x0000000077EC0000
0x0000000000139000 C:\WINDOWS\system32\ntdll0x0000000077D40000
0x0000000000173000 C:\WINDOWS\system32\kerne0x000007FF76200000
0x00000000000EF000 C:\WINDOWS\WinSxS\amd64_M0x000007FF7FEE0000
0x0000000000105000 C:\WINDOWS\system32\ADVAP0x000007FF7FD30000
0x0000000000199000 C:\WINDOWS\system32\RPCRT0x000007FF7E9C0000
0x0000000000022000 C:\WINDOWS\system32\Secur0x000007FF7FC90000
0x000000000009C000 C:\WINDOWS\system32\GDI320x0000000077C20000
0x000000000010C000 C:\WINDOWS\system32\USER30x000007FF7D540000
0x0000000000077000 C:\WINDOWS\system32\COMDL0x000007FF7FC00000
0x0000000000086000 C:\WINDOWS\system32\msvcr0x000007FF7EF60000
0x000000000009B000 C:\WINDOWS\system32\SHLWA0x000007FF7F190000
0x0000000000A0B000 C:\WINDOWS\system32\SHELL0x000007FF57140000
0x0000000000285000 C:\WINDOWS\system32\ole320x000007FF7EBC0000
0x0000000000116000 C:\WINDOWS\system32\OLEAU0x000007FF7D500000
0x0000000000039000 C:\WINDOWS\system32\IMM320x000007FF7F000000
0x0000000000187000 C:\WINDOWS\WinSxS\amd64_M0x000007FF7D310000
0x0000000000006000 C:\WINDOWS\system32\msimg0x000007FF7A410000
0x000000000009F000 C:\WINDOWS\system32\MSCTF0x000007FF7CE50000
0x0000000000041000 C:\WINDOWS\system32\apphe0x000007FF58AF0000
0x000000000005C000 C:\WINDOWS\system32\msctf
Called from WVG_STATUSBARCREATEPANEL(0)
Called from WVGSTATUSBAR:ADDITEM(0) in .\wvgstatb.prg
Called from WVGSTATUSBAR:CREATE(0) in .\wvgstatb.prg
Called from EXECUTEACTIVEX(2382) in demowvg.prg
Called from (b)EVAL(1430)
---

It is not dependant on xhb.lib at all.
> Just pull out hb_ToOutDebug() call from demowvg.prg
> and it will run without xhb. If we introduce structures
> in hbwin, then probably we need xhb until Przemek
> or Francesco offer some better solution. If we opt
> out structure support then GTWVG is independant of
> xhb.


Notice that xhb structure support isn't even MT safe,
so I'd avoid it at all cost. I'd suggest to code manually
a simpler structure (you can take Przemek code sent
to the list of use the ones I've sent to you as an
alternative solution), so you can see the issues, solve
them and you can then reuse the method for other
structure quite easily. I don't not how many structures
you need to support on the .prg level, but maybe coding
them one-by-one isn't something impossible. It would
surely result in much better portable and quality code
than xhb hack, which will need to be recoded in the
future again and again.

The callback support also needs to be solved, you
didn't address that part.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/6d945d82/attachment.html
From vszakats at users.sourceforge.net  Sat Feb 21 18:52:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 21 18:52:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10400] trunk/harbour
Message-ID: <E1Lb1dh-00070W-4f@74yxhf1.ch3.sourceforge.com>

Revision: 10400
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10400&view=rev
Author:   vszakats
Date:     2009-02-21 23:52:08 +0000 (Sat, 21 Feb 2009)

Log Message:
-----------
2009-02-22 00:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/gtwvg/wvgtoolb.prg
    ! Enabled disabling debug calls (requiring xhb) in non-debug mode.

  * contrib/gtwvg/tests/gtwvg.hbp
    - Removed xhb lib.
    + Added mt=yes line.

  * source/vm/extrap.c
    ! Extended line buffer used for module listing. 64 bytes
      just isn't enough in 64-bit mode.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/gtwvg.hbp
    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
    trunk/harbour/source/vm/extrap.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 21 21:32:50 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 21 21:32:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
Message-ID: <22143032.post@talk.nabble.com>


Hi Viktor

<<<
I've found it: You need to build it in MT mode (maybe you
can put a screen message on this for ST build). So I did a new
build, and on 64-bit, here's the GPF what happens in every
ActiveX menu item:

---
Application Internal Error - Z:\demowvg.exe
Called from WVG_STATUSBARCREATEPANEL(0)
Called from WVGSTATUSBAR:ADDITEM(0) in .\wvgstatb.prg
Called from WVGSTATUSBAR:CREATE(0) in .\wvgstatb.prg
Called from EXECUTEACTIVEX(2382) in demowvg.prg
Called from (b)EVAL(1430)
---
>>>>

So to be sure that all other components are working or not,
except Statusbar control, attached is modified demowvg.prg.
Please do the above test with it and click only first prompt of
Active-X menu <Pure Xbase++>.

<<<<
Notice that xhb structure support isn't even MT safe,
so I'd avoid it at all cost. I'd suggest to code manually
a simpler structure (you can take Przemek code sent
to the list of use the ones I've sent to you as an
alternative solution), so you can see the issues, solve
them and you can then reuse the method for other
structure quite easily. I don't not how many structures
you need to support on the .prg level, but maybe coding
them one-by-one isn't something impossible. It would
surely result in much better portable and quality code
than xhb hack, which will need to be recoded in the
future again and again.
>>>>

I tried Przemek's code. It works but it is not that elegant
solution. May be he comes up with more sophisticated way
as is employed in xhb. Till then...

BTW I did not see any memory corruption if I use xhb
implementation of structures. I am using it since ages.
To be very sure I retested all my routines using xhb
structures in MT environmrnt and I could not find even
a single hb_out.log entry. But I may be wrong...

<<<<
The callback support also needs to be solved, you
didn't address that part.
>>>>

I told before, it is extremely gray area for me.
I just implemented Andy Wos code. He is better equipped
to refine it. He is not available online these days, may be 
on vacations, otherwise I must have requested him.

Regards
Pritpal Bedi

http://www.nabble.com/file/p22143032/demowvg.zip demowvg.zip 
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22143032.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Feb 21 21:45:01 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 21 21:45:05 2009
Subject: [Harbour] Dlmalloc.c - VirtualAlloc/Free - Test Results
Message-ID: <22143106.post@talk.nabble.com>


Hello Everybody

As I posted ( Toninho too ) about memProof.exe' report 
of unfreed memory pages at appln termination,
here are the investigations.

I used following debugging code:

/* For direct MMAP, use MEM_TOP_DOWN to minimize interference */
static void* win32direct_mmap(size_t size) {
  void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT|MEM_TOP_DOWN,
                           PAGE_READWRITE);
OutputDebugString( "--------------------VirtualAllocate  win32direct_mmap"
);
  return (ptr != 0)? ptr: MFAIL;
}

/* This function supports releasing coalesed segments */
static int win32munmap(void* ptr, size_t size) {
  MEMORY_BASIC_INFORMATION minfo;
  BOOL bFail;
  char* cptr = (char*)ptr; /* NOTE: Harbour fix for MSVC C++ mode compile
error. Also fixed in dlmalloc 2.8.4b. [vszakats] */
  while (size) {
    if (VirtualQuery(cptr, &minfo, sizeof(minfo)) == 0)
      return -1;
    if (minfo.BaseAddress != cptr || minfo.AllocationBase != cptr ||
        minfo.State != MEM_COMMIT || minfo.RegionSize > size)
      return -1;
    bFail = (VirtualFree(cptr, 0, MEM_RELEASE) == 0);
    if (!bFail)
    {
OutputDebugString( "--------------------------------VirtualFree 
(VirtualFree(cptr, 0, MEM_RELEASE) == 0);" );
    }
    else
    {
OutputDebugString( "------------------------------------------VirtualFree 
failed" );
      return -1;
    }
    cptr += minfo.RegionSize;
    size -= minfo.RegionSize;
  }
  return 0;
}

VirtualAlloc() calls == 88
VistualFree() calls == 61  ( all succeeding )
Uncalled allocations == 27
MemProof's reporting == 23 + one entry of 4 allocns of 4096 bytes.

Just food for the thoughts. 
Honestly I do not know what it is and what it should.
But MemProof's report must be considered.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Dlmalloc.c---VirtualAlloc-Free---Test-Results-tp22143106p22143106.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Feb 21 22:10:40 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 21 22:10:44 2009
Subject: [Harbour] Dlmalloc.c - VirtualAlloc/Free - More Info
In-Reply-To: <22143106.post@talk.nabble.com>
References: <22143106.post@talk.nabble.com>
Message-ID: <22143213.post@talk.nabble.com>


Hello

And if I open another threaded module and 
close it, VirtualFree() is never called. 
After opening threaded module, then closing,
the exiting the appn normally no instance of
VirtualFree() is called. And MemProof.exe 
shows a tons of such defaults.

If I do not open another thread then on appln
termination my previous observation remains good.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Dlmalloc.c---VirtualAlloc-Free---Test-Results-tp22143106p22143213.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Sun Feb 22 02:32:20 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Feb 22 02:32:23 2009
Subject: [Harbour] 
	Shouldn't utils like hbrun, hbmk2, hbtest, ... be "shared"
Message-ID: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>

Is there any reason?

Wouldn't be better to have them linked against harbour shared lib?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Feb 22 02:34:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 02:34:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22143032.post@talk.nabble.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
Message-ID: <18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>

Hi Pritpal,


> ---
> Application Internal Error - Z:\demowvg.exe
> Called from WVG_STATUSBARCREATEPANEL(0)
> Called from WVGSTATUSBAR:ADDITEM(0) in .\wvgstatb.prg
> Called from WVGSTATUSBAR:CREATE(0) in .\wvgstatb.prg
> Called from EXECUTEACTIVEX(2382) in demowvg.prg
> Called from (b)EVAL(1430)
> ---
> >>>>
>
> So to be sure that all other components are working or not,
> except Statusbar control, attached is modified demowvg.prg.
> Please do the above test with it and click only first prompt of
> Active-X menu <Pure Xbase++>.


Here are the results:
---
Application Internal Error - Z:\demowvg6.exe
Terminated at: 2009.02.22 07:28:10
Unrecoverable error 6005: Exception error:

    Exception Code:C0000005
    Exception Address:0x00000000400E2D70
    RAX:0x0000000077C43ABC  RBX:0x0000000000000000  RCX:0x0000000000000000
 RDX:0x0000000000000001
    RSI:0x000000000000000C  RDI:0x0000000000000000  RBP:0x000000000241F980
    R8 :0x0000000000000000  R9 :0x000000014012F8CC  R10:0x000000000241F9F0
 R11:0x0000000077C20000
    R12:0x000000014012F8CC  R13:0x00000000004E0110  R14:0x00000000004E0110
 R15:0x0000000000000000
    CS:RIP:0033:0x00000000400E2D70  SS:RSP:002B:0x000000000241F950
    DS:002B  ES:002B  FS:0053  GS:002B
    Flags:00010246

Modules:
0x0000000140000000 0x00000000001B2000 Z:\demowvg6.exe
0x0000000077EC0000 0x0000000000139000 C:\WINDOWS\system32\ntdll.dll
0x0000000077D40000 0x0000000000173000 C:\WINDOWS\system32\kernel32.dll
0x000007FF76200000 0x00000000000EF000
C:\WINDOWS\WinSxS\amd64_Microsoft.Windows.Common-Controls_6595b64144ccf1df_5.82.3790.3959_x-ww_AB06DEB0\COMCTL32.dll
0x000007FF7FEE0000 0x0000000000105000 C:\WINDOWS\system32\ADVAPI32.dll
0x000007FF7FD30000 0x0000000000199000 C:\WINDOWS\system32\RPCRT4.dll
0x000007FF7E9C0000 0x0000000000022000 C:\WINDOWS\system32\Secur32.dll
0x000007FF7FC90000 0x000000000009C000 C:\WINDOWS\system32\GDI32.dll
0x0000000077C20000 0x000000000010C000 C:\WINDOWS\system32\USER32.dll
0x000007FF7D540000 0x0000000000077000 C:\WINDOWS\system32\COMDLG32.dll
0x000007FF7FC00000 0x0000000000086000 C:\WINDOWS\system32\msvcrt.dll
0x000007FF7EF60000 0x000000000009B000 C:\WINDOWS\system32\SHLWAPI.dll
0x000007FF7F190000 0x0000000000A0B000 C:\WINDOWS\system32\SHELL32.dll
0x000007FF57140000 0x0000000000285000 C:\WINDOWS\system32\ole32.dll
0x000007FF7EBC0000 0x0000000000116000 C:\WINDOWS\system32\OLEAUT32.dll
0x000007FF7D500000 0x0000000000039000 C:\WINDOWS\system32\IMM32.DLL
0x000007FF7F000000 0x0000000000187000
C:\WINDOWS\WinSxS\amd64_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.3790.3959_x-ww_0A7B2435\comctl32.dll
0x000007FF7D310000 0x0000000000006000 C:\WINDOWS\system32\msimg32.dll
0x000007FF7A410000 0x000000000009F000 C:\WINDOWS\system32\MSCTF.dll
0x000007FF7CE50000 0x0000000000041000 C:\WINDOWS\system32\apphelp.dll
0x000007FF58AF0000 0x000000000005C000 C:\WINDOWS\system32\msctfime.ime

Called from WIN_SENDMESSAGETEXT(0)
Called from WVGSTATIC:SETCAPTION(0) in .\wvgstatc.prg
Called from WVGSTATIC:CREATE(0) in .\wvgstatc.prg
Called from DEMOXBP(3044) in demowvg.prg
Called from (b)EVAL(1437)
------------------------------------------------------------------------


> I tried Przemek's code. It works but it is not that elegant
>  solution. May be he comes up with more sophisticated way
> as is employed in xhb. Till then...


Did you try the other method?

Surely they are both much more elegant than xhb cstructs,
as this latter passes binary structures around in _strings_,
so all it takes is a silly .prg level mistake to corrupt C level
data.

BTW I used this kind of method for a few structures in Clipper,
since it had no other way, but since, all those had been
converted to Harbour GC collected pointers.

BTW I did not see any memory corruption if I use xhb
> implementation of structures. I am using it since ages.
> To be very sure I retested all my routines using xhb
> structures in MT environmrnt and I could not find even
> a single hb_out.log entry. But I may be wrong...


Yes, such MT problems are notoriously difficult to find,
so just because you didn't see them doesn't mean
they aren't there, all it takes is some MT app which does
some things actually in parallel + bad luck and the app
crashes / corrupts memory or data. The structure code
simply isn't obeying some basic MT programming rules,
see my NOTE in the ChangeLog:

---
  ; TOFIX: - hbwhat/wincore.prg
           - xhb/cstruct.prg
           Needs reviewing and either mutex protection
           for STATICs or conversion to THREAD STATIC.
---


> <<<<
> The callback support also needs to be solved, you
> didn't address that part.
> >>>>
>
> I told before, it is extremely gray area for me.
> I just implemented Andy Wos code. He is better equipped
> to refine it. He is not available online these days, may be
> on vacations, otherwise I must have requested him.


IMO a better solution would be to recode these in a non-generic
way (each CALLBACK gets a separate wrapper), instead of
using this generic callback solution which isn't portable. Since
the code uses heavy hacks, I'm not sure it would be trivial
to port to amd64/IA64/ARM even for Andy himself, and what
is really annoying and non-efficient here, is that he'd need
to add code _for each CPU separately_, test them separately,
which is for sure not very efficient and error prone.

These two parts make GTWVG a minefield to walk upon.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/acb9df0e/attachment.html
From harbour.01 at syenar.hu  Sun Feb 22 02:46:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 02:46:08 2009
Subject: [Harbour] Shouldn't utils like hbrun, hbmk2, hbtest, ... be 
	"shared"
In-Reply-To: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
References: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
Message-ID: <18d502870902212346rde04a82q327db4dc090da503@mail.gmail.com>

IMO not at all. I'd hate to fiddle with dlls (mean put in path, copy along with
exe, handle different version in the path, or the other dir I'd like to
copy the exe to, etc) when using these tools. For these tools it won't
even save disk space as just the two dlls are 5.1MB (with MSVC), while
all standalone tools are altogether about the same size. So what would
be the point? (besides making smaller binary distributions, but our
package is quite slim anyway)

Just some more notes:
non-GNU make MSVC/BCC builds _do_ already provide hbrun-dll.exe
and hbtest-dll.exe for those who prefer them. GNU-make MSVC/BCC
doesn't even have .dll support yet.

Linux distros also use it by default. So I'm not sure which platform
have you meant.

Brgds,
Viktor

On Sun, Feb 22, 2009 at 8:32 AM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> Is there any reason?
>
> Wouldn't be better to have them linked against harbour shared lib?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/e7eeffef/attachment-0001.html
From lorenzo.fiorini at gmail.com  Sun Feb 22 03:28:48 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Feb 22 03:28:52 2009
Subject: [Harbour] Shouldn't utils like hbrun, hbmk2, hbtest, ... be 
	"shared"
In-Reply-To: <18d502870902212346rde04a82q327db4dc090da503@mail.gmail.com>
References: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
	<18d502870902212346rde04a82q327db4dc090da503@mail.gmail.com>
Message-ID: <9257026e0902220028l66ef29edke71b11e8d15a2609@mail.gmail.com>

On Sun, Feb 22, 2009 at 8:46 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Linux distros also use it by default. So I'm not sure which platform
> have you meant.

I use only shared libs on every platform, but while under Win it can
be optional, under *nix hbrun needs to be linked against harbour.so to
have all the gts available. F.e. if you use it inside cron you need
//gtstd because you don't have a terminal, if you use it from putty
you need //gttrm, while locally you can use //gtxwc.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Feb 22 03:41:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 03:41:36 2009
Subject: [Harbour] Shouldn't utils like hbrun, hbmk2, hbtest, ... be 
	"shared"
In-Reply-To: <9257026e0902220028l66ef29edke71b11e8d15a2609@mail.gmail.com>
References: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
	<18d502870902212346rde04a82q327db4dc090da503@mail.gmail.com>
	<9257026e0902220028l66ef29edke71b11e8d15a2609@mail.gmail.com>
Message-ID: <18d502870902220041t490d866fg3dc21ab6f9428403@mail.gmail.com>

>
> I use only shared libs on every platform, but while under Win it can
> be optional, under *nix hbrun needs to be linked against harbour.so to
> have all the gts available. F.e. if you use it inside cron you need
> //gtstd because you don't have a terminal, if you use it from putty
> you need //gttrm, while locally you can use //gtxwc.


It's easy to do even with static linking. I can add an hbmk2 switch
to link all supported on platform core GTs, if that helps. (-allgt)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/77f1bafd/attachment.html
From lorenzo.fiorini at gmail.com  Sun Feb 22 04:23:36 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Feb 22 04:23:40 2009
Subject: [Harbour] Shouldn't utils like hbrun, hbmk2, hbtest, ... be 
	"shared"
In-Reply-To: <18d502870902220041t490d866fg3dc21ab6f9428403@mail.gmail.com>
References: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
	<18d502870902212346rde04a82q327db4dc090da503@mail.gmail.com>
	<9257026e0902220028l66ef29edke71b11e8d15a2609@mail.gmail.com>
	<18d502870902220041t490d866fg3dc21ab6f9428403@mail.gmail.com>
Message-ID: <9257026e0902220123i35865b50ub9f03cab420a558c@mail.gmail.com>

On Sun, Feb 22, 2009 at 9:41 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> It's easy to do even with static linking. I can add an hbmk2 switch
> to link all supported on platform core GTs, if that helps. (-allgt)

No problem, I just think that since we do create harbour shared libs,
harbour's utils should use them.
It's a way to test the shared support and helps to find errors like
the one we found with hbgd.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Feb 22 04:42:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 04:42:15 2009
Subject: [Harbour] Shouldn't utils like hbrun, hbmk2, hbtest, ... be 
	"shared"
In-Reply-To: <9257026e0902220123i35865b50ub9f03cab420a558c@mail.gmail.com>
References: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
	<18d502870902212346rde04a82q327db4dc090da503@mail.gmail.com>
	<9257026e0902220028l66ef29edke71b11e8d15a2609@mail.gmail.com>
	<18d502870902220041t490d866fg3dc21ab6f9428403@mail.gmail.com>
	<9257026e0902220123i35865b50ub9f03cab420a558c@mail.gmail.com>
Message-ID: <18d502870902220142k2423fc0bocaca5dbe28d80460@mail.gmail.com>

On Sun, Feb 22, 2009 at 10:23 AM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com
> wrote:

> On Sun, Feb 22, 2009 at 9:41 AM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
>
> > It's easy to do even with static linking. I can add an hbmk2 switch
> > to link all supported on platform core GTs, if that helps. (-allgt)
>
> No problem, I just think that since we do create harbour shared libs,
> harbour's utils should use them.


Not for platforms/install scenarios where this makes
life just difficult, and away from general expected
behaviour.

We may add options to override platform defaults for
builds. And the dll way could be a preferred solution
for those who wish to put up with installers, modifying
system settings writing into system dirs, but there is
the other part of the world who wish to keep their
system clean from these, with the cost of a few MBs
more downloaded.

I've been chasing a local Trac problem for about 1.5 years
with all the arsenal of tools put into action, until I've
finally found that it was a .dll hell problem between
Apache and Subversion or Python picking up different
slightly APR libs from different dirs. The error came down
the path in the form of a strange Trac message and no
access to SVN repository, with no obvious ways of
resolution or any usable documentation found.

We should IMO try not to make this situation any worse
with Harbour.


> It's a way to test the shared support and helps to find errors like
> the one we found with hbgd.


It's a pretty rare type of error, which is caught by building
even a static executable (doubly defined symbols are always
reported), so to cripple all our tools for that reason seems
a little overkill, particularly for final users.

BTW, however I detest .dlls, I'm working on GNU-make support
for .dlls with MSVC. Maybe even BCC, if its tools make it
possible. For me this is only important to make GNU-make
equal in feature with non-GNU so we can drop the latter. But
still, making these the default is going totally the wrong way IMO.
We should provide it for those who need it but not for Harbour
core please.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/650916d5/attachment.html
From druzus at acn.waw.pl  Sun Feb 22 05:51:59 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Feb 22 05:46:44 2009
Subject: [Harbour] Bug or FS difference?: Locking readonly tables
In-Reply-To: <18d502870902211139j36083bdet88757b6eda3223c2@mail.gmail.com>
References: <18d502870902211139j36083bdet88757b6eda3223c2@mail.gmail.com>
Message-ID: <20090222105159.GA20173@uran.home.aster.pl>

On Sat, 21 Feb 2009, Szak?ts Viktor wrote:

Hi,

> I've run into a problem on Linux/Darwin, this code behaves differently:
> PROC MAIN()
>    dbCreate( "test.dbf", {{ "ID", "C", 10, 0 }})
>    dbUseArea( .T., NIL, "test.dbf", "w_TEST", .T., .T. ) /* SHARED, READONLY
> */
>    ? FLock()
> Clipper on Windows: .T.
> Harbour on Windows: .T.
> Harbour on Linux: .F.
> Harbour on Darwin: .F.
> If I remove the READONLY flag, it works the same way on all above.
> Is this normal platform difference, or something Harbour related?

In POSIX systems it's not possible to set exclusive (write) lock on files
open in read only mode.
FLOCK/RLOCK need exclusive locks.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Feb 22 05:59:17 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Feb 22 05:54:00 2009
Subject: [Harbour] Shouldn't utils like hbrun, hbmk2, hbtest, ... be
	"shared"
In-Reply-To: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
References: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
Message-ID: <20090222105917.GB20173@uran.home.aster.pl>

On Sun, 22 Feb 2009, Lorenzo Fiorini wrote:
> Is there any reason?
> Wouldn't be better to have them linked against harbour shared lib?

They are shared if you use mpkg_rpm.sh or mpkg_tgz.sh.
They have to be shared for portability. Otherwise it may create
very serious problems when binaries are moved between different
kernels/glibc which may used slightly modified sys calls.
Static binaries can be used only with limited set for well known
systems where programmer can be sure that such problems will not
appear.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Feb 22 06:07:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Feb 22 06:02:23 2009
Subject: [Harbour] two questions for windows guru
In-Reply-To: <22128406.post@talk.nabble.com>
References: <20090220123031.GA2295@uran.home.aster.pl>
	<22128406.post@talk.nabble.com>
Message-ID: <20090222110739.GC20173@uran.home.aster.pl>

On Fri, 20 Feb 2009, Pritpal Bedi wrote:

Hi,

> I extend Mindaugus' code as such:
> Local cFont := LoadMyFont( "MYFONTRESOURCENAME" )
[...]

Thank you very much. I'll make some test and I hope it will close
one subject.
The question about adding unicode table to raster font is open yet.
But maybe some of you know free font editor/assembler which allows to
manage .fon files? If such functionality exists then it's highly possible
that the font editors will support it.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Feb 22 06:18:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Feb 22 06:12:46 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <499F32B8.6020409@fsgiudice.com>
References: <20090220122003.GA25783@uran.home.aster.pl>
	<0C5656E5F2BB4086AF14E24EAF46CD88@emag>
	<499F32B8.6020409@fsgiudice.com>
Message-ID: <20090222111801.GD20173@uran.home.aster.pl>

On Fri, 20 Feb 2009, Francesco Saverio Giudice wrote:

Hi,

> I added below pieces of code to emulate OVERRIDE command from xharbour and 
> I use it successfully.
> I don't know if harbour developers are interested to add, if yes I can add 
> to SVN.
> Use it, for your case, as:
> OVERRIDE METHOD SetPos IN CLASS TGet WITH MySetPos

This code does not need external function and you can use:

   #xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> WITH [METHOD] ;
                             <!Method!> [SCOPE <Scope>] => ;
             __clsModMsg( <Class>():classH, #<Message>, @<Method>(), ;
                          IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )

Such version will work even if class function has different name then
the class.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Feb 22 06:18:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 06:18:23 2009
Subject: [Harbour] Bug or FS difference?: Locking readonly tables
In-Reply-To: <20090222105159.GA20173@uran.home.aster.pl>
References: <18d502870902211139j36083bdet88757b6eda3223c2@mail.gmail.com>
	<20090222105159.GA20173@uran.home.aster.pl>
Message-ID: <18d502870902220318q66d683easada45b7fadfff287@mail.gmail.com>

Many thanks Przemek.
Brgds,
Viktor

On Sun, Feb 22, 2009 at 11:51 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Sat, 21 Feb 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > I've run into a problem on Linux/Darwin, this code behaves differently:
> > PROC MAIN()
> >    dbCreate( "test.dbf", {{ "ID", "C", 10, 0 }})
> >    dbUseArea( .T., NIL, "test.dbf", "w_TEST", .T., .T. ) /* SHARED,
> READONLY
> > */
> >    ? FLock()
> > Clipper on Windows: .T.
> > Harbour on Windows: .T.
> > Harbour on Linux: .F.
> > Harbour on Darwin: .F.
> > If I remove the READONLY flag, it works the same way on all above.
> > Is this normal platform difference, or something Harbour related?
>
> In POSIX systems it's not possible to set exclusive (write) lock on files
> open in read only mode.
> FLOCK/RLOCK need exclusive locks.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/1e390898/attachment-0001.html
From druzus at acn.waw.pl  Sun Feb 22 06:25:22 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Feb 22 06:20:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10377] trunk/harbour
In-Reply-To: <E1LamXq-0004cj-3U@3kljzd1.ch3.sourceforge.com>
References: <E1LamXq-0004cj-3U@3kljzd1.ch3.sourceforge.com>
Message-ID: <20090222112522.GE20173@uran.home.aster.pl>

On Sat, 21 Feb 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-02-21 08:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * source/vm/hvm.c
>     + Added hb_vmSetLinkedMain() function to replace direct
>       access to exported variable hb_vm_pszLinkedMain.
>       (it's not a public call and caller should always pass
>       a string literal).
>     * hb_vm_pszLinkedMain -> s_vm_pszLinkedMain and made static.

I have nothing against adding function call for this but the MSVC warning
you had is result of C++ mode which allows to strip symbols which are
declared without extern flag.

best regards,
Przemek
From mbelgrano at deltain.it  Sun Feb 22 06:31:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 22 06:31:36 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
Message-ID: <609353e70902220331t36426dc3n91c52c10f76875c4@mail.gmail.com>

This is intresting post of  Steffen F. Pirsig of Alaska Software Inc
------------------------------------------------
 i think Bruce ment client/server technology in  a more general sense
 not strictly related to c/s databases.

 Regarding your browse/incompatiblity issue. I totally agree with you,
 we have been experimented with the YUI too but found it to heavy
 and waggly if you are using CSS and JS code coming from other
 third parties. It always ended up with sideeffects or broken features.
 In fact we used YUI to develop the first prototype of our new
 www applications, unfortunately we realized that the knowledge
 needed to create rich functional UI for the browser is to complex
 and involves to many different technologies. While this can be handled
 by people willing to invest into learning CSS, Javascript, Cross-Browser
 issues, we realized, that this approach is far to complex for your
 our customer base or target audience in terms of Xbase++.

 Our second attempt was to use prototype only, simple clean
 CSS and for the forms pure HTML markup. Parts of this web
 application prototype are right now the foundation of the
 current www application serving customer login, download,
 role-base-authentification and so on. However we still feel this
 is a to complex technology specifically bec. if you are developing
 web applications related to data-entry, such as an ERP
 over the web you are forced to learn JavaScript inside out.

 Our last attempt was to create a simple transpiler, so
 you can create a validation-method for a www form
 element in Xbase++ and the Xbase++ code gets transpiled
 into Javascript code. Therefore the developer has only to deal
 with Xbase++ and some new Classes without any need for
 Javascript or Ajax or Prototype knowledge. While this attempt
 is the most promising right now it is also an attempt with an huge
 investment on our side - so we put that on hold until SL1 is
 released and Artica technologies are in community preview
 stage.

> YUI is not bad - but the learning curve is quite steep if you do not
> already know javascript to the same level as Xbase++ - especially with
> customers at your back, urging you to deliver results instead of promises
> <g>
Yes thats exactly the point, using YUI makes things in the first step easy,
but
if you are working on a larger project, and if you are forced to use
javascript code
from other sources to add a feature YUI does not provide you are always
ending
up with the need to understand how YUI works inside out. Changing then
the 3rd-party javascript code or CSS to conform with YUI is a difficult and
time
consuming task. We invested into that as our first idea was to create a
Xbase++
infrastructure to support YUI as the standard web interface for Web 2.0
Xbase++ applications but we learned the knowledge to really deliver results,
and to do that in time under customers pressure is not possible without
being
a Javascript, YUI + CSS expert. So finally we decided to drop that idea,
simple because we don't want our customers to be JS + CS + YUI
experts - thats not the idea of a tool like Xbase++.

> Nice idea - I like that. Please send it to me as soon as it is ready <g>
It was an experiment, just to get a proof of concept if that approach will
work better. It worked far better than anything else but we put that on hold
as we our current priorities are different.

> BTW - is there a (undocumented) way to shut down WAA in a "clean" way from
> the inside (from package level code). Currently I'm using QUIT, but I
> don't
> think this waits for all worker threads to be finished.

Not really, but what you can try is the following - i haven't testet it but
IMO it should work -:)

// This function queries the servers main window and
// sends a close message. This is just like you are sitting
// in front of the server and quitting it with a click on
// close icon.
//
FUNCTION MyPersonalShutdown()
  LOCAL oDlg := &("GetRootDialog")()
  PostAppEvent( xbeP_Close,,oDlg)
RETURN


 > Apparently it looks like we will have more n more ActiveX support in
> coming versions of Xb++. Right ?
Not necessarily, we will fix issues and work on performance enhancements.
Other than that is not on our schedule. With Roger , Alaska Software
has agreed to
investigate and resolve issues related to CodeJock as this is what
Rogers and Alaska
Softwares customers want.
http://www.codejock.com/

---------------------------
 I agree with you in terms of Terminal Server solutions,
 specifically with respect to the positive sideeffect of
 increased reliability and performance of dbf/ntx/cdx based
 applications deloyed for a larger scale of end-users
 without any database server.

 However, the Terminal Server use-case is only good
 if you have a reliable and "fast" permanent connection.
 The neat thing with the web is that it is stateless so
 connection drops, bad connections do not affect single
 client experience in the same scale as it is with Terminal
 Server. In addition Terminal Server may involve huge
 Licensing costs plus require that all users are know by
 the Servers account-mgmt or LDAP/ActiveDirectory.

 I agree with you in terms of the UI experience for end-users
 in terms of Web 2.0 applications, they lack a lot of usability
 features. However I feel that the current emerging RIA
 (Rich Internet Application) platforms such as Adobe Flex
 or Silverlight are more likely to reach the level of UI
 experience customers await from professional looking
 and working data-entry ERP/CRM apps.

 Unfortunately, Adobe Flex has to live with a lot of historical
 burden in terms of its roots (Flash & ActionScript), while
 Silverlight is right now too buggy and the workload in
 means of memory consumption is far from being
 acceptable. Anyway, both technologies look to me
 very promising to delivery a rich end user experience
 to the customer over the browser.

 Therefore I think, that Terminal Server plays an important
 role to provide remote application access for Windows Clients,
 PDAs, Windows Mobile. But I also believe that not all deployment
 scenarios can be fullfilled with Terminal Server.

 Just a few thoughts on that subject,
 Steffen F. Pirsig
 Alaska Software Inc.

 BTW: Sever 2008 allows application virtualization which is a
 great feature to deploy only the application not a complete
 desktop using Terminal Server. This way the remote application
 behaves such as any other local-running windows application
 on the remote desktop.

----------------------------
It is our goal to outperform any multi-user scenario in an network. However
it should
be clear that the PostgreSQL ISAM DatabaseEngine can not outperform

 - single-user exclusive local file-access
 - multi-processes/users shared local file-acess

use cases. As a matter of fact, a great deal of research has been put into
the PostgreSQL DatabaseEngine to provide best possible compatibility with
your existing soure code and business logic - optimized for navigational
data-access.

Again, our goal is to deliver increased performance and better
scaleability in multi user scenarios based on your existing source code.


--------------------------------
The PostgreSQL ISAM DatabaseEngine supports all Xbase++ navigational
commands and functions. This includes also all Index related operations,
including
compound indexes and user-defined-functions in index expression. A migration
tool is included, allowing you to transfer your data and data-model from
table/index
definition to a PostgreSQL Database
From mbelgrano at deltain.it  Sun Feb 22 06:39:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 22 06:40:00 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
Message-ID: <609353e70902220339u6c565eb6s6d8be31eb56e8aff@mail.gmail.com>

I invite everybody to vote harbour as preferred clipper compiler at
http://cch4clipper.blogspot.com

Thanks to last year of hard works of our special guru harbour is
realiable and fast


2009/2/18 Massimo Belgrano <mbelgrano@deltain.it>:
> From a user's POV they are probably the same.
>
> Maybe there are some aspects of xhb which I don't know and could make
> the process different, but normally it's just a recompile and relink,
> feature-wise Harbour is on par with xhb, and a plus Harbour is
> cleaner, more robust, more portable and faster, it also has an xhb.lib
> which aims to provide compatibility with features we've opted not to
> include in the core product...
>
> Read the rest of this most interesting and helpful article at
> Clipper... Clipper... Clipper at http://cch4clipper.blogspot.com.
>
> CCH
> Clipper... Clipper... Clipper
> http://cch4clipper.blogspot.com.
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Sun Feb 22 07:01:42 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Feb 22 07:01:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10401] trunk/harbour
Message-ID: <E1LbD1i-0005OU-00@d5vjzd1.ch3.sourceforge.com>

Revision: 10401
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10401&view=rev
Author:   druzus
Date:     2009-02-22 12:01:40 +0000 (Sun, 22 Feb 2009)

Log Message:
-----------
2009-02-22 13:06 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtxwc/gtxwc.c
    ! fixed typo which caused GPF when palette was set before console window
      initialization

  * harbour/source/rtl/gttrm/gttrm.c
    * reset console color palette to default on application exist

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gttrm/gttrm.c
    trunk/harbour/source/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sun Feb 22 07:42:56 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 07:43:02 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>
	<20090222111801.GD20173@uran.home.aster.pl>
Message-ID: <0B2F1304566840EE97023D287A4CC1D8@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 12.18
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> This code does not need external function and you can use:
>
>   #xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> WITH [METHOD] 
> ;
>                             <!Method!> [SCOPE <Scope>] => ;
>             __clsModMsg( <Class>():classH, #<Message>, @<Method>(), ;
>                          IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )
>
> Such version will work even if class function has different name then
> the class.

Thank you. I still can't get what I need but I will work on it later.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From guy.roussin at teledetection.fr  Sun Feb 22 08:03:10 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sun Feb 22 08:03:18 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>	<49A0300B.3040807@teledetection.fr>
	<18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com>
Message-ID: <49A14D0E.7070601@teledetection.fr>

Thank you Viktor,

Now i get this error, i suppose it is related to gt :

$ echo '? "hello"' > tst.prg

$ hbmk2 -n- tst
Harbour 1.1.0dev (Rev. 10401)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'tst.prg'...
Lines 1, Functions/Procedures 1
Generating C source output to 'tst.c'... Done.
/usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `scrollok'
/usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `XQueryColors'
/usr/lib/harbour/libharbour-1.1.0.so: undefined reference to 
`SLtt_Use_Blink_For_ACS'
/usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `XLookupKeysym'
/usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `XFree'
/usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `XDrawSegments'
/usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `stdscr'
...
/usr/lib/harbour/libharbour-1.1.0.so: undefined reference to 
`SLtt_Screen_Rows'
/usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `SLutf8_enable'
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 256: 'gcc tst.c   -O3  -otst 
-I/usr/include/harbour -L/usr/lib/harbour -Wl,--start-group 
-lharbour-1.1.0 -lhbcplr -lhbdebug -lgpm -lm -ldl -lrt -Wl,--end-group'

Note that i try to add -gtcgi but i can't see -lgtcgi in link command 
and i get the same error.

But if i add -gtzzz (for example) i can see -lgtzzz in link command :

$ hbmk2 -gtzzz -n- tst
Harbour 1.1.0dev (Rev. 10401)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'tst.prg'...
Lines 1, Functions/Procedures 1
Generating C source output to 'tst.c'... Done.
/usr/bin/ld: cannot find -lgtzzz
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 256: 'gcc tst.c ./hbsc_estlqh.c   -O3  
-otst -I/usr/include/harbour -L/usr/lib/harbour -Wl,--start-group 
-lharbour-1.1.0 -lhbcplr -lhbdebug -lgpm -lgtzzz -lm -ldl -lrt 
-Wl,--end-group'

Thanks,

PS: Why the -n- is not the default option as in clipper ?

Guy

From harbour.01 at syenar.hu  Sun Feb 22 08:22:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 08:22:53 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <49A14D0E.7070601@teledetection.fr>
References: <499AA56C.9030503@teledetection.fr>
	<49A0300B.3040807@teledetection.fr>
	<18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com>
	<49A14D0E.7070601@teledetection.fr>
Message-ID: <18d502870902220522y28a9451ahb716ae0e30aa21a3@mail.gmail.com>

Hi Guy,

$ echo '? "hello"' > tst.prg
>
> $ hbmk2 -n- tst
> Harbour 1.1.0dev (Rev. 10401)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'tst.prg'...
> Lines 1, Functions/Procedures 1
> Generating C source output to 'tst.c'... Done.
> /usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `scrollok'
> /usr/lib/harbour/libharbour-1.1.0.so: undefined reference to
> `XQueryColors'
> /usr/lib/harbour/libharbour-1.1.0.so: undefined reference to
> `SLtt_Use_Blink_For_ACS'
> /usr/lib/harbour/libharbour-1.1.0.so: undefined reference to
> `XLookupKeysym'
> /usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `XFree'
> /usr/lib/harbour/libharbour-1.1.0.so: undefined reference to
> `XDrawSegments'
> /usr/lib/harbour/libharbour-1.1.0.so: undefined reference to `stdscr'

collect2: ld returned 1 exit status
> hbmk: Error: Running C compiler. 256: 'gcc tst.c   -O3  -otst
> -I/usr/include/harbour -L/usr/lib/harbour -Wl,--start-group -lharbour-1.1.0
> -lhbcplr -lhbdebug -lgpm -lm -ldl -lrt -Wl,--end-group'


I have an idea, but I'd like to check it first locally.


> Note that i try to add -gtcgi but i can't see -lgtcgi in link command and i
> get the same error.


Yes, this is normal, as gtcgi lib is already present in the shared lib.

PS: Why the -n- is not the default option as in clipper ?


Because all the files we have in Harbour need -n.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/b57e863c/attachment-0001.html
From druzus at users.sourceforge.net  Sun Feb 22 08:54:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Feb 22 08:54:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10402] trunk/harbour
Message-ID: <E1LbEmr-0005wj-PZ@bj8yhf1.ch3.sourceforge.com>

Revision: 10402
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10402&view=rev
Author:   druzus
Date:     2009-02-22 13:54:28 +0000 (Sun, 22 Feb 2009)

Log Message:
-----------
2009-02-22 14:59 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtxwc/gtxwc.c
    + added support for HB_GTI_CLOSABLE and HB_GTI_RESIZABLE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sun Feb 22 09:04:50 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 22 09:04:59 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <20090222111801.GD20173@uran.home.aster.pl>
References: <20090220122003.GA25783@uran.home.aster.pl>	<0C5656E5F2BB4086AF14E24EAF46CD88@emag>	<499F32B8.6020409@fsgiudice.com>
	<20090222111801.GD20173@uran.home.aster.pl>
Message-ID: <49A15B82.1060808@fsgiudice.com>

Hi Przemek,

Il 22/02/2009 12.18, Przemyslaw Czerpak ha scritto:
> 
> This code does not need external function and you can use:
> 
>    #xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> WITH [METHOD] ;
>                              <!Method!> [SCOPE <Scope>] => ;
>              __clsModMsg( <Class>():classH, #<Message>, @<Method>(), ;
>                           IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )
> 
> Such version will work even if class function has different name then
> the class.
> 
As usual your solution is better ;-)
Can you add this to SVN in hbclass.ch as standard command ?

Best regards

Francesco
From info at fsgiudice.com  Sun Feb 22 09:06:07 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 22 09:06:15 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <0B2F1304566840EE97023D287A4CC1D8@emag>
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl>
	<0B2F1304566840EE97023D287A4CC1D8@emag>
Message-ID: <49A15BCF.7090207@fsgiudice.com>

Hi Enrico,

Il 22/02/2009 13.42, Enrico Maria Giordano ha scritto:
> 
> Thank you. I still can't get what I need but I will work on it later.
> 
what is the problem ?

Best regards,

Francesco
From druzus at acn.waw.pl  Sun Feb 22 09:22:21 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Feb 22 09:17:04 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <49A15B82.1060808@fsgiudice.com>
References: <20090220122003.GA25783@uran.home.aster.pl>
	<0C5656E5F2BB4086AF14E24EAF46CD88@emag>
	<499F32B8.6020409@fsgiudice.com>
	<20090222111801.GD20173@uran.home.aster.pl>
	<49A15B82.1060808@fsgiudice.com>
Message-ID: <20090222142221.GA28494@uran.home.aster.pl>

On Sun, 22 Feb 2009, Francesco Saverio Giudice wrote:

Hi,

>> This code does not need external function and you can use:
>>    #xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> WITH [METHOD] ;
>>                              <!Method!> [SCOPE <Scope>] => ;
>>              __clsModMsg( <Class>():classH, #<Message>, @<Method>(), ;
>>                           IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )
>> Such version will work even if class function has different name then
>> the class.
> As usual your solution is better ;-)
> Can you add this to SVN in hbclass.ch as standard command ?

Rather not because neither in Harbour nor in xHarbour it works in all
cases. It can simply breaks class definition and can cause unexpected
behavior when the modified class was used before as super class in
some other classes. In such case automatic and manual super casting
may cause wrong results.
So this "feature" was never working correctly in the whole [x]Harbour
history.
Additionally adding such functionality as documented behavior may block
farther class code modification when we will have to keep it alive.

best regards,
Przemek
From info at fsgiudice.com  Sun Feb 22 09:18:51 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 22 09:19:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22143032.post@talk.nabble.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>	<22138493.post@talk.nabble.com>	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>	<22140618.post@talk.nabble.com>	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>	<22141201.post@talk.nabble.com>	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>	<22141792.post@talk.nabble.com>	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
Message-ID: <49A15ECB.4040302@fsgiudice.com>

Hi Pritpal, Viktor,

Il 22/02/2009 3.32, Pritpal Bedi ha scritto:
> 
> I tried Przemek's code. It works but it is not that elegant
> solution. May be he comes up with more sophisticated way
> as is employed in xhb. Till then...
> 
Same here, at the moment I don't find any way to implement as xhb 
structures: I have created a structure object at prg level auto-defined 
from a structure definition, but I don't find a simple way to abstract 
sending/retrieving values to C level as xhb structure using 
ArrayToStructure() does.
But surely due to my poor C knowledge. But I'm still trying.

Best regards

Francesco

From e.m.giordano at emagsoftware.it  Sun Feb 22 09:19:29 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 09:19:34 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>
	<49A15BCF.7090207@fsgiudice.com>
Message-ID: <D0E414757366408480146B464C2748AD@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 15.06
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> > Thank you. I still can't get what I need but I will work on it later.
> >
> what is the problem ?

I'm trying to make a test for the new OVERRIDE command. First problem:

FUNCTION MAIN()

    LOCAL GetList := {}

    LOCAL cVar := SPACE( 35 )

    @ 1, 1 GET cVar

    GetList[ 1 ]:SetFocus()
//    GetList[ 1 ]:End()
    GetList[ 1 ]:Pos = 5

    READ

    RETURN NIL

Why End() works while Pos don't? Clipper gives the same result. Probably I 
simply forgot nearly all related to console programming...

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Sun Feb 22 09:22:23 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 09:22:28 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com><20090222111801.GD20173@uran.home.aster.pl><49A15B82.1060808@fsgiudice.com>
	<20090222142221.GA28494@uran.home.aster.pl>
Message-ID: <610FA1B4A47B4E878DE71570ED991727@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 15.22
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> Rather not because neither in Harbour nor in xHarbour it works in all
> cases. It can simply breaks class definition and can cause unexpected
> behavior when the modified class was used before as super class in
> some other classes. In such case automatic and manual super casting
> may cause wrong results.
> So this "feature" was never working correctly in the whole [x]Harbour
> history.
> Additionally adding such functionality as documented behavior may block
> farther class code modification when we will have to keep it alive.

So are you saying that there is no proper way to override a method of an 
existing class?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From info at fsgiudice.com  Sun Feb 22 09:30:53 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 22 09:31:03 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <D0E414757366408480146B464C2748AD@emag>
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com>
	<D0E414757366408480146B464C2748AD@emag>
Message-ID: <49A1619D.1010305@fsgiudice.com>

Hi Enrico,

Il 22/02/2009 15.19, Enrico Maria Giordano ha scritto:
> I'm trying to make a test for the new OVERRIDE command. First problem:
> 
> FUNCTION MAIN()
> 
>    LOCAL GetList := {}
> 
>    LOCAL cVar := SPACE( 35 )
> 
>    @ 1, 1 GET cVar
> 
>    GetList[ 1 ]:SetFocus()
> //    GetList[ 1 ]:End()
>    GetList[ 1 ]:Pos = 5
> 
>    READ
> 
>    RETURN NIL
> 
> Why End() works while Pos don't? Clipper gives the same result. Probably 
> I simply forgot nearly all related to console programming...
> 
Could you post here your MySetPos() version ?
Or better a self contained sample.

best regards,

Francesco
From e.m.giordano at emagsoftware.it  Sun Feb 22 10:14:24 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 10:14:29 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>
	<49A1619D.1010305@fsgiudice.com>
Message-ID: <C14BB531D71B44C598B0D5E34A29E71B@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 15.30
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


>> FUNCTION MAIN()
>>
>>    LOCAL GetList := {}
>>
>>    LOCAL cVar := SPACE( 35 )
>>
>>    @ 1, 1 GET cVar
>>
>>    GetList[ 1 ]:SetFocus()
>> //    GetList[ 1 ]:End()
>>    GetList[ 1 ]:Pos = 5
>>
>>    READ
>>
>>    RETURN NIL
>>
>> Why End() works while Pos don't? Clipper gives the same result. Probably 
>> I simply forgot nearly all related to console programming...
>>
> Could you post here your MySetPos() version ?
> Or better a self contained sample.

The above sample *is* self contained. I just need to know why it doesn't 
work (ie. why the cursor is not set at position 5).

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From info at fsgiudice.com  Sun Feb 22 10:35:25 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 22 10:35:39 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <C14BB531D71B44C598B0D5E34A29E71B@emag>
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com>
	<C14BB531D71B44C598B0D5E34A29E71B@emag>
Message-ID: <49A170BD.1050708@fsgiudice.com>

Enrico,

Il 22/02/2009 16.14, Enrico Maria Giordano ha scritto:
> 
> The above sample *is* self contained. I just need to know why it doesn't 
> work (ie. why the cursor is not set at position 5).
> 
ok, I misunderstood because you stated that you are testing OVERRIDE, so 
I was expecting that you provide also MySetPos().

Add to your sample Display() method:

FUNCTION MAIN()

    LOCAL GetList := {}

    LOCAL cVar := SPACE( 35 )

    @ 1, 1 GET cVar

    GetList[ 1 ]:SetFocus()
//    GetList[ 1 ]:End()
    GetList[ 1 ]:Pos = 5
    GetList[ 1 ]:display()

    READ

    RETURN NIL

and it works.

Best regards

Francesco

From e.m.giordano at emagsoftware.it  Sun Feb 22 11:29:59 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 11:30:04 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag>
	<49A170BD.1050708@fsgiudice.com>
Message-ID: <6A5C9BCC2F374357AC0BDA8F93A3B28C@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 16.35
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


>    GetList[ 1 ]:display()

Great! Thank you! Now I can proceed with my experiment...

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From e.m.giordano at emagsoftware.it  Sun Feb 22 11:40:26 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 11:40:31 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag><49A170BD.1050708@fsgiudice.com>
	<6A5C9BCC2F374357AC0BDA8F93A3B28C@emag>
Message-ID: <4F5F8AFE09154726B48F4D5F1E24B48D@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 17.29
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1

Ok, second problem. Why the following sample doesn't print "Hello"?

#include "Hbclass.ch"


#xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> WITH [METHOD] ;
                          <!Method!> [SCOPE <Scope>] => ;
          __clsModMsg( <Class>():classH, #<Message>, @<Method>(), ;
                       IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )


FUNCTION MAIN()

    LOCAL GetList := {}

    LOCAL cVar := SPACE( 35 )

    OVERRIDE METHOD Pos CLASS GET WITH EMAG_SetPos

    @ 1, 1 GET cVar

    GetList[ 1 ]:SetFocus()
    GetList[ 1 ]:Pos = 5
    GetList[ 1 ]:Display()

    READ

    RETURN NIL


STATIC FUNCTION EMAG_SETPOS( nPos )

    LOCAL Self := QSELF()

@ 10, 10 SAY "Hallo"

//    ::nPos = nPos

    RETURN nPos

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From vszakats at users.sourceforge.net  Sun Feb 22 11:53:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 22 11:53:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10403] trunk/harbour
Message-ID: <E1LbHZo-0000ic-FT@c3vjzd1.ch3.sourceforge.com>

Revision: 10403
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10403&view=rev
Author:   vszakats
Date:     2009-02-22 16:53:11 +0000 (Sun, 22 Feb 2009)

Log Message:
-----------
2009-02-22 17:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * config/lib.cf
   * config/bin.cf
     + Added -n to Harbour flags to bin.cf.
     + Added -n1 to Harbour flags to lib.cf.
     ; TOFIX: The former works, the latter doesn't.
              Could someone please help why is this
              happening?

   * utils/hbmk2/hbmk2.prg
     - Removed -n from default Harbour switches.
     ; TODO: Add prgflags=-n to all .hbp files.
     ; TODO: Add -n to all .hbm files.
     ; TODO: Add .hbp file to dirs where there are .prgs
             needing -n flag.

   + bin/hb-mkdll.bat
     + Added .dll creation for GNU-make. Not yet enabled,
       only MSVC supported, and by the nature of the
       wonderful world of Microsoft, whole Harbour needs
       to be compiled with HB_USER_CFLAGS=-DHB_DYNLIB to
       make this work. -DHB_DYNLIB has some drawbacks
       though: export table will be generated for all
       executables made from these .libs, .exp/.lib will
       also be generated for all executables.
     ; TODO: Solve to compile Harbour lib .prgs using 
             -n1 switch. (needed for .dll, and this
             one has only befenefits for other scenarios)
     ; TODO: Add hb-mkdll.bat to postinst.bat.
     ; TODO: Add BCC support, if possible.
     ; TODO: Rename hb-mkslib.sh to 8.3 name and sync
             name with the .bat version (not necessarily
             mkdll, but something short.)

   * bin/hb-func.sh
     ! Added system libs for optional components included
       in the harbour dynlib. I plan to make some more
       changes here, but this should fix missing system
       libs with shared option enabled in hbmk2.

   * contrib/examples/dbu/dbu.hbm
   * contrib/examples/rl/rl.hbm
     + Added -n.

   * utils/hbdoc/Makefile
   * utils/hbmk2/Makefile
   * utils/hbtest/Makefile
   * utils/hbi18n/Makefile
   * utils/hbrun/Makefile
     - Removed explicit -gc0 -n override.
       Should now be set automatically for all binaries.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/config/bin.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/contrib/examples/dbu/dbu.hbm
    trunk/harbour/contrib/examples/rl/rl.hbm
    trunk/harbour/utils/hbdoc/Makefile
    trunk/harbour/utils/hbextern/Makefile
    trunk/harbour/utils/hbi18n/Makefile
    trunk/harbour/utils/hbmk2/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbrun/Makefile
    trunk/harbour/utils/hbtest/Makefile

Added Paths:
-----------
    trunk/harbour/bin/hb-mkdll.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sun Feb 22 11:59:28 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 22 11:59:37 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <4F5F8AFE09154726B48F4D5F1E24B48D@emag>
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag><49A170BD.1050708@fsgiudice.com>	<6A5C9BCC2F374357AC0BDA8F93A3B28C@emag>
	<4F5F8AFE09154726B48F4D5F1E24B48D@emag>
Message-ID: <49A18470.5020505@fsgiudice.com>



Il 22/02/2009 17.40, Enrico Maria Giordano ha scritto:
> 
> Ok, second problem. Why the following sample doesn't print "Hello"?
> 
Because you wrote "Hallo" :-D
Apart from jokes, in GET you have to override _POS and not Pos, because 
Pos is defined as Access/Assign, so in case of assignment you have to 
override _Pos. You have to change:

    OVERRIDE METHOD Pos CLASS GET WITH EMAG_SetPos
in
    OVERRIDE METHOD _Pos CLASS GET WITH EMAG_SetPos

Best regards,

Francesco
From vszakats at users.sourceforge.net  Sun Feb 22 12:06:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 22 12:06:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10404] trunk/harbour
Message-ID: <E1LbHmv-0000tr-Le@c3vjzd1.ch3.sourceforge.com>

Revision: 10404
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10404&view=rev
Author:   vszakats
Date:     2009-02-22 17:06:44 +0000 (Sun, 22 Feb 2009)

Log Message:
-----------
2009-02-22 18:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbbtree/tests/test.hbm
  * contrib/examples/guestbk/guestbk.hbm
  * contrib/examples/pe/pe.hbm
  * contrib/examples/terminal/trm_appn.hbm
  * contrib/examples/hscript/hscript.hbm
  * utils/hbdoc/hbdoc.hbm
  + utils/hbmk2/hbmk2.hbm
    + Added -n switch to .hbm files.

  * contrib/examples/uhttpd/hbmk.bat
  + contrib/examples/uhttpd/uhttpd.hbm
    + Moved most make params to new .hbm file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/guestbk/guestbk.hbm
    trunk/harbour/contrib/examples/hscript/hscript.hbm
    trunk/harbour/contrib/examples/pe/pe.hbm
    trunk/harbour/contrib/examples/terminal/trm_appn.hbm
    trunk/harbour/contrib/examples/uhttpd/hbmk.bat
    trunk/harbour/contrib/hbbtree/tests/test.hbm
    trunk/harbour/utils/hbdoc/hbdoc.hbm

Added Paths:
-----------
    trunk/harbour/contrib/examples/uhttpd/uhttpd.hbm
    trunk/harbour/utils/hbmk2/hbmk2.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sun Feb 22 12:10:43 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Feb 22 12:10:48 2009
Subject: [Harbour] Shouldn't utils like hbrun, hbmk2, hbtest, ... be 
	"shared"
In-Reply-To: <18d502870902220142k2423fc0bocaca5dbe28d80460@mail.gmail.com>
References: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
	<18d502870902212346rde04a82q327db4dc090da503@mail.gmail.com>
	<9257026e0902220028l66ef29edke71b11e8d15a2609@mail.gmail.com>
	<18d502870902220041t490d866fg3dc21ab6f9428403@mail.gmail.com>
	<9257026e0902220123i35865b50ub9f03cab420a558c@mail.gmail.com>
	<18d502870902220142k2423fc0bocaca5dbe28d80460@mail.gmail.com>
Message-ID: <9257026e0902220910r31c48e29ua66c478bd64b7ec6@mail.gmail.com>

On Sun, Feb 22, 2009 at 10:42 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> BTW, however I detest .dlls, I'm working on GNU-make support
> for .dlls with MSVC. Maybe even BCC, if its tools make it
> possible. For me this is only important to make GNU-make
> equal in feature with non-GNU so we can drop the latter.?But
> still,?making these the default is going totally?the wrong way IMO.
> We should provide it for those who?need it but not for Harbour
> core please.

I don't wants to force you to use shared libs simply under Linux
static linking is deprecated.

Look in https://fedoraproject.org/wiki/Packaging/Guidelines
...
  Packaging Static Libraries

    * In general, packagers are strongly encouraged not to ship static
libs unless a compelling reason exists.
...

or Debian http://www.debian.org/doc/debian-policy/ch-sharedlibs.html
...
In some cases, it is acceptable for a library to be available in
static form only; these cases include:
...

so if we want to see harbour included someday in "main" distributions,
we have to provide both shared and static or only shared but never
only static and the shared support has to work out of the box.

F.e. I've added these switches to hb* scripts:

    -gd                 # link with hbgd library (GD interface)
    -curl               # link with hbcurl library (cURL interface)
    -odbc               # link with hbodbc library (ODBC interface)
    -pgsql              # link with hbpgsql library (PostgeSQL interface)
    -mysql              # link with hbmysql library (MySQL interface)
    -xhgtk              # link with xHGtk library (GTK+ interface)

and I build the shared libs at the end of the make_gnu.sh using:
...
       HB_SHARED_LIB="libhbpgsql"

       if [ -f "$HB_SHARED_LIB.a" ]; then
          echo "Creating shared lib $HB_SHARED_LIB..."
          if [ "$HB_ARCHITECTURE" = "linux" ]; then
             hb-mkslib $HB_SHARED_LIB "$HB_SHARED_LIB.a" -lpq
          fi
          if [ "$HB_ARCHITECTURE" = "win" ]; then
             hb-mkslib "$HB_BIN_INSTALL/$HB_SHARED_LIB.dll"
"$HB_SHARED_LIB.a" -L$HB_DIR_PGSQL/lib -lpq
$HB_BIN_INSTALL/harbour.dll $HB_DIR_PGSQL/bin/libpq.dll
          fi
          if [ "$HB_ARCHITECTURE" = "darwin" ]; then
             hb-mkslib $HB_SHARED_LIB "$HB_SHARED_LIB.a"
-L$HB_DIR_PGSQL/lib -lpq
          fi
       fi
...

there are surely better way to do it, but IMHO build system has to
provide the support for a full shared env.

How this can be done using hbmk2?

best regards,
Lorenzo
From e.m.giordano at emagsoftware.it  Sun Feb 22 12:12:47 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 12:12:51 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag><49A170BD.1050708@fsgiudice.com>	<6A5C9BCC2F374357AC0BDA8F93A3B28C@emag><4F5F8AFE09154726B48F4D5F1E24B48D@emag>
	<49A18470.5020505@fsgiudice.com>
Message-ID: <B9822758E8B84B89824C76E7B4122E6D@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 17.59
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> > Ok, second problem. Why the following sample doesn't print "Hello"?
> 
> Because you wrote "Hallo" :-D

ROTFL! :-)))

> Apart from jokes, in GET you have to override _POS and not Pos, because 
> Pos is defined as Access/Assign, so in case of assignment you have to 
> override _Pos. You have to change:
> 
>    OVERRIDE METHOD Pos CLASS GET WITH EMAG_SetPos
> in
>    OVERRIDE METHOD _Pos CLASS GET WITH EMAG_SetPos

You're the man! :-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From e.m.giordano at emagsoftware.it  Sun Feb 22 12:32:15 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 12:32:20 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag><49A170BD.1050708@fsgiudice.com>	<6A5C9BCC2F374357AC0BDA8F93A3B28C@emag><4F5F8AFE09154726B48F4D5F1E24B48D@emag><49A18470.5020505@fsgiudice.com>
	<B9822758E8B84B89824C76E7B4122E6D@emag>
Message-ID: <BCD405BD892540FF8544063DF7934F60@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 18.12
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1

Third problem. I'd want something like this:

#include "Hbclass.ch"


#xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> WITH [METHOD] ;
                          <!Method!> [SCOPE <Scope>] => ;
          __clsModMsg( <Class>():classH, #<Message>, @<Method>(), ;
                       IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )


FUNCTION MAIN()

    LOCAL GetList := {}

    LOCAL cVar := SPACE( 35 )

    OVERRIDE METHOD _Pos CLASS GET WITH EMAG_SetPos

    @ 1, 1 GET cVar

    GetList[ 1 ]:SetFocus()
    GetList[ 1 ]:Pos = 5
    GetList[ 1 ]:Display()

    READ

    RETURN NIL


STATIC FUNCTION EMAG_SETPOS( nPos )

    LOCAL Self := QSELF()

    IF nPos > ::nMaxLen
        ::nPos = nPos
        ::TypeOut := .T.
    ELSE
        RETURN ::SetPos( nPos )
    ENDIF

    RETURN nPos

but I get the following error:

Error BASE/1004  Message not found: GET:SETPOS
Called from __ERRRT_SBASE(0)
Called from GET:ERROR(0)
Called from (b)HBOBJECT(0)
Called from GET:MSGNOTFOUND(0)
Called from GET:SETPOS(0)
Called from GET:_POS(41)
Called from GET:SETFOCUS(0)
Called from MAIN(28)

Any ideas?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From bedipritpal at hotmail.com  Sun Feb 22 12:32:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 22 12:32:28 2009
Subject: [Harbour] two questions for windows guru
In-Reply-To: <20090222110739.GC20173@uran.home.aster.pl>
References: <20090220123031.GA2295@uran.home.aster.pl>
	<22128406.post@talk.nabble.com>
	<20090222110739.GC20173@uran.home.aster.pl>
Message-ID: <22149261.post@talk.nabble.com>


Przem


Przemyslaw Czerpak-2 wrote:
> 
> The question about adding unicode table to raster font is open yet.
> But maybe some of you know free font editor/assembler which allows to
> manage .fon files? If such functionality exists then it's highly possible
> that the font editors will support it.
> 

http://fontforge.sourceforge.net/

This may help you.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/two-questions-for-windows-guru-tp22119661p22149261.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sun Feb 22 12:34:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 22 12:34:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10405] trunk/harbour
Message-ID: <E1LbIDP-0001kW-6Z@c3vjzd1.ch3.sourceforge.com>

Revision: 10405
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10405&view=rev
Author:   vszakats
Date:     2009-02-22 17:34:06 +0000 (Sun, 22 Feb 2009)

Log Message:
-----------
2009-02-22 18:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
    ! Fixed stupid typos after testing on Linux.

  * contrib/examples/terminal/terminal.hbp
  * contrib/examples/terminal/trm_appn.hbm
    * Minor change.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/contrib/examples/terminal/terminal.hbp
    trunk/harbour/contrib/examples/terminal/trm_appn.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Feb 22 12:44:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 22 12:44:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
	<18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
Message-ID: <22149380.post@talk.nabble.com>


Hi Viktor

Please recompile attached demowvg.prg.
I have comented out following code.


Viktor Szak?ts wrote:
> 
> Called from WIN_SENDMESSAGETEXT(0)
> Called from WVGSTATIC:SETCAPTION(0) in .\wvgstatc.prg
> Called from WVGSTATIC:CREATE(0) in .\wvgstatc.prg
> Called from DEMOXBP(3044) in demowvg.prg
> Called from (b)EVAL(1437)
> 

Regards
Pritpal Bedi

http://www.nabble.com/file/p22149380/demowvg.zip demowvg.zip 
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22149380.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Feb 22 12:44:50 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 22 12:44:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
	<18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
Message-ID: <22149388.post@talk.nabble.com>


Hi Viktor

Please recompile attached demowvg.prg.
I have comented out following code.


Viktor Szak?ts wrote:
> 
> Called from WIN_SENDMESSAGETEXT(0)
> Called from WVGSTATIC:SETCAPTION(0) in .\wvgstatc.prg
> Called from WVGSTATIC:CREATE(0) in .\wvgstatc.prg
> Called from DEMOXBP(3044) in demowvg.prg
> Called from (b)EVAL(1437)
> 

Regards
Pritpal Bedi

http://www.nabble.com/file/p22149388/demowvg.zip demowvg.zip 
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22149388.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Feb 22 12:54:15 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 22 12:54:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
	<18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
Message-ID: <22149487.post@talk.nabble.com>


Hi Viktor

> Did you try the other method?

Which other method. May be I missed something, please
repost it.

<<<
Surely they are both much more elegant than xhb cstructs,
as this latter passes binary structures around in _strings_,
so all it takes is a silly .prg level mistake to corrupt C level
data.
>>>

I agree. But in the absense of another way this is the 
only workaround available at the moment.

<<<
Yes, such MT problems are notoriously difficult to find,
so just because you didn't see them doesn't mean
they aren't there, all it takes is some MT app which does
some things actually in parallel + bad luck and the app
crashes / corrupts memory or data. The structure code
simply isn't obeying some basic MT programming rules,
see my NOTE in the ChangeLog:
---
  ; TOFIX: - hbwhat/wincore.prg
           - xhb/cstruct.prg
           Needs reviewing and either mutex protection
           for STATICs or conversion to THREAD STATIC.
---
>>>

100% agreed.

<<<
IMO a better solution would be to recode these in a non-generic
way (each CALLBACK gets a separate wrapper), instead of
using this generic callback solution which isn't portable. 
>>>

I am looking into that aspect, though not difficult, may 
be not as efficient as this one is. Windows only sends 
<hWnd> to the wndproc and I need to tie WvgWindow() 
class object with WvgWindow():hWnd. I have an idea. I have 
to make experiments first...

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22149487.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Sun Feb 22 13:10:32 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Feb 22 13:10:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10402] trunk/harbour
In-Reply-To: <E1LbEmr-0005wj-PZ@bj8yhf1.ch3.sourceforge.com>
References: <E1LbEmr-0005wj-PZ@bj8yhf1.ch3.sourceforge.com>
Message-ID: <9257026e0902221010l14a5f759ta800241fc24675f2@mail.gmail.com>

On Sun, Feb 22, 2009 at 2:54 PM,  <druzus@users.sourceforge.net> wrote:

> 2009-02-22 14:59 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> ?* harbour/source/rtl/gtxwc/gtxwc.c
> ? ?+ added support for HB_GTI_CLOSABLE and HB_GTI_RESIZABLE.

Many thanks.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Feb 22 13:23:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 13:23:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22149487.post@talk.nabble.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
	<18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
	<22149487.post@talk.nabble.com>
Message-ID: <18d502870902221023g2e971c0mbcf6c48998dc6ee9@mail.gmail.com>

Hi Pritpal,


> Which other method. May be I missed something, please
> repost it.


I've posted three-four times already ;)

PHB_FFIND, hbcurl, hbssl examples, one of these was even own
code posted to you on this list, all the times ignored. I've even
roughly explained it once or twice. BTW I've learned it from Przemek,
from posts here on the list. Anyway the easiest is to pick some
existing code and adapt it. There are plenty now, look for hb_retptrGC().



> <<<
> Surely they are both much more elegant than xhb cstructs,
> as this latter passes binary structures around in _strings_,
> so all it takes is a silly .prg level mistake to corrupt C level
> data.
> >>>
>
> I agree. But in the absense of another way this is the
> only workaround available at the moment.


Yes, but there are other ways.


> <<<
> IMO a better solution would be to recode these in a non-generic
> way (each CALLBACK gets a separate wrapper), instead of
> using this generic callback solution which isn't portable.
> >>>
>
> I am looking into that aspect, though not difficult, may
> be not as efficient as this one is. Windows only sends
> <hWnd> to the wndproc and I need to tie WvgWindow()
> class object with WvgWindow():hWnd. I have an idea. I have
> to make experiments first...


Okay, sounds good.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/589dd1c1/attachment.html
From harbour.01 at syenar.hu  Sun Feb 22 13:23:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 13:23:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22149388.post@talk.nabble.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
	<18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
	<22149388.post@talk.nabble.com>
Message-ID: <18d502870902221023t60f3a497ke233e337c769fb89@mail.gmail.com>

Hi Pritpal,
Sorry, I'm getting this:
---
HTTP ERROR: 410

This file has been deleted.

RequestURI=/file/p22149388/demowvg.zip

---

Brgds,
Viktor
On Sun, Feb 22, 2009 at 6:44 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi Viktor
>
> Please recompile attached demowvg.prg.
> I have comented out following code.
>
>
> Viktor Szak?ts wrote:
> >
> > Called from WIN_SENDMESSAGETEXT(0)
> > Called from WVGSTATIC:SETCAPTION(0) in .\wvgstatc.prg
> > Called from WVGSTATIC:CREATE(0) in .\wvgstatc.prg
> > Called from DEMOXBP(3044) in demowvg.prg
> > Called from (b)EVAL(1437)
> >
>
> Regards
> Pritpal Bedi
>
> http://www.nabble.com/file/p22149388/demowvg.zip demowvg.zip
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22149388.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/ab555519/attachment.html
From clipper5_y2d at versateladsl.be  Sun Feb 22 13:27:52 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Sun Feb 22 13:24:51 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag><49A170BD.1050708@fsgiudice.com>	<6A5C9BCC2F374357AC0BDA8F93A3B28C@emag><4F5F8AFE09154726B48F4D5F1E24B48D@emag><49A18470.5020505@fsgiudice.com><B9822758E8B84B89824C76E7B4122E6D@emag>
	<BCD405BD892540FF8544063DF7934F60@emag>
Message-ID: <001501c9951b$48b755c0$4201a8c0@lan>

Hello Enrico,

It's just a guess (since i cannot test currently), but perhaps using a scope
resolution message can help here

>         RETURN ::GET:SetPos( nPos )

Just a thought, not tested

Kind regards,

frank

.oO enjoyed to see .prg level related code snippets again in this forum ;-)

----- Original Message ----- 
From: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Sunday, February 22, 2009 6:32 PM
Subject: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


>
> -----Messaggio Originale----- 
> Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: domenica 22 febbraio 2009 18.12
> Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
>
> Third problem. I'd want something like this:
>
> #include "Hbclass.ch"
>
>
> #xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> WITH [METHOD] ;
>                           <!Method!> [SCOPE <Scope>] => ;
>           __clsModMsg( <Class>():classH, #<Message>, @<Method>(), ;
>                        IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )
>
>
> FUNCTION MAIN()
>
>     LOCAL GetList := {}
>
>     LOCAL cVar := SPACE( 35 )
>
>     OVERRIDE METHOD _Pos CLASS GET WITH EMAG_SetPos
>
>     @ 1, 1 GET cVar
>
>     GetList[ 1 ]:SetFocus()
>     GetList[ 1 ]:Pos = 5
>     GetList[ 1 ]:Display()
>
>     READ
>
>     RETURN NIL
>
>
> STATIC FUNCTION EMAG_SETPOS( nPos )
>
>     LOCAL Self := QSELF()
>
>     IF nPos > ::nMaxLen
>         ::nPos = nPos
>         ::TypeOut := .T.
>     ELSE
>         RETURN ::SetPos( nPos )
>     ENDIF
>
>     RETURN nPos
>
> but I get the following error:
>
> Error BASE/1004  Message not found: GET:SETPOS
> Called from __ERRRT_SBASE(0)
> Called from GET:ERROR(0)
> Called from (b)HBOBJECT(0)
> Called from GET:MSGNOTFOUND(0)
> Called from GET:SETPOS(0)
> Called from GET:_POS(41)
> Called from GET:SETFOCUS(0)
> Called from MAIN(28)
>
> Any ideas?
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Feb 22 13:34:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 22 13:34:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10406] trunk/harbour
Message-ID: <E1LbJA7-0000wX-74@74yxhf1.ch3.sourceforge.com>

Revision: 10406
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10406&view=rev
Author:   vszakats
Date:     2009-02-22 18:34:46 +0000 (Sun, 22 Feb 2009)

Log Message:
-----------
2009-02-22 19:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.sh
    % Deleted part generating hbfm/hbfmmt libs. Now this is 
      done my GNU make.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Feb 22 13:42:42 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 22 13:42:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902221023t60f3a497ke233e337c769fb89@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902210058y23435872lc5e842faaa4ac020@mail.gmail.com>
	<22138493.post@talk.nabble.com>
	<18d502870902210957i4d1095fetb2e60860d09e0cbe@mail.gmail.com>
	<22140618.post@talk.nabble.com>
	<18d502870902211334j43647b9es1d92b9f40adb3a29@mail.gmail.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
	<18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
	<22149388.post@talk.nabble.com>
	<18d502870902221023t60f3a497ke233e337c769fb89@mail.gmail.com>
Message-ID: <22150025.post@talk.nabble.com>



Posting again.


Viktor Szak?ts wrote:
> 
> Hi Pritpal,
> Sorry, I'm getting this:
> 
> 

http://www.nabble.com/file/p22150025/demowvg.zip demowvg.zip 
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22150025.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Feb 22 13:51:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 22 13:51:24 2009
Subject: [Harbour] harbour project program
In-Reply-To: <18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
	<18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
Message-ID: <609353e70902221051n59caa36ctae51652504f1ef8f@mail.gmail.com>

Here is my first template for a UI version console
Select one on more prg with enter and compile and run with f5
Particular useful running in harbour\test
It Generate also project file for xmate
now i want :
-support also hrb
-Manage also  -GUI,-MT
-Give Capability to edit source selected with parametrised editor
-support more than 15 character in file name
- try linux
-Not exit but remain in memory after running the sample
- Give capability compile a source from clibpoard useful for compile
sample found in web



Can my little work be part of harbour (example)?
This use on old path based on achoice emulating norton commanter look and feel
Have any other multiplatform suggestion for make a Multiple FIle
Select on a file system?



/*
 * $Id: hbm.prg
 */

/*
 * xHarbour Project source code:
 * xHarbour Template for hbmk 2
 *
 * Copyright 2000 Massimo Belgrano
 * www - http://www.xharbour.org
*/
#include 'DIRECTRY.CH'
#include "INKEY.CH"

function main
   LOCAL qualedir ,QUALEPROG:=1
  LOCAL FILECHOICE:={}
  set func 2 to CHR(K_CTRL_W)
  SET func 5 TO CHR(K_LEFT)
  CLS
  QUALEDIR="\"+CURDIR()
  DO WHILE .T.
      @ 0,54 CLEAR TO 23,79
      @ 0,54  TO 23,79
      FOR A=1 TO LEN(FILECHOICE)
        @ 0+A,55 SAY RIGHT(FILECHOICE[A],20)
      NEXT A
      QUALEPROG=SELECT_FILE(filechoice,@QUALEDIR,"*.PRG",1,1,22,50)
      @ 4,5 say qualedir
      IF EMPTY(QUALEPROG)
         IF LASTKEY()=K_RIGHT
            SELECT_ELEMENT(FILECHOICE,1,55,22,78)
         ELSE
            EXIT
         ENDIF
       ENDIF
      AADD(FILECHOICE,CURDRIVE()+":"+QUALEDIR+"\"+QUALEPROG)
   ENDDO
   if lastkey()<>27
     IF LEN(FILECHOICE)>0
         cls
        CREA_XMATE(filechoice)
         X_SHELL="HBMK2 "
         FOR A=1 TO LEN(FILECHOICE)
             X_SHELL=X_SHELL+FILECHOICE[A]   +" "
        NEXT A
        X_SHELL=X_SHELL+"-RUN"
        RUN(X_SHELL)
     ENDIF
    ENDIF
return

FUNCTION SELECT_ELEMENT(FILECHOICE,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
   LOCAL X_POS
   if len(filechoice)=0
      return
   endif
   do while .t.
      @ x_BASSO+2,1 SAY "Press enter to remove element to list"
      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
      @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
      X_POS=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,FILECHOICE,.T.)
      IF X_POS>1
         ADEL(FILECHOICE,X_POS)
      else
         exit
      ENDIF
    enddo
   RETURN

FUNCTION SELECT_FILE(filechoice,X_DIRSPEC,X_WILCARD,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
   LOCAL ADIRECTORY := {}, NITEM := 0, X_RET_VAL := .T.
   LOCAL NUM_ARGOMENTI := 0, CFILESTRING := ""
   LOCAL WIN_SELEZ
   LOCAL X_ELEM_SEL:=0
   SAVE SCREEN TO WIN_SELEZ
   X_DIRSPEC=IIF(VALTYPE(X_DIRSPEC)="C",X_DIRSPEC,"\"+CURDIR())
   X_ALTO=IIF(VALTYPE(X_ALTO)="N",X_ALTO,5)
   X_SINISTRA=IIF(VALTYPE(X_SINISTRA)="N",X_SINISTRA,5)
   X_BASSO=IIF(VALTYPE(X_BASSO)="N",X_BASSO,22)
   X_DESTRA=IIF(VALTYPE(X_DESTRA)="N",X_DESTRA,40)
   DO WHILE .T.
       @ X_BASSO+2,1 say "Press Enter add program to compile
"+iif(len(filechoice)>0,"F5 compile and run  Left Modify  ","") +"Esc
to Exit"
      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
       @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
      X_DIRECTORY=X_DIRSPEC+"\*.*"
      // carica una file list con le informazioni della directory
      ADIRECTORY := DIRECTORY( x_directory, "D" )
      NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
      aFileList := {}                  // Cancella la vecchia lista
      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
// ORDINO LA DIRECTORY
      // X[F_NAME],"B"+X[F_NAME]) <
IIF(Y[F_ATTR]="D","A"+Y[F_NAME],"B"+Y[F_NAME]) } )
      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
      FOR NITEM := 1 TO NUM_ARGOMENTI
         IF ADIRECTORY[NITEM,F_ATTR ]=="D"
            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
                   "   <dir>"+ "  " + ;
                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
            ENDIF
      NEXT
      X_DIRECTORY=X_DIRSPEC+"\"+X_WILCARD
     ADIRECTORY := DIRECTORY( x_directory, "D" )
     NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
      FOR NITEM := 1 TO NUM_ARGOMENTI
         IF ADIRECTORY[NITEM,F_ATTR ]<>"D"
            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
                   STR( aDirectory[ nItem, F_SIZE ], 8 )+ "  " + ;
                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
         ENDIF
      NEXT
        X_ELEM_SEL=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,AFILELIST,.T.,,X_ELEM_SEL)
      IF X_ELEM_SEL=0
         X_RET_VAL=""
         EXIT
      ENDIF
      X_FILE_SEL=AFILELIST[X_ELEM_SEL]
      IF SUBSTR(X_FILE_SEL,16,8)<>"   <dir>"
         X_RET_VAL=SUBSTR(X_FILE_SEL,1,15)
         EXIT
         ELSE
         IF SUBSTR(X_FILE_SEL,1,1)="."   && SALGO DI UNA DIRECTORY
            X_DIRSPEC=SUBSTR(X_DIRSPEC,1,RAT("\",X_DIRSPEC)-1)
            ELSE
            X_DIRSPEC=X_DIRSPEC+"\"+ALLTRIM(SUBSTR(X_FILE_SEL,1,15))
         ENDIF
      ENDIF
   ENDDO
   RESTORE SCREEN FROM WIN_SELEZ
   RETURN(X_RET_VAL)

FUNCTION CREA_XMATE(filechoice)
   local a_xmate:={},A
   LOCAL X_LOG,X_MATE
   AADD(A_XMATE,"[Version]")
   AADD(A_XMATE,"Type=xMate")
   AADD(A_XMATE,"Number=1.15")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Info]")
   AADD(A_XMATE,"Type=Executable")
   AADD(A_XMATE,"Architecture=harbour")
   AADD(A_XMATE,"Include=")
   AADD(A_XMATE,"Define=")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[xMate]")
   AADD(A_XMATE,"Create Map/List File=No")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Project]")
   AADD(A_XMATE,"Run=")
   AADD(A_XMATE,"Params=")
   AADD(A_XMATE,"Final Path=%HOME%")
   AADD(A_XMATE,"Maintain LNK=Yes")
   AADD(A_XMATE,"Default Type=1")
   AADD(A_XMATE,"Error log=")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Data Path]")
   AADD(A_XMATE,"Dbf=")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Editor]")
   FOR A=1 TO LEN(FILECHOICE)
      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",N,N")
   NEXT
   AADD(A_XMATE,"")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Files]")
   FOR A=1 TO LEN(FILECHOICE)
      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",.F.,0,0,")
   NEXT
   xprjmate=aLltrim(filechoice[1])
   xprjmate=substr(XPRJMATE,1,len(xPRJmate)-4) +".xhp"
   if .not. file(XPRJMATE)
      X_LOG=FCREATE(XPRJMATE)
      FOR a=1 to len(A_XMATE)
         FWRITE(X_LOG,A_XMATE[a]+CHR(13)+CHR(10))
      NEXT

      FCLOSE(X_LOG)
   ENDIF
*  returm

  */



2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>> I have still one suggestion
>> Having a simple interactive mode
>> launching hbmk without parameter see a list of prg,hbp,c,rc
>> select with space one or more and press button compile
>> Simple and easy but will be a bridge between people command line
>> driven and gui driven
>
> Nope sorry, I've meant this is a pure command line tool.
> In fact all our supplied tools are command line only, and
> this shouldn't be an exception.
> If you want CUI/GUI, a wrapper program is the best solution. This
> could simply create a hbmk command line after presenting
> all the options on the screen for the user and either launch it
> or save it as .hbm (similar to hbmake). Can be independently
> developed from hbmk, and if it's good and portable (which now
> means CUI), we can also include it as part of the Harbour package.
>
From e.m.giordano at emagsoftware.it  Sun Feb 22 13:54:08 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 13:54:13 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag><49A170BD.1050708@fsgiudice.com>	<6A5C9BCC2F374357AC0BDA8F93A3B28C@emag><4F5F8AFE09154726B48F4D5F1E24B48D@emag><49A18470.5020505@fsgiudice.com><B9822758E8B84B89824C76E7B4122E6D@emag><BCD405BD892540FF8544063DF7934F60@emag>
	<001501c9951b$48b755c0$4201a8c0@lan>
Message-ID: <107FAB2F2450485B9A3CC7D7D48C32E1@emag>


-----Messaggio Originale----- 
Da: "frank van nuffel" <clipper5_y2d@versateladsl.be>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 19.27
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> Hello Enrico,
>
> It's just a guess (since i cannot test currently), but perhaps using a 
> scope
> resolution message can help here
>
>>         RETURN ::GET:SetPos( nPos )
>
> Just a thought, not tested

Sorry, no change. Thank you anyway for the try.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Sun Feb 22 13:54:36 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb 22 13:54:40 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag><49A170BD.1050708@fsgiudice.com>	<6A5C9BCC2F374357AC0BDA8F93A3B28C@emag><4F5F8AFE09154726B48F4D5F1E24B48D@emag><49A18470.5020505@fsgiudice.com><B9822758E8B84B89824C76E7B4122E6D@emag><BCD405BD892540FF8544063DF7934F60@emag>
	<001501c9951b$48b755c0$4201a8c0@lan>
Message-ID: <57032B5B64D5429FB06A4E7CC1A71E3E@emag>


-----Messaggio Originale----- 
Da: "frank van nuffel" <clipper5_y2d@versateladsl.be>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 febbraio 2009 19.27
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> .oO enjoyed to see .prg level related code snippets again in this forum 
> ;-)

:-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Sun Feb 22 13:58:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 13:58:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22150025.post@talk.nabble.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<22141201.post@talk.nabble.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
	<18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
	<22149388.post@talk.nabble.com>
	<18d502870902221023t60f3a497ke233e337c769fb89@mail.gmail.com>
	<22150025.post@talk.nabble.com>
Message-ID: <18d502870902221058v22bad632u108db50c45e0f889@mail.gmail.com>

Thanks. I'll be able to check this a bit later as latest VMware Fusion (which
hosts Win XP x64) simply reboots OS X when latest
VirtualBox (which hosts *nixes) is also running.

If someone knows a tool to convert virtual HDs between these
tools, I'd gladly hear about it :)

BTW, if you have a Core 2 CPU, I can just recommend installing
x64 Windows in a VirtualBox. Visual Studio 2008 Express (free) has
all the tools needed to build x64 Harbour and apps. 64-bit Windows
feels to run somewhat smoother than 32-bit.

Brgds,
Viktor

On Sun, Feb 22, 2009 at 7:42 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> Posting again.
>
>
> Viktor Szak?ts wrote:
> >
> > Hi Pritpal,
> > Sorry, I'm getting this:
> >
> >
>
> http://www.nabble.com/file/p22150025/demowvg.zip demowvg.zip
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10378--trunk-harbour-tp22133738p22150025.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/7e8e2640/attachment.html
From mbelgrano at deltain.it  Sun Feb 22 14:24:44 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 22 14:24:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <18d502870902221058v22bad632u108db50c45e0f889@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<18d502870902211451q45fe7d66t659dcb737b520d3@mail.gmail.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
	<18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
	<22149388.post@talk.nabble.com>
	<18d502870902221023t60f3a497ke233e337c769fb89@mail.gmail.com>
	<22150025.post@talk.nabble.com>
	<18d502870902221058v22bad632u108db50c45e0f889@mail.gmail.com>
Message-ID: <609353e70902221124y667c19cdo66450b4523843c75@mail.gmail.com>

https://wiki.ubuntu.com/UbuntuMagazine/HowTo/Switching_From_VMWare_To_VirtualBox:_.vmdk_To_.vdi_Using_Qemu_+_VdiTool



2009/2/22 Viktor Szak?ts <harbour.01@syenar.hu>:
> If someone knows a tool to convert virtual HDs between these
> tools, I'd gladly hear about it :)

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sun Feb 22 14:37:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 14:37:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <609353e70902221124y667c19cdo66450b4523843c75@mail.gmail.com>
References: <E1Lan4J-0003zY-As@74yxhf1.ch3.sourceforge.com>
	<22141792.post@talk.nabble.com>
	<18d502870902211546x1d4465c2q45ba90c6696f1d1d@mail.gmail.com>
	<22143032.post@talk.nabble.com>
	<18d502870902212334t6ba57cb1r1371acd7ce8d3c96@mail.gmail.com>
	<22149388.post@talk.nabble.com>
	<18d502870902221023t60f3a497ke233e337c769fb89@mail.gmail.com>
	<22150025.post@talk.nabble.com>
	<18d502870902221058v22bad632u108db50c45e0f889@mail.gmail.com>
	<609353e70902221124y667c19cdo66450b4523843c75@mail.gmail.com>
Message-ID: <18d502870902221137u38284e91r25f4962be71be5b1@mail.gmail.com>

Many thanks Massimo, I'll check it.
Brgds,
Viktor

On Sun, Feb 22, 2009 at 8:24 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

>
> https://wiki.ubuntu.com/UbuntuMagazine/HowTo/Switching_From_VMWare_To_VirtualBox:_.vmdk_To_.vdi_Using_Qemu_+_VdiTool
>
>
>
> 2009/2/22 Viktor Szak?ts <harbour.01@syenar.hu>:
> > If someone knows a tool to convert virtual HDs between these
> > tools, I'd gladly hear about it :)
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/3dd25c8f/attachment.html
From guy.roussin at teledetection.fr  Sun Feb 22 15:01:20 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sun Feb 22 15:01:27 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <18d502870902220522y28a9451ahb716ae0e30aa21a3@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>	<49A0300B.3040807@teledetection.fr>	<18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com>	<49A14D0E.7070601@teledetection.fr>
	<18d502870902220522y28a9451ahb716ae0e30aa21a3@mail.gmail.com>
Message-ID: <49A1AF10.8080305@teledetection.fr>

Hi Viktor,
> I have an idea, but I'd like to check it first locally.
>  
>
>     Note that i try to add -gtcgi but i can't see -lgtcgi in link
>     command and i get the same error.
>
>
> Yes, this is normal, as gtcgi lib is already present in the shared lib.
>
Thank you, works fine now: i can compile :-)

Now another little problem, when i use hbmk :

$ echo '? "hello"' > tst.prg
$ hbmk tst
Harbour 1.1.0dev (Rev. 10405)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'tst.prg'...
Lines 1, Functions/Procedures 1
Generating C source output to 'tst.c'... Done.
$ ./tst

hello
$ ldd tst
        linux-gate.so.1 =>  (0xb7faf000)
        libharbour.so => /usr/lib/libharbour.so (0xb7b26000)
        libgpm.so.2 => /usr/lib/libgpm.so.2 (0xb7b20000)
        libX11.so.6 => /usr/lib/libX11.so.6 (0xb7a30000)
        libncurses.so.5 => /lib/libncurses.so.5 (0xb79fe000)
        libslang.so.2 => /lib/libslang.so.2 (0xb7920000)
        libm.so.6 => /lib/i686/cmov/libm.so.6 (0xb78fa000)
        libdl.so.2 => /lib/i686/cmov/libdl.so.2 (0xb78f6000)
        librt.so.1 => /lib/i686/cmov/librt.so.1 (0xb78ed000)
        libc.so.6 => /lib/i686/cmov/libc.so.6 (0xb7792000)
        libxcb-xlib.so.0 => /usr/lib/libxcb-xlib.so.0 (0xb778f000)
        libxcb.so.1 => /usr/lib/libxcb.so.1 (0xb7777000)
        /lib/ld-linux.so.2 (0xb7fb0000)
        libpthread.so.0 => /lib/i686/cmov/libpthread.so.0 (0xb775e000)
        libXau.so.6 => /usr/lib/libXau.so.6 (0xb775b000)
        libXdmcp.so.6 => /usr/lib/libXdmcp.so.6 (0xb7756000)

When i use hbmk2 :

$ hbmk2 -n- tst
Harbour 1.1.0dev (Rev. 10405)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'tst.prg'...
Lines 1, Functions/Procedures 1
Generating C source output to 'tst.c'... Done.
$ ./tst
./tst: error while loading shared libraries: libharbour-1.1.0.so: cannot 
open shared object file: No such file or directory
$ ldd tst
        linux-gate.so.1 =>  (0xb7f06000)
        libharbour-1.1.0.so => not found
        libgpm.so.2 => /usr/lib/libgpm.so.2 (0xb7ede000)
        libX11.so.6 => /usr/lib/libX11.so.6 (0xb7dee000)
        libncurses.so.5 => /lib/libncurses.so.5 (0xb7dbc000)
        libslang.so.2 => /lib/libslang.so.2 (0xb7cde000)
        libm.so.6 => /lib/i686/cmov/libm.so.6 (0xb7cb8000)
        libdl.so.2 => /lib/i686/cmov/libdl.so.2 (0xb7cb4000)
        librt.so.1 => /lib/i686/cmov/librt.so.1 (0xb7cab000)
        libc.so.6 => /lib/i686/cmov/libc.so.6 (0xb7b4f000)
        libxcb-xlib.so.0 => /usr/lib/libxcb-xlib.so.0 (0xb7b4d000)
        libxcb.so.1 => /usr/lib/libxcb.so.1 (0xb7b35000)
        /lib/ld-linux.so.2 (0xb7f07000)
        libpthread.so.0 => /lib/i686/cmov/libpthread.so.0 (0xb7b1c000)
        libXau.so.6 => /usr/lib/libXau.so.6 (0xb7b19000)
        libXdmcp.so.6 => /usr/lib/libXdmcp.so.6 (0xb7b13000)

Note that i can add "/usr/lib/harbour" in /etc/ld.so.conf and run ldconfig
and it run fine ...

Another little problem. With hbmk :
$ cd
$ echo '? "hello"' > /tmp/tst.prg
$ hbmk /tmp/tst
Harbour 1.1.0dev (Rev. 10405)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling '/tmp/tst.prg'...
Lines 1, Functions/Procedures 1
Generating C source output to 'tst.c'... Done.
$ ./tst

hello

Now, with hbmk2 :
$ cd
$ echo '? "hello"' > /tmp/tst.prg
$ hbmk2 -n- /tmp/tst
Harbour 1.1.0dev (Rev. 10405)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling '/tmp/tst.prg'...
Lines 1, Functions/Procedures 1
Generating C source output to 'tst.c'... Done.
gcc: /tmp/tst.c: Aucun fichier ou r?pertoire de ce type
hbmk: Error: Running C compiler. 256: 'gcc /tmp/tst.c   -O3  -o/tmp/tst 
-I/usr/bin/../include/harbour -L/usr/bin/../lib/harbour -L/usr/X11R6/lib 
-Wl,--start-group -lharbour-1.1.0 -lhbcplr -lhbdebug -lgpm -lX11 
-lncurses -lslang -lm -ldl -lrt -Wl,--end-group

Thanks,

Guy
From vszakats at users.sourceforge.net  Sun Feb 22 15:05:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 22 15:05:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10407] trunk/harbour
Message-ID: <E1LbKZh-0006k9-Oq@dn4whf1.ch3.sourceforge.com>

Revision: 10407
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10407&view=rev
Author:   vszakats
Date:     2009-02-22 20:05:16 +0000 (Sun, 22 Feb 2009)

Log Message:
-----------
2009-02-22 21:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
  * utils/hbmk2/hbmk2.prg
    + Previous workaround changed to generic solution, keeping 
      all Harbour lib specific external lib knowledge inside 
      hbmk2.
      Guy, if you can please retest.

  * bin/hb-mkdll.bat
    * Minor in comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdll.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb 22 15:18:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 15:18:58 2009
Subject: [Harbour] Can't use hbmk ...
In-Reply-To: <49A1AF10.8080305@teledetection.fr>
References: <499AA56C.9030503@teledetection.fr>
	<49A0300B.3040807@teledetection.fr>
	<18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com>
	<49A14D0E.7070601@teledetection.fr>
	<18d502870902220522y28a9451ahb716ae0e30aa21a3@mail.gmail.com>
	<49A1AF10.8080305@teledetection.fr>
Message-ID: <18d502870902221218n77cf0ebfn9af424d20f70c68f@mail.gmail.com>

Hi Guy,


> Yes, this is normal, as gtcgi lib is already present in the shared lib.
>>
>>  Thank you, works fine now: i can compile :-)


Thanks for the good news :) I've reworked it a little bit
just now, I hope it still works.


> $ ldd tst
>       linux-gate.so.1 =>  (0xb7faf000)
>       libharbour.so => /usr/lib/libharbour.so (0xb7b26$ ldd tst
>       linux-gate.so.1 =>  (0xb7f06000)
>       libharbour-1.1.0.so => not found
>
> Note that i can add "/usr/lib/harbour" in /etc/ld.so.conf and run ldconfig
> and it run fine ...


Okay, many thanks for this.

I'll implement a fix for this ASAP. Also I think I'll revert
to use the version-free libharbour.so name also.

$ echo '? "hello"' > /tmp/tst.prg
> $ hbmk2 -n- /tmp/tst
> Harbour 1.1.0dev (Rev. 10405)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling '/tmp/tst.prg'...
> Lines 1, Functions/Procedures 1
> Generating C source output to 'tst.c'... Done.
>
gcc: /tmp/tst.c: Aucun fichier ou r?pertoire de ce type


Yes, true, I'll look into it, actually I had to resort to
a workaround when generating temp file name, to
avoid the exact same issue.

BTW, you don't have to use -n- anymore, it's now the default.

Brgds.
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/2189331c/attachment-0001.html
From mbelgrano at deltain.it  Sun Feb 22 15:48:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 22 15:48:49 2009
Subject: [Harbour] Harbour under ubuntu
Message-ID: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>

I have tried download and compile under Ubuntu 8.04 last svn i go
Application accessory terminal and type:
apt-get update; apt-get install wget cvs rcs build-essential ncurses-dev
libslang2-dev tk8.3-dev unixodbc-dev subversion debhelper
cd $HOME
mkdir src
cd src
svn co https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
harbour
cd harbour
./make_deb.sh
sudo dpkg -i harbour 1.0.0-1_i386.deb

hbmk2 return
bash:hbmk2:command not found
-----------------------------------------
i have tried also :
sudo-sharbour

cd /usr/src/harbour
export HB_BIN_INSTALL=/usr/bin/; export HB_LIB_INSTALL=/usr/lib/; export
HB_INC_INSTALL=/usr/include/
chmod 700 make_gnu.sh
sh ./make_gnu.sh clean; sh ./make_gnu.sh; sh ./make_gnu.sh install
harbour -build
-----------------
hbmk2 return
bash:hbmk2:command not found

-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From capelsoft at terra.es  Sun Feb 22 15:52:16 2009
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Sun Feb 22 15:52:22 2009
Subject: [Harbour] Error building libs for EVC4 with latest SVN
References: <499AA56C.9030503@teledetection.fr><49A0300B.3040807@teledetection.fr><18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com><49A14D0E.7070601@teledetection.fr><18d502870902220522y28a9451ahb716ae0e30aa21a3@mail.gmail.com><49A1AF10.8080305@teledetection.fr>
	<18d502870902221218n77cf0ebfn9af424d20f70c68f@mail.gmail.com>
Message-ID: <81A6FC7E241442A1A673AAD5EDEAEB1C@PEPELUIS3>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: make_vcce.log
Type: application/octet-stream
Size: 9140 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/acccfd6b/make_vcce.obj
From vszakats at users.sourceforge.net  Sun Feb 22 15:53:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 22 15:53:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10408] trunk/harbour
Message-ID: <E1LbLKL-0008Ue-8c@d5vjzd1.ch3.sourceforge.com>

Revision: 10408
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10408&view=rev
Author:   vszakats
Date:     2009-02-22 20:53:25 +0000 (Sun, 22 Feb 2009)

Log Message:
-----------
2009-02-22 21:52 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdll.bat
    + Added Borland C/C++ .dll building.
      It has the same requirements as MSVC.
      NOTE: Due to tlib bug, it won't work if the HB_LIB_INSTALL
            path contains '.' chars. I can add a workaround, 
            but at the cost of speed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdll.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Feb 22 16:12:44 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 22 16:12:47 2009
Subject: [Harbour] Error building libs for EVC4 with latest SVN
In-Reply-To: <81A6FC7E241442A1A673AAD5EDEAEB1C@PEPELUIS3>
References: <499AA56C.9030503@teledetection.fr>
	<49A0300B.3040807@teledetection.fr>
	<18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com>
	<49A14D0E.7070601@teledetection.fr>
	<18d502870902220522y28a9451ahb716ae0e30aa21a3@mail.gmail.com>
	<49A1AF10.8080305@teledetection.fr>
	<18d502870902221218n77cf0ebfn9af424d20f70c68f@mail.gmail.com>
	<81A6FC7E241442A1A673AAD5EDEAEB1C@PEPELUIS3>
Message-ID: <609353e70902221312g3080b644m870174a170ebe78@mail.gmail.com>

eMbedded Visual C++ in various versions was used to develop for some
versions of the Windows CE operating system. Initially it replaced a
development environment consisting of tools added onto Visual C++ 6.0.
eMbedded Visual C++ was replaced as a separate development environment
by Microsoft Visual Studio 2005.
http://www.microsoft.com/downloads/details.aspx?familyid=4a4ed1f4-91d3-4dbe-986e-a812984318e5&displaylang=en


How compile for a windows mobile device using Visual C++ 2008 (known
also as Visual C++ 9.0) ?


2009/2/22 Jos? Luis Capel <capelsoft@terra.es>:
> Hi,
>
> After updating with last svn I tried to build libs for evc4 compiler using
> these sets
>
> SET HB_BUILD_WINCE=yes
> SET HB_CC_NAME=vcce
> SET HB_ARCHITECTURE=w32
> SET HB_GT_LIB=gtgui
> SET HB_GT_DEFAULT=gui
> SET HB_VISUALC_VER=60
> SET HB_BUILD_MODE=c
> SET C_USR= -DHB_WINCE -DHB_FM_STATISTICS -DHB_TR_LEVEL_DEBUG
> SET HB_BUILD_DLL=no
>
>
> I got this error:
>
> C:\Programacion_Disk\Programacion\harbour>make_vc
> NMAKE : fatal error U1073: don't know how to make 'obj\vc\mtce\arrays.obj'
> Stop.
>
> I attach log file.
>
> Thsnks,
> Jos? Luis Capel
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From guy.roussin at teledetection.fr  Sun Feb 22 16:25:32 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sun Feb 22 16:25:38 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
Message-ID: <49A1C2CC.4090803@teledetection.fr>

Hi,
> cd $HOME
> mkdir src
> cd src
> svn co https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
> harbour
> cd harbour
> ./make_deb.sh
> sudo dpkg -i harbour 1.0.0-1_i386.deb
>   
For me, svn produce harbour_1.0.1-1_i386.deb
and not harbour 1.0.0-1_i386.deb ...

Guy

From vszakats at users.sourceforge.net  Sun Feb 22 16:39:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 22 16:39:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10409] trunk/harbour
Message-ID: <E1LbM2v-0003Oo-93@3kljzd1.ch3.sourceforge.com>

Revision: 10409
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10409&view=rev
Author:   vszakats
Date:     2009-02-22 21:39:32 +0000 (Sun, 22 Feb 2009)

Log Message:
-----------
2009-02-22 22:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_vc.mak
    ! Added workaround for WinCE mode.

  * config/win/msvcce.cf
    ! Fixed cl name when building with older MSVC version.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/msvcce.cf
    trunk/harbour/make_vc.mak


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb 22 16:41:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 22 16:41:43 2009
Subject: [Harbour] Error building libs for EVC4 with latest SVN
In-Reply-To: <81A6FC7E241442A1A673AAD5EDEAEB1C@PEPELUIS3>
References: <499AA56C.9030503@teledetection.fr>
	<49A0300B.3040807@teledetection.fr>
	<18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com>
	<49A14D0E.7070601@teledetection.fr>
	<18d502870902220522y28a9451ahb716ae0e30aa21a3@mail.gmail.com>
	<49A1AF10.8080305@teledetection.fr>
	<18d502870902221218n77cf0ebfn9af424d20f70c68f@mail.gmail.com>
	<81A6FC7E241442A1A673AAD5EDEAEB1C@PEPELUIS3>
Message-ID: <18d502870902221341k5592eb50v655d1b64dd772a0@mail.gmail.com>

Hi Jose,

C:\Programacion_Disk\Programacion\harbour>make_vc
> NMAKE : fatal error U1073: don't know how to make 'obj\vc\mtce\arrays.obj'
> Stop.
>

Please try again with latest SVN after:
2009-02-22 22:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

I'd however recommend using the GNU make system:
---
set HB_VISUALC_VER_PRE80=yes
set HB_ARCHITECTURE=win
set HB_COMPILER=msvcce
set SHLVL=
rem NOTE: these dirs have to exist
set HB_BIN_INSTALL=C:\hbvcce\bin
set HB_LIB_INSTALL=C:\hbvcce\lib
set HB_INC_INSTALL=C:\hbvcce\include
make
---

You'll also need GNU make.exe (from the MinGW packages f.e.), put into the
PATH.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090222/dd5bedf6/attachment-0001.html
From info at fsgiudice.com  Sun Feb 22 18:45:38 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Feb 22 18:45:47 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
In-Reply-To: <BCD405BD892540FF8544063DF7934F60@emag>
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag><49A170BD.1050708@fsgiudice.com>	<6A5C9BCC2F374357AC0BDA8F93A3B28C@emag><4F5F8AFE09154726B48F4D5F1E24B48D@emag><49A18470.5020505@fsgiudice.com>	<B9822758E8B84B89824C76E7B4122E6D@emag>
	<BCD405BD892540FF8544063DF7934F60@emag>
Message-ID: <49A1E3A2.50900@fsgiudice.com>

Hi Enrico,

Il 22/02/2009 18.32, Enrico Maria Giordano ha scritto:
> Third problem. I'd want something like this:
> 
[snip]
> but I get the following error:
> 
> Error BASE/1004  Message not found: GET:SETPOS
in this case the problem is that in TGet the command
    ASSIGN pos METHOD setPos( nPos )
is translated to:
    _HB_MEMBER _pos(); oClass:AddMethod( "_pos", @GET_setPos(), nScope + 
iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

so as you can see SetPos() is a pointer to static function GET_setPos() 
that is local to tget.prg.
Using override command you substitute the message and so lost pointer to 
GET_SetPos().
The only way is to replicate locally the function, otherwise it could be 
necessary to add to classes a function that returns above pointer that 
can be used locally.

Hope to be clear.

Best regards
Francesco
From vailtom at gmail.com  Sun Feb 22 18:57:46 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 22 18:57:50 2009
Subject: [Harbour] harbour project program
In-Reply-To: <609353e70902221051n59caa36ctae51652504f1ef8f@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
	<18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
	<609353e70902221051n59caa36ctae51652504f1ef8f@mail.gmail.com>
Message-ID: <531d7a750902221557hdeddd6dof70bc7da601377f6@mail.gmail.com>

About GUI Wrapper, look at mymake and see if he can inspire you or
even help in some part on screenshots, options, etc.

This tool was developed in Delphi and supports Harbor & xHarbour with
BCC. Has translated into Portuguese, English, Spanish and Italian...
The download link is http://sqllib.com.br/v4/index.php?artigo=MyMake

2009/2/22 Massimo Belgrano <mbelgrano@deltain.it>:
> Here is my first template for a UI version console
> Select one on more prg with enter and compile and run with f5
> Particular useful running in harbour\test
> It Generate also project file for xmate
> now i want :
> -support also hrb
> -Manage also  -GUI,-MT
> -Give Capability to edit source selected with parametrised editor
> -support more than 15 character in file name
> - try linux
> -Not exit but remain in memory after running the sample
> - Give capability compile a source from clibpoard useful for compile
> sample found in web
>
>
>
> Can my little work be part of harbour (example)?
> This use on old path based on achoice emulating norton commanter look and feel
> Have any other multiplatform suggestion for make a Multiple FIle
> Select on a file system?
>
>
>
> /*
>  * $Id: hbm.prg
>  */
>
> /*
>  * xHarbour Project source code:
>  * xHarbour Template for hbmk 2
>  *
>  * Copyright 2000 Massimo Belgrano
>  * www - http://www.xharbour.org
> */
> #include 'DIRECTRY.CH'
> #include "INKEY.CH"
>
> function main
>   LOCAL qualedir ,QUALEPROG:=1
>  LOCAL FILECHOICE:={}
>  set func 2 to CHR(K_CTRL_W)
>  SET func 5 TO CHR(K_LEFT)
>  CLS
>  QUALEDIR="\"+CURDIR()
>  DO WHILE .T.
>      @ 0,54 CLEAR TO 23,79
>      @ 0,54  TO 23,79
>      FOR A=1 TO LEN(FILECHOICE)
>        @ 0+A,55 SAY RIGHT(FILECHOICE[A],20)
>      NEXT A
>      QUALEPROG=SELECT_FILE(filechoice,@QUALEDIR,"*.PRG",1,1,22,50)
>      @ 4,5 say qualedir
>      IF EMPTY(QUALEPROG)
>         IF LASTKEY()=K_RIGHT
>            SELECT_ELEMENT(FILECHOICE,1,55,22,78)
>         ELSE
>            EXIT
>         ENDIF
>       ENDIF
>      AADD(FILECHOICE,CURDRIVE()+":"+QUALEDIR+"\"+QUALEPROG)
>   ENDDO
>   if lastkey()<>27
>     IF LEN(FILECHOICE)>0
>         cls
>        CREA_XMATE(filechoice)
>         X_SHELL="HBMK2 "
>         FOR A=1 TO LEN(FILECHOICE)
>             X_SHELL=X_SHELL+FILECHOICE[A]   +" "
>        NEXT A
>        X_SHELL=X_SHELL+"-RUN"
>        RUN(X_SHELL)
>     ENDIF
>    ENDIF
> return
>
> FUNCTION SELECT_ELEMENT(FILECHOICE,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>   LOCAL X_POS
>   if len(filechoice)=0
>      return
>   endif
>   do while .t.
>      @ x_BASSO+2,1 SAY "Press enter to remove element to list"
>      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
>      @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
>      X_POS=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,FILECHOICE,.T.)
>      IF X_POS>1
>         ADEL(FILECHOICE,X_POS)
>      else
>         exit
>      ENDIF
>    enddo
>   RETURN
>
> FUNCTION SELECT_FILE(filechoice,X_DIRSPEC,X_WILCARD,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>   LOCAL ADIRECTORY := {}, NITEM := 0, X_RET_VAL := .T.
>   LOCAL NUM_ARGOMENTI := 0, CFILESTRING := ""
>   LOCAL WIN_SELEZ
>   LOCAL X_ELEM_SEL:=0
>   SAVE SCREEN TO WIN_SELEZ
>   X_DIRSPEC=IIF(VALTYPE(X_DIRSPEC)="C",X_DIRSPEC,"\"+CURDIR())
>   X_ALTO=IIF(VALTYPE(X_ALTO)="N",X_ALTO,5)
>   X_SINISTRA=IIF(VALTYPE(X_SINISTRA)="N",X_SINISTRA,5)
>   X_BASSO=IIF(VALTYPE(X_BASSO)="N",X_BASSO,22)
>   X_DESTRA=IIF(VALTYPE(X_DESTRA)="N",X_DESTRA,40)
>   DO WHILE .T.
>       @ X_BASSO+2,1 say "Press Enter add program to compile
> "+iif(len(filechoice)>0,"F5 compile and run  Left Modify  ","") +"Esc
> to Exit"
>      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
>       @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
>      X_DIRECTORY=X_DIRSPEC+"\*.*"
>      // carica una file list con le informazioni della directory
>      ADIRECTORY := DIRECTORY( x_directory, "D" )
>      NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>      aFileList := {}                  // Cancella la vecchia lista
>      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
> // ORDINO LA DIRECTORY
>      // X[F_NAME],"B"+X[F_NAME]) <
> IIF(Y[F_ATTR]="D","A"+Y[F_NAME],"B"+Y[F_NAME]) } )
>      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>      FOR NITEM := 1 TO NUM_ARGOMENTI
>         IF ADIRECTORY[NITEM,F_ATTR ]=="D"
>            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>                   "   <dir>"+ "  " + ;
>                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
>                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
>                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
>            ENDIF
>      NEXT
>      X_DIRECTORY=X_DIRSPEC+"\"+X_WILCARD
>     ADIRECTORY := DIRECTORY( x_directory, "D" )
>     NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
>      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>      FOR NITEM := 1 TO NUM_ARGOMENTI
>         IF ADIRECTORY[NITEM,F_ATTR ]<>"D"
>            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>                   STR( aDirectory[ nItem, F_SIZE ], 8 )+ "  " + ;
>                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
>                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
>                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
>         ENDIF
>      NEXT
>        X_ELEM_SEL=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,AFILELIST,.T.,,X_ELEM_SEL)
>      IF X_ELEM_SEL=0
>         X_RET_VAL=""
>         EXIT
>      ENDIF
>      X_FILE_SEL=AFILELIST[X_ELEM_SEL]
>      IF SUBSTR(X_FILE_SEL,16,8)<>"   <dir>"
>         X_RET_VAL=SUBSTR(X_FILE_SEL,1,15)
>         EXIT
>         ELSE
>         IF SUBSTR(X_FILE_SEL,1,1)="."   && SALGO DI UNA DIRECTORY
>            X_DIRSPEC=SUBSTR(X_DIRSPEC,1,RAT("\",X_DIRSPEC)-1)
>            ELSE
>            X_DIRSPEC=X_DIRSPEC+"\"+ALLTRIM(SUBSTR(X_FILE_SEL,1,15))
>         ENDIF
>      ENDIF
>   ENDDO
>   RESTORE SCREEN FROM WIN_SELEZ
>   RETURN(X_RET_VAL)
>
> FUNCTION CREA_XMATE(filechoice)
>   local a_xmate:={},A
>   LOCAL X_LOG,X_MATE
>   AADD(A_XMATE,"[Version]")
>   AADD(A_XMATE,"Type=xMate")
>   AADD(A_XMATE,"Number=1.15")
>   AADD(A_XMATE,"")
>   AADD(A_XMATE,"[Info]")
>   AADD(A_XMATE,"Type=Executable")
>   AADD(A_XMATE,"Architecture=harbour")
>   AADD(A_XMATE,"Include=")
>   AADD(A_XMATE,"Define=")
>   AADD(A_XMATE,"")
>   AADD(A_XMATE,"[xMate]")
>   AADD(A_XMATE,"Create Map/List File=No")
>   AADD(A_XMATE,"")
>   AADD(A_XMATE,"[Project]")
>   AADD(A_XMATE,"Run=")
>   AADD(A_XMATE,"Params=")
>   AADD(A_XMATE,"Final Path=%HOME%")
>   AADD(A_XMATE,"Maintain LNK=Yes")
>   AADD(A_XMATE,"Default Type=1")
>   AADD(A_XMATE,"Error log=")
>   AADD(A_XMATE,"")
>   AADD(A_XMATE,"[Data Path]")
>   AADD(A_XMATE,"Dbf=")
>   AADD(A_XMATE,"")
>   AADD(A_XMATE,"[Editor]")
>   FOR A=1 TO LEN(FILECHOICE)
>      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",N,N")
>   NEXT
>   AADD(A_XMATE,"")
>   AADD(A_XMATE,"")
>   AADD(A_XMATE,"[Files]")
>   FOR A=1 TO LEN(FILECHOICE)
>      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",.F.,0,0,")
>   NEXT
>   xprjmate=aLltrim(filechoice[1])
>   xprjmate=substr(XPRJMATE,1,len(xPRJmate)-4) +".xhp"
>   if .not. file(XPRJMATE)
>      X_LOG=FCREATE(XPRJMATE)
>      FOR a=1 to len(A_XMATE)
>         FWRITE(X_LOG,A_XMATE[a]+CHR(13)+CHR(10))
>      NEXT
>
>      FCLOSE(X_LOG)
>   ENDIF
> *  returm
>
>  */
>
>
>
> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> I have still one suggestion
>>> Having a simple interactive mode
>>> launching hbmk without parameter see a list of prg,hbp,c,rc
>>> select with space one or more and press button compile
>>> Simple and easy but will be a bridge between people command line
>>> driven and gui driven
>>
>> Nope sorry, I've meant this is a pure command line tool.
>> In fact all our supplied tools are command line only, and
>> this shouldn't be an exception.
>> If you want CUI/GUI, a wrapper program is the best solution. This
>> could simply create a hbmk command line after presenting
>> all the options on the screen for the user and either launch it
>> or save it as .hbm (similar to hbmake). Can be independently
>> developed from hbmk, and if it's good and portable (which now
>> means CUI), we can also include it as part of the Harbour package.
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From vouchcac at users.sourceforge.net  Sun Feb 22 22:40:35 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Feb 22 22:40:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10410] trunk/harbour
Message-ID: <E1LbRgJ-0006LC-10@c3vjzd1.ch3.sourceforge.com>

Revision: 10410
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10410&view=rev
Author:   vouchcac
Date:     2009-02-23 03:40:33 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-22 19:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wvg3stat.prg
  * harbour/contrib/gtwvg/wvgcheck.prg
  * harbour/contrib/gtwvg/wvgcombo.prg
  * harbour/contrib/gtwvg/wvgdarea.prg
  * harbour/contrib/gtwvg/wvglistb.prg
  * harbour/contrib/gtwvg/wvgmle.prg
  * harbour/contrib/gtwvg/wvgpushb.prg
  * harbour/contrib/gtwvg/wvgradio.prg
  * harbour/contrib/gtwvg/wvgscrlb.prg
  * harbour/contrib/gtwvg/wvgsle.prg
  * harbour/contrib/gtwvg/wvgstatb.prg
  * harbour/contrib/gtwvg/wvgstatc.prg
  * harbour/contrib/gtwvg/wvgtoolb.prg
  * harbour/contrib/gtwvg/wvgtreev.prg
  * harbour/contrib/gtwvg/wvgwnd.prg
    ! Code cleanup.
    ! Implemented generic callback functionality taking 
      use of SetProp()/GetProp() functions of WINAPI. It 
      effectively eliminates the use of AsCallBack() 
      function which has been discussed as non-scalable
      in multi-processor architect.

    ; TODO: To use hb_gcAlloc() mechanism to hold the 
            codeblock. Please review wvgwnd():SetWindowProcCallback()
            and wvgwin:WVG_SetWindowProcBlock( ::hWnd, bBlock ).
            I did try but could not resolve it properly.  

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvg3stat.prg
    trunk/harbour/contrib/gtwvg/wvgcheck.prg
    trunk/harbour/contrib/gtwvg/wvgcombo.prg
    trunk/harbour/contrib/gtwvg/wvgdarea.prg
    trunk/harbour/contrib/gtwvg/wvglistb.prg
    trunk/harbour/contrib/gtwvg/wvgmle.prg
    trunk/harbour/contrib/gtwvg/wvgpushb.prg
    trunk/harbour/contrib/gtwvg/wvgradio.prg
    trunk/harbour/contrib/gtwvg/wvgscrlb.prg
    trunk/harbour/contrib/gtwvg/wvgsle.prg
    trunk/harbour/contrib/gtwvg/wvgstatb.prg
    trunk/harbour/contrib/gtwvg/wvgstatc.prg
    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
    trunk/harbour/contrib/gtwvg/wvgtreev.prg
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Feb 23 02:49:48 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 23 02:49:56 2009
Subject: [Harbour] uhttpd
In-Reply-To: <499DD95A.1050000@fsgiudice.com>
References: <499D84F3.40100@libero.it> <499DD95A.1050000@fsgiudice.com>
Message-ID: <49A2551C.7000402@libero.it>

Francesco,

can you build it using socket instead of inet, so that we can at least say
that the problem is not inside inet?

best regards.

Maurilio.

Francesco Saverio Giudice wrote:
> Hi Maurilio,
> 
> Il 19/02/2009 17.12, Maurilio Longo ha scritto:
>> Hi,
>>
>> I've built uhttpd on OS/2 using inet, it works ok, but every new
>> connection
>> uses 4 Kb of memory, more or less, which is not freed until after the
>> process
>> ends.
>>
>> Question: did anybody make some test with uhttpd build with inet on
>> windows?
>> did he experienced such 'memory leaks'?
> 
> I'm using it and yes, I have seen now about this problem. I'm
> investigating.
> 
> Best regards
> 
> Francesco
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From info at fsgiudice.com  Mon Feb 23 03:18:44 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 23 03:19:24 2009
Subject: [Harbour] uhttpd
In-Reply-To: <49A2551C.7000402@libero.it>
References: <499D84F3.40100@libero.it> <499DD95A.1050000@fsgiudice.com>
	<49A2551C.7000402@libero.it>
Message-ID: <49A25BE4.6050307@fsgiudice.com>

Hi Maurilio,

Il 23/02/2009 8.49, Maurilio Longo ha scritto:
> Francesco,
> 
> can you build it using socket instead of inet, so that we can at least say
> that the problem is not inside inet?
> 
Already done, the problem is still there.
I have analyzed the code but I found nothing, at the moment, that could 
not release memory.
I don't know if there is any MT internals to be checked but here I need 
Przemek help.
Today I will upload some updates I have done during searching.

Best regards,

Francesco


From mbelgrano at deltain.it  Mon Feb 23 03:21:07 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 03:21:12 2009
Subject: [Harbour] harbour project program
In-Reply-To: <531d7a750902221557hdeddd6dof70bc7da601377f6@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
	<18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
	<609353e70902221051n59caa36ctae51652504f1ef8f@mail.gmail.com>
	<531d7a750902221557hdeddd6dof70bc7da601377f6@mail.gmail.com>
Message-ID: <609353e70902230021k795a3237v1ba4101f1fce1bb4@mail.gmail.com>

Look very good
Wich path do you think is possible for made simular tool in harbour in
multiplatform?

2009/2/23 Vailton Renato <vailtom@gmail.com>:
> About GUI Wrapper, look at mymake and see if he can inspire you or
> even help in some part on screenshots, options, etc.
>
> This tool was developed in Delphi and supports Harbor & xHarbour with
> BCC. Has translated into Portuguese, English, Spanish and Italian...
> The download link is http://sqllib.com.br/v4/index.php?artigo=MyMake
>
> 2009/2/22 Massimo Belgrano <mbelgrano@deltain.it>:
>> Here is my first template for a UI version console
>> Select one on more prg with enter and compile and run with f5
>> Particular useful running in harbour\test
>> It Generate also project file for xmate
>> now i want :
>> -support also hrb
>> -Manage also  -GUI,-MT
>> -Give Capability to edit source selected with parametrised editor
>> -support more than 15 character in file name
>> - try linux
>> -Not exit but remain in memory after running the sample
>> - Give capability compile a source from clibpoard useful for compile
>> sample found in web
>>
>>
>>
>> Can my little work be part of harbour (example)?
>> This use on old path based on achoice emulating norton commanter look and feel
>> Have any other multiplatform suggestion for make a Multiple FIle
>> Select on a file system?
>>
>>
>>
>> /*
>>  * $Id: hbm.prg
>>  */
>>
>> /*
>>  * xHarbour Project source code:
>>  * xHarbour Template for hbmk 2
>>  *
>>  * Copyright 2000 Massimo Belgrano
>>  * www - http://www.xharbour.org
>> */
>> #include 'DIRECTRY.CH'
>> #include "INKEY.CH"
>>
>> function main
>>   LOCAL qualedir ,QUALEPROG:=1
>>  LOCAL FILECHOICE:={}
>>  set func 2 to CHR(K_CTRL_W)
>>  SET func 5 TO CHR(K_LEFT)
>>  CLS
>>  QUALEDIR="\"+CURDIR()
>>  DO WHILE .T.
>>      @ 0,54 CLEAR TO 23,79
>>      @ 0,54  TO 23,79
>>      FOR A=1 TO LEN(FILECHOICE)
>>        @ 0+A,55 SAY RIGHT(FILECHOICE[A],20)
>>      NEXT A
>>      QUALEPROG=SELECT_FILE(filechoice,@QUALEDIR,"*.PRG",1,1,22,50)
>>      @ 4,5 say qualedir
>>      IF EMPTY(QUALEPROG)
>>         IF LASTKEY()=K_RIGHT
>>            SELECT_ELEMENT(FILECHOICE,1,55,22,78)
>>         ELSE
>>            EXIT
>>         ENDIF
>>       ENDIF
>>      AADD(FILECHOICE,CURDRIVE()+":"+QUALEDIR+"\"+QUALEPROG)
>>   ENDDO
>>   if lastkey()<>27
>>     IF LEN(FILECHOICE)>0
>>         cls
>>        CREA_XMATE(filechoice)
>>         X_SHELL="HBMK2 "
>>         FOR A=1 TO LEN(FILECHOICE)
>>             X_SHELL=X_SHELL+FILECHOICE[A]   +" "
>>        NEXT A
>>        X_SHELL=X_SHELL+"-RUN"
>>        RUN(X_SHELL)
>>     ENDIF
>>    ENDIF
>> return
>>
>> FUNCTION SELECT_ELEMENT(FILECHOICE,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>>   LOCAL X_POS
>>   if len(filechoice)=0
>>      return
>>   endif
>>   do while .t.
>>      @ x_BASSO+2,1 SAY "Press enter to remove element to list"
>>      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
>>      @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
>>      X_POS=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,FILECHOICE,.T.)
>>      IF X_POS>1
>>         ADEL(FILECHOICE,X_POS)
>>      else
>>         exit
>>      ENDIF
>>    enddo
>>   RETURN
>>
>> FUNCTION SELECT_FILE(filechoice,X_DIRSPEC,X_WILCARD,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>>   LOCAL ADIRECTORY := {}, NITEM := 0, X_RET_VAL := .T.
>>   LOCAL NUM_ARGOMENTI := 0, CFILESTRING := ""
>>   LOCAL WIN_SELEZ
>>   LOCAL X_ELEM_SEL:=0
>>   SAVE SCREEN TO WIN_SELEZ
>>   X_DIRSPEC=IIF(VALTYPE(X_DIRSPEC)="C",X_DIRSPEC,"\"+CURDIR())
>>   X_ALTO=IIF(VALTYPE(X_ALTO)="N",X_ALTO,5)
>>   X_SINISTRA=IIF(VALTYPE(X_SINISTRA)="N",X_SINISTRA,5)
>>   X_BASSO=IIF(VALTYPE(X_BASSO)="N",X_BASSO,22)
>>   X_DESTRA=IIF(VALTYPE(X_DESTRA)="N",X_DESTRA,40)
>>   DO WHILE .T.
>>       @ X_BASSO+2,1 say "Press Enter add program to compile
>> "+iif(len(filechoice)>0,"F5 compile and run  Left Modify  ","") +"Esc
>> to Exit"
>>      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
>>       @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
>>      X_DIRECTORY=X_DIRSPEC+"\*.*"
>>      // carica una file list con le informazioni della directory
>>      ADIRECTORY := DIRECTORY( x_directory, "D" )
>>      NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>>      aFileList := {}                  // Cancella la vecchia lista
>>      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
>> // ORDINO LA DIRECTORY
>>      // X[F_NAME],"B"+X[F_NAME]) <
>> IIF(Y[F_ATTR]="D","A"+Y[F_NAME],"B"+Y[F_NAME]) } )
>>      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>>      FOR NITEM := 1 TO NUM_ARGOMENTI
>>         IF ADIRECTORY[NITEM,F_ATTR ]=="D"
>>            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>>                   "   <dir>"+ "  " + ;
>>                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
>>                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
>>                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
>>            ENDIF
>>      NEXT
>>      X_DIRECTORY=X_DIRSPEC+"\"+X_WILCARD
>>     ADIRECTORY := DIRECTORY( x_directory, "D" )
>>     NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>>      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
>>      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>>      FOR NITEM := 1 TO NUM_ARGOMENTI
>>         IF ADIRECTORY[NITEM,F_ATTR ]<>"D"
>>            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>>                   STR( aDirectory[ nItem, F_SIZE ], 8 )+ "  " + ;
>>                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
>>                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
>>                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
>>         ENDIF
>>      NEXT
>>        X_ELEM_SEL=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,AFILELIST,.T.,,X_ELEM_SEL)
>>      IF X_ELEM_SEL=0
>>         X_RET_VAL=""
>>         EXIT
>>      ENDIF
>>      X_FILE_SEL=AFILELIST[X_ELEM_SEL]
>>      IF SUBSTR(X_FILE_SEL,16,8)<>"   <dir>"
>>         X_RET_VAL=SUBSTR(X_FILE_SEL,1,15)
>>         EXIT
>>         ELSE
>>         IF SUBSTR(X_FILE_SEL,1,1)="."   && SALGO DI UNA DIRECTORY
>>            X_DIRSPEC=SUBSTR(X_DIRSPEC,1,RAT("\",X_DIRSPEC)-1)
>>            ELSE
>>            X_DIRSPEC=X_DIRSPEC+"\"+ALLTRIM(SUBSTR(X_FILE_SEL,1,15))
>>         ENDIF
>>      ENDIF
>>   ENDDO
>>   RESTORE SCREEN FROM WIN_SELEZ
>>   RETURN(X_RET_VAL)
>>
>> FUNCTION CREA_XMATE(filechoice)
>>   local a_xmate:={},A
>>   LOCAL X_LOG,X_MATE
>>   AADD(A_XMATE,"[Version]")
>>   AADD(A_XMATE,"Type=xMate")
>>   AADD(A_XMATE,"Number=1.15")
>>   AADD(A_XMATE,"")
>>   AADD(A_XMATE,"[Info]")
>>   AADD(A_XMATE,"Type=Executable")
>>   AADD(A_XMATE,"Architecture=harbour")
>>   AADD(A_XMATE,"Include=")
>>   AADD(A_XMATE,"Define=")
>>   AADD(A_XMATE,"")
>>   AADD(A_XMATE,"[xMate]")
>>   AADD(A_XMATE,"Create Map/List File=No")
>>   AADD(A_XMATE,"")
>>   AADD(A_XMATE,"[Project]")
>>   AADD(A_XMATE,"Run=")
>>   AADD(A_XMATE,"Params=")
>>   AADD(A_XMATE,"Final Path=%HOME%")
>>   AADD(A_XMATE,"Maintain LNK=Yes")
>>   AADD(A_XMATE,"Default Type=1")
>>   AADD(A_XMATE,"Error log=")
>>   AADD(A_XMATE,"")
>>   AADD(A_XMATE,"[Data Path]")
>>   AADD(A_XMATE,"Dbf=")
>>   AADD(A_XMATE,"")
>>   AADD(A_XMATE,"[Editor]")
>>   FOR A=1 TO LEN(FILECHOICE)
>>      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",N,N")
>>   NEXT
>>   AADD(A_XMATE,"")
>>   AADD(A_XMATE,"")
>>   AADD(A_XMATE,"[Files]")
>>   FOR A=1 TO LEN(FILECHOICE)
>>      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",.F.,0,0,")
>>   NEXT
>>   xprjmate=aLltrim(filechoice[1])
>>   xprjmate=substr(XPRJMATE,1,len(xPRJmate)-4) +".xhp"
>>   if .not. file(XPRJMATE)
>>      X_LOG=FCREATE(XPRJMATE)
>>      FOR a=1 to len(A_XMATE)
>>         FWRITE(X_LOG,A_XMATE[a]+CHR(13)+CHR(10))
>>      NEXT
>>
>>      FCLOSE(X_LOG)
>>   ENDIF
>> *  returm
>>
>>  */
>>
>>
>>
>> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>> I have still one suggestion
>>>> Having a simple interactive mode
>>>> launching hbmk without parameter see a list of prg,hbp,c,rc
>>>> select with space one or more and press button compile
>>>> Simple and easy but will be a bridge between people command line
>>>> driven and gui driven
>>>
>>> Nope sorry, I've meant this is a pure command line tool.
>>> In fact all our supplied tools are command line only, and
>>> this shouldn't be an exception.
>>> If you want CUI/GUI, a wrapper program is the best solution. This
>>> could simply create a hbmk command line after presenting
>>> all the options on the screen for the user and either launch it
>>> or save it as .hbm (similar to hbmake). Can be independently
>>> developed from hbmk, and if it's good and portable (which now
>>> means CUI), we can also include it as part of the Harbour package.
>>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Vailton Renato
> SQL LIB, MyMake & xDev Developer
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Mon Feb 23 04:48:22 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 04:48:26 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
Message-ID: <609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>

Another posting of Steffen that reply to xbase is the only multitread project

require a reply?

Steffen's Response to my post on  Pritpal Bedi take on Multi-
threading.
Sorry to use your blog to comment on the comments of others, as I
think this is not the idea of a blog. Anyway please allow me to
clarify my statement. I said "clean and easy to use way of
multithreading", i didn't say the Harbours don't support
Multithreading. My statement is still true, even so Harbour and
xHarbour have implemented the ability to execute code in multiple
threads and have implemented some of the interfaces Xbase++ provides
in one way or another. They are still far away from the idea and
concepts of Xbase++ in that area. In addition Harbour and xHarbour
implemented different semantics of isolation. Which makes porting of
complex MT applications for sure a mess. Let me clarify that.



2009/2/18 Massimo Belgrano <mbelgrano@deltain.it>:
> From a user's POV they are probably the same.
>
> Maybe there are some aspects of xhb which I don't know and could make
> the process different, but normally it's just a recompile and relink,
> feature-wise Harbour is on par with xhb, and a plus Harbour is
> cleaner, more robust, more portable and faster, it also has an xhb.lib
> which aims to provide compatibility with features we've opted not to
> include in the core product...
>
> Read the rest of this most interesting and helpful article at
> Clipper... Clipper... Clipper at http://cch4clipper.blogspot.com.
>
> CCH
> Clipper... Clipper... Clipper
> http://cch4clipper.blogspot.com.
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From mbelgrano at deltain.it  Mon Feb 23 04:50:51 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 04:50:55 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
	<609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
Message-ID: <609353e70902230150s172d0062p44d45448ecd0f128@mail.gmail.com>

Follow prev
Multithreading as the ability to execute code in different code paths
is a feature of modern OS sinces decades. The problem with MT is that
it adds another dimension of complexity to the developers task. While
with single threaded apps. the developer needs only to think in a more
or less sequential way with MT each execution path adds a new
dimentions to the equation of programm complexity. Development
languages supporting MT such as Delphi, .NET (C#,VB) or Harbour and
xHarbour support MT thats correct, but they do not remove the burden
of correctness from the programmer. It is in the sole responsibility
of the programmer to ensure programm correctness in two different
areas; data-consistency and algorithm isolation.

The problem of data consistency occurs as soon as more than one thread
is accessing the same data - such as a simple string or an array.
Besides nuances in terms of single or multiple readers/writers the
consistency of the data must be ensured, so developers are forced to
use mutex-semaphores or other higher level concepts such monitors,
guards... to ensure data-consistency.

Algorithm isolation is somewhat related to data-consistency, it
becomes obvious that a linked-list accessed from multiple threads must
be protected otherwise dangling pointer occurs. But what about a
table/relation of a database. The problem here is that concurrency
inside the process can be resolved - but this type of "isolation" does
break the semantics of the isolation principles which are already
provided by the underlying dbms (sql-isolation-levels, record or file
locks, transactions). Therefore algorithm isolation/correctness is a
complete different beast as it is located at a very high semantic
level of the task.

Alaska Software has put an enormous amount of research efforts into
that area and we have more than a decade of practical experience with
that area based on real world customers and real world applications.
>From that point of view I would like to reiterate my initial statement
"As of today there is still no tool available in the market which
provides that clean and easy to use way of multithreading".

Lets start with xHarbour, its MT implementation is not well thought,
as it provides MT features to the programmer without any model, just
the features. xHarbour even allows the usage of a workarea from
different threads which is a violation of fundamental dbms isolation
principles. In fact xHarbour ist just a system language in the sense
of MT and makes life not really easier compared with other system
languages. Therefore there is no value in besides being able to do MT.
Also keep in mind due to the historical burden of the VM and RT core
the MT feature is implemented in a way making it impossible to scale
in future multi-core scenarios (see later-note).

Harbour is better here because if follows more the principles of
Xbase++, while I am not sure if the Harbour people have decided to
adapt the Xbase++ model for compatibility reasons or not I am glad to
see that they followed our models point of view. The issues with
Harbour however is that it suffers from the shortcoming of its runtime
in general, the VM design and of course the way how datatypes - the
blood of a language - are handled. It is still in a 1980 architectual
style centered around the original concept how Clipper did it. This is
also true for xHarbour, so both suffer from the fact that MT was added
I think in 2007, while the VM and RT core is from 1999 - without
having MT in mind.

This is in fact one of the biggest differences between Xbase++ and the
"Harbours" from a pure architectual point of view, we designed a
runtime architecture from the beginning to be MT/MP and Distributed,
they designed a runtime based on the DOS Clipper blueprint.

In fact, I could argue on and on, specifically it it comes to
dedicated implementations of the Harbour runtime core or the Harbour
VM but sharing these type of technical details is of course
definitively not what I am paid for -;) Anyway allow me to make it
clear in a general terms.

First, any feature/functionality of Xbase++ is reentrant there is not
a single exception of this rule. Second, any datatype and storage type
is thread-safe regardless of its complexity so there is no way to
crash an Xbase++ process using multithreading. Third, the runtime
guarantees that there is no possibility of a deadlock in terms of its
internal state regardless what you are doing in different threads.
There is a clean isolation and inheritance relationship of settings
between different threads. In practical terms that means, you can
output to the console from different threads without any additional
code, you can execute methods or access state of GUI (XbasePARTS)
objects from different threads, you can create a codeblock which
detaches a local variable and pass it to another thread, you are
performing file I/O or executing a remote procedure call and in the
meanwhile the async. garbagge collector cleans up your memory - and
the list goes on... But in Xbase++ you can do all that without the
need to think about MT or ask a question such as "Is the ASort()
function thread safe" or can I change the caption of a GUI control
from another thread. Thats all a given, no restrictions apply, the
runtime does it all automatically for you.

Anyway, I like Harbour more than xHarbour in terms of MT support.
However the crux is still there, no real architecture around the
product, leading to the fact that MT is supported form a technical
point of view but not from a 4GL therefore leading to a potential of
unnecessary burden for the average programmers, and of course that was
and is still not the idea of Clipper as a tool.

Btw, the same is true for VO or so, they left the idea of the language
and moved to something more like a system -language, while I can
understand that somewhat I strongly disagree with that type of
language design for a simple reasons; its not practical in the long
term - we will see that in the following years as more and more multi
core system will find their way in the mainstream and developers need
to make use of them for performance and scaleability reasons. In 10 -
15 years from now we will have 100 if not thousands cores per die -
handling multithreading , synchronisation issues by hand becomes then
impossible, the same is true for offloading tasks for performance
reasons. So there is a need for a clean model in terms of the language
- thats at least into what we believe at Alaska Software. It goes even
further, the current attempty by MS in terms of multicore support with
VS2010 or NET 4.0 are IMO absolutely wrong, as they force the
developer to write code depending on the underlaying execution
infrastructure alias cores available. In other words, infrastructure
related code/algorithms get mixed with the original algorithm the
developers writes and of course the developer gets payed for. Thats a
catastrophic path which for sure does not contribute to increased
productivity and reliability of software solutions.

Funnily enough, the most critical, and most difficult aspect in that
area; getting performance gains from multi core usage is even not
touched with my technical arguments right now. However it adds another
dimension of complexity to the previous equation as it needs to take
into account the memory hierarchy which must be handled by a 4GL
runtime totally different as it is with the simple approach of
Harbour/xHarbour. Their RT core and VM needs a more or less complete
rewrite and redesign to go that path.

In other words, Xbase++ is playing in the Multithreading ballpark
since a decade. Harbour is still finding its way into the MT ballpark
while xHarbour is in that context at a dead-end.

I would bet that Xbase++ will play in the multicore ballpack while the
Harbours are still with their MT stuff.

In a more theoretical sense, it is important to understand that a
programming language and its infrastructure shall not adapt any
technical feature, requirement or hype. Because then the language and
infrastucture are getting more and more complicated up to an point of
lost control. Also backward compatibility and therefore protection of
existing investments becomes more and more a mess with Q&A costs going
through the roof.

Nor is it a good idea to provide software developers any freedom - the
point here is, a good MT modell does smoothly guide the developer
through the hurdels and most of the time is even not in the awareness
of the developer. The contrary is providing the developer all freedom,
but this leads to letting him first build the gun-powder, then the gun
to finally shoot a bullet -;)

Therefore let me rephrase my initial statement to be more specific;

As of today there is still no tool available in the market which
provides that clean and easy to use way of multithreading, however
there are other tools which support MT - but they support it just as
an technical feature without a modell and thats simple wrong as it
leads to additional dimensions in code complexity - finally ending in
applications with lesser reliability and overall quality.

Just my point of view on that subject - enough said

Steffen F. Pirsig
From druzus at acn.waw.pl  Mon Feb 23 05:17:35 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 23 05:12:18 2009
Subject: [Harbour] Dlmalloc.c - VirtualAlloc/Free - Test Results
In-Reply-To: <22143106.post@talk.nabble.com>
References: <22143106.post@talk.nabble.com>
Message-ID: <20090223101735.GA28406@uran.home.aster.pl>

On Sat, 21 Feb 2009, Pritpal Bedi wrote:

Hi,

> As I posted ( Toninho too ) about memProof.exe' report 
> of unfreed memory pages at appln termination,
> here are the investigations.
> I used following debugging code:
> /* For direct MMAP, use MEM_TOP_DOWN to minimize interference */
> static void* win32direct_mmap(size_t size) {
>   void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT|MEM_TOP_DOWN,
>                            PAGE_READWRITE);
> OutputDebugString( "--------------------VirtualAllocate  win32direct_mmap"
> );
>   return (ptr != 0)? ptr: MFAIL;
> }
[...]

Yes, DLMALLOC does not release all allocated memory on application exit.
It's not real problem but it will be nice if it can be eliminated because
it makes harder debugging other code and finding memory leaks.
But 1-st you should check if it's the only one problem. Harbour frees
all allocated memory on application exit so if CRTL also does it then
we can try to add cleanup call to dlmalloc.
So please check what happens when you compile Harbour using
-DHB_FM_WIN_ALLOC
If it pacify all memproof messages then we can try to fight with
DLMALLOC. If not then there is still problem with CRTL of given
compiler and we cannot make too much to fix it.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Feb 23 05:12:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 05:12:25 2009
Subject: [Harbour] harbour project program
In-Reply-To: <609353e70902230021k795a3237v1ba4101f1fce1bb4@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
	<18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
	<609353e70902221051n59caa36ctae51652504f1ef8f@mail.gmail.com>
	<531d7a750902221557hdeddd6dof70bc7da601377f6@mail.gmail.com>
	<609353e70902230021k795a3237v1ba4101f1fce1bb4@mail.gmail.com>
Message-ID: <609353e70902230212h10c28dc7p17cf154439f381cc@mail.gmail.com>

I plan a esay wrap to HBMK2 simply for not made error compiling or
editing sample
Like You i want get prg,c,obj,lib
mymake  add a ch thath is refeder by prg for editing purpose

are .rc and .res supported by hbmk?


2009/2/23 Massimo Belgrano <mbelgrano@deltain.it>:
> Look very good
> Wich path do you think is possible for made simular tool in harbour in
> multiplatform?
>
> 2009/2/23 Vailton Renato <vailtom@gmail.com>:
>> About GUI Wrapper, look at mymake and see if he can inspire you or
>> even help in some part on screenshots, options, etc.
>>
>> This tool was developed in Delphi and supports Harbor & xHarbour with
>> BCC. Has translated into Portuguese, English, Spanish and Italian...
>> The download link is http://sqllib.com.br/v4/index.php?artigo=MyMake
>>
>> 2009/2/22 Massimo Belgrano <mbelgrano@deltain.it>:
>>> Here is my first template for a UI version console
>>> Select one on more prg with enter and compile and run with f5
>>> Particular useful running in harbour\test
>>> It Generate also project file for xmate
>>> now i want :
>>> -support also hrb
>>> -Manage also  -GUI,-MT
>>> -Give Capability to edit source selected with parametrised editor
>>> -support more than 15 character in file name
>>> - try linux
>>> -Not exit but remain in memory after running the sample
>>> - Give capability compile a source from clibpoard useful for compile
>>> sample found in web
>>>
>>>
>>>
>>> Can my little work be part of harbour (example)?
>>> This use on old path based on achoice emulating norton commanter look and feel
>>> Have any other multiplatform suggestion for make a Multiple FIle
>>> Select on a file system?
>>>
>>>
>>>
>>> /*
>>>  * $Id: hbm.prg
>>>  */
>>>
>>> /*
>>>  * xHarbour Project source code:
>>>  * xHarbour Template for hbmk 2
>>>  *
>>>  * Copyright 2000 Massimo Belgrano
>>>  * www - http://www.xharbour.org
>>> */
>>> #include 'DIRECTRY.CH'
>>> #include "INKEY.CH"
>>>
>>> function main
>>>   LOCAL qualedir ,QUALEPROG:=1
>>>  LOCAL FILECHOICE:={}
>>>  set func 2 to CHR(K_CTRL_W)
>>>  SET func 5 TO CHR(K_LEFT)
>>>  CLS
>>>  QUALEDIR="\"+CURDIR()
>>>  DO WHILE .T.
>>>      @ 0,54 CLEAR TO 23,79
>>>      @ 0,54  TO 23,79
>>>      FOR A=1 TO LEN(FILECHOICE)
>>>        @ 0+A,55 SAY RIGHT(FILECHOICE[A],20)
>>>      NEXT A
>>>      QUALEPROG=SELECT_FILE(filechoice,@QUALEDIR,"*.PRG",1,1,22,50)
>>>      @ 4,5 say qualedir
>>>      IF EMPTY(QUALEPROG)
>>>         IF LASTKEY()=K_RIGHT
>>>            SELECT_ELEMENT(FILECHOICE,1,55,22,78)
>>>         ELSE
>>>            EXIT
>>>         ENDIF
>>>       ENDIF
>>>      AADD(FILECHOICE,CURDRIVE()+":"+QUALEDIR+"\"+QUALEPROG)
>>>   ENDDO
>>>   if lastkey()<>27
>>>     IF LEN(FILECHOICE)>0
>>>         cls
>>>        CREA_XMATE(filechoice)
>>>         X_SHELL="HBMK2 "
>>>         FOR A=1 TO LEN(FILECHOICE)
>>>             X_SHELL=X_SHELL+FILECHOICE[A]   +" "
>>>        NEXT A
>>>        X_SHELL=X_SHELL+"-RUN"
>>>        RUN(X_SHELL)
>>>     ENDIF
>>>    ENDIF
>>> return
>>>
>>> FUNCTION SELECT_ELEMENT(FILECHOICE,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>>>   LOCAL X_POS
>>>   if len(filechoice)=0
>>>      return
>>>   endif
>>>   do while .t.
>>>      @ x_BASSO+2,1 SAY "Press enter to remove element to list"
>>>      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
>>>      @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
>>>      X_POS=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,FILECHOICE,.T.)
>>>      IF X_POS>1
>>>         ADEL(FILECHOICE,X_POS)
>>>      else
>>>         exit
>>>      ENDIF
>>>    enddo
>>>   RETURN
>>>
>>> FUNCTION SELECT_FILE(filechoice,X_DIRSPEC,X_WILCARD,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>>>   LOCAL ADIRECTORY := {}, NITEM := 0, X_RET_VAL := .T.
>>>   LOCAL NUM_ARGOMENTI := 0, CFILESTRING := ""
>>>   LOCAL WIN_SELEZ
>>>   LOCAL X_ELEM_SEL:=0
>>>   SAVE SCREEN TO WIN_SELEZ
>>>   X_DIRSPEC=IIF(VALTYPE(X_DIRSPEC)="C",X_DIRSPEC,"\"+CURDIR())
>>>   X_ALTO=IIF(VALTYPE(X_ALTO)="N",X_ALTO,5)
>>>   X_SINISTRA=IIF(VALTYPE(X_SINISTRA)="N",X_SINISTRA,5)
>>>   X_BASSO=IIF(VALTYPE(X_BASSO)="N",X_BASSO,22)
>>>   X_DESTRA=IIF(VALTYPE(X_DESTRA)="N",X_DESTRA,40)
>>>   DO WHILE .T.
>>>       @ X_BASSO+2,1 say "Press Enter add program to compile
>>> "+iif(len(filechoice)>0,"F5 compile and run  Left Modify  ","") +"Esc
>>> to Exit"
>>>      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
>>>       @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
>>>      X_DIRECTORY=X_DIRSPEC+"\*.*"
>>>      // carica una file list con le informazioni della directory
>>>      ADIRECTORY := DIRECTORY( x_directory, "D" )
>>>      NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>>>      aFileList := {}                  // Cancella la vecchia lista
>>>      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
>>> // ORDINO LA DIRECTORY
>>>      // X[F_NAME],"B"+X[F_NAME]) <
>>> IIF(Y[F_ATTR]="D","A"+Y[F_NAME],"B"+Y[F_NAME]) } )
>>>      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>>>      FOR NITEM := 1 TO NUM_ARGOMENTI
>>>         IF ADIRECTORY[NITEM,F_ATTR ]=="D"
>>>            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>>>                   "   <dir>"+ "  " + ;
>>>                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
>>>                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
>>>                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
>>>            ENDIF
>>>      NEXT
>>>      X_DIRECTORY=X_DIRSPEC+"\"+X_WILCARD
>>>     ADIRECTORY := DIRECTORY( x_directory, "D" )
>>>     NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>>>      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
>>>      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>>>      FOR NITEM := 1 TO NUM_ARGOMENTI
>>>         IF ADIRECTORY[NITEM,F_ATTR ]<>"D"
>>>            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>>>                   STR( aDirectory[ nItem, F_SIZE ], 8 )+ "  " + ;
>>>                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
>>>                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
>>>                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
>>>         ENDIF
>>>      NEXT
>>>        X_ELEM_SEL=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,AFILELIST,.T.,,X_ELEM_SEL)
>>>      IF X_ELEM_SEL=0
>>>         X_RET_VAL=""
>>>         EXIT
>>>      ENDIF
>>>      X_FILE_SEL=AFILELIST[X_ELEM_SEL]
>>>      IF SUBSTR(X_FILE_SEL,16,8)<>"   <dir>"
>>>         X_RET_VAL=SUBSTR(X_FILE_SEL,1,15)
>>>         EXIT
>>>         ELSE
>>>         IF SUBSTR(X_FILE_SEL,1,1)="."   && SALGO DI UNA DIRECTORY
>>>            X_DIRSPEC=SUBSTR(X_DIRSPEC,1,RAT("\",X_DIRSPEC)-1)
>>>            ELSE
>>>            X_DIRSPEC=X_DIRSPEC+"\"+ALLTRIM(SUBSTR(X_FILE_SEL,1,15))
>>>         ENDIF
>>>      ENDIF
>>>   ENDDO
>>>   RESTORE SCREEN FROM WIN_SELEZ
>>>   RETURN(X_RET_VAL)
>>>
>>> FUNCTION CREA_XMATE(filechoice)
>>>   local a_xmate:={},A
>>>   LOCAL X_LOG,X_MATE
>>>   AADD(A_XMATE,"[Version]")
>>>   AADD(A_XMATE,"Type=xMate")
>>>   AADD(A_XMATE,"Number=1.15")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Info]")
>>>   AADD(A_XMATE,"Type=Executable")
>>>   AADD(A_XMATE,"Architecture=harbour")
>>>   AADD(A_XMATE,"Include=")
>>>   AADD(A_XMATE,"Define=")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[xMate]")
>>>   AADD(A_XMATE,"Create Map/List File=No")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Project]")
>>>   AADD(A_XMATE,"Run=")
>>>   AADD(A_XMATE,"Params=")
>>>   AADD(A_XMATE,"Final Path=%HOME%")
>>>   AADD(A_XMATE,"Maintain LNK=Yes")
>>>   AADD(A_XMATE,"Default Type=1")
>>>   AADD(A_XMATE,"Error log=")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Data Path]")
>>>   AADD(A_XMATE,"Dbf=")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Editor]")
>>>   FOR A=1 TO LEN(FILECHOICE)
>>>      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",N,N")
>>>   NEXT
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Files]")
>>>   FOR A=1 TO LEN(FILECHOICE)
>>>      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",.F.,0,0,")
>>>   NEXT
>>>   xprjmate=aLltrim(filechoice[1])
>>>   xprjmate=substr(XPRJMATE,1,len(xPRJmate)-4) +".xhp"
>>>   if .not. file(XPRJMATE)
>>>      X_LOG=FCREATE(XPRJMATE)
>>>      FOR a=1 to len(A_XMATE)
>>>         FWRITE(X_LOG,A_XMATE[a]+CHR(13)+CHR(10))
>>>      NEXT
>>>
>>>      FCLOSE(X_LOG)
>>>   ENDIF
>>> *  returm
>>>
>>>  */
>>>
>>>
>>>
>>> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>> I have still one suggestion
>>>>> Having a simple interactive mode
>>>>> launching hbmk without parameter see a list of prg,hbp,c,rc
>>>>> select with space one or more and press button compile
>>>>> Simple and easy but will be a bridge between people command line
>>>>> driven and gui driven
>>>>
>>>> Nope sorry, I've meant this is a pure command line tool.
>>>> In fact all our supplied tools are command line only, and
>>>> this shouldn't be an exception.
>>>> If you want CUI/GUI, a wrapper program is the best solution. This
>>>> could simply create a hbmk command line after presenting
>>>> all the options on the screen for the user and either launch it
>>>> or save it as .hbm (similar to hbmake). Can be independently
>>>> developed from hbmk, and if it's good and portable (which now
>>>> means CUI), we can also include it as part of the Harbour package.
>>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Vailton Renato
>> SQL LIB, MyMake & xDev Developer
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From M.Horodyski at pzuzycie.com.pl  Mon Feb 23 05:36:14 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Feb 23 05:36:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10378] trunk/harbour
In-Reply-To: <22143032.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D829@PINK.zycie.pzu>

[...]

>I told before, it is extremely gray area for me.
>I just implemented Andy Wos code. He is better equipped to 
>refine it. He is not available online these days, may be on 
>vacations, otherwise I must have requested him.

Pritpal, I have the addresses :

Andy (at) capitaloffice.com.au
Andywos (at) unwired.com.au

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Mon Feb 23 05:37:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 05:37:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10410] trunk/harbour
In-Reply-To: <E1LbRgJ-0006LC-10@c3vjzd1.ch3.sourceforge.com>
References: <E1LbRgJ-0006LC-10@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870902230237u7d16fe5dgd25183fc97c72aa@mail.gmail.com>

Many thanks Pritpal, new solution looks very good.
To use GC with this method, you'd probably need to encapsulate
HWND into a GC collected object and do the required cleaning
when the HWND object goes out of scope.

I'll send you x64 results a bit later, still working in and on
Linux for now.

Brgds,
Viktor

On Mon, Feb 23, 2009 at 4:40 AM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10410
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10410&view=rev
> Author:   vouchcac
> Date:     2009-02-23 03:40:33 +0000 (Mon, 23 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-22 19:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/gtwvg/wvgwin.c
>  * harbour/contrib/gtwvg/wvg3stat.prg
>  * harbour/contrib/gtwvg/wvgcheck.prg
>  * harbour/contrib/gtwvg/wvgcombo.prg
>  * harbour/contrib/gtwvg/wvgdarea.prg
>  * harbour/contrib/gtwvg/wvglistb.prg
>  * harbour/contrib/gtwvg/wvgmle.prg
>  * harbour/contrib/gtwvg/wvgpushb.prg
>  * harbour/contrib/gtwvg/wvgradio.prg
>  * harbour/contrib/gtwvg/wvgscrlb.prg
>  * harbour/contrib/gtwvg/wvgsle.prg
>  * harbour/contrib/gtwvg/wvgstatb.prg
>  * harbour/contrib/gtwvg/wvgstatc.prg
>  * harbour/contrib/gtwvg/wvgtoolb.prg
>  * harbour/contrib/gtwvg/wvgtreev.prg
>  * harbour/contrib/gtwvg/wvgwnd.prg
>    ! Code cleanup.
>    ! Implemented generic callback functionality taking
>      use of SetProp()/GetProp() functions of WINAPI. It
>      effectively eliminates the use of AsCallBack()
>      function which has been discussed as non-scalable
>      in multi-processor architect.
>
>    ; TODO: To use hb_gcAlloc() mechanism to hold the
>            codeblock. Please review wvgwnd():SetWindowProcCallback()
>            and wvgwin:WVG_SetWindowProcBlock( ::hWnd, bBlock ).
>            I did try but could not resolve it properly.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/wvg3stat.prg
>    trunk/harbour/contrib/gtwvg/wvgcheck.prg
>    trunk/harbour/contrib/gtwvg/wvgcombo.prg
>    trunk/harbour/contrib/gtwvg/wvgdarea.prg
>    trunk/harbour/contrib/gtwvg/wvglistb.prg
>    trunk/harbour/contrib/gtwvg/wvgmle.prg
>    trunk/harbour/contrib/gtwvg/wvgpushb.prg
>    trunk/harbour/contrib/gtwvg/wvgradio.prg
>    trunk/harbour/contrib/gtwvg/wvgscrlb.prg
>    trunk/harbour/contrib/gtwvg/wvgsle.prg
>    trunk/harbour/contrib/gtwvg/wvgstatb.prg
>    trunk/harbour/contrib/gtwvg/wvgstatc.prg
>    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
>    trunk/harbour/contrib/gtwvg/wvgtreev.prg
>    trunk/harbour/contrib/gtwvg/wvgwin.c
>    trunk/harbour/contrib/gtwvg/wvgwnd.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/394b7f1e/attachment.html
From mbelgrano at deltain.it  Mon Feb 23 05:47:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 05:48:00 2009
Subject: [Harbour] Re: SQLWIN - a free RDD for SQL by Antonio Linares
In-Reply-To: <609353e70902180619l458c8582u99cf8059aa90d8a6@mail.gmail.com>
References: <609353e70902180619l458c8582u99cf8059aa90d8a6@mail.gmail.com>
Message-ID: <609353e70902230247j11d6d35ao51b167d75503ac0@mail.gmail.com>

Another tool  rdd based on sql :

Sql lib with free and plus version
http://sqllib.com.br/v4/index.php?module=Produtos

Mediator xBase/Clipper client is used to access Mediator ISAM server
from Clipper, Harbour or xHarbour applications. Client software
implements the concept of RDD driver.
http://www.otc.pl/index.asp?s=76&l=2



2009/2/18 Massimo Belgrano <mbelgrano@deltain.it>:
>
> SQLWIN - a free RDD for SQL
>
> by Antonio Linares ? Wed Sep 10, 2008 4:57 am
>
> We start the development of SQLWIN, a free and open source RDD for SQL.
>
> All of you interested in learning and use SQL are welcome to join this
> project. You can already download a very early prototype, but that can be
> already compiled and tested:
>
> www.fivetechsoft.com/files/sqlwin.zip
>
> The source code is licenced with the same Harbour licence (not included yet
> in its code). We start from the ADORDD source code, but just to use its
> structure, that will be totally redesigned.
>
> Please visit also the spanish thread where some developers have already
> joined the project:
>
> http://forums.fivetechsoft.com/viewtopic.php?t=12645
> Last edited by Antonio Linares on Wed Sep 10, 2008 5:02 am, edited 2 times
> in total.
> regards, saludos
>
> Antonio Linares
> www.fivetechsoft.com
> --
> Massimo Belgrano
>
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From druzus at acn.waw.pl  Mon Feb 23 05:57:57 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 23 05:52:38 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
	<609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
Message-ID: <20090223105757.GA12394@uran.home.aster.pl>

On Mon, 23 Feb 2009, Massimo Belgrano wrote:

Hi,

> Steffen's Response to my post on  Pritpal Bedi take on Multi-
> threading.
> Sorry to use your blog to comment on the comments of others, as I
> think this is not the idea of a blog. Anyway please allow me to
> clarify my statement. I said "clean and easy to use way of
> multithreading", i didn't say the Harbours don't support
> Multithreading. My statement is still true, even so Harbour and
> xHarbour have implemented the ability to execute code in multiple
> threads and have implemented some of the interfaces Xbase++ provides
> in one way or another. They are still far away from the idea and
> concepts of Xbase++ in that area. In addition Harbour and xHarbour
> implemented different semantics of isolation. Which makes porting of
> complex MT applications for sure a mess. Let me clarify that.

It's not true.

1-st Harbour and xHarbour use different MT implementation and
they should not be confused.

In Harbour it's possible to use threads like in xbase++.
It support thread and signal classes/objects, the concept
of zero zone for open workareas (dbRequest()/dbRelease()),
SYNC object methods, isolated SET and RDD settings, coping
or sharing memvars with parent threads. Also xbase++ thread
related functions like ThreadID(), ThreadObject(), ThreadWait(),
ThreadWaitAll() are supported.
It's highly possible that I haven't replicated xbase++ behavior
exactly (f.e. the implementation of THREAD class should be extended
yet to add support for thread restarting when thread interval is
set but it's rather simple .prg code and I hope that xbase++ users
which are interested in exact emulation will make it. I'm not xbase++
user so I cannot easy test the details of implementation.

Harbour does not support thread priority but it's not multiplatform
and portable feature so it cannot be well implemented. Anyhow in few
lines it can be added for those platforms which are supported by xbase++.

But in Harbour you can also use other things which does not exists
in xbase++. The very important is also scalability which is far much
better then in xbase++ or in xHarbour so if you have multi CPU machine
you can expect that the speed of MT application will be noticeable
improved. The mutexes in Harbour give very flexible synchronization
mechanism. They can be used as message queues, conditional variables
or simple mutexes. PRIVATE and PUBLIC sharing or coping is optional
and controlled by user. It's possible to allocate many console windows
in single thread or in many threads. Console windows can be shared
between threads or can be dedicated to single thread only. Harbour
supports THREAD STATIC variables and they are used in core code.
It means that Clipper's code which need static variables like getlist
implementation is MT safe in Harbour. It also gives very powerful
mechanism for MT programmers. There are also many other things
related to MT programming which seems to be unique to Harbour and
does not exist in xbase++.

In summary Harbour offers xbase++ compatible MT API but rather as
optional feature for programmers because it provides own more powerful
and flexible one and the final applications are much better scalable.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Feb 23 06:39:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 06:39:54 2009
Subject: [Harbour] IDE for xbase comparision
Message-ID: <609353e70902230339v106d23ecv5fd7fba76f036501@mail.gmail.com>

Xmate version: 1.15
http://www.andywos.ih.co.za/xmate/
Made in Harbour, windows only
xMate is a freeware  project manager and builder, It includes a
built-in, configurable source code editor
I am using xmate from a lot of year and i found very good but in last
year have made very litthe update

Xdev studio ver 0.70
http://sqllib.com.br/v4/index.php?artigo=xDevStudio&page=Download
Made in delphi only spanish edition), windows only
Capability to import Xmate project,mymake,xbuild,med
Good speed of loading a project
Capability to select and configure yours  xharbour and c compiler
also using in same project more that one compiler
Not jet available option for msvc and cross compiling for windows ce

Either have
List of Function-Prodecure included in prg
good intellisense function also if is not able to understant
definition by  #include
capability to search a token in files and in project

Either not have
Integration with debug
Linux version


-- 
Massimo Belgrano
From vailtom at gmail.com  Mon Feb 23 07:07:15 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Feb 23 07:07:19 2009
Subject: [Harbour] harbour project program
In-Reply-To: <609353e70902230021k795a3237v1ba4101f1fce1bb4@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
	<18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
	<609353e70902221051n59caa36ctae51652504f1ef8f@mail.gmail.com>
	<531d7a750902221557hdeddd6dof70bc7da601377f6@mail.gmail.com>
	<609353e70902230021k795a3237v1ba4101f1fce1bb4@mail.gmail.com>
Message-ID: <531d7a750902230407g3258f728t222ef8c9a9c2d762@mail.gmail.com>

Maybe, if using GTK ... but I like how Qt multi platform environment.
I have not decided about this.

2009/2/23 Massimo Belgrano <mbelgrano@deltain.it>:
> Look very good
> Wich path do you think is possible for made simular tool in harbour in
> multiplatform?
>
> 2009/2/23 Vailton Renato <vailtom@gmail.com>:
>> About GUI Wrapper, look at mymake and see if he can inspire you or
>> even help in some part on screenshots, options, etc.
>>
>> This tool was developed in Delphi and supports Harbor & xHarbour with
>> BCC. Has translated into Portuguese, English, Spanish and Italian...
>> The download link is http://sqllib.com.br/v4/index.php?artigo=MyMake
>>
>> 2009/2/22 Massimo Belgrano <mbelgrano@deltain.it>:
>>> Here is my first template for a UI version console
>>> Select one on more prg with enter and compile and run with f5
>>> Particular useful running in harbour\test
>>> It Generate also project file for xmate
>>> now i want :
>>> -support also hrb
>>> -Manage also  -GUI,-MT
>>> -Give Capability to edit source selected with parametrised editor
>>> -support more than 15 character in file name
>>> - try linux
>>> -Not exit but remain in memory after running the sample
>>> - Give capability compile a source from clibpoard useful for compile
>>> sample found in web
>>>
>>>
>>>
>>> Can my little work be part of harbour (example)?
>>> This use on old path based on achoice emulating norton commanter look and feel
>>> Have any other multiplatform suggestion for make a Multiple FIle
>>> Select on a file system?
>>>
>>>
>>>
>>> /*
>>>  * $Id: hbm.prg
>>>  */
>>>
>>> /*
>>>  * xHarbour Project source code:
>>>  * xHarbour Template for hbmk 2
>>>  *
>>>  * Copyright 2000 Massimo Belgrano
>>>  * www - http://www.xharbour.org
>>> */
>>> #include 'DIRECTRY.CH'
>>> #include "INKEY.CH"
>>>
>>> function main
>>>   LOCAL qualedir ,QUALEPROG:=1
>>>  LOCAL FILECHOICE:={}
>>>  set func 2 to CHR(K_CTRL_W)
>>>  SET func 5 TO CHR(K_LEFT)
>>>  CLS
>>>  QUALEDIR="\"+CURDIR()
>>>  DO WHILE .T.
>>>      @ 0,54 CLEAR TO 23,79
>>>      @ 0,54  TO 23,79
>>>      FOR A=1 TO LEN(FILECHOICE)
>>>        @ 0+A,55 SAY RIGHT(FILECHOICE[A],20)
>>>      NEXT A
>>>      QUALEPROG=SELECT_FILE(filechoice,@QUALEDIR,"*.PRG",1,1,22,50)
>>>      @ 4,5 say qualedir
>>>      IF EMPTY(QUALEPROG)
>>>         IF LASTKEY()=K_RIGHT
>>>            SELECT_ELEMENT(FILECHOICE,1,55,22,78)
>>>         ELSE
>>>            EXIT
>>>         ENDIF
>>>       ENDIF
>>>      AADD(FILECHOICE,CURDRIVE()+":"+QUALEDIR+"\"+QUALEPROG)
>>>   ENDDO
>>>   if lastkey()<>27
>>>     IF LEN(FILECHOICE)>0
>>>         cls
>>>        CREA_XMATE(filechoice)
>>>         X_SHELL="HBMK2 "
>>>         FOR A=1 TO LEN(FILECHOICE)
>>>             X_SHELL=X_SHELL+FILECHOICE[A]   +" "
>>>        NEXT A
>>>        X_SHELL=X_SHELL+"-RUN"
>>>        RUN(X_SHELL)
>>>     ENDIF
>>>    ENDIF
>>> return
>>>
>>> FUNCTION SELECT_ELEMENT(FILECHOICE,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>>>   LOCAL X_POS
>>>   if len(filechoice)=0
>>>      return
>>>   endif
>>>   do while .t.
>>>      @ x_BASSO+2,1 SAY "Press enter to remove element to list"
>>>      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
>>>      @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
>>>      X_POS=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,FILECHOICE,.T.)
>>>      IF X_POS>1
>>>         ADEL(FILECHOICE,X_POS)
>>>      else
>>>         exit
>>>      ENDIF
>>>    enddo
>>>   RETURN
>>>
>>> FUNCTION SELECT_FILE(filechoice,X_DIRSPEC,X_WILCARD,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>>>   LOCAL ADIRECTORY := {}, NITEM := 0, X_RET_VAL := .T.
>>>   LOCAL NUM_ARGOMENTI := 0, CFILESTRING := ""
>>>   LOCAL WIN_SELEZ
>>>   LOCAL X_ELEM_SEL:=0
>>>   SAVE SCREEN TO WIN_SELEZ
>>>   X_DIRSPEC=IIF(VALTYPE(X_DIRSPEC)="C",X_DIRSPEC,"\"+CURDIR())
>>>   X_ALTO=IIF(VALTYPE(X_ALTO)="N",X_ALTO,5)
>>>   X_SINISTRA=IIF(VALTYPE(X_SINISTRA)="N",X_SINISTRA,5)
>>>   X_BASSO=IIF(VALTYPE(X_BASSO)="N",X_BASSO,22)
>>>   X_DESTRA=IIF(VALTYPE(X_DESTRA)="N",X_DESTRA,40)
>>>   DO WHILE .T.
>>>       @ X_BASSO+2,1 say "Press Enter add program to compile
>>> "+iif(len(filechoice)>0,"F5 compile and run  Left Modify  ","") +"Esc
>>> to Exit"
>>>      @ X_ALTO-1, X_SINISTRA -1  CLEAR to  X_BASSO +1, X_DESTRA +1
>>>       @ X_ALTO-1, X_SINISTRA -1  to  X_BASSO +1, X_DESTRA +1
>>>      X_DIRECTORY=X_DIRSPEC+"\*.*"
>>>      // carica una file list con le informazioni della directory
>>>      ADIRECTORY := DIRECTORY( x_directory, "D" )
>>>      NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>>>      aFileList := {}                  // Cancella la vecchia lista
>>>      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
>>> // ORDINO LA DIRECTORY
>>>      // X[F_NAME],"B"+X[F_NAME]) <
>>> IIF(Y[F_ATTR]="D","A"+Y[F_NAME],"B"+Y[F_NAME]) } )
>>>      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>>>      FOR NITEM := 1 TO NUM_ARGOMENTI
>>>         IF ADIRECTORY[NITEM,F_ATTR ]=="D"
>>>            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>>>                   "   <dir>"+ "  " + ;
>>>                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
>>>                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
>>>                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
>>>            ENDIF
>>>      NEXT
>>>      X_DIRECTORY=X_DIRSPEC+"\"+X_WILCARD
>>>     ADIRECTORY := DIRECTORY( x_directory, "D" )
>>>     NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>>>      ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
>>>      // COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>>>      FOR NITEM := 1 TO NUM_ARGOMENTI
>>>         IF ADIRECTORY[NITEM,F_ATTR ]<>"D"
>>>            AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>>>                   STR( aDirectory[ nItem, F_SIZE ], 8 )+ "  " + ;
>>>                   DTOC( aDirectory[ nItem, F_DATE ] ) + "  " + ;
>>>                   SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + "  " + ;
>>>                   SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + "  " )
>>>         ENDIF
>>>      NEXT
>>>        X_ELEM_SEL=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,AFILELIST,.T.,,X_ELEM_SEL)
>>>      IF X_ELEM_SEL=0
>>>         X_RET_VAL=""
>>>         EXIT
>>>      ENDIF
>>>      X_FILE_SEL=AFILELIST[X_ELEM_SEL]
>>>      IF SUBSTR(X_FILE_SEL,16,8)<>"   <dir>"
>>>         X_RET_VAL=SUBSTR(X_FILE_SEL,1,15)
>>>         EXIT
>>>         ELSE
>>>         IF SUBSTR(X_FILE_SEL,1,1)="."   && SALGO DI UNA DIRECTORY
>>>            X_DIRSPEC=SUBSTR(X_DIRSPEC,1,RAT("\",X_DIRSPEC)-1)
>>>            ELSE
>>>            X_DIRSPEC=X_DIRSPEC+"\"+ALLTRIM(SUBSTR(X_FILE_SEL,1,15))
>>>         ENDIF
>>>      ENDIF
>>>   ENDDO
>>>   RESTORE SCREEN FROM WIN_SELEZ
>>>   RETURN(X_RET_VAL)
>>>
>>> FUNCTION CREA_XMATE(filechoice)
>>>   local a_xmate:={},A
>>>   LOCAL X_LOG,X_MATE
>>>   AADD(A_XMATE,"[Version]")
>>>   AADD(A_XMATE,"Type=xMate")
>>>   AADD(A_XMATE,"Number=1.15")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Info]")
>>>   AADD(A_XMATE,"Type=Executable")
>>>   AADD(A_XMATE,"Architecture=harbour")
>>>   AADD(A_XMATE,"Include=")
>>>   AADD(A_XMATE,"Define=")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[xMate]")
>>>   AADD(A_XMATE,"Create Map/List File=No")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Project]")
>>>   AADD(A_XMATE,"Run=")
>>>   AADD(A_XMATE,"Params=")
>>>   AADD(A_XMATE,"Final Path=%HOME%")
>>>   AADD(A_XMATE,"Maintain LNK=Yes")
>>>   AADD(A_XMATE,"Default Type=1")
>>>   AADD(A_XMATE,"Error log=")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Data Path]")
>>>   AADD(A_XMATE,"Dbf=")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Editor]")
>>>   FOR A=1 TO LEN(FILECHOICE)
>>>      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",N,N")
>>>   NEXT
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"")
>>>   AADD(A_XMATE,"[Files]")
>>>   FOR A=1 TO LEN(FILECHOICE)
>>>      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",.F.,0,0,")
>>>   NEXT
>>>   xprjmate=aLltrim(filechoice[1])
>>>   xprjmate=substr(XPRJMATE,1,len(xPRJmate)-4) +".xhp"
>>>   if .not. file(XPRJMATE)
>>>      X_LOG=FCREATE(XPRJMATE)
>>>      FOR a=1 to len(A_XMATE)
>>>         FWRITE(X_LOG,A_XMATE[a]+CHR(13)+CHR(10))
>>>      NEXT
>>>
>>>      FCLOSE(X_LOG)
>>>   ENDIF
>>> *  returm
>>>
>>>  */
>>>
>>>
>>>
>>> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>> I have still one suggestion
>>>>> Having a simple interactive mode
>>>>> launching hbmk without parameter see a list of prg,hbp,c,rc
>>>>> select with space one or more and press button compile
>>>>> Simple and easy but will be a bridge between people command line
>>>>> driven and gui driven
>>>>
>>>> Nope sorry, I've meant this is a pure command line tool.
>>>> In fact all our supplied tools are command line only, and
>>>> this shouldn't be an exception.
>>>> If you want CUI/GUI, a wrapper program is the best solution. This
>>>> could simply create a hbmk command line after presenting
>>>> all the options on the screen for the user and either launch it
>>>> or save it as .hbm (similar to hbmake). Can be independently
>>>> developed from hbmk, and if it's good and portable (which now
>>>> means CUI), we can also include it as part of the Harbour package.
>>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Vailton Renato
>> SQL LIB, MyMake & xDev Developer
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From druzus at acn.waw.pl  Mon Feb 23 07:37:00 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 23 07:31:42 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <609353e70902230150s172d0062p44d45448ecd0f128@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
	<609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
	<609353e70902230150s172d0062p44d45448ecd0f128@mail.gmail.com>
Message-ID: <20090223123700.GB12394@uran.home.aster.pl>

On Mon, 23 Feb 2009, Massimo Belgrano wrote:

Hi,

> Follow prev
> Multithreading as the ability to execute code in different code paths
> is a feature of modern OS sinces decades. The problem with MT is that
> it adds another dimension of complexity to the developers task. While
> with single threaded apps. the developer needs only to think in a more
> or less sequential way with MT each execution path adds a new
> dimentions to the equation of programm complexity. Development
> languages supporting MT such as Delphi, .NET (C#,VB) or Harbour and
> xHarbour support MT thats correct, but they do not remove the burden
> of correctness from the programmer. It is in the sole responsibility
> of the programmer to ensure programm correctness in two different
> areas; data-consistency and algorithm isolation.

I agree,

> The problem of data consistency occurs as soon as more than one thread
> is accessing the same data - such as a simple string or an array.
> Besides nuances in terms of single or multiple readers/writers the
> consistency of the data must be ensured, so developers are forced to
> use mutex-semaphores or other higher level concepts such monitors,
> guards... to ensure data-consistency.

Yes, usually they are though different languages gives some additional
protection mechanisms here so not always is necessary to use user level
synchronization.

> Algorithm isolation is somewhat related to data-consistency, it
> becomes obvious that a linked-list accessed from multiple threads must
> be protected otherwise dangling pointer occurs. But what about a
> table/relation of a database. The problem here is that concurrency
> inside the process can be resolved - but this type of "isolation" does
> break the semantics of the isolation principles which are already
> provided by the underlying dbms (sql-isolation-levels, record or file
> locks, transactions). Therefore algorithm isolation/correctness is a
> complete different beast as it is located at a very high semantic
> level of the task.

yes, it is.


> Alaska Software has put an enormous amount of research efforts into
> that area and we have more than a decade of practical experience with
> that area based on real world customers and real world applications.
> >From that point of view I would like to reiterate my initial statement
> "As of today there is still no tool available in the market which
> provides that clean and easy to use way of multithreading".

I was not making such "enormous amount of research efforts" ;-)
Just simply looked at good balance between performance, basic
protection and flexibility for programmers.

> Lets start with xHarbour, its MT implementation is not well thought,
> as it provides MT features to the programmer without any model, just
> the features. xHarbour even allows the usage of a workarea from
> different threads which is a violation of fundamental dbms isolation
> principles. In fact xHarbour ist just a system language in the sense
> of MT and makes life not really easier compared with other system
> languages. Therefore there is no value in besides being able to do MT.
> Also keep in mind due to the historical burden of the VM and RT core
> the MT feature is implemented in a way making it impossible to scale
> in future multi-core scenarios (see later-note).

I agree. Giving the unprotected access to workareas is asking for a
troubles. It can create very serious problems (f.e. data corruption
in tables) and gives nothing for programmers because they have to use
own protection mechanisms to access the tables so final application
have to be reduced to the same level as using dbRequest()/dbRelease()
to lock/unlock the table. The difference is only that in such model
programmer has to implement everything itself.

> Harbour is better here because if follows more the principles of
> Xbase++, while I am not sure if the Harbour people have decided to
> adapt the Xbase++ model for compatibility reasons or not I am glad to
> see that they followed our models point of view. The issues with
> Harbour however is that it suffers from the shortcoming of its runtime
> in general, the VM design and of course the way how datatypes - the
> blood of a language - are handled. It is still in a 1980 architectual
> style centered around the original concept how Clipper did it. This is
> also true for xHarbour, so both suffer from the fact that MT was added
> I think in 2007, while the VM and RT core is from 1999 - without
> having MT in mind.

Here I can agree only partially.
1-st Harbour does not follow xbase++ model. With the exception to
xbase++ emulation level (xbase++ sync and thread classes, thread
functions and sync methods) the whole code is the result of my own
ideas. The only one idea I partially borrowed is dbRequest()/dbRelase()
semantic. Personally I wanted to introduce many workarea holders
(not only single zero area zone) and dbDetach()/dbAttach() functions.
Later I heard about xbase++ implementation and I've found the cargo
codeblock attaching as very nice feature so I implemented it but
internally it operates on workarea sets from my original idea and
still it's possible to introduce support for multiple WA zones if
we decide to add .prg level API for it. In some cases it maybe usable.
Also the internal WA isolation in native RDDs is different. For POSIX
systems it's necessary to introduce file handle sharing and this
mechanism is already used so now we can easy extended it adding support
for pseudo exclusive mode (other threads will be able to access tables
open in exclusive mode which is exclusive only for external programs)
or add common to aliased WA caches.
Of course Harbour supports also other xbase++ extensions but they were
added rather for compatibility with xbase++ on xbase++ users and internally
use basic Harbour MT API.

2-nd this old API from 1980 is a real problem in some places and probably
will be good to change it. But I also do not find the xbase++ API
as the only one final solution. Harbour gives full protection for read
access to complex items. User have to protect only write access
and only if he will want to change exactly the same item not
complex item member, f.e. this code:
   aVal[ threadID() ] += aVal[ threadID() ] * 2 + 100
is MT safe in Harbour even if the same aVal is used by many different
threads. Important is the fact that each thread operates on different
aVal items and aVal is not resized. Otherwise it may cause data corruption.
But when complex items can be resized the we usually need additional
protection also in xbase++ because user code makes many operations which
have to be atomic in some logical sense so in most of cases there is
only one difference here between Harbour and xbase++: in xbase++ with
full internal protection and missing user protection RT error is generated.
In Harbour it may cause internal data corruption. I agree here that it's
very important difference but in mouse of such cases we are talking about
wrong user code which needs additional user protection in both languages.
And here we have one fundamental question:
   What is the cost of internal protection for scalability?
and if we can or cannot accept it. My personal feeling is that the cost
will be high, even very high but I haven't made any tests myself though
some xbase++ users confirmed that it's a problem in xbase++.
I'm really interested in some scalability tests of xbase++ and Harbour.
It could give few very important answers. If some xbase++ user can port
tests/speedtst.prg to xbase++ then it will be very helpful.

Of course it's possible that I missed something here but I've never used
xbase++ and I cannot see its source code so I only guess how some things
are implemented in this language.

> This is in fact one of the biggest differences between Xbase++ and the
> "Harbours" from a pure architectual point of view, we designed a
> runtime architecture from the beginning to be MT/MP and Distributed,
> they designed a runtime based on the DOS Clipper blueprint.
> In fact, I could argue on and on, specifically it it comes to
> dedicated implementations of the Harbour runtime core or the Harbour
> VM but sharing these type of technical details is of course
> definitively not what I am paid for -;) Anyway allow me to make it
> clear in a general terms.

See above. It's not such clear as you said.
I think that you will find users which can say that the cost of
scalability is definitively not what they be paid for. Especially
when the missing user protection is also problem for xbase++ and
the bad results are only different. For sure RT error is much better
then internal data corruption but how much users can paid for such
functionality.

> First, any feature/functionality of Xbase++ is reentrant there is not
> a single exception of this rule. Second, any datatype and storage type
> is thread-safe regardless of its complexity so there is no way to
> crash an Xbase++ process using multithreading. Third, the runtime
> guarantees that there is no possibility of a deadlock in terms of its
> internal state regardless what you are doing in different threads.
> There is a clean isolation and inheritance relationship of settings
> between different threads. In practical terms that means, you can
> output to the console from different threads without any additional
> code, you can execute methods or access state of GUI (XbasePARTS)
> objects from different threads, you can create a codeblock which
> detaches a local variable and pass it to another thread, you are
> performing file I/O or executing a remote procedure call and in the
> meanwhile the async. garbagge collector cleans up your memory - and
> the list goes on... But in Xbase++ you can do all that without the
> need to think about MT or ask a question such as "Is the ASort()
> function thread safe" or can I change the caption of a GUI control
> from another thread. Thats all a given, no restrictions apply, the
> runtime does it all automatically for you.

Most of the above is also true in Harbour with the exception to
missing GUI components and obligatory internal item storage protection.
But it's the subject of efficiency discussed above.
Let's make some scalability tests and we can decide if we want to pay
the same cost of xbase++ users.

> Anyway, I like Harbour more than xHarbour in terms of MT support.
> However the crux is still there, no real architecture around the
> product, leading to the fact that MT is supported form a technical
> point of view but not from a 4GL therefore leading to a potential of
> unnecessary burden for the average programmers, and of course that was
> and is still not the idea of Clipper as a tool.

The only one fundamental difference between Harbour and xbase++ in the
above is obligatory internal items protection. At least visible for me
now and as I said the cost of such functionality may not be acceptable
for users. But let's make some real tests to see how big problem it
creates in real life.

> Btw, the same is true for VO or so, they left the idea of the language
> and moved to something more like a system -language, while I can
> understand that somewhat I strongly disagree with that type of
> language design for a simple reasons; its not practical in the long
> term - we will see that in the following years as more and more multi
> core system will find their way in the mainstream and developers need
> to make use of them for performance and scaleability reasons. In 10 -
> 15 years from now we will have 100 if not thousands cores per die -
> handling multithreading , synchronisation issues by hand becomes then
> impossible, the same is true for offloading tasks for performance
> reasons. So there is a need for a clean model in terms of the language
> - thats at least into what we believe at Alaska Software. It goes even
> further, the current attempty by MS in terms of multicore support with
> VS2010 or NET 4.0 are IMO absolutely wrong, as they force the
> developer to write code depending on the underlaying execution
> infrastructure alias cores available. In other words, infrastructure
> related code/algorithms get mixed with the original algorithm the
> developers writes and of course the developer gets payed for. Thats a
> catastrophic path which for sure does not contribute to increased
> productivity and reliability of software solutions.

I agree with you only partially. Over some reasonable cost limit
the MT programing stops to be usable and is much more efficient,
safer and easier to use separated processes. The cost of data
exchanging between them will be simply smaller the cost of internal
obligatory MT synchronization. So why to use MT mode? For marketing
reasons?

> Funnily enough, the most critical, and most difficult aspect in that
> area; getting performance gains from multi core usage is even not
> touched with my technical arguments right now. However it adds another
> dimension of complexity to the previous equation as it needs to take
> into account the memory hierarchy which must be handled by a 4GL
> runtime totally different as it is with the simple approach of
> Harbour/xHarbour. Their RT core and VM needs a more or less complete
> rewrite and redesign to go that path.

I do not see bigger problems with Harbour core code modifications.
If we decide that it's worth then I'll implement it.
Probably the real problem will be forcing different API to 3-rd party
developers. Here we probably should chose something close to xbase++
C API to not introduce additional problems for 3-rd party developers
which have to create code for both projects to have some basic
compatibility f.e. at C preprocessor level.
Anyhow I'm still not sure I want to pay for the cost of full item
access serialization.

> In other words, Xbase++ is playing in the Multithreading ballpark
> since a decade. Harbour is still finding its way into the MT ballpark
> while xHarbour is in that context at a dead-end.
> I would bet that Xbase++ will play in the multicore ballpack while the
> Harbours are still with their MT stuff.

And it's highly possible that it will happen. But Harbour is free
project and if we decide that adding full item protection with the
cost of speed is valuable feature then maybe we implement it.
It's also possible that we add such functionality as alternative VM
library. Just like now we have hbvm and hbvmmt we will have hbvmpmt
(protected mt).

> In a more theoretical sense, it is important to understand that a
> programming language and its infrastructure shall not adapt any
> technical feature, requirement or hype. Because then the language and
> infrastucture are getting more and more complicated up to an point of
> lost control. Also backward compatibility and therefore protection of
> existing investments becomes more and more a mess with Q&A costs going
> through the roof.

_FULLY_AGREE_. Things should be as simple as possible. Any hacks or
workarounds for single features in longer terms create serious problems
and blocks farther developing.
For me it was the main of xHarbour problem when I was working on this
project.

> Nor is it a good idea to provide software developers any freedom - the
> point here is, a good MT modell does smoothly guide the developer
> through the hurdels and most of the time is even not in the awareness
> of the developer. The contrary is providing the developer all freedom,
> but this leads to letting him first build the gun-powder, then the gun
> to finally shoot a bullet -;)

:-)

> Therefore let me rephrase my initial statement to be more specific;
> 
> As of today there is still no tool available in the market which
> provides that clean and easy to use way of multithreading, however
> there are other tools which support MT - but they support it just as
> an technical feature without a modell and thats simple wrong as it
> leads to additional dimensions in code complexity - finally ending in
> applications with lesser reliability and overall quality.
> Just my point of view on that subject - enough said

Thank you very much for this very interesting text.
I hope that now the main internal difference between Harbour and xbase++
is well visible for users.
To the above we should add yet tests/speedtst.prg results to compare
scalability so we will know the real cost which is important part of
the above description.
I'm very interesting in real life results and I hope that some xbase++
users will port tests/speedtst.prg to xbase++ so we can compare the
results.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb 23 08:03:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 08:03:42 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <20090223123700.GB12394@uran.home.aster.pl>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
	<609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
	<609353e70902230150s172d0062p44d45448ecd0f128@mail.gmail.com>
	<20090223123700.GB12394@uran.home.aster.pl>
Message-ID: <18d502870902230503k34a3abf3h525a26536a3b0cf9@mail.gmail.com>

Hi Przemek,

Thanks for this thoughtful conversation.
Just a few things that sprang to my mind regarding current MT
issues in Harbour while reading both Steffen's and your text:

- hbct windowing has the current window as an app global
  data. This makes it difficult (or even impossible?) to
  start a new thread which operates in its own windows,
  as the threads are stealing focus from each other.
  (main app thread focus changes are difficult to protect
  by mutexes)
- hbct has other .c parts which are non-MT safe.
- Moving static to "thread static" on the .c level can be
  a need for other 3rd party code.

This leads to one of the NOTEs I've made in ChangeLog:
Should Harbour have a way to attach custom information
to a thread? This may give the path to solve some of these
problems, so it seems to me at least.

[ Maybe I'm banging open doors and the support is there,
but couldn't find it, yet. ]

Brgds,
Viktor

On Mon, Feb 23, 2009 at 1:37 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Mon, 23 Feb 2009, Massimo Belgrano wrote:
>
> Hi,
>
> > Follow prev
> > Multithreading as the ability to execute code in different code paths
> > is a feature of modern OS sinces decades. The problem with MT is that
> > it adds another dimension of complexity to the developers task. While
> > with single threaded apps. the developer needs only to think in a more
> > or less sequential way with MT each execution path adds a new
> > dimentions to the equation of programm complexity. Development
> > languages supporting MT such as Delphi, .NET (C#,VB) or Harbour and
> > xHarbour support MT thats correct, but they do not remove the burden
> > of correctness from the programmer. It is in the sole responsibility
> > of the programmer to ensure programm correctness in two different
> > areas; data-consistency and algorithm isolation.
>
> I agree,
>
> > The problem of data consistency occurs as soon as more than one thread
> > is accessing the same data - such as a simple string or an array.
> > Besides nuances in terms of single or multiple readers/writers the
> > consistency of the data must be ensured, so developers are forced to
> > use mutex-semaphores or other higher level concepts such monitors,
> > guards... to ensure data-consistency.
>
> Yes, usually they are though different languages gives some additional
> protection mechanisms here so not always is necessary to use user level
> synchronization.
>
> > Algorithm isolation is somewhat related to data-consistency, it
> > becomes obvious that a linked-list accessed from multiple threads must
> > be protected otherwise dangling pointer occurs. But what about a
> > table/relation of a database. The problem here is that concurrency
> > inside the process can be resolved - but this type of "isolation" does
> > break the semantics of the isolation principles which are already
> > provided by the underlying dbms (sql-isolation-levels, record or file
> > locks, transactions). Therefore algorithm isolation/correctness is a
> > complete different beast as it is located at a very high semantic
> > level of the task.
>
> yes, it is.
>
>
> > Alaska Software has put an enormous amount of research efforts into
> > that area and we have more than a decade of practical experience with
> > that area based on real world customers and real world applications.
> > >From that point of view I would like to reiterate my initial statement
> > "As of today there is still no tool available in the market which
> > provides that clean and easy to use way of multithreading".
>
> I was not making such "enormous amount of research efforts" ;-)
> Just simply looked at good balance between performance, basic
> protection and flexibility for programmers.
>
> > Lets start with xHarbour, its MT implementation is not well thought,
> > as it provides MT features to the programmer without any model, just
> > the features. xHarbour even allows the usage of a workarea from
> > different threads which is a violation of fundamental dbms isolation
> > principles. In fact xHarbour ist just a system language in the sense
> > of MT and makes life not really easier compared with other system
> > languages. Therefore there is no value in besides being able to do MT.
> > Also keep in mind due to the historical burden of the VM and RT core
> > the MT feature is implemented in a way making it impossible to scale
> > in future multi-core scenarios (see later-note).
>
> I agree. Giving the unprotected access to workareas is asking for a
> troubles. It can create very serious problems (f.e. data corruption
> in tables) and gives nothing for programmers because they have to use
> own protection mechanisms to access the tables so final application
> have to be reduced to the same level as using dbRequest()/dbRelease()
> to lock/unlock the table. The difference is only that in such model
> programmer has to implement everything itself.
>
> > Harbour is better here because if follows more the principles of
> > Xbase++, while I am not sure if the Harbour people have decided to
> > adapt the Xbase++ model for compatibility reasons or not I am glad to
> > see that they followed our models point of view. The issues with
> > Harbour however is that it suffers from the shortcoming of its runtime
> > in general, the VM design and of course the way how datatypes - the
> > blood of a language - are handled. It is still in a 1980 architectual
> > style centered around the original concept how Clipper did it. This is
> > also true for xHarbour, so both suffer from the fact that MT was added
> > I think in 2007, while the VM and RT core is from 1999 - without
> > having MT in mind.
>
> Here I can agree only partially.
> 1-st Harbour does not follow xbase++ model. With the exception to
> xbase++ emulation level (xbase++ sync and thread classes, thread
> functions and sync methods) the whole code is the result of my own
> ideas. The only one idea I partially borrowed is dbRequest()/dbRelase()
> semantic. Personally I wanted to introduce many workarea holders
> (not only single zero area zone) and dbDetach()/dbAttach() functions.
> Later I heard about xbase++ implementation and I've found the cargo
> codeblock attaching as very nice feature so I implemented it but
> internally it operates on workarea sets from my original idea and
> still it's possible to introduce support for multiple WA zones if
> we decide to add .prg level API for it. In some cases it maybe usable.
> Also the internal WA isolation in native RDDs is different. For POSIX
> systems it's necessary to introduce file handle sharing and this
> mechanism is already used so now we can easy extended it adding support
> for pseudo exclusive mode (other threads will be able to access tables
> open in exclusive mode which is exclusive only for external programs)
> or add common to aliased WA caches.
> Of course Harbour supports also other xbase++ extensions but they were
> added rather for compatibility with xbase++ on xbase++ users and internally
> use basic Harbour MT API.
>
> 2-nd this old API from 1980 is a real problem in some places and probably
> will be good to change it. But I also do not find the xbase++ API
> as the only one final solution. Harbour gives full protection for read
> access to complex items. User have to protect only write access
> and only if he will want to change exactly the same item not
> complex item member, f.e. this code:
>   aVal[ threadID() ] += aVal[ threadID() ] * 2 + 100
> is MT safe in Harbour even if the same aVal is used by many different
> threads. Important is the fact that each thread operates on different
> aVal items and aVal is not resized. Otherwise it may cause data corruption.
> But when complex items can be resized the we usually need additional
> protection also in xbase++ because user code makes many operations which
> have to be atomic in some logical sense so in most of cases there is
> only one difference here between Harbour and xbase++: in xbase++ with
> full internal protection and missing user protection RT error is generated.
> In Harbour it may cause internal data corruption. I agree here that it's
> very important difference but in mouse of such cases we are talking about
> wrong user code which needs additional user protection in both languages.
> And here we have one fundamental question:
>   What is the cost of internal protection for scalability?
> and if we can or cannot accept it. My personal feeling is that the cost
> will be high, even very high but I haven't made any tests myself though
> some xbase++ users confirmed that it's a problem in xbase++.
> I'm really interested in some scalability tests of xbase++ and Harbour.
> It could give few very important answers. If some xbase++ user can port
> tests/speedtst.prg to xbase++ then it will be very helpful.
>
> Of course it's possible that I missed something here but I've never used
> xbase++ and I cannot see its source code so I only guess how some things
> are implemented in this language.
>
> > This is in fact one of the biggest differences between Xbase++ and the
> > "Harbours" from a pure architectual point of view, we designed a
> > runtime architecture from the beginning to be MT/MP and Distributed,
> > they designed a runtime based on the DOS Clipper blueprint.
> > In fact, I could argue on and on, specifically it it comes to
> > dedicated implementations of the Harbour runtime core or the Harbour
> > VM but sharing these type of technical details is of course
> > definitively not what I am paid for -;) Anyway allow me to make it
> > clear in a general terms.
>
> See above. It's not such clear as you said.
> I think that you will find users which can say that the cost of
> scalability is definitively not what they be paid for. Especially
> when the missing user protection is also problem for xbase++ and
> the bad results are only different. For sure RT error is much better
> then internal data corruption but how much users can paid for such
> functionality.
>
> > First, any feature/functionality of Xbase++ is reentrant there is not
> > a single exception of this rule. Second, any datatype and storage type
> > is thread-safe regardless of its complexity so there is no way to
> > crash an Xbase++ process using multithreading. Third, the runtime
> > guarantees that there is no possibility of a deadlock in terms of its
> > internal state regardless what you are doing in different threads.
> > There is a clean isolation and inheritance relationship of settings
> > between different threads. In practical terms that means, you can
> > output to the console from different threads without any additional
> > code, you can execute methods or access state of GUI (XbasePARTS)
> > objects from different threads, you can create a codeblock which
> > detaches a local variable and pass it to another thread, you are
> > performing file I/O or executing a remote procedure call and in the
> > meanwhile the async. garbagge collector cleans up your memory - and
> > the list goes on... But in Xbase++ you can do all that without the
> > need to think about MT or ask a question such as "Is the ASort()
> > function thread safe" or can I change the caption of a GUI control
> > from another thread. Thats all a given, no restrictions apply, the
> > runtime does it all automatically for you.
>
> Most of the above is also true in Harbour with the exception to
> missing GUI components and obligatory internal item storage protection.
> But it's the subject of efficiency discussed above.
> Let's make some scalability tests and we can decide if we want to pay
> the same cost of xbase++ users.
>
> > Anyway, I like Harbour more than xHarbour in terms of MT support.
> > However the crux is still there, no real architecture around the
> > product, leading to the fact that MT is supported form a technical
> > point of view but not from a 4GL therefore leading to a potential of
> > unnecessary burden for the average programmers, and of course that was
> > and is still not the idea of Clipper as a tool.
>
> The only one fundamental difference between Harbour and xbase++ in the
> above is obligatory internal items protection. At least visible for me
> now and as I said the cost of such functionality may not be acceptable
> for users. But let's make some real tests to see how big problem it
> creates in real life.
>
> > Btw, the same is true for VO or so, they left the idea of the language
> > and moved to something more like a system -language, while I can
> > understand that somewhat I strongly disagree with that type of
> > language design for a simple reasons; its not practical in the long
> > term - we will see that in the following years as more and more multi
> > core system will find their way in the mainstream and developers need
> > to make use of them for performance and scaleability reasons. In 10 -
> > 15 years from now we will have 100 if not thousands cores per die -
> > handling multithreading , synchronisation issues by hand becomes then
> > impossible, the same is true for offloading tasks for performance
> > reasons. So there is a need for a clean model in terms of the language
> > - thats at least into what we believe at Alaska Software. It goes even
> > further, the current attempty by MS in terms of multicore support with
> > VS2010 or NET 4.0 are IMO absolutely wrong, as they force the
> > developer to write code depending on the underlaying execution
> > infrastructure alias cores available. In other words, infrastructure
> > related code/algorithms get mixed with the original algorithm the
> > developers writes and of course the developer gets payed for. Thats a
> > catastrophic path which for sure does not contribute to increased
> > productivity and reliability of software solutions.
>
> I agree with you only partially. Over some reasonable cost limit
> the MT programing stops to be usable and is much more efficient,
> safer and easier to use separated processes. The cost of data
> exchanging between them will be simply smaller the cost of internal
> obligatory MT synchronization. So why to use MT mode? For marketing
> reasons?
>
> > Funnily enough, the most critical, and most difficult aspect in that
> > area; getting performance gains from multi core usage is even not
> > touched with my technical arguments right now. However it adds another
> > dimension of complexity to the previous equation as it needs to take
> > into account the memory hierarchy which must be handled by a 4GL
> > runtime totally different as it is with the simple approach of
> > Harbour/xHarbour. Their RT core and VM needs a more or less complete
> > rewrite and redesign to go that path.
>
> I do not see bigger problems with Harbour core code modifications.
> If we decide that it's worth then I'll implement it.
> Probably the real problem will be forcing different API to 3-rd party
> developers. Here we probably should chose something close to xbase++
> C API to not introduce additional problems for 3-rd party developers
> which have to create code for both projects to have some basic
> compatibility f.e. at C preprocessor level.
> Anyhow I'm still not sure I want to pay for the cost of full item
> access serialization.
>
> > In other words, Xbase++ is playing in the Multithreading ballpark
> > since a decade. Harbour is still finding its way into the MT ballpark
> > while xHarbour is in that context at a dead-end.
> > I would bet that Xbase++ will play in the multicore ballpack while the
> > Harbours are still with their MT stuff.
>
> And it's highly possible that it will happen. But Harbour is free
> project and if we decide that adding full item protection with the
> cost of speed is valuable feature then maybe we implement it.
> It's also possible that we add such functionality as alternative VM
> library. Just like now we have hbvm and hbvmmt we will have hbvmpmt
> (protected mt).
>
> > In a more theoretical sense, it is important to understand that a
> > programming language and its infrastructure shall not adapt any
> > technical feature, requirement or hype. Because then the language and
> > infrastucture are getting more and more complicated up to an point of
> > lost control. Also backward compatibility and therefore protection of
> > existing investments becomes more and more a mess with Q&A costs going
> > through the roof.
>
> _FULLY_AGREE_. Things should be as simple as possible. Any hacks or
> workarounds for single features in longer terms create serious problems
> and blocks farther developing.
> For me it was the main of xHarbour problem when I was working on this
> project.
>
> > Nor is it a good idea to provide software developers any freedom - the
> > point here is, a good MT modell does smoothly guide the developer
> > through the hurdels and most of the time is even not in the awareness
> > of the developer. The contrary is providing the developer all freedom,
> > but this leads to letting him first build the gun-powder, then the gun
> > to finally shoot a bullet -;)
>
> :-)
>
> > Therefore let me rephrase my initial statement to be more specific;
> >
> > As of today there is still no tool available in the market which
> > provides that clean and easy to use way of multithreading, however
> > there are other tools which support MT - but they support it just as
> > an technical feature without a modell and thats simple wrong as it
> > leads to additional dimensions in code complexity - finally ending in
> > applications with lesser reliability and overall quality.
> > Just my point of view on that subject - enough said
>
> Thank you very much for this very interesting text.
> I hope that now the main internal difference between Harbour and xbase++
> is well visible for users.
> To the above we should add yet tests/speedtst.prg results to compare
> scalability so we will know the real cost which is important part of
> the above description.
> I'm very interesting in real life results and I hope that some xbase++
> users will port tests/speedtst.prg to xbase++ so we can compare the
> results.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/26ca7f10/attachment-0001.html
From druzus at acn.waw.pl  Mon Feb 23 08:27:08 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 23 08:21:50 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <18d502870902230503k34a3abf3h525a26536a3b0cf9@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
	<609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
	<609353e70902230150s172d0062p44d45448ecd0f128@mail.gmail.com>
	<20090223123700.GB12394@uran.home.aster.pl>
	<18d502870902230503k34a3abf3h525a26536a3b0cf9@mail.gmail.com>
Message-ID: <20090223132708.GA18040@uran.home.aster.pl>

On Mon, 23 Feb 2009, Szak?ts Viktor wrote:

Hi.

> Thanks for this thoughtful conversation.
> Just a few things that sprang to my mind regarding current MT
> issues in Harbour while reading both Steffen's and your text:
> - hbct windowing has the current window as an app global
>   data. This makes it difficult (or even impossible?) to
>   start a new thread which operates in its own windows,
>   as the threads are stealing focus from each other.
>   (main app thread focus changes are difficult to protect
>   by mutexes)
> - hbct has other .c parts which are non-MT safe.

Yes, some for contrib code should be fixed. I cleaned only core
code and some elements of contrib code which I needed for my
own use. The thread local CTWIN current windows setting is
on my TODO list and I'll make it ASAP. I'll also clean the
files.c code I guess you are thinking about and document
the existing method close open directory handle or add new
one.

> - Moving static to "thread static" on the .c level can be
>   a need for other 3rd party code.

We already have it (TSD) and it's used in RTL code though
maybe I should think about a little bit different API though
static initialization which greatly simplify the user code
reduces my possibilities.

> This leads to one of the NOTEs I've made in ChangeLog:
> Should Harbour have a way to attach custom information
> to a thread? This may give the path to solve some of these
> problems, so it seems to me at least.
> [ Maybe I'm banging open doors and the support is there,
> but couldn't find it, yet. ]

See how TSD is used in some RTL functions.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Mon Feb 23 08:30:53 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Feb 23 08:30:57 2009
Subject: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
References: <20090220122003.GA25783@uran.home.aster.pl><0C5656E5F2BB4086AF14E24EAF46CD88@emag><499F32B8.6020409@fsgiudice.com>	<20090222111801.GD20173@uran.home.aster.pl><0B2F1304566840EE97023D287A4CC1D8@emag>	<49A15BCF.7090207@fsgiudice.com><D0E414757366408480146B464C2748AD@emag>	<49A1619D.1010305@fsgiudice.com><C14BB531D71B44C598B0D5E34A29E71B@emag><49A170BD.1050708@fsgiudice.com>	<6A5C9BCC2F374357AC0BDA8F93A3B28C@emag><4F5F8AFE09154726B48F4D5F1E24B48D@emag><49A18470.5020505@fsgiudice.com>	<B9822758E8B84B89824C76E7B4122E6D@emag><BCD405BD892540FF8544063DF7934F60@emag>
	<49A1E3A2.50900@fsgiudice.com>
Message-ID: <9EAFBEFFCACB4EB983554E093261945F@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 23 febbraio 2009 0.45
Oggetto: Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1


> in this case the problem is that in TGet the command
>    ASSIGN pos METHOD setPos( nPos )
> is translated to:
>    _HB_MEMBER _pos(); oClass:AddMethod( "_pos", @GET_setPos(), nScope + 
> iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
>
> so as you can see SetPos() is a pointer to static function GET_setPos() 
> that is local to tget.prg.
> Using override command you substitute the message and so lost pointer to 
> GET_SetPos().
> The only way is to replicate locally the function, otherwise it could be 
> necessary to add to classes a function that returns above pointer that can 
> be used locally.
>
> Hope to be clear.

Crystal clear, thank you. Unfortunately, replicate the function could mean 
update it on any changes. But it seems I have no other way out. :-(

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Mon Feb 23 08:40:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 08:41:03 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <20090223132708.GA18040@uran.home.aster.pl>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
	<609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
	<609353e70902230150s172d0062p44d45448ecd0f128@mail.gmail.com>
	<20090223123700.GB12394@uran.home.aster.pl>
	<18d502870902230503k34a3abf3h525a26536a3b0cf9@mail.gmail.com>
	<20090223132708.GA18040@uran.home.aster.pl>
Message-ID: <18d502870902230540k3e1bc573w83d572d35f291182@mail.gmail.com>

>
> > - hbct windowing has the current window as an app global
> >   data. This makes it difficult (or even impossible?) to
> >   start a new thread which operates in its own windows,
> >   as the threads are stealing focus from each other.
> >   (main app thread focus changes are difficult to protect
> >   by mutexes)
> > - hbct has other .c parts which are non-MT safe.
>
> Yes, some for contrib code should be fixed. I cleaned only core
> code and some elements of contrib code which I needed for my
> own use. The thread local CTWIN current windows setting is
> on my TODO list and I'll make it ASAP. I'll also clean the
> files.c code I guess you are thinking about and document
> the existing method close open directory handle or add new
> one.


Yes, a file find handle is closed only at app exit. On Windows
this locks the directory (not possible to remove it for example).

For most of these file functions we have now equivalents in
core, so they can be worked around easily.

CTWIN mod would be great, just take your time with it.


> > - Moving static to "thread static" on the .c level can be
> >   a need for other 3rd party code.
>
> We already have it (TSD) and it's used in RTL code though
> maybe I should think about a little bit different API though
> static initialization which greatly simplify the user code
> reduces my possibilities.


Okay, this was what I had in mind exactly. The API is IMO
perfectly good. Maybe some sort of named hash table could
make it simpler, but also heavier I guess. Anyhow even such
additional API can be built upon the current one.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/786de00d/attachment.html
From druzus at acn.waw.pl  Mon Feb 23 08:56:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 23 08:51:10 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <18d502870902230540k3e1bc573w83d572d35f291182@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
	<609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
	<609353e70902230150s172d0062p44d45448ecd0f128@mail.gmail.com>
	<20090223123700.GB12394@uran.home.aster.pl>
	<18d502870902230503k34a3abf3h525a26536a3b0cf9@mail.gmail.com>
	<20090223132708.GA18040@uran.home.aster.pl>
	<18d502870902230540k3e1bc573w83d572d35f291182@mail.gmail.com>
Message-ID: <20090223135629.GA9577@uran.home.aster.pl>

On Mon, 23 Feb 2009, Szak?ts Viktor wrote:

Hi,

> Yes, a file find handle is closed only at app exit. On Windows
> this locks the directory (not possible to remove it for example).

Not only. FILESEEK( NIL ) closes it. We can document it or
introduce new function.
The second is important functionality which can be used in DOS
based OS-es as some type of protection/synchronization mechanism.
For me the only one missing functionality is moving two static
variables to TSD.

> > > - Moving static to "thread static" on the .c level can be
> > >   a need for other 3rd party code.
> > We already have it (TSD) and it's used in RTL code though
> > maybe I should think about a little bit different API though
> > static initialization which greatly simplify the user code
> > reduces my possibilities.
> Okay, this was what I had in mind exactly. The API is IMO
> perfectly good. Maybe some sort of named hash table could
> make it simpler, but also heavier I guess. Anyhow even such
> additional API can be built upon the current one.

Yes, any potential extensions I wanted to introduce as wrappers
to existing code.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Feb 23 08:53:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 08:53:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10411] trunk/harbour
Message-ID: <E1LbbFf-0004T5-9Q@dn4whf1.ch3.sourceforge.com>

Revision: 10411
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10411&view=rev
Author:   vszakats
Date:     2009-02-23 13:53:42 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 14:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed bug which made gtwvt the default GT for mingw.
    ! Fixed to create final exe in current dir if no output
      filename was specified and the first input file
      contained a path.
    * Changed to use version-less harbour shared lib names
      on *nixes.
    ! Fixed to pass full path with harbour.so to gcc.
      (even when Harbour isn't run from a system location)
    ! Fixed compilation/linking/cleanup if an input file
      wasn't in current dir.
    * Temp stub file is now created in system default temp dir,
      instead of the current one.
    + Harbour shared lib path is normalized when Harbour
      is found on system locations. (so '*/bin/../lib/' becomes
      '*/lib')
    * Better I hope handling of .so/.dylib/.sl/.dll files passed
      on the command line.

  * bin/hb-mkdll.bat
    ! Fixed typo in Borland MT .dll name.
    ! Fixed to not include maindll.obj, maindllp.obj in
      Borland .dlls.
    * Minor formatting and cleanup on internal names.
    + Added checking for source lib existence, showing
      message if not found.
    + Better user feedback.

  * bin/postinst.bat
    + Added running hb_mkdll.bat at the end of the build
      process. For now users have to use 'set HB_DLL=yes'
      to enable this features. It's experimental yet,
      see previous comments.

  * source/vm/Makefile
    + Now generating hbmainstd and hbmainwin for remaining
      (non-mingw and non-mingwce) compilers. MSVC and BCC
      need this for -shared linkage, I'm not sure about the
      rest, anyhow we can disable it for other compilers
      if it isn't needed in future.

  * bin/hb-func.sh
    % Refined hbmkcfg.hbp setup to better detect conditions.

  * contrib/hbcurl/hbcurl.c
    ! Pacified this only one new gcc 4.3.3 warning.

  * config/win/gcc.cf
  * config/win/mingw.cf
    + Added -mtune=pentiumpro gcc optimization.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdll.bat
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/win/gcc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/contrib/hbcurl/hbcurl.c
    trunk/harbour/source/vm/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb 23 09:15:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 09:15:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10412] trunk/harbour
Message-ID: <E1LbbaL-0002Lg-5K@c3vjzd1.ch3.sourceforge.com>

Revision: 10412
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10412&view=rev
Author:   vszakats
Date:     2009-02-23 14:15:04 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 15:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.bat
    ! Protected command from pre-NT systems.

  * harbour-win-spec
  * harbour-wce-spec
  * harbour.spec
    + hbmkcfg.hbp added to distros (I hope to all of them).

  * ChangeLog
    * Updated statuses of a few pending items.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Mon Feb 23 10:19:38 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Feb 23 10:19:43 2009
Subject: [Harbour] Raport from build
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D9D5@PINK.zycie.pzu>

Date  - 2009-02-23, from naightly zip file. Compiler : owactom.

On screen :

c:\harbour>make_gnu.bat clean
c:\harbour>make_gnu.bat
make[3]: *** [wvgcore.obj] Error 8
make[2]: *** [descend] Error 2
make[1]: *** [gtwvg] Error 2
make: *** [contrib] Error 2


>From files :

c:\harbour\ChangeLog.
/*
 * $Id: ChangeLog 10409 2009-02-22 21:39:32Z vszakats $
 */

/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name (your_email address)
   For example:
   2009-12-31 13:59 UTC+0100 Foo Bar (foo.bar foobar.org)
*/
[...]


c:\harbour\make_gnu.log :
[...]
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to
type of cast
../../wvgcore.c(176): Note! N630: col(81) source conversion type is
'_GUID const *'
../../wvgcore.c(176): Note! N631: col(81) target conversion type is
'_GUID const (lvalue)'
../../wvgcore.c(213): Error! E306: col(90) cannot convert expression to
type of cast
../../wvgcore.c(213): Note! N630: col(90) source conversion type is
'_GUID const *'
../../wvgcore.c(213): Note! N631: col(90) target conversion type is
'_GUID const (lvalue)'
../../wvgcore.c(617): Error! E306: col(85) cannot convert expression to
type of cast
../../wvgcore.c(617): Note! N630: col(85) source conversion type is
'_GUID const *'
../../wvgcore.c(617): Note! N631: col(85) target conversion type is
'_GUID const (lvalue)'
make[3]: Leaving directory `c:/harbour/contrib/gtwvg/win/owatcom'
make[2]: Leaving directory `c:/harbour/contrib/gtwvg'
make[1]: Leaving directory `c:/harbour/contrib'

c:\harbour\contrib\gtwvg\win\owatcom\gtwvg.err:
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition
of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../../../include/hbset.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../gtwvg.h(84)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../gtwvg.c(87)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'

c:\harbour\contrib\gtwvg\win\owatcom\wvgcore.err:
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition
of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../../../include/hbset.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../gtwvg.h(84)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from
../../wvgcore.c(81)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
../../wvgcore.c(176): Error! E306: col(81) cannot convert expression to
type of cast
../../wvgcore.c(176): Note! N630: col(81) source conversion type is
'_GUID const *'
../../wvgcore.c(176): Note! N631: col(81) target conversion type is
'_GUID const (lvalue)'
../../wvgcore.c(213): Error! E306: col(90) cannot convert expression to
type of cast
../../wvgcore.c(213): Note! N630: col(90) source conversion type is
'_GUID const *'
../../wvgcore.c(213): Note! N631: col(90) target conversion type is
'_GUID const (lvalue)'
../../wvgcore.c(617): Error! E306: col(85) cannot convert expression to
type of cast
../../wvgcore.c(617): Note! N630: col(85) source conversion type is
'_GUID const *'
../../wvgcore.c(617): Note! N631: col(85) target conversion type is
'_GUID const (lvalue)'


Regards,
Marek Horodyski
From bedipritpal at hotmail.com  Mon Feb 23 10:21:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 23 10:21:20 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
Message-ID: <22163518.post@talk.nabble.com>


Hi Renato

Perhaps you have missed my name in the crew-list.
As you showed it visible, may be that page never got 
updated at the production folder.

Pritpal Bedi
a student of software analysis & design
pritpal@vouchcac.com
INDIA


-- 
View this message in context: http://www.nabble.com/Website-layout-updated%21-tp22026513p22163518.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Feb 23 10:43:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 10:43:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10413] trunk/harbour
Message-ID: <E1LbcxW-00041O-HT@74yxhf1.ch3.sourceforge.com>

Revision: 10413
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10413&view=rev
Author:   vszakats
Date:     2009-02-23 15:43:05 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 16:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdll.bat
    - Removed no longer relevant NOTE. BCC tlib can actually
      handle dots in pathname if put between quotes, which
      is how it is.

  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.h
    ! Applied former owatcom fix to GTWVG, too. Please retry,
      I didn't test it.
    ! Converted failing declarations to use HB_ID_REF().
    ! Applied more casting fixes shown by owatcom 1.8.

    ; Remaining errors and warnings posted on the list.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdll.bat
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 23 10:44:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 10:44:33 2009
Subject: [Harbour] Raport from build
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D9D5@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D9D5@PINK.zycie.pzu>
Message-ID: <18d502870902230744t146c934j42e928045dda6455@mail.gmail.com>

I've committed a few fixes.
This is the complete list of the remaining ones:
(probably wincallb.c should be removed, and wvgsink.c
fixed because it also contains errors.)

---
../../wvgwin.c(1628): Warning! W014: col(1) no reference to symbol
'tagTVINSERTSTRUCTA::hParent'
../../wvgwin.c(1605): Note! N392: col(16) definition: '_TREEITEM *
tagTVINSERTSTRUCTA::hParent' in 'void HB_FUN_WVG_TREEVIEW_ADDITEM( void )'
../../wvgwin.c(1628): Warning! W014: col(1) no reference to symbol
'tagTVINSERTSTRUCTA::hInsertAfter'
../../wvgwin.c(1606): Note! N392: col(16) definition: '_TREEITEM *
tagTVINSERTSTRUCTA::hInsertAfter' in 'void HB_FUN_WVG_TREEVIEW_ADDITEM( void
)'
../../wvgwin.c(1628): Warning! W014: col(1) no reference to symbol
'tagTVINSERTSTRUCTA::item'
../../wvgwin.c(1607): Note! N392: col(16) definition: 'tagTVITEMA
tagTVINSERTSTRUCTA::item' in 'void HB_FUN_WVG_TREEVIEW_ADDITEM( void )'
../../wvgwin.c(2929): Warning! W014: col(2) no reference to symbol
'WVG_WndProc_par'
../../wvgwin.c(2849): Note! N392: col(17) definition: 'void *
WVG_WndProc_par( int )'
../../wvgsink.c(234): Error! E384: col(60) attempt to override virtual
function 'IDispatch::GetTypeInfoCount' with a different return type
C:\devl\owatcom-1.8\H\NT\oaidl.h(691): Note! N392: col(33) definition: 'long
stdcall IDispatch::GetTypeInfoCount( unsigned * )'
../../wvgsink.c(235): Error! E384: col(73) attempt to override virtual
function 'IDispatch::GetTypeInfo' with a different return type
C:\devl\owatcom-1.8\H\NT\oaidl.h(692): Note! N392: col(28) definition: 'long
stdcall IDispatch::GetTypeInfo( unsigned, unsigned long, ITypeInfo * * )'
../../wvgsink.c(236): Error! E384: col(91) attempt to override virtual
function 'IDispatch::GetIDsOfNames' with a different return type
C:\devl\owatcom-1.8\H\NT\oaidl.h(693): Note! N392: col(30) definition: 'long
stdcall IDispatch::GetIDsOfNames( _GUID const &, wchar_t * *, unsigned,
unsigned long, long * )'
../../wvgsink.c(237): Error! E384: col(116) attempt to override virtual
function 'IDispatch::Invoke' with a different return type
C:\devl\owatcom-1.8\H\NT\oaidl.h(694): Note! N392: col(23) definition: 'long
stdcall IDispatch::Invoke( long, _GUID const &, unsigned long, unsigned
short, tagDISPPARAMS *, tagVARIANT *, tagEXCEPINFO *, unsigned * )'
../../wvgsink.c(287): Error! E121: col(65) syntax error
../../wvgsink.c(587): Error! E121: col(47) syntax error
../../wvgsink.c(593): Error! E715: col(21) member 'lpVtbl' has not been
declared in 'IEventHandler'
../../wvgsink.c(599): Error! E715: col(50) member 'lpVtbl' has not been
declared in 'IConnectionPointContainer'
../../wvgsink.c(604): Error! E715: col(50) member 'lpVtbl' has not been
declared in 'IEnumConnectionPoints'
../../wvgsink.c(607): Error! E715: col(48) member 'lpVtbl' has not been
declared in 'IConnectionPoint'
../../wvgsink.c(636): Error! E715: col(21) member 'lpVtbl' has not been
declared in 'IUnknown'
../../wvgsink.c(805): Error! E121: col(11) syntax error
../../wvgsink.c(829): Error! E121: col(46) syntax error
../../wvgsink.c(1423): Warning! W014: col(0) no reference to symbol
's_nOleError'
../../wvgsink.c(119): Note! N392: col(17) definition: 'long s_nOleError'
../../wvgsink.c(1423): Warning! W014: col(0) no reference to symbol
'hb_itemPushList'
../../wvgsink.c(189): Note! N392: col(13) definition: 'void hb_itemPushList(
unsigned long, unsigned long, _HB_ITEM * * * )'
../../wincallb.c(330): Error! E166: col(9) cannot convert right pointer to
type of left operand
../../wincallb.c(330): Note! N630: col(9) source conversion type is 'void *'
../../wincallb.c(330): Note! N631: col(9) target conversion type is
'unsigned char *'
../../wincallb.c(405): Error! E473: col(24) function argument(s) do not
match those in prototype
../../wincallb.c(405): Note! N392: col(24) definition: 'int FuncMemFree(
unsigned char * )'
../../wincallb.c(405): Note! N643: col(24) cannot convert argument 1 defined
in: ../../wincallb.c(405) (col 26)
../../wincallb.c(405): Note! N630: col(24) source conversion type is 'void *
(lvalue)'
../../wincallb.c(405): Note! N631: col(24) target conversion type is
'unsigned char *'
../../wincallb.c(514): Error! E166: col(14) cannot convert right pointer to
type of left operand
../../wincallb.c(514): Note! N630: col(14) source conversion type is 'void
*'
../../wincallb.c(514): Note! N631: col(14) target conversion type is 'char
*'
../../wincallb.c(546): Error! E166: col(57) cannot convert right pointer to
type of left operand
../../wincallb.c(546): Note! N630: col(57) source conversion type is 'void
*'
../../wincallb.c(546): Note! N631: col(57) target conversion type is 'char
*'
../../wincallb.c(712): Warning! W014: col(0) no reference to symbol
'FuncMemFree'
../../wincallb.c(636): Note! N392: col(13) definition: 'int FuncMemFree(
unsigned char * )'
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/fba7ac7d/attachment.html
From vszakats at users.sourceforge.net  Mon Feb 23 10:51:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 10:51:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10414]
	trunk/harbour/ChangeLog
Message-ID: <E1Lbd5C-0004CG-4c@74yxhf1.ch3.sourceforge.com>

Revision: 10414
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10414&view=rev
Author:   vszakats
Date:     2009-02-23 15:51:01 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
update to former ChangeLog entry to 
reflect final state at commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Mon Feb 23 11:11:04 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Mon Feb 23 11:11:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10411] trunk/harbour
In-Reply-To: <E1LbbFf-0004T5-9Q@dn4whf1.ch3.sourceforge.com>
References: <E1LbbFf-0004T5-9Q@dn4whf1.ch3.sourceforge.com>
Message-ID: <49A2CA98.4080402@teledetection.fr>

Viktor,

I think there is a typo :
$ echo "? 'hello'" > tst.prg
$ hbmk2 tst
Harbour 1.1.0dev (Rev. 10412)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'tst.prg'...
Lines 1, Functions/Procedures 1
Generating C source output to 'tst.c'... Done.
gcc: usr/lib/harbour/libharbour.so: Aucun fichier ou r?pertoire de ce type
hbmk: Error: Running C compiler. 256: 'gcc tst.c   -O3  -otst 
-I/usr/bin/../include/harbour -L/usr/bin/../lib/harbour -L/usr/X11R6/lib 
-Wl,--start-group usr/lib/harbour/libharbour.so -lhbcplr -lhbdebug -lm 
-ldl -lrt -lncurses -lX11 -Wl,--end-group'

Thanks,

Guy

vszakats@users.sourceforge.net a ?crit :
> Revision: 10411
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10411&view=rev
> Author:   vszakats
> Date:     2009-02-23 13:53:42 +0000 (Mon, 23 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-23 14:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * utils/hbmk2/hbmk2.prg
>     ! Fixed bug which made gtwvt the default GT for mingw.
>     ! Fixed to create final exe in current dir if no output
>       filename was specified and the first input file
>       contained a path.
>     * Changed to use version-less harbour shared lib names
>       on *nixes.
>     ! Fixed to pass full path with harbour.so to gcc.
>       (even when Harbour isn't run from a system location)
>     ! Fixed compilation/linking/cleanup if an input file
>       wasn't in current dir.
>     * Temp stub file is now created in system default temp dir,
>       instead of the current one.
>     + Harbour shared lib path is normalized when Harbour
>       is found on system locations. (so '*/bin/../lib/' becomes
>       '*/lib')
>     * Better I hope handling of .so/.dylib/.sl/.dll files passed
>       on the command line.
>
>   * bin/hb-mkdll.bat
>     ! Fixed typo in Borland MT .dll name.
>     ! Fixed to not include maindll.obj, maindllp.obj in
>       Borland .dlls.
>     * Minor formatting and cleanup on internal names.
>     + Added checking for source lib existence, showing
>       message if not found.
>     + Better user feedback.
>
>   * bin/postinst.bat
>     + Added running hb_mkdll.bat at the end of the build
>       process. For now users have to use 'set HB_DLL=yes'
>       to enable this features. It's experimental yet,
>       see previous comments.
>
>   * source/vm/Makefile
>     + Now generating hbmainstd and hbmainwin for remaining
>       (non-mingw and non-mingwce) compilers. MSVC and BCC
>       need this for -shared linkage, I'm not sure about the
>       rest, anyhow we can disable it for other compilers
>       if it isn't needed in future.
>
>   * bin/hb-func.sh
>     % Refined hbmkcfg.hbp setup to better detect conditions.
>
>   * contrib/hbcurl/hbcurl.c
>     ! Pacified this only one new gcc 4.3.3 warning.
>
>   * config/win/gcc.cf
>   * config/win/mingw.cf
>     + Added -mtune=pentiumpro gcc optimization.
>
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/bin/hb-func.sh
>     trunk/harbour/bin/hb-mkdll.bat
>     trunk/harbour/bin/postinst.bat
>     trunk/harbour/config/win/gcc.cf
>     trunk/harbour/config/win/mingw.cf
>     trunk/harbour/contrib/hbcurl/hbcurl.c
>     trunk/harbour/source/vm/Makefile
>     trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   


-- 
Guy Roussin

UMR TETIS "Territoires, Environnement, Teledetection et Information  Spatiale" 

Maison de la T?l?d?tection en Languedoc Roussillon
500, rue J.F. Breton
34093 MONTPELLIER Cedex 5

t?l: 04.67.54.87.46 fax: 04.67.54.87.00
mailto:guy.roussin@teledetection.fr

From druzus at acn.waw.pl  Mon Feb 23 11:26:46 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 23 11:21:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10411] trunk/harbour
In-Reply-To: <49A2CA98.4080402@teledetection.fr>
References: <E1LbbFf-0004T5-9Q@dn4whf1.ch3.sourceforge.com>
	<49A2CA98.4080402@teledetection.fr>
Message-ID: <20090223162645.GA29364@uran.home.aster.pl>

On Mon, 23 Feb 2009, Guy Roussin wrote:

Hi,

> I think there is a typo :
> $ echo "? 'hello'" > tst.prg
> $ hbmk2 tst
> Harbour 1.1.0dev (Rev. 10412)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'tst.prg'...
> Lines 1, Functions/Procedures 1
> Generating C source output to 'tst.c'... Done.
> gcc: usr/lib/harbour/libharbour.so: Aucun fichier ou r?pertoire de ce type
> hbmk: Error: Running C compiler. 256: 'gcc tst.c   -O3  -otst 
> -I/usr/bin/../include/harbour -L/usr/bin/../lib/harbour -L/usr/X11R6/lib 
> -Wl,--start-group usr/lib/harbour/libharbour.so -lhbcplr -lhbdebug -lm -ldl 
> -lrt -lncurses -lX11 -Wl,--end-group'

I guess you are talking about missing / but also passing the full path
with shared library name is not good idea because it's stored inside
final binaries so the destination host will have to handle it in exactly
the same way. -L/usr/lib/harbour is enough to create final binaries.
A small function like hb_dirStrip() which will convert path like
"/usr/bin/../include/harbour" to "/usr/include/harbour" will also make
the whole configuration much more readable for users.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Mon Feb 23 12:05:52 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 23 12:05:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10415] trunk/harbour
Message-ID: <E1LbeFc-0000Ei-3n@bj8yhf1.ch3.sourceforge.com>

Revision: 10415
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10415&view=rev
Author:   vouchcac
Date:     2009-02-23 17:05:51 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 09:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgwin.c
    + #define NONAMELESSUNION
      It may fix OW' few warnings. Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Mon Feb 23 12:12:41 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Mon Feb 23 12:11:34 2009
Subject: [Harbour] Dlmalloc.c - VirtualAlloc/Free - Test Results
In-Reply-To: <20090223101735.GA28406@uran.home.aster.pl>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
Message-ID: <f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>

>So please check what happens when you compile Harbour using
>-DHB_FM_WIN_ALLOC

Hi Przemek,

I?m using native BCC 6.10 MM and the same problem exist. I can see
that in BCC I have less unfreed resources, but it exist.

Regards,

Toninho.


		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor op??o para voc?! 
Experimente j? e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
 

From druzus at acn.waw.pl  Mon Feb 23 12:49:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 23 12:43:56 2009
Subject: [Harbour] Dlmalloc.c - VirtualAlloc/Free - Test Results
In-Reply-To: <f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
Message-ID: <20090223174916.GA20753@uran.home.aster.pl>

On Mon, 23 Feb 2009, Toninho@fwi wrote:

Hi,

> >So please check what happens when you compile Harbour using
> >-DHB_FM_WIN_ALLOC
> I?m using native BCC 6.10 MM and the same problem exist. I can see
> that in BCC I have less unfreed resources, but it exist.

So it's not DLMALLOC only problem but also BCC one or some other
3-rd party tool which allocates the memory not using hb_xgrab()/hb_xfree()
and this memory is not freed.
In such case we rather cannot help though it's possible that it's unexpected
result of some system call, f.e. SetUnhandledExceptionFilter(). But in such
case it's the question to windows developers to isolate the exact reason
of problem. Sorry but I do not have enough knowledge about MS-Windows
internals to help directly.
I suggest to rebuild Harbour with -DHB_FM_WIN_ALLOC.
Then make pure console test application:

   ANNOUNCE HB_GT_SYS
   REQUEST HB_GT_NUL_DEFAULT
   proc main()
   return

And check if the problem still exists. If yes then you can try to create
simple C code to check if CRTL can be closed cleanly, f.e.:

   #include <stdlib.h>
   #include <stdio.h>
   int main( int argc, char ** argv )
   {
      char * buffer = malloc( 1000 );
      sprintf( buffer, "number of arguments: %d, argv[0]='%s'\n",
               argc, argv[0] );
      printf( "%s", buffer );
      free( buffer );
      return 0;
   }

If it releases cleanly all virtual memory handles then you can try to
disable some system calls in HVM startup code to locate the one which
causes the problem, f.e. you can start with commenting call to
SetUnhandledExceptionFilter().
If you will find the reason then we can decide we should ignore it or
pacify.

BTW Pritpal, can you make some tests with BCC55 and confirm the results
with -DHB_FM_WIN_ALLOC are the same?

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Feb 23 13:15:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 13:15:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10416] trunk/harbour
Message-ID: <E1LbfLH-0002o5-Ge@d5vjzd1.ch3.sourceforge.com>

Revision: 10416
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10416&view=rev
Author:   vszakats
Date:     2009-02-23 18:15:41 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 19:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for resources on Windows platform.
      mingw, owatcom, msvc, bcc32 are supported. mingw and
      owatcom support single resources only.

  * config/rules.cf
    + Added owatcom .err files to the clean list. Maybe there
      is more appropriate place to put this. Please correct it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.cf
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 23 13:17:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 13:17:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10411] trunk/harbour
In-Reply-To: <20090223162645.GA29364@uran.home.aster.pl>
References: <E1LbbFf-0004T5-9Q@dn4whf1.ch3.sourceforge.com>
	<49A2CA98.4080402@teledetection.fr>
	<20090223162645.GA29364@uran.home.aster.pl>
Message-ID: <18d502870902231017p3e6ab4ddpdc3c84064a1ea2d3@mail.gmail.com>

Hi folks,
I'm close to give it up here. Couldn't find relevant docs, and by
mere trying, it's close to impossible to find out the right way to pass
the various kinds of gcc binary input files (.a, .o, lib prefix,
.so/.dylib/.dll,
with path or without, with lib prefix or without), (and haven't even
reached
ordering). Started with the method Przemek told here, went to specify
it directly (without -l) to include full path. Still no go. It was even
working
here.

Any advice / help is welcome.

[ The "dirstrip" function is there, I will apply it to more places. ]

Brgds,
Viktor

On Mon, Feb 23, 2009 at 5:26 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Mon, 23 Feb 2009, Guy Roussin wrote:
>
> Hi,
>
> > I think there is a typo :
> > $ echo "? 'hello'" > tst.prg
> > $ hbmk2 tst
> > Harbour 1.1.0dev (Rev. 10412)
> > Copyright (c) 1999-2009, http://www.harbour-project.org/
> > Compiling 'tst.prg'...
> > Lines 1, Functions/Procedures 1
> > Generating C source output to 'tst.c'... Done.
> > gcc: usr/lib/harbour/libharbour.so: Aucun fichier ou r?pertoire de ce
> type
> > hbmk: Error: Running C compiler. 256: 'gcc tst.c   -O3  -otst
> > -I/usr/bin/../include/harbour -L/usr/bin/../lib/harbour -L/usr/X11R6/lib
> > -Wl,--start-group usr/lib/harbour/libharbour.so -lhbcplr -lhbdebug -lm
> -ldl
> > -lrt -lncurses -lX11 -Wl,--end-group'
>
> I guess you are talking about missing / but also passing the full path
> with shared library name is not good idea because it's stored inside
> final binaries so the destination host will have to handle it in exactly
> the same way. -L/usr/lib/harbour is enough to create final binaries.
> A small function like hb_dirStrip() which will convert path like
> "/usr/bin/../include/harbour" to "/usr/include/harbour" will also make
> the whole configuration much more readable for users.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/76c541a6/attachment.html
From mbelgrano at deltain.it  Mon Feb 23 13:20:07 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 13:20:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10416] trunk/harbour
In-Reply-To: <E1LbfLH-0002o5-Ge@d5vjzd1.ch3.sourceforge.com>
References: <E1LbfLH-0002o5-Ge@d5vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70902231020i5d9abb05o4da3c29f09ac8c6b@mail.gmail.com>

Can I create lib?
If yes How?

2009/2/23  <vszakats@users.sourceforge.net>:
> Revision: 10416
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10416&view=rev
> Author:   vszakats
> Date:     2009-02-23 18:15:41 +0000 (Mon, 23 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-23 19:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * utils/hbmk2/hbmk2.prg
>    + Added support for resources on Windows platform.
>      mingw, owatcom, msvc, bcc32 are supported. mingw and
>      owatcom support single resources only.
>
>  * config/rules.cf
>    + Added owatcom .err files to the clean list. Maybe there
>      is more appropriate place to put this. Please correct it.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/config/rules.cf
>    trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Mon Feb 23 13:31:46 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb 23 13:31:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10417] trunk/harbour
Message-ID: <E1Lbfak-0003v1-TE@3kljzd1.ch3.sourceforge.com>

Revision: 10417
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10417&view=rev
Author:   druzus
Date:     2009-02-23 18:31:45 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 19:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/estack.c
    ; added TODO note for TSD handles recovery system to document dynamic
      (not static) TSD access as public API. Otherwise it's a risk to give
      such interface for 3-rd party code developers due to potential
      resource leak.

  * harbour/contrib/hbct/ctwin.c
    + added support for thread local current window pointer in CT Windows.
      Warning: each new thread uses window 0 as default.

  * harbour/contrib/hbct/files.c
    + added MT support FILESEEK(), FILEATTR(), FILESIZE(), FILEDATE().
      Warning: now each thread operates on it's own directory handle.
      The directory handle is open until is not scanned to the end by
      subsequent calls to FILESEEK() without parameters or by explicit
      call with NIL or empty string "" as file name, f.e.: FILESEEK( NIL ).
      Such method of closing directory handle is compatible with original
      CT3 behavior.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/source/vm/estack.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb 23 13:47:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 13:47:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10418] trunk/harbour
Message-ID: <E1Lbfq3-0003Cv-9S@dn4whf1.ch3.sourceforge.com>

Revision: 10418
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10418&view=rev
Author:   vszakats
Date:     2009-02-23 18:47:34 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 19:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    % Normalizing autodetected paths when system locations
      are used on *nix and always for win/dos/os2.
    ! Fix to MSVC resource handling.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 23 13:55:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 13:55:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10416] trunk/harbour
In-Reply-To: <609353e70902231020i5d9abb05o4da3c29f09ac8c6b@mail.gmail.com>
References: <E1LbfLH-0002o5-Ge@d5vjzd1.ch3.sourceforge.com>
	<609353e70902231020i5d9abb05o4da3c29f09ac8c6b@mail.gmail.com>
Message-ID: <18d502870902231055j5a0d56a9p987ddc2d57306a8@mail.gmail.com>

Massimo, there is no way to create a lib, nor a .dll, and I won't add it
now. It's BTW amazing how you can ask for yet
another feature which isn't yet implemented and suddenly
completely forget about all your previous ones as soon as
they get implemented.

hbmk2 already exceeded the bloat level (and time investment)
I've originally anticipated, so let's please focus now on testing
the multitude of features already in there.

I'd like to focus on *nix compatibility for now.

The short answer is: no.

Brgds,
Viktor

On Mon, Feb 23, 2009 at 7:20 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Can I create lib?
> If yes How?
>
> 2009/2/23  <vszakats@users.sourceforge.net>:
> > Revision: 10416
> >
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10416&view=rev
> > Author:   vszakats
> > Date:     2009-02-23 18:15:41 +0000 (Mon, 23 Feb 2009)
> >
> > Log Message:
> > -----------
> > 2009-02-23 19:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >  * utils/hbmk2/hbmk2.prg
> >    + Added support for resources on Windows platform.
> >      mingw, owatcom, msvc, bcc32 are supported. mingw and
> >      owatcom support single resources only.
> >
> >  * config/rules.cf
> >    + Added owatcom .err files to the clean list. Maybe there
> >      is more appropriate place to put this. Please correct it.
> >
> > Modified Paths:
> > --------------
> >    trunk/harbour/ChangeLog
> >    trunk/harbour/config/rules.cf
> >    trunk/harbour/utils/hbmk2/hbmk2.prg
> >
> >
> > This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/c7388dda/attachment-0001.html
From harbour.01 at syenar.hu  Mon Feb 23 14:06:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 14:06:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10415] trunk/harbour
In-Reply-To: <E1LbeFc-0000Ei-3n@bj8yhf1.ch3.sourceforge.com>
References: <E1LbeFc-0000Ei-3n@bj8yhf1.ch3.sourceforge.com>
Message-ID: <18d502870902231106l125ab854jdb8a013e1640fdda@mail.gmail.com>

Hi Pritpal,

These remain:
---
../../wvgwin.c(1617): Error! E715: col(9) member 'item' has not been
declared in 'tagTVINSERTSTRUCTA'
../../wvgwin.c(1630): Warning! W014: col(1) no reference to symbol
'tagTVINSERTSTRUCTA::hParent'
../../wvgwin.c(1607): Note! N392: col(16) definition: '_TREEITEM *
tagTVINSERTSTRUCTA::hParent' in 'void HB_FUN_WVG_TREEVIEW_ADDITEM( void )'
../../wvgwin.c(1630): Warning! W014: col(1) no reference to symbol
'tagTVINSERTSTRUCTA::hInsertAfter'
../../wvgwin.c(1608): Note! N392: col(16) definition: '_TREEITEM *
tagTVINSERTSTRUCTA::hInsertAfter' in 'void HB_FUN_WVG_TREEVIEW_ADDITEM( void
)'
../../wvgwin.c(1630): Warning! W014: col(1) no reference to symbol
'tagTVINSERTSTRUCTA::item'
../../wvgwin.c(1609): Note! N392: col(16) definition: 'tagTVITEMA
tagTVINSERTSTRUCTA::item' in 'void HB_FUN_WVG_TREEVIEW_ADDITEM( void )'
../../wvgwin.c(2931): Warning! W014: col(2) no reference to symbol
'WVG_WndProc_par'
../../wvgwin.c(2851): Note! N392: col(17) definition: 'void *
WVG_WndProc_par( int )'
../../wvgsink.c(234): Error! E384: col(60) attempt to override virtual
function 'IDispatch::GetTypeInfoCount' with a different return type
C:\devl\owatcom-1.8\H\NT\oaidl.h(691): Note! N392: col(33) definition: 'long
stdcall IDispatch::GetTypeInfoCount( unsigned * )'
../../wvgsink.c(235): Error! E384: col(73) attempt to override virtual
function 'IDispatch::GetTypeInfo' with a different return type
C:\devl\owatcom-1.8\H\NT\oaidl.h(692): Note! N392: col(28) definition: 'long
stdcall IDispatch::GetTypeInfo( unsigned, unsigned long, ITypeInfo * * )'
../../wvgsink.c(236): Error! E384: col(91) attempt to override virtual
function 'IDispatch::GetIDsOfNames' with a different return type
C:\devl\owatcom-1.8\H\NT\oaidl.h(693): Note! N392: col(30) definition: 'long
stdcall IDispatch::GetIDsOfNames( _GUID const &, wchar_t * *, unsigned,
unsigned long, long * )'
../../wvgsink.c(237): Error! E384: col(116) attempt to override virtual
function 'IDispatch::Invoke' with a different return type
C:\devl\owatcom-1.8\H\NT\oaidl.h(694): Note! N392: col(23) definition: 'long
stdcall IDispatch::Invoke( long, _GUID const &, unsigned long, unsigned
short, tagDISPPARAMS *, tagVARIANT *, tagEXCEPINFO *, unsigned * )'
../../wvgsink.c(287): Error! E121: col(65) syntax error
../../wvgsink.c(587): Error! E121: col(47) syntax error
../../wvgsink.c(593): Error! E715: col(21) member 'lpVtbl' has not been
declared in 'IEventHandler'
../../wvgsink.c(599): Error! E715: col(50) member 'lpVtbl' has not been
declared in 'IConnectionPointContainer'
../../wvgsink.c(604): Error! E715: col(50) member 'lpVtbl' has not been
declared in 'IEnumConnectionPoints'
../../wvgsink.c(607): Error! E715: col(48) member 'lpVtbl' has not been
declared in 'IConnectionPoint'
../../wvgsink.c(636): Error! E715: col(21) member 'lpVtbl' has not been
declared in 'IUnknown'
../../wvgsink.c(805): Error! E121: col(11) syntax error
../../wvgsink.c(829): Error! E121: col(46) syntax error
../../wvgsink.c(1423): Warning! W014: col(0) no reference to symbol
's_nOleError'
../../wvgsink.c(119): Note! N392: col(17) definition: 'long s_nOleError'
../../wvgsink.c(1423): Warning! W014: col(0) no reference to symbol
'hb_itemPushList'
../../wvgsink.c(189): Note! N392: col(13) definition: 'void hb_itemPushList(
unsigned long, unsigned long, _HB_ITEM * * * )'
../../wincallb.c(330): Error! E166: col(9) cannot convert right pointer to
type of left operand
../../wincallb.c(330): Note! N630: col(9) source conversion type is 'void *'
../../wincallb.c(330): Note! N631: col(9) target conversion type is
'unsigned char *'
../../wincallb.c(405): Error! E473: col(24) function argument(s) do not
match those in prototype
../../wincallb.c(405): Note! N392: col(24) definition: 'int FuncMemFree(
unsigned char * )'
../../wincallb.c(405): Note! N643: col(24) cannot convert argument 1 defined
in: ../../wincallb.c(405) (col 26)
../../wincallb.c(405): Note! N630: col(24) source conversion type is 'void *
(lvalue)'
../../wincallb.c(405): Note! N631: col(24) target conversion type is
'unsigned char *'
../../wincallb.c(514): Error! E166: col(14) cannot convert right pointer to
type of left operand
../../wincallb.c(514): Note! N630: col(14) source conversion type is 'void
*'
../../wincallb.c(514): Note! N631: col(14) target conversion type is 'char
*'
../../wincallb.c(546): Error! E166: col(57) cannot convert right pointer to
type of left operand
../../wincallb.c(546): Note! N630: col(57) source conversion type is 'void
*'
../../wincallb.c(546): Note! N631: col(57) target conversion type is 'char
*'
../../wincallb.c(712): Warning! W014: col(0) no reference to symbol
'FuncMemFree'
../../wincallb.c(636): Note! N392: col(13) definition: 'int FuncMemFree(
unsigned char * )'
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/b2a893b2/attachment.html
From mbelgrano at deltain.it  Mon Feb 23 14:34:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 14:34:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10416] trunk/harbour
In-Reply-To: <18d502870902231055j5a0d56a9p987ddc2d57306a8@mail.gmail.com>
References: <E1LbfLH-0002o5-Ge@d5vjzd1.ch3.sourceforge.com>
	<609353e70902231020i5d9abb05o4da3c29f09ac8c6b@mail.gmail.com>
	<18d502870902231055j5a0d56a9p987ddc2d57306a8@mail.gmail.com>
Message-ID: <609353e70902231134k24c866b4icc20d1b1a0d0eb26@mail.gmail.com>

Hbmk is perfect for me, I thanks you because i dream it as uniformity
of harbour culture
I post only because remember that your post as todo but i can miss
No problem for me us unnecessary as feature of hbmk
I agree that hbmk make harbour simple in each OS and typically
operation is compile harbour prg to exe
Now compile a prg  is simple and uniform!
Thanks Vicktors!

2009/2/23 Viktor Szak?ts <harbour.01@syenar.hu>:
> Massimo, there is no way to create a lib, nor a .dll, and
> I won't add it now. It's BTW amazing how you can ask for yet
> another feature which isn't yet implemented and suddenly
> completely forget about all your previous ones as soon as
> they get implemented.
> hbmk2 already exceeded the bloat level (and time investment)
> I've originally anticipated, so let's please focus now on testing
> the multitude of features already in there.
> I'd like to focus on *nix compatibility for now.
> The short answer is: no.
> Brgds,
> Viktor
>
> On Mon, Feb 23, 2009 at 7:20 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Can I create lib?
>> If yes How?
>>
>> 2009/2/23  <vszakats@users.sourceforge.net>:
>> > Revision: 10416
>> >
>> >  http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10416&view=rev
>> > Author:   vszakats
>> > Date:     2009-02-23 18:15:41 +0000 (Mon, 23 Feb 2009)
>> >
>> > Log Message:
>> > -----------
>> > 2009-02-23 19:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>> >  * utils/hbmk2/hbmk2.prg
>> >    + Added support for resources on Windows platform.
>> >      mingw, owatcom, msvc, bcc32 are supported. mingw and
>> >      owatcom support single resources only.
>> >
>> >  * config/rules.cf
>> >    + Added owatcom .err files to the clean list. Maybe there
>> >      is more appropriate place to put this. Please correct it.
>> >
>> > Modified Paths:
>> > --------------
>> >    trunk/harbour/ChangeLog
>> >    trunk/harbour/config/rules.cf
>> >    trunk/harbour/utils/hbmk2/hbmk2.prg
>> >
>> >
>> > This was sent by the SourceForge.net collaborative development platform,
>> > the world's largest Open Source development site.
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From bedipritpal at hotmail.com  Mon Feb 23 14:45:52 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 23 14:45:55 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090223174916.GA20753@uran.home.aster.pl>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
Message-ID: <22168610.post@talk.nabble.com>


Hello Przemek

Harbour compiled with -DHB_FM_WIN_ALLOC 
doe snot produce any unreleased Virtual Mem Pages 
as reported by MemProof.

Plus exiting a thread also releases the memory properly.

With dlmalloc.c, a thread was never releasing the memory.
You start another thread, keep on initiating other threads,
close those modules, Task Manager going on reporting 
increase in memory. At the appln exit, unfreed virual blocks
keep on increasing by the number of threads an appln 
fires.

This also shed light on uhttpd's reported high 
memory consumption in another thread. Francesco ?

Something very serious if dlmalloc is the default for Harbour.
Probably easy to fix if someone concentrates onto that.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Dlmalloc.c---VirtualAlloc-Free---Test-Results-tp22143106p22168610.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Feb 23 14:57:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 14:57:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10417] trunk/harbour
In-Reply-To: <E1Lbfak-0003v1-TE@3kljzd1.ch3.sourceforge.com>
References: <E1Lbfak-0003v1-TE@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870902231157r130c9a7aw9ca9b7760cfc350@mail.gmail.com>

Hi Przemek,
Many thanks, that was quick, windowing works great in MT
now. Now I can run background processes in distinct windows.
I'm thinking of moving reporting to background.

Brgds,
Viktor

On Mon, Feb 23, 2009 at 7:31 PM, <druzus@users.sourceforge.net> wrote:

> Revision: 10417
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10417&view=rev
> Author:   druzus
> Date:     2009-02-23 18:31:45 +0000 (Mon, 23 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-23 19:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/vm/estack.c
>    ; added TODO note for TSD handles recovery system to document dynamic
>      (not static) TSD access as public API. Otherwise it's a risk to give
>      such interface for 3-rd party code developers due to potential
>      resource leak.
>
>  * harbour/contrib/hbct/ctwin.c
>    + added support for thread local current window pointer in CT Windows.
>      Warning: each new thread uses window 0 as default.
>
>  * harbour/contrib/hbct/files.c
>    + added MT support FILESEEK(), FILEATTR(), FILESIZE(), FILEDATE().
>      Warning: now each thread operates on it's own directory handle.
>      The directory handle is open until is not scanned to the end by
>      subsequent calls to FILESEEK() without parameters or by explicit
>      call with NIL or empty string "" as file name, f.e.: FILESEEK( NIL ).
>      Such method of closing directory handle is compatible with original
>      CT3 behavior.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbct/ctwin.c
>    trunk/harbour/contrib/hbct/files.c
>    trunk/harbour/source/vm/estack.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/292ba070/attachment.html
From info at fsgiudice.com  Mon Feb 23 15:01:35 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 23 15:01:45 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <22168610.post@talk.nabble.com>
References: <22143106.post@talk.nabble.com>	<20090223101735.GA28406@uran.home.aster.pl>	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
Message-ID: <49A3009F.4090408@fsgiudice.com>

Hi Pritpal,

Il 23/02/2009 20.45, Pritpal Bedi ha scritto:
> This also shed light on uhttpd's reported high 
> memory consumption in another thread. Francesco ?

Just testing

Best regards
Francesco

From gvarona at ec-red.com  Mon Feb 23 15:25:30 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Feb 23 15:25:33 2009
Subject: [Harbour] Error Building Harbour from SVN
Message-ID: <49A3063A.4000401@ec-red.com>

Hi:

Trying buil Harbour from last SVN, I got this:

D:\harbour>make_gnu
../../wvgwin.c: In function `HB_FUN_WVG_TREEVIEW_ADDITEM':
../../wvgwin.c:1617: error: structure has no member named `item'
../../wvgwin.c:1618: error: structure has no member named `item'
../../wvgwin.c:1619: error: structure has no member named `item'
../../wvgwin.c:1623: error: structure has no member named `item'
../../wvgwin.c:1625: error: structure has no member named `item'
../../wvgwin.c: At top level:
../../wvgwin.c:2852: warning: 'WVG_WndProc_par' defined but not used
make[3]: *** [wvgwin.o] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [gtwvg] Error 2
make: *** [contrib] Error 2

Any TIP?

TIA

Salu2,
GVS


From mbelgrano at deltain.it  Mon Feb 23 16:04:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 16:04:56 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <49A1C2CC.4090803@teledetection.fr>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
	<49A1C2CC.4090803@teledetection.fr>
Message-ID: <609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>

cd $home
cd src
cd harbour
./make_deb.sh

bash:./make_deb.sh: no such file

svn have reported checked out revisione 10418

2009/2/22 Guy Roussin <guy.roussin@teledetection.fr>:
> Hi,
>>
>> cd $HOME
>> mkdir src
>> cd src
>> svn co
>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>> harbour
>> cd harbour
>> ./make_deb.sh
>> sudo dpkg -i harbour 1.0.0-1_i386.deb
>>
>
> For me, svn produce harbour_1.0.1-1_i386.deb
> and not harbour 1.0.0-1_i386.deb ...
>
> Guy
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



1
From guy.roussin at teledetection.fr  Mon Feb 23 16:13:17 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Mon Feb 23 16:09:25 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>	<49A1C2CC.4090803@teledetection.fr>
	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>
Message-ID: <49A3116D.40608@teledetection.fr>

Hi Massimo,

no more make_deb.sh in svn
now, you must use mpkg_deb.sh instead

for example, i use :
$ fakeroot sh mpkg_deb.sh

Guy

Massimo Belgrano a ?crit :
> cd $home
> cd src
> cd harbour
> ./make_deb.sh
>
> bash:./make_deb.sh: no such file
>
> svn have reported checked out revisione 10418
>
> 2009/2/22 Guy Roussin <guy.roussin@teledetection.fr>:
>   
>> Hi,
>>     
>>> cd $HOME
>>> mkdir src
>>> cd src
>>> svn co
>>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>>> harbour
>>> cd harbour
>>> ./make_deb.sh
>>> sudo dpkg -i harbour 1.0.0-1_i386.deb
>>>
>>>       
>> For me, svn produce harbour_1.0.1-1_i386.deb
>> and not harbour 1.0.0-1_i386.deb ...
>>
>> Guy
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>     
>
>
>
> 1
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   

From vszakats at users.sourceforge.net  Mon Feb 23 16:19:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 16:19:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
Message-ID: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>

Revision: 10419
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10419&view=rev
Author:   vszakats
Date:     2009-02-23 21:19:25 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 22:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed bug in path normalization which stripped leading
      (root) path separator. Guy, could you please retest now?

  - bin/hb-mkdll.bat
  + bin/hb-mkdyn.bat
  * bin/postinst.bat
  * harbour-win-spec
  * harbour-wce-spec
  * harbour.spec
  * bin/postinst.sh
  * bin/hb-func.sh
  - bin/hb-mkslib.sh
  + bin/hb-mkdyn.sh
    * Synced the name of these tools with similar function,
      name also converted to 8.3.
    ; NOTE: lib/dll creation functionality (which is the 
            difference now between .sh and .bat flavour) may
            once in the future be implemented in hbmk2. See 
            existing TODO there.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.sh
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/hb-mkdyn.sh

Removed Paths:
-------------
    trunk/harbour/bin/hb-mkdll.bat
    trunk/harbour/bin/hb-mkslib.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Feb 23 16:20:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 16:21:02 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <49A3116D.40608@teledetection.fr>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
	<49A1C2CC.4090803@teledetection.fr>
	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>
	<49A3116D.40608@teledetection.fr>
Message-ID: <609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>

cd $home
cd src
cd harbour
fakeroot sh mpkg_deb.sh

fakerootkey set to 1787254769
nested operation not yet supported
2009/2/23 Guy Roussin <guy.roussin@teledetection.fr>:
> Hi Massimo,
>
> no more make_deb.sh in svn
> now, you must use mpkg_deb.sh instead
>
> for example, i use :
> $ fakeroot sh mpkg_deb.sh
>
> Guy
>
> Massimo Belgrano a ?crit :
>>
>> cd $home
>> cd src
>> cd harbour
>> ./make_deb.sh
>>
>> bash:./make_deb.sh: no such file
>>
>> svn have reported checked out revisione 10418
>>
>> 2009/2/22 Guy Roussin <guy.roussin@teledetection.fr>:
>>
>>>
>>> Hi,
>>>
>>>>
>>>> cd $HOME
>>>> mkdir src
>>>> cd src
>>>> svn co
>>>>
>>>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>>>> harbour
>>>> cd harbour
>>>> ./make_deb.sh
>>>> sudo dpkg -i harbour 1.0.0-1_i386.deb
>>>>
>>>>
>>>
>>> For me, svn produce harbour_1.0.1-1_i386.deb
>>> and not harbour 1.0.0-1_i386.deb ...
>>>
>>> Guy
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>>
>>
>> 1
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From elart at elart.it  Mon Feb 23 16:24:10 2009
From: elart at elart.it (elart)
Date: Mon Feb 23 16:24:16 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
Message-ID: <49A313FA.4050607@elart.it>

On 02/22/2009 09:48 PM, Massimo Belgrano wrote:
> I have tried download and compile under Ubuntu 8.04 last svn i go
Massimo

I usually use this script to update compile install Harbour svn sources 
i have put this script under the dir /usr/src of my Ubuntu pc.
I run this script using "sudo"

Open a terminal from Applications ? Accessories ? Terminal and type:
sudo gedit /usr/src/MBaggharbour_svn

Copy and paste the rows below:

#!/bin/bash
cd /usr/src
svn co 
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk harbour
cd /usr/src/harbour/harbour
export HB_BIN_INSTALL=/usr/bin/;
export HB_LIB_INSTALL=/usr/lib/;
export HB_INC_INSTALL=/usr/include/
# export HB_CONTRIBLIBS=hbpgsql, hbsqlit3
chmod 700 make_gnu.sh
hbverfix
sh ./make_gnu.sh clean; sh ./make_gnu.sh; sh ./make_gnu.sh install

Save and exit.

Then still using terminal type:

sudo chmod 700 /usr/src/MBaggharbour_svn

Then run this script...

cd /usr/src
sudo ./MBaggharbour_svn

Hope this helps
From vszakats at users.sourceforge.net  Mon Feb 23 16:30:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 16:30:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10420] trunk/harbour
Message-ID: <E1LbiNL-00045r-IC@74yxhf1.ch3.sourceforge.com>

Revision: 10420
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10420&view=rev
Author:   vszakats
Date:     2009-02-23 21:30:06 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 22:29 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added -map support for owatcom on all platforms.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Mon Feb 23 16:39:23 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Mon Feb 23 16:39:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
Message-ID: <49A3178B.9080702@teledetection.fr>

Hi,

> Revision: 10419
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10419&view=rev
> Author:   vszakats
> Date:     2009-02-23 21:19:25 +0000 (Mon, 23 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-23 22:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * utils/hbmk2/hbmk2.prg
>     ! Fixed bug in path normalization which stripped leading
>       (root) path separator. Guy, could you please retest now?
>   

Thank you Viktor,
Now it runs very fine :-)
Guy

From guy.roussin at teledetection.fr  Mon Feb 23 16:48:49 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Mon Feb 23 16:48:55 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>	<49A1C2CC.4090803@teledetection.fr>	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>	<49A3116D.40608@teledetection.fr>
	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>
Message-ID: <49A319C1.3090009@teledetection.fr>

Hi Massimo,

Are you sure, you have the fakeroot package installed ?
(sudo aptitude install fakeroot)
I think your message is not related to the fakeroot
command (perhaps another command on your system ?)

Note that the fakeroot is only usefull to compile harbour
as user (and not root) : this is more secure. Never run as root ;-)

Here the way i compile and install harbour (as user and not root !):

$ cd
$ svn co 
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
$ cd harbour
$ fakeroot sh mpkg_deb.sh
$ sudo dpkg -i ../harbour_1.0.1-1_i386.deb

Guy

Massimo Belgrano a ?crit :
> cd $home
> cd src
> cd harbour
> fakeroot sh mpkg_deb.sh
>
> fakerootkey set to 1787254769
> nested operation not yet supported
> 2009/2/23 Guy Roussin <guy.roussin@teledetection.fr>:
>   
>> Hi Massimo,
>>
>> no more make_deb.sh in svn
>> now, you must use mpkg_deb.sh instead
>>
>> for example, i use :
>> $ fakeroot sh mpkg_deb.sh
>>
>> Guy
>>
>> Massimo Belgrano a ?crit :
>>     
>>> cd $home
>>> cd src
>>> cd harbour
>>> ./make_deb.sh
>>>
>>> bash:./make_deb.sh: no such file
>>>
>>> svn have reported checked out revisione 10418
>>>
>>> 2009/2/22 Guy Roussin <guy.roussin@teledetection.fr>:
>>>
>>>       
>>>> Hi,
>>>>
>>>>         
>>>>> cd $HOME
>>>>> mkdir src
>>>>> cd src
>>>>> svn co
>>>>>
>>>>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>>>>> harbour
>>>>> cd harbour
>>>>> ./make_deb.sh
>>>>> sudo dpkg -i harbour 1.0.0-1_i386.deb
>>>>>
>>>>>
>>>>>           

From info at fsgiudice.com  Mon Feb 23 16:54:58 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 23 16:55:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <49A3178B.9080702@teledetection.fr>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
	<49A3178B.9080702@teledetection.fr>
Message-ID: <49A31B32.9030607@fsgiudice.com>

Hi Viktor,

now I have an error building uhttpd

Il 23/02/2009 22.39, Guy Roussin ha scritto:
> Hi,
>> Author:   vszakats
>> Date:     2009-02-23 21:19:25 +0000 (Mon, 23 Feb 2009)

below errors I got (MSVC 9):

------------------

Building uHTTPD server
Lib GD support enabled
HB_INET socket

Harbour 1.1.0dev (Rev. 10420)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'uhttpd.prg'...
Lines 4927, Functions/Procedures 41
Generating C source output to 'uhttpd.c'... Done.
Compiling 'cgifunc.prg'...
Lines 6121, Functions/Procedures 27
Generating C source output to 'cgifunc.c'... Done.
Compiling 'cookie.prg'...
Lines 7108, Functions/Procedures 7
Generating C source output to 'cookie.c'... Done.
Compiling 'session.prg'...
Lines 8923, Functions/Procedures 31
Generating C source output to 'session.c'... Done.
uhttpd.c
cgifunc.c
cookie.c
session.c
uhttpdc.c
Generazione del codice in corso...
LINK : warning LNK4098: la libreria predefinita 'LIBCMTD' ? in conflitto 
con l'utilizzo di altre librerie; utilizzare /NODEFAULTLIB:libreria
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageDestroy non risolto nella funzione _hb_gdImage_Destructor
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCreateFromGdPtr non risolto nella funzione _GDImageCreateFrom
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCreateFromWBMPPtr non risolto nella funzione _GDImageCreateFrom
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCreateFromPngPtr non risolto nella funzione _GDImageCreateFrom
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCreateFromGifPtr non risolto nella funzione _GDImageCreateFrom
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCreateFromJpegPtr non risolto nella funzione _GDImageCreateFrom
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdFree non risolto nella funzione _GDImageSaveTo
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageGdPtr non risolto nella funzione _GDImageSaveTo
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageWBMPPtr non risolto nella funzione _GDImageSaveTo
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImagePngPtrEx non risolto nella funzione _GDImageSaveTo
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageGifPtr non risolto nella funzione _GDImageSaveTo
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageJpegPtr non risolto nella funzione _GDImageSaveTo
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCreate non risolto nella funzione _HB_FUN_GDIMAGECREATE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCreateTrueColor non risolto nella funzione 
_HB_FUN_GDIMAGECREATETRUECOLOR
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSetPixel non risolto nella funzione _HB_FUN_GDIMAGESETPIXEL
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageLine non risolto nella funzione _HB_FUN_GDIMAGELINE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageDashedLine non risolto nella funzione _HB_FUN_GDIMAGEDASHEDLINE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImagePolygon non risolto nella funzione _HB_FUN_GDIMAGEPOLYGON
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageOpenPolygon non risolto nella funzione _HB_FUN_GDIMAGEOPENPOLYGON
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageRectangle non risolto nella funzione _HB_FUN_GDIMAGERECTANGLE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageFilledPolygon non risolto nella funzione 
_HB_FUN_GDIMAGEFILLEDPOLYGON
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageFilledRectangle non risolto nella funzione 
_HB_FUN_GDIMAGEFILLEDRECTANGLE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageArc non risolto nella funzione _HB_FUN_GDIMAGEARC
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageFilledArc non risolto nella funzione _HB_FUN_GDIMAGEFILLEDARC
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageFilledEllipse non risolto nella funzione 
_HB_FUN_GDIMAGEFILLEDELLIPSE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageFillToBorder non risolto nella funzione _HB_FUN_GDIMAGEFILLTOBORDER
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageFill non risolto nella funzione _HB_FUN_GDIMAGEFILL
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSetAntiAliased non risolto nella funzione 
_HB_FUN_GDIMAGESETANTIALIASED
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSetAntiAliasedDontBlend non risolto nella funzione 
_HB_FUN_GDIMAGESETANTIALIASEDDONTBLEND
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSetBrush non risolto nella funzione _HB_FUN_GDIMAGESETBRUSH
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSetTile non risolto nella funzione _HB_FUN_GDIMAGESETTILE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSetStyle non risolto nella funzione _HB_FUN_GDIMAGESETSTYLE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSetThickness non risolto nella funzione _HB_FUN_GDIMAGESETTHICKNESS
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageAlphaBlending non risolto nella funzione 
_HB_FUN_GDIMAGEALPHABLENDING
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSaveAlpha non risolto nella funzione _HB_FUN_GDIMAGESAVEALPHA
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSetClip non risolto nella funzione _HB_FUN_GDIMAGESETCLIP
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageGetClip non risolto nella funzione _HB_FUN_GDIMAGEGETCLIP
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageGetPixel non risolto nella funzione _HB_FUN_GDIMAGEGETPIXEL
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageBoundsSafe non risolto nella funzione _HB_FUN_GDIMAGEBOUNDSSAFE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageTrueColorToPalette non risolto nella funzione 
_HB_FUN_GDIMAGETRUECOLORTOPALETTE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCreatePaletteFromTrueColor non risolto nella funzione 
_HB_FUN_GDIMAGECREATEPALETTEFROMTRUECOLOR
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdFontGetSmall non risolto nella funzione _HB_FUN_GDFONTGETSMALL
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdFontGetLarge non risolto nella funzione _HB_FUN_GDFONTGETLARGE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdFontGetMediumBold non risolto nella funzione _HB_FUN_GDFONTGETMEDIUMBOLD
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdFontGetGiant non risolto nella funzione _HB_FUN_GDFONTGETGIANT
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdFontGetTiny non risolto nella funzione _HB_FUN_GDFONTGETTINY
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageString non risolto nella funzione _HB_FUN_GDIMAGESTRING
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageChar non risolto nella funzione _HB_FUN_GDIMAGESTRING
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageStringUp non risolto nella funzione _HB_FUN_GDIMAGESTRINGUP
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCharUp non risolto nella funzione _HB_FUN_GDIMAGESTRINGUP
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageStringFTEx non risolto nella funzione _HB_FUN_GDIMAGESTRINGFTEX
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageStringFTCircle non risolto nella funzione 
_HB_FUN_GDIMAGESTRINGFTCIRCLE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdFontCacheSetup non risolto nella funzione _HB_FUN_GDFONTCACHESETUP
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdFontCacheShutdown non risolto nella funzione _HB_FUN_GDFONTCACHESHUTDOWN
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorAllocate non risolto nella funzione 
_HB_FUN_GDIMAGECOLORALLOCATE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorDeallocate non risolto nella funzione 
_HB_FUN_GDIMAGECOLORDEALLOCATE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorAllocateAlpha non risolto nella funzione 
_HB_FUN_GDIMAGECOLORALLOCATEALPHA
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorClosest non risolto nella funzione _HB_FUN_GDIMAGECOLORCLOSEST
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorClosestAlpha non risolto nella funzione 
_HB_FUN_GDIMAGECOLORCLOSESTALPHA
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorClosestHWB non risolto nella funzione 
_HB_FUN_GDIMAGECOLORCLOSESTHWB
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorExact non risolto nella funzione _HB_FUN_GDIMAGECOLOREXACT
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorResolve non risolto nella funzione _HB_FUN_GDIMAGECOLORRESOLVE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorResolveAlpha non risolto nella funzione 
_HB_FUN_GDIMAGECOLORRESOLVEALPHA
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageColorTransparent non risolto nella funzione 
_HB_FUN_GDIMAGECOLORTRANSPARENT
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCopy non risolto nella funzione _HB_FUN_GDIMAGECOPY
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCopyResized non risolto nella funzione _HB_FUN_GDIMAGECOPYRESIZED
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCopyResampled non risolto nella funzione 
_HB_FUN_GDIMAGECOPYRESAMPLED
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCopyRotated non risolto nella funzione _HB_FUN_GDIMAGECOPYROTATED
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCopyMerge non risolto nella funzione _HB_FUN_GDIMAGECOPYMERGE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCopyMergeGray non risolto nella funzione 
_HB_FUN_GDIMAGECOPYMERGEGRAY
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImagePaletteCopy non risolto nella funzione _HB_FUN_GDIMAGEPALETTECOPY
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSquareToCircle non risolto nella funzione 
_HB_FUN_GDIMAGESQUARETOCIRCLE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageSharpen non risolto nella funzione _HB_FUN_GDIMAGESHARPEN
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageCompare non risolto nella funzione _HB_FUN_GDIMAGECOMPARE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageInterlace non risolto nella funzione _HB_FUN_GDIMAGEINTERLACE
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageGifAnimBeginPtr non risolto nella funzione 
_HB_FUN_GDIMAGEGIFANIMBEGIN
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageGifAnimAddPtr non risolto nella funzione _HB_FUN_GDIMAGEGIFANIMADD
hbgd.lib(gdwrp.obj) : error LNK2019: riferimento al simbolo esterno 
_gdImageGifAnimEndPtr non risolto nella funzione _HB_FUN_GDIMAGEGIFANIMEND
uhttpd.exe : fatal error LNK1120: 78 esterni non risolti
hbmk: Error: Running C compiler. 2: 'cl -nologo -W3  -Feuhttpd.exe 
-IJ:\cvs\harbourSVN_trunk\include uhttpd.c cgifunc.c cookie.c session.c 
uhttpdc.c  /link /libpath:J:\cvs\harbourSVN_trunk\lib 
/subsystem:windows hbcpage.lib hblang.lib hbcommon.lib hbcplr.lib 
hbdebug.lib hbvmmt.lib hbrdd.lib hbusrrdd.lib hbuddall.lib hbhsx.lib 
hbsix.lib rddntx.lib rddnsx.lib rddcdx.lib rddfpt.lib hbrtl.lib hbpp.lib 
hbmacro.lib hbextern.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib 
gtwvt.lib gtgui.lib hbpcre.lib hbzlib.lib xhb.lib hbct.lib hbgd.lib 
bgd.lib user32.lib wsock32.lib advapi32.lib gdi32.lib'

------------------

Now I'm testing with BCC

Best regards

Francesco

From guy.roussin at teledetection.fr  Mon Feb 23 17:02:49 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Mon Feb 23 16:58:56 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <49A319C1.3090009@teledetection.fr>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>	<49A1C2CC.4090803@teledetection.fr>	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>	<49A3116D.40608@teledetection.fr>	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>
	<49A319C1.3090009@teledetection.fr>
Message-ID: <49A31D09.5000101@teledetection.fr>

Massimo,
> I think your message is not related to the fakeroot
Or perhaps you run fakeroot as root ???
You don't need fakeroot, if you compile harbour as root ..

guy
From info at fsgiudice.com  Mon Feb 23 17:00:27 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 23 17:00:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <49A31B32.9030607@fsgiudice.com>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>	<49A3178B.9080702@teledetection.fr>
	<49A31B32.9030607@fsgiudice.com>
Message-ID: <49A31C7B.9080909@fsgiudice.com>

Same with BCC

Il 23/02/2009 22.54, Francesco Saverio Giudice ha scritto:
> Hi Viktor,
> 
> now I have an error building uhttpd
> 

br,
Francesco
---------------

here errors:

Building uHTTPD server
Lib GD support enabled
HB_INET socket

Harbour 1.1.0dev (Rev. 10420)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'uhttpd.prg'...
Lines 4927, Functions/Procedures 41
Generating C source output to 'uhttpd.c'... Done.
Compiling 'cgifunc.prg'...
Lines 6121, Functions/Procedures 27
Generating C source output to 'cgifunc.c'... Done.
Compiling 'cookie.prg'...
Lines 7108, Functions/Procedures 7
Generating C source output to 'cookie.c'... Done.
Compiling 'session.prg'...
Lines 8923, Functions/Procedures 31
Generating C source output to 'session.c'... Done.
uhttpd.c:
cgifunc.c:
cookie.c:
session.c:
uhttpdc.c:
Error: Unresolved external '_gdImageDestroy' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCreateFromJpegPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCreateFromGifPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCreateFromPngPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCreateFromWBMPPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCreateFromGdPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageJpegPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageGifPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImagePngPtrEx' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageWBMPPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageGdPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdFree' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCreate' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCreateTrueColor' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSetPixel' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageLine' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageDashedLine' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImagePolygon' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageOpenPolygon' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageRectangle' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageFilledPolygon' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageFilledRectangle' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageArc' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageFilledArc' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageFilledEllipse' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageFillToBorder' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageFill' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSetAntiAliased' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSetAntiAliasedDontBlend' referenced 
from J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSetBrush' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSetTile' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSetStyle' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSetThickness' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageAlphaBlending' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSaveAlpha' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSetClip' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageGetClip' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageGetPixel' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageBoundsSafe' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageTrueColorToPalette' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCreatePaletteFromTrueColor' 
referenced from J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdFontGetSmall' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdFontGetLarge' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdFontGetMediumBold' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdFontGetGiant' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdFontGetTiny' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageChar' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageString' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCharUp' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageStringUp' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageStringFTEx' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageStringFTCircle' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdFontCacheSetup' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdFontCacheShutdown' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorAllocate' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorDeallocate' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorAllocateAlpha' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorClosest' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorClosestAlpha' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorClosestHWB' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorExact' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorResolve' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorResolveAlpha' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageColorTransparent' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCopy' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCopyResized' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCopyResampled' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCopyRotated' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCopyMerge' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCopyMergeGray' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImagePaletteCopy' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSquareToCircle' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageSharpen' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCompare' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageInterlace' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageGifAnimBeginPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageGifAnimAddPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageGifAnimEndPtr' referenced from 
J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
hbmk: Error: Running C compiler. 1: 'bcc32 -q -tWM -O2 -OS -Ov -Oi -Oc 
-d  -tW -euhttpd.exe -IJ:\cvs\harbourSVN_trunk\include 
-LJ:\cvs\harbourSVN_trunk\lib uhttpd.c cgifunc.c cookie.c session.c 
uhttpdc.c  hbcpage.lib hblang.lib hbcommon.lib hbcplr.lib hbdebug.lib 
hbvmmt.lib hbrdd.lib hbusrrdd.lib hbuddall.lib hbhsx.lib hbsix.lib 
rddntx.lib rddnsx.lib rddcdx.lib rddfpt.lib hbrtl.lib hbpp.lib 
hbmacro.lib hbextern.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib 
gtwvt.lib gtgui.lib hbpcre.lib hbzlib.lib xhb.lib hbct.lib hbgd.lib bgd.lib'
From harbour.01 at syenar.hu  Mon Feb 23 17:02:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 17:03:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <49A3178B.9080702@teledetection.fr>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
	<49A3178B.9080702@teledetection.fr>
Message-ID: <18d502870902231402l7b3a1d4fv139418e483f1876e@mail.gmail.com>

Nice, thank you for your tests :)
Brgds,
Viktor

On Mon, Feb 23, 2009 at 10:39 PM, Guy Roussin
<guy.roussin@teledetection.fr>wrote:

> Hi,
>
>  Revision: 10419
>>
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10419&view=rev
>> Author:   vszakats
>> Date:     2009-02-23 21:19:25 +0000 (Mon, 23 Feb 2009)
>>
>> Log Message:
>> -----------
>> 2009-02-23 22:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>  * utils/hbmk2/hbmk2.prg
>>    ! Fixed bug in path normalization which stripped leading
>>      (root) path separator. Guy, could you please retest now?
>>
>>
>
> Thank you Viktor,
> Now it runs very fine :-)
> Guy
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/d059d14f/attachment.html
From harbour.01 at syenar.hu  Mon Feb 23 17:10:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 17:10:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <49A31C7B.9080909@fsgiudice.com>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
	<49A3178B.9080702@teledetection.fr> <49A31B32.9030607@fsgiudice.com>
	<49A31C7B.9080909@fsgiudice.com>
Message-ID: <18d502870902231410x5c8fcaf8v675a5803283300d2@mail.gmail.com>

Hi Francesco,
Please add back '#define HB_OS_WIN_USED'
to the top of gdwrp.c, which I've optimized out a
few days ago. Looks like 'windows.h' inclusion is
needed for GD headers to properly setup themselves.

I'll investigate some more, and try to tame GD in
a less intrusive way.

Brgds,
Viktor

On Mon, Feb 23, 2009 at 11:00 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Same with BCC
>
> Il 23/02/2009 22.54, Francesco Saverio Giudice ha scritto:
>
>> Hi Viktor,
>>
>> now I have an error building uhttpd
>>
>>
> br,
> Francesco
> ---------------
>
> here errors:
>
> Building uHTTPD server
> Lib GD support enabled
> HB_INET socket
>
> Harbour 1.1.0dev (Rev. 10420)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'uhttpd.prg'...
> Lines 4927, Functions/Procedures 41
> Generating C source output to 'uhttpd.c'... Done.
> Compiling 'cgifunc.prg'...
> Lines 6121, Functions/Procedures 27
> Generating C source output to 'cgifunc.c'... Done.
> Compiling 'cookie.prg'...
> Lines 7108, Functions/Procedures 7
> Generating C source output to 'cookie.c'... Done.
> Compiling 'session.prg'...
> Lines 8923, Functions/Procedures 31
> Generating C source output to 'session.c'... Done.
> uhttpd.c:
> cgifunc.c:
> cookie.c:
> session.c:
> uhttpdc.c:
> Error: Unresolved external '_gdImageDestroy' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCreateFromJpegPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCreateFromGifPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCreateFromPngPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCreateFromWBMPPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCreateFromGdPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageJpegPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageGifPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImagePngPtrEx' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageWBMPPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageGdPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdFree' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCreate' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCreateTrueColor' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSetPixel' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageLine' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageDashedLine' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImagePolygon' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageOpenPolygon' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageRectangle' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageFilledPolygon' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageFilledRectangle' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageArc' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageFilledArc' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageFilledEllipse' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageFillToBorder' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageFill' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSetAntiAliased' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSetAntiAliasedDontBlend' referenced
> from J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSetBrush' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSetTile' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSetStyle' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSetThickness' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageAlphaBlending' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSaveAlpha' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSetClip' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageGetClip' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageGetPixel' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageBoundsSafe' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageTrueColorToPalette' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCreatePaletteFromTrueColor' referenced
> from J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdFontGetSmall' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdFontGetLarge' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdFontGetMediumBold' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdFontGetGiant' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdFontGetTiny' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageChar' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageString' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCharUp' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageStringUp' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageStringFTEx' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageStringFTCircle' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdFontCacheSetup' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdFontCacheShutdown' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorAllocate' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorDeallocate' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorAllocateAlpha' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorClosest' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorClosestAlpha' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorClosestHWB' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorExact' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorResolve' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorResolveAlpha' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageColorTransparent' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCopy' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCopyResized' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCopyResampled' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCopyRotated' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCopyMerge' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCopyMergeGray' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImagePaletteCopy' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSquareToCircle' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageSharpen' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageCompare' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageInterlace' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageGifAnimBeginPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageGifAnimAddPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> Error: Unresolved external '_gdImageGifAnimEndPtr' referenced from
> J:\CVS\HARBOURSVN_TRUNK\LIB\HBGD.LIB|gdwrp
> hbmk: Error: Running C compiler. 1: 'bcc32 -q -tWM -O2 -OS -Ov -Oi -Oc -d
>  -tW -euhttpd.exe -IJ:\cvs\harbourSVN_trunk\include
> -LJ:\cvs\harbourSVN_trunk\lib uhttpd.c cgifunc.c cookie.c session.c
> uhttpdc.c  hbcpage.lib hblang.lib hbcommon.lib hbcplr.lib hbdebug.lib
> hbvmmt.lib hbrdd.lib hbusrrdd.lib hbuddall.lib hbhsx.lib hbsix.lib
> rddntx.lib rddnsx.lib rddcdx.lib rddfpt.lib hbrtl.lib hbpp.lib hbmacro.lib
> hbextern.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib
> hbpcre.lib hbzlib.lib xhb.lib hbct.lib hbgd.lib bgd.lib'
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/40a875d9/attachment-0001.html
From info at fsgiudice.com  Mon Feb 23 17:14:17 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 23 17:14:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <18d502870902231410x5c8fcaf8v675a5803283300d2@mail.gmail.com>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>	<49A3178B.9080702@teledetection.fr>
	<49A31B32.9030607@fsgiudice.com>	<49A31C7B.9080909@fsgiudice.com>
	<18d502870902231410x5c8fcaf8v675a5803283300d2@mail.gmail.com>
Message-ID: <49A31FB9.7020408@fsgiudice.com>

Hi Viktor,

Il 23/02/2009 23.10, Viktor Szak?ts ha scritto:
> Please add back '#define HB_OS_WIN_USED'
this solves.
Now I can continue with uhhtpd tests.

Thank you.

Best regards,
Francesco
From vszakats at users.sourceforge.net  Mon Feb 23 17:20:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 17:20:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10421] trunk/harbour
Message-ID: <E1Lbj9d-0000QR-8d@3kljzd1.ch3.sourceforge.com>

Revision: 10421
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10421&view=rev
Author:   vszakats
Date:     2009-02-23 22:20:00 +0000 (Mon, 23 Feb 2009)

Log Message:
-----------
2009-02-23 23:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbgd/gdwrp.c
    ! Added required Windows initialization for GD headers.
      This become an issue because I've recently removed 
      windows system headers (which weren't needed for 
      local code) from this file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbgd/gdwrp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 23 17:35:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 17:36:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <49A31FB9.7020408@fsgiudice.com>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
	<49A3178B.9080702@teledetection.fr> <49A31B32.9030607@fsgiudice.com>
	<49A31C7B.9080909@fsgiudice.com>
	<18d502870902231410x5c8fcaf8v675a5803283300d2@mail.gmail.com>
	<49A31FB9.7020408@fsgiudice.com>
Message-ID: <18d502870902231435j6127ecbdld388a9fc7c2784ff@mail.gmail.com>

No problem, sorry for the trouble.
I've already committed the tweaked solution to the SVN.
(WIN32 and BGDWIN32 are needed for gd headers,
and officially even MSWIN32 and _WIN32, but these
aren't used).

I'm now trying to create a static GD lib and link it.

Brgds,
Viktor

On Mon, Feb 23, 2009 at 11:14 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Viktor,
>
> Il 23/02/2009 23.10, Viktor Szak?ts ha scritto:
>
>> Please add back '#define HB_OS_WIN_USED'
>>
> this solves.
> Now I can continue with uhhtpd tests.
>
> Thank you.
>
> Best regards,
> Francesco
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/b7647d3a/attachment.html
From mbelgrano at deltain.it  Mon Feb 23 18:01:13 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 23 18:01:17 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <49A31D09.5000101@teledetection.fr>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
	<49A1C2CC.4090803@teledetection.fr>
	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>
	<49A3116D.40608@teledetection.fr>
	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>
	<49A319C1.3090009@teledetection.fr>
	<49A31D09.5000101@teledetection.fr>
Message-ID: <609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>

Ops sorry during  prev test i switched to root
(i think that root user will do every command like administrator
unhappy to see that is non true)
but i not able to generate  harbour_1.0.1-1_i386.deb

Fist time that i execute  from harbour dir
$ fakeroot sh mpkg_deb.sh
switch from $ to #

here operation made
vmplanet@ubuntu-vm:~$ cd $home
vmplanet@ubuntu-vm:~$ cd src
vmplanet@ubuntu-vm:~/src$ cd harbour
vmplanet@ubuntu-vm:~/src/harbour$ fakeroot sh mpkg_deb.sh
root@ubuntu-vm:~/src/harbour# fakeroot sh mpkg_deb.sh
fakeroot: FAKEROOTKEY set to 1343819330
fakeroot: nested operation not yet supported
root@ubuntu-vm:~/src/harbour#



2009/2/23 Guy Roussin <guy.roussin@teledetection.fr>:
> Massimo,
>>
>> I think your message is not related to the fakeroot
>
> Or perhaps you run fakeroot as root ???
> You don't need fakeroot, if you compile harbour as root ..
>
> guy
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From info at fsgiudice.com  Mon Feb 23 18:35:56 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 23 18:36:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <18d502870902231435j6127ecbdld388a9fc7c2784ff@mail.gmail.com>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>	<49A3178B.9080702@teledetection.fr>
	<49A31B32.9030607@fsgiudice.com>	<49A31C7B.9080909@fsgiudice.com>	<18d502870902231410x5c8fcaf8v675a5803283300d2@mail.gmail.com>	<49A31FB9.7020408@fsgiudice.com>
	<18d502870902231435j6127ecbdld388a9fc7c2784ff@mail.gmail.com>
Message-ID: <49A332DC.9080106@fsgiudice.com>

Hi Viktor,

Il 23/02/2009 23.35, Viktor Szak?ts ha scritto:
> No problem, sorry for the trouble.
No problem at all. Thank you for your efforts.

Best regards,
Francesco
From info at fsgiudice.com  Mon Feb 23 18:45:42 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Feb 23 18:45:49 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <49A3009F.4090408@fsgiudice.com>
References: <22143106.post@talk.nabble.com>	<20090223101735.GA28406@uran.home.aster.pl>	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>	<20090223174916.GA20753@uran.home.aster.pl>	<22168610.post@talk.nabble.com>
	<49A3009F.4090408@fsgiudice.com>
Message-ID: <49A33526.7060604@fsgiudice.com>

Hi Pritpal,
at first look it seems that with -DHB_FM_WIN_ALLOC is better, but the 
problem is still there.

I've only a doubt: do I set correctly my env ? I have added:
set HB_USER_CFLAGS=-DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF -DHB_FM_WIN_ALLOC

I think yes.
So I have to continue to investigate. Now I will try to reduce to a 
simple application.

Best regards,
Francesco

Il 23/02/2009 21.01, Francesco Saverio Giudice ha scritto:
> Hi Pritpal,
> 
> Il 23/02/2009 20.45, Pritpal Bedi ha scritto:
>> This also shed light on uhttpd's reported high memory consumption in 
>> another thread. Francesco ?
> 
> Just testing
> 

From bedipritpal at hotmail.com  Mon Feb 23 19:27:36 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 23 19:27:40 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <49A33526.7060604@fsgiudice.com>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com> <49A3009F.4090408@fsgiudice.com>
	<49A33526.7060604@fsgiudice.com>
Message-ID: <22173402.post@talk.nabble.com>


Hi

I retreat my findings.

Dlmalloc.c does not increase the size of the memory 
but memProof.exe reports unfreed blocks for sure.

-WIN_ALLOC does not report any unfree blocks.

Regards
Pritpal Bedi


Francesco Saverio Giudice wrote:
> 
> Hi Pritpal,
> at first look it seems that with -DHB_FM_WIN_ALLOC is better, but the 
> problem is still there.
> 
> I've only a doubt: do I set correctly my env ? I have added:
> set HB_USER_CFLAGS=-DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF
> -DHB_FM_WIN_ALLOC
> 
> I think yes.
> So I have to continue to investigate. Now I will try to reduce to a 
> simple application.
> 
> Best regards,
> Francesco
> 
> Il 23/02/2009 21.01, Francesco Saverio Giudice ha scritto:
>> Hi Pritpal,
>> 
>> Il 23/02/2009 20.45, Pritpal Bedi ha scritto:
>>> This also shed light on uhttpd's reported high memory consumption in 
>>> another thread. Francesco ?
>> 
>> Just testing
>> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/Dlmalloc.c---VirtualAlloc-Free---Test-Results-tp22143106p22173402.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Feb 23 19:30:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 19:30:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10422] trunk/harbour
Message-ID: <E1LblCD-000841-5j@74yxhf1.ch3.sourceforge.com>

Revision: 10422
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10422&view=rev
Author:   vszakats
Date:     2009-02-24 00:30:48 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 01:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Tweaked to only include path in shared lib name on *nixes,
      if Harbour is installed in a system location.
    ! Forgot to add bin dir to lib path in shared mode in gcc/*nix.
    ! Fixed macro substitution order for {DB}.
    ! Tweaks for library name forming on gcc family.
      The applied rule is to prepend -l, delete lib prefix and extension,
      when the libname doesn't have a path in it, if it has, the libname
      will be passed as is (without -l, with lib prefix and extension).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Mon Feb 23 19:32:29 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Feb 23 19:32:34 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <22163518.post@talk.nabble.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<22163518.post@talk.nabble.com>
Message-ID: <531d7a750902231632h417da605p7686559508f6b0dd@mail.gmail.com>

Done. Also added a NEWS indicating the availability of release 1.0.1

2009/2/23 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi Renato
>
> Perhaps you have missed my name in the crew-list.
> As you showed it visible, may be that page never got
> updated at the production folder.
>
> Pritpal Bedi
> a student of software analysis & design
> pritpal@vouchcac.com
> INDIA
>
>
> --
> View this message in context: http://www.nabble.com/Website-layout-updated%21-tp22026513p22163518.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From harbour.01 at syenar.hu  Mon Feb 23 19:50:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 23 19:50:51 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <531d7a750902231632h417da605p7686559508f6b0dd@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>
	<22163518.post@talk.nabble.com>
	<531d7a750902231632h417da605p7686559508f6b0dd@mail.gmail.com>
Message-ID: <18d502870902231650t41b9a609ie1407692c86f09ed@mail.gmail.com>

Thanks a lot Renato!
Brgds,
Viktor

On Tue, Feb 24, 2009 at 1:32 AM, Vailton Renato <vailtom@gmail.com> wrote:

> Done. Also added a NEWS indicating the availability of release 1.0.1
>
> 2009/2/23 Pritpal Bedi <bedipritpal@hotmail.com>:
> >
> > Hi Renato
> >
> > Perhaps you have missed my name in the crew-list.
> > As you showed it visible, may be that page never got
> > updated at the production folder.
> >
> > Pritpal Bedi
> > a student of software analysis & design
> > pritpal@vouchcac.com
> > INDIA
> >
> >
> > --
> > View this message in context:
> http://www.nabble.com/Website-layout-updated%21-tp22026513p22163518.html
> > Sent from the Harbour - Dev mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Vailton Renato
> SQL LIB, MyMake & xDev Developer
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/96e8c844/attachment-0001.html
From vszakats at users.sourceforge.net  Mon Feb 23 20:15:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 23 20:15:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10423] trunk/harbour
Message-ID: <E1Lblt2-0000v8-6x@c3vjzd1.ch3.sourceforge.com>

Revision: 10423
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10423&view=rev
Author:   vszakats
Date:     2009-02-24 01:15:00 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 02:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
    + Added Open Watcom .dll building.
    ; Quickest and most clean case so far.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb 23 20:43:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Feb 23 20:38:05 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <22168610.post@talk.nabble.com>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
Message-ID: <20090224014324.GA27365@uran.home.aster.pl>

On Mon, 23 Feb 2009, Pritpal Bedi wrote:

Hi,

> Harbour compiled with -DHB_FM_WIN_ALLOC 
> doe snot produce any unreleased Virtual Mem Pages 
> as reported by MemProof.

So we can try pacify it.
But I'm interesting why Toninho didn't confirm your results.
Is it newer BCC problem or wrongly created Harbour binaries
or test application.

> Plus exiting a thread also releases the memory properly.

AFAIK there was no bug in thread memory and DLMALLOC at all.

> With dlmalloc.c, a thread was never releasing the memory.

It's not true because dlmalloc code used by Harbour does not
use and thread local memory or storage. All threads use exactly
the same memory poll.

> You start another thread, keep on initiating other threads,
> close those modules, Task Manager going on reporting 
> increase in memory. At the appln exit, unfreed virual blocks
> keep on increasing by the number of threads an appln 
> fires.

I'm sorry Pritpal but I do not believe that you made such
full tests. Technically it's impossible what you described
until VirtualAlloc()/VirtualFree()/VirtualQuery() does
not make sth different then MS describes. Though it possible
that the testing tool wrappers intorduced some differences.

> This also shed light on uhttpd's reported high 
> memory consumption in another thread. Francesco ?

I do not think so.

> Something very serious if dlmalloc is the default for Harbour.
> Probably easy to fix if someone concentrates onto that.

The only one thing which probably exist in DLMALLOC which
it not pleasure but does not cause any real problems is
the fact that it may not release all memory area allocated
by VirtualAlloc() and always keeps some small block(s) for
performance reasons - DLMALLOC does not know that the
application is exiting so it will not allocate any new
memory block in a while. So keep some peace of memory
to quickly realize such request. It's nothing wrong in
the above though it may cause some false alarms in tools
like memproof so if it will not cost too much we can try
to pacify it.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Tue Feb 24 01:28:02 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb 24 01:28:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
Message-ID: <9257026e0902232228l4dc75cefvb18a54e65390ea54@mail.gmail.com>

On Mon, Feb 23, 2009 at 10:19 PM,  <vszakats@users.sourceforge.net> wrote:

> ?- bin/hb-mkslib.sh
> ?+ bin/hb-mkdyn.sh
> ? ?* Synced the name of these tools with similar function,
> ? ? ?name also converted to 8.3.

hb-mkslib.sh is there since years and is used in user makefiles.
Changing it is like changing harbour binary to harbxyz.

best regards,
Lorenzo
From philb at philb.us  Tue Feb 24 02:24:28 2009
From: philb at philb.us (Phil Barnett)
Date: Tue Feb 24 02:24:34 2009
Subject: [Harbour] Re: Intresting corner of info
In-Reply-To: <609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
References: <609353e70902181015n16652b89vbc3ea81753a54c7b@mail.gmail.com>
	<609353e70902230148h53f96f8eu3ed04c263ae0ddcc@mail.gmail.com>
Message-ID: <49A3A0AC.5060002@philb.us>

Massimo Belgrano wrote:
> Another posting of Steffen that reply to xbase is the only multitread project
>
> require a reply?
>
> Steffen's Response to my post on  Pritpal Bedi take on Multi-
> threading.
Thank you for posting this. We should welcome input like this. It's very 
difficult to get a reasonably objective expert opinion such as this one. 
This was a very valuable critique, regardless of it not having perfect 
accuracy. Much of it is right on the money.
From maurilio.longo at libero.it  Tue Feb 24 03:19:41 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 24 03:19:49 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <22168610.post@talk.nabble.com>
References: <22143106.post@talk.nabble.com>	<20090223101735.GA28406@uran.home.aster.pl>	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
Message-ID: <49A3AD9D.3060100@libero.it>

Pritpal,

no, uhttpd leaks memory on OS/2 also where dlmalloc is not available.

Maurilio.

Pritpal Bedi wrote:
> Hello Przemek
> 
> Harbour compiled with -DHB_FM_WIN_ALLOC 
> doe snot produce any unreleased Virtual Mem Pages 
> as reported by MemProof.
> 
> Plus exiting a thread also releases the memory properly.
> 
> With dlmalloc.c, a thread was never releasing the memory.
> You start another thread, keep on initiating other threads,
> close those modules, Task Manager going on reporting 
> increase in memory. At the appln exit, unfreed virual blocks
> keep on increasing by the number of threads an appln 
> fires.
> 
> This also shed light on uhttpd's reported high 
> memory consumption in another thread. Francesco ?
> 
> Something very serious if dlmalloc is the default for Harbour.
> Probably easy to fix if someone concentrates onto that.
> 
> Regards
> Pritpal Bedi
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From guy.roussin at teledetection.fr  Tue Feb 24 03:21:31 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Feb 24 03:21:35 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>	<49A1C2CC.4090803@teledetection.fr>	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>	<49A3116D.40608@teledetection.fr>	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>	<49A319C1.3090009@teledetection.fr>	<49A31D09.5000101@teledetection.fr>
	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>
Message-ID: <49A3AE0B.6020706@teledetection.fr>

Hi Massimo,

Be sure to log (X, gdm) as *user* and then open a new terminal (console)
http://wiki.debian.org/FakeRoot
(see Error messages)

Guy


Massimo Belgrano a ?crit :
> Ops sorry during  prev test i switched to root
> (i think that root user will do every command like administrator
> unhappy to see that is non true)
> but i not able to generate  harbour_1.0.1-1_i386.deb
>
> Fist time that i execute  from harbour dir
> $ fakeroot sh mpkg_deb.sh
> switch from $ to #
>
> here operation made
> vmplanet@ubuntu-vm:~$ cd $home
> vmplanet@ubuntu-vm:~$ cd src
> vmplanet@ubuntu-vm:~/src$ cd harbour
> vmplanet@ubuntu-vm:~/src/harbour$ fakeroot sh mpkg_deb.sh
> root@ubuntu-vm:~/src/harbour# fakeroot sh mpkg_deb.sh
> fakeroot: FAKEROOTKEY set to 1343819330
> fakeroot: nested operation not yet supported
> root@ubuntu-vm:~/src/harbour#
>
>
>   

From harbour.01 at syenar.hu  Tue Feb 24 03:37:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 03:37:15 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <49A3AE0B.6020706@teledetection.fr>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
	<49A1C2CC.4090803@teledetection.fr>
	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>
	<49A3116D.40608@teledetection.fr>
	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>
	<49A319C1.3090009@teledetection.fr>
	<49A31D09.5000101@teledetection.fr>
	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>
	<49A3AE0B.6020706@teledetection.fr>
Message-ID: <18d502870902240037q5a396871q3781af3c1be661dc@mail.gmail.com>

Just a note: you don't have to install Harbour in order to use it.
--- run in Harbour root dir
#!/bin/sh
PREFIX=`pwd`/`dirname $0`
# or any explicit dir: PREFIX=~/harbour
export HB_BIN_INSTALL=$PREFIX/bin
export HB_LIB_INSTALL=$PREFIX/lib
export HB_INC_INSTALL=$PREFIX/include
export HB_DOC_INSTALL=$PREFIX/doc

. `dirname $0`/make_gnu.sh $*
---

Brgds,
Viktor

On Tue, Feb 24, 2009 at 9:21 AM, Guy Roussin
<guy.roussin@teledetection.fr>wrote:

> Hi Massimo,
>
> Be sure to log (X, gdm) as *user* and then open a new terminal (console)
> http://wiki.debian.org/FakeRoot
> (see Error messages)
>
> Guy
>
>
> Massimo Belgrano a ?crit :
>
>> Ops sorry during  prev test i switched to root
>> (i think that root user will do every command like administrator
>> unhappy to see that is non true)
>> but i not able to generate  harbour_1.0.1-1_i386.deb
>>
>> Fist time that i execute  from harbour dir
>> $ fakeroot sh mpkg_deb.sh
>> switch from $ to #
>>
>> here operation made
>> vmplanet@ubuntu-vm:~$ cd $home
>> vmplanet@ubuntu-vm:~$ cd src
>> vmplanet@ubuntu-vm:~/src$ cd harbour
>> vmplanet@ubuntu-vm:~/src/harbour$ fakeroot sh mpkg_deb.sh
>> root@ubuntu-vm:~/src/harbour# fakeroot sh mpkg_deb.sh
>> fakeroot: FAKEROOTKEY set to 1343819330
>> fakeroot: nested operation not yet supported
>> root@ubuntu-vm:~/src/harbour#
>>
>>
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/b4d9193b/attachment.html
From francek.prijatelj at siol.net  Tue Feb 24 03:50:03 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Tue Feb 24 03:50:10 2009
Subject: [Harbour] REQUEST for puting "#include cstrfil.h " into cstrfil.c
Message-ID: <49A3B4BB.9020701@siol.net>

Hello  Przemyslaw

I  have a problem compiling (MSVC8 ; -p switch)  cstrfil.c.
It can be solved   puting "#include cstrfil.h " into cstrfil.c.
Pls can you change this.



-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/6e239736/francek_prijatelj.vcf
From mbelgrano at deltain.it  Tue Feb 24 03:51:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 24 03:51:52 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <49A3AE0B.6020706@teledetection.fr>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
	<49A1C2CC.4090803@teledetection.fr>
	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>
	<49A3116D.40608@teledetection.fr>
	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>
	<49A319C1.3090009@teledetection.fr>
	<49A31D09.5000101@teledetection.fr>
	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>
	<49A3AE0B.6020706@teledetection.fr>
Message-ID: <609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>

Thanks for clarification about fakeroot and sorry for my ignorance.
the prompt /src/harbour$ tell me that i am logged as user and have open terminal
my problem is that when i execute
vmplanet@ubuntu-vm:~/src/harbour$ fakeroot sh mpkg_deb.sh

automatically my prompt is transformed in

root@ubuntu-vm:~/src/harbour#

and no file is generated
i have tried also download  last update , reboot, and repeat operation
but the result are the same

Must i try something like follow row?
fakeroot
sh mpkg_deb.sh
exit

2009/2/24 Guy Roussin <guy.roussin@teledetection.fr>:
> Hi Massimo,
>
> Be sure to log (X, gdm) as *user* and then open a new terminal (console)
> http://wiki.debian.org/FakeRoot
> (see Error messages)
>
> Guy
>
>
> Massimo Belgrano a ?crit :
>>
>> Ops sorry during ?prev test i switched to root
>> (i think that root user will do every command like administrator
>> unhappy to see that is non true)
>> but i not able to generate ?harbour_1.0.1-1_i386.deb
>>
>> Fist time that i execute ?from harbour dir
>> $ fakeroot sh mpkg_deb.sh
>> switch from $ to #
>>
>> here operation made
>> vmplanet@ubuntu-vm:~$ cd $home
>> vmplanet@ubuntu-vm:~$ cd src
>> vmplanet@ubuntu-vm:~/src$ cd harbour
>> vmplanet@ubuntu-vm:~/src/harbour$ fakeroot sh mpkg_deb.sh
>> root@ubuntu-vm:~/src/harbour# fakeroot sh mpkg_deb.sh
>> fakeroot: FAKEROOTKEY set to 1343819330
>> fakeroot: nested operation not yet supported
>> root@ubuntu-vm:~/src/harbour#
>>
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Tue Feb 24 04:01:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 04:01:19 2009
Subject: [Harbour] gtwvg and amd64
Message-ID: <18d502870902240101s3d5a207nf438a983c0a5f30f@mail.gmail.com>

Hi Pritpal,
Latest result with your modified demowvg.prg + current SVN when
clicking on rightmost menu's first item (forgot the name, but the
one you said anyway). The xpp window starts to get painted, than
it crashes like this:
---
Application Internal Error - Z:\demowvg7.exe
Terminated at: 2009.02.24 08:51:39
Unrecoverable error 6005: Exception error:

    Exception Code:C0000005
    Exception Address:0x000007FF527C7C5A
    RAX:0x000000000243FA98  RBX:0x0000000000000000  RCX:0x000000000243FA98
 RDX:0x0000000000000000
    RSI:0x0000000000000000  RDI:0x0000000000278110  RBP:0x0000000000000000
    R8 :0x0000000000000000  R9 :0x0000000000000000  R10:0x0000000000000000
 R11:0x00000000002502C8
    R12:0x000000000243FA00  R13:0x0000000000000008  R14:0x000000014017E540
 R15:0x0000000002337170
    CS:RIP:0033:0x000007FF527C7C5A  SS:RSP:002B:0x000000000243F990
    DS:002B  ES:002B  FS:0053  GS:002B
    Flags:00010246

Modules:
0x0000000140000000 0x00000000001AF000 Z:\demowvg7.exe
0x0000000077EC0000 0x0000000000139000 C:\WINDOWS\system32\ntdll.dll
0x0000000077D40000 0x0000000000173000 C:\WINDOWS\system32\kernel32.dll
0x000007FF76200000 0x00000000000EF000
C:\WINDOWS\WinSxS\amd64_Microsoft.Windows.Common-Controls_6595b64144ccf1df_5.82.3790.3959_x-ww_AB06DEB0\COMCTL32.dll
0x000007FF7FEE0000 0x0000000000105000 C:\WINDOWS\system32\ADVAPI32.dll
0x000007FF7FD30000 0x0000000000199000 C:\WINDOWS\system32\RPCRT4.dll
0x000007FF7E9C0000 0x0000000000022000 C:\WINDOWS\system32\Secur32.dll
0x000007FF7FC90000 0x000000000009C000 C:\WINDOWS\system32\GDI32.dll
0x0000000077C20000 0x000000000010C000 C:\WINDOWS\system32\USER32.dll
0x000007FF7D540000 0x0000000000077000 C:\WINDOWS\system32\COMDLG32.dll
0x000007FF7FC00000 0x0000000000086000 C:\WINDOWS\system32\msvcrt.dll
0x000007FF7EF60000 0x000000000009B000 C:\WINDOWS\system32\SHLWAPI.dll
0x000007FF7F190000 0x0000000000A0B000 C:\WINDOWS\system32\SHELL32.dll
0x000007FF57140000 0x0000000000285000 C:\WINDOWS\system32\ole32.dll
0x000007FF7EBC0000 0x0000000000116000 C:\WINDOWS\system32\OLEAUT32.dll
0x000007FF7D500000 0x0000000000039000 C:\WINDOWS\system32\IMM32.DLL
0x000007FF7F000000 0x0000000000187000
C:\WINDOWS\WinSxS\amd64_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.3790.3959_x-ww_0A7B2435\comctl32.dll
0x000007FF7D310000 0x0000000000006000 C:\WINDOWS\system32\msimg32.dll
0x000007FF7A410000 0x000000000009F000 C:\WINDOWS\system32\MSCTF.dll
0x000007FF7CE50000 0x0000000000041000 C:\WINDOWS\system32\apphelp.dll
0x000007FF58AF0000 0x000000000005C000 C:\WINDOWS\system32\msctfime.ime
0x000007FF7E040000 0x000000000001C000 C:\WINDOWS\system32\atl.dll
0x000007FF7EA10000 0x00000000000DE000 C:\WINDOWS\system32\CLBCatQ.DLL
0x000007FF7EAF0000 0x00000000000C6000 C:\WINDOWS\system32\COMRes.dll
0x000007FF7FBF0000 0x000000000000B000 C:\WINDOWS\system32\VERSION.dll
0x000007FF52750000 0x00000000006C2000 C:\WINDOWS\system32\ieframe.dll
0x000007FF7E380000 0x0000000000010000 C:\WINDOWS\system32\PSAPI.DLL
0x000007FF77230000 0x000000000007F000 C:\WINDOWS\system32\UxTheme.dll
0x000007FF526F0000 0x000000000005E000 C:\WINDOWS\system32\iertutil.dll
0x000007FF7CC60000 0x00000000001E7000 C:\WINDOWS\system32\SXS.DLL
0x000007FF4E350000 0x00000000000FF000 C:\WINDOWS\system32\WININET.dll
0x0000000002540000 0x000000000000A000 C:\WINDOWS\system32\Normaliz.dll
0x000007FF77310000 0x0000000000030000 C:\WINDOWS\system32\ws2_32.dll
0x000007FF77140000 0x000000000000C000 C:\WINDOWS\system32\WS2HELP.dll

Called from HB_AX_SETUPCONNECTIONPOINT(0)
Called from WVGHTMLVIEWER:ADVISEEVENTS(0) in .\wvgax.prg
Called from WVGACTIVEXCONTROL:CREATE(0) in .\wvgax.prg
Called from WVGHTMLVIEWER:CREATE(0) in .\wvghtmlv.prg
Called from DEMOXBP(3213) in demowvg.prg
Called from (b)EVAL(1437)
------------------------------------------------------------------------

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/e271d40b/attachment.html
From harbour.01 at syenar.hu  Tue Feb 24 04:08:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 04:08:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <9257026e0902232228l4dc75cefvb18a54e65390ea54@mail.gmail.com>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
	<9257026e0902232228l4dc75cefvb18a54e65390ea54@mail.gmail.com>
Message-ID: <18d502870902240108p7d4f0aa9p8b00a4ce3b30ef40@mail.gmail.com>

It wasn't an officially documented tool. Anyhow we need to stick with 8.3
for known reasons and for clarity
we should use the same names for similar tools across our supported
platforms. If it's a huge problem for many
users, we can add a compatibility link at install time for
the next few releases while putting the old name in
compatibility status, like we have done so a few times in
the past.

It's much worse inconvenience for all new users that for
Harbour compatibility reasons we now cannot compile any
of our supplied examples without specifying '-n'. They either
don't work or generate surprising errors. On some platforms
they don't even work with -n without resorting to hacks.

Brgds,
Viktor

On Tue, Feb 24, 2009 at 7:28 AM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> On Mon, Feb 23, 2009 at 10:19 PM,  <vszakats@users.sourceforge.net> wrote:
>
> >  - bin/hb-mkslib.sh
> >  + bin/hb-mkdyn.sh
> >    * Synced the name of these tools with similar function,
> >      name also converted to 8.3.
>
> hb-mkslib.sh is there since years and is used in user makefiles.
> Changing it is like changing harbour binary to harbxyz.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/4849964b/attachment.html
From vszakats at users.sourceforge.net  Tue Feb 24 04:20:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 04:20:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10424] trunk/harbour
Message-ID: <E1LbtSs-0002px-Hk@c3vjzd1.ch3.sourceforge.com>

Revision: 10424
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10424&view=rev
Author:   vszakats
Date:     2009-02-24 09:20:30 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 10:20 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * ChangeLog
    * Updates.
    ! Correction made to entry:
      2009-02-24 01:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

  * utils/hbmk2/hbmk2.prg
    * Attempt to add .dll support for win/owatcom.
    ; TOFIX: This happens:
             Warning! W1023: no starting address found, using 00401000

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Tue Feb 24 04:22:32 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Feb 24 04:22:38 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>	<49A1C2CC.4090803@teledetection.fr>	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>	<49A3116D.40608@teledetection.fr>	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>	<49A319C1.3090009@teledetection.fr>	<49A31D09.5000101@teledetection.fr>	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>	<49A3AE0B.6020706@teledetection.fr>
	<609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>
Message-ID: <49A3BC58.7030306@teledetection.fr>

Hi Massimo,

You can run 'sh mpkg_deb.sh'
as root and don't use fakeroot :
$ sudo sh mpkg_deb.sh
fakeroot is only need to compile harbour as user

Guy

Massimo Belgrano a ?crit :
> Thanks for clarification about fakeroot and sorry for my ignorance.
> the prompt /src/harbour$ tell me that i am logged as user and have open terminal
> my problem is that when i execute
> vmplanet@ubuntu-vm:~/src/harbour$ fakeroot sh mpkg_deb.sh
>
> automatically my prompt is transformed in
>
> root@ubuntu-vm:~/src/harbour#
>
> and no file is generated
> i have tried also download  last update , reboot, and repeat operation
> but the result are the same
>
> Must i try something like follow row?
> fakeroot
> sh mpkg_deb.sh
> exit
>
> 2009/2/24 Guy Roussin <guy.roussin@teledetection.fr>:
>   
>> Hi Massimo,
>>
>> Be sure to log (X, gdm) as *user* and then open a new terminal (console)
>> http://wiki.debian.org/FakeRoot
>> (see Error messages)
>>
>> Guy
>>
>>
>> Massimo Belgrano a ?crit :
>>     
>>> Ops sorry during  prev test i switched to root
>>> (i think that root user will do every command like administrator
>>> unhappy to see that is non true)
>>> but i not able to generate  harbour_1.0.1-1_i386.deb
>>>
>>> Fist time that i execute  from harbour dir
>>> $ fakeroot sh mpkg_deb.sh
>>> switch from $ to #
>>>
>>> here operation made
>>> vmplanet@ubuntu-vm:~$ cd $home
>>> vmplanet@ubuntu-vm:~$ cd src
>>> vmplanet@ubuntu-vm:~/src$ cd harbour
>>> vmplanet@ubuntu-vm:~/src/harbour$ fakeroot sh mpkg_deb.sh
>>> root@ubuntu-vm:~/src/harbour# fakeroot sh mpkg_deb.sh
>>> fakeroot: FAKEROOTKEY set to 1343819330
>>> fakeroot: nested operation not yet supported
>>> root@ubuntu-vm:~/src/harbour#
>>>
>>>
>>>       

From info at fsgiudice.com  Tue Feb 24 04:37:11 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Feb 24 04:37:24 2009
Subject: [Harbour] Website layout updated!
In-Reply-To: <18d502870902231650t41b9a609ie1407692c86f09ed@mail.gmail.com>
References: <531d7a750902151141k44aee7beqede83842c2f6842c@mail.gmail.com>	<22163518.post@talk.nabble.com>	<531d7a750902231632h417da605p7686559508f6b0dd@mail.gmail.com>
	<18d502870902231650t41b9a609ie1407692c86f09ed@mail.gmail.com>
Message-ID: <49A3BFC7.3090406@fsgiudice.com>

Sorry but we didn't agreed that the crew list should be the *complete* 
list from hbusage.c in a simple table having:

     Name - Nation - eMail or website or none - Photo - Comments

ordered by name as in hbusage.c ?

Otherwise please add me:

Francesco Saverio Giudice
info / at / fsgiudice.com
ITALY
(What comment ? Contrib libs developer ?)

Best regards

Francesco

Il 24/02/2009 1.50, Viktor Szak?ts ha scritto:
> Thanks a lot Renato!
> 
> Brgds,
> Viktor
> 
> On Tue, Feb 24, 2009 at 1:32 AM, Vailton Renato <vailtom@gmail.com 
> <mailto:vailtom@gmail.com>> wrote:
> 
>     Done. Also added a NEWS indicating the availability of release 1.0.1
> 

From druzus at acn.waw.pl  Tue Feb 24 05:19:14 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 24 05:13:53 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
	<49A1C2CC.4090803@teledetection.fr>
	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>
	<49A3116D.40608@teledetection.fr>
	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>
	<49A319C1.3090009@teledetection.fr>
	<49A31D09.5000101@teledetection.fr>
	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>
	<49A3AE0B.6020706@teledetection.fr>
	<609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>
Message-ID: <20090224101914.GA25837@uran.home.aster.pl>

On Tue, 24 Feb 2009, Massimo Belgrano wrote:

Hi Massimo,

> Thanks for clarification about fakeroot and sorry for my ignorance.
> the prompt /src/harbour$ tell me that i am logged as user and have open terminal
> my problem is that when i execute
> vmplanet@ubuntu-vm:~/src/harbour$ fakeroot sh mpkg_deb.sh

Can you simply try:
   ./mpkg_deb.sh

I do not know well deb based distributions but it should be possible
to create deb files from non root account.
Running harbour build process from root account is vary bad idea.
Even a small typo in our build scripts can damage the distribution.
Never trust projects which needs root for simple compilation.
Only install phase in system directories should need additional
privileges.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Feb 24 05:30:10 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 24 05:24:49 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090224014324.GA27365@uran.home.aster.pl>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
Message-ID: <20090224103010.GB25837@uran.home.aster.pl>

On Tue, 24 Feb 2009, Przemyslaw Czerpak wrote:
Hi,

> The only one thing which probably exist in DLMALLOC which
> it not pleasure but does not cause any real problems is
> the fact that it may not release all memory area allocated
> by VirtualAlloc() and always keeps some small block(s) for
> performance reasons - DLMALLOC does not know that the
> application is exiting so it will not allocate any new
> memory block in a while. So keep some peace of memory
> to quickly realize such request. It's nothing wrong in
> the above though it may cause some false alarms in tools
> like memproof so if it will not cost too much we can try
> to pacify it.

I've just look at it and I can add cleanup call but it will work
only if DLMALLOC is compiled with DL prefix. When it replaces
CRTL malloc/free/realloc/calloc/... functions then even if I'll
execute cleanup call on HVM close then still CRTL functions
executed later in CRTL exit phase may reactivate it or even GPF
may appear if some memory was allocated by CRTL at startup then
I'll force cleanup in DLMALLOC and on exit the memory will be
freed or accessed.
So if you want then I add such functionality but it will be
enabled only when USE_DL_PREFIX is defined. If you make some
test which confirm that the virtual addresses as freed as
expected then we can enable USE_DL_PREFIX as default.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Tue Feb 24 05:40:33 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Feb 24 05:40:38 2009
Subject: [Harbour] HB_COMPILE()
Message-ID: <27744D2447FE4EA7969FA78B985A5E51@emag>

Dear friends, If I run the following sample:

FUNCTION MAIN()

    HB_COMPILE( "TEST.PRG" )

    RETURN NIL

what I get is:

Harbour 1.1.0dev (Rev. 10421)
Copyright (c) 1999-2009, http://www.harbour-project.org/

Syntax:  TEST.PRG <file[s][.prg]|@file> [options]

Options:  /a               automatic memvar declaration
          /b               debug info
          /build           display detailed version info
          /credits         display credits
          /d<id>[=<val>]   #define <id>
          /es[<level>]     set exit severity
          /fn[:[l|u]|-]    set filename casing (l=lower u=upper)
          /fd[:[l|u]|-]    set directory casing (l=lower u=upper)
          /fp[:<char>]     set path separator
          /fs[-]           turn filename space trimming on or off (default)
          /g<type>         output type generated is <type> (see below)
          /gc[<type>]      output type: C source (.c) (default)
                           <type>: 0=compact (default) 1=normal 2=verbose
                                   3=generate real C code
          /go              output type: Platform dependant object module
          /gh              output type: Harbour Portable Object (.hrb)
          /i<path>         #include file search path
          /j[<file>]       generate i18n gettext file (.pot)
          /k               compilation mode (type -k? for more data)
          /l               suppress line number information
          /m               compile module only
          /n[<type>]       no implicit starting procedure
                           <type>: 0=no implicit starting procedure
                                   1=no starting procedure at all
          /o<path>         object file drive and/or path
          /p[<path>]       generate pre-processed output (.ppo) file
          /p+              generate pre-processor trace (.ppt) file
          /q               quiet
          /q0              quiet and don't display program header
          /r:<max>         set maximum number of preprocessor iterations
          /s               syntax check only
          /u[<file>]       use command def set in <file> (or none)
          /undef:<id>      #undef <id>
          /v               variables are assumed M->
          /w[<level>]      set warning level number (0..3, default 1)
          /x[<prefix>]     set symbol init function name prefix (for .c 
only)
          /z               suppress shortcutting (.and. & .or.)
          @<file>          compile list of modules in <file>

What am I missing?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Tue Feb 24 05:48:24 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Feb 24 05:48:29 2009
Subject: [Harbour] HB_COMPILE()
References: <27744D2447FE4EA7969FA78B985A5E51@emag>
Message-ID: <1D9030315F9441F9990D383CADD46C96@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Developers Mailing List" <harbour@harbour-project.org>
Data invio: marted? 24 febbraio 2009 11.40
Oggetto: [Harbour] HB_COMPILE()


> Dear friends, If I run the following sample:
>
> FUNCTION MAIN()
>
>    HB_COMPILE( "TEST.PRG" )
>
>    RETURN NIL

I changed it to:

FUNCTION MAIN()

    HB_COMPILE( "COMPILE.EXE", "TEST.PRG", "/n" )

    RETURN NIL

and now I get test.c. How can I compile and run it?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From M.Horodyski at pzuzycie.com.pl  Tue Feb 24 05:53:53 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Feb 24 05:53:57 2009
Subject: [Harbour] RE: Raport from build
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8DB71@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Monday, February 23, 2009 4:20 PM
>To: 'Harbour Project Main Developer List.'
>Subject: Raport from build
>
>Date  - 2009-02-23, from naightly zip file. Compiler : owactom.
>
>On screen :
>
>c:\harbour>make_gnu.bat clean
>c:\harbour>make_gnu.bat
>make[3]: *** [wvgcore.obj] Error 8
>make[2]: *** [descend] Error 2
>make[1]: *** [gtwvg] Error 2
>make: *** [contrib] Error 2


Todays log [ 24:02:2009 ], on screen :
c:\harbour>make_gnu.bat clean    
                                 
c:\harbour>make_gnu.bat          
make[3]: *** [wvgwin.obj] Error 8
make[2]: *** [descend] Error 2   
make[1]: *** [gtwvg] Error 2     
make: *** [contrib] Error 2

c:\harbour>make_gnu.bat install  
make[3]: *** [wvgwin.obj] Error 8
make[2]: *** [descend] Error 2   
make[1]: *** [gtwvg.inst] Error 2
make: *** [contrib.inst] Error 2 



>From files :

c:\harbour\ChangeLog.
/*
 * $Id: ChangeLog 10421 2009-02-23 22:20:00Z vszakats $
 */
/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name (your_email address)
   For example:
   2009-12-31 13:59 UTC+0100 Foo Bar (foo.bar foobar.org)
*/
[...]


c:\harbour\make_gnu.log
[...]
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
../../wvgwin.c(1617): Error! E715: col(9) member 'item' has not been
declared in 'tagTVINSERTSTRUCTA'
../../wvgwin.c(1630): Warning! W014: col(1) no reference to symbol
'tagTVINSERTSTRUCTA::hParent'
../../wvgwin.c(1607): Note! N392: col(16) definition: '_TREEITEM *
tagTVINSERTSTRUCTA::hParent' in 'void HB_FUN_WVG_TREEVIEW_ADDITEM( void
)'
../../wvgwin.c(1630): Warning! W014: col(1) no reference to symbol
'tagTVINSERTSTRUCTA::hInsertAfter'
../../wvgwin.c(1608): Note! N392: col(16) definition: '_TREEITEM *
tagTVINSERTSTRUCTA::hInsertAfter' in 'void HB_FUN_WVG_TREEVIEW_ADDITEM(
void )'
../../wvgwin.c(1630): Warning! W014: col(1) no reference to symbol
'tagTVINSERTSTRUCTA::item'
../../wvgwin.c(1609): Note! N392: col(16) definition: 'tagTVITEMA
tagTVINSERTSTRUCTA::item' in 'void HB_FUN_WVG_TREEVIEW_ADDITEM( void )'
../../wvgwin.c(2931): Warning! W014: col(2) no reference to symbol
'WVG_WndProc_par'
../../wvgwin.c(2851): Note! N392: col(17) definition: 'void *
WVG_WndProc_par( int )'
make[3]: Leaving directory `c:/harbour/contrib/gtwvg/win/owatcom'
make[2]: Leaving directory `c:/harbour/contrib/gtwvg'
make[1]: Leaving directory `c:/harbour/contrib'

Regards,
Marek Horodyski
      
From guy.roussin at teledetection.fr  Tue Feb 24 06:34:08 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Feb 24 06:34:13 2009
Subject: [Harbour] Compiling harbour under cygwin
Message-ID: <49A3DB30.1080302@teledetection.fr>

Hi,

I try to compile harbour under cygwin for a friend.
But i get an error :

$ ./make_gcc.sh
make_gcc.mak:331: attention : ?crasement des commandes pour la cible ? 
lib/gcc/libhbmainstd.a ?
make_gcc.mak:309: attention : anciennes commandes ignor?es pour la cible 
? lib/gcc/libhbmainstd.a ?
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/mainstd.o 
source/vm/mainstd.c
ar rc  lib/gcc/libhbmainstd.a obj/gcc/mainstd.o
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/mainwin.o 
source/vm/mainwin.c
ar rc  lib/gcc/libhbmainwin.a obj/gcc/mainwin.o
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc 
-oobj/gcc/expropt1.o source/common/expropt1.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc 
-oobj/gcc/expropt2.o source/common/expropt2.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbarch.o 
source/common/hbarch.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbdate.o 
source/common/hbdate.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbfopen.o 
source/common/hbfopen.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbfsapi.o 
source/common/hbfsapi.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbgete.o 
source/common/hbgete.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbhash.o 
source/common/hbhash.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbmem.o 
source/common/hbmem.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc 
-oobj/gcc/hbprintf.o source/common/hbprintf.c
source/common/hbprintf.c: In function `put_dbl':
source/common/hbprintf.c:647: attention : d'eclaration implicite de la 
fonction << modfl >>
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbstr.o 
source/common/hbstr.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbtrace.o 
source/common/hbtrace.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbver.o 
source/common/hbver.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc 
-oobj/gcc/hbverdsp.o source/common/hbverdsp.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbwince.o 
source/common/hbwince.c
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc 
-oobj/gcc/reserved.o source/common/reserved.c
ar rc  lib/gcc/libhbcommon.a obj/gcc/expropt1.o obj/gcc/expropt2.o 
obj/gcc/hbarch.o obj/gcc/hbdate.o obj/gcc/hbfopen.o obj/gcc/hbfsapi.o 
obj/gcc/hbgete.o obj/gcc/hbhash.o obj/gcc/hbmem.o obj/gcc/hbprintf.o 
obj/gcc/hbstr.o obj/gcc/hbtrace.o obj/gcc/hbver.o obj/gcc/hbverdsp.o 
obj/gcc/hbwince.o obj/gcc/reserved.o
gcc -c -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -oobj/gcc/hbpp.o 
source/pp/hbpp.c
gcc -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -o bin/gcc/hbpp.exe 
obj/gcc/hbpp.o lib/gcc/libhbcommon.a  -luser32 -lwinspool -lwsock32 
-lgdi32 -lncurses -lX11 -L/usr/X11R6/lib
lib/gcc/libhbcommon.a(hbprintf.o):hbprintf.c:(.text+0x13d2): r?f?rence 
ind?finie vers ? _modfl ?
lib/gcc/libhbcommon.a(hbprintf.o):hbprintf.c:(.text+0x1442): r?f?rence 
ind?finie vers ? _modfl ?
lib/gcc/libhbcommon.a(hbprintf.o):hbprintf.c:(.text+0x1590): r?f?rence 
ind?finie vers ? _modfl ?
lib/gcc/libhbcommon.a(hbprintf.o):hbprintf.c:(.text+0x166f): r?f?rence 
ind?finie vers ? _modfl ?
collect2: ld a retourn'e 1 code d''etat d'ex'ecution
make: *** [bin/gcc/hbpp.exe] Erreur 1

Thanks,

-- 
Guy

From vszakats at users.sourceforge.net  Tue Feb 24 07:31:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 07:31:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10425] trunk/harbour
Message-ID: <E1LbwRI-0002ja-5G@d5vjzd1.ch3.sourceforge.com>

Revision: 10425
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10425&view=rev
Author:   vszakats
Date:     2009-02-24 12:31:07 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 13:27 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
  * make_gnu.bat
  * make_gnu.sh
  * utils/hbmk2/hbmk2.prg
  * config/win/msvc.cf
  + config/win/msvc64.cf
    + Added separate HB_COMPILER for msvc x64 mode.
      This allows to keep both the 32 and 64-bit builds
      built in parallel.
      NOTE: This is only supported with GNU Make.

  * utils/hbmk2/hbmk2.prg
    + Added autodetection of msvc64.
    + Added pocc64 and msvc64 support in self-detection
      code.

  * bin/hbmk.bat
    + Added -n to stay compatible with former hbmk.bat.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu.sh
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/win/msvc64.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Tue Feb 24 07:37:57 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Feb 24 07:38:05 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090224014324.GA27365@uran.home.aster.pl>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
Message-ID: <m8q7q410g1skpcbe3sm65neu78jfltkchj@4ax.com>

>But I'm interesting why Toninho didn't confirm your results.
>Is it newer BCC problem or wrongly created Harbour binaries
>or test application.

Hi Przemek,

A simple test:

---cut---
procedure main()
   ? "hello word"
return
---cut---

produces:

---cut---
        1  File                  00000013          0
CreateFile("CONIN$",-1073741824,3,00000000,3,0,0)
        1  Std. Handle           00000003          0
GetStdHandle(-10)
        1  Std. Handle           00000007          0
GetStdHandle(-11)
        1  Std. Handle           0000000B          0
GetStdHandle(-12)
        1  Std. Handle           00000003          0
GetStdHandle(-10)
        1  Critical Section      004A2610          0
InitializeCriticalSection
        1  Critical Section      004A2628          0
InitializeCriticalSection
        1  Critical Section      004A2670          0
InitializeCriticalSection
        1  Critical Section      004A2688          0
InitializeCriticalSection
        1  Critical Section      004A2658          0
InitializeCriticalSection
        1  Critical Section      004A26A0          0
InitializeCriticalSection
        1  Critical Section      004A2640          0
InitializeCriticalSection
        2  Critical Section      004A26D0          0
InitializeCriticalSection
        1  Critical Section      004A26B8          0
InitializeCriticalSection
       16  Virtual Memory        03090000       4096
VirtualAlloc(03090000,4096,4096,4)
       16  Virtual Memory        030A0000       4096
VirtualAlloc(030A0000,4096,4096,4)
---cut---

My environment is: Windows Vista Home Premium and set
HB_ARCHITECTURE=win, set HB_COMPILER=bcc32

My Harbour is compiled with:

SET HB_USER_CFLAGS=-DHB_GUI -DHB_FM_STATISTICS_OFF -DHB_NO_PROFILER
-DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -DHB_NO_DEBUG
-DHB_LEGACY_OFF -DHB_FM_STD_ALLOC

I'm not using -DHB_FM_WIN_ALLOC, but -DHB_FM_STD_ALLOC 

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From vszakats at users.sourceforge.net  Tue Feb 24 07:41:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 07:41:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10426] trunk/harbour
Message-ID: <E1Lbwaq-0002rg-0x@d5vjzd1.ch3.sourceforge.com>

Revision: 10426
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10426&view=rev
Author:   vszakats
Date:     2009-02-24 12:40:54 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 13:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/win/msvc.cf
  * config/win/msvc64.cf
    ! Fixed to previous.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/msvc64.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Feb 24 07:43:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb 24 07:44:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10427] trunk/harbour
Message-ID: <E1Lbwdi-0006GG-3U@74yxhf1.ch3.sourceforge.com>

Revision: 10427
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10427&view=rev
Author:   druzus
Date:     2009-02-24 12:43:57 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 13:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbsetup.h
    * minor modifications in macros
    * disabled some GCC function attributes when ICC is used

  * harbour/source/pp/ppcore.c
    * casting

  * harbour/source/vm/fm.c
    * destroy dlmalloc mspace in hb_xexit() when USE_DL_PREFIX is used
      otherwise call malloc_trim(0) to at least reduce allocated memory

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbsetup.h
    trunk/harbour/source/pp/ppcore.c
    trunk/harbour/source/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Feb 24 07:55:43 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 24 07:50:21 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <m8q7q410g1skpcbe3sm65neu78jfltkchj@4ax.com>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
	<m8q7q410g1skpcbe3sm65neu78jfltkchj@4ax.com>
Message-ID: <20090224125543.GA29338@uran.home.aster.pl>

On Tue, 24 Feb 2009, Toninho@fwi wrote:
> My environment is: Windows Vista Home Premium and set
> HB_ARCHITECTURE=win, set HB_COMPILER=bcc32
> My Harbour is compiled with:
> SET HB_USER_CFLAGS=-DHB_GUI -DHB_FM_STATISTICS_OFF -DHB_NO_PROFILER
> -DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -DHB_NO_DEBUG
> -DHB_LEGACY_OFF -DHB_FM_STD_ALLOC
> I'm not using -DHB_FM_WIN_ALLOC, but -DHB_FM_STD_ALLOC 

So it's nee BCC problem and we cannot help you.

best regards,
Przemek
From toninhofwi at yahoo.com.br  Tue Feb 24 07:52:58 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Feb 24 07:53:02 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090224014324.GA27365@uran.home.aster.pl>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
Message-ID: <ear7q4djmg2dk1l0vca0st0pm5hu3cmoh7@4ax.com>

Hi Przemek,

I recompile my local Harbour to use -DHB_FM_WIN_ALLOC and the result
are the same as using -DHB_FM_STD_ALLOC in my previous mail.

Thank you.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From vszakats at users.sourceforge.net  Tue Feb 24 07:54:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 07:55:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10428] trunk/harbour
Message-ID: <E1LbwoL-00033X-Du@d5vjzd1.ch3.sourceforge.com>

Revision: 10428
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10428&view=rev
Author:   vszakats
Date:     2009-02-24 12:54:55 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 13:53 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/win/pocc64.cf
    % Optimized to use pocc.cf and modify that slightly for x64.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/pocc64.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Feb 24 08:09:51 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 24 08:04:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10415] trunk/harbour
In-Reply-To: <E1LbeFc-0000Ei-3n@bj8yhf1.ch3.sourceforge.com>
References: <E1LbeFc-0000Ei-3n@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20090224130951.GB29338@uran.home.aster.pl>

On Mon, 23 Feb 2009, vouchcac@users.sourceforge.net wrote:
> Log Message:
> -----------
> 2009-02-23 09:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/contrib/gtwvg/wvgwin.c
>     + #define NONAMELESSUNION
>       It may fix OW' few warnings. Please test.

Hi Pritpal,

The above breaks MinGW compilation.

../../wvgwin.c:1617: error: structure has no member named `item'
../../wvgwin.c:1618: error: structure has no member named `item'
../../wvgwin.c:1619: error: structure has no member named `item'
../../wvgwin.c:1623: error: structure has no member named `item'
../../wvgwin.c:1625: error: structure has no member named `item'

You cannot use NONAMELESSUNION and then access union members without
union name.

My second question is why you are trying to redefine structures from
windows header files?

   #ifdef UNICODE
   typedef struct tagTVINSERTSTRUCTW
   {
     HTREEITEM hParent;
     HTREEITEM hInsertAfter;
     TV_ITEMW  item;
   } TVINSERTSTRUCTW, FAR *LPTVINSERTSTRUCTW;
   #else
   typedef struct tagTVINSERTSTRUCTA
   {
     HTREEITEM hParent;
     HTREEITEM hInsertAfter;
     TV_ITEMA  item;
   } TVINSERTSTRUCTA, FAR *LPTVINSERTSTRUCTA;
   #endif

This is very danger and may cause unpredictable results even if
you exactly copy the definition. Just simply windows needs
#pragma pack(...) for some definitions and such copied definitions
does not respect pack/alignment header settings at all.
Never make anything like that as long as it's not strictly necessary
and you very well know possible alignment interactions so you are
sure that it will work in all cases.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Feb 24 08:13:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 24 08:08:32 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <ear7q4djmg2dk1l0vca0st0pm5hu3cmoh7@4ax.com>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
	<ear7q4djmg2dk1l0vca0st0pm5hu3cmoh7@4ax.com>
Message-ID: <20090224131353.GA10308@uran.home.aster.pl>

On Tue, 24 Feb 2009, Toninho@fwi wrote:

Hi,

> I recompile my local Harbour to use -DHB_FM_WIN_ALLOC and the result
> are the same as using -DHB_FM_STD_ALLOC in my previous mail.

So why Pritpal has different results?
Can you agree them ;-)

It's possible that you are linking some external libraries, f.e.
FWH ones which cause such effect or you are using some C compiler
switches.
Please try to use hbmk2 to build test application:

   ANNOUNCE HB_GT_SYS
   REQUEST HB_GT_NUL_DEFAULT
   proc main()
   return

as simple CUI and GUI programs.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb 24 08:18:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 08:18:35 2009
Subject: [Harbour] Compiling harbour under cygwin
In-Reply-To: <49A3DB30.1080302@teledetection.fr>
References: <49A3DB30.1080302@teledetection.fr>
Message-ID: <18d502870902240518q3e6bd122wffd0eb97a9376d23@mail.gmail.com>

Hi Guy,


> $ ./make_gcc.sh
> make_gcc.mak:331: attention : ?crasement des commandes pour la cible ?
> lib/gcc/libhbmainstd.a ?
> make_gcc.mak:309: attention : anciennes commandes ignor?es pour la cible ?
> lib/gcc/libhbmainstd.a ?


Sorry, my French is very rusty,
q'est-ce que c'est 'cible'? :)

I'd recommend trying with GNU make (win/gcc settings) to avoid
the above.

source/common/hbprintf.c: In function `put_dbl':
> source/common/hbprintf.c:647: attention : d'eclaration implicite de la
> fonction << modfl >>


I also have few from POCC:
---
../../hbprintf.c(1147): warning #2006: [ISO] Conversion from 'void *' to
'unsigned long int' is compiler dependent.
../../hbprintf.c(1147): warning #2052: Conversion from 'void *' to 'unsigned
long int' is undefined.
../../hbinet.c(297): warning #2115: Local 'iResult' is initialized but never
used.
../../hbinet.c(324): warning #2115: Local 'iResult' is initialized but never
used.
../../files.c(268): warning #2006: [ISO] Conversion from 'void *' to 'int'
is compiler dependent.
../../files.c(268): warning #2052: Conversion from 'void *' to 'int' is
undefined.
dlmalloc.c(1419): error #2140: Type error in argument 1 to
'InterlockedCompareExchange'; found 'void * *', expected 'volatile long int
*'.
dlmalloc.c(1419): error #2140: Type error in argument 2 to
'InterlockedCompareExchange'; found 'void *', expected 'long int'.
dlmalloc.c(1419): error #2140: Type error in argument 3 to
'InterlockedCompareExchange'; found 'void *', expected 'long int'.
../../win_dll.c(509): warning #2006: [ISO] Conversion from 'void *' to
'unsigned long int' is compiler dependent.
../../win_dll.c(509): warning #2052: Conversion from 'void *' to 'unsigned
long int' is undefined.
../../win_ole.c(760): warning #2006: [ISO] Conversion from 'LPDISPATCH' to
'long int' is compiler dependent.
../../win_ole.c(760): warning #2052: Conversion from 'LPDISPATCH' to 'long
int' is undefined.
../../win_ole.c(1090): warning #2006: [ISO] Conversion from 'LPDISPATCH' to
'long int' is compiler dependent.
../../win_ole.c(1090): warning #2052: Conversion from 'LPDISPATCH' to 'long
int' is undefined.
../../win_ole.c(1423): warning #2006: [ISO] Conversion from 'void *' to
'long int' is compiler dependent.
../../win_ole.c(1423): warning #2052: Conversion from 'void *' to 'long int'
is undefined.
../../win_ole.c(1476): warning #2006: [ISO] Conversion from 'void *' to
'long int' is compiler dependent.
../../win_ole.c(1476): warning #2052: Conversion from 'void *' to 'long int'
is undefined.
../../win_regc.c(94): warning #2006: [ISO] Conversion from 'HKEY' to
'unsigned long int' is compiler dependent.
../../win_regc.c(94): warning #2052: Conversion from 'HKEY' to 'unsigned
long int' is undefined.
../../win_regc.c(116): warning #2006: [ISO] Conversion from 'HKEY' to
'unsigned long int' is compiler dependent.
../../win_regc.c(116): warning #2052: Conversion from 'HKEY' to 'unsigned
long int' is undefined.
../../sha1.c(145): warning #2223: Unable to convert character '\u0080' to
codepage 1250; using default.
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/a91a004b/attachment.html
From toninhofwi at yahoo.com.br  Tue Feb 24 08:36:43 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Feb 24 08:36:50 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090224131353.GA10308@uran.home.aster.pl>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
	<ear7q4djmg2dk1l0vca0st0pm5hu3cmoh7@4ax.com>
	<20090224131353.GA10308@uran.home.aster.pl>
Message-ID: <hit7q4lab7dga68ac66hb9ot8jhqkv834f@4ax.com>

Hi Przemek,

Thanks for answer.

>So why Pritpal has different results?
>Can you agree them ;-)
I agree of course and I don't know, but I compiled harbour with
DL_ALLOC and the results change in VirtualAlloc, but the rest are the
same. Why CreateFile, GetStdHandle and InitializeCriticalSection
remains?

        1  File                  00000013          0
CreateFile("CONIN$",-1073741824,3,00000000,3,0,0)
        1  Std. Handle           00000003          0
GetStdHandle(-10)
        1  Std. Handle           00000007          0
GetStdHandle(-11)
        1  Std. Handle           0000000B          0
GetStdHandle(-12)
        1  Std. Handle           00000003          0
GetStdHandle(-10)
        1  Critical Section      004A5884          0
InitializeCriticalSection
        1  Critical Section      004A589C          0
InitializeCriticalSection
        1  Critical Section      004A58E4          0
InitializeCriticalSection
        1  Critical Section      004A58FC          0
InitializeCriticalSection
        1  Critical Section      004A58CC          0
InitializeCriticalSection
        1  Critical Section      004A5914          0
InitializeCriticalSection
        1  Critical Section      004A58B4          0
InitializeCriticalSection
        2  Critical Section      004A5944          0
InitializeCriticalSection
        1  Critical Section      004A592C          0
InitializeCriticalSection
       16  Virtual Memory        03090000       4096
VirtualAlloc(03090000,4096,4096,4)
        1  Virtual Memory        02F80000      65536
VirtualAlloc(00000000,65536,12288,4)
        1  Virtual Memory        03490000      65536
VirtualAlloc(00000000,65536,12288,4)

>It's possible that you are linking some external libraries, f.e.
>FWH ones which cause such effect
This is not possible, I use hbmk2.

> or you are using some C compiler switches.
Maybe, I'll try with others switches, by now, I'm using these:

-O2
-d
-5
-6
-a8


Best regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From druzus at acn.waw.pl  Tue Feb 24 08:52:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 24 08:46:44 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <hit7q4lab7dga68ac66hb9ot8jhqkv834f@4ax.com>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
	<ear7q4djmg2dk1l0vca0st0pm5hu3cmoh7@4ax.com>
	<20090224131353.GA10308@uran.home.aster.pl>
	<hit7q4lab7dga68ac66hb9ot8jhqkv834f@4ax.com>
Message-ID: <20090224135206.GA610@uran.home.aster.pl>

On Tue, 24 Feb 2009, Toninho@fwi wrote:

Hi,

> Thanks for answer.
> >So why Pritpal has different results?
> >Can you agree them ;-)
> I agree of course and I don't know, but I compiled harbour with
> DL_ALLOC and the results change in VirtualAlloc, but the rest are the
> same. Why CreateFile, GetStdHandle and InitializeCriticalSection
> remains?

Because it's part of CRTL.
C compiler still have to allocate the console so ask borland
why it does not deallocate it.

> >It's possible that you are linking some external libraries, f.e.
> >FWH ones which cause such effect
> This is not possible, I use hbmk2.

So the above is probably problem in you BCC version.

> > or you are using some C compiler switches.
> Maybe, I'll try with others switches, by now, I'm using these:

And what are the results for above code if you compile it using hbmk2?

   #include <stdlib.h>
   #include <stdio.h>
   int main( int argc, char ** argv )
   {
      char * buffer = malloc( 1000 );
      sprintf( buffer, "number of arguments: %d, argv[0]='%s'\n",
               argc, argv[0] );
      printf( "%s", buffer );
      free( buffer );
      #if defined( __ICC )
         #warning intel compiler
         printf( "intel C compiler\n" );
      #endif
      return 0;
   }

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Tue Feb 24 08:52:50 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Feb 24 08:52:55 2009
Subject: [Harbour] HB_COMPILE()
References: <27744D2447FE4EA7969FA78B985A5E51@emag>
	<1D9030315F9441F9990D383CADD46C96@emag>
Message-ID: <990832A8E1D8404FA0F40DBA67DAFD73@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 24 febbraio 2009 11.48
Oggetto: Re: [Harbour] HB_COMPILE()

I made another test:

REQUEST RDDSETDEFAULT
REQUEST DBUSEAREA
REQUEST DBSKIP
REQUEST QOUT
REQUEST DBCLOSEAREA
REQUEST DBFCDX


FUNCTION MAIN()

    LOCAL hHrb

    HB_COMPILE( "", "TEST.PRG", "/n", "/gh" )

    hHrb = HB_HRBLOAD( "TEST.HRB" )

    HB_HRBDO( hHrb )

    HB_HRBUNLOAD( hHrb )

    FERASE( "TEST.HRB" )

    RETURN NIL

Now I get test.hrb but the program enters a loop displaying:

Generating Harbour Portable Object source output to 'TEST.hrb'... Done.
Harbour 1.1.0dev (Rev. 10421)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'TEST.PRG'...
Lines 29, Functions/Procedures 1
Generating Harbour Portable Object source output to 'TEST.hrb'... Done.
Harbour 1.1.0dev (Rev. 10421)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'TEST.PRG'...
Lines 29, Functions/Procedures 1

etc.

Any hints?

Another question: how can I avoid to REQUEST all the symbols used inside 
TEST.PRG?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Tue Feb 24 09:08:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 09:08:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10429] trunk/harbour
Message-ID: <E1LbxxB-000817-S9@74yxhf1.ch3.sourceforge.com>

Revision: 10429
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10429&view=rev
Author:   vszakats
Date:     2009-02-24 14:08:09 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 15:07 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added autodetection for pocc64.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Tue Feb 24 09:32:27 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Feb 24 09:32:35 2009
Subject: [Harbour] HB_COMPILE()
In-Reply-To: <990832A8E1D8404FA0F40DBA67DAFD73@emag>
References: <27744D2447FE4EA7969FA78B985A5E51@emag>	<1D9030315F9441F9990D383CADD46C96@emag>
	<990832A8E1D8404FA0F40DBA67DAFD73@emag>
Message-ID: <49A404FB.2040806@fsgiudice.com>

Hi Enrico,

Il 24/02/2009 14.52, Enrico Maria Giordano ha scritto:
> 
> Another question: how can I avoid to REQUEST all the symbols used inside 
> TEST.PRG?
#include "hbextern.ch"   // need this to use with HRB
this will include all function REQUESTs.

Best regards

Francesco
From guy.roussin at teledetection.fr  Tue Feb 24 09:44:05 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Feb 24 09:44:10 2009
Subject: [Harbour] Compiling harbour under cygwin
In-Reply-To: <18d502870902240518q3e6bd122wffd0eb97a9376d23@mail.gmail.com>
References: <49A3DB30.1080302@teledetection.fr>
	<18d502870902240518q3e6bd122wffd0eb97a9376d23@mail.gmail.com>
Message-ID: <49A407B5.10104@teledetection.fr>

Viktor Szak?ts a ?crit :
> Hi Guy,
>  
>
>     $ ./make_gcc.sh
>     make_gcc.mak:331: attention : ?crasement des commandes pour la
>     cible ? lib/gcc/libhbmainstd.a ?
>     make_gcc.mak:309: attention : anciennes commandes ignor?es pour la
>     cible ? lib/gcc/libhbmainstd.a ?
>
>
> Sorry, my French is very rusty,
> q'est-ce que c'est 'cible'? :)
>

Your french is better than my english ('cible' <=> 'target'),
Here the english version of the error :

$ export LANG=C
$ ./make_gcc.sh
make_gcc.mak:331: warning: overriding commands for target 
`lib/gcc/libhbmainstd.a'
make_gcc.mak:309: warning: ignoring old commands for target 
`lib/gcc/libhbmainstd.a'
gcc -O3 -march=i586 -W -Wall -Iinclude  -Iobj/gcc -o bin/gcc/hbpp.exe 
obj/gcc/hbpp.o lib/gcc/libhbcommon.a  -luser32 -lwinspool -lwsock32 
-lgdi32 -lncurses -lX11 -L/usr/X11R6/lib
lib/gcc/libhbcommon.a(hbprintf.o):hbprintf.c:(.text+0x13d2): undefined 
reference to `_modfl'
lib/gcc/libhbcommon.a(hbprintf.o):hbprintf.c:(.text+0x1442): undefined 
reference to `_modfl'
lib/gcc/libhbcommon.a(hbprintf.o):hbprintf.c:(.text+0x1590): undefined 
reference to `_modfl'
lib/gcc/libhbcommon.a(hbprintf.o):hbprintf.c:(.text+0x166f): undefined 
reference to `_modfl'
collect2: ld returned 1 exit status
make: *** [bin/gcc/hbpp.exe] Error 1


> I'd recommend trying with GNU make (win/gcc settings) to avoid 
> the above.
>
I try with :
export HB_ARCHITECTURE=win
export HB_CC_NAME=gcc
./make_gcc.sh

and i get the same error ...

Thanks,

Guy
From vszakats at users.sourceforge.net  Tue Feb 24 09:55:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 09:55:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10430] trunk/harbour
Message-ID: <E1LbyhK-00021m-JO@c3vjzd1.ch3.sourceforge.com>

Revision: 10430
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10430&view=rev
Author:   vszakats
Date:     2009-02-24 14:55:49 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 15:07 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
  * utils/hbmk2/Makefile
  * common.mak
    + Added -DHBMK_INTEGRATED_COMPILER compile time option
      to enable integrated Harbour compiler. Experimental, 
      please test. This results is bigger executable (obviously) 
      but may be more efficient on some platforms.
    % Using .exe extension for external commands on non-*nix.
    * Using slightly different format to echo commands on 
      screen, they are now printed in a new line and they are 
      not put between quotes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_b32.mak
    trunk/harbour/utils/hbmk2/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 24 10:02:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 10:02:12 2009
Subject: [Harbour] Compiling harbour under cygwin
In-Reply-To: <49A407B5.10104@teledetection.fr>
References: <49A3DB30.1080302@teledetection.fr>
	<18d502870902240518q3e6bd122wffd0eb97a9376d23@mail.gmail.com>
	<49A407B5.10104@teledetection.fr>
Message-ID: <18d502870902240702v79e27c83i6b9e7b2ce25ecc95@mail.gmail.com>

>
> Your french is better than my english ('cible' <=> 'target'),


Thank you, plutot merci ;)


> Here the english version of the error :
>
> $ export LANG=C
> $ ./make_gcc.sh
> make_gcc.mak:331: warning: overriding commands for target
> `lib/gcc/libhbmainstd.a'
> make_gcc.mak:309: warning: ignoring old commands for target
> `lib/gcc/libhbmainstd.a'
>>
>>
>> I'd recommend trying with GNU make (win/gcc settings) to avoid the above.
>>
>>  I try with :
> export HB_ARCHITECTURE=win
> export HB_CC_NAME=gcc
> ./make_gcc.sh


You should use _make_gnu.sh_ for the mainstream
GNU make system. (make_gcc.sh is using the non-GNU
make files - common.mak - with a twist).

But this won't fix the actual compile errors, only the
make warnings mentioned above.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/1d66b4a6/attachment.html
From e.m.giordano at emagsoftware.it  Tue Feb 24 10:30:54 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Feb 24 10:30:59 2009
Subject: [Harbour] HB_COMPILE()
References: <27744D2447FE4EA7969FA78B985A5E51@emag>	<1D9030315F9441F9990D383CADD46C96@emag><990832A8E1D8404FA0F40DBA67DAFD73@emag>
	<49A404FB.2040806@fsgiudice.com>
Message-ID: <CAAFB8C3A330403B8CDCB30D96CE7D69@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 24 febbraio 2009 15.32
Oggetto: Re: [Harbour] HB_COMPILE()


> #include "hbextern.ch"   // need this to use with HRB
> this will include all function REQUESTs.

Thank you. One problem solved.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Tue Feb 24 10:36:34 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Feb 24 10:36:39 2009
Subject: [Harbour] Error
Message-ID: <90D0EA4592224E7EBA7F5437439B62A1@emag>

utils\hbmk2\hbmk2.prg(1752) Error E0003  Duplicate variable declaration 
'S_CGT'

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lorenzo.fiorini at gmail.com  Tue Feb 24 10:52:38 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb 24 10:52:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10419] trunk/harbour
In-Reply-To: <18d502870902240108p7d4f0aa9p8b00a4ce3b30ef40@mail.gmail.com>
References: <E1LbiD0-0003X8-Fk@74yxhf1.ch3.sourceforge.com>
	<9257026e0902232228l4dc75cefvb18a54e65390ea54@mail.gmail.com>
	<18d502870902240108p7d4f0aa9p8b00a4ce3b30ef40@mail.gmail.com>
Message-ID: <9257026e0902240752k4e6322feib7bd2e0d31260b75@mail.gmail.com>

On Tue, Feb 24, 2009 at 10:08 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> If it's a huge?problem for many
> users, we?can add a compatibility?link at install time for
> the?next few releases while putting the old name in
> compatibility status, like we have done so a few times in
> the past.

I think it's a good idea.

Since there are 900+ downloads for *nix, we have to think that not all
follow the list.

We can mark things has "deprecated" and give to the users the time to
update their env.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Tue Feb 24 10:55:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 10:55:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10431] trunk/harbour
Message-ID: <E1Lbzcb-0002Sv-Ip@74yxhf1.ch3.sourceforge.com>

Revision: 10431
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10431&view=rev
Author:   vszakats
Date:     2009-02-24 15:55:00 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 16:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed last minute typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 24 11:07:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 11:07:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10432] trunk/harbour
Message-ID: <E1Lbzoz-0002hS-HH@74yxhf1.ch3.sourceforge.com>

Revision: 10432
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10432&view=rev
Author:   vszakats
Date:     2009-02-24 16:07:48 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 17:07 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.sh
    + Added 'hb-mkslib' creation for compatibility.
      NOTE: This name is deprecated and will be removed in next
            major release (1.2). Update your environment to
            use the name: 'hb_mkdyn'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Feb 24 11:12:28 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 24 11:12:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10415] trunk/harbour
In-Reply-To: <20090224130951.GB29338@uran.home.aster.pl>
References: <E1LbeFc-0000Ei-3n@bj8yhf1.ch3.sourceforge.com>
	<20090224130951.GB29338@uran.home.aster.pl>
Message-ID: <22182417.post@talk.nabble.com>


Hello Przemek

<<<
>     + #define NONAMELESSUNION

The above breaks MinGW compilation.

../../wvgwin.c:1617: error: structure has no member named `item'

You cannot use NONAMELESSUNION and then access union members without
union name.
>>>

Ok. I will remove it. I thought it is necessary for OW.

<<<
My second question is why you are trying to redefine structures from
windows header files?

   #ifdef UNICODE
   typedef struct tagTVINSERTSTRUCTW
   {
     HTREEITEM hParent;
     HTREEITEM hInsertAfter;
     TV_ITEMW  item;
   } TVINSERTSTRUCTW, FAR *LPTVINSERTSTRUCTW;
   #else
   typedef struct tagTVINSERTSTRUCTA
   {
     HTREEITEM hParent;
     HTREEITEM hInsertAfter;
     TV_ITEMA  item;
   } TVINSERTSTRUCTA, FAR *LPTVINSERTSTRUCTA;
   #endif
>>>

This I did long back in my personal lib which I pulled as is.
Do not remember now why I did so. I will try removing it.

<<<
This is very danger and may cause unpredictable results even if
you exactly copy the definition. Just simply windows needs
#pragma pack(...) for some definitions and such copied definitions
does not respect pack/alignment header settings at all.
Never make anything like that as long as it's not strictly necessary
and you very well know possible alignment interactions so you are
sure that it will work in all cases.
>>>

Knowledgeable words. Nowhere elese I did so except thi structure.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10415--trunk-harbour-tp22165619p22182417.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Feb 24 11:15:21 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 24 11:15:25 2009
Subject: [Harbour] gtwvg and amd64
In-Reply-To: <18d502870902240101s3d5a207nf438a983c0a5f30f@mail.gmail.com>
References: <18d502870902240101s3d5a207nf438a983c0a5f30f@mail.gmail.com>
Message-ID: <22182546.post@talk.nabble.com>


Hi Viktor


Viktor Szak?ts wrote:
> 
> Latest result with your modified demowvg.prg + current SVN when
> clicking on rightmost menu's first item (forgot the name, but the
> one you said anyway). The xpp window starts to get painted, than
> it crashes like this:
> ---
> Application Internal Error - Z:\demowvg7.exe
> Terminated at: 2009.02.24 08:51:39
> Unrecoverable error 6005: Exception error:
> 
> Called from HB_AX_SETUPCONNECTIONPOINT(0)
> Called from WVGHTMLVIEWER:ADVISEEVENTS(0) in .\wvgax.prg
> Called from WVGACTIVEXCONTROL:CREATE(0) in .\wvgax.prg
> Called from WVGHTMLVIEWER:CREATE(0) in .\wvghtmlv.prg
> Called from DEMOXBP(3213) in demowvg.prg
> Called from (b)EVAL(1437)
> 

It means controls are being created but ActiveX event handelling
code is broken on amd64. I will send another demowvg.prg without
event handelling and let me see if control is created/painted or not.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/gtwvg-and-amd64-tp22178316p22182546.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From toninhofwi at yahoo.com.br  Tue Feb 24 11:17:59 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Feb 24 11:18:06 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090224135206.GA610@uran.home.aster.pl>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
	<ear7q4djmg2dk1l0vca0st0pm5hu3cmoh7@4ax.com>
	<20090224131353.GA10308@uran.home.aster.pl>
	<hit7q4lab7dga68ac66hb9ot8jhqkv834f@4ax.com>
	<20090224135206.GA610@uran.home.aster.pl>
Message-ID: <l978q4leb4kgt2b903u3vn1urd1fpgfuk2@4ax.com>

Hi Przemek,

>Because it's part of CRTL.
>C compiler still have to allocate the console so ask borland
>why it does not deallocate it.
Thanks, now I understand.

>And what are the results for above code if you compile it using hbmk2?
The same, of course the problem is with BCC 6.10

Thank you to explain it,

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From vszakats at users.sourceforge.net  Tue Feb 24 11:20:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 11:20:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10433] trunk/harbour
Message-ID: <E1Lc01O-0002vO-WD@74yxhf1.ch3.sourceforge.com>

Revision: 10433
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10433&view=rev
Author:   vszakats
Date:     2009-02-24 16:20:38 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 17:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/win/msvcce.cf
    ! Fixed another cl.exe occurence to be compatible with 
      older MSVC versions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/msvcce.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Feb 24 11:21:55 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 24 11:21:58 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090224103010.GB25837@uran.home.aster.pl>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
	<20090224103010.GB25837@uran.home.aster.pl>
Message-ID: <22182828.post@talk.nabble.com>


Hello Przemek



Przemyslaw Czerpak-2 wrote:
> 
> So if you want then I add such functionality but it will be
> enabled only when USE_DL_PREFIX is defined. If you make some
> test which confirm that the virtual addresses as freed as
> expected then we can enable USE_DL_PREFIX as default.
> 

I will do experiments with USE_DL_PREFIX today and will let you
know the results.

For ciriticalSection unreleased handles, it is the same with 
-DHB_FM_WIN_ALLOC an -DHB_FM_DL_ALLOC. The difference
is with the unfreed VirualAllocs in  dlmalloc.c whihc you 
have already pointed out, are harmless.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Dlmalloc.c---VirtualAlloc-Free---Test-Results-tp22143106p22182828.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maurilio.longo at libero.it  Tue Feb 24 11:23:17 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 24 11:23:30 2009
Subject: [Harbour] contrib/hbbmcdx raises error in update
Message-ID: <49A41EF5.6000304@libero.it>

Hi,

trying to update my local copy with smartSVN I get this error:

This client is too old to work with working copy:
E:\repository\harbour\contrib\hbbmcdx\

But it was able to update several files before this one! So, is the subversion
repository on sourceforge broken? What is happening?

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Feb 24 11:24:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 11:25:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10415] trunk/harbour
In-Reply-To: <22182417.post@talk.nabble.com>
References: <E1LbeFc-0000Ei-3n@bj8yhf1.ch3.sourceforge.com>
	<20090224130951.GB29338@uran.home.aster.pl>
	<22182417.post@talk.nabble.com>
Message-ID: <18d502870902240824k43d0fa44pb66f7edb949f6198@mail.gmail.com>

Hi Pritpal,


> ../../wvgwin.c:1617: error: structure has no member named `item'
>
> You cannot use NONAMELESSUNION and then access union members without
> union name.
> >>>
>
> Ok. I will remove it. I thought it is necessary for OW.


Shouldn't rather the union names be add to the source?

This define cleared a lot of disturbing warnings, so we should
keep it if possible.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/c3a4a09c/attachment.html
From xharbour at telkom.net.id  Tue Feb 24 12:01:45 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Tue Feb 24 12:02:05 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <l978q4leb4kgt2b903u3vn1urd1fpgfuk2@4ax.com>
References: <20090224135206.GA610@uran.home.aster.pl>
	<l978q4leb4kgt2b903u3vn1urd1fpgfuk2@4ax.com>
Message-ID: <20090224235953.9FA5.422BA498@telkom.net.id>

On Tue, 24 Feb 2009 13:17:59 -0300
"Toninho@fwi" <toninhofwi@yahoo.com.br> wrote:

> Hi Przemek,
> 
> >Because it's part of CRTL.
> >C compiler still have to allocate the console so ask borland
> >why it does not deallocate it.
> Thanks, now I understand.
> 
> >And what are the results for above code if you compile it using hbmk2?
> The same, of course the problem is with BCC 6.10
> 
> Thank you to explain it,
> 
> Regards,
> 
> Toninho.

It's Harbour problem, IMHO. Have you try with xHarbour and see how
memproof reporting errors? In my case, Harbour did not release Virtual
Memory, but xHarbour released it. So, it is not Borland problem ;-)
--
Andi
From druzus at acn.waw.pl  Tue Feb 24 12:32:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 24 12:27:20 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090224235953.9FA5.422BA498@telkom.net.id>
References: <20090224135206.GA610@uran.home.aster.pl>
	<l978q4leb4kgt2b903u3vn1urd1fpgfuk2@4ax.com>
	<20090224235953.9FA5.422BA498@telkom.net.id>
Message-ID: <20090224173242.GA21688@uran.home.aster.pl>

On Wed, 25 Feb 2009, Andi Jahja wrote:
> It's Harbour problem, IMHO. Have you try with xHarbour and see how
> memproof reporting errors? In my case, Harbour did not release Virtual
> Memory, but xHarbour released it. So, it is not Borland problem ;-)

Yes and Harbour virtually effects this C code:

   #include <stdlib.h>
   #include <stdio.h>
   int main( int argc, char ** argv )
   {
      char * buffer = malloc( 1000 );
      sprintf( buffer, "number of arguments: %d, argv[0]='%s'\n",
               argc, argv[0] );
      printf( "%s", buffer );
      free( buffer );
      return 0;
   }

Probably the fact that Harbour files exists on hard disk is
enough to cause that this pure Borland program does not release
virtual memory, isn't it? :-)
xHarbour does not enable DLMALLOC with the same conditions as
Harbour and it's the reason of difference. I guess you are using
__EXPORT__ macro which effectively disables DLMALLOC in xHarbour.

BTW if you can test the above code with BCC6.1 to confirm the results
    then it will really help.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Feb 24 12:50:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 12:50:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10434] trunk/harbour
Message-ID: <E1Lc1Q6-0006td-HT@c3vjzd1.ch3.sourceforge.com>

Revision: 10434
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10434&view=rev
Author:   vszakats
Date:     2009-02-24 17:50:08 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 18:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/vm/fm.c
    ! Fixed compilation error in dlmalloc with pocc64.

  * config/win/pocc64.cf
  * config/win/msvc64.cf
    * Cleanup.

  * config/win/gcc.cf
    ! Added gdi32 to system lib list.

  * config/win/mingw.cf
  * config/win/mingwce.cf
    * Minor sync with each other.
    % Two duplicated lines removed from mingwce. I hope these
      weren't intentional.
      ---
      AR = $(CCPREFIX)ar
      ARFLAGS = $(HB_USER_AFLAGS)
      ---

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/gcc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/mingwce.cf
    trunk/harbour/config/win/msvc64.cf
    trunk/harbour/config/win/pocc64.cf
    trunk/harbour/source/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 24 13:18:52 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 13:18:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10430] trunk/harbour
In-Reply-To: <E1LbyhK-00021m-JO@c3vjzd1.ch3.sourceforge.com>
References: <E1LbyhK-00021m-JO@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870902241018n13fe7a7ax82b2b0de07378468@mail.gmail.com>

Hi all,


>  * utils/hbmk2/hbmk2.prg
>    + Added -DHBMK_INTEGRATED_COMPILER compile time option
>      to enable integrated Harbour compiler. Experimental,
>      please test. This results is bigger executable (obviously)
>      but may be more efficient on some platforms.
>

BTW, any opinions on that?

Would it have benefits? downsides?

Shall we make it the default, or a command line option?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/245564b7/attachment.html
From vailtom at gmail.com  Tue Feb 24 13:39:33 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Feb 24 13:39:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10430] trunk/harbour
In-Reply-To: <18d502870902241018n13fe7a7ax82b2b0de07378468@mail.gmail.com>
References: <E1LbyhK-00021m-JO@c3vjzd1.ch3.sourceforge.com>
	<18d502870902241018n13fe7a7ax82b2b0de07378468@mail.gmail.com>
Message-ID: <531d7a750902241039j1fbd0278uff35d095d98a8924@mail.gmail.com>

The idea would be embedding the compiler entire "inside" of a single function?

2009/2/24 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi all,
>
>>
>> ?* utils/hbmk2/hbmk2.prg
>> ?? + Added -DHBMK_INTEGRATED_COMPILER compile time option
>> ? ? ?to enable integrated Harbour compiler. Experimental,
>> ? ? ?please test. This results is bigger executable (obviously)
>> ? ? ?but may be more efficient on some platforms.
>
> BTW, any opinions on that?
> Would it have benefits? downsides?
> Shall we make it the default,?or a command line option?
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From harbour.01 at syenar.hu  Tue Feb 24 14:03:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 14:03:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10430] trunk/harbour
In-Reply-To: <531d7a750902241039j1fbd0278uff35d095d98a8924@mail.gmail.com>
References: <E1LbyhK-00021m-JO@c3vjzd1.ch3.sourceforge.com>
	<18d502870902241018n13fe7a7ax82b2b0de07378468@mail.gmail.com>
	<531d7a750902241039j1fbd0278uff35d095d98a8924@mail.gmail.com>
Message-ID: <18d502870902241103j4d910b51se85f4d5e62fd5d6f@mail.gmail.com>

>
> The idea would be embedding the compiler entire "inside" of a single
> function?


We have that already in the form of HB_COMPILE().

With regards to hbmk2, the question is whether to
use this feature (embedded compiler) rather than
calling the external harbour executable.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/f23b7914/attachment.html
From druzus at acn.waw.pl  Tue Feb 24 14:43:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 24 14:38:03 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <22182828.post@talk.nabble.com>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
	<20090224103010.GB25837@uran.home.aster.pl>
	<22182828.post@talk.nabble.com>
Message-ID: <20090224194325.GA7631@uran.home.aster.pl>

On Tue, 24 Feb 2009, Pritpal Bedi wrote:

Hi Pritpal,

> For ciriticalSection unreleased handles, it is the same with 
> -DHB_FM_WIN_ALLOC an -DHB_FM_DL_ALLOC. The difference

I know. I removed critical section deallocations due to problems
with VISTA and additional cost which we will have to pay for such
functionality. Anyhow if it's important we can reactivate it.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Feb 24 14:48:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Feb 24 14:42:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10415] trunk/harbour
In-Reply-To: <22182417.post@talk.nabble.com>
References: <E1LbeFc-0000Ei-3n@bj8yhf1.ch3.sourceforge.com>
	<20090224130951.GB29338@uran.home.aster.pl>
	<22182417.post@talk.nabble.com>
Message-ID: <20090224194818.GB7631@uran.home.aster.pl>

On Tue, 24 Feb 2009, Pritpal Bedi wrote:

Hi,

>> You cannot use NONAMELESSUNION and then access union members without
>> union name.
> Ok. I will remove it. I thought it is necessary for OW.

I have suggestion for you.
AFAIR you are using BCC. So instead of guessing what other compilers
may need please add -P to HB_USER_CFLAGS and try to rebuild GTWVG.
If you clean the code then you it will also resolve most of problem
with other C compilers working in C++ mode.
IMHO repeating compilation with and without -P should help you to locate
many potential problems before committing and also find some typos or bugs.

best regards,
Przemek
From bedipritpal at hotmail.com  Tue Feb 24 14:45:42 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 24 14:45:46 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090224194325.GA7631@uran.home.aster.pl>
References: <22143106.post@talk.nabble.com>
	<20090223101735.GA28406@uran.home.aster.pl>
	<f2m5q4hdsad38te3vgrl1deggsfgk405c0@4ax.com>
	<20090223174916.GA20753@uran.home.aster.pl>
	<22168610.post@talk.nabble.com>
	<20090224014324.GA27365@uran.home.aster.pl>
	<20090224103010.GB25837@uran.home.aster.pl>
	<22182828.post@talk.nabble.com>
	<20090224194325.GA7631@uran.home.aster.pl>
Message-ID: <22189093.post@talk.nabble.com>


Przemek



Przemyslaw Czerpak-2 wrote:
> 
>> For ciriticalSection unreleased handles, it is the same with 
>> -DHB_FM_WIN_ALLOC an -DHB_FM_DL_ALLOC. The difference
> 
> I know. I removed critical section deallocations due to problems
> with VISTA and additional cost which we will have to pay for such
> functionality. Anyhow if it's important we can reactivate it.
> 

I do not know removing it is important or not. 
You are the better judge. I was just reporting MemProof's log.
As it is only reported at appln termination it can be left as is.
Take your own decision.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Dlmalloc.c---VirtualAlloc-Free---Test-Results-tp22143106p22189093.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Tue Feb 24 14:59:47 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Feb 24 14:59:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10430] trunk/harbour
In-Reply-To: <18d502870902241018n13fe7a7ax82b2b0de07378468@mail.gmail.com>
References: <E1LbyhK-00021m-JO@c3vjzd1.ch3.sourceforge.com>
	<18d502870902241018n13fe7a7ax82b2b0de07378468@mail.gmail.com>
Message-ID: <531d7a750902241159l61eda993maa48c6f2a643dddf@mail.gmail.com>

Understand. But my vote is to call the HARBOUR.EXE , since I can
update it and not want to change the version of my hbmk2.exe (perhaps
by BUG or even a different implementation that I will do it) and in
these cases that may interfere.

2009/2/24 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi all,
>
>>
>> ?* utils/hbmk2/hbmk2.prg
>> ?? + Added -DHBMK_INTEGRATED_COMPILER compile time option
>> ? ? ?to enable integrated Harbour compiler. Experimental,
>> ? ? ?please test. This results is bigger executable (obviously)
>> ? ? ?but may be more efficient on some platforms.
>
> BTW, any opinions on that?
> Would it have benefits? downsides?
> Shall we make it the default,?or a command line option?
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From vszakats at users.sourceforge.net  Tue Feb 24 15:37:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 15:37:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10435] trunk/harbour
Message-ID: <E1Lc41o-0004Qe-DM@3kljzd1.ch3.sourceforge.com>

Revision: 10435
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10435&view=rev
Author:   vszakats
Date:     2009-02-24 20:37:19 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 21:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbapi.h
  * source/pp/hbpp.c
  * source/vm/cmdarg.c
  * source/main/harbour.c
    + Added hb_verHB_ARCH(), hb_verHB_COMP() to
      retrieve build time HB_ARCHITECTURE and HB_COMPILER
      settings.

  * include/hbver.ch
  * source/rtl/version.c
    + Added new hb_version() information:
      hb_version( HB_VERSION_BUILD_ARCH )
      hb_version( HB_VERSION_BUILD_COMP )

  * utils/hbmk2/hbmk2.prg
    + Using above hb_version() values to find out the exact
      build time architecture/compiler instead of guessing.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbver.ch
    trunk/harbour/source/main/harbour.c
    trunk/harbour/source/pp/hbpp.c
    trunk/harbour/source/rtl/version.c
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Feb 24 15:43:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 24 15:43:19 2009
Subject: [Harbour] bcc setting for uniform make system
Message-ID: <609353e70902241243s4c7388cw9623116acfef36e5@mail.gmail.com>

Wich is bcc setting for using bcc with new make system)
rem 1) You need to have MinGW 'make.exe' in your path.
rem 2) Run from the Harbour source root dir.
set path=c:\devl\BCC55\BIN;%path%
set path=c:\devl\mingw32make;%path%
set HB_ARCHITECTURE=win
set HB_COMPILER=bcc32
set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
make clean > nul
make install -r >MAKE_BCC.LOG

C:\harbour>make clean    1>nul

C:\harbour>make install -r  1>MAKE_BCC.LOG
make[1]: [install] Error 1 (ignored)



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Feb 24 16:02:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 16:02:45 2009
Subject: [Harbour] bcc setting for uniform make system
In-Reply-To: <609353e70902241243s4c7388cw9623116acfef36e5@mail.gmail.com>
References: <609353e70902241243s4c7388cw9623116acfef36e5@mail.gmail.com>
Message-ID: <18d502870902241302s1b17c7ddv57465d083b6883f2@mail.gmail.com>

No idea. Exact same batch works here after correcting the make dir to mine.
Could be:
- wrong make dir
- wrong make.exe in make dir.
- older Harbour revision, without the 'install' patch.
  (pre-2009-02-18 22:00 UTC+0100)
- something else. The result may be in the .log file,
  so if you don't succeed, it's worth a check.

BTW '-r' switch isn't needed anymore for make,
just delete it.

Brgds,
Viktor

On Tue, Feb 24, 2009 at 9:43 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Wich is bcc setting for using bcc with new make system)
> rem 1) You need to have MinGW 'make.exe' in your path.
> rem 2) Run from the Harbour source root dir.
> set path=c:\devl\BCC55\BIN;%path%
> set path=c:\devl\mingw32make;%path%
> set HB_ARCHITECTURE=win
> set HB_COMPILER=bcc32
> set HB_INSTALL_PREFIX=%~dp0
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> make clean > nul
> make install -r >MAKE_BCC.LOG
>
> C:\harbour>make clean    1>nul
>
> C:\harbour>make install -r  1>MAKE_BCC.LOG
> make[1]: [install] Error 1 (ignored)
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/0f853c06/attachment.html
From zen25000 at zen.co.uk  Tue Feb 24 16:03:33 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Feb 24 16:03:31 2009
Subject: [Harbour] RPM build error
Message-ID: <49A460A5.9010007@zen.co.uk>

Just got this from current SVN checked out into clean directory,
building RPMs with mpkg_rpm.sh

RPM build errors:
     Installed (but unpackaged) file(s) found:
    /usr/bin/hb-mkslib
From vszakats at users.sourceforge.net  Tue Feb 24 16:13:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 16:13:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10436] trunk/harbour
Message-ID: <E1Lc4aV-0003Ny-TA@c3vjzd1.ch3.sourceforge.com>

Revision: 10436
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10436&view=rev
Author:   vszakats
Date:     2009-02-24 21:12:58 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 22:12 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * harbour-win-spec
  * harbour-wce-spec
  * harbour.spec
    + Added hb-mkslib compatiblity file to distros.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 24 16:15:02 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 16:15:06 2009
Subject: [Harbour] RPM build error
In-Reply-To: <49A460A5.9010007@zen.co.uk>
References: <49A460A5.9010007@zen.co.uk>
Message-ID: <18d502870902241315i4f596222y9ae874c9e610e15@mail.gmail.com>

Thanks Barry, please retry after my last commit.
Brgds,
Viktor

On Tue, Feb 24, 2009 at 10:03 PM, Barry Jackson <zen25000@zen.co.uk> wrote:

> Just got this from current SVN checked out into clean directory,
> building RPMs with mpkg_rpm.sh
>
> RPM build errors:
>    Installed (but unpackaged) file(s) found:
>   /usr/bin/hb-mkslib
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/9b41b916/attachment.html
From mbelgrano at deltain.it  Tue Feb 24 16:15:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 24 16:15:44 2009
Subject: [Harbour] bcc setting for uniform make system
In-Reply-To: <18d502870902241302s1b17c7ddv57465d083b6883f2@mail.gmail.com>
References: <609353e70902241243s4c7388cw9623116acfef36e5@mail.gmail.com>
	<18d502870902241302s1b17c7ddv57465d083b6883f2@mail.gmail.com>
Message-ID: <609353e70902241315h2250fca8ud374ee40c356a75d@mail.gmail.com>

all seem work fine

set path=c:\devl\BCC55\BIN;%path%
set path=c:\devl\mingw32make;%path%
set HB_ARCHITECTURE=win
set HB_COMPILER=bcc32
set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
make clean> nul
make install>MAKE_BCC.LOG


executing batch file add a 1!
C:\harbour>make install 1>MAKE_BCC.LOG
make[1]: [install] Error 1 (ignored)

Butt all files are compiled

2009/2/24 Viktor Szak?ts <harbour.01@syenar.hu>:
> No idea. Exact same batch works here after?correcting
> the make dir to mine.
> Could be:
> - wrong make dir
> - wrong make.exe in?make dir.
> - older Harbour revision, without the 'install' patch.
> ??(pre-2009-02-18 22:00 UTC+0100)
> - something else. The result may be in the .log file,
> ??so if you don't succeed, it's worth a check.
> BTW '-r' switch isn't needed anymore for make,
> just delete it.
> Brgds,
> Viktor
>
> On Tue, Feb 24, 2009 at 9:43 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Wich is bcc setting for using bcc with new make system)
>> rem 1) You need to have MinGW 'make.exe' in your path.
>> rem 2) Run from the Harbour source root dir.
>> set path=c:\devl\BCC55\BIN;%path%
>> set path=c:\devl\mingw32make;%path%
>> set HB_ARCHITECTURE=win
>> set HB_COMPILER=bcc32
>> set HB_INSTALL_PREFIX=%~dp0
>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> set SHLVL=
>> make clean > nul
>> make install -r >MAKE_BCC.LOG
>>
>> C:\harbour>make clean ? ?1>nul
>>
>> C:\harbour>make install -r ?1>MAKE_BCC.LOG
>> make[1]: [install] Error 1 (ignored)
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Tue Feb 24 16:20:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 16:20:53 2009
Subject: [Harbour] bcc setting for uniform make system
In-Reply-To: <609353e70902241315h2250fca8ud374ee40c356a75d@mail.gmail.com>
References: <609353e70902241243s4c7388cw9623116acfef36e5@mail.gmail.com>
	<18d502870902241302s1b17c7ddv57465d083b6883f2@mail.gmail.com>
	<609353e70902241315h2250fca8ud374ee40c356a75d@mail.gmail.com>
Message-ID: <18d502870902241320v7ee17f86p2150cc064278a6be@mail.gmail.com>

Please update to latest SVN revision, and if still errors, post your log to
the list.

Brgds,
Viktor


On Tue, Feb 24, 2009 at 10:15 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> all seem work fine
>
> set path=c:\devl\BCC55\BIN;%path%
> set path=c:\devl\mingw32make;%path%
> set HB_ARCHITECTURE=win
> set HB_COMPILER=bcc32
> set HB_INSTALL_PREFIX=%~dp0
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> make clean> nul
> make install>MAKE_BCC.LOG
>
>
> executing batch file add a 1!
> C:\harbour>make install 1>MAKE_BCC.LOG
> make[1]: [install] Error 1 (ignored)
>
> Butt all files are compiled
>
> 2009/2/24 Viktor Szak?ts <harbour.01@syenar.hu>:
> > No idea. Exact same batch works here after correcting
> > the make dir to mine.
> > Could be:
> > - wrong make dir
> > - wrong make.exe in make dir.
> > - older Harbour revision, without the 'install' patch.
> >   (pre-2009-02-18 22:00 UTC+0100)
> > - something else. The result may be in the .log file,
> >   so if you don't succeed, it's worth a check.
> > BTW '-r' switch isn't needed anymore for make,
> > just delete it.
> > Brgds,
> > Viktor
> >
> > On Tue, Feb 24, 2009 at 9:43 PM, Massimo Belgrano <mbelgrano@deltain.it>
> > wrote:
> >>
> >> Wich is bcc setting for using bcc with new make system)
> >> rem 1) You need to have MinGW 'make.exe' in your path.
> >> rem 2) Run from the Harbour source root dir.
> >> set path=c:\devl\BCC55\BIN;%path%
> >> set path=c:\devl\mingw32make;%path%
> >> set HB_ARCHITECTURE=win
> >> set HB_COMPILER=bcc32
> >> set HB_INSTALL_PREFIX=%~dp0
> >> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >> set SHLVL=
> >> make clean > nul
> >> make install -r >MAKE_BCC.LOG
> >>
> >> C:\harbour>make clean    1>nul
> >>
> >> C:\harbour>make install -r  1>MAKE_BCC.LOG
> >> make[1]: [install] Error 1 (ignored)
> >>
> >>
> >>
> >> --
> >> Massimo Belgrano
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/3c68bc5e/attachment.html
From vszakats at users.sourceforge.net  Tue Feb 24 16:43:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 16:44:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10437] trunk/harbour
Message-ID: <E1Lc54I-0004JU-Jo@c3vjzd1.ch3.sourceforge.com>

Revision: 10437
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10437&view=rev
Author:   vszakats
Date:     2009-02-24 21:43:55 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 22:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * harbour-win-spec
  * harbour-wce-spec
  * harbour.spec
  * bin/hb-func.sh
  * utils/hbmk2/hbmk2.prg
    * hbmkcfg.hbp file renamed to the clearer: hbmk.cfg
      Same rules apply, the format is .hbp, which is also
      made clear on the hbmk2 help screen.

      hbmk2 and hbmk.cfg now effecticely replaces harbour.cfg,
      which can now be considered obsolete, along with the
      /go option. If someone knows some real-life tasks
      which can be done with /go+harbour.cfg, but cannot
      with hbmk2, please speak up.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 24 16:53:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 16:53:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10438] trunk/harbour
Message-ID: <E1Lc5Db-0004UU-3u@c3vjzd1.ch3.sourceforge.com>

Revision: 10438
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10438&view=rev
Author:   vszakats
Date:     2009-02-24 21:53:34 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 22:52 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    * On *nix platform hbmk.cfg is now first checked for
      in /usr/local/etc, then in /etc and after that in
      hbmk2's dir. Please advise if there are other such 
      global config dirs to check on different platforms.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Tue Feb 24 17:10:29 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Feb 24 17:10:29 2009
Subject: [Harbour] RPM build error
In-Reply-To: <18d502870902241315i4f596222y9ae874c9e610e15@mail.gmail.com>
References: <49A460A5.9010007@zen.co.uk>
	<18d502870902241315i4f596222y9ae874c9e610e15@mail.gmail.com>
Message-ID: <49A47055.9010003@zen.co.uk>

No code generated.
make[3]: *** [hbmk2.c] Error 1
make[3]: Leaving directory 
`/home/baz/RPM/BUILD/harbour-1.1.0/utils/hbmk2/linux/gcc'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `/home/baz/RPM/BUILD/harbour-1.1.0/utils/hbmk2'
make[1]: *** [hbmk2] Error 2
make[1]: Leaving directory `/home/baz/RPM/BUILD/harbour-1.1.0/utils'
make: *** [utils] Error 2
error: Bad exit status from /var/tmp/rpm-tmp.60577 (%build)


RPM build errors:
     Bad exit status from /var/tmp/rpm-tmp.60577 (%build)
[baz@jackodesktop harbour]$

Viktor Szak?ts wrote:
> Thanks Barry, please retry after my last commit.
> 
> Brgds,
> Viktor
> 
> On Tue, Feb 24, 2009 at 10:03 PM, Barry Jackson <zen25000@zen.co.uk 
> <mailto:zen25000@zen.co.uk>> wrote:
> 
>     Just got this from current SVN checked out into clean directory,
>     building RPMs with mpkg_rpm.sh
> 
>     RPM build errors:
>        Installed (but unpackaged) file(s) found:
>       /usr/bin/hb-mkslib
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
From mbelgrano at deltain.it  Tue Feb 24 17:10:28 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 24 17:10:40 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <20090224101914.GA25837@uran.home.aster.pl>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>
	<49A3116D.40608@teledetection.fr>
	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>
	<49A319C1.3090009@teledetection.fr>
	<49A31D09.5000101@teledetection.fr>
	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>
	<49A3AE0B.6020706@teledetection.fr>
	<609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>
	<20090224101914.GA25837@uran.home.aster.pl>
Message-ID: <609353e70902241410s3b2449b2gddc315e0315693b0@mail.gmail.com>

thanks now works!
cd $home
svn co https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
harbour
cd harbour
./mpkg_deb.sh
sudo dpkg -i ../harbour_1.0.1-1_i386.deb

i have installed follow module
 wget cvs rcs build-essential ncurses-dev libslang2-dev tk8.3-dev
unixodbc-dev subversion debhelper fakeroot

some of my problem will be due to my src directory that is  locked (i
not able jet to delete so i have changed dir)


2009/2/24 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Tue, 24 Feb 2009, Massimo Belgrano wrote:
>
> Hi Massimo,
>
>> Thanks for clarification about fakeroot and sorry for my ignorance.
>> the prompt /src/harbour$ tell me that i am logged as user and have open terminal
>> my problem is that when i execute
>> vmplanet@ubuntu-vm:~/src/harbour$ fakeroot sh mpkg_deb.sh
>
> Can you simply try:
> ? ./mpkg_deb.sh
>
> I do not know well deb based distributions but it should be possible
> to create deb files from non root account.
> Running harbour build process from root account is vary bad idea.
> Even a small typo in our build scripts can damage the distribution.
> Never trust projects which needs root for simple compilation.
> Only install phase in system directories should need additional
> privileges.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From vszakats at users.sourceforge.net  Tue Feb 24 17:14:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 24 17:14:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10439] trunk/harbour
Message-ID: <E1Lc5YC-0004r5-Ie@c3vjzd1.ch3.sourceforge.com>

Revision: 10439
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10439&view=rev
Author:   vszakats
Date:     2009-02-24 22:14:49 +0000 (Tue, 24 Feb 2009)

Log Message:
-----------
2009-02-24 23:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed warning.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 24 17:15:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 24 17:15:08 2009
Subject: [Harbour] RPM build error
In-Reply-To: <49A47055.9010003@zen.co.uk>
References: <49A460A5.9010007@zen.co.uk>
	<18d502870902241315i4f596222y9ae874c9e610e15@mail.gmail.com>
	<49A47055.9010003@zen.co.uk>
Message-ID: <18d502870902241415s31240fdetdc21b5a58f85dd6e@mail.gmail.com>

This was a warning in .prg code in a subsequent commit. Should be okay now.
Brgds,
Viktor

On Tue, Feb 24, 2009 at 11:10 PM, Barry Jackson <zen25000@zen.co.uk> wrote:

> No code generated.
> make[3]: *** [hbmk2.c] Error 1
> make[3]: Leaving directory
> `/home/baz/RPM/BUILD/harbour-1.1.0/utils/hbmk2/linux/gcc'
> make[2]: *** [descend] Error 2
> make[2]: Leaving directory `/home/baz/RPM/BUILD/harbour-1.1.0/utils/hbmk2'
> make[1]: *** [hbmk2] Error 2
> make[1]: Leaving directory `/home/baz/RPM/BUILD/harbour-1.1.0/utils'
> make: *** [utils] Error 2
> error: Bad exit status from /var/tmp/rpm-tmp.60577 (%build)
>
>
> RPM build errors:
>    Bad exit status from /var/tmp/rpm-tmp.60577 (%build)
> [baz@jackodesktop harbour]$
>
> Viktor Szak?ts wrote:
>
>> Thanks Barry, please retry after my last commit.
>>
>> Brgds,
>> Viktor
>>
>> On Tue, Feb 24, 2009 at 10:03 PM, Barry Jackson <zen25000@zen.co.uk<mailto:
>> zen25000@zen.co.uk>> wrote:
>>
>>    Just got this from current SVN checked out into clean directory,
>>    building RPMs with mpkg_rpm.sh
>>
>>    RPM build errors:
>>       Installed (but unpackaged) file(s) found:
>>      /usr/bin/hb-mkslib
>>    _______________________________________________
>>    Harbour mailing list
>>    Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>>    http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>  _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090224/bf4f6d6f/attachment.html
From mbelgrano at deltain.it  Tue Feb 24 17:32:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 24 17:32:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10430] trunk/harbour
In-Reply-To: <E1LbyhK-00021m-JO@c3vjzd1.ch3.sourceforge.com>
References: <E1LbyhK-00021m-JO@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70902241432l61933de0h4567c6650965eeb3@mail.gmail.com>

I have tried (win bcc)
hbmk adirtest -DHBMK_INTEGRATED_COMPILER
hbmk adirtest
adirtest.exe seem same dimension 586240 and speed

Internal c compiler can understand what be but internal harbour
compile is little confused concept for me

2009/2/24  <vszakats@users.sourceforge.net>:
> Revision: 10430
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10430&view=rev
> Author: ? vszakats
> Date: ? ? 2009-02-24 14:55:49 +0000 (Tue, 24 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-24 15:07 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> ?* utils/hbmk2/hbmk2.prg
> ?* utils/hbmk2/Makefile
> ?* common.mak
> ? ?+ Added -DHBMK_INTEGRATED_COMPILER compile time option
> ? ? ?to enable integrated Harbour compiler. Experimental,
> ? ? ?please test. This results is bigger executable (obviously)
> ? ? ?but may be more efficient on some platforms.
> ? ?% Using .exe extension for external commands on non-*nix.
> ? ?* Using slightly different format to echo commands on
> ? ? ?screen, they are now printed in a new line and they are
> ? ? ?not put between quotes.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/make_b32.mak
> ? ?trunk/harbour/utils/hbmk2/Makefile
> ? ?trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From zen25000 at zen.co.uk  Tue Feb 24 17:36:26 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Feb 24 17:36:29 2009
Subject: [Harbour] RPM build error
In-Reply-To: <18d502870902241415s31240fdetdc21b5a58f85dd6e@mail.gmail.com>
References: <49A460A5.9010007@zen.co.uk>	
	<18d502870902241315i4f596222y9ae874c9e610e15@mail.gmail.com>	
	<49A47055.9010003@zen.co.uk>
	<18d502870902241415s31240fdetdc21b5a58f85dd6e@mail.gmail.com>
Message-ID: <49A4766A.4060403@zen.co.uk>

Wrote: /home/baz/RPM/SRPMS/harbour-1.1.0-devmdv20090.src.rpm
Wrote: /home/baz/RPM/RPMS/i586/harbour-1.1.0-devmdv20090.i586.rpm
Wrote: /home/baz/RPM/RPMS/i586/harbour-lib-1.1.0-devmdv20090.i586.rpm
Wrote: /home/baz/RPM/RPMS/i586/harbour-static-1.1.0-devmdv20090.i586.rpm
Wrote: /home/baz/RPM/RPMS/i586/harbour-contrib-1.1.0-devmdv20090.i586.rpm
Wrote: /home/baz/RPM/RPMS/i586/harbour-debug-1.1.0-devmdv20090.i586.rpm
Executing(%clean): /bin/sh -e /var/tmp/rpm-tmp.1049
+ umask 022
+ cd /home/baz/RPM/BUILD
+ cd harbour-1.1.0
+ rm -rf /tmp/harbour-1.1.0-root
+ exit 0

Thanks! :-)

Regards Barry.

Viktor Szak?ts wrote:
> This was a warning in .prg code in a subsequent 
> commit. Should be okay now.
> 
> Brgds,
> Viktor

From rportnoff at spendmap.com  Tue Feb 24 17:42:43 2009
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Tue Feb 24 17:39:54 2009
Subject: [Harbour] Calling a Harbour DLL from a Windows C app
In-Reply-To: <E1Lc5YC-0004r5-Ie@c3vjzd1.ch3.sourceforge.com>
References: <E1Lc5YC-0004r5-Ie@c3vjzd1.ch3.sourceforge.com>
Message-ID: <B0086763494@ms1.3peaks.com>

Hi all,

Is it possible to call a DLL created using Harbour from a Windows C 
app using LoadLibrary, GetProcAddress and CallDLL?

TIA.

Regards,
Randy.


From druzus at users.sourceforge.net  Tue Feb 24 21:32:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb 24 21:32:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10440] trunk/harbour
Message-ID: <E1Lc9Zh-0000QX-72@d5vjzd1.ch3.sourceforge.com>

Revision: 10440
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10440&view=rev
Author:   druzus
Date:     2009-02-25 02:32:40 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 03:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + harbour/config/linux/icc.cf
  * harbour/config/linux/gcc.cf
  * harbour/bin/hb-func.sh
  * harbour/bin/postinst.sh
  * harbour/source/common/hbver.c
    + added support for Intel(R) C/C++ compiler

  * harbour/bin/postinst.sh
    % use hb-mkdyn symlink instead of regenerating it as hb-mkslib
      It will work also in DOS/Windows (MSys/DJGPP emulates ln -s ...)

  * harbour/source/vm/thread.c
    * removed all references to HB_THREAD_EQUAL()/HB_THREAD_SELF() in
      non MT builds

  * harbour/source/rtl/console.c
    ! fixed default color setting in hb_dispOutAtBox()

  * harbour/contrib/gtwvg/wvggui.h
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/gtwvg/wincallb.c
  * harbour/contrib/gtwvg/wvgsink.c
    ! fixes for C++ compilation:
      - this is reserved word in C++ - do not use it as variable name
      - class is reserved word in C++ - do not use it as variable name
      - use macros to hide differences between C and C++ WinAPI
      - casting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/contrib/gtwvg/wincallb.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/rtl/console.c
    trunk/harbour/source/vm/thread.c

Added Paths:
-----------
    trunk/harbour/config/linux/icc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lavr at ldz.lv  Wed Feb 25 01:22:41 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Wed Feb 25 01:30:35 2009
Subject: [Harbour] bcc setting for uniform make system
In-Reply-To: <609353e70902241315h2250fca8ud374ee40c356a75d@mail.gmail.com>
References: <609353e70902241243s4c7388cw9623116acfef36e5@mail.gmail.com>	<18d502870902241302s1b17c7ddv57465d083b6883f2@mail.gmail.com>
	<609353e70902241315h2250fca8ud374ee40c356a75d@mail.gmail.com>
Message-ID: <49A4E3B1.80204@ldz.lv>

Massimo Belgrano wrote:
> all seem work fine
>
> set path=c:\devl\BCC55\BIN;%path%
> set path=c:\devl\mingw32make;%path%
> set HB_ARCHITECTURE=win
> set HB_COMPILER=bcc32
> set HB_INSTALL_PREFIX=%~dp0
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> make clean> nul
> make install>MAKE_BCC.LOG
>
>
> executing batch file add a 1!
> C:\harbour>make install 1>MAKE_BCC.LOG
>   
Hi Massimo

1 - just mean STDOUT redirection (default for output redirection),
http://technet.microsoft.com/en-us/library/bb490982.aspx - small topic 
about redirection

Brgds,
Vlad
> make[1]: [install] Error 1 (ignored)
>
> Butt all files are compiled
>
> 2009/2/24 Viktor Szak?ts <harbour.01@syenar.hu>:
>   
>> No idea. Exact same batch works here after correcting
>> the make dir to mine.
>> Could be:
>> - wrong make dir
>> - wrong make.exe in make dir.
>> - older Harbour revision, without the 'install' patch.
>>   (pre-2009-02-18 22:00 UTC+0100)
>> - something else. The result may be in the .log file,
>>   so if you don't succeed, it's worth a check.
>> BTW '-r' switch isn't needed anymore for make,
>> just delete it.
>> Brgds,
>> Viktor
>>
>> On Tue, Feb 24, 2009 at 9:43 PM, Massimo Belgrano <mbelgrano@deltain.it>
>> wrote:
>>     
>>> Wich is bcc setting for using bcc with new make system)
>>> rem 1) You need to have MinGW 'make.exe' in your path.
>>> rem 2) Run from the Harbour source root dir.
>>> set path=c:\devl\BCC55\BIN;%path%
>>> set path=c:\devl\mingw32make;%path%
>>> set HB_ARCHITECTURE=win
>>> set HB_COMPILER=bcc32
>>> set HB_INSTALL_PREFIX=%~dp0
>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>> set SHLVL=
>>> make clean > nul
>>> make install -r >MAKE_BCC.LOG
>>>
>>> C:\harbour>make clean    1>nul
>>>
>>> C:\harbour>make install -r  1>MAKE_BCC.LOG
>>> make[1]: [install] Error 1 (ignored)
>>>
>>>
>>>
>>> --
>>> Massimo Belgrano
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>       
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>     
>
>
>
>   


From jlcapel2 at gmail.com  Wed Feb 25 01:32:20 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Wed Feb 25 01:32:24 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
Message-ID: <ab2a7b4c0902242232x7352e8d4ndb08587839e1c596@mail.gmail.com>

Massimo,

Do you know if Visual C++ Studio Express 2008 will compile for PPC ?

Regards,
Jos? Luis Capel

2009/2/18 Massimo Belgrano <mbelgrano@deltain.it>

> If you choice Visual C ++ for windows version or harbour
> Dowload and install tortoise from http://tortoisesvn.tigris.org/
>
> Right Click on your c Drive and  in svn checkout pass as address
>
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>
> Now you have source of harbour on c:\harbour
>
> you can download Microsoft Visual C++ Express from
> http://www.microsoft.com/express/vcsharp/
> Here you can download sdk for visual c++ from
>
> http://www.microsoft.com/downloads/details.aspx?FamilyID=e6e1c3df-a74f-4207-8586-711ebe331cdc&displaylang=en
>
>
> Execute This batch cchbvc9 for compile harbour and contrib
> ---------------cchbvc9.bat----------------
> SET HB_VISUALC_VER=90
> SET HB_INSTALL_PREFIX=C:\harbour
> SET LIB=C:\HARBOUR\LIB
> SET INCLUDE=C:\HARBOUR\INCLUDE
> call "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
> CD \HARBOUR
> CALL MAKE_VC CLEAN
> CALL MAKE_VC
> CALL MAKE_VC INSTALL
> CD \HARBOUR\CONTRIB
> Echo ----------contrib---------
> CALL MAKE_VC_ALL CLEAN
> CALL MAKE_VC_ALL
> cd \harbour
> CALL MAKE_VC INSTALL
> cd \
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/b67ba83c/attachment.html
From maurilio.longo at libero.it  Wed Feb 25 03:30:16 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 25 03:30:28 2009
Subject: [Harbour] contrib/hbbmcdx raises error in update
In-Reply-To: <49A41EF5.6000304@libero.it>
References: <49A41EF5.6000304@libero.it>
Message-ID: <49A50198.2000302@libero.it>

Ok,

it was my local copy of contrib/hbbmcdx which was corrupted. :)

Maurilio.

Maurilio Longo wrote:
> Hi,
> 
> trying to update my local copy with smartSVN I get this error:
> 
> This client is too old to work with working copy:
> E:\repository\harbour\contrib\hbbmcdx\
> 
> But it was able to update several files before this one! So, is the subversion
> repository on sourceforge broken? What is happening?
> 
> Best regards.
> 
> Maurilio.
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Wed Feb 25 04:42:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 25 04:42:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10441] trunk/harbour
Message-ID: <E1LcGHV-0005Vi-JE@dn4whf1.ch3.sourceforge.com>

Revision: 10441
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10441&view=rev
Author:   vszakats
Date:     2009-02-25 09:42:17 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-24 10:41 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.cmd
  * bin/postinst.bat
  * bin/hb-func.sh
    + Added arch= and comp= variables to hbmk.cfg.
      I plan to use these for autoconfiguration.

  * make_gnu_os2.cmd
  * make_gnu.bat
    - Removed built in output redirection to make them in sync
      with the bash flavour. Users can easily redirect it themselves.

  * utils/hbmk2/hbmk2.prg
    + Formally added icc.

  * config/win/msvcce.cf
    ! Untested fixes for msvcce in GNU make.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/config/win/msvcce.cf
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu_os2.cmd
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 25 04:43:00 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 25 04:43:12 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <ab2a7b4c0902242232x7352e8d4ndb08587839e1c596@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<ab2a7b4c0902242232x7352e8d4ndb08587839e1c596@mail.gmail.com>
Message-ID: <609353e70902250143r9f73649we213f5e6a82bd9cd@mail.gmail.com>

>From visual Studio 2008 point of view you need:
Windows Mobile 6 Professional and Standard Software Development Kits Refresh
http://www.microsoft.com/downloads/details.aspx?familyid=06111a3a-a651-4745-88ef-3d48091a390b&displaylang=en
Other tool will be
sql server compact edition
 http://www.microsoft.com/downloads/details.aspx?FamilyId=4E45F676-E69A-4F7F-A016-C1585ACF4310&displaylang=en.
Sql helper http://blogs.devleap.com/rob/archive/2007/11/01/nuovo-sqlhelper-per-sqlce-3-0-3-1.aspx

>From the harbour point of view hi hope that Vicktor Give us a sample

2009/2/25 Jos? Luis Capel <jlcapel2@gmail.com>:
> Massimo,
>
> Do you know if Visual C++ Studio Express 2008 will compile for PPC ?
>
> Regards,
> Jos? Luis Capel
>
> 2009/2/18 Massimo Belgrano <mbelgrano@deltain.it>
>>
>> If you choice Visual C ++ for windows version or harbour
>> Dowload and install tortoise from http://tortoisesvn.tigris.org/
>>
>> Right Click on your c Drive and ?in svn checkout pass as address
>>
>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>>
>> Now you have source of harbour on c:\harbour
>>
>> you can download Microsoft Visual C++ Express from
>> http://www.microsoft.com/express/vcsharp/
>> Here you can download sdk for visual c++ from
>>
>> http://www.microsoft.com/downloads/details.aspx?FamilyID=e6e1c3df-a74f-4207-8586-711ebe331cdc&displaylang=en
>>
>>
>> Execute This batch cchbvc9 for compile harbour and contrib
>> ---------------cchbvc9.bat----------------
>> SET HB_VISUALC_VER=90
>> SET HB_INSTALL_PREFIX=C:\harbour
>> SET LIB=C:\HARBOUR\LIB
>> SET INCLUDE=C:\HARBOUR\INCLUDE
>> call "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>> CD \HARBOUR
>> CALL MAKE_VC CLEAN
>> CALL MAKE_VC
>> CALL MAKE_VC INSTALL
>> CD \HARBOUR\CONTRIB
>> Echo ----------contrib---------
>> CALL MAKE_VC_ALL CLEAN
>> CALL MAKE_VC_ALL
>> cd \harbour
>> CALL MAKE_VC INSTALL
>> cd \
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Wed Feb 25 04:48:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 25 04:48:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10442] trunk/harbour
Message-ID: <E1LcGN0-0005aw-63@dn4whf1.ch3.sourceforge.com>

Revision: 10442
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10442&view=rev
Author:   vszakats
Date:     2009-02-25 09:47:57 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-24 10:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.bat
    + Added dos/windows (djgpp/mingw) autodetection.
    ! Cleaned help screen.
      (missed from previous entry)
    * Other minor cleanups and fixes on help screen.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 25 04:48:52 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 04:49:01 2009
Subject: [Harbour] Little Guide for installing Visual C++ 2008 express 
	edition with Harbour From svn
In-Reply-To: <ab2a7b4c0902242232x7352e8d4ndb08587839e1c596@mail.gmail.com>
References: <609353e70902180048ofbd34e0oaecff008ebd11adc@mail.gmail.com>
	<ab2a7b4c0902242232x7352e8d4ndb08587839e1c596@mail.gmail.com>
Message-ID: <18d502870902250148ib4e61cavfa9c59a7ab45ce58@mail.gmail.com>

Hi Jose,
2008 Professional and above versions provide PPC support.

Brgds,
Viktor

On Wed, Feb 25, 2009 at 7:32 AM, Jos? Luis Capel <jlcapel2@gmail.com> wrote:

> Massimo,
>
> Do you know if Visual C++ Studio Express 2008 will compile for PPC ?
>
> Regards,
> Jos? Luis Capel
>
> 2009/2/18 Massimo Belgrano <mbelgrano@deltain.it>
>
> If you choice Visual C ++ for windows version or harbour
>> Dowload and install tortoise from http://tortoisesvn.tigris.org/
>>
>> Right Click on your c Drive and  in svn checkout pass as address
>>
>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>>
>> Now you have source of harbour on c:\harbour
>>
>> you can download Microsoft Visual C++ Express from
>> http://www.microsoft.com/express/vcsharp/
>> Here you can download sdk for visual c++ from
>>
>> http://www.microsoft.com/downloads/details.aspx?FamilyID=e6e1c3df-a74f-4207-8586-711ebe331cdc&displaylang=en
>>
>>
>> Execute This batch cchbvc9 for compile harbour and contrib
>> ---------------cchbvc9.bat----------------
>> SET HB_VISUALC_VER=90
>> SET HB_INSTALL_PREFIX=C:\harbour
>> SET LIB=C:\HARBOUR\LIB
>> SET INCLUDE=C:\HARBOUR\INCLUDE
>> call "C:\Programmi\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>> CD \HARBOUR
>> CALL MAKE_VC CLEAN
>> CALL MAKE_VC
>> CALL MAKE_VC INSTALL
>> CD \HARBOUR\CONTRIB
>> Echo ----------contrib---------
>> CALL MAKE_VC_ALL CLEAN
>> CALL MAKE_VC_ALL
>> cd \harbour
>> CALL MAKE_VC INSTALL
>> cd \
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/8a013fcb/attachment-0001.html
From a.jurkiewicz at abix.info.pl  Wed Feb 25 04:53:33 2009
From: a.jurkiewicz at abix.info.pl (ABIX Adam Jurkiewicz)
Date: Wed Feb 25 04:53:39 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902241410s3b2449b2gddc315e0315693b0@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>	<609353e70902231304y5d394b4y17cbfe9d4198db54@mail.gmail.com>	<49A3116D.40608@teledetection.fr>	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>	<49A319C1.3090009@teledetection.fr>	<49A31D09.5000101@teledetection.fr>	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>	<49A3AE0B.6020706@teledetection.fr>	<609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>	<20090224101914.GA25837@uran.home.aster.pl>
	<609353e70902241410s3b2449b2gddc315e0315693b0@mail.gmail.com>
Message-ID: <49A5151D.1010205@abix.info.pl>

Massimo Belgrano pisze:
> thanks now works!
> cd $home
> some of my problem will be due to my src directory that is  locked (i
> not able jet to delete so i have changed dir)
Please send output of:
ls -la _path_to_src_directory

We wiil see, what is wrong with your src...

Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj
Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From harbour.01 at syenar.hu  Wed Feb 25 05:05:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 05:05:08 2009
Subject: [Harbour] Harbour homepage requests (Renato)
Message-ID: <18d502870902250205m105fd0ccl4156525aa6ff1055@mail.gmail.com>

Hi Renato,
Could you add these two pages to our homepage,
with redirections to current equivalents:

- http://www.harbour-project.org/download.htm
    -> http://sourceforge.net/project/showfiles.php?group_id=681
- http://www.harbour-project.org/mailinglist.htm
    -> http://www.harbour-project.org/mailing.html
  (maybe renaming the current page is better)

These are referred to on Freshmeat.net, maybe
other places too, and they are dead links.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/34313850/attachment.html
From vszakats at users.sourceforge.net  Wed Feb 25 05:26:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 25 05:26:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10443] trunk/harbour
Message-ID: <E1LcGyA-000510-0S@3kljzd1.ch3.sourceforge.com>

Revision: 10443
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10443&view=rev
Author:   vszakats
Date:     2009-02-25 10:26:25 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-24 11:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + INSTALL
    + Installation docs kept simple.
    ; TODO: Add it to install packages. Test and extend as needed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 25 05:38:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 25 05:38:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10444] trunk/harbour
Message-ID: <E1LcH9T-0005Ce-1R@3kljzd1.ch3.sourceforge.com>

Revision: 10444
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10444&view=rev
Author:   vszakats
Date:     2009-02-25 10:38:06 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-24 11:37 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Refined autodetection of msvc to not be confused by
      watcom binary dir in the path.
    ! Refined autodetection of owatcom by also checking for
      WATCOM envvar. Thanks Petr Chornyj for the hint.
    % Removed hack to not prioritize MSVC compiler detection,
      so it's now handled just like the others.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Wed Feb 25 05:56:30 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Wed Feb 25 05:56:36 2009
Subject: [Harbour] Compiling harbour under windows with gcc
Message-ID: <49A523DE.2080904@teledetection.fr>

Hi,

How to compile harbour under windows using gcc ?
(i don't want to use non free / non open source compiler)

I already try with cygwin without success.

Guy

From mbelgrano at deltain.it  Wed Feb 25 06:15:47 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 25 06:15:50 2009
Subject: [Harbour] Compiling harbour under windows with gcc
In-Reply-To: <49A523DE.2080904@teledetection.fr>
References: <49A523DE.2080904@teledetection.fr>
Message-ID: <609353e70902250315x5e993031o1bfcecbf19801371@mail.gmail.com>

Microsoft Visual express is free also if not open source
http://www.microsoft.com/express/download/#webInstall

Untested
--------c:\harbour\mw.bat
echo --harbour---------------
rem 1) You need to have MinGW 'make.exe' in your path first.
rem 2) Run  from the Harbour source root dir.
SET 3) add your optional contrib like HB_DIR_ADS
set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
set HB_ARCHITECTURE=win
set HB_COMPILER=mingw
set HB_USER_LDFLAGS=-s
set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
make clean
make install


2009/2/25 Guy Roussin <guy.roussin@teledetection.fr>:
> Hi,
>
> How to compile harbour under windows using gcc ?
> (i don't want to use non free / non open source compiler)
>
> I already try with cygwin without success.
>
> Guy
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From mbelgrano at deltain.it  Wed Feb 25 06:22:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 25 06:22:35 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <49A5151D.1010205@abix.info.pl>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>
	<49A319C1.3090009@teledetection.fr>
	<49A31D09.5000101@teledetection.fr>
	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>
	<49A3AE0B.6020706@teledetection.fr>
	<609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>
	<20090224101914.GA25837@uran.home.aster.pl>
	<609353e70902241410s3b2449b2gddc315e0315693b0@mail.gmail.com>
	<49A5151D.1010205@abix.info.pl>
Message-ID: <609353e70902250322x5ccdb9f4l7f826f06d0e2f8c1@mail.gmail.com>

Thanks for your support
Here my redirection
vmplanet@ubuntu-vm:~$ cd $home

vmplanet@ubuntu-vm:~$ ls -la src
total 6296
drwxr-xr-x  3 root     root        4096 2009-02-22 12:06 .
drwxr-xr-x 34 vmplanet vmplanet    4096 2009-02-25 03:19 ..
drwxr-xr-x 14 root     root        4096 2009-02-23 12:49 harbour
-rw-r--r--  1 root     root         534 2009-02-22 12:06
harbour_1.0.0-1_i386.changes
-rw-r--r--  1 root     root     6415134 2009-02-22 12:06
harbour_1.0.0-1_i386.deb
vmplanet@ubuntu-vm:~$


2009/2/25 ABIX Adam Jurkiewicz <a.jurkiewicz@abix.info.pl>:
> Massimo Belgrano pisze:
>> thanks now works!
>> cd $home
>> some of my problem will be due to my src directory that is ?locked (i
>> not able jet to delete so i have changed dir)
> Please send output of:
> ls -la _path_to_src_directory
>
> We wiil see, what is wrong with your src...
>
> Adam
> --
> ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
> Gadu-Gadu: 302315
> Skype: abix_adamj
> Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From lostmyhearttoher at gmail.com  Wed Feb 25 07:00:22 2009
From: lostmyhearttoher at gmail.com (Lost)
Date: Wed Feb 25 07:00:26 2009
Subject: [Harbour] Compiling harbour under windows with gcc
In-Reply-To: <49A523DE.2080904@teledetection.fr>
References: <49A523DE.2080904@teledetection.fr>
Message-ID: <402ac8b70902250400p155ff7a2oe7cb46abf5c039d9@mail.gmail.com>

Hi, Guy

El 2009/2/25 Guy Roussin <guy.roussin@teledetection.fr> escribi?:

> How to compile harbour under windows using gcc ?
> (i don't want to use non free / non open source compiler)
>
> I already try with cygwin without success.
>
> Guy

Check out MSYS/MinGW:
http://www.mingw.org/

Here are some instructions on how to set it up:
http://www.mingw.org/wiki/msys

HTH.
Best regards,

Lost
From harbour.01 at syenar.hu  Wed Feb 25 07:04:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 07:04:16 2009
Subject: [Harbour] Compiling harbour under windows with gcc
In-Reply-To: <49A523DE.2080904@teledetection.fr>
References: <49A523DE.2080904@teledetection.fr>
Message-ID: <18d502870902250404r52c39896v70fbbb25c96213af@mail.gmail.com>

Hi Guy,
I'm trying figure some easy to follow instructions here,
the odd thing currently is that we have 3 (!) ways to
build/install Harbour using MinGW, and this doesn't make
it easy to understand as usually the details of the three
methods are mixed together when users make and attempt.

The best IMO is this:
---
rem Make sure to have msys and MinGW properly installed
rem and setup. msys should be put in PATH _before_ MinGW.
set HB_INSTALL_PREFIX=<DIR> (using forward slashes and MinGW drive notation:
/c/)
sh make_gnu.sh install
---

Please report your results.

Brgds,
Viktor

On Wed, Feb 25, 2009 at 11:56 AM, Guy Roussin
<guy.roussin@teledetection.fr>wrote:

> Hi,
>
> How to compile harbour under windows using gcc ?
> (i don't want to use non free / non open source compiler)
>
> I already try with cygwin without success.
>
> Guy
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/49914622/attachment.html
From vailtom at gmail.com  Wed Feb 25 07:08:13 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Feb 25 07:08:17 2009
Subject: [Harbour] Harbour homepage requests (Renato)
In-Reply-To: <18d502870902250205m105fd0ccl4156525aa6ff1055@mail.gmail.com>
References: <18d502870902250205m105fd0ccl4156525aa6ff1055@mail.gmail.com>
Message-ID: <531d7a750902250408h11a90e97va979f0cf4821f715@mail.gmail.com>

Partly  done. Added 2 new pages to make the redirect in this first
time. But then I rename the pages to get better since it requires
changing all the menu pages of the site and making reference to these
links.

Vailton Renato

2009/2/25 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Renato,
> Could you add these two pages to our homepage,
> with redirections to current equivalents:
> - http://www.harbour-project.org/download.htm
> ?? ?-> http://sourceforge.net/project/showfiles.php?group_id=681
> - http://www.harbour-project.org/mailinglist.htm
> ?? ?->?http://www.harbour-project.org/mailing.html
> ??(maybe renaming the current page is better)
> These are referred to on Freshmeat.net, maybe
> other places too, and they are dead links.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From harbour.01 at syenar.hu  Wed Feb 25 07:14:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 07:14:21 2009
Subject: [Harbour] Harbour homepage requests (Renato)
In-Reply-To: <531d7a750902250408h11a90e97va979f0cf4821f715@mail.gmail.com>
References: <18d502870902250205m105fd0ccl4156525aa6ff1055@mail.gmail.com>
	<531d7a750902250408h11a90e97va979f0cf4821f715@mail.gmail.com>
Message-ID: <18d502870902250414x71a8e83btdf3150810051a482@mail.gmail.com>

Thanks a lot Renato, everything is working perfectly now.
Brgds,
Viktor

On Wed, Feb 25, 2009 at 1:08 PM, Vailton Renato <vailtom@gmail.com> wrote:

> Partly  done. Added 2 new pages to make the redirect in this first
> time. But then I rename the pages to get better since it requires
> changing all the menu pages of the site and making reference to these
> links.
>
> Vailton Renato
>
> 2009/2/25 Viktor Szak?ts <harbour.01@syenar.hu>:
> > Hi Renato,
> > Could you add these two pages to our homepage,
> > with redirections to current equivalents:
> > - http://www.harbour-project.org/download.htm
> >     -> http://sourceforge.net/project/showfiles.php?group_id=681
> > - http://www.harbour-project.org/mailinglist.htm
> >     -> http://www.harbour-project.org/mailing.html
> >   (maybe renaming the current page is better)
> > These are referred to on Freshmeat.net, maybe
> > other places too, and they are dead links.
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Vailton Renato
> SQL LIB, MyMake & xDev Developer
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/11349288/attachment.html
From toninhofwi at yahoo.com.br  Wed Feb 25 07:34:35 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Wed Feb 25 07:31:37 2009
Subject: [Harbour] -DHB_FM_WIN_ALLOC - VirtualAlloc/Free - Test Results
In-Reply-To: <20090224173242.GA21688@uran.home.aster.pl>
References: <20090224135206.GA610@uran.home.aster.pl>
	<l978q4leb4kgt2b903u3vn1urd1fpgfuk2@4ax.com>
	<20090224235953.9FA5.422BA498@telkom.net.id>
	<20090224173242.GA21688@uran.home.aster.pl>
Message-ID: <3ieaq4htt89vsqvpnc7jg23qstlbh0dpml@4ax.com>

>xHarbour does not enable DLMALLOC with the same conditions as
>Harbour and it's the reason of difference. I guess you are using
>__EXPORT__ macro which effectively disables DLMALLOC in xHarbour.
>
>BTW if you can test the above code with BCC6.1 to confirm the results
>    then it will really help.

Hi Przemek.

Tested with xHarbour with the SAME results. Of course the problem is
with bcc 6.10.

I?m thinking move to MSVC.

Thanks and best regards,

Toninho.


		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor op??o para voc?! 
Experimente j? e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
From M.Horodyski at pzuzycie.com.pl  Wed Feb 25 07:31:45 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Feb 25 07:31:51 2009
Subject: [Harbour] RE: Raport from build
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00478@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Tuesday, February 24, 2009 11:54 AM
>To: 'Harbour Project Main Developer List.'
>Subject: RE: Raport from build
>
>>-----Original Message-----
>>From: Horodyski Marek (PZUZ)
>>Sent: Monday, February 23, 2009 4:20 PM
>>To: 'Harbour Project Main Developer List.'
>>Subject: Raport from build
>>
>>Date  - 2009-02-23, from naightly zip file. Compiler : owactom.

[...]

Todays - 2009-02-25 - unchanged.

>>>>>>
make[3]: *** [wvgwin.obj] Error 8
make[2]: *** [descend] Error 2 
make[1]: *** [gtwvg] Error 2
make: *** [contrib] Error 2

C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
../../wvgwin.c(1617): Error! E715: col(9) member 'item' has not been
declared in 'tagTVINSERTSTRUCTA'
>>>>>>

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Wed Feb 25 07:36:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 25 07:36:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
Message-ID: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>

Revision: 10445
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10445&view=rev
Author:   vszakats
Date:     2009-02-25 12:36:45 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-24 13:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added MinGW + msys specific entry.

  * bin/postinst.sh
    + Added generation of hbcc.bat, hbcmp.bat, hblnk.bat 
      to be in complete feature sync with the non-msys method.
      NOTE: non-msys method isn't recommended.

  * make_gnu_os2.cmd
    + Added automatic HB_*_INSTALL setup based on HB_INSTALL_PREFIX 
      to be in sync with the rest of Harbour.

  * make_gnu.bat
    ! Fixed forward slashed to backslashes.
    * Changed default compiler from mingw to msvc.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.sh
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu_os2.cmd


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marchuet at users.sourceforge.net  Wed Feb 25 07:57:05 2009
From: marchuet at users.sourceforge.net (marchuet@users.sourceforge.net)
Date: Wed Feb 25 07:57:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10446] trunk/harbour
Message-ID: <E1LcJJx-0002uk-RC@dn4whf1.ch3.sourceforge.com>

Revision: 10446
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10446&view=rev
Author:   marchuet
Date:     2009-02-25 12:57:00 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 13:54 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net>
  * contrib/hbbmcdx/bmdbfcdx.c
    ! updated to current rdd subsystem.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 25 07:57:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 07:57:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10430] trunk/harbour
In-Reply-To: <609353e70902241432l61933de0h4567c6650965eeb3@mail.gmail.com>
References: <E1LbyhK-00021m-JO@c3vjzd1.ch3.sourceforge.com>
	<609353e70902241432l61933de0h4567c6650965eeb3@mail.gmail.com>
Message-ID: <18d502870902250457j6189bdc1y3de68c75365ac5a9@mail.gmail.com>

Hi Massimo,
Sorry, you misunderstood the concept, let me clarify:

-DHBMK_INTEGRATED_COMPILER is a switch
to be used when _building hbmk2 itself_.
So in essence, to try it, you'll need to use this
envvar when building Harbour:
set HB_USER_PRGFLAGS=-DHBMK_INTEGRATED_COMPILER

If you have built hbmk2 with this switch, it will use its
integrated Harbour compiler, instead of calling harbour.exe.

This has no effect on the final results, like adirtest.

Brgds,
Viktor

On Tue, Feb 24, 2009 at 11:32 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I have tried (win bcc)
> hbmk adirtest -DHBMK_INTEGRATED_COMPILER
> hbmk adirtest
> adirtest.exe seem same dimension 586240 and speed
>
> Internal c compiler can understand what be but internal harbour
> compile is little confused concept for me
>
> 2009/2/24  <vszakats@users.sourceforge.net>:
> > Revision: 10430
> >
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10430&view=rev
> > Author:   vszakats
> > Date:     2009-02-24 14:55:49 +0000 (Tue, 24 Feb 2009)
> >
> > Log Message:
> > -----------
> > 2009-02-24 15:07 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >  * utils/hbmk2/hbmk2.prg
> >  * utils/hbmk2/Makefile
> >  * common.mak
> >    + Added -DHBMK_INTEGRATED_COMPILER compile time option
> >      to enable integrated Harbour compiler. Experimental,
> >      please test. This results is bigger executable (obviously)
> >      but may be more efficient on some platforms.
> >    % Using .exe extension for external commands on non-*nix.
> >    * Using slightly different format to echo commands on
> >      screen, they are now printed in a new line and they are
> >      not put between quotes.
> >
> > Modified Paths:
> > --------------
> >    trunk/harbour/ChangeLog
> >    trunk/harbour/make_b32.mak
> >    trunk/harbour/utils/hbmk2/Makefile
> >    trunk/harbour/utils/hbmk2/hbmk2.prg
> >
> >
> > This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/00823a87/attachment.html
From vszakats at users.sourceforge.net  Wed Feb 25 08:37:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 25 08:37:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10447] trunk/harbour
Message-ID: <E1LcJwo-0000bF-Ny@3kljzd1.ch3.sourceforge.com>

Revision: 10447
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10447&view=rev
Author:   vszakats
Date:     2009-02-25 13:37:13 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 14:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.sh
    ! Fixed hb_mkslib link generation.
  * contrib/gtwvg/wvgwin.c
    ! Fixed owatcom error. (removed Windows structure redefinition)
  * utils/hbmk2/hbmk2.prg
    * Some screen messages slightly refined.
  * doc/whatsnew.txt
    * Minor.
  * ChangeLog
    * Fixed dates.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.sh
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 25 09:22:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 25 09:22:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10448] trunk/harbour
Message-ID: <E1LcKen-0001Pg-7Z@d5vjzd1.ch3.sourceforge.com>

Revision: 10448
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10448&view=rev
Author:   vszakats
Date:     2009-02-25 14:22:40 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 15:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    ! Typo in prev.

  * config/darwin/install.cf
  * config/win/install.cf
    + Added same as Linux workaround to not let install phase 
      fail because copy on install error.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/darwin/install.cf
    trunk/harbour/config/win/install.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 25 09:24:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 25 09:24:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10449] trunk/harbour
Message-ID: <E1LcKgx-0001SR-14@d5vjzd1.ch3.sourceforge.com>

Revision: 10449
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10449&view=rev
Author:   vszakats
Date:     2009-02-25 14:24:54 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 15:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/win/msvcce.cf
    ! Typo corrected in prev modif after testing feedback.
      Thanks Jose.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/msvcce.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Wed Feb 25 09:47:02 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Wed Feb 25 09:47:06 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902250322x5ccdb9f4l7f826f06d0e2f8c1@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>	<609353e70902231320w423db820na6f01dfea8c0d5b6@mail.gmail.com>	<49A319C1.3090009@teledetection.fr>	<49A31D09.5000101@teledetection.fr>	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>	<49A3AE0B.6020706@teledetection.fr>	<609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>	<20090224101914.GA25837@uran.home.aster.pl>	<609353e70902241410s3b2449b2gddc315e0315693b0@mail.gmail.com>	<49A5151D.1010205@abix.info.pl>
	<609353e70902250322x5ccdb9f4l7f826f06d0e2f8c1@mail.gmail.com>
Message-ID: <49A559E6.2010303@teledetection.fr>

Massimo Belgrano a ?crit :
> Thanks for your support
> Here my redirection
> vmplanet@ubuntu-vm:~$ cd $home
>
> vmplanet@ubuntu-vm:~$ ls -la src
> total 6296
> drwxr-xr-x  3 root     root        4096 2009-02-22 12:06 .
> drwxr-xr-x 34 vmplanet vmplanet    4096 2009-02-25 03:19 ..
> drwxr-xr-x 14 root     root        4096 2009-02-23 12:49 harbour
> -rw-r--r--  1 root     root         534 2009-02-22 12:06
> harbour_1.0.0-1_i386.changes
> -rw-r--r--  1 root     root     6415134 2009-02-22 12:06
> harbour_1.0.0-1_i386.deb
> vmplanet@ubuntu-vm:~$
>
>   
Hi Massimo,

Very strange ~/src dir.
The owner is root !!!  not good ...

I understand now why fakeroot is not working ...

Strange also to see

harbour_1.0.0-1_i386.deb 
must be harbour_1.0.1-1_i386.deb !

You can try to make these steps as user *** vmplanet *** :
 
$ cd
$ sudo chown -R vmplanet.vmplanet src

Now you can follow the commands i give you to compile harbour :

$ cd src 
$ svn co https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
$ cd harbour
$ fakeroot sh mpkg_deb.sh
$ sudo dpkg -i ../harbour_1.0.1-1_i386.deb


To avoid such problem (and others) avoid running as root ...

Guy

From harbour.01 at syenar.hu  Wed Feb 25 09:55:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 09:55:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10446] trunk/harbour
In-Reply-To: <E1LcJJx-0002uk-RC@dn4whf1.ch3.sourceforge.com>
References: <E1LcJJx-0002uk-RC@dn4whf1.ch3.sourceforge.com>
Message-ID: <18d502870902250655x788559e2w7523d8f25fa3ad37@mail.gmail.com>

Hi Miguel,
---
gcc -I. -I../../../../include -Wall -W -O3 -march=i586 -mtune=pentiumpro  -c
../../bmdbfcdx.c -obmdbfcdx.o
../../bmdbfcdx.c: In function 'hb_cdxOrderCreate':
../../bmdbfcdx.c:8148: error: 'CDXAREA' has no member named 'fTemporary'
---

Brgds,
Viktor

On Wed, Feb 25, 2009 at 1:57 PM, <marchuet@users.sourceforge.net> wrote:

> Revision: 10446
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10446&view=rev
> Author:   marchuet
> Date:     2009-02-25 12:57:00 +0000 (Wed, 25 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-25 13:54 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net>
>  * contrib/hbbmcdx/bmdbfcdx.c
>    ! updated to current rdd subsystem.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/ade65aa5/attachment.html
From lorenzo.fiorini at gmail.com  Wed Feb 25 10:07:05 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 25 10:07:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
Message-ID: <9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>

On Wed, Feb 25, 2009 at 1:36 PM,  <vszakats@users.sourceforge.net> wrote:

> ?* bin/postinst.sh
> ? ?+ Added generation of hbcc.bat, hbcmp.bat, hblnk.bat
> ? ? ?to be in complete feature sync with the non-msys method.
> ? ? ?NOTE: non-msys method isn't recommended.

It was my impression that hbmk2.exe was created to eliminate bat files.
Now gnu make system creates bat files to run hbmk2.exe.
This looks like a endless loop :)
Am I missing sth?

best regards,
Lorenzo
From miguelangel at marchuet.net  Wed Feb 25 10:14:42 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Wed Feb 25 10:09:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10446] trunk/harbour
In-Reply-To: <18d502870902250655x788559e2w7523d8f25fa3ad37@mail.gmail.com>
References: <E1LcJJx-0002uk-RC@dn4whf1.ch3.sourceforge.com>
	<18d502870902250655x788559e2w7523d8f25fa3ad37@mail.gmail.com>
Message-ID: <49A56062.6040502@marchuet.net>

thk's i fix it inmediatelly

Viktor Szak?ts escribi?:
> Hi Miguel,
> 
> ---
> gcc -I. -I../../../../include -Wall -W -O3 -march=i586 -mtune=pentiumpro 
>  -c ../../bmdbfcdx.c -obmdbfcdx.o
> ../../bmdbfcdx.c: In function 'hb_cdxOrderCreate':
> ../../bmdbfcdx.c:8148: error: 'CDXAREA' has no member named 'fTemporary'
> ---
> 
> Brgds,
> Viktor
> 
> On Wed, Feb 25, 2009 at 1:57 PM, <marchuet@users.sourceforge.net 
> <mailto:marchuet@users.sourceforge.net>> wrote:
> 
>     Revision: 10446
>            
>      http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10446&view=rev
>     <http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10446&view=rev>
>     Author:   marchuet
>     Date:     2009-02-25 12:57:00 +0000 (Wed, 25 Feb 2009)
> 
>     Log Message:
>     -----------
>     2009-02-25 13:54 UTC+0100 Miguel Angel Marchuet
>     <miguelangel@marchuet.net <mailto:miguelangel@marchuet.net>>
>      * contrib/hbbmcdx/bmdbfcdx.c
>        ! updated to current rdd subsystem.
> 
>     Modified Paths:
>     --------------
>        trunk/harbour/ChangeLog
>        trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
> 
> 
>     This was sent by the SourceForge.net collaborative development
>     platform, the world's largest Open Source development site.
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> __________ Informaci?n de ESET NOD32 Antivirus, versi?n de la base de firmas de virus 3888 (20090225) __________
> 
> ESET NOD32 Antivirus ha comprobado este mensaje.
> 
> http://www.eset.com
> 

From mbelgrano at deltain.it  Wed Feb 25 10:13:28 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 25 10:13:34 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <49A559E6.2010303@teledetection.fr>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>
	<49A31D09.5000101@teledetection.fr>
	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>
	<49A3AE0B.6020706@teledetection.fr>
	<609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>
	<20090224101914.GA25837@uran.home.aster.pl>
	<609353e70902241410s3b2449b2gddc315e0315693b0@mail.gmail.com>
	<49A5151D.1010205@abix.info.pl>
	<609353e70902250322x5ccdb9f4l7f826f06d0e2f8c1@mail.gmail.com>
	<49A559E6.2010303@teledetection.fr>
Message-ID: <609353e70902250713y51ef651cha76700c8a874c021@mail.gmail.com>

Thanks!
After "$ sudo chown -R vmplanet.vmplanet src", All works fine
Wich is best way for learn about linux?

2009/2/25 Guy Roussin <guy.roussin@teledetection.fr>:
> Massimo Belgrano a ?crit :
>>
>> Thanks for your support
>> Here my redirection
>> vmplanet@ubuntu-vm:~$ cd $home
>>
>> vmplanet@ubuntu-vm:~$ ls -la src
>> total 6296
>> drwxr-xr-x ?3 root ? ? root ? ? ? ?4096 2009-02-22 12:06 .
>> drwxr-xr-x 34 vmplanet vmplanet ? ?4096 2009-02-25 03:19 ..
>> drwxr-xr-x 14 root ? ? root ? ? ? ?4096 2009-02-23 12:49 harbour
>> -rw-r--r-- ?1 root ? ? root ? ? ? ? 534 2009-02-22 12:06
>> harbour_1.0.0-1_i386.changes
>> -rw-r--r-- ?1 root ? ? root ? ? 6415134 2009-02-22 12:06
>> harbour_1.0.0-1_i386.deb
>> vmplanet@ubuntu-vm:~$
>>
>>
>
> Hi Massimo,
>
> Very strange ~/src dir.
> The owner is root !!! ?not good ...
>
> I understand now why fakeroot is not working ...
>
> Strange also to see
>
> harbour_1.0.0-1_i386.deb must be harbour_1.0.1-1_i386.deb !
>
> You can try to make these steps as user *** vmplanet *** :
>
> $ cd
> $ sudo chown -R vmplanet.vmplanet src
>
> Now you can follow the commands i give you to compile harbour :
>
> $ cd src $ svn co
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
> $ cd harbour
> $ fakeroot sh mpkg_deb.sh
> $ sudo dpkg -i ../harbour_1.0.1-1_i386.deb
>
>
> To avoid such problem (and others) avoid running as root ...
>
> Guy
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From mbelgrano at deltain.it  Wed Feb 25 10:16:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 25 10:16:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
Message-ID: <609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>

First make have batch in each dir
Now is only a wrapper for user who store more name in memory

2009/2/25 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>:
> On Wed, Feb 25, 2009 at 1:36 PM, ?<vszakats@users.sourceforge.net> wrote:
>
>> ?* bin/postinst.sh
>> ? ?+ Added generation of hbcc.bat, hbcmp.bat, hblnk.bat
>> ? ? ?to be in complete feature sync with the non-msys method.
>> ? ? ?NOTE: non-msys method isn't recommended.
>
> It was my impression that hbmk2.exe was created to eliminate bat files.
> Now gnu make system creates bat files to run hbmk2.exe.
> This looks like a endless loop :)
> Am I missing sth?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From marchuet at users.sourceforge.net  Wed Feb 25 10:22:41 2009
From: marchuet at users.sourceforge.net (marchuet@users.sourceforge.net)
Date: Wed Feb 25 10:22:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10450] trunk/harbour
Message-ID: <E1LcLar-0002hI-Nz@c3vjzd1.ch3.sourceforge.com>

Revision: 10450
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10450&view=rev
Author:   marchuet
Date:     2009-02-25 15:22:40 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 16:27 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net>
  * contrib/hbbmcdx/hbbmcdx.h
    ! updated to current rdd subsystem.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 25 10:34:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 10:35:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
	<609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
Message-ID: <18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>

>
> 2009/2/25 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>:
> > On Wed, Feb 25, 2009 at 1:36 PM,  <vszakats@users.sourceforge.net>
> wrote:
> >
> >>  * bin/postinst.sh
> >>    + Added generation of hbcc.bat, hbcmp.bat, hblnk.bat
> >>      to be in complete feature sync with the non-msys method.
> >>      NOTE: non-msys method isn't recommended.
> >
> > It was my impression that hbmk2.exe was created to eliminate bat files.
> > Now gnu make system creates bat files to run hbmk2.exe.
> > This looks like a endless loop :)
> > Am I missing sth?
>

It's still meant to. I've added this to requests for
compatibility (one from you actually ;) and to lessen
the differences between platforms. We most probably
don't need it though. I've just did a MinGW test, and
it installs so many crap in /bin, that I was also surprised ;)

The only one which I wanted to add is hbmk.bat as a
temp solution, until we rename hbmk2 to hbmk.
If group think hbmk2 is ready for prime time, I'd be
glad to remove this ugly hack, too.

So, If it were me, I'd delete _all_ synonyms, batch
files, shortcuts and harbour.cfg included.

Here is how a MinGW bin dir looks like now:
---
hb-build
hb-mkdyn
hb-mkslib
hbcc
hbcmp
hblnk
hbmk
hb-mkdyn.bat
hbcc.bat
hbcmp.bat
hblnk.bat
hbmk.bat
postinst.bat
hbmk.cfg
postinst.cmd
harbour.dll
harbourmt.dll
harbour.exe
hbdoc.exe
hbi18n.exe
hbmk2.exe
hbpp.exe
hbrun.exe
hbtest.exe
hb-func.sh
hb-mkdyn.sh
pack_src.sh
postinst.sh
---

Opinions on these?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/ef2a351d/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb 25 10:54:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 10:54:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
	<609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
	<18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>
Message-ID: <18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>

To continue:

I like this dir to look like this (on all platforms ideally, of course with
applying extensions):
---
hbmk.cfg
harbour.dll
harbourmt.dll
harbour.exe
hbdoc.exe
hbi18n.exe
hbmk.exe
hbpp.exe
hbrun.exe
hbtest.exe
---

I'd like to get agreement on this from the list, because I'm
willing to do it but unless the group can agree to do it I wouldn't
want to force this. Anyhow it would be great to Harbour itself,
it's maintainability and accessibility for users (= there is no point
in having all these features if only Harbour experts are able to
create a build or compile a test app). It would certainly help if
we could all somehow look past our _strict personal insistence_
on keeping compatibility with every small detail (with regards
to build environment), we're skilled enough to make some
modifications on the local systems I guess (I had done quite
many recently on mine).

Don't be mistaken this isn't some kind of personal need
for me, since I can build Harbour and use Harbour in all
environments, but all feedbacks (not only from the list, but
from potential users), tells me that we could do a lot to make
Harbour better in these areas. And I've dedicated my last 2-3
weeks of my free time to address these things.

Some things I'd like to clean:
- non-GNU make files. [.dll creation works for the most part in GNU-make
now.]
- harbour.cfg + Harbour -go option: hbmk2 is here as a better solution.
- hb* helper scripts, batches: confuse users, and doesn't add functionality.
- hb-mkslib compatibility name: not widely used, easy to add locally for
those who depend on it, otherwise it
     just creates ambiguity.
- gcc specific hbmk script: hbmk2 is meant to replace it.
- rename hbmk2 to hbmk.

I'd like to hear opinions.

Brgds,
Viktor

On Wed, Feb 25, 2009 at 4:34 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> 2009/2/25 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>:
>> > On Wed, Feb 25, 2009 at 1:36 PM,  <vszakats@users.sourceforge.net>
>> wrote:
>> >
>> >>  * bin/postinst.sh
>> >>    + Added generation of hbcc.bat, hbcmp.bat, hblnk.bat
>> >>      to be in complete feature sync with the non-msys method.
>> >>      NOTE: non-msys method isn't recommended.
>> >
>> > It was my impression that hbmk2.exe was created to eliminate bat files.
>> > Now gnu make system creates bat files to run hbmk2.exe.
>> > This looks like a endless loop :)
>> > Am I missing sth?
>>
>
> It's still meant to. I've added this to requests for
> compatibility (one from you actually ;) and to lessen
> the differences between platforms. We most probably
> don't need it though. I've just did a MinGW test, and
> it installs so many crap in /bin, that I was also surprised ;)
>
> The only one which I wanted to add is hbmk.bat as a
> temp solution, until we rename hbmk2 to hbmk.
> If group think hbmk2 is ready for prime time, I'd be
> glad to remove this ugly hack, too.
>
> So, If it were me, I'd delete _all_ synonyms, batch
> files, shortcuts and harbour.cfg included.
>
> Here is how a MinGW bin dir looks like now:
> ---
> hb-build
> hb-mkdyn
> hb-mkslib
> hbcc
> hbcmp
> hblnk
> hbmk
> hb-mkdyn.bat
> hbcc.bat
> hbcmp.bat
> hblnk.bat
> hbmk.bat
> postinst.bat
> hbmk.cfg
> postinst.cmd
> harbour.dll
> harbourmt.dll
> harbour.exe
> hbdoc.exe
> hbi18n.exe
> hbmk2.exe
> hbpp.exe
> hbrun.exe
> hbtest.exe
> hb-func.sh
> hb-mkdyn.sh
> pack_src.sh
> postinst.sh
> ---
>
> Opinions on these?
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/7b950f11/attachment.html
From harbour.01 at syenar.hu  Wed Feb 25 11:04:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 11:04:45 2009
Subject: [Harbour] Proposing hbwhat for removal
Message-ID: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>

Hi all,
hbwhat was a notorious build-breaker since it has been
added, and despite the efforts trying to fix it, it still is.

Since it has no real users either, we miss feedback
and besides making it build, we cannot be sure it even
works. Since there were several bugs found in it, and
no one fixed them, it's safe to assume the lib isn't ready
for production, nor is it supported on WinCE / amd64.

Yet it still takes lots of efforts to maintain it, it also
impacts build time due to the large sources.

So, I'd like to propose to remove it from the repository.

Any objections or opinions on that?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/9bb6e729/attachment.html
From bedipritpal at hotmail.com  Wed Feb 25 11:45:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 25 11:45:52 2009
Subject: [Harbour] BCC55 and Error in HB_FUN_WVG_TREEVIEW_ADDITEM
Message-ID: <22206707.post@talk.nabble.com>


Viktor

I get this error on BCC55

	bcc32.exe -c -q -d -Q -w -w-sig- -4 -O2 -OS -Ov -Oi -Oc -I..\..\include 
-I..\hbwin  -oobj\b32\wvgwin.obj .\wvgwin.c
.\wvgwin.c:
Error E2451 .\wvgwin.c 1599: Undefined symbol 'item' in function
HB_FUN_WVG_TREEVIEW_ADDITEM
Error E2451 .\wvgwin.c 1600: Undefined symbol 'item' in function
HB_FUN_WVG_TREEVIEW_ADDITEM
Error E2451 .\wvgwin.c 1601: Undefined symbol 'item' in function
HB_FUN_WVG_TREEVIEW_ADDITEM
Error E2451 .\wvgwin.c 1605: Undefined symbol 'item' in function
HB_FUN_WVG_TREEVIEW_ADDITEM
Error E2451 .\wvgwin.c 1607: Undefined symbol 'item' in function
HB_FUN_WVG_TREEVIEW_ADDITEM
*** 5 errors in Compile ***

Changelog suggests that you have removed the structure in wvgwin.c
which is giving me this error. Probably you know what else I have to do to
fix it.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/BCC55-and-Error-in-HB_FUN_WVG_TREEVIEW_ADDITEM-tp22206707p22206707.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From abe.buch at att.net  Wed Feb 25 12:02:15 2009
From: abe.buch at att.net (AbeB)
Date: Wed Feb 25 12:02:18 2009
Subject: [Harbour] __MVRESTORE minor change request
Message-ID: <1235581335489-2384853.post@n2.nabble.com>


.mem files saved with Foxpro ( DOS)  can't be restored with Harbour. (with
Clipper it could).
the reason is Foxpro does not add 128 to the Type byte.

can __MVRESTORE be changed so it will resore them.

Thanks.
Abe
-- 
View this message in context: http://n2.nabble.com/__MVRESTORE-minor-change-request-tp2384853p2384853.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From a.jurkiewicz at abix.info.pl  Wed Feb 25 12:11:07 2009
From: a.jurkiewicz at abix.info.pl (ABIX Adam Jurkiewicz)
Date: Wed Feb 25 12:11:14 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902250713y51ef651cha76700c8a874c021@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>	<49A31D09.5000101@teledetection.fr>	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>	<49A3AE0B.6020706@teledetection.fr>	<609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>	<20090224101914.GA25837@uran.home.aster.pl>	<609353e70902241410s3b2449b2gddc315e0315693b0@mail.gmail.com>	<49A5151D.1010205@abix.info.pl>	<609353e70902250322x5ccdb9f4l7f826f06d0e2f8c1@mail.gmail.com>	<49A559E6.2010303@teledetection.fr>
	<609353e70902250713y51ef651cha76700c8a874c021@mail.gmail.com>
Message-ID: <49A57BAB.7080101@abix.info.pl>

Massimo Belgrano pisze:
> Thanks!
> After "$ sudo chown -R vmplanet.vmplanet src", All works fine
> Wich is best way for learn about linux?

Unfortunatly the same as for learn about harbour ;-)
Use it, use it, use it ... every day.
I'm using openSUSE, and want to say, that suse is better than *buntu.

best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj
Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From lorenzo.fiorini at gmail.com  Wed Feb 25 12:19:06 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 25 12:19:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
	<609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
	<18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>
	<18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>
Message-ID: <9257026e0902250919i447a1845naa3267be8404181@mail.gmail.com>

On Wed, Feb 25, 2009 at 4:54 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I'd like to get agreement on this from the list, because I'm
> willing to do it but unless the group can agree to do it?I wouldn't
> want to force this.
> ...
> - harbour.cfg + Harbour -go option: hbmk2 is here as a better solution.
> - hb* helper scripts, batches: confuse users, and doesn't add functionality.
> - hb-mkslib compatibility name: not widely used, easy to add locally for
> those who depend on it, otherwise it
> ?? ? just creates ambiguity.
> - gcc specific hbmk script: hbmk2 is meant to replace it.
> - rename hbmk2 to hbmk.
> I'd like to hear opinions.

I agree that hbmk2 is a step in the right direction, but I don't think
we should remove hb* scripts in 1.1 ( I use only *nix envs +
msys/mingw I can't say much for Win based ones ).

IMHO doing "big" changes between two consecutive releases creates a
sense of "instability" and makes harder to test the svn since a user
needs save the old env, do the changes, do the tests and restore the
env.

I mean that ideally a 1.0.1 user should be able to install 1.1 and
build his apps without any single change. Release 1.2 can drop what
1.1 has been previously declared deprecated and so on.

We also need to care about 3rd party projects. They may need the time
to make the required changes.

best regards,
Lorenzo
From druzus at acn.waw.pl  Wed Feb 25 12:30:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 25 12:25:25 2009
Subject: [Harbour] __MVRESTORE minor change request
In-Reply-To: <1235581335489-2384853.post@n2.nabble.com>
References: <1235581335489-2384853.post@n2.nabble.com>
Message-ID: <20090225173049.GA9471@uran.home.aster.pl>

On Wed, 25 Feb 2009, AbeB wrote:

Hi,

> .mem files saved with Foxpro ( DOS)  can't be restored with Harbour. (with
> Clipper it could).
> the reason is Foxpro does not add 128 to the Type byte.
> can __MVRESTORE be changed so it will resore them.

I'll do that but please send small example of FoxPro.mem file
here so I can verify it's the only one difference. F.e. result
of this code:

   proc main()
      M->numDbl   := 123.45678
      M->numInt   := 12345
      M->dateCurr := date()
      M->logTrue  := .T.
      M->logFalse := .F.
      M->charVal  := "[.mem files test]"
      M->nilVal   := NIL
      M->aFirst   := 0
      M->zLast    := 1
      SAVE TO _test
   return

best regards,
Przemek
From vouchcac at users.sourceforge.net  Wed Feb 25 12:26:53 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 25 12:26:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10451] trunk/harbour
Message-ID: <E1LcNX3-0002LU-UP@dn4whf1.ch3.sourceforge.com>

Revision: 10451
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10451&view=rev
Author:   vouchcac
Date:     2009-02-25 17:26:52 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 09:25 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgpaint.prg
    ! Removed THREAD STATIC implimentation hack introduced
      when behavior of THREAD STATIC was different.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgpaint.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Feb 25 12:29:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 25 12:29:35 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
Message-ID: <609353e70902250929s12b92121v6a01c004f3d0a2a7@mail.gmail.com>

What about maintain hbwhat only for win32 platform?
will  takes few efforts to maintain it?


2009/2/25 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi all,
> hbwhat was a notorious build-breaker since it has been
> added, and despite the efforts trying to fix it, it still?is.
> Since it has no real users either, we miss feedback
> and besides making it build, we cannot?be sure it even
> works. Since there were several bugs?found in it, and
> no one fixed them, it's safe to?assume the lib isn't ready
> for production, nor is it supported on WinCE / amd64.
> Yet it still takes lots of efforts to maintain it, it also
> impacts build time due to the large sources.
> So, I'd like to propose to remove it from the repository.
> Any objections or opinions on that?
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From guy.roussin at teledetection.fr  Wed Feb 25 12:37:21 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Wed Feb 25 12:37:25 2009
Subject: [Harbour] Harbour under ubuntu
In-Reply-To: <609353e70902250713y51ef651cha76700c8a874c021@mail.gmail.com>
References: <609353e70902221248u3c09f3f5idb3826cd38951992@mail.gmail.com>	<49A31D09.5000101@teledetection.fr>	<609353e70902231501g4048a04aqc3ebdcfa0ec1344e@mail.gmail.com>	<49A3AE0B.6020706@teledetection.fr>	<609353e70902240051y5561cca7ifc5a579ca592c4fd@mail.gmail.com>	<20090224101914.GA25837@uran.home.aster.pl>	<609353e70902241410s3b2449b2gddc315e0315693b0@mail.gmail.com>	<49A5151D.1010205@abix.info.pl>	<609353e70902250322x5ccdb9f4l7f826f06d0e2f8c1@mail.gmail.com>	<49A559E6.2010303@teledetection.fr>
	<609353e70902250713y51ef651cha76700c8a874c021@mail.gmail.com>
Message-ID: <49A581D1.4030704@teledetection.fr>

Hi,
> Wich is best way for learn about linux?
>   
I'm not a ubuntu user but i found this :
http://ubuntuguide.org/wiki/Ubuntu:Intrepid
Seems fine to install ubuntu ...

but i think you can read also debian reference
http://www.debian.org/doc/user-manuals.en.html
(debian is very similar to ubuntu) and print the
refrence card ...

Guy

From harbour.01 at syenar.hu  Wed Feb 25 12:41:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 12:41:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <9257026e0902250919i447a1845naa3267be8404181@mail.gmail.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
	<609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
	<18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>
	<18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>
	<9257026e0902250919i447a1845naa3267be8404181@mail.gmail.com>
Message-ID: <18d502870902250941o226f56ffg53237bf6df483d65@mail.gmail.com>

>
> > - gcc specific hbmk script: hbmk2 is meant to replace it.
> > - rename hbmk2 to hbmk.
> > I'd like to hear opinions.
>
> I agree that hbmk2 is a step in the right direction, but I don't think
> we should remove hb* scripts in 1.1 ( I use only *nix envs +
> msys/mingw I can't say much for Win based ones ).
>
> IMHO doing "big" changes between two consecutive releases creates a
> sense of "instability" and makes harder to test the svn since a user
> needs save the old env, do the changes, do the tests and restore the
> env.

I mean that ideally a 1.0.1 user should be able to install 1.1 and
> build his apps without any single change. Release 1.2 can drop what
> 1.1 has been previously declared deprecated and so on.

We also need to care about 3rd party projects. They may need the time
> to make the required changes.


We're here talking about the make and build systems. Which
doesn't have much to do with 3rd parties, after all everyone can
download the binary release pre-built and don't care about it.
As for hbmk, it's just one tool, and hbmk2 is even compatible.

We can keep the hb* scripts for *nix (except hb-mkslib which is
IMO nit-picking and doesn't really interferes with large amounts of
users, even then it's easy to solve with one command locally).

Also the GNU-make system works in 1.0.1 also so it can be
used with both releases for the most part.

For the programmatic POV we do exactly like you suggest,
and IMO this is much more important.

Overall I see no point to limit ourselves to the state of year
~2000 with regards to the build/make system and exact
file compatibility down to the exact names and envvar usage.
Let's look forward, that's what I'd say, otherwise we never reach
anywhere.

What I'd suggest is to gather all changes into one document,
or even better, _finally_ clearly document the make methods
and make them simpler, so everyone can easily adapt in
one pass to the 1.1.x way. I've started this with /INSTALL,
plus most thing are already in whatsnew.txt

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/50260627/attachment.html
From harbour.01 at syenar.hu  Wed Feb 25 12:43:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 12:43:28 2009
Subject: [Harbour] BCC55 and Error in HB_FUN_WVG_TREEVIEW_ADDITEM
In-Reply-To: <22206707.post@talk.nabble.com>
References: <22206707.post@talk.nabble.com>
Message-ID: <18d502870902250943u6ee8f3abof3d9a7f8870a5b43@mail.gmail.com>

Hi Pritpal,

After looking at it, I have no idea how to fix that for BCC,
maybe something obvious but I just can't see it.

My fix targeted an error in Open Watcom BTW.

I can restore previous state if you want.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/55e5d109/attachment.html
From harbour.01 at syenar.hu  Wed Feb 25 12:46:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 12:46:48 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <609353e70902250929s12b92121v6a01c004f3d0a2a7@mail.gmail.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
	<609353e70902250929s12b92121v6a01c004f3d0a2a7@mail.gmail.com>
Message-ID: <18d502870902250946p393f4165i58ca060175fe4eb3@mail.gmail.com>

On Wed, Feb 25, 2009 at 6:29 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> What about maintain hbwhat only for win32 platform?
> will  takes few efforts to maintain it?


It took a huge effort from my side, with _no_ benefit,
and I mean not just no benefit for me, because I don't
need it at all, but no benefit for Harbour or Harbour users.

Since no one is interested, it's a waste of time.

And since Harbour advertises itself as WinCE and 64-bit
compatible, we should either not do so, or deliver.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/c77c6bcf/attachment-0001.html
From druzus at acn.waw.pl  Wed Feb 25 13:31:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 25 13:26:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
	<609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
	<18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>
	<18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>
Message-ID: <20090225183131.GA16747@uran.home.aster.pl>

On Wed, 25 Feb 2009, Szak?ts Viktor wrote:

Hi,

> To continue:
> I like this dir to look like this (on all platforms ideally, of course with
> applying extensions):
> ---
> hbmk.cfg
> harbour.dll
> harbourmt.dll
> harbour.exe
> hbdoc.exe
> hbi18n.exe
> hbmk.exe
> hbpp.exe
> hbrun.exe
> hbtest.exe
> ---

With the exception to hbmk.cfg which cannot be stored in binary
directory in system wide installation due to distribution policy
in most of *nixes so in *nix builds hbmk should look for this file
in:
   <hbmkdir>
   <hbmkdir>/../etc/harbour   
   <hbmkdir>/../etc           // "/harbour/" is part of hbmkdir
   /etc/harbour
   /etc                       // "/harbour/" is part of hbmkdir

In *nixes it's also good pratcie to look for users customized
settings, f.e.:
   ${HOME}/.harbour/

> I'd like to get agreement on this from the list, because I'm
> willing to do it but unless the group can agree to do it I wouldn't
> want to force this. Anyhow it would be great to Harbour itself,
> it's maintainability and accessibility for users (= there is no point
> in having all these features if only Harbour experts are able to
> create a build or compile a test app). It would certainly help if
> we could all somehow look past our _strict personal insistence_
> on keeping compatibility with every small detail (with regards
> to build environment), we're skilled enough to make some
> modifications on the local systems I guess (I had done quite
> many recently on mine).

The basic functionality for native compilation seems to work but I haven't
made deeper tests so maybe I missed sth. I'll try to make such test in the
weekend. So far I noticed that -static is default mode in *nix builds
and -fullstatic does not work at all so always dynamic applications are
created and only harbour static libraries are used.
Harbour does not have any chance to be ever part of default Windows
installation but it has big chance to be part of different open source
based systems but we have to respect the official distribution rules
so in *nixes shared linking should be default.
The second problem is support for cross compilation. Here I haven't
even try to make any tests. In the last days hbmk2 was changed too
often to even start them. Just simply I do not know how will look
the final base code. I still think that auto detection should be based
on compiler used to compile hbmk2.prg and other configurations should
be done on user requests. Any automatic compiler detection by PATH
search for me can be only source of problems because Harbour libraries
are not binary compatible when compiled by different compilers. In few
cases they are (f.e. POCC/XCC) but probably no one of us knows if CRTLs
are fully compatible and it's safe to mix libraries compiled by different
C compilers. Unfortunately simple test and answer "is running for me"
is not enough because problems can be hidden very deeply, f.e. some
memory corruptions which can be exploited only in some seldom cases.
So such autodetection can cause really unpredictible results.
It will be good if linker refuse creating final binaries so user will
notice it and fix the environment settings but in the worst case the
application can be linked and executed but will not work correctly.
I'm finding it as very danger situation especially in Windows where
user can have many C compilers and small modifications in environment
settings f.e. after installing new C compiler may cause that wrong
binaries which cannot be easy tested will be delivered to customers.
For me the Harbour/hbmk2 build time C compiler should have the highest
priority.

> Don't be mistaken this isn't some kind of personal need
> for me, since I can build Harbour and use Harbour in all
> environments, but all feedbacks (not only from the list, but
> from potential users), tells me that we could do a lot to make
> Harbour better in these areas. And I've dedicated my last 2-3
> weeks of my free time to address these things.
> Some things I'd like to clean:
> - non-GNU make files. [.dll creation works for the most part in GNU-make
> now.]

I do not know what you are asking for.

> - harbour.cfg + Harbour -go option: hbmk2 is here as a better solution.

I do not have clear opinion about it. I do not use it so for me it can
be dropped though if Harbour will be default part of some OS distributions
then such mechanism can be easy used for binding with default C compiler,
f.e. also with -pipe option to eliminate temporary files.
BTW I haven't asked about it before but it will be good if hbmk2 can
create intermediate .c file in some temporary location and not use
<baseprgdir>/<baseprgname>.c files. In the past I lost few times some
files when by mistake I used the same name for .prg and .c files.

> - hb* helper scripts, batches: confuse users, and doesn't add functionality.

We can remove them in some longer terms, f.e. after few weeks of hbmk2
testing. But please do not remove the internal logic from hbmk2 code
which recognize them so anyone who will want to use it can create own
links.

> - hb-mkslib compatibility name: not widely used, easy to add locally for
> those who depend on it, otherwise it
>      just creates ambiguity.

The above is IMHO only your personal feeling. hb-mkslib exists for nearly
6 years in [x]Harbour world and AFAIK is quite often used. Anyhow we can
remove it in the future probably together with linkes to hbmk2.

> - gcc specific hbmk script: hbmk2 is meant to replace it.

yes, when it will be tested and will support existing functionality.
F.e. RPMs with WIN32 and WINCE cross builds will work with hbmk2 just
like know works with hbmk.
I do not like this idea but for my own use I will create my own Harbour
builds so it's not a problem for me.

> - rename hbmk2 to hbmk.

AFAIK it's the goal :-)
But non of the above is development stopper so this are minor thinks
which can be made by any of us in less then 15 minutes. The important
is existing hbmk2 functionality.

best regards,
Przemek
From bedipritpal at hotmail.com  Wed Feb 25 13:30:35 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 25 13:30:38 2009
Subject: [Harbour] BCC55 and Error in HB_FUN_WVG_TREEVIEW_ADDITEM
In-Reply-To: <18d502870902250943u6ee8f3abof3d9a7f8870a5b43@mail.gmail.com>
References: <22206707.post@talk.nabble.com>
	<18d502870902250943u6ee8f3abof3d9a7f8870a5b43@mail.gmail.com>
Message-ID: <22208815.post@talk.nabble.com>


Hi Viktor


Viktor Szak?ts wrote:
> 
> After looking at it, I have no idea how to fix that for BCC,
> maybe something obvious but I just can't see it.
> 
> My fix targeted an error in Open Watcom BTW.
> 
> I can restore previous state if you want.
> 

Yes please. 
Now I remember how much I struggled to get it worked.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/BCC55-and-Error-in-HB_FUN_WVG_TREEVIEW_ADDITEM-tp22206707p22208815.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Wed Feb 25 13:33:10 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 25 13:33:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <18d502870902250941o226f56ffg53237bf6df483d65@mail.gmail.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
	<609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
	<18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>
	<18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>
	<9257026e0902250919i447a1845naa3267be8404181@mail.gmail.com>
	<18d502870902250941o226f56ffg53237bf6df483d65@mail.gmail.com>
Message-ID: <9257026e0902251033h7ed6494axabbe1c76281ca67b@mail.gmail.com>

On Wed, Feb 25, 2009 at 6:41 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> We're here talking about the make and build systems.
> Which doesn't have much to do with 3rd parties, after all everyone can
> download the binary release pre-built and don't care about it.
> As for hbmk, it's just one tool, and hbmk2 is even compatible.

Sorry, I don't understand. What I meant is that f.e. xhgtk uses hbcc
and hbcmp commands in the makefiles, if we remove them, it doesn't
build anymore and they'll have to have 1.0.1 makefiles and 1.1
makefiles since there is no hbmk2 for 1.0.1.

> Overall I see no point to limit ourselves to the state of year
> ~2000 with regards to the build/make system and exact
> file compatibility down to the exact names and envvar usage.
> Let's look?forward, that's what I'd say, otherwise we never reach
> anywhere.

We all have preferences in names and standards, what is important for
me is the respect of the community. Changes that affect the users need
to be done only when really necessary and giving the time to test and
adapt.
Other projects have stable branch and development branch, with
backports and bug fixing on the stable and new code in the
development. It's clear we don't have the resources for this schema,
but we can easily use a "add new now and remove old next" one.

> What I'd suggest is to gather all changes into one document,
> or even better, _finally_ clearly document the make methods
> and make them simpler, so everyone can easily adapt in
> one pass to the 1.1.x way. I've started this with /INSTALL,
> plus most thing are already in whatsnew.txt

I would perfectly agree if we were a closed source company that
release binaries with "setup, next, next, end" installation, but since
we're on sourceforge we know that every user can ( and we hope )
download the svn and build harbour from sources. Also we have to admit
that historically the use of cvs/svn has been the "normal" way to use
Harbour. This means that probably there are many different "local
envs" out there and not all can/want to start from scratch every time.

best regards,
Lorenzo
From mbelgrano at deltain.it  Wed Feb 25 13:34:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 25 13:34:30 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <18d502870902250946p393f4165i58ca060175fe4eb3@mail.gmail.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
	<609353e70902250929s12b92121v6a01c004f3d0a2a7@mail.gmail.com>
	<18d502870902250946p393f4165i58ca060175fe4eb3@mail.gmail.com>
Message-ID: <609353e70902251034m54e8399cl12099082ec7cd7b3@mail.gmail.com>

Ok for me
I suggest think now which other library are in same situation
so not wasting time for in future abandon


2009/2/25 Viktor Szak?ts <harbour.01@syenar.hu>:
> On Wed, Feb 25, 2009 at 6:29 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> What about maintain hbwhat only for win32 platform?
>> will ?takes few efforts to maintain it?
>
> It took a huge effort from my side, with _no_ benefit,
> and I mean not just no benefit for me, because I don't
> need i at all, but no benefit for Harbour or Harbour users.
> Since no one is interested, it's a waste of time.
> And since Harbour advertises itself as WinCE and?64-bit
> compatible, we should either not do so, or deliver.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From druzus at acn.waw.pl  Wed Feb 25 13:48:56 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 25 13:43:31 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
Message-ID: <20090225184856.GA8343@uran.home.aster.pl>

On Wed, 25 Feb 2009, Szak?ts Viktor wrote:

Hi,

> hbwhat was a notorious build-breaker since it has been
> added, and despite the efforts trying to fix it, it still is.
[...]
> So, I'd like to propose to remove it from the repository.
> Any objections or opinions on that?

I'd suggest to disable this library from default compilation
and leave it as the source for some code peaces or even WinAPI
documentation for new Harbour WinAPI library.
But I'm not sure we can make such decision. It's possible that
this library is used by 3-rd party projects, f.e. different
Harbour GUI implementation so 1-st I would like to hear an opinion
from Windows developers working on projects like HWGUI, MinGUI, ...
It's possible that such move will simply make them unusable.

best regards,
Przemek
From info at fsgiudice.com  Wed Feb 25 13:50:34 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Feb 25 13:50:44 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
Message-ID: <49A592FA.8060309@fsgiudice.com>

Hi Viktor,

Il 25/02/2009 17.04, Viktor Szak?ts ha scritto:
> Hi all,
> 
> hbwhat was a notorious build-breaker since it has been 
> added, and despite the efforts trying to fix it, it still is.
> 
> Since it has no real users either, we miss feedback 
> and besides making it build, we cannot be sure it even 
> works. Since there were several bugs found in it, and 
> no one fixed them, it's safe to assume the lib isn't ready 
> for production, nor is it supported on WinCE / amd64.
> 
> Yet it still takes lots of efforts to maintain it, it also 
> impacts build time due to the large sources.
> 
> So, I'd like to propose to remove it from the repository.
> 
> Any objections or opinions on that?
> 
could we leave as is at the moment, simply not including it in default 
build process, because there is a lot of work can be used, surely 
putting hands on, in upcoming (?) hbwin.

Otherwise I will make a local copy of it before it will be deleted from SVN.

BTW I'm locked on structure handling. Without a solution on it or 
without a standardization on passing values it will be a stopping point 
in hbwin developing.
I have tried Przemek's proposal, but it's very difficult to handling 
parameters to/from C code in a standard/easy way.
Could be use hashes or arrays ( like point[ 'x' ] ) ? but we need some 
macros to write them fastly at C level (at prg level an object can be used).
I've not tried too much due to lack of spare time.
Pritpal do you have found a solution ?
Mindaugas do you have any suggestion ?

Best regards,

Francesco
From druzus at users.sourceforge.net  Wed Feb 25 14:12:36 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 25 14:12:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10452] trunk/harbour
Message-ID: <E1LcPBM-0007vF-H6@c3vjzd1.ch3.sourceforge.com>

Revision: 10452
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10452&view=rev
Author:   druzus
Date:     2009-02-25 19:12:35 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 20:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/wvgwin.c
    ! added dirty hack for borland C compiler and #define NONAMELESSUNION
      in oledlg.h

  * harbour/config/linux/owatcom.cf
    ! added missing support for HB_USER_LDFLAGS

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Wed Feb 25 14:17:16 2009
From: abe.buch at att.net (AbeB)
Date: Wed Feb 25 14:17:19 2009
Subject: [Harbour] __MVRESTORE minor change request
In-Reply-To: <20090225173049.GA9471@uran.home.aster.pl>
References: <1235581335489-2384853.post@n2.nabble.com>
	<20090225173049.GA9471@uran.home.aster.pl>
Message-ID: <1235589436173-2385571.post@n2.nabble.com>


ok i uploaded a file.
I took out the NIL part, foxpro does not have NILs
Thanks
Abe


Przemyslaw Czerpak wrote:
> 
> On Wed, 25 Feb 2009, AbeB wrote:
> 
> Hi,
> 
>> .mem files saved with Foxpro ( DOS)  can't be restored with Harbour.
>> (with
>> Clipper it could).
>> the reason is Foxpro does not add 128 to the Type byte.
>> can __MVRESTORE be changed so it will resore them.
> 
> I'll do that but please send small example of FoxPro.mem file
> here so I can verify it's the only one difference. F.e. result
> of this code:
> 
>    proc main()
>       M->numDbl   := 123.45678
>       M->numInt   := 12345
>       M->dateCurr := date()
>       M->logTrue  := .T.
>       M->logFalse := .F.
>       M->charVal  := "[.mem files test]"
>       M->nilVal   := NIL
>       M->aFirst   := 0
>       M->zLast    := 1
>       SAVE TO _test
>    return
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
http://n2.nabble.com/file/n2385571/_TEST.MEM _TEST.MEM 
-- 
View this message in context: http://n2.nabble.com/__MVRESTORE-minor-change-request-tp2384853p2385571.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Wed Feb 25 15:03:06 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 25 15:03:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10453] trunk/harbour
Message-ID: <E1LcPyE-0001fv-98@d5vjzd1.ch3.sourceforge.com>

Revision: 10453
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10453&view=rev
Author:   druzus
Date:     2009-02-25 20:03:05 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 21:08 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/memvars.c
    + added support for reading FoxPro .mem files - Clipper compatibility
    ! fixed bug introduced in my recent modifications in .mem files writing
    ! fixed very old bug which disabled writing to .mem files strings
      longer then 32Kb

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Feb 25 15:05:04 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 25 15:05:07 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
Message-ID: <22210597.post@talk.nabble.com>


Viktor

Here I endorse Francesco's observation.

What32 has always been an inspiration to me, and 
probably for some others also. Whatever I could do 
till date on Windows platform is due to What32 only.
It is always a source of references whenever I need 
one.

So I strongly resist that it should be removed from SVN.
You just disable it from default builds, simple.

Regards
Pritpal Bedi

PS . In the long run when hbwin.lib will take up shape
then we can think of removing it.




Viktor Szak?ts wrote:
> 
> Hi all,
> hbwhat was a notorious build-breaker since it has been
> added, and despite the efforts trying to fix it, it still is.
> 
> Since it has no real users either, we miss feedback
> and besides making it build, we cannot be sure it even
> works. Since there were several bugs found in it, and
> no one fixed them, it's safe to assume the lib isn't ready
> for production, nor is it supported on WinCE / amd64.
> 
> Yet it still takes lots of efforts to maintain it, it also
> impacts build time due to the large sources.
> 
> So, I'd like to propose to remove it from the repository.
> 
> Any objections or opinions on that?
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/Proposing-hbwhat-for-removal-tp22205966p22210597.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Feb 25 15:16:15 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 25 15:16:18 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <49A592FA.8060309@fsgiudice.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
	<49A592FA.8060309@fsgiudice.com>
Message-ID: <22210811.post@talk.nabble.com>


Hello Francesco


Francesco Saverio Giudice wrote:
> 
> BTW I'm locked on structure handling. Without a solution on it or 
> without a standardization on passing values it will be a stopping point 
> in hbwin developing.
> I have tried Przemek's proposal, but it's very difficult to handling 
> parameters to/from C code in a standard/easy way.
> Could be use hashes or arrays ( like point[ 'x' ] ) ? but we need some 
> macros to write them fastly at C level (at prg level an object can be
> used).
> I've not tried too much due to lack of spare time.
> Pritpal do you have found a solution ?
> Mindaugas do you have any suggestion ?
> 

No, I tried Przemek's code, which I have already committed in wvgwinc,
but with no results. To write a function for accessing a member of 
a given structure is not the elegant way ( I am not saying - right way ).
Xhb solution seems to fit nicely the way WINAPI implements it. The only
difference being message operator "." vs ":". But it is even better 
because we come from Clipper heritage.

Leave aside the technical part, if we do not devise a better mechanism
to define and access structure, I am afraid a common wrapper for
WINAPI will never see the light of the day.

Przemek, Mindaugus can surely come up with same solution but 
with better internal overhaul of the concept so that the potential
"dangers" discussed can be reduced to bare minimum.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Proposing-hbwhat-for-removal-tp22205966p22210811.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Wed Feb 25 16:13:33 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Feb 25 16:13:45 2009
Subject: [Harbour] error building MSVC 
Message-ID: <49A5B47D.6040000@fsgiudice.com>

Hi friends,

I'm getting error building SVN with MSVC.

Starting errors are:
cl.exe -c -Zi -DHB_TR_LEVEL_DEBUG -nologo -W4 -wd4127 -Gs -Iinclude 
-Ot2b1 -EHs-c-  -DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF -Iobj\vc 
-Foobj\vc\ source\vm\mainwin.c
mainwin.c
J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2146: errore di 
sintassi: ')' mancante prima dell'identificatore 'hInstance'
J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2061: errore di 
sintassi: identificatore 'hInstance'
J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2059: errore di 
sintassi: ';'
J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2059: errore di 
sintassi: ','
J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2059: errore di 
sintassi: ')'

Does anyone experiencing this ?
I've fear that my MSVC install is broken. (2008 express edition)

Best regards,
Francesco
From druzus at acn.waw.pl  Wed Feb 25 16:33:46 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Feb 25 16:28:21 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <22210811.post@talk.nabble.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
	<49A592FA.8060309@fsgiudice.com> <22210811.post@talk.nabble.com>
Message-ID: <20090225213346.GA23508@uran.home.aster.pl>

On Wed, 25 Feb 2009, Pritpal Bedi wrote:

Hi Pritpal,

> Przemek, Mindaugus can surely come up with same solution but 
> with better internal overhaul of the concept so that the potential
> "dangers" discussed can be reduced to bare minimum.

I'm not against the idea of creating some .prg level code to
define and fill C structures which can be later passed to real
C code with some set of functions to manage them at C level, f.e.
verify that given parameter is the exact class pointer.
But such system has to be precisely defined. The interactions
with C API also. The C structures from xHarbour break some
fundamental HVM rules like always valid pointers in string
items. For me the interactions between different structures
which have to keep pointers to each other are also not clear.
I do not see any protection against leaving some dummy pointers.
It's not clear for me how should be extracted pointers to structures
set by C code. Here I do not even see any good mechanism which
can be generalized because we do not know the life of this structures.
The next bad thing is the fact that structures are defined in .prg
code. It means that they cannot be taken directly from C header
files. It creates serious problems when some extensions will appear.
Also it' snot trivial to replicate the exact alignment as in C compiler.
Simple #pragma pack() is not enough because they are also other rules
which control alignment in some situations which are different in
C compilers. Even the same C compiler may use different rules for
for different hardware though the same #pragma pack() is set.
Personally I do not find such C structure implementation like in
xHarbour usable in more complicated situations. At least for me
but if you check how many problems were detected in xHarbour in
simple demonstration/test code for C structures which is used for
very limited situation then you will find that it's not trivial
also for other developers who well known the low level implementation
and which operations can break HVM.
If it's really necessary then in some spare time I can try to write
such code with some basic protections but by definition it will not
work in all cases. Just simply it's not possible to create such
automatic interface without breaking some fundamental VM rules
and reducing the .prg programming to the same level as in C:
GPF or memory leak on even small typo. So I will have to forbid
some operations, f.e. accessing nested structures allocated by
C code. All such operations will have to be done by programmer
at C level. I can only try to create some helper functions.
And of course I will not be able to replicate the alignment
rules used by different C compilers.
Probably the ideal solution for this problem will be creating a tool
in C which generate C code to manage any structures from some meta
structure description files using the original definitions from C
header files and of course the alignment rules which are valid for
given C compiler/hardware/platform. Such met description may contain only
public and documented structure members, f.e.:

     struct stat
     {
         st_dev;
         st_ino;
         st_mode;
         st_nlink;
         st_uid;
         st_gid;
         st_atime;
         st_mtime;
         st_ctime;
     };

The exact member offset and type will be taken from original header
files but I have some much more important jobs now to work on it
though if someone is interested then I can add to HVM support for
sending messages to pointer items. At least on C level.

best regards,
Przemek
From info at fsgiudice.com  Wed Feb 25 16:49:58 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Feb 25 16:50:14 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <20090225213346.GA23508@uran.home.aster.pl>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>	<49A592FA.8060309@fsgiudice.com>
	<22210811.post@talk.nabble.com>
	<20090225213346.GA23508@uran.home.aster.pl>
Message-ID: <49A5BD06.20602@fsgiudice.com>

Hi Przemek,

Il 25/02/2009 22.33, Przemyslaw Czerpak ha scritto:
> if someone is interested then I can add to HVM support for
> sending messages to pointer items. At least on C level.
if you find spare time to add it will be useful.
TIA
Best regards,
Francesco

From mbelgrano at deltain.it  Wed Feb 25 16:54:38 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 25 16:54:41 2009
Subject: [Harbour] error building MSVC
In-Reply-To: <49A5B47D.6040000@fsgiudice.com>
References: <49A5B47D.6040000@fsgiudice.com>
Message-ID: <609353e70902251354x6bf3fa52na9f6dda540b5ef04@mail.gmail.com>

I have recompiled Visual Studio 2008 Professional Edition without error
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
set path=c:\devl\mingw32make;%path%
set HB_ARCHITECTURE=win
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
make clean
make install -r

2009/2/25 Francesco Saverio Giudice <info@fsgiudice.com>:
> Hi friends,
>
> I'm getting error building SVN with MSVC.
>
> Starting errors are:
> cl.exe -c -Zi -DHB_TR_LEVEL_DEBUG -nologo -W4 -wd4127 -Gs -Iinclude -Ot2b1
> -EHs-c- ?-DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF -Iobj\vc -Foobj\vc\
> source\vm\mainwin.c
> mainwin.c
> J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2146: errore di
> sintassi: ')' mancante prima dell'identificatore 'hInstance'
> J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2061: errore di
> sintassi: identificatore 'hInstance'
> J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2059: errore di
> sintassi: ';'
> J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2059: errore di
> sintassi: ','
> J:\cvs\harbourSVN_trunk\include\hbapi.h(921) : error C2059: errore di
> sintassi: ')'
>
> Does anyone experiencing this ?
> I've fear that my MSVC install is broken. (2008 express edition)
>
> Best regards,
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Wed Feb 25 17:17:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 17:17:07 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <49A5BD06.20602@fsgiudice.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
	<49A592FA.8060309@fsgiudice.com> <22210811.post@talk.nabble.com>
	<20090225213346.GA23508@uran.home.aster.pl>
	<49A5BD06.20602@fsgiudice.com>
Message-ID: <18d502870902251417q39b33291x157178527703d210@mail.gmail.com>

Thanks for the feedback to all.
It seem we agree on disabling it now, and keeping it
for reference, and also to encourage 3rd parties to give
feedback on whether they use it or not. AFAIK no "major"
3rd party needs it, but let's hear them words.

Notice however that if we keep it in repository, it will
anyhow take a certain level of maintenance and attention
and this draws off some time from more important areas,
so we should reconsider this topic again sometimes in
the future.

I also hope that hbwin can one day become a good
successor of hbwhat, without the mistakes of the latter.
Windows interface is very important, especially for 3rd
parties who can easily build upon it. Also, Windows
isn't just the desktop, but WinCE, which may even be
important for those who otherwise don't use Windows
at their main development platform.

I'll disable it in one of the next commits. And if we
don't hear from any major dependent 3rd party, I'd
like to reconsider moving it to contrib/examples in the
near future, to better reflect its status (coding reference)
(it will be buildable there also).

Brgds,
Viktor

On Wed, Feb 25, 2009 at 10:49 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Przemek,
>
> Il 25/02/2009 22.33, Przemyslaw Czerpak ha scritto:
>
>> if someone is interested then I can add to HVM support for
>> sending messages to pointer items. At least on C level.
>>
> if you find spare time to add it will be useful.
> TIA
> Best regards,
> Francesco
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/46faa678/attachment-0001.html
From mbelgrano at deltain.it  Wed Feb 25 17:23:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 25 17:23:44 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <18d502870902251417q39b33291x157178527703d210@mail.gmail.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
	<49A592FA.8060309@fsgiudice.com> <22210811.post@talk.nabble.com>
	<20090225213346.GA23508@uran.home.aster.pl>
	<49A5BD06.20602@fsgiudice.com>
	<18d502870902251417q39b33291x157178527703d210@mail.gmail.com>
Message-ID: <609353e70902251423i579a296bx97621e3821822d15@mail.gmail.com>

What do you think about hbdoc?
Other old module in black list?

2009/2/25 Viktor Szak?ts <harbour.01@syenar.hu>:
> Thanks for the feedback to all.
> It seem we agree on disabling it now, and keeping it
> for reference, and also to?encourage 3rd parties to give
> feedback on whether they use?it or not. AFAIK no "major"
> 3rd party needs it, but let's hear them words.
> Notice however that if we keep it in repository, it will
> anyhow take a certain level of maintenance and attention
> and this?draws off some time from more important areas,
> so?we should reconsider this topic again sometimes in
> the future.
> I also hope that hbwin can one day become a good
> successor of?hbwhat, without the mistakes of the?latter.
> Windows interface is very important, especially for?3rd
> parties who can easily build upon it. Also, Windows
> isn't just the desktop, but WinCE, which may even be
> important for those who otherwise don't use Windows
> at their main development platform.
> I'll disable it in one of the next commits. And if we
> don't hear from any major dependent 3rd party, I'd
> like to reconsider moving it to contrib/examples in the
> near future, to better reflect its status (coding reference)
> (it will be buildable there also).
> Brgds,
> Viktor
> On Wed, Feb 25, 2009 at 10:49 PM, Francesco Saverio Giudice
> <info@fsgiudice.com> wrote:
>>
>> Hi Przemek,
>>
>> Il 25/02/2009 22.33, Przemyslaw Czerpak ha scritto:
>>>
>>> if someone is interested then I can add to HVM support for
>>> sending messages to pointer items. At least on C level.
>>
>> if you find spare time to add it will be useful.
>> TIA
>> Best regards,
>> Francesco
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Wed Feb 25 17:32:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 17:32:37 2009
Subject: [Harbour] BCC55 and Error in HB_FUN_WVG_TREEVIEW_ADDITEM
In-Reply-To: <22208815.post@talk.nabble.com>
References: <22206707.post@talk.nabble.com>
	<18d502870902250943u6ee8f3abof3d9a7f8870a5b43@mail.gmail.com>
	<22208815.post@talk.nabble.com>
Message-ID: <18d502870902251432j6ae477fame644fcce18bfeddd@mail.gmail.com>

Hi Pritpal,
I've found a solution which works on all compilers.
(it needs NONAMELESSUNION, for BCC definitely)

Brgds,
Viktor

On Wed, Feb 25, 2009 at 7:30 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi Viktor
>
>
> Viktor Szak?ts wrote:
> >
> > After looking at it, I have no idea how to fix that for BCC,
> > maybe something obvious but I just can't see it.
> >
> > My fix targeted an error in Open Watcom BTW.
> >
> > I can restore previous state if you want.
> >
>
> Yes please.
> Now I remember how much I struggled to get it worked.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/BCC55-and-Error-in-HB_FUN_WVG_TREEVIEW_ADDITEM-tp22206707p22208815.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/af5026af/attachment.html
From harbour.01 at syenar.hu  Wed Feb 25 17:33:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 17:33:16 2009
Subject: [Harbour] gtwvg / hbwin owatcom errors
Message-ID: <18d502870902251433s45fe2c6bqbf4479f15ca01bca@mail.gmail.com>

Hi Pritpal and all,

Open Watcom 1.8 final version:

../../wapi_winuser.c(85): Error! E006: col(19) syntax error; probable cause:
missing ';'
../../wapi_winuser.c(88): Error! E029: col(13) symbol 'sbi' has not been
declared
../../wapi_winuser.c(88): Error! E029: col(29) symbol 'SCROLLBARINFO' has
not been declared
../../whtdate.c(180): Error! E029: col(11) symbol 'DateTime_GetSystemtime'
has not been declared
../../whtdate.c(318): Error! E029: col(13) symbol 'DateTime_SetSystemtime'
has not been declared
../../whtfont.c(124): Error! E029: col(13) symbol
'CreateScalableFontResource' has not been declared
../../whtsock.c(529): Error! E029: col(21) symbol 'WSAUnhookBlockingHook'
has not been declared
../../whttree.c(23): Error! E929: col(24) syntax error: token '.', but
expected: 'id-expression'
../../whttree.c(24): Error! E929: col(24) syntax error: token '.', but
expected: 'id-expression'
../../whttree.c(25): Error! E929: col(24) syntax error: token '.', but
expected: 'id-expression'
../../whttree.c(26): Error! E929: col(24) syntax error: token '.', but
expected: 'id-expression'

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/32dee373/attachment.html
From harbour.01 at syenar.hu  Wed Feb 25 17:39:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 17:39:45 2009
Subject: [Harbour] Proposing hbwhat for removal
In-Reply-To: <609353e70902251423i579a296bx97621e3821822d15@mail.gmail.com>
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com>
	<49A592FA.8060309@fsgiudice.com> <22210811.post@talk.nabble.com>
	<20090225213346.GA23508@uran.home.aster.pl>
	<49A5BD06.20602@fsgiudice.com>
	<18d502870902251417q39b33291x157178527703d210@mail.gmail.com>
	<609353e70902251423i579a296bx97621e3821822d15@mail.gmail.com>
Message-ID: <18d502870902251439l199824e2w8c39c5287ca94384@mail.gmail.com>

My opinion is the same as last year. hbdoc and
also the docs we have in their current format is a
dead end. It's not the goal of this project to develop
a documentation tool, so ideally we should choose
an existing tool, convert what we have, and delete
hbdoc.

This needs a one time effort and contributors.

Brgds,
Viktor

On Wed, Feb 25, 2009 at 11:23 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> What do you think about hbdoc?
> Other old module in black list?
>
> 2009/2/25 Viktor Szak?ts <harbour.01@syenar.hu>:
> > Thanks for the feedback to all.
> > It seem we agree on disabling it now, and keeping it
> > for reference, and also to encourage 3rd parties to give
> > feedback on whether they use it or not. AFAIK no "major"
> > 3rd party needs it, but let's hear them words.
> > Notice however that if we keep it in repository, it will
> > anyhow take a certain level of maintenance and attention
> > and this draws off some time from more important areas,
> > so we should reconsider this topic again sometimes in
> > the future.
> > I also hope that hbwin can one day become a good
> > successor of hbwhat, without the mistakes of the latter.
> > Windows interface is very important, especially for 3rd
> > parties who can easily build upon it. Also, Windows
> > isn't just the desktop, but WinCE, which may even be
> > important for those who otherwise don't use Windows
> > at their main development platform.
> > I'll disable it in one of the next commits. And if we
> > don't hear from any major dependent 3rd party, I'd
> > like to reconsider moving it to contrib/examples in the
> > near future, to better reflect its status (coding reference)
> > (it will be buildable there also).
> > Brgds,
> > Viktor
> > On Wed, Feb 25, 2009 at 10:49 PM, Francesco Saverio Giudice
> > <info@fsgiudice.com> wrote:
> >>
> >> Hi Przemek,
> >>
> >> Il 25/02/2009 22.33, Przemyslaw Czerpak ha scritto:
> >>>
> >>> if someone is interested then I can add to HVM support for
> >>> sending messages to pointer items. At least on C level.
> >>
> >> if you find spare time to add it will be useful.
> >> TIA
> >> Best regards,
> >> Francesco
> >>
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/941aa10a/attachment.html
From bedipritpal at hotmail.com  Wed Feb 25 17:44:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 25 17:44:09 2009
Subject: [Harbour] gtwvg / hbwin owatcom errors
In-Reply-To: <18d502870902251433s45fe2c6bqbf4479f15ca01bca@mail.gmail.com>
References: <18d502870902251433s45fe2c6bqbf4479f15ca01bca@mail.gmail.com>
Message-ID: <22213650.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> ../../wapi_winuser.c(85): Error! E006: col(19) syntax error; probable
> cause:
> missing ';'
> ../../wapi_winuser.c(88): Error! E029: col(13) symbol 'sbi' has not been
> declared
> ../../wapi_winuser.c(88): Error! E029: col(29) symbol 'SCROLLBARINFO' has
> not been declared
> 

WINAPI function GetScrollBarInfo() is introduced by MS only recently.
So may be OW does not have it yet. We dan safely comment it out as
it requires C struct support which we do not have yet.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/gtwvg---hbwin-owatcom-errors-tp22213471p22213650.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Wed Feb 25 17:45:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 25 17:45:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10454] trunk/harbour
Message-ID: <E1LcSV7-0007jx-89@74yxhf1.ch3.sourceforge.com>

Revision: 10454
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10454&view=rev
Author:   vszakats
Date:     2009-02-25 22:45:12 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 23:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.cmd
  * bin/postinst.bat
  * bin/postinst.sh
    - Removed creation of hb*.bat files.

  * contrib/make_b32_all.bat
  * contrib/make_gcc_all.sh
  * contrib/make_vc_all.bat
  * contrib/Makefile
    * Disabled hbwhat.

  * contrib/gtwvg/wvggui.c
    ! Fixed a few warnings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/bin/postinst.sh
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/make_b32_all.bat
    trunk/harbour/contrib/make_gcc_all.sh
    trunk/harbour/contrib/make_vc_all.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 25 17:49:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 17:49:29 2009
Subject: [Harbour] gtwvg / hbwin owatcom errors
In-Reply-To: <22213650.post@talk.nabble.com>
References: <18d502870902251433s45fe2c6bqbf4479f15ca01bca@mail.gmail.com>
	<22213650.post@talk.nabble.com>
Message-ID: <18d502870902251449t15dc2eb2m8aa646142c99a621@mail.gmail.com>

Hi Pritpal,

Can you please do it?
IMO we should protect all these kinds of version dependent
stuff with #if _WIN32_WINNT >= xxxx / #endif protection and
use as much of the functionality as the underlying headers
allow, unfortunately not all compilers have the latest headers
and with some of them you cannot even use the official
platform SDK either, so we should prepare for such situation.

We should always keep in mind that some functionality will
simple make it impossible to run programs on older Windows
versions.

I don't know where to draw the line, but _at least_ Windows 2000
compatibility is IMO a must.

Brdgs,
Viktor

On Wed, Feb 25, 2009 at 11:44 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> Viktor Szak?ts wrote:
> >
> > ../../wapi_winuser.c(85): Error! E006: col(19) syntax error; probable
> > cause:
> > missing ';'
> > ../../wapi_winuser.c(88): Error! E029: col(13) symbol 'sbi' has not been
> > declared
> > ../../wapi_winuser.c(88): Error! E029: col(29) symbol 'SCROLLBARINFO' has
> > not been declared
> >
>
> WINAPI function GetScrollBarInfo() is introduced by MS only recently.
> So may be OW does not have it yet. We dan safely comment it out as
> it requires C struct support which we do not have yet.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/gtwvg---hbwin-owatcom-errors-tp22213471p22213650.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090225/dbb50a79/attachment-0001.html
From info at fsgiudice.com  Wed Feb 25 18:20:50 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Feb 25 18:21:33 2009
Subject: [Harbour] build mt tests
Message-ID: <49A5D252.9010201@fsgiudice.com>

Hi Viktor,
I'm trying to build tests in harbour\tests\mt with hbmk2 but I cannot 
see console output.

J:\cvs\harbourSVN\tests\mt>..\..\bin\hbmk2.exe -trace -mt -std -gtwin 
mttest01
hbmk: Harbour compiler command:
..\..\bin\harbour.exe mttest01 -i..\..\include;..\..\include
Harbour 1.1.0dev (Rev. 10453)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'mttest01.prg'...
Lines 35, Functions/Procedures 3
Generating C source output to 'mttest01.c'... Done.
hbmk: C compiler command:
bcc32.exe -q -tWM -O2 -OS -Ov -Oi -Oc -d  -emttest01.exe 
-I..\..\include;..\..\i
nclude -L..\..\lib mttest01.c  hbcpage.lib hblang.lib hbcommon.lib 
hbcplr.lib hb
debug.lib hbvmmt.lib hbrdd.lib hbusrrdd.lib hbuddall.lib hbhsx.lib 
hbsix.lib rdd
ntx.lib rddnsx.lib rddcdx.lib rddfpt.lib hbrtl.lib hbpp.lib hbmacro.lib 
hbextern
.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib 
hbpcre.lib hbzl
ib.lib
mttest01.c:

After this if I run mttest01 I see no output.
(Already tested with other options and files in mt test folder)

Could you help me ?

Best regards,
Francesco
From harbour.01 at syenar.hu  Wed Feb 25 18:27:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 18:27:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <20090225183131.GA16747@uran.home.aster.pl>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
	<609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
	<18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>
	<18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>
	<20090225183131.GA16747@uran.home.aster.pl>
Message-ID: <18d502870902251527t6e095550lbb97d3053f0ab3b1@mail.gmail.com>

Hi Przemek,


> > ---
>
> With the exception to hbmk.cfg which cannot be stored in binary
> directory in system wide installation due to distribution policy
> in most of *nixes so in *nix builds hbmk should look for this file
> in:
>   <hbmkdir>
>   <hbmkdir>/../etc/harbour
>   <hbmkdir>/../etc           // "/harbour/" is part of hbmkdir
>   /etc/harbour
>   /etc                       // "/harbour/" is part of hbmkdir


Yep, .cfg should of course go into proper settings
dir on *nixes. hbmk2 already picks some of these, but
I'll sync it with your list. I'll pbly need help how to install
it in final locations.


> In *nixes it's also good pratcie to look for users customized
> settings, f.e.:
>   ${HOME}/.harbour/


I'll add this, thanks for it.


> > modifications on the local systems I guess (I had done quite
> > many recently on mine).
>
> The basic functionality for native compilation seems to work but I haven't
> made deeper tests so maybe I missed sth. I'll try to make such test in the
> weekend. So far I noticed that -static is default mode in *nix builds
> and -fullstatic does not work at all so always dynamic applications are
> created and only harbour static libraries are used.


Yes, such things should be corrected. -fullstatic was never thoroughly
tested. Please do more tests. hbmk2 is doing a shared build by default
if Harbour is installed in a system dir, and it's doing a static one by
default if it's just run from any other dir. These defaults can also be
controlled through hbmk.cfg, either by installers or the user.


> Harbour does not have any chance to be ever part of default Windows
> installation but it has big chance to be part of different open source
> based systems but we have to respect the official distribution rules
> so in *nixes shared linking should be default.


Sorry, only if it's installed in some system locations (Harbour attempts
to detect it, and installers can override). Harbour in
/home/myname/programs/test/harboursvn/... shouldn't try to create
a shared build by default, as it won't work. If the user placed the .so
dir in LD_PATH the shared build can be enabled in hbmk.cfg. Or,
we can even attempt do an autodetection for harbour.so accessibility
and decide accordingly. What do you think?

[ Anyhow I'd like it we consider those ppl who for any reason don't
want to install, just play with Harbour without impacting the system.
Harbour may even be embedded into a larger product. ]


> The second problem is support for cross compilation. Here I haven't
> even try to make any tests. In the last days hbmk2 was changed too
> often to even start them. Just simply I do not know how will look
> the final base code. I still think that auto detection should be based
> on compiler used to compile hbmk2.prg and other configurations should
> be done on user requests. Any automatic compiler detection by PATH
> search for me can be only source of problems because Harbour libraries
> are not binary compatible when compiled by different compilers. In few
> cases they are (f.e. POCC/XCC) but probably no one of us knows if CRTLs
> are fully compatible and it's safe to mix libraries compiled by different
> C compilers. Unfortunately simple test and answer "is running for me"


hbmk.cfg is storing the host compiler/platform now so what you say can
now enabled without hard-wiring anything to the .exe (which is a big no-no
for Windows apps). Plus, what you say is the default for *nix systems
already. For non-*nix, the host compiler is searched first, so it will be
picked even if multiple compilers are accessible in PATH. We can also
use above hbmk.cfg information in the future, but IMO at this point it's
not
necessary, first let's hear some feedback.

Cross compilation doesn't seem _that_ difficult to me, I've even used
hbmk2 already for such purpose, and all it took was to use a manually
overridden HB_LIB_INSTALL setting. I'm not saying this is enough for
all cases of course, this was an easier one for sure.

In any case, with regards to my proposed cleanup this doesn't seem
to make a difference as we're talking about _new functionality_ (unless
I'm missing something regarding hbmk capabilities), so it can be added
gradually but at least independently of all these.

is not enough because problems can be hidden very deeply, f.e. some
> memory corruptions which can be exploited only in some seldom cases.
> So such autodetection can cause really unpredictible results.
> It will be good if linker refuse creating final binaries so user will
> notice it and fix the environment settings but in the worst case the
> application can be linked and executed but will not work correctly.
> I'm finding it as very danger situation especially in Windows where
> user can have many C compilers and small modifications in environment
> settings f.e. after installing new C compiler may cause that wrong
> binaries which cannot be easy tested will be delivered to customers.
> For me the Harbour/hbmk2 build time C compiler should have the highest
> priority.


Please check how it's working now. If we will be having problems,
we can resort to hbmk.cfg COMP/ARCH values.


> > weeks of my free time to address these things.
> > Some things I'd like to clean:
> > - non-GNU make files. [.dll creation works for the most part in GNU-make
> > now.]
>
> I do not know what you are asking for.


Shortly this:
del /s make_b32*.*
del /s make_vc*.*
del /s make_gcc*.*
del /s mtpl_b32*.*
del /s mtpl_vc*.*
del /s mtpl_gcc*.*
del /s common.mak

Having multiple (2, three of four depending on how you count it) make
systems creates the worst maintenance nightmare to maintain, support,
test, sync, and _document_. Far from ideal, and give a rough time
for everyone trying to make a build.


> > - harbour.cfg + Harbour -go option: hbmk2 is here as a better solution.
>
> I do not have clear opinion about it. I do not use it so for me it can
> be dropped though if Harbour will be default part of some OS distributions
> then such mechanism can be easy used for binding with default C compiler,
> f.e. also with -pipe option to eliminate temporary files.


Is it useful enough to keep it? (I don't think so.)
Can we implement similar stuff in hbmk2?


> BTW I haven't asked about it before but it will be good if hbmk2 can
> create intermediate .c file in some temporary location and not use
> <baseprgdir>/<baseprgname>.c files. In the past I lost few times some
> files when by mistake I used the same name for .prg and .c files.


I'll add this to the TODO list. It's not clear to me how this could
work with the -hbcc option though.


> > - hb* helper scripts, batches: confuse users, and doesn't add
> functionality.
>
> We can remove them in some longer terms, f.e. after few weeks of hbmk2
> testing. But please do not remove the internal logic from hbmk2 code
> which recognize them so anyone who will want to use it can create own
> links.


I don't plan to do such thing. Probably -hblnk is completely
unnecessary now though, unless I'm missing some functionality it
did. So after I clean some stuff, this option should go, or simply
be ignored (pls tell if this is needed).


> > - hb-mkslib compatibility name: not widely used, easy to add locally for
> > those who depend on it, otherwise it
> >      just creates ambiguity.
>
> The above is IMHO only your personal feeling. hb-mkslib exists for nearly
> 6 years in [x]Harbour world and AFAIK is quite often used. Anyhow we can
> remove it in the future probably together with linkes to hbmk2.


OK.


> > - gcc specific hbmk script: hbmk2 is meant to replace it.
>
> yes, when it will be tested and will support existing functionality.
> F.e. RPMs with WIN32 and WINCE cross builds will work with hbmk2 just
> like know works with hbmk.
> I do not like this idea but for my own use I will create my own Harbour
> builds so it's not a problem for me.


Sorry, I've lost this one, could you clarify?


> > - rename hbmk2 to hbmk.
>
> AFAIK it's the goal :-)
> But non of the above is development stopper so this are minor thinks
> which can be made by any of us in less then 15 minutes. The important
> is existing hbmk2 functionality.


That's right.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/fc232058/attachment.html
From vouchcac at users.sourceforge.net  Wed Feb 25 18:36:00 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 25 18:36:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10455] trunk/harbour
Message-ID: <E1LcTIG-0006kD-Sz@3kljzd1.ch3.sourceforge.com>

Revision: 10455
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10455&view=rev
Author:   vouchcac
Date:     2009-02-25 23:36:00 +0000 (Wed, 25 Feb 2009)

Log Message:
-----------
2009-02-25 15:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbwin/wapi_winuser.c
    ! Commented out WAPI_GETSCROLLBARINFO().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winuser.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 25 18:44:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 18:44:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <9257026e0902251033h7ed6494axabbe1c76281ca67b@mail.gmail.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
	<609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
	<18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>
	<18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>
	<9257026e0902250919i447a1845naa3267be8404181@mail.gmail.com>
	<18d502870902250941o226f56ffg53237bf6df483d65@mail.gmail.com>
	<9257026e0902251033h7ed6494axabbe1c76281ca67b@mail.gmail.com>
Message-ID: <18d502870902251544v44a72b2bo7440ba7decc97df4@mail.gmail.com>

Hi Lorenzo,


> > We're here talking about the make and build systems.
> > Which doesn't have much to do with 3rd parties, after all everyone can
> > download the binary release pre-built and don't care about it.
> > As for hbmk, it's just one tool, and hbmk2 is even compatible.
>
> Sorry, I don't understand. What I meant is that f.e. xhgtk uses hbcc
> and hbcmp commands in the makefiles, if we remove them, it doesn't
> build anymore and they'll have to have 1.0.1 makefiles and 1.1
> makefiles since there is no hbmk2 for 1.0.1.


Probably those hb* aliases will stay (for a while), with content
converted to wrappers to hbmk2. This is the least concern
of the whole bunch IMO, it's three files.


> > Overall I see no point to limit ourselves to the state of year
> > ~2000 with regards to the build/make system and exact
> > file compatibility down to the exact names and envvar usage.
> > Let's look forward, that's what I'd say, otherwise we never reach
> > anywhere.
>
> We all have preferences in names and standards, what is important for
> me is the respect of the community. Changes that affect the users need
> to be done only when really necessary and giving the time to test and
> adapt.
> Other projects have stable branch and development branch, with
> backports and bug fixing on the stable and new code in the
> development. It's clear we don't have the resources for this schema,
> but we can easily use a "add new now and remove old next" one.


If you can maintain, document, and test everything in parallel,
plus every combinations (and if there aren't any collisions or
non-cross compatible changes), this could be ideal. We _are_
running on limited sources though, while investing huge amounts
of time in this already, so I'd ask for a little flexbility from users
so that we can advance more efficiently.


> > What I'd suggest is to gather all changes into one document,
> > or even better, _finally_ clearly document the make methods
> > and make them simpler, so everyone can easily adapt in
> > one pass to the 1.1.x way. I've started this with /INSTALL,
> > plus most thing are already in whatsnew.txt
>
> I would perfectly agree if we were a closed source company that
> release binaries with "setup, next, next, end" installation, but since
> we're on sourceforge we know that every user can ( and we hope )
> download the svn and build harbour from sources. Also we have to admit
> that historically the use of cvs/svn has been the "normal" way to use
> Harbour. This means that probably there are many different "local
> envs" out there and not all can/want to start from scratch every time.


That's true but so far let's admit it, it was a huge PITA to start
with Harbour. Not for me, not for you, as we've spent weeks to tune
it for our needs, but for "normal" ppl, not reading this list every day,
a build is still a pain (despite all efforts). So, in order to make this
thing documentable, easy to use - as you say for open source users
who wish to make own builds - we need to streamline, for the benefit
of the community, and for the benefit of us developers, and with some
minor sacrifice from "power users", who can probably adapt to these
changes quite easily.

Besides minor files laying around which are less important, my
two (three) main concerns are:

1) Current parallel make systems: We should dump non-GNU.
2) Current parallel Harbour make tool: We should keep only one.

+1) As few "satellite" so called "helper" (which are IMO only
helping a few ppl and confusing lots of others) batches/scripts
as possible.

That's the goal. If we can provide backward compatibility for
major issues, and if we can do it without major impact on
implementing new stuff, or creating big confusion / additional
maintenance nightmare, _we should do it_, but not for any price.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/b1b553b9/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb 25 18:49:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 25 18:49:13 2009
Subject: [Harbour] build mt tests
In-Reply-To: <49A5D252.9010201@fsgiudice.com>
References: <49A5D252.9010201@fsgiudice.com>
Message-ID: <18d502870902251549g655a241ep7003bc8d5565cf0f@mail.gmail.com>

Hi Francesco,
You've been tricked by the '-n' issue. Just add -n to your
command line.

This will be a FAQ if we don't do something about it :( Sooo
easy to miss, and we need it for every programs....

Brgds,
Viktor

On Thu, Feb 26, 2009 at 12:20 AM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Viktor,
> I'm trying to build tests in harbour\tests\mt with hbmk2 but I cannot see
> console output.
>
> J:\cvs\harbourSVN\tests\mt>..\..\bin\hbmk2.exe -trace -mt -std -gtwin
> mttest01
> hbmk: Harbour compiler command:
> ..\..\bin\harbour.exe mttest01 -i..\..\include;..\..\include
> Harbour 1.1.0dev (Rev. 10453)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'mttest01.prg'...
> Lines 35, Functions/Procedures 3
> Generating C source output to 'mttest01.c'... Done.
> hbmk: C compiler command:
> bcc32.exe -q -tWM -O2 -OS -Ov -Oi -Oc -d  -emttest01.exe
> -I..\..\include;..\..\i
> nclude -L..\..\lib mttest01.c  hbcpage.lib hblang.lib hbcommon.lib
> hbcplr.lib hb
> debug.lib hbvmmt.lib hbrdd.lib hbusrrdd.lib hbuddall.lib hbhsx.lib
> hbsix.lib rdd
> ntx.lib rddnsx.lib rddcdx.lib rddfpt.lib hbrtl.lib hbpp.lib hbmacro.lib
> hbextern
> .lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbpcre.lib
> hbzl
> ib.lib
> mttest01.c:
>
> After this if I run mttest01 I see no output.
> (Already tested with other options and files in mt test folder)
>
> Could you help me ?
>
> Best regards,
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/91a5c40a/attachment.html
From vouchcac at users.sourceforge.net  Wed Feb 25 22:01:11 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 25 22:01:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10456] trunk/harbour
Message-ID: <E1LcWUp-0001hg-M8@c3vjzd1.ch3.sourceforge.com>

Revision: 10456
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10456&view=rev
Author:   vouchcac
Date:     2009-02-26 03:01:10 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------
2009-02-25 18:57 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/wvgcrt.prg
  * harbour/contrib/gtwvg/wvgwnd.prg
    ! More types of consoles. Mainly modal windows implementation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgcrt.prg
    trunk/harbour/contrib/gtwvg/wvgwnd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jlcapel2 at gmail.com  Thu Feb 26 01:51:36 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Thu Feb 26 01:51:42 2009
Subject: [Harbour] Error building harbour for evc4
Message-ID: <ab2a7b4c0902252251q557f8daofc72db431124b969@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: evc4.log
Type: application/octet-stream
Size: 5732 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/16b233f1/evc4.obj
From lorenzo.fiorini at gmail.com  Thu Feb 26 01:57:36 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 26 01:57:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10445] trunk/harbour
In-Reply-To: <18d502870902251544v44a72b2bo7440ba7decc97df4@mail.gmail.com>
References: <E1LcJ0I-0002b4-7a@dn4whf1.ch3.sourceforge.com>
	<9257026e0902250707gb80557bgb7bf25e6d8f57b39@mail.gmail.com>
	<609353e70902250716j282146eehd7b66c261eeaaa6@mail.gmail.com>
	<18d502870902250734k67a382b5l98cacf44dcfc3771@mail.gmail.com>
	<18d502870902250754q9c7a0cds5adaaf48412ba62c@mail.gmail.com>
	<9257026e0902250919i447a1845naa3267be8404181@mail.gmail.com>
	<18d502870902250941o226f56ffg53237bf6df483d65@mail.gmail.com>
	<9257026e0902251033h7ed6494axabbe1c76281ca67b@mail.gmail.com>
	<18d502870902251544v44a72b2bo7440ba7decc97df4@mail.gmail.com>
Message-ID: <9257026e0902252257p7c989bf8ra77c29e39e7e204f@mail.gmail.com>

On Thu, Feb 26, 2009 at 12:44 AM, Viktor Szak?ts

> Probably those hb* aliases will stay (for a while), with content
> converted?to wrappers to hbmk2. This is the least concern
> of the?whole bunch IMO, it's three files.

Ok, but before change them we need to test hbmk2 in a public release.

> That's true but so far let's admit it, it was a huge PITA to start
> with Harbour.

Sure, I've always said that we need to reach sth near to ./configure,
make, make install.

> Besides minor files laying around which are less important, my
> two (three) main concerns are:

> 1) Current parallel make systems: We should dump non-GNU.

Of course. I've always said that gnu-make should have been marked as
required like were flex and bison. IMHO using different make utilities
and batch files has been a huge waste of resources.

> 2) Current parallel Harbour make tool: We should keep only one.

Ok, but for 1.1 we should keep hb* scripts as they are, since we don't
know if hbmk2 covers all cases.

> +1) As few "satellite" so called "helper" (which are IMO only
> helping a few ppl and confusing lots of others) batches/scripts
> as possible.

Agree, but as above but we need time to test hbmk2 ( for we I mean the
community ).

> That's the goal. If we can provide backward compatibility for
> major issues, and if we can do it without major impact on
> implementing?new stuff, or creating big confusion / additional
> maintenance nightmare, _we should do it_, but not?for any price.

I repeat: backward compatibility should be kept between consecutive
releases to help ppl to work in parallel with a stable version and a
development one.
After a release has been out for months, and the changes have been
announced, we are free to change everything.

best regards,
Lorenzo
From info at fsgiudice.com  Thu Feb 26 02:52:15 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Feb 26 02:52:22 2009
Subject: [Harbour] build mt tests
In-Reply-To: <18d502870902251549g655a241ep7003bc8d5565cf0f@mail.gmail.com>
References: <49A5D252.9010201@fsgiudice.com>
	<18d502870902251549g655a241ep7003bc8d5565cf0f@mail.gmail.com>
Message-ID: <49A64A2F.5010305@fsgiudice.com>

Hi Viktor,

Il 26/02/2009 0.49, Viktor Szak?ts ha scritto:
> You've been tricked by the '-n' issue. Just add -n to your 
> command line.
damn... I was too tired :-)
Thank you
Best regards

Francesco

From e.m.giordano at emagsoftware.it  Thu Feb 26 03:13:58 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Feb 26 03:14:04 2009
Subject: [Harbour] Proposing hbwhat for removal
References: <18d502870902250804g56530f23kae456003da202dfd@mail.gmail.com><49A592FA.8060309@fsgiudice.com>
	<22210811.post@talk.nabble.com><20090225213346.GA23508@uran.home.aster.pl><49A5BD06.20602@fsgiudice.com>
	<18d502870902251417q39b33291x157178527703d210@mail.gmail.com>
Message-ID: <1EE13108741B40868BCD78606495A9DD@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 25 febbraio 2009 23.17
Oggetto: Re: [Harbour] Proposing hbwhat for removal

Personally I used hbwhat only for SetErrorMode() that I just replaced with a 
local wrapper. So it seems I currently don't need of hbwhat.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Thu Feb 26 04:25:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 26 04:25:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10457] trunk/harbour
Message-ID: <E1LccUk-00029b-Bp@3kljzd1.ch3.sourceforge.com>

Revision: 10457
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10457&view=rev
Author:   vszakats
Date:     2009-02-26 09:25:29 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------

2009-02-26 10:24 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
    + Moving .lib and .exp (if they are generated) files
      to LIB dir.

  * source/vm/maindllp.c
    + Added owatcom flavour of .dll name.

  * contrib/hbwin/win_misc.c
    + Added WAPI_GETLASTERROR(), WAPI_SETLASTERROR(), WAPI_SETERRORMODE().

  * utils/hbmk2/hbmk2.prg
    + Added TODO to create temp .c files in temp location.
      Looks this can create a few problems (-hbcc, .ppo output
      location when -p is used by user).
    + '/o' flavour of -o option is now ignored on non-*nix
      systems to make sure users cannot mess up the hbmk process
      flow.
    * -o option modified to reset any previous explicit -o settings.
    * Some minor internal renames, comments.
    + Added new hbmk.cfg / .hbp option: 'shareddef='. This can
      change the default state of shared/static setting, so it
      can be used by installers or user to override default
      behaviour. NOTE: HB_SHARED envvar can also be used.
    * Changed hbmk.cfg lookup preferences to this:
      1. $HOME/.harbour
      2. /etc/harbour
      3. <hbmkdir>/../etc/harbour
      4. <hbmkdir>/../etc
      5. <hbmkdir>
      (NOTE: I've deleted /etc as etc/harbour seems superior
             and we already store a .def file there.
             I've also deleted /usr/local/etc)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Thu Feb 26 05:54:49 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 26 05:54:54 2009
Subject: [Harbour] Wrong hb-mkslib
Message-ID: <9257026e0902260254n1178963fue32c4c93ac5a0077@mail.gmail.com>

it points to hb-mkslib -> ./bin/hb-mkdyn.sh while it should be simply
hb-mkslib -> hb-mkdyn

The diff is:

diff -r 9838d46f2905 bin/postinst.sh
--- a/bin/postinst.sh	Thu Feb 26 10:44:40 2009 +0100
+++ b/bin/postinst.sh	Thu Feb 26 11:53:43 2009 +0100
@@ -88,7 +88,7 @@
     if [ -n "${hb_mkdyn}" ] && [ -f "${hb_mkdyn}" ]; then
         hb_mkdyn="${hb_mkdyn//-mkdyn/-mkslib}"
         rm -f "${hb_mkdyn}"
-        ln -s "${hb_root}/bin/hb-mkdyn.sh" "${hb_mkdyn}"
+        ln -s "hb-mkdyn" "${hb_mkdyn}"
     fi

     mk_hbtools "${HB_BIN_INSTALL}" "$@"

best regards,
Lorenzo
From druzus at users.sourceforge.net  Thu Feb 26 05:57:24 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb 26 05:57:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10458] trunk/harbour
Message-ID: <E1Lcdvg-0005M6-LO@d5vjzd1.ch3.sourceforge.com>

Revision: 10458
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10458&view=rev
Author:   druzus
Date:     2009-02-26 10:57:23 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------
2009-02-26 12:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.h
  * harbour/source/rtl/gtwvt/gtwvt.c
    + added support to set codepage for box drawing characters using
      HB_GTI_BOXCP as numeric value just like in HB_GTI_CODEPAGE for
      non UNICODE builds. In Windows CP encoding has even higher priority
      then font name so such functionality is necessary for users who
      have to keep normal and box font synced
    % do not allocate separate font handle for BOX drawing characters
      when they have the same encoding as normal characters
    ! keep box and normal font handles synced and free then on exit
    ! respect HB_GTI_RESIZABLE settings when new window is created

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Feb 26 06:08:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 26 06:08:25 2009
Subject: [Harbour] Wrong hb-mkslib
In-Reply-To: <9257026e0902260254n1178963fue32c4c93ac5a0077@mail.gmail.com>
References: <9257026e0902260254n1178963fue32c4c93ac5a0077@mail.gmail.com>
Message-ID: <18d502870902260308j6a260fa4p36882196fe015fd2@mail.gmail.com>

This doesn't work with MinGW, and an error is generated for the ln command.

Brgds,
Viktor

On Thu, Feb 26, 2009 at 11:54 AM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com
> wrote:

> it points to hb-mkslib -> ./bin/hb-mkdyn.sh while it should be simply
> hb-mkslib -> hb-mkdyn
>
> The diff is:
>
> diff -r 9838d46f2905 bin/postinst.sh
> --- a/bin/postinst.sh   Thu Feb 26 10:44:40 2009 +0100
> +++ b/bin/postinst.sh   Thu Feb 26 11:53:43 2009 +0100
> @@ -88,7 +88,7 @@
>     if [ -n "${hb_mkdyn}" ] && [ -f "${hb_mkdyn}" ]; then
>         hb_mkdyn="${hb_mkdyn//-mkdyn/-mkslib}"
>         rm -f "${hb_mkdyn}"
> -        ln -s "${hb_root}/bin/hb-mkdyn.sh" "${hb_mkdyn}"
> +        ln -s "hb-mkdyn" "${hb_mkdyn}"
>     fi
>
>     mk_hbtools "${HB_BIN_INSTALL}" "$@"
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/f612e474/attachment.html
From lorenzo.fiorini at gmail.com  Thu Feb 26 06:14:56 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 26 06:15:00 2009
Subject: [Harbour] Wrong hb-mkslib
In-Reply-To: <18d502870902260308j6a260fa4p36882196fe015fd2@mail.gmail.com>
References: <9257026e0902260254n1178963fue32c4c93ac5a0077@mail.gmail.com>
	<18d502870902260308j6a260fa4p36882196fe015fd2@mail.gmail.com>
Message-ID: <9257026e0902260314y28109f25l23a2281d8987c71d@mail.gmail.com>

On Thu, Feb 26, 2009 at 12:08 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> This doesn't work with MinGW, and an error is
> generated for the ln command.

Yes, I've just found that the diff works for Linux and OSX but not for
msys/mingw.

A plain "ln -s /opt/harbour/bin/hb-mkdyn /opt/harbour/bin/hb-mkslib"
works so probably is a path problem.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Thu Feb 26 06:17:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 26 06:17:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10459] trunk/harbour
Message-ID: <E1LceFH-0007x8-PB@74yxhf1.ch3.sourceforge.com>

Revision: 10459
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10459&view=rev
Author:   vszakats
Date:     2009-02-26 11:17:38 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------
2009-02-26 12:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/rules.cf
  * config/win/global.cf
  * config/lib.cf
  * config/bin.cf
    * Make files changed to:
      - add Harbour option -n1 for all lib .prgs.
      - add Harbour option -n for all binary .prgs.
      - use HB_GCMODE to override -gc mode for binaries.
      - add C -DHB_DYNLIB option when HB_DLL envvar is set to 'yes'.
    ; This means that now 'set HB_DLL=yes' setting works as planned,
      and will compile Harbour to allow the creation of .dlls
      and will also create those (msvc, bcc32, owatcom).
      (MinGW has been covered before these changes already.)
    ; TOFIX: .dlls still need tweaking to work properly.
             owatcom doesn't create usable binaries when
             using HB_DLL=yes f.e., also hbrun-dll cannot be
             built with msvc/bcc32.

  * config/win/owatcom.cf
    % Removed DOS hack.

  * bin/hb-mkdyn.bat
    ! Fixes to recent changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/config/bin.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/win/global.cf
    trunk/harbour/config/win/owatcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Thu Feb 26 06:25:39 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 26 06:25:43 2009
Subject: [Harbour] gtwvt issues
Message-ID: <9257026e0902260325n3ec38903md0738aa628888c38@mail.gmail.com>

1) HB_GTI_CLOSABLE seems not working
2) setmode returns false but it seem to work

I've used the test below using:
./gttest 15 48 140 Terminal 1

under WinXP Pro SP3 msys/mingw 3.4.5

best regards,
Lorenzo

#include "common.ch"
#include "hbgtinfo.ch"

procedure main( cFontSize, cRows, cCols, cFontName, cFontQuality )

   local nRows, nCols

//   clear screen

   HB_GTInfo(HB_GTI_RESIZABLE, FALSE)
   HB_GTInfo(HB_GTI_CLOSABLE, FALSE)
   HB_GTInfo(HB_GTI_FONTNAME, alltrim(cFontName))
   HB_GTInfo(HB_GTI_FONTQUALITY, val(cFontQuality))
   HB_GTInfo(HB_GTI_FONTSIZE, val(cFontSize))
   if !setmode( val(cRows), val(cCols) )
      alert( "setmode returns false" )
   endif
   clear screen
   @ 0, 0, maxrow(), maxcol() box space( 9 ) color "W/W"

   nRows := maxrow()
   nCols := maxcol()

   alert( "maxrow()="+alltrim(str(nRows))+;
          ";maxcol()="+alltrim(str(maxcol(nCols)))+;
          ";font size="+alltrim(str(HB_GTInfo(HB_GTI_FONTSIZE)))+;
          ";Am I in centre?" )

return
From M.Horodyski at pzuzycie.com.pl  Thu Feb 26 06:34:46 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Feb 26 06:34:51 2009
Subject: [Harbour] RE: Raport from build
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00737@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Wednesday, February 25, 2009 1:32 PM
>To: 'Harbour Project Main Developer List.'
>Subject: RE: Raport from build
>
[...]
>Todays - 2009-02-25 - unchanged.
>

Todays - 2009-02-26,  raport from naightly zip file :
Last screen :
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapiitm.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../win_osc.c(67)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
wpp386     ../../win_prn1.c -fo=win_prn1.obj
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../win_prn1.c(78)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
wpp386     ../../win_prn2.c -fo=win_prn2.obj
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../win_prn2.c(65)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
wpp386     ../../win_prt.c -fo=win_prt.obj
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../win_prt.c(55)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
wpp386     ../../win_regc.c -fo=win_regc.obj
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../win_regc.c(55)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
wpp386     ../../wapi_commctrl.c -fo=wapi_commctrl.obj
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../wapi_commctrl.c(53)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
wpp386     ../../wapi_winbase.c -fo=wapi_winbase.obj
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../wapi_winbase.c(55)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
wpp386     ../../wapi_winuser.c -fo=wapi_winuser.obj
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../wapi_winuser.c(53)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
../../wapi_winuser.c(85): Error! E006: col(19) syntax error; probable cause: missing ';'
../../wapi_winuser.c(88): Error! E029: col(13) symbol 'sbi' has not been declared
../../wapi_winuser.c(88): Error! E029: col(29) symbol 'SCROLLBARINFO' has not been declared
make[3]: *** [wapi_winuser.obj] Error 8
make[3]: Leaving directory `c:/harbour/contrib/hbwin/win/owatcom'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `c:/harbour/contrib/hbwin'
make[1]: *** [hbwin] Error 2
make[1]: Leaving directory `c:/harbour/contrib'
make: *** [contrib] Error 2

Err files in GTWG subfolder :
????????????? c:\harbour\contrib\gtwvg\win\owatcom ????????[]??
?               Name                ?  Size   ?  Date  ?Time ? 

?..                                 ?<UP--DIR>?26-02-09?12:04? ?
?gtwvg                           err?      663?26-02-09?12:00? ?
?wincallb                        err?      476?26-02-09?12:01? ?
?wvgcore                         err?      665?26-02-09?12:00? ?
?wvggui                          err?      665?26-02-09?12:01? ?
?wvgsink                         err?      475?26-02-09?12:00? ?
?wvgutils                        err?      666?26-02-09?12:00? ?
?wvgwin                          err?      837?26-02-09?12:00? ?

Example from c:\harbour\contrib\gtwvg\win\owatcom\gtwvg.err :
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbset.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../gtwvg.h(84)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../gtwvg.c(87)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'

And from c:\harbour\contrib\gtwvg\win\owatcom\wvgwin.err :
../../../../include/hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbvmpub.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbapi.h(61)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../../../include/hbset.h(56)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../gtwvg.h(84)
../../../../include/hbdefs.h(338): Note! N393: col(33) included from ../../wvgwin.c(88)
C:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
../../wvgwin.c(2922): Warning! W014: col(2) no reference to symbol 'WVG_WndProc_par'
../../wvgwin.c(2842): Note! N392: col(17) definition: 'void * WVG_WndProc_par( int )'

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Thu Feb 26 06:45:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 26 06:45:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10460] trunk/harbour
Message-ID: <E1LcegA-0004H4-Jz@c3vjzd1.ch3.sourceforge.com>

Revision: 10460
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10460&view=rev
Author:   vszakats
Date:     2009-02-26 11:45:25 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------
2009-02-26 12:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/gtwvt/gtwvt.c
    ! Fixed HB_GTI_CLOSABLE when set before window initialization.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb 26 06:54:59 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Feb 26 06:49:33 2009
Subject: [Harbour] Wrong hb-mkslib
In-Reply-To: <18d502870902260308j6a260fa4p36882196fe015fd2@mail.gmail.com>
References: <9257026e0902260254n1178963fue32c4c93ac5a0077@mail.gmail.com>
	<18d502870902260308j6a260fa4p36882196fe015fd2@mail.gmail.com>
Message-ID: <20090226115459.GA10938@uran.home.aster.pl>

On Thu, 26 Feb 2009, Szak?ts Viktor wrote:

Hi,

> This doesn't work with MinGW, and an error is generated for the ln command.

Then for MinGW we need separated version until it will not be fixed
in MinGW/MSys. Probably simple:
   (cd "${hb_root}/bin"; ln -s hb-mkdyn.sh "${hb_mkdyn}")
will be enough and should not cause problems for file systems
which have native support for soft links.
The original version was correct and it intentionally did not have
path part inside the soft link. Please keep it and make above update
if it works in MinGW/MSys.
It's possible that such problem will also exists in DJGPP and
should be tested though I do not know if DJGPP uses the same
method for soft link emulation and if it supports shared libraries.
I'll test it later.

best regards,
Przemek
From vszakats at users.sourceforge.net  Thu Feb 26 06:56:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 26 06:56:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10461] trunk/harbour
Message-ID: <E1LceqQ-0004Qh-F9@c3vjzd1.ch3.sourceforge.com>

Revision: 10461
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10461&view=rev
Author:   vszakats
Date:     2009-02-26 11:56:01 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------
2009-02-26 12:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/gtwvt/gtwvt.c
    ! Attempt to fix SetMode() always returning FALSE when
      the window isn't open yet. Please test, I didn't.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Thu Feb 26 07:20:08 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 26 07:20:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10461] trunk/harbour
In-Reply-To: <E1LceqQ-0004Qh-F9@c3vjzd1.ch3.sourceforge.com>
References: <E1LceqQ-0004Qh-F9@c3vjzd1.ch3.sourceforge.com>
Message-ID: <9257026e0902260420i13b8edfbv386cf4d189e4514f@mail.gmail.com>

On Thu, Feb 26, 2009 at 12:56 PM,  <vszakats@users.sourceforge.net> wrote:

> 2009-02-26 12:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> ?* source/rtl/gtwvt/gtwvt.c
> ? ?! Attempt to fix SetMode() always returning FALSE when
> ? ? ?the window isn't open yet. Please test, I didn't.

As you can see I've left a // clear screen because doing settings
before or after it change if they works or not.

F.e. FONTNAME and FONTSIZE work only if issued "before" while others
only if issued "after" first output. setmode( 255,255 ) worked like
"fit the screen" in 1.0.1 today with gtwvt it creates a "phantom"
window that exist only in the taskbar.

I think we should define a "protocol" about HB_GTI_*, setmode, fonts,
so that we can use the same code to do tests. Today having a code that
works under Lin, Win, OSX with the defined font and window size is
quite "frustrating".

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Feb 26 07:32:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 26 07:32:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10461] trunk/harbour
In-Reply-To: <9257026e0902260420i13b8edfbv386cf4d189e4514f@mail.gmail.com>
References: <E1LceqQ-0004Qh-F9@c3vjzd1.ch3.sourceforge.com>
	<9257026e0902260420i13b8edfbv386cf4d189e4514f@mail.gmail.com>
Message-ID: <18d502870902260432ufceb9b4xa775a98fb8c70d2f@mail.gmail.com>

>
> >  * source/rtl/gtwvt/gtwvt.c
> >    ! Attempt to fix SetMode() always returning FALSE when
> >      the window isn't open yet. Please test, I didn't.
>
> As you can see I've left a // clear screen because doing settings
> before or after it change if they works or not.


Which mean what? Is it working now? Or should I say sorry for (not) fixing
it?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/09ebd8fb/attachment.html
From jlcapel2 at gmail.com  Thu Feb 26 07:55:36 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Thu Feb 26 07:55:41 2009
Subject: [Harbour] Error building harbour for evc4 - 2
Message-ID: <ab2a7b4c0902260455q56093c08v8f075a3c8169cebe@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: evc4.log
Type: application/octet-stream
Size: 5732 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/6bb79325/evc4.obj
From lorenzo.fiorini at gmail.com  Thu Feb 26 08:00:01 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 26 08:00:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10461] trunk/harbour
In-Reply-To: <18d502870902260432ufceb9b4xa775a98fb8c70d2f@mail.gmail.com>
References: <E1LceqQ-0004Qh-F9@c3vjzd1.ch3.sourceforge.com>
	<9257026e0902260420i13b8edfbv386cf4d189e4514f@mail.gmail.com>
	<18d502870902260432ufceb9b4xa775a98fb8c70d2f@mail.gmail.com>
Message-ID: <9257026e0902260500t5bbbfdd3k9c85d6e07356fc78@mail.gmail.com>

On Thu, Feb 26, 2009 at 1:32 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Which mean what? Is it working now? Or should I say sorry for (not) fixing
> it?

Sorry I was not clear.

The fix works, many thanks. My replay was more general and I did it in
the wrong place.

What I meant is that I knew that issuing a clear screen before would
"fix" some HB_GTI settings but it also "break" others.

F.e. if you uncomment the clear screen the font settings don't work anymore.

So I wonder which is the right way to use HB_GTI_*.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Thu Feb 26 08:56:21 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 26 08:56:25 2009
Subject: [Harbour] gtwin vs gtwvt
Message-ID: <9257026e0902260556p2b7d1b24y9847a7ac19b8aee5@mail.gmail.com>

Just to report, I've run the code below, that works as expected with
gtwvt, with gtwin
using ./gttest1 15 48 140 Terminal 1

I'm not sure what is the correct result but:

setmode returns false ( while gtwvt returns true )

and it RT:

Error BASE/1099  Argument error: STR
Called from STR(0)
Called from MAIN(27)

at HB_GTInfo(HB_GTI_FONTSIZE).

best regards,
Lorenzo

#include "common.ch"
#include "hbgtinfo.ch"

procedure main( cFontSize, cRows, cCols, cFontName, cFontQuality )

   local nRows, nCols

//   clear screen

   HB_GTInfo(HB_GTI_RESIZABLE, FALSE)
   HB_GTInfo(HB_GTI_CLOSABLE, FALSE)
   HB_GTInfo(HB_GTI_FONTNAME, alltrim(cFontName))
   HB_GTInfo(HB_GTI_FONTQUALITY, val(cFontQuality))
   HB_GTInfo(HB_GTI_FONTSIZE, val(cFontSize))
   if !setmode( val(cRows), val(cCols) )
      alert( "setmode returns false" )
   endif
   clear screen
   @ 0, 0, maxrow(), maxcol() box space( 9 ) color "W/W"

   nRows := maxrow()
   nCols := maxcol()

   alert( "maxrow()="+alltrim(str(nRows))+;
          ";maxcol()="+alltrim(str(maxcol(nCols)))+;
          ";font size="+alltrim(str(HB_GTInfo(HB_GTI_FONTSIZE)))+;
          ";Am I in centre?" )

return
From vszakats at users.sourceforge.net  Thu Feb 26 13:48:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 26 13:48:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10462] trunk/harbour
Message-ID: <E1LclHV-00048Y-6s@dn4whf1.ch3.sourceforge.com>

Revision: 10462
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10462&view=rev
Author:   vszakats
Date:     2009-02-26 18:48:17 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------
2009-02-26 19:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
    * Cleaned tool outputs.
    + Added hbmaindllh lib to included liblist.
      (dunno what this serves, but we had it in non-GNU make)
      Do we need this at all?
    + Added support for msvc64 dll name.
    * Some tweak to owatcom, but it's just guessing, it still
      doesn't work.
    + Added generating hbrun-dll executable.

  * source/vm/hvm.c
  * source/vm/mainstd.c
    * Random tweak for owatcom/win dll support without success.
      Best result so far is:
      "Unrecoverable error 9012: Can't locate the starting procedure: 'MAIN'"

  * source/vm/Makefile
    + Added mainddllp generation for msvc, msvc64, bcc32, owatcom.

  * source/vm/maindllp.c
    + Added msvc64 and msvcia64 .dll names.

  * source/vm/extrap.c
    * Minor tweak to use alternate (documented) CPU detection macro.

  * utils/hbmk2/hbmk2.prg
    + Added msvc64 .dll name.
    * Removed automatic addition of hbcommon lib for shared
      mode for win compilers.

  * utils/hbtest/hbtest.hbm
  * utils/hbrun/hbrun.hbm
    + Added make files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/extrap.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/source/vm/mainstd.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/utils/hbrun/hbrun.hbm
    trunk/harbour/utils/hbtest/hbtest.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb 26 13:51:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 26 13:51:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10463] trunk/harbour
Message-ID: <E1LclK7-0004B2-L5@dn4whf1.ch3.sourceforge.com>

Revision: 10463
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10463&view=rev
Author:   vszakats
Date:     2009-02-26 18:51:02 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------
2009-02-26 19:46 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
    * Minor cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb 26 14:31:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 26 14:31:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10464] trunk/harbour
Message-ID: <E1Lclws-0007WQ-0r@3kljzd1.ch3.sourceforge.com>

Revision: 10464
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10464&view=rev
Author:   vszakats
Date:     2009-02-26 19:31:09 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------
2009-02-26 20:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
    + Added hbrun-dll.exe generation for msvc64.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jlcapel2 at gmail.com  Thu Feb 26 15:05:00 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Thu Feb 26 15:05:05 2009
Subject: [Harbour] Error eVc4: ../../hbproces.c(245) : error C2065:
	'STARTF_USESTDHANDLES'
Message-ID: <ab2a7b4c0902261205y688c301ew7bf55506285f55@mail.gmail.com>

Hi,

After updating from svn I got these errors:


../../hbproces.c(245) : error C2065: 'STARTF_USESTDHANDLES' : undeclared
identifier
../../hbproces.c(245) : error C2065: 'STARTF_USESHOWWINDOW' : undeclared
identifier


These are my sets:

rem ; Harbour compile config (for GNU make)
set HB_ARCHITECTURE=win
set HB_COMPILER=msvcce
set HB_VISUALC_VER_PRE80=yes
rem NOTE: these dirs have to exist
set HB_BIN_INSTALL=C:\hbvcce\bin
set HB_LIB_INSTALL=C:\hbvcce\lib
set HB_INC_INSTALL=C:\hbvcce\include
set HB_GT_LIB=gtgui
set HB_USER_CFLAGS=-DHB_MAIN_WIN -DHB_TR_LEVEL_ALWAYS
set SHLVL=


Regards,
Jos? Luis Capel

PS: Seem that I am having problems with mailing list!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/e81f3e56/attachment.html
From abe.buch at att.net  Thu Feb 26 15:18:41 2009
From: abe.buch at att.net (AbeB)
Date: Thu Feb 26 15:18:45 2009
Subject: [Harbour] __MVRESTORE minor change request
In-Reply-To: <20090225173049.GA9471@uran.home.aster.pl>
References: <1235581335489-2384853.post@n2.nabble.com>
	<20090225173049.GA9471@uran.home.aster.pl>
Message-ID: <1235679521824-2391981.post@n2.nabble.com>


Fixed.
Thanks A Lot Przemek.


Przemyslaw Czerpak wrote:
> 
> On Wed, 25 Feb 2009, AbeB wrote:
> 
> Hi,
> 
>> .mem files saved with Foxpro ( DOS)  can't be restored with Harbour.
>> (with
>> Clipper it could).
>> the reason is Foxpro does not add 128 to the Type byte.
>> can __MVRESTORE be changed so it will resore them.
> 
> I'll do that but please send small example of FoxPro.mem file
> here so I can verify it's the only one difference. F.e. result
> of this code:
> 
>    proc main()
>       M->numDbl   := 123.45678
>       M->numInt   := 12345
>       M->dateCurr := date()
>       M->logTrue  := .T.
>       M->logFalse := .F.
>       M->charVal  := "[.mem files test]"
>       M->nilVal   := NIL
>       M->aFirst   := 0
>       M->zLast    := 1
>       SAVE TO _test
>    return
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/__MVRESTORE-minor-change-request-tp2384853p2391981.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From kleyber at tkinformidia.net  Thu Feb 26 09:12:57 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Feb 26 16:04:06 2009
Subject: [Harbour] Overrida / Extend
Message-ID: <04D439B49AC04BE7AC0D82FA61B82257@particular>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 2743 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/5511896d/attachment.jpe
From vouchcac at users.sourceforge.net  Thu Feb 26 16:06:57 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 26 16:07:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10465] trunk/harbour
Message-ID: <E1LcnRZ-0005zH-Gn@74yxhf1.ch3.sourceforge.com>

Revision: 10465
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10465&view=rev
Author:   vouchcac
Date:     2009-02-26 21:06:56 +0000 (Thu, 26 Feb 2009)

Log Message:
-----------
2009-02-25 18:57 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/gtwvg.h
    ! Updated to honor Box Caharcter Changes as in GTWVT by Przemek.
    ! Updated HB_GTI_CLOSABLE and HB_GTI_RESIZABLE behavior as in GTWVT
      by Viktor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kleyber at tkinformidia.net  Thu Feb 26 12:38:38 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Feb 26 16:17:40 2009
Subject: [Harbour] Override / Extend functions
Message-ID: <4FB7482538C148D388AD7ABDF8C821C1@particular>

Hi all,

    My name is Kleyber and this is my first post here. I am considering to migrate from xHarbour to Harbour, and I would like to know if it's possible to have these three commands:

OVERRIDE METHOD <MethodName> ;
       IN CLASS <ClassName> WITH <FunctionName>

EXTEND CLASS <ClassName> WITH DATA <MemberName> [ PERSISTENT ]

EXTEND CLASS <ClassName>    WITH ;
   [ MESSAGE <MessageName>] METHOD <FunctionName>

That exists in xHarbour and are useful to me. Can you considerate this? Or there is other commands in Harbour which do the same thing?

Best regards

Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/76ee684c/attachment-0001.html
From teo at windtelsoft.com  Thu Feb 26 17:03:08 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Feb 26 17:06:34 2009
Subject: [Harbour] Override / Extend functions
In-Reply-To: <4FB7482538C148D388AD7ABDF8C821C1@particular>
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
Message-ID: <200902261603.08971.teo@windtelsoft.com>

On Thursday 26 February 2009 11:38:38 Kleyber Derick wrote:
> Hi all,
>
>     My name is Kleyber and this is my first post here. I am considering to
> migrate from xHarbour to Harbour, and I would like to know if it's possible
> to have these three commands:
>
> OVERRIDE METHOD <MethodName> ;
>        IN CLASS <ClassName> WITH <FunctionName>
>
> EXTEND CLASS <ClassName> WITH DATA <MemberName> [ PERSISTENT ]
>
> EXTEND CLASS <ClassName>    WITH ;
>    [ MESSAGE <MessageName>] METHOD <FunctionName>
>
> That exists in xHarbour and are useful to me. Can you considerate this? Or
> there is other commands in Harbour which do the same thing?

Hello Kleyber,

I had exactly the same need time ago when I migrate some apps from xHarbour to 
Harbour (about 2 years ago).

In fact, recently a thread in this NG dealed with this regard:

[Start Message Referenced]
Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
From: 
Przemyslaw Czerpak <druzus@acn.waw.pl>
  To: 
"Harbour Project Main Developer List." <harbour@harbour-project.org>
  Date: 
2009-02-20 05:22
On Fri, 20 Feb 2009, Enrico Maria Giordano wrote:

Hi,

>> You can subclass the GET() class and create your custom setPosMy() method,
>> or maybe you can even override the original and continue to use the name.
> Can I add my own method to a class without touching the class itself? If 
> yes, how?

Harbour has a feature which can block class modification so such
action can be forbidden by programmer.
Anyhow if class is not locked (core classes isn't) then it's possible.
But you have to be careful because it's possible to create some really
strange results, f.e. when you add some new methods to the class from
which some other classes inherited before and then in object of this
classes you will use super casting.
? ?__clsAddMsg( <hClass>, <cMessage>, <sMthFunction> | <bMthBlock>, <nType>, ;
? ? ? ? ? ? ? ? [xInit], <uiScope> )
f.e.:
? ?__clsAddMsg( getNew():hClass, "MYMSG", @myMethod(), HB_OO_MSG_METHOD,, ;
? ? ? ? ? ? ? ? HB_OO_CLSTP_EXPORTED )

best regards,
Przemek
[End Message Referenced]

>
> Best regards
>
> Kleyber Derick

best regards,

Teo

From mbelgrano at deltain.it  Thu Feb 26 17:44:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Feb 26 17:44:44 2009
Subject: [Harbour] Override / Extend functions
In-Reply-To: <4FB7482538C148D388AD7ABDF8C821C1@particular>
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
Message-ID: <609353e70902261444qd5bd525l5616ef5c16ffe34b@mail.gmail.com>

Are You Welcome!

2009/2/26 Kleyber Derick <kleyber@tkinformidia.net>:
> Hi all,
>
> ??? My name is Kleyber and this is my first post here. I am considering to
> migrate from xHarbour to Harbour, and I would like to know if it's possible
> to have these three commands:
>
> OVERRIDE METHOD <MethodName> ;
> ?????? IN CLASS <ClassName> WITH <FunctionName>
> EXTEND CLASS <ClassName> WITH DATA <MemberName> [ PERSISTENT ]
>
> EXTEND CLASS <ClassName>??? WITH ;
> ?? [ MESSAGE <MessageName>] METHOD <FunctionName>
>
> That exists in xHarbour and are useful to me. Can you considerate this? Or
> there is other commands in Harbour which do the same thing?
>
> Best regards
>
> Kleyber Derick
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From kleyber at tkinformidia.net  Thu Feb 26 18:37:13 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Feb 26 18:38:18 2009
Subject: [Harbour] Override / Extend functions
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
Message-ID: <872A50C08C934F1496E0CF52EAA997C9@particular>

Sorry for posting twice... I was thinking that my list was not receiving emails... thanks.

Kleyber Derick
----- Original Message ----- 
  From: Kleyber Derick 
  To: Harbour List 
  Sent: Thursday, February 26, 2009 2:38 PM
  Subject: [Harbour] Override / Extend functions


  Hi all,

      My name is Kleyber and this is my first post here. I am considering to migrate from xHarbour to Harbour, and I would like to know if it's possible to have these three commands:

  OVERRIDE METHOD <MethodName> ;
         IN CLASS <ClassName> WITH <FunctionName>

  EXTEND CLASS <ClassName> WITH DATA <MemberName> [ PERSISTENT ]

  EXTEND CLASS <ClassName>    WITH ;
     [ MESSAGE <MessageName>] METHOD <FunctionName>

  That exists in xHarbour and are useful to me. Can you considerate this? Or there is other commands in Harbour which do the same thing?

  Best regards

  Kleyber Derick



------------------------------------------------------------------------------


  _______________________________________________
  Harbour mailing list
  Harbour@harbour-project.org
  http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090226/e9b3246e/attachment.html
From kleyber at tkinformidia.net  Thu Feb 26 18:45:28 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Feb 26 18:45:40 2009
Subject: [Harbour] Override / Extend functions
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
	<200902261603.08971.teo@windtelsoft.com>
Message-ID: <407DA6DB49B7474EB920FD769D79DBDE@particular>

Thanks a lot, Teo. I am not accostumized with this new feature so, I have to 
test it in my apps. In fact, I override some methods from FWH' methods only, 
changing to my own functions.

Best Regards,

Kleyber Derick
----- Original Message ----- 
From: "Teo Fonrouge" <teo@windtelsoft.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, February 26, 2009 7:03 PM
Subject: Re: [Harbour] Override / Extend functions


On Thursday 26 February 2009 11:38:38 Kleyber Derick wrote:
> Hi all,
>
>     My name is Kleyber and this is my first post here. I am considering to
> migrate from xHarbour to Harbour, and I would like to know if it's 
> possible
> to have these three commands:
>
> OVERRIDE METHOD <MethodName> ;
>        IN CLASS <ClassName> WITH <FunctionName>
>
> EXTEND CLASS <ClassName> WITH DATA <MemberName> [ PERSISTENT ]
>
> EXTEND CLASS <ClassName>    WITH ;
>    [ MESSAGE <MessageName>] METHOD <FunctionName>
>
> That exists in xHarbour and are useful to me. Can you considerate this? Or
> there is other commands in Harbour which do the same thing?

Hello Kleyber,

I had exactly the same need time ago when I migrate some apps from xHarbour 
to
Harbour (about 2 years ago).

In fact, recently a thread in this NG dealed with this regard:

[Start Message Referenced]
Re: [Harbour] TGet: setting cursor position to ::nMaxLen + 1
From:
Przemyslaw Czerpak <druzus@acn.waw.pl>
  To:
"Harbour Project Main Developer List." <harbour@harbour-project.org>
  Date:
2009-02-20 05:22
On Fri, 20 Feb 2009, Enrico Maria Giordano wrote:

Hi,

>> You can subclass the GET() class and create your custom setPosMy() 
>> method,
>> or maybe you can even override the original and continue to use the name.
> Can I add my own method to a class without touching the class itself? If
> yes, how?

Harbour has a feature which can block class modification so such
action can be forbidden by programmer.
Anyhow if class is not locked (core classes isn't) then it's possible.
But you have to be careful because it's possible to create some really
strange results, f.e. when you add some new methods to the class from
which some other classes inherited before and then in object of this
classes you will use super casting.
__clsAddMsg( <hClass>, <cMessage>, <sMthFunction> | <bMthBlock>, <nType>, ;
[xInit], <uiScope> )
f.e.:
__clsAddMsg( getNew():hClass, "MYMSG", @myMethod(), HB_OO_MSG_METHOD,, ;
HB_OO_CLSTP_EXPORTED )

best regards,
Przemek
[End Message Referenced]

>
> Best regards
>
> Kleyber Derick

best regards,

Teo

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour 

From kleyber at tkinformidia.net  Thu Feb 26 18:46:30 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Feb 26 18:46:41 2009
Subject: [Harbour] Override / Extend functions
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
	<609353e70902261444qd5bd525l5616ef5c16ffe34b@mail.gmail.com>
Message-ID: <A9974104F8964ADEA5249ECDD42463A1@particular>

Thanks, Massimo.

Kleyber Derick

----- Original Message ----- 
From: "Massimo Belgrano" <mbelgrano@deltain.it>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, February 26, 2009 7:44 PM
Subject: Re: [Harbour] Override / Extend functions


Are You Welcome!

2009/2/26 Kleyber Derick <kleyber@tkinformidia.net>:
> Hi all,
>
> My name is Kleyber and this is my first post here. I am considering to
> migrate from xHarbour to Harbour, and I would like to know if it's 
> possible
> to have these three commands:
>
> OVERRIDE METHOD <MethodName> ;
> IN CLASS <ClassName> WITH <FunctionName>
> EXTEND CLASS <ClassName> WITH DATA <MemberName> [ PERSISTENT ]
>
> EXTEND CLASS <ClassName> WITH ;
> [ MESSAGE <MessageName>] METHOD <FunctionName>
>
> That exists in xHarbour and are useful to me. Can you considerate this? Or
> there is other commands in Harbour which do the same thing?
>
> Best regards
>
> Kleyber Derick
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour 

From vouchcac at users.sourceforge.net  Thu Feb 26 19:13:29 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 26 19:13:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10466] trunk/harbour
Message-ID: <E1LcqM5-00040W-0c@dn4whf1.ch3.sourceforge.com>

Revision: 10466
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10466&view=rev
Author:   vouchcac
Date:     2009-02-27 00:13:28 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-26 16:10 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
    ! Some refinements is setting Window's style through 
      SetWindowLong(Ptr)().

  * harbour/contrib/gtwvg/wvgwin.c
    % Removed some test code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Thu Feb 26 19:07:33 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Feb 26 19:16:20 2009
Subject: [Harbour] Override / Extend functions
In-Reply-To: <407DA6DB49B7474EB920FD769D79DBDE@particular>
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
	<200902261603.08971.teo@windtelsoft.com>
	<407DA6DB49B7474EB920FD769D79DBDE@particular>
Message-ID: <200902261807.33437.teo@windtelsoft.com>

On Thursday 26 February 2009 17:45:28 Kleyber Derick wrote:
> Thanks a lot, Teo. I am not accostumized with this new feature so, I have
> to test it in my apps. In fact, I override some methods from FWH' methods
> only, changing to my own functions.

If you get stuck on something we'll be glad to help you.

BTW: If it is ok with you, can you share with us the main reasons for your 
migration from xHarbour ?



best regards,

Teo
From kleyber at tkinformidia.net  Thu Feb 26 19:31:17 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Feb 26 19:31:29 2009
Subject: [Harbour] Override / Extend functions
References: <4FB7482538C148D388AD7ABDF8C821C1@particular><200902261603.08971.teo@windtelsoft.com><407DA6DB49B7474EB920FD769D79DBDE@particular>
	<200902261807.33437.teo@windtelsoft.com>
Message-ID: <A9CDC3992C0249AEA9300E7FED9F6D2C@particular>

Yes, for sure! Well, in fact I use xHarbour 1.1.0 from February 2008 (that 
came with my version of FWH) and I don`t have problems at all with this. But 
considering that xHarbour was created to be with more extensions than 
Harbour, I was waiting for new releases, but what I can see is some buggy 
versions without solution (until now). OTOH I`ve been looking for the 
progress of Harbour and after seeing a friend of mine' apps running with 
Harbour and all the news and updates, I decided moving from xHarbour to 
Harbour.
Now I am moving from BCC compiler to VC compiler (I am testing VC Express). 
I am very surprised with my frist results. So, I can see that I am in the 
right way.

Best regards,
Kleyber Derick

----- Original Message ----- 
From: "Teo Fonrouge" <teo@windtelsoft.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, February 26, 2009 9:07 PM
Subject: Re: [Harbour] Override / Extend functions


> On Thursday 26 February 2009 17:45:28 Kleyber Derick wrote:
>> Thanks a lot, Teo. I am not accostumized with this new feature so, I have
>> to test it in my apps. In fact, I override some methods from FWH' methods
>> only, changing to my own functions.
>
> If you get stuck on something we'll be glad to help you.
>
> BTW: If it is ok with you, can you share with us the main reasons for your
> migration from xHarbour ?
>
>
>
> best regards,
>
> Teo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From teo at windtelsoft.com  Thu Feb 26 20:23:55 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Feb 26 20:26:06 2009
Subject: [Harbour] Override / Extend functions
In-Reply-To: <A9CDC3992C0249AEA9300E7FED9F6D2C@particular>
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
	<200902261807.33437.teo@windtelsoft.com>
	<A9CDC3992C0249AEA9300E7FED9F6D2C@particular>
Message-ID: <200902261923.55910.teo@windtelsoft.com>

On Thursday 26 February 2009 18:31:17 Kleyber Derick wrote:
> Yes, for sure! Well, in fact I use xHarbour 1.1.0 from February 2008 (that
> came with my version of FWH) and I don`t have problems at all with this.
> But considering that xHarbour was created to be with more extensions than
> Harbour, I was waiting for new releases, but what I can see is some buggy
> versions without solution (until now). OTOH I`ve been looking for the
> progress of Harbour and after seeing a friend of mine' apps running with
> Harbour and all the news and updates, I decided moving from xHarbour to
> Harbour.
> Now I am moving from BCC compiler to VC compiler (I am testing VC Express).
> I am very surprised with my frist results. So, I can see that I am in the
> right way.
>
> Best regards,
> Kleyber Derick

Thanks for sharing Kleyber.

Please let us know your findings in the migration process.


best regards,

Teo

From harbour.01 at syenar.hu  Thu Feb 26 23:43:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 26 23:43:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10466] trunk/harbour
In-Reply-To: <E1LcqM5-00040W-0c@dn4whf1.ch3.sourceforge.com>
References: <E1LcqM5-00040W-0c@dn4whf1.ch3.sourceforge.com>
Message-ID: <18d502870902262043k68ecb9a3tffcafec8805c70a5@mail.gmail.com>

Hi Pritpal,
You've readded the Windows struct redefinitions which aren't
needed anymore after the last fixes from Przemek.

Did you mean that, or was it by accident?

---
Modified: trunk/harbour/contrib/gtwvg/wvgwin.c
===================================================================
--- trunk/harbour/contrib/gtwvg/wvgwin.c        2009-02-26 21:06:56 UTC (rev
10465)
+++ trunk/harbour/contrib/gtwvg/wvgwin.c        2009-02-27 00:13:28 UTC (rev
10466)
@@ -1601,6 +1601,22 @@
 //
 HB_FUNC( WVG_TREEVIEW_ADDITEM )
 {
+   #ifdef UNICODE
+   typedef struct tagTVINSERTSTRUCTW
+   {
+     HTREEITEM hParent;
+     HTREEITEM hInsertAfter;
+     TV_ITEMW  item;
+   } TVINSERTSTRUCTW, FAR *LPTVINSERTSTRUCTW;
+   #else
+   typedef struct tagTVINSERTSTRUCTA
+   {
+     HTREEITEM hParent;
+     HTREEITEM hInsertAfter;
+     TV_ITEMA  item;
+   } TVINSERTSTRUCTA, FAR *LPTVINSERTSTRUCTA;
+   #endif
+---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/556adce2/attachment.html
From bedipritpal at hotmail.com  Fri Feb 27 01:48:42 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 27 01:48:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10466] trunk/harbour
In-Reply-To: <18d502870902262043k68ecb9a3tffcafec8805c70a5@mail.gmail.com>
References: <E1LcqM5-00040W-0c@dn4whf1.ch3.sourceforge.com>
	<18d502870902262043k68ecb9a3tffcafec8805c70a5@mail.gmail.com>
Message-ID: <22240426.post@talk.nabble.com>


Hi Viktor


Viktor Szak?ts wrote:
> 
> You've readded the Windows struct redefinitions which aren't
> needed anymore after the last fixes from Przemek.
> 
> Did you mean that, or was it by accident?
> 

You are right. Accidently. I will remove in a while.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10466--trunk-harbour-tp22236838p22240426.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Fri Feb 27 01:53:25 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb 27 01:53:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10467] trunk/harbour
Message-ID: <E1Lcwb7-0004KN-HL@dn4whf1.ch3.sourceforge.com>

Revision: 10467
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10467&view=rev
Author:   vouchcac
Date:     2009-02-27 06:53:21 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-26 22:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgwin.c
    ! Removed TREEVIEWITEM structure definition as it is fixed by Przemek.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb 27 02:55:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 02:56:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10467] trunk/harbour
In-Reply-To: <E1Lcwb7-0004KN-HL@dn4whf1.ch3.sourceforge.com>
References: <E1Lcwb7-0004KN-HL@dn4whf1.ch3.sourceforge.com>
Message-ID: <18d502870902262355t5e35fa12y405c9cdcb980cddc@mail.gmail.com>

Thank you!

On Fri, Feb 27, 2009 at 7:53 AM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10467
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10467&view=rev
> Author:   vouchcac
> Date:     2009-02-27 06:53:21 +0000 (Fri, 27 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-26 22:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/gtwvg/wvgwin.c
>    ! Removed TREEVIEWITEM structure definition as it is fixed by Przemek.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/wvgwin.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/59e10c94/attachment.html
From vszakats at users.sourceforge.net  Fri Feb 27 02:56:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 02:56:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10468] trunk/harbour
Message-ID: <E1Lcxa8-0006rK-RJ@c3vjzd1.ch3.sourceforge.com>

Revision: 10468
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10468&view=rev
Author:   vszakats
Date:     2009-02-27 07:56:22 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 08:41 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Now all dirs of input files referred to through .hbm
      make files will be adjusted with the .hbm path as passed 
      on the command line. This allows to use .hbm files without 
      switching to their host dirs:
      'hbmk2 examples/hello/hello.hbm'
      (internal logic also allows to display error messages
      pointing to the exact location where the error
      was detected)
    + Added simple macro substitution engine. Not used yet.
    % Minor optimizations.

  * bin/hb-mkdyn.bat
  * source/vm/Makefile
  * utils/hbmk2/hbmk2.prg
  + config/win/msvcia64.cf
    + Added support for IA64 architecure with MSVC.
      (actual compilation untested as it needs MSVC Team System)

  * bin/hb-mkdyn.bat
    % Now using .hbm files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/source/vm/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/win/msvcia64.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Feb 27 02:58:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 27 02:58:19 2009
Subject: [Harbour] Override / Extend functions
In-Reply-To: <A9CDC3992C0249AEA9300E7FED9F6D2C@particular>
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
	<200902261603.08971.teo@windtelsoft.com>
	<407DA6DB49B7474EB920FD769D79DBDE@particular>
	<200902261807.33437.teo@windtelsoft.com>
	<A9CDC3992C0249AEA9300E7FED9F6D2C@particular>
Message-ID: <609353e70902262358i6dfa8ab3ia0f3dc10d4664fdd@mail.gmail.com>

Harbour in last two year have follow a  choice of reliability and speed and
now you can see result.
Can you explain context of problem that you have resolved  using , OVERRIDE
 ..EXTEND CLASS , Can be found a solution in other way?



2009/2/27 Kleyber Derick <kleyber@tkinformidia.net>

> Yes, for sure! Well, in fact I use xHarbour 1.1.0 from February 2008 (that
> came with my version of FWH) and I don`t have problems at all with this. But
> considering that xHarbour was created to be with more extensions than
> Harbour, I was waiting for new releases, but what I can see is some buggy
> versions without solution (until now). OTOH I`ve been looking for the
> progress of Harbour and after seeing a friend of mine' apps running with
> Harbour and all the news and updates, I decided moving from xHarbour to
> Harbour.
> Now I am moving from BCC compiler to VC compiler (I am testing VC Express).
> I am very surprised with my frist results. So, I can see that I am in the
> right way.
>
> Best regards,
> Kleyber Derick
>
> ----- Original Message ----- From: "Teo Fonrouge" <teo@windtelsoft.com>
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Sent: Thursday, February 26, 2009 9:07 PM
> Subject: Re: [Harbour] Override / Extend functions
>
>
>  On Thursday 26 February 2009 17:45:28 Kleyber Derick wrote:
>>
>>> Thanks a lot, Teo. I am not accostumized with this new feature so, I have
>>> to test it in my apps. In fact, I override some methods from FWH' methods
>>> only, changing to my own functions.
>>>
>>
>> If you get stuck on something we'll be glad to help you.
>>
>> BTW: If it is ok with you, can you share with us the main reasons for your
>> migration from xHarbour ?
>>
>>
>>
>> best regards,
>>
>> Teo
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/a249c653/attachment.html
From M.Horodyski at pzuzycie.com.pl  Fri Feb 27 04:41:28 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb 27 04:41:34 2009
Subject: [Harbour] RE: Raport from build
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F009A1@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Thursday, February 26, 2009 12:35 PM
>To: 'Harbour Project Main Developer List.'
>Subject: RE: Raport from build
>
>>-----Original Message-----
>>From: Horodyski Marek (PZUZ)
>>Sent: Wednesday, February 25, 2009 1:32 PM
>>To: 'Harbour Project Main Developer List.'
>>Subject: RE: Raport from build
>>
>[...]
>>Todays - 2009-02-25 - unchanged.
>>
>
>Todays - 2009-02-26,  raport from naightly zip file :

Raport 2009-06-27, 121 err files :
?[6]????????????????????????????????????????????????????? Find: *.err ????????????????????????????????????????????????????[]??
?    Name    ?  Size   ?  Date  ?Time ?                 Path                  ?    Name    ?  Size   ?  Date  ?Time ?         

?..          ?<UP--DIR>?26-02-09?11:24?c:\harbour                             ?gtgui    err?      712?27-02-09?09:15?c:\harbou?
?arrays   err?      754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gtkbstat err?      685?27-02-09?09:11?c:\harbou?
?arrayshb err?      756?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gtpca    err?      545?27-02-09?09:15?c:\harbou?
?asort    err?      753?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gtstd    err?      545?27-02-09?09:15?c:\harbou?
?classes  err?      756?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gttone   err?      683?27-02-09?09:11?c:\harbou?
?classes  err?      645?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\      ?gtwin    err?      712?27-02-09?09:15?c:\harbou?
?cmdarg   err?      495?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gtwvg    err?      663?27-02-09?09:22?c:\harbou?
?cmdarg   err?      474?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\      ?gtwvt    err?      690?27-02-09?09:15?c:\harbou?
?cmdcheck err?      545?27-02-09?09:11?c:\harbour\source\compiler\win\owatcom\?harbinit err?      847?27-02-09?09:16?c:\harbou?
?codebloc err?      756?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?hashes   err?      854?27-02-09?09:16?c:\harbou?
?console  err?      475?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\     ?hashfunc err?      756?27-02-09?09:16?c:\harbou?
?ctnet    err?      542?27-02-09?09:25?c:\harbour\contrib\hbct\win\owatcom\   ?hbdate   err?      474?27-02-09?09:10?c:\harbou?
?dattime3 err?      476?27-02-09?09:25?c:\harbour\contrib\hbct\win\owatcom\   ?hbffind  err?      475?27-02-09?09:12?c:\harbou?
?dbgtarr  err?       57?27-02-09?09:20?c:\harbour\source\debug\win\owatcom\   ?hbfsapi  err?      475?27-02-09?09:10?c:\harbou?
?dbgthsh  err?       57?27-02-09?09:20?c:\harbour\source\debug\win\owatcom\   ?hbgete   err?      474?27-02-09?09:10?c:\harbou?
?dbgtobj  err?      290?27-02-09?09:20?c:\harbour\source\debug\win\owatcom\   ?hbgtcore err?      645?27-02-09?09:12?c:\harbou?
?dbjoin   err?       56?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\     ?hbi18n1  err?      644?27-02-09?09:12?c:\harbou?
?dblist   err?       56?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\     ?hbinet   err?      638?27-02-09?09:12?c:\harbou?
?dbsort   err?       56?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\     ?hbmlang  err?      475?18-02-09?15:10?c:\harbou?
?dbstrux  err?      114?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\     ?hbmzip   err?      543?27-02-09?09:26?c:\harbou?
?dbtotal  err?       57?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\     ?hbproces err?      476?27-02-09?09:12?c:\harbou?
?dbupdat  err?       57?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\     ?hbver    err?      473?27-02-09?09:10?c:\harbou?
?debug    err?      753?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?hbwince  err?      475?27-02-09?09:10?c:\harbou?
?debugger err?      237?27-02-09?09:20?c:\harbour\source\debug\win\owatcom\   ?hsx      err?      647?27-02-09?09:18?c:\harbou?
?disk     err?      541?27-02-09?09:25?c:\harbour\contrib\hbct\win\owatcom\   ?hvm      err?      751?27-02-09?09:16?c:\harbou?
?diskspac err?      476?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\     ?idle     err?      472?27-02-09?09:12?c:\harbou?
?disksphb err?      476?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\     ?itemapi  err?      755?27-02-09?09:16?c:\harbou?
?dynlibhb err?      497?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?macro    err?      753?27-02-09?09:16?c:\harbou?
?dynlibhb err?      476?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\      ?mainwin  err?      496?27-02-09?09:16?c:\harbou?
?dynsym   err?      754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?mainwin  err?      496?27-02-09?09:16?c:\harbou?
?estack   err?      754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?mainwin  err?      475?27-02-09?09:15?c:\harbou?
?eval     err?      752?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?memvars  err?      755?27-02-09?09:16?c:\harbou?
?evalhb   err?      754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?net      err?      471?27-02-09?09:12?c:\harbou?
?extend   err?      754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?odbc     err?      472?27-02-09?09:27?c:\harbou?
?extrap   err?      495?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?oemansi  err?      475?27-02-09?09:12?c:\harbou?
?extrap   err?      474?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\      ?ole2     err?      573?27-02-09?09:27?c:\harbou?
?filebuf  err?      644?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\     ?pcount   err?      754?27-02-09?09:16?c:\harbou?
?files    err?      473?27-02-09?09:25?c:\harbour\contrib\hbct\win\owatcom\   ?proc     err?      752?27-02-09?09:16?c:\harbou?
?filesys  err?      476?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\     ?pvalue   err?      754?27-02-09?09:16?c:\harbou?
?fm       err?      491?27-02-09?09:16?c:\harbour\source\vm\fm\win\owatcom\   ?runner   err?      754?27-02-09?09:16?c:\harbou?
?fm       err?      491?27-02-09?09:17?c:\harbour\source\vm\fmmt\win\owatcom\ ?seconds  err?      475?27-02-09?09:12?c:\harbou?
?fm       err?      491?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?sendmail err?      232?27-02-09?09:28?c:\harbou?
?fm       err?      470?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\      ?set      err?      751?27-02-09?09:16?c:\harbou?
?fserror  err?      475?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\     ?socket   err?       40?30-01-09?13:42?c:\harbou?
?fstemp   err?      474?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\     ?sqlmix   err?      474?27-02-09?09:31?c:\harbou?
?garbage  err?      755?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?thread   err?      721?27-02-09?09:16?c:\harbou?
?getenvrn err?      476?27-02-09?09:26?c:\harbour\contrib\hbnf\win\owatcom\   ?thread   err?      579?27-02-09?09:15?c:\harbou?
?gtclip   err?      683?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\     ?thtml    err?      504?27-02-09?09:27?c:\harbou
?????????????????????????????????????????????????????????????????????????????????????????????????????????????????? 64068/121 ??
?..                                                                                                   <UP--DIR> 26-02-09 11:24?
?                                                    - No Long File Name -                                                    ?
?c:\harbour                                                                                                                   ?
?[ A C D K N * ? # : ]?????????????????????????????????????????????????????????????????????????????????????????????????????????
C:\harbour>                                                                                                                     



I have all library, but when I try build demowvg (after install) I see this :


c:\harbour\contrib\gtwvg\tests>hbmk.bat demowvg
Harbour Make 1.1.0dev (Rev. 10353)
Copyright (c) 1999-2009, Viktor Szakats
http://www.harbour-project.org/

hbmk: Using Harbour: c:\harbour\bin\..\bin c:\harbour\bin\..\include c:\harbour\bin\..\lib
hbmk: Processing: gtwvg.hbp
Open Watcom Linker Version 1.8
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
loading object files
Warning! W1027: file .\hbmkgt$vzk0pk.obj(c:\harbour\contrib\gtwvg\tests\hbmkgt$vzk0pk.c): redefinition of HB_FUN_HB_GTSYS_ ignor
ed
searching libraries
Warning! W1008: cannot open gtwvg.lib : No such file or directory
Warning! W1008: cannot open hbwin.lib : No such file or directory

...

Error! E2028: HB_FUN_WVGLISTBOX_ is an undefined reference
Error! E2028: HB_FUN_WVGTREEVIEW_ is an undefined reference
Error! E2028: HB_FUN_WVGTOOLBAR_ is an undefined reference
Error! E2028: HB_FUN_WVGACTIVEXCONTROL_ is an undefined reference
Error! E2028: HB_FUN_HB_GT_WVG_DEFAULT_ is an undefined reference
Error! E2028: HB_FUN_HB_GT_WGU_ is an undefined reference
creating a Windows NT character-mode executable
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SETGUI_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SETMOUSEMOVE_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SETFONT_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SHOWWINDOW_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SETPOPUPMENU_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SETMOUSEPOS_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SETICON_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SETTITLE_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_DRAWLABEL_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_DRAWBOXRAISED_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_DRAWBOXRECESSED_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_DRAWBOXGROUP_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_DRAWIMAGE_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_DRAWLINE_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_DRAWBOXGET_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_DRAWBUTTON_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SETMENU_
file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined symbol HB_FUN_WVT_SETMENUKEYEVENT_

What I make wrong ?

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Fri Feb 27 04:45:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 04:45:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10469] trunk/harbour
Message-ID: <E1LczHS-0008GO-4w@dn4whf1.ch3.sourceforge.com>

Revision: 10469
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10469&view=rev
Author:   vszakats
Date:     2009-02-27 09:45:17 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 10:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * make_gnu.bat
    + Added --install-with-dll option. This will build
      and install Harbour with .dlls. Some examples:
      --- for msvc:
      call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
      set PATH=C:\devl\make-3.81;%PATH%
      set HB_INSTALL_PREFIX=C:\devl\hbvc-1.1
      call make_gnu.bat --install-with-dll > out.txt 2>&1
      ---
      --- for bcc32:
      set PATH=C:\devl\bcc55\bin;%PATH%
      set PATH=C:\devl\make-3.81;%PATH%
      set HB_COMPILER=bcc32
      set HB_INSTALL_PREFIX=C:\devl\hbb32-1.1
      call make_gnu.bat --install-with-dll > out.txt 2>&1
      ---

  * make_gnu.bat
  * make_gnu_os2.cmd
    + Will now automatically create the install destination dirs.

    ; TODO: Could someone please add this feature to make_gnu.sh?

  * bin/postinst.bat
  * bin/hb-mkdyn.bat
    * Moved building dll flavoured executables to postinst,
      so they will be rebuilt even if HB_DLL!=yes but .dlls
      are available.

  * contrib/Makefile
    + Added support for option: HB_CONTRIBLIBS=no.
      This will disable building any Harbour contribs.
      (no need to resort to hacks here anymore)

  * utils/hbmk2/hbmk2.prg
    * Minor on help screen.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/Makefile
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu_os2.cmd
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb 27 04:51:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 04:51:20 2009
Subject: [Harbour] RE: Raport from build
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F009A1@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F009A1@PINK.zycie.pzu>
Message-ID: <18d502870902270151x4378e9d2m7f61133641eac855@mail.gmail.com>

Hi Marek,
You seem to be using an older version of hbmk.

Maybe you forgot to do 'make install'. Do it first
then try this in contrib/gtwvg/tests dir:

..\..\..\bin\hbmk2 demowvg.prg

Brgds,
Viktor

2009/2/27 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

> >-----Original Message-----
> >From: Horodyski Marek (PZUZ)
> >Sent: Thursday, February 26, 2009 12:35 PM
> >To: 'Harbour Project Main Developer List.'
> >Subject: RE: Raport from build
> >
> >>-----Original Message-----
> >>From: Horodyski Marek (PZUZ)
> >>Sent: Wednesday, February 25, 2009 1:32 PM
> >>To: 'Harbour Project Main Developer List.'
> >>Subject: RE: Raport from build
> >>
> >[...]
> >>Todays - 2009-02-25 - unchanged.
> >>
> >
> >Todays - 2009-02-26,  raport from naightly zip file :
>
> Raport 2009-06-27, 121 err files :
> ?[6]????????????????????????????????????????????????????? Find: *.err
> ????????????????????????????????????????????????????[ ]??
> ?    Name    ?  Size   ?  Date  ?Time ?                 Path
>    ?    Name    ?  Size   ?  Date  ?Time ?
> ?..          ?<UP--DIR>?26-02-09?11:24?c:\harbour
>   ?gtgui    err?      712?27-02-09?09:15?c:\harbou?
> ?arrays   err?
>  754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gtkbstat err?
>    685?27-02-09?09:11?c:\harbou?
> ?arrayshb err?
>  756?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gtpca    err?
>    545?27-02-09?09:15?c:\harbou?
> ?asort    err?
>  753?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gtstd    err?
>    545?27-02-09?09:15?c:\harbou?
> ?classes  err?
>  756?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gttone   err?
>    683?27-02-09?09:11?c:\harbou?
> ?classes  err?      645?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\
>    ?gtwin    err?      712?27-02-09?09:15?c:\harbou?
> ?cmdarg   err?
>  495?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?gtwvg    err?
>    663?27-02-09?09:22?c:\harbou?
> ?cmdarg   err?      474?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\
>    ?gtwvt    err?      690?27-02-09?09:15?c:\harbou?
> ?cmdcheck err?
>  545?27-02-09?09:11?c:\harbour\source\compiler\win\owatcom\?harbinit err?
>    847?27-02-09?09:16?c:\harbou?
> ?codebloc err?
>  756?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?hashes   err?
>    854?27-02-09?09:16?c:\harbou?
> ?console  err?      475?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\
>   ?hashfunc err?      756?27-02-09?09:16?c:\harbou?
> ?ctnet    err?      542?27-02-09?09:25?c:\harbour\contrib\hbct\win\owatcom\
>   ?hbdate   err?      474?27-02-09?09:10?c:\harbou?
> ?dattime3 err?      476?27-02-09?09:25?c:\harbour\contrib\hbct\win\owatcom\
>   ?hbffind  err?      475?27-02-09?09:12?c:\harbou?
> ?dbgtarr  err?       57?27-02-09?09:20?c:\harbour\source\debug\win\owatcom\
>   ?hbfsapi  err?      475?27-02-09?09:10?c:\harbou?
> ?dbgthsh  err?       57?27-02-09?09:20?c:\harbour\source\debug\win\owatcom\
>   ?hbgete   err?      474?27-02-09?09:10?c:\harbou?
> ?dbgtobj  err?      290?27-02-09?09:20?c:\harbour\source\debug\win\owatcom\
>   ?hbgtcore err?      645?27-02-09?09:12?c:\harbou?
> ?dbjoin   err?       56?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\
>   ?hbi18n1  err?      644?27-02-09?09:12?c:\harbou?
> ?dblist   err?       56?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\
>   ?hbinet   err?      638?27-02-09?09:12?c:\harbou?
> ?dbsort   err?       56?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\
>   ?hbmlang  err?      475?18-02-09?15:10?c:\harbou?
> ?dbstrux  err?      114?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\
>   ?hbmzip   err?      543?27-02-09?09:26?c:\harbou?
> ?dbtotal  err?       57?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\
>   ?hbproces err?      476?27-02-09?09:12?c:\harbou?
> ?dbupdat  err?       57?27-02-09?09:18?c:\harbour\source\rdd\win\owatcom\
>   ?hbver    err?      473?27-02-09?09:10?c:\harbou?
> ?debug    err?
>  753?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?hbwince  err?
>    475?27-02-09?09:10?c:\harbou?
> ?debugger err?      237?27-02-09?09:20?c:\harbour\source\debug\win\owatcom\
>   ?hsx      err?      647?27-02-09?09:18?c:\harbou?
> ?disk     err?      541?27-02-09?09:25?c:\harbour\contrib\hbct\win\owatcom\
>   ?hvm      err?      751?27-02-09?09:16?c:\harbou?
> ?diskspac err?      476?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\
>   ?idle     err?      472?27-02-09?09:12?c:\harbou?
> ?disksphb err?      476?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\
>   ?itemapi  err?      755?27-02-09?09:16?c:\harbou?
> ?dynlibhb err?
>  497?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?macro    err?
>    753?27-02-09?09:16?c:\harbou?
> ?dynlibhb err?      476?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\
>    ?mainwin  err?      496?27-02-09?09:16?c:\harbou?
> ?dynsym   err?
>  754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?mainwin  err?
>    496?27-02-09?09:16?c:\harbou?
> ?estack   err?
>  754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?mainwin  err?
>    475?27-02-09?09:15?c:\harbou?
> ?eval     err?
>  752?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?memvars  err?
>    755?27-02-09?09:16?c:\harbou?
> ?evalhb   err?
>  754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?net      err?
>    471?27-02-09?09:12?c:\harbou?
> ?extend   err?
>  754?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?odbc     err?
>    472?27-02-09?09:27?c:\harbou?
> ?extrap   err?
>  495?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?oemansi  err?
>    475?27-02-09?09:12?c:\harbou?
> ?extrap   err?      474?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\
>    ?ole2     err?      573?27-02-09?09:27?c:\harbou?
> ?filebuf  err?      644?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\
>   ?pcount   err?      754?27-02-09?09:16?c:\harbou?
> ?files    err?      473?27-02-09?09:25?c:\harbour\contrib\hbct\win\owatcom\
>   ?proc     err?      752?27-02-09?09:16?c:\harbou?
> ?filesys  err?      476?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\
>   ?pvalue   err?      754?27-02-09?09:16?c:\harbou?
> ?fm       err?      491?27-02-09?09:16?c:\harbour\source\vm\fm\win\owatcom\
>   ?runner   err?      754?27-02-09?09:16?c:\harbou?
> ?fm       err?
>  491?27-02-09?09:17?c:\harbour\source\vm\fmmt\win\owatcom\ ?seconds  err?
>    475?27-02-09?09:12?c:\harbou?
> ?fm       err?
>  491?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?sendmail err?
>    232?27-02-09?09:28?c:\harbou?
> ?fm       err?      470?27-02-09?09:15?c:\harbour\source\vm\win\owatcom\
>    ?set      err?      751?27-02-09?09:16?c:\harbou?
> ?fserror  err?      475?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\
>   ?socket   err?       40?30-01-09?13:42?c:\harbou?
> ?fstemp   err?      474?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\
>   ?sqlmix   err?      474?27-02-09?09:31?c:\harbou?
> ?garbage  err?
>  755?27-02-09?09:16?c:\harbour\source\vm\vmmt\win\owatcom\ ?thread   err?
>    721?27-02-09?09:16?c:\harbou?
> ?getenvrn err?      476?27-02-09?09:26?c:\harbour\contrib\hbnf\win\owatcom\
>   ?thread   err?      579?27-02-09?09:15?c:\harbou?
> ?gtclip   err?      683?27-02-09?09:11?c:\harbour\source\rtl\win\owatcom\
>   ?thtml    err?      504?27-02-09?09:27?c:\harbou
> ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????
> 64068/121 ??
> ?..
>                           <UP--DIR> 26-02-09 11:24?
> ?                                                    - No Long File Name -
>                                                    ?
> ?c:\harbour
>                                                   ?
> ?[ A C D K N * ? # :
> ]?????????????????????????????????????????????????????????????????????????????????????????????????????????
> C:\harbour>
>
>
>
> I have all library, but when I try build demowvg (after install) I see this
> :
>
>
> c:\harbour\contrib\gtwvg\tests>hbmk.bat demowvg
> Harbour Make 1.1.0dev (Rev. 10353)
> Copyright (c) 1999-2009, Viktor Szakats
> http://www.harbour-project.org/
>
> hbmk: Using Harbour: c:\harbour\bin\..\bin c:\harbour\bin\..\include
> c:\harbour\bin\..\lib
> hbmk: Processing: gtwvg.hbp
> Open Watcom Linker Version 1.8
> Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
> Source code is available under the Sybase Open Watcom Public License.
> See http://www.openwatcom.org/ for details.
> loading object files
> Warning! W1027: file
> .\hbmkgt$vzk0pk.obj(c:\harbour\contrib\gtwvg\tests\hbmkgt$vzk0pk.c):
> redefinition of HB_FUN_HB_GTSYS_ ignor
> ed
> searching libraries
> Warning! W1008: cannot open gtwvg.lib : No such file or directory
> Warning! W1008: cannot open hbwin.lib : No such file or directory
>
> ...
>
> Error! E2028: HB_FUN_WVGLISTBOX_ is an undefined reference
> Error! E2028: HB_FUN_WVGTREEVIEW_ is an undefined reference
> Error! E2028: HB_FUN_WVGTOOLBAR_ is an undefined reference
> Error! E2028: HB_FUN_WVGACTIVEXCONTROL_ is an undefined reference
> Error! E2028: HB_FUN_HB_GT_WVG_DEFAULT_ is an undefined reference
> Error! E2028: HB_FUN_HB_GT_WGU_ is an undefined reference
> creating a Windows NT character-mode executable
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SETGUI_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SETMOUSEMOVE_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SETFONT_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SHOWWINDOW_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SETPOPUPMENU_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SETMOUSEPOS_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SETICON_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SETTITLE_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_DRAWLABEL_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_DRAWBOXRAISED_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_DRAWBOXRECESSED_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_DRAWBOXGROUP_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_DRAWIMAGE_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_DRAWLINE_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_DRAWBOXGET_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_DRAWBUTTON_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SETMENU_
> file demowvg.obj(c:\harbour\contrib\gtwvg\tests\demowvg.c): undefined
> symbol HB_FUN_WVT_SETMENUKEYEVENT_
>
> What I make wrong ?
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/1930734d/attachment-0001.html
From vszakats at users.sourceforge.net  Fri Feb 27 05:52:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 05:52:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10470] trunk/harbour
Message-ID: <E1Ld0K5-0001Sw-VT@dn4whf1.ch3.sourceforge.com>

Revision: 10470
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10470&view=rev
Author:   vszakats
Date:     2009-02-27 10:52:05 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 11:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.bat
  * make_gnu.bat
  * config/win/global.cf
    * Renamed HB_DLL to HB_BUILD_DLL, which makes this GNU make 
      setting compatible with old non-GNU make.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/win/global.cf
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 27 06:18:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 06:18:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10471] trunk/harbour
Message-ID: <E1Ld0jU-0006HS-6w@d5vjzd1.ch3.sourceforge.com>

Revision: 10471
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10471&view=rev
Author:   vszakats
Date:     2009-02-27 11:18:19 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 12:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_gnu.bat
    + Made them accept HB_BUILD_DLL=yes.
    ! Some typos.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Feb 27 06:32:49 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb 27 06:32:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10472] trunk/harbour
Message-ID: <E1Ld0xV-00039b-0a@c3vjzd1.ch3.sourceforge.com>

Revision: 10472
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10472&view=rev
Author:   druzus
Date:     2009-02-27 11:32:48 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 12:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/postinst.sh
    ! fixed hb-mkslib link. Please test this version in MSys.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Fri Feb 27 06:46:38 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Feb 27 06:43:39 2009
Subject: [Harbour] Override / Extend functions
In-Reply-To: <4FB7482538C148D388AD7ABDF8C821C1@particular>
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
Message-ID: <ehkfq4dq5sl27cjbbolcno80jno1ren0rs@4ax.com>

>    My name is Kleyber

Hi Kleyber,

Glad to see you here.

Toninho.


		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor opo para voc! 
Experimente j e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
 

From kleyber at tkinformidia.net  Fri Feb 27 06:45:21 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Fri Feb 27 06:45:37 2009
Subject: [Harbour] Override / Extend functions
References: <4FB7482538C148D388AD7ABDF8C821C1@particular><200902261603.08971.teo@windtelsoft.com><407DA6DB49B7474EB920FD769D79DBDE@particular><200902261807.33437.teo@windtelsoft.com><A9CDC3992C0249AEA9300E7FED9F6D2C@particular>
	<609353e70902262358i6dfa8ab3ia0f3dc10d4664fdd@mail.gmail.com>
Message-ID: <E48CEDE4D6884C7480CAD5A342BBED5C@particular>

Massimo,

>Harbour in last two year have follow a  choice of reliability and speed and now you can see result.Can you explain >context of problem that you have resolved  using , OVERRIDE  ..EXTEND CLASS , Can be found a solution in >other way?

Well, I have some FWH classes which I have changed in order to work in all my apps. So when a new FWH release is come, I don`t have to change the original class and neither to put the new prg with the changed class in my app, I just use OVERRIDE or EXTEND CLASS in my own prg and all is solved.

Anyway, Teo has showed me a way to change it to a function in Harbour, I will test it and give you a feedback. If you have another suggestion, will be welcome too.

Best Regards,

Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/275dce76/attachment.html
From kleyber at tkinformidia.net  Fri Feb 27 06:47:19 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Fri Feb 27 06:47:32 2009
Subject: [Harbour] Override / Extend functions
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
	<ehkfq4dq5sl27cjbbolcno80jno1ren0rs@4ax.com>
Message-ID: <D3EE13EFF70942458678336F4210BC7C@particular>

Hi Toninho,

Thank you!!!!

Kleyber Derick

----- Original Message ----- 
From: "Toninho@fwi" <toninhofwi@yahoo.com.br>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, February 27, 2009 8:46 AM
Subject: Re: [Harbour] Override / Extend functions


>    My name is Kleyber

Hi Kleyber,

Glad to see you here.

Toninho.



_______________________________________________________
Yahoo! Mail - Sempre a melhor op??o para voc?!
Experimente j? e veja as novidades.
http://br.yahoo.com/mailbeta/tudonovo/


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour 

From vszakats at users.sourceforge.net  Fri Feb 27 06:54:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 06:54:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10473] trunk/harbour
Message-ID: <E1Ld1ID-0002sj-CC@3kljzd1.ch3.sourceforge.com>

Revision: 10473
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10473&view=rev
Author:   vszakats
Date:     2009-02-27 11:54:12 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 12:52 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_b32.bat
  * make_vc.bat
  * make_gcc.sh
    * Redirected old "non-GNU" build starters to the mainstream 
      Harbour GNU Make system, with some measures to keep 
      compatibility. It's not 100% compatible, but the most 
      important settings and aspects should be similar.
      It's recommended for everyone to switch using the GNU
      make system natively, as the non-GNU one will be removed
      in the future, the old way is now legacy and not supported.

  * INSTALL
  * make_gnu.bat
    + Added some more information.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/make_b32.bat
    trunk/harbour/make_gcc.sh
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_vc.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Feb 27 07:21:41 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 07:21:47 2009
Subject: [Harbour] Make
Message-ID: <BAD185F6CDA24E3A965BE8D157D9F359@emag>

> rem ATTENTION: For this to work, you will need the GNU make.exe
> rem            (MinGW build is fine) in your PATH _before_ the
> rem            compiler tools.

Can you point me to an address from where I can download GNU make.exe?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From e.m.giordano at emagsoftware.it  Fri Feb 27 07:25:16 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 07:25:21 2009
Subject: [Harbour] Install
Message-ID: <23C808F173144A8CA1ACA0E89CD3A6A5@emag>

> make_gnu.bat install

What does install option exactly do?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From lostmyhearttoher at gmail.com  Fri Feb 27 07:25:29 2009
From: lostmyhearttoher at gmail.com (Lost)
Date: Fri Feb 27 07:25:34 2009
Subject: [Harbour] Make
In-Reply-To: <BAD185F6CDA24E3A965BE8D157D9F359@emag>
References: <BAD185F6CDA24E3A965BE8D157D9F359@emag>
Message-ID: <402ac8b70902270425s24cd0afbkabe33aca0003b643@mail.gmail.com>

El 2009/2/27 Enrico Maria Giordano <e.m.giordano@emagsoftware.it> escribi?:

> Can you point me to an address from where I can download GNU make.exe?
>
> EMG

http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=23918

Brgds,

-- 
Pablo S?nchez

Linux Registered User #417589
From e.m.giordano at emagsoftware.it  Fri Feb 27 07:33:27 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 07:33:32 2009
Subject: [Harbour] Make
References: <BAD185F6CDA24E3A965BE8D157D9F359@emag>
	<402ac8b70902270425s24cd0afbkabe33aca0003b643@mail.gmail.com>
Message-ID: <DDF4297479F34C17952C2641EB04690B@emag>


-----Messaggio Originale----- 
Da: "Lost" <lostmyhearttoher@gmail.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 13.25
Oggetto: Re: [Harbour] Make


> http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=23918

Thank you, I got it.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Fri Feb 27 07:34:31 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 07:34:39 2009
Subject: [Harbour] HB_INSTALL_PREFIX
Message-ID: <BE2C2BCF263644B7B44654310A9E175E@emag>

> set HB_INSTALL_PREFIX=<DIR>

What I must put in place of <DIR> exactly?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From harbour.01 at syenar.hu  Fri Feb 27 07:34:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 07:35:04 2009
Subject: [Harbour] Install
In-Reply-To: <23C808F173144A8CA1ACA0E89CD3A6A5@emag>
References: <23C808F173144A8CA1ACA0E89CD3A6A5@emag>
Message-ID: <18d502870902270434r16e1ae27x16c4dbd457c0a0a6@mail.gmail.com>

It copies final files to their destination dirs.
Final files are executables, libraries, headers and
documentation. IOW all components which are
needed for final users to build applications using
Harbour.

These files are generated in their temp dirs inside
the source tree, so before you can use Harbour,
you have to 'install'. This worked the same (but
less cleanly) in the "non-GNU" make systems
also.

Brgds,
Viktor

On Fri, Feb 27, 2009 at 1:25 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

> make_gnu.bat install
>>
>
> What does install option exactly do?
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/41f7160a/attachment.html
From e.m.giordano at emagsoftware.it  Fri Feb 27 07:37:18 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 07:37:24 2009
Subject: [Harbour] Install
References: <23C808F173144A8CA1ACA0E89CD3A6A5@emag>
	<18d502870902270434r16e1ae27x16c4dbd457c0a0a6@mail.gmail.com>
Message-ID: <99E3D10FF2AA44CABA7B462D63CDF43A@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 13.34
Oggetto: Re: [Harbour] Install


> It copies final files to their destination dirs.
> Final files are executables, libraries, headers and
> documentation. IOW all components which are
> needed for final users to build applications using
> Harbour.
>
> These files are generated in their temp dirs inside
> the source tree, so before you can use Harbour,
> you have to 'install'. This worked the same (but
> less cleanly) in the "non-GNU" make systems
> also.

Can I omit install option and make the installation myself?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Feb 27 07:37:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 07:37:52 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <BE2C2BCF263644B7B44654310A9E175E@emag>
References: <BE2C2BCF263644B7B44654310A9E175E@emag>
Message-ID: <18d502870902270437h7914427du1e6e7dcb5e4960b1@mail.gmail.com>

The Harbour tree you want to have your final files installed: C:\harbour

For Harbour development, this may be the same
as your Harbour source root dir (at least that's how
I use to do it for non-production).

Brgds,
Viktor

On Fri, Feb 27, 2009 at 1:34 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

> set HB_INSTALL_PREFIX=<DIR>
>>
>
> What I must put in place of <DIR> exactly?
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/c16ce126/attachment.html
From e.m.giordano at emagsoftware.it  Fri Feb 27 07:42:27 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 07:42:31 2009
Subject: [Harbour] HB_INSTALL_PREFIX
References: <BE2C2BCF263644B7B44654310A9E175E@emag>
	<18d502870902270437h7914427du1e6e7dcb5e4960b1@mail.gmail.com>
Message-ID: <BF02115C9DD143028C7BBEABA14D4176@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 13.37
Oggetto: Re: [Harbour] HB_INSTALL_PREFIX


> The Harbour tree you want to have your final files installed: C:\harbour
>
> For Harbour development, this may be the same
> as your Harbour source root dir (at least that's how
> I use to do it for non-production).

Can it be omitted if the batch is in the harbour sources directory?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Fri Feb 27 07:44:05 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 07:44:11 2009
Subject: [Harbour] Problems
Message-ID: <96DBB6F64892440C9F982ACF13C0A127@emag>

I tried

SET HB_COMPILER=BCC32
set HB_INSTALL_PREFIX=.
make_gnu

and

SET HB_COMPILER=BCC32
set HB_INSTALL_PREFIX="e:\harbour cvs\harbour"
make_gnu

bat make_gnu simply does nothing.

What am I missing?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From lostmyhearttoher at gmail.com  Fri Feb 27 07:44:32 2009
From: lostmyhearttoher at gmail.com (Lost)
Date: Fri Feb 27 07:44:36 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <BE2C2BCF263644B7B44654310A9E175E@emag>
References: <BE2C2BCF263644B7B44654310A9E175E@emag>
Message-ID: <402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com>

El 2009/2/27 Enrico Maria Giordano <e.m.giordano@emagsoftware.it> escribi?:

>> set HB_INSTALL_PREFIX=<DIR>
>
> What I must put in place of <DIR> exactly?

The path where you want to have your final binaries/libraries/headers
installed to, e.g. /devel
For development, I usually use this:

HB_INSTALL_PREFIX="$HOME/hbdevel" && ./make_gnu.sh install

This installs the final files to a directory called "hbdevel" one
level down my home folder.

HTH

-- 
Pablo S?nchez

Linux Registered User #417589
From harbour.01 at syenar.hu  Fri Feb 27 07:58:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 07:58:41 2009
Subject: [Harbour] Install
In-Reply-To: <99E3D10FF2AA44CABA7B462D63CDF43A@emag>
References: <23C808F173144A8CA1ACA0E89CD3A6A5@emag>
	<18d502870902270434r16e1ae27x16c4dbd457c0a0a6@mail.gmail.com>
	<99E3D10FF2AA44CABA7B462D63CDF43A@emag>
Message-ID: <18d502870902270458x1aa42b4ax921144a0630814db@mail.gmail.com>

>
> These files are generated in their temp dirs inside
>> the source tree, so before you can use Harbour,
>> you have to 'install'. This worked the same (but
>> less cleanly) in the "non-GNU" make systems
>> also.
>>
>
> Can I omit install option and make the installation myself?


You can, but I'd recommend installing inside your
source tree then, and copy what you need from there.

My impression is that you confuse 'install' with
regular Windows install thing (sorry if not), GNU make
install is the exact same as "non-GNU" install was,
just the source dirs are slightly different (now libs are
in /lib/<arch>/<comp> instead of /lib/b32|vc|gcc,
binaries are scattered around the tree, instead of
/bin/b32|vc|gcc).

You can further fine-tune bin/lib/include destinations
using envvars below, if that helps:
set HB_BIN_INSTALL=
set HB_LIB_INSTALL=
set HB_INC_INSTALL=

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/46ea71ab/attachment.html
From harbour.01 at syenar.hu  Fri Feb 27 08:02:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 08:02:40 2009
Subject: [Harbour] Problems
In-Reply-To: <96DBB6F64892440C9F982ACF13C0A127@emag>
References: <96DBB6F64892440C9F982ACF13C0A127@emag>
Message-ID: <18d502870902270502j3030a3e7lb9a26fa3b0b42688@mail.gmail.com>

>
> SET HB_COMPILER=BCC32
> set HB_INSTALL_PREFIX=.
> make_gnu
>
> and
>
> SET HB_COMPILER=BCC32
> set HB_INSTALL_PREFIX="e:\harbour cvs\harbour"
> make_gnu
>
> bat make_gnu simply does nothing.
>
> What am I missing?


1) BCC32 -> bcc32
2) Please don't use space in the dirs because it will most
    probably cause problems at some point in the process.

The easiest is to copy/paste from make_b32.bat or
my complete example in the ChangeLog (from few
hours ago).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/3a8c3a95/attachment-0001.html
From M.Horodyski at pzuzycie.com.pl  Fri Feb 27 08:03:11 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb 27 08:03:18 2009
Subject: [Harbour] RE: Raport from build
In-Reply-To: <18d502870902270151x4378e9d2m7f61133641eac855@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00AB2@PINK.zycie.pzu>

 



________________________________

	From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
	Sent: Friday, February 27, 2009 10:51 AM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] RE: Raport from build
	
	
	Hi Marek, 
	
	
	You seem to be using an older version of hbmk.
	
	
	Maybe you forgot to do 'make install'. Do it first 
	then try this in contrib/gtwvg/tests dir:
	
	
	..\..\..\bin\hbmk2 demowvg.prg
	
	
	Brgds,
	Viktor
	 

I have repeated the whole process from scratch, and now I have test applications DEMOWVG.EXE.
After ..\..\..\bin\hbmk2 demowvg and ..\..\..\bin\hbmk2 -gui demowvg.
But DEMOGTWVT don't start. It after run stay as blank screen :(
 
Rgards,
Marek Horodyski
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/0b90bd75/attachment.html
From harbour.01 at syenar.hu  Fri Feb 27 08:11:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 08:11:52 2009
Subject: [Harbour] RE: Raport from build
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00AB2@PINK.zycie.pzu>
References: <18d502870902270151x4378e9d2m7f61133641eac855@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00AB2@PINK.zycie.pzu>
Message-ID: <18d502870902270511l43319e01u4fa08cc32dd380d1@mail.gmail.com>

You need the -n switch also.
Brgds,
Viktor

2009/2/27 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

>
>
>  ------------------------------
> *From:* Viktor Szak?ts [mailto:harbour.01@syenar.hu]
> *Sent:* Friday, February 27, 2009 10:51 AM
> *To:* Harbour Project Main Developer List.
> *Subject:* Re: [Harbour] RE: Raport from build
>
> Hi Marek,
> You seem to be using an older version of hbmk.
>
> Maybe you forgot to do 'make install'. Do it first
> then try this in contrib/gtwvg/tests dir:
>
>  ..\..\..\bin\hbmk2 demowvg.prg
>
> Brgds,
> Viktor
>
>
> I have repeated the whole process from scratch, and now I have test
> applications DEMOWVG.EXE.
> After ..\..\..\bin\hbmk2 demowvg and ..\..\..\bin\hbmk2 -gui demowvg.
> But DEMOGTWVT don't start. It after run stay as blank screen :(
>
> Rgards,
> Marek Horodyski
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/219b7320/attachment.html
From amigosam at adinet.com.uy  Fri Feb 27 08:49:47 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Fri Feb 27 08:55:09 2009
Subject: [Harbour] Re: Raport from build
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00AB2@PINK.zycie.pzu>
References: <18d502870902270151x4378e9d2m7f61133641eac855@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00AB2@PINK.zycie.pzu>
Message-ID: <go8r1s$bjh$1@ger.gmane.org>

Hi Marek

That same dog cached me 2 days ago.
You are missing the -n switch (really nasty).
By the way I suceeded to compile with harbour from svn and vc9, an old 
but still in production clipper application.
I'm using a .bat file like this: (pls note i had to make ONE veeeeery 
long command line)

@rem
@rem $Id: compilar.bat 2009-02-25 01:31:07 Angel Pais $
@rem

SET PATH=C:\vsk\vc\bin;C:\vsk\bin;C:\harbour\bin;
SET LIB=C:\vsk\vc\lib;C:\vsk\lib;C:\harbour\lib;
SET 
INCLUDE=C:\vsk\vc\include;C:\vsk\include;C:\harbour\include;C:\samhbr\include;

set HB_VISUALC_VER=90

hbmk2.exe -n SAMMENU.PRG _PARAMET.PRG LIB\SETTINGS.PRG LIB\AMOTOR.PRG 
LIB\EDITORES.PRG LIB\EDICLR.PRG LIB\ERRORSYS.PRG LIB\EDISAM.PRG 
LIB\ESPERA.PRG LIB\MENUSAM.PRG LIB\SEGURO.PRG LIB\SEMAFORO.PRG 
LIB\TBMOTOR.PRG LIB\UTILSIS.PRG LIB\INIFILE.PRG LIB\EMPRESA.PRG 
LIB\SAMTOOL.PRG LIB\COPIAR.PRG LIB\MENSAJES.PRG LIB\RUIDOS.PRG 
LIB\VDDLVEC.PRG LIB\UTILVEC.PRG LIB\UTILVECD.PRG LIB\SCATGAT.PRG    ... 
it continues with 200 more prgs.

pause

so here goes the question ( to viktor ):

Is it possible to have the prg names in the .hbp file one per line ?
eg:

#
# $Id: gtwvg.hbp 10400 2009-02-21 23:52:08Z vszakats $
#
{win}gt=gtwvg
{win}libs=hbwin
{win}libs=winspool comctl32 comdlg32 shell32 ole32 oleaut32
gui=yes
mt=yes
FILE SAMMENU.PRG
FILE _PARAMET.PRG
FILE LIB\SETTINGS.PRG
FILE LIB\AMOTOR.PRG
FILE LIB\EDITORES.PRG    and so on...

Finally also a personal non cientific observation: the same application 
compiled with vc9 seems a lot faster than with bcc55

Thanks victor for this wonderfull tool your are developping (hbmk2), I 
hope to use exactly the same project syntax in windows and ubuntu 
sometime in the next future.

Regards
Angel Pais



Horodyski Marek (PZUZ) escribi?:
>  
> 
>     ------------------------------------------------------------------------
>     *From:* Viktor Szak?ts
>     [mailto:harbour.01@syenar.hu]
>     *Sent:* Friday, February 27, 2009 10:51 AM
>     *To:* Harbour Project Main Developer List.
>     *Subject:* Re: [Harbour] RE: Raport from build
> 
>     Hi Marek,
> 
>     You seem to be using an older version of hbmk.
> 
>     Maybe you forgot to do 'make install'. Do it first 
>     then try this in contrib/gtwvg/tests dir:
> 
>     ..\..\..\bin\hbmk2 demowvg.prg
> 
>     Brgds,
>     Viktor
>      
> 
> I have repeated the whole process from scratch, and now I have test 
> applications DEMOWVG.EXE.
> After ..\..\..\bin\hbmk2 demowvg and ..\..\..\bin\hbmk2 -gui demowvg.
> But DEMOGTWVT don't start. It after run stay as blank screen :(
>  
> Rgards,
> Marek Horodyski
>  
> 

From harbour.01 at syenar.hu  Fri Feb 27 09:06:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 09:06:47 2009
Subject: [Harbour] hbapollo request for removal
Message-ID: <18d502870902270606q51b349b3rfbc9b2e52befd3f0@mail.gmail.com>

Hi everyone,
I'd like to propose to remove our contrib: hbapollo
(or alternatively, move it to examples)

The reasons:
- It hasn't been updated (besides clean up / maintenance) since 2001.
- The external tool (VistaSoftware's Apollo), hasn't been updated since
2003.
- It only works with BCC on Windows.
- It's a thin wrapper, not an RDD.
- Most features of the external tool are already covered in core.

Please add your opinion.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/dd879562/attachment.html
From mbelgrano at deltain.it  Fri Feb 27 09:10:27 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 27 09:10:31 2009
Subject: [Harbour] Override / Extend functions
In-Reply-To: <E48CEDE4D6884C7480CAD5A342BBED5C@particular>
References: <4FB7482538C148D388AD7ABDF8C821C1@particular>
	<200902261603.08971.teo@windtelsoft.com>
	<407DA6DB49B7474EB920FD769D79DBDE@particular>
	<200902261807.33437.teo@windtelsoft.com>
	<A9CDC3992C0249AEA9300E7FED9F6D2C@particular>
	<609353e70902262358i6dfa8ab3ia0f3dc10d4664fdd@mail.gmail.com>
	<E48CEDE4D6884C7480CAD5A342BBED5C@particular>
Message-ID: <609353e70902270610u651ff8ccva08f647480a955cf@mail.gmail.com>

Any thing of  good for you  will be good for most  fivewinh user
2009/2/27 Kleyber Derick <kleyber@tkinformidia.net>

>  Massimo,
>
> >Harbour in last two year have follow a  choice of reliability and speed
> and now you can see result.Can you explain >context of problem that you have
> resolved  using , OVERRIDE  ..EXTEND CLASS , Can be found a solution in
> >other way?
>
> Well, I have some FWH classes which I have changed in order to work in all
> my apps. So when a new FWH release is come, I don`t have to change the
> original class and neither to put the new prg with the changed class in my
> app, I just use OVERRIDE or EXTEND CLASS in my own prg and all is solved.
>
> Anyway, Teo has showed me a way to change it to a function in Harbour, I
> will test it and give you a feedback. If you have another suggestion, will
> be welcome too.
>
> Best Regards,
>
> Kleyber Derick
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/c298d04a/attachment-0001.html
From harbour.01 at syenar.hu  Fri Feb 27 09:18:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 09:18:31 2009
Subject: [Harbour] Re: Raport from build
In-Reply-To: <go8r1s$bjh$1@ger.gmane.org>
References: <18d502870902270151x4378e9d2m7f61133641eac855@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00AB2@PINK.zycie.pzu>
	<go8r1s$bjh$1@ger.gmane.org>
Message-ID: <18d502870902270618k75fb0d90r835287a343fe786e@mail.gmail.com>

Hi Angel,


> so here goes the question ( to viktor ):
>
> Is it possible to have the prg names in the .hbp file one per line ?
> eg:


.hbp is only meant for generic make parameters.

What you need is an .hbm file. In a .hbm you can use
everything the exact same way as on the command line,
but you can split them into separate lines. Then you can
pass you .hbm name to hbmk2:

--- myprog.hbm
-n
SAMMENU.PRG
_PARAMET.PRG
LIB\SETTINGS.PRG
LIB\AMOTOR.PRG
LIB\EDITORES.PRG
---

And you use this command:
> hbmk2 myprog.hbm

[ You can also pass multiple .hbm files, and you can also use
the common '@' notation: hbmk2 @myprog.hbm ]

For more examples, see these:
- utils/hbtest/hbtest.hbm
- contrib\examples\uhttpd\uhttpd.hbm

Finally also a personal non cientific observation: the same application
> compiled with vc9 seems a lot faster than with bcc55


Good to hear :)


> Thanks victor for this wonderfull tool your are developping (hbmk2), I hope
> to use exactly the same project syntax in windows and ubuntu sometime in the
> next future.


I'm glad you liked hbmk. What you say is the main goal of this tool.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/9dded720/attachment.html
From mbelgrano at deltain.it  Fri Feb 27 09:28:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 27 09:28:16 2009
Subject: [Harbour] Make
In-Reply-To: <402ac8b70902270425s24cd0afbkabe33aca0003b643@mail.gmail.com>
References: <BAD185F6CDA24E3A965BE8D157D9F359@emag>
	<402ac8b70902270425s24cd0afbkabe33aca0003b643@mail.gmail.com>
Message-ID: <609353e70902270628l7507d0cfvf9f6b0b30fd56976@mail.gmail.com>

Can i suggest adding a page for required toolswith a section for win
platform
(will also point to c: compiler)

a section linx,mac
no required tools
a section os2

--------------------------------------------------------
2009/2/27 Lost <lostmyhearttoher@gmail.com>

> El 2009/2/27 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
> escribi?:
>
> > Can you point me to an address from where I can download GNU make.exe?
> >
> > EMG
>
> http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=23918
>
> Brgds,
>
> --
> Pablo S?nchez
>
> Linux Registered User #417589
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/fea36bee/attachment.html
From M.Horodyski at pzuzycie.com.pl  Fri Feb 27 09:32:57 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb 27 09:33:02 2009
Subject: [Harbour] RE: Raport from build
In-Reply-To: <18d502870902270511l43319e01u4fa08cc32dd380d1@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00B3B@PINK.zycie.pzu>

 


________________________________

	From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
	Sent: Friday, February 27, 2009 2:12 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] RE: Raport from build
	
	
	You need the -n switch also. 

	Brgds,
	Viktor
	 

Perfectly work ! :)
 
 
Pritpal, when I close subwindow pushing [X], on console window are :
Cancelled at: INKEY (0)
HBGETLIST:READER (0) in ../../tgetlist.prg
HBGETLIST:READMODAL (0) in ../../tgetlist.prg
READMODAL (0) in ../../getsys.prg
GOOGLEMAP (2332) in demowvg.prg
(b)WVTCONSOLEGETS (319) in demowvg.prg

Regards,
Marek Horodyski
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/76829f5d/attachment.html
From harbour.01 at syenar.hu  Fri Feb 27 09:47:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 09:47:21 2009
Subject: [Harbour] Make
In-Reply-To: <609353e70902270628l7507d0cfvf9f6b0b30fd56976@mail.gmail.com>
References: <BAD185F6CDA24E3A965BE8D157D9F359@emag>
	<402ac8b70902270425s24cd0afbkabe33aca0003b643@mail.gmail.com>
	<609353e70902270628l7507d0cfvf9f6b0b30fd56976@mail.gmail.com>
Message-ID: <18d502870902270647m7db0e516jd36bbb62c9512081@mail.gmail.com>

/INSTALL
Brgds,
Viktor

On Fri, Feb 27, 2009 at 3:28 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Can i suggest adding a page for required toolswith a section for win
> platform
> (will also point to c: compiler)
>
> a section linx,mac
> no required tools
> a section os2
>
> --------------------------------------------------------
> 2009/2/27 Lost <lostmyhearttoher@gmail.com>
>
> El 2009/2/27 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>
>> escribi?:
>>
>> > Can you point me to an address from where I can download GNU make.exe?
>> >
>> > EMG
>>
>>
>> http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=23918
>>
>> Brgds,
>>
>> --
>> Pablo S?nchez
>>
>> Linux Registered User #417589
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/3283d1d8/attachment.html
From vszakats at users.sourceforge.net  Fri Feb 27 09:51:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 09:51:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10474] trunk/harbour
Message-ID: <E1Ld43M-0005UG-Pe@74yxhf1.ch3.sourceforge.com>

Revision: 10474
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10474&view=rev
Author:   vszakats
Date:     2009-02-27 14:51:03 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 15:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added more information.
      (everyone trying to build Harbour from source
      should read this first.)

  * bin/postinst.bat
    + Added option to copy import libs belonging to
      external tools for msvc and bcc32 to HB_LIB_INSTALL.
      This is to keep this debated, but convenient feature
      for the GNU-make world, until we find some better way
      to deal with it. Now it's self contained, detached from
      all important Harbour parts. And most importantly:
      You don't have to use it, if you don't want to.
      Now, if you want, set HB_DIR_IMPLIB to "yes" and
      setup your HB_DIR_* dirs to the roots of the external
      tool dirs, like this (adjust to your environment):
      ---
      set HB_DIR_IMPLIB=yes
      set HB_DIR_ADS=C:\devl\ADS910\ACESDK
      set HB_DIR_ALLEGRO=C:\devl\allegro-4.2.2
      set HB_DIR_APOLLO=C:\devl\Apollo-6.1.0.4
      set HB_DIR_BLAT=C:\devl\blat-2.6.2
      set HB_DIR_CURL=C:\devl\curl-7.19.0
      set HB_DIR_FIREBIRD=C:\devl\Firebird-2.1.1
      set HB_DIR_FREEIMAGE=C:\devl\FreeImage-3.11.0
      set HB_DIR_GD=C:\devl\gd-2.0.34
      set HB_DIR_LIBHARU=C:\devl\libharu-2.1.0
      set HB_DIR_MYSQL=C:\devl\mysql-5.0.67
      set HB_DIR_OPENSSL=C:\devl\openssl-0.9.8j
      set HB_DIR_PGSQL=C:\devl\pgsql-8.3.3
      ---
      (This may be tweaked in the future, so I don't
      guarantee any compatibility for this stuff)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 27 10:06:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 10:06:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10475] trunk/harbour
Message-ID: <E1Ld4I1-0005oV-0W@74yxhf1.ch3.sourceforge.com>

Revision: 10475
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10475&view=rev
Author:   vszakats
Date:     2009-02-27 15:06:12 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 16:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * bin/postinst.bat
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Feb 27 10:21:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 27 10:21:25 2009
Subject: [Harbour] Raport from build
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00B3B@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D9D5@PINK.zycie.pzu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F009A1@PINK.zycie.pzu>
	<18d502870902270151x4378e9d2m7f61133641eac855@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00AB2@PINK.zycie.pzu>
	<18d502870902270511l43319e01u4fa08cc32dd380d1@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00B3B@PINK.zycie.pzu>
Message-ID: <22247930.post@talk.nabble.com>


Marek


Horodyski Marek (PZUZ) wrote:
> 
> Pritpal, when I close subwindow pushing [X], on console window are :
> Cancelled at: INKEY (0)
> HBGETLIST:READER (0) in ../../tgetlist.prg
> HBGETLIST:READMODAL (0) in ../../tgetlist.prg
> READMODAL (0) in ../../getsys.prg
> GOOGLEMAP (2332) in demowvg.prg
> (b)WVTCONSOLEGETS (319) in demowvg.prg
> 

I cannot reproduce this error. Can you jot down exact sequence
of events to reach upto this level.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Raport-from-build-tp22163503p22247930.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Fri Feb 27 10:30:03 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 27 10:30:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10472] trunk/harbour
In-Reply-To: <E1Ld0xV-00039b-0a@c3vjzd1.ch3.sourceforge.com>
References: <E1Ld0xV-00039b-0a@c3vjzd1.ch3.sourceforge.com>
Message-ID: <9257026e0902270730h3a1f9ee6of27502a02f250a5f@mail.gmail.com>

On Fri, Feb 27, 2009 at 12:32 PM,  <druzus@users.sourceforge.net> wrote:

> 2009-02-27 12:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> ?* harbour/bin/postinst.sh
> ? ?! fixed hb-mkslib link. Please test this version in MSys.

Many thanks, it work for me.

best regards,
Lorenzo
From druzus at acn.waw.pl  Fri Feb 27 10:49:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 27 10:43:57 2009
Subject: [Harbour] Override / Extend functions
In-Reply-To: <E48CEDE4D6884C7480CAD5A342BBED5C@particular>
References: <609353e70902262358i6dfa8ab3ia0f3dc10d4664fdd@mail.gmail.com>
	<E48CEDE4D6884C7480CAD5A342BBED5C@particular>
Message-ID: <20090227154925.GA26764@uran.home.aster.pl>

On Fri, 27 Feb 2009, Kleyber Derick wrote:

Hi,

> Well, I have some FWH classes which I have changed in order to work in
> all my apps. So when a new FWH release is come, I don`t have to change
> the original class and neither to put the new prg with the changed class
> in my app, I just use OVERRIDE or EXTEND CLASS in my own prg and all is
> solved.

OVERRIDE / EXTEND CLASS does not have to work in all cases. In some
situations such functionality nay even break class definitions and cause
unpredictable behavior, f.e. it does not change any classes which already
inherited from modified class so accessing instance variables may use wrong
indexes and operate on instance area which belong to other ancestors.
Such things can happen in both compilers: Harbour and xHarbour.

> Anyway, Teo has showed me a way to change it to a function in Harbour,
> I will test it and give you a feedback. If you have another suggestion,
> will be welcome too.

I do not like that people use it because we cannot support functionality
which is broken by definition though I understand that locally it may be
usable in some situations. I do not want to add it to core code as documented
feature because I cannot promise it will work in the same way in the future
when we extend/modify our class code. Keeping it alive may be serious
problem in farther developing. But in contrib/xhb directory we have xHarbour
compatibility library and header (.ch) files which emulate some of xHarbour
features we do not want to add to core code for different reasons. Some of
them also use unsupported and undocumented functionality so I think that
if I add yet another header file xhbcls.ch with PP commands for above nothing
worse will happen. I'll commit it ASAP but please remember that it's
undocumented and unsupported by us functionality.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Feb 27 10:47:26 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb 27 10:47:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10476] trunk/harbour
Message-ID: <E1Ld4vu-0008Fd-DA@3kljzd1.ch3.sourceforge.com>

Revision: 10476
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10476&view=rev
Author:   druzus
Date:     2009-02-27 15:47:25 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 16:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + harbour/contrib/xhb/xhbcls.ch
    + added header file which xHarbour like OVERRIDE / EXTEND CLASS
      definitions.
      Warning: using this functionality may break logical inheritance
               scheme or even some internal class definitions in both
               Harbour and xHarbour compilers. In Harbour it's unsupported
               feature added here only for strict XHB compatibility.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/xhb/xhbcls.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Feb 27 11:31:48 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 11:31:54 2009
Subject: [Harbour] HB_INSTALL_PREFIX
References: <BE2C2BCF263644B7B44654310A9E175E@emag>
	<402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com>
Message-ID: <EF8C00C89E1C4482BD43690ADC6A44CF@emag>


-----Messaggio Originale----- 
Da: "Lost" <lostmyhearttoher@gmail.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 13.44
Oggetto: Re: [Harbour] HB_INSTALL_PREFIX


> > What I must put in place of <DIR> exactly?
>
> The path where you want to have your final binaries/libraries/headers
> installed to, e.g. /devel

Thank you. Now the installation directory is created but the batch still 
doesn't do anything else.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Feb 27 11:35:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 11:35:45 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <EF8C00C89E1C4482BD43690ADC6A44CF@emag>
References: <BE2C2BCF263644B7B44654310A9E175E@emag>
	<402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com>
	<EF8C00C89E1C4482BD43690ADC6A44CF@emag>
Message-ID: <18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com>

Please try this one (similar to the one posted to the
ChangeLog as an example) after modifying the three
paths:
---
set PATH=C:\devl\make-3.81;C:\devl\bcc55\bin
set HB_COMPILER=bcc32
set HB_INSTALL_PREFIX=C:\devl\hbb32-1.1
call make_gnu.bat --install-with-dll > out.txt 2>&1
---

If it fails, post your out.txt to the list.

Brgds,
Viktor

On Fri, Feb 27, 2009 at 5:31 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Lost" <lostmyhearttoher@gmail.com>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: venerd? 27 febbraio 2009 13.44
> Oggetto: Re: [Harbour] HB_INSTALL_PREFIX
>
>
>  > What I must put in place of <DIR> exactly?
>>
>> The path where you want to have your final binaries/libraries/headers
>> installed to, e.g. /devel
>>
>
> Thank you. Now the installation directory is created but the batch still
> doesn't do anything else.
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/4172a8a5/attachment.html
From e.m.giordano at emagsoftware.it  Fri Feb 27 11:38:22 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 11:38:27 2009
Subject: [Harbour] Install
References: <23C808F173144A8CA1ACA0E89CD3A6A5@emag><18d502870902270434r16e1ae27x16c4dbd457c0a0a6@mail.gmail.com><99E3D10FF2AA44CABA7B462D63CDF43A@emag>
	<18d502870902270458x1aa42b4ax921144a0630814db@mail.gmail.com>
Message-ID: <914B8E0C795B499989D03E17089227CA@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 13.58
Oggetto: Re: [Harbour] Install


> > Can I omit install option and make the installation myself?
>
> You can, but I'd recommend installing inside your
> source tree then, and copy what you need from there.

Ok.

> My impression is that you confuse 'install' with
> regular Windows install thing (sorry if not), GNU make
> install is the exact same as "non-GNU" install was,
> just the source dirs are slightly different (now libs are
> in /lib/<arch>/<comp> instead of /lib/b32|vc|gcc,
> binaries are scattered around the tree, instead of
> /bin/b32|vc|gcc).

No, no, I did not make such confusion.

> You can further fine-tune bin/lib/include destinations
> using envvars below, if that helps:
> set HB_BIN_INSTALL=
> set HB_LIB_INSTALL=
> set HB_INC_INSTALL=

Great! Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Fri Feb 27 11:44:38 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 11:44:43 2009
Subject: [Harbour] Problems
References: <96DBB6F64892440C9F982ACF13C0A127@emag>
	<18d502870902270502j3030a3e7lb9a26fa3b0b42688@mail.gmail.com>
Message-ID: <FE0A01E57A894871A58CE75277D31EBC@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 14.02
Oggetto: Re: [Harbour] Problems


> > What am I missing?
>
> 1) BCC32 -> bcc32
> 2) Please don't use space in the dirs because it will most
>    probably cause problems at some point in the process.

SET PATH=e:\utl;e:\bcc55\bin
SET HB_COMPILER=bcc32
SET HB_INSTALL_PREFIX=.\harbour
make_gnu

(in e:\utl there is GNU make.exe)

Now the directory harbour is created but the batch doesn't do anything else.

What am I still missing?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Feb 27 11:52:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 11:52:45 2009
Subject: [Harbour] Problems
In-Reply-To: <FE0A01E57A894871A58CE75277D31EBC@emag>
References: <96DBB6F64892440C9F982ACF13C0A127@emag>
	<18d502870902270502j3030a3e7lb9a26fa3b0b42688@mail.gmail.com>
	<FE0A01E57A894871A58CE75277D31EBC@emag>
Message-ID: <18d502870902270852x4f394522w277a3e6e4fd01a95@mail.gmail.com>

I've found it, pls use the --install-with-dll option as in the example.

I'll commit a small fix to this ASAP.

Brgds,
Viktor

On Fri, Feb 27, 2009 at 5:44 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: venerd? 27 febbraio 2009 14.02
> Oggetto: Re: [Harbour] Problems
>
>
>  > What am I missing?
>>
>> 1) BCC32 -> bcc32
>> 2) Please don't use space in the dirs because it will most
>>   probably cause problems at some point in the process.
>>
>
> SET PATH=e:\utl;e:\bcc55\bin
> SET HB_COMPILER=bcc32
> SET HB_INSTALL_PREFIX=.\harbour
> make_gnu
>
> (in e:\utl there is GNU make.exe)
>
> Now the directory harbour is created but the batch doesn't do anything
> else.
>
> What am I still missing?
>
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/ce2d4713/attachment-0001.html
From vszakats at users.sourceforge.net  Fri Feb 27 11:55:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 11:55:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10477] trunk/harbour
Message-ID: <E1Ld5zO-00027v-C8@c3vjzd1.ch3.sourceforge.com>

Revision: 10477
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10477&view=rev
Author:   vszakats
Date:     2009-02-27 16:55:05 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 17:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_gnu.bat
    ! Fixed to work when DLLs weren't requested.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb 27 12:05:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 27 11:59:49 2009
Subject: [Harbour] hbmk2 - Lunux/GCC native compilation
Message-ID: <20090227170518.GA5043@uran.home.aster.pl>

Hi Viktor,

Here is the next part of problems I noticed after some testings with
version:
   ChangeLog ID: ChangeLog 10475 2009-02-27 15:06:12Z vszakats

1. no extension is used for -cmp option
   hbmk -hbcmp t.prg
   generates object file "t" instead of "t.o"
2. hbmk -hbcmp t.c
   the same problem as in pkt. 1
3. hbmk -hbcc t.c
   does not call C compiler
4. automatic 1-st funtion detection does not work:
   echo "proc p;? 'hello'" > t.prg && hbmk2 -n -q2 t.prg && ./t
   Unrecoverable error 9012: Can't locate the starting procedure: 'MAIN'
5. it still creates binaries which uses harbour static libraries in *nixes
6. -fullstatic does not work. When this switch is used -static parameter
   should be passed to gcc. You cannot test it in MinGW because here
   such functionality does not exists and system libraries cannot be
   included.
7. The installation paths (LIB/INCLUDE) are not stripped:
   hbmk2 -n -q2 -shared t -trace
   hbmk: Harbour compiler command:
   /home/druzus/CVS/harbour/out/bin/../bin/harbour t \
         -i/home/druzus/CVS/harbour/out/bin/../include -n -q2
   hbmk: C compiler command:
   gcc t.c   -O3  -ot -I/home/druzus/CVS/harbour/out/bin/../include \
         -L/home/druzus/CVS/harbour/out/bin/../lib -L/usr/X11R6/lib \
         -Wl,--start-group -lharbour -lhbcplr -lhbdebug -lm -ldl -lrt \
         -lncurses -lslang -lX11 -Wl,--end-group

HTH,

best regards,
Przemek
From kleyber at tkinformidia.net  Fri Feb 27 12:09:27 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Fri Feb 27 12:09:48 2009
Subject: [Harbour] Override / Extend functions
References: <609353e70902262358i6dfa8ab3ia0f3dc10d4664fdd@mail.gmail.com><E48CEDE4D6884C7480CAD5A342BBED5C@particular>
	<20090227154925.GA26764@uran.home.aster.pl>
Message-ID: <0A533A73E0E9465FB7E5F9BF7660A431@particular>

Hi Przemek,

> OVERRIDE / EXTEND CLASS does not have to work in all cases. In some
> situations such functionality nay even break class definitions and cause
> unpredictable behavior, f.e. it does not change any classes which already
> inherited from modified class so accessing instance variables may use 
> wrong
> indexes and operate on instance area which belong to other ancestors.
> Such things can happen in both compilers: Harbour and xHarbour.
>
>> Anyway, Teo has showed me a way to change it to a function in Harbour,
>> I will test it and give you a feedback. If you have another suggestion,
>> will be welcome too.
>
> I do not like that people use it because we cannot support functionality
> which is broken by definition though I understand that locally it may be
> usable in some situations. I do not want to add it to core code as 
> documented
> feature because I cannot promise it will work in the same way in the 
> future
> when we extend/modify our class code. Keeping it alive may be serious
> problem in farther developing. But in contrib/xhb directory we have 
> xHarbour
> compatibility library and header (.ch) files which emulate some of 
> xHarbour
> features we do not want to add to core code for different reasons. Some of
> them also use unsupported and undocumented functionality so I think that
> if I add yet another header file xhbcls.ch with PP commands for above 
> nothing
> worse will happen. I'll commit it ASAP but please remember that it's
> undocumented and unsupported by us functionality.
>
> best regards,
> Przemek

I fact, Przemek, I have used this feature just to change some FWH methods 
and classes... I never used to change something from the xHarbour core. 
Thank you very much for your attention.

Best Regards,

Kleyber Derick 

From e.m.giordano at emagsoftware.it  Fri Feb 27 12:15:50 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 12:15:54 2009
Subject: [Harbour] HB_INSTALL_PREFIX
References: <BE2C2BCF263644B7B44654310A9E175E@emag><402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com><EF8C00C89E1C4482BD43690ADC6A44CF@emag>
	<18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com>
Message-ID: <9AF098822C024950AA627B5518BBBD30@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 17.35
Oggetto: Re: [Harbour] HB_INSTALL_PREFIX


> Please try this one (similar to the one posted to the
> ChangeLog as an example) after modifying the three
> paths:
> ---
> set PATH=C:\devl\make-3.81;C:\devl\bcc55\bin
> set HB_COMPILER=bcc32
> set HB_INSTALL_PREFIX=C:\devl\hbb32-1.1
> call make_gnu.bat --install-with-dll > out.txt 2>&1
> ---

Here it is:

set PATH=E:\utl;E:\bcc55\bin

set HB_COMPILER=bcc32
set HB_INSTALL_PREFIX=e:\devl\hbb32-1.1
call make_gnu.bat --install-with-dll > out.txt 2>&1

> If it fails, post your out.txt to the list.

Now it does something (I found many .h in the include directory). So 
is --install-with-dll mandatory?

But it fails with:

tlib.exe 
"..\..\..\..\lib\win\bcc32\hbcommon.lib"  -+expropt1.obj  -+expropt2.obj  -+hbfsapi.obj 
  -+hbfopen.obj  -+hbgete.obj  -+hbwince.obj  -+hbhash.obj  -+hbprintf.obj   
-+hbstr.obj  -+hbdate.obj  -+hbmem.obj  -+hbtrace.obj  -+hbver.obj  -+hbverdsp.obj 
  -+hbarch.obj  -+reserved.obj,,
Impossibile eseguire il programma specificato.
make[3]: *** [hbcommon.lib] Error 1
make[3]: Leaving directory `E:/HARBOUR CVS/harbour/source/common/win/bcc32'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `E:/HARBOUR CVS/harbour/source/common'
make[1]: *** [common.inst] Error 2
make[1]: Leaving directory `E:/HARBOUR CVS/harbour/source'
make: *** [source.inst] Error 2

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Fri Feb 27 12:18:03 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 12:18:08 2009
Subject: [Harbour] Problems
References: <96DBB6F64892440C9F982ACF13C0A127@emag><18d502870902270502j3030a3e7lb9a26fa3b0b42688@mail.gmail.com><FE0A01E57A894871A58CE75277D31EBC@emag>
	<18d502870902270852x4f394522w277a3e6e4fd01a95@mail.gmail.com>
Message-ID: <51C4C2563B1A4FF48E0A370DA9344A56@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 17.52
Oggetto: Re: [Harbour] Problems


> I've found it, pls use the --install-with-dll option as in the example.
>
> I'll commit a small fix to this ASAP.

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From M.Horodyski at pzuzycie.com.pl  Fri Feb 27 12:19:34 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb 27 12:19:40 2009
Subject: [Harbour] Raport from build
In-Reply-To: <22247930.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00BA9@PINK.zycie.pzu>

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Friday, February 27, 2009 4:21 PM
>To: harbour@harbour-project.org
>Subject: RE: RE: [Harbour] Raport from build
>
>
>Marek
>
>
>Horodyski Marek (PZUZ) wrote:
>> 
>> Pritpal, when I close subwindow pushing [X], on console window are :
>> Cancelled at: INKEY (0)
>> HBGETLIST:READER (0) in ../../tgetlist.prg 
>HBGETLIST:READMODAL (0) in 
>> ../../tgetlist.prg READMODAL (0) in ../../getsys.prg 
>GOOGLEMAP (2332) 
>> in demowvg.prg (b)WVTCONSOLEGETS (319) in demowvg.prg
>> 
>
>I cannot reproduce this error. Can you jot down exact sequence 
>of events to reach upto this level.
>
>Regards
>Pritpal Bedi
>

Sorry, but my answer with attachment and jpg screenshot file is not
provide.
Do not know how to describe this.

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Fri Feb 27 12:32:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 12:33:03 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <9AF098822C024950AA627B5518BBBD30@emag>
References: <BE2C2BCF263644B7B44654310A9E175E@emag>
	<402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com>
	<EF8C00C89E1C4482BD43690ADC6A44CF@emag>
	<18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com>
	<9AF098822C024950AA627B5518BBBD30@emag>
Message-ID: <18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>

>
> Now it does something (I found many .h in the include directory). So is
> --install-with-dll mandatory?


No, there is just a bug. You don't seem to read my answers ;)

 tlib.exe "..\..\..\..\lib\win\bcc32\hbcommon.lib"  -+expropt1.obj
 -+expropt2.obj  -+hbfsapi.obj  -+hbfopen.obj  -+hbgete.obj  -+hbwince.obj
 -+hbhash.obj  -+hbprintf.obj   -+hbstr.obj  -+hbdate.obj  -+hbmem.obj
 -+hbtrace.obj  -+hbver.obj  -+hbverdsp.obj  -+hbarch.obj  -+reserved.obj,,

> Impossibile eseguire il programma specificato.
> make[3]: *** [hbcommon.lib] Error 1
> make[3]: Leaving directory `E:/HARBOUR CVS/harbour/source/common/win/bcc32'
> make[2]: *** [descend] Error 2
> make[2]: Leaving directory `E:/HARBOUR CVS/harbour/source/common'
> make[1]: *** [common.inst] Error 2
> make[1]: Leaving directory `E:/HARBOUR CVS/harbour/source'
> make: *** [source.inst] Error 2


Sorry I have no idea. If you'd post your full output,
maybe someone can help. Anyhow it would be a
good idea to remove the space from your target dir,
as I'm almost sure it will break compilation.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/a6187980/attachment.html
From e.m.giordano at emagsoftware.it  Fri Feb 27 12:42:59 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 12:43:04 2009
Subject: [Harbour] HB_INSTALL_PREFIX
References: <BE2C2BCF263644B7B44654310A9E175E@emag><402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com><EF8C00C89E1C4482BD43690ADC6A44CF@emag><18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com><9AF098822C024950AA627B5518BBBD30@emag>
	<18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>
Message-ID: <B6AB0F77304D4EDAACC6BA1C124BC22F@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 18.32
Oggetto: Re: [Harbour] HB_INSTALL_PREFIX


> > Now it does something (I found many .h in the include directory). So is
> > --install-with-dll mandatory?
>
> No, there is just a bug. You don't seem to read my answers ;)

No, I send that message just before to read the other one. It's a message 
queue problem. :-)

> > tlib.exe "..\..\..\..\lib\win\bcc32\hbcommon.lib"  -+expropt1.obj
> 
> >  -+expropt2.obj  -+hbfsapi.obj  -+hbfopen.obj  -+hbgete.obj  -+hbwince.obj
> > -+hbhash.obj  -+hbprintf.obj   -+hbstr.obj  -+hbdate.obj  -+hbmem.obj
> 
> >  -+hbtrace.obj  -+hbver.obj  -+hbverdsp.obj  -+hbarch.obj  -+reserved.obj,,
> >
> > Impossibile eseguire il programma specificato.
> > make[3]: *** [hbcommon.lib] Error 1
> > make[3]: Leaving directory `E:/HARBOUR 
> > CVS/harbour/source/common/win/bcc32'
> > make[2]: *** [descend] Error 2
> > make[2]: Leaving directory `E:/HARBOUR CVS/harbour/source/common'
> > make[1]: *** [common.inst] Error 2
> > make[1]: Leaving directory `E:/HARBOUR CVS/harbour/source'
> > make: *** [source.inst] Error 2
>
> Sorry I have no idea. If you'd post your full output,
> maybe someone can help.

Ok, attached (but it doesn't seem to be anything useful before the above 
lines).

> Anyhow it would be a
> good idea to remove the space from your target dir,
> as I'm almost sure it will break compilation.

Ok, I will try...

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Out.zip
Type: application/x-zip-compressed
Size: 3289 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/c2dbd988/Out.bin
From e.m.giordano at emagsoftware.it  Fri Feb 27 12:45:49 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 12:45:54 2009
Subject: [Harbour] HB_INSTALL_PREFIX
References: <BE2C2BCF263644B7B44654310A9E175E@emag><402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com><EF8C00C89E1C4482BD43690ADC6A44CF@emag><18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com><9AF098822C024950AA627B5518BBBD30@emag><18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>
	<B6AB0F77304D4EDAACC6BA1C124BC22F@emag>
Message-ID: <D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 18.42
Oggetto: Re: [Harbour] HB_INSTALL_PREFIX


> > Anyhow it would be a
> > good idea to remove the space from your target dir,
> > as I'm almost sure it will break compilation.
>
> Ok, I will try...

Tried. No change:

tlib.exe 
"..\..\..\..\lib\win\bcc32\hbcommon.lib"  -+expropt1.obj  -+expropt2.obj  -+hbfsapi.obj 
  -+hbfopen.obj  -+hbgete.obj  -+hbwince.obj  -+hbhash.obj  -+hbprintf.obj   
-+hbstr.obj  -+hbdate.obj  -+hbmem.obj  -+hbtrace.obj  -+hbver.obj  -+hbverdsp.obj 
  -+hbarch.obj  -+reserved.obj,,
Impossibile eseguire il programma specificato.
make[3]: *** [hbcommon.lib] Error 1
make[3]: Leaving directory `E:/HARBOURCVS/harbour/source/common/win/bcc32'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `E:/HARBOURCVS/harbour/source/common'
make[1]: *** [common.inst] Error 2
make[1]: Leaving directory `E:/HARBOURCVS/harbour/source'
make: *** [source.inst] Error 2

It seems a problem with the path in which tlib.exe is searched.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From info at fsgiudice.com  Fri Feb 27 12:59:37 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 27 13:00:19 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>
References: <BE2C2BCF263644B7B44654310A9E175E@emag><402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com><EF8C00C89E1C4482BD43690ADC6A44CF@emag><18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com><9AF098822C024950AA627B5518BBBD30@emag><18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>	<B6AB0F77304D4EDAACC6BA1C124BC22F@emag>
	<D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>
Message-ID: <49A82A09.9020904@fsgiudice.com>

Hi Enrico,

Il 27/02/2009 18.45, Enrico Maria Giordano ha scritto:
> 
> tlib.exe "..\..\..\..\lib\win\bcc32\hbcommon.lib"  -+expropt1.obj  
> -+expropt2.obj  -+hbfsapi.obj  -+hbfopen.obj  -+hbgete.obj  
> -+hbwince.obj  -+hbhash.obj  -+hbprintf.obj   -+hbstr.obj  -+hbdate.obj  
> -+hbmem.obj  -+hbtrace.obj  -+hbver.obj  -+hbverdsp.obj  -+hbarch.obj  
> -+reserved.obj,,
> Impossibile eseguire il programma specificato.
seems that you doesn't have bcc in the path so tlib isn't executed.

Here I have just successfully completed the gnu build with mingw32-make.

BTW: Viktor, in INSTALL file at hello.prg sample you have missed -n 
switch ;-)

Best regards,

Francesco
From harbour.01 at syenar.hu  Fri Feb 27 13:05:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 13:05:51 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <49A82A09.9020904@fsgiudice.com>
References: <BE2C2BCF263644B7B44654310A9E175E@emag>
	<402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com>
	<EF8C00C89E1C4482BD43690ADC6A44CF@emag>
	<18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com>
	<9AF098822C024950AA627B5518BBBD30@emag>
	<18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>
	<B6AB0F77304D4EDAACC6BA1C124BC22F@emag>
	<D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>
	<49A82A09.9020904@fsgiudice.com>
Message-ID: <18d502870902271005wf37b266s7ee97dd764707773@mail.gmail.com>

>
> tlib.exe "..\..\..\..\lib\win\bcc32\hbcommon.lib"  -+expropt1.obj
>>  -+expropt2.obj  -+hbfsapi.obj  -+hbfopen.obj  -+hbgete.obj  -+hbwince.obj
>>  -+hbhash.obj  -+hbprintf.obj   -+hbstr.obj  -+hbdate.obj  -+hbmem.obj
>>  -+hbtrace.obj  -+hbver.obj  -+hbverdsp.obj  -+hbarch.obj  -+reserved.obj,,
>> Impossibile eseguire il programma specificato.
>>
> seems that you doesn't have bcc in the path so tlib isn't executed.
>
> Here I have just successfully completed the gnu build with mingw32-make.
>
> BTW: Viktor, in INSTALL file at hello.prg sample you have missed -n switch
> ;-)


Sht :) Thanks!

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/e7225651/attachment.html
From harbour.01 at syenar.hu  Fri Feb 27 13:06:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 13:06:51 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>
References: <BE2C2BCF263644B7B44654310A9E175E@emag>
	<402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com>
	<EF8C00C89E1C4482BD43690ADC6A44CF@emag>
	<18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com>
	<9AF098822C024950AA627B5518BBBD30@emag>
	<18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>
	<B6AB0F77304D4EDAACC6BA1C124BC22F@emag>
	<D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>
Message-ID: <18d502870902271006u55057469r386341e206cdf216@mail.gmail.com>

Yes, plus the list is a bit laggy today.

On Fri, Feb 27, 2009 at 6:45 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Enrico Maria Giordano" <
> e.m.giordano@emagsoftware.it>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: venerd? 27 febbraio 2009 18.42
> Oggetto: Re: [Harbour] HB_INSTALL_PREFIX
>
>
>  > Anyhow it would be a
>> > good idea to remove the space from your target dir,
>> > as I'm almost sure it will break compilation.
>>
>> Ok, I will try...
>>
>
> Tried. No change:
>
> tlib.exe "..\..\..\..\lib\win\bcc32\hbcommon.lib"  -+expropt1.obj
>  -+expropt2.obj  -+hbfsapi.obj  -+hbfopen.obj  -+hbgete.obj  -+hbwince.obj
>  -+hbhash.obj  -+hbprintf.obj   -+hbstr.obj  -+hbdate.obj  -+hbmem.obj
>  -+hbtrace.obj  -+hbver.obj  -+hbverdsp.obj  -+hbarch.obj  -+reserved.obj,,
> Impossibile eseguire il programma specificato.
> make[3]: *** [hbcommon.lib] Error 1
> make[3]: Leaving directory `E:/HARBOURCVS/harbour/source/common/win/bcc32'
> make[2]: *** [descend] Error 2
> make[2]: Leaving directory `E:/HARBOURCVS/harbour/source/common'
> make[1]: *** [common.inst] Error 2
> make[1]: Leaving directory `E:/HARBOURCVS/harbour/source'
> make: *** [source.inst] Error 2
>
> It seems a problem with the path in which tlib.exe is searched.
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/373c2252/attachment.html
From clipper5_y2d at versateladsl.be  Fri Feb 27 13:17:21 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Fri Feb 27 13:17:41 2009
Subject: [Harbour] Problems
References: <96DBB6F64892440C9F982ACF13C0A127@emag><18d502870902270502j3030a3e7lb9a26fa3b0b42688@mail.gmail.com>
	<FE0A01E57A894871A58CE75277D31EBC@emag>
Message-ID: <31DF1F9277734751B1485ED6E58433A3@ara>

Dear Enrico and Viktor,

The GNU package referenced in a previous mail contains a make utility called 
mingw32-make.exe and not just make.exe
I copied mingw32-make.exe to make.exe in the bin folder where this original 
mingw32-make executable resides; then having that dir come before anything 
else in PATH=

Calling make_gnu.bat  seems to work fine then, but make_gnu.bat install i'm 
not sure

kindly

frank

----- Original Message ----- 
From: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, February 27, 2009 5:44 PM
Subject: Re: [Harbour] Problems


>
> -----Messaggio Originale----- 
> Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: venerd? 27 febbraio 2009 14.02
> Oggetto: Re: [Harbour] Problems
>
>
>> > What am I missing?
>>
>> 1) BCC32 -> bcc32
>> 2) Please don't use space in the dirs because it will most
>>    probably cause problems at some point in the process.
>
> SET PATH=e:\utl;e:\bcc55\bin
> SET HB_COMPILER=bcc32
> SET HB_INSTALL_PREFIX=.\harbour
> make_gnu
>
> (in e:\utl there is GNU make.exe)
>
> Now the directory harbour is created but the batch doesn't do anything 
> else.
>
> What am I still missing?
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From vszakats at users.sourceforge.net  Fri Feb 27 13:19:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 13:19:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10478] trunk/harbour
Message-ID: <E1Ld7JH-0007yy-3d@d5vjzd1.ch3.sourceforge.com>

Revision: 10478
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10478&view=rev
Author:   vszakats
Date:     2009-02-27 18:19:42 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 19:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * make_gnu.bat
  * make_gnu.sh
    + Added listing of supported C compilers.
    + Added list of available built-time options.
      (may be incomplete).
    ! Added -n options to hbmk2 calls.
    - Removed similar content from script files.

  * make_gnu.bat
    - Removed --install-with-dll option.
      Use set HB_BUILD_DLL=yes instead.

  * utils/hbmk2/hbmk2.prg
    ! Fixed swapped -hbcc and -hbcmp meaning.
    + Don't deal with compiler autodetection if called with
      -hbcmp option. In this mode a C compiler isn't needed
      at all.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu.sh
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Feb 27 13:40:05 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 13:40:10 2009
Subject: [Harbour] HB_INSTALL_PREFIX
References: <BE2C2BCF263644B7B44654310A9E175E@emag><402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com><EF8C00C89E1C4482BD43690ADC6A44CF@emag><18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com><9AF098822C024950AA627B5518BBBD30@emag><18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>	<B6AB0F77304D4EDAACC6BA1C124BC22F@emag><D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>
	<49A82A09.9020904@fsgiudice.com>
Message-ID: <C8FE70CF6ABC4AB2BFD3105CCDD5A334@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 febbraio 2009 18.59
Oggetto: Re: [Harbour] HB_INSTALL_PREFIX

Found! I had an old tlib.exe in the path. Now it works fine. Thank you!

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From bedipritpal at hotmail.com  Fri Feb 27 13:51:08 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 27 13:51:11 2009
Subject: [Harbour] Raport from build
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00BA9@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D9D5@PINK.zycie.pzu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F009A1@PINK.zycie.pzu>
	<18d502870902270151x4378e9d2m7f61133641eac855@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00AB2@PINK.zycie.pzu>
	<18d502870902270511l43319e01u4fa08cc32dd380d1@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00B3B@PINK.zycie.pzu>
	<22247930.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00BA9@PINK.zycie.pzu>
Message-ID: <22252086.post@talk.nabble.com>


Marek


Horodyski Marek (PZUZ) wrote:
> 
> Sorry, but my answer with attachment and jpg screenshot file is not
> provide.
> Do not know how to describe this.
> 

Which attachment and jpg you are talking about?

Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Raport-from-build-tp22163503p22252086.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From clipper5_y2d at versateladsl.be  Fri Feb 27 13:51:19 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Fri Feb 27 13:51:41 2009
Subject: [Harbour] Problems
References: <96DBB6F64892440C9F982ACF13C0A127@emag><18d502870902270502j3030a3e7lb9a26fa3b0b42688@mail.gmail.com><FE0A01E57A894871A58CE75277D31EBC@emag>
	<31DF1F9277734751B1485ED6E58433A3@ara>
Message-ID: <3E2B656513194AC589A7E551786EA238@ara>

Hi Viktor,

i confirm make_gnu install also works, but HB_INSTALL_PREFIX=. doesn't seem
to work (with no spaces after .) when make_gnu.bat is called from within the
svn dir; i had to put the full path to that svn dir, then it works ok

frank

ps: Enrico, sorry for the obvious i stated

----- Original Message ----- 
From: "frank van nuffel" <clipper5_y2d@versateladsl.be>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, February 27, 2009 7:17 PM
Subject: Re: [Harbour] Problems


> Dear Enrico and Viktor,
>
> The GNU package referenced in a previous mail contains a make utility
> called mingw32-make.exe and not just make.exe
> I copied mingw32-make.exe to make.exe in the bin folder where this
> original mingw32-make executable resides; then having that dir come before
> anything else in PATH=
>
> Calling make_gnu.bat  seems to work fine then, but make_gnu.bat install
> i'm not sure
>
> kindly
>
> frank
>
> ----- Original Message ----- 
> From: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Sent: Friday, February 27, 2009 5:44 PM
> Subject: Re: [Harbour] Problems
>
>
>>
>> -----Messaggio Originale----- 
>> Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
>> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
>> Data invio: venerd? 27 febbraio 2009 14.02
>> Oggetto: Re: [Harbour] Problems
>>
>>
>>> > What am I missing?
>>>
>>> 1) BCC32 -> bcc32
>>> 2) Please don't use space in the dirs because it will most
>>>    probably cause problems at some point in the process.
>>
>> SET PATH=e:\utl;e:\bcc55\bin
>> SET HB_COMPILER=bcc32
>> SET HB_INSTALL_PREFIX=.\harbour
>> make_gnu
>>
>> (in e:\utl there is GNU make.exe)
>>
>> Now the directory harbour is created but the batch doesn't do anything
>> else.
>>
>> What am I still missing?
>>
>> EMG
>>
>> --
>> EMAG Software Homepage:     http://www.emagsoftware.it
>> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
>> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
>> The EMG Music page:         http://www.emagsoftware.it/emgmusic
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Feb 27 13:55:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 13:55:59 2009
Subject: [Harbour] hbmk2 - Lunux/GCC native compilation
In-Reply-To: <20090227170518.GA5043@uran.home.aster.pl>
References: <20090227170518.GA5043@uran.home.aster.pl>
Message-ID: <18d502870902271055g7502fe2fv1df979c805d2bb33@mail.gmail.com>

Hi Przemek,


> 1. no extension is used for -cmp option
>   hbmk -hbcmp t.prg
>   generates object file "t" instead of "t.o"
> 2. hbmk -hbcmp t.c
>   the same problem as in pkt. 1

3. hbmk -hbcc t.c
>   does not call C compiler


I've most probably simply confused the two names (hbcc/hbcmp)
due the information received on the list, which I didn't double check.

I'll fix a silly typo which resulted in no extension for objects in
above cases.


> 4. automatic 1-st funtion detection does not work:
>   echo "proc p;? 'hello'" > t.prg && hbmk2 -n -q2 t.prg && ./t
>   Unrecoverable error 9012: Can't locate the starting procedure: 'MAIN'


I disabled it, because it needs multiple passes to C compiler,
I'd like to find some better solution to this. Also, the -n issue
is already a FAQ, so we should IMO find some solution for the
various startup proc problems as a whole (also -n1). Current
situation is rather confusing and also platform dependent.


> 5. it still creates binaries which uses harbour static libraries in *nixes


Did you install it? It will only create shared if installed to a system
location (where .so is expected to be available without burnt in
.so dirs that is). See my longer post to your previous mail about some
more refinement we can make here (like LD_PATH check for harbour*.so
example). You can also force it by adding line 'shareddef=yes' to hbmk.cfg.
hbmk.cfg will be picked from these locations: ~/.harbour, /etc/harbour,
bin/../etc/harbour, bin/../etc, bin. In that order.


> 6. -fullstatic does not work. When this switch is used -static parameter
>   should be passed to gcc. You cannot test it in MinGW because here
>   such functionality does not exists and system libraries cannot be
>   included.


I know. See my other post, I need your help, or more details instructions
what to fix exactly. I have no idea what the option means, just tried to
copy the logic from hbmk script. Pls use -trace and post the wrong and
fixed command lines.


> 7. The installation paths (LIB/INCLUDE) are not stripped:
>   hbmk2 -n -q2 -shared t -trace
>   hbmk: Harbour compiler command:
>   /home/druzus/CVS/harbour/out/bin/../bin/harbour t \
>         -i/home/druzus/CVS/harbour/out/bin/../include -n -q2
>   hbmk: C compiler command:
>   gcc t.c   -O3  -ot -I/home/druzus/CVS/harbour/out/bin/../include \
>         -L/home/druzus/CVS/harbour/out/bin/../lib -L/usr/X11R6/lib \
>         -Wl,--start-group -lharbour -lhbcplr -lhbdebug -lm -ldl -lrt \
>         -lncurses -lslang -lX11 -Wl,--end-group


It will only strip paths when installed on a system location.
I can enable it for all cases, but it might be dangerous if
links are used along the way. If you confirm this isn't a problem,
I'll enable it. By "stripping" I meant to remove the '/../' parts
of it, maybe you meant something else. Pls tell. :)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/243b0bc0/attachment.html
From vszakats at users.sourceforge.net  Fri Feb 27 14:00:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 14:00:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10479] trunk/harbour
Message-ID: <E1Ld7wS-0000dX-IC@d5vjzd1.ch3.sourceforge.com>

Revision: 10479
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10479&view=rev
Author:   vszakats
Date:     2009-02-27 18:59:58 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 19:59 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added text to specifically tell to rename mingw32-make.exe 
      to make.exe if the former is found in a distro.
      BTW most probably mingw32-make.exe would also make it, but
      our make_gnu.bat file wants make.exe, and there is no 
      easy way to check (but can be done).

  * utils/hbmk2/hbmk2.prg
    ! Fixed silly typo preventing object files to get their 
      proper extension in -hbcc mode.
    * Minor internal change to avoid changing extensions twice 
      on the same string, since this may cause loss.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 27 14:18:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 14:18:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10480] trunk/harbour
Message-ID: <E1Ld8EI-0000wi-FR@d5vjzd1.ch3.sourceforge.com>

Revision: 10480
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10480&view=rev
Author:   vszakats
Date:     2009-02-27 19:18:26 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 20:15 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_gnu.bat
    + Added autodetection of mingw32-make.exe. If found in 
      PATH, it will be used instead of make.exe.
      This way the build process is much less resistant of 
      environment configuration. If this works out, I'll 
      lax the rules in INSTALL.

  * utils/hbmk2/hbmk2.prg
    * Minor internal cleanup to previous.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_gnu.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb 27 14:21:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 14:21:30 2009
Subject: [Harbour] Problems
In-Reply-To: <3E2B656513194AC589A7E551786EA238@ara>
References: <96DBB6F64892440C9F982ACF13C0A127@emag>
	<18d502870902270502j3030a3e7lb9a26fa3b0b42688@mail.gmail.com>
	<FE0A01E57A894871A58CE75277D31EBC@emag>
	<31DF1F9277734751B1485ED6E58433A3@ara>
	<3E2B656513194AC589A7E551786EA238@ara>
Message-ID: <18d502870902271121p79b37e80ud89045f01b7c43f3@mail.gmail.com>

Hi Frank,


> i confirm make_gnu install also works, but HB_INSTALL_PREFIX=. doesn't seem
> to work (with no spaces after .) when make_gnu.bat is called from within
> the
> svn dir; i had to put the full path to that svn dir, then it works ok


Only absolute paths will work.

On NT and above systems you can use: HB_INSTALL_PREFIX=~dp0%
which means the absolute dir where make_gnu.bat is located, so
in effect it's the same as '.', but this one works.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/19235625/attachment.html
From mbelgrano at deltain.it  Fri Feb 27 14:48:23 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 27 14:48:27 2009
Subject: [Harbour] Raport from build
In-Reply-To: <22252086.post@talk.nabble.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501E8D9D5@PINK.zycie.pzu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F009A1@PINK.zycie.pzu>
	<18d502870902270151x4378e9d2m7f61133641eac855@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00AB2@PINK.zycie.pzu>
	<18d502870902270511l43319e01u4fa08cc32dd380d1@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00B3B@PINK.zycie.pzu>
	<22247930.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00BA9@PINK.zycie.pzu>
	<22252086.post@talk.nabble.com>
Message-ID: <609353e70902271148k36363c3cs8356d4729e2d0cb6@mail.gmail.com>

I also not see any image

2009/2/27 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Marek
>
>
> Horodyski Marek (PZUZ) wrote:
> >
> > Sorry, but my answer with attachment and jpg screenshot file is not
> > provide.
> > Do not know how to describe this.
> >
>
> Which attachment and jpg you are talking about?
>
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Raport-from-build-tp22163503p22252086.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/fde0c0c9/attachment.html
From vszakats at users.sourceforge.net  Fri Feb 27 14:50:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 14:50:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10481] trunk/harbour
Message-ID: <E1Ld8j8-0006Xr-Ct@c3vjzd1.ch3.sourceforge.com>

Revision: 10481
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10481&view=rev
Author:   vszakats
Date:     2009-02-27 19:50:29 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 20:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added more information to Windows section.
      This will need a cleanup already.
    + Added links, header.

  * make_gnu.bat
    + Added automatic default of HB_INSTALL_PREFIX on NT
      and above systems. This means this setting is now
      option. If not set, it will install under the
      source tree.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb 27 15:16:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Feb 27 15:11:26 2009
Subject: [Harbour] hbmk2 - Lunux/GCC native compilation
In-Reply-To: <18d502870902271055g7502fe2fv1df979c805d2bb33@mail.gmail.com>
References: <20090227170518.GA5043@uran.home.aster.pl>
	<18d502870902271055g7502fe2fv1df979c805d2bb33@mail.gmail.com>
Message-ID: <20090227201652.GA973@uran.home.aster.pl>

On Fri, 27 Feb 2009, Szak?ts Viktor wrote:

Hi,

> > 4. automatic 1-st funtion detection does not work:
> >   echo "proc p;? 'hello'" > t.prg && hbmk2 -n -q2 t.prg && ./t
> >   Unrecoverable error 9012: Can't locate the starting procedure: 'MAIN'
> I disabled it, because it needs multiple passes to C compiler,
> I'd like to find some better solution to this. Also, the -n issue
> is already a FAQ, so we should IMO find some solution for the
> various startup proc problems as a whole (also -n1). Current
> situation is rather confusing and also platform dependent.

For GCC when hbmk2 compiles .prg code then it does not need any additional
C compiler call. It's enough to check generated by Harbour .c code and
generate additional .c file which you can add to already executed gcc
command. The same is also rue for other .c control files. They does not
have to be compiled separately when GCC is used. Just simply add them to
link command. Other C compilers may work in different way here.
The problem with -n1 is still open. But if hbmk2 does not give automatic
alternative then it's hard to remove it from compiler.
In the weekend I'll check if I can easy add some type of starting procedure
auto detection to harbour compiler. It will check if the 1-st automatic
procedure has any executable code. If yes then it will be added. If not
then all declarations will be file wide.
It may reduce the problem at least for users which tries to compiler
different examples forgetting about -n switch. But if for such extensions
it's necessary to introduce some more complicated hacks then I'll leave it
to some deeper compiler modifications.
Anyhow without some support from hbmk2 it's not possible to detect what
is the 1-st procedure at runtime. When hbmk2 is used with .prg files then
it's enough to add new harbour compiler switch but when it's used to
link object files it will not be enough.

> > 5. it still creates binaries which uses harbour static libraries in *nixes
> Did you install it? It will only create shared if installed to a system
> location (where .so is expected to be available without burnt in
> .so dirs that is). See my longer post to your previous mail about some
> more refinement we can make here (like LD_PATH check for harbour*.so
> example). You can also force it by adding line 'shareddef=yes' to hbmk.cfg.
> hbmk.cfg will be picked from these locations: ~/.harbour, /etc/harbour,
> bin/../etc/harbour, bin/../etc, bin. In that order.

I have system wide installation but probably hbmk2 was confused by
links I used. I've just emulated default system installation and
shared library is created but full path to harbour shared library
is hardcoded into final binaries:
   druzus:/tmp/13# ldd t
        linux-gate.so.1 =>  (0xffffe000)
        /usr/lib/harbour/libharbour.so (0xb7d9a000)
It should be fixed. All such things will very badly interact with
customized installation or system settings, f.e. when user have
to use dchroot.
Automatic checking for system library directories may not be such
easy as simple LD_PATH or other envvar checking but I'll look for
some method which will work in Linux,.

> > 6. -fullstatic does not work. When this switch is used -static parameter
> >   should be passed to gcc. You cannot test it in MinGW because here
> >   such functionality does not exists and system libraries cannot be
> >   included.
> I know. See my other post, I need your help, or more details instructions
> what to fix exactly. I have no idea what the option means, just tried to
> copy the logic from hbmk script. Pls use -trace and post the wrong and
> fixed command lines.

I've wrote it in above sentence. -static GCC link time parameter should
be added when -fullstatic hbmk2 option is used. That's all.
You can use 'ldd <appname> to check the final binaries status. For dynamic
binaries it will also show you all used libraries.

> > 7. The installation paths (LIB/INCLUDE) are not stripped:
> >   hbmk2 -n -q2 -shared t -trace
> >   hbmk: Harbour compiler command:
> >   /home/druzus/CVS/harbour/out/bin/../bin/harbour t \
> >         -i/home/druzus/CVS/harbour/out/bin/../include -n -q2
> >   hbmk: C compiler command:
> >   gcc t.c   -O3  -ot -I/home/druzus/CVS/harbour/out/bin/../include \
> >         -L/home/druzus/CVS/harbour/out/bin/../lib -L/usr/X11R6/lib \
> >         -Wl,--start-group -lharbour -lhbcplr -lhbdebug -lm -ldl -lrt \
> >         -lncurses -lslang -lX11 -Wl,--end-group
> It will only strip paths when installed on a system location.
> I can enable it for all cases, but it might be dangerous if
> links are used along the way. If you confirm this isn't a problem,
> I'll enable it. By "stripping" I meant to remove the '/../' parts
> of it, maybe you meant something else. Pls tell. :)

The native soft links should not be the source of any new problems here.
In theory it's possible that directory has entry ".." which does not
point to upper level dir. But for us it's unimportant. The ".." in the path
comes from hbmk2 not from the installation paths and hbmk2 assumes that ".."
points to upper level directory. It's not real path used during build/
installation process. If sth can be wrong (I do not expect such situation
in real life) then only because hbmk2 make it. If you think that striping
can be a problem then then simply create the path in different way.
Instead of:
   cLibDir := cBinDir + "/../lib/harbour"
use:
   cLibDir := dirname( cBinDir ) + "lib/harbour"
With such version you will exactly follow the paths used by build/installed
scripts.

Thank you very much for all you job on hbmk2.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Feb 27 15:11:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 15:12:05 2009
Subject: [Harbour] Problems
In-Reply-To: <18d502870902271121p79b37e80ud89045f01b7c43f3@mail.gmail.com>
References: <96DBB6F64892440C9F982ACF13C0A127@emag>
	<18d502870902270502j3030a3e7lb9a26fa3b0b42688@mail.gmail.com>
	<FE0A01E57A894871A58CE75277D31EBC@emag>
	<31DF1F9277734751B1485ED6E58433A3@ara>
	<3E2B656513194AC589A7E551786EA238@ara>
	<18d502870902271121p79b37e80ud89045f01b7c43f3@mail.gmail.com>
Message-ID: <18d502870902271211n764603bdj239076d5978b8fa1@mail.gmail.com>

Sorry, my typo:
set HB_INSTALL_PREFIX=%~dp0

Anyhow, if you do a checkout this will now be the default.

Brgds,
Viktor

On Fri, Feb 27, 2009 at 8:21 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi Frank,
>
>
>> i confirm make_gnu install also works, but HB_INSTALL_PREFIX=. doesn't
>> seem
>> to work (with no spaces after .) when make_gnu.bat is called from within
>> the
>> svn dir; i had to put the full path to that svn dir, then it works ok
>
>
> Only absolute paths will work.
>
> On NT and above systems you can use: HB_INSTALL_PREFIX=~dp0%
> which means the absolute dir where make_gnu.bat is located, so
> in effect it's the same as '.', but this one works.
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/c26db0f2/attachment.html
From vszakats at users.sourceforge.net  Fri Feb 27 15:13:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 15:13:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10482] trunk/harbour
Message-ID: <E1Ld950-00071y-Rh@c3vjzd1.ch3.sourceforge.com>

Revision: 10482
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10482&view=rev
Author:   vszakats
Date:     2009-02-27 20:13:06 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 21:12 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * INSTALL
     * Minor.

   * make_gnu.bat
     ! Typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Fri Feb 27 15:13:19 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 27 15:13:28 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <18d502870902271005wf37b266s7ee97dd764707773@mail.gmail.com>
References: <BE2C2BCF263644B7B44654310A9E175E@emag>	<402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com>	<EF8C00C89E1C4482BD43690ADC6A44CF@emag>	<18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com>	<9AF098822C024950AA627B5518BBBD30@emag>	<18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>	<B6AB0F77304D4EDAACC6BA1C124BC22F@emag>	<D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>	<49A82A09.9020904@fsgiudice.com>
	<18d502870902271005wf37b266s7ee97dd764707773@mail.gmail.com>
Message-ID: <49A8495F.6050901@fsgiudice.com>

Hi Viktor,

comment char # in contrib\Makefile (line 29) to comment out hbwhat 
breaks building process for next libs, so hbziparc, rddado and xhb are 
not built.
To comment out it, please move hbwhat at the end of the list.

Best regards
Francesco
From info at fsgiudice.com  Fri Feb 27 15:17:37 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 27 15:17:44 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <49A8495F.6050901@fsgiudice.com>
References: <BE2C2BCF263644B7B44654310A9E175E@emag>	<402ac8b70902270444v61dc8ajdc9d5013aedee42c@mail.gmail.com>	<EF8C00C89E1C4482BD43690ADC6A44CF@emag>	<18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com>	<9AF098822C024950AA627B5518BBBD30@emag>	<18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>	<B6AB0F77304D4EDAACC6BA1C124BC22F@emag>	<D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>	<49A82A09.9020904@fsgiudice.com>	<18d502870902271005wf37b266s7ee97dd764707773@mail.gmail.com>
	<49A8495F.6050901@fsgiudice.com>
Message-ID: <49A84A61.5090206@fsgiudice.com>

Ops, "comment out" should be read "comment".
Francesco

Il 27/02/2009 21.13, Francesco Saverio Giudice ha scritto:
> Hi Viktor,
> 
> comment char # in contrib\Makefile (line 29) to comment out hbwhat 
> breaks building process for next libs, so hbziparc, rddado and xhb are 
> not built.
> To comment out it, please move hbwhat at the end of the list.
> 
> Best regards
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Feb 27 15:30:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 15:30:14 2009
Subject: [Harbour] HB_INSTALL_PREFIX
In-Reply-To: <49A84A61.5090206@fsgiudice.com>
References: <BE2C2BCF263644B7B44654310A9E175E@emag>
	<18d502870902270835s503cbcfeh59c3c11dcf1c88d9@mail.gmail.com>
	<9AF098822C024950AA627B5518BBBD30@emag>
	<18d502870902270932pbdfb7e3g1d2f4e8aefa45c3a@mail.gmail.com>
	<B6AB0F77304D4EDAACC6BA1C124BC22F@emag>
	<D690C4E20FC44C1C9AC4A04A29D3ABE6@emag>
	<49A82A09.9020904@fsgiudice.com>
	<18d502870902271005wf37b266s7ee97dd764707773@mail.gmail.com>
	<49A8495F.6050901@fsgiudice.com> <49A84A61.5090206@fsgiudice.com>
Message-ID: <18d502870902271230l17031e44o3de3baf32d2fa9a6@mail.gmail.com>

Many thanks Francesco, I'll do it in next commit.
Brgds,
Viktor

On Fri, Feb 27, 2009 at 9:17 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Ops, "comment out" should be read "comment".
> Francesco
>
> Il 27/02/2009 21.13, Francesco Saverio Giudice ha scritto:
>
>  Hi Viktor,
>>
>> comment char # in contrib\Makefile (line 29) to comment out hbwhat breaks
>> building process for next libs, so hbziparc, rddado and xhb are not built.
>> To comment out it, please move hbwhat at the end of the list.
>>
>> Best regards
>> Francesco
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/a52a4da7/attachment.html
From clipper5_y2d at versateladsl.be  Fri Feb 27 15:39:10 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Fri Feb 27 15:39:30 2009
Subject: [Harbour] Problems
References: <96DBB6F64892440C9F982ACF13C0A127@emag><18d502870902270502j3030a3e7lb9a26fa3b0b42688@mail.gmail.com><FE0A01E57A894871A58CE75277D31EBC@emag><31DF1F9277734751B1485ED6E58433A3@ara><3E2B656513194AC589A7E551786EA238@ara><18d502870902271121p79b37e80ud89045f01b7c43f3@mail.gmail.com>
	<18d502870902271211n764603bdj239076d5978b8fa1@mail.gmail.com>
Message-ID: <CFB41E8800654FE78D7B380825948319@ara>

Thank you Viktor; the default works fine ( also contrib is build automatically now :-))) 

best regards, 

frank 
  ----- Original Message ----- 
  From: Viktor Szak?ts 
  To: Harbour Project Main Developer List. 
  Sent: Friday, February 27, 2009 9:11 PM
  Subject: Re: [Harbour] Problems


  Sorry, my typo:


  set HB_INSTALL_PREFIX=%~dp0


  Anyhow, if you do a checkout this will now be the default.


  Brgds,
  Viktor


  On Fri, Feb 27, 2009 at 8:21 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

    Hi Frank,

      i confirm make_gnu install also works, but HB_INSTALL_PREFIX=. doesn't seem
      to work (with no spaces after .) when make_gnu.bat is called from within the
      svn dir; i had to put the full path to that svn dir, then it works ok


    Only absolute paths will work. 


    On NT and above systems you can use: HB_INSTALL_PREFIX=~dp0% 
    which means the absolute dir where make_gnu.bat is located, so 
    in effect it's the same as '.', but this one works. 


    Brgds,
    Viktor






------------------------------------------------------------------------------


  _______________________________________________
  Harbour mailing list
  Harbour@harbour-project.org
  http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/6bec5e27/attachment.html
From mbelgrano at deltain.it  Fri Feb 27 15:39:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 27 15:39:54 2009
Subject: [Harbour] Will an installer help user?
Message-ID: <609353e70902271239w1e69b120ia78371936d3a912a@mail.gmail.com>

What about idea of creating a installer for harbour.
Particularry for windows user will be happy
As tool will be used InstallJammer that is a multiplatform GUI installer
cross-platform

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/8f91c975/attachment.html
From vszakats at users.sourceforge.net  Fri Feb 27 16:15:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 16:15:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10483] trunk/harbour
Message-ID: <E1LdA3C-0003v6-9N@d5vjzd1.ch3.sourceforge.com>

Revision: 10483
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10483&view=rev
Author:   vszakats
Date:     2009-02-27 21:15:08 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 22:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added '-Wl,-static' option for gcc/*nix when -fullstatic
      hbmk option is used. I hope this is fine. On my Ubuntu,
      this says: '/usr/bin/ld: cannot find -lgcc_s'.
    - Removed debug trace line left in.

  * contrib/Makefile
    ! Fixed commenting hbwhat.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Feb 27 17:56:30 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 17:56:35 2009
Subject: [Harbour] What is 'clean' option for?
Message-ID: <6E018E921E284E0194610831D9E6597F@emag>

As subject:

make_gnu clean

It doesn't seem to clean anything.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From vszakats at users.sourceforge.net  Fri Feb 27 17:57:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 17:57:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10484] trunk/harbour
Message-ID: <E1LdBeG-0002fF-TD@c3vjzd1.ch3.sourceforge.com>

Revision: 10484
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10484&view=rev
Author:   vszakats
Date:     2009-02-27 22:57:40 +0000 (Fri, 27 Feb 2009)

Log Message:
-----------
2009-02-27 23:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + mpkg_win.nsi
    + Added NSIS Windows installer script.
      Needs to be inserted into build creation process,
      which is completely missing yet from SVN. Anyhow
      it's tested and working well. At this moment it should
      be run from a freshly created dir created with
      'make_gnu.bat install'.
      You can find the result here:
      http://www.syenar.hu/harbour/harbour-1.1.0dev-win32-msvc.exe

  * utils/hbrun/hbrun.prg
    + Added -v option which simply runs '? hb_version()' after
      startup.

  * make_gnu.bat
    + Added init of HB_DOC_INSTALL.

  * doc/license.txt
    - Removed SVN header to be in full sync with /COPYING.

  * INSTALL
    * Minor cleanups.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/doc/license.txt
    trunk/harbour/make_gnu.bat
    trunk/harbour/utils/hbrun/hbrun.prg

Added Paths:
-----------
    trunk/harbour/mpkg_win.nsi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Feb 27 18:13:30 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Feb 27 18:13:34 2009
Subject: [Harbour] Four strange errors
Message-ID: <B39C3D7B743D4987A6FA62ED87ADC16D@emag>

During the build process I get

mingw32-make.exe[1]: [install] Error 1 (ignored)
mingw32-make.exe[2]: [install] Error 1 (ignored)
mingw32-make.exe[2]: [install] Error 1 (ignored)
mingw32-make.exe[1]: [install] Error 1 (ignored)

on the console, though they seem not have any bad effect on the build 
process itself.

Can I safely ignore them?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From info at fsgiudice.com  Fri Feb 27 18:24:47 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 27 18:24:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10484] trunk/harbour
In-Reply-To: <E1LdBeG-0002fF-TD@c3vjzd1.ch3.sourceforge.com>
References: <E1LdBeG-0002fF-TD@c3vjzd1.ch3.sourceforge.com>
Message-ID: <49A8763F.8030409@fsgiudice.com>

Hi Viktor,

Il 27/02/2009 23.57, vszakats@users.sourceforge.net ha scritto:
> 2009-02-27 23:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   + mpkg_win.nsi
>     + Added NSIS Windows installer script.
>       Needs to be inserted into build creation process,
>       which is completely missing yet from SVN. Anyhow
>       it's tested and working well. At this moment it should
>       be run from a freshly created dir created with
>       'make_gnu.bat install'.
>       You can find the result here:
>       http://www.syenar.hu/harbour/harbour-1.1.0dev-win32-msvc.exe
> 
Very good work!
One note:
doc folder contains en and es files that I think should be folders 
instead, and test folder is empty.

Best regards,
Francesco
From info at fsgiudice.com  Fri Feb 27 18:25:54 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 27 18:26:10 2009
Subject: [Harbour] What is 'clean' option for?
In-Reply-To: <6E018E921E284E0194610831D9E6597F@emag>
References: <6E018E921E284E0194610831D9E6597F@emag>
Message-ID: <49A87682.6020009@fsgiudice.com>

Hi Enrico,

Il 27/02/2009 23.56, Enrico Maria Giordano ha scritto:
> As subject:
> 
> make_gnu clean
> 
> It doesn't seem to clean anything.
> 
yes actually clean and install command are ignored.
Viktor ?

Best regards
Francesco
From harbour.01 at syenar.hu  Fri Feb 27 18:28:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 18:28:19 2009
Subject: [Harbour] hbmk2 - Lunux/GCC native compilation
In-Reply-To: <20090227201652.GA973@uran.home.aster.pl>
References: <20090227170518.GA5043@uran.home.aster.pl>
	<18d502870902271055g7502fe2fv1df979c805d2bb33@mail.gmail.com>
	<20090227201652.GA973@uran.home.aster.pl>
Message-ID: <18d502870902271528v51514c4eo8bc70784937b9544@mail.gmail.com>

Hi Przemek,


> > various startup proc problems as a whole (also -n1). Current
> > situation is rather confusing and also platform dependent.
>
> For GCC when hbmk2 compiles .prg code then it does not need any additional
> C compiler call. It's enough to check generated by Harbour .c code and
> generate additional .c file which you can add to already executed gcc
> command. The same is also rue for other .c control files. They does not


Ops, you're right, couldn't tell why was this my conclusion at that time :)


> have to be compiled separately when GCC is used. Just simply add them to
> link command. Other C compilers may work in different way here.
> The problem with -n1 is still open. But if hbmk2 does not give automatic
> alternative then it's hard to remove it from compiler.
> In the weekend I'll check if I can easy add some type of starting procedure
> auto detection to harbour compiler. It will check if the 1-st automatic
> procedure has any executable code. If yes then it will be added. If not
> then all declarations will be file wide.


It would be great.

Another thing which would be great and it's probably doable,
although I'm not sure what amount of work it is: We have #pragma
NOSTARTPROC option, but it only changes HB_FS_FIRST
behaviour, so it isn't a full replacement for -n. If it would be
(or we had such other #pragma), it could be easy to put it in
all .prgs which need it.

Overriding or specifying startup procedure may also be
specified similar way: #pragma STARTPROC=MYSTARTUPFUNC

Finally it might also help if Harbour would only pick the
first func/proc in the first passed .prg as FIRST. (it won't
help on objects, but would anyhow be useful for many
cases IMO.)

Just ideas.


> It may reduce the problem at least for users which tries to compiler
> different examples forgetting about -n switch. But if for such extensions
> it's necessary to introduce some more complicated hacks then I'll leave it
> to some deeper compiler modifications.
> Anyhow without some support from hbmk2 it's not possible to detect what
> is the 1-st procedure at runtime. When hbmk2 is used with .prg files then
> it's enough to add new harbour compiler switch but when it's used to
> link object files it will not be enough.


That's right. But to make me see more clear, is it the sole problem of gcc,
or are there also other compilers?

> more refinement we can make here (like LD_PATH check for harbour*.so
> > example). You can also force it by adding line 'shareddef=yes' to
> hbmk.cfg.
> > hbmk.cfg will be picked from these locations: ~/.harbour, /etc/harbour,
> > bin/../etc/harbour, bin/../etc, bin. In that order.
>
> I have system wide installation but probably hbmk2 was confused by
> links I used. I've just emulated default system installation and
> shared library is created but full path to harbour shared library
> is hardcoded into final binaries:
>   druzus:/tmp/13# ldd t
>        linux-gate.so.1 =>  (0xffffe000)
>        /usr/lib/harbour/libharbour.so (0xb7d9a000)
> It should be fixed. All such things will very badly interact with
> customized installation or system settings, f.e. when user have
> to use dchroot.


Wasn't intentional. I was a bit lost in this area, so it would
be great if you could post some more info on your environment
and hbmk2 settings.


> Automatic checking for system library directories may not be such
> easy as simple LD_PATH or other envvar checking but I'll look for
> some method which will work in Linux,.


Sounds great.


> > I know. See my other post, I need your help, or more details instructions
> > what to fix exactly. I have no idea what the option means, just tried to
> > copy the logic from hbmk script. Pls use -trace and post the wrong and
> > fixed command lines.
>
> I've wrote it in above sentence. -static GCC link time parameter should
> be added when -fullstatic hbmk2 option is used. That's all.
> You can use 'ldd <appname> to check the final binaries status. For dynamic
> binaries it will also show you all used libraries.


Thanks, sorry I've missed it. I've committed a fix.

After the fix I'm getting this strange message:
/usr/bin/ld: cannot find -lgcc_s


> > > 7. The installation paths (LIB/INCLUDE) are not stripped:
> > >   hbmk2 -n -q2 -shared t -trace
> > >   hbmk: Harbour compiler command:
> > >   /home/druzus/CVS/harbour/out/bin/../bin/harbour t \
> > >         -i/home/druzus/CVS/harbour/out/bin/../include -n -q2
> > >   hbmk: C compiler command:
> > >   gcc t.c   -O3  -ot -I/home/druzus/CVS/harbour/out/bin/../include \
> > >         -L/home/druzus/CVS/harbour/out/bin/../lib -L/usr/X11R6/lib \
> > >         -Wl,--start-group -lharbour -lhbcplr -lhbdebug -lm -ldl -lrt \
> > >         -lncurses -lslang -lX11 -Wl,--end-group
> > It will only strip paths when installed on a system location.
> > I can enable it for all cases, but it might be dangerous if
> > links are used along the way. If you confirm this isn't a problem,
> > I'll enable it. By "stripping" I meant to remove the '/../' parts
> > of it, maybe you meant something else. Pls tell. :)
>
> The native soft links should not be the source of any new problems here.
> In theory it's possible that directory has entry ".." which does not
> point to upper level dir. But for us it's unimportant. The ".." in the path
> comes from hbmk2 not from the installation paths and hbmk2 assumes that
> ".."
> points to upper level directory. It's not real path used during build/
> installation process. If sth can be wrong (I do not expect such situation
> in real life) then only because hbmk2 make it. If you think that striping
> can be a problem then then simply create the path in different way.
> Instead of:
>   cLibDir := cBinDir + "/../lib/harbour"
> use:
>   cLibDir := dirname( cBinDir ) + "lib/harbour"
> With such version you will exactly follow the paths used by build/installed
> scripts.


Okay I'll check, my normalizer does something very similar,
so it seems safe. Many thanks for the information.


> Thank you very much for all you job on hbmk2.


You're welcome!

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/0ec23e69/attachment.html
From harbour.01 at syenar.hu  Fri Feb 27 18:33:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 18:33:45 2009
Subject: [Harbour] Four strange errors
In-Reply-To: <B39C3D7B743D4987A6FA62ED87ADC16D@emag>
References: <B39C3D7B743D4987A6FA62ED87ADC16D@emag>
Message-ID: <18d502870902271533r5090f7e3te9c298c73df378ab@mail.gmail.com>

These are most probably explicitly ignored errors returned
by copy command (on install) trying to copy files on itself.
It happens if you don't specify HB_INSTALL_PREFIX.

An advise for everyone:

Please post your complete std+err output if there is any error,
because it's nearly impossible to guess by these messages
what actually causes them, in the full output though it's just
a matter of reading the lines above ;)

Brgds,
Viktor

On Sat, Feb 28, 2009 at 12:13 AM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

> During the build process I get
>
> mingw32-make.exe[1]: [install] Error 1 (ignored)
> mingw32-make.exe[2]: [install] Error 1 (ignored)
> mingw32-make.exe[2]: [install] Error 1 (ignored)
> mingw32-make.exe[1]: [install] Error 1 (ignored)
>
> on the console, though they seem not have any bad effect on the build
> process itself.
>
> Can I safely ignore them?
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/296e9de7/attachment-0001.html
From harbour.01 at syenar.hu  Fri Feb 27 18:50:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 18:50:16 2009
Subject: [Harbour] What is 'clean' option for?
In-Reply-To: <49A87682.6020009@fsgiudice.com>
References: <6E018E921E284E0194610831D9E6597F@emag>
	<49A87682.6020009@fsgiudice.com>
Message-ID: <18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>

I don't think so. 'clean' will clean the "temp" files and dirs created by
simple make run. It will never delete
anything from your install dirs though (again: same
as old non-GNU make). If you're unsure, compare the
folder size after build and after a consecutive 'clean'.

'install' is also working here, so I'm not sure what you're
experiencing, but I'd advise taking a closer look :)

1.) make (plain):
    Builds everything inside the source tree. You
    can't use the result to create any final apps at this
    point.
2.) make 'install'
    Will automatically do 1.) then
    will copy bin + lib created in 1.) + headers to their
    standard final destination. So that f.e. hbmk2 is
    able to find them.
3.) make 'clean'
    Will delete all files created in 1.)

Please experiment. This make system was working
since 10 years for Linux + everything except msvc
+ bcc32, so I don't expect huge principal problems with it.

One more note: If you're using HB_BUILD_DLL=yes,
make_gnu.bat will automatically do _two_ cycles of
complete build, with automatic clean and install in
both passes, so for experiments it's better to turn DLL
option off.

Brgds,
Viktor

On Sat, Feb 28, 2009 at 12:25 AM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Enrico,
>
> Il 27/02/2009 23.56, Enrico Maria Giordano ha scritto:
>
>> As subject:
>>
>> make_gnu clean
>>
>> It doesn't seem to clean anything.
>>
>>  yes actually clean and install command are ignored.
> Viktor ?
>
> Best regards
> Francesco
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/e4075e3b/attachment.html
From clipper5_y2d at versateladsl.be  Fri Feb 27 18:58:27 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Fri Feb 27 18:58:47 2009
Subject: [Harbour] What is 'clean' option for?
References: <6E018E921E284E0194610831D9E6597F@emag><49A87682.6020009@fsgiudice.com>
	<18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>
Message-ID: <B1BC56F22A6C4D62A45DFCBDBC52142D@ara>

Hi Viktor, 

Just a thought; in 3) you say that it deletes files from step 1, but aren't the files from step 2) also deleted (when the install happened from inside the svn root); also, an uninstall option which undo what step 2 actually does would be interesting, without touching what step 3 deletes

best regards, 

frank 

  ----- Original Message ----- 
  From: Viktor Szak?ts 
  To: Harbour Project Main Developer List. 
  Sent: Saturday, February 28, 2009 12:50 AM
  Subject: Re: [Harbour] What is 'clean' option for?


  I don't think so. 'clean' will clean the "temp" files and 
  dirs created by simple make run. It will never delete 
  anything from your install dirs though (again: same 
  as old non-GNU make). If you're unsure, compare the 
  folder size after build and after a consecutive 'clean'.


  'install' is also working here, so I'm not sure what you're 
  experiencing, but I'd advise taking a closer look :)


  1.) make (plain):
      Builds everything inside the source tree. You 
      can't use the result to create any final apps at this 
      point.
  2.) make 'install'
      Will automatically do 1.) then 
      will copy bin + lib created in 1.) + headers to their 
      standard final destination. So that f.e. hbmk2 is 
      able to find them.
  3.) make 'clean'
      Will delete all files created in 1.)


  Please experiment. This make system was working 
  since 10 years for Linux + everything except msvc 
  + bcc32, so I don't expect huge principal problems with it.


  One more note: If you're using HB_BUILD_DLL=yes, 
  make_gnu.bat will automatically do _two_ cycles of 
  complete build, with automatic clean and install in 
  both passes, so for experiments it's better to turn DLL 
  option off.


  Brgds,
  Viktor


  On Sat, Feb 28, 2009 at 12:25 AM, Francesco Saverio Giudice <info@fsgiudice.com> wrote:

    Hi Enrico,

    Il 27/02/2009 23.56, Enrico Maria Giordano ha scritto:


      As subject:

      make_gnu clean

      It doesn't seem to clean anything.


    yes actually clean and install command are ignored.
    Viktor ?

    Best regards
    Francesco

    _______________________________________________
    Harbour mailing list
    Harbour@harbour-project.org
    http://lists.harbour-project.org/mailman/listinfo/harbour





------------------------------------------------------------------------------


  _______________________________________________
  Harbour mailing list
  Harbour@harbour-project.org
  http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/18b165f1/attachment.html
From info at fsgiudice.com  Fri Feb 27 19:10:44 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 27 19:10:53 2009
Subject: [Harbour] What is 'clean' option for?
In-Reply-To: <18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>
References: <6E018E921E284E0194610831D9E6597F@emag>	<49A87682.6020009@fsgiudice.com>
	<18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>
Message-ID: <49A88104.2060605@fsgiudice.com>

Hi Viktor,

Il 28/02/2009 0.50, Viktor Szak?ts ha scritto:
> I don't think so. 'clean' will clean the "temp" files and 
> dirs created by simple make run. It will never delete 
> anything from your install dirs though (again: same 
> as old non-GNU make). If you're unsure, compare the 
> folder size after build and after a consecutive 'clean'.
> 
> 'install' is also working here, so I'm not sure what you're 
> experiencing, but I'd advise taking a closer look :)
> 
> 1.) make (plain):
>     Builds everything inside the source tree. You 
>     can't use the result to create any final apps at this 
>     point.
> 2.) make 'install'
>     Will automatically do 1.) then 
>     will copy bin + lib created in 1.) + headers to their 
>     standard final destination. So that f.e. hbmk2 is 
>     able to find them.
> 3.) make 'clean'
>     Will delete all files created in 1.)
> 
> Please experiment. This make system was working 
> since 10 years for Linux + everything except msvc 
> + bcc32, so I don't expect huge principal problems with it.
> 
> One more note: If you're using HB_BUILD_DLL=yes, 
> make_gnu.bat will automatically do _two_ cycles of 
> complete build, with automatic clean and install in 
> both passes, so for experiments it's better to turn DLL 
> option off.
> 
Yes, I know that make works so, but I'm talking about current 
make_gnu.bat that, apart from notes wrote at begin of file, has hard 
coded "make clean" and "make install", so it doesn't takes parameters 
from command line.
Best regards
Francesco

From harbour.01 at syenar.hu  Fri Feb 27 19:18:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 19:18:23 2009
Subject: [Harbour] What is 'clean' option for?
In-Reply-To: <49A88104.2060605@fsgiudice.com>
References: <6E018E921E284E0194610831D9E6597F@emag>
	<49A87682.6020009@fsgiudice.com>
	<18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>
	<49A88104.2060605@fsgiudice.com>
Message-ID: <18d502870902271618r5b5596a6q9d08e85d991dd0a9@mail.gmail.com>

>
> One more note: If you're using HB_BUILD_DLL=yes, make_gnu.bat will
>> automatically do _two_ cycles of complete build, with automatic clean and
>> install in both passes, so for experiments it's better to turn DLL option
>> off.
>>
>>  Yes, I know that make works so, but I'm talking about current
> make_gnu.bat that, apart from notes wrote at begin of file, has hard coded
> "make clean" and "make install", so it doesn't takes parameters from command
> line.


It does, line #133:
   %_HB_MAKE% %HB_USER_MAKEFLAGS% %1 %2 %3 %4 %5 %6 %7 %8 %9

The above gets executed in normal (HB_BUILD_DLL!=yes) cases.

Only if you need a DLL build make_gnu.bat will do its cycles
automatically (there is no other solution, as it has to make
a pass with DLL options, clean, and do another one with
normal options (same happens BTW in non-GNU make, but
it was hidden inside one make pass).

If that causes major problem, I can move this functionality to
an mpkg_win.bat, but I'd rather not touch it for a while now to
be honest ;)

Also note that compatibility make_b32.bat and make_vc.bat
files will also trigger DLL build to stay compatible with latest
non-GNU system. I can remove this option from there, but
overall these are compatibility files and I'd not recommend
using them if possible. I hope they'll be removed rather soon.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/c625a741/attachment.html
From harbour.01 at syenar.hu  Fri Feb 27 19:20:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 27 19:20:55 2009
Subject: [Harbour] What is 'clean' option for?
In-Reply-To: <B1BC56F22A6C4D62A45DFCBDBC52142D@ara>
References: <6E018E921E284E0194610831D9E6597F@emag>
	<49A87682.6020009@fsgiudice.com>
	<18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>
	<B1BC56F22A6C4D62A45DFCBDBC52142D@ara>
Message-ID: <18d502870902271620k6e1f641epa66fb355db79e034@mail.gmail.com>

On Sat, Feb 28, 2009 at 12:58 AM, frank van nuffel <
clipper5_y2d@versateladsl.be> wrote:

>  Hi Viktor,
>
> Just a thought; in 3) you say that it deletes files from step 1, but aren't
> the files from step 2) also deleted (when the install happened from inside
> the svn root); also, an uninstall option which undo what step 2 actually
> does would be interesting, without touching what step 3 deletes
>

No, final install files are never deleted by make 'clean', not
even if you 'install' in the _source tree_. What you suggest
falls out of GNU Make's territory, once you've installed, you
are the one responsible for those files, and GNU Make doesn't
keep track of them. [ Notice GNU Make doesn't even create
those install dirs, it's done manually by make_gnu.bat. ]

We have the HB_INSTALL_PREFIX (and HB_*_INSTALL)
options exactly to supply such an empty dir which can
receive the final files. I for example use to simply delete
those dir completely if I'd like to "clean" my install dirs.

All this is normal and standard make behaviour for most
projects (including Harbour's both make systems).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/368c1bc3/attachment-0001.html
From vszakats at users.sourceforge.net  Fri Feb 27 19:22:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 27 19:22:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10485] trunk/harbour
Message-ID: <E1LdCyd-0004f7-3h@c3vjzd1.ch3.sourceforge.com>

Revision: 10485
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10485&view=rev
Author:   vszakats
Date:     2009-02-28 00:22:43 +0000 (Sat, 28 Feb 2009)

Log Message:
-----------
2009-02-28 01:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added win/owatcom.
    + Added contrib control options.

  * bin/postinst.bat
    % Optimized, cleaned.

  * mpkg_win.nsi
    - Turned off checkbox in "view readme" option.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat
    trunk/harbour/mpkg_win.nsi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Fri Feb 27 19:40:27 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Feb 27 19:40:36 2009
Subject: [Harbour] What is 'clean' option for?
In-Reply-To: <18d502870902271618r5b5596a6q9d08e85d991dd0a9@mail.gmail.com>
References: <6E018E921E284E0194610831D9E6597F@emag>	<49A87682.6020009@fsgiudice.com>	<18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>	<49A88104.2060605@fsgiudice.com>
	<18d502870902271618r5b5596a6q9d08e85d991dd0a9@mail.gmail.com>
Message-ID: <49A887FB.6000203@fsgiudice.com>



Il 28/02/2009 1.18, Viktor Szak?ts ha scritto:
> It does, line #133:
>    %_HB_MAKE% %HB_USER_MAKEFLAGS% %1 %2 %3 %4 %5 %6 %7 %8 %9
> 
> The above gets executed in normal (HB_BUILD_DLL!=yes) cases.
> 
> Only if you need a DLL build make_gnu.bat will do its cycles 
> automatically (there is no other solution, as it has to make 
> a pass with DLL options, clean, and do another one with 
> normal options (same happens BTW in non-GNU make, but 
> it was hidden inside one make pass).
> 
> If that causes major problem, I can move this functionality to 
> an mpkg_win.bat, but I'd rather not touch it for a while now to 
> be honest ;)
> 
> Also note that compatibility make_b32.bat and make_vc.bat 
> files will also trigger DLL build to stay compatible with latest 
> non-GNU system. I can remove this option from there, but 
> overall these are compatibility files and I'd not recommend 
> using them if possible. I hope they'll be removed rather soon.
> 
ok, now I have understood.
Thank you

Best regards,
Francesco
From bedipritpal at hotmail.com  Fri Feb 27 20:31:58 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 27 20:32:02 2009
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !
Message-ID: <22257583.post@talk.nabble.com>


Hello Everybody

New "make" system has turned out to be 
sheer joy for developers and a master-piece 
in Harbour's jewellery.

Today I have been able to compile and execute
Harbour / DemoWvg.prg via two different compilers
BCC55 and MSVC2008 with parallel builds. Now
"n" numbers of compilers can be hosted on the same
machine without any hassels which was a nightmare
only a week before.

Viktor, you have accomplished a mission impossible!

Please accept my deep appreciation for it.

Regards
Pritpal Bedi, INDIA
-- 
View this message in context: http://www.nabble.com/A-Note-of-Appreciation---Welldone-Viktor-%21-tp22257583p22257583.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Feb 28 03:54:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 03:54:49 2009
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !
In-Reply-To: <22257583.post@talk.nabble.com>
References: <22257583.post@talk.nabble.com>
Message-ID: <18d502870902280054n2f809a5v22cdd781d31fdb2@mail.gmail.com>

Thank you Pritpal.
Brgds,
Viktor

On Sat, Feb 28, 2009 at 2:31 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hello Everybody
>
> New "make" system has turned out to be
> sheer joy for developers and a master-piece
> in Harbour's jewellery.
>
> Today I have been able to compile and execute
> Harbour / DemoWvg.prg via two different compilers
> BCC55 and MSVC2008 with parallel builds. Now
> "n" numbers of compilers can be hosted on the same
> machine without any hassels which was a nightmare
> only a week before.
>
> Viktor, you have accomplished a mission impossible!
>
> Please accept my deep appreciation for it.
>
> Regards
> Pritpal Bedi, INDIA
> --
> View this message in context:
> http://www.nabble.com/A-Note-of-Appreciation---Welldone-Viktor-%21-tp22257583p22257583.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/12db97b2/attachment.html
From e.m.giordano at emagsoftware.it  Sat Feb 28 03:54:49 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Feb 28 03:55:00 2009
Subject: [Harbour] What is 'clean' option for?
References: <6E018E921E284E0194610831D9E6597F@emag><49A87682.6020009@fsgiudice.com>
	<18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>
Message-ID: <0F645FFD9E624BC2ACA6E37D054D5033@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 28 febbraio 2009 0.50
Oggetto: Re: [Harbour] What is 'clean' option for?


> I don't think so. 'clean' will clean the "temp" files and dirs created by
> simple make run. It will never delete
> anything from your install dirs though (again: same
> as old non-GNU make). If you're unsure, compare the
> folder size after build and after a consecutive 'clean'.

Ok. Please let me know if my batch looks fine:

@ ECHO OFF
SET PATH=e:\utl\make;e:\bcc55\bin;%PATH%
SET HB_COMPILER=bcc32
make_gnu clean install > make_gnu.log

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lorenzo.fiorini at gmail.com  Sat Feb 28 03:56:00 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Feb 28 03:56:05 2009
Subject: [Harbour] mpkg_win.nsi issue
Message-ID: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>

Compiling mpkg_win.nsi I get:

File: "lib\*.*" -> no files found.
Usage: File [/nonfatal] [/a] ([/r] [/x filespec [...]] filespec [...] |
   /oname=outfile one_file_only)
Error in script "C:\dvl\src\ws\harbour\mpkg_win.nsi" on line 91 --
aborting creation process

I use msys/mingw and my install dir is different from the source tree.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Sat Feb 28 03:56:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 28 03:56:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10486] trunk/harbour
Message-ID: <E1LdL01-0002A0-SR@d5vjzd1.ch3.sourceforge.com>

Revision: 10486
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10486&view=rev
Author:   vszakats
Date:     2009-02-28 08:56:45 +0000 (Sat, 28 Feb 2009)

Log Message:
-----------
2009-02-28 09:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed yesterday's -fullstatic patch. Now it should work.

  * make_b32.bat
  * make_vc.bat
    - Disabled automatic .dll builds to expose the 
      pure make_gnu.bat interface.
    * Some refininements to vc version.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_b32.bat
    trunk/harbour/make_vc.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sat Feb 28 04:07:42 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Feb 28 04:07:47 2009
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !
In-Reply-To: <22257583.post@talk.nabble.com>
References: <22257583.post@talk.nabble.com>
Message-ID: <9257026e0902280107j36c06a6em783ca58c4b5ff0d7@mail.gmail.com>

On Sat, Feb 28, 2009 at 2:31 AM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:

> New "make" system has turned out to be
> sheer joy for developers and a master-piece
> in Harbour's jewellery.
> ...
> Viktor, you have accomplished a mission impossible!
>
> Please accept my deep appreciation for it.

+1

I've never "seen" the non gnu make system since before sync I run:
...
find . -name ".svn" -exec rm -rf '{}' \; &>/dev/null
find . -name "*.bat" -exec rm -rf '{}' \;
find . -name "*.mak" -exec rm -rf '{}' \;
find . -name "*.cmd" -exec rm -rf '{}' \;
find . -name "make_gcc.sh" -exec rm -rf '{}' \;
find . -name "*.mdb" -exec rm -rf '{}' \;
find . -name "*.dbf" -exec rm -rf '{}' \;
...

but I think that a cleaner Win build system is a big step for Harbour.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Feb 28 04:13:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 04:14:03 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
Message-ID: <18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>

Hi Lorenzo,
I know. You have to copy .nsi to the root of your install
tree until I find a solution for this problem. Maybe it's
obvious but yesterday I couldn't find it in 1-2 hours :)

Brgds,
Viktor

On Sat, Feb 28, 2009 at 9:56 AM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> Compiling mpkg_win.nsi I get:
>
> File: "lib\*.*" -> no files found.
> Usage: File [/nonfatal] [/a] ([/r] [/x filespec [...]] filespec [...] |
>   /oname=outfile one_file_only)
> Error in script "C:\dvl\src\ws\harbour\mpkg_win.nsi" on line 91 --
> aborting creation process
>
> I use msys/mingw and my install dir is different from the source tree.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/bfd40bee/attachment.html
From info at fsgiudice.com  Sat Feb 28 04:14:11 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Feb 28 04:14:18 2009
Subject: [Harbour] What is 'clean' option for?
In-Reply-To: <0F645FFD9E624BC2ACA6E37D054D5033@emag>
References: <6E018E921E284E0194610831D9E6597F@emag><49A87682.6020009@fsgiudice.com>	<18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>
	<0F645FFD9E624BC2ACA6E37D054D5033@emag>
Message-ID: <49A90063.9010601@fsgiudice.com>

Hi Enrico,

Il 28/02/2009 9.54, Enrico Maria Giordano ha scritto:
> 
> 
> Ok. Please let me know if my batch looks fine:
> 
> @ ECHO OFF
> SET PATH=e:\utl\make;e:\bcc55\bin;%PATH%
> SET HB_COMPILER=bcc32
> make_gnu clean install > make_gnu.log
> 

This is my batch.
Best regards
Francesco

-----------


set HB_ARCHITECTURE=win
set HB_COMPILER=bcc32
rem ****** put here your INSTALL PATH vvvvvv
set HB_INSTALL_PREFIX=j:\cvs\harbour_%HB_COMPILER%
rem *** or use current directory ***
rem set HB_INSTALL_PREFIX=%~dp0
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=

set HB_BUILD_DLL=yes
set HB_USER_CFLAGS=-DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF

rem ********** libraries ***********
set HB_DIR_GD=j:\lib\gd
set HB_DIR_FREEIMAGE=j:\lib\freeimage
set HB_DIR_BLAT=j:\lib\blat
set HB_DIR_MINIZIP=j:\lib\zlib
set HB_DIR_ZLIB=j:\lib\zlib
set HB_DIR_FIREBIRD=J:\Firebird\Firebird_2_1
set HB_DIR_LIBHARU=j:\lib\libharu
set HB_DIR_CURL=j:\lib\curl
set HB_DIR_OPENSSL=j:\lib\openssl
rem ********************************

IF NOT "%HB_BUILD_DLL%"=="yes" GOTO std_build

:dll_build
rem *** in this case make_gnu.bat will do clean and install
call make_gnu.bat > makegnu_%HB_COMPILER%.log
goto end

:std_build
call make_gnu.bat clean > makegnu_%HB_COMPILER%.log
call make_gnu.bat install >> makegnu_%HB_COMPILER%.log

:end

From vszakats at users.sourceforge.net  Sat Feb 28 04:16:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 28 04:16:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10487] trunk/harbour
Message-ID: <E1LdLIe-0002RX-CU@d5vjzd1.ch3.sourceforge.com>

Revision: 10487
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10487&view=rev
Author:   vszakats
Date:     2009-02-28 09:15:59 +0000 (Sat, 28 Feb 2009)

Log Message:
-----------
2009-02-28 10:15 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Reenabled and fixed call to entry function autodetection 
      for gcc.
    + Now all Harbour dirs are always normalized (stripped).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sat Feb 28 04:17:21 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Feb 28 04:17:26 2009
Subject: [Harbour] HB_INC_x vs HB_DIR_x
Message-ID: <9257026e0902280117u302a7c29qfccda5072059d5ff@mail.gmail.com>

In gnuwin32 is standard that a lib is installed as:

<path>\bin
          \lib
          \include

so I use HB_DIR_x/lib to prefix the libs for the link, HB_DIR_x/bin to
prefix the dlls and in every contrib makefile I have:

...
ifneq ($(HB_DIR_GD),)
   HB_INC_GD = $(HB_DIR_GD)/include
endif
...

in this way I define only where I installed the lib using HB_DIR_x

It could be:
...
ifeq ($(HB_INC_GD),)
ifneq ($(HB_DIR_GD),)
   HB_INC_GD = $(HB_DIR_GD)/include
endif
endif
...

Just an idea.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sat Feb 28 04:23:58 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Feb 28 04:24:02 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
Message-ID: <9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com>

On Sat, Feb 28, 2009 at 10:13 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I know. You have to copy .nsi to the root of your install
> tree until I find a solution for this problem. Maybe it's
> obvious?but yesterday I couldn't find it in 1-2 hours :)

Sorry it is the first time I use nsi.
I've only installed it to help with tests.
My only way to deploy apps are zips.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Sat Feb 28 04:27:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 28 04:27:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10488] trunk/harbour
Message-ID: <E1LdLTL-00032i-L0@d5vjzd1.ch3.sourceforge.com>

Revision: 10488
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10488&view=rev
Author:   vszakats
Date:     2009-02-28 09:27:01 +0000 (Sat, 28 Feb 2009)

Log Message:
-----------
2009-02-28 10:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    * Cleaned the section dealing with GNU Make on Windows.
      ---
      3.) Make sure to have GNU Make. We recommend the one distributed
          with MinGW. To get it:
          - Use your search engine with 'mingw gnu make'
          - Use this link:
            http://sourceforge.net/project/showfiles.php?group_id=2435
          If you have it, you have three choices:
          - Put mingw32-make.exe anywhere in your PATH. (recommended)
          - Put mingw32-make.exe in Harbour source root dir.
          - Rename mingw32-make.exe to make.exe and put it in
            your PATH _before_ your compiler tools.
      ---

  * make_gnu.bat
    + mingw32-make.exe is now also accepted in Harbour's source
      tree root.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 28 04:28:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 04:28:37 2009
Subject: [Harbour] What is 'clean' option for?
In-Reply-To: <0F645FFD9E624BC2ACA6E37D054D5033@emag>
References: <6E018E921E284E0194610831D9E6597F@emag>
	<49A87682.6020009@fsgiudice.com>
	<18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>
	<0F645FFD9E624BC2ACA6E37D054D5033@emag>
Message-ID: <18d502870902280128h38d39d1bg10457bd145e773b1@mail.gmail.com>

Hi Enrico,
Looks perfect.

I've managed to lax the rules for make.exe, so now you have the
option to just put it _anywhere_ in your PATH under the original
name mingw32-make.exe. See more in INSTALL. Anyhow, this
is also perfect, and the one I also used till now.

Brgds,
Viktor

On Sat, Feb 28, 2009 at 9:54 AM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: sabato 28 febbraio 2009 0.50
> Oggetto: Re: [Harbour] What is 'clean' option for?
>
>
>  I don't think so. 'clean' will clean the "temp" files and dirs created by
>> simple make run. It will never delete
>> anything from your install dirs though (again: same
>> as old non-GNU make). If you're unsure, compare the
>> folder size after build and after a consecutive 'clean'.
>>
>
> Ok. Please let me know if my batch looks fine:
>
> @ ECHO OFF
> SET PATH=e:\utl\make;e:\bcc55\bin;%PATH%
> SET HB_COMPILER=bcc32
> make_gnu clean install > make_gnu.log
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/3523b17d/attachment.html
From harbour.01 at syenar.hu  Sat Feb 28 04:38:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 04:38:51 2009
Subject: [Harbour] What is 'clean' option for?
In-Reply-To: <49A90063.9010601@fsgiudice.com>
References: <6E018E921E284E0194610831D9E6597F@emag>
	<49A87682.6020009@fsgiudice.com>
	<18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com>
	<0F645FFD9E624BC2ACA6E37D054D5033@emag>
	<49A90063.9010601@fsgiudice.com>
Message-ID: <18d502870902280138q15b52cffq5392e381c7241134@mail.gmail.com>

Hi Francesco,

set HB_ARCHITECTURE=win
> set SHLVL=


These are set by make_gnu.bat, but of course it doesn't
hurt if you specify them.


> rem ********** libraries ***********
> set HB_DIR_GD=j:\lib\gd
> set HB_DIR_FREEIMAGE=j:\lib\freeimage
> set HB_DIR_BLAT=j:\lib\blat
> set HB_DIR_MINIZIP=j:\lib\zlib
> set HB_DIR_ZLIB=j:\lib\zlib
> set HB_DIR_FIREBIRD=J:\Firebird\Firebird_2_1
> set HB_DIR_LIBHARU=j:\lib\libharu
> set HB_DIR_CURL=j:\lib\curl
> set HB_DIR_OPENSSL=j:\lib\openssl
> rem ********************************


Here I'd like to clarify current situation, which is a bit different
than with non-GNU Make. Part of it is also tentative, so bear with me.

For GNU Make, the standard envvars were and are HB_INC_*, and they
have to point to the _header_ dirs of the external packages. Otherwise
they won't be built.

Now, HB_DIR_* is also still around, and you need these only if you
want to get the import libs built and copied to your HB_LIB_INSTALL
paths. This is very useful for local builds, but are better to be avoided
when doing builds for distribution. So they are disabled by default,
even if your specify HB_DIR_*. To enabled it, you have to add:
set HB_DIR_IMPLIB=yes

[ This latter part is new and may get some tweaking depending
on feedback and new ideas. To relieve some burden from our make
system I was considering switching to HB_LIB_* settings, so that
Harbour shouldn't guess where to find .dlls/.libs inside the external
packages dir tree. We can also turn it on by default, if HB_DIR_*
envvars are set. Dunno yet, we will see, feedback is welcome. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/ed35a6a0/attachment.html
From lorenzo.fiorini at gmail.com  Sat Feb 28 04:47:50 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Feb 28 04:47:55 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
Message-ID: <9257026e0902280147g4b193b50rdd03e34ba18b4203@mail.gmail.com>

On Sat, Feb 28, 2009 at 10:13 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I know. You have to copy .nsi to the root of your install
> tree until I find a solution for this problem. Maybe it's
> obvious?but yesterday I couldn't find it in 1-2 hours :)

I did but I've just noted that I don't have the doc dir in the install dir.

It seems that HB_DOC_INSTALL need to be defined but it has only
referenced in config/doc.cf.

Anyone else with this situation?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Feb 28 04:48:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 04:48:19 2009
Subject: [Harbour] HB_INC_x vs HB_DIR_x
In-Reply-To: <9257026e0902280117u302a7c29qfccda5072059d5ff@mail.gmail.com>
References: <9257026e0902280117u302a7c29qfccda5072059d5ff@mail.gmail.com>
Message-ID: <18d502870902280148vf6341d0tb125b60e6adc866f@mail.gmail.com>

Hi Lorenzo,
Yes could be done (see my just sent mail to Francesco on this topic),
however in this case we take the burden of dealing with internal dir
structures of external packages. Unfortunately situation is not as clean
for all packages and for all distros, so any script should either do guess,
do autodetection, or we must require usage of certain standardized
distribution packages for Harbour. This latter won't cover stuff like ADS
and BLAT, and probably other non-GNU stuff.

To sum it up:
- For users it's the best / easiest to offer HB_DIR_ option only.
- For Harbour we need to deal with INC, LIB (for .libs) and BIN (for
.dlls) dir.
- These dirs aren't standarized for all packages and they won't be.

One solution is to create scripts (batch and bash) which would to
the conversion from DIR to INC/LIB/BIN (using autodetection). And
the make files would continue to use what users supply. For a start,
this could be part of the make_gnu.* scripts to not pollute the
contrib dirs with these things. [ of course Makefiles already do some
level of autodetection for *nix system. ]

Brgds,
Viktor

On Sat, Feb 28, 2009 at 10:17 AM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com
> wrote:

> In gnuwin32 is standard that a lib is installed as:
>
> <path>\bin
>          \lib
>          \include
>
> so I use HB_DIR_x/lib to prefix the libs for the link, HB_DIR_x/bin to
> prefix the dlls and in every contrib makefile I have:
>
> ...
> ifneq ($(HB_DIR_GD),)
>   HB_INC_GD = $(HB_DIR_GD)/include
> endif
> ...
>
> in this way I define only where I installed the lib using HB_DIR_x
>
> It could be:
> ...
> ifeq ($(HB_INC_GD),)
> ifneq ($(HB_DIR_GD),)
>   HB_INC_GD = $(HB_DIR_GD)/include
> endif
> endif
> ...
>
> Just an idea.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/7ca12858/attachment-0001.html
From harbour.01 at syenar.hu  Sat Feb 28 04:50:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 04:50:34 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
	<9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com>
Message-ID: <18d502870902280150i4efe11di8626ba25c6a17531@mail.gmail.com>

>
> > I know. You have to copy .nsi to the root of your install
> > tree until I find a solution for this problem. Maybe it's
> > obvious but yesterday I couldn't find it in 1-2 hours :)
>
> Sorry it is the first time I use nsi.
> I've only installed it to help with tests.
> My only way to deploy apps are zips.


No problem, I genuinely hate installers on all systems :)

[ some users like it though, so maybe we can make
Harbour more "accessible". ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/20d544b5/attachment.html
From harbour.01 at syenar.hu  Sat Feb 28 04:56:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 04:57:02 2009
Subject: [Harbour] hbmk2 - Lunux/GCC native compilation
In-Reply-To: <20090227170518.GA5043@uran.home.aster.pl>
References: <20090227170518.GA5043@uran.home.aster.pl>
Message-ID: <18d502870902280156v702ab6cdke72a6c64d8365457@mail.gmail.com>

Hi Przemek,


> 1. no extension is used for -cmp option
>   hbmk -hbcmp t.prg
>   generates object file "t" instead of "t.o"
> 2. hbmk -hbcmp t.c
>   the same problem as in pkt. 1
> 3. hbmk -hbcc t.c
>   does not call C compiler


Both should be fixed.


> 4. automatic 1-st funtion detection does not work:
>   echo "proc p;? 'hello'" > t.prg && hbmk2 -n -q2 t.prg && ./t
>   Unrecoverable error 9012: Can't locate the starting procedure: 'MAIN'


Should be fixed now.


> 5. it still creates binaries which uses harbour static libraries in *nixes


LD_PATH or other "smart" autodetection as a TODO.


> 6. -fullstatic does not work. When this switch is used -static parameter
>   should be passed to gcc. You cannot test it in MinGW because here
>   such functionality does not exists and system libraries cannot be
>   included.


Should work now.


> 7. The installation paths (LIB/INCLUDE) are not stripped:
>   hbmk2 -n -q2 -shared t -trace
>   hbmk: Harbour compiler command:
>   /home/druzus/CVS/harbour/out/bin/../bin/harbour t \
>         -i/home/druzus/CVS/harbour/out/bin/../include -n -q2
>   hbmk: C compiler command:
>   gcc t.c   -O3  -ot -I/home/druzus/CVS/harbour/out/bin/../include \
>         -L/home/druzus/CVS/harbour/out/bin/../lib -L/usr/X11R6/lib \
>         -Wl,--start-group -lharbour -lhbcplr -lhbdebug -lm -ldl -lrt \
>         -lncurses -lslang -lX11 -Wl,--end-group


This should be okay now.

I have system wide installation but probably hbmk2 was confused by
>
links I used. I've just emulated default system installation and
>
shared library is created but full path to harbour shared library
>
is hardcoded into final binaries:
>
  druzus:/tmp/13# ldd t
>
       linux-gate.so.1 =>  (0xffffe000)
>
       /usr/lib/harbour/libharbour.so (0xb7d9a000)
>
It should be fixed. All such things will very badly interact with
>
customized installation or system settings, f.e. when user have
>
to use dchroot.


Still a TODO. Currently path won't be included if Harbour is installed
on a system location, and it will otherwise.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/960e7a2f/attachment.html
From harbour.01 at syenar.hu  Sat Feb 28 05:08:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 05:08:55 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <9257026e0902280147g4b193b50rdd03e34ba18b4203@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
	<9257026e0902280147g4b193b50rdd03e34ba18b4203@mail.gmail.com>
Message-ID: <18d502870902280208s726612k4bce71573874959f@mail.gmail.com>

The doc dir should now be set by make_gnu.bat automatically (when not set by
caller).
[ I'll add it to OS/2 cmd, and we could also add it to .sh ]

Brgds,
Viktor

On Sat, Feb 28, 2009 at 10:47 AM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com
> wrote:

> On Sat, Feb 28, 2009 at 10:13 AM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
>
> > I know. You have to copy .nsi to the root of your install
> > tree until I find a solution for this problem. Maybe it's
> > obvious but yesterday I couldn't find it in 1-2 hours :)
>
> I did but I've just noted that I don't have the doc dir in the install dir.
>
> It seems that HB_DOC_INSTALL need to be defined but it has only
> referenced in config/doc.cf.
>
> Anyone else with this situation?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/e97730df/attachment.html
From clipper5_y2d at versateladsl.be  Sat Feb 28 05:20:27 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Sat Feb 28 05:20:50 2009
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !
References: <22257583.post@talk.nabble.com>
Message-ID: <B21BCE17537C456AB83E343A6125BC60@ara>

Well said; thank you all very much!

frank

----- Original Message ----- 
From: "Pritpal Bedi" <bedipritpal@hotmail.com>
To: <harbour@harbour-project.org>
Sent: Saturday, February 28, 2009 2:31 AM
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !


>
> Hello Everybody
>
> New "make" system has turned out to be
> sheer joy for developers and a master-piece
> in Harbour's jewellery.
>
> Today I have been able to compile and execute
> Harbour / DemoWvg.prg via two different compilers
> BCC55 and MSVC2008 with parallel builds. Now
> "n" numbers of compilers can be hosted on the same
> machine without any hassels which was a nightmare
> only a week before.
>
> Viktor, you have accomplished a mission impossible!
>
> Please accept my deep appreciation for it.
>
> Regards
> Pritpal Bedi, INDIA
> -- 
> View this message in context: 
> http://www.nabble.com/A-Note-of-Appreciation---Welldone-Viktor-%21-tp22257583p22257583.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From lorenzo.fiorini at gmail.com  Sat Feb 28 05:48:50 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Feb 28 05:48:55 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <18d502870902280208s726612k4bce71573874959f@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
	<9257026e0902280147g4b193b50rdd03e34ba18b4203@mail.gmail.com>
	<18d502870902280208s726612k4bce71573874959f@mail.gmail.com>
Message-ID: <9257026e0902280248m3541beffq8676674d006c3d97@mail.gmail.com>

On Sat, Feb 28, 2009 at 11:08 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> The doc dir should now be set by make_gnu.bat automatically
> (when not set by caller).
> [ I'll add it to OS/2 cmd, and we could also add it to .sh ]

Many thanks.

I've added it locally to make_gnu.sh and now the nsi installer is built.

Looking in the doc dir I wonder if the es doc dir is synced with en
and if both are updated enough.
Also I've seen that there are some readme.txt or hbdoc's txt files around.
I think that no doc is still better than wrong or outdated doc.
If there is no doc I ask instead I can by misleaded which is much more
irritating.
I have nothing againt es ( to be true I love spain, I'm studying
spanish and is one of the country I would like to live ) but I'm not
sure we've the resources to keep any doc in a language different from
en.

best regards,
Lorenzo
From info at fsgiudice.com  Sat Feb 28 05:50:57 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Feb 28 05:51:11 2009
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !
In-Reply-To: <22257583.post@talk.nabble.com>
References: <22257583.post@talk.nabble.com>
Message-ID: <49A91711.4020104@fsgiudice.com>



Il 28/02/2009 2.31, Pritpal Bedi ha scritto:
> 
> Please accept my deep appreciation for it.
+1
Best regards
Francesco

From e.m.giordano at emagsoftware.it  Sat Feb 28 05:59:15 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Feb 28 05:59:20 2009
Subject: [Harbour] What is 'clean' option for?
References: <6E018E921E284E0194610831D9E6597F@emag><49A87682.6020009@fsgiudice.com><18d502870902271550o7c2e743cybe2bb4fbc82c062f@mail.gmail.com><0F645FFD9E624BC2ACA6E37D054D5033@emag>
	<18d502870902280128h38d39d1bg10457bd145e773b1@mail.gmail.com>
Message-ID: <B59F64FDE22840F3A1ED57C7FEC3269E@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 28 febbraio 2009 10.28
Oggetto: Re: [Harbour] What is 'clean' option for?


> Hi Enrico,
> Looks perfect.
>
> I've managed to lax the rules for make.exe, so now you have the
> option to just put it _anywhere_ in your PATH under the original
> name mingw32-make.exe. See more in INSTALL. Anyhow, this
> is also perfect, and the one I also used till now.

Great! My batch is now even simplier than before:

@ ECHO OFF
SET PATH=e:\bcc55\bin;%PATH%
SET HB_COMPILER=bcc32
make_gnu clean install > make_gnu.log

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sat Feb 28 06:19:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 28 06:19:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10489] trunk/harbour
Message-ID: <E1LdNE7-0007tk-CC@74yxhf1.ch3.sourceforge.com>

Revision: 10489
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10489&view=rev
Author:   vszakats
Date:     2009-02-28 11:19:26 +0000 (Sat, 28 Feb 2009)

Log Message:
-----------
2009-02-28 12:12 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_gnu_os2.cmd
  * make_gnu.sh
    + Setting HB_DOC_INSTALL dir.
      (the .sh sets it only for mingw, please test)

  * INSTALL
  * contrib/hbhpdf/make_b32.bat
  * contrib/hbhpdf/make_vc.bat
  * contrib/hbgd/make_b32.bat
  * contrib/hbgd/make_vc.bat
    ! Old typos in two HB_INC_* examples.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbgd/make_b32.bat
    trunk/harbour/contrib/hbgd/make_vc.bat
    trunk/harbour/contrib/hbhpdf/make_b32.bat
    trunk/harbour/contrib/hbhpdf/make_vc.bat
    trunk/harbour/make_gnu.sh
    trunk/harbour/make_gnu_os2.cmd


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 28 06:34:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 06:35:00 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <9257026e0902280248m3541beffq8676674d006c3d97@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
	<9257026e0902280147g4b193b50rdd03e34ba18b4203@mail.gmail.com>
	<18d502870902280208s726612k4bce71573874959f@mail.gmail.com>
	<9257026e0902280248m3541beffq8676674d006c3d97@mail.gmail.com>
Message-ID: <18d502870902280334x617c6861o88afd0a12dd4a762@mail.gmail.com>

>
> > [ I'll add it to OS/2 cmd, and we could also add it to .sh ]
>
> Looking in the doc dir I wonder if the es doc dir is synced with en
> and if both are updated enough.
> Also I've seen that there are some readme.txt or hbdoc's txt files around.
> I think that no doc is still better than wrong or outdated doc.
> If there is no doc I ask instead I can by misleaded which is much more
> irritating.
> I have nothing againt es ( to be true I love spain, I'm studying
> spanish and is one of the country I would like to live ) but I'm not
> sure we've the resources to keep any doc in a language different from
> en.


Well, /doc could use a little cleanup that's for sure. We don't
even have the resources to update the EN version.

Maybe we should categorize them:
1.) user oriented
2.) developer oriented
3.) "white pages", specs

As for Spanish translation, you have my vote to delete it
(nothing against Spanish from here either, I wish I could
speak it), this could make it easier to concentrate on the
English version.

We should gather more opinions.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/e19a2206/attachment.html
From harbour.01 at syenar.hu  Sat Feb 28 06:55:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 06:55:10 2009
Subject: [Harbour] Old "non-GNU" make system removal
Message-ID: <18d502870902280355y387bc879va314e73684096741@mail.gmail.com>

Hi all,
If everything goes well and there are no objections,
I'll remove all files belonging to "non-GNU" make system
(supporting MSVC, BCC32 and GCC) from the repository
on Monday evening (UTC).

In DOS parlance, this looks like:
del /s make_b32*.*
del /s make_vc*.*
del /s make_gcc*.*
del /s mtpl_b32*.*
del /s mtpl_vc*.*
del /s mtpl_gcc*.*
del /s common.mak
rd obj

After that, they'll be available by using -r option of svn.

I hope we can focus better on Harbour development
by dropping huge amount of feature sync and support
work. It also creates an unambiguous picture for users,
with the small price of adding one free tool (GNU Make)
to the Harbour system requirements.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/461caccc/attachment.html
From mbelgrano at deltain.it  Sat Feb 28 07:22:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 28 07:22:08 2009
Subject: [Harbour] HB_INC_x vs HB_DIR_x
In-Reply-To: <18d502870902280148vf6341d0tb125b60e6adc866f@mail.gmail.com>
References: <9257026e0902280117u302a7c29qfccda5072059d5ff@mail.gmail.com>
	<18d502870902280148vf6341d0tb125b60e6adc866f@mail.gmail.com>
Message-ID: <609353e70902280422r52a45bc5xa0489e262ebb1ef1@mail.gmail.com>

Wich is suggested  way for having either bcc & msvc & mingw  compiled
can you suggest a template for having harbour installed
in c:\hbbcc,c:\hbmsvc,c:\hgccor do you think that is better having  in
harbour tree c:\harbour\msvc\bin,lib,obj so will be followed also fro other
thirty party library so a multicompiler setup

2009/2/28 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi Lorenzo,
> Yes could be done (see my just sent mail to Francesco on this topic),
> however in this case we take the burden of dealing with internal dir
> structures of external packages. Unfortunately situation is not as clean
> for all packages and for all distros, so any script should either do
> guess,
> do autodetection, or we must require usage of certain standardized
> distribution packages for Harbour. This latter won't cover stuff like ADS
> and BLAT, and probably other non-GNU stuff.
>
> To sum it up:
> - For users it's the best / easiest to offer HB_DIR_ option only.
> - For Harbour we need to deal with INC, LIB (for .libs) and BIN (for
> .dlls) dir.
> - These dirs aren't standarized for all packages and they won't be.
>
> One solution is to create scripts (batch and bash) which would to
> the conversion from DIR to INC/LIB/BIN (using autodetection). And
> the make files would continue to use what users supply. For a start,
> this could be part of the make_gnu.* scripts to not pollute the
> contrib dirs with these things. [ of course Makefiles already do some
> level of autodetection for *nix system. ]
>
> Brgds,
> Viktor
>
> On Sat, Feb 28, 2009 at 10:17 AM, Lorenzo Fiorini <
> lorenzo.fiorini@gmail.com> wrote:
>
>> In gnuwin32 is standard that a lib is installed as:
>>
>> <path>\bin
>>          \lib
>>          \include
>>
>> so I use HB_DIR_x/lib to prefix the libs for the link, HB_DIR_x/bin to
>> prefix the dlls and in every contrib makefile I have:
>>
>> ...
>> ifneq ($(HB_DIR_GD),)
>>   HB_INC_GD = $(HB_DIR_GD)/include
>> endif
>> ...
>>
>> in this way I define only where I installed the lib using HB_DIR_x
>>
>> It could be:
>> ...
>> ifeq ($(HB_INC_GD),)
>> ifneq ($(HB_DIR_GD),)
>>   HB_INC_GD = $(HB_DIR_GD)/include
>> endif
>> endif
>> ...
>>
>> Just an idea.
>>
>> best regards,
>> Lorenzo
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/56dec829/attachment.html
From mbelgrano at deltain.it  Sat Feb 28 07:25:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 28 07:25:41 2009
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !
In-Reply-To: <22257583.post@talk.nabble.com>
References: <22257583.post@talk.nabble.com>
Message-ID: <609353e70902280425q461a1eebhbadf8f8a445e68c@mail.gmail.com>

Please?Viktor?accept also ?my deep appreciation for hbmk.prg.
Very Thanks Viktor


2009/2/28 Pritpal Bedi <bedipritpal@hotmail.com>
>
> Hello Everybody
>
> New "make" system has turned out to be
> sheer joy for developers and a master-piece
> in Harbour's jewellery.
>
> Today I have been able to compile and execute
> Harbour / DemoWvg.prg via two different compilers
> BCC55 and MSVC2008 with parallel builds. Now
> "n" numbers of compilers can be hosted on the same
> machine without any hassels which was a nightmare
> only a week before.
>
> Viktor, you have accomplished a mission impossible!
>
> Please accept my deep appreciation for it.
>
> Regards
> Pritpal Bedi, INDIA
> --
> View this message in context: http://www.nabble.com/A-Note-of-Appreciation---Welldone-Viktor-%21-tp22257583p22257583.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour



--
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l. ?http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From mbelgrano at deltain.it  Sat Feb 28 07:26:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 28 07:26:57 2009
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !
In-Reply-To: <22257583.post@talk.nabble.com>
References: <22257583.post@talk.nabble.com>
Message-ID: <609353e70902280426q6dd8b26ag20f98cc06262723a@mail.gmail.com>

Pritpal Bedi can you give me suggestion about how create a parallel msvc-bcc ?

2009/2/28  <bedipritpal@hotmail.com>:
>
> Hello Everybody
>
> New "make" system has turned out to be
> sheer joy for developers and a master-piece
> in Harbour's jewellery.
>
> Today I have been able to compile and execute
> Harbour / DemoWvg.prg via two different compilers
> BCC55 and MSVC2008 with parallel builds. Now
> "n" numbers of compilers can be hosted on the same
> machine without any hassels which was a nightmare
> only a week before.
>
> Viktor, you have accomplished a mission impossible!
>
> Please accept my deep appreciation for it.
>
> Regards
> Pritpal Bedi, INDIA
> --
> View this message in context: http://www.nabble.com/A-Note-of-Appreciation---Welldone-Viktor-%21-tp22257583p22257583.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Sat Feb 28 07:29:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 07:29:59 2009
Subject: [Harbour] HB_INC_x vs HB_DIR_x
In-Reply-To: <609353e70902280422r52a45bc5xa0489e262ebb1ef1@mail.gmail.com>
References: <9257026e0902280117u302a7c29qfccda5072059d5ff@mail.gmail.com>
	<18d502870902280148vf6341d0tb125b60e6adc866f@mail.gmail.com>
	<609353e70902280422r52a45bc5xa0489e262ebb1ef1@mail.gmail.com>
Message-ID: <18d502870902280429h2defb160m925dc21f189731f5@mail.gmail.com>

>
> Wich is suggested  way for having either bcc & msvc & mingw  compiled
> can you suggest a template for having harbour installed
> in c:\hbbcc,c:\hbmsvc,c:\hgccor do you think that is better having  in
> harbour tree c:\harbour\msvc\bin,lib,obj so will be followed also fro other
> thirty party library so a multicompiler setup
>

This is completely up to the users. We shouldn't
tell developers where to store their files and how
to structure their local directories, we cannot even
be sure they need a multi-compiler setup at all.
There is no standard for these things on Windows
(nor on other systems I know of), and it's not our
job to create a "standard" here.

Francesco's solution is failrly straightforward:
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%\

You can easily tweak that further to your liking.
(f.e. you can add the Harbour version if you plan
to support multiple major releases)

I'll switch to that locally now, from a slightly less
self-configuring, but similar solution.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/6ba94390/attachment-0001.html
From e.m.giordano at emagsoftware.it  Sat Feb 28 07:33:07 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Feb 28 07:33:13 2009
Subject: [Harbour] mpkg_win.nsi issue
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com><18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com><9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com>
	<18d502870902280150i4efe11di8626ba25c6a17531@mail.gmail.com>
Message-ID: <F9BF3AFED9C348309A235A5E6E39B4CE@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 28 febbraio 2009 10.50
Oggetto: Re: [Harbour] mpkg_win.nsi issue


> No problem, I genuinely hate installers on all systems :)

I hate installers too because I don't know where they install what. I even 
hate uninstallers because they rarely uninstall all what they've installed.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Sat Feb 28 07:53:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 07:53:42 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <F9BF3AFED9C348309A235A5E6E39B4CE@emag>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
	<9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com>
	<18d502870902280150i4efe11di8626ba25c6a17531@mail.gmail.com>
	<F9BF3AFED9C348309A235A5E6E39B4CE@emag>
Message-ID: <18d502870902280453w6553fda3sdfd09125c6a7af2b@mail.gmail.com>

Exactly, plus some more:- You often need to be admin to do it. (if you
rename Harbour
  installer to setup.exe, it will ask for password, Windows does
  this "intelligently" by itself)
- They sometimes fail if you change the default install path.
- You cannot be sure you've installed for yourself or for all users.
  Sometimes the programs aren't sure either, and some bits are
  here, some others there.
- You install an upgrade and you don't know if it has overwritten
  the other package, or extended it, and many times you get
  an additional entry in the add/remove programs list.
- If you uninstall, will it remove a) the upgrade only b) the
  whole last version c) all files belonging to this program.
  Will any additional add/remove program list entries removed?
- Will it need a reboot?
- Many times the whole install package is archived in some
  buried OS directories, and it will never be deleted from there.
- Many times it fails to remove its own temp files.
- Sometime you need to unpack the install, _then_ be able to run it.
  After that you need to clean up yourself, of course, sometimes
  as admin user.
- You have to go get the install packages and go through all
  installs and updates _again_ if you change computer (or OS
  version).
- And we didn't even touch dependencies and .dlls.

Worst nightmare :) MS is strongly convinced that users like this
(they haven't seen better), so don't expect this to change anytime
soon.

Harbour install is pretty clean so far (besides the optional Start
Menu addition), but of course we cannot guarantee that some
of these wouldn't happen with it either, by the nature of this very
thought out thing.

Brgds,
Viktor

On Sat, Feb 28, 2009 at 1:33 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: sabato 28 febbraio 2009 10.50
> Oggetto: Re: [Harbour] mpkg_win.nsi issue
>
>
>  No problem, I genuinely hate installers on all systems :)
>>
>
> I hate installers too because I don't know where they install what. I even
> hate uninstallers because they rarely uninstall all what they've installed.
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/a2d050a3/attachment.html
From e.m.giordano at emagsoftware.it  Sat Feb 28 08:45:16 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Feb 28 08:45:21 2009
Subject: [Harbour] mpkg_win.nsi issue
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com><18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com><9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com><18d502870902280150i4efe11di8626ba25c6a17531@mail.gmail.com><F9BF3AFED9C348309A235A5E6E39B4CE@emag>
	<18d502870902280453w6553fda3sdfd09125c6a7af2b@mail.gmail.com>
Message-ID: <ADC545EB9852497DB108EAD137968C43@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 28 febbraio 2009 13.53
Oggetto: Re: [Harbour] mpkg_win.nsi issue


> Exactly, plus some more:

I perfectly agree.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Sat Feb 28 08:52:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 28 08:52:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10484] trunk/harbour
In-Reply-To: <49A8763F.8030409@fsgiudice.com>
References: <E1LdBeG-0002fF-TD@c3vjzd1.ch3.sourceforge.com>
	<49A8763F.8030409@fsgiudice.com>
Message-ID: <18d502870902280552k591673b1t207c730983819954@mail.gmail.com>

Hi Francesco,

On Sat, Feb 28, 2009 at 12:24 AM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

>
>  2009-02-27 23:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>  + mpkg_win.nsi
>>    + Added NSIS Windows installer script.
>>      Needs to be inserted into build creation process,
>>      which is completely missing yet from SVN. Anyhow
>>      it's tested and working well. At this moment it should
>>      be run from a freshly created dir created with
>>      'make_gnu.bat install'.
>>
>>  Very good work!
> One note:
> doc folder contains en and es files that I think should be folders instead,
> and test folder is empty.


That's right, thanks, I'll commit a fix for doc.

As for tests, it needs some additional make system
changes, I've just put that there as a kind of provision.

There are a few other things which could be installed:
ERRATA
TODO
contrib/*/tests
contrib/examples
Maybe even these, as some central headers are referencing them:
source/hbzlib/*.h
source/hbpcre/*.h

Perhaps better to solve these outside the make system,
using a batch file (mpkg_win.bat), setup.exe creation
should be wrapped into one anyway.

Also, I think it'd be better to move all package generator
files to a subdir from the root. We may also have
mpkg_osx.sh in the future.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/78d935b5/attachment.html
From makis1970 at gmail.com  Sat Feb 28 10:53:38 2009
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Sat Feb 28 11:00:39 2009
Subject: [Harbour] How to build Demoxbp.prg ?
Message-ID: <000001c999bc$b9957150$2cc053f0$@com>

I've tried hbmk2 -n -gtwvg demoxbp.prg 

 

But I'm getting 19 unresolved externals 

gtwvg.lib(wvgdatar.obj) : error LNK2001: unresolved external symbol
_HB_FUN_WAPI

_SETSCROLLPOS

gtwvg.lib(wvgcore.obj) : error LNK2019: unresolved external symbol
__imp__OleLoa

dPicture@20 referenced in function _hb_wvt_gtLoadPictureFromResource

gtwvg.lib(wvgcore.obj) : error LNK2019: unresolved external symbol
__imp__Create

StreamOnHGlobal@12 referenced in function _hb_wvt_gtLoadPictureFromResource

gtwvg.lib(wvgutils.obj) : error LNK2019: unresolved external symbol
__imp__GetOp

enFileNameA@4 referenced in function _HB_FUN_WVT__GETOPENFILENAME

gtwvg.lib(wvgutils.obj) : error LNK2019: unresolved external symbol
__imp__GetSa

veFileNameA@4 referenced in function _HB_FUN_WVT__GETSAVEFILENAME

gtwvg.lib(wvgsink.obj) : error LNK2019: unresolved external symbol
_hb_oleItemTo

Variant referenced in function _Invoke@36

gtwvg.lib(wvgsink.obj) : error LNK2019: unresolved external symbol
_hb_oleVarian

tToItem referenced in function _Invoke@36

demoxbp.exe : fatal error LNK1120: 19 unresolved externals

hbmk: Error: Running C compiler. 2:

 

I'm using MSVC 2009 with latest sp and latest harbour from svn

 

Thanks in advance

Mike Evans

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/b697b116/attachment.html
From toninhofwi at yahoo.com.br  Sat Feb 28 11:48:17 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sat Feb 28 11:48:37 2009
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !
In-Reply-To: <22257583.post@talk.nabble.com>
References: <22257583.post@talk.nabble.com>
Message-ID: <flqiq4d9f037rjsmfh6ha08m7h9ibnh54i@4ax.com>

>Viktor, you have accomplished a mission impossible!
>
>Please accept my deep appreciation for it.

Mine too,

regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From toninhofwi at yahoo.com.br  Sat Feb 28 11:48:17 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sat Feb 28 11:48:46 2009
Subject: [Harbour] A Note of Appreciation - Welldone Viktor !
In-Reply-To: <22257583.post@talk.nabble.com>
References: <22257583.post@talk.nabble.com>
Message-ID: <flqiq4d9f037rjsmfh6ha08m7h9ibnh54i@4ax.com>

>Viktor, you have accomplished a mission impossible!
>
>Please accept my deep appreciation for it.

Mine too,

regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From bedipritpal at hotmail.com  Sat Feb 28 12:57:14 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 28 12:57:18 2009
Subject: [Harbour] How to build Demoxbp.prg ?
In-Reply-To: <000001c999bc$b9957150$2cc053f0$@com>
References: <000001c999bc$b9957150$2cc053f0$@com>
Message-ID: <22264029.post@talk.nabble.com>


Hello Mike



Mike Evans (Gmail) wrote:
> 
> I've tried hbmk2 -n -gtwvg demoxbp.prg 
> 

Try this:
hbmk2 -n demoxbp gtwvg.hbp

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/How-to-build-Demoxbp.prg---tp22263574p22264029.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From makis1970 at gmail.com  Sat Feb 28 14:10:48 2009
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Sat Feb 28 14:18:02 2009
Subject: [Harbour] How to build Demoxbp.prg ?
In-Reply-To: <22264029.post@talk.nabble.com>
References: <000001c999bc$b9957150$2cc053f0$@com>
	<22264029.post@talk.nabble.com>
Message-ID: <002301c999d8$451fafe0$cf5f0fa0$@com>

Hi Pritbal,
It worked, but there are a few bugs
Except from the Messagebox and the show hide panel nothing else works. Also
the show my panel displayed on click but after that partially overlapped
from IE and also nothing on this panel works. Do you have in mind to make
samples also for other xbp controls?

Brgds
Mike Evans


From vouchcac at users.sourceforge.net  Sat Feb 28 16:53:10 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 28 16:53:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10490] trunk/harbour
Message-ID: <E1LdX7O-000685-UR@74yxhf1.ch3.sourceforge.com>

Revision: 10490
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10490&view=rev
Author:   vouchcac
Date:     2009-02-28 21:53:10 +0000 (Sat, 28 Feb 2009)

Log Message:
-----------
2009-02-28 13:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/tests/demoxbp.prg
    ! Fixed to honor recent GTWVG changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/demoxbp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 28 16:57:32 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 28 16:57:35 2009
Subject: [Harbour] How to build Demoxbp.prg ?
In-Reply-To: <002301c999d8$451fafe0$cf5f0fa0$@com>
References: <000001c999bc$b9957150$2cc053f0$@com>
	<22264029.post@talk.nabble.com>
	<002301c999d8$451fafe0$cf5f0fa0$@com>
Message-ID: <22267338.post@talk.nabble.com>


Mike


Mike Evans (Gmail) wrote:
> 
> It worked, but there are a few bugs
> Except from the Messagebox and the show hide panel nothing else works.
> Also
> the show my panel displayed on click but after that partially overlapped
> from IE and also nothing on this panel works. Do you have in mind to make
> samples also for other xbp controls?
> 

Fixed. Download again demoxbp.prg.

My Panel is not behaving as expected. I am looking into it.
It behaves ok if we hide it first and then bring forward again.
But looses focus once we activate any other control.

In this demo all those XbpParts are implemented which 
are developed to a reasonable extent. The demo itself has 
a list of them. In near future I have more spare time to 
devote to develop remaining parts.

Regards
Pritpal Bedi, INDIA

-- 
View this message in context: http://www.nabble.com/How-to-build-Demoxbp.prg---tp22263574p22267338.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Sat Feb 28 18:53:08 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 28 18:53:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10491] trunk/harbour
Message-ID: <E1LdYzU-0000G4-UN@74yxhf1.ch3.sourceforge.com>

Revision: 10491
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10491&view=rev
Author:   vouchcac
Date:     2009-02-28 23:53:07 +0000 (Sat, 28 Feb 2009)

Log Message:
-----------
2009-02-28 15:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/common.mak
  * harbour/contrib/gtwvg/Makefile
    + Added wvgcuig.c

  * harbour/contrib/gtwvg/gtwvg.h
    + Added PHB_GOBJS structure to hold static CUI enhancement elements.

  * harbour/contrib/gtwvg/gtwvg.c
    ! Implemented hb_gt_wvt_PaintGObjects( PHB_GTWVT pWVT, RECT *uRect )
      just before EndPaint() call.
 
  + harbour/contrib/gtwvg/wvgcuig.c
    + Implementation of pure static controls with Clipper like 
      approach leaving away the details of heavy GTWVG base 
      protocol.     

  * harbour/contrib/gtwvg/tests/demowvg.prg
    ! Implemented simplified GUI look to a CUI console.
      Now it is possible TO build console dialogs pretty fast.
      This implementation assumes that appln will NOT use
      overlapping screens as with SaveScreen()/RestScreen()
      functions. Instead a new window will be opened to host
      overlapping screens.

      Please look at <Traditional><WVG Console with GCUI> to 
      look at this functionality. The code goes below:

      /*    PROCEDURE GCUIConsole()
               LOCAL dDate      := ctod( "" )
               LOCAL cName      := Space( 35 )
               LOCAL cAdd1      := Space( 35 )
               LOCAL cAdd2      := Space( 35 )
               LOCAL cAdd3      := Space( 35 )
               LOCAL nSlry      := 0
               LOCAL nColGet    := 8
               LOCAL GetList    := {}
               LOCAL cLabel     := "VOUCH, that GROWS with you"
            
               SetColor( "N/W,N/GR*,,,N/W*" )
               CLS
               hb_gtInfo( HB_GTI_WINTITLE, "WVG Simplified GUI Console" )
            
               @ MaxRow(), 0 SAY PadC( "GTWVG Simplified GUI Console", maxcol()+1 ) COLOR "W+/B*"
            
               @  2, nColGet SAY "< Date >"
               @  5, nColGet SAY "<" + PadC( "Name", 33 ) + ">"
               @  8, nColGet SAY "<" + PadC( "Address", 33) + ">"
               @ 15, nColGet SAY "< Salary >"
            
               @  3, nColGet GET dDate
               @  6, nColGet GET cName
               @  9, nColGet GET cAdd1
               @ 11, nColGet GET cAdd2
               @ 13, nColGet GET cAdd3
               @ 16, nColGet GET nSlry PICTURE "@Z 9999999.99"
            
               // The only additional calls to render your console GUI
               //
               // The GETLIST  : This can be embedded via  @ GET preprocessor command
               aEval( GetList, {|oGet| Wvg_BoxGet( oGet:Row, oGet:Col, Len( Transform( oGet:VarGet(), oGet:Picture ) ) ) } )

               // And thsese can be another @ SAY commands
               Wvg_BoxRaised( 1, 2, 18, 49, { -5,-5,5,5 } )

               Wvg_BoxRecessed( 1, 2, 18, 49 )

               Wvg_BoxGroupRaised( 2, 4, 17, 47, { -7,-7,7,7 } )
            
               // Instruct GT to Repaint the Screen with GUI elements.
               Wvt_InvalidateRect( 0, 0, maxrow(), maxcol() )
            
               // Issue the read
               READ
            
               RETURN
      */    

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/common.mak
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg

Added Paths:
-----------
    trunk/harbour/contrib/gtwvg/wvgcuig.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jlcapel2 at gmail.com  Mon Feb 23 08:48:15 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Thu Mar  5 01:36:19 2009
Subject: [Harbour] Error building libs for EVC4 with latest SVN
In-Reply-To: <18d502870902221341k5592eb50v655d1b64dd772a0@mail.gmail.com>
References: <499AA56C.9030503@teledetection.fr>
	<49A0300B.3040807@teledetection.fr>
	<18d502870902210948m35a54e56gda20d19f3d8c7ed@mail.gmail.com>
	<49A14D0E.7070601@teledetection.fr>
	<18d502870902220522y28a9451ahb716ae0e30aa21a3@mail.gmail.com>
	<49A1AF10.8080305@teledetection.fr>
	<18d502870902221218n77cf0ebfn9af424d20f70c68f@mail.gmail.com>
	<81A6FC7E241442A1A673AAD5EDEAEB1C@PEPELUIS3>
	<18d502870902221341k5592eb50v655d1b64dd772a0@mail.gmail.com>
Message-ID: <ab2a7b4c0902230548r2e362e8ar33bc305fd7db27ae@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: make_vcce.log
Type: application/octet-stream
Size: 39892 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090223/478d6bf9/make_vcce-0001.obj
From M.Horodyski at pzuzycie.com.pl  Fri Feb 27 11:06:53 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Mar  5 01:36:41 2009
Subject: [Harbour] Raport from build
In-Reply-To: <22247930.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00B80@PINK.zycie.pzu>

 

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Friday, February 27, 2009 4:21 PM
>To: harbour@harbour-project.org
>Subject: RE: RE: [Harbour] Raport from build
>
>
>Marek
>
>
>Horodyski Marek (PZUZ) wrote:
>> 
>> Pritpal, when I close subwindow pushing [X], on console window are :
>> Cancelled at: INKEY (0)
>> HBGETLIST:READER (0) in ../../tgetlist.prg 
>HBGETLIST:READMODAL (0) in 
>> ../../tgetlist.prg READMODAL (0) in ../../getsys.prg 
>GOOGLEMAP (2332) 
>> in demowvg.prg (b)WVTCONSOLEGETS (319) in demowvg.prg
>> 
>
>I cannot reproduce this error. Can you jot down exact sequence 
>of events to reach upto this level.
>
>Regards
>Pritpal Bedi
>

See attachment.
In 84kb jpg attachment file is screenschot.
I have too terminal window, and when I close subwindow, on terminal
window I have these alerts.

Regards,
Marek Horodyski
-------------- next part --------------
A non-text attachment was scrubbed...
Name: wvgdemo.jpg
Type: image/jpeg
Size: 86251 bytes
Desc: wvgdemo.jpg
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090227/deebcdf6/wvgdemo-0001.jpg
From e.m.giordano at emagsoftware.it  Sat Feb 28 03:53:14 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Mar  5 01:36:51 2009
Subject: [Harbour] Four strange errors
References: <B39C3D7B743D4987A6FA62ED87ADC16D@emag>
	<18d502870902271533r5090f7e3te9c298c73df378ab@mail.gmail.com>
Message-ID: <CEDB3584530C44719508A12DA201F3DF@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 28 febbraio 2009 0.33
Oggetto: Re: [Harbour] Four strange errors


> These are most probably explicitly ignored errors returned
> by copy command (on install) trying to copy files on itself.
> It happens if you don't specify HB_INSTALL_PREFIX.
>
> An advise for everyone:
>
> Please post your complete std+err output if there is any error,
> because it's nearly impossible to guess by these messages
> what actually causes them, in the full output though it's just
> a matter of reading the lines above ;)

Here it is (attached).

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MakeGnuLog.zip
Type: application/x-zip-compressed
Size: 33651 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090228/edaa2c81/MakeGnuLog-0001.bin

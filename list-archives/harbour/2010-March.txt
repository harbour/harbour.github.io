From carlosbacco at gmail.com  Mon Mar  1 00:03:08 2010
From: carlosbacco at gmail.com (Bacco)
Date: Mon Mar  1 00:03:39 2010
Subject: [Harbour] Build Error
In-Reply-To: <20100301024542.E3976CC0D2@ws5-11.us4.outblaze.com>
References: <20100301024542.E3976CC0D2@ws5-11.us4.outblaze.com>
Message-ID: <eed8bee51002282103t735bccd8kaf963acba7687a15@mail.gmail.com>

Same error here @14029 , XP SP2 MingW, even with 100% fresh SVN download.

Bacco


On Sun, Feb 28, 2010 at 23:45, Jerry Finuliar
<jerryfinuliar@operamail.com> wrote:
> Hi,
>
> WinXP SP3, QT->Mingw
>
> In file included from ../../../../hvmall.c:83:
> ../../../../hvm.c: In function 'HB_FUN_HB_ARRAYTOPARAMS':
> ../../../../hvm.c:11605: error: '_hb_stack_ptr_' undeclared (first use in this f
> unction)
> ../../../../hvm.c:11605: error: (Each undeclared identifier is reported only onc
> e
> ../../../../hvm.c:11605: error: for each function it appears in.)
>
> Thanks.
>
> --
> _______________________________________________
> Surf the Web in a faster, safer and easier way:
> Download Opera 9 at http://www.opera.com
>
> Powered by Outblaze
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From maurilio.longo at libero.it  Mon Mar  1 09:55:45 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar  1 19:57:27 2010
Subject: [Harbour] pcode 0.3
Message-ID: <4B8BD571.4070003@libero.it>

Hi,

code at svn 14032, full rebuid, on OS/2 gives:

B_LEGACY_TYPES_OFF   -oxbptoolbar.o -c xbptoolbar.c
gcc -I../../../../../contrib/hbqt  -I. -I../../../../../include -Wall -W -O3 -DH
B_LEGACY_TYPES_OFF   -oxbptreeview.o -c xbptreeview.c
gcc -I../../../../../contrib/hbqt  -I. -I../../../../../include -Wall -W -O3 -DH
B_LEGACY_TYPES_OFF   -oxbpwindow.o -c xbpwindow.c
ar   -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbxbp.a & ..\..\..\.
.\..\config\os2rm -f __lib__.tmp

(E:\REPOSITORY\HARBOUR)bin\os2\gcc\hbtest

Unrecoverable error 9000: Module '../../../hbtest.prg'
was compiled with unsupported PCODE version 0.3.
Please recompile.

(E:\REPOSITORY\HARBOUR)

Any idea?

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From smujohnson at gmail.com  Mon Mar  1 19:36:29 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Mar  1 19:59:05 2010
Subject: [Harbour] bug/issue: slow pasting on uppercase letters
Message-ID: <674e4ddd1003011636g3699b3b1ued36019c0272b423@mail.gmail.com>

Hi,

On regular CLI input boxes where you can type stuff, we have found copying
and pasting in Windows to be very slow.  When I looked more into it, using
something like MEMOEDIT() to test pasting a bunch of chars, I found the
UPPERCASE chars paste very slowly, and lowercase chars paste instantly.

It didn't take much to test this out for myself, but if no one else can see
what I'm talking about, I will record a small youtube video of it maybe.

My paste test string:
FESFJSEFKJESFKJSFNEjqelmkdewlkESFJSEFKJESFKJSFNEESFJSEFKJESFKJSFNE

Thanks

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100301/7f20003a/attachment.html
From M.Horodyski at pzuzycie.com.pl  Mon Mar  1 14:43:40 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Mar  1 20:08:09 2010
Subject: [Harbour] Trouble with SqlRdd
In-Reply-To: <4B881075.60102@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6E7D0@PINK.zycie.pzu>
	<4B881075.60102@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6ECB3@PINK.zycie.pzu>

-----Original Message-----
From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
Sent: Friday, February 26, 2010 7:18 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Trouble with SqlRdd


*---
Hi, Marek,
for sure I can help you but I need a self contained sample that does not

require installation of servers I do not have. Can you made a sample 
like contrib/rddsql/sddodbc/test/test1.prg and attach .mdb file if it is

a problem Microsoft DB?

If I do not have self contained sample I need a precise debug info about

field types and other field parameters both in SQL language and ODBC API

presentation.
*------------

Maybe somewhere in the world is exposed to a test Oracle or MsSql
server?
I will try to find and prepare for the test.
Acces I do not use - but can *. mdb I can do something.
Appeal to, as I have "example".

Regards,
Marek Horodyski
From bruno.luciani at gmail.com  Mon Mar  1 06:27:55 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Mar  1 20:08:21 2010
Subject: [Harbour] HBEDITOR
Message-ID: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>

Pritpal

Could you send me a litle sample off how can generate

a simple window with an instance of HBeditor from HBIDE

Your editor is excelent and I like to use in another project

I only need the code editor

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100301/978336d2/attachment.html
From vszakats at users.sourceforge.net  Mon Mar  1 18:47:24 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  1 20:09:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14033] trunk/harbour
Message-ID: <E1NmFKe-0001pK-Ss@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14033
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14033&view=rev
Author:   vszakats
Date:     2010-03-01 23:47:23 +0000 (Mon, 01 Mar 2010)

Log Message:
-----------
2010-03-02 00:45 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddodbc/sddodbc.c
    ! Fixed returning Chr( 0 ) instead of last real char.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Mon Mar  1 18:21:07 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Mar  1 20:13:12 2010
Subject: [Harbour] Way for a harbour .exe to delete itself?
Message-ID: <674e4ddd1003011521j737a9768u1816396d40ae0460@mail.gmail.com>

Hi,

Is there a way (or smarter way) to basically "upgrade" the .exe you are
running without quitting it...

Such as if the harbour-made .exe (test.exe, for example) was running, could
delete itself, call winrar to extract a new test.exe, and then so a
unix-like exec() call to reload itself?

Any hints greatly appreciated.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100301/f060553d/attachment.html
From smujohnson at gmail.com  Mon Mar  1 14:52:09 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Mar  1 20:18:01 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box 
	closed?
In-Reply-To: <1267409573308-4652008.post@n2.nabble.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
Message-ID: <674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>

Hi,

On Sun, Feb 28, 2010 at 6:12 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Show on this list how you build your appln ?
>
>
..\harbour-dev\bin\hbmk2 -strip -ustd.ch -kc -lhbct -lhbtpathy -lhbnf -inc
-o..\latest\bmd.exe bm.hbp

(bm.hbp simply contains a giant list of all the .PRG files)

Is this enough info for you?  Thanks for taking an interest.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100301/b74dbab9/attachment.html
From mbelgrano at deltain.it  Mon Mar  1 11:32:33 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  1 20:18:53 2010
Subject: [Harbour] How can i Print BMP?
Message-ID: <609353e71003010832p10f7e5dfldf6f874618204993@mail.gmail.com>

I need the capability print a bmp inside a harbour application
who print plc . is a old clipper application

I Have found a routine who Print .PCX To Laserjet, but need BMP


I search a conversion BMP2PCX or printing BMP in pcl
(I need also rotate image)


http://www.karland.com/code/clipper/
function LoadPCX(cFile)

   //----------------------------------------------------------------------------
   // AUTHOR:     Denis A. Sarrazin (Tue 10-11-1994)
   // PURPOSE:    to load the PCX into a special array
   // PARAMETERS: cFile <-- the name of the PCX file to load
   // RETURNS:    array (see list of #define in MINIPCX.CH and format below)
   // NOTES:      Format of a .PCX header shown below:
   //
   //        Byte  Item            Size Description/Comments
   //        ----  --------------- ----
-----------------------------------------
   //        0     Manufacturer      1  Constant Flag  10 = ZSoft .PCX
   //        1     Version           1  Version information:
   //                                     0 = Version 2.5
   //                                     2 = Version 2.8 w/palette information
   //                                     3 = Version 2.8 w/o palette
information
   //                                     5 = Version 3.0
   //        2     Encoding          1  1 = .PCX run length encoding
   //        3     Bits per pixel    1  Number of bits/pixel per plane
   //        4     Window            8  Picture Dimensions
   //                                     (Xmin, Ymin) - (Xmax - Ymax)
   //                                     in pixels, inclusive
   //        12    HRes              2  Horizontal Resolution of creating device
   //        14    VRes              2  Vertical Resolution of creating device
   //        16    Colormap         48  Color palette setting, see text
   //        64    Reserved          1
   //        65    NPlanes           1  Number of color planes
   //        66    Bytes per Line    2  Number of bytes per scan line per
   //                                     color plane (always even for
.PCX files)
   //        68    Palette Info      2  How to interpret palette - 1 = color/BW,
   //                                                              2 = grayscale
   //        70    Filler           58  blank to fill out 128 byte header
   //
   //        IMPORTANT:
   //          All sizes are measured in BYTES.
   //          All variables of size 2 are integers.
   //
   //----------------------------------------------------------------------------
   local aPCX
   local cBuffer
   local hPCX
   local nRead
   local nFileLength

   if !file(cFile)

      aPCX := {}

   else

      aPCX        := array(PCX_LENGTH)
      hPCX        := fopen(cFile)
      nFileLength := FLEN(hPCX)

      cBuffer := space(HEADER_SIZE)
      nRead   := fread(hPCX,@cBuffer,HEADER_SIZE)           // load PCX header

      aPCX[ PCX_MANUFACTURER ]   := asc(substr(cBuffer,1,1))
      aPCX[ PCX_VERSION ]        := asc(substr(cBuffer,2,1))
      aPCX[ PCX_ENCODING ]       := asc(substr(cBuffer,3,1))
      aPCX[ PCX_BITS_PER_PIXEL ] := asc(substr(cBuffer,4,1))
      aPCX[ PCX_WINDOW ]         := {bin2i(substr(cBuffer,5,2)),;
                                          bin2i(substr(cBuffer,7,2)),;
                                          bin2i(substr(cBuffer,9,2)),;
                                          bin2i(substr(cBuffer,11,2))}
      aPCX[ PCX_HRES ]           := bin2i(substr(cBuffer,13,2))
      aPCX[ PCX_VRES ]           := bin2i(substr(cBuffer,15,2))
      aPCX[ PCX_COLORMAP ]       := substr(cbuffer,17,48)
      aPCX[ PCX_RESERVED ]       := asc(substr(cBuffer,65,1))
      aPCX[ PCX_NPLANES ]        := asc(substr(cBuffer,66,1))
      aPCX[ PCX_BYTES_PER_LINE ] := bin2i(substr(cBuffer,67,2))
      aPCX[ PCX_PALETTE_INFO ]   := bin2i(substr(cBuffer,69,2))
      aPCX[ PCX_FILLER ]         := substr(cBuffer,71,58)

      cBuffer := space(nFileLength - HEADER_SIZE)
      nRead   := fread(hPCX,@cBuffer,nFileLength - HEADER_SIZE)
      if (nRead != (nFileLength - HEADER_SIZE))
         messaggio("Attenzione  File TROPPO GRANDE","T")
      endif

      aPCX[ PCX_PIXELS ] := cBuffer

      fclose(hPCX)

   endif

return (aPCX)



procedure PrintPCX(nRow,nCol,aPCX)
   //----------------------------------------------------------------------------
   // AUTHOR:     Denis A. Sarrazin (Tue 10-11-1994)
   // PURPOSE:
   // PARAMETERS:
   // RETURNS:
   // EXAMPLES:
   //----------------------------------------------------------------------------
   local nNumCol     := aPCX[PCX_WINDOW,3] - aPCX[PCX_WINDOW,1]+1
   local nTotalBytes := aPCX[PCX_NPLANES] * aPCX[PCX_BYTES_PER_LINE]
   local nStartCol
   local cRasterData := ""
   local nCount
   local nNumBytes
   local cByte
   local nBytePos
   local nPixel
   local nDiff
   nRow      := int(nRow * 300)
   nCol      := int(nCol * 300)
   nStartCol := nCol
   //   X_graph=""
   if SetPrinter()  // set the proper codes depending on type of printer
      //  PrnGrSet( nRow, nCol ) // cGrSet ; PrnGrMove( <r>, <c> )C
      //    X_graph=X_graph+CHR(K_ESC)+"*t300R" + ;  // raster
graphics at 300 dpi
      //        CHR(K_ESC)+"*r1A" +;       // start graphics at current position
      //                CHR(K_ESC)+"*p"+Cnum(nRow)+"Y"+;
      //                CHR(K_ESC)+"*p"+Cnum(nStartCol)+"X"
      ?? chr(K_ESC)+"*t300R"            // raster graphics at 300 dpi
      ? chr(K_ESC)+"*p"+cNUM(nRow)+"Y"
      ?? chr(K_ESC)+"*p"+cNUM(nCol)+"X"
      ?? chr(K_ESC)+"*r1A"              // start graphics at current position

      ? chr(K_ESC)+"*p"+cNUM(nRow)+"Y"
      ??
      ?? chr(K_ESC)+"*p"+cNUM(nCol)+"X"
      ??
      nBytePos  := 1
      nNumBytes := 1
      while (nBytePos < len(aPCX[PCX_PIXELS]))
         cByte := BYTE2BIN(subst(aPCX[PCX_PIXELS],nBytePos,1))
         if (left(cByte,2) == "11")
            nCount := BIN2NUM("00"+substr(cByte,3))
            nBytePos ++
            cByte := BYTE2BIN(subst(aPCX[PCX_PIXELS],nBytePos,1))
         else
            nCount := 1
         endif
         while (nCount > 0)
            // display all bits in byte (or parts thereof)
            if ((nCol+8) > (nNumCol+nStartCol - 1))         // chop
off the excess
               nDiff := (nCol+8) - (nNumCol+nStartCol - 1) - 1
               cByte := padr(left(cByte,8 - nDiff),8,"1")   // clear any at end
            endif
            cRasterData += chr(XOR(BIN2NUM(cByte),255))     // invert
'1's and '0's
            nCol        += 8
            if (nNumBytes >= nTotalBytes)
               //          X_graph=X_graph+CHR(K_ESC)+"*p"+cNUM(nRow)+"Y"+;
               //                     +CHR(K_ESC)+"*p"+cNUM(nStartCol)+"X"+;
               //
+CHR(K_ESC)+"*b"+cNUM(LEN(cRasterData))+"W"+cRasterData
               ? chr(K_ESC)+"*p"+cNUM(nRow)+"Y"
               ??
               ?? chr(K_ESC)+"*p"+cNUM(nStartCol)+"X"
               ??
               ?? chr(K_ESC)+"*b"+cNUM(len(cRasterData))+"W"+cRasterData
               ??
               // PrnGrMove( nRow, nStartCol )
               // PrnGrLine( cRasterData )
               cRasterData := ""
               nNumBytes   := 0
               nCol        := nStartCol
               nRow ++
            endif
            nNumBytes ++
            nCount --
         end
         nBytePos ++
      end
      ? chr(K_ESC)+"*rB"+;              // end raster graphics
                 chr(K_ESC)+"&a0R"+;    // move to text row 1
                 chr(K_ESC)+"&a0C"      // move to text column 1
   endif

return



-- 
Massimo Belgrano
From marcosgambeta at uol.com.br  Mon Mar  1 05:48:47 2010
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Mon Mar  1 20:21:32 2010
Subject: [Harbour] xhgtk - undefined reference to `hb_gcAlloc'
In-Reply-To: <4B86BD39.4010406@zen.co.uk>
References: <4B86BD39.4010406@zen.co.uk>
Message-ID: <4B8B9B8F.2030707@uol.com.br>

Em 25/02/2010 15:11, Barry Jackson escreveu:
> /usr/lib/harbour/libxhgtk.so: undefined reference to `hb_gcAlloc'
>
> What am I missing?
> Same happens with all xhgtk samples tested.
>

Barry,

Use Harbour 2.0 (last stable version).

xHGTK is not compatible with current Harbour yet.

If I change hb_gcAlloc to hb_gcAllocate, xHGTK become incompatible with 
xHarbour.


-- 
Regards,
Marcos Antonio Gambeta
From itamarlins at gmail.com  Mon Mar  1 06:00:25 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Mar  1 20:35:05 2010
Subject: [Harbour] Re: hvm.c:11605: error: for each function it appears in.)
In-Reply-To: <hmf339$lg4$1@dough.gmane.org>
References: <hmf339$lg4$1@dough.gmane.org>
Message-ID: <hmg6o7$dkd$1@dough.gmane.org>

Fix!
2010-03-01 08:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
   * harbour/src/vm/hvm.c
     ! added missing HB_STACK_TLS_PRELOAD

Thanks!
Itamar M. Lins Jr.

From itamarlins at gmail.com  Mon Mar  1 06:08:42 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Mar  1 20:35:05 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14028] trunk/harbour
In-Reply-To: <E1NluX7-0007uQ-DF@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NluX7-0007uQ-DF@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <hmg77p$fr0$1@dough.gmane.org>

Hi!
sddodbc not working.
The return of column while field is caracters for example show
????????   ??????????   ????????????

test with file.
contrib/rddsql/sddodbc/tests/test1.prg

Best regards,
Itamar M. Lins Jr.


Em 28/2/2010 22:34, 
vszakats@users.sourceforge.net escreveu:
> Revision: 14028
>            http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14028&view=rev
> Author:   vszakats
> Date:     2010-03-01 01:34:52 +0000 (Mon, 01 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-01 02:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>    * contrib/rddsql/sddsqlt3/sddsqlt3.c
>      + Added support to retrieve buffers in UNICODE mode.
>      ; Maybe needs fine tuning. F.e. we don't want to do this
>        for raw/binary/blob data. Pls review.
>      ; NOTE: Detecting real buffer size is weird. MSDN says
>              NULL should be passed to data pointer, but in this
>              case it returns error, if I pass any pointer, even
>              fake one, it works. Pbly I'm misreading something.
>
>    * contrib/rddsql/sddodbc/tests/test1.prg
>    * contrib/rddsql/sddodbc/tests/test2.prg
>      + Added simpleio.ch.
>
>    * contrib/rddsql/sddsqlt3/sddsqlt3.c
>    * contrib/rddsql/sddodbc/sddodbc.c
>    * contrib/rddsql/sddoci/sddoci.c
>      ! Fixed bad GPF after previous modif which limited field names
>        to specific length.
>
> Modified Paths:
> --------------
>      trunk/harbour/ChangeLog
>      trunk/harbour/contrib/rddsql/sddoci/sddoci.c
>      trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
>      trunk/harbour/contrib/rddsql/sddodbc/tests/test1.prg
>      trunk/harbour/contrib/rddsql/sddodbc/tests/test2.prg
>      trunk/harbour/contrib/rddsql/sddsqlt3/sddsqlt3.c
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.


From maurilio.longo at libero.it  Mon Mar  1 04:17:55 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar  1 20:42:04 2010
Subject: [Harbour] dlmalloc on OS/2
Message-ID: <4B8B8643.8090604@libero.it>

Przemyslaw,

I'm facing an error on OS/2 which I'm beginning to suspect it is due to the
fact that we're not allocating the correct type of memory when calling
DosFindFirst().

Now, can you tell me if _all_ memory allocations, made via hb_xgrab(), when
using dlmalloc.c go through dlmalloc.c line 1338, that is through os2mmap()
even if I'm not mmapping() nothing?

Or there are other paths to memory allocations?

Thanks.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at users.sourceforge.net  Mon Mar  1 07:42:35 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar  1 21:08:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14031] trunk/harbour
Message-ID: <E1Nm4xH-0006PS-Vd@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14031
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14031&view=rev
Author:   druzus
Date:     2010-03-01 12:42:34 +0000 (Mon, 01 Mar 2010)

Log Message:
-----------
2010-03-01 13:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/dbfntx/dbfntx1.c
  * harbour/src/rdd/dbfnsx/dbfnsx1.c
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
    ! make linear scan in template tags to detect position of current
      record in tag after GOTO() operation - SIX3 compatible behavior

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Mar  1 21:13:59 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  1 21:14:10 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
Message-ID: <1267496039962-4658515.post@n2.nabble.com>



Bruno Luciani wrote:
> 
> Could you send me a litle sample off how can generate
> 
> a simple window with an instance of HBeditor from HBIDE
> 
> Your editor is excelent and I like to use in another project
> 
> I only need the code editor
> 

It is very coomplex. Infact it is composed of so many 
sub-components which can not be demonstrated stand-alone.
You are encouraged to look into ideeditor.prg and see if 
you can pull-out anything meaningful.

Or I will develop a class but in hbXBP framework to isolate the 
editor with centralized functionality, say, XbpCodeEditor().
Right now all energies are concentrated on hbIDE only.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/HBEDITOR-tp4658215p4658515.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Mar  1 21:17:50 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  1 21:17:57 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
Message-ID: <1267496270582-4658528.post@n2.nabble.com>



smu johnson wrote:
> 
> ..\harbour-dev\bin\hbmk2 -strip -ustd.ch -kc -lhbct -lhbtpathy -lhbnf -inc
> -o..\latest\bmd.exe bm.hbp
> 
> (bm.hbp simply contains a giant list of all the .PRG files)
> 
> Is this enough info for you?  Thanks for taking an interest.
> 

Oh yes, so you are using GTWIN.
No, for this GT "Close -> X" button cannot be manipulated.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Trap-run-routine-when-MS-Windows-red-X-box-closed-tp4651773p4658528.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Mon Mar  1 21:26:47 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Mar  1 21:26:58 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box 
	closed?
In-Reply-To: <1267496270582-4658528.post@n2.nabble.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
Message-ID: <674e4ddd1003011826o70208277hc96cfcda80339e79@mail.gmail.com>

Well... what can I do to make it supported?

Will I have to change my entire code if I switch away from GTWIN?  I am not
quite sure how to use those other features you mentioned earlier :(

Please give me a hint. :)   Thank you!


On Mon, Mar 1, 2010 at 6:17 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> smu johnson wrote:
> >
> > ..\harbour-dev\bin\hbmk2 -strip -ustd.ch -kc -lhbct -lhbtpathy -lhbnf
> -inc
> > -o..\latest\bmd.exe bm.hbp
> >
> > (bm.hbp simply contains a giant list of all the .PRG files)
> >
> > Is this enough info for you?  Thanks for taking an interest.
> >
>
> Oh yes, so you are using GTWIN.
> No, for this GT "Close -> X" button cannot be manipulated.
>
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Trap-run-routine-when-MS-Windows-red-X-box-closed-tp4651773p4658528.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100301/38db9967/attachment.html
From jarabal at gmail.com  Mon Mar  1 09:55:02 2010
From: jarabal at gmail.com (Xavi)
Date: Mon Mar  1 21:32:55 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <18d502871002281009t716ed0dek3d0036c50d60c0dd@mail.gmail.com>
References: <4B87FC0C.1090207@gmail.com>	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>	<4B8A76FA.5020003@gmail.com>	<18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>	<4B8A91B7.6050104@gmail.com>	<18d502871002280818w6bfa68ebt2a5ad6cfb548f423@mail.gmail.com>	<4B8AA1A2.4080206@gmail.com>	<B831C378-6E67-44D4-BA45-D94C15312DD5@syenar.hu>	<4B8AAD61.5040200@gmail.com>
	<18d502871002281009t716ed0dek3d0036c50d60c0dd@mail.gmail.com>
Message-ID: <4B8BD546.2040609@gmail.com>

Hi Viktor,

[ Sorry for my bad English :'( ]

> I don't see any need for a make-level solution. All macros can
> be defined from source. Why is it better to define them on
> make level?

Because if someone tries to compile Harbour with a version of SDK not supported, he don't have compile-time error.
If in the example of my previous thread post I protect IP_ADAPTER_ADDRESSES use with .-
#if _WIN32_WINNT >= 0x0501
      ...
#endif
And the macro _WIN32_WINNT is passed to my code, the code can be compiled with an SDK of 0x0500 and the binary can run on any 
version, just don't have this functionality in earlier versions.
Please note that the same thing happens with the basic functionality of ws2_32.dll if we don't implement an alternative.
So the use of dynamic calls is only justified for functions with alternative because if there is no alternative simply does not 
have this functionality in earlier versions, IMHO.

Best regards,
-- 
Xavi

El 28/02/2010 19:09, Viktor Szak?ts escribi?:
>>> NTDDI_VERSION = maximum OS version supported by SDK/Windows-headers
>>> _WIN32_WINNT = OS version we want to target
>>
>> Okay, but if you remember my thread starting post .-
>> "
>> IMHO the best solution is to define the version of Windows that supports the
>> C compiler before compilation.
>> For example, if your C compiler supports Vista: set
>> HB_USER_CFLAGS=-D_WIN32_WINNT 0x0600
>>
>> http://msdn.microsoft.com/en-us/library/aa383745%28VS.85%29.aspx
>>
>> Some structures are defined only in the headers from one version of Windows
>> other may change.
>> IPv6 is supported from Windows Server 2003, Windows XP.
>> Even calling functions dynamically is necessary data with which they work.
>> It can make the binary work with earlier versions but the headers and the
>> code should be protected by .-
>> #if _WIN32_WINNT>= 0x0501
>>     ...
>> #endif
>> If not, we can have compile-time errors.
>> Please, what do you think about this, comments?
>> "
>> And we *force* _WIN32_WINNT or NTDDI_VERSION in hard code.
>> If someone compiles Harbour with earlier versions of C compiler headers may
>> have compile-time errors.
>>
>> IMHO we need a solution in to make-system and I'm not an expert on this.
>
> Sorry but I don't understand this thread anymore.
>
> IMO the solution is simple: If you need to use Windows API
> features which are not supported in all Windows versions:
>
> 1) make it using dynamic calls, so binary won't break if feature not available
> 2) detect OS header version (only this may need compiler specific solutions)
> 3) force target OS version by defining _WIN32_WINNT before windows.h,
>     if target OS version is known to be supported by headers
>
> If only constants are missing you can replace 2) + 3) with
> simple manual definition of those missing constants.
>
> I don't see any need for a make-level solution. All macros can
> be defined from source. Why is it better to define them on
> make level?
>
> Besides it's quite difficult to discuss this without knowing what do
> you exactly want to make here. Maybe you could post some code
> (patch) to see where you're standing at ATM.
>
> Brgds,
> Viktor
From m.lacecilia at gmail.com  Mon Mar  1 03:23:47 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Mon Mar  1 21:42:53 2010
Subject: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <609353e71002280323l5505a536mbbca1c5a394911ba@mail.gmail.com>
References: <27714403.post@talk.nabble.com><305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com><18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
	<1267114910259-4633464.post@n2.nabble.com><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
	<609353e71002280323l5505a536mbbca1c5a394911ba@mail.gmail.com>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGS4i903hgpLtceljIFeefwBAAAAAA==@gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: gtwvt.JPG
Type: image/jpeg
Size: 17578 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100301/a7ff7612/gtwvt-0001.jpe
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gtqtc.JPG
Type: image/jpeg
Size: 20780 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100301/a7ff7612/gtqtc-0001.jpe
From dbtopas at dbtopas.lt  Mon Mar  1 13:35:56 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar  1 21:45:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14022] trunk/harbour
In-Reply-To: <E1Nln9u-0006OP-QR@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Nln9u-0006OP-QR@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <4B8C090C.9010508@dbtopas.lt>

Hi,


vszakats@users.sourceforge.net wrote:
>   + contrib/rddsql/sddoci/sddoci.c
>   + contrib/rddsql/sddsq3/sddsq3.c
> 

Thank You, for you new SDD. I've started Oracle development some time 
ago, but never fixed because lack of time, motivation (I do not need it 
for my own projects), and test environment. I see you current code is 
much more complete, than my. It also uses some more nice API than I was 
trying to use. I was using OCI*() functions (not OCI_*()), i.e. 
OCIHandleAlloc() was used to allocate server, context, environment, 
error, and session handles. It seemed very stange...

BTW, in the OCI*() API, transaction management is done using API 
functions, but not 'BEGIN', 'ROLLBACK', 'COMMIT' queries (like in 
MySql). If this is also true for OCI_*() API, perhaps we need to SDD and 
introduce new methods. For MySql and similar "query based transactions" 
we need to do queries on transaction method calls.


>   ; TOFIX: To Mindaugas: Current SDD architecture will crash with GPF
>            if dbUseArea() is attempted after a failed RDDI_CONNECT
>            call. You can check it f.e. with sddodbc's test1.prg, by
>            modifying test.mdb to test_.mdb, and simply run it.

I've tried to, but I guess you've already fixed it. But I see a lot of 
"?" characters in test1.prg table browse (in BCC). Something wrong with 
UNICODE support, though I do not see error code. Maybe some hidden 
#define UNICODE exists...

!!! This "&& 0" is dangerous, not compatible with next #if defined

#if defined( UNICODE ) && 0
                iTargetType = SQL_C_WCHAR;
                iLen *= 2;
#else
                iTargetType = SQL_C_CHAR;
#endif
                val = ( SQLPOINTER * ) hb_xgrab( iLen );
                if( SQL_SUCCEEDED( res = SQLGetData( hStmt, ui, 
iTargetType, val, iLen, &iLen ) ) )
                {
                   if( iLen > 0 )
                   {
#if defined( UNICODE )
                      iLen /= 2;
#endif
                      pItem = O_HB_ITEMPUTSTRLEN( NULL, ( O_HB_CHAR * ) 
val, ( HB_SIZE ) iLen );
                   }
                }
                hb_xfree( val );


Regards,
Mindaugas

From dbtopas at dbtopas.lt  Mon Mar  1 16:43:47 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar  1 21:45:51 2010
Subject: [Harbour] sddodbc
Message-ID: <4B8C3513.5000701@dbtopas.lt>

Hi,


It seems sddodbc.c line #603 should be changed to:
       pItem = O_HB_ITEMPUTSTRLEN( NULL, ( O_HB_CHAR * ) val, ( HB_SIZE 
) iLen - 1 );

otherwise test1.prg returns chr(0) in the end of every string.


Regards,
Mindaugas


P.S. I see we have some serious problems with mailing list. 
lists.harbour-project.org is not resolved by DNS.
From bedipritpal at hotmail.com  Mon Mar  1 22:03:05 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  1 22:03:13 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <674e4ddd1003011826o70208277hc96cfcda80339e79@mail.gmail.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
	<674e4ddd1003011826o70208277hc96cfcda80339e79@mail.gmail.com>
Message-ID: <1267498985682-4658667.post@n2.nabble.com>



smu johnson wrote:
> 
> Well... what can I do to make it supported?
> 
> Will I have to change my entire code if I switch away from GTWIN?  I am
> not
> quite sure how to use those other features you mentioned earlier :(
> 
> Please give me a hint. :)   Thank you!
> 

..\harbour-dev\bin\hbmk2 -gtwvt -strip -ustd.ch -kc -lhbct -lhbtpathy -lhbnf
-inc  -o..\latest\bmd.exe bm.hbp

And include somewhere in sources 

REQUEST HB_GT_WVT_DEFAULT

Let us know did you succeed. Next step after that.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Trap-run-routine-when-MS-Windows-red-X-box-closed-tp4651773p4658667.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Mon Mar  1 22:03:48 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar  1 22:03:55 2010
Subject: [Harbour] dlmalloc on OS/2
In-Reply-To: <4B8B8643.8090604@libero.it>
References: <4B8B8643.8090604@libero.it>
Message-ID: <20100302030348.GA32227@linux-4bod.home.aster.pl>

On Mon, 01 Mar 2010, Maurilio Longo wrote:

Hi,

> I'm facing an error on OS/2 which I'm beginning to suspect it is due to the
> fact that we're not allocating the correct type of memory when calling
> DosFindFirst().

I cannot help you here. Information about DosFindFirst() in OS2 returned
by google suggest that our implementation should not work correctly, i.e.:

   Level 1 File Information (ulInfoLevel == FIL_STANDARD)
   On output, pfindbuf contains the FILEFINDBUF3 data structure _without_
   the last two fields cchName and achName. This is used without EAs.

If the above is true then you should use FIL_STANDARDL and FILEFINDBUF3L
structure.

Also seems that flAttribute parameter has wrongly value.
Without ORing with FILE_ARCHIVED and FILE_READONLY files with above
attribute should be excluded.

BTW what errors do you have?

> Now, can you tell me if _all_ memory allocations, made via hb_xgrab(), when
> using dlmalloc.c go through dlmalloc.c line 1338, that is through os2mmap()

Inside DLMALLOC _all_ memory is allocated by os2mmap() function.

> even if I'm not mmapping() nothing?

MMAP is optionally used only in *nix DLMALLOC builds to improve performance
of memory allocation. It does not exists in MS-Windows and OS2 so it cannot
be used in such builds.

> Or there are other paths to memory allocations?

Maybe but not inside DLMALLOC code, i.e. some CRTL functions may
allocate memory using different memory manager but DLMALLOC uses
only above function in OS2 builds.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar  1 22:11:14 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar  1 22:11:22 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <1267498985682-4658667.post@n2.nabble.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
	<674e4ddd1003011826o70208277hc96cfcda80339e79@mail.gmail.com>
	<1267498985682-4658667.post@n2.nabble.com>
Message-ID: <20100302031114.GA32587@linux-4bod.home.aster.pl>

On Mon, 01 Mar 2010, Pritpal Bedi wrote:

Hi,

> ..\harbour-dev\bin\hbmk2 -gtwvt -strip -ustd.ch -kc -lhbct -lhbtpathy -lhbnf
> -inc  -o..\latest\bmd.exe bm.hbp
> And include somewhere in sources 
> REQUEST HB_GT_WVT_DEFAULT

It's redundant. -gtwvt makes the above.
If you use -gt* switches in hbmk2 then it makes for the 1-st one:
   REQUEST HB_GT_*_DEFAULT
and for the next ones:
   REQUEST HB_GT_*

so you do not have to use any 'REQUEST HB_GT_*[_DEFAULT] in your
PRG code.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Mar  1 03:32:50 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar  1 22:12:00 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14029] trunk/harbour
In-Reply-To: <E1Nlvxl-000651-5D@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1Nlvxl-000651-5D@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <77017A66-8E4A-42B1-9340-8F186AD5F763@syenar.hu>

Hi Xavi,

Please revert this. The behavior was intentionally 
designed to be controlled by hb_GTInfo( HB_GTI_CLOSABLE ), 
(instead of SETCANCEL()).

Brgds,
Viktor

On 2010 Mar 1, at 04:06, jarabal@users.sourceforge.net wrote:

> Revision: 14029
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14029&view=rev
> Author:   jarabal
> Date:     2010-03-01 03:06:26 +0000 (Mon, 01 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-01 04:05 UTC+0100 Xavi (jarabal/at/gmail.com)
>  * harbour/src/rtl/gtwvt/gtwvt.c
>    ! Fixing WM_CLOSE event (Clicked 'X' on system menu)
>      to avoid irregular shutdown with SETCANCEL( .F. )
> 
>      REQUEST HB_GT_WVT_DEFAULT
>      ANNOUNCE HB_GTSYS
>      PROCEDURE Main()
>         SetCancel(.F.)
>         ? "Click [X] Not close windows"
>         while( LastKey() != 27 )
>            Inkey( 1 )
>         enddo
>      RETURN
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/rtl/gtwvt/gtwvt.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Mon Mar  1 22:23:50 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  1 22:23:56 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <20100302031114.GA32587@linux-4bod.home.aster.pl>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
	<674e4ddd1003011826o70208277hc96cfcda80339e79@mail.gmail.com>
	<1267498985682-4658667.post@n2.nabble.com>
	<20100302031114.GA32587@linux-4bod.home.aster.pl>
Message-ID: <1267500230297-4658761.post@n2.nabble.com>



Przemys?aw Czerpak wrote:
> 
> It's redundant. -gtwvt makes the above.
> If you use -gt* switches in hbmk2 then it makes for the 1-st one:
>    REQUEST HB_GT_*_DEFAULT
> and for the next ones:
>    REQUEST HB_GT_*
> 
> so you do not have to use any 'REQUEST HB_GT_*[_DEFAULT] in your
> PRG code.
> 

Long time elapsed I played with this stuff, so was out of memory.
So only -gtwvt switch is required, more simplified.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Trap-run-routine-when-MS-Windows-red-X-box-closed-tp4651773p4658761.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Mon Mar  1 03:36:06 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar  1 22:30:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14029] trunk/harbour
In-Reply-To: <77017A66-8E4A-42B1-9340-8F186AD5F763@syenar.hu>
References: <E1Nlvxl-000651-5D@sfp-svn-4.v30.ch3.sourceforge.com>
	<77017A66-8E4A-42B1-9340-8F186AD5F763@syenar.hu>
Message-ID: <07617A65-E94B-444A-85C0-1EF0BBFF0D79@syenar.hu>

Details here:
   2008-06-25 11:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)

Brgds,
Viktor

On 2010 Mar 1, at 09:32, Viktor Szak?ts wrote:

> Hi Xavi,
> 
> Please revert this. The behavior was intentionally 
> designed to be controlled by hb_GTInfo( HB_GTI_CLOSABLE ), 
> (instead of SETCANCEL()).
> 
> Brgds,
> Viktor
> 
> On 2010 Mar 1, at 04:06, jarabal@users.sourceforge.net wrote:
> 
>> Revision: 14029
>>         http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14029&view=rev
>> Author:   jarabal
>> Date:     2010-03-01 03:06:26 +0000 (Mon, 01 Mar 2010)
>> 
>> Log Message:
>> -----------
>> 2010-03-01 04:05 UTC+0100 Xavi (jarabal/at/gmail.com)
>> * harbour/src/rtl/gtwvt/gtwvt.c
>>   ! Fixing WM_CLOSE event (Clicked 'X' on system menu)
>>     to avoid irregular shutdown with SETCANCEL( .F. )
>> 
>>     REQUEST HB_GT_WVT_DEFAULT
>>     ANNOUNCE HB_GTSYS
>>     PROCEDURE Main()
>>        SetCancel(.F.)
>>        ? "Click [X] Not close windows"
>>        while( LastKey() != 27 )
>>           Inkey( 1 )
>>        enddo
>>     RETURN
>> 
>> Modified Paths:
>> --------------
>>   trunk/harbour/ChangeLog
>>   trunk/harbour/src/rtl/gtwvt/gtwvt.c
>> 
>> 
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From jarabal at gmail.com  Mon Mar  1 23:17:17 2010
From: jarabal at gmail.com (Xavi)
Date: Mon Mar  1 23:18:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14029] trunk/harbour
In-Reply-To: <77017A66-8E4A-42B1-9340-8F186AD5F763@syenar.hu>
References: <E1Nlvxl-000651-5D@sfp-svn-4.v30.ch3.sourceforge.com>
	<77017A66-8E4A-42B1-9340-8F186AD5F763@syenar.hu>
Message-ID: <4B8C914D.2000800@gmail.com>

Hi Viktor,

> Please revert this. The behavior was intentionally
> designed to be controlled by hb_GTInfo( HB_GTI_CLOSABLE ),
> (instead of SETCANCEL()).

Sorry but as you've seen the development list has been off-line many hours.
You've done a reversal before I can read the messages.

Could you explain what is the intention of change because .-

2008-06-25 11:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
    * source/rtl/gtwvt/gtwvt.c
      * Slightly changed the way CLOSE button works.
        Now the close button, if enabled, will always
        force a shutdown. So this setting is made independent
        of SetCancel(). I choose this because there might
        be cases when we need to use <Alt+C> in app code, yet
        we want to allow closing the window. Previously it was
        also easy to create confusing scenarios by using various
        combinations of HB_GTI_CLOSABLE + SetCancel(). Another
        kind of fix - without the advantage above - would be
        to fully sync SetCancel() with HB_GTI_CLOSABLE.

It's very unclear and before the change SetCancel() was respected.

You say: "I choose this because there might be cases when we need to use <Alt+C> in app code, yet we want to allow closing the 
window."

Sorry but I don't understand. You change the behavior of GTWVT with SetCancel() respect to GTWIN and GTWVG for something that 
you can do in your code with .-

hb_gtInfo( HB_GTI_NOTIFIERBLOCK, {|e| iif( e == HB_GTE_CLOSE, SetCancel(.T.), nil ), 0} )

Best regards,
-- 
Xavi

El 01/03/2010 9:32, Viktor Szak?ts escribi?:
> Hi Xavi,
>
> Please revert this. The behavior was intentionally
> designed to be controlled by hb_GTInfo( HB_GTI_CLOSABLE ),
> (instead of SETCANCEL()).
>
> Brgds,
> Viktor
>
> On 2010 Mar 1, at 04:06, jarabal@users.sourceforge.net wrote:
>
>> Revision: 14029
>>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14029&view=rev
>> Author:   jarabal
>> Date:     2010-03-01 03:06:26 +0000 (Mon, 01 Mar 2010)
>>
>> Log Message:
>> -----------
>> 2010-03-01 04:05 UTC+0100 Xavi (jarabal/at/gmail.com)
>>   * harbour/src/rtl/gtwvt/gtwvt.c
>>     ! Fixing WM_CLOSE event (Clicked 'X' on system menu)
>>       to avoid irregular shutdown with SETCANCEL( .F. )
>>
>>       REQUEST HB_GT_WVT_DEFAULT
>>       ANNOUNCE HB_GTSYS
>>       PROCEDURE Main()
>>          SetCancel(.F.)
>>          ? "Click [X] Not close windows"
>>          while( LastKey() != 27 )
>>             Inkey( 1 )
>>          enddo
>>       RETURN
>>
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/src/rtl/gtwvt/gtwvt.c
>>
>>
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From Jacek.Potempa at otc.com.pl  Mon Mar  1 06:19:06 2010
From: Jacek.Potempa at otc.com.pl (Jacek Potempa)
Date: Mon Mar  1 23:40:21 2010
Subject: [Harbour] ANN: Mediator SQL RDD 4.3.2.0 with free MySQL version
Message-ID: <4B8BA2AA.8010703@otc.com.pl>

ANN: Mediator SQL RDD 4.3.2.0 with free MySQL version

We are glad to announce availability of
Mediator ISAM server (SQL RDD) 4.3.2.0
compatible with Harbour 2.0 and xHarbour 1.2.1 (Rev. 6686, CVS 15.02.2010)


For product description please visit
http://www.otc.pl/index.asp?s=21&l=2

For summary of new features please visit
http://www.otc.pl/index.asp?s=32&l=2


As usuall, the following free for commercial use
versions are available for download from www.otc.pl:

- Unlimited Mediator ISAM server for MySQL for Harbour/xHarbour
- 5-user Mediator ISAM server Enterprise for PostgreSQL
- 5-user Mediator ISAM server Enterprise for MySQL
- 3-user Mediator ISAM server Enterprise for MS SQL 7/2000/2005/2008
- 3-user Mediator ISAM server Enterprise for Oracle 7/8/9/10/11
- 3-user Mediator ISAM server Enterprise for IBM DB2/Win


Enjoy,

OTC team

From druzus at users.sourceforge.net  Mon Mar  1 02:00:58 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar  2 01:09:08 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14030] trunk/harbour
Message-ID: <E1Nlzcg-0002Hj-LV@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14030
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14030&view=rev
Author:   druzus
Date:     2010-03-01 07:00:57 +0000 (Mon, 01 Mar 2010)

Log Message:
-----------
2010-03-01 08:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvm.c
    ! added missing HB_STACK_TLS_PRELOAD

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Mar  1 08:47:05 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 01:09:13 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14032] trunk/harbour
Message-ID: <E1Nm5xh-0001Nz-6j@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14032
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14032&view=rev
Author:   vszakats
Date:     2010-03-01 13:47:03 +0000 (Mon, 01 Mar 2010)

Log Message:
-----------
2010-03-01 14:45 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddodbc/sddodbc.c
    + Added support to return any size of string buffer from ODBC.
    ! Fixed typo in prev modification.

  * src/rtl/gtwvt/gtwvt.c
    ! Reverted close/SETCANCEL/HB_GTI_CLOSABLE behavior to
      match the old one and that of other GTs.
      Also see:
        2008-06-25 11:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
      Please use HB_GTI_CLOSABLE and HB_GTI_NOTIFIERBLOCK 
      to control GUI window close behavior.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Mon Mar  1 02:37:35 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Mar  2 01:39:59 2010
Subject: [Harbour] How to retrieve the CallStack
In-Reply-To: <6943770e1002280652n65fa80fajeaf2f72af1b6dc69@mail.gmail.com>
References: <6943770e1002280652n65fa80fajeaf2f72af1b6dc69@mail.gmail.com>
Message-ID: <4B8B6EBF.7010609@mweb.co.za>

francesco perillo wrote:

> I now ask if is it possible to get a prg-level CallStack array in
> order to use it in the errorsys handler.

I use:

function Stack2Str(n)

     local cStackStr := ""
     local cProcFile

     DEFAULT n TO 2

     while !empty(procname(n))
         cStackStr += "Called from " + procname(n) + "(" + 
alltrim(str(procline(n))) + ")" + iif(empty(cProcFile := procfile(n)), "", " in 
" + cProcFile) + chr(13) + chr(10)
         n++
     end

return cStackStr

HTH
Alex

From maurilio.longo at libero.it  Tue Mar  2 03:53:20 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  2 03:53:33 2010
Subject: [Harbour] pcode 0.3
In-Reply-To: <4B8BD571.4070003@libero.it>
References: <4B8BD571.4070003@libero.it>
Message-ID: <4B8CD200.9020904@libero.it>

Guys,

I'm at the third full rebuild, make clean, make and I keep getting this, am I
the only one? What's wrong with my hvm?

These are the files:

2/03/10  9:43          4.845    124 a---  arrayshb.o
2/03/10  9:43          2.119    124 a---  asort.o
2/03/10  9:43            163    124 a---  break.o
2/03/10  9:43          4.966    124 a---  cmdarg.o
2/03/10  9:43          2.787    124 a---  debug.o
2/03/10  9:43          2.933    124 a---  dynlibhb.o
2/03/10  9:43          4.405    124 a---  eval.o
2/03/10  9:43            497    124 a---  evalhb.o
2/03/10  9:43          1.320    124 a---  extrap.o
2/03/10  9:43          2.360    124 a---  harbinit.c
2/03/10  9:43          1.508    124 a---  harbinit.o
2/03/10  9:43          9.010    124 a---  hashfunc.o
2/03/10  9:43        331.738    124 a---  hvmall.o
2/03/10  9:43            117    124 a---  initexit.o
2/03/10  9:43          4.194    124 a---  initsymb.o
2/03/10  9:43            264    124 a---  mainstd.o
2/03/10  9:43            615    124 a---  memvclip.o
2/03/10  9:43            205    124 a---  pcount.o
2/03/10  9:43          2.585    124 a---  proc.o
2/03/10  9:43          3.432    124 a---  procaddr.o
2/03/10  9:43            496    124 a---  pvalue.o
2/03/10  9:43          7.256    124 a---  runner.o
2/03/10  9:43            580    124 a---  vm.o
      25 file(s)     388.395 bytes used
                 179.056.009 K bytes free


I've just rebuilt them!?!

Maurilio.

Maurilio Longo wrote:
> Hi,
> 
> code at svn 14032, full rebuid, on OS/2 gives:
> 
> B_LEGACY_TYPES_OFF   -oxbptoolbar.o -c xbptoolbar.c
> gcc -I../../../../../contrib/hbqt  -I. -I../../../../../include -Wall -W -O3 -DH
> B_LEGACY_TYPES_OFF   -oxbptreeview.o -c xbptreeview.c
> gcc -I../../../../../contrib/hbqt  -I. -I../../../../../include -Wall -W -O3 -DH
> B_LEGACY_TYPES_OFF   -oxbpwindow.o -c xbpwindow.c
> ar   -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbxbp.a & ..\..\..\.
> .\..\config\os2rm -f __lib__.tmp
> 
> (E:\REPOSITORY\HARBOUR)bin\os2\gcc\hbtest
> 
> Unrecoverable error 9000: Module '../../../hbtest.prg'
> was compiled with unsupported PCODE version 0.3.
> Please recompile.
> 
> (E:\REPOSITORY\HARBOUR)
> 
> Any idea?
> 
> Maurilio.
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From lorenzo.fiorini at gmail.com  Tue Mar  2 04:11:04 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar  2 04:11:13 2010
Subject: [Harbour] pcode 0.3
In-Reply-To: <4B8CD200.9020904@libero.it>
References: <4B8BD571.4070003@libero.it> <4B8CD200.9020904@libero.it>
Message-ID: <9257026e1003020111r9377379m91102ce09fe3f8a9@mail.gmail.com>

On Tue, Mar 2, 2010 at 9:53 AM, Maurilio Longo <maurilio.longo@libero.it> wrote:

> I'm at the third full rebuild, make clean, make and I keep getting this, am I
> the only one? What's wrong with my hvm?

I've just done a make -s clean make install under Linux/gcc and it seems ok.

No errors and hbtest works as expected.

best regards,
Lorenzo
From dmacias at mail.udg.mx  Tue Mar  2 04:14:50 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Mar  2 04:15:58 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
Message-ID: <4B8CD70A.5030101@mail.udg.mx>

Pritpal:

>> I do not know where to experiment:
>>   "qMsgBox := QMessageBox():new( qMainWindow )"
>>

>In demoqt.prg after main()

>   MsgInfo( "Testing" )

Using in demoqt.prg
[...]
HB_TRACE( HB_TR_ALWAYS, ( "-----------------b-----------------" ) )

//DAVID:
MsgInfo( "Testing" )

    FOR i := 1 TO 1
       oWnd := QMainWindow():new()
[...]

running demoqt.exe it show message window and crash after pressing OK
button with output:

-----------------------------------
demoqt.prg:127:MAIN(): HB_TR_ALWAYS
demoqt.prg:128:MAIN(): HB_TR_ALWAYS -----------------b-----------------

Exception c0000005 at address 0x1de369ca


     Exception Code:C0000005
     Exception Address:1DE369CA
     EAX:00000001  EBX:02905FCC  ECX:02905FD4  EDX:00000001
     ESI:00000000  EDI:00000000  EBP:002FFB68
     CS:EIP:005B:1DE369CA  SS:ESP:0053:002FFB50
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from MSGINFO(604) in demoqt.prg
Called from MAIN(131) in demoqt.prg

Killed by SIGSEGV
pid=0x005f ppid=0x0041 tid=0x0001 slot=0x00ae pri=0x0200 mc=0x0001
E:\HARBOUR103\HARBOUR\CONTRIB\HBQT\TESTS\DEMOQT.EXE
LIBC063 0:000669ca
cs:eip=005b:1de369ca      ss:esp=0053:002ffb50      ebp=002ffb68
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=02905fcc ecx=02905fd4 edx=00000001 edi=00000000
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
-----------------------------------

Current code is:

[596] STATIC FUNCTION MsgInfo( cMsg )
    LOCAL oMB

    oMB := QMessageBox():new()
    oMB:setInformativeText( cMsg )
    oMB:setWindowTitle( "Harbour-QT" )
    oMB:exec()

[604]   oMB := NIL
    HB_GCALL( .T.)

[607]   RETURN nil

so line 604 is:
    oMB := NIL

Using:
//DAVID:   oMB := NIL

crash again after OK button but now in line 607 which is:
    RETURN nil

with output:

-------------------------
demoqt.prg:127:MAIN(): HB_TR_ALWAYS
demoqt.prg:128:MAIN(): HB_TR_ALWAYS -----------------b-----------------

Exception c0000005 at address 0x1de369ca


     Exception Code:C0000005
     Exception Address:1DE369CA
     EAX:00000001  EBX:02905FCC  ECX:02905FD4  EDX:00000001
     ESI:00000000  EDI:00000000  EBP:002FFC88
     CS:EIP:005B:1DE369CA  SS:ESP:0053:002FFC70
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from MSGINFO(607) in demoqt.prg
Called from MAIN(131) in demoqt.prg

Killed by SIGSEGV
pid=0x007c ppid=0x0041 tid=0x0001 slot=0x00ae pri=0x0200 mc=0x0001
E:\HARBOUR103\HARBOUR\CONTRIB\HBQT\TESTS\DEMOQT.EXE
LIBC063 0:000669ca
cs:eip=005b:1de369ca      ss:esp=0053:002ffc70      ebp=002ffc88
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=02905fcc ecx=02905fd4 edx=00000001 edi=00000000
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
-------------------------


so in this test both crashes are within MsgInfo() function trying to
clean/discard oMB object


Did you checked "OS/2: Harbour 14019" message ?

David Macias

From smujohnson at gmail.com  Tue Mar  2 04:29:52 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  2 04:30:01 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box 
	closed?
In-Reply-To: <1267500230297-4658761.post@n2.nabble.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
	<674e4ddd1003011826o70208277hc96cfcda80339e79@mail.gmail.com>
	<1267498985682-4658667.post@n2.nabble.com>
	<20100302031114.GA32587@linux-4bod.home.aster.pl>
	<1267500230297-4658761.post@n2.nabble.com>
Message-ID: <674e4ddd1003020129q71fcfb5ck37d45b8b36f0a696@mail.gmail.com>

Hi,

Thanks for the tips.  I tried both these options, and they seem to start up
a new console window whenever I run stuff.  I imagine this is the price I
have to pay, in order to trap the red X button being pressed...

*worried face*

On Mon, Mar 1, 2010 at 7:23 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> Przemys?aw Czerpak wrote:
> >
> > It's redundant. -gtwvt makes the above.
> > If you use -gt* switches in hbmk2 then it makes for the 1-st one:
> >    REQUEST HB_GT_*_DEFAULT
> > and for the next ones:
> >    REQUEST HB_GT_*
> >
> > so you do not have to use any 'REQUEST HB_GT_*[_DEFAULT] in your
> > PRG code.
> >
>
> Long time elapsed I played with this stuff, so was out of memory.
> So only -gtwvt switch is required, more simplified.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Trap-run-routine-when-MS-Windows-red-X-box-closed-tp4651773p4658761.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/e74ea470/attachment.html
From harbour.01 at syenar.hu  Tue Mar  2 04:33:21 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  2 04:33:32 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <4B8BD546.2040609@gmail.com>
References: <4B87FC0C.1090207@gmail.com>	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>	<4B8A76FA.5020003@gmail.com>	<18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>	<4B8A91B7.6050104@gmail.com>	<18d502871002280818w6bfa68ebt2a5ad6cfb548f423@mail.gmail.com>	<4B8AA1A2.4080206@gmail.com>	<B831C378-6E67-44D4-BA45-D94C15312DD5@syenar.hu>	<4B8AAD61.5040200@gmail.com>
	<18d502871002281009t716ed0dek3d0036c50d60c0dd@mail.gmail.com>
	<4B8BD546.2040609@gmail.com>
Message-ID: <32FF345C-1728-4C7E-8B0D-55D189D7A826@syenar.hu>

Hi Xavi,

>> I don't see any need for a make-level solution. All macros can
>> be defined from source. Why is it better to define them on
>> make level?
> 
> Because if someone tries to compile Harbour with a version of SDK not supported, he don't have compile-time error.
> If in the example of my previous thread post I protect IP_ADAPTER_ADDRESSES use with .-
> #if _WIN32_WINNT >= 0x0501
>     ...
> #endif

_WIN32_WINNT holds the version we want to _target_. 
So there is no point in using it as a guard, since 
it doesn't hold the maximum supported target version 
of the C compiler/SDK.

So you need to do this:
1) You detect if the feature is supported on 
   given target compiler. (for this you may 
   need to use __MINGW32__ and _MSC_VER, or 
   NTDDI_VERSION) (there is no way to do this, 
   or to do this better on the make level)
2) You enable the feature by locally redefining 
   _WIN32_WINNT (or, if this feature is a missing 
   macro, you define them locally)
3) Then you make the call. If the call is present 
   in all Windows versions starting Win95, you 
   make it regular call, if not, you make it 
   dynamic.  

F.e. in above case, you can do this:
---
#define _WIN32_WINNT >= 0x0501
#include <windows.h>
[...]
#if defined( IP_ADAPTER_ADDRESSES) 
   [...]
#endif
---

or, in case you want to make it fully dynamic:
---
#include <windows.h>
#ifndef IP_ADAPTER_ADDRESSES
#define IP_ADAPTER_ADDRESSES   0x00020 /* change this to real value */
#endif
[...]
if( hbwin_version() > 0x???? ) /* detect if we're running under Windows version which supports IP_ADAPTER_ADDRESS.
{
   [...]
}
---

Sorry, but I still cannot see what the make system 
has to do with this.

Brgds,
Viktor

From labitas at gmail.com  Tue Mar  2 04:40:46 2010
From: labitas at gmail.com (Saulius Zrelskis)
Date: Tue Mar  2 04:40:54 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box 
	closed?
In-Reply-To: <1267496270582-4658528.post@n2.nabble.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
Message-ID: <2386af1b1003020140i3cef8a4x6917fc51cb713f21@mail.gmail.com>

> Oh yes, so you are using GTWIN.
> No, for this GT "Close -> X" button cannot be manipulated.

It can, through API SetConsoleCtrlHandler(). Handles events:
CTRL_C_EVENT
CTRL_BREAK_EVENT
CTRL_CLOSE_EVENT             <<<===
CTRL_LOGOFF_EVENT
CTRL_SHUTDOWN_EVENT

Best regards,
Saulius
From smujohnson at gmail.com  Tue Mar  2 04:42:50 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  2 04:42:58 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box 
	closed?
In-Reply-To: <2386af1b1003020140i3cef8a4x6917fc51cb713f21@mail.gmail.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
	<2386af1b1003020140i3cef8a4x6917fc51cb713f21@mail.gmail.com>
Message-ID: <674e4ddd1003020142i48425c65hf04028328caf3ff4@mail.gmail.com>

May joy and happiness forever come your way!

On Tue, Mar 2, 2010 at 1:40 AM, Saulius Zrelskis <labitas@gmail.com> wrote:

> > Oh yes, so you are using GTWIN.
> > No, for this GT "Close -> X" button cannot be manipulated.
>
> It can, through API SetConsoleCtrlHandler(). Handles events:
> CTRL_C_EVENT
> CTRL_BREAK_EVENT
> CTRL_CLOSE_EVENT             <<<===
> CTRL_LOGOFF_EVENT
> CTRL_SHUTDOWN_EVENT
>
> Best regards,
> Saulius
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/f5e82edd/attachment.html
From harbour.01 at syenar.hu  Tue Mar  2 04:46:39 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  2 04:46:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14029] trunk/harbour
In-Reply-To: <4B8C914D.2000800@gmail.com>
References: <E1Nlvxl-000651-5D@sfp-svn-4.v30.ch3.sourceforge.com>
	<77017A66-8E4A-42B1-9340-8F186AD5F763@syenar.hu>
	<4B8C914D.2000800@gmail.com>
Message-ID: <DD3384CF-D278-4E05-9C44-62B336F2245B@syenar.hu>

>> Please revert this. The behavior was intentionally
>> designed to be controlled by hb_GTInfo( HB_GTI_CLOSABLE ),
>> (instead of SETCANCEL()).
> 
> Sorry but as you've seen the development list has been off-line many hours.
> You've done a reversal before I can read the messages.
> 
> Could you explain what is the intention of change because .-
> 
> 2008-06-25 11:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * source/rtl/gtwvt/gtwvt.c
>     * Slightly changed the way CLOSE button works.
>       Now the close button, if enabled, will always
>       force a shutdown. So this setting is made independent
>       of SetCancel(). I choose this because there might
>       be cases when we need to use <Alt+C> in app code, yet
>       we want to allow closing the window. Previously it was
>       also easy to create confusing scenarios by using various
>       combinations of HB_GTI_CLOSABLE + SetCancel(). Another
>       kind of fix - without the advantage above - would be
>       to fully sync SetCancel() with HB_GTI_CLOSABLE.
> 
> It's very unclear and before the change SetCancel() was respected.
> 
> You say: "I choose this because there might be cases when we need to use <Alt+C> in app code, yet we want to allow closing the window."
> 
> Sorry but I don't understand. You change the behavior of GTWVT with SetCancel() respect to GTWIN and GTWVG for something that you can do in your code with .-
> 
> hb_gtInfo( HB_GTI_NOTIFIERBLOCK, {|e| iif( e == HB_GTE_CLOSE, SetCancel(.T.), nil ), 0} )

Disabling "GUI window close button" is a GT speciality 
feature and as such it should be best controlled by a 
GT speciality option. Otherwise the code hides a platform / GT 
difference which just cannot be hidden. IOW we should 
not make the impression if SETCANCEL() always disables 
windows-close behavior, since this is not true and cannot 
be true in real life (see GTWIN f.e.). IMO this is two 
different problem and as such they need separate control.

If've been experimenting with this for weeks at the time, 
and the solution which you re-implemented was also 
unsatisfactory in real life, and it was confusing.

I use SETCANCEL() regularly, as I do need <Alt+C> 
as regular key combination, yet I don't want to cripple 
the window to have non-working close functionality.
It's also very confusing because the close button is 
_there_, it just doesn't work. When you use HB_GTI_CLOSABLE, 
there is clear visual evidence that the close button 
is disabled, since it's grayed out. But, such feature 
is inherently GT/platform dependent, so it's not good 
to use SETCANCEL(), which is fully portable.

BTW, I finally settled with presenting a dialog when 
close button is pressed, because even graying out the 
close button didn't look like a very good idea either 
in practice.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Mar  2 05:00:08 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar  2 05:00:17 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <674e4ddd1003020129q71fcfb5ck37d45b8b36f0a696@mail.gmail.com>
References: <1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
	<674e4ddd1003011826o70208277hc96cfcda80339e79@mail.gmail.com>
	<1267498985682-4658667.post@n2.nabble.com>
	<20100302031114.GA32587@linux-4bod.home.aster.pl>
	<1267500230297-4658761.post@n2.nabble.com>
	<674e4ddd1003020129q71fcfb5ck37d45b8b36f0a696@mail.gmail.com>
Message-ID: <20100302100008.GA22522@linux-4bod.home.aster.pl>

On Tue, 02 Mar 2010, smu johnson wrote:

Hi,

> Thanks for the tips.  I tried both these options, and they seem to start up
> a new console window whenever I run stuff.  I imagine this is the price I
> have to pay, in order to trap the red X button being pressed...

No it's not the price you have to pay.
Additional console window is created by some C RTLs for console
programs. You have to use -gui hbmk2 switch that you are creating
GUI program. GTWVT uses WIN API to create console window so technically
is not console program but GUI one.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar  2 05:05:39 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  2 05:05:50 2010
Subject: [Fwd: Re: [Harbour] SF.net SVN: harbour-project:[14022]
	trunk/harbour]
In-Reply-To: <4B8C49CE.5010705@dbtopas.lt>
References: <4B8C49CE.5010705@dbtopas.lt>
Message-ID: <25DB1D10-3C77-492D-807F-EB99DACC0D7C@syenar.hu>

Hi Mindaugas,

(resent to public list)

> here I forward a letter I've send today, but it has not yet reached mailing list.
> 
> I've looked a little deeper into OCI functions. I've not understood the idea of additional lib. Oracle offers oci.dll and OCI*() functions. ocilib is developed on the top of this Oracle Client Interface. ocilib[x].dll offers OCI_*() functions.
> 
> Why this additional level is required? Why not to use OCI*() directly?

First I just followed this past suggestion that popped 
on the list. Then I realized how it worked and saw the 
potential to use oci dynamic lib directly.

Ocilib advertises itself as easy to use and fast interface 
to Oracle dbs, which is highly portable and also supports 
several Oracle client versions with the exact same 
interface. As such, I believe its main purpose is to hide 
the platform and version differences, and the nuisance of 
the original Oracle API, which looked quite terrible when 
I looked at it considering accessing it directly.
But, how can a wrapper be also faster? Well, I _guess_ 
because it uses the Oracle API in an optimal way.

See this also:
  http://www.codeguru.com/cpp/data/mfc_database/oracle/article.php/c15189/

Nevertheless, it would be _great_ to have an sddora lib 
with direct Oracle API access. But I'm sure it's a little 
bit bigger exercise than this one.

[ BTW, I also don't need Oracle for my projects, but it's 
a cool thing, so I just felt like doing it. ]

[ BTW2: My oracle server is still running and accessible 
from the outside using the method I've sent to you. ]

>> + contrib/rddsql/sddoci/sddoci.c
>> + contrib/rddsql/sddsq3/sddsq3.c
> 
> Thank You, for you new SDD. I've started Oracle development some time
> ago, but never fixed because lack of time, motivation (I do not need it
> for my own projects), and test environment. I see you current code is
> much more complete, than my. It also uses some more nice API than I was
> trying to use. I was using OCI*() functions (not OCI_*()), i.e.
> OCIHandleAlloc() was used to allocate server, context, environment,
> error, and session handles. It seemed very stange...
> 
> BTW, in the OCI*() API, transaction management is done using API
> functions, but not 'BEGIN', 'ROLLBACK', 'COMMIT' queries (like in
> MySql). If this is also true for OCI_*() API, perhaps we need to SDD and
> introduce new methods. For MySql and similar "query based transactions"
> we need to do queries on transaction method calls.

I guess you're right:
  http://orclib.sourceforge.net/doc/html/group__g__transac.html

>> ; TOFIX: To Mindaugas: Current SDD architecture will crash with GPF
>>          if dbUseArea() is attempted after a failed RDDI_CONNECT
>>          call. You can check it f.e. with sddodbc's test1.prg, by
>>          modifying test.mdb to test_.mdb, and simply run it.
> 
> I've tried to, but I guess you've already fixed it. But I see a lot of
> "?" characters in test1.prg table browse (in BCC). Something wrong with
> UNICODE support, though I do not see error code. Maybe some hidden
> #define UNICODE exists...

I hope I fixed it, yes. It was an unchecked pointer, but 
I'd appreciate if you could look at it, maybe there exists 
a better fix.

> !!! This "&& 0" is dangerous, not compatible with next #if defined

It was a temp mistake in commit. You tested just this 
wrong version, hence the '?' chars I guess.

BTW, I was also experimenting with Sybase db access (which 
I could use in a project, to avoid ISQL external calls), but 
after spending a few hours on it, I couldn't even attach to 
a local server. I tried with FreeTDS, but I also failed with 
plain Sybase isql.exe. (there is another implementation of 
isql.exe which works properly, but it uses some other APIs, 
which I don't know anything about).

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Mar  2 05:10:21 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  2 05:10:31 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <20100302100008.GA22522@linux-4bod.home.aster.pl>
References: <1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
	<674e4ddd1003011826o70208277hc96cfcda80339e79@mail.gmail.com>
	<1267498985682-4658667.post@n2.nabble.com>
	<20100302031114.GA32587@linux-4bod.home.aster.pl>
	<1267500230297-4658761.post@n2.nabble.com>
	<674e4ddd1003020129q71fcfb5ck37d45b8b36f0a696@mail.gmail.com>
	<20100302100008.GA22522@linux-4bod.home.aster.pl>
Message-ID: <71CC50CA-E398-4D3D-90D1-7F941E76BF4E@syenar.hu>

Hi,

>> Thanks for the tips.  I tried both these options, and they seem to start up
>> a new console window whenever I run stuff.  I imagine this is the price I
>> have to pay, in order to trap the red X button being pressed...
> 
> No it's not the price you have to pay.
> Additional console window is created by some C RTLs for console
> programs. You have to use -gui hbmk2 switch that you are creating
> GUI program. GTWVT uses WIN API to create console window so technically
> is not console program but GUI one.

Please note that -gtwvt automatically enables -gui, too.

In case one needs multiple -gt* options, it's best to use 
it though (_after_ the -gt* options) to make sure GUI 
mode is forced.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Tue Mar  2 05:17:25 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar  2 05:17:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14029] trunk/harbour
In-Reply-To: <DD3384CF-D278-4E05-9C44-62B336F2245B@syenar.hu>
References: <E1Nlvxl-000651-5D@sfp-svn-4.v30.ch3.sourceforge.com>
	<77017A66-8E4A-42B1-9340-8F186AD5F763@syenar.hu>
	<4B8C914D.2000800@gmail.com>
	<DD3384CF-D278-4E05-9C44-62B336F2245B@syenar.hu>
Message-ID: <9257026e1003020217u6330af98m83f1718af3bf076a@mail.gmail.com>

On Tue, Mar 2, 2010 at 10:46 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Disabling "GUI window close button" is a GT speciality
> ...
> in practice.

I would also add that every change in gtwvt must be synced with gtxwc.
If the change is not portable it needs to be "explicit" and documented.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Mar  2 05:20:55 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  2 05:21:08 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <2386af1b1003020140i3cef8a4x6917fc51cb713f21@mail.gmail.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
	<2386af1b1003020140i3cef8a4x6917fc51cb713f21@mail.gmail.com>
Message-ID: <C13FEDD4-FEAF-48CE-A99F-B6D2D998152B@syenar.hu>

Hi Saulius,

>> Oh yes, so you are using GTWIN.
>> No, for this GT "Close -> X" button cannot be manipulated.
> 
> It can, through API SetConsoleCtrlHandler(). Handles events:
> CTRL_C_EVENT
> CTRL_BREAK_EVENT
> CTRL_CLOSE_EVENT             <<<===
> CTRL_LOGOFF_EVENT
> CTRL_SHUTDOWN_EVENT

Can you show an example for that using current gtwin.c code?

We're already handling these events, so if doable, it should 
be implemented here:
---
static BOOL WINAPI hb_gt_win_CtrlHandler( DWORD dwCtrlType )
{
   BOOL bHandled;

   HB_TRACE(HB_TR_DEBUG, ("hb_gt_win_CtrlHandler(%lu)", ( HB_ULONG ) dwCtrlType));

   switch( dwCtrlType )
   {
      case CTRL_C_EVENT:
         bHandled = FALSE;
         break;

      case CTRL_CLOSE_EVENT:
      case CTRL_BREAK_EVENT:
         s_bBreak = HB_TRUE;
         bHandled = TRUE;
         break;

      case CTRL_LOGOFF_EVENT:
      case CTRL_SHUTDOWN_EVENT:
      default:
         bHandled = FALSE;
   }

   return bHandled;
}
---

Brgds,
Viktor

From kadziola at tlen.pl  Tue Mar  2 06:35:33 2010
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Tue Mar  2 06:35:41 2010
Subject: [Harbour] Wrong hbsms
Message-ID: <14010698842.20100302123533@tlen.pl>

Hi Viktor,

Function sms_send() return (-3) and not send message with
libhbtpathy.a after 20.02.2010 (it's date of my last
harbour build). With earlier version of libhbtpathy.a
(date of my build : 02.02.2010) sms_send() return (-10)
and work OK = send message.

-- 
Regards,
Jaroslaw Kadziola

From druzus at acn.waw.pl  Tue Mar  2 06:36:15 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar  2 06:36:22 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <C13FEDD4-FEAF-48CE-A99F-B6D2D998152B@syenar.hu>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
	<1267409573308-4652008.post@n2.nabble.com>
	<674e4ddd1003011152x5662a9eaq877b8ae8e611ee14@mail.gmail.com>
	<1267496270582-4658528.post@n2.nabble.com>
	<2386af1b1003020140i3cef8a4x6917fc51cb713f21@mail.gmail.com>
	<C13FEDD4-FEAF-48CE-A99F-B6D2D998152B@syenar.hu>
Message-ID: <20100302113615.GA23180@linux-4bod.home.aster.pl>

On Tue, 02 Mar 2010, Szak?ts Viktor wrote:

Hi,

> >> Oh yes, so you are using GTWIN.
> >> No, for this GT "Close -> X" button cannot be manipulated.
> > It can, through API SetConsoleCtrlHandler(). Handles events:
> > CTRL_C_EVENT
> > CTRL_BREAK_EVENT
> > CTRL_CLOSE_EVENT             <<<===
> > CTRL_LOGOFF_EVENT
> > CTRL_SHUTDOWN_EVENT
> Can you show an example for that using current gtwin.c code?
> We're already handling these events, so if doable, it should 
> be implemented here:
[...]

For CTRL_LOGOFF_EVENT, CTRL_SHUTDOWN_EVENT we should enable CANCEL
or QUIT action. Please only remember that CtrlHandler is executed
using separate non HVM thread.

Current implementation ignores CTRL_CLOSE_EVENT (it returns TRUE what
disable default ExitProcess() action). It causes that after 5 seconds
systems shows message box asking about confirmation of process termination.

There is no way to disable [X] close button using SetConsoleCtrlHandler()
and CTRL_SHUTDOWN_EVENT (BTW maybe we should change default action for this
event to QUIT or CANCEL).

On newer systems having GetConsoleWindow() function it's possible to
use exactly the same solution as in GTWVT, i.e:

   HMENU hSysMenu = GetSystemMenu( GetConsoleWindow(), FALSE );
   if( hSysMenu )
      EnableMenuItem( hSysMenu, SC_CLOSE, MF_BYCOMMAND | MF_GRAYED );

best regards,
Przemek
From dbtopas at dbtopas.lt  Tue Mar  2 06:42:59 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar  2 06:43:16 2010
Subject: [Harbour] OrdLiistAdd() bug
Message-ID: <4B8CF9C3.2030907@dbtopas.lt>

Hi,


the following sample prints:
C:\cawi32\sample\test>hbrun test194.prg

ORDNAME(0), ORDKEY(0): F F

-------  code --------
REQUEST DBFCDX
PROC MAIN()
   RDDSETDEFAULT("DBFCDX")
   DBCREATE("test194", {{"F", "C", 10, 0}},, .T.)
   OrdCreate("test194x", "F", "F")
   DBCLOSEALL()
   DBUSEAREA(.T.,, "test194",, .T., .F.)
   ORDLISTADD("test194x")
   ? "ORDNAME(0), ORDKEY(0):", ORDNAME(0), ORDKEY(0)
   DBCLOSEALL()
RETURN


Regards,
Mindaugas
From maurilio.longo at libero.it  Tue Mar  2 06:45:34 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  2 06:45:47 2010
Subject: [Harbour] pcode 0.3
In-Reply-To: <9257026e1003020111r9377379m91102ce09fe3f8a9@mail.gmail.com>
References: <4B8BD571.4070003@libero.it> <4B8CD200.9020904@libero.it>
	<9257026e1003020111r9377379m91102ce09fe3f8a9@mail.gmail.com>
Message-ID: <4B8CFA5E.8000902@libero.it>

Lorenzo,

I don't know what to do next, I've been building harbour for several months
now, without problems.

Now, I do a clean, a make and, on completely new .exes, I get

B_LEGACY_TYPES_OFF   -oxbptreeview.o -c xbptreeview.c
../../../../../bin/os2/gcc/harbour.exe ../../../xbpwindow.prg -I../../../../../
ontrib/hbqt -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
gcc -I../../../../../contrib/hbqt  -I. -I../../../../../include -Wall -W -O3 -D
B_LEGACY_TYPES_OFF   -oxbpwindow.o -c xbpwindow.c
ar   -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbxbp.a & ..\..\..\
.\..\config\os2rm -f __lib__.tmp

(E:\REPOSITORY\HARBOUR)bin\os2\gcc\hbtest

Unrecoverable error 9000: Module '../../../hbtest.prg'
was compiled with unsupported PCODE version 0.3.
Please recompile.

hbsetup.h is at revision 14027 and contains

/* ***********************************************************************
 * Define PCODE version number
 * HB_PCODE_VER_MIN define minimum supported PCODE by HVM
 */

#define HB_PCODE_VER          0x0003
#define HB_PCODE_VER_MIN      0x0002

Why is it saying it's not ok??

Maurilio.


Lorenzo Fiorini wrote:
> On Tue, Mar 2, 2010 at 9:53 AM, Maurilio Longo <maurilio.longo@libero.it> wrote:
> 
>> I'm at the third full rebuild, make clean, make and I keep getting this, am I
>> the only one? What's wrong with my hvm?
> 
> I've just done a make -s clean make install under Linux/gcc and it seems ok.
> 
> No errors and hbtest works as expected.
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Mar  2 06:51:01 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar  2 06:51:09 2010
Subject: [Harbour] OrdLiistAdd() bug
In-Reply-To: <4B8CF9C3.2030907@dbtopas.lt>
References: <4B8CF9C3.2030907@dbtopas.lt>
Message-ID: <20100302115101.GA23487@linux-4bod.home.aster.pl>

On Tue, 02 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> the following sample prints:
> C:\cawi32\sample\test>hbrun test194.prg
> ORDNAME(0), ORDKEY(0): F F

Looks correct for me.
What is the bug?

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar  2 06:52:43 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  2 06:52:53 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <14010698842.20100302123533@tlen.pl>
References: <14010698842.20100302123533@tlen.pl>
Message-ID: <398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>

Hi Jaroslaw,

> Function sms_send() return (-3) and not send message with
> libhbtpathy.a after 20.02.2010 (it's date of my last
> harbour build). With earlier version of libhbtpathy.a
> (date of my build : 02.02.2010) sms_send() return (-10)
> and work OK = send message.

Sorry, but I cannot spot any changes which could cause 
anything like that:

http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/tpwin.c?view=log
http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbsms/hbsms.prg?view=log

Brgds,
Viktor

From kadziola at tlen.pl  Tue Mar  2 07:09:09 2010
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Tue Mar  2 07:09:15 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
Message-ID: <136650505.20100302130909@tlen.pl>

Hi Viktor,


VS> Hi Jaroslaw,

>> Function sms_send() return (-3) and not send message with
>> libhbtpathy.a after 20.02.2010 (it's date of my last
>> harbour build). With earlier version of libhbtpathy.a
>> (date of my build : 02.02.2010) sms_send() return (-10)
>> and work OK = send message.

VS> Sorry, but I cannot spot any changes which could cause 
VS> anything like that:

VS> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/tpwin.c?view=log
VS> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbsms/hbsms.prg?view=log

Thanks for quick reply.
I don't know what is wrong - i'm only reporting this fact.

-- 
Regards,
 Jaroslaw Kadziola

From dbtopas at dbtopas.lt  Tue Mar  2 07:33:23 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar  2 07:33:38 2010
Subject: [Harbour] OrdLiistAdd() bug
In-Reply-To: <20100302115101.GA23487@linux-4bod.home.aster.pl>
References: <4B8CF9C3.2030907@dbtopas.lt>
	<20100302115101.GA23487@linux-4bod.home.aster.pl>
Message-ID: <4B8D0593.8090100@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
>> the following sample prints:
>> C:\cawi32\sample\test>hbrun test194.prg
>> ORDNAME(0), ORDKEY(0): F F
> 
> Looks correct for me.
> What is the bug?

As far as I understand zero order means no order, and should return an 
empty key and empty order name.

Code:
   FOR nI := 0 TO ORDCOUNT()
     ? nI, ORDNAME(nI), ORDKEY(nI), ORDNUMBER(ORDNAME(nI))
   NEXT
executed before OrdCreate() prints correct result for zero order:
          0            0
but the same code executed after OrdListAdd() returns key 'F' for both 
zero and first index:
          0 F F          1
          1 F F          1


Regards,
Mindaugas
From maurilio.longo at libero.it  Tue Mar  2 07:34:21 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  2 07:34:52 2010
Subject: [Harbour] pcode 0.3
In-Reply-To: <4B8CFA5E.8000902@libero.it>
References: <4B8BD571.4070003@libero.it>
	<4B8CD200.9020904@libero.it>	<9257026e1003020111r9377379m91102ce09fe3f8a9@mail.gmail.com>
	<4B8CFA5E.8000902@libero.it>
Message-ID: <4B8D05CD.6060203@libero.it>

And this is what gets written inside .c files created from .prg ones:

HB_INIT_SYMBOLS_EX_END( hb_vm_SymbolInit_HBTEST, "../../../hbtest.prg", 0x0,
0x0003 )

So it seems it is writing 3 as it should, or not?

Maurilio

Maurilio Longo wrote:
> Lorenzo,
> 
> I don't know what to do next, I've been building harbour for several months
> now, without problems.
> 
> Now, I do a clean, a make and, on completely new .exes, I get
> 
> B_LEGACY_TYPES_OFF   -oxbptreeview.o -c xbptreeview.c
> ../../../../../bin/os2/gcc/harbour.exe ../../../xbpwindow.prg -I../../../../../
> ontrib/hbqt -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
> gcc -I../../../../../contrib/hbqt  -I. -I../../../../../include -Wall -W -O3 -D
> B_LEGACY_TYPES_OFF   -oxbpwindow.o -c xbpwindow.c
> ar   -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbxbp.a & ..\..\..\
> .\..\config\os2rm -f __lib__.tmp
> 
> (E:\REPOSITORY\HARBOUR)bin\os2\gcc\hbtest
> 
> Unrecoverable error 9000: Module '../../../hbtest.prg'
> was compiled with unsupported PCODE version 0.3.
> Please recompile.
> 
> hbsetup.h is at revision 14027 and contains
> 
> /* ***********************************************************************
>  * Define PCODE version number
>  * HB_PCODE_VER_MIN define minimum supported PCODE by HVM
>  */
> 
> #define HB_PCODE_VER          0x0003
> #define HB_PCODE_VER_MIN      0x0002
> 
> Why is it saying it's not ok??
> 
> Maurilio.
> 
> 
> Lorenzo Fiorini wrote:
>> On Tue, Mar 2, 2010 at 9:53 AM, Maurilio Longo <maurilio.longo@libero.it> wrote:
>>
>>> I'm at the third full rebuild, make clean, make and I keep getting this, am I
>>> the only one? What's wrong with my hvm?
>> I've just done a make -s clean make install under Linux/gcc and it seems ok.
>>
>> No errors and hbtest works as expected.
>>
>> best regards,
>> Lorenzo
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Mar  2 07:35:30 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar  2 07:35:40 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <4B881BB8.2070209@dbtopas.lt>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<4B881BB8.2070209@dbtopas.lt>
Message-ID: <20100302123530.GA23621@linux-4bod.home.aster.pl>

On Fri, 26 Feb 2010, Mindaugas Kavaliauskas wrote:

Hi,

> >In class implementation we are using:
> >   _HB_CLASS <className> [,<classFuncName>]     // new class
> >   _HB_MEMBER <messageName> [ AS <type> ]
> >   _HB_MEMBER { [ AS <type> ] <varName,...> }
> >Of course this is also [x]Harbour only extension and it's hidden for
> >users by PP rules in hbclass.ch so I think that only few people knows
> >about such syntax extension.
> I've seen it a lot of times in .ch and .ppo. I've even tried to look
> into .y for exact meaning of this, but I failed to find a good
> answer in compiler source.

Probably because it seems to be unfinished extension.
Anyhow I plan to fully remove it and create new code from scratch.

> >But for variable declaration in [x]Harbour "AS <type>" can be used after
> >each variable, i.e.:
> >   LOCAL cVar AS CHARACTER, nVar AS NUMERIC, lVar AS LOGICAL
> >This is incompatible with other xbase dialects which allow to use
> >"AS <type>" only at the end and it describes type for all vairables
> >in given declaration, i.e.:
> >   LOCAL nVar1, nVar2, nVar3 AS NUMERIC
> >In FlagShip and VO declares 3 numeric variables but in [x]Harbour
> >only nVar3 is declared as numeric variable but nVar1 and nVar2 do
> >not have strong type, they are AS USUAL.
> >I do not like this difference and it may cause serious problems
> >with code portability.
> >Clipper uses very similar syntax when fields are declared:
> >   FIELD <fieldName, ...> IN <alias>
> >and "IN <alias>" is used for all fields not only for the last one
> >so this [x]Harbour extension looks ugly even if compared with only
> >other Clipper commands.
> I think we must be compatible with majority here. Unless we see a
> drawbacks in majority syntax.

Fine, seems that this part is clear.

> I remember I had some problems in the past introducing new
> operators. AFAIR, it was because PP do not know anything about
> operator precendence. Do we have a same situation here?

Yes. PP does not know anything about operator precedence.
It can only recognize some non literal tokens as part of
expression or concatenating expressions and group expressions
using parenthesis.
In this particular case the precedence is less important.
The problem is caused by the fact the any identifiers cannot
be used to concatenate expressions and in code like:
   ? var as numeric
PP recognize 'var as numeric' as three different expressions
not a single expression so
   #command ? <params,...> => QOut( <params> )
does not match above line.
It can be translated by:
   #command ? <p1> <p2> <p3> => QOut( <p1> <p2> <p3> )
If we do not use construction which is PP friendly then people
will report problems that casting does not work in different
commands.

> Pseudo functions looks like a good solution if we do not want to
> invent a new syntax like var.type . New syntax sometimes has a
> hidden drawbacks if you do not have the whole picture of
> lexer-PP-Compiler in your head. Of cause, I'm sure Przemek has it in
> his head :) But var.type looks a little alien for me.

I'm ready for any other propositions.
In fact we will need it only for maximum warning level when
AS USUAL values are passed as strong parameters or assigned
to strongly typed values to pacify the compile time warning.

> One more thing is very interesting to me: how can we optimize code
> using strong typing? It would be nice, if we can reach a speed of C
> language here :) But we have some problems, f.e., our numeric type
> actually are 3 different types in VM: int, HB_LONG (or some new type
> name to be exact), and double. This disables:
>   LOCAL n1, n2, n3 AS NUMERIC
>   n1 := n2 + n3
> to be optimized to C level + operation, because additional type and
> parameter range checking is required. I've done some comparison of
> different languages (Harbour, Ruby, PHP, Java, etc) in the past.
> Languages that have separate double and integer types has much
> better performance for a simple arithmetic operations.
>   LOCAL n1, n2, n3 AS INTEGER
> could be useful.

We definitely need INTEGER type (it's even already used in Harbour class
code).
We can try to use it to optimize generated code but we can also intorduce
new declarations like in FlagShip:
   STATIC_<TYPE> ...
   LOCAL_<TYPE> ...
i.e.:
   LOCAL_INT i1, i2, i3
   LOCAL_DOUBLE n2, n2, n3
We do not need such declaration for PRIVATE, PUBLIC and FIELD because
they cannot be safely optimized.
Separate declaration makes internal compiler code much cleaner and allow
users to control which parts should be optimized. It means that we can
intorduce some more strict conditions for such strongly typed variables,
i.e. we can forbid passing them by reference or detach in codeblocks.
Personally I would like to make it in such way.

> I also want to answer here to a topic from another thread. This is
> related to Harbour syntax.
> >Example:
> >>with object MyObject
> >>    &( "{|| x := :MyMethod() }" )
> >>end
> >>It gives a syntax error &
> >In next commit I'll add only protection for such GPF (it will work
> >like in xHarbour) and we can try to talk about the future of WITH OBJECT.
> >Here is the code which illustrates the problem:
> >   proc main()
> >      local cb
> >      with object .F.
> >         with object 0
> >            cb := {|| :className }
> >            ? eval( cb )            // NUMERIC
> >         end
> >         ? eval( cb )               // LOGICAL
> >      end
> >      ? eval( cb )                  // GPF or NIL after incomming commit.
> >   return
> >As you can see codeblock is created inside 'with object 0' statement but
> >can be used outside this statement when the given object does not longer
> >exist so it does not confirm WITH OBJECT specification and has to be fixed.
> >We have two choices:
> >   1) detach WITH OBJECT variable lust like local variables
> >      and add code which will resolve references in each :<msg> code.
> >      It will cause some small speed overhead but it will work
> >   2) forbid using :<msg> in nested code blocks at compile time.
> >If we want to add support for macrocompiler then we can chose only
> >method one.
> >But method one except some small speed overhead has yet another drawback.
> >It needs to keep current code which uses additional HVM stack register
> >(lWithObject) to store offset of WITH OBJECT value. Such implementation
> >needs additional code to update lWithObject register at the beginning and
> >end of WITH OBJECT statement (additional speed overhead which can be
> >eliminated and reduces this feature to only single WITH OBJECT variable
> >and this is sth what I would like to eliminate in the future.
> 
> I know my opinion will be not popular, but I think the best choice
> is to remove this xHarbour's extension... Because it falls under
> category:
> 
> >I can understand that we are removing some code/functionality when
> >we have very serious reasons for it, i.e. extension has some bad side
> >effects, it's hard to update/keep alive and consumes too much developer
> >time or blocks some other much more important modifications. In such
> >case we can only say sorry and try to explain the reasons of our
> >decision.

And I agree with you.
When I'll add support for temporary variables then we will return
to this subject and decide what to do with WITH OBJECT statement and
scope of FOR EACH iterator variable.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Mar  2 07:41:45 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar  2 07:41:54 2010
Subject: [Harbour] OrdLiistAdd() bug
In-Reply-To: <4B8D0593.8090100@dbtopas.lt>
References: <4B8CF9C3.2030907@dbtopas.lt>
	<20100302115101.GA23487@linux-4bod.home.aster.pl>
	<4B8D0593.8090100@dbtopas.lt>
Message-ID: <20100302124145.GA24188@linux-4bod.home.aster.pl>

On Tue, 02 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> >>the following sample prints:
> >>C:\cawi32\sample\test>hbrun test194.prg
> >>ORDNAME(0), ORDKEY(0): F F
> >Looks correct for me.
> >What is the bug?
> As far as I understand zero order means no order, and should return
> an empty key and empty order name.
> Code:
>   FOR nI := 0 TO ORDCOUNT()
>     ? nI, ORDNAME(nI), ORDKEY(nI), ORDNUMBER(ORDNAME(nI))
>   NEXT
> executed before OrdCreate() prints correct result for zero order:
>          0            0
> but the same code executed after OrdListAdd() returns key 'F' for
> both zero and first index:
>          0 F F          1
>          1 F F          1

0 given as tag number in above ord*() functions means current index.
It's Clipper compatible behavior. Just test your code with Clipper.
I do no think I can change it and drop Clipper compatibility. Seems
that it may interact with existing Clipper code.

best regards,
Przemek
From dbtopas at dbtopas.lt  Tue Mar  2 07:46:46 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar  2 07:47:02 2010
Subject: [Harbour] OrdLiistAdd() bug
In-Reply-To: <20100302124145.GA24188@linux-4bod.home.aster.pl>
References: <4B8CF9C3.2030907@dbtopas.lt>	<20100302115101.GA23487@linux-4bod.home.aster.pl>	<4B8D0593.8090100@dbtopas.lt>
	<20100302124145.GA24188@linux-4bod.home.aster.pl>
Message-ID: <4B8D08B6.4090404@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
>> As far as I understand zero order means no order, and should return
>> an empty key and empty order name.
> 0 given as tag number in above ord*() functions means current index.
> It's Clipper compatible behavior. Just test your code with Clipper.
> I do no think I can change it and drop Clipper compatibility. Seems
> that it may interact with existing Clipper code.

Thank You. I was sure that OrdSetFocus(0) understand zero the same way 
as OrdName(0), and I have not tested Clipper. Sorry, for wrong bug report.


Regards,
Mindaugas
From daniel at base4.com.br  Tue Mar  2 07:55:42 2010
From: daniel at base4.com.br (=?ISO-8859-1?Q?Daniel_Gon=E7alves?=)
Date: Tue Mar  2 07:55:51 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <369131AE-BFDF-48D3-8409-1ADBCD788F32@syenar.hu>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<4B8389BC.1040800@libero.it>
	<369131AE-BFDF-48D3-8409-1ADBCD788F32@syenar.hu>
Message-ID: <72b117651003020455q64561eb1k5f92ba8636aa72cb@mail.gmail.com>

Hi,

2010/2/23 Viktor Szak?ts <harbour.01@syenar.hu>:
> It means we should name it x:__tonumber(), which
> looks a little strange. Plus, it forces using
> OOP syntax in non-OOP code.

Class(y) does this sort of "type wrapper" or "scalar classes". For example:

n := 15
? n:isKindOf( FooBar() )  // returns .F.

This makes the code a lot cleaner.

> F.e. in Python which is a strongly type language,
> there is no casting, just conversion functions.

Python is a dynamically typed language (aka "duck typing").

Best regards,

-- 
Daniel Gon?alves
Base4 Sistemas Ltda.
[www.base4.com.br]
[twitter.com/spanazzi]
From maurilio.longo at libero.it  Tue Mar  2 08:17:50 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  2 08:18:04 2010
Subject: [Harbour] pcode 0.3
In-Reply-To: <4B8D05CD.6060203@libero.it>
References: <4B8BD571.4070003@libero.it>	<4B8CD200.9020904@libero.it>	<9257026e1003020111r9377379m91102ce09fe3f8a9@mail.gmail.com>	<4B8CFA5E.8000902@libero.it>
	<4B8D05CD.6060203@libero.it>
Message-ID: <4B8D0FFE.6050900@libero.it>

Ok,

I've found out what is my problem.

hbtest uses harbour.dll, but the one used is the one inside path and not the
one inside bin\os2\gcc, so the one on the path is the old one, with pcodever 2.

Sorry for that.

Maurilio.

Maurilio Longo wrote:
> And this is what gets written inside .c files created from .prg ones:
> 
> HB_INIT_SYMBOLS_EX_END( hb_vm_SymbolInit_HBTEST, "../../../hbtest.prg", 0x0,
> 0x0003 )
> 
> So it seems it is writing 3 as it should, or not?
> 
> Maurilio
> 
> Maurilio Longo wrote:
>> Lorenzo,
>>
>> I don't know what to do next, I've been building harbour for several months
>> now, without problems.
>>
>> Now, I do a clean, a make and, on completely new .exes, I get
>>
>> B_LEGACY_TYPES_OFF   -oxbptreeview.o -c xbptreeview.c
>> ../../../../../bin/os2/gcc/harbour.exe ../../../xbpwindow.prg -I../../../../../
>> ontrib/hbqt -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> gcc -I../../../../../contrib/hbqt  -I. -I../../../../../include -Wall -W -O3 -D
>> B_LEGACY_TYPES_OFF   -oxbpwindow.o -c xbpwindow.c
>> ar   -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbxbp.a & ..\..\..\
>> .\..\config\os2rm -f __lib__.tmp
>>
>> (E:\REPOSITORY\HARBOUR)bin\os2\gcc\hbtest
>>
>> Unrecoverable error 9000: Module '../../../hbtest.prg'
>> was compiled with unsupported PCODE version 0.3.
>> Please recompile.
>>
>> hbsetup.h is at revision 14027 and contains
>>
>> /* ***********************************************************************
>>  * Define PCODE version number
>>  * HB_PCODE_VER_MIN define minimum supported PCODE by HVM
>>  */
>>
>> #define HB_PCODE_VER          0x0003
>> #define HB_PCODE_VER_MIN      0x0002
>>
>> Why is it saying it's not ok??
>>
>> Maurilio.
>>
>>
>> Lorenzo Fiorini wrote:
>>> On Tue, Mar 2, 2010 at 9:53 AM, Maurilio Longo <maurilio.longo@libero.it> wrote:
>>>
>>>> I'm at the third full rebuild, make clean, make and I keep getting this, am I
>>>> the only one? What's wrong with my hvm?
>>> I've just done a make -s clean make install under Linux/gcc and it seems ok.
>>>
>>> No errors and hbtest works as expected.
>>>
>>> best regards,
>>> Lorenzo
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Mar  2 09:05:08 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  2 09:05:21 2010
Subject: [Harbour] dlmalloc on OS/2
In-Reply-To: <20100302030348.GA32227@linux-4bod.home.aster.pl>
References: <4B8B8643.8090604@libero.it>
	<20100302030348.GA32227@linux-4bod.home.aster.pl>
Message-ID: <4B8D1B14.6030301@libero.it>

Przemys?aw Czerpak wrote:
> I cannot help you here. Information about DosFindFirst() in OS2 returned
> by google suggest that our implementation should not work correctly, i.e.:
> 
>    Level 1 File Information (ulInfoLevel == FIL_STANDARD)
>    On output, pfindbuf contains the FILEFINDBUF3 data structure _without_
>    the last two fields cchName and achName. This is used without EAs.
> 
> If the above is true then you should use FIL_STANDARDL and FILEFINDBUF3L
> structure.
> 
I saw that on Control API docs as well, but I think this is wrong or, at
least, not completely true.

Here I always get file names with FIL_STANDARD, even with my last change which
is able to retrieve nearly one hundred file names per DosFindFirst() call.

> Also seems that flAttribute parameter has wrongly value.
> Without ORing with FILE_ARCHIVED and FILE_READONLY files with above
> attribute should be excluded.
> 

bits 5..0 are MAY-have, that is, file name is returned either it has that
attribute set or it has not. If you want only those files with attributes set,
then you have to use must-have values,

13 MUST_HAVE_ARCHIVED (0x00002000)
Must-Have Archive bit; excludes files without the archive bit set if bit 13 is
set to 1. Files may have the Archive bit set if bit 13 is set to 0.

12 MUST_HAVE_DIRECTORY (0x00001000)
Must-Have Subdirectory bit; excludes files that are not subdirectories if bit
12 is set to 1. Files may have the Subdirectory bit set if bit 12 is set to 0.

11 Reserved; must be 0.

10 MUST_HAVE_SYSTEM (0x00000400)
Must-Have System File bit; excludes nonsystem files if bit 10 is set to 1.
Files may be system files if bit 10 is set to 0.

9 MUST_HAVE_HIDDEN (0x00000200)
Must-Have Hidden File bit; excludes nonhidden files if bit 9 is set to 1.
Files may be nonhidden if bit 9 is set to 0.

8 MUST_HAVE_READONLY (0x00000100)
Must-Have Read-Only File bit; excludes writeable files if bit 8 is set to 1.
Files may be read-only if bit 8 is set to 0.

> BTW what errors do you have?
> 
Error 8, that is  ERROR_NOT_ENOUGH_MEMORY.

With my last change, which uses a block obtained with a DosAlloc() with
OBJ_TILE, that is a block aligned to a 64Kb segment, in low memory and with
16bit selectors set, it always works. This is on a SMP kernel searching for a
file on a samba share, so going throug IBM LanManager (aka CIFS client) which
is an old piece of code which might have some old 16bit/protect mode code inside.

I'll commit this change shortly.

>> Now, can you tell me if _all_ memory allocations, made via hb_xgrab(), when
>> using dlmalloc.c go through dlmalloc.c line 1338, that is through os2mmap()
> 
> Inside DLMALLOC _all_ memory is allocated by os2mmap() function.
> 

Ok, thanks, at first I thought of changing it, but it is not enough since it
seems to me that dlmalloc sub-allocs bigger blocks (which is correct, imho)
but this makes DosFindFirst() fail from time to time.

BTW, if we could be sure that some memory never goes to a DosXXX() call, we
could add a OBJ_ANY to the call, making OS/2 use memory above the 512Mb limit
that OBJ_TILE has; anyway, this is so a little improvement in every day code,
I don't think it's worth the time I've spent writing about it here :)

>> even if I'm not mmapping() nothing?
> 
> MMAP is optionally used only in *nix DLMALLOC builds to improve performance
> of memory allocation. It does not exists in MS-Windows and OS2 so it cannot
> be used in such builds.
> 
ok.

>> Or there are other paths to memory allocations?
> 
> Maybe but not inside DLMALLOC code, i.e. some CRTL functions may
> allocate memory using different memory manager but DLMALLOC uses
> only above function in OS2 builds.
> 
Ok, perfect, I was interested in hb_xgrab() calls.


Thanks a lot.

Maurilio.
-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Mar  2 09:30:38 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  2 09:30:53 2010
Subject: [Harbour] dlmalloc on OS/2
In-Reply-To: <4B8D1B14.6030301@libero.it>
References: <4B8B8643.8090604@libero.it>	<20100302030348.GA32227@linux-4bod.home.aster.pl>
	<4B8D1B14.6030301@libero.it>
Message-ID: <4B8D210E.40403@libero.it>

BTW,

firefox 3.x for OS/2 has this code

if (isWSEB)
    {
        rc = DosFindFirst( filename,
                           &d->d_hdl,
                           FILE_DIRECTORY | FILE_HIDDEN,
                           &(d->d_entry.large),
                           sizeof(d->d_entry.large),
                           &numEntries,
                           FIL_STANDARDL);
    }
    else
    {
        rc = DosFindFirst( filename,
                           &d->d_hdl,
                           FILE_DIRECTORY | FILE_HIDDEN,
                           &(d->d_entry.small),
                           sizeof(d->d_entry.small),
                           &numEntries,
                           FIL_STANDARD);
    }

So it seems newer kernels can/have to(?) use the FIL_STANDARDL flag but,
maybe, they work with the old one as well (my kernel is the last one).

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Mar  2 09:38:29 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  2 09:38:47 2010
Subject: [Harbour] dlmalloc on OS/2
In-Reply-To: <4B8D210E.40403@libero.it>
References: <4B8B8643.8090604@libero.it>	<20100302030348.GA32227@linux-4bod.home.aster.pl>	<4B8D1B14.6030301@libero.it>
	<4B8D210E.40403@libero.it>
Message-ID: <4B8D22E5.5000208@libero.it>

Ok,

I've found out :)

I have version 4.0 toolkit documentation, that is, OS/2 Warp4 level, the
lastest is 4.5, in 4.5 documentation you can read:

-----8<-----------
Information levels designated L should be used in order to get complete size
information for files larger than 2GB. If information levels designated L are
not used, a size of one byte will be returned for files which are >2GB in size.
----->8-----------

Given that in harbour there is no (at the moment at least) 64bit file support
for OS/2 I'd leave the current call.

Maurilio.

Maurilio Longo wrote:
> BTW,
> 
> firefox 3.x for OS/2 has this code
> 
> if (isWSEB)
>     {
>         rc = DosFindFirst( filename,
>                            &d->d_hdl,
>                            FILE_DIRECTORY | FILE_HIDDEN,
>                            &(d->d_entry.large),
>                            sizeof(d->d_entry.large),
>                            &numEntries,
>                            FIL_STANDARDL);
>     }
>     else
>     {
>         rc = DosFindFirst( filename,
>                            &d->d_hdl,
>                            FILE_DIRECTORY | FILE_HIDDEN,
>                            &(d->d_entry.small),
>                            sizeof(d->d_entry.small),
>                            &numEntries,
>                            FIL_STANDARD);
>     }
> 
> So it seems newer kernels can/have to(?) use the FIL_STANDARDL flag but,
> maybe, they work with the old one as well (my kernel is the last one).
> 
> Maurilio.
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Tue Mar  2 09:48:05 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 09:48:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14034] trunk/harbour
Message-ID: <E1NmTOH-0006oa-47@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14034
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14034&view=rev
Author:   vszakats
Date:     2010-03-02 14:48:04 +0000 (Tue, 02 Mar 2010)

Log Message:
-----------
2010-03-02 15:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwin/gtwin.c
    + Implemented HB_GTI_CLOSABLE support for GTWIN.
      Needs to Windows 2000 or upper.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mauriliolongo at users.sourceforge.net  Tue Mar  2 10:17:13 2010
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Tue Mar  2 10:17:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14035] trunk/harbour
Message-ID: <E1NmTqT-0004Ay-6d@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14035
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14035&view=rev
Author:   mauriliolongo
Date:     2010-03-02 15:17:08 +0000 (Tue, 02 Mar 2010)

Log Message:
-----------
2010-03-02 16:15 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * src/common/hbffind.c
     * hb_fsFindNextLow() to work reliably in my environment needs
       OBJ_TILE memory. I've found no documentation about this
       issue, maybe it's caused by old LAN Manager code when searching
       for files on network shares.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbffind.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Mar  2 10:30:13 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  2 10:30:22 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
In-Reply-To: <4B8CD70A.5030101@mail.udg.mx>
References: <4B866BB6.2030207@mail.udg.mx> <4B8CD70A.5030101@mail.udg.mx>
Message-ID: <1267543813830-4661574.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
> so in this test both crashes are within MsgInfo() function trying to
> clean/discard oMB object
> 

And the destruction by GC is not what Qt likes.
It has its own "scopes" which interferes with Harbour's.
I am struggling with this phenomena most of the time 
than development.



> Did you checked "OS/2: Harbour 14019" message ?
> 

Yes. But the time you sent message I had changed the 
hbIDE code a lot which denied me to reach a logical conclusion.
I will commit a big change within a day, so please make tests
after that.

Thank you for your patience and time..



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-13976-tp4632138p4661574.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mauriliolongo at users.sourceforge.net  Tue Mar  2 10:42:09 2010
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Tue Mar  2 10:42:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14036] trunk/harbour
Message-ID: <E1NmUEb-0004ga-J9@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14036
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14036&view=rev
Author:   mauriliolongo
Date:     2010-03-02 15:42:01 +0000 (Tue, 02 Mar 2010)

Log Message:
-----------
2010-03-02 16:40 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * src/rtl/filesys.c
     * hb_fsCurDirBuff() convert '/' to '\' for OS/2

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Tue Mar  2 10:43:01 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar  2 10:43:09 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <1267496039962-4658515.post@n2.nabble.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
	<1267496039962-4658515.post@n2.nabble.com>
Message-ID: <133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>

Yes , I have taken a look in it , and  use some code
but how you say  it is very complex

It is interesting a class but , when you have time

Thanks

Bruno

2010/3/1 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Bruno Luciani wrote:
> >
> > Could you send me a litle sample off how can generate
> >
> > a simple window with an instance of HBeditor from HBIDE
> >
> > Your editor is excelent and I like to use in another project
> >
> > I only need the code editor
> >
>
> It is very coomplex. Infact it is composed of so many
> sub-components which can not be demonstrated stand-alone.
> You are encouraged to look into ideeditor.prg and see if
> you can pull-out anything meaningful.
>
> Or I will develop a class but in hbXBP framework to isolate the
> editor with centralized functionality, say, XbpCodeEditor().
> Right now all energies are concentrated on hbIDE only.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/HBEDITOR-tp4658215p4658515.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/55ff2400/attachment.html
From fperillo at gmail.com  Tue Mar  2 11:29:38 2010
From: fperillo at gmail.com (francesco perillo)
Date: Tue Mar  2 11:29:45 2010
Subject: [Harbour] How to retrieve the CallStack
In-Reply-To: <4B8B6EBF.7010609@mweb.co.za>
References: <6943770e1002280652n65fa80fajeaf2f72af1b6dc69@mail.gmail.com>
	<4B8B6EBF.7010609@mweb.co.za>
Message-ID: <6943770e1003020829t878022diec2a6c9abe2ee656@mail.gmail.com>

Hi Alex,
thank you for your code but I was asking more in-depth informations.

The Debugger can show the variables "active" for each "n", so that
with the call stack you can display the parameter values and the local
variables values (anche if compiled with -b you should be able also to
display variable name...)

For example, with your code you get something like this:
   Called from PTR_CHECK2(336)
   Called from PTR_CHECK(220)
   Called from ST3FV(63)

I want something like this (I could achieve this thanks to some
routines I found on google but there is something that is not
perfect):
   PTR_CHECK2
     Param   1:    A    Len:    3
     Param   2:    A    Len:    3
     Param   3:    A    Len:    3
     Local   1:    U    <don't know to display type U>
     Local   2:    U    <don't know to display type U>
     Local   3:    A    Len:    6
     Local   4:    N    0.00
     Local   5:    L    .F.
     Local   6:    N    5.00
     Local   7:    N    0.00
     Local   8:    A    Len:    0
     Local   9:    A    Len:    3
     Local  10:    N    6.00
     Local  11:    N    2.00
     Local  12:    N    6.00
     Local  13:    S    <don't know to display type S>
     Local  14:    U    <don't know to display type U>
     Local  15:    A    Len:    3
     Local  16:    N    5.00
     Local  17:    C    "W/B,GR+/W,N/N,B/N,W+/BG,B/N"
     Local  18:    N    0.00
   PTR_CHECK
     Param   1:    A    Len:    2
     Param   2:    A    Len:    2
     Local   1:    U    <don't know to display type U>


So I don't only know the function and the line, but I may also know
the variable values... In this specific error,
   Error description: Error BASE/1132  Bound error: array access
   Args:
     [   1] = A   <don't know to display type A>
     [   2] = N   5.00

@ Y+1,15 say aPrinter[ s_ptr_selec ]

s_ptr_selec is a static var that has value 5... aPrinter is "Local
15", an array tath has len = 3.... BUG FOUND... it is a specific IF
condition not covered in the source code... and this debug is from a
live application...

Ciao,
Francesco
From alxokhotnikov at gmail.com  Tue Mar  2 12:08:27 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Tue Mar  2 12:08:35 2010
Subject: [Harbour] Error in atrepl (contrib/hbct)
Message-ID: <d6fa31441003020908l3607bf87tfa90a20f4e0d5c30@mail.gmail.com>

Hi

The string length is important!

-----------------------
FUNC MAIN()
LOCAL nI, cStr, cSSS

FOR nI := 1 TO 10000

    cStr := "aaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.aaa;aaaaaaaaaaaaaaaaa"
    cSSS := ATREPL( ";", cStr, CHR(13)+CHR(10) )
NEXT

RETURN
-----------------------

hbmk2 test_atrepl.prg -lhbct -run
(OS: KUbuntu x64 9.10, harbour: $Id: ChangeLog 14036 2010-03-02)

*** glibc detected *** /home/alx/bars/test/test_atrepl: free():
invalid pointer: 0x00000000011af100 ***


If you apply this patch, it works:

--- atrepl_orig.c       2010-03-02 19:59:21.706782700 +0300
+++ atrepl.c    2010-03-02 19:59:32.336844828 +0300
@@ -226,7 +226,8 @@

             if( pc == NULL )
             {
-               hb_retclen_buffer( pcRetStr, sRetStrLen );
+               hb_retclen( pcRetStr, sRetStrLen );
+               hb_xfree( pcRetStr );
                return;
             }
From bedipritpal at hotmail.com  Tue Mar  2 12:15:58 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  2 12:16:07 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
	<1267496039962-4658515.post@n2.nabble.com>
	<133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
Message-ID: <1267550158725-4662167.post@n2.nabble.com>



Bruno Luciani wrote:
> 
> but how you say  it is very complex
> 

Because you do not know what else 
I had to do to make it functional as it looks.

Anyhow it is heartening that you found it so simple.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/HBEDITOR-tp4658215p4662167.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Tue Mar  2 12:19:55 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  2 12:20:05 2010
Subject: [Harbour] Error in atrepl (contrib/hbct)
In-Reply-To: <d6fa31441003020908l3607bf87tfa90a20f4e0d5c30@mail.gmail.com>
References: <d6fa31441003020908l3607bf87tfa90a20f4e0d5c30@mail.gmail.com>
Message-ID: <2E0F0165-3B8C-424E-A858-5307DCD249EC@syenar.hu>

Hi,

> The string length is important!
> 
> -----------------------
> FUNC MAIN()
> LOCAL nI, cStr, cSSS
> 
> FOR nI := 1 TO 10000
> 
>    cStr := "aaaaaaaaaaaaaa
> aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.aaa;aaaaaaaaaaaaaaaaa"
>    cSSS := ATREPL( ";", cStr, CHR(13)+CHR(10) )
> NEXT
> 
> RETURN
> -----------------------
> 
> hbmk2 test_atrepl.prg -lhbct -run
> (OS: KUbuntu x64 9.10, harbour: $Id: ChangeLog 14036 2010-03-02)
> 
> *** glibc detected *** /home/alx/bars/test/test_atrepl: free():
> invalid pointer: 0x00000000011af100 ***
> 
> 
> If you apply this patch, it works:
> 
> --- atrepl_orig.c       2010-03-02 19:59:21.706782700 +0300
> +++ atrepl.c    2010-03-02 19:59:32.336844828 +0300
> @@ -226,7 +226,8 @@
> 
>             if( pc == NULL )
>             {
> -               hb_retclen_buffer( pcRetStr, sRetStrLen );
> +               hb_retclen( pcRetStr, sRetStrLen );
> +               hb_xfree( pcRetStr );

hb_retclen_buffer() and hb_retclen() + hb_xfree() 
are always interchangable from the caller POV.

The real problem here is that caller doesn't 
allocate room for the ending zero byte.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Mar  2 12:26:52 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 12:27:00 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14037] trunk/harbour
Message-ID: <E1NmVrw-0002Vv-6v@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14037
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14037&view=rev
Author:   vszakats
Date:     2010-03-02 17:26:51 +0000 (Tue, 02 Mar 2010)

Log Message:
-----------
2010-03-02 18:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbct/atrepl.c
    ! Fixed an 'off by one' buffer bug causing GPF in ATREPL().
      Reported by Alexandr Okhotnikov.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/atrepl.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Mar  2 12:40:12 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar  2 12:40:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14038] trunk/harbour
Message-ID: <E1NmW4q-0002qE-TR@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14038
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14038&view=rev
Author:   druzus
Date:     2010-03-02 17:40:11 +0000 (Tue, 02 Mar 2010)

Log Message:
-----------
2010-03-02 18:39 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbxpp/hbxpp.ch
    + added TEXT INTO <varname> [WRAP [<cEOL>]] [TRIMMED]

  * harbour/contrib/hbct/atrepl.c
    ! fixed in two places buffer overflow.
      Many thanks to Alexandr Okhotnikov for the information
    % code optimized to use hb_reclen_buffer() in all cases when new buffer
      is dynamically allocated.
    * small code simplification and change prefix of HB_SIZE variables from
      's' to 'n'

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/atrepl.c
    trunk/harbour/contrib/hbxpp/hbxpp.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Mar  2 12:46:01 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar  2 12:46:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14037] trunk/harbour
In-Reply-To: <E1NmVrw-0002Vv-6v@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NmVrw-0002Vv-6v@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <20100302174601.GA32145@linux-4bod.home.aster.pl>

On Tue, 02 Mar 2010, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> 2010-03-02 18:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbct/atrepl.c
>     ! Fixed an 'off by one' buffer bug causing GPF in ATREPL().
>       Reported by Alexandr Okhotnikov.

It was not enough. Also hb_xrealloc() had to be updated.
I already committed it.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar  2 12:53:28 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  2 12:53:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14037] trunk/harbour
In-Reply-To: <20100302174601.GA32145@linux-4bod.home.aster.pl>
References: <E1NmVrw-0002Vv-6v@sfp-svn-2.v30.ch3.sourceforge.com>
	<20100302174601.GA32145@linux-4bod.home.aster.pl>
Message-ID: <89C88FAC-803F-4B2E-BBE9-C4E69D7B4478@syenar.hu>

Hi Przemek,

On 2010 Mar 2, at 18:46, Przemys?aw Czerpak wrote:

> On Tue, 02 Mar 2010, vszakats@users.sourceforge.net wrote:
> 
> Hi Viktor,
> 
>> 2010-03-02 18:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/hbct/atrepl.c
>>    ! Fixed an 'off by one' buffer bug causing GPF in ATREPL().
>>      Reported by Alexandr Okhotnikov.
> 
> It was not enough. Also hb_xrealloc() had to be updated.
> I already committed it.

Thank you.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Mar  2 13:01:04 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  2 13:01:32 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com> 
	<1267496039962-4658515.post@n2.nabble.com>
	<133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
Message-ID: <609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>

Have you tried eary version of hbide?
http://article.gmane.org/gmane.comp.lang.harbour.devel/21876/match=hbide+screenshoot

Try expain what do you need, maj be that be a good sample

2010/3/2 Bruno Luciani <bruno.luciani@gmail.com>:
> Yes , I have taken a look in it , and? use some code
> but how you say? it is very complex
>
> It is interesting a class but , when you have time
>
> Thanks
>
> Bruno
>
> 2010/3/1 Pritpal Bedi <bedipritpal@hotmail.com>
>>
>>
>> Bruno Luciani wrote:
>> >
>> > Could you send me a litle sample off how can generate
>> >
>> > a simple window with an instance of HBeditor from HBIDE
>> >
>> > Your editor is excelent and I like to use in another project
>> >
>> > I only need the code editor
>> >
>>
>> It is very coomplex. Infact it is composed of so many
>> sub-components which can not be demonstrated stand-alone.
>> You are encouraged to look into ideeditor.prg and see if
>> you can pull-out anything meaningful.
>>
>> Or I will develop a class but in hbXBP framework to isolate the
>> editor with centralized functionality, say, XbpCodeEditor().
>> Right now all energies are concentrated on hbIDE only.
>>
>>
>> -----
>> ? ? ? ? ? ? ? ? enjoy hbIDEing...
>> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
>> _a_student_of_software_analysis_&_design_
>> --
>
>

-- 
Massimo Belgrano
From fperillo at gmail.com  Tue Mar  2 13:32:34 2010
From: fperillo at gmail.com (francesco perillo)
Date: Tue Mar  2 13:32:41 2010
Subject: [Harbour] What is Valtype = S ?
Message-ID: <6943770e1003021032j683370e0j7a403fe1ba1cc071@mail.gmail.com>

I'm trying to understand what does S means for VALTYPE...  anyone ?

Francesco
From druzus at acn.waw.pl  Tue Mar  2 13:40:35 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar  2 13:40:42 2010
Subject: [Harbour] What is Valtype = S ?
In-Reply-To: <6943770e1003021032j683370e0j7a403fe1ba1cc071@mail.gmail.com>
References: <6943770e1003021032j683370e0j7a403fe1ba1cc071@mail.gmail.com>
Message-ID: <20100302184035.GA2052@linux-4bod.home.aster.pl>

On Tue, 02 Mar 2010, francesco perillo wrote:

Hi,

> I'm trying to understand what does S means for VALTYPE...  anyone ?

SYMBOL.

   proc main()
      sFuncSym := @strzero()
      ? valtype( sFuncSym )
      ? sFuncSym:exec( 1.234567, 10, 4 )
   return

best regards,
Przemek
From fperillo at gmail.com  Tue Mar  2 14:06:48 2010
From: fperillo at gmail.com (francesco perillo)
Date: Tue Mar  2 14:06:58 2010
Subject: [Harbour] What is Valtype = S ?
In-Reply-To: <20100302184035.GA2052@linux-4bod.home.aster.pl>
References: <6943770e1003021032j683370e0j7a403fe1ba1cc071@mail.gmail.com>
	<20100302184035.GA2052@linux-4bod.home.aster.pl>
Message-ID: <6943770e1003021106iec1a62el877ed154efa45ced@mail.gmail.com>

Thanks,
but in a function like this:
function fun( ff1, ff2, ff3 )
local l1
l1 := "L1"
? "FUN"
? TraceNow()
return .T.

and in TraceNow() I use __DBGVMVARLGET(level) to retrieve the local
variable at "fun" level I get:
  Local1: C  "f1"
  Local2: C  "f2"
  Local3: U  <don't know to display type U>
  Local4: C  "L1"
  Local5: S  <don't know to display type S>
  Local6: U  <don't know to display type U>

Local1,2 and 3 are ff1 ff2 ff3
Local4 is l1
and Local5 and 6 ??? where are they from ?


Is it also possible that the compiler removes local variables (both
LOCAL or parameters) present in function definition not used in the
function ? or that they are changed position in the LocalX list ?

Is there a way to retrieve the variable names (after compiling with -b
flag) as in the debugger ?

Thanks
Francesco
From mbelgrano at deltain.it  Tue Mar  2 14:37:32 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  2 14:38:02 2010
Subject: [Harbour] ANN: Mediator SQL RDD 4.3.2.0 with free MySQL version
In-Reply-To: <4B8BA2AA.8010703@otc.com.pl>
References: <4B8BA2AA.8010703@otc.com.pl>
Message-ID: <609353e71003021137r3b7fb714k8bb9b533793b07e6@mail.gmail.com>

I have tried dowload from http://www.otc.pl/download/default.aspx?l=2
 (click on xharbour/harbour)
but found Harbour ver. 0.43 binaries. Compiled using Borland C++ 5.

Another question the the "Terminal client /GUI, CA-Clipper, xHarbour
and Harbour" Is compatible with harbour 2.0 /?


2010/3/1 Jacek Potempa <Jacek.Potempa@otc.com.pl>:
> ANN: Mediator SQL RDD 4.3.2.0 with free MySQL version
>
> We are glad to announce availability of
> Mediator ISAM server (SQL RDD) 4.3.2.0
> compatible with Harbour 2.0 and xHarbour 1.2.1 (Rev. 6686, CVS 15.02.2010)
>
>
> For product description please visit
> http://www.otc.pl/index.asp?s=21&l=2
>
> For summary of new features please visit
> http://www.otc.pl/index.asp?s=32&l=2
>
>
> As usuall, the following free for commercial use
> versions are available for download from www.otc.pl:
>
> - Unlimited Mediator ISAM server for MySQL for Harbour/xHarbour
> - 5-user Mediator ISAM server Enterprise for PostgreSQL
> - 5-user Mediator ISAM server Enterprise for MySQL
> - 3-user Mediator ISAM server Enterprise for MS SQL 7/2000/2005/2008
> - 3-user Mediator ISAM server Enterprise for Oracle 7/8/9/10/11
> - 3-user Mediator ISAM server Enterprise for IBM DB2/Win
>
>
> Enjoy,
>
> OTC team
>

-- 
Massimo Belgrano
From druzus at acn.waw.pl  Tue Mar  2 14:58:37 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar  2 14:58:45 2010
Subject: [Harbour] What is Valtype = S ?
In-Reply-To: <6943770e1003021106iec1a62el877ed154efa45ced@mail.gmail.com>
References: <6943770e1003021032j683370e0j7a403fe1ba1cc071@mail.gmail.com>
	<20100302184035.GA2052@linux-4bod.home.aster.pl>
	<6943770e1003021106iec1a62el877ed154efa45ced@mail.gmail.com>
Message-ID: <20100302195837.GA2112@linux-4bod.home.aster.pl>

On Tue, 02 Mar 2010, francesco perillo wrote:

Hi,

> Thanks,
> but in a function like this:
> function fun( ff1, ff2, ff3 )
> local l1
> l1 := "L1"
> ? "FUN"
> ? TraceNow()
> return .T.
> 
> and in TraceNow() I use __DBGVMVARLGET(level) to retrieve the local
> variable at "fun" level I get:
>   Local1: C  "f1"
>   Local2: C  "f2"
>   Local3: U  <don't know to display type U>
>   Local4: C  "L1"
>   Local5: S  <don't know to display type S>
>   Local6: U  <don't know to display type U>

These are expected results.

BTW
   ? sSymbol:name
shows symbol name.

"U" is NIL.

You can use hb_valToExp() to display any values.

__DBGVMVARL[GS]ET() is internal debug function function and
it cannot be used without additional information which is available
only for debugger.
Please also remember that we are free to remove this function in any
moment so you are using it for your own risk.
It's also the reason why I do not want to explain how it works on
public forum. Just simply it may increase number of people using it.

> Local1,2 and 3 are ff1 ff2 ff3
> Local4 is l1
> and Local5 and 6 ??? where are they from ?

For developers working on core code it's clear what this function does.
They are also free to modify HVM or debugger to work in different way,
change this function, remove it or replace by any other one.
We lost such freedom in farther developing when we begin to document
such low level code (BTW we should remove comments from vm/debug.c
because they are completely wrong in few cases).

> Is it also possible that the compiler removes local variables (both
> LOCAL or parameters) present in function definition not used in the
> function ? or that they are changed position in the LocalX list ?

Yes it's possible though in current compiler code it is used only to
eliminate unused local variables or replace some readonly local vars
like
   local self := qself()
by direct qself() calls which is a little bit faster then accessing
local variables.
It may change it the future when we begin to add different optimizations.

> Is there a way to retrieve the variable names (after compiling with -b
> flag) as in the debugger ?

Yes. You have to write mini debugger which will collect such information
during code execution so later such names can be accessed. Or you can
change existing debugger code to extract such information from it.

Using public API you can create sth like:

   proc dispStack()
      local cProcName, nProcLine, cProcFile
      local aParams, cParams
      local i := 0

      while ! empty( cProcName := PROCNAME( ++i ) )
         nProcLine := PROCLINE( i )
         cProcFile := PROCFILE( i )
         aParams := HB_APARAMS( i )
         cParams := hb_valToExp( aParams )
         cParams := substr( cParams, 2, len( cParams ) - 2 )
         ? cProcFile + "[" + hb_ntos( nProcLine ) + "]: " + ;
           cProcName + "(" + cParams + ")"
      enddo
   return

It shows:
   <filename>[<line>]: <funcName>( <params,...> )
I.e.:
   tst.prg[15]: FUN1("P1", "P2", "P3")

Anything more needs to touch internal code which we are free
to change without keeping backward compatibility.

best regards,
Przemek
From bruno.luciani at gmail.com  Tue Mar  2 15:46:43 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar  2 15:46:50 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
	<1267496039962-4658515.post@n2.nabble.com>
	<133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
	<609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>
Message-ID: <133778361003021246p1a746bc9y6fd8364b98f4fb64@mail.gmail.com>

I am working in a Code Editor for Marinas-Ide , and I have a little and
buggy version
My problem it is low knowledge about use of classes and QT

In my version I have implemented a basic code editor , with copy cut and
paste

and , using code from HBeditor and reading qt doc , sintaxis  highlighting

But for example i try to implement display of column and line number in
status bar
but no work correctly and I don't know why.

Only work If I hit enter in an empty file , but if I move cursor in an
edited file

the information don't change.

Bruno



2010/3/2 Massimo Belgrano <mbelgrano@deltain.it>

> Have you tried eary version of hbide?
>
> http://article.gmane.org/gmane.comp.lang.harbour.devel/21876/match=hbide+screenshoot
>
> Try expain what do you need, maj be that be a good sample
>
> 2010/3/2 Bruno Luciani <bruno.luciani@gmail.com>:
> > Yes , I have taken a look in it , and  use some code
> > but how you say  it is very complex
> >
> > It is interesting a class but , when you have time
> >
> > Thanks
> >
> > Bruno
> >
> > 2010/3/1 Pritpal Bedi <bedipritpal@hotmail.com>
> >>
> >>
> >> Bruno Luciani wrote:
> >> >
> >> > Could you send me a litle sample off how can generate
> >> >
> >> > a simple window with an instance of HBeditor from HBIDE
> >> >
> >> > Your editor is excelent and I like to use in another project
> >> >
> >> > I only need the code editor
> >> >
> >>
> >> It is very coomplex. Infact it is composed of so many
> >> sub-components which can not be demonstrated stand-alone.
> >> You are encouraged to look into ideeditor.prg and see if
> >> you can pull-out anything meaningful.
> >>
> >> Or I will develop a class but in hbXBP framework to isolate the
> >> editor with centralized functionality, say, XbpCodeEditor().
> >> Right now all energies are concentrated on hbIDE only.
> >>
> >>
> >> -----
> >>                 enjoy hbIDEing...
> >>                    Pritpal Bedi
> >> _a_student_of_software_analysis_&_design_
> >> --
> >
> >
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/29dbdd04/attachment.html
From smujohnson at gmail.com  Tue Mar  2 17:05:15 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  2 17:05:23 2010
Subject: [Harbour] Microsoft's SMB2 in Vista and above crippling your
	network apps?
Message-ID: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>

Hi,

We have struggled with a problem for years with Clipper, and it happens in
Harbour too.  But that is not to say that either of these are to blame.  The
problem is that when a huge amount of DBF (using six driver, fwiw) type file
creation and modification, etc etc, happens over a shared network drive in
Windows, and the hosting drive is on a Vista or higher OS, we have problems
with inaccurate data because the network protocol is not strict enough when
it comes to two people changing the same file, etc etc.  This is never a
problem when hosting from Win2k, and XP I believe also is okay.

So, as a last resort, I was wondering if any of you guys have dealt with
this, and know of a solution.  Currently, we found one way to deal with it,
but it's not 100% perfect as it only supports certain builds of Vista, and
not Windows 7, and would probably take forever to support all these OS's.
It involves changing some registry settings to disable smb2 (
http://en.wikipedia.org/wiki/Server_Message_Block ).

Maybe it's my lucky day, and some of you guys have had this problem and
found a permenant solution to deal with it.  I ask here, as I imagine maybe
someone else doing network .dbf work might have run into this at some point
in their lives.

Thank you for reading.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/89e5d592/attachment.html
From vszakats at users.sourceforge.net  Tue Mar  2 17:32:17 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 17:32:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14039] trunk/harbour
Message-ID: <E1NmadV-0004hn-6A@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14039
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14039&view=rev
Author:   vszakats
Date:     2010-03-02 22:31:55 +0000 (Tue, 02 Mar 2010)

Log Message:
-----------
2010-03-02 23:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * examples/pe/editorlo.c
    ; Started to level this code to Harbour standards.
    * Changed to use native Harbour C level API instead of Clipper
      compatibility one.
    - Delete old inactive code for standalone Habrourless build.
    * Cleaned several warnings.
    ! Fixed one potential GPF.
    ! Fixed one potential memory corruption.
    + Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/pe/editorlo.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar  2 17:55:48 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 17:55:55 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14040] trunk/harbour
Message-ID: <E1Nmb0G-000166-UK@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14040
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14040&view=rev
Author:   vszakats
Date:     2010-03-02 22:55:47 +0000 (Tue, 02 Mar 2010)

Log Message:
-----------
2010-03-02 23:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * examples/pe/editorlo.c
  * examples/pe/pe.prg
  * examples/pe/editorhi.prg
    * Formatting/cleanups.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/pe/editorhi.prg
    trunk/harbour/examples/pe/editorlo.c
    trunk/harbour/examples/pe/pe.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Tue Mar  2 18:23:04 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar  2 18:23:13 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
	<1267496039962-4658515.post@n2.nabble.com>
	<133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
	<609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>
Message-ID: <133778361003021523vb2a8d55t216a76c068d2d703@mail.gmail.com>

Where I can get , thisearly version ?

Bruno

2010/3/2 Massimo Belgrano <mbelgrano@deltain.it>

> Have you tried eary version of hbide?
>
> http://article.gmane.org/gmane.comp.lang.harbour.devel/21876/match=hbide+screenshoot
>
> Try expain what do you need, maj be that be a good sample
>
> 2010/3/2 Bruno Luciani <bruno.luciani@gmail.com>:
> > Yes , I have taken a look in it , and  use some code
> > but how you say  it is very complex
> >
> > It is interesting a class but , when you have time
> >
> > Thanks
> >
> > Bruno
> >
> > 2010/3/1 Pritpal Bedi <bedipritpal@hotmail.com>
> >>
> >>
> >> Bruno Luciani wrote:
> >> >
> >> > Could you send me a litle sample off how can generate
> >> >
> >> > a simple window with an instance of HBeditor from HBIDE
> >> >
> >> > Your editor is excelent and I like to use in another project
> >> >
> >> > I only need the code editor
> >> >
> >>
> >> It is very coomplex. Infact it is composed of so many
> >> sub-components which can not be demonstrated stand-alone.
> >> You are encouraged to look into ideeditor.prg and see if
> >> you can pull-out anything meaningful.
> >>
> >> Or I will develop a class but in hbXBP framework to isolate the
> >> editor with centralized functionality, say, XbpCodeEditor().
> >> Right now all energies are concentrated on hbIDE only.
> >>
> >>
> >> -----
> >>                 enjoy hbIDEing...
> >>                    Pritpal Bedi
> >> _a_student_of_software_analysis_&_design_
> >> --
> >
> >
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/95fdf2c4/attachment-0001.html
From april_white at sympatico.ca  Tue Mar  2 19:04:53 2010
From: april_white at sympatico.ca (April White)
Date: Tue Mar  2 19:05:02 2010
Subject: [Harbour] Harbour Documentation - doc/hdr_tpl.txt - Clarifications
In-Reply-To: <78CA89FD-2672-4622-9C8B-656291C9CE06@syenar.hu>
References: <1266877394431-4615380.post@n2.nabble.com>
	<78CA89FD-2672-4622-9C8B-656291C9CE06@syenar.hu>
Message-ID: <BLU0-SMTP351B4E60703F6EF6596AAEEF3A0@phx.gbl>

Viktor Szak?ts wrote:
>>    $SEEALSO$
>>       comma separated list of references
>>    $END$
>> */
>>
>> And it does not include the $TEMPLATE$.
>> Later in one example it is present:
>>     
> You're right should, though I didn't have time 
> to review the whole document, I got lost when 
> trying to find out what values are accepted, 
> and I saw an avalanche of things to properly 
> define. As a start we should just add $TEMPLATE$ 
> there, but to be honest I don't know its purpose, 
> and why it was added.
>   
It was added so that the content could be validated by hbdoc2.  It can 
report extra (unnecessary) entries and can report missing entries.

April

-- 
Middle age is when broadness of the mind and narrowness of the waist change places.

From harbour.01 at syenar.hu  Tue Mar  2 19:10:36 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  2 19:10:47 2010
Subject: [Harbour] Harbour Documentation - doc/hdr_tpl.txt - Clarifications
In-Reply-To: <BLU0-SMTP351B4E60703F6EF6596AAEEF3A0@phx.gbl>
References: <1266877394431-4615380.post@n2.nabble.com>
	<78CA89FD-2672-4622-9C8B-656291C9CE06@syenar.hu>
	<BLU0-SMTP351B4E60703F6EF6596AAEEF3A0@phx.gbl>
Message-ID: <C20AF923-CAA5-46DD-B763-0849AFDC6E40@syenar.hu>

>>> And it does not include the $TEMPLATE$.
>>> Later in one example it is present:
>>>    
>> You're right should, though I didn't have time to review the whole document, I got lost when trying to find out what values are accepted, and I saw an avalanche of things to properly define. As a start we should just add $TEMPLATE$ there, but to be honest I don't know its purpose, and why it was added.
>>  
> It was added so that the content could be validated by hbdoc2.  It can report extra (unnecessary) entries and can report missing entries.

Thank you April. I think this method should be replaced by 
looking at the filename prefix, now that we have them defined.

So f.e. "class_tbrowse.txt" should conform to "class" template.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Mar  2 19:22:30 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 19:22:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14041] trunk/harbour
Message-ID: <E1NmcMA-0002xi-6N@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14041
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14041&view=rev
Author:   vszakats
Date:     2010-03-03 00:22:28 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 01:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * examples/pe/editorlo.c
  * examples/pe/editorhi.prg
    + Cleaned internal layout (which was speed optimized for
      286 computer-era) to use GC collected objects rather
      than various levels of static variables and additional
      logic to handle parallel editor objects. Now the code
      is fully reentrant.
    * Renamed variables.
    ! Fixed potential GPFs along the way.
    ; TODO:
        - Clean to use ANSI C and Harbour APIs only. (this is pbly okay)
        - Clean to use safe Harbour string API functions instead of unsafe ANSI C ones.
        - Clean type usage.
        - Fix to support other EOL types than CRLF.
        - etc.

  * examples/pe/pe.prg
    ! Typo in prev.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/pe/editorhi.prg
    trunk/harbour/examples/pe/editorlo.c
    trunk/harbour/examples/pe/pe.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Tue Mar  2 19:24:55 2010
From: fperillo at gmail.com (francesco perillo)
Date: Tue Mar  2 19:25:04 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <133778361003021523vb2a8d55t216a76c068d2d703@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
	<1267496039962-4658515.post@n2.nabble.com>
	<133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
	<609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>
	<133778361003021523vb2a8d55t216a76c068d2d703@mail.gmail.com>
Message-ID: <6943770e1003021624vad1126bx7644bdb1fe33c71@mail.gmail.com>

On Wed, Mar 3, 2010 at 12:23 AM, Bruno Luciani <bruno.luciani@gmail.com> wrote:
> Where I can get , thisearly version ?


>From SVN,  going to some revisions back. Try harbour 2.0.0 official
source code package...
From fperillo at gmail.com  Tue Mar  2 19:27:25 2010
From: fperillo at gmail.com (francesco perillo)
Date: Tue Mar  2 19:27:37 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <133778361003021246p1a746bc9y6fd8364b98f4fb64@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
	<1267496039962-4658515.post@n2.nabble.com>
	<133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
	<609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>
	<133778361003021246p1a746bc9y6fd8364b98f4fb64@mail.gmail.com>
Message-ID: <6943770e1003021627l525535cdsc6c311429973f9cb@mail.gmail.com>

> Only work If I hit enter in an empty file , but if I move cursor in an
> edited file
>
> the information don't change.


Probably you use isChanged signal..... probably there is another
message or you have to capture event...

(just finished to read a manual on Qt.... can't be of more help...)
From bruno.luciani at gmail.com  Tue Mar  2 19:31:16 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar  2 19:31:24 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <6943770e1003021624vad1126bx7644bdb1fe33c71@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
	<1267496039962-4658515.post@n2.nabble.com>
	<133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
	<609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>
	<133778361003021523vb2a8d55t216a76c068d2d703@mail.gmail.com>
	<6943770e1003021624vad1126bx7644bdb1fe33c71@mail.gmail.com>
Message-ID: <133778361003021631w4541061bub7398031a930f1d@mail.gmail.com>

Thanks I found it

Bruno

2010/3/2 francesco perillo <fperillo@gmail.com>

> On Wed, Mar 3, 2010 at 12:23 AM, Bruno Luciani <bruno.luciani@gmail.com>
> wrote:
> > Where I can get , thisearly version ?
>
>
> >From SVN,  going to some revisions back. Try harbour 2.0.0 official
> source code package...
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/b32c7125/attachment.html
From bruno.luciani at gmail.com  Tue Mar  2 19:33:37 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar  2 19:33:44 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <6943770e1003021627l525535cdsc6c311429973f9cb@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
	<1267496039962-4658515.post@n2.nabble.com>
	<133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
	<609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>
	<133778361003021246p1a746bc9y6fd8364b98f4fb64@mail.gmail.com>
	<6943770e1003021627l525535cdsc6c311429973f9cb@mail.gmail.com>
Message-ID: <133778361003021633h52e9adc6l8ddee3b8a2bd06e5@mail.gmail.com>

Yes I am using this signal , to detect changes in source code

and



cursorPositionChanged() to detect change in cursor position


I am seeing the Pritpal code and it use the same signal


I need to review how info is displayed in statud bar , I use my own way ,
and may be it is wrong


Bruno


2010/3/2 francesco perillo <fperillo@gmail.com>

> > Only work If I hit enter in an empty file , but if I move cursor in an
> > edited file
> >
> > the information don't change.
>
>
> Probably you use isChanged signal..... probably there is another
> message or you have to capture event...
>
> (just finished to read a manual on Qt.... can't be of more help...)
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/98160b73/attachment.html
From vszakats at users.sourceforge.net  Tue Mar  2 19:52:17 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 19:52:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14042] trunk/harbour
Message-ID: <E1Nmcoz-0004NF-8e@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14042
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14042&view=rev
Author:   vszakats
Date:     2010-03-03 00:52:16 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 01:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * examples/pe/editorlo.c
  * examples/pe/pe.prg
  * examples/pe/editorhi.prg
  * examples/pe/readme.txt
    + Further cleanups (some types, unused code).
    % Minor optimization.
    * Deleted one completed (old) TOFIX item.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/pe/editorhi.prg
    trunk/harbour/examples/pe/editorlo.c
    trunk/harbour/examples/pe/pe.prg
    trunk/harbour/examples/pe/readme.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Tue Mar  2 19:54:42 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar  2 19:54:50 2010
Subject: [Harbour] Re: HBEDITOR
In-Reply-To: <133778361003021633h52e9adc6l8ddee3b8a2bd06e5@mail.gmail.com>
References: <133778361003010327p2edf4517pf07e1530337d6ebf@mail.gmail.com>
	<1267496039962-4658515.post@n2.nabble.com>
	<133778361003020743h46ef6135p2b86b44f994a7e7d@mail.gmail.com>
	<609353e71003021001r11d65d2cqb30aa126877c5dda@mail.gmail.com>
	<133778361003021246p1a746bc9y6fd8364b98f4fb64@mail.gmail.com>
	<6943770e1003021627l525535cdsc6c311429973f9cb@mail.gmail.com>
	<133778361003021633h52e9adc6l8ddee3b8a2bd06e5@mail.gmail.com>
Message-ID: <133778361003021654h6461bc4cx2030a55ccd2c2550@mail.gmail.com>

It seems that this function doesn't exist anymore or it is replaced

How is the correct way to connect this signal

 Qt_Connect_Signal( qEdit, "cursorPositionChanged()", {|| ::dispEditInfo() }
)


or


 QT_SLOTS_CONNECT( s_slots , oEdit:pPtr , "cursorPositionChanged()",{ ||
dispEditInfo()})



Bruno





2010/3/2 Bruno Luciani <bruno.luciani@gmail.com>

> Yes I am using this signal , to detect changes in source code
>
> and
>
>
>
> cursorPositionChanged() to detect change in cursor position
>
>
> I am seeing the Pritpal code and it use the same signal
>
>
> I need to review how info is displayed in statud bar , I use my own way ,
> and may be it is wrong
>
>
> Bruno
>
>
> 2010/3/2 francesco perillo <fperillo@gmail.com>
>
>> > Only work If I hit enter in an empty file , but if I move cursor in an
>>
>> > edited file
>> >
>> > the information don't change.
>>
>>
>> Probably you use isChanged signal..... probably there is another
>> message or you have to capture event...
>>
>> (just finished to read a manual on Qt.... can't be of more help...)
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/ad34bf3e/attachment-0001.html
From vszakats at users.sourceforge.net  Tue Mar  2 19:55:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 19:55:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14043] trunk/harbour
Message-ID: <E1Nmcrr-0004QQ-0j@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14043
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14043&view=rev
Author:   vszakats
Date:     2010-03-03 00:55:13 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 01:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - examples/pe/license.txt
  + examples/pe/sample.txt
  * examples/pe/pe.prg
    * Renamed sample file.

  * examples/pe/editorlo.c
  - examples/pe/readme.txt
    * Moved readme content inside the source as comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/pe/editorlo.c
    trunk/harbour/examples/pe/pe.prg

Added Paths:
-----------
    trunk/harbour/examples/pe/sample.txt

Removed Paths:
-------------
    trunk/harbour/examples/pe/license.txt
    trunk/harbour/examples/pe/readme.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar  2 20:02:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 20:02:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14044] trunk/harbour
Message-ID: <E1Nmcyg-0004Zo-0D@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14044
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14044&view=rev
Author:   vszakats
Date:     2010-03-03 01:02:16 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 01:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/Makefile
  + contrib/hbmisc/hbeditc.c
  + contrib/hbmisc/hbedit.prg
  + contrib/hbmisc/tests/sample.txt
  + contrib/hbmisc/tests/testedit.prg
  - examples/pe/sample.txt
  - examples/pe/editorlo.c
  - examples/pe/pe.prg
  - examples/pe/pe.hbp
  - examples/pe/editorhi.prg
    * Editor implementation moved to hbmisc lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmisc/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/hbmisc/hbedit.prg
    trunk/harbour/contrib/hbmisc/hbeditc.c
    trunk/harbour/contrib/hbmisc/tests/pe.prg
    trunk/harbour/contrib/hbmisc/tests/sample.txt

Removed Paths:
-------------
    trunk/harbour/examples/pe/editorhi.prg
    trunk/harbour/examples/pe/editorlo.c
    trunk/harbour/examples/pe/pe.hbp
    trunk/harbour/examples/pe/pe.prg
    trunk/harbour/examples/pe/sample.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar  2 20:03:52 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 20:03:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14045] trunk/harbour
Message-ID: <E1Nmd0C-0004bE-EG@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14045
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14045&view=rev
Author:   vszakats
Date:     2010-03-03 01:03:51 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 02:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - examples/pe
    - Deleted empty dir.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Removed Paths:
-------------
    trunk/harbour/examples/pe/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Mar  2 20:39:11 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar  2 20:39:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14046] trunk/harbour
Message-ID: <E1NmdYN-00059x-PH@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14046
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14046&view=rev
Author:   druzus
Date:     2010-03-03 01:39:10 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 02:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/doc/en/hvm.txt
    - removed __DBGVMVARLGET() description

  * harbour/src/debug/dbgbrwsr.prg
    % small speed improvement

  * harbour/include/hbextern.ch
  * harbour/src/vm/debug.c
    + added internal debug function: __DBGVMLOCALLIST( <nLevel> ) -> <aVars>

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/en/hvm.txt
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/debug/dbgbrwsr.prg
    trunk/harbour/src/vm/debug.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Mar  2 20:40:46 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar  2 20:40:54 2010
Subject: [SPAM]  Re: [Harbour] What is Valtype = S ?
In-Reply-To: <6943770e1003021622k46d6157etb3558d97a295536e@mail.gmail.com>
References: <6943770e1003021032j683370e0j7a403fe1ba1cc071@mail.gmail.com>
	<20100302184035.GA2052@linux-4bod.home.aster.pl>
	<6943770e1003021106iec1a62el877ed154efa45ced@mail.gmail.com>
	<20100302195837.GA2112@linux-4bod.home.aster.pl>
	<6943770e1003021622k46d6157etb3558d97a295536e@mail.gmail.com>
Message-ID: <20100303014045.GA14282@linux-4bod.home.aster.pl>

On Wed, 03 Mar 2010, francesco perillo wrote:

Hi,

> I'm writing a personal message so that info won't get public :-)

OK, but I'm setting CC to harbour-devel list in answer because
it may help other users and I hope future HVM developers :-) to
understand how HVM works.

> but I must say that at least one function is documented in
> doc/en/hvm.txt: *      __DBGVMVARLGET( <nProcLevel>, <nLocal> ) --> <xRetVal>

Serious mistake. I'll remove it ASAP.
BTW this description is wrong. <nLocal> is not an index to local variable.

> I now "think to know" what valtype S is in the stack... it IS the
> first item pushed in the stack and is the pointer to the function that
> is going to be executed...
> Let's see in a real life example, where the code from .ppo is DevOut(
> aPrinter[ s_ptr_selec ] ):
> 
>  Local  13:    S    Symbol: DEVOUT
>  Local  14:    U    <don't know to display type U>

"U" is NIL, Try
   ? valtype( "NIL" )

It's QSELF() value. Inside method it's an object.

>  Local  15:    A    Len:    4
>  Local  16:    N    13.00
>  Local  17:    C    "W/B,GR+/W,N/N,B/N,W+/BG,B/N"
>  Local  18:    N    0.00
> 
> aPrinter (local15) has len 4, s_ptr_selec (local16) is 17 so out of
> bound error is generated...

There are no local<n> variables. There are only items on HVM stack.
Some of them belongs to declared function parameters, some of them
contains additional parameters when user passed more parameters then
was declared by function, some others belongs to local variables and
rest is used by currently executed code, i.e. partially calculated
expressions, WITH OBJECT values, FOR EACH iterators, BEGIN SEQUENCE
envelopes, called function parameters, etc.
The function stack frame contains:

   1              FUNCTION SYMBOL OR METHOD SYMBOL
   2              QSELF() VALUE (NIL FOR FUNC/PROC, OBJ FOR METHODS)
   3              DECLARED PARAMETERS <n>
      ...
   3 + <n>        ADDITIONAL <m> PARAMETERS IF PASSED MORE THEN <n> PARAMS
      ...
   3 + <n> + <m>  LOCAL VARIABLE <l>
      ...
   3 + <n> + <m> + <l>  ITEMS ALLOCATED BY EXECUTED CODE <k>
      ...
   3 + <n> + <m> + <l> + <k>  NEXT FUNCTION FRAME SYMBOL

> I could not explain what Local17 and 18 were for... but then realized
> the following:
> the function has 5 parameters but in this specific case there are only
> 3 of them specified in the function call...
> Since LocalCount = number_of_locals - number_of_params
> and since number_of_params is 2 less than what should be, LocalCount
> is 2 bigger than necessary... and so 2 spurious stack elements are
> printed...
> So, question 1: is it possible to retrieve the number of parameters
> declared in a function ?

Yes. It's possible to retrieve number of declared parameters (<n>+<m> in
above scheme).
It's also possible to retrieve number of passed parameters (<n> in above
scheme)

It's not possible to detect number of local variables (<l> in above
scheme) so it's not possible to guess when local variables stops
and begins execution context items.

It's possible to detect the whole frame size so <k> is also known.

> Question 2: for object method I get valtype S... but for function
> invocation not always... is there a rule ?

In all cases you have function or method symbol as 1-st item in
function method frame.

> > __DBGVMVARL[GS]ET() is internal debug function function and
> > it cannot be used without additional information which is available
> > only for debugger.
> but it works at the moment, in harbour 2.0.0, the one I will use for
> at least one year...

And after a year you decided to check what it exactly does and you are
asking why your code does not work as you want ;-)

You can always use any internal HVM functions for your own risk.
It's your choice. I only hope that I do not see any message from
you when we remove above functions i.e. making some modifications
in HVM stack or debugger code.

> >> Is it also possible that the compiler removes local variables (both
> >> LOCAL or parameters) present in function definition not used in the
> >> function ? or that they are changed position in the LocalX list ?
> > Yes it's possible though in current compiler code it is used only to
> > eliminate unused local variables
> Ok, I had such case... 2 unused locals did shift all the others and
> they didn't match the values.

No, you do not have such case.
You only wrongly expected that 2-nd parameter of __DBGVMVARL[GS]ET()
function is index to local variables and it isn't.

In a while I'll add to SVN new function __DBGVMLOCALLIST() which returns
array with <l> and <k> items in the above function frame scheme and
below I'm attaching the code which should help you to understand few
things if you look at <k> items attached to LOCAL variables.
As I said it's not possible to detect real number of local variables
in current code. It may change in the future if we store this information
in hb_vm[V]Frame() function but now it can be done only indirectly for
code compiled for debugger with -b switch catching the messages with
names of local variables which are sent to debugger from HVM.

> The debugger builds aCallStack calling a c function passing it a
> "info" parameter... is it possible to use such "info" not inside the
> debugger (I didn't check myself... ) Any other way ?

You have to modify the debugger code.
In my opinion it's much easier and cleaner to create own mini debugger.

best regards,
Przemek
-------------- next part --------------
proc main( ... )
   local l1 := "L1", l2 := "L2"

   begin sequence with { |e| break( e ) }
      f0( "P1", "P2", "P3", "P4" )
   recove
      ? "error..."
   endsequence
return

func F0()
   return F1( "f0:p1", "f0:p2", "f0:p3" )

func F1( p1, p2, p3 )
   local l1 := "f1:l1", l2 := "f1:l2", l3 := "f1:l3", l4 := "f1:l4"
return DUMMY( "dum1", "dum2", F2( "f1:p1", "f1:p2" ) )

func F2( p1, p2, p3 )
   local l1 := "f2:l1", l2 := "f2:l2", l3 := "f2:l3", l4 := "f2:l4"
return FN( "f2:p1", "f2:p2", "f3:p2" )

func FN( p1, p2, p3 )
   local l1 := "fn:l1", l2 := "fn:l2", l3 := "fn:l3", l4 := "fn:l4"

   with object "with_value"
      dispStack()
   endwith
return nil

proc dummy()
return

proc dispStack()
   local cProcName, nProcLine, cProcFile
   local aParams, cParams
   local i := 0

   while ! empty( cProcName := PROCNAME( ++i ) )
      nProcLine := PROCLINE( i )
      cProcFile := PROCFILE( i )
      aParams := HB_APARAMS( i )
      cParams := hb_valToExp( aParams )
      cParams := substr( cParams, 2, len( cParams ) - 2 )
      ? cProcFile + "[" + hb_ntos( nProcLine ) + "]: " + ;
        cProcName + "(" + cParams + ")"
      ? "   LOCALS:", hb_valToExp( __DBGVMLOCALLIST( i ) )
   enddo
return
From harbour.01 at syenar.hu  Tue Mar  2 20:53:53 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  2 20:54:04 2010
Subject: [SPAM]  Re: [Harbour] What is Valtype = S ?
In-Reply-To: <20100303014045.GA14282@linux-4bod.home.aster.pl>
References: <6943770e1003021032j683370e0j7a403fe1ba1cc071@mail.gmail.com>
	<20100302184035.GA2052@linux-4bod.home.aster.pl>
	<6943770e1003021106iec1a62el877ed154efa45ced@mail.gmail.com>
	<20100302195837.GA2112@linux-4bod.home.aster.pl>
	<6943770e1003021622k46d6157etb3558d97a295536e@mail.gmail.com>
	<20100303014045.GA14282@linux-4bod.home.aster.pl>
Message-ID: <6CF1D9B7-7018-4730-AA55-D207A709FF5C@syenar.hu>

The only thing I wonder is why all this is important 
for a normal user application...? Perhaps because I never 
needed such thing, but if the goal is to check the 
arguments involved in an RTE, we have oError:args 
(just like Clipper).

Brgds,
Viktor

On 2010 Mar 3, at 02:40, Przemys?aw Czerpak wrote:

> On Wed, 03 Mar 2010, francesco perillo wrote:
> 
> Hi,
> 
>> I'm writing a personal message so that info won't get public :-)
> 
> OK, but I'm setting CC to harbour-devel list in answer because
> it may help other users and I hope future HVM developers :-) to
> understand how HVM works.
> 
>> but I must say that at least one function is documented in
>> doc/en/hvm.txt: *      __DBGVMVARLGET( <nProcLevel>, <nLocal> ) --> <xRetVal>
> 
> Serious mistake. I'll remove it ASAP.
> BTW this description is wrong. <nLocal> is not an index to local variable.
> 
>> I now "think to know" what valtype S is in the stack... it IS the
>> first item pushed in the stack and is the pointer to the function that
>> is going to be executed...
>> Let's see in a real life example, where the code from .ppo is DevOut(
>> aPrinter[ s_ptr_selec ] ):
>> 
>> Local  13:    S    Symbol: DEVOUT
>> Local  14:    U    <don't know to display type U>
> 
> "U" is NIL, Try
>   ? valtype( "NIL" )
> 
> It's QSELF() value. Inside method it's an object.
> 
>> Local  15:    A    Len:    4
>> Local  16:    N    13.00
>> Local  17:    C    "W/B,GR+/W,N/N,B/N,W+/BG,B/N"
>> Local  18:    N    0.00
>> 
>> aPrinter (local15) has len 4, s_ptr_selec (local16) is 17 so out of
>> bound error is generated...
> 
> There are no local<n> variables. There are only items on HVM stack.
> Some of them belongs to declared function parameters, some of them
> contains additional parameters when user passed more parameters then
> was declared by function, some others belongs to local variables and
> rest is used by currently executed code, i.e. partially calculated
> expressions, WITH OBJECT values, FOR EACH iterators, BEGIN SEQUENCE
> envelopes, called function parameters, etc.
> The function stack frame contains:
> 
>   1              FUNCTION SYMBOL OR METHOD SYMBOL
>   2              QSELF() VALUE (NIL FOR FUNC/PROC, OBJ FOR METHODS)
>   3              DECLARED PARAMETERS <n>
>      ...
>   3 + <n>        ADDITIONAL <m> PARAMETERS IF PASSED MORE THEN <n> PARAMS
>      ...
>   3 + <n> + <m>  LOCAL VARIABLE <l>
>      ...
>   3 + <n> + <m> + <l>  ITEMS ALLOCATED BY EXECUTED CODE <k>
>      ...
>   3 + <n> + <m> + <l> + <k>  NEXT FUNCTION FRAME SYMBOL
> 
>> I could not explain what Local17 and 18 were for... but then realized
>> the following:
>> the function has 5 parameters but in this specific case there are only
>> 3 of them specified in the function call...
>> Since LocalCount = number_of_locals - number_of_params
>> and since number_of_params is 2 less than what should be, LocalCount
>> is 2 bigger than necessary... and so 2 spurious stack elements are
>> printed...
>> So, question 1: is it possible to retrieve the number of parameters
>> declared in a function ?
> 
> Yes. It's possible to retrieve number of declared parameters (<n>+<m> in
> above scheme).
> It's also possible to retrieve number of passed parameters (<n> in above
> scheme)
> 
> It's not possible to detect number of local variables (<l> in above
> scheme) so it's not possible to guess when local variables stops
> and begins execution context items.
> 
> It's possible to detect the whole frame size so <k> is also known.
> 
>> Question 2: for object method I get valtype S... but for function
>> invocation not always... is there a rule ?
> 
> In all cases you have function or method symbol as 1-st item in
> function method frame.
> 
>>> __DBGVMVARL[GS]ET() is internal debug function function and
>>> it cannot be used without additional information which is available
>>> only for debugger.
>> but it works at the moment, in harbour 2.0.0, the one I will use for
>> at least one year...
> 
> And after a year you decided to check what it exactly does and you are
> asking why your code does not work as you want ;-)
> 
> You can always use any internal HVM functions for your own risk.
> It's your choice. I only hope that I do not see any message from
> you when we remove above functions i.e. making some modifications
> in HVM stack or debugger code.
> 
>>>> Is it also possible that the compiler removes local variables (both
>>>> LOCAL or parameters) present in function definition not used in the
>>>> function ? or that they are changed position in the LocalX list ?
>>> Yes it's possible though in current compiler code it is used only to
>>> eliminate unused local variables
>> Ok, I had such case... 2 unused locals did shift all the others and
>> they didn't match the values.
> 
> No, you do not have such case.
> You only wrongly expected that 2-nd parameter of __DBGVMVARL[GS]ET()
> function is index to local variables and it isn't.
> 
> In a while I'll add to SVN new function __DBGVMLOCALLIST() which returns
> array with <l> and <k> items in the above function frame scheme and
> below I'm attaching the code which should help you to understand few
> things if you look at <k> items attached to LOCAL variables.
> As I said it's not possible to detect real number of local variables
> in current code. It may change in the future if we store this information
> in hb_vm[V]Frame() function but now it can be done only indirectly for
> code compiled for debugger with -b switch catching the messages with
> names of local variables which are sent to debugger from HVM.
> 
>> The debugger builds aCallStack calling a c function passing it a
>> "info" parameter... is it possible to use such "info" not inside the
>> debugger (I didn't check myself... ) Any other way ?
> 
> You have to modify the debugger code.
> In my opinion it's much easier and cleaner to create own mini debugger.
> 
> best regards,
> Przemek
> <tstframe.prg>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Mar  2 21:05:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 21:05:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14047] trunk/harbour
Message-ID: <E1Nmdxb-00051Z-1f@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14047
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14047&view=rev
Author:   vszakats
Date:     2010-03-03 02:05:13 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 03:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/hbeditc.c
    ! Replaced unsafe string calls with safe one.
      (strncpy(), strcpy() -> hb_strncpy())
    ; Now this change may contain bugs. I'd appreciate if
      someone with trained eyes for C length would review the diff.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmisc/hbeditc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar  2 21:14:32 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  2 21:14:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14048] trunk/harbour
Message-ID: <E1Nme6a-0005Ck-Hp@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14048
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14048&view=rev
Author:   vszakats
Date:     2010-03-03 02:14:31 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 03:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/hbeditc.c
    ! One fix to prev right away. (in former strcpy)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmisc/hbeditc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From amigosam at adinet.com.uy  Tue Mar  2 21:24:48 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Mar  2 21:24:53 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your
	network apps?
In-Reply-To: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
Message-ID: <hmkh8t$5ag$1@dough.gmane.org>

The solution to your problems is NETIO.
It also allows you to host your dbfs in a linux box.
It is also more secure because users don`t have direct access to your data.

HTH
Angel

From smujohnson at gmail.com  Tue Mar  2 22:21:35 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  2 22:21:44 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your 
	network apps?
In-Reply-To: <hmkh8t$5ag$1@dough.gmane.org>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
Message-ID: <674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>

Well we have a ton of people who still use Windows, and because of that we
need a Windows solution.

I am happy to report that after about 30 mins of Googling, I came across
this page, which solved the problem, if you disable SMB2.

http://blogs.msdn.com/robmar/archive/2009/09/23/get-microsoft-fix-it-for-smb2-issue.aspx

It's amazing, as we have spent countless hours Googling for this months ago,
and relied on .bat files that worked 80% of the time.  So far, this works
100% of the time.

This is a miracle for us!!!  We've worried for 6 years about this problem.


On Tue, Mar 2, 2010 at 6:24 PM, Angel Pais <amigosam@adinet.com.uy> wrote:

> The solution to your problems is NETIO.
> It also allows you to host your dbfs in a linux box.
> It is also more secure because users don`t have direct access to your data.
>
> HTH
> Angel
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/e02f5c08/attachment.html
From smujohnson at gmail.com  Tue Mar  2 22:36:54 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  2 22:37:02 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
Message-ID: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>

Hi,

I thought I'd start this out as I don't really understand a lot of the
Changelog stuff in layman's terms.

Fact:  Win9x OS's will need a unicows.dll file to work in future .exe
compiles generated by Harbour.
Question:  Does that mean if I just download and include 1 single file,
unicows.dll in the path where the generated .exe's are put and executed
from, everything will magically work for Win9x => Windows 7 64-bit type
OS's?

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100302/ab2f2d33/attachment.html
From lorenzo.fiorini at gmail.com  Wed Mar  3 01:15:50 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar  3 01:15:57 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your 
	network apps?
In-Reply-To: <674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
Message-ID: <9257026e1003022215t1ec7ea46x13185731f5ca8230@mail.gmail.com>

On Wed, Mar 3, 2010 at 4:21 AM, smu johnson <smujohnson@gmail.com> wrote:

> I am happy to report that after about 30 mins of Googling, I came across
> this page, which solved the problem, if you disable SMB2.

Thank you or your info.

I've read the links but it seems more a security problem.

I don't understand if there a "general" problem with Clipper and SMB2
or it is a specific site/configuration issue.

best regards,
Lorenzo
From fperillo at gmail.com  Wed Mar  3 01:52:06 2010
From: fperillo at gmail.com (francesco perillo)
Date: Wed Mar  3 01:52:14 2010
Subject: [SPAM] Re: [Harbour] What is Valtype = S ?
In-Reply-To: <6CF1D9B7-7018-4730-AA55-D207A709FF5C@syenar.hu>
References: <6943770e1003021032j683370e0j7a403fe1ba1cc071@mail.gmail.com>
	<20100302184035.GA2052@linux-4bod.home.aster.pl>
	<6943770e1003021106iec1a62el877ed154efa45ced@mail.gmail.com>
	<20100302195837.GA2112@linux-4bod.home.aster.pl>
	<6943770e1003021622k46d6157etb3558d97a295536e@mail.gmail.com>
	<20100303014045.GA14282@linux-4bod.home.aster.pl>
	<6CF1D9B7-7018-4730-AA55-D207A709FF5C@syenar.hu>
Message-ID: <6943770e1003022252y78f0b0e6k54cc4119365d170b@mail.gmail.com>

I have not read Przem message yet,

> The only thing I wonder is why all this is important
> for a normal user application...?

I'd like to print ALL the variables (private, public, local) in all
stack states, in order to have a complete HVM snapshot, while with
oError:args you have only the parameters...


It's a "plus" in debugging production code....not strictly necessary,
but a plus...

Francesco
From lorenzo.fiorini at gmail.com  Wed Mar  3 02:07:46 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar  3 02:07:54 2010
Subject: [Harbour] SF download statistics 1.0.1 vs 2.0.0
Message-ID: <9257026e1003022307u57dabb7bu156ca7c8025f6e19@mail.gmail.com>

binaries-windows
1.0.0 -> 2.824
1.0.1 -> 13.150

2.0.0 -> 4.215

the trend is similar for binaries-ubuntu and source

Are developers waiting for 2.0.1 :) or are there still a lot of them
using 1.0.1?

What do you read in the stats ( or stars )?

best regards,
Lorenzo
From e.m.giordano at emagsoftware.it  Wed Mar  3 03:25:05 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Mar  3 03:25:17 2010
Subject: [Harbour] DBI_PASSWORD
Message-ID: <E18050DD68C540D7B612A5BC4E36D524@emag>

Dear friends, is there any technical reason why DBI_PASSWORD can't be used 
to crypt DBFs with memo fields? Even leaving memo fields uncrypted while 
crypting all the other fields would be welcome.

Thank you in advance.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From maurilio.longo at libero.it  Wed Mar  3 03:37:45 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar  3 03:37:57 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your
	network apps?
In-Reply-To: <674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
Message-ID: <4B8E1FD9.2050201@libero.it>

Smu,

MS09-050: Vulnerabilities in SMB could allow remote code execution

Are you sure this has anything to do with data corruption of .dbf/.cdx files?

Maurilio.

smu johnson wrote:
> Well we have a ton of people who still use Windows, and because of that
> we need a Windows solution.
> 
> I am happy to report that after about 30 mins of Googling, I came across
> this page, which solved the problem, if you disable SMB2.
> 
> http://blogs.msdn.com/robmar/archive/2009/09/23/get-microsoft-fix-it-for-smb2-issue.aspx
> 
> It's amazing, as we have spent countless hours Googling for this months
> ago, and relied on .bat files that worked 80% of the time.  So far, this
> works 100% of the time.
> 
> This is a miracle for us!!!  We've worried for 6 years about this problem.
> 
> 
> On Tue, Mar 2, 2010 at 6:24 PM, Angel Pais <amigosam@adinet.com.uy
> <mailto:amigosam@adinet.com.uy>> wrote:
> 
>     The solution to your problems is NETIO.
>     It also allows you to host your dbfs in a linux box.
>     It is also more secure because users don`t have direct access to
>     your data.
> 
>     HTH
>     Angel
> 
>     _______________________________________________
>     Harbour mailing list (attachment size limit: 40KB)
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com <mailto:smujohnson@gmail.com>>
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Wed Mar  3 03:39:43 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar  3 03:39:55 2010
Subject: [Harbour] SF download statistics 1.0.1 vs 2.0.0
In-Reply-To: <9257026e1003022307u57dabb7bu156ca7c8025f6e19@mail.gmail.com>
References: <9257026e1003022307u57dabb7bu156ca7c8025f6e19@mail.gmail.com>
Message-ID: <4B8E204F.4030006@libero.it>

>From David statistics, they're all moving to harbour on OS/2 :D

Regards.

Maurilio.

Lorenzo Fiorini wrote:
> binaries-windows
> 1.0.0 -> 2.824
> 1.0.1 -> 13.150
> 
> 2.0.0 -> 4.215
> 
> the trend is similar for binaries-ubuntu and source
> 
> Are developers waiting for 2.0.1 :) or are there still a lot of them
> using 1.0.1?
> 
> What do you read in the stats ( or stars )?
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Wed Mar  3 03:41:14 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar  3 03:41:25 2010
Subject: [Harbour] DBI_PASSWORD
In-Reply-To: <E18050DD68C540D7B612A5BC4E36D524@emag>
References: <E18050DD68C540D7B612A5BC4E36D524@emag>
Message-ID: <4B8E20AA.3000607@libero.it>

Enrico,

it has a bigger problem (I think it still has :)) in that indexes are not
encrypted and so your keys leak informations.

Maurilio.


Enrico Maria Giordano wrote:
> Dear friends, is there any technical reason why DBI_PASSWORD can't be
> used to crypt DBFs with memo fields? Even leaving memo fields uncrypted
> while crypting all the other fields would be welcome.
> 
> Thank you in advance.
> 
> EMG
> 
> -- 
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From lorenzo.fiorini at gmail.com  Wed Mar  3 03:45:59 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar  3 03:46:08 2010
Subject: [Harbour] SF download statistics 1.0.1 vs 2.0.0
In-Reply-To: <4B8E204F.4030006@libero.it>
References: <9257026e1003022307u57dabb7bu156ca7c8025f6e19@mail.gmail.com>
	<4B8E204F.4030006@libero.it>
Message-ID: <9257026e1003030045l79c9be7nf74bf11169345607@mail.gmail.com>

On Wed, Mar 3, 2010 at 9:39 AM, Maurilio Longo <maurilio.longo@libero.it> wrote:

> >From David statistics, they're all moving to harbour on OS/2 :D

I still have an OS/2 2.0 box around is it time to reinstall it? :)

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Mar  3 03:51:54 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 03:52:04 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
Message-ID: <61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>

> I thought I'd start this out as I don't really understand a lot of the Changelog stuff in layman's terms.
> 
> Fact:  Win9x OS's will need a unicows.dll file to work in future .exe compiles generated by Harbour.

Not exactly.

The _default_ Harbour build will need unicows.dll.
Anyone, anytime may create a non-UNICODE Harbour build 
by using HB_BUILD_UNICODE=no.

> Question:  Does that mean if I just download and include 1 single file, unicows.dll in the path where the generated .exe's are put and executed from, everything will magically work for Win9x => Windows 7 64-bit type OS's?

Unfortunately no. I've written detailed description 
on the method a few days ago on this list. But of 
course there are several general descriptions about 
it on MS website and other places.

It doesn't currently work reliably with Harbour though.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Mar  3 03:57:27 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 03:57:37 2010
Subject: [Harbour] SF download statistics 1.0.1 vs 2.0.0
In-Reply-To: <9257026e1003022307u57dabb7bu156ca7c8025f6e19@mail.gmail.com>
References: <9257026e1003022307u57dabb7bu156ca7c8025f6e19@mail.gmail.com>
Message-ID: <9B171DA9-D145-4C7B-A918-B7088E82357C@syenar.hu>

> binaries-windows
> 1.0.0 -> 2.824
> 1.0.1 -> 13.150
> 
> 2.0.0 -> 4.215
> 
> the trend is similar for binaries-ubuntu and source
> 
> Are developers waiting for 2.0.1 :) or are there still a lot of them
> using 1.0.1?
> 
> What do you read in the stats ( or stars )?

There was just about a month between 1.0.0 and 1.0.1, 
and 1.0.1 had 1.5 years to gather this number of 
downloads. So naturally it's much higher.

What we should really check to tell if 1.0.1 was 
indeed more popular is checking download in its 
first month only.

Comparing 1.0.x and 2.0.x Windows binaries is 
not directly possible, as we had separate packages 
per compiler in 1.x and just one unified packages 
in 2.x, so latter will naturally be much lower.

Anyhow 2.0.1 would definitely be better, the 
real question is how wants to back-port the 
bugfix patches (and spend the approx 2 days on 
creating the actual build - not counting any 
testing work).

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Wed Mar  3 04:02:07 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Mar  3 04:02:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14049] trunk/harbour
Message-ID: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14049
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14049&view=rev
Author:   vouchcac
Date:     2010-03-03 09:02:05 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 01:00 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_garbage.h
  * contrib/hbqt/THbQtUI.prg
    ! A massive effort to stream-line GPF at exit.    
      At least now I know that it is caused by the way 
      QLayout has relation with parent and children both.
      To some extent I am been able to cover it, but not 
      completely, at least till now.

  * contrib/hbxbp/xbptreeview.prg
    + Implemented tooltip and changed the way context menu is fired.

  - contrib/hbide/projects/hbide.hbi
    ! Totally abandoned .hbi project protocol.

  * contrib/hbide/resources/environments.ui
  * contrib/hbide/resources/environments.uic
  * contrib/hbide/resources/projectpropertiesex.ui
  * contrib/hbide/resources/projectpropertiesex.uic
  * contrib/hbide/resources/themesex.ui
  * contrib/hbide/resources/themesex.uic
    ! Simplified layouts to cover GPFs at exit.

  * contrib/hbide/hbide.hbp
    + Added ideenviron.prg.

  * contrib/hbide/hbide.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  + contrib/hbide/ideenviron.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideharbourhelp.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idesources.prg
  * contrib/hbide/idethemes.prg

    + Restructured project management.
  
    + Implemented: .hbp as project definition protocol.
      Exploited -3rd= token to keep hbIDE specific data.
      Now you can open any existing .hbp and build it 
      out of the box. You must have set the build env
      beforehand OR take use of hbIDE's .env protocol.

    + Implemented: relative paths. The relative paths are
      are computed downwards and from .hbp location.
      Upper level paths still remain absolute. If your 
      projects structure is well thought of, then this 
      feature means this project tree is transferable 
      across different OS's and drives.

      The relative paths posed many difficulties. The 
      facts had to be resolved while search operations,
      while opening the files from Project Tree, and more.
      Now all are in perfect syncronization.

    + Managed: .hbp filters on source level and are 
      handelled transparently. In Project Tree source
      is shown without filters. Search operations are 
      also transparent. So, an entry like:
        {msvc|bcc}vouch/scandocument.prg 
      is respected by hbIDE.

    ! The other changes:
      - Project Properties dialogs contents.
        It is now very simple to understand and manage.

      - Concept of meta-data is eliminated.

      - The output executable is automatically recognized
        from linker output. So "Destination folder" is 
        kept for only "Launch" option which, in fact, does
        not know where executable is located. "Build & Launch"
        and "Rebuild & Launch" options do not look for
        "Destination folder" at all.

      - Project location is always pulled from .hbp file.
        It is not retained anywhere to make the project 
        portable.

      - Many more facts I cannot recollect at present.

     ; TODO: {hbmk2} slot in hbide.env protocol to pass
       command-line parameters.

     ; NOTE: delete hbide.ini, idesettings.ini, all .hbi's
             and start with clean state.
             
             Regression is highly possible and I am eager 
             to hear from you. This commit is just for 
             stramlining project management, though there 
             few other features implemented less important
             to mention.
 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idesources.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbide/resources/environments.ui
    trunk/harbour/contrib/hbide/resources/environments.uic
    trunk/harbour/contrib/hbide/resources/projectpropertiesex.ui
    trunk/harbour/contrib/hbide/resources/projectpropertiesex.uic
    trunk/harbour/contrib/hbide/resources/themesex.ui
    trunk/harbour/contrib/hbide/resources/themesex.uic
    trunk/harbour/contrib/hbqt/THbQtUI.prg
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbxbp/xbptreeview.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/ideenviron.prg

Removed Paths:
-------------
    trunk/harbour/contrib/hbide/projects/hbide.hbi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Mar  3 04:24:48 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar  3 04:24:57 2010
Subject: [Harbour] DBI_PASSWORD
In-Reply-To: <E18050DD68C540D7B612A5BC4E36D524@emag>
References: <E18050DD68C540D7B612A5BC4E36D524@emag>
Message-ID: <20100303092448.GA16679@linux-4bod.home.aster.pl>

On Wed, 03 Mar 2010, Enrico Maria Giordano wrote:

Hi,

> Dear friends, is there any technical reason why DBI_PASSWORD can't
> be used to crypt DBFs with memo fields? Even leaving memo fields
> uncrypted while crypting all the other fields would be welcome.

This encryption was added for SIX3 compatibility.
In original implementation it encrypts DBF and MEMO files leaving
indexes as is.
When I begin to make real life test of SIX3 behavior I found many
very serious bugs in memo encryption. I couldn't replicate them to
be bug compatible and keep binary compatibility because in some
cases they caused data corruption so finally I decided to commit
only DBF part encryption and block any encryption for tables having
memo files to reduce the chance for data corruption/lost when tables
are shared with programs using original SIX3 RDDs.
It's possible to unblock memo encryption quite fast in current Harbour
code. Anyhow if we begin to create such encrypted files then it will be
necessary to keep this code for backward compatibility. Otherwise users
lost their data after upgrading to newer versions and it's the reason
why I do not want to make it without good analyze.
I planed in some spare time to document all anomalies and bugs in
SIX3 memo encryption and try to find a method which will allow at
least in some limited way to share data with SIX3 encrypted memo
files. So far I haven't do that and I do not know if I'll ever try.
Probably I'll create new much stronger independent encryption method
for Harbour only which will encrypt table, memo and also index files
without any limitations caused by more or less strict compatibility
with some other products.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Wed Mar  3 04:44:41 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Mar  3 04:44:50 2010
Subject: [Harbour] DBI_PASSWORD
References: <E18050DD68C540D7B612A5BC4E36D524@emag>
	<20100303092448.GA16679@linux-4bod.home.aster.pl>
Message-ID: <2A86F3D1FF2F4691B2462CD8FCFB8B38@emag>


-----Messaggio Originale----- 
Da: "Przemys?aw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 3 marzo 2010 10.24
Oggetto: Re: [Harbour] DBI_PASSWORD

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From smujohnson at gmail.com  Wed Mar  3 05:21:27 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 05:21:37 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
Message-ID: <674e4ddd1003030221v5b08d640wc80c43fe4e739f70@mail.gmail.com>

I know I asked this before, but just to make double-dog-sure I got this
right...

Is this unicode stuff only concerning compiling Harbour on Windows, or
creating .EXEs from Clipper code with Harbour on Windows.  I believe the
answer is "both" but I get messed up from time to time.

Thanks Viktor

On Wed, Mar 3, 2010 at 12:51 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> > I thought I'd start this out as I don't really understand a lot of the
> Changelog stuff in layman's terms.
> >
> > Fact:  Win9x OS's will need a unicows.dll file to work in future .exe
> compiles generated by Harbour.
>
> Not exactly.
>
> The _default_ Harbour build will need unicows.dll.
> Anyone, anytime may create a non-UNICODE Harbour build
> by using HB_BUILD_UNICODE=no.
>
> > Question:  Does that mean if I just download and include 1 single file,
> unicows.dll in the path where the generated .exe's are put and executed
> from, everything will magically work for Win9x => Windows 7 64-bit type
> OS's?
>
> Unfortunately no. I've written detailed description
> on the method a few days ago on this list. But of
> course there are several general descriptions about
> it on MS website and other places.
>
> It doesn't currently work reliably with Harbour though.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/bdae8a4f/attachment-0001.html
From druzus at acn.waw.pl  Wed Mar  3 05:23:50 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar  3 05:23:57 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling
	your network apps?
In-Reply-To: <674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
Message-ID: <20100303102349.GA17394@linux-4bod.home.aster.pl>

On Tue, 02 Mar 2010, smu johnson wrote:
> Well we have a ton of people who still use Windows, and because of that we
> need a Windows solution.

HBNETIO is platform independent solution. It can be used by stations using
only one platform (i.e. only MS-Windows programs) but it also allow to
safely share DBF tables (with memo and indexes) between program compiled
on different platforms i.e. Linux, FreeBSD, SunOS, MacOSX, DOS, W95, WinXP,
W2K, Win7, OS2 stations using native programs accessing the same files.
It system eliminates file sharing with its all potential synchronization
problems by switching to own TCP/IP protocol dedicate to share Harbour
tables.

> I am happy to report that after about 30 mins of Googling, I came across
> this page, which solved the problem, if you disable SMB2.
> http://blogs.msdn.com/robmar/archive/2009/09/23/get-microsoft-fix-it-for-smb2-issue.aspx

Above fix is for remote hackers attack so it's not related to your problem.
Anyhow as I can see there is a switch to disable SMBv2 protocol and this
may indirectly help to resolve the problem because it's possible that it
can be exploited only when SMBv2 is enabled and some buggy network clients
are used.
Anyhow if you do not want to worry about possible problems which can be
caused by some incompatible network transport layer or unsafe concurrent
file access caused by some speed "optimization (i.e. not synchronized read
ahead caches) then you should switch to HBNETIO. If you want much stronger
data protection and move all index processing to server side then you should
use dedicated RDBMS like LETO or ADS. If you want to full even logical
protection then you should move your whole application to server side and
leave only user interface on the client side. It's the fastest and the most
safe solution.

best regards,
Przemek
From smujohnson at gmail.com  Wed Mar  3 05:34:38 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 05:34:47 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your 
	network apps?
In-Reply-To: <20100303102349.GA17394@linux-4bod.home.aster.pl>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
	<20100303102349.GA17394@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1003030234y6172f804x8516aae682ed2b22@mail.gmail.com>

Hi,

Thanks for replying.  The reason this guy wrote a blog about SMB2 to the
link I pasted was because this web blogger read about an old security flaw
in SMB2.... but it wasn't the reason why I needed to disable it.

Ever since Vista came out, this has been a HUGE headache for us.  We have
written code to even test this problem over the network.  It worked fine in
win2k, and XP, but as soon as Vista and Windows 7 came, their SMB 2.0 and
2.1 network things have been a constant nightmare for us.  Disabling SMB2
finally solved the problem once and for all for us.  Before, we had .bat
files changing registry settings which only worked on certain builds of
Vista.  It has been a huge headache for us ever since Vista cam eout.

As far as are networking situation, we have one machine hosting a shared
folder in Windows, (in our case, \\TBM-SERVER\apps in Windows terms), and
about 18 stations have that shared folder mapped in Windows.  This seems
pretty straight forward... but having read Przemek's reply, I would be very
curious to try out these new solutions.  Only problem is, I am afraid to ask
for help, and I have no idea if they apply to our case as described above.
It would be nice to avoid this smb2 stuff completely, ie, not using the .msi
I found, and do it as Przemek and Angel pointed out.

I read:

> then you should switch to HBNETIO. If you want much stronger
> data protection and move all index processing to server side then you
should
> use dedicated RDBMS like LETO or ADS.

For me to just "get this working" would probably involve me grepping the
Harbour source for about 1-2 hours.  If there is something obvious I'm
missing, I'm very willing to hear it.

Thanks for posting!



2010/3/3 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Tue, 02 Mar 2010, smu johnson wrote:
> > Well we have a ton of people who still use Windows, and because of that
> we
> > need a Windows solution.
>
> HBNETIO is platform independent solution. It can be used by stations using
> only one platform (i.e. only MS-Windows programs) but it also allow to
> safely share DBF tables (with memo and indexes) between program compiled
> on different platforms i.e. Linux, FreeBSD, SunOS, MacOSX, DOS, W95, WinXP,
> W2K, Win7, OS2 stations using native programs accessing the same files.
> It system eliminates file sharing with its all potential synchronization
> problems by switching to own TCP/IP protocol dedicate to share Harbour
> tables.
>
> > I am happy to report that after about 30 mins of Googling, I came across
> > this page, which solved the problem, if you disable SMB2.
> >
> http://blogs.msdn.com/robmar/archive/2009/09/23/get-microsoft-fix-it-for-smb2-issue.aspx
>
> Above fix is for remote hackers attack so it's not related to your problem.
> Anyhow as I can see there is a switch to disable SMBv2 protocol and this
> may indirectly help to resolve the problem because it's possible that it
> can be exploited only when SMBv2 is enabled and some buggy network clients
> are used.
> Anyhow if you do not want to worry about possible problems which can be
> caused by some incompatible network transport layer or unsafe concurrent
> file access caused by some speed "optimization (i.e. not synchronized read
> ahead caches) then you should switch to HBNETIO. If you want much stronger
> data protection and move all index processing to server side then you
> should
> use dedicated RDBMS like LETO or ADS. If you want to full even logical
> protection then you should move your whole application to server side and
> leave only user interface on the client side. It's the fastest and the most
> safe solution.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/cfd98eb0/attachment.html
From harbour.01 at syenar.hu  Wed Mar  3 05:36:23 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 05:36:33 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <674e4ddd1003030221v5b08d640wc80c43fe4e739f70@mail.gmail.com>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
	<674e4ddd1003030221v5b08d640wc80c43fe4e739f70@mail.gmail.com>
Message-ID: <01835884-54AC-44CE-9FB2-25C8D38C5F7E@syenar.hu>


On 2010 Mar 3, at 11:21, smu johnson wrote:

> I know I asked this before, but just to make double-dog-sure I got this right...
> 
> Is this unicode stuff only concerning compiling Harbour on Windows, or creating .EXEs from Clipper code with Harbour on Windows. 

It's a Harbour build-time setting, which does affect 
_both Harbour itself and applications created by_ that 
Harbour build.

And it's a Windows platform specific.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Mar  3 05:38:21 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 05:38:30 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <01835884-54AC-44CE-9FB2-25C8D38C5F7E@syenar.hu>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
	<674e4ddd1003030221v5b08d640wc80c43fe4e739f70@mail.gmail.com>
	<01835884-54AC-44CE-9FB2-25C8D38C5F7E@syenar.hu>
Message-ID: <674e4ddd1003030238w43e89458g45429c3699db78d7@mail.gmail.com>

Thanks for the help.  One last question... where do I stick the flag to
disable the unicode thing?  It looks as though I have to stick it somewhere
in a main .prg execution, so the entire thing respects this flag.  Or is it
an hbmk2.exe / harbour.exe switch?


On Wed, Mar 3, 2010 at 2:36 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

>
> On 2010 Mar 3, at 11:21, smu johnson wrote:
>
> > I know I asked this before, but just to make double-dog-sure I got this
> right...
> >
> > Is this unicode stuff only concerning compiling Harbour on Windows, or
> creating .EXEs from Clipper code with Harbour on Windows.
>
> It's a Harbour build-time setting, which does affect
> _both Harbour itself and applications created by_ that
> Harbour build.
>
> And it's a Windows platform specific.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/3ee00a1d/attachment.html
From smujohnson at gmail.com  Wed Mar  3 05:39:19 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 05:39:28 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <674e4ddd1003030238w43e89458g45429c3699db78d7@mail.gmail.com>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
	<674e4ddd1003030221v5b08d640wc80c43fe4e739f70@mail.gmail.com>
	<01835884-54AC-44CE-9FB2-25C8D38C5F7E@syenar.hu>
	<674e4ddd1003030238w43e89458g45429c3699db78d7@mail.gmail.com>
Message-ID: <674e4ddd1003030239t2e83c564he2d5e926555f3983@mail.gmail.com>

Errr.. maybe I should re-word this.  If it's a build-time setting, what
happens to the Win32 pre-compiled binaries of Harbour?

On Wed, Mar 3, 2010 at 2:38 AM, smu johnson <smujohnson@gmail.com> wrote:

> Thanks for the help.  One last question... where do I stick the flag to
> disable the unicode thing?  It looks as though I have to stick it somewhere
> in a main .prg execution, so the entire thing respects this flag.  Or is it
> an hbmk2.exe / harbour.exe switch?
>
>
>
> On Wed, Mar 3, 2010 at 2:36 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:
>
>>
>> On 2010 Mar 3, at 11:21, smu johnson wrote:
>>
>> > I know I asked this before, but just to make double-dog-sure I got this
>> right...
>> >
>> > Is this unicode stuff only concerning compiling Harbour on Windows, or
>> creating .EXEs from Clipper code with Harbour on Windows.
>>
>> It's a Harbour build-time setting, which does affect
>> _both Harbour itself and applications created by_ that
>> Harbour build.
>>
>> And it's a Windows platform specific.
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/2fca6d5f/attachment-0001.html
From harbour.01 at syenar.hu  Wed Mar  3 05:41:11 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 05:41:21 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <674e4ddd1003030238w43e89458g45429c3699db78d7@mail.gmail.com>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
	<674e4ddd1003030221v5b08d640wc80c43fe4e739f70@mail.gmail.com>
	<01835884-54AC-44CE-9FB2-25C8D38C5F7E@syenar.hu>
	<674e4ddd1003030238w43e89458g45429c3699db78d7@mail.gmail.com>
Message-ID: <A680C19B-5402-4F85-940B-7D356A4631D6@syenar.hu>

> Thanks for the help.  One last question... where do I stick the flag to disable the unicode thing?  It looks as though I have to stick it somewhere in a main .prg execution, so the entire thing respects this flag.  Or is it an hbmk2.exe / harbour.exe switch?

No, it's a Harbour built-time switch.

Use 'win-make HB_BUILD_UNICODE=no' to 
rebuild Harbour from source.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Mar  3 05:45:23 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 05:45:34 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <674e4ddd1003030239t2e83c564he2d5e926555f3983@mail.gmail.com>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
	<674e4ddd1003030221v5b08d640wc80c43fe4e739f70@mail.gmail.com>
	<01835884-54AC-44CE-9FB2-25C8D38C5F7E@syenar.hu>
	<674e4ddd1003030238w43e89458g45429c3699db78d7@mail.gmail.com>
	<674e4ddd1003030239t2e83c564he2d5e926555f3983@mail.gmail.com>
Message-ID: <44DFED19-D7DC-413C-9EB1-F4183A82AD08@syenar.hu>

> Errr.. maybe I should re-word this.  If it's a build-time setting, what happens to the Win32 pre-compiled binaries of Harbour?

The decision was about the _default_ setting 
(including 'pre-compiled' official binaries, 
which always use the defaults), and now this 
setting is UNICODE enabled.

We will see how it works out, though I'd find it 
much better to resolve the UNICOWS.DLL stuff so 
that no one should need a non-default build to 
solve Win9x compatibility.

Unfortunately no one commented.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Mar  3 05:51:37 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 05:51:46 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <44DFED19-D7DC-413C-9EB1-F4183A82AD08@syenar.hu>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
	<674e4ddd1003030221v5b08d640wc80c43fe4e739f70@mail.gmail.com>
	<01835884-54AC-44CE-9FB2-25C8D38C5F7E@syenar.hu>
	<674e4ddd1003030238w43e89458g45429c3699db78d7@mail.gmail.com>
	<674e4ddd1003030239t2e83c564he2d5e926555f3983@mail.gmail.com>
	<44DFED19-D7DC-413C-9EB1-F4183A82AD08@syenar.hu>
Message-ID: <674e4ddd1003030251r4cc74fe1i870275094af679ee@mail.gmail.com>

> Unfortunately no one commented.
>

*shakes fist in anger*

Well, since I've taken your hints to read the changelog, I might be okay.  I
can probably just compile it from source and make sure I make the correct
flag setting.  Only worry I have no with compiling from source is the loss
of all those neat hbcurl type features, etc.  I am not quite sure how to
build harbour and include that functionality, whereas it is provided by the
nice and friendly .EXE builds.


>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/4e1287e7/attachment.html
From francek.prijatelj at siol.net  Wed Mar  3 05:55:23 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Mar  3 05:55:30 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <1267613723519-4666764.post@n2.nabble.com>


Hi 

vouchcac wrote:
> 
> 
>       QLayout has relation with parent and children both.
> 
> 

The call to QWidget::setLayout()  installs the layout manager on the window.
Behind the scenes, the Widgets which are put in Layout are "reparented" to
be children of the widget on which the layout is installed, and for this
reason we don't need to specify an explicit parent when we construct a
widget that will be put in a layout.
So the widgets are children of top level Widget.

BRGS
Fran?ek



-----
brgs
Fran?ek Prijatelj
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14049-trunk-harbour-tp4666373p4666764.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mbelgrano at deltain.it  Wed Mar  3 06:27:03 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  3 06:27:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com>

follow comment

2010/3/3  <vouchcac@users.sourceforge.net>:
>  - contrib/hbide/projects/hbide.hbi
>    ! Totally abandoned .hbi project protocol.
Good

>    + Restructured project management.
Good
>
>    + Implemented: .hbp as project definition protocol.
>      Exploited -3rd= token to keep hbIDE specific data.
>      Now you can open any existing .hbp and build it
>      out of the box. You must have set the build env
>      beforehand OR take use of hbIDE's .env protocol.
>
>    + Implemented: relative paths. The relative paths are
>      are computed downwards and from .hbp location.
>      Upper level paths still remain absolute. If your
>      projects structure is well thought of, then this
>      feature means this project tree is transferable
>      across different OS's and drives.
Compliment!
Having a unique project file is a big quantum leap!
I update my version in nexts  hours with a ready to use version of hbide and
updated documentation from
http://harbourlanguage.blogspot.com/
 <http://harbourlanguage.blogspot.com/>

>
>    + Managed: .hbp filters on source level and are
>      handelled transparently. In Project Tree source
>      is shown without filters. Search operations are
>      also transparent. So, an entry like:
>        {msvc|bcc}vouch/scandocument.prg
>      is respected by hbIDE.
True
>
>    ! The other changes:
>      - Project Properties dialogs contents.
>        It is now very simple to understand and manage.
Yes i confirm simplification
is suggest made follow simplification:
Create a New file & new Project with one click for user that want try write
his ?"Hello world" and immediately compile
Having in command line single prg for simple edit mode who help user
starting without use project
Dynamic defined wizard for visual define Flag like follow screenshot
starting from array/xml easy to define for hbide,harbour
{"/a","automatic memvar"}
{"/w","warning level",{ {"0","warning level0"},{"1","warning level1
default"},{"0","warning level0"} } }
{"/b","include debug info"}
i can finish this array if in your opinion is good way
If contain 3 dimension need a combobox
with this info can be read  extended info also in actual mode
[image: image]

Project tree require more click because have 4 level
imo is better a reduced tree
>
>      - Concept of meta-data is eliminated.
Why?
>
>      - The output executable is automatically recognized
>        from linker output. So "Destination folder" is
>        kept for only "Launch" option which, in fact, does
>        not know where executable is located. "Build & Launch"
>        and "Rebuild & Launch" options do not look for
>        "Destination folder" at all.
>
>      - Project location is always pulled from .hbp file.
>        It is not retained anywhere to make the project
>        portable.
>
>      - Many more facts I cannot recollect at present.
>
>     ; TODO: {hbmk2} slot in hbide.env protocol to pass
>       command-line parameters.
>
>     ; NOTE: delete hbide.ini, idesettings.ini, all .hbi's
>             and start with clean state.
>
>             Regression is highly possible and I am eager
>             to hear from you. This commit is just for
>             stramlining project management, though there
>             few other features implemented less important
>             to mention.
>
>
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/4eaf5f98/attachment.html
From dbtopas at dbtopas.lt  Wed Mar  3 06:54:10 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  3 06:54:28 2010
Subject: [SPAM]  Re: [Harbour] What is Valtype = S ?
In-Reply-To: <6CF1D9B7-7018-4730-AA55-D207A709FF5C@syenar.hu>
References: <6943770e1003021032j683370e0j7a403fe1ba1cc071@mail.gmail.com>	<20100302184035.GA2052@linux-4bod.home.aster.pl>	<6943770e1003021106iec1a62el877ed154efa45ced@mail.gmail.com>	<20100302195837.GA2112@linux-4bod.home.aster.pl>	<6943770e1003021622k46d6157etb3558d97a295536e@mail.gmail.com>	<20100303014045.GA14282@linux-4bod.home.aster.pl>
	<6CF1D9B7-7018-4730-AA55-D207A709FF5C@syenar.hu>
Message-ID: <4B8E4DE2.4030601@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> The only thing I wonder is why all this is important 
> for a normal user application...? Perhaps because I never 
> needed such thing, but if the goal is to check the 
> arguments involved in an RTE, we have oError:args 
> (just like Clipper).

I find it also very useful. I dump function parameters and locals for a 
the whole HVM stack in case of RTE. If bug is not in the caller 
function, but a few functions up, oError:args is not enough to find a bug.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Wed Mar  3 06:57:11 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  3 06:57:24 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
Message-ID: <4B8E4E97.8060108@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> The _default_ Harbour build will need unicows.dll.
> Anyone, anytime may create a non-UNICODE Harbour build 
> by using HB_BUILD_UNICODE=no.

Is UNICODE the default setting now? Ups! I haven't noticed this fact. 
Many of our customers still use Win95.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Wed Mar  3 07:10:06 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 07:10:17 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <4B8E4E97.8060108@dbtopas.lt>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>
	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>
	<4B8E4E97.8060108@dbtopas.lt>
Message-ID: <5899DE32-A838-446E-BAD0-EEDEE3AACE78@syenar.hu>

> Viktor Szak?ts wrote:
>> The _default_ Harbour build will need unicows.dll.
>> Anyone, anytime may create a non-UNICODE Harbour build by using HB_BUILD_UNICODE=no.
> 
> Is UNICODE the default setting now? Ups! I haven't noticed this fact. Many of our customers still use Win95.

I've been asking about this on this list and waiting 
for opinions. There was none, so I made the step.

[ BTW I also have a few clients still using Win98. ]

I think UNICOWS solution can work, we just need to 
remove the quirks. Using the links I've posted here, 
all our supported compilers can be covered with 
UNICOWS/OPENCOWS solution.

Brgds,
Viktor

From itamarlins at gmail.com  Wed Mar  3 07:25:12 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Wed Mar  3 07:25:40 2010
Subject: [Harbour] RDDSQL Question.
Message-ID: <hmlkf5$9ji$1@dough.gmane.org>

Hi!
Can you create examples of creating, adding, modifying fields of the 
tables via rddsql.
The current examples are only query.
For tables mdb via ado and other if possible.

Best regards,
Itamar M. Lins Jr.

From dbtopas at dbtopas.lt  Wed Mar  3 07:33:38 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  3 07:33:52 2010
Subject: [Harbour] New Windows unicode support "for dummies" thread
In-Reply-To: <5899DE32-A838-446E-BAD0-EEDEE3AACE78@syenar.hu>
References: <674e4ddd1003021936u1b049d20odade585682ce1231@mail.gmail.com>	<61BFD4B7-553D-488F-B091-34FC0562F99F@syenar.hu>	<4B8E4E97.8060108@dbtopas.lt>
	<5899DE32-A838-446E-BAD0-EEDEE3AACE78@syenar.hu>
Message-ID: <4B8E5722.5050800@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
>> Is UNICODE the default setting now? Ups! I haven't noticed this fact. Many of our customers still use Win95.
> 
> I've been asking about this on this list and waiting 
> for opinions. There was none, so I made the step.

Sorry. I haven't noticed. Perhaps it's too much information to read in 
all mailing list I'm subscribed.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Wed Mar  3 07:38:24 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  3 07:38:37 2010
Subject: [Harbour] RDDSQL Question.
In-Reply-To: <hmlkf5$9ji$1@dough.gmane.org>
References: <hmlkf5$9ji$1@dough.gmane.org>
Message-ID: <4B8E5840.6050208@dbtopas.lt>

Hi,


Itamar Lins wrote:
> Can you create examples of creating, 

RDDINFO( RDDI_EXECUTE, "CREATE TABLE test (id int, txt char(20))")

> adding, 

RDDINFO( RDDI_EXECUTE, "INSERT INTO test (id,txt) VALUES(1,'abc'), (2, 
'def'))")

> modifying fields of the tables via rddsql.

RDDINFO( RDDI_EXECUTE, "UPDATE test SET txt='ghi' WHERE id=1")


> For tables mdb via ado and other if possible.

Sorry, I know nothing about .mdb and ado, but above should work for MySql.


Regards,
Mindaugas
From itamarlins at gmail.com  Wed Mar  3 07:53:49 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Wed Mar  3 07:54:14 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <4B8E5840.6050208@dbtopas.lt>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
Message-ID: <hmlm4p$fpv$1@dough.gmane.org>

Hi!
Thanks for response.
But if I for example use:
My Browse() function and modify a field?
Because I change only in temporary cache query.
How to proceed for commit?

Best regards,
Itamar M. Lins Jr.

Em 3/3/2010 09:38, Mindaugas Kavaliauskas escreveu:
> Hi,
>
>
> Itamar Lins wrote:
>> Can you create examples of creating,
>
> RDDINFO( RDDI_EXECUTE, "CREATE TABLE test (id int, txt char(20))")
>
>> adding,
>
> RDDINFO( RDDI_EXECUTE, "INSERT INTO test (id,txt) VALUES(1,'abc'), (2,
> 'def'))")
>
>> modifying fields of the tables via rddsql.
>
> RDDINFO( RDDI_EXECUTE, "UPDATE test SET txt='ghi' WHERE id=1")
>
>
>> For tables mdb via ado and other if possible.
>
> Sorry, I know nothing about .mdb and ado, but above should work for MySql.
>
>
> Regards,
> Mindaugas


From amigosam at adinet.com.uy  Wed Mar  3 08:20:49 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Wed Mar  3 08:20:55 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <hmlm4p$fpv$1@dough.gmane.org>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org>
Message-ID: <hmlnmu$ldr$1@dough.gmane.org>

Hi Itamar.

If you read the changelog you will notice rddsql is a readonly rdd by 
design.
It works like a recordset but with all the advantages of dbf style 
handling.

HTH
Angel

From fernando_athayde at yahoo.com.br  Wed Mar  3 08:23:44 2010
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Mar  3 08:23:51 2010
Subject: Res: [Harbour] Re: RDDSQL Question.
In-Reply-To: <hmlm4p$fpv$1@dough.gmane.org>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org>
Message-ID: <379289.53771.qm@web52206.mail.re2.yahoo.com>

you should uses a function for this
example, in update call sqlupdate()
in this function write on database
RDDINFO(RDDI_EXECUTE, "UPDATE country SET " + cField + " = " + 
cNewValue + " WHERE CODE = " + cCode)

do you got?

Best regards
Fernando Athayde




________________________________
De: Itamar Lins <itamarlins@gmail.com>
Para: harbour@harbour-project.org
Enviadas: Quarta-feira, 3 de Mar?o de 2010 9:53:49
Assunto: [Harbour] Re: RDDSQL Question.

Hi!
Thanks for response.
But if I for example use:
My Browse() function and modify a field?
Because I change only in temporary cache query.
How to proceed for commit?

Best regards,
Itamar M. Lins Jr.

Em 3/3/2010 09:38, Mindaugas Kavaliauskas escreveu:
> Hi,
>
>
> Itamar Lins wrote:
>> Can you create examples of creating,
>
> RDDINFO( RDDI_EXECUTE, "CREATE TABLE test (id int, txt char(20))")
>
>> adding,
>
> RDDINFO( RDDI_EXECUTE, "INSERT INTO test (id,txt) VALUES(1,'abc'), (2,
> 'def'))")
>
>> modifying fields of the tables via rddsql.
>
> RDDINFO( RDDI_EXECUTE, "UPDATE test SET txt='ghi' WHERE id=1")
>
>
>> For tables mdb via ado and other if possible.
>
> Sorry, I know nothing about .mdb and ado, but above should work for MySql.
>
>
> Regards,
> Mindaugas


_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/63bf0780/attachment.html
From dbtopas at dbtopas.lt  Wed Mar  3 08:25:13 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  3 08:25:26 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <hmlm4p$fpv$1@dough.gmane.org>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org>
Message-ID: <4B8E6339.7040703@dbtopas.lt>

Hi,


> But if I for example use:
> My Browse() function and modify a field?
> Because I change only in temporary cache query.
> How to proceed for commit?

In my code on edit dialog "OK" button, o do both actions: execute query 
and set field values.

There is also my primary idea to store "dirty" flag for records, and 
later (ex. on browse close) iterate these "dirty" records and execute 
SQL update queries. I have not implemented this yet, since, I'm using 
another way to update DB. This "dirty" flag way has also some drawbacks, 
so, I do not want to do implementation until I do not use it and find it 
really a good solution for final application.


Regards,
Mindaugas

From bruno.luciani at gmail.com  Wed Mar  3 08:32:05 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Mar  3 08:32:13 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <4B8E6339.7040703@dbtopas.lt>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org> <4B8E6339.7040703@dbtopas.lt>
Message-ID: <133778361003030532g4ed4708n754650764182c704@mail.gmail.com>

May be could you post a working sample using this mix way of work

using a browse etc etc

It is very interesting

Bruno


2010/3/3 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>

> Hi,
>
>
>
>  But if I for example use:
>> My Browse() function and modify a field?
>> Because I change only in temporary cache query.
>> How to proceed for commit?
>>
>
> In my code on edit dialog "OK" button, o do both actions: execute query and
> set field values.
>
> There is also my primary idea to store "dirty" flag for records, and later
> (ex. on browse close) iterate these "dirty" records and execute SQL update
> queries. I have not implemented this yet, since, I'm using another way to
> update DB. This "dirty" flag way has also some drawbacks, so, I do not want
> to do implementation until I do not use it and find it really a good
> solution for final application.
>
>
>
> Regards,
> Mindaugas
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/f24d3aee/attachment.html
From dbtopas at dbtopas.lt  Wed Mar  3 08:37:04 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  3 08:37:19 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <133778361003030532g4ed4708n754650764182c704@mail.gmail.com>
References: <hmlkf5$9ji$1@dough.gmane.org>
	<4B8E5840.6050208@dbtopas.lt>	<hmlm4p$fpv$1@dough.gmane.org>
	<4B8E6339.7040703@dbtopas.lt>
	<133778361003030532g4ed4708n754650764182c704@mail.gmail.com>
Message-ID: <4B8E6600.1030802@dbtopas.lt>

Hi,


Bruno Luciani wrote:
> May be could you post a working sample using this mix way of work
> using a browse etc etc

Sorry, I do not use browse(). I use our own GUI.


Regards,
Mindaugas
From M.Horodyski at pzuzycie.com.pl  Wed Mar  3 09:35:31 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Mar  3 09:35:41 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above cripplingyour
	network apps?
In-Reply-To: <20100303102349.GA17394@linux-4bod.home.aster.pl>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com><hmkh8t$5ag$1@dough.gmane.org><674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
	<20100303102349.GA17394@linux-4bod.home.aster.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6F0EB@PINK.zycie.pzu>

-----Original Message-----
From: Przemys?aw Czerpak [mailto:druzus@acn.waw.pl] 
Sent: Wednesday, March 03, 2010 11:24 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Re: Microsoft's SMB2 in Vista and above cripplingyour network apps?

On Tue, 02 Mar 2010, smu johnson wrote:
> Well we have a ton of people who still use Windows, and because of that we
> need a Windows solution.

HBNETIO is platform independent solution. It can be used by stations using


[...]

use dedicated RDBMS like LETO or ADS. If you want to full even logical
protection then you should move your whole application to server side and
leave only user interface on the client side. It's the fastest and the most
safe solution.

And something about GTNETIO ... ? :)

Regards,
Marek Horodyski

From M.Horodyski at pzuzycie.com.pl  Wed Mar  3 09:45:42 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Mar  3 09:45:53 2010
Subject: [Harbour] RDDSQL Question.
In-Reply-To: <4B8E5840.6050208@dbtopas.lt>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6F0F6@PINK.zycie.pzu>

-----Original Message-----
From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
Sent: Wednesday, March 03, 2010 1:38 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] RDDSQL Question.

Hi,


Itamar Lins wrote:
> Can you create examples of creating, 

RDDINFO( RDDI_EXECUTE, "CREATE TABLE test (id int, txt char(20))")

[...]

> For tables mdb via ado and other if possible.

Sorry, I know nothing about .mdb and ado, but above should work for
MySql.
---------------

And too for Oracle. Many, many examples :)
I preparing to co-operate with the OCI. For now, I can not, because he
has a GPF with the current version. I do not have it now time to prepare
an example.

Regards,
Marek Horodyski

From harbour.01 at syenar.hu  Wed Mar  3 09:52:58 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar  3 09:53:11 2010
Subject: [Harbour] RDDSQL Question.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6F0F6@PINK.zycie.pzu>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6F0F6@PINK.zycie.pzu>
Message-ID: <630C51A6-BD81-49FE-A449-BDF28C6670C4@syenar.hu>

Hi Marek,

> Sorry, I know nothing about .mdb and ado, but above should work for
> MySql.
> ---------------
> 
> And too for Oracle. Many, many examples :)
> I preparing to co-operate with the OCI. For now, I can not, because he
> has a GPF with the current version. I do not have it now time to prepare
> an example.

This is a very unnecessary plug on this mailing list.

If you have a problem, pls specific SVN revision number, 
compiler, test app, OCILIB version, otherwise your 
"report" is nothing more than noise which BTW discredits 
other people's work (mine in this case). If you have no 
time to provide minimal information, it's best to not 
post anything at all on thie list, or just post that
"I will send reports when I have time to do it".

Please consider this.

BTW, here it works without GPF.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Mar  3 09:55:15 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 09:55:22 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <1267613723519-4666764.post@n2.nabble.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
	<1267613723519-4666764.post@n2.nabble.com>
Message-ID: <1267628115669-4667956.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> The call to QWidget::setLayout()  installs the layout manager on the
> window. Behind the scenes, the Widgets which are put in Layout are
> "reparented" to be children of the widget on which the layout is
> installed, and for this reason we don't need to specify an explicit parent
> when we construct a widget that will be put in a layout.
> So the widgets are children of top level Widget.
> 

I know.

The point is: how to remove layout from the undelying widget.
I can destroy the children but cannot destroy the layout cleanly.
This is the whole cause of GPF at exit.

To test:

Run hbIDE and close any docking widgets if open.
Exit hbIDE - you may get GPF.
Run again hbIDE - you must see no dockes are open.
Exit - you will not experience GPF.
Run, open one dock, clso that dock, exit, 
   you will experience GPF for some only.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14049-trunk-harbour-tp4666373p4667956.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Wed Mar  3 09:58:58 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 09:59:05 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com>
Message-ID: <1267628338082-4667987.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Compliment!
> Having a unique project file is a big quantum leap!
> I update my version in nexts  hours with a ready to use version of hbide
> and
> updated documentation from
> http://harbourlanguage.blogspot.com/
>  <http://harbourlanguage.blogspot.com/>
> 

Your blog is good but the reader does not get the 
right impression. Screen shots are from different versions
of hbIDE. I suggest you two things:

1. Always update with the same version screen-shots
2. Always use same dimensions of every screen shot

Also some facts are now redundant. Clean them up.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14049-trunk-harbour-tp4666373p4667987.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From itamarlins at gmail.com  Wed Mar  3 10:07:02 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Wed Mar  3 10:07:48 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <4B8E6339.7040703@dbtopas.lt>
References: <hmlkf5$9ji$1@dough.gmane.org>
	<4B8E5840.6050208@dbtopas.lt>	<hmlm4p$fpv$1@dough.gmane.org>
	<4B8E6339.7040703@dbtopas.lt>
Message-ID: <hmltuj$f68$1@dough.gmane.org>

Em 3/3/2010 10:25, Mindaugas Kavaliauskas escreveu:
> Hi,
>
>
>> But if I for example use:
>> My Browse() function and modify a field?
>> Because I change only in temporary cache query.
>> How to proceed for commit?
>
> In my code on edit dialog "OK" button, o do both actions: execute query
> and set field values.
>
> There is also my primary idea to store "dirty" flag for records, and
> later (ex. on browse close) iterate these "dirty" records and execute
> SQL update queries. I have not implemented this yet, since, I'm using
> another way to update DB. This "dirty" flag way has also some drawbacks,
> so, I do not want to do implementation until I do not use it and find it
> really a good solution for final application.
>
>
> Regards,
> Mindaugas
>
Yes, I understand.
Another problem we consider a table with 3Gib for example how to work 
with it via browse? because my system is 100% via browse style excel.

This is syntaxe below is impraticable.

  DBUSEAREA(, "select * from my_table")

How to calculate end of query and run SQL again using browse ?

  DBUSEAREA(, "select * from my_table limit 100")


Best regards,
Itamar M. Lins Jr.

From vouchcac at users.sourceforge.net  Wed Mar  3 10:39:37 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Mar  3 10:39:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14050]
	trunk/harbour/ChangeLog
Message-ID: <E1Nmqfh-0004kP-8r@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14050
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14050&view=rev
Author:   vouchcac
Date:     2010-03-03 15:39:35 +0000 (Wed, 03 Mar 2010)

Log Message:
-----------
2010-03-03 07:31 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  ! In continuation of previous message:

    ; WARNIING: the original format of your existing .hbp 
                project file will be changed if you make use 
                of "Project Properties" docking window and 
                then click on "Save & Exit" or "Save".
                For contents viewing it will be ok.
                
                In the new format, if you save it via wizard,
                all sources will follow flags and comments 
                will be deleted.

    ; NOTE: now onwards, trace dump of command line operations
            and hbIDE output console will be the same which 
            will facilitates to resolve build issues effectively.

    ; APPRECIATION: hbmk2 is an excellent build tool I have seen  
                    so far in my development namespace. We owe
                    heavily to Viktor for this great contribution.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Mar  3 11:07:46 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 11:07:53 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com>
Message-ID: <1267632466941-4668401.post@n2.nabble.com>


Massimo

hbIDE setup download is totally wrong.

1. It contains all the dlls from Qt distribution, to be precice 36

2. Harbour only needs 5 dlls: QtCore4 QtGui4 QtNetwork4 QtUiTools and
mingwm10.dll
   It will reduce the size of setup considerable.

3. You do not ask for where to install ? You install in the default 
   Harbour repository, all the bad. Never install in Harbour's,
   allow the user to create a new folder, default being {drive}\hbIDE.

There are lot many tips more but...

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14049-trunk-harbour-tp4666373p4668401.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From francek.prijatelj at siol.net  Wed Mar  3 11:14:09 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Mar  3 11:14:16 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <1267628115669-4667956.post@n2.nabble.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
	<1267613723519-4666764.post@n2.nabble.com>
	<1267628115669-4667956.post@n2.nabble.com>
Message-ID: <1267632849503-4668442.post@n2.nabble.com>


Hi


Pritpal Bedi wrote:
> 
> 
> I know.
> 
> The point is: how to remove layout from the undelying widget.
> I can destroy the children but cannot destroy the layout cleanly.
> This is the whole cause of GPF at exit.
> 
> 

Try to use normal pointers for Layout instead of GC pointers.

Fran?ek


-----
brgs
Fran?ek Prijatelj
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14049-trunk-harbour-tp4666373p4668442.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Wed Mar  3 11:20:22 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 11:20:31 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <1267632849503-4668442.post@n2.nabble.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
	<1267613723519-4666764.post@n2.nabble.com>
	<1267628115669-4667956.post@n2.nabble.com>
	<1267632849503-4668442.post@n2.nabble.com>
Message-ID: <1267633222597-4668486.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> Try to use normal pointers for Layout instead of GC pointers.
> 

How ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14049-trunk-harbour-tp4666373p4668486.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Wed Mar  3 11:23:20 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar  3 11:23:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <FE3ADA96-236A-43F0-9EBF-273C77DB2155@syenar.hu>

Thank you Pritpal, I'll check it a bit later.

Brgds,
Viktor

On 2010 Mar 3, at 10:02, vouchcac@users.sourceforge.net wrote:

> Revision: 14049
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14049&view=rev
> Author:   vouchcac
> Date:     2010-03-03 09:02:05 +0000 (Wed, 03 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-03 01:00 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/hbqt_garbage.h
>  * contrib/hbqt/THbQtUI.prg
>    ! A massive effort to stream-line GPF at exit.    
>      At least now I know that it is caused by the way 
>      QLayout has relation with parent and children both.
>      To some extent I am been able to cover it, but not 
>      completely, at least till now.
> 
>  * contrib/hbxbp/xbptreeview.prg
>    + Implemented tooltip and changed the way context menu is fired.
> 
>  - contrib/hbide/projects/hbide.hbi
>    ! Totally abandoned .hbi project protocol.
> 
>  * contrib/hbide/resources/environments.ui
>  * contrib/hbide/resources/environments.uic
>  * contrib/hbide/resources/projectpropertiesex.ui
>  * contrib/hbide/resources/projectpropertiesex.uic
>  * contrib/hbide/resources/themesex.ui
>  * contrib/hbide/resources/themesex.uic
>    ! Simplified layouts to cover GPFs at exit.
> 
>  * contrib/hbide/hbide.hbp
>    + Added ideenviron.prg.
> 
>  * contrib/hbide/hbide.prg
>  * contrib/hbide/idedocks.prg
>  * contrib/hbide/ideeditor.prg
>  + contrib/hbide/ideenviron.prg
>  * contrib/hbide/idefindreplace.prg
>  * contrib/hbide/ideharbourhelp.prg
>  * contrib/hbide/idemisc.prg
>  * contrib/hbide/ideobject.prg
>  * contrib/hbide/ideprojmanager.prg
>  * contrib/hbide/idesources.prg
>  * contrib/hbide/idethemes.prg
> 
>    + Restructured project management.
> 
>    + Implemented: .hbp as project definition protocol.
>      Exploited -3rd= token to keep hbIDE specific data.
>      Now you can open any existing .hbp and build it 
>      out of the box. You must have set the build env
>      beforehand OR take use of hbIDE's .env protocol.
> 
>    + Implemented: relative paths. The relative paths are
>      are computed downwards and from .hbp location.
>      Upper level paths still remain absolute. If your 
>      projects structure is well thought of, then this 
>      feature means this project tree is transferable 
>      across different OS's and drives.
> 
>      The relative paths posed many difficulties. The 
>      facts had to be resolved while search operations,
>      while opening the files from Project Tree, and more.
>      Now all are in perfect syncronization.
> 
>    + Managed: .hbp filters on source level and are 
>      handelled transparently. In Project Tree source
>      is shown without filters. Search operations are 
>      also transparent. So, an entry like:
>        {msvc|bcc}vouch/scandocument.prg 
>      is respected by hbIDE.
> 
>    ! The other changes:
>      - Project Properties dialogs contents.
>        It is now very simple to understand and manage.
> 
>      - Concept of meta-data is eliminated.
> 
>      - The output executable is automatically recognized
>        from linker output. So "Destination folder" is 
>        kept for only "Launch" option which, in fact, does
>        not know where executable is located. "Build & Launch"
>        and "Rebuild & Launch" options do not look for
>        "Destination folder" at all.
> 
>      - Project location is always pulled from .hbp file.
>        It is not retained anywhere to make the project 
>        portable.
> 
>      - Many more facts I cannot recollect at present.
> 
>     ; TODO: {hbmk2} slot in hbide.env protocol to pass
>       command-line parameters.
> 
>     ; NOTE: delete hbide.ini, idesettings.ini, all .hbi's
>             and start with clean state.
> 
>             Regression is highly possible and I am eager 
>             to hear from you. This commit is just for 
>             stramlining project management, though there 
>             few other features implemented less important
>             to mention.
> 
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/hbide.hbp
>    trunk/harbour/contrib/hbide/hbide.prg
>    trunk/harbour/contrib/hbide/idedocks.prg
>    trunk/harbour/contrib/hbide/ideeditor.prg
>    trunk/harbour/contrib/hbide/idefindreplace.prg
>    trunk/harbour/contrib/hbide/ideharbourhelp.prg
>    trunk/harbour/contrib/hbide/idemisc.prg
>    trunk/harbour/contrib/hbide/ideobject.prg
>    trunk/harbour/contrib/hbide/ideprojmanager.prg
>    trunk/harbour/contrib/hbide/idesources.prg
>    trunk/harbour/contrib/hbide/idethemes.prg
>    trunk/harbour/contrib/hbide/resources/environments.ui
>    trunk/harbour/contrib/hbide/resources/environments.uic
>    trunk/harbour/contrib/hbide/resources/projectpropertiesex.ui
>    trunk/harbour/contrib/hbide/resources/projectpropertiesex.uic
>    trunk/harbour/contrib/hbide/resources/themesex.ui
>    trunk/harbour/contrib/hbide/resources/themesex.uic
>    trunk/harbour/contrib/hbqt/THbQtUI.prg
>    trunk/harbour/contrib/hbqt/hbqt_garbage.h
>    trunk/harbour/contrib/hbxbp/xbptreeview.prg
> 
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbide/ideenviron.prg
> 
> Removed Paths:
> -------------
>    trunk/harbour/contrib/hbide/projects/hbide.hbi
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Wed Mar  3 11:31:49 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Mar  3 11:31:57 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <4B8E6600.1030802@dbtopas.lt>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org> <4B8E6339.7040703@dbtopas.lt>
	<133778361003030532g4ed4708n754650764182c704@mail.gmail.com>
	<4B8E6600.1030802@dbtopas.lt>
Message-ID: <133778361003030831t5ea02613kb86e97d41601f3d8@mail.gmail.com>

well , some code sample would be usefull

Bruno

2010/3/3 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>

> Hi,
>
>
>
> Bruno Luciani wrote:
>
>> May be could you post a working sample using this mix way of work
>> using a browse etc etc
>>
>
> Sorry, I do not use browse(). I use our own GUI.
>
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/55807689/attachment.html
From clipper at wssk.wroc.pl  Wed Mar  3 11:33:40 2010
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Wed Mar  3 11:34:37 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <4B8E6600.1030802@dbtopas.lt>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org> <4B8E6339.7040703@dbtopas.lt>
	<133778361003030532g4ed4708n754650764182c704@mail.gmail.com>
	<4B8E6600.1030802@dbtopas.lt>
Message-ID: <11526975973.20100303173340@wssk.wroc.pl>

Hello Mindaugas,

Wednesday, March 03, 2010, 2:37:04 PM, you wrote:

MK> Bruno Luciani wrote:
>> May be could you post a working sample using this mix way of work
>> using a browse etc etc
MK> Sorry, I do not use browse(). I use our own GUI.

OK, but how do you reaslise datacommits to database ??
Using ODBC, native client or something else ??

BTW. sddoci works very well here ! Thanks Viktor !

-- 
Best regards,

 Jacek Kubica


From M.Horodyski at pzuzycie.com.pl  Wed Mar  3 12:11:13 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Mar  3 12:11:28 2010
Subject: [Harbour] RDDSQL Question.
In-Reply-To: <630C51A6-BD81-49FE-A449-BDF28C6670C4@syenar.hu>
References: <hmlkf5$9ji$1@dough.gmane.org>
	<4B8E5840.6050208@dbtopas.lt><FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6F0F6@PINK.zycie.pzu>
	<630C51A6-BD81-49FE-A449-BDF28C6670C4@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6F126@PINK.zycie.pzu>

-----Original Message-----
From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
Sent: Wednesday, March 03, 2010 3:53 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] RDDSQL Question.

Hi Marek,

> Sorry, I know nothing about .mdb and ado, but above should work for
> MySql.
* ---------------

Please consider this.

BTW, here it works without GPF.
*---

Ok. Sorry. GPF does not apply to OCI, but the end of syntax "for each x in y".
I am writing this because I want to join in the test OCI.DLL - but in the meantime I can not.
And your work is really great:)

Regards,
Marek Horodyski


From mbelgrano at deltain.it  Wed Mar  3 12:21:38 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  3 12:22:07 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <1267632466941-4668401.post@n2.nabble.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com> 
	<609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com> 
	<1267632466941-4668401.post@n2.nabble.com>
Message-ID: <609353e71003030921o29ba53ees3abfb48a6b3d6843@mail.gmail.com>

i am tring but where is QtUiTools.dll ?

2010/3/3 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Massimo
>
> hbIDE setup download is totally wrong.
>
> 1. It contains all the dlls from Qt distribution, to be precice 36
>
> 2. Harbour only needs 5 dlls: QtCore4 QtGui4 QtNetwork4 QtUiTools and
> mingwm10.dll
>   It will reduce the size of setup considerable.
>
> 3. You do not ask for where to install ? You install in the default
>   Harbour repository, all the bad. Never install in Harbour's,
>   allow the user to create a new folder, default being {drive}\hbIDE.
>
> There are lot many tips more but...
>
>

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/6f607e97/attachment.html
From lorenzo.fiorini at gmail.com  Wed Mar  3 12:51:28 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar  3 12:51:35 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <hmltuj$f68$1@dough.gmane.org>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org> <4B8E6339.7040703@dbtopas.lt>
	<hmltuj$f68$1@dough.gmane.org>
Message-ID: <9257026e1003030951w4b34db16w3d92263d98e0217b@mail.gmail.com>

On Wed, Mar 3, 2010 at 4:07 PM, Itamar Lins <itamarlins@gmail.com> wrote:

> Another problem we consider a table with 3Gib for example how to work with
> it via browse? because my system is 100% via browse style excel.
>
> This is syntaxe below is impraticable.
>
> ?DBUSEAREA(, "select * from my_table")
>
> How to calculate end of query and run SQL again using browse ?

In my experience the move from dbf to sql require a major rewrite of
the app logic.
I've done some experiments but without sth like .Net/JDBC DataSet
connecting SQL to the UI is not so easy.

I think we should start a serious discussion about SQL support and try
to join the forces to create sth that match the features of .Net and
Java.

best regards,
Lorenzo
From bedipritpal at hotmail.com  Wed Mar  3 12:52:23 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 12:52:31 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <609353e71003030921o29ba53ees3abfb48a6b3d6843@mail.gmail.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com>
	<1267632466941-4668401.post@n2.nabble.com>
	<609353e71003030921o29ba53ees3abfb48a6b3d6843@mail.gmail.com>
Message-ID: <1267638743682-4669180.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> i am tring but where is QtUiTools.dll ?
> 

Sorry, it is QtDesigner4.dll.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14049-trunk-harbour-tp4666373p4669180.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Wed Mar  3 13:00:36 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 13:00:48 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <9257026e1003030951w4b34db16w3d92263d98e0217b@mail.gmail.com>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org> <4B8E6339.7040703@dbtopas.lt>
	<hmltuj$f68$1@dough.gmane.org>
	<9257026e1003030951w4b34db16w3d92263d98e0217b@mail.gmail.com>
Message-ID: <EDE7A95D-FD14-4663-B1CE-D541426755FC@syenar.hu>

>> Another problem we consider a table with 3Gib for example how to work with
>> it via browse? because my system is 100% via browse style excel.
>> 
>> This is syntaxe below is impraticable.
>> 
>>  DBUSEAREA(, "select * from my_table")
>> 
>> How to calculate end of query and run SQL again using browse ?
> 
> In my experience the move from dbf to sql require a major rewrite of
> the app logic.
> I've done some experiments but without sth like .Net/JDBC DataSet
> connecting SQL to the UI is not so easy.
> 
> I think we should start a serious discussion about SQL support and try
> to join the forces to create sth that match the features of .Net and
> Java.

For sure it'd be powerful addition, so pls feel free 
to open the topic, I'm sure many are interested.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Mar  3 13:02:13 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar  3 13:02:26 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <1267638743682-4669180.post@n2.nabble.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com>
	<1267632466941-4668401.post@n2.nabble.com>
	<609353e71003030921o29ba53ees3abfb48a6b3d6843@mail.gmail.com>
	<1267638743682-4669180.post@n2.nabble.com>
Message-ID: <C3177643-6F4C-4FF5-9DE4-E74D952DE36D@syenar.hu>

On 2010 Mar 3, at 18:52, Pritpal Bedi wrote:

> Massimo Belgrano wrote:
>> 
>> i am tring but where is QtUiTools.dll ?
>> 
> 
> Sorry, it is QtDesigner4.dll.

None of the above is required, since QtUiTools 
is a static library.

Brgds,
Viktor

From carozodequilmes at gmail.com  Wed Mar  3 13:25:06 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Mar  3 13:25:14 2010
Subject: [Harbour] Re: Class QLibraryInfo in HbQt
In-Reply-To: <578c73341002261539x35303691sd062e8ba36be85c7@mail.gmail.com>
References: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>
	<1267216321192-4641650.post@n2.nabble.com>
	<18d502871002261238v4806be4q167c240ebc6eb15e@mail.gmail.com>
	<1267217481082-4641755.post@n2.nabble.com>
	<578c73341002261539x35303691sd062e8ba36be85c7@mail.gmail.com>
Message-ID: <578c73341003031025m36631387v227727e633f18a74@mail.gmail.com>

Hi, four dias ago, I sent this mail but I think that I don't explain clearly

With the Pritpal function Qt_Version_Str(), I can get the Qt library version
that I use for compile my program, but I need get the version of Qt Dinamic
Libary that I use for running my program.

I need it for check compatibility (at runtime) between Qt used for make the
program and Qt Dlls used for run the program.

Can somebody help me ?

Thanks in advance
CdQ


On Fri, Feb 26, 2010 at 8:39 PM, CarozoDeQuilmes
<carozodequilmes@gmail.com>wrote:

> Hi Pritpal, maybe I am wrong and you can help me.  I only need get the
> version, release and build of Qt library (ex: 4.6.2)
> I don't need add any plugins (in Static Link Mode, Qt don't support jpg
> images without pluging.... but isn't very necesary)
>
> Thanks
>
> CdQ
>
>
> On Fri, Feb 26, 2010 at 5:51 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:
>
>>
>>
>> Viktor Szak?ts wrote:
>> >
>> > We've decided to not support the plugin architecture of QT lib
>> > for various reasons detailed back then.
>> >
>>
>> :buildKey() only generates a key which are essential for a plugin
>> to be linked in a version of Qt.
>>
>> As far as my understanding extends, this class has nothing to do with
>> plugin
>> architecture of Qt by "itself". It simply retreives the licensing info and
>> provides access
>> to some paths. For that matter, Harbour wrappers can never support plugins
>> in any manner.
>>
>> It is a difficult class to generate dynamically so I failed on many
>> occassion to develop it. And still I do not know how to?
>>
>> Also I do not see the real benefits of this class, taken especially
>> the LGPL licensing issues.
>>
>> Probably CarozoDeQuilmes want to issue some commands based on
>> Qt library version. That can be the only valid reason for this request.
>>
>> -----
>>                 enjoy hbIDEing...
>>                    Pritpal Bedi
>> _a_student_of_software_analysis_&_design_
>> --
>> View this message in context:
>> http://n2.nabble.com/Class-QLibraryInfo-in-HbQt-tp4641413p4641755.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/9e83148b/attachment.html
From mbelgrano at deltain.it  Wed Mar  3 13:34:59 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  3 13:35:29 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <1267638743682-4669180.post@n2.nabble.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com> 
	<609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com> 
	<1267632466941-4668401.post@n2.nabble.com>
	<609353e71003030921o29ba53ees3abfb48a6b3d6843@mail.gmail.com> 
	<1267638743682-4669180.post@n2.nabble.com>
Message-ID: <609353e71003031034i646ec35fq824ca05f1ad096d4@mail.gmail.com>

done

Updated thanks

Any suggestion is welcome

2010/3/3 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Massimo Belgrano wrote:
> >
> > i am tring but where is QtUiTools.dll ?
> >
>
> Sorry, it is QtDesigner4.dll.
>
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/763df69f/attachment-0001.html
From lorenzo.fiorini at gmail.com  Wed Mar  3 14:24:50 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar  3 14:25:00 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <EDE7A95D-FD14-4663-B1CE-D541426755FC@syenar.hu>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org> <4B8E6339.7040703@dbtopas.lt>
	<hmltuj$f68$1@dough.gmane.org>
	<9257026e1003030951w4b34db16w3d92263d98e0217b@mail.gmail.com>
	<EDE7A95D-FD14-4663-B1CE-D541426755FC@syenar.hu>
Message-ID: <9257026e1003031124v731f27b8t2cb685953b2c2185@mail.gmail.com>

On Wed, Mar 3, 2010 at 7:00 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> For sure it'd be powerful addition, so pls feel free
> to open the topic, I'm sure many are interested.

I already did some month ago ( search for "New SQL classes #1" ) but
everything "stopped" around class vs RDD.
Even the programming style can be very different, f.e. my apps are
tbrowse centric others don't use tbrowse at all.

IMHO what we call xBase doesn't exist. I don't see many similarities
between Harbour, Visual FoxPro and Visual Object beyond few reserved
names so it seems quite difficult to extend Harbour beyond the Clipper
known "spaces".

best regards,
Lorenzo
From bedipritpal at hotmail.com  Wed Mar  3 14:29:07 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 14:29:14 2010
Subject: [Harbour] Re: Class QLibraryInfo in HbQt
In-Reply-To: <578c73341003031025m36631387v227727e633f18a74@mail.gmail.com>
References: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>
	<1267216321192-4641650.post@n2.nabble.com>
	<18d502871002261238v4806be4q167c240ebc6eb15e@mail.gmail.com>
	<1267217481082-4641755.post@n2.nabble.com>
	<578c73341002261539x35303691sd062e8ba36be85c7@mail.gmail.com>
	<578c73341003031025m36631387v227727e633f18a74@mail.gmail.com>
Message-ID: <1267644547000-4669904.post@n2.nabble.com>



CarozoDeQuilmes wrote:
> 
> Hi, four dias ago, I sent this mail but I think that I don't explain
> clearly
> 
> With the Pritpal function Qt_Version_Str(), I can get the Qt library
> version
> that I use for compile my program, but I need get the version of Qt
> Dinamic
> Libary that I use for running my program.
> 
> I need it for check compatibility (at runtime) between Qt used for make
> the
> program and Qt Dlls used for run the program.
> 

Understand that QLibraryInfo() class is not that easy to implement
as Harbour wrapper. I will give it a 2nd try soon.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Class-QLibraryInfo-in-HbQt-tp4641413p4669904.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Wed Mar  3 14:50:33 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 14:50:41 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <609353e71003031034i646ec35fq824ca05f1ad096d4@mail.gmail.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com>
	<1267632466941-4668401.post@n2.nabble.com>
	<609353e71003030921o29ba53ees3abfb48a6b3d6843@mail.gmail.com>
	<1267638743682-4669180.post@n2.nabble.com>
	<609353e71003031034i646ec35fq824ca05f1ad096d4@mail.gmail.com>
Message-ID: <1267645833671-4670025.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> done
> 
> Updated thanks
> 
> Any suggestion is welcome
> 

1 Do not include QtDesigner4.dll - not required for hbIDE.
2 Do not include any .ini, it poses more problems than resolving.
   Those INI's are containing Harbours paths and thus fail in 
   other folders.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14049-trunk-harbour-tp4666373p4670025.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Wed Mar  3 15:54:34 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 15:54:44 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <9257026e1003031124v731f27b8t2cb685953b2c2185@mail.gmail.com>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org> <4B8E6339.7040703@dbtopas.lt>
	<hmltuj$f68$1@dough.gmane.org>
	<9257026e1003030951w4b34db16w3d92263d98e0217b@mail.gmail.com>
	<EDE7A95D-FD14-4663-B1CE-D541426755FC@syenar.hu>
	<9257026e1003031124v731f27b8t2cb685953b2c2185@mail.gmail.com>
Message-ID: <1536EC1F-36A7-4859-B71B-14085623C113@syenar.hu>

> I already did some month ago ( search for "New SQL classes #1" ) but
> everything "stopped" around class vs RDD.

It was in 2008 October ;) So maybe the topic could 
need some actualization.

Most importantly we have (thanks to Mindaugas) RDDSQL 
since (committed in 2008 December), which gives us a 
very nice and natural base for accessing SQL (or in 
fact any 3rd party) data sources.

In fact by now we have a base driver for all SQL 
vendors you mention except DB2, well, and ADO. [ But 
seeing the "huge" interest in touching RDDADO, 
maybe this isn't such a miss. Perhaps we could have 
and sddusr and ado implemented as .prg SDD. ]

We also have the naming right.

> Even the programming style can be very different, f.e. my apps are
> tbrowse centric others don't use tbrowse at all.
> 
> IMHO what we call xBase doesn't exist. I don't see many similarities
> between Harbour, Visual FoxPro and Visual Object beyond few reserved
> names so it seems quite difficult to extend Harbour beyond the Clipper
> known "spaces".

Sorry but I cannot remember the exact discussion 
details, we also had a enormous amount of development, 
plus quite possibly lots of new followers since then, 
so it'd still be great if you could "reopen" the topic 
with that (and RDDSQL) in mind.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Mar  3 16:15:56 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 16:16:06 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your 
	network apps?
In-Reply-To: <20100303102349.GA17394@linux-4bod.home.aster.pl>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
	<20100303102349.GA17394@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1003031315h3a11b6d6o9c9c1a4e36086e21@mail.gmail.com>

Przemek,

I'm at work now and talked to my brother about this HBNETIO thing.  He's a
bit uncertain (as am I) if this is going to magically make it so we can
still use SMBv2.  Could you please point me in the right direction as to how
to go about trying it?

Thank you

2010/3/3 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Tue, 02 Mar 2010, smu johnson wrote:
> > Well we have a ton of people who still use Windows, and because of that
> we
> > need a Windows solution.
>
> HBNETIO is platform independent solution. It can be used by stations using
> only one platform (i.e. only MS-Windows programs) but it also allow to
> safely share DBF tables (with memo and indexes) between program compiled
> on different platforms i.e. Linux, FreeBSD, SunOS, MacOSX, DOS, W95, WinXP,
> W2K, Win7, OS2 stations using native programs accessing the same files.
> It system eliminates file sharing with its all potential synchronization
> problems by switching to own TCP/IP protocol dedicate to share Harbour
> tables.
>
> > I am happy to report that after about 30 mins of Googling, I came across
> > this page, which solved the problem, if you disable SMB2.
> >
> http://blogs.msdn.com/robmar/archive/2009/09/23/get-microsoft-fix-it-for-smb2-issue.aspx
>
> Above fix is for remote hackers attack so it's not related to your problem.
> Anyhow as I can see there is a switch to disable SMBv2 protocol and this
> may indirectly help to resolve the problem because it's possible that it
> can be exploited only when SMBv2 is enabled and some buggy network clients
> are used.
> Anyhow if you do not want to worry about possible problems which can be
> caused by some incompatible network transport layer or unsafe concurrent
> file access caused by some speed "optimization (i.e. not synchronized read
> ahead caches) then you should switch to HBNETIO. If you want much stronger
> data protection and move all index processing to server side then you
> should
> use dedicated RDBMS like LETO or ADS. If you want to full even logical
> protection then you should move your whole application to server side and
> leave only user interface on the client side. It's the fastest and the most
> safe solution.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/cac6f9ef/attachment.html
From harbour.01 at syenar.hu  Wed Mar  3 16:27:26 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar  3 16:27:37 2010
Subject: [Harbour] hbide testing (go #1)
Message-ID: <936F3E96-549B-44BE-A5B6-FADD67BD179C@syenar.hu>

Hi Pritpal,

My experiences with latest HBIDE, with deleted .ini file:

1) 'Help | About' menu item is still using the old app icon.
2) Many control backgrounds are still "gradient" style, 
   f.e. panel headers, main toolbar, main menu. Not a bug per 
   se, but can't find any contemporary IDEs with similar effects. 
   They are usually minimalistic.
3) Selecting 'Project | Properties' after startup: three 
   consecutive message boxes informing me about the same 
   error, but with slightly different wording.
   "no active project detected" (maybe it'd be better to gray out the item in this case)
   "No Projects Available" (should not use all capitals here)
   "Invalid Project:" (should say something after ':')
4) 'Tools' menu has two items, both using '*' mark, 
   'Configure Tools' not doing anything, 'Command Prompt' 
   asking for a Macro name with the title 'Compilation'.
   In current form this whole menu would better be deleted.
5) Found no way to disable or move rightmost and leftmost 
   toolbars. They seem fixed. IMO it should be user placeable, 
   and should be possible to hide both.
6) "..." are missing from several menu items under 'File' menu, 
   f.e. it should be "Open..." instead of "Open".

[at this point I opened 'projects/hbide.hbp']

6) Ctrl+F4 or left-click on tab header doesn't work to close 
   source code tabs. I could only do it from main menu.
   A simple close icon on tab would also be a solution, but 
   key-combination is a must.
7) When source code tab is open, it "steals" focus from 
   "Projects Tree". Open any source file by double clicking, 
   then click on any source file in the "Projects Tree" panel, 
   it will be selected, than immediately grayed. This also 
   means it's not possible to navigate with cursor keys 
   when any source file is open.

Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Wed Mar  3 16:28:18 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Mar  3 16:28:28 2010
Subject: [Harbour] Warnings
Message-ID: <9EF48C94B23142F79DABAE69F2A7F9F9@emag>

Warning W8012 ../../../hbeditc.c 961: Comparing signed and unsigned values 
in function HB_FUN_ED_STABILIZE
Warning W8012 ../../../hbeditc.c 1627: Comparing signed and unsigned values 
in function End
Warning W8012 ../../../hbeditc.c 1640: Comparing signed and unsigned values 
in function End
Warning W8012 ../../../hbeditc.c 1753: Comparing signed and unsigned values 
in function DelChar
Warning W8012 ../../../hbeditc.c 1851: Comparing signed and unsigned values 
in function BackSpace
Warning W8012 ../../../hbeditc.c 2011: Comparing signed and unsigned values 
in function NextWord
Warning W8012 ../../../hbeditc.c 2072: Comparing signed and unsigned values 
in function PreviousWord
Warning W8012 ../../../hbeditc.c 2160: Comparing signed and unsigned values 
in function format_line
Warning W8012 ../../../hbeditc.c 2327: Comparing signed and unsigned values 
in function PutChar
Warning W8012 ../../../hbeditc.c 2565: Comparing signed and unsigned values 
in function Return

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Mar  3 16:30:43 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar  3 16:30:54 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your
	network apps?
In-Reply-To: <674e4ddd1003031315h3a11b6d6o9c9c1a4e36086e21@mail.gmail.com>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
	<20100303102349.GA17394@linux-4bod.home.aster.pl>
	<674e4ddd1003031315h3a11b6d6o9c9c1a4e36086e21@mail.gmail.com>
Message-ID: <C7CB77DE-8181-4A61-96B7-067CDCFB4C77@syenar.hu>

Hi,

> I'm at work now and talked to my brother about this HBNETIO thing.  He's a bit uncertain (as am I) if this is going to magically make it so we can still use SMBv2.

It will certainly make it, as with HBNETIO you won't 
use _any_ SMB protocol at all for RDD access. That's 
the whole trick, it's an SMB "replacement" on top of 
TCP/IP.

You can find examples for it under contrib/hbnetio/tests 
and utils.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Mar  3 16:32:26 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 16:32:33 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your 
	network apps?
In-Reply-To: <C7CB77DE-8181-4A61-96B7-067CDCFB4C77@syenar.hu>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
	<20100303102349.GA17394@linux-4bod.home.aster.pl>
	<674e4ddd1003031315h3a11b6d6o9c9c1a4e36086e21@mail.gmail.com>
	<C7CB77DE-8181-4A61-96B7-067CDCFB4C77@syenar.hu>
Message-ID: <674e4ddd1003031332g3c71c029sa6907d9ee9b707f0@mail.gmail.com>

Thanks Vikt0r.

On Wed, Mar 3, 2010 at 1:30 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Hi,
>
> > I'm at work now and talked to my brother about this HBNETIO thing.  He's
> a bit uncertain (as am I) if this is going to magically make it so we can
> still use SMBv2.
>
> It will certainly make it, as with HBNETIO you won't
> use _any_ SMB protocol at all for RDD access. That's
> the whole trick, it's an SMB "replacement" on top of
> TCP/IP.
>
> You can find examples for it under contrib/hbnetio/tests
> and utils.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/fe562851/attachment.html
From harbour.01 at syenar.hu  Wed Mar  3 16:32:53 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 16:32:58 2010
Subject: [Harbour] Warnings
In-Reply-To: <9EF48C94B23142F79DABAE69F2A7F9F9@emag>
References: <9EF48C94B23142F79DABAE69F2A7F9F9@emag>
Message-ID: <A468A608-E368-4137-B253-4D5901829A55@syenar.hu>

> Warning W8012 ../../../hbeditc.c 961: Comparing signed and unsigned values in function HB_FUN_ED_STABILIZE
> Warning W8012 ../../../hbeditc.c 1627: Comparing signed and unsigned values in function End
> Warning W8012 ../../../hbeditc.c 1640: Comparing signed and unsigned values in function End
> Warning W8012 ../../../hbeditc.c 1753: Comparing signed and unsigned values in function DelChar
> Warning W8012 ../../../hbeditc.c 1851: Comparing signed and unsigned values in function BackSpace
> Warning W8012 ../../../hbeditc.c 2011: Comparing signed and unsigned values in function NextWord
> Warning W8012 ../../../hbeditc.c 2072: Comparing signed and unsigned values in function PreviousWord
> Warning W8012 ../../../hbeditc.c 2160: Comparing signed and unsigned values in function format_line
> Warning W8012 ../../../hbeditc.c 2327: Comparing signed and unsigned values in function PutChar
> Warning W8012 ../../../hbeditc.c 2565: Comparing signed and unsigned values in function Return

Thanks, but it's a pending/known TODO listed in ChangeLog 
("editor code type cleanup").

I expect other developers' help here.

Ryszard, maybe if you're around...?

Brgds,
Viktor

From smujohnson at gmail.com  Wed Mar  3 16:40:36 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 16:40:44 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your 
	network apps?
In-Reply-To: <C7CB77DE-8181-4A61-96B7-067CDCFB4C77@syenar.hu>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
	<20100303102349.GA17394@linux-4bod.home.aster.pl>
	<674e4ddd1003031315h3a11b6d6o9c9c1a4e36086e21@mail.gmail.com>
	<C7CB77DE-8181-4A61-96B7-067CDCFB4C77@syenar.hu>
Message-ID: <674e4ddd1003031340n542f552cs5776359e1b9d89e1@mail.gmail.com>

Wow.  I am peeking around the contrib directories and I re-read your message
about the SMB replacement.  You and Przemek are geniuses.  I've never seen
this level of "oh yeah, we have a solution for that" in any other open
source software project I've ever seen.  A million thanks to you guys.

On Wed, Mar 3, 2010 at 1:30 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Hi,
>
> > I'm at work now and talked to my brother about this HBNETIO thing.  He's
> a bit uncertain (as am I) if this is going to magically make it so we can
> still use SMBv2.
>
> It will certainly make it, as with HBNETIO you won't
> use _any_ SMB protocol at all for RDD access. That's
> the whole trick, it's an SMB "replacement" on top of
> TCP/IP.
>
> You can find examples for it under contrib/hbnetio/tests
> and utils.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/d9228b3d/attachment.html
From dbtopas at dbtopas.lt  Wed Mar  3 16:45:49 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  3 16:46:02 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <133778361003030831t5ea02613kb86e97d41601f3d8@mail.gmail.com>
References: <hmlkf5$9ji$1@dough.gmane.org>
	<4B8E5840.6050208@dbtopas.lt>	<hmlm4p$fpv$1@dough.gmane.org>
	<4B8E6339.7040703@dbtopas.lt>	<133778361003030532g4ed4708n754650764182c704@mail.gmail.com>	<4B8E6600.1030802@dbtopas.lt>
	<133778361003030831t5ea02613kb86e97d41601f3d8@mail.gmail.com>
Message-ID: <4B8ED88D.2080508@dbtopas.lt>

Bruno Luciani wrote:
> well , some code sample would be usefull

This "sample" is 73 files with implementation of all GUI app development 
environment. It will not work together, if you delete one file. I can 
send some 20 lines sample, but it gives nothing to you. But I won't 
share the whole code because: it's not multiplatform, not enough 
portable, contains lithuanian function names, etc, etc. We can manage to 
use it in very comfortable way in a small group of programmers. But it 
is not what I want to see in Harbour project.


Regards,
Mindaugas
From carozodequilmes at gmail.com  Wed Mar  3 16:52:11 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Mar  3 16:52:22 2010
Subject: [Harbour] Re: Class QLibraryInfo in HbQt
In-Reply-To: <1267644547000-4669904.post@n2.nabble.com>
References: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>
	<1267216321192-4641650.post@n2.nabble.com>
	<18d502871002261238v4806be4q167c240ebc6eb15e@mail.gmail.com>
	<1267217481082-4641755.post@n2.nabble.com>
	<578c73341002261539x35303691sd062e8ba36be85c7@mail.gmail.com>
	<578c73341003031025m36631387v227727e633f18a74@mail.gmail.com>
	<1267644547000-4669904.post@n2.nabble.com>
Message-ID: <578c73341003031352v6c4400e3y5f03017d361591f2@mail.gmail.com>

Thanks in advance

CdQ

On Wed, Mar 3, 2010 at 4:29 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> CarozoDeQuilmes wrote:
> >
> > Hi, four dias ago, I sent this mail but I think that I don't explain
> > clearly
> >
> > With the Pritpal function Qt_Version_Str(), I can get the Qt library
> > version
> > that I use for compile my program, but I need get the version of Qt
> > Dinamic
> > Libary that I use for running my program.
> >
> > I need it for check compatibility (at runtime) between Qt used for make
> > the
> > program and Qt Dlls used for run the program.
> >
>
> Understand that QLibraryInfo() class is not that easy to implement
> as Harbour wrapper. I will give it a 2nd try soon.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Class-QLibraryInfo-in-HbQt-tp4641413p4669904.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/0f74917b/attachment.html
From harbour.01 at syenar.hu  Wed Mar  3 16:57:09 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 16:57:19 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your
	network apps?
In-Reply-To: <674e4ddd1003031340n542f552cs5776359e1b9d89e1@mail.gmail.com>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
	<20100303102349.GA17394@linux-4bod.home.aster.pl>
	<674e4ddd1003031315h3a11b6d6o9c9c1a4e36086e21@mail.gmail.com>
	<C7CB77DE-8181-4A61-96B7-067CDCFB4C77@syenar.hu>
	<674e4ddd1003031340n542f552cs5776359e1b9d89e1@mail.gmail.com>
Message-ID: <3DAAC194-0A4F-4441-857B-2F5E064BB2C3@syenar.hu>

> Wow.  I am peeking around the contrib directories and I re-read your message about the SMB replacement.  You and Przemek are geniuses.  I've never seen this level of "oh yeah, we have a solution for that" in any other open source software project I've ever seen.  A million thanks to you guys.

Thanks in the name of Przemek, it's his work :) (I've only tackled the server tool)

Brgds,
Viktor

From dbtopas at dbtopas.lt  Wed Mar  3 16:57:12 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  3 16:57:26 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <hmltuj$f68$1@dough.gmane.org>
References: <hmlkf5$9ji$1@dough.gmane.org>	<4B8E5840.6050208@dbtopas.lt>	<hmlm4p$fpv$1@dough.gmane.org>	<4B8E6339.7040703@dbtopas.lt>
	<hmltuj$f68$1@dough.gmane.org>
Message-ID: <4B8EDB38.5020603@dbtopas.lt>

Itamar Lins wrote:
> Yes, I understand.
> Another problem we consider a table with 3Gib for example how to work 
> with it via browse? because my system is 100% via browse style excel.
> 
> This is syntaxe below is impraticable.
> 
>  DBUSEAREA(, "select * from my_table")
> 
> How to calculate end of query and run SQL again using browse ?
> 
>  DBUSEAREA(, "select * from my_table limit 100")

Let's say table has unique numeric id column (auto_increment or 
similar). We use two techniques to solve the problem:
1) even if database is large (but not huge), you can try to do:
   select id from * mytable order by id;
MySql returns 50000 ids very quickly. Later on page down/page up action 
you just do subqueries:
   select * from mytable where id in (...) order by id;
... is a list of first, second, third, ... <rowcount> numbers of ids 
from the "ids query".

2) if table is huge the second technique is better:
First page:
   select * from mytable order by id limit 20
Next page (after page down):
   select * from mytable where id > nPrevQueryLastId order by id limit 20


Please, do not ask how to use it browse. We are doing it by MoveTo(), 
LineTo(), TextOut(), etc and a lot of code on the top of it.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Wed Mar  3 16:59:37 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  3 16:59:52 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <11526975973.20100303173340@wssk.wroc.pl>
References: <hmlkf5$9ji$1@dough.gmane.org>
	<4B8E5840.6050208@dbtopas.lt>	<hmlm4p$fpv$1@dough.gmane.org>
	<4B8E6339.7040703@dbtopas.lt>	<133778361003030532g4ed4708n754650764182c704@mail.gmail.com>	<4B8E6600.1030802@dbtopas.lt>
	<11526975973.20100303173340@wssk.wroc.pl>
Message-ID: <4B8EDBC9.3040207@dbtopas.lt>

Hi,


Jacek Kubica wrote:
>>> May be could you post a working sample using this mix way of work
>>> using a browse etc etc
> MK> Sorry, I do not use browse(). I use our own GUI.
> 
> OK, but how do you reaslise datacommits to database ??

Using RDDINFO( RDDI_EXECUTE, "UPDATE ...")


> Using ODBC, native client or something else ??

Using rddsql, sddmy.


> BTW. sddoci works very well here ! Thanks Viktor !

+2 :)


Regards,
Mindaugas

From harbour.01 at syenar.hu  Wed Mar  3 17:00:20 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 17:00:32 2010
Subject: [Harbour] Re: Class QLibraryInfo in HbQt
In-Reply-To: <578c73341003031352v6c4400e3y5f03017d361591f2@mail.gmail.com>
References: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>
	<1267216321192-4641650.post@n2.nabble.com>
	<18d502871002261238v4806be4q167c240ebc6eb15e@mail.gmail.com>
	<1267217481082-4641755.post@n2.nabble.com>
	<578c73341002261539x35303691sd062e8ba36be85c7@mail.gmail.com>
	<578c73341003031025m36631387v227727e633f18a74@mail.gmail.com>
	<1267644547000-4669904.post@n2.nabble.com>
	<578c73341003031352v6c4400e3y5f03017d361591f2@mail.gmail.com>
Message-ID: <80B01FF8-6B68-4BF8-B85B-216983245938@syenar.hu>

Guys, isn't there a simple function to retrieve 
QT dynamic lib version number?

Most tools have. If it doesn't maybe we shouldn't 
create a workaround just report it to QT. Another 
possibility is that they left it out on purpose, 
f.e. because compatibility with dynamic libs is 
automatically ensured by the QT framework.

Please keep it simple.

Brgds,
Viktor

On 2010 Mar 3, at 22:52, CarozoDeQuilmes wrote:

> Thanks in advance
> 
> CdQ
> 
> On Wed, Mar 3, 2010 at 4:29 PM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
> 
> 
> CarozoDeQuilmes wrote:
> >
> > Hi, four dias ago, I sent this mail but I think that I don't explain
> > clearly
> >
> > With the Pritpal function Qt_Version_Str(), I can get the Qt library
> > version
> > that I use for compile my program, but I need get the version of Qt
> > Dinamic
> > Libary that I use for running my program.
> >
> > I need it for check compatibility (at runtime) between Qt used for make
> > the
> > program and Qt Dlls used for run the program.
> >
> 
> Understand that QLibraryInfo() class is not that easy to implement
> as Harbour wrapper. I will give it a 2nd try soon.
> 
> 
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/Class-QLibraryInfo-in-HbQt-tp4641413p4669904.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Wed Mar  3 17:07:50 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 17:07:58 2010
Subject: [Harbour] Re: hbide testing (go #1)
In-Reply-To: <936F3E96-549B-44BE-A5B6-FADD67BD179C@syenar.hu>
References: <936F3E96-549B-44BE-A5B6-FADD67BD179C@syenar.hu>
Message-ID: <1267654070371-4670845.post@n2.nabble.com>


Hi

1) 'Help | About' menu item is still using the old app icon.

   Fixed.

2) Many control backgrounds are still "gradient" style, 
   f.e. panel headers, main toolbar, main menu. Not a bug per 
   se, but can't find any contemporary IDEs with similar effects. 
   They are usually minimalistic.

   Normalized. 
   I just wanted to present IDE with power and feel of Qt.

3) Selecting 'Project | Properties' after startup: three 
   consecutive message boxes informing me about the same 
   error, but with slightly different wording.
   "no active project detected" (maybe it'd be better to gray out the item
in this case)
   "No Projects Available" (should not use all capitals here)
   "Invalid Project:" (should say something after ':')

   Looking into. Infact I never looked at this option seriously.

4) 'Tools' menu has two items, both using '*' mark, 
   'Configure Tools' not doing anything, 'Command Prompt' 
   asking for a Macro name with the title 'Compilation'.
   In current form this whole menu would better be deleted.

   Disabled.

5) Found no way to disable or move rightmost and leftmost 
   toolbars. They seem fixed. IMO it should be user placeable, 
   and should be possible to hide both.

   I did not activated the movement. Hiding is possible, see "View" menu.
   And the hiding is even respected with next run.

6) "..." are missing from several menu items under 'File' menu, 
   f.e. it should be "Open..." instead of "Open".

   Can you point-out which options need it.
   Fixed for "Open" and "Save".

[at this point I opened 'projects/hbide.hbp']

6) Ctrl+F4 or left-click on tab header doesn't work to close 
   source code tabs. I could only do it from main menu.
   A simple close icon on tab would also be a solution, but 
   key-combination is a must.

   I will implement this as a corner "X" icon.
   For now you can press "Close" toolbar icon.

7) When source code tab is open, it "steals" focus from 
   "Projects Tree". Open any source file by double clicking, 
   then click on any source file in the "Projects Tree" panel, 
   it will be selected, than immediately grayed. This also 
   means it's not possible to navigate with cursor keys 
   when any source file is open.

   I was keeping the focus in the editor. But you are right,
   it should be with double click only where it make sense, 
   not during navigation. Will do it today.

Thank you for scratching again!


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-testing-go-1-tp4670601p4670845.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Wed Mar  3 17:09:58 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 17:10:10 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
Message-ID: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>

Hi,

I'm trying to write a simple Hello World app that does something like a WAIT
command and maybe calls a function if I click the X button for a GTWIN app.
I have no idea if this is even possible, as I have grepped the entire
harbour src .zip file contents for some hints.  In the few results for
CTRL_CLOSE_EVENT I don't really see anything relevant that can like.. set up
a call hook function or anything.  I'm totally lost.

Any hints greatly appreciated.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/5520fa53/attachment.html
From harbour.01 at syenar.hu  Wed Mar  3 17:18:17 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar  3 17:18:26 2010
Subject: [Harbour] Re: hbide testing (go #1)
In-Reply-To: <1267654070371-4670845.post@n2.nabble.com>
References: <936F3E96-549B-44BE-A5B6-FADD67BD179C@syenar.hu>
	<1267654070371-4670845.post@n2.nabble.com>
Message-ID: <B6633E96-7F18-461F-82E6-AF6E09B1CBB3@syenar.hu>

> 6) "..." are missing from several menu items under 'File' menu, 
>   f.e. it should be "Open..." instead of "Open".
> 
>   Can you point-out which options need it.
>   Fixed for "Open" and "Save".

All which causes to open a dialog box:
 Open, Open Project, Save As, Print, 
 maybe 'Export as HTML' (though I can't verify, 
 since it does nothing here for some reason)

For 'Save' you don't need '...', it's 
good as it was.

> [at this point I opened 'projects/hbide.hbp']
> 
> 6) Ctrl+F4 or left-click on tab header doesn't work to close 
>   source code tabs. I could only do it from main menu.
>   A simple close icon on tab would also be a solution, but 
>   key-combination is a must.
> 
>   I will implement this as a corner "X" icon.
>   For now you can press "Close" toolbar icon.
> 
> 7) When source code tab is open, it "steals" focus from 
>   "Projects Tree". Open any source file by double clicking, 
>   then click on any source file in the "Projects Tree" panel, 
>   it will be selected, than immediately grayed. This also 
>   means it's not possible to navigate with cursor keys 
>   when any source file is open.
> 
>   I was keeping the focus in the editor. But you are right,
>   it should be with double click only where it make sense, 
>   not during navigation. Will do it today.

Thank you Pritpal.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Mar  3 17:21:09 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 17:21:18 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
Message-ID: <7993D121-D4CD-49EE-871E-6DAEDD669ACE@syenar.hu>

> I'm trying to write a simple Hello World app that does something like a WAIT command and maybe calls a function if I click the X button for a GTWIN app.  I have no idea if this is even possible, as I have grepped the entire harbour src .zip file contents for some hints.  In the few results for CTRL_CLOSE_EVENT I don't really see anything relevant that can like.. set up a call hook function or anything.  I'm totally lost.
> 
> Any hints greatly appreciated. 

Use GTWVT and HB_GTI_NOTIFIERBLOCK (see: tests\wvtext.prg)

With GTWIN I still have to see proof that 
it's technically possible to catch close 
events like that, until then I assume it's 
not possible, and for sure it's not implemented 
in Harbour.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Mar  3 17:38:33 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 17:38:41 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <7993D121-D4CD-49EE-871E-6DAEDD669ACE@syenar.hu>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
	<7993D121-D4CD-49EE-871E-6DAEDD669ACE@syenar.hu>
Message-ID: <674e4ddd1003031438s32df320et4e68ffa67e2aa70f@mail.gmail.com>

Wow this test is really cute.  I'll be poking around with this.  Thanks a
ton!

On Wed, Mar 3, 2010 at 2:21 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> > I'm trying to write a simple Hello World app that does something like a
> WAIT command and maybe calls a function if I click the X button for a GTWIN
> app.  I have no idea if this is even possible, as I have grepped the entire
> harbour src .zip file contents for some hints.  In the few results for
> CTRL_CLOSE_EVENT I don't really see anything relevant that can like.. set up
> a call hook function or anything.  I'm totally lost.
> >
> > Any hints greatly appreciated.
>
> Use GTWVT and HB_GTI_NOTIFIERBLOCK (see: tests\wvtext.prg)
>
> With GTWIN I still have to see proof that
> it's technically possible to catch close
> events like that, until then I assume it's
> not possible, and for sure it's not implemented
> in Harbour.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/56a05b3c/attachment.html
From harbour.01 at syenar.hu  Wed Mar  3 18:16:15 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar  3 18:16:25 2010
Subject: [Harbour] hbide testing (go #2)
Message-ID: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>

Hi Pritpal,

Continuing testing.

1) In top of left toolbar there is green block.
   It seems to be 'Editor Panels'. I couldn't yet 
   find its function, but maybe at least the icon 
   should be changed to something else, because now 
   it's IMO difficult to find out what it is. At 
   least for a hbide newbie.
2) xMate import: There is a separate button for it now, 
   but possibly it would be cleaner to simply allow 
   to open it in regular 'open project' window and 
   make the one-time conversion automatically.
   In this case there would essentially be a 'new' 
   project created with some pre-filled (converted) 
   information, which could in turn be saved by user 
   as native .hbp file.
   This is how Visual Studio handles compatibility 
   project file formats.
   Such one time conversion could easily be made 
   using external call hbmk2, and in this case you 
   could add support for xbuild and hbmake projects 
   as well, by only adding a few extra lines of code.
3) 'Edit | Line...' and 'Edit | Block...' should not 
   have '...' since they are submenus.
4) Status line says: "Codec:" and "Env:" without 
   any text after ':'. Either the default value should 
   be put there or the status section omitted. (possibly 
   the former)
5) "Editor Themes" should be "Theme Manager" or 
   just simply "Theme Editor".
6) In "Editor Themes" the 'Action' button does nothing 
   apparent, and for me it stays a mystery how to make 
   an instant theme change. Whatever I do everything 
   stays the same.

Brgds,
Viktor

From ptucker at sympatico.ca  Wed Mar  3 18:20:59 2010
From: ptucker at sympatico.ca (Paul Tucker)
Date: Wed Mar  3 18:21:43 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
	<7993D121-D4CD-49EE-871E-6DAEDD669ACE@syenar.hu>
Message-ID: <BLU0-SMTP2802B1EAFC1B65D4EE1092DF3A0@phx.gbl>

Victor,

> With GTWIN I still have to see proof that
> it's technically possible to catch close
> events like that, until then I assume it's
> not possible, and for sure it's not implemented
> in Harbour.

I have seen some code posted on the Clipper forum that I hope I captured 
concerning fullscreen/Windows from code in a cmd shell.  Given that, it 
should be possible to work out the events for the close button. (I think)

I have it in mind to try that 'one of these days', meaning probably within 
your lifetime. ;-)

Paul 

From harbour.01 at syenar.hu  Wed Mar  3 18:45:05 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 18:45:15 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <BLU0-SMTP2802B1EAFC1B65D4EE1092DF3A0@phx.gbl>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
	<7993D121-D4CD-49EE-871E-6DAEDD669ACE@syenar.hu>
	<BLU0-SMTP2802B1EAFC1B65D4EE1092DF3A0@phx.gbl>
Message-ID: <EE05DC7C-1C38-432F-BCB3-B8B69B89B93E@syenar.hu>

Hi Paul,

>> With GTWIN I still have to see proof that
>> it's technically possible to catch close
>> events like that, until then I assume it's
>> not possible, and for sure it's not implemented
>> in Harbour.
> 
> I have seen some code posted on the Clipper forum that I hope I captured concerning fullscreen/Windows from code in a cmd shell.  Given that, it should be possible to work out the events for the close button. (I think)
> 
> I have it in mind to try that 'one of these days', meaning probably within your lifetime. ;-)

It would be nice if this could be chewed 
into HB_GTI_NOTIFIERBLOCK support for GTWIN, 
at least for close events that is.

Any results of your experiments is useful, 
so just take your time. My lifetime is not very 
relevant here, that of Harbour is :)

[ I made a little test and the event is 
caught though and even the callback works, 
but at this point it becomes unstable, no 
input device works and it crashes then. ]

--- .dif
Index: gtwin.c
===================================================================
--- gtwin.c	(revision 14049)
+++ gtwin.c	(working copy)
@@ -82,6 +82,7 @@
 #include "hbapiitm.h"
 #include "hbapierr.h"
 #include "hbwinuni.h"
+#include "hbvm.h"
 
 #include "hbapicdp.h"
 
@@ -149,6 +150,7 @@
 #define HB_GTSUPER   (&SuperTable)
 #define HB_GTID_PTR  (&s_GtId)
 
+static PHB_GT      s_pGT = NULL;
 static HB_BOOL     s_bOldClosable;
 static HB_BOOL     s_bClosable;
 static HB_BOOL     s_bSpecialKeyHandling;
@@ -549,6 +551,27 @@
 
 /* *********************************************************************** */
 
+static int hb_gt_win_FireEvent( PHB_GT pGT, int nEvent )
+{
+   int nResult = 0; /* Unhandled */
+
+   if( pGT->pNotifierBlock )
+   {
+      if( hb_vmRequestReenter() )
+      {
+         PHB_ITEM pEvent = hb_itemPutNI( NULL, nEvent );
+
+         nResult = hb_itemGetNI( hb_vmEvalBlockV( pGT->pNotifierBlock, 1, pEvent ) );
+
+         hb_itemRelease( pEvent );
+
+         hb_vmRequestRestore();
+      }
+   }
+
+   return nResult;
+}
+
 static BOOL WINAPI hb_gt_win_CtrlHandler( DWORD dwCtrlType )
 {
    BOOL bHandled;
@@ -562,6 +585,15 @@
          break;
 
       case CTRL_CLOSE_EVENT:
+         if( s_pGT )
+         {
+            s_bBreak = ( hb_gt_win_FireEvent( s_pGT, HB_GTE_CLOSE ) == 0 );
+            bHandled = TRUE;
+         }
+         else
+            bHandled = FALSE;
+         break;
+
       case CTRL_BREAK_EVENT:
          s_bBreak = HB_TRUE;
          bHandled = TRUE;
@@ -801,6 +833,7 @@
    /* AllocConsole() initializes standard input, standard output,
       and standard error handles for the new console. [jarabal] */
    /* Add Ctrl+Break handler [vszakats] */
+   s_pGT = pGT;
    SetConsoleCtrlHandler( hb_gt_win_CtrlHandler, TRUE );
 
    HB_GTSUPER_INIT( pGT, hFilenoStdin, hFilenoStdout, hFilenoStderr );
---

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Mar  3 18:54:35 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar  3 18:54:44 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <EE05DC7C-1C38-432F-BCB3-B8B69B89B93E@syenar.hu>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
	<7993D121-D4CD-49EE-871E-6DAEDD669ACE@syenar.hu>
	<BLU0-SMTP2802B1EAFC1B65D4EE1092DF3A0@phx.gbl>
	<EE05DC7C-1C38-432F-BCB3-B8B69B89B93E@syenar.hu>
Message-ID: <CE8B80CB-212D-4B9B-B67A-20FAAEE0020F@syenar.hu>

>> I have it in mind to try that 'one of these days', meaning probably within your lifetime. ;-)
> 
> It would be nice if this could be chewed 
> into HB_GTI_NOTIFIERBLOCK support for GTWIN, 
> at least for close events that is.
> 
> Any results of your experiments is useful, 
> so just take your time. My lifetime is not very 
> relevant here, that of Harbour is :)
> 
> [ I made a little test and the event is 
> caught though and even the callback works, 
> but at this point it becomes unstable, no 
> input device works and it crashes then. ]

The other problem is that there doesn't seem 
to exist a way to _prevent_ the close from 
happening. So in case of HBWIN, the notifier 
block will be called, and it can do non-interactive 
cleanup work, but that's pretty much it.
This may be useful also, but not the same as 
in GTWVT (IOW return value of notifier block 
is always ignored in GTWIN).

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Mar  3 19:16:24 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  3 19:16:57 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <1267645833671-4670025.post@n2.nabble.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com> 
	<609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com> 
	<1267632466941-4668401.post@n2.nabble.com>
	<609353e71003030921o29ba53ees3abfb48a6b3d6843@mail.gmail.com> 
	<1267638743682-4669180.post@n2.nabble.com>
	<609353e71003031034i646ec35fq824ca05f1ad096d4@mail.gmail.com> 
	<1267645833671-4670025.post@n2.nabble.com>
Message-ID: <609353e71003031616t3b8f9938r494f53dbebd88bb5@mail.gmail.com>

Done Thanks!

2010/3/3 Pritpal Bedi <bedipritpal@hotmail.com>

>
> 1 Do not include QtDesigner4.dll - not required for hbIDE.
> 2 Do not include any .ini, it poses more problems than resolving.
>   Those INI's are containing Harbours paths and thus fail in
>   other folders.
>
>
> --
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/e6edb119/attachment.html
From smujohnson at gmail.com  Wed Mar  3 19:38:51 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 19:39:02 2010
Subject: [Harbour] Re: bug/issue: slow pasting on uppercase letters
In-Reply-To: <674e4ddd1003011636g3699b3b1ued36019c0272b423@mail.gmail.com>
References: <674e4ddd1003011636g3699b3b1ued36019c0272b423@mail.gmail.com>
Message-ID: <674e4ddd1003031638j7eff2a6an9d4e315d7cbd0afc@mail.gmail.com>

Here is the code that proves this.  I have shown it to 2 other co-workers
and they can confirm a noticable difference in speed when Harbour draws the
CAPS chars.  Try and see for yourself!

/*
  Copy the string below in Windows and right-click to paste it into the GET
  Take note of how long it takes to write the capital letters to the screen

  abcdefghijkmlopqrstuvABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijkmlopqrstuv
*/

FUNC MAIN()

  LOCAL VAR := SPACE(70)

  @ 22,1 SAY "Type: " GET VAR
  READ

RETURN




On Mon, Mar 1, 2010 at 4:36 PM, smu johnson <smujohnson@gmail.com> wrote:

> Hi,
>
> On regular CLI input boxes where you can type stuff, we have found copying
> and pasting in Windows to be very slow.  When I looked more into it, using
> something like MEMOEDIT() to test pasting a bunch of chars, I found the
> UPPERCASE chars paste very slowly, and lowercase chars paste instantly.
>
> It didn't take much to test this out for myself, but if no one else can see
> what I'm talking about, I will record a small youtube video of it maybe.
>
> My paste test string:
> FESFJSEFKJESFKJSFNEjqelmkdewlkESFJSEFKJESFKJSFNEESFJSEFKJESFKJSFNE
>
> Thanks
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/20e02f6d/attachment.html
From vszakats at users.sourceforge.net  Wed Mar  3 19:45:06 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  3 19:45:13 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14051] trunk/harbour
Message-ID: <E1NmzBa-0002u5-Td@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14051
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14051&view=rev
Author:   vszakats
Date:     2010-03-04 00:45:05 +0000 (Thu, 04 Mar 2010)

Log Message:
-----------
2010-03-04 01:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * harbour.spec
  * mpkg_rpm.sh
    + Added freeimage to mainstream package now that
      it finally builds on *nix systems.

  * contrib/gtwvg/gtwvg.c
  * src/rtl/gtwvt/gtwvt.c
    * Deleted unnecessary cast.

  * contrib/hbmisc/hbeditc.c
    * Cleaned constant usage.

  * contrib/hbide/ideparseexpr.c
    * int -> HB_ISIZ
    % Minor optimization.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/hbide/ideparseexpr.c
    trunk/harbour/contrib/hbmisc/hbeditc.c
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_rpm.sh
    trunk/harbour/src/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Mar  3 19:54:25 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 19:54:32 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14049] trunk/harbour
In-Reply-To: <609353e71003031616t3b8f9938r494f53dbebd88bb5@mail.gmail.com>
References: <E1NmkT1-0003qL-6r@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71003030327o5983edd0r4c26671b71a7a030@mail.gmail.com>
	<1267632466941-4668401.post@n2.nabble.com>
	<609353e71003030921o29ba53ees3abfb48a6b3d6843@mail.gmail.com>
	<1267638743682-4669180.post@n2.nabble.com>
	<609353e71003031034i646ec35fq824ca05f1ad096d4@mail.gmail.com>
	<1267645833671-4670025.post@n2.nabble.com>
	<609353e71003031616t3b8f9938r494f53dbebd88bb5@mail.gmail.com>
Message-ID: <1267664065446-4671617.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Done Thanks!
> 

You probably means "download" part. Right ?

But there are many more:

1. Harbour splash screen is older one.
2. The explained toolbar is very old.
3. The first window shows r14011
4. Editor themes window is r14011
5. Split window is r13933
6. Next window is r14011
7. Find in files is pulled out of main window.

For now only this... 
But there are many more.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14049-trunk-harbour-tp4666373p4671617.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Wed Mar  3 20:50:09 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 20:50:17 2010
Subject: [Harbour] Can GTWVT support copying and pasting?
Message-ID: <674e4ddd1003031750u481eba93i39d6cc2e2c1f7c82@mail.gmail.com>

Hi,

If you've ever played around with Quick Insert mode in Windows with
cmd.exe's properties, you'll notice you can copy and paste CLI text.  I was
wondering if this is possible using GTWVT, to be have the same way, or any
way, etc etc.

Thanks in advance.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/73e5b363/attachment.html
From bedipritpal at hotmail.com  Wed Mar  3 20:52:13 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 20:52:19 2010
Subject: [Harbour] Re: Can GTWVT support copying and pasting?
In-Reply-To: <674e4ddd1003031750u481eba93i39d6cc2e2c1f7c82@mail.gmail.com>
References: <674e4ddd1003031750u481eba93i39d6cc2e2c1f7c82@mail.gmail.com>
Message-ID: <1267667533132-4671862.post@n2.nabble.com>



smu johnson wrote:
> 
> Hi,
> 
> If you've ever played around with Quick Insert mode in Windows with
> cmd.exe's properties, you'll notice you can copy and paste CLI text.  I
> was
> wondering if this is possible using GTWVT, to be have the same way, or any
> way, etc etc.
> 

It is _EXACTLY_ the same way as in a windows console.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Can-GTWVT-support-copying-and-pasting-tp4671854p4671862.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Wed Mar  3 20:53:50 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 20:54:00 2010
Subject: [Harbour] Re: Can GTWVT support copying and pasting?
In-Reply-To: <1267667533132-4671862.post@n2.nabble.com>
References: <674e4ddd1003031750u481eba93i39d6cc2e2c1f7c82@mail.gmail.com>
	<1267667533132-4671862.post@n2.nabble.com>
Message-ID: <674e4ddd1003031753t4ffee764hc407be32877da70@mail.gmail.com>

Ok that's good news.  But how do I enable it?  Cause I can't seem to click
and drag text when compiled with -GTWVT in hbmk2.

I haven't had much luck finding hints in src/rtl/gtwvt/gtwvt.c either.  *sad
face*



On Wed, Mar 3, 2010 at 5:52 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> smu johnson wrote:
> >
> > Hi,
> >
> > If you've ever played around with Quick Insert mode in Windows with
> > cmd.exe's properties, you'll notice you can copy and paste CLI text.  I
> > was
> > wondering if this is possible using GTWVT, to be have the same way, or
> any
> > way, etc etc.
> >
>
> It is _EXACTLY_ the same way as in a windows console.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Can-GTWVT-support-copying-and-pasting-tp4671854p4671862.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/6d8c5b81/attachment-0001.html
From bedipritpal at hotmail.com  Wed Mar  3 21:04:06 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  3 21:04:13 2010
Subject: [Harbour] Re: Can GTWVT support copying and pasting?
In-Reply-To: <674e4ddd1003031753t4ffee764hc407be32877da70@mail.gmail.com>
References: <674e4ddd1003031750u481eba93i39d6cc2e2c1f7c82@mail.gmail.com>
	<1267667533132-4671862.post@n2.nabble.com>
	<674e4ddd1003031753t4ffee764hc407be32877da70@mail.gmail.com>
Message-ID: <1267668246117-4671909.post@n2.nabble.com>



smu johnson wrote:
> 
> Ok that's good news.  But how do I enable it?  Cause I can't seem to click
> and drag text when compiled with -GTWVT in hbmk2.
> 
> I haven't had much luck finding hints in src/rtl/gtwvt/gtwvt.c either. 
> *sad
> face*
> 

1. Click on the Sys icon in the titlebar.
2. Click on "Mark" option.
3. Start dragging the mouse with left-button pressed on the rows you want.
    You should see that area is changing color.
4. Release the left button.
5. Paste somewhere in text editor or otherwise.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Can-GTWVT-support-copying-and-pasting-tp4671854p4671909.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Wed Mar  3 21:07:42 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 21:07:50 2010
Subject: [Harbour] Re: Can GTWVT support copying and pasting?
In-Reply-To: <1267668246117-4671909.post@n2.nabble.com>
References: <674e4ddd1003031750u481eba93i39d6cc2e2c1f7c82@mail.gmail.com>
	<1267667533132-4671862.post@n2.nabble.com>
	<674e4ddd1003031753t4ffee764hc407be32877da70@mail.gmail.com>
	<1267668246117-4671909.post@n2.nabble.com>
Message-ID: <674e4ddd1003031807r36c2de3h1fda9f00004f4599@mail.gmail.com>

Oh that's cute.  I will look into making it enabled by default.

What about pasting?  Usually rightclick pastes in cmd.exe, but I can't seem
to figure it out.



On Wed, Mar 3, 2010 at 6:04 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> smu johnson wrote:
> >
> > Ok that's good news.  But how do I enable it?  Cause I can't seem to
> click
> > and drag text when compiled with -GTWVT in hbmk2.
> >
> > I haven't had much luck finding hints in src/rtl/gtwvt/gtwvt.c either.
> > *sad
> > face*
> >
>
> 1. Click on the Sys icon in the titlebar.
> 2. Click on "Mark" option.
> 3. Start dragging the mouse with left-button pressed on the rows you want.
>    You should see that area is changing color.
> 4. Release the left button.
> 5. Paste somewhere in text editor or otherwise.
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Can-GTWVT-support-copying-and-pasting-tp4671854p4671909.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/f165d299/attachment.html
From harbour.01 at syenar.hu  Wed Mar  3 21:12:10 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  3 21:12:19 2010
Subject: [Harbour] Re: Can GTWVT support copying and pasting?
In-Reply-To: <674e4ddd1003031807r36c2de3h1fda9f00004f4599@mail.gmail.com>
References: <674e4ddd1003031750u481eba93i39d6cc2e2c1f7c82@mail.gmail.com>
	<1267667533132-4671862.post@n2.nabble.com>
	<674e4ddd1003031753t4ffee764hc407be32877da70@mail.gmail.com>
	<1267668246117-4671909.post@n2.nabble.com>
	<674e4ddd1003031807r36c2de3h1fda9f00004f4599@mail.gmail.com>
Message-ID: <93012AFD-F326-4915-A5B5-AF04272A601C@syenar.hu>

Use HB_GTI_CLIPBOARD* functionality. It's the 
portable solution to this problem.

Brgds,
Viktor

On 2010 Mar 4, at 03:07, smu johnson wrote:

> Oh that's cute.  I will look into making it enabled by default.
> 
> What about pasting?  Usually rightclick pastes in cmd.exe, but I can't seem to figure it out.
> 
> 
> 
> On Wed, Mar 3, 2010 at 6:04 PM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
> 
> 
> smu johnson wrote:
> >
> > Ok that's good news.  But how do I enable it?  Cause I can't seem to click
> > and drag text when compiled with -GTWVT in hbmk2.
> >
> > I haven't had much luck finding hints in src/rtl/gtwvt/gtwvt.c either.
> > *sad
> > face*
> >
> 
> 1. Click on the Sys icon in the titlebar.
> 2. Click on "Mark" option.
> 3. Start dragging the mouse with left-button pressed on the rows you want.
>    You should see that area is changing color.
> 4. Release the left button.
> 5. Paste somewhere in text editor or otherwise.
> 
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/Can-GTWVT-support-copying-and-pasting-tp4671854p4671909.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Mar  3 21:23:59 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  3 21:24:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14052] trunk/harbour
Message-ID: <E1Nn0jH-0005kb-3y@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14052
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14052&view=rev
Author:   vszakats
Date:     2010-03-04 02:23:58 +0000 (Thu, 04 Mar 2010)

Log Message:
-----------
2010-03-04 03:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/hbeditc.c
    * Reverted previous strcpy changes as they were causing GPF
      while editing.
    * Cleaned 'unsigned int', 'int' to be 'long'.
      Lots of unnecessary looking casts deleted.
      This fixed signedness warnings.
      Very rough cleanup, I didn't inspect all hundreds
      of changes one by one, so please test it.
    * Some more cleanups.
    ; The code looks more and more kludgy from the inside.
      It has quite some (seemingly) arbitrary extra space
      allocations, lots of pointer arithmetic, so
      it looks not very easy to safely modify it f.e. for
      EOL neutrality.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmisc/hbeditc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Wed Mar  3 22:34:56 2010
From: jarabal at gmail.com (Xavi)
Date: Wed Mar  3 22:36:14 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
Message-ID: <4B8F2A60.8080407@gmail.com>

Hi,

> I'm trying to write a simple Hello World app that does something like a
> WAIT command and maybe calls a function if I click the X button for a
> GTWIN app.

Yes, you're right.
I have another patch to fix this, IMHO a issue, but I don't have right to commit it, there are two differents points of view and 
few opinions. Please note that GTWIN behavior is the same as a Clipper program under NTVDM.

===================================================================

* harbour/src/rtl/gtwin/gtwin.c
  ! Fixing CTRL_BREAK_EVENT, and CTRL_CLOSE_EVENT
    (Clicked 'X' on system menu) to avoid irregular
    shutdown with SETCANCEL( .F. )

    REQUEST HB_GT_WIN_DEFAULT
    ANNOUNCE HB_GTSYS
    PROCEDURE Main()
       SetCancel(.F.)
       ? "Click [X] Not close windows"
       WAIT
    RETURN

Modified Paths:
--------------
     trunk/harbour/src/rtl/gtwin/gtwin.c

--- .patch
Index: gtwin.c
===================================================================
--- gtwin.c	(revision 14052)
+++ gtwin.c	(working copy)
@@ -563,7 +563,9 @@

        case CTRL_CLOSE_EVENT:
        case CTRL_BREAK_EVENT:
-         s_bBreak = HB_TRUE;
+         /* Avoid irregular shutdown if SetCancel( .F. ) [jarabal] */
+         if( hb_setGetCancel() )
+            s_bBreak = HB_TRUE;
           bHandled = TRUE;
           break;

---

-- 
Xavi

El 03/03/2010 23:09, smu johnson escribi?:
> Hi,
>
> I'm trying to write a simple Hello World app that does something like a
> WAIT command and maybe calls a function if I click the X button for a
> GTWIN app.  I have no idea if this is even possible, as I have grepped
> the entire harbour src .zip file contents for some hints.  In the few
> results for CTRL_CLOSE_EVENT I don't really see anything relevant that
> can like.. set up a call hook function or anything.  I'm totally lost.
>
> Any hints greatly appreciated.
>
> --
> smu johnson <smujohnson@gmail.com <mailto:smujohnson@gmail.com>>
>
From smujohnson at gmail.com  Wed Mar  3 23:02:19 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar  3 23:02:30 2010
Subject: [Harbour] Re: Microsoft's SMB2 in Vista and above crippling your 
	network apps?
In-Reply-To: <3DAAC194-0A4F-4441-857B-2F5E064BB2C3@syenar.hu>
References: <674e4ddd1003021405o46a0baccx305cde823d17b525@mail.gmail.com>
	<hmkh8t$5ag$1@dough.gmane.org>
	<674e4ddd1003021921k61c1536ah7cf0689f3937cea4@mail.gmail.com>
	<20100303102349.GA17394@linux-4bod.home.aster.pl>
	<674e4ddd1003031315h3a11b6d6o9c9c1a4e36086e21@mail.gmail.com>
	<C7CB77DE-8181-4A61-96B7-067CDCFB4C77@syenar.hu>
	<674e4ddd1003031340n542f552cs5776359e1b9d89e1@mail.gmail.com>
	<3DAAC194-0A4F-4441-857B-2F5E064BB2C3@syenar.hu>
Message-ID: <674e4ddd1003032002i4f18c0f1yc54fbe9daac78245@mail.gmail.com>

Ok, I've looked at a lot of the readme's etc for HBNETIO.  One last
question...

Is the idea of using this something like sticking a line near the database
request type?  For example, I have:

REQUEST SIXCDX
rddSetDefault( "SIXCDX" )
rddInfo( RDDI_MEMOTYPE, DB_MEMO_DBT, "SIXCDX" )

... is this where I set some logic, like a NETIO_CONNECT() call, so that the
entire .PRGs know that if I ever do some SIX3 commands, it's to be done on
the NETIO listener?


On Wed, Mar 3, 2010 at 1:57 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> > Wow.  I am peeking around the contrib directories and I re-read your
> message about the SMB replacement.  You and Przemek are geniuses.  I've
> never seen this level of "oh yeah, we have a solution for that" in any other
> open source software project I've ever seen.  A million thanks to you guys.
>
> Thanks in the name of Przemek, it's his work :) (I've only tackled the
> server tool)
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100303/26c6a867/attachment.html
From bedipritpal at hotmail.com  Thu Mar  4 02:14:02 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  4 02:14:10 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
Message-ID: <1267686842772-4672789.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> 1) In top of left toolbar there is green block.
>    It seems to be 'Editor Panels'. I couldn't yet 
>    find its function, but maybe at least the icon 
>    should be changed to something else, because now 
>    it's IMO difficult to find out what it is. At 
>    least for a hbide newbie.
> 

Yep, "Editor's Panel" indicator. Create one more panel from
drop-down list on toolbar with "New..." option, another
panel will be presented where one can put another 
group of sources, one more "green", but with a different 
hue, panel button will appear ( right now it will show up 
in next run, a small bug ). The number of suble-green 
buttons will go on increasing with each new panel.
Clicking on these buttons will surface up the panel.
It is very handy and I could not find another better 
way. Suggestions are welcome.



> 2) xMate import: There is a separate button for it now, 
>    but possibly it would be cleaner to simply allow 
>    to open it in regular 'open project' window and 
>    make the one-time conversion automatically.
>    In this case there would essentially be a 'new' 
>    project created with some pre-filled (converted) 
>    information, which could in turn be saved by user 
>    as native .hbp file.
>    This is how Visual Studio handles compatibility 
>    project file formats.
>    Such one time conversion could easily be made 
>    using external call hbmk2, and in this case you 
>    could add support for xbuild and hbmake projects 
>    as well, by only adding a few extra lines of code.
> 

You are absolutely right, is on my todo list already.



> 3) 'Edit | Line...' and 'Edit | Block...' should not 
>    have '...' since they are submenus.
> 

Fixed.



> 4) Status line says: "Codec:" and "Env:" without 
>    any text after ':'. Either the default value should 
>    be put there or the status section omitted. (possibly 
>    the former)
> 

The default value will ever be displayed once 
user will provide them. This is displayed without 
values as to remind the user that he has to set-up 
something which is missing.



> 5) "Editor Themes" should be "Theme Manager" or 
>    just simply "Theme Editor".
> 

Done - "Theme Manager".



> 6) In "Editor Themes" the 'Action' button does nothing 
>    apparent, and for me it stays a mystery how to make 
>    an instant theme change. Whatever I do everything 
>    stays the same.
> 

I had disabled when testing the GPF. Enabled again.

Thank for the 2nd round.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-testing-go-2-tp4671197p4672789.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Mar  4 02:31:55 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  4 02:32:07 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4B8F2A60.8080407@gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
	<4B8F2A60.8080407@gmail.com>
Message-ID: <42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>

Hi Xavi,

> Yes, you're right.
> I have another patch to fix this, IMHO a issue, but I don't have right to commit it, there are two differents points of view and few opinions. Please note that GTWIN behavior is the same as a Clipper program under NTVDM.
> 
> --- .patch
> Index: gtwin.c
> ===================================================================
> --- gtwin.c	(revision 14052)
> +++ gtwin.c	(working copy)
> @@ -563,7 +563,9 @@
> 
>       case CTRL_CLOSE_EVENT:
>       case CTRL_BREAK_EVENT:
> -         s_bBreak = HB_TRUE;
> +         /* Avoid irregular shutdown if SetCancel( .F. ) [jarabal] */
> +         if( hb_setGetCancel() )
> +            s_bBreak = HB_TRUE;
>          bHandled = TRUE;
>          break;

Did you test this code?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Mar  4 02:38:17 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 02:38:29 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <1267686842772-4672789.post@n2.nabble.com>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<1267686842772-4672789.post@n2.nabble.com>
Message-ID: <785682D4-BEEA-48D1-BB04-B28F002A152E@syenar.hu>

Hi Pritpal,

> Yep, "Editor's Panel" indicator. Create one more panel from
> drop-down list on toolbar with "New..." option, another
> panel will be presented where one can put another 
> group of sources, one more "green", but with a different 
> hue, panel button will appear ( right now it will show up 
> in next run, a small bug ). The number of suble-green 
> buttons will go on increasing with each new panel.
> Clicking on these buttons will surface up the panel.
> It is very handy and I could not find another better 
> way. Suggestions are welcome.

Oh ok. I'd "insist" on creating something which 
looks more "intentional" design. To me the green 
patch looked like a bug or a wrongly painted icon.
And/or some visual feedback would come handy 
when clicking on it. It just doesn't feel natural 
now.

>> 4) Status line says: "Codec:" and "Env:" without 
>>   any text after ':'. Either the default value should 
>>   be put there or the status section omitted. (possibly 
>>   the former)
>> 
> 
> The default value will ever be displayed once 
> user will provide them. This is displayed without 
> values as to remind the user that he has to set-up 
> something which is missing.

There must surely be a default active codec after 
startup (f.e. 437?), which should be displayed. For 
the other you could write "Env: <default>" or 
"Env: <global>" (or similar).

Thanks for the rest!

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Mar  4 03:02:19 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  4 03:02:26 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <785682D4-BEEA-48D1-BB04-B28F002A152E@syenar.hu>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<1267686842772-4672789.post@n2.nabble.com>
	<785682D4-BEEA-48D1-BB04-B28F002A152E@syenar.hu>
Message-ID: <1267689739579-4672924.post@n2.nabble.com>


Hello


Viktor Szak?ts wrote:
> 
> Oh ok. I'd "insist" on creating something which 
> looks more "intentional" design. To me the green 
> patch looked like a bug or a wrongly painted icon.
> And/or some visual feedback would come handy 
> when clicking on it. It just doesn't feel natural 
> now.
> 

I will think over what other icon(s) can be placed 
instead of colors. Anybody with suggession ?



> There must surely be a default active codec after 
> startup (f.e. 437?), which should be displayed. For 
> the other you could write "Env: <default>" or 
> "Env: <global>" (or similar).
> 

I need a codec from <Setup><Codec> list. I could not 
find 437, may be you are indicating towards "IBM 874", right ?
"Env: <default>" is appropriate.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-testing-go-2-tp4671197p4672924.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Mar  4 03:23:57 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 03:24:10 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <1267689739579-4672924.post@n2.nabble.com>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<1267686842772-4672789.post@n2.nabble.com>
	<785682D4-BEEA-48D1-BB04-B28F002A152E@syenar.hu>
	<1267689739579-4672924.post@n2.nabble.com>
Message-ID: <7311C486-5BF8-4E61-B635-7D991645AEB4@syenar.hu>

Hi Pritpal,

>> Oh ok. I'd "insist" on creating something which 
>> looks more "intentional" design. To me the green 
>> patch looked like a bug or a wrongly painted icon.
>> And/or some visual feedback would come handy 
>> when clicking on it. It just doesn't feel natural 
>> now.
>> 
> 
> I will think over what other icon(s) can be placed 
> instead of colors. Anybody with suggession ?

Sorry, but now I tried your suggestion to create 
a new panel with new color, but to no avail, so 
it's difficult to suggest anything.

For sure current green icon has one strange property:
When I first click on it, it has a "button-like" behavior, 
it depresses. After clicking on it next, this never 
happens again, and the icon feels "dead", doesn't depress, 
feels un-clickable, yet it looks the same.

>> There must surely be a default active codec after 
>> startup (f.e. 437?), which should be displayed. For 
>> the other you could write "Env: <default>" or 
>> "Env: <global>" (or similar).
>> 
> 
> I need a codec from <Setup><Codec> list. I could not 
> find 437, may be you are indicating towards "IBM 874", right ?

437 is default ASCII. Anyhow if we can't 
tell what is the default encoding used by QT, 
probably "(default)" should be written here.
Even better would be to find out what is the QT 
default.

At the same time, I'd suggest changing term 
"Codec" to "Encoding". Also the "Setup" main 
menu may seem superfluous now, so everything 
can be moved one level up, making Encoding 
the main menu.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Thu Mar  4 04:42:00 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar  4 04:42:12 2010
Subject: [Harbour] ADS error codes
Message-ID: <4B8F8068.2000907@dbtopas.lt>

Hi,


we have mixed meaning of subCode (3rd parameter of commonError()) in 
rddads. Sometimes it is DBF compatible value, ex.:
   commonError( pArea, EG_UNLOCKED, EDBF_UNLOCKED, 0, NULL, 0, NULL );
   commonError( pArea, EG_DATATYPE, 1020, 0, NULL, 0, NULL );

In other cases it is error value returned by ADS:
       commonError( pArea, EG_CORRUPTION, ( HB_ERRCODE ) u32RetVal, 0, 
NULL, EF_CANDEFAULT, NULL );

I have a proposal to move ads error value to osCode and leave subCode 
zero, if we do not return a dbf compatible error. This change also 
allows to get more precise error description by using 
AdsGetErrorString(), since we will know ads error in all cases.

Any objections?


Regards,
Mindaugas

From harbour.01 at syenar.hu  Thu Mar  4 04:44:18 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  4 04:44:30 2010
Subject: [Harbour] ADS error codes
In-Reply-To: <4B8F8068.2000907@dbtopas.lt>
References: <4B8F8068.2000907@dbtopas.lt>
Message-ID: <0E4A9D13-54E2-44C5-9DED-6E28BCB7F3B6@syenar.hu>

Hi,

> we have mixed meaning of subCode (3rd parameter of commonError()) in rddads. Sometimes it is DBF compatible value, ex.:
>  commonError( pArea, EG_UNLOCKED, EDBF_UNLOCKED, 0, NULL, 0, NULL );
>  commonError( pArea, EG_DATATYPE, 1020, 0, NULL, 0, NULL );
> 
> In other cases it is error value returned by ADS:
>      commonError( pArea, EG_CORRUPTION, ( HB_ERRCODE ) u32RetVal, 0, NULL, EF_CANDEFAULT, NULL );
> 
> I have a proposal to move ads error value to osCode and leave subCode zero, if we do not return a dbf compatible error. This change also allows to get more precise error description by using AdsGetErrorString(), since we will know ads error in all cases.
> 
> Any objections?

None from here.

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Mar  4 04:59:59 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar  4 05:00:07 2010
Subject: [Harbour] ADS error codes
In-Reply-To: <4B8F8068.2000907@dbtopas.lt>
References: <4B8F8068.2000907@dbtopas.lt>
Message-ID: <20100304095959.GA29970@linux-4bod.home.aster.pl>

On Thu, 04 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> we have mixed meaning of subCode (3rd parameter of commonError()) in
> rddads. Sometimes it is DBF compatible value, ex.:
>   commonError( pArea, EG_UNLOCKED, EDBF_UNLOCKED, 0, NULL, 0, NULL );
>   commonError( pArea, EG_DATATYPE, 1020, 0, NULL, 0, NULL );
> In other cases it is error value returned by ADS:
>       commonError( pArea, EG_CORRUPTION, ( HB_ERRCODE ) u32RetVal,
> 0, NULL, EF_CANDEFAULT, NULL );
> I have a proposal to move ads error value to osCode and leave
> subCode zero, if we do not return a dbf compatible error. This
> change also allows to get more precise error description by using
> AdsGetErrorString(), since we will know ads error in all cases.
> Any objections?

For me it's very good idea.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Mar  4 05:06:33 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  4 05:06:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14053] trunk/harbour
Message-ID: <E1Nn7wv-0004us-JQ@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14053
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14053&view=rev
Author:   druzus
Date:     2010-03-04 10:06:32 +0000 (Thu, 04 Mar 2010)

Log Message:
-----------
2010-03-04 11:06 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcompdf.h
  * harbour/src/vm/macro.c
    % changed HB_PCODE_INFO structure to eliminate one memory allocation
      in macro compiler

  * harbour/include/hbapi.h
  * harbour/include/hbvm.h
  * harbour/src/vm/codebloc.c
  * harbour/src/vm/itemapi.c
  * harbour/src/vm/hvm.c
    * changed second parameter in hb_codeblockGet*() function to 'int'
    * merged codeblock execution context setting into one function
      hb_vmDoBlock() and removed hb_codeblockEvaluate()
    + added new internal function hb_vmEval()

  * harbour/src/vm/arrays.c
    % use hb_vmEval()

  * harbour/src/macro/macrolex.c
    * added missing const to maro text declaration

  * harbour/tests/speedtst.prg
    ! fixed to work with CLIP and xHarbour after we changed
      SECONDSCPU() to HB_SECONDSCPU() - all these compilers and FlagShip
      have SECONDSCPU() function

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbvm.h
    trunk/harbour/src/macro/macrolex.c
    trunk/harbour/src/vm/arrays.c
    trunk/harbour/src/vm/codebloc.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/src/vm/macro.c
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Thu Mar  4 05:31:36 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar  4 05:31:47 2010
Subject: [Harbour] ADS error codes
In-Reply-To: <20100304095959.GA29970@linux-4bod.home.aster.pl>
References: <4B8F8068.2000907@dbtopas.lt>
	<20100304095959.GA29970@linux-4bod.home.aster.pl>
Message-ID: <4B8F8C08.9000006@dbtopas.lt>

Hi,

Przemys?aw Czerpak wrote:
>> I have a proposal to move ads error value to osCode and leave
>> subCode zero, if we do not return a dbf compatible error. This
>> change also allows to get more precise error description by using
>> AdsGetErrorString(), since we will know ads error in all cases.
>> Any objections?
> 
> For me it's very good idea.

But one problem we have... There is code:

/* 1001 and 7008 are standard ADS Open Errors that will usually be 
sharing issues */
HB_ERRCODE errOsCode = u32RetVal == 1001 || u32RetVal == 7008 ? 32 : 0;
fRetry = commonError( pArea, EG_OPEN, ( HB_ERRCODE ) u32RetVal, 
errOsCode, ( const char * ) pOpenInfo->abName, EF_CANRETRY | 
EF_CANDEFAULT, &pError ) == E_RETRY;

This interacts with default error handler behavior in errorsys.

Sharing violation is not indicated by some error subCode and general 
EDBF_OPEN_DBF is returned in dbf rdd. So, osCode is the only way to 
detect sharing violation and it is hardcoded to DOS error codes.

Perhaps we must leave this hack, or... extend default error handler to 
adapt to rddads. It is also not a nice solution, because ADS is not even 
in core code.

Any proposal on this issue?


Regards,
Mindaugas
From harbour.01 at syenar.hu  Thu Mar  4 05:46:22 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 05:46:33 2010
Subject: [Harbour] ADS error codes
In-Reply-To: <4B8F8C08.9000006@dbtopas.lt>
References: <4B8F8068.2000907@dbtopas.lt>
	<20100304095959.GA29970@linux-4bod.home.aster.pl>
	<4B8F8C08.9000006@dbtopas.lt>
Message-ID: <E9B0E358-4942-4EDF-9EB2-8DAE11E7964B@syenar.hu>

> Przemys?aw Czerpak wrote:
>>> I have a proposal to move ads error value to osCode and leave
>>> subCode zero, if we do not return a dbf compatible error. This
>>> change also allows to get more precise error description by using
>>> AdsGetErrorString(), since we will know ads error in all cases.
>>> Any objections?
>> For me it's very good idea.
> 
> But one problem we have... There is code:
> 
> /* 1001 and 7008 are standard ADS Open Errors that will usually be sharing issues */
> HB_ERRCODE errOsCode = u32RetVal == 1001 || u32RetVal == 7008 ? 32 : 0;
> fRetry = commonError( pArea, EG_OPEN, ( HB_ERRCODE ) u32RetVal, errOsCode, ( const char * ) pOpenInfo->abName, EF_CANRETRY | EF_CANDEFAULT, &pError ) == E_RETRY;
> 
> This interacts with default error handler behavior in errorsys.
> 
> Sharing violation is not indicated by some error subCode and general EDBF_OPEN_DBF is returned in dbf rdd. So, osCode is the only way to detect sharing violation and it is hardcoded to DOS error codes.
> 
> Perhaps we must leave this hack, or... extend default error handler to adapt to rddads. It is also not a nice solution, because ADS is not even in core code.
> 
> Any proposal on this issue?

After having a closer look: Maybe the solution 
is to reserve osCode _always_ for some DOS error 
code equivalent, and consistently return ADS error 
codes in subCode.

IOW to me the real solution looks rather like 
to use subCode only to return ADS specific error 
codes. "subCode" is a private matter of any given 
RDD (or library), so we don't need to be compatible 
with anything here.

Here the only problem is that subCode is not a 
32-bit value at the moment, but this one can be 
changed. In fact I was thinking about it in the 
past already.

Brgds,
Viktor

From kadziola at tlen.pl  Thu Mar  4 05:52:45 2010
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Thu Mar  4 05:52:53 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
Message-ID: <1721565543.20100304115245@tlen.pl>

Hi Viktor,

> Function sms_send() return (-3) and not send message with
> libhbtpathy.a after 20.02.2010 (it's date of my last
> harbour build). With earlier version of libhbtpathy.a
> (date of my build : 02.02.2010) sms_send() return (-10)
> and work OK = send message.

VS> Sorry, but I cannot spot any changes which could cause 
VS> anything like that:

VS> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/tpwin.c?view=log
VS> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbsms/hbsms.prg?view=log

I've found some time and it's result of my little investigation :

 - build with hbtpathy from current nightly : sms_send() return (-3)
 - build with hbtpathy from nightly from 27.01.2010 : sms_send()
   return (-10) and all is ok
The problem is in file telepath.prg - when i'm replacing this file
with file from 27.01.2010 all is ok and sms' are sending.

-- 
Regards,
 Jaroslaw Kadziola

From druzus at acn.waw.pl  Thu Mar  4 05:56:12 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar  4 05:56:20 2010
Subject: [Harbour] ADS error codes
In-Reply-To: <4B8F8C08.9000006@dbtopas.lt>
References: <4B8F8068.2000907@dbtopas.lt>
	<20100304095959.GA29970@linux-4bod.home.aster.pl>
	<4B8F8C08.9000006@dbtopas.lt>
Message-ID: <20100304105612.GA14134@linux-4bod.home.aster.pl>

On Thu, 04 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> But one problem we have... There is code:
> /* 1001 and 7008 are standard ADS Open Errors that will usually be
> sharing issues */
> HB_ERRCODE errOsCode = u32RetVal == 1001 || u32RetVal == 7008 ? 32 : 0;
> fRetry = commonError( pArea, EG_OPEN, ( HB_ERRCODE ) u32RetVal,
> errOsCode, ( const char * ) pOpenInfo->abName, EF_CANRETRY |
> EF_CANDEFAULT, &pError ) == E_RETRY;
> 
> This interacts with default error handler behavior in errorsys.

Yes. And if we change it then NETERR() will stop to work.

> Sharing violation is not indicated by some error subCode and general
> EDBF_OPEN_DBF is returned in dbf rdd. So, osCode is the only way to
> detect sharing violation and it is hardcoded to DOS error codes.

Yes it is. It's exactly replicated Clipper behavior.

> Perhaps we must leave this hack, or... extend default error handler
> to adapt to rddads. It is also not a nice solution, because ADS is
> not even in core code.
> Any proposal on this issue?

Here is the problem with custom user code using own error handlers.
I'm afraid it's hard to change it because it may introduce very serious
bugs to valid Clipper code.
I also do not like it but I'm afraid we have to leave it.

BTW ADS was not RTE compatible with Clipper and native RDDs and flags
like RETRY or DEFAULT were not set properly so some user error handlers
cannot work properly. I cleaned few of them but I think some RTE still
should be fixed.

best regards,
Przemek
From marcobra.ubuntu at gmail.com  Thu Mar  4 06:15:35 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Mar  4 06:15:43 2010
Subject: [Harbour] hbide (Rev. 14053): source code and function list...
Message-ID: <fd76479f1003040315i300c9f48xb1e8da608755c630@mail.gmail.com>

Hi Pritpal, i was playing with hbide editor and the function list on a .prg
source file

When i double click on a function listed on the functions list, the editor
wrap to the function code, it wrap to the function starting code but it put
it  at bottom of the editor page.
I suggest to have the selected function code starting from the top of the
source page.

Thank to Harbour developers and to you for your works.

Best regards

Marco
-- 
Linux Infinite Freedom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/3d6937d3/attachment.html
From harbour.01 at syenar.hu  Thu Mar  4 06:18:40 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 06:18:50 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <1721565543.20100304115245@tlen.pl>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
Message-ID: <0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>

Thank you very much Jaroslaw.

This leads to these two changes (in three commits):
   http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=12142&r2=13735
   http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=13735&r2=13736
   http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=13736&r2=13737

(which would have been a suspect anyway)

I've reimplemented these two patches now, 
but still untested, could you please do 
a test with it?

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: telepath.zip
Type: application/zip
Size: 5939 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/321be551/telepath.zip
-------------- next part --------------


On 2010 Mar 4, at 11:52, Jaroslaw Kadziola wrote:

> Hi Viktor,
> 
>> Function sms_send() return (-3) and not send message with
>> libhbtpathy.a after 20.02.2010 (it's date of my last
>> harbour build). With earlier version of libhbtpathy.a
>> (date of my build : 02.02.2010) sms_send() return (-10)
>> and work OK = send message.
> 
> VS> Sorry, but I cannot spot any changes which could cause 
> VS> anything like that:
> 
> VS> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/tpwin.c?view=log
> VS> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbsms/hbsms.prg?view=log
> 
> I've found some time and it's result of my little investigation :
> 
> - build with hbtpathy from current nightly : sms_send() return (-3)
> - build with hbtpathy from nightly from 27.01.2010 : sms_send()
>   return (-10) and all is ok
> The problem is in file telepath.prg - when i'm replacing this file
> with file from 27.01.2010 all is ok and sms' are sending.
> 
> -- 
> Regards,
> Jaroslaw Kadziola
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From kadziola at tlen.pl  Thu Mar  4 06:37:04 2010
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Thu Mar  4 06:37:11 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
Message-ID: <114652976.20100304123704@tlen.pl>

Hi Viktor,


VS> This leads to these two changes (in three commits):
VS>    http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=12142&r2=13735
VS>    http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=13735&r2=13736
VS>    http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=13736&r2=13737

VS> (which would have been a suspect anyway)

VS> I've reimplemented these two patches now, 
VS> but still untested, could you please do 
VS> a test with it?

Tested - unfortunately sms_send() still return (-3)

-- 
Regards,
 Jaroslaw Kadziola

From harbour.01 at syenar.hu  Thu Mar  4 06:44:31 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 06:44:40 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <114652976.20100304123704@tlen.pl>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<114652976.20100304123704@tlen.pl>
Message-ID: <1493DD6A-124C-40CC-9EDE-3CD24D8E9163@syenar.hu>

> VS> This leads to these two changes (in three commits):
> VS>    http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=12142&r2=13735
> VS>    http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=13735&r2=13736
> VS>    http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=13736&r2=13737
> 
> VS> (which would have been a suspect anyway)
> 
> VS> I've reimplemented these two patches now, 
> VS> but still untested, could you please do 
> VS> a test with it?
> 
> Tested - unfortunately sms_send() still return (-3)

Thank you. I can't dig into it deeply now, so I 
hope someone can jump in to point to the exact 
error. If not, I will restore last working version 
in a few days, and let someone else fix the midnight 
bug using hb_milliSeconds() calls (plus the still 
unfixed request from Abeb to honor zero timeout).

[ BTW, in this telepath.prg version I did nothing 
else now than swapping Seconds() calls for hb_milliSeconds(), 
and multiplied nTimeout parameters by 1000. ]

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Mar  4 06:51:04 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar  4 06:51:12 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
Message-ID: <20100304115104.GA14653@linux-4bod.home.aster.pl>

On Thu, 04 Mar 2010, Szak?ts Viktor wrote:

Hi,

> Thank you very much Jaroslaw.
> This leads to these two changes (in three commits):
>    http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=12142&r2=13735
>    http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=13735&r2=13736
>    http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/hbtpathy/telepath.prg?r1=13736&r2=13737
> (which would have been a suspect anyway)
> I've reimplemented these two patches now, 
> but still untested, could you please do 
> a test with it?

The modifications was partially reverted so it's much easier to make:
   svn diff -r 13589 telepath.prg > telepath.diff

Functionally you changed one thing:
tp_send() uses now:
   DO WHILE nTotWritten < Len( cString ) .AND. ;
      ( nTimeout < 0 .OR. ( hb_milliSeconds() - nStartTime ) < nTimeout )
                                                            ^^^
and the previous code was using:
   DO WHILE nTotWritten < Len( cString ) .AND. ;
      ( nTimeout < 0 .OR. Seconds() <= nDone )
                                   ^^^^
minor difference but it's bug exploited by upper level code which does not
set any timeout like hbsms.prg.
BTW hbsms.prg should be fixed because current code which does not use any
timeout and does not check number of sent bytes to resend the rest is
simply wrong and may randomly fail.

Original code which used nDone variable was more efficient then current
one using nStartTime because time difference was calculated once at startup.
The optimal code should make sth like:
   nStopTime := IIF( nTimeout > 0, hb_milliSeconds() + nTimeOut * 1000 : 0 )
   [...]
   WHILE .T.
      [...]
      IF nTimeOut <= 0 .OR. hb_milliSeconds() >= nStopTime
         EXIT
      ENDDO
   ENDDO

It eliminates unnecessary calculations and hb_milliSeconds() calls.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar  4 06:57:22 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 06:57:32 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <20100304115104.GA14653@linux-4bod.home.aster.pl>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<20100304115104.GA14653@linux-4bod.home.aster.pl>
Message-ID: <151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>

Hi Przemek,

> The modifications was partially reverted so it's much easier to make:
>   svn diff -r 13589 telepath.prg > telepath.diff
> 
> Functionally you changed one thing:
> tp_send() uses now:
>   DO WHILE nTotWritten < Len( cString ) .AND. ;
>      ( nTimeout < 0 .OR. ( hb_milliSeconds() - nStartTime ) < nTimeout )
>                                                            ^^^
> and the previous code was using:
>   DO WHILE nTotWritten < Len( cString ) .AND. ;
>      ( nTimeout < 0 .OR. Seconds() <= nDone )
>                                   ^^^^
> minor difference but it's bug exploited by upper level code which does not
> set any timeout like hbsms.prg.
> BTW hbsms.prg should be fixed because current code which does not use any
> timeout and does not check number of sent bytes to resend the rest is
> simply wrong and may randomly fail.

Could possibly be. I don't use hbsms at all, don't even 
have a serial cable around to test it, so I hope it will 
be "community" fixed eventually. I meant it as an 
initiative in the first place.

> Original code which used nDone variable was more efficient then current
> one using nStartTime because time difference was calculated once at startup.
> The optimal code should make sth like:
>   nStopTime := IIF( nTimeout > 0, hb_milliSeconds() + nTimeOut * 1000 : 0 )
>   [...]
>   WHILE .T.
>      [...]
>      IF nTimeOut <= 0 .OR. hb_milliSeconds() >= nStopTime
>         EXIT
>      ENDDO
>   ENDDO
> 
> It eliminates unnecessary calculations and hb_milliSeconds() calls.

The last .prg I've just sent to the list has all these 
undone, yet it doesn't work for some reason.

I'd appreciate if you could make what you think is needed.

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Mar  4 07:05:38 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar  4 07:05:46 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<20100304115104.GA14653@linux-4bod.home.aster.pl>
	<151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>
Message-ID: <20100304120538.GA14997@linux-4bod.home.aster.pl>

On Thu, 04 Mar 2010, Szak?ts Viktor wrote:

Hi,

> Could possibly be. I don't use hbsms at all, don't even 
> have a serial cable around to test it, so I hope it will 
> be "community" fixed eventually. I meant it as an 
> initiative in the first place.

Not could but for sure is.

> The last .prg I've just sent to the list has all these 
> undone, yet it doesn't work for some reason.

Please read my message again.
The bug inside tp_send() is still in the code you sent.
The condition in DO WHILE in line 322 is always FALSE
when timeout is 0.

> I'd appreciate if you could make what you think is needed.

I already gave you precise answers about the existing bug
intorduce by recent seconds()=>hb_milliSeconds() modifications
and the potential problems inside hbsms which may cause random
bug reports to this list.
It's enough you carefully read what I wrote :-)

best regards,
Przemek
From vszakats at users.sourceforge.net  Thu Mar  4 07:09:06 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  4 07:09:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14054] trunk/harbour
Message-ID: <E1Nn9rW-0005xn-Eq@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14054
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14054&view=rev
Author:   vszakats
Date:     2010-03-04 12:09:05 +0000 (Thu, 04 Mar 2010)

Log Message:
-----------
2010-03-04 13:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * examples/gtwvw/wvwcheck.c
  * examples/gtwvw/wvwedit.c
  * examples/gtwvw/hbgtwvw.h
    ! Added not terribly elegant (local) fix to missing 'hb_hInstance'
      link time errors. Not tested besides successful lib build.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/gtwvw/hbgtwvw.h
    trunk/harbour/examples/gtwvw/wvwcheck.c
    trunk/harbour/examples/gtwvw/wvwedit.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar  4 07:11:39 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 07:11:49 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <20100304120538.GA14997@linux-4bod.home.aster.pl>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<20100304115104.GA14653@linux-4bod.home.aster.pl>
	<151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>
	<20100304120538.GA14997@linux-4bod.home.aster.pl>
Message-ID: <ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu>

>> Could possibly be. I don't use hbsms at all, don't even 
>> have a serial cable around to test it, so I hope it will 
>> be "community" fixed eventually. I meant it as an 
>> initiative in the first place.
> 
> Not could but for sure is.
> 
>> The last .prg I've just sent to the list has all these 
>> undone, yet it doesn't work for some reason.
> 
> Please read my message again.
> The bug inside tp_send() is still in the code you sent.
> The condition in DO WHILE in line 322 is always FALSE
> when timeout is 0.
> 
>> I'd appreciate if you could make what you think is needed.
> 
> I already gave you precise answers about the existing bug
> intorduce by recent seconds()=>hb_milliSeconds() modifications
> and the potential problems inside hbsms which may cause random
> bug reports to this list.
> It's enough you carefully read what I wrote :-)

Sorry but I'm not interested in fixing these components, 
as I don't use them and can't test them. I read your 
message and appreciate you input, but I want to avoid 
spending days until everything works out fine at the end.

IOW I want this monkey off my back. If it helps I just 
delete hbsms from SVN.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Mar  4 07:13:00 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  4 07:13:06 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14055] trunk/harbour
Message-ID: <E1Nn9vI-00063N-H0@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14055
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14055&view=rev
Author:   vszakats
Date:     2010-03-04 12:12:59 +0000 (Thu, 04 Mar 2010)

Log Message:
-----------
2010-03-04 13:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/telepath.prg
    ! Restored original before-millisec/midnight fix state.
    ; Someone else pls continue/restart this task.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Thu Mar  4 07:47:17 2010
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Thu Mar  4 07:47:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14055] trunk/harbour
In-Reply-To: <E1Nn9vI-00063N-H0@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Nn9vI-00063N-H0@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <142058679.20100304134717@tlen.pl>

Hi Viktor,


vusn> Log Message:
vusn> -----------
vusn> 2010-03-04 13:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
vusn>   * contrib/hbtpathy/telepath.prg
vusn>     ! Restored original before-millisec/midnight fix state.
vusn>     ; Someone else pls continue/restart this task.

vusn> Modified Paths:
vusn> --------------
vusn>     trunk/harbour/ChangeLog
vusn>     trunk/harbour/contrib/hbtpathy/telepath.prg

Do not shoot me, but now sms_send() return (-99) and
not send sms. It's work properly with attached version
of telepath.prg

-- 
Regards,
 Jaroslaw Kadziola
-------------- next part --------------
A non-text attachment was scrubbed...
Name: telepath.zip
Type: application/x-zip-compressed
Size: 5876 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/10db024c/telepath.bin
From druzus at acn.waw.pl  Thu Mar  4 07:52:44 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar  4 07:52:51 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<20100304115104.GA14653@linux-4bod.home.aster.pl>
	<151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>
	<20100304120538.GA14997@linux-4bod.home.aster.pl>
	<ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu>
Message-ID: <20100304125244.GA16240@linux-4bod.home.aster.pl>

On Thu, 04 Mar 2010, Szak?ts Viktor wrote:

Viktor,

> > I already gave you precise answers about the existing bug
> > intorduce by recent seconds()=>hb_milliSeconds() modifications
> > and the potential problems inside hbsms which may cause random
> > bug reports to this list.
> > It's enough you carefully read what I wrote :-)
> Sorry but I'm not interested in fixing these components, 
> as I don't use them and can't test them. I read your 
> message and appreciate you input, but I want to avoid 
> spending days until everything works out fine at the end.

You broke hbtpathy code and then you are sending the message that
you are not interested in fixing the bugs you introduced.
You were asking for help so I looked at the code and exactly showed
where you made a typo using < instead of <= and above is your
answer for the time I invest to check what you did and locate
the exact problem. I will remember about it in the future.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar  4 07:56:08 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 07:56:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14055] trunk/harbour
In-Reply-To: <142058679.20100304134717@tlen.pl>
References: <E1Nn9vI-00063N-H0@sfp-svn-2.v30.ch3.sourceforge.com>
	<142058679.20100304134717@tlen.pl>
Message-ID: <3D9039D3-A3D7-44EA-B19E-B4E21CCA6BCC@syenar.hu>

Thanks, you're right, I mixed the versions.
I'll commit this one ASAP.

Brgds,
Viktor

On 2010 Mar 4, at 13:47, Jaroslaw Kadziola wrote:

> Hi Viktor,
> 
> 
> vusn> Log Message:
> vusn> -----------
> vusn> 2010-03-04 13:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> vusn>   * contrib/hbtpathy/telepath.prg
> vusn>     ! Restored original before-millisec/midnight fix state.
> vusn>     ; Someone else pls continue/restart this task.
> 
> vusn> Modified Paths:
> vusn> --------------
> vusn>     trunk/harbour/ChangeLog
> vusn>     trunk/harbour/contrib/hbtpathy/telepath.prg
> 
> Do not shoot me, but now sms_send() return (-99) and
> not send sms. It's work properly with attached version
> of telepath.prg
> 
> -- 
> Regards,
> Jaroslaw Kadziola<telepath.zip>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Mar  4 07:57:08 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  4 07:57:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14056] trunk/harbour
Message-ID: <E1NnAc0-0000TI-Fl@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14056
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14056&view=rev
Author:   vszakats
Date:     2010-03-04 12:57:07 +0000 (Thu, 04 Mar 2010)

Log Message:
-----------
2010-03-04 13:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/telepath.prg
    ! Restored for real.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar  4 08:03:28 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 08:03:39 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <20100304125244.GA16240@linux-4bod.home.aster.pl>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<20100304115104.GA14653@linux-4bod.home.aster.pl>
	<151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>
	<20100304120538.GA14997@linux-4bod.home.aster.pl>
	<ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu>
	<20100304125244.GA16240@linux-4bod.home.aster.pl>
Message-ID: <A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu>

Hi Przemek,

>>> I already gave you precise answers about the existing bug
>>> intorduce by recent seconds()=>hb_milliSeconds() modifications
>>> and the potential problems inside hbsms which may cause random
>>> bug reports to this list.
>>> It's enough you carefully read what I wrote :-)
>> Sorry but I'm not interested in fixing these components, 
>> as I don't use them and can't test them. I read your 
>> message and appreciate you input, but I want to avoid 
>> spending days until everything works out fine at the end.
> 
> You broke hbtpathy code and then you are sending the message that
> you are not interested in fixing the bugs you introduced.

I indicated that I will revert it fully. Which I did 
already.

> You were asking for help so I looked at the code and exactly showed
> where you made a typo using < instead of <= and above is your
> answer for the time I invest to check what you did and locate
> the exact problem. I will remember about it in the future.

Sorry, I just don't feel confident to make any more 
modification to this code, moreover there was already 
two code sets, the SVN and the re-patched one, plus 
still pending bug report from Abeb. I don't see its 
end, and don't understand enough details to make the 
best modification, that's all. There is no point me 
making attempt to try to fix it (even following your 
instructions), if I don't understand it, it's unlikely 
it will ever be right. And I don't have a day (and 
enough interest) to understand it this time. If you 
know how to do, and have some free time to do it, 
pls do it.

Brgds,
Viktor

From kadziola at tlen.pl  Thu Mar  4 08:33:25 2010
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Thu Mar  4 08:33:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14056] trunk/harbour
In-Reply-To: <E1NnAc0-0000TI-Fl@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NnAc0-0000TI-Fl@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <1845783768.20100304143325@tlen.pl>

Hi,

W li?cie datowanym 4 marca 2010 (13:57:08) mo?na przeczyta?:

vusn> Log Message:
vusn> -----------
vusn> 2010-03-04 13:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
vusn>   * contrib/hbtpathy/telepath.prg
vusn>     ! Restored for real.

Now is OK! Thanks a lot!

-- 
Regards,
 Jaroslaw Kadziola

From abe.buch at att.net  Thu Mar  4 08:35:04 2010
From: abe.buch at att.net (AbeB)
Date: Thu Mar  4 08:35:10 2010
Subject: [Harbour] Re: Wrong hbsms
In-Reply-To: <20100304115104.GA14653@linux-4bod.home.aster.pl>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<20100304115104.GA14653@linux-4bod.home.aster.pl>
Message-ID: <1267709704834-4674270.post@n2.nabble.com>



Przemys?aw Czerpak wrote:
> 
> one using nStartTime because time difference was calculated once at
> startup.
> The optimal code should make sth like:
>    nStopTime := IIF( nTimeout > 0, hb_milliSeconds() + nTimeOut * 1000 : 0
> )
>    [...]
>    WHILE .T.
>       [...]
>       IF nTimeOut <= 0 .OR. hb_milliSeconds() >= nStopTime
>          EXIT
>       ENDDO
>    ENDDO
> 
> It eliminates unnecessary calculations and hb_milliSeconds() calls.
> 
> 
> 

if nTimeout < 0 (indicates never timeout), the loop should continue.

this is what I have

[...]
  nStartTime := hb_milliSeconds()
   nTimeOut *= 1000

   nTotWritten := 0

   DO WHILE nTotWritten < Len( cString ) .AND. ;
            ( nTimeout <= 0 .OR. ( hb_milliSeconds() - nStartTime ) <
nTimeout )

           [...]

	  if (nTimeout = 0) .or. ( hb_milliSeconds() < nStartTime ) // if the clock
was moved back. DLST
	  	  exit
	  endif

   ENDDO


because of DLST I'm also using a patched  hb_idleSleep()


proc myhb_idleSleep( ntimeOut )
local nStartTime 

if nTimeout > 0 

	nStartTime := hb_milliSeconds() 

	nTimeOut *= 1000

	do while ( hb_milliSeconds() - nStartTime ) < nTimeOut 

		hb_IdleState()

		if hb_milliSeconds() < nStartTime 
			exit
		ENDIF

	enddo
else
	hb_IdleState()
endif


what do you think of it?

Best Regards,

Abe
-- 
View this message in context: http://n2.nabble.com/Wrong-hbsms-tp4660463p4674270.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From dbtopas at dbtopas.lt  Thu Mar  4 08:35:38 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar  4 08:35:51 2010
Subject: [Harbour] ADS error codes
In-Reply-To: <20100304105612.GA14134@linux-4bod.home.aster.pl>
References: <4B8F8068.2000907@dbtopas.lt>	<20100304095959.GA29970@linux-4bod.home.aster.pl>	<4B8F8C08.9000006@dbtopas.lt>
	<20100304105612.GA14134@linux-4bod.home.aster.pl>
Message-ID: <4B8FB72A.1070408@dbtopas.lt>

Hi,

Przemys?aw Czerpak wrote:
>> Perhaps we must leave this hack, or... extend default error handler
> Here is the problem with custom user code using own error handlers.
> I'm afraid it's hard to change it because it may introduce very serious
> bugs to valid Clipper code.
> I also do not like it but I'm afraid we have to leave it.

Viktor wrote:
> IOW to me the real solution looks rather like 
> to use subCode only to return ADS specific error 
> codes. "subCode" is a private matter of any given 
> RDD (or library), so we don't need to be compatible 
> with anything here.

So we have two choices:
1) osCode=AdsError and hack for sharing violation (osCode=32, 
subCode=AdsError);
2) subCode=AdsError and not Clipper compatible subcodes for not ADS 
errors like EDBF_DATAWIDTH, etc. One of ways to solve ambiguity in this 
case is error code ranges. ADS uses error codes > 1000. Not ADS errors 
can be used from interval 1...999. We can even use "semi-compatible" DBF 
error in some cases, using EDBF_* - 1000, because all EDBF_* are below 
2000.

What solution do you prefer?


Regards,
Mindaugas

From jarabal at gmail.com  Thu Mar  4 08:38:28 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Mar  4 08:39:48 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>
	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>
Message-ID: <4B8FB7D4.1030006@gmail.com>

Hi,

> Did you test this code?

Yes, if you're referring to that SetCancel( .T. ) Clipper's program under NTVDM differs.
IMHO this difference can be assumed because the code must be fixed in MT mode.
[
#if ! defined( HB_MT_VM ) && 0
          if( hb_setGetCancel() )
             s_bBreak = HB_TRUE;
#endif
]

But I do a new question.
How can it be fixed something that does not exist?

[ And is not valid the quick answer "does not exist, no problem" because by this logic Harbour would be perfect if not exist. :) ]

Best regards,
-- 
Xavi

El 04/03/2010 8:31, Viktor Szak?ts escribi?:
> Hi Xavi,
>
>> Yes, you're right.
>> I have another patch to fix this, IMHO a issue, but I don't have right to commit it, there are two differents points of view and few opinions. Please note that GTWIN behavior is the same as a Clipper program under NTVDM.
>>
>> --- .patch
>> Index: gtwin.c
>> ===================================================================
>> --- gtwin.c	(revision 14052)
>> +++ gtwin.c	(working copy)
>> @@ -563,7 +563,9 @@
>>
>>        case CTRL_CLOSE_EVENT:
>>        case CTRL_BREAK_EVENT:
>> -         s_bBreak = HB_TRUE;
>> +         /* Avoid irregular shutdown if SetCancel( .F. ) [jarabal] */
>> +         if( hb_setGetCancel() )
>> +            s_bBreak = HB_TRUE;
>>           bHandled = TRUE;
>>           break;
>
> Did you test this code?
>
> Brgds,
> Viktor
>
From harbour.01 at syenar.hu  Thu Mar  4 08:52:30 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  4 08:52:41 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4B8FB7D4.1030006@gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>
	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>
	<4B8FB7D4.1030006@gmail.com>
Message-ID: <4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>

>> Did you test this code?
> 
> Yes, if you're referring to that SetCancel( .T. ) Clipper's program under NTVDM differs.

I was referring to your patch. Did you 
try it with a test application with both 
SETCANCEL(.T.) and SETCANCEL(.F.) ?

> IMHO this difference can be assumed because the code must be fixed in MT mode.
> [
> #if ! defined( HB_MT_VM ) && 0
>         if( hb_setGetCancel() )
>            s_bBreak = HB_TRUE;
> #endif
> ]

I tested in ST mode, and s_bBreak has no effect 
on the application termination, meaning that it 
will be _always_ closed. (regardless of SETCANCEL() 
or whatever else control we use here)

> But I do a new question.
> How can it be fixed something that does not exist?

I don't know what you mean, sorry.

Nothing needs to be fixed, since nothing is 
currently wrong or broken. AFAICS what you want 
is to attach GT specific window-close behavior 
to SETCANCEL(). Current behavior is not a bug, 
but by design. I can't see why you want to limit 
current possibilities and make it impossible to 
have a working Ctrl+C key plus a regular closable 
window. Not to mention that you can't attach 
window-close behavior is several GTs, GTWIN 
is just one of those, we also have GTOS2, GTSTD, 
GTPCA, GTDOS, GTTRM, GTCRS, GTSLN. Please notice 
that a "window" per se is not in reach with 
all/most non-GUI GTs.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Mar  4 08:59:20 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 08:59:32 2010
Subject: [Harbour] ADS error codes
In-Reply-To: <4B8FB72A.1070408@dbtopas.lt>
References: <4B8F8068.2000907@dbtopas.lt>	<20100304095959.GA29970@linux-4bod.home.aster.pl>	<4B8F8C08.9000006@dbtopas.lt>
	<20100304105612.GA14134@linux-4bod.home.aster.pl>
	<4B8FB72A.1070408@dbtopas.lt>
Message-ID: <9E50DFCF-6923-4CA5-80E5-A774640D0004@syenar.hu>

Hi Mindaugas,

> So we have two choices:
> 1) osCode=AdsError and hack for sharing violation (osCode=32, subCode=AdsError);
> 2) subCode=AdsError and not Clipper compatible subcodes for not ADS errors like EDBF_DATAWIDTH, etc. One of ways to solve ambiguity in this case is error code ranges. ADS uses error codes > 1000. Not ADS errors can be used from interval 1...999. We can even use "semi-compatible" DBF error in some cases, using EDBF_* - 1000, because all EDBF_* are below 2000.
> 
> What solution do you prefer?

2).

BTW I don't see missing EDBF_DATAWIDTH subcode 
a problem here, as the genCode is already saying 
EG_DATAWIDTH. And as it's name ("general [error] code") 
suggest, this is the code which can be used safely 
across RDDs to detect data width errors, so all we 
need to do is map specific ADS error codes to 
matching genCodes and osCodes to keep compatibility 
with other RDDs and existing app code.

App code which relies on specific subCodes is 
not safe anyway. We simply cannot be compatible 
here, since there is no general rule or predefined 
values for subCodes.

[ Anyway as a last resort we may also try to 
map ADS codes to Clipper subCodes if there is 
an equivalent one, but IMO this is not very good 
on the long run and can be confusing. I'd 
prefer to have pure ADS error codes in subCode, 
it's much cleaner this way and may not know 
in advance what ADS codes will ever pop up 
in the future anyway. ]

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Mar  4 09:52:12 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  4 09:52:20 2010
Subject: [Harbour] Re: hbide (Rev. 14053): source code and function list...
In-Reply-To: <fd76479f1003040315i300c9f48xb1e8da608755c630@mail.gmail.com>
References: <fd76479f1003040315i300c9f48xb1e8da608755c630@mail.gmail.com>
Message-ID: <1267714332673-4674696.post@n2.nabble.com>



marco bra wrote:
> 
> Hi Pritpal, i was playing with hbide editor and the function list on a
> .prg
> source file
> 
> When i double click on a function listed on the functions list, the editor
> wrap to the function code, it wrap to the function starting code but it
> put
> it  at bottom of the editor page.
> I suggest to have the selected function code starting from the top of the
> source page.
> 

Done.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-Rev-14053-source-code-and-function-list-tp4673629p4674696.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jarabal at gmail.com  Thu Mar  4 10:03:57 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Mar  4 10:05:17 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>
	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>
Message-ID: <4B8FCBDD.50804@gmail.com>

>>> Did you test this code?
>>
>> Yes, if you're referring to that SetCancel( .T. ) Clipper's program under NTVDM differs.
>
> I was referring to your patch. Did you
> try it with a test application with both
> SETCANCEL(.T.) and SETCANCEL(.F.) ?
>
>> IMHO this difference can be assumed because the code must be fixed in MT mode.
>> [
>> #if ! defined( HB_MT_VM )&&  0
>>          if( hb_setGetCancel() )
>>             s_bBreak = HB_TRUE;
>> #endif
>> ]
>
> I tested in ST mode, and s_bBreak has no effect
> on the application termination, meaning that it
> will be _always_ closed. (regardless of SETCANCEL()
> or whatever else control we use here)

... !!! ??? Sorry... What's happening? :)

Please tell me more.
Have these tested in a real Windows machine?
What version of Windows OS?
What version of kernel32.dll?
Does the same thing the Clipper's program on your machine?

Obviously I have the expected result in XP SP3.
kernel32.dll version 5.1.2600.5512 DLL de cliente API BASE de Windows NT

http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx

"The system also displays this dialog box if the process does not respond within a certain time-out period (5 seconds for 
CTRL_CLOSE_EVENT, and 20 seconds for CTRL_LOGOFF_EVENT or CTRL_SHUTDOWN_EVENT)."

-- 
Xavi

El 04/03/2010 14:52, Viktor Szak?ts escribi?:
>>> Did you test this code?
>>
>> Yes, if you're referring to that SetCancel( .T. ) Clipper's program under NTVDM differs.
>
> I was referring to your patch. Did you
> try it with a test application with both
> SETCANCEL(.T.) and SETCANCEL(.F.) ?
>
>> IMHO this difference can be assumed because the code must be fixed in MT mode.
>> [
>> #if ! defined( HB_MT_VM )&&  0
>>          if( hb_setGetCancel() )
>>             s_bBreak = HB_TRUE;
>> #endif
>> ]
>
> I tested in ST mode, and s_bBreak has no effect
> on the application termination, meaning that it
> will be _always_ closed. (regardless of SETCANCEL()
> or whatever else control we use here)
>
>> But I do a new question.
>> How can it be fixed something that does not exist?
>
> I don't know what you mean, sorry.
>
> Nothing needs to be fixed, since nothing is
> currently wrong or broken. AFAICS what you want
> is to attach GT specific window-close behavior
> to SETCANCEL(). Current behavior is not a bug,
> but by design. I can't see why you want to limit
> current possibilities and make it impossible to
> have a working Ctrl+C key plus a regular closable
> window. Not to mention that you can't attach
> window-close behavior is several GTs, GTWIN
> is just one of those, we also have GTOS2, GTSTD,
> GTPCA, GTDOS, GTTRM, GTCRS, GTSLN. Please notice
> that a "window" per se is not in reach with
> all/most non-GUI GTs.
>
> Brgds,
> Viktor
>
From harbour.01 at syenar.hu  Thu Mar  4 10:23:43 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  4 10:23:58 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4B8FCBDD.50804@gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>
	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>
	<4B8FCBDD.50804@gmail.com>
Message-ID: <DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>

>> I was referring to your patch. Did you
>> try it with a test application with both
>> SETCANCEL(.T.) and SETCANCEL(.F.) ?
>> 
>>> IMHO this difference can be assumed because the code must be fixed in MT mode.
>>> [
>>> #if ! defined( HB_MT_VM )&&  0
>>>         if( hb_setGetCancel() )
>>>            s_bBreak = HB_TRUE;
>>> #endif
>>> ]
>> 
>> I tested in ST mode, and s_bBreak has no effect
>> on the application termination, meaning that it
>> will be _always_ closed. (regardless of SETCANCEL()
>> or whatever else control we use here)
> 
> ... !!! ??? Sorry... What's happening? :)
> 
> Please tell me more.
> Have these tested in a real Windows machine?

It's a VMWare Fusion 3.0.2 VM, but that's irrelevant here.

> What version of Windows OS?

Tested on Win7 x64 using win/mingw (x86) Harbour trunk.

> What version of kernel32.dll?
> Does the same thing the Clipper's program on your machine?

What do you mean? I'm not aware of any method 
you can disable NTVDM "close" for Clipper 
programs, even less so using SETCANCEL().

But NTVDM is no more on x64 Windows editions.

> Obviously I have the expected result in XP SP3.

Can you describe what is exactly this "expected" result?

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Mar  4 10:38:01 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  4 10:38:09 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <7311C486-5BF8-4E61-B635-7D991645AEB4@syenar.hu>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<1267686842772-4672789.post@n2.nabble.com>
	<785682D4-BEEA-48D1-BB04-B28F002A152E@syenar.hu>
	<1267689739579-4672924.post@n2.nabble.com>
	<7311C486-5BF8-4E61-B635-7D991645AEB4@syenar.hu>
Message-ID: <1267717081418-4674993.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Sorry, but now I tried your suggestion to create 
> a new panel with new color, but to no avail, so 
> it's difficult to suggest anything.
> For sure current green icon has one strange property:
> When I first click on it, it has a "button-like" behavior, 
> it depresses. After clicking on it next, this never 
> happens again, and the icon feels "dead", doesn't depress, 
> feels un-clickable, yet it looks the same.
> 

Fixed.
Now instead of only "colors" it inserts a real button,
and is visible on create, and does not become inactive.




> 437 is default ASCII. Anyhow if we can't 
> tell what is the default encoding used by QT, 
> probably "(default)" should be written here.
> Even better would be to find out what is the QT 
> default.
> 

Probably "<default>" is the best option.
I could not get the default codec name.



> At the same time, I'd suggest changing term 
> "Codec" to "Encoding". Also the "Setup" main 
> menu may seem superfluous now, so everything 
> can be moved one level up, making Encoding 
> the main menu.
> 

"Encoding" - done.
But one level up is not the option.
There are other actions awaiting in the quue to be 
placed in <Setup> and are deferred for a while.
Moreover, <Encoding> presents a long menu and 
is a constant cause of distraction when you navigate
the top menu. Intially it was up in the main menu.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-testing-go-2-tp4671197p4674993.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jarabal at gmail.com  Thu Mar  4 11:08:23 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Mar  4 11:09:41 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>
	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
Message-ID: <4B8FDAF7.8060109@gmail.com>

> Can you describe what is exactly this "expected" result?

http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx

"
Return TRUE. In this case, no other handler functions are called, and the system displays a pop-up dialog box that asks the user 
whether to terminate the process. The system also displays this dialog box if the process does not respond within a certain 
time-out period (5 seconds for CTRL_CLOSE_EVENT, and 20 seconds for CTRL_LOGOFF_EVENT or CTRL_SHUTDOWN_EVENT).
"

What you don't understand about this part of the official documentation?
Need you a picture of the pop-up dialog box which _allows to continue the process_?

-- 
Xavi

El 04/03/2010 16:23, Viktor Szak?ts escribi?:
>>> I was referring to your patch. Did you
>>> try it with a test application with both
>>> SETCANCEL(.T.) and SETCANCEL(.F.) ?
>>>
>>>> IMHO this difference can be assumed because the code must be fixed in MT mode.
>>>> [
>>>> #if ! defined( HB_MT_VM )&&   0
>>>>          if( hb_setGetCancel() )
>>>>             s_bBreak = HB_TRUE;
>>>> #endif
>>>> ]
>>>
>>> I tested in ST mode, and s_bBreak has no effect
>>> on the application termination, meaning that it
>>> will be _always_ closed. (regardless of SETCANCEL()
>>> or whatever else control we use here)
>>
>> ... !!! ??? Sorry... What's happening? :)
>>
>> Please tell me more.
>> Have these tested in a real Windows machine?
>
> It's a VMWare Fusion 3.0.2 VM, but that's irrelevant here.
>
>> What version of Windows OS?
>
> Tested on Win7 x64 using win/mingw (x86) Harbour trunk.
>
>> What version of kernel32.dll?
>> Does the same thing the Clipper's program on your machine?
>
> What do you mean? I'm not aware of any method
> you can disable NTVDM "close" for Clipper
> programs, even less so using SETCANCEL().
>
> But NTVDM is no more on x64 Windows editions.
>
>> Obviously I have the expected result in XP SP3.
>
> Can you describe what is exactly this "expected" result?
>
> Brgds,
> Viktor
>
From harbour.01 at syenar.hu  Thu Mar  4 12:34:11 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  4 12:34:27 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4B8FDAF7.8060109@gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>
	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
	<4B8FDAF7.8060109@gmail.com>
Message-ID: <BB0EF463-6061-43EE-8302-7112E9CF1F42@syenar.hu>

>> Can you describe what is exactly this "expected" result?
> 
> http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx
> 
> "
> Return TRUE. In this case, no other handler functions are called, and the system displays a pop-up dialog box that asks the user whether to terminate the process. The system also displays this dialog box if the process does not respond within a certain time-out period (5 seconds for CTRL_CLOSE_EVENT, and 20 seconds for CTRL_LOGOFF_EVENT or CTRL_SHUTDOWN_EVENT).
> "
> 
> What you don't understand about this part of the official documentation?
> Need you a picture of the pop-up dialog box which _allows to continue the process_?

With a stamp, yes. Nevermind.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Mar  4 12:47:37 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  4 12:47:55 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4B8FDAF7.8060109@gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>
	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
	<4B8FDAF7.8060109@gmail.com>
Message-ID: <69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>

> http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx
> 
> "
> Return TRUE. In this case, no other handler functions are called, and the system displays a pop-up dialog box that asks the user whether to terminate the process. The system also displays this dialog box if the process does not respond within a certain time-out period (5 seconds for CTRL_CLOSE_EVENT, and 20 seconds for CTRL_LOGOFF_EVENT or CTRL_SHUTDOWN_EVENT).
> "
> 
> What you don't understand about this part of the official documentation?

Read this:

Different behavior for Vista and later	    	Master Programmer   |   Edit   |   Show History
It seems like for Vista and later, the system terminates the process soon after it calls this routine.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/0aa9ee68/attachment.html
From druzus at acn.waw.pl  Thu Mar  4 12:52:46 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar  4 12:52:54 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<20100304115104.GA14653@linux-4bod.home.aster.pl>
	<151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>
	<20100304120538.GA14997@linux-4bod.home.aster.pl>
	<ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu>
	<20100304125244.GA16240@linux-4bod.home.aster.pl>
	<A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu>
Message-ID: <20100304175246.GA20269@linux-4bod.home.aster.pl>

On Thu, 04 Mar 2010, Szak?ts Viktor wrote:

Hi Viktor,

> > You were asking for help so I looked at the code and exactly showed
> > where you made a typo using < instead of <= and above is your
> > answer for the time I invest to check what you did and locate
> > the exact problem. I will remember about it in the future.
> Sorry, I just don't feel confident to make any more 
> modification to this code, moreover there was already 
> two code sets, the SVN and the re-patched one, plus 
> still pending bug report from Abeb. I don't see its 
> end, and don't understand enough details to make the 
> best modification, that's all. There is no point me 
> making attempt to try to fix it (even following your 
> instructions), if I don't understand it, it's unlikely 
> it will ever be right. And I don't have a day (and 
> enough interest) to understand it this time. If you 
> know how to do, and have some free time to do it, 
> pls do it.

I also hate when someone commits the code to SVN and then
I have to clean it, fix bugs, update for other platforms
or resolve problems created by some extensions when I do
not use such code or anything related to it myself so it's
completely useless for me but original author is not
interested in updating it and people (sometimes even author)
reports bugs/problems expecting that someone will resolve
them.
In this particular case the problem is at least partially
caused by missing timeout in hbsms library so it may fail
even with perfectly working hbtpathy library.
HBSMS is your code and now you are expecting that I'll
update it. I can understand that you do not want to add
any extension to this code. But stupid modification which
set 1 second timeout in all com operation to fix wrong code
you committed should not take more then 1 minute for you.

Instead you restored old wrong tpathy code and Jarek
sent idiotic message thanking you for restoring the bug.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar  4 13:05:07 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar  4 13:05:18 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <20100304175246.GA20269@linux-4bod.home.aster.pl>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<20100304115104.GA14653@linux-4bod.home.aster.pl>
	<151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>
	<20100304120538.GA14997@linux-4bod.home.aster.pl>
	<ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu>
	<20100304125244.GA16240@linux-4bod.home.aster.pl>
	<A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu>
	<20100304175246.GA20269@linux-4bod.home.aster.pl>
Message-ID: <75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu>

Hi,

>>> You were asking for help so I looked at the code and exactly showed
>>> where you made a typo using < instead of <= and above is your
>>> answer for the time I invest to check what you did and locate
>>> the exact problem. I will remember about it in the future.
>> Sorry, I just don't feel confident to make any more 
>> modification to this code, moreover there was already 
>> two code sets, the SVN and the re-patched one, plus 
>> still pending bug report from Abeb. I don't see its 
>> end, and don't understand enough details to make the 
>> best modification, that's all. There is no point me 
>> making attempt to try to fix it (even following your 
>> instructions), if I don't understand it, it's unlikely 
>> it will ever be right. And I don't have a day (and 
>> enough interest) to understand it this time. If you 
>> know how to do, and have some free time to do it, 
>> pls do it.
> 
> I also hate when someone commits the code to SVN and then
> I have to clean it, fix bugs, update for other platforms
> or resolve problems created by some extensions when I do
> not use such code or anything related to it myself so it's
> completely useless for me but original author is not
> interested in updating it and people (sometimes even author)
> reports bugs/problems expecting that someone will resolve
> them.
> In this particular case the problem is at least partially
> caused by missing timeout in hbsms library so it may fail
> even with perfectly working hbtpathy library.
> HBSMS is your code and now you are expecting that I'll
> update it. I can understand that you do not want to add
> any extension to this code. But stupid modification which
> set 1 second timeout in all com operation to fix wrong code
> you committed should not take more then 1 minute for you.

I will remove HBSMS also. Sorry if fixing "other 
ppls bug" is so bothersome for you in this particular 
case. I thought for a second that after me having fixed 
hundreds/thousands (?) of bugs in other people's code, 
could have expected that once in while someone will fix 
one in my code. Looks like I was wrong.

> Instead you restored old wrong tpathy code and Jarek
> sent idiotic message thanking you for restoring the bug.

Yes, I undone my mistake(s) and presented the file 
in its original form, which I didn't author or 
create in the first place. I'm sure I made huge damage 
now, but I just love making damage as all of this 
list could see in last years ;)

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Mar  4 13:08:35 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  4 13:08:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14057] trunk/harbour
Message-ID: <E1NnFTP-0005Ee-ED@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14057
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14057&view=rev
Author:   vszakats
Date:     2010-03-04 18:08:34 +0000 (Thu, 04 Mar 2010)

Log Message:
-----------
2010-03-04 19:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * harbour.spec
  * contrib/Makefile
  - contrib/hbsms
    - Deleted hbsms lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/harbour.spec

Removed Paths:
-------------
    trunk/harbour/contrib/hbsms/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gfilatov at front.ru  Thu Mar  4 13:32:45 2010
From: gfilatov at front.ru (Grigory Filatov)
Date: Thu Mar  4 13:32:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14053] trunk/harbour
In-Reply-To: <E1Nn7wv-0004us-JQ@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1Nn7wv-0004us-JQ@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <27784775.post@talk.nabble.com>


Hello Przemek,

Please be so kind to revise the following warning at compiling Harbour from
sources by BCC 5.5.1:
...
src\vm\hvmall.c:
Warning W8004 src\vm\hvm.c 5991: '_hb_stack_ptr_' is assigned a value that
is never used in function hb_vmEval
  + Full parser context
  + src\vm\hvmall.c, line 83: #include src\vm\hvm.c
...

Thanks in advance! 

--
Regards,
Grigory


druzus wrote:
> 
> Revision: 14053
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14053&view=rev
> Author:   druzus
> Date:     2010-03-04 10:06:32 +0000 (Thu, 04 Mar 2010)
> 
> Log Message:
> -----------
> ...
>     + added new internal function hb_vmEval()
> 
> ...
> 

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-14053--trunk-harbour-tp27778839p27784775.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Thu Mar  4 13:43:52 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  4 13:43:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14058] trunk/harbour
Message-ID: <E1NnG1Y-0007P7-T3@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14058
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14058&view=rev
Author:   druzus
Date:     2010-03-04 18:43:51 +0000 (Thu, 04 Mar 2010)

Log Message:
-----------
2010-03-04 19:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvm.c
    ! removed unnecessary hbstack reference in MT builds - thanks to
      Grigory Filatov for the information

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Thu Mar  4 14:16:57 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Mar  4 14:18:20 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
Message-ID: <4B900729.9000503@gmail.com>

[ I don't know because I've to answer this. Maybe the last time. :( ]

http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx

"
An application-defined function used with the SetConsoleCtrlHandler function. A console process uses this function to handle 
control signals received by the process. When the signal is received, the system creates a new thread in the process to execute 
the function.
"

PROCEDURE Main()

    SetCancel(.T.)
    ? "Click [X] Not close windows"
    Wait
    RETURN

Now it's happening that you are introduced ch = HB_BREAK_FLAG in Inkey Poll, keyboard buffer.
Wait ends and the main process is finished so the new thread to execute the function is killed before it can complete their work.

-- 
Xavi

El 04/03/2010 18:47, Viktor Szak?ts escribi?:
>> http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx
>>
>> "
>> Return TRUE. In this case, no other handler functions are called, and
>> the system displays a pop-up dialog box that asks the user whether to
>> terminate the process. The system also displays this dialog box if the
>> process does not respond within a certain time-out period (5 seconds
>> for CTRL_CLOSE_EVENT, and 20 seconds for CTRL_LOGOFF_EVENT or
>> CTRL_SHUTDOWN_EVENT).
>> "
>>
>> What you don't understand about this part of the official documentation?
>
> Read this:
>
> Different behavior for Vista and later		Master Programmer
> <http://msdn.microsoft.com/en-us/library/user-87514.aspx> | Edit | Show
> History
>
> It seems like for Vista and later, the system terminates the process
> soon after it calls this routine.
>
From harbour.01 at syenar.hu  Thu Mar  4 14:20:36 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  4 14:20:50 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4B900729.9000503@gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
	<4B900729.9000503@gmail.com>
Message-ID: <D2BC9432-87CD-4B69-BCDA-4C73FE99D22F@syenar.hu>

It doesn't work on Vista and Win7/2008.

Brgds,
Viktor

On 2010 Mar 4, at 20:16, Xavi wrote:

> [ I don't know because I've to answer this. Maybe the last time. :( ]
> 
> http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx
> 
> "
> An application-defined function used with the SetConsoleCtrlHandler function. A console process uses this function to handle control signals received by the process. When the signal is received, the system creates a new thread in the process to execute the function.
> "
> 
> PROCEDURE Main()
> 
>   SetCancel(.T.)
>   ? "Click [X] Not close windows"
>   Wait
>   RETURN
> 
> Now it's happening that you are introduced ch = HB_BREAK_FLAG in Inkey Poll, keyboard buffer.
> Wait ends and the main process is finished so the new thread to execute the function is killed before it can complete their work.
> 
> -- 
> Xavi
> 
> El 04/03/2010 18:47, Viktor Szak?ts escribi?:
>>> http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx
>>> 
>>> "
>>> Return TRUE. In this case, no other handler functions are called, and
>>> the system displays a pop-up dialog box that asks the user whether to
>>> terminate the process. The system also displays this dialog box if the
>>> process does not respond within a certain time-out period (5 seconds
>>> for CTRL_CLOSE_EVENT, and 20 seconds for CTRL_LOGOFF_EVENT or
>>> CTRL_SHUTDOWN_EVENT).
>>> "
>>> 
>>> What you don't understand about this part of the official documentation?
>> 
>> Read this:
>> 
>> Different behavior for Vista and later		Master Programmer
>> <http://msdn.microsoft.com/en-us/library/user-87514.aspx> | Edit | Show
>> History
>> 
>> It seems like for Vista and later, the system terminates the process
>> soon after it calls this routine.
>> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jarabal at gmail.com  Thu Mar  4 14:21:54 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Mar  4 14:23:14 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
Message-ID: <4B900852.8000008@gmail.com>

Sorry I meant SetCancel(.F.)

http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx

"
An application-defined function used with the SetConsoleCtrlHandler function. A console process uses this function to handle 
control signals received by the process. When the signal is received, the system creates a new thread in the process to execute 
the function.
"

PROCEDURE Main()

    SetCancel(.F.)
    ? "Click [X] Not close windows"
    Wait
    RETURN

Now it's happening that you are introduced ch = HB_BREAK_FLAG in Inkey Poll, keyboard buffer.
Wait ends and the main process is finished so the new thread to execute the function is killed before it can complete their work.

-- 
Xavi
From harbour.01 at syenar.hu  Thu Mar  4 14:38:09 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  4 14:38:20 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4B900852.8000008@gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
	<4B900852.8000008@gmail.com>
Message-ID: <0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>

It also doesn't work on Vista/Win7/2008.

Did _you_ read the comments in your quoted (now 
for the 6th times) article?

I tested it on XP x64, there there is a window 
asking for 'Cancel' and 'End Now', so even here 
this method cannot prevent the app to be closed 
by user. In any case it's not a SETCANCEL() thing, 
but maybe rather it could be the standard GTWIN 
behavior (without any extra setting). For sure 
it's not a HB_GTI_CLOSABLE setting either. Or, 
we just leave it as is.

Brgds,
Viktor

On 2010 Mar 4, at 20:21, Xavi wrote:

> Sorry I meant SetCancel(.F.)
> 
> http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx
> 
> "
> An application-defined function used with the SetConsoleCtrlHandler function. A console process uses this function to handle control signals received by the process. When the signal is received, the system creates a new thread in the process to execute the function.
> "
> 
> PROCEDURE Main()
> 
>   SetCancel(.F.)
>   ? "Click [X] Not close windows"
>   Wait
>   RETURN
> 
> Now it's happening that you are introduced ch = HB_BREAK_FLAG in Inkey Poll, keyboard buffer.
> Wait ends and the main process is finished so the new thread to execute the function is killed before it can complete their work.
> 
> -- 
> Xavi
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Thu Mar  4 16:32:04 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Mar  4 16:32:13 2010
Subject: [Harbour] HBNETIO won't start
Message-ID: <674e4ddd1003041332r7c6f2526x37e3440ed3164886@mail.gmail.com>

Hi,

I've been playing around with the HBNETIO thing a bit.  I have two
questions:

1)  How come the netio_mtserver command isn't really documented in the
readme.txt when the func netio_listen is listed on the readme?  Maybe the
_mtserver one is the one to use?

2)  Any tips on some basic reasons why the server won't start?  I used the
netiotst.prg, and I keep getting a NIL from the command, showing:

C:\hbm\hbnetio>netiotst.exe

Cannot start NETIO server !!!
Press any key to exit...

I tried disabling my local firewall, even though I didn't think this would
do anything as it's not applicable when trying localhost tests.

Thanks for the tips.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/bf1e8716/attachment.html
From bedipritpal at hotmail.com  Thu Mar  4 17:02:05 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  4 17:02:12 2010
Subject: [Harbour] GTWVT/GTWVG - HB_GTI_NOTIFIERBLOCK - HVM Passive Threads
Message-ID: <1267740125044-4677567.post@n2.nabble.com>


Hi

Below is the conersation text which is being discussed 
on user list. But it belongs to dev-list so I am posting here.

-------------------------

 > I cannot do that.

> > In the moment when you added HB_GTI_NOTIFIERBLOCK you effectively
> > blocked the possibilities of serving window loop by non HVM thread
> > so first this feature has to be removed 

> I did not know that at all. And probably I do not know much about GT
> internals.
> Can you kindly update me how a passive thread will work and why 
> HB_GTI_NOTIFIERBLOCK is a show-stopper to achieve this? 

HB_GTI_NOTIFIERBLOCK introduces PRG code executed from windowmessage loop.
It means that we cannot create non HVM threadto create windows and process
this window messages because suchthread cannot activate PRG code. We can
quite easy create non HVM thread inside GTWVT which willcreate windows and
process all it's messages taking data to displayfor GT buffers and putting
input events to keyboard/mouse queue.We will need only simply mutex to
synchronize access to GT structure.Such worker threads resolves also
possible deadlocks which can appearin MT MS-Win GUI applications what should
greatly helps users whichare not very familiar with concurrent programing
and MS-Windows APIrestrictions.But the problem appears when we have
HB_GTI_NOTIFIERBLOCK becausenon HVM thread cannot execute PRG code. In MT
mode we can createseparate HVM thread to execute it but it will work in
different waythen current code so it will be necessary to define new
conditionshow such feature should work of course it will not work in
STapplications.

----------------------------------------




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/GTWVT-GTWVG-HB-GTI-NOTIFIERBLOCK-HVM-Passive-Threads-tp4677567p4677567.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Mar  4 17:07:15 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  4 17:07:22 2010
Subject: [Harbour] Re: GTWVT/GTWVG - HB_GTI_NOTIFIERBLOCK - HVM Passive
	Threads
In-Reply-To: <1267740125044-4677567.post@n2.nabble.com>
References: <1267740125044-4677567.post@n2.nabble.com>
Message-ID: <1267740435233-4677598.post@n2.nabble.com>


Hello Przemek

GTWVG is totally dependant on HB_GTI_NOTIFIERBLOCK 
for rendering GUI elements which are PRG code has to be called.
Probably GTWVG also needs it for some of its constructs.

So if this is the limitation, I am afraid the dream of 
Passive Non-HVM thread can not be realized for GTWVG at least.

Is there a way to execute READKEY() from "do while" loop
in some way ?. To me it appears to be the fastest route to
cover this issue. I may be wrong though.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/GTWVT-GTWVG-HB-GTI-NOTIFIERBLOCK-HVM-Passive-Threads-tp4677567p4677598.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Thu Mar  4 17:45:28 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar  4 17:45:36 2010
Subject: [Harbour] Re: GTWVT/GTWVG - HB_GTI_NOTIFIERBLOCK - HVM Passive
	Threads
In-Reply-To: <1267740435233-4677598.post@n2.nabble.com>
References: <1267740125044-4677567.post@n2.nabble.com>
	<1267740435233-4677598.post@n2.nabble.com>
Message-ID: <20100304224528.GA21510@linux-4bod.home.aster.pl>

On Thu, 04 Mar 2010, Pritpal Bedi wrote:

Hi,

> Is there a way to execute READKEY() from "do while" loop
> in some way ?. To me it appears to be the fastest route to
> cover this issue. I may be wrong though.

It is executed though for some programs it may be executed too seldom.
See hvm.c[1202] and my comment below.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Mar  4 17:49:09 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar  4 17:49:17 2010
Subject: [Harbour] HBNETIO won't start
In-Reply-To: <674e4ddd1003041332r7c6f2526x37e3440ed3164886@mail.gmail.com>
References: <674e4ddd1003041332r7c6f2526x37e3440ed3164886@mail.gmail.com>
Message-ID: <20100304224909.GB21510@linux-4bod.home.aster.pl>

On Thu, 04 Mar 2010, smu johnson wrote:

Hi,

> C:\hbm\hbnetio>netiotst.exe
> Cannot start NETIO server !!!
> Press any key to exit...

You have to compile this code with MT support.
Use -mt hbmk2 switch or compilt it using netiosrv.hbp, i.e.
   hbmk2 netiosrv.hbp

best regards,
Przemek
From smujohnson at gmail.com  Thu Mar  4 18:33:43 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Mar  4 18:33:51 2010
Subject: [Harbour] HBNETIO won't start
In-Reply-To: <20100304224909.GB21510@linux-4bod.home.aster.pl>
References: <674e4ddd1003041332r7c6f2526x37e3440ed3164886@mail.gmail.com>
	<20100304224909.GB21510@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1003041533k33e95767h198c0df2659669d@mail.gmail.com>

Przemek, you are a genius!

2010/3/4 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Thu, 04 Mar 2010, smu johnson wrote:
>
> Hi,
>
> > C:\hbm\hbnetio>netiotst.exe
> > Cannot start NETIO server !!!
> > Press any key to exit...
>
> You have to compile this code with MT support.
> Use -mt hbmk2 switch or compilt it using netiosrv.hbp, i.e.
>   hbmk2 netiosrv.hbp
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/5dfda548/attachment-0001.html
From smujohnson at gmail.com  Thu Mar  4 18:42:03 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Mar  4 18:42:11 2010
Subject: [Harbour] HBNETIO won't start
In-Reply-To: <20100304224909.GB21510@linux-4bod.home.aster.pl>
References: <674e4ddd1003041332r7c6f2526x37e3440ed3164886@mail.gmail.com>
	<20100304224909.GB21510@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1003041542j6b6f79ex581373630297b01a@mail.gmail.com>

Another quick question if I may.

Does the NETIO thing work in the way that if you connect to a listener, it
can forward all regular SIX3 calls to the connection?

I have a lot of:   USE something.dbf // type commands

And I'm wondering if I can set an rdd default setting to know to use the
netio connection, or if I have to rewrite all the USE strings, and other
six3 command strings, etc etc.

Thank you very much for the hints.

2010/3/4 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Thu, 04 Mar 2010, smu johnson wrote:
>
> Hi,
>
> > C:\hbm\hbnetio>netiotst.exe
> > Cannot start NETIO server !!!
> > Press any key to exit...
>
> You have to compile this code with MT support.
> Use -mt hbmk2 switch or compilt it using netiosrv.hbp, i.e.
>   hbmk2 netiosrv.hbp
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/042f89af/attachment.html
From bruno.luciani at gmail.com  Thu Mar  4 21:16:37 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Mar  4 21:16:45 2010
Subject: [Harbour] Still have problems to compile mysql test sample
Message-ID: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>

This is hbmysql.hbc , hbmysql.a it is correct exist

but whic library is mysql  ???

What I am doing wrong ?

Bruno


#
# $Id: hbmysql.hbc 13881 2010-02-15 22:48:29Z vszakats $
#

incpaths=.

libs=hbmysql
{unix}libs=mysql
{!unix}libs=libmysql


//////////////////////////////////
ERROR/////////////////////////////////////////////////////////

bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2 test
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
Harbour 2.1.0dev (Rev. 14025)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'test.prg'...
Lines 205, Functions/Procedures 1
Generating C source output to '/tmp/test.c'... Done.
/usr/bin/ld: cannot find -lmysql
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc /tmp/test.o /tmp/hbmk_tfjuah.o   -Wl,--start-group -lhbmysql -lmysql
-lhbcplr -lhbdebug -lgpm -lharbour  -Wl,--end-group -otest
-L/usr/local/lib/harbour
bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2 test
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/7a8fd868/attachment.html
From bruno.luciani at gmail.com  Thu Mar  4 21:36:54 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Mar  4 21:37:02 2010
Subject: [Harbour] Mysql Sample , and Compile
Message-ID: <133778361003041836m120d55e7q3438bbd16bad0cbc@mail.gmail.com>

Its seems that in this way , compiles ok in linux ubuntu

#
# $Id: hbmysql.hbc 13881 2010-02-15 22:48:29Z vszakats $
#

incpaths=.

libs=hbmysql
{unix}libs=mysqlclient
{!unix}libs=libmysql



But I don't know If its me or TEST.PRG code in test directory not work at
all or I don't understand

or is missing some DBF database sample , I don't know

any help

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100304/a73f6128/attachment.html
From jarabal at gmail.com  Thu Mar  4 22:22:56 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Mar  4 22:24:15 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>	<4B8FDAF7.8060109@gmail.com>	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>	<4B900852.8000008@gmail.com>
	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
Message-ID: <4B907910.3070504@gmail.com>

Viktor,

> It also doesn't work on Vista/Win7/2008.

Maybe is about CTRL_LOGOFF_EVENT, CTRL_SHUTDOWN_EVENT that is received only by services.
But if so is a issue of Vista and Win7/2008, not ours, because the official documentation nothing says about this, AFAIK.
And no excuse for not correcting the current Harbour behavior, IMHO.
Also in .NET (please see example Visual C++ and Platforms) .-

http://msdn.microsoft.com/en-us/library/system.gc.keepalive%28VS.100%29.aspx

> I tested it on XP x64, there there is a window
> asking for 'Cancel' and 'End Now', so even here
> this method cannot prevent the app to be closed
> by user. In any case it's not a SETCANCEL() thing,

Just as DOS Clipper's programs.

> but maybe rather it could be the standard GTWIN
> behavior (without any extra setting). For sure
> it's not a HB_GTI_CLOSABLE setting either. Or,
> we just leave it as is.

IMHO are two different targets, things, HB_GTI_CLOSABLE / SETCANCEL.
HB_GTI_CLOSABLE aims to modify the user interface (if possible).
SETCANCEL aims to avoid interruption of the code execution by the user (if possible).
BTW in te case of GTWVT, I don't think that changing the status of SETCANCEL in response to WM_CLOSE meet the objective of 
SETCANCEL.

-- 
Xavi

El 04/03/2010 20:38, Viktor Szak?ts escribi?:
> It also doesn't work on Vista/Win7/2008.
>
> Did _you_ read the comments in your quoted (now
> for the 6th times) article?
>
> I tested it on XP x64, there there is a window
> asking for 'Cancel' and 'End Now', so even here
> this method cannot prevent the app to be closed
> by user. In any case it's not a SETCANCEL() thing,
> but maybe rather it could be the standard GTWIN
> behavior (without any extra setting). For sure
> it's not a HB_GTI_CLOSABLE setting either. Or,
> we just leave it as is.
>
> Brgds,
> Viktor
>
> On 2010 Mar 4, at 20:21, Xavi wrote:
>
>> Sorry I meant SetCancel(.F.)
>>
>> http://msdn.microsoft.com/en-us/library/ms683242%28VS.85%29.aspx
>>
>> "
>> An application-defined function used with the SetConsoleCtrlHandler function. A console process uses this function to handle control signals received by the process. When the signal is received, the system creates a new thread in the process to execute the function.
>> "
>>
>> PROCEDURE Main()
>>
>>    SetCancel(.F.)
>>    ? "Click [X] Not close windows"
>>    Wait
>>    RETURN
>>
>> Now it's happening that you are introduced ch = HB_BREAK_FLAG in Inkey Poll, keyboard buffer.
>> Wait ends and the main process is finished so the new thread to execute the function is killed before it can complete their work.
>>
>> --
>> Xavi
From kadziola at tlen.pl  Fri Mar  5 01:28:42 2010
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Mar  5 01:28:49 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu>
References: <14010698842.20100302123533@tlen.pl>
	<398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu>
	<1721565543.20100304115245@tlen.pl>
	<0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu>
	<20100304115104.GA14653@linux-4bod.home.aster.pl>
	<151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>
	<20100304120538.GA14997@linux-4bod.home.aster.pl>
	<ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu>
	<20100304125244.GA16240@linux-4bod.home.aster.pl>
	<A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu>
	<20100304175246.GA20269@linux-4bod.home.aster.pl>
	<75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu>
Message-ID: <152336657.20100305072842@tlen.pl>

Hi Viktor,Przemek


>> Instead you restored old wrong tpathy code and Jarek
>> sent idiotic message thanking you for restoring the bug.

You're right it was a idiotic message - I thought only of my
own interest instead of the HARBOUR as a whole. Sorry

VS> I will remove HBSMS also.

It's no good solution, perhaps there is someone (besides me)
who benefits from this contribution (for myself is an important part
of notification - not simple toy).
You are excellent programmers but do not be disrupters of
excellent project called HARBOUR.
I believe that Viktor restore this cobtrib :)

-- 
Regards,
 Jaroslaw Kadziola

From mbelgrano at deltain.it  Fri Mar  5 01:54:21 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar  5 01:54:50 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <152336657.20100305072842@tlen.pl>
References: <14010698842.20100302123533@tlen.pl>
	<20100304115104.GA14653@linux-4bod.home.aster.pl> 
	<151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu>
	<20100304120538.GA14997@linux-4bod.home.aster.pl> 
	<ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu>
	<20100304125244.GA16240@linux-4bod.home.aster.pl> 
	<A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu>
	<20100304175246.GA20269@linux-4bod.home.aster.pl> 
	<75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu>
	<152336657.20100305072842@tlen.pl>
Message-ID: <609353e71003042254h1253d857w7cdfee23d8acd2f8@mail.gmail.com>

+1

2010/3/5 Jaroslaw Kadziola <kadziola@tlen.pl>

>
> I believe that Viktor restore this cobtrib :)
>
>

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/2662ec14/attachment.html
From gabor.salai at euroherc.hr  Fri Mar  5 02:13:30 2010
From: gabor.salai at euroherc.hr (sali)
Date: Fri Mar  5 02:09:55 2010
Subject: [Harbour] Wrong hbsms
References: <14010698842.20100302123533@tlen.pl><398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu><1721565543.20100304115245@tlen.pl><0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu><20100304115104.GA14653@linux-4bod.home.aster.pl><151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu><20100304120538.GA14997@linux-4bod.home.aster.pl><ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu><20100304125244.GA16240@linux-4bod.home.aster.pl><A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu><20100304175246.GA20269@linux-4bod.home.aster.pl><75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu>
	<152336657.20100305072842@tlen.pl>
Message-ID: <0d3301cabc33$5e7859a0$6600540a@euroherc.ba>

----- Original Message ----- 
From: "Jaroslaw Kadziola" <kadziola@tlen.pl>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, March 05, 2010 7:28 AM
Subject: Re: [Harbour] Wrong hbsms


> who benefits from this contribution (for myself is an important part
> of notification - not simple toy).

just a question [i havn't noticed this contrib before], is this 'hbsms' 
device independent, or depends on serial communication with gsm equipment 
and specific model? does it implement some api to higher level?

many years ago i've implemented session type sms protocol, having msdos 
qbasic as gateway driver and clipper87 as database engine and using win98 
multitasking to keep together. i remember, until solved there were problems 
with timeouts or hanging of serial line while waiting for gsm device 
responses 

From kadziola at tlen.pl  Fri Mar  5 02:25:18 2010
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Mar  5 02:25:26 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <0d3301cabc33$5e7859a0$6600540a@euroherc.ba>
References: <14010698842.20100302123533@tlen.pl><398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu><1721565543.20100304115245@tlen.pl><0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu><20100304115104.GA14653@linux-4bod.home.aster.pl><151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu><20100304120538.GA14997@linux-4bod.home.aster.pl><ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu><20100304125244.GA16240@linux-4bod.home.aster.pl><A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu><20100304175246.GA20269@linux-4bod.home.aster.pl><75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu>
	<152336657.20100305072842@tlen.pl>
	<0d3301cabc33$5e7859a0$6600540a@euroherc.ba>
Message-ID: <1036245572.20100305082518@tlen.pl>

Hi,


s> just a question [i havn't noticed this contrib before], is this 'hbsms' 
s> device independent, or depends on serial communication with gsm equipment 
s> and specific model? does it implement some api to higher level?

You must ask Viktor about details.

To send sms' i'm using Nokia phone plugged to usb port.
In system must be installed modem driver (for this phone model).

-- 
Regards,
 Jaroslaw Kadziola

From gabor.salai at euroherc.hr  Fri Mar  5 02:46:16 2010
From: gabor.salai at euroherc.hr (sali)
Date: Fri Mar  5 02:42:52 2010
Subject: [Harbour] Wrong hbsms
References: <14010698842.20100302123533@tlen.pl><398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu><1721565543.20100304115245@tlen.pl><0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu><20100304115104.GA14653@linux-4bod.home.aster.pl><151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu><20100304120538.GA14997@linux-4bod.home.aster.pl><ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu><20100304125244.GA16240@linux-4bod.home.aster.pl><A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu><20100304175246.GA20269@linux-4bod.home.aster.pl><75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu><152336657.20100305072842@tlen.pl><0d3301cabc33$5e7859a0$6600540a@euroherc.ba>
	<1036245572.20100305082518@tlen.pl>
Message-ID: <0d6e01cabc37$f2a62b80$6600540a@euroherc.ba>

----- Original Message ----- 
From: "Jaroslaw Kadziola" <kadziola@tlen.pl>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, March 05, 2010 8:25 AM
Subject: Re: [Harbour] Wrong hbsms


> To send sms' i'm using Nokia phone plugged to usb port.
> In system must be installed modem driver (for this phone model).


as messaging device, we currently use industrial siemens box [it is fixed, 
not portable], plugged into serial/com, custom made vb6 app using 
mscomm32.ocx, running on win/2003/64, but also sometimes having hangouts 
while waiting on gsm responses/confirmations, so i am seeking for some 
improvements 

From e.m.giordano at emagsoftware.it  Fri Mar  5 03:14:03 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Mar  5 03:14:11 2010
Subject: [Harbour] DBI_PASSWORD
References: <E18050DD68C540D7B612A5BC4E36D524@emag>
	<20100303092448.GA16679@linux-4bod.home.aster.pl>
Message-ID: <A2AECA616D6B4B4D948E35FA7A049E01@emag>


-----Messaggio Originale----- 
Da: "Przemys?aw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 3 marzo 2010 10.24
Oggetto: Re: [Harbour] DBI_PASSWORD

Przemek, sorry to be back on this subject: do you think it would be possible 
to also crypt DBFs with memo fields leaving the memo fields theirself 
uncrypted? I would really need of the crypting functionality... :-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Mar  5 04:17:01 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  5 04:17:14 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4B907910.3070504@gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8F2A60.8080407@gmail.com>	<42AD9F38-1649-4573-A109-F19051063CF1@syenar.hu>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>	<4B8FDAF7.8060109@gmail.com>	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>	<4B900852.8000008@gmail.com>
	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
	<4B907910.3070504@gmail.com>
Message-ID: <D11BB00A-9338-4368-8ACA-3908206A7CEF@syenar.hu>

Hi Xavi,

> Maybe is about CTRL_LOGOFF_EVENT, CTRL_SHUTDOWN_EVENT that is received only by services.
> But if so is a issue of Vista and Win7/2008, not ours, because the official documentation nothing says about this, AFAIK.

The documentation was just not updated for Vista/Win7, 
I see you still didn't scroll down to user comments on 
your quoted page.

> And no excuse for not correcting the current Harbour behavior, IMHO.

Yes, but there is nothing to correct in this case.

> Also in .NET (please see example Visual C++ and Platforms) .-
> 
> http://msdn.microsoft.com/en-us/library/system.gc.keepalive%28VS.100%29.aspx
> 
>> I tested it on XP x64, there there is a window
>> asking for 'Cancel' and 'End Now', so even here
>> this method cannot prevent the app to be closed
>> by user. In any case it's not a SETCANCEL() thing,
> 
> Just as DOS Clipper's programs.

It's host environment behavior, not DOS Clipper 
program behavior. Did you test this effect on all 
possible MS-DOS host environments? F.e. Win9x 
DOS box, NTVDM on Win7, NTVDM on Vista? DosBox 
on any operating system? DOSEMU? They may be 
different, and they probably _are_ different.

I see no need to try to hard-wire XP NTVDM 
specific behavior to our GTs, or to control such 
XP NTVDM-like behavior to SETCANCEL().

>> but maybe rather it could be the standard GTWIN
>> behavior (without any extra setting). For sure
>> it's not a HB_GTI_CLOSABLE setting either. Or,
>> we just leave it as is.
> 
> IMHO are two different targets, things, HB_GTI_CLOSABLE / SETCANCEL.
> HB_GTI_CLOSABLE aims to modify the user interface (if possible).

No, it aims to prevent the window being closed.

> SETCANCEL aims to avoid interruption of the code execution by the user (if possible).
> BTW in te case of GTWVT, I don't think that changing the status of SETCANCEL in response to WM_CLOSE meet the objective of SETCANCEL.

SETCANCEL() controls the interpretation of Ctrl+C, 
which it does perfectly on all GTs in Harbour.

Brgds,
Viktor

From labitas at gmail.com  Fri Mar  5 04:19:30 2010
From: labitas at gmail.com (Saulius Zrelskis)
Date: Fri Mar  5 04:19:38 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <4B907910.3070504@gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
	<4B8FB7D4.1030006@gmail.com>
	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>
	<4B8FCBDD.50804@gmail.com>
	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
	<4B900852.8000008@gmail.com>
	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
	<4B907910.3070504@gmail.com>
Message-ID: <2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>

[for those interested]
Sample below really controls console close button on Windows XP and
later systems. Please test it and enjoy:)

--->>>
#include 'inkey.ch'

proc main()
  local nKey

 while (nKey := Inkey(0)) # K_ESC
   Qout(Str(nKey) +'  "' +Chr(nKey) +'"')
   if nKey == Asc("0") .or. nKey == Asc("1")
      SetConsoleMenuClose(nKey == Asc("1"))
      Qqout(if(SetConsoleMenuClose(), '  enabled', '  disabled'))
   endif
 end
return

#PRAGMA BEGINDUMP
#include "windows.h"
#include "hbapi.h"

BOOL WINAPI
SetConsoleMenuClose( IN BOOL fEnable );

// SetConsoleMenuClose( lEnable )  ->  lPreviousState
HB_FUNC( SETCONSOLEMENUCLOSE )
{
   HMENU hSysMenu = GetSystemMenu( GetConsoleWindow(), FALSE );

   if( hSysMenu )
   {
      BOOL fCurrent = ( GetMenuState( hSysMenu, SC_CLOSE, MF_BYCOMMAND
) & MF_GRAYED ) == FALSE;

      if( hb_pcount() )
      {
         BOOL fEnable = hb_parl( 1 );

         if( fCurrent != fEnable )
         {
            /*
               SetConsoleMenuClose() API really controls Close Menu
status, but "forgets"
               to gray close button on titlebar. EnableMenuItem() API
does this trick.
               Without SetConsoleMenuClose() clicking on titlebar icon
close button becomes enabled.
            */
            SetConsoleMenuClose( fEnable );
            EnableMenuItem( hSysMenu, SC_CLOSE, MF_BYCOMMAND | (
fEnable ? MF_ENABLED : MF_GRAYED ) );
         }
      }
      hb_retl( fCurrent );
   }
   else
      hb_retl( FALSE );
}
#PRAGMA ENDDUMP
<<<---

Best regards,
Saulius
From harbour.01 at syenar.hu  Fri Mar  5 04:23:31 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  5 04:23:43 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <0d6e01cabc37$f2a62b80$6600540a@euroherc.ba>
References: <14010698842.20100302123533@tlen.pl><398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu><1721565543.20100304115245@tlen.pl><0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu><20100304115104.GA14653@linux-4bod.home.aster.pl><151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu><20100304120538.GA14997@linux-4bod.home.aster.pl><ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu><20100304125244.GA16240@linux-4bod.home.aster.pl><A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu><20100304175246.GA20269@linux-4bod.home.aster.pl><75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu><152336657.20100305072842@tlen.pl><0d3301cabc33$5e7859a0$6600540a@euroherc.ba>
	<1036245572.20100305082518@tlen.pl>
	<0d6e01cabc37$f2a62b80$6600540a@euroherc.ba>
Message-ID: <F73B9BF0-1BEF-4DCA-85EE-4D4E856E1505@syenar.hu>

> ----- Original Message ----- From: "Jaroslaw Kadziola" <kadziola@tlen.pl>
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Sent: Friday, March 05, 2010 8:25 AM
> Subject: Re: [Harbour] Wrong hbsms
> 
> 
>> To send sms' i'm using Nokia phone plugged to usb port.
>> In system must be installed modem driver (for this phone model).
> 
> 
> as messaging device, we currently use industrial siemens box [it is fixed, not portable], plugged into serial/com, custom made vb6 app using mscomm32.ocx, running on win/2003/64, but also sometimes having hangouts while waiting on gsm responses/confirmations, so i am seeking for some improvements 

hbsms was a generic solution using standard AT 
modem commands via serial communication to the 
device.

I don't want to offend anyone here by contributing 
code and not being able to give "proper" support 
for it, and seemingly no one else wanted to touch 
it with a stick, so it's better for everyone if 
such abandoned piece of code is missing from our 
SVN. Anyhow the code is accessible, so those who 
find it useful can keep using it. As for telepathy 
which is another buggy piece of code in Harbour, 
I hope one day someone will fix it.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Mar  5 04:32:43 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  5 04:32:54 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
	<4B8FB7D4.1030006@gmail.com>
	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>
	<4B8FCBDD.50804@gmail.com>
	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
	<4B900852.8000008@gmail.com>
	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
	<4B907910.3070504@gmail.com>
	<2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
Message-ID: <9218B7C7-D3EE-40A4-8550-AAB269F67FDB@syenar.hu>

Thank you. I did implement similar a few days ago in GTWIN.

SetConsoleMenuClose() is an undocumented Windows API function, 
so IMO it's not a good idea to use it in Harbour.

Brgds,
Viktor

On 2010 Mar 5, at 10:19, Saulius Zrelskis wrote:

> [for those interested]
> Sample below really controls console close button on Windows XP and
> later systems. Please test it and enjoy:)
> 
> --->>>
> #include 'inkey.ch'
> 
> proc main()
>  local nKey
> 
> while (nKey := Inkey(0)) # K_ESC
>   Qout(Str(nKey) +'  "' +Chr(nKey) +'"')
>   if nKey == Asc("0") .or. nKey == Asc("1")
>      SetConsoleMenuClose(nKey == Asc("1"))
>      Qqout(if(SetConsoleMenuClose(), '  enabled', '  disabled'))
>   endif
> end
> return
> 
> #PRAGMA BEGINDUMP
> #include "windows.h"
> #include "hbapi.h"
> 
> BOOL WINAPI
> SetConsoleMenuClose( IN BOOL fEnable );
> 
> // SetConsoleMenuClose( lEnable )  ->  lPreviousState
> HB_FUNC( SETCONSOLEMENUCLOSE )
> {
>   HMENU hSysMenu = GetSystemMenu( GetConsoleWindow(), FALSE );
> 
>   if( hSysMenu )
>   {
>      BOOL fCurrent = ( GetMenuState( hSysMenu, SC_CLOSE, MF_BYCOMMAND
> ) & MF_GRAYED ) == FALSE;
> 
>      if( hb_pcount() )
>      {
>         BOOL fEnable = hb_parl( 1 );
> 
>         if( fCurrent != fEnable )
>         {
>            /*
>               SetConsoleMenuClose() API really controls Close Menu
> status, but "forgets"
>               to gray close button on titlebar. EnableMenuItem() API
> does this trick.
>               Without SetConsoleMenuClose() clicking on titlebar icon
> close button becomes enabled.
>            */
>            SetConsoleMenuClose( fEnable );
>            EnableMenuItem( hSysMenu, SC_CLOSE, MF_BYCOMMAND | (
> fEnable ? MF_ENABLED : MF_GRAYED ) );
>         }
>      }
>      hb_retl( fCurrent );
>   }
>   else
>      hb_retl( FALSE );
> }
> #PRAGMA ENDDUMP
> <<<---
> 
> Best regards,
> Saulius
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From marcobra.ubuntu at gmail.com  Fri Mar  5 04:56:08 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Mar  5 04:56:19 2010
Subject: [Harbour] Re: hbide (Rev. 14053): source code and function 
	list...
In-Reply-To: <1267714332673-4674696.post@n2.nabble.com>
References: <fd76479f1003040315i300c9f48xb1e8da608755c630@mail.gmail.com>
	<1267714332673-4674696.post@n2.nabble.com>
Message-ID: <fd76479f1003050156g65481a4cweddd7dd578b4281d@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: Schermata-Harbour IDE (Rev.
	14058)[-home-ubuntu-mb-ubuntu-optimizer-mb-ubuntu-optimizer-119-mb-ubuntu-optimizer-119.prg].png
Type: image/png
Size: 14270 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/6c4c843c/Schermata-HarbourIDERev.14058-home-ubuntu-mb-ubuntu-optimizer-mb-ubuntu-optimizer-119-mb-ubuntu-optimizer-119.prg-0001.png
From labitas at gmail.com  Fri Mar  5 05:08:36 2010
From: labitas at gmail.com (Saulius Zrelskis)
Date: Fri Mar  5 05:08:45 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <9218B7C7-D3EE-40A4-8550-AAB269F67FDB@syenar.hu>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
	<4B8FCBDD.50804@gmail.com>
	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
	<4B900852.8000008@gmail.com>
	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
	<4B907910.3070504@gmail.com>
	<2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
	<9218B7C7-D3EE-40A4-8550-AAB269F67FDB@syenar.hu>
Message-ID: <2386af1b1003050208y2288d56cl88cf33b694a7d04@mail.gmail.com>

> SetConsoleMenuClose() is an undocumented Windows API function,
> so IMO it's not a good idea to use it in Harbour.

We are familiar with undocumented things since Clipper days.
And Harbour is and must be compatible with it 100% :)

Best regards,
Saulius
From e.m.giordano at emagsoftware.it  Fri Mar  5 05:10:54 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Mar  5 05:11:03 2010
Subject: [Harbour] DBI_PASSWORD
References: <E18050DD68C540D7B612A5BC4E36D524@emag><20100303092448.GA16679@linux-4bod.home.aster.pl>
	<A2AECA616D6B4B4D948E35FA7A049E01@emag>
Message-ID: <122F6B65079E4992AA924CCECDEF3829@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 5 marzo 2010 9.14
Oggetto: Re: [Harbour] DBI_PASSWORD

One more question: is it safe to use DBI_PASSWORD to crypt DBFs without memo 
fields?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Fri Mar  5 05:13:34 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  5 05:13:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14059] trunk/harbour
Message-ID: <E1NnUXG-0003pL-Lg@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14059
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14059&view=rev
Author:   vszakats
Date:     2010-03-05 10:13:33 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 11:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddoci/sddoci.c
    ! Fixed OCILIB initalization to make OCI_GetLastError() work.
      (Thanks to OCILIB author Vincent Rogier for the report 
      and fix)

  * src/rtl/gtwin/gtwin.c
    % Simplified the way close button status is retrieved (based 
      on code posted Saulius Zrelskis)
    + Added code to disable 'close' menu also. This is using 
      undocumented Windows API call, so by default the logic 
      is disabled, and can be enabled with HB_GTWIN_UNDOC_WINAPI 
      macro. (Thanks to Saulius Zrelskis for this API tip)
      (NOTE: All 'close' controls are controlled by HB_GTI_CLOSABLE)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Mar  5 05:16:54 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  5 05:17:12 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <2386af1b1003050208y2288d56cl88cf33b694a7d04@mail.gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>
	<4B8FCBDD.50804@gmail.com>
	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
	<4B900852.8000008@gmail.com>
	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
	<4B907910.3070504@gmail.com>
	<2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
	<9218B7C7-D3EE-40A4-8550-AAB269F67FDB@syenar.hu>
	<2386af1b1003050208y2288d56cl88cf33b694a7d04@mail.gmail.com>
Message-ID: <CBE8E581-3AC7-4292-8370-CE83A5B6F621@syenar.hu>

Hi,

>> SetConsoleMenuClose() is an undocumented Windows API function,
>> so IMO it's not a good idea to use it in Harbour.
> 
> We are familiar with undocumented things since Clipper days.

That's okay, but it's quite dangerous thing to do, 
as the API may disappear (easy to handle, see commit), 
but worst it can also be changed (f.e. its parameters), 
which will cause an instant crash in Harbour.

BTW, even in current committed implementation I don't 
know the return value of this API, I assumed it's BOOL, 
but can be void or anything. Maybe it doesn't matter in 
this callconv, but dangerous anyway.

> And Harbour is and must be compatible with it 100% :)

Okay, but this is not a Clipper compatibility issue.

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Mar  5 05:30:28 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar  5 05:30:36 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
References: <4B8FB7D4.1030006@gmail.com>
	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>
	<4B8FCBDD.50804@gmail.com>
	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
	<4B900852.8000008@gmail.com>
	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
	<4B907910.3070504@gmail.com>
	<2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
Message-ID: <20100305103028.GA15699@linux-4bod.home.aster.pl>

On Fri, 05 Mar 2010, Saulius Zrelskis wrote:

Hi,

> [for those interested]
> Sample below really controls console close button on Windows XP and
> later systems. Please test it and enjoy:)

Yes it is and we have exactly such code in our GTWIN (unfortunately it
needs GetConsoleWindow() so it does not work with older Windows versions)
and it can be enabled by:
   hb_gtInfo( HB_GTI_CLOSABLE, .F. )
Viktor added it few days ago with additional code which safe and restore
original settings so Harbour applications does not change [X] button state
for other applications executing in the same console.

The problem is that you send message wrongly informing that it's possible
to catch CTRL_CLOSE_EVENT and block it when in fact it's not possible.
If application ignores above event then after few seconds OS displays
message box asking user to terminate the application.
This OS behavior can be controlled in very limited way and only on very
few windows versions so it's not sth what we should ever try to use.

BTW I would like to note that this event handler is executed by
separate non HVM thread. It means that it's illegal to call any
HVM functions like hb_set[SG]etCancel() from this handler,

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar  5 05:34:37 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar  5 05:34:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14059] trunk/harbour
In-Reply-To: <E1NnUXG-0003pL-Lg@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NnUXG-0003pL-Lg@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <3CAE85E9-2A69-48DB-A46D-186DF18315FB@syenar.hu>

>    + Added code to disable 'close' menu also. This is using 
>      undocumented Windows API call, so by default the logic 
>      is disabled, and can be enabled with HB_GTWIN_UNDOC_WINAPI 
>      macro. (Thanks to Saulius Zrelskis for this API tip)
>      (NOTE: All 'close' controls are controlled by HB_GTI_CLOSABLE)

Correction: HB_GTWIN_USE_UNDOC_WINAPI

Brgds,
Viktor

From maurilio.longo at libero.it  Fri Mar  5 05:38:52 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Mar  5 05:39:05 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <F73B9BF0-1BEF-4DCA-85EE-4D4E856E1505@syenar.hu>
References: <14010698842.20100302123533@tlen.pl><398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu><1721565543.20100304115245@tlen.pl><0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu><20100304115104.GA14653@linux-4bod.home.aster.pl><151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu><20100304120538.GA14997@linux-4bod.home.aster.pl><ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu><20100304125244.GA16240@linux-4bod.home.aster.pl><A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu><20100304175246.GA20269@linux-4bod.home.aster.pl><75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu><152336657.20100305072842@tlen.pl><0d3301cabc33$5e7859a0$6600540a@euroherc.ba>	<1036245572.20100305082518@tlen.pl>	<0d6e01cabc37$f2a62b80$6600540a@euroherc.ba>
	<F73B9BF0-1BEF-4DCA-85EE-4D4E856E1505@syenar.hu>
Message-ID: <4B90DF3C.7080208@libero.it>

Viktor,

I did contribute tp_ on xharbour as a 'proof of concept' for a program I was
developing on linux which needed serial communication and compatibility with
the original telepathy API. The project was cancelled a few weeks after my
contribution.

My code was a refinement of a previous library I found googling around and, in
its limited scope, was able to communicate through a modem.

Now, the midnight bug could have been fixed by me or by any other one using
it; I think it is against the 'market and bazaar' idea upon which free
software is built to remove every contribution which is not fully bug-free.

And, it is also against the very same idea to feel personally committed in
keeping code sent to contrib when someone finds a bug.

I mean, keep it easy, if you don't have time to fix each and every reported
bug, don't do it. If someone needs that bug-fix _he_ will find a way to fix it
and/or will search for some other solution.

Removing your code you make harbour as a whole less inspiring and less able to
solve problems, which is against what a compiler/language should be, IMHO, in
the first place.

My best regards.

Maurilio.


Viktor Szak?ts wrote:
>> ----- Original Message ----- From: "Jaroslaw Kadziola" <kadziola@tlen.pl>
>> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
>> Sent: Friday, March 05, 2010 8:25 AM
>> Subject: Re: [Harbour] Wrong hbsms
>>
>>
>>> To send sms' i'm using Nokia phone plugged to usb port.
>>> In system must be installed modem driver (for this phone model).
>>
>> as messaging device, we currently use industrial siemens box [it is fixed, not portable], plugged into serial/com, custom made vb6 app using mscomm32.ocx, running on win/2003/64, but also sometimes having hangouts while waiting on gsm responses/confirmations, so i am seeking for some improvements 
> 
> hbsms was a generic solution using standard AT 
> modem commands via serial communication to the 
> device.
> 
> I don't want to offend anyone here by contributing 
> code and not being able to give "proper" support 
> for it, and seemingly no one else wanted to touch 
> it with a stick, so it's better for everyone if 
> such abandoned piece of code is missing from our 
> SVN. Anyhow the code is accessible, so those who 
> find it useful can keep using it. As for telepathy 
> which is another buggy piece of code in Harbour, 
> I hope one day someone will fix it.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Fri Mar  5 05:39:25 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar  5 05:39:33 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <2386af1b1003050208y2288d56cl88cf33b694a7d04@mail.gmail.com>
References: <4B8FCBDD.50804@gmail.com>
	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>
	<4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
	<4B900852.8000008@gmail.com>
	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
	<4B907910.3070504@gmail.com>
	<2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
	<9218B7C7-D3EE-40A4-8550-AAB269F67FDB@syenar.hu>
	<2386af1b1003050208y2288d56cl88cf33b694a7d04@mail.gmail.com>
Message-ID: <20100305103925.GA23073@linux-4bod.home.aster.pl>

On Fri, 05 Mar 2010, Saulius Zrelskis wrote:

Hi,

> > SetConsoleMenuClose() is an undocumented Windows API function,
> > so IMO it's not a good idea to use it in Harbour.
> We are familiar with undocumented things since Clipper days.
> And Harbour is and must be compatible with it 100% :)

Do you know which windows version accepts SetConsoleMenuClose()
and other functions like SetConsolePalette()?

If this is commonly supported functionality then we can add some
extension to GTWIN.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar  5 05:51:16 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  5 05:51:28 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <4B90DF3C.7080208@libero.it>
References: <14010698842.20100302123533@tlen.pl><398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu><1721565543.20100304115245@tlen.pl><0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu><20100304115104.GA14653@linux-4bod.home.aster.pl><151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu><20100304120538.GA14997@linux-4bod.home.aster.pl><ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu><20100304125244.GA16240@linux-4bod.home.aster.pl><A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu><20100304175246.GA20269@linux-4bod.home.aster.pl><75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu><152336657.20100305072842@tlen.pl><0d3301cabc33$5e7859a0$6600540a@euroherc.ba>	<1036245572.20100305082518@tlen.pl>	<0d6e01cabc37$f2a62b80$6600540a@euroherc.ba>
	<F73B9BF0-1BEF-4DCA-85EE-4D4E856E1505@syenar.hu>
	<4B90DF3C.7080208@libero.it>
Message-ID: <E9830C02-DF10-40C3-9726-685BA0CFF711@syenar.hu>

Hi Maurilio,

> I did contribute tp_ on xharbour as a 'proof of concept' for a program I was
> developing on linux which needed serial communication and compatibility with
> the original telepathy API. The project was cancelled a few weeks after my
> contribution.
> 
> My code was a refinement of a previous library I found googling around and, in
> its limited scope, was able to communicate through a modem.
> 
> Now, the midnight bug could have been fixed by me or by any other one using
> it; I think it is against the 'market and bazaar' idea upon which free
> software is built to remove every contribution which is not fully bug-free.

No personal offense meant towards you, and I agree with you, 
and your contribution is much appreciated. I tried to add my 
own to hbtpathy, but I have my limits (like everyone else).

> And, it is also against the very same idea to feel personally committed in
> keeping code sent to contrib when someone finds a bug.
> 
> I mean, keep it easy, if you don't have time to fix each and every reported
> bug, don't do it. If someone needs that bug-fix _he_ will find a way to fix it
> and/or will search for some other solution.

You're absolutely right.

> Removing your code you make harbour as a whole less inspiring and less able to
> solve problems, which is against what a compiler/language should be, IMHO, in
> the first place.

For me this was the saddest thing since a long time around 
here. One does this for fun, personal appreciation, now in 
case of hbsms, all I got was basically nothing, spiced with 
some mild insult. And I don't need that, and honestly it's 
quite strange to see such low level of appreciation in ones 
work (or at least time).

Thanks for your words.

Brgds,
Viktor

From marcobra.ubuntu at gmail.com  Fri Mar  5 05:54:16 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Mar  5 05:54:24 2010
Subject: [Harbour] Still have problems to compile mysql test sample
In-Reply-To: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>
References: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>
Message-ID: <fd76479f1003050254t4411f065y14a1e9ff44f7726a@mail.gmail.com>

Bruno try this (tested on Ubuntu 9.10)

sudo apt-get update
sudo apt-get install libmysqlclient-dev

edit the file

gedit ~/src/harbour/contrib/hbmysql/hbmysql.hbc

Change the row:
{unix}libs=mysql

to

{unix}libs=mysqlclient

and retry.

Hope this helps.

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/c0f32015/attachment.html
From maurilio.longo at libero.it  Fri Mar  5 06:17:38 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Mar  5 06:17:50 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <4B90DF3C.7080208@libero.it>
References: <14010698842.20100302123533@tlen.pl><398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu><1721565543.20100304115245@tlen.pl><0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu><20100304115104.GA14653@linux-4bod.home.aster.pl><151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu><20100304120538.GA14997@linux-4bod.home.aster.pl><ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu><20100304125244.GA16240@linux-4bod.home.aster.pl><A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu><20100304175246.GA20269@linux-4bod.home.aster.pl><75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu><152336657.20100305072842@tlen.pl><0d3301cabc33$5e7859a0$6600540a@euroherc.ba>	<1036245572.20100305082518@tlen.pl>	<0d6e01cabc37$f2a62b80$6600540a@euroherc.ba>	<F73B9BF0-1BEF-4DCA-85EE-4D4E856E1505@syenar.hu>
	<4B90DF3C.7080208@libero.it>
Message-ID: <4B90E852.2000807@libero.it>

It is 'the cathedral and the bazaar' :)

http://catb.org/~esr/writings/homesteading/cathedral-bazaar/

and not 'market', sic! :)

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Fri Mar  5 06:48:42 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Mar  5 06:49:04 2010
Subject: [Harbour] OS/2: Harbour 14058
Message-ID: <4B90EF9A.2040809@mail.udg.mx>

Pritpal:

Tests with fresh checkout:

  * $Id: ChangeLog 14058 2010-03-04 18:43:51Z druzus $
  2010-03-04 19:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

so we have a newer Harbour and same os2Qt461


>>
>> so in this test both crashes are within MsgInfo() function trying to
>> clean/discard oMB object
>>

>And the destruction by GC is not what Qt likes.
>It has its own "scopes" which interferes with Harbour's.
>I am struggling with this phenomena most of the time
>than development.

demoqt.prg
==========
Testing with:
    MsgInfo( "Testing" )

result exactly same problem reported before

This is (1,2) output:

------------------------------------
demoqt.prg:127:MAIN(): HB_TR_ALWAYS
demoqt.prg:128:MAIN(): HB_TR_ALWAYS -----------------b-----------------

Exception c0000005 at address 0x1de369ca

     Exception Code:C0000005
     Exception Address:1DE369CA
     EAX:00000001  EBX:02905FCC  ECX:02905FD4  EDX:00000001
     ESI:00000000  EDI:00000000  EBP:002FFB68
     CS:EIP:005B:1DE369CA  SS:ESP:0053:002FFB50
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from MSGINFO(604) in demoqt.prg
Called from MAIN(131) in demoqt.prg

Killed by SIGSEGV
pid=0x44e4 ppid=0x0043 tid=0x0001 slot=0x009b pri=0x0200 mc=0x0001
E:\HARBOUR103\HARBOUR\CONTRIB\HBQT\TESTS\DEMOQT.EXE
LIBC063 0:000669ca
cs:eip=005b:1de369ca      ss:esp=0053:002ffb50      ebp=002ffb68
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=02905fcc ecx=02905fd4 edx=00000001 edi=00000000
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
------------------------------------

and testing without:
    MsgInfo( "Testing" )

result exactly same problem reported before
   Called from QT_QWIDGET_RESIZE(0)
   Called from QMAINWINDOW:RESIZE(0) in ../../../TQWidget.prg

This is (1,2) output:

------------------------------------
demoqt.prg:127:MAIN(): HB_TR_ALWAYS
demoqt.prg:128:MAIN(): HB_TR_ALWAYS -----------------b-----------------

Exception c0000005 at address 0x1e8af6f8

     Exception Code:C0000005
     Exception Address:1E8AF6F8
     EAX:00000013  EBX:0050F2A0  ECX:00000012  EDX:00000358
     ESI:029A0D64  EDI:02B40980  EBP:002FED10
     CS:EIP:005B:1E8AF6F8  SS:ESP:0053:002FE7D8
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010206
Called from QT_QWIDGET_RESIZE(0)
Called from QMAINWINDOW:RESIZE(0) in ../../../TQWidget.prg
Called from MAIN(141) in demoqt.prg

Killed by SIGSEGV
pid=0x4500 ppid=0x0043 tid=0x0001 slot=0x00a4 pri=0x0200 mc=0x0001
E:\HARBOUR103\HARBOUR\CONTRIB\HBQT\TESTS\DEMOQT.EXE
PMMERGE 3:0007f6f8
cs:eip=005b:1e8af6f8      ss:esp=0053:002fe7d8      ebp=002fed10
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010206
eax=00000013 ebx=0050f2a0 ecx=00000012 edx=00000358 edi=02b40980
esi=029a0d64
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
------------------------------------


>> Did you checked "OS/2: Harbour 14019" message ?
>>

>Yes. But the time you sent message I had changed the
>hbIDE code a lot which denied me to reach a logical conclusion.
>I will commit a big change within a day, so please make tests
>after that.


hbide project
=============

Same problem reported before, in 14019, as least in behaviour:

My description was:
-----------------------------
New failure

When run, show logo, build window with content and CRASH in 5 seconds
without human intervention. Tested many times and same behaviour

Something changed in hbqt*, hbide. With 13976 was running with some
failures, but do not crash in 5 seconds
Initial window size is different in both versions
-----------------------------


This is (1,2) output:

------------------------------------
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS NIL
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFuncList", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockHelp", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockSkeleton", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFindInFiles", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockThemes", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockProperties", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockEnvironments", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockDocViewer", which already has a layout

Exception c0000005 at address 0x1de369ca

     Exception Code:C0000005
     Exception Address:1DE369CA
     EAX:00000001  EBX:02BC042C  ECX:02BC0434  EDX:00000001
     ESI:00000000  EDI:02BD0434  EBP:0059FCE8
     CS:EIP:005B:1DE369CA  SS:ESP:0053:0059FCD0
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from HBIDE:CREATE(467) in hbide.prg
Called from MAIN(117) in hbide.prg

Killed by SIGSEGV
pid=0x44dc ppid=0x0043 tid=0x0001 slot=0x009b pri=0x0200 mc=0x0001
E:\HARBOUR103\HARBOUR\CONTRIB\HBIDE\HBIDE.EXE
LIBC063 0:000669ca
cs:eip=005b:1de369ca      ss:esp=0053:0059fcd0      ebp=0059fce8
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=02bc042c ecx=02bc0434 edx=00000001 edi=02bd0434
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
------------------------------------

David Macias



From harbour.01 at syenar.hu  Fri Mar  5 07:03:55 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  5 07:04:04 2010
Subject: [Harbour] Wrong hbsms
In-Reply-To: <4B90E852.2000807@libero.it>
References: <14010698842.20100302123533@tlen.pl><398D4530-6CBB-4E15-8491-4116A9A5ABFA@syenar.hu><1721565543.20100304115245@tlen.pl><0AC578C7-A9BB-4321-B79D-FCD9334312B0@syenar.hu><20100304115104.GA14653@linux-4bod.home.aster.pl><151F4B87-221E-4C5D-955D-D8FADDA99140@syenar.hu><20100304120538.GA14997@linux-4bod.home.aster.pl><ECFAECF7-A6B8-4EE4-95BC-5B141B92C9C0@syenar.hu><20100304125244.GA16240@linux-4bod.home.aster.pl><A5DF0351-BCCE-4702-8E60-6C95429B8CBF@syenar.hu><20100304175246.GA20269@linux-4bod.home.aster.pl><75B141AE-F80B-42F4-BB68-A12CD1DFCE58@syenar.hu><152336657.20100305072842@tlen.pl><0d3301cabc33$5e7859a0$6600540a@euroherc.ba>	<1036245572.20100305082518@tlen.pl>	<0d6e01cabc37$f2a62b80$6600540a@euroherc.ba>	<F73B9BF0-1BEF-4DCA-85EE-4D4E856E1505@syenar.hu>
	<4B90DF3C.7080208@libero.it> <4B90E852.2000807@libero.it>
Message-ID: <8D1B2FB1-7869-4409-AFBB-0713923490FD@syenar.hu>

Yes.

Having said that, Harbour is much better quality 
than lots and lots of commercial software on the 
market. Not just the "perceived" quality (aka 
"it works for me" and "works in most cases"), 
but the whole "internal" quality also, which you 
cannot see at all in commercial software. 
Slightly off topic, but I had to note it.

Brgds,
Viktor

On 2010 Mar 5, at 12:17, Maurilio Longo wrote:

> It is 'the cathedral and the bazaar' :)
> 
> http://catb.org/~esr/writings/homesteading/cathedral-bazaar/
> 
> and not 'market', sic! :)
> 
> Best regards.
> 
> Maurilio.
> 
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From david at gesintur.com  Fri Mar  5 07:16:06 2010
From: david at gesintur.com (David MS)
Date: Fri Mar  5 07:16:20 2010
Subject: [Harbour] Re: Wrong hbsms (Viktor Szak?ts)
Message-ID: <9A357CB061FE4BFB838537C88D517769@INFOR04>

Viktor,

You shouldn't think so.
I think many people (like me) appreciate your effort and work of all 
developers,

Thanks to everyone who help making better Harbour.

Davis MS. 

From druzus at users.sourceforge.net  Fri Mar  5 07:19:51 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Mar  5 07:19:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14060] trunk/harbour
Message-ID: <E1NnWVT-000579-0x@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14060
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14060&view=rev
Author:   druzus
Date:     2010-03-05 12:19:49 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 13:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbrddnsx.h
  * harbour/src/rdd/dbfnsx/dbfnsx1.c
  * harbour/include/hbrddntx.h
  * harbour/src/rdd/dbfntx/dbfntx1.c
  * harbour/src/rdd/hsx/hsx.c
  * harbour/src/rdd/usrrdd/usrrdd.c
  * harbour/src/rtl/hbsocket.c
    ! fixed casting for compilers which needs strict aliasing rules

  * harbour/harbour.spec
    ! fixed typo in hbxpp library name
    ! fixed to work with SDDSQLT3 library

  * harbour/contrib/hbwin/olecore.c
    ! fixed buffer overflow caused by wrongly used sizeof() instead of
      HB_SIZEOFARRAY()

  * harbour/contrib/rddsql/sddodbc/sddodbc.c
    ! fixed wrongly used & operator

  * harbour/src/rtl/hbsocket.c
    ! fixed to compile with OpenWatcom Linux builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/harbour.spec
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/include/hbrddntx.h
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/hsx/hsx.c
    trunk/harbour/src/rdd/usrrdd/usrrdd.c
    trunk/harbour/src/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Fri Mar  5 07:27:33 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Mar  5 07:27:48 2010
Subject: [Harbour] Re: dlmalloc on OS/2
Message-ID: <4B90F8B5.6040106@mail.udg.mx>

Maurilio:

 >Error 8, that is  ERROR_NOT_ENOUGH_MEMORY.

 >With my last change, which uses a block obtained with a DosAlloc() with
 >OBJ_TILE, that is a block aligned to a 64Kb segment, in low memory and
 >with 16bit selectors set, it always works. This is on a SMP kernel
 >searching for a file on a samba share, so going throug IBM LanManager
 >(aka CIFS client) which is an old piece of code which might have some
 >old 16bit/protect mode code inside.


 >BTW, if we could be sure that some memory never goes to a DosXXX()
 >call, we could add a OBJ_ANY to the call, making OS/2 use memory above
 >the 512Mb limit that OBJ_TILE has; anyway, this is so a little
 >improvement in every day code, I don't think it's worth the time I've
 >spent writing about it here


 >firefox 3.x for OS/2 has this code

 >if (isWSEB)
 >[...]
 >So it seems newer kernels can/have to(?) use the FIL_STANDARDL flag
 >but, maybe, they work with the old one as well (my kernel is the last
 >one).


 >I've found out :)

 >I have version 4.0 toolkit documentation, that is, OS/2 Warp4 level,
 >the lastest is 4.5, in 4.5 documentation you can read:

 >----------------
 >Information levels designated L should be used in order to get complete
 > size information for files larger than 2GB. If information levels
 >designated L are not used, a size of one byte will be returned for
 >files which are >2GB in size.
 >----------------

 >Given that in harbour there is no (at the moment at least) 64bit file 
 >support for OS/2 I'd leave the current call.

 >2010-03-02 16:15 UTC+0100 Maurilio Longo (maurilio.longo at libero.it)
 >   * src/common/hbffind.c
 >     * hb_fsFindNextLow() to work reliably in my environment needs
 >       OBJ_TILE memory. I've found no documentation about this
 >       issue, maybe it's caused by old LAN Manager code when searching
 >       for files on network shares.


0) I do not know/understand what mean information above

1) so, I do not know how your changes/considerations impact rest of OS/2 
users ( you are now aware we are many  :-) )

2) Based on that, I make some comments:

2.a) Is convenient to follow firefox path ? I think yes
  So you can manage old and new kernels

2.b) Is convenient to manage files larger than 2 Gb ? I think yes

2.c) Can you prepare to manage "64bit file support" ? I think yes
  So you will be ready for future  :-)

2.d) I know you are aware of every movement which happen in OS/2 world, 
and maybe you tested already, ... but maybe no
  Days ago I removed "NETBIOS over TCP/IP" and installed .wpi files for 
Samba 3.0.37, from NetLabs
  ( Samba Server version 3.0.37 for eComStation (OS/2) 1.0.3 )
- Migrated shares
- Everything is working fine to/from OS/2 and WinXPPSP2, Linux Mandriva
- Problems with shares/visibility between OS/2 and rest are gone

So as in this way we do not have: "... going throug IBM LanManager (aka 
CIFS client) ..." I do not know if Harbour need some adjustment related 
to samba and/or 2Gb and/or 64bit files and/or your recent change

David Macias


From bruno.luciani at gmail.com  Fri Mar  5 07:33:05 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar  5 07:33:13 2010
Subject: [Harbour] Still have problems to compile mysql test sample
In-Reply-To: <fd76479f1003050254t4411f065y14a1e9ff44f7726a@mail.gmail.com>
References: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>
	<fd76479f1003050254t4411f065y14a1e9ff44f7726a@mail.gmail.com>
Message-ID: <133778361003050433p28eda617o2e72657dd1e326cf@mail.gmail.com>

Marco this is the same that I post in a next email

I found that library have a diferent name

This library works ok

{unix}libs=mysqlclient


But in another way the sample not work or something is missing (dbf )

Bruno



2010/3/5 marco bra <marcobra.ubuntu@gmail.com>

> Bruno try this (tested on Ubuntu 9.10)
>
> sudo apt-get update
> sudo apt-get install libmysqlclient-dev
>
> edit the file
>
> gedit ~/src/harbour/contrib/hbmysql/hbmysql.hbc
>
> Change the row:
> {unix}libs=mysql
>
> to
>
> {unix}libs=mysqlclient
>
> and retry.
>
> Hope this helps.
>
> Marco
>
>
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/f748db57/attachment.html
From smujohnson at gmail.com  Fri Mar  5 07:36:30 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Mar  5 07:36:37 2010
Subject: [Harbour] Still have problems to compile mysql test sample
In-Reply-To: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>
References: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>
Message-ID: <674e4ddd1003050436l4fc3f49dudc481a24adc3b315@mail.gmail.com>

What happens if you just try:   hbmk2 -lhbmysql test.prg

On Thu, Mar 4, 2010 at 6:16 PM, Bruno Luciani <bruno.luciani@gmail.com>wrote:

> This is hbmysql.hbc , hbmysql.a it is correct exist
>
> but whic library is mysql  ???
>
> What I am doing wrong ?
>
> Bruno
>
>
> #
> # $Id: hbmysql.hbc 13881 2010-02-15 22:48:29Z vszakats $
> #
>
> incpaths=.
>
> libs=hbmysql
> {unix}libs=mysql
> {!unix}libs=libmysql
>
>
> //////////////////////////////////
> ERROR/////////////////////////////////////////////////////////
>
> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2 test
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
> Harbour 2.1.0dev (Rev. 14025)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'test.prg'...
> Lines 205, Functions/Procedures 1
> Generating C source output to '/tmp/test.c'... Done.
> /usr/bin/ld: cannot find -lmysql
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc /tmp/test.o /tmp/hbmk_tfjuah.o   -Wl,--start-group -lhbmysql -lmysql
> -lhbcplr -lhbdebug -lgpm -lharbour  -Wl,--end-group -otest
> -L/usr/local/lib/harbour
> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2 test
>
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/a5162e7e/attachment.html
From bruno.luciani at gmail.com  Fri Mar  5 07:39:02 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar  5 07:39:13 2010
Subject: [Harbour] Still have problems to compile mysql test sample
In-Reply-To: <674e4ddd1003050436l4fc3f49dudc481a24adc3b315@mail.gmail.com>
References: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>
	<674e4ddd1003050436l4fc3f49dudc481a24adc3b315@mail.gmail.com>
Message-ID: <133778361003050439k1665fdafm51a76ca21cfc47c4@mail.gmail.com>

bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
-lhbmysql test
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
Harbour 2.1.0dev (Rev. 14025)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'test.prg'...
Lines 204, Functions/Procedures 1
Generating C source output to '/tmp/test.c'... Done.
bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
-lhbmysql test
hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
Harbour 2.1.0dev (Rev. 14025)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'test.prg'...
Lines 204, Functions/Procedures 1
Generating C source output to '/tmp/test.c'... Done.
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_ESCAPE_STRING_FROM_FILE':
mysql.c:(.text+0xab): undefined reference to `mysql_escape_string'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_ESCAPE_STRING':
mysql.c:(.text+0x115): undefined reference to `mysql_escape_string'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function `MYSQL_release':
mysql.c:(.text+0x158): undefined reference to `mysql_close'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_CLOSE':
mysql.c:(.text+0x19b): undefined reference to `mysql_close'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`MYSQL_RES_release':
mysql.c:(.text+0x1c8): undefined reference to `mysql_free_result'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_FREE_RESULT':
mysql.c:(.text+0x20b): undefined reference to `mysql_free_result'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_REAL_CONNECT':
mysql.c:(.text+0x2b1): undefined reference to `mysql_init'
mysql.c:(.text+0x2ec): undefined reference to `mysql_real_connect'
mysql.c:(.text+0x33c): undefined reference to `mysql_close'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_NUM_FIELDS':
mysql.c:(.text+0x378): undefined reference to `mysql_num_fields'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_INSERT_ID':
mysql.c:(.text+0x3e8): undefined reference to `mysql_insert_id'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_NUM_ROWS':
mysql.c:(.text+0x458): undefined reference to `mysql_num_rows'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_FETCH_ROW':
mysql.c:(.text+0x4cb): undefined reference to `mysql_num_fields'
mysql.c:(.text+0x4e0): undefined reference to `mysql_fetch_row'
mysql.c:(.text+0x4ee): undefined reference to `mysql_fetch_lengths'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_DATA_SEEK':
mysql.c:(.text+0x591): undefined reference to `mysql_data_seek'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_FETCH_FIELD':
mysql.c:(.text+0x620): undefined reference to `mysql_fetch_field'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_FIELD_SEEK':
mysql.c:(.text+0x769): undefined reference to `mysql_field_seek'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_GET_SERVER_VERSION':
mysql.c:(.text+0x7d8): undefined reference to `mysql_get_server_version'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_COMMIT':
mysql.c:(.text+0x848): undefined reference to `mysql_commit'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_ROLLBACK':
mysql.c:(.text+0x8b8): undefined reference to `mysql_rollback'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_SELECT_DB':
mysql.c:(.text+0x939): undefined reference to `mysql_select_db'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_QUERY':
mysql.c:(.text+0x9c9): undefined reference to `mysql_query'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_USE_RESULT':
mysql.c:(.text+0xa49): undefined reference to `mysql_use_result'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_FIELD_COUNT':
mysql.c:(.text+0xaf8): undefined reference to `mysql_field_count'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_ERROR':
mysql.c:(.text+0xb68): undefined reference to `mysql_error'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_LIST_DBS':
mysql.c:(.text+0xbe3): undefined reference to `mysql_list_dbs'
mysql.c:(.text+0xbed): undefined reference to `mysql_num_rows'
mysql.c:(.text+0xc0f): undefined reference to `mysql_fetch_row'
mysql.c:(.text+0xc30): undefined reference to `mysql_free_result'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_LIST_TABLES':
mysql.c:(.text+0xcbb): undefined reference to `mysql_list_tables'
mysql.c:(.text+0xcc5): undefined reference to `mysql_num_rows'
mysql.c:(.text+0xce7): undefined reference to `mysql_fetch_row'
mysql.c:(.text+0xd08): undefined reference to `mysql_free_result'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_AFFECTED_ROWS':
mysql.c:(.text+0xd88): undefined reference to `mysql_affected_rows'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_GET_HOST_INFO':
mysql.c:(.text+0xdf8): undefined reference to `mysql_get_host_info'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_GET_SERVER_INFO':
mysql.c:(.text+0xe68): undefined reference to `mysql_get_server_info'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_STORE_RESULT':
mysql.c:(.text+0xed9): undefined reference to `mysql_store_result'
/usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
`HB_FUN_MYSQL_LIST_FIELDS':
mysql.c:(.text+0xfa1): undefined reference to `mysql_list_fields'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc /tmp/test.o /tmp/hbmk_8j8tll.o   -Wl,--start-group -lhbmysql -lhbcplr
-lhbdebug -lgpm -lharbour  -Wl,--end-group -otest -L/usr/local/lib/harbour
bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$


2010/3/5 smu johnson <smujohnson@gmail.com>

> What happens if you just try:   hbmk2 -lhbmysql test.prg
>
> On Thu, Mar 4, 2010 at 6:16 PM, Bruno Luciani <bruno.luciani@gmail.com>wrote:
>
>> This is hbmysql.hbc , hbmysql.a it is correct exist
>>
>> but whic library is mysql  ???
>>
>> What I am doing wrong ?
>>
>> Bruno
>>
>>
>> #
>> # $Id: hbmysql.hbc 13881 2010-02-15 22:48:29Z vszakats $
>> #
>>
>> incpaths=.
>>
>> libs=hbmysql
>> {unix}libs=mysql
>> {!unix}libs=libmysql
>>
>>
>> //////////////////////////////////
>> ERROR/////////////////////////////////////////////////////////
>>
>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>> test
>> hbmk2: Processing local make script: hbmk.hbm
>> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
>> Harbour 2.1.0dev (Rev. 14025)
>> Copyright (c) 1999-2010, http://www.harbour-project.org/
>> Compiling 'test.prg'...
>> Lines 205, Functions/Procedures 1
>> Generating C source output to '/tmp/test.c'... Done.
>> /usr/bin/ld: cannot find -lmysql
>> collect2: ld returned 1 exit status
>> hbmk2: Error: Running linker. 1
>> gcc /tmp/test.o /tmp/hbmk_tfjuah.o   -Wl,--start-group -lhbmysql -lmysql
>> -lhbcplr -lhbdebug -lgpm -lharbour  -Wl,--end-group -otest
>> -L/usr/local/lib/harbour
>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>> test
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/1c2f870a/attachment-0001.html
From bruno.luciani at gmail.com  Fri Mar  5 07:40:11 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar  5 07:40:19 2010
Subject: [Harbour] Still have problems to compile mysql test sample
In-Reply-To: <674e4ddd1003050436l4fc3f49dudc481a24adc3b315@mail.gmail.com>
References: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>
	<674e4ddd1003050436l4fc3f49dudc481a24adc3b315@mail.gmail.com>
Message-ID: <133778361003050440jdef5653j3e6c74ab8857a03b@mail.gmail.com>

This is the correct command in linux

hbmk2 -lhbmysql -lmysqlclient  test


but sample not work , because is wrong or a DBF is missing

Bruno


2010/3/5 smu johnson <smujohnson@gmail.com>

> What happens if you just try:   hbmk2 -lhbmysql test.prg
>
> On Thu, Mar 4, 2010 at 6:16 PM, Bruno Luciani <bruno.luciani@gmail.com>wrote:
>
>> This is hbmysql.hbc , hbmysql.a it is correct exist
>>
>> but whic library is mysql  ???
>>
>> What I am doing wrong ?
>>
>> Bruno
>>
>>
>> #
>> # $Id: hbmysql.hbc 13881 2010-02-15 22:48:29Z vszakats $
>> #
>>
>> incpaths=.
>>
>> libs=hbmysql
>> {unix}libs=mysql
>> {!unix}libs=libmysql
>>
>>
>> //////////////////////////////////
>> ERROR/////////////////////////////////////////////////////////
>>
>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>> test
>> hbmk2: Processing local make script: hbmk.hbm
>> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
>> Harbour 2.1.0dev (Rev. 14025)
>> Copyright (c) 1999-2010, http://www.harbour-project.org/
>> Compiling 'test.prg'...
>> Lines 205, Functions/Procedures 1
>> Generating C source output to '/tmp/test.c'... Done.
>> /usr/bin/ld: cannot find -lmysql
>> collect2: ld returned 1 exit status
>> hbmk2: Error: Running linker. 1
>> gcc /tmp/test.o /tmp/hbmk_tfjuah.o   -Wl,--start-group -lhbmysql -lmysql
>> -lhbcplr -lhbdebug -lgpm -lharbour  -Wl,--end-group -otest
>> -L/usr/local/lib/harbour
>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>> test
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/29c811fc/attachment.html
From smujohnson at gmail.com  Fri Mar  5 07:45:46 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Mar  5 07:45:55 2010
Subject: [Harbour] Still have problems to compile mysql test sample
In-Reply-To: <133778361003050439k1665fdafm51a76ca21cfc47c4@mail.gmail.com>
References: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>
	<674e4ddd1003050436l4fc3f49dudc481a24adc3b315@mail.gmail.com>
	<133778361003050439k1665fdafm51a76ca21cfc47c4@mail.gmail.com>
Message-ID: <674e4ddd1003050445y1951814fq7f1bd790917432b4@mail.gmail.com>

I wish I knew more about this... but do you have a Mysql daemon installed on
your Linux machine?  If so, I don't know the answer to your question :(

On Fri, Mar 5, 2010 at 4:39 AM, Bruno Luciani <bruno.luciani@gmail.com>wrote:

> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
> -lhbmysql test
>
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
> Harbour 2.1.0dev (Rev. 14025)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'test.prg'...
> Lines 204, Functions/Procedures 1
>
> Generating C source output to '/tmp/test.c'... Done.
>  bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
> -lhbmysql test
>
> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
> Harbour 2.1.0dev (Rev. 14025)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'test.prg'...
> Lines 204, Functions/Procedures 1
>
> Generating C source output to '/tmp/test.c'... Done.
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_ESCAPE_STRING_FROM_FILE':
> mysql.c:(.text+0xab): undefined reference to `mysql_escape_string'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_ESCAPE_STRING':
> mysql.c:(.text+0x115): undefined reference to `mysql_escape_string'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function `MYSQL_release':
> mysql.c:(.text+0x158): undefined reference to `mysql_close'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_CLOSE':
> mysql.c:(.text+0x19b): undefined reference to `mysql_close'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `MYSQL_RES_release':
> mysql.c:(.text+0x1c8): undefined reference to `mysql_free_result'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_FREE_RESULT':
> mysql.c:(.text+0x20b): undefined reference to `mysql_free_result'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_REAL_CONNECT':
> mysql.c:(.text+0x2b1): undefined reference to `mysql_init'
> mysql.c:(.text+0x2ec): undefined reference to `mysql_real_connect'
> mysql.c:(.text+0x33c): undefined reference to `mysql_close'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_NUM_FIELDS':
> mysql.c:(.text+0x378): undefined reference to `mysql_num_fields'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_INSERT_ID':
> mysql.c:(.text+0x3e8): undefined reference to `mysql_insert_id'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_NUM_ROWS':
> mysql.c:(.text+0x458): undefined reference to `mysql_num_rows'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_FETCH_ROW':
> mysql.c:(.text+0x4cb): undefined reference to `mysql_num_fields'
> mysql.c:(.text+0x4e0): undefined reference to `mysql_fetch_row'
> mysql.c:(.text+0x4ee): undefined reference to `mysql_fetch_lengths'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_DATA_SEEK':
> mysql.c:(.text+0x591): undefined reference to `mysql_data_seek'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_FETCH_FIELD':
> mysql.c:(.text+0x620): undefined reference to `mysql_fetch_field'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_FIELD_SEEK':
> mysql.c:(.text+0x769): undefined reference to `mysql_field_seek'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_GET_SERVER_VERSION':
> mysql.c:(.text+0x7d8): undefined reference to `mysql_get_server_version'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_COMMIT':
> mysql.c:(.text+0x848): undefined reference to `mysql_commit'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_ROLLBACK':
> mysql.c:(.text+0x8b8): undefined reference to `mysql_rollback'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_SELECT_DB':
> mysql.c:(.text+0x939): undefined reference to `mysql_select_db'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_QUERY':
> mysql.c:(.text+0x9c9): undefined reference to `mysql_query'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_USE_RESULT':
> mysql.c:(.text+0xa49): undefined reference to `mysql_use_result'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_FIELD_COUNT':
> mysql.c:(.text+0xaf8): undefined reference to `mysql_field_count'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_ERROR':
> mysql.c:(.text+0xb68): undefined reference to `mysql_error'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_LIST_DBS':
> mysql.c:(.text+0xbe3): undefined reference to `mysql_list_dbs'
> mysql.c:(.text+0xbed): undefined reference to `mysql_num_rows'
> mysql.c:(.text+0xc0f): undefined reference to `mysql_fetch_row'
> mysql.c:(.text+0xc30): undefined reference to `mysql_free_result'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_LIST_TABLES':
> mysql.c:(.text+0xcbb): undefined reference to `mysql_list_tables'
> mysql.c:(.text+0xcc5): undefined reference to `mysql_num_rows'
> mysql.c:(.text+0xce7): undefined reference to `mysql_fetch_row'
> mysql.c:(.text+0xd08): undefined reference to `mysql_free_result'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_AFFECTED_ROWS':
> mysql.c:(.text+0xd88): undefined reference to `mysql_affected_rows'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_GET_HOST_INFO':
> mysql.c:(.text+0xdf8): undefined reference to `mysql_get_host_info'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_GET_SERVER_INFO':
> mysql.c:(.text+0xe68): undefined reference to `mysql_get_server_info'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_STORE_RESULT':
> mysql.c:(.text+0xed9): undefined reference to `mysql_store_result'
> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
> `HB_FUN_MYSQL_LIST_FIELDS':
> mysql.c:(.text+0xfa1): undefined reference to `mysql_list_fields'
>
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc /tmp/test.o /tmp/hbmk_8j8tll.o   -Wl,--start-group -lhbmysql -lhbcplr
> -lhbdebug -lgpm -lharbour  -Wl,--end-group -otest -L/usr/local/lib/harbour
>
> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$
>
>
> 2010/3/5 smu johnson <smujohnson@gmail.com>
>
> What happens if you just try:   hbmk2 -lhbmysql test.prg
>>
>> On Thu, Mar 4, 2010 at 6:16 PM, Bruno Luciani <bruno.luciani@gmail.com>wrote:
>>
>>> This is hbmysql.hbc , hbmysql.a it is correct exist
>>>
>>> but whic library is mysql  ???
>>>
>>> What I am doing wrong ?
>>>
>>> Bruno
>>>
>>>
>>> #
>>> # $Id: hbmysql.hbc 13881 2010-02-15 22:48:29Z vszakats $
>>> #
>>>
>>> incpaths=.
>>>
>>> libs=hbmysql
>>> {unix}libs=mysql
>>> {!unix}libs=libmysql
>>>
>>>
>>> //////////////////////////////////
>>> ERROR/////////////////////////////////////////////////////////
>>>
>>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>>> test
>>> hbmk2: Processing local make script: hbmk.hbm
>>> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
>>> Harbour 2.1.0dev (Rev. 14025)
>>> Copyright (c) 1999-2010, http://www.harbour-project.org/
>>> Compiling 'test.prg'...
>>> Lines 205, Functions/Procedures 1
>>> Generating C source output to '/tmp/test.c'... Done.
>>> /usr/bin/ld: cannot find -lmysql
>>> collect2: ld returned 1 exit status
>>> hbmk2: Error: Running linker. 1
>>> gcc /tmp/test.o /tmp/hbmk_tfjuah.o   -Wl,--start-group -lhbmysql -lmysql
>>> -lhbcplr -lhbdebug -lgpm -lharbour  -Wl,--end-group -otest
>>> -L/usr/local/lib/harbour
>>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>>> test
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>>
>> --
>> smu johnson <smujohnson@gmail.com>
>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/4dc6522e/attachment-0001.html
From vszakats at users.sourceforge.net  Fri Mar  5 07:48:54 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  5 07:49:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14061] trunk/harbour
Message-ID: <E1NnWxa-0002zL-NJ@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14061
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14061&view=rev
Author:   vszakats
Date:     2010-03-05 12:48:53 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 13:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbver.c
  * include/hbapi.h
    + Added hb_iswinvista() to detect Vista and newer Windows versions.

  * src/rtl/version.c
  * include/hbextern.ch
    + Added HB_OSISWINVISTA() .prg level function with above meaning.

  * contrib/hbwin/win_os.prg
    % Changed to use HB_OSISWINVISTA() instead of hbwin specific
      WIN_OSISVISTAORUPPER().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_os.prg
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/common/hbver.c
    trunk/harbour/src/rtl/version.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From snaiperis at users.sourceforge.net  Fri Mar  5 08:00:11 2010
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Fri Mar  5 08:00:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14062] trunk/harbour
Message-ID: <E1NnX8V-0005nc-JC@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14062
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14062&view=rev
Author:   snaiperis
Date:     2010-03-05 13:00:10 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 14:59 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddads/ads1.c
    * changed errSubCode values. Now errSubCode ir equal to:
      = ADS error value, if error is returned from ADS. Values
        of error subcodes are > 1000.
      = EDBF_* - 900, if error is generated by RDD. Values of 
        error subcodes are < 1000.
    + added a detailed error description for ADS errors

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Fri Mar  5 08:12:13 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Mar  5 08:12:31 2010
Subject: [Harbour] DBI_PASSWORD
In-Reply-To: <122F6B65079E4992AA924CCECDEF3829@emag>
References: <E18050DD68C540D7B612A5BC4E36D524@emag><20100303092448.GA16679@linux-4bod.home.aster.pl>	<A2AECA616D6B4B4D948E35FA7A049E01@emag>
	<122F6B65079E4992AA924CCECDEF3829@emag>
Message-ID: <4B91032D.6010706@mweb.co.za>

Enrico Maria Giordano wrote:

> One more question: is it safe to use DBI_PASSWORD to crypt DBFs without
> memo fields?

It is working well for me with a small test sample of clients. I am able to also 
successfully decrypt the databases if I need.

HTH
Alex
From maurilio.longo at libero.it  Fri Mar  5 09:08:10 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Mar  5 09:08:22 2010
Subject: [Harbour] Re: dlmalloc on OS/2
In-Reply-To: <4B90F8B5.6040106@mail.udg.mx>
References: <4B90F8B5.6040106@mail.udg.mx>
Message-ID: <4B91104A.3050806@libero.it>

David Arturo Macias Corona wrote:

> 0) I do not know/understand what mean information above
> 
Not a good start! :) Just kidding!!

> 1) so, I do not know how your changes/considerations impact rest of OS/2
> users ( you are now aware we are many  :-) )
> 
No impact, OBJ_TILE is supported since OS/2 2.x

> 2) Based on that, I make some comments:
> 
> 2.a) Is convenient to follow firefox path ? I think yes
>  So you can manage old and new kernels
> 
The difference is that 'L' ending calls can return values bigger than 4Gb.

> 2.b) Is convenient to manage files larger than 2 Gb ? I think yes
> 
Sure.

> 2.c) Can you prepare to manage "64bit file support" ? I think yes
>  So you will be ready for future  :-)
> 
It requires a lot more changes than DosFindFirst()

> 2.d) I know you are aware of every movement which happen in OS/2 world,
> and maybe you tested already, ... but maybe no
>  Days ago I removed "NETBIOS over TCP/IP" and installed .wpi files for
> Samba 3.0.37, from NetLabs
>  ( Samba Server version 3.0.37 for eComStation (OS/2) 1.0.3 )
> - Migrated shares
> - Everything is working fine to/from OS/2 and WinXPPSP2, Linux Mandriva
> - Problems with shares/visibility between OS/2 and rest are gone
> 
I have problems with client access (OS/2 accessing a share), my server is
samba, but on OpenSolaris.

> So as in this way we do not have: "... going throug IBM LanManager (aka
> CIFS client) ..." I do not know if Harbour need some adjustment related
> to samba and/or 2Gb and/or 64bit files and/or your recent change
> 
I have eCS 2.0 silver, samba (eCS EVFS IFS) client does not handle locks and
file access rights at all!

So I have to use old IBM LanManager.

Did you made tests with record/file locks, and exclusive access to files?

Best regards.

Maurilio


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Fri Mar  5 09:11:16 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  5 09:11:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14063] trunk/harbour
Message-ID: <E1NnYFI-0006zJ-1e@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14063
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14063&view=rev
Author:   vszakats
Date:     2010-03-05 14:11:14 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 15:09 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwin/gtwin.c
    + Added HB_GTI_PALETTE support for GTWIN. Requires Vista
      system or newer at runtime and requires Vista compatible
      SDK at build-time (this is MSVC newer versions or older
      versions with newer SDK). Unfortunately it cannot work
      with mingw and possibly other C compilers until they
      add support.
    + Added to set MS-DOS-like colors for GTWIN on Vista and
      newer systems (same requirements as above).
    + Added experimental undocumented SetConsolePalette()
      support for non-Vista systems and non-Vista SDKs,
      but it GPFs and doesn't support reading palette, so
      overall it's not enough for Harbour. I will let it there
      in case someone wants to deal with it and delete it
      after a few days.

  * contrib/rddads/ads1.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Fri Mar  5 09:13:15 2010
From: abe.buch at att.net (AbeB)
Date: Fri Mar  5 09:13:23 2010
Subject: [Harbour] Re: Wrong hbsms (Viktor Szak?ts)
In-Reply-To: <9A357CB061FE4BFB838537C88D517769@INFOR04>
References: <9A357CB061FE4BFB838537C88D517769@INFOR04>
Message-ID: <1267798395950-4681003.post@n2.nabble.com>


and I have no idea from where Viktor gets this impression.

Viktor, Your work, time, geniusness, effort, guidense is realized &
appreciated immensely.
You are improving Harbour by the hour!.

Please accept our Thank You.

Thanks
Abeb

-- 
View this message in context: http://n2.nabble.com/Re-Wrong-hbsms-Viktor-Szak-ts-tp4680438p4681003.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From e.m.giordano at emagsoftware.it  Fri Mar  5 09:20:04 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Mar  5 09:20:11 2010
Subject: [Harbour] DBI_PASSWORD
References: <E18050DD68C540D7B612A5BC4E36D524@emag><20100303092448.GA16679@linux-4bod.home.aster.pl>	<A2AECA616D6B4B4D948E35FA7A049E01@emag><122F6B65079E4992AA924CCECDEF3829@emag>
	<4B91032D.6010706@mweb.co.za>
Message-ID: <C1F39136B237404ABD08C90AD5400606@emag>


-----Messaggio Originale----- 
Da: "Alex Strickland" <sscc@mweb.co.za>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 5 marzo 2010 14.12
Oggetto: Re: [Harbour] DBI_PASSWORD


> It is working well for me with a small test sample of clients. I am able 
> to also successfully decrypt the databases if I need.

Thank you, but I would want to know if there can be problems in real 
application usage.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From sscc at mweb.co.za  Fri Mar  5 09:49:43 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Mar  5 09:49:57 2010
Subject: [Harbour] DBI_PASSWORD
In-Reply-To: <C1F39136B237404ABD08C90AD5400606@emag>
References: <E18050DD68C540D7B612A5BC4E36D524@emag><20100303092448.GA16679@linux-4bod.home.aster.pl>	<A2AECA616D6B4B4D948E35FA7A049E01@emag><122F6B65079E4992AA924CCECDEF3829@emag>	<4B91032D.6010706@mweb.co.za>
	<C1F39136B237404ABD08C90AD5400606@emag>
Message-ID: <4B911A07.20908@mweb.co.za>

Enrico Maria Giordano wrote:

>> It is working well for me with a small test sample of clients. I am
>> able to also successfully decrypt the databases if I need.
>
> Thank you, but I would want to know if there can be problems in real
> application usage.

It's real application usage, for a small group of people.

Regards
Alex

From bedipritpal at hotmail.com  Fri Mar  5 09:50:13 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar  5 09:50:20 2010
Subject: [Harbour] Re: hbide (Rev. 14053): source code and function list...
In-Reply-To: <fd76479f1003050156g65481a4cweddd7dd578b4281d@mail.gmail.com>
References: <fd76479f1003040315i300c9f48xb1e8da608755c630@mail.gmail.com>
	<1267714332673-4674696.post@n2.nabble.com>
	<fd76479f1003050156g65481a4cweddd7dd578b4281d@mail.gmail.com>
Message-ID: <1267800613267-4681227.post@n2.nabble.com>



marco bra wrote:
> 
> Pritpal with hbide rev. 14058 it doesn't work on Ubuntu 9.10 or better it
> is
> working as previous release.
> 
> Using the Function list to skip to the listed function code:
> - if i select functions starting click from top of the list to bottom is
> working good
> - if i select functions starting from bottom and going back to top it
> doesn't works good the source frame skip to requested function but the
> function starting code is not at top of source frame page.
> 

Not committed still.
There are many more enhancements which I will commit shortly.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-Rev-14053-source-code-and-function-list-tp4673629p4681227.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Mar  5 10:03:51 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar  5 10:03:58 2010
Subject: [Harbour] Re: OS/2: Harbour 14058
In-Reply-To: <4B90EF9A.2040809@mail.udg.mx>
References: <4B90EF9A.2040809@mail.udg.mx>
Message-ID: <1267801431569-4681305.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
> Tests with fresh checkout:
> 
>   * $Id: ChangeLog 14058 2010-03-04 18:43:51Z druzus $
>   2010-03-04 19:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> 
> so we have a newer Harbour and same os2Qt461
> 
> demoqt.prg
> ==========
> Testing with:
>     MsgInfo( "Testing" )
> 
> result exactly same problem reported before
> 
> This is (1,2) output:
> 
> ------------------------------------
> demoqt.prg:127:MAIN(): HB_TR_ALWAYS
> demoqt.prg:128:MAIN(): HB_TR_ALWAYS -----------------b-----------------
> 
> Exception c0000005 at address 0x1de369ca
> 

Releasing the qObjects - in this case - QDialog - 
is completely broken or is implemented in different way 
in OS Qt. We need to ask netlabs.



> and testing without:
>     MsgInfo( "Testing" )
> 
> result exactly same problem reported before
>    Called from QT_QWIDGET_RESIZE(0)
>    Called from QMAINWINDOW:RESIZE(0) in ../../../TQWidget.prg
> 
> This is (1,2) output:
> 
> ------------------------------------
> 
> Called from QT_QWIDGET_RESIZE(0)
> Called from QMAINWINDOW:RESIZE(0) in ../../../TQWidget.prg
> Called from MAIN(141) in demoqt.prg
> 

This is something strange and I do not have a clue.
:resize is the basic method of QWidget and is used extensively.
I have changed the order of QWidget:resize() in QWidget.qth 
to make it compatible to Harbour calling convention
but QT_QWIDGET_RESIZE(0) call the underlying function 
correctly. Again we need to ask netlabs.




> hbide project
> =============
> 
> Same problem reported before, in 14019, as least in behaviour:
> 
> My description was:
> -----------------------------
> New failure
> 
> When run, show logo, build window with content and CRASH in 5 seconds
> without human intervention. Tested many times and same behaviour
> 
> Something changed in hbqt*, hbide. With 13976 was running with some
> failures, but do not crash in 5 seconds
> Initial window size is different in both versions
> -----------------------------
> Called from HBIDE:CREATE(467) in hbide.prg
> Called from MAIN(117) in hbide.prg
> 

This is again the problem with destroying Qt object,
in this case qSplash ( qSplash := NIL ). So 1st and 3rd 
suggest that OS Qt use other way of destroying the objects 
than Qt Windows or Qt *nixes.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-14058-tp4680340p4681305.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Fri Mar  5 10:33:53 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Mar  5 10:34:05 2010
Subject: [Harbour] Re: Wrong hbsms (Viktor Szak?ts)
In-Reply-To: <1267798395950-4681003.post@n2.nabble.com>
References: <9A357CB061FE4BFB838537C88D517769@INFOR04>
	<1267798395950-4681003.post@n2.nabble.com>
Message-ID: <674e4ddd1003050733o77a83af8v1b7b4cc7e0ae476a@mail.gmail.com>

As the ghostbusters song goes with a changed word... "I ain't afraid of no
bugs!"

I also like your work too.

On Fri, Mar 5, 2010 at 6:13 AM, AbeB <abe.buch@att.net> wrote:

>
> and I have no idea from where Viktor gets this impression.
>
> Viktor, Your work, time, geniusness, effort, guidense is realized &
> appreciated immensely.
> You are improving Harbour by the hour!.
>
> Please accept our Thank You.
>
> Thanks
> Abeb
>
> --
> View this message in context:
> http://n2.nabble.com/Re-Wrong-hbsms-Viktor-Szak-ts-tp4680438p4681003.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/413549d7/attachment-0001.html
From bruno.luciani at gmail.com  Fri Mar  5 10:53:05 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar  5 10:53:14 2010
Subject: [Harbour] Still have problems to compile mysql test sample
In-Reply-To: <674e4ddd1003050445y1951814fq7f1bd790917432b4@mail.gmail.com>
References: <133778361003041816p7e969b66m16c3e77a0c1a2052@mail.gmail.com>
	<674e4ddd1003050436l4fc3f49dudc481a24adc3b315@mail.gmail.com>
	<133778361003050439k1665fdafm51a76ca21cfc47c4@mail.gmail.com>
	<674e4ddd1003050445y1951814fq7f1bd790917432b4@mail.gmail.com>
Message-ID: <133778361003050753r5a49f020rc9e34bbdcab7a42f@mail.gmail.com>

Yes I have a mysqlserver installed and working

and compiled as I say , and modifing the sample , its work

but , this sample is not usefull to understand mysql working in harbour

it need the DBF database mentioned in code , and a correction

Bruno

2010/3/5 smu johnson <smujohnson@gmail.com>

> I wish I knew more about this... but do you have a Mysql daemon installed
> on your Linux machine?  If so, I don't know the answer to your question :(
>
>
> On Fri, Mar 5, 2010 at 4:39 AM, Bruno Luciani <bruno.luciani@gmail.com>wrote:
>
>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>> -lhbmysql test
>>
>> hbmk2: Processing local make script: hbmk.hbm
>> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
>> Harbour 2.1.0dev (Rev. 14025)
>> Copyright (c) 1999-2010, http://www.harbour-project.org/
>> Compiling 'test.prg'...
>> Lines 204, Functions/Procedures 1
>>
>> Generating C source output to '/tmp/test.c'... Done.
>>  bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>> -lhbmysql test
>>
>> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
>> Harbour 2.1.0dev (Rev. 14025)
>> Copyright (c) 1999-2010, http://www.harbour-project.org/
>> Compiling 'test.prg'...
>> Lines 204, Functions/Procedures 1
>>
>> Generating C source output to '/tmp/test.c'... Done.
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_ESCAPE_STRING_FROM_FILE':
>> mysql.c:(.text+0xab): undefined reference to `mysql_escape_string'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_ESCAPE_STRING':
>> mysql.c:(.text+0x115): undefined reference to `mysql_escape_string'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function `MYSQL_release':
>> mysql.c:(.text+0x158): undefined reference to `mysql_close'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_CLOSE':
>> mysql.c:(.text+0x19b): undefined reference to `mysql_close'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `MYSQL_RES_release':
>> mysql.c:(.text+0x1c8): undefined reference to `mysql_free_result'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_FREE_RESULT':
>> mysql.c:(.text+0x20b): undefined reference to `mysql_free_result'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_REAL_CONNECT':
>> mysql.c:(.text+0x2b1): undefined reference to `mysql_init'
>> mysql.c:(.text+0x2ec): undefined reference to `mysql_real_connect'
>> mysql.c:(.text+0x33c): undefined reference to `mysql_close'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_NUM_FIELDS':
>> mysql.c:(.text+0x378): undefined reference to `mysql_num_fields'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_INSERT_ID':
>> mysql.c:(.text+0x3e8): undefined reference to `mysql_insert_id'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_NUM_ROWS':
>> mysql.c:(.text+0x458): undefined reference to `mysql_num_rows'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_FETCH_ROW':
>> mysql.c:(.text+0x4cb): undefined reference to `mysql_num_fields'
>> mysql.c:(.text+0x4e0): undefined reference to `mysql_fetch_row'
>> mysql.c:(.text+0x4ee): undefined reference to `mysql_fetch_lengths'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_DATA_SEEK':
>> mysql.c:(.text+0x591): undefined reference to `mysql_data_seek'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_FETCH_FIELD':
>> mysql.c:(.text+0x620): undefined reference to `mysql_fetch_field'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_FIELD_SEEK':
>> mysql.c:(.text+0x769): undefined reference to `mysql_field_seek'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_GET_SERVER_VERSION':
>> mysql.c:(.text+0x7d8): undefined reference to `mysql_get_server_version'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_COMMIT':
>> mysql.c:(.text+0x848): undefined reference to `mysql_commit'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_ROLLBACK':
>> mysql.c:(.text+0x8b8): undefined reference to `mysql_rollback'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_SELECT_DB':
>> mysql.c:(.text+0x939): undefined reference to `mysql_select_db'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_QUERY':
>> mysql.c:(.text+0x9c9): undefined reference to `mysql_query'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_USE_RESULT':
>> mysql.c:(.text+0xa49): undefined reference to `mysql_use_result'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_FIELD_COUNT':
>> mysql.c:(.text+0xaf8): undefined reference to `mysql_field_count'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_ERROR':
>> mysql.c:(.text+0xb68): undefined reference to `mysql_error'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_LIST_DBS':
>> mysql.c:(.text+0xbe3): undefined reference to `mysql_list_dbs'
>> mysql.c:(.text+0xbed): undefined reference to `mysql_num_rows'
>> mysql.c:(.text+0xc0f): undefined reference to `mysql_fetch_row'
>> mysql.c:(.text+0xc30): undefined reference to `mysql_free_result'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_LIST_TABLES':
>> mysql.c:(.text+0xcbb): undefined reference to `mysql_list_tables'
>> mysql.c:(.text+0xcc5): undefined reference to `mysql_num_rows'
>> mysql.c:(.text+0xce7): undefined reference to `mysql_fetch_row'
>> mysql.c:(.text+0xd08): undefined reference to `mysql_free_result'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_AFFECTED_ROWS':
>> mysql.c:(.text+0xd88): undefined reference to `mysql_affected_rows'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_GET_HOST_INFO':
>> mysql.c:(.text+0xdf8): undefined reference to `mysql_get_host_info'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_GET_SERVER_INFO':
>> mysql.c:(.text+0xe68): undefined reference to `mysql_get_server_info'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_STORE_RESULT':
>> mysql.c:(.text+0xed9): undefined reference to `mysql_store_result'
>> /usr/local/lib/harbour/libhbmysql.a(mysql.o): In function
>> `HB_FUN_MYSQL_LIST_FIELDS':
>> mysql.c:(.text+0xfa1): undefined reference to `mysql_list_fields'
>>
>> collect2: ld returned 1 exit status
>> hbmk2: Error: Running linker. 1
>> gcc /tmp/test.o /tmp/hbmk_8j8tll.o   -Wl,--start-group -lhbmysql -lhbcplr
>> -lhbdebug -lgpm -lharbour  -Wl,--end-group -otest -L/usr/local/lib/harbour
>>
>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$
>>
>>
>> 2010/3/5 smu johnson <smujohnson@gmail.com>
>>
>> What happens if you just try:   hbmk2 -lhbmysql test.prg
>>>
>>> On Thu, Mar 4, 2010 at 6:16 PM, Bruno Luciani <bruno.luciani@gmail.com>wrote:
>>>
>>>> This is hbmysql.hbc , hbmysql.a it is correct exist
>>>>
>>>> but whic library is mysql  ???
>>>>
>>>> What I am doing wrong ?
>>>>
>>>> Bruno
>>>>
>>>>
>>>> #
>>>> # $Id: hbmysql.hbc 13881 2010-02-15 22:48:29Z vszakats $
>>>> #
>>>>
>>>> incpaths=.
>>>>
>>>> libs=hbmysql
>>>> {unix}libs=mysql
>>>> {!unix}libs=libmysql
>>>>
>>>>
>>>> //////////////////////////////////
>>>> ERROR/////////////////////////////////////////////////////////
>>>>
>>>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>>>> test
>>>> hbmk2: Processing local make script: hbmk.hbm
>>>> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
>>>> Harbour 2.1.0dev (Rev. 14025)
>>>> Copyright (c) 1999-2010, http://www.harbour-project.org/
>>>> Compiling 'test.prg'...
>>>> Lines 205, Functions/Procedures 1
>>>> Generating C source output to '/tmp/test.c'... Done.
>>>> /usr/bin/ld: cannot find -lmysql
>>>> collect2: ld returned 1 exit status
>>>> hbmk2: Error: Running linker. 1
>>>> gcc /tmp/test.o /tmp/hbmk_tfjuah.o   -Wl,--start-group -lhbmysql -lmysql
>>>> -lhbcplr -lhbdebug -lgpm -lharbour  -Wl,--end-group -otest
>>>> -L/usr/local/lib/harbour
>>>> bruno@notebook:~/harbour-project/harbour/contrib/hbmysql/tests$ hbmk2
>>>> test
>>>>
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list (attachment size limit: 40KB)
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>>
>>>
>>>
>>> --
>>> smu johnson <smujohnson@gmail.com>
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/18ae357a/attachment.html
From labitas at gmail.com  Fri Mar  5 11:17:54 2010
From: labitas at gmail.com (Saulius Zrelskis)
Date: Fri Mar  5 11:18:03 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <20100305103925.GA23073@linux-4bod.home.aster.pl>
References: <4B8FCBDD.50804@gmail.com> <4B8FDAF7.8060109@gmail.com>
	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>
	<4B900852.8000008@gmail.com>
	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>
	<4B907910.3070504@gmail.com>
	<2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
	<9218B7C7-D3EE-40A4-8550-AAB269F67FDB@syenar.hu>
	<2386af1b1003050208y2288d56cl88cf33b694a7d04@mail.gmail.com>
	<20100305103925.GA23073@linux-4bod.home.aster.pl>
Message-ID: <2386af1b1003050817g143e01e7sc56542cb501e371f@mail.gmail.com>

Hi,

> Do you know which windows version accepts SetConsoleMenuClose()
> and other functions like SetConsolePalette()?
>
> If this is commonly supported functionality then we can add some
> extension to GTWIN.

These goodies appears since Windows 2000.
Also console alias, command history, font services, etc.

In Windows Vista looks interesting APIs:
G[S]etConsoleScreenBufferInfoEx()
G[S]etCurrentConsoleFontEx()

Best regards,
Saulius
From bruno.luciani at gmail.com  Fri Mar  5 11:36:11 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar  5 11:36:21 2010
Subject: [Harbour] Uptade HBMySql.hbc
Message-ID: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>

Viktor , could you update this file in unix line ?

this is the correct name for linux client library


{unix}libs=mysqlclient


Here you can see my /usr/lib   folder


http://www.postimage.org/image.php?v=Tsq2hPr


Thanks

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/6ef52b3f/attachment-0001.html
From harbour.01 at syenar.hu  Fri Mar  5 11:45:03 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  5 11:45:17 2010
Subject: [Harbour] Uptade HBMySql.hbc
In-Reply-To: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>
References: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>
Message-ID: <D0F7BEB4-C88A-4D01-9A01-2BA8774EC4B1@syenar.hu>

Hi Bruno,

> Viktor , could you update this file in unix line ?
> 
> this is the correct name for linux client library
> 
> 
> {unix}libs=mysqlclient
> 
> 
> Here you can see my /usr/lib   folder

There is no point in updating it, as it would 
just make it break on another set Linux distros.

Unfortunately until different Linux distros 
cannot agree on standard lib names, or cannot 
provide a standard way to find the right one, 
it's hardly possible to please all distros with 
one Harbour configuration.

So for now, Harbour is offering a _default_ 
which is expected to work on some (hopefully 
most) distros and not on some others.

If someone uses some of these latter (less-lukcy) 
distros, all that needs to be done is _not_ to use 
Harbour defaults. The easiest way is to delete 
hbmk.hbm and use custom .hbc file or equivalent 
command line.

In case I've missed the proper Linux solution 
for this kind of problem, I hope some experts 
will jump in and correct me.

Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Fri Mar  5 11:46:02 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Mar  5 11:46:10 2010
Subject: [Harbour] DBI_PASSWORD
References: <E18050DD68C540D7B612A5BC4E36D524@emag><20100303092448.GA16679@linux-4bod.home.aster.pl>	<A2AECA616D6B4B4D948E35FA7A049E01@emag><122F6B65079E4992AA924CCECDEF3829@emag>	<4B91032D.6010706@mweb.co.za><C1F39136B237404ABD08C90AD5400606@emag>
	<4B911A07.20908@mweb.co.za>
Message-ID: <B3E12BBEF381463CBF38065F987D05E8@emag>


-----Messaggio Originale----- 
Da: "Alex Strickland" <sscc@mweb.co.za>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 5 marzo 2010 15.49
Oggetto: Re: [Harbour] DBI_PASSWORD


> It's real application usage, for a small group of people.

Ah, ok, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Mar  5 11:57:29 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar  5 11:59:26 2010
Subject: [Harbour] Uptade HBMySql.hbc
In-Reply-To: <D0F7BEB4-C88A-4D01-9A01-2BA8774EC4B1@syenar.hu>
References: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>
	<D0F7BEB4-C88A-4D01-9A01-2BA8774EC4B1@syenar.hu>
Message-ID: <FBB87E9E-DE5B-4EEA-ADBF-52C598C47C4A@syenar.hu>

Or is it always libmysqlclient on *nix systems?
Someone enlighten me, I can only see Ubuntu.

Brgds,
Viktor

On 2010 Mar 5, at 17:45, Viktor Szak?ts wrote:

> Hi Bruno,
> 
>> Viktor , could you update this file in unix line ?
>> 
>> this is the correct name for linux client library
>> 
>> 
>> {unix}libs=mysqlclient
>> 
>> 
>> Here you can see my /usr/lib   folder
> 
> There is no point in updating it, as it would 
> just make it break on another set Linux distros.
> 
> Unfortunately until different Linux distros 
> cannot agree on standard lib names, or cannot 
> provide a standard way to find the right one, 
> it's hardly possible to please all distros with 
> one Harbour configuration.
> 
> So for now, Harbour is offering a _default_ 
> which is expected to work on some (hopefully 
> most) distros and not on some others.
> 
> If someone uses some of these latter (less-lukcy) 
> distros, all that needs to be done is _not_ to use 
> Harbour defaults. The easiest way is to delete 
> hbmk.hbm and use custom .hbc file or equivalent 
> command line.
> 
> In case I've missed the proper Linux solution 
> for this kind of problem, I hope some experts 
> will jump in and correct me.
> 
> Brgds,
> Viktor
> 

From bruno.luciani at gmail.com  Fri Mar  5 12:08:18 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar  5 12:08:27 2010
Subject: [Harbour] Uptade HBMySql.hbc
In-Reply-To: <FBB87E9E-DE5B-4EEA-ADBF-52C598C47C4A@syenar.hu>
References: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>
	<D0F7BEB4-C88A-4D01-9A01-2BA8774EC4B1@syenar.hu>
	<FBB87E9E-DE5B-4EEA-ADBF-52C598C47C4A@syenar.hu>
Message-ID: <133778361003050908t2a944289hf5cded7e85598453@mail.gmail.com>

I think it is the same name for all unix or at least linux systems

http://www.linuxpackages.net/viewpkg.php?id=12999

here you can see a list of files in Mysql package in Slackware 12.2

And I think is the same for others


Bruno

2010/3/5 Viktor Szak?ts <harbour.01@syenar.hu>

> Or is it always libmysqlclient on *nix systems?
> Someone enlighten me, I can only see Ubuntu.
>
> Brgds,
> Viktor
>
> On 2010 Mar 5, at 17:45, Viktor Szak?ts wrote:
>
> > Hi Bruno,
> >
> >> Viktor , could you update this file in unix line ?
> >>
> >> this is the correct name for linux client library
> >>
> >>
> >> {unix}libs=mysqlclient
> >>
> >>
> >> Here you can see my /usr/lib   folder
> >
> > There is no point in updating it, as it would
> > just make it break on another set Linux distros.
> >
> > Unfortunately until different Linux distros
> > cannot agree on standard lib names, or cannot
> > provide a standard way to find the right one,
> > it's hardly possible to please all distros with
> > one Harbour configuration.
> >
> > So for now, Harbour is offering a _default_
> > which is expected to work on some (hopefully
> > most) distros and not on some others.
> >
> > If someone uses some of these latter (less-lukcy)
> > distros, all that needs to be done is _not_ to use
> > Harbour defaults. The easiest way is to delete
> > hbmk.hbm and use custom .hbc file or equivalent
> > command line.
> >
> > In case I've missed the proper Linux solution
> > for this kind of problem, I hope some experts
> > will jump in and correct me.
> >
> > Brgds,
> > Viktor
> >
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/abde45a8/attachment.html
From bruno.luciani at gmail.com  Fri Mar  5 12:22:40 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar  5 12:22:48 2010
Subject: [Harbour] Uptade HBMySql.hbc
In-Reply-To: <FBB87E9E-DE5B-4EEA-ADBF-52C598C47C4A@syenar.hu>
References: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>
	<D0F7BEB4-C88A-4D01-9A01-2BA8774EC4B1@syenar.hu>
	<FBB87E9E-DE5B-4EEA-ADBF-52C598C47C4A@syenar.hu>
Message-ID: <133778361003050922i6b6ac253w3a4d7588145094db@mail.gmail.com>

*Red Hat use the same name*

http://www.redhat.com/archives/rhl-list/2006-May/msg01045.html


*OpenSuse*

http://www.novell.com/products/linuxpackages/opensuse/libmysqlclient-devel.html

*Mandriva*

http://rpm.pbone.net/index.php3/stat/4/idpl/13535346/com/libmysql-static-devel-5.1.43-1mdv2010.1.i586.rpm.html

*Fedora*

http://www.fedoraforum.org/forum/showthread.php?t=108229


Bruno


2010/3/5 Viktor Szak?ts <harbour.01@syenar.hu>

> Or is it always libmysqlclient on *nix systems?
> Someone enlighten me, I can only see Ubuntu.
>
> Brgds,
> Viktor
>
> On 2010 Mar 5, at 17:45, Viktor Szak?ts wrote:
>
> > Hi Bruno,
> >
> >> Viktor , could you update this file in unix line ?
> >>
> >> this is the correct name for linux client library
> >>
> >>
> >> {unix}libs=mysqlclient
> >>
> >>
> >> Here you can see my /usr/lib   folder
> >
> > There is no point in updating it, as it would
> > just make it break on another set Linux distros.
> >
> > Unfortunately until different Linux distros
> > cannot agree on standard lib names, or cannot
> > provide a standard way to find the right one,
> > it's hardly possible to please all distros with
> > one Harbour configuration.
> >
> > So for now, Harbour is offering a _default_
> > which is expected to work on some (hopefully
> > most) distros and not on some others.
> >
> > If someone uses some of these latter (less-lukcy)
> > distros, all that needs to be done is _not_ to use
> > Harbour defaults. The easiest way is to delete
> > hbmk.hbm and use custom .hbc file or equivalent
> > command line.
> >
> > In case I've missed the proper Linux solution
> > for this kind of problem, I hope some experts
> > will jump in and correct me.
> >
> > Brgds,
> > Viktor
> >
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/644404e3/attachment.html
From fperillo at gmail.com  Fri Mar  5 12:24:44 2010
From: fperillo at gmail.com (francesco perillo)
Date: Fri Mar  5 12:24:52 2010
Subject: [Harbour] Uptade HBMySql.hbc
In-Reply-To: <133778361003050908t2a944289hf5cded7e85598453@mail.gmail.com>
References: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>
	<D0F7BEB4-C88A-4D01-9A01-2BA8774EC4B1@syenar.hu>
	<FBB87E9E-DE5B-4EEA-ADBF-52C598C47C4A@syenar.hu>
	<133778361003050908t2a944289hf5cded7e85598453@mail.gmail.com>
Message-ID: <6943770e1003050924q4265fcb4q895f5762eb764185@mail.gmail.com>

libmysqlclient.a on SUSE LINUX 10.0 (i586) OSS
libmysqlclient.so.15 on Fedora release 8 (Werewolf)
libmysqlclient.so.15.0.0 on openSUSE 11.1 (x86_64)
libmysqlclient.so.15.0.0 on SLES 9 sp1
From bruno.luciani at gmail.com  Fri Mar  5 12:26:51 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar  5 12:26:59 2010
Subject: [Harbour] Uptade HBMySql.hbc
In-Reply-To: <6943770e1003050924q4265fcb4q895f5762eb764185@mail.gmail.com>
References: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>
	<D0F7BEB4-C88A-4D01-9A01-2BA8774EC4B1@syenar.hu>
	<FBB87E9E-DE5B-4EEA-ADBF-52C598C47C4A@syenar.hu>
	<133778361003050908t2a944289hf5cded7e85598453@mail.gmail.com>
	<6943770e1003050924q4265fcb4q895f5762eb764185@mail.gmail.com>
Message-ID: <133778361003050926q14cf0c7apf37d58e6d8a92422@mail.gmail.com>

Francesco , see my other email

is the same name in all these distros

Bruno

2010/3/5 francesco perillo <fperillo@gmail.com>

> libmysqlclient.a on SUSE LINUX 10.0 (i586) OSS
> libmysqlclient.so.15 on Fedora release 8 (Werewolf)
> libmysqlclient.so.15.0.0 on openSUSE 11.1 (x86_64)
> libmysqlclient.so.15.0.0 on SLES 9 sp1
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/d12d4408/attachment.html
From harbour.01 at syenar.hu  Fri Mar  5 12:31:51 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  5 12:32:02 2010
Subject: [Harbour] Uptade HBMySql.hbc
In-Reply-To: <133778361003050922i6b6ac253w3a4d7588145094db@mail.gmail.com>
References: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>
	<D0F7BEB4-C88A-4D01-9A01-2BA8774EC4B1@syenar.hu>
	<FBB87E9E-DE5B-4EEA-ADBF-52C598C47C4A@syenar.hu>
	<133778361003050922i6b6ac253w3a4d7588145094db@mail.gmail.com>
Message-ID: <B4867B8D-88C1-4460-B32B-32943881EC6E@syenar.hu>

Thank you Bruno. I'll do the update.

Brgds,
Viktor

On 2010 Mar 5, at 18:22, Bruno Luciani wrote:

> Red Hat use the same name
> 
> http://www.redhat.com/archives/rhl-list/2006-May/msg01045.html
> 
> 
> OpenSuse
> 
> http://www.novell.com/products/linuxpackages/opensuse/libmysqlclient-devel.html
> 
> Mandriva
> 
> http://rpm.pbone.net/index.php3/stat/4/idpl/13535346/com/libmysql-static-devel-5.1.43-1mdv2010.1.i586.rpm.html
> 
> Fedora
> 
> http://www.fedoraforum.org/forum/showthread.php?t=108229
> 
> 
> Bruno
> 
> 
> 2010/3/5 Viktor Szak?ts <harbour.01@syenar.hu>
> Or is it always libmysqlclient on *nix systems?
> Someone enlighten me, I can only see Ubuntu.
> 
> Brgds,
> Viktor
> 
> On 2010 Mar 5, at 17:45, Viktor Szak?ts wrote:
> 
> > Hi Bruno,
> >
> >> Viktor , could you update this file in unix line ?
> >>
> >> this is the correct name for linux client library
> >>
> >>
> >> {unix}libs=mysqlclient
> >>
> >>
> >> Here you can see my /usr/lib   folder
> >
> > There is no point in updating it, as it would
> > just make it break on another set Linux distros.
> >
> > Unfortunately until different Linux distros
> > cannot agree on standard lib names, or cannot
> > provide a standard way to find the right one,
> > it's hardly possible to please all distros with
> > one Harbour configuration.
> >
> > So for now, Harbour is offering a _default_
> > which is expected to work on some (hopefully
> > most) distros and not on some others.
> >
> > If someone uses some of these latter (less-lukcy)
> > distros, all that needs to be done is _not_ to use
> > Harbour defaults. The easiest way is to delete
> > hbmk.hbm and use custom .hbc file or equivalent
> > command line.
> >
> > In case I've missed the proper Linux solution
> > for this kind of problem, I hope some experts
> > will jump in and correct me.
> >
> > Brgds,
> > Viktor
> >
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Mar  5 12:32:26 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  5 12:32:38 2010
Subject: [Harbour] Uptade HBMySql.hbc
In-Reply-To: <6943770e1003050924q4265fcb4q895f5762eb764185@mail.gmail.com>
References: <133778361003050836y22d20f93we147210d8b0e48f6@mail.gmail.com>
	<D0F7BEB4-C88A-4D01-9A01-2BA8774EC4B1@syenar.hu>
	<FBB87E9E-DE5B-4EEA-ADBF-52C598C47C4A@syenar.hu>
	<133778361003050908t2a944289hf5cded7e85598453@mail.gmail.com>
	<6943770e1003050924q4265fcb4q895f5762eb764185@mail.gmail.com>
Message-ID: <2BE5D28E-62C8-4774-9467-3712D6FC673A@syenar.hu>

Thank you Francesco.

So this looks like a standard.

Brgds,
Viktor

On 2010 Mar 5, at 18:24, francesco perillo wrote:

> libmysqlclient.a on SUSE LINUX 10.0 (i586) OSS
> libmysqlclient.so.15 on Fedora release 8 (Werewolf)
> libmysqlclient.so.15.0.0 on openSUSE 11.1 (x86_64)
> libmysqlclient.so.15.0.0 on SLES 9 sp1
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Mar  5 12:54:49 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  5 12:54:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14064] trunk/harbour
Message-ID: <E1Nnbjd-0000gZ-LN@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14064
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14064&view=rev
Author:   vszakats
Date:     2010-03-05 17:54:42 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 18:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmysql/hbmysql.hbc
  * contrib/rddsql/sddmy/sddmy.hbc
    ! Fixed library name for Linux platforms.
      I hope it also works for other *nix systems.
      (On darwin/macports it doesn't because they placed
      the lib in a subdir, but at least the lib name is
      right)

  + external/bzip2
  + external/bzip2/LICENSE
  + external/bzip2/Makefile
  + external/bzip2/cnv_hb2o.bat
  + external/bzip2/cnv_o2hb.bat
  + external/bzip2/blocksor.c
  + external/bzip2/bzip2.c
  + external/bzip2/bzlib.c
  + external/bzip2/compress.c
  + external/bzip2/crctable.c
  + external/bzip2/decompre.c
  + external/bzip2/huffman.c
  + external/bzip2/randtabl.c
  + external/bzip2/bzlib.h
  + external/bzip2/bzlib_pr.h
    + Add locally hosted bzip2 library. Experimental, we
      don't use it yet. Will be deleted if of no use, or
      not portable enough. ATM OS/2, DOS and WCE targets
      are not supported.

  * external/pcre/pcre.dif
    - Deleted not more required local patch, since
      we're not using legacy (Windows) types anymore
      in Harbour.

  * external/pcre/pcre.h
  * external/pcre/pcreexec.c
  * external/pcre/pcreinal.h
  * external/pcre/pcredfa.c
  * external/pcre/pcrecomp.c
  * external/pcre/config.h
  * external/pcre/LICENCE
  * external/pcre/pcreprni.h
  * external/pcre/pcrestud.c
    + Updated to 8.0.1 (from 8.0.0)

  * external/libpng/pngrio.c
  * external/libpng/pngconf.h
  * external/libpng/pngwrite.c
  * external/libpng/pngset.c
  * external/libpng/pngpread.c
  * external/libpng/pngwtran.c
  * external/libpng/LICENSE
  * external/libpng/pngrutil.c
  * external/libpng/pngwutil.c
  * external/libpng/pngread.c
  * external/libpng/pngmem.c
  * external/libpng/pngget.c
  * external/libpng/png.c
  * external/libpng/png.h
  * external/libpng/pngpriv.h
  * external/libpng/pngrtran.c
    + Updated to 1.4.1 (from 1.4.0)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/hbmysql.hbc
    trunk/harbour/contrib/rddsql/sddmy/sddmy.hbc
    trunk/harbour/external/libpng/LICENSE
    trunk/harbour/external/libpng/png.c
    trunk/harbour/external/libpng/png.h
    trunk/harbour/external/libpng/pngconf.h
    trunk/harbour/external/libpng/pngget.c
    trunk/harbour/external/libpng/pngmem.c
    trunk/harbour/external/libpng/pngpread.c
    trunk/harbour/external/libpng/pngpriv.h
    trunk/harbour/external/libpng/pngread.c
    trunk/harbour/external/libpng/pngrio.c
    trunk/harbour/external/libpng/pngrtran.c
    trunk/harbour/external/libpng/pngrutil.c
    trunk/harbour/external/libpng/pngset.c
    trunk/harbour/external/libpng/pngwrite.c
    trunk/harbour/external/libpng/pngwtran.c
    trunk/harbour/external/libpng/pngwutil.c
    trunk/harbour/external/pcre/LICENCE
    trunk/harbour/external/pcre/config.h
    trunk/harbour/external/pcre/pcre.dif
    trunk/harbour/external/pcre/pcre.h
    trunk/harbour/external/pcre/pcrecomp.c
    trunk/harbour/external/pcre/pcredfa.c
    trunk/harbour/external/pcre/pcreexec.c
    trunk/harbour/external/pcre/pcreinal.h
    trunk/harbour/external/pcre/pcreprni.h
    trunk/harbour/external/pcre/pcrestud.c

Added Paths:
-----------
    trunk/harbour/external/bzip2/
    trunk/harbour/external/bzip2/LICENSE
    trunk/harbour/external/bzip2/Makefile
    trunk/harbour/external/bzip2/blocksor.c
    trunk/harbour/external/bzip2/bzip2.c
    trunk/harbour/external/bzip2/bzlib.c
    trunk/harbour/external/bzip2/bzlib.h
    trunk/harbour/external/bzip2/bzlib_pr.h
    trunk/harbour/external/bzip2/cnv_hb2o.bat
    trunk/harbour/external/bzip2/cnv_o2hb.bat
    trunk/harbour/external/bzip2/compress.c
    trunk/harbour/external/bzip2/crctable.c
    trunk/harbour/external/bzip2/decompre.c
    trunk/harbour/external/bzip2/huffman.c
    trunk/harbour/external/bzip2/randtabl.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From labitas at gmail.com  Fri Mar  5 12:55:10 2010
From: labitas at gmail.com (Saulius Zrelskis)
Date: Fri Mar  5 12:55:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14063] trunk/harbour
In-Reply-To: <E1NnYFI-0006zJ-1e@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NnYFI-0006zJ-1e@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <2386af1b1003050955rab44875hd6115302b0ae7d38@mail.gmail.com>

Viktor,

> ? ?+ Added experimental undocumented SetConsolePalette()
> ? ? ?support for non-Vista systems and non-Vista SDKs,
> ? ? ?but it GPFs and doesn't support reading palette, so
> ? ? ?overall it's not enough for Harbour. I will let it there
> ? ? ?in case someone wants to deal with it and delete it
> ? ? ?after a few days.

SetConsolePalette() API has 3 parameters:

BOOL WINAPI
SetConsolePalette( HANDLE hConsoleOutput, HPALETTE hPalette, UINT dwUsage );

where dwUsage have meaning like in Get/SetSystemPaletteUse()

Best regards,
Saulius
From vszakats at users.sourceforge.net  Fri Mar  5 13:29:57 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  5 13:30:05 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14065] trunk/harbour
Message-ID: <E1NncHd-0001JF-FA@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14065
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14065&view=rev
Author:   vszakats
Date:     2010-03-05 18:29:41 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 19:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwin/gtwin.c
    + Added more code (probably the ugliest I've ever had a chance
      to create while touching Windows API) for undocumented
      SetConsolePalette() hack, following Saulius Zrelskis's
      suggestion. Now it doesn't GPF, but it does nothing else
      either (could be wrong SYSPAL_ constant, could be anything).
      From this point I'll let others continue, or delete all
      undocumented code sections.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Fri Mar  5 13:42:50 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar  5 13:42:58 2010
Subject: [Harbour] Re: RDDSQL Question.
In-Reply-To: <4B8EDBC9.3040207@dbtopas.lt>
References: <hmlkf5$9ji$1@dough.gmane.org> <4B8E5840.6050208@dbtopas.lt>
	<hmlm4p$fpv$1@dough.gmane.org> <4B8E6339.7040703@dbtopas.lt>
	<133778361003030532g4ed4708n754650764182c704@mail.gmail.com>
	<4B8E6600.1030802@dbtopas.lt>
	<11526975973.20100303173340@wssk.wroc.pl>
	<4B8EDBC9.3040207@dbtopas.lt>
Message-ID: <133778361003051042k7e4136b6x81d1292e05cb58f@mail.gmail.com>

>
>> OK, but how do you reaslise datacommits to database ??
>>
>
> Using RDDINFO( RDDI_EXECUTE, "UPDATE ...")
>
> 3. Modifying database
......
......

   The programmer must call SQL command explicitly to modify SQL tables.
SSI provides a method to detect which cached rows was changed or appended.


Which is this method  ? and how it work ?

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/ed7cb12c/attachment.html
From mbelgrano at deltain.it  Fri Mar  5 14:33:05 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar  5 14:33:34 2010
Subject: [Harbour] Re: Wrong hbsms (Viktor Szak?ts)
In-Reply-To: <1267798395950-4681003.post@n2.nabble.com>
References: <9A357CB061FE4BFB838537C88D517769@INFOR04>
	<1267798395950-4681003.post@n2.nabble.com>
Message-ID: <609353e71003051133i71dbda69n89225087cd1ebcd0@mail.gmail.com>

+1
Thank You for your effort
I dream hbmk2 from day of my first step harbour

2010/3/5 AbeB <abe.buch@att.net>

>
> Viktor, Your work, time, geniusness, effort, guidense is realized &
> appreciated immensely.
> You are improving Harbour by the hour!.
>
> Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/aa900f78/attachment.html
From vszakats at users.sourceforge.net  Fri Mar  5 15:02:28 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  5 15:02:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14066] trunk/harbour
Message-ID: <E1NndjA-00035e-Am@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14066
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14066&view=rev
Author:   vszakats
Date:     2010-03-05 20:02:08 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 20:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbverdsp.c
    % "Language options" merged into "Build options"

  * src/rtl/gtwin/gtwin.c
    - Deleted not working undocumented SetConsolePalette() code sections.
    * HB_GTI_PALETTE will return zeroes (black) on platforms/builds which
      don't support console palette API.
    + Enabled SetConsoleMenuClose() undocumented call in default builds.
      It seems so simple function that it's unlikely it will change
      (worst case it will be deleted). Return value confirmed to be
      BOOL (don't ask how).
      This feature requires Windows 2000 for final apps, no build-time
      requirement.
      Can be disabled using HB_GTWIN_USE_SETCONSOLEMENUCLOSE_OFF macro.
    % Minor optimization.

  * contrib/hbwin/win_reg.prg
    ! Changed to use local emulation of BIN2U() instead of XPP
      specific original implementation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_reg.prg
    trunk/harbour/src/common/hbverdsp.c
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Mar  5 15:21:55 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  5 15:22:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14067] trunk/harbour
Message-ID: <E1Nne1z-0003TK-0U@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14067
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14067&view=rev
Author:   vszakats
Date:     2010-03-05 20:21:44 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 21:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/Makefile
    + Added bzip2.

  * external/bzip2/Makefile
    ! Fixed to avoid stupid BCC tlib warning by enabling
      "case-sensitive library" option.

  * config/global.mk
  * config/beos/gcc.mk
  * config/bsd/gcc.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  * config/darwin/clang.mk
  * config/hpux/gcc.mk
  * config/dos/djgpp.mk
  * config/common/watcom.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/icc.mk
  * config/win/cygwin.mk
  * config/win/msvc.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/linux/clang.mk
  * config/linux/sunpro.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    + Added support for HB_AFLAGS. Only bcc needs it ATM.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/beos/gcc.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/clang.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/external/Makefile
    trunk/harbour/external/bzip2/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Mar  5 16:58:16 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Mar  5 16:58:24 2010
Subject: [Harbour] Errors
Message-ID: <77B052F5A41C4751904C92B34DC8CF46@emag>

Error E2209 ../../../pcreinal.h 195: Unable to open include file 'stdint.h'

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From vszakats at users.sourceforge.net  Fri Mar  5 17:18:57 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  5 17:19:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14068] trunk/harbour
Message-ID: <E1NnfrF-0007t2-IR@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14068
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14068&view=rev
Author:   vszakats
Date:     2010-03-05 22:18:56 +0000 (Fri, 05 Mar 2010)

Log Message:
-----------
2010-03-05 23:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/pcre/Makefile
    - Disabled stdint.h for all targets to make some Harbour
      supported legacy compilers happy which don't support it
      (f.e. bcc 5.5)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/pcre/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Fri Mar  5 20:32:51 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Mar  5 20:34:15 2010
Subject: [Harbour] Question about hb_gt_win_CtrlHandler usage
In-Reply-To: <2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
References: <674e4ddd1003031409o5c430bb9y45d257347f4c941d@mail.gmail.com>	<4B8FB7D4.1030006@gmail.com>	<4489D7EA-E411-4B20-A25C-F37D19CF49EC@syenar.hu>	<4B8FCBDD.50804@gmail.com>	<DFE32891-C3F2-4CEC-B45D-8F7B20E6CB3A@syenar.hu>	<4B8FDAF7.8060109@gmail.com>	<69A3D769-B1C1-4DE9-8F8B-589E24223E22@syenar.hu>	<4B900852.8000008@gmail.com>	<0D98A0D1-83CF-43CB-85BA-8DF99432E27E@syenar.hu>	<4B907910.3070504@gmail.com>
	<2386af1b1003050119n34f3eac1h4775138d7729e102@mail.gmail.com>
Message-ID: <4B91B0C3.4030201@gmail.com>

Thanks Saulius,

At least SetConsoleMenuClose grayed also the option Close in caption menu not only the button in title bar. :)
I still don't understand why we have to introduce HB_BREAK_FLAG in Inkey Poll in response to CTRL_CLOSE_EVENT.
I think if we do this .-
---
Index: gtwin.c
===================================================================
--- gtwin.c	(revision 14068)
+++ gtwin.c	(working copy)
@@ -569,9 +569,9 @@
           bHandled = FALSE;
           break;

-      case CTRL_CLOSE_EVENT:
        case CTRL_BREAK_EVENT:
           s_bBreak = HB_TRUE;
+      case CTRL_CLOSE_EVENT:
           bHandled = TRUE;
           break;

---
Everyone happy and does the same that Clipper program with .-

PROCEDURE Main()
    ? "Click [X] Not close windows"
    Wait
    RETURN

Best regards,
-- 
Xavi

El 05/03/2010 10:19, Saulius Zrelskis escribi?:
> [for those interested]
> Sample below really controls console close button on Windows XP and
> later systems. Please test it and enjoy:)
>
> --->>>
> #include 'inkey.ch'
>
> proc main()
>    local nKey
>
>   while (nKey := Inkey(0)) # K_ESC
>     Qout(Str(nKey) +'  "' +Chr(nKey) +'"')
>     if nKey == Asc("0") .or. nKey == Asc("1")
>        SetConsoleMenuClose(nKey == Asc("1"))
>        Qqout(if(SetConsoleMenuClose(), '  enabled', '  disabled'))
>     endif
>   end
> return
>
> #PRAGMA BEGINDUMP
> #include "windows.h"
> #include "hbapi.h"
>
> BOOL WINAPI
> SetConsoleMenuClose( IN BOOL fEnable );
>
> // SetConsoleMenuClose( lEnable )  ->   lPreviousState
> HB_FUNC( SETCONSOLEMENUCLOSE )
> {
>     HMENU hSysMenu = GetSystemMenu( GetConsoleWindow(), FALSE );
>
>     if( hSysMenu )
>     {
>        BOOL fCurrent = ( GetMenuState( hSysMenu, SC_CLOSE, MF_BYCOMMAND
> )&  MF_GRAYED ) == FALSE;
>
>        if( hb_pcount() )
>        {
>           BOOL fEnable = hb_parl( 1 );
>
>           if( fCurrent != fEnable )
>           {
>              /*
>                 SetConsoleMenuClose() API really controls Close Menu
> status, but "forgets"
>                 to gray close button on titlebar. EnableMenuItem() API
> does this trick.
>                 Without SetConsoleMenuClose() clicking on titlebar icon
> close button becomes enabled.
>              */
>              SetConsoleMenuClose( fEnable );
>              EnableMenuItem( hSysMenu, SC_CLOSE, MF_BYCOMMAND | (
> fEnable ? MF_ENABLED : MF_GRAYED ) );
>           }
>        }
>        hb_retl( fCurrent );
>     }
>     else
>        hb_retl( FALSE );
> }
> #PRAGMA ENDDUMP
> <<<---
>
> Best regards,
> Saulius
From smujohnson at gmail.com  Fri Mar  5 21:07:22 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Mar  5 21:07:29 2010
Subject: [Harbour] PgDn / Alt+# copy and paste work in Clipper 5.2e,
	but not Harbour?
Message-ID: <674e4ddd1003051807i9dbaac6v4eea6c3a24f20bf1@mail.gmail.com>

Hi,

Our app uses the default GT, which I believe is GTWIN.  Well in the Clipper
days, we used to copy alt-### chars in something like notepad and
right-click to paste them into the app under a cmd.exe shell.

Now we have found that the special chars, like cute little heart character
for PgDn (Alt+3) doesn't take effect in Harbour anymore.

For example, if I want to hit "e" and then "pgdn", we could copy e? into
notepad, and paste it by right-clicking in our CLI app.  This was a little
track many people who used the software did to save a lot of time from
typing in the same command over and over again.

Any tips greatly appreciated.  Thanks!

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100305/95522c57/attachment.html
From jparada_a at hotmail.com  Fri Mar  5 21:11:38 2010
From: jparada_a at hotmail.com (jparada)
Date: Fri Mar  5 21:11:45 2010
Subject: [Harbour] Error try compile netiosrv
Message-ID: <27801446.post@talk.nabble.com>


Hi, 

I try to compile thus: hbmk2 netiosrv.hbp

and ... undefined reference to 'HB_FUN_HB_STRCLEAR'

Rev. 14068.

some help about it, please.

Regards
Javier Parada
-- 
View this message in context: http://old.nabble.com/Error-try-compile-netiosrv-tp27801446p27801446.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jparada_a at hotmail.com  Fri Mar  5 23:03:45 2010
From: jparada_a at hotmail.com (jparada)
Date: Fri Mar  5 23:03:52 2010
Subject: [Harbour] Error try compile netiosrv
In-Reply-To: <27801446.post@talk.nabble.com>
References: <27801446.post@talk.nabble.com>
Message-ID: <27801872.post@talk.nabble.com>



jparada wrote:
> 
> Hi, 
> 
> I try to compile thus: hbmk2 netiosrv.hbp
> 
> and ... undefined reference to 'HB_FUN_HB_STRCLEAR'
> 
> Rev. 14068.
> 
> some help about it, please.
> 
> Regards
> Javier Parada
> 

At the moment I compile like this: hbmk2 netiosrv.hbp
c:\harbour\src\rtl\strclear.c and it works ok, but how I can avoid that.

Thanks

Regards
Javier Parada



-- 
View this message in context: http://old.nabble.com/Error-try-compile-netiosrv-tp27801446p27801872.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sat Mar  6 03:31:05 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Mar  6 03:31:34 2010
Subject: [Harbour] wich Remote Gui Protocols for harbour?
Message-ID: <609353e71003060031v37c58b49t56e32a27ca62a74e@mail.gmail.com>

There is a project named Vedga (former Glan,
sourceforge.net/projects/glan/) which offers unversal
component-drawing client (somewhat like a player or browser) and all
GUI is processed at the server (process per client). It is built on
the Qt library and protocol thinks in terms of Qt objects, slots and
signals -- high-level enough for protocol to be really fast. --
nuclight
http://c2.com/cgi/wiki/Wiki?RemoteGuiProtocols
Vedga is a toolkit for developing network GUI applications. It allows
the developer to just write code using the Qt programming style for
the server side and forget about the client side
imo Maj be a intresting solution with harbour, who extending the gtnet
idea from gt to qt
Please post here any info and experiences on  Remote Gui


--
Massimo Belgrano
From harbour.01 at syenar.hu  Sat Mar  6 04:04:01 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar  6 04:04:13 2010
Subject: [Harbour] misinformation on xhb newsgroup
Message-ID: <DE1DE5BC-BB82-4108-A795-A62A2000BDA3@syenar.hu>

Hi All,

If someone is able and willing to post on xhb public 
newsgroup, it would be great to clear up some hard
misunderstandings there. One of the insane xhb extensions 
was painted by someone as a Harbour invention and 
something which cannot be fixed by xhb developers. 
This is completely false information.

Look here for more:
 http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/98c34c87431b30e4/32b532496f116132?show_docid=32b532496f116132

The rest of the discussion is quite entertaining:
 http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/a4c587e296d669de
 http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/df6eb7024f3b702a
 http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/98c34c87431b30e4

Brgds,
Viktor

From budyanto at centrin.net.id  Sat Mar  6 04:28:03 2010
From: budyanto at centrin.net.id (Budyanto Dj.)
Date: Sat Mar  6 04:28:18 2010
Subject: [Harbour] misinformation on xhb newsgroup
In-Reply-To: <DE1DE5BC-BB82-4108-A795-A62A2000BDA3@syenar.hu>
References: <DE1DE5BC-BB82-4108-A795-A62A2000BDA3@syenar.hu>
Message-ID: <4B922023.1080409@centrin.net.id>

Viktor,

If you read it carefully on the link you posted:

http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/98c34c87431b30e4

there is only one person who has misunderstanding. And the very person 
has already realized his mistake and apologized for the confusion he has 
made.

regards,
budyanto

Viktor Szak?ts wrote:
> Hi All,
>
> If someone is able and willing to post on xhb public 
> newsgroup, it would be great to clear up some hard
> misunderstandings there. One of the insane xhb extensions 
> was painted by someone as a Harbour invention and 
> something which cannot be fixed by xhb developers. 
> This is completely false information.
>
> Look here for more:
>  http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/98c34c87431b30e4/32b532496f116132?show_docid=32b532496f116132
>
> The rest of the discussion is quite entertaining:
>  http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/a4c587e296d669de
>  http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/df6eb7024f3b702a
>  http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/98c34c87431b30e4
>
> Brgds,
> Viktor
>
>   
From harbour.01 at syenar.hu  Sat Mar  6 04:36:47 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar  6 04:36:58 2010
Subject: [Harbour] misinformation on xhb newsgroup
In-Reply-To: <4B922023.1080409@centrin.net.id>
References: <DE1DE5BC-BB82-4108-A795-A62A2000BDA3@syenar.hu>
	<4B922023.1080409@centrin.net.id>
Message-ID: <E2B6271C-90CF-408D-BD5C-ECCEE80B26EE@syenar.hu>

Hi,

> Viktor,
> 
> If you read it carefully on the link you posted:
> 
> http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/98c34c87431b30e4
> 
> there is only one person who has misunderstanding. And the very person has already realized his mistake and apologized for the confusion he has made.

This is exactly why I wrote "someone".

Good that it's now corrected, thank you, too.

Brgds,
Viktor

From druzus at acn.waw.pl  Sat Mar  6 05:38:27 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Mar  6 05:38:36 2010
Subject: [Harbour] misinformation on xhb newsgroup
In-Reply-To: <4B922023.1080409@centrin.net.id>
References: <DE1DE5BC-BB82-4108-A795-A62A2000BDA3@syenar.hu>
	<4B922023.1080409@centrin.net.id>
Message-ID: <20100306103827.GA4196@linux-4bod.home.aster.pl>

On Sat, 06 Mar 2010, Budyanto Dj. wrote:

Hi,

> If you read it carefully on the link you posted:
> http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/98c34c87431b30e4
> there is only one person who has misunderstanding. And the very
> person has already realized his mistake and apologized for the
> confusion he has made.

The most funny thing in the discussion about this feature
(using one character length strings as number) is the information
that it's the same as in C.
It is completly flase information.
In C "a" is always string and only string. It never become ASC("a").
But C has few forms of writing numbers. One of this form is using
characters quoted by '' what means number equal to corresponding ASCII
value. This can be positive or negative number depending on character
ASCII value and C compiler setting/configuration/dialect/platform.
But it's always only number and it was never a string. Just like
ASC("a") is also number in Clipper and [x]Harbour. If somoene calls
it C like extenssion the he only shows that he has no idea even basic
C features. '<char>' is not a string in C but from the begining and
by definition is a number. If he wants to replicate such C syntax
functionality in xHarbour then he should use some different quotation
character because in Clipper '' is reserved for strings.

This is nothing more then only local xHarbour extension without any
relation to C other then visual similarity in source code for somoene
who does not know C.

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Mar  6 12:34:16 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Mar  6 12:34:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14069] trunk/harbour
Message-ID: <E1NnxtI-00070o-JU@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14069
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14069&view=rev
Author:   druzus
Date:     2010-03-06 17:34:15 +0000 (Sat, 06 Mar 2010)

Log Message:
-----------
2010-03-06 18:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbxvm.h
  * harbour/src/compiler/gencc.c
  * harbour/src/vm/hvm.c
    % added few functions increasing the execution speed of some PRG code
      compiled with -gc3 switch

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbxvm.h
    trunk/harbour/src/compiler/gencc.c
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sat Mar  6 12:54:02 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Mar  6 12:54:11 2010
Subject: [Harbour] Can HB_GTI_CLOSABLE and HB_GTI_RESISABLE hide the icons
Message-ID: <9257026e1003060954g7b3eb90x41ff60c760ca968@mail.gmail.com>

In 2.0.0 gtxwc/gtwvt I have:

   Hb_GTInfo(HB_GTI_CLOSABLE, FALSE )
   Hb_GTInfo(HB_GTI_RESIZABLE, FALSE )

icons are shown but not active and this confuse the users.

Is it possible to hide them?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Mar  6 14:48:10 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar  6 14:48:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14069] trunk/harbour
In-Reply-To: <E1NnxtI-00070o-JU@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NnxtI-00070o-JU@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <2A0CF299-3A85-4F3B-9462-F9899DD728CD@syenar.hu>

with win/mingw:

../../../gencc.c: In function 'hb_gencc_checkNumAhead':
../../../gencc.c:241: warning: comparison is always false due to limited range of data type

Brgds,
Viktor

On 2010 Mar 6, at 18:34, druzus@users.sourceforge.net wrote:

> Revision: 14069
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14069&view=rev
> Author:   druzus
> Date:     2010-03-06 17:34:15 +0000 (Sat, 06 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-06 18:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbxvm.h
>  * harbour/src/compiler/gencc.c
>  * harbour/src/vm/hvm.c
>    % added few functions increasing the execution speed of some PRG code
>      compiled with -gc3 switch
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbxvm.h
>    trunk/harbour/src/compiler/gencc.c
>    trunk/harbour/src/vm/hvm.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Sat Mar  6 15:26:53 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Mar  6 15:27:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14069] trunk/harbour
In-Reply-To: <2A0CF299-3A85-4F3B-9462-F9899DD728CD@syenar.hu>
References: <E1NnxtI-00070o-JU@sfp-svn-4.v30.ch3.sourceforge.com>
	<2A0CF299-3A85-4F3B-9462-F9899DD728CD@syenar.hu>
Message-ID: <20100306202653.GA4763@linux-4bod.home.aster.pl>

On Sat, 06 Mar 2010, Szak?ts Viktor wrote:

Hi,

> with win/mingw:
> ../../../gencc.c: In function 'hb_gencc_checkNumAhead':
> ../../../gencc.c:241: warning: comparison is always false due to limited range of data type

Ups, Thanks for the information.
I wrongly used HB_LONG_{MAX,MIN} instead of LONG_{MAX,MIN}.

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Mar  6 15:27:14 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Mar  6 15:27:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14070] trunk/harbour
Message-ID: <E1No0ag-0007It-VQ@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14070
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14070&view=rev
Author:   druzus
Date:     2010-03-06 20:27:13 +0000 (Sat, 06 Mar 2010)

Log Message:
-----------
2010-03-06 21:27 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/compiler/gencc.c
    ! fixed wrongly used HB_LONG_{MAX,MIN} instead of LONG_{MAX,MIN}.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/compiler/gencc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Mar  6 16:36:24 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar  6 16:36:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14069] trunk/harbour
In-Reply-To: <20100306202653.GA4763@linux-4bod.home.aster.pl>
References: <E1NnxtI-00070o-JU@sfp-svn-4.v30.ch3.sourceforge.com>
	<2A0CF299-3A85-4F3B-9462-F9899DD728CD@syenar.hu>
	<20100306202653.GA4763@linux-4bod.home.aster.pl>
Message-ID: <48EEB04F-D7C8-4C67-BAFD-EF77F80FE091@syenar.hu>

Hi, thank you, now it's fine.

Brgds,
Viktor

On 2010 Mar 6, at 21:26, Przemys?aw Czerpak wrote:

> On Sat, 06 Mar 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> with win/mingw:
>> ../../../gencc.c: In function 'hb_gencc_checkNumAhead':
>> ../../../gencc.c:241: warning: comparison is always false due to limited range of data type
> 
> Ups, Thanks for the information.
> I wrongly used HB_LONG_{MAX,MIN} instead of LONG_{MAX,MIN}.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Mar  6 16:39:27 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar  6 16:39:36 2010
Subject: [Harbour] hvmall dependencies in make
Message-ID: <6978B58E-410F-470C-B8D7-FA0CD5CEF7B4@syenar.hu>

Hi All,

After introducing hvmall.c, the incremental 
build mode don't work in case of vm lib for 
targets which have HB_HVM_ALL mode enabled.
This means that if any .c files which are 
included into hvmall.c are changed, the lib 
won't be automatically rebuilt and a 'clean'
is necessary. It's not tragic, but slows 
down things a bit and it needs extra 
attention.

Any idea how to tell GNU Make to rebuild 
hvmall.c if any of it's dependencies change?

Brgds,
Viktor


From druzus at acn.waw.pl  Sat Mar  6 17:07:51 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Mar  6 17:08:00 2010
Subject: [Harbour] hvmall dependencies in make
In-Reply-To: <6978B58E-410F-470C-B8D7-FA0CD5CEF7B4@syenar.hu>
References: <6978B58E-410F-470C-B8D7-FA0CD5CEF7B4@syenar.hu>
Message-ID: <20100306220751.GA7539@linux-4bod.home.aster.pl>

On Sat, 06 Mar 2010, Szak?ts Viktor wrote:

Hi,

> After introducing hvmall.c, the incremental 
> build mode don't work in case of vm lib for 
> targets which have HB_HVM_ALL mode enabled.
> This means that if any .c files which are 
> included into hvmall.c are changed, the lib 
> won't be automatically rebuilt and a 'clean'
> is necessary. It's not tragic, but slows 
> down things a bit and it needs extra 
> attention.

The same happens when we change header files.
We do not have anything to force recompilation
of files which include modified header file.
Similar situation is with final binaries.
They are not relinked when libraries are
refreshed.
So for me it's not very unusual situation.

> Any idea how to tell GNU Make to rebuild 
> hvmall.c if any of it's dependencies change?

Add to src/vm/Makefile:

hvmall.o : $(TOP)hvm.c $(TOP)itemapi.c $(TOP)hashes.c \
           $(TOP)arrays.c $(TOP)classes.c ...

In the final version $(OBJ_EXT) should be used instead
of .o but AFAIK it's not defined in global.mk

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Mar  6 17:44:52 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Mar  6 17:45:00 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14071] trunk/harbour
Message-ID: <E1No2js-0000c6-DI@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14071
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14071&view=rev
Author:   druzus
Date:     2010-03-06 22:44:51 +0000 (Sat, 06 Mar 2010)

Log Message:
-----------
2010-03-06 23:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/evalhb.c
  * harbour/src/vm/asort.c
  * harbour/src/vm/hvm.c
  * harbour/src/vm/arrays.c
  * harbour/src/vm/thread.c
  * harbour/src/vm/eval.c
  * harbour/src/vm/classes.c
  * harbour/src/rtl/do.c
  * harbour/contrib/gtwvg/wvgwing.c
    * use hb_vmPushEvalSym() instead of hb_vmPushSymbol( &hb_symEval )
      Please try to eliminate direct hb_symEval usage from 3-rd party code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/src/rtl/do.c
    trunk/harbour/src/vm/arrays.c
    trunk/harbour/src/vm/asort.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/eval.c
    trunk/harbour/src/vm/evalhb.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Mar  6 19:06:56 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar  6 19:07:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14072] trunk/harbour
Message-ID: <E1No41I-0004ta-Kv@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14072
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14072&view=rev
Author:   vouchcac
Date:     2010-03-07 00:06:49 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-06 15:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/fl_c.png
  + contrib/hbide/resources/fl_dll.png
  + contrib/hbide/resources/fl_exe.png
  + contrib/hbide/resources/fl_ini.png
  + contrib/hbide/resources/fl_lib.png
  + contrib/hbide/resources/fl_prg.png
  + contrib/hbide/resources/fl_res.png
  + contrib/hbide/resources/fl_txt.png
  * contrib/hbide/resources/hb-16x16.png
  * contrib/hbide/resources/hb-32x32.png
  * contrib/hbide/resources/hbide.png
  + contrib/hbide/resources/hbidesplashwatermark.png
  + contrib/hbide/resources/panel_2.png
  + contrib/hbide/resources/panel_3.png
  + contrib/hbide/resources/panel_4.png
  + contrib/hbide/resources/panel_5.png
  + contrib/hbide/resources/panel_6.png
  + contrib/hbide/resources/panel_7.png
  + contrib/hbide/resources/source_c.png
  + contrib/hbide/resources/source_cpp.png
  + contrib/hbide/resources/source_h.png
  + contrib/hbide/resources/source_o.png
  + contrib/hbide/resources/source_prg.png
  + contrib/hbide/resources/source_res.png
  + contrib/hbide/resources/source_txt.png
  + contrib/hbide/resources/source_unknown.png
    + Added more images for user interface. 

  * contrib/hbide/resources/projectpropertiesex.ui
  * contrib/hbide/resources/projectpropertiesex.uic
    - Removed xMate ".xhp" project loading icon.

  * contrib/hbxbp/xbpwindow.prg
    ! Commented out "resize" event as it was hanging the 
      applications without any graspable reason. Will be 
      investigated deeply in future.

  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idehome.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idesaveload.prg
  * contrib/hbide/idestylesheets.prg
  + contrib/hbide/idethemes.prg
    
    ! This commit corrects/fixes issues reported by Viktor.
      Please scratch them again. I might have missed a couple
      of them.

    + Implemented: A root panel called "Stats" containing,
      presently, "Welcome" and "FAQ's" tabs, detailed below.
      Now hbIDE has a mechanism to hold as many informative 
      slots as the development will demand in future.

      <Welcome>: It holds the exiting "Projects" information:
        Title   Type   Sources   Last_Modified    Location

      The field <Title> is a link to open detailed view of its 
      contents which contain fields:
        Source   Type   Size   Last_Modified   Location

      Clicking on a <Source> opens it in the editor under "Main" panel.

      <Home> icon is added in the top-toolbar next to <Exit> icon
      which leads you to <Stats> panel holding <Welcome> and <FAQs> tabs.

      Projects -> Detail -> Source : backward navigation is enabled 
      through context menu withing browser. The options within thus
      context menu has <Print> option which leads to print preview
      dialog and eventually to printing on the paper.

      <FAQs>: This holds short questions and answers as per the 
      industry standards. I could put only two of them still. 
      Please forward the ones you consider should go to this list.

    ! Changed: main window icon as previous one was not giving a 
      strong impression to be remember for long.
    
    ! Loading/Opening a project: now offers .hbp or .xhp options.
      .xhp is converted to .hbp and is written to disk and project
      is loaded as usual. This should be a one-time process.

    ! Click on function list now position the clicked function 
      in the center of the editor.

    ! IdeSettings.ini is now hbide.set and is saved where hbide.ini 
      is residing. The change is name was nessary as to avoid
      wrong impression of .ini nature as a text file. It is binary
      by nature.

    ! Many more artifacts which I tend to forget, please bear it 
      with my age.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbide/resources/hb-16x16.png
    trunk/harbour/contrib/hbide/resources/hb-32x32.png
    trunk/harbour/contrib/hbide/resources/hbide.png
    trunk/harbour/contrib/hbide/resources/projectpropertiesex.ui
    trunk/harbour/contrib/hbide/resources/projectpropertiesex.uic
    trunk/harbour/contrib/hbxbp/xbpwindow.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idehome.prg
    trunk/harbour/contrib/hbide/resources/fl_c.png
    trunk/harbour/contrib/hbide/resources/fl_dll.png
    trunk/harbour/contrib/hbide/resources/fl_exe.png
    trunk/harbour/contrib/hbide/resources/fl_ini.png
    trunk/harbour/contrib/hbide/resources/fl_lib.png
    trunk/harbour/contrib/hbide/resources/fl_prg.png
    trunk/harbour/contrib/hbide/resources/fl_res.png
    trunk/harbour/contrib/hbide/resources/fl_txt.png
    trunk/harbour/contrib/hbide/resources/hbidesplashwatermark.png
    trunk/harbour/contrib/hbide/resources/panel_2.png
    trunk/harbour/contrib/hbide/resources/panel_3.png
    trunk/harbour/contrib/hbide/resources/panel_4.png
    trunk/harbour/contrib/hbide/resources/panel_5.png
    trunk/harbour/contrib/hbide/resources/panel_6.png
    trunk/harbour/contrib/hbide/resources/panel_7.png
    trunk/harbour/contrib/hbide/resources/source_c.png
    trunk/harbour/contrib/hbide/resources/source_cpp.png
    trunk/harbour/contrib/hbide/resources/source_h.png
    trunk/harbour/contrib/hbide/resources/source_o.png
    trunk/harbour/contrib/hbide/resources/source_prg.png
    trunk/harbour/contrib/hbide/resources/source_res.png
    trunk/harbour/contrib/hbide/resources/source_txt.png
    trunk/harbour/contrib/hbide/resources/source_unknown.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Mar  6 19:20:06 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar  6 19:20:13 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14072] trunk/harbour
In-Reply-To: <E1No41I-0004ta-Kv@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1No41I-0004ta-Kv@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <1267921206325-4688440.post@n2.nabble.com>



vouchcac wrote:
> 
> Revision: 14072
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14072&view=rev
> Author:   vouchcac
> Date:     2010-03-07 00:06:49 +0000 (Sun, 07 Mar 2010)
> 

Here are the first impressions:

Welcome: Projects

http://n2.nabble.com/file/n4688440/idewelcome_projects.png 

Welcome: Project Detail

http://n2.nabble.com/file/n4688440/idewelcome_detail.png 

Welcome: FAQs



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14072-trunk-harbour-tp4688400p4688440.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Mar  6 19:21:01 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar  6 19:21:07 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14072] trunk/harbour
In-Reply-To: <1267921206325-4688440.post@n2.nabble.com>
References: <E1No41I-0004ta-Kv@sfp-svn-4.v30.ch3.sourceforge.com>
	<1267921206325-4688440.post@n2.nabble.com>
Message-ID: <1267921261114-4688442.post@n2.nabble.com>


FAQs

http://n2.nabble.com/file/n4688442/idewelcome_faqs.png 

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14072-trunk-harbour-tp4688400p4688442.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Mar  6 22:22:46 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar  6 22:22:57 2010
Subject: [Harbour] Re: hbide testing (go #1)
In-Reply-To: <936F3E96-549B-44BE-A5B6-FADD67BD179C@syenar.hu>
References: <936F3E96-549B-44BE-A5B6-FADD67BD179C@syenar.hu>
Message-ID: <FB1638CF-7AD7-4B57-822A-3FA620EC414A@syenar.hu>

Hi Pritpal,

Testing results after r14072.

On 2010 Mar 3, at 22:27, Viktor Szak?ts wrote:

> Hi Pritpal,
> 
> My experiences with latest HBIDE, with deleted .ini file:
> 
> 1) 'Help | About' menu item is still using the old app icon.

Fixed.

> 2) Many control backgrounds are still "gradient" style, 
>   f.e. panel headers, main toolbar, main menu. Not a bug per 
>   se, but can't find any contemporary IDEs with similar effects. 
>   They are usually minimalistic.

Fixed.

> 3) Selecting 'Project | Properties' after startup: three 
>   consecutive message boxes informing me about the same 
>   error, but with slightly different wording.
>   "no active project detected" (maybe it'd be better to gray out the item in this case)
>   "No Projects Available" (should not use all capitals here)
>   "Invalid Project:" (should say something after ':')

Fixed.

> 4) 'Tools' menu has two items, both using '*' mark, 
>   'Configure Tools' not doing anything, 'Command Prompt' 
>   asking for a Macro name with the title 'Compilation'.
>   In current form this whole menu would better be deleted.

Fixed.

> 5) Found no way to disable or move rightmost and leftmost 
>   toolbars. They seem fixed. IMO it should be user placeable, 
>   and should be possible to hide both.

Was ok.

> 6) "..." are missing from several menu items under 'File' menu, 
>   f.e. it should be "Open..." instead of "Open".

Fixed + I'll fix a few more in a next commit.

> [at this point I opened 'projects/hbide.hbp']
> 
> 6) Ctrl+F4 or left-click on tab header doesn't work to close 
>   source code tabs. I could only do it from main menu.
>   A simple close icon on tab would also be a solution, but 
>   key-combination is a must.

This one remains a problem. Tab can only be closed 
using the toolbar.

> 7) When source code tab is open, it "steals" focus from 
>   "Projects Tree". Open any source file by double clicking, 
>   then click on any source file in the "Projects Tree" panel, 
>   it will be selected, than immediately grayed. This also 
>   means it's not possible to navigate with cursor keys 
>   when any source file is open.

Fixed.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Mar  6 22:33:46 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar  6 22:33:55 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
Message-ID: <A8C8563C-EA78-40D4-8D80-D2A3F7B81610@syenar.hu>

Hi Pritpal,

Results after r14072.

> 1) In top of left toolbar there is green block.
>   It seems to be 'Editor Panels'. I couldn't yet 
>   find its function, but maybe at least the icon 
>   should be changed to something else, because now 
>   it's IMO difficult to find out what it is. At 
>   least for a hbide newbie.

Clicking behavior is now fixed. But I still 
can't easily grasp the meaning of this icon.
I need to play with it some more.

> 2) xMate import: There is a separate button for it now, 
>   but possibly it would be cleaner to simply allow 
>   to open it in regular 'open project' window and 
>   make the one-time conversion automatically.
>   In this case there would essentially be a 'new' 
>   project created with some pre-filled (converted) 
>   information, which could in turn be saved by user 
>   as native .hbp file.

Fixed.

>   This is how Visual Studio handles compatibility 
>   project file formats.
>   Such one time conversion could easily be made 
>   using external call hbmk2, and in this case you 
>   could add support for xbuild and hbmake projects 
>   as well, by only adding a few extra lines of code.

hbmk2 is still not used here, hence xbuild and 
hbmake support are also missing, so this part 
remains a TODO.

> 3) 'Edit | Line...' and 'Edit | Block...' should not 
>   have '...' since they are submenus.

Fixed.

> 4) Status line says: "Codec:" and "Env:" without 
>   any text after ':'. Either the default value should 
>   be put there or the status section omitted. (possibly 
>   the former)

Fixed.

> 5) "Editor Themes" should be "Theme Manager" or 
>   just simply "Theme Editor".

Fixed.

> 6) In "Editor Themes" the 'Action' button does nothing 
>   apparent, and for me it stays a mystery how to make 
>   an instant theme change. Whatever I do everything 
>   stays the same.

Much better. I still miss some kind of visual feedback 
when "Set as default" is selected, but it's fine now.

I've noticed to regressions:

1) Now "hbide.set" filename is created which stores some 
   settings, but it would be much better to store these 
   in hbide.ini. This way there would be just one file 
   keeping all settings. hbide.set is .ini format and 
   text only, so this is most probably technically possible.

2) New GPF. Can't easily describe what needs to be done, 
   but I got it in seemingly different situations, after 
   just a few clicks (maybe "close all" is the key, I'm 
   not sure):
---
Unrecoverable error 6005: Exception error:

Called from QTREEWIDGETITEM:_PPTR(0)
Called from XBPTREEVIEWITEM:DESTROY(0) in ../../../xbptreeview.prg
Called from XBPTREEVIEW:DESTROY(0) in ../../../xbptreeview.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
Called from XBPDIALOG:DESTROY(0) in ../../../xbpdialog.prg
Called from HBIDE:CREATE(538) in hbide.prg
Called from MAIN(117) in hbide.prg
---

Thanks a lot for your efforts!

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Mar  6 22:35:33 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar  6 22:35:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14073] trunk/harbour
Message-ID: <E1No7HB-0007Jt-Jp@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14073
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14073&view=rev
Author:   vszakats
Date:     2010-03-07 03:35:31 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 04:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/hvm.c
  * include/hbapi.h
    * Marked hb_synEval public symbol with HB_LEGACY_LEVEL3

  * src/rtl/gtwin/gtwin.c
    ! Copyright header update.

  * src/rtl/objfunc.prg
  * include/hboo.ch
    * Minor cleanup and formatting.

  * INSTALL
    * Minor refinement in wording.

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
    ! "Codec" -> "Encoding" in a few more places.
    ! "..." added to some more menu items.
    ! Double "(.ext)" text in filetypes in open project dialog.
    ; Please review me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hboo.ch
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/objfunc.prg
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar  6 22:36:35 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar  6 22:36:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14074]
	trunk/harbour/ChangeLog
Message-ID: <E1No7IB-0007LM-1L@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14074
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14074&view=rev
Author:   vszakats
Date:     2010-03-07 03:36:34 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
missed one file from last entry:

2010-03-07 04:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/hvm.c
  * include/hbapi.h
    * Marked hb_synEval public symbol with HB_LEGACY_LEVEL3

  * src/rtl/gtwin/gtwin.c
    ! Copyright header update.

  * src/rtl/objfunc.prg
  * include/hboo.ch
    * Minor cleanup and formatting.

  * INSTALL
    * Minor refinement in wording.

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideprojmanager.prg
    ! "Codec" -> "Encoding" in a few more places.
    ! "..." added to some more menu items.
    ! Double "(.ext)" text in filetypes in open project dialog.
    ; Please review me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Mar  6 23:28:52 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar  6 23:29:00 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <A8C8563C-EA78-40D4-8D80-D2A3F7B81610@syenar.hu>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<A8C8563C-EA78-40D4-8D80-D2A3F7B81610@syenar.hu>
Message-ID: <1267936132429-4689100.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Clicking behavior is now fixed. But I still 
> can't easily grasp the meaning of this icon.
> I need to play with it some more.
> 

Let me explain how powerful this feature is:

1. Select "New..." from drop-down list of right-most combo-box
    on top toolbar.
2. In the input dialog give some meaninful name, i.e., "My C Sources".
   Note, if you do not change the name, it will do nothing.
3. Instantly a blank panel will appear and current panel
   will be hidden.
4. Keep a watch on the left-toolbar, a rounded button
   will appear with different color hue.
5. Open some sources, those will appear on "My C Sources" panel.
6. Navigate the editor panels with clicking on left-panel rounded buttons.
7. Exit hbIDE.
8. Re-enter, your panels are intact.

This feature is targeted to avoid session-management the other 
IDE's provide. They close the current session and open requested one,
thus closing all sources, which you might be in need of referring to.



> hbmk2 is still not used here, hence xbuild and 
> hbmake support are also missing, so this part 
> remains a TODO.
> 

hbMK2 is not called. The function  handelling it is pulled from 
hbMK2.prg and is included in hbIDE. I do not want to call
external executable unless necessary. At a point one is 
building a project, he might not have set the environment at all.

hbmake and xhb are on my TODO list, though.




> Much better. I still miss some kind of visual feedback 
> when "Set as default" is selected, but it's fine now.
> 

Ok. So I have to introduce <Theme: SomeTheme> slot in status-bar.



> I've noticed to regressions:
> 
> 1) Now "hbide.set" filename is created which stores some 
>    settings, but it would be much better to store these 
>    in hbide.ini. This way there would be just one file 
>    keeping all settings. hbide.set is .ini format and 
>    text only, so this is most probably technically possible.
> 

No. This cannot be. hbide.set is created by Qt's direct 
function call which only accepts a filename. While reading it,
Qt expects a filename only. I cannot push these settings 
at my own. It is a binary file by nature so it must been 
moved from .ini extension to something else. Location was also
wrong. Now everything is fine.



> 2) New GPF. Can't easily describe what needs to be done, 
>    but I got it in seemingly different situations, after 
>    just a few clicks (maybe "close all" is the key, I'm 
>    not sure):
> ---
> Unrecoverable error 6005: Exception error:
> 
> Called from QTREEWIDGETITEM:_PPTR(0)
> Called from XBPTREEVIEWITEM:DESTROY(0) in ../../../xbptreeview.prg
> 

Yes, this will appear when you exit the application.
But only when you open some of docking widgets,
notably, properties, themes, environment settings 
and findinfiles manger.

If you do not open any of the above widgets, no GPF.
I know the reason but still at a loss how I should cover it.



> Thanks a lot for your efforts!
> 

You are welcome.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-testing-go-2-tp4671197p4689100.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Mar  6 23:33:53 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar  6 23:34:00 2010
Subject: [Harbour] Re: hbide testing (go #1)
In-Reply-To: <FB1638CF-7AD7-4B57-822A-3FA620EC414A@syenar.hu>
References: <936F3E96-549B-44BE-A5B6-FADD67BD179C@syenar.hu>
	<FB1638CF-7AD7-4B57-822A-3FA620EC414A@syenar.hu>
Message-ID: <1267936433704-4689116.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
>> [at this point I opened 'projects/hbide.hbp']
>> 
>> 6) Ctrl+F4 or left-click on tab header doesn't work to close 
>>   source code tabs. I could only do it from main menu.
>>   A simple close icon on tab would also be a solution, but 
>>   key-combination is a must.
> 
> This one remains a problem. Tab can only be closed 
> using the toolbar.
> 
> 

I am working on it.
However situation will be the same. 
It will be toolbar of a close button on extreme right of the tabs.
Though it will be there in next commit.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-testing-go-1-tp4670601p4689116.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Mar  7 04:54:08 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar  7 04:54:20 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <1267936132429-4689100.post@n2.nabble.com>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<A8C8563C-EA78-40D4-8D80-D2A3F7B81610@syenar.hu>
	<1267936132429-4689100.post@n2.nabble.com>
Message-ID: <58E5DA9A-3510-417F-BEE2-8D6F0330D59A@syenar.hu>

Hi Pritpal,

>> Clicking behavior is now fixed. But I still 
>> can't easily grasp the meaning of this icon.
>> I need to play with it some more.
>> 
> 
> Let me explain how powerful this feature is:
> 
> 1. Select "New..." from drop-down list of right-most combo-box
>    on top toolbar.
> 2. In the input dialog give some meaninful name, i.e., "My C Sources".
>   Note, if you do not change the name, it will do nothing.
> 3. Instantly a blank panel will appear and current panel
>   will be hidden.
> 4. Keep a watch on the left-toolbar, a rounded button
>   will appear with different color hue.
> 5. Open some sources, those will appear on "My C Sources" panel.
> 6. Navigate the editor panels with clicking on left-panel rounded buttons.
> 7. Exit hbIDE.
> 8. Re-enter, your panels are intact.
> 
> This feature is targeted to avoid session-management the other 
> IDE's provide. They close the current session and open requested one,
> thus closing all sources, which you might be in need of referring to.

Okay, I'll try.

>> hbmk2 is still not used here, hence xbuild and 
>> hbmake support are also missing, so this part 
>> remains a TODO.
>> 
> 
> hbMK2 is not called. The function  handelling it is pulled from 
> hbMK2.prg and is included in hbIDE. I do not want to call
> external executable unless necessary. At a point one is 
> building a project, he might not have set the environment at all.
> 
> hbmake and xhb are on my TODO list, though.

Code duplication, code duplication. Maybe it will 
be me who will delete this feature from hbmk2. I hate 
to see such redundancy.

>> Much better. I still miss some kind of visual feedback 
>> when "Set as default" is selected, but it's fine now.
>> 
> Ok. So I have to introduce <Theme: SomeTheme> slot in status-bar.

Seems perfect.

>> I've noticed to regressions:
>> 
>> 1) Now "hbide.set" filename is created which stores some 
>>   settings, but it would be much better to store these 
>>   in hbide.ini. This way there would be just one file 
>>   keeping all settings. hbide.set is .ini format and 
>>   text only, so this is most probably technically possible.
>> 
> 
> No. This cannot be. hbide.set is created by Qt's direct 
> function call which only accepts a filename. While reading it,
> Qt expects a filename only. I cannot push these settings 
> at my own. It is a binary file by nature so it must been 
> moved from .ini extension to something else. Location was also
> wrong. Now everything is fine.

Hmmmmm. Yet it doesn't look very good. I wonder if there 
is a QT call which returns you the status as a binary 
stream, which you can do whatever you want (and same in 
reverse). It's very odd if an API forces file usage in such 
way. BTW it's not binary content.

Well, I've tried and QT respects existing file, and 
will _add_ it's own content, so you can just safely use 
hbide.ini as the filename.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sun Mar  7 04:57:17 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Mar  7 04:57:25 2010
Subject: [Harbour] Some simple fixes
Message-ID: <9257026e1003070157h514e0fc2j26b9b3dfa540aac9@mail.gmail.com>

Comparing my local tree with the SVN 14074 there are some simple fixes
that could be useful to others.
Pick up what you want.

contrib/xhb/hblog.prg

In line 465 replace IF HB_EnumIndex() < nLen with IF xPar:__enumIndex() < nLen

contrib/hbtip/sendmail.prg

the syntax "text/plain;filename=" + cFname + cFext is wrong the
correct one is: "text/plain; name=" + cFname + cFext
all the strings in hb_SetMimeType should be fixed

contrib/hbtip/utils.c

s_findStringMimeType is wrong since it returns text/plain for every
file type that is text but html/js/css/xml are all text files so it
makes the mime find useless.

static const char * s_findStringMimeType( const char * cData, int iLen )
{
   int iCount;
#if 0
   HB_BOOL bFormFeed;
#endif
...
#if 0
   /* Failure; let's see if it's a text/plain. */
 ...
#endif
   return NULL;

contrib/hbtip/cgi.prg

IMHO it should be removed. I did it years ago but it wrongly mix cgi
protocol, session management and html generation.
This things should be done at the application level not in a language lib.

best regards,
Lorenzo
From druzus at acn.waw.pl  Sun Mar  7 04:57:26 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar  7 04:57:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14074]
	trunk/harbour/ChangeLog
In-Reply-To: <E1No7IB-0007LM-1L@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1No7IB-0007LM-1L@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <20100307095726.GA15400@linux-4bod.home.aster.pl>

On Sun, 07 Mar 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-03-07 04:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/vm/hvm.c
>   * include/hbapi.h
>     * Marked hb_synEval public symbol with HB_LEGACY_LEVEL3

Thank you. I'll only commit small cleanup.
It has to be available for core code.

best regards,
Przemek
From druzus at users.sourceforge.net  Sun Mar  7 04:57:45 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar  7 04:57:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14075] trunk/harbour
Message-ID: <E1NoDF3-0005qj-Gc@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14075
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14075&view=rev
Author:   druzus
Date:     2010-03-07 09:57:44 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 10:57 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
    * small cleanup in marking hb_symEval with HB_LEGACY_LEVEL3
      It should be available for core HVM functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Mar  7 05:07:18 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar  7 05:07:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14075] trunk/harbour
In-Reply-To: <E1NoDF3-0005qj-Gc@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NoDF3-0005qj-Gc@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <7FECD0AB-53F6-4859-B6A5-9E71F1B4C48B@syenar.hu>

Hi Przemek,

> Log Message:
> -----------
> 2010-03-07 10:57 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbapi.h
>    * small cleanup in marking hb_symEval with HB_LEGACY_LEVEL3
>      It should be available for core HVM functions.

Thanks. An adjustment is needed also in hvm.c. I wonder 
if this public variable could be eliminated completely 
(without drawbacks that is). It seems the only one remaining 
in Harbour core.

Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Sun Mar  7 05:16:09 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Mar  7 05:16:18 2010
Subject: [Harbour] DBI_PASSWORD
References: <E18050DD68C540D7B612A5BC4E36D524@emag><20100303092448.GA16679@linux-4bod.home.aster.pl>
	<A2AECA616D6B4B4D948E35FA7A049E01@emag>
Message-ID: <B89E0FAA3999447494E71D8607E021EA@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 5 marzo 2010 9.14
Oggetto: Re: [Harbour] DBI_PASSWORD


> Przemek, sorry to be back on this subject: do you think it would be 
> possible to also crypt DBFs with memo fields leaving the memo fields 
> theirself uncrypted? I would really need of the crypting functionality... 
> :-)
>
> One more question: is it safe to use DBI_PASSWORD to crypt DBFs without
> memo fields?

Any anwers?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Sun Mar  7 05:25:48 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar  7 05:25:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14075] trunk/harbour
In-Reply-To: <7FECD0AB-53F6-4859-B6A5-9E71F1B4C48B@syenar.hu>
References: <E1NoDF3-0005qj-Gc@sfp-svn-6.v30.ch3.sourceforge.com>
	<7FECD0AB-53F6-4859-B6A5-9E71F1B4C48B@syenar.hu>
Message-ID: <20100307102548.GA16677@linux-4bod.home.aster.pl>

On Sun, 07 Mar 2010, Szak?ts Viktor wrote:

Hi Viktor,

> Thanks. An adjustment is needed also in hvm.c. I wonder 
> if this public variable could be eliminated completely 
> (without drawbacks that is). It seems the only one remaining 
> in Harbour core.

It's necessary for core code and it's used in different core files
so it cannot be easy done.
BTW public functions use by core code only usually only increase
HVM lib size because they have separate non inlined copy which is
not used by other code.
Fortunately new compilers like GCC4.5 can resolve this problem.
GCC45 supports link time optimization (LTO) with all compile time
switches. It means that Harbour and final application can be compiled
and linked with -flto and all optimization flags (CFLAGS has to be
passed also to linker as LDFLAGS) and in such case it's possible
to use at link time some additional optimization switches which are
not available for programs using multiple files i.e. we can use
-fwhole-program and eliminate all such dead code.
Final binaries are smaller and faster. We can also reach the same
effect as with HB_HVM_ALL=yes mode without it because the same
optimizations can be done at link time.

best regards,
Przemek
From niki at synel.co.il  Sun Mar  7 05:34:14 2010
From: niki at synel.co.il (Chen Kedem)
Date: Sun Mar  7 05:34:24 2010
Subject: [Harbour] SF bug tracker#2964744: hbmysql:
 tmysql.prg->ClipValue2SQL() returns EMPTY string.
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CA7@Mail-yoq.SYNEL-COMPANY.LTD>

The following was submitted to our SF bug tracker:
http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2964744&group_id=681

it claim that in contrib/hbmysql/tmysql.prg function ClipValue2SQL()
should return "NULL" instead of "''" (" ' ' ") for NIL type values.

If someone that know this code can apply/reject the propose patch,
I could close this report.

Thanks,

  Chen.
From vszakats at users.sourceforge.net  Sun Mar  7 05:48:32 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 05:48:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14076] trunk/harbour
Message-ID: <E1NoE2C-0004bU-BN@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14076
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14076&view=rev
Author:   vszakats
Date:     2010-03-07 10:48:30 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 11:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/hvm.c
    ! Adjustment to symEval declaration after last change.

  * contrib/hbmysql/tmysql.prg
    ! Fixed CLIPVALUE2SQL() to return NULL for NIL
      values. Should fix sf.bet bug #2964744.
    % Optimized CLIPVALUE2SQL().

  * contrib/xhb/tframe.prg
    ! Fixed HB_ENUMINDEX() to :__enumIndex().
    % Minor optimization.
    * Some formatting.

  * contrib/xhb/hblog.prg
    ! Fixed HB_ENUMINDEX() to :__enumIndex().

  * contrib/hbtip/sendmail.prg
    ! Fixed mime type spec: "text/plain;filename=" -> "text/plain; name="

  ; Latter two suggested by Lorenzo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/tmysql.prg
    trunk/harbour/contrib/hbtip/sendmail.prg
    trunk/harbour/contrib/xhb/hblog.prg
    trunk/harbour/contrib/xhb/tframe.prg
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sun Mar  7 06:01:54 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Mar  7 06:02:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14076] trunk/harbour
In-Reply-To: <E1NoE2C-0004bU-BN@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NoE2C-0004bU-BN@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <9257026e1003070301n7641fbfaxda878d9aee9b626@mail.gmail.com>

On Sun, Mar 7, 2010 at 11:48 AM,  <vszakats@users.sourceforge.net> wrote:
>
> ?* contrib/hbtip/sendmail.prg
> ? ?! Fixed mime type spec: "text/plain;filename=" -> "text/plain; name="

Many thanks, all the return strings should be changed also.

For example:

...
CASE ( cFile LIKE ".+\.vbd" ); RETURN "application/activexdocument=" +
cFname + cFext
CASE ( cFile LIKE ".+\.(asn|asz|asd)" ); RETURN "application/astound="
+ cFname + cFext
...

with

CASE ( cFile LIKE ".+\.vbd" ); RETURN "application/activexdocument;
name=" + cFname + cFext
CASE ( cFile LIKE ".+\.(asn|asz|asd)" ); RETURN "application/astound;
name=" + cFname + cFext

best regards,
Lorenzo
From druzus at users.sourceforge.net  Sun Mar  7 06:02:06 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar  7 06:02:13 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14077] trunk/harbour
Message-ID: <E1NoEFK-0002o1-48@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14077
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14077&view=rev
Author:   druzus
Date:     2010-03-07 11:02:01 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 12:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/xhb/tframe.prg
    % small optimization

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/tframe.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 06:06:41 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 06:06:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14078] trunk/harbour
Message-ID: <E1NoEJl-00050V-6X@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14078
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14078&view=rev
Author:   vszakats
Date:     2010-03-07 11:06:40 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 12:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/sendmail.prg
    ! Further fix to HB_SETMIMETYPE() returned strings.
    ; Pls review/test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/sendmail.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Sun Mar  7 06:16:00 2010
From: niki at synel.co.il (Chen Kedem)
Date: Sun Mar  7 06:18:23 2010
Subject: [Harbour] Re: SF bug tracker#2964744: hbmysql:
 tmysql.prg->ClipValue2SQL() returns EMPTY string.
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CA7@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CA7@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CA8@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> 2010-03-07 11:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> :
>   * contrib/hbmysql/tmysql.prg
>    ! Fixed CLIPVALUE2SQL() to return NULL for NIL
>      values. Should fix sf.bet bug #2964744.
>    % Optimized CLIPVALUE2SQL().

Thanks you. Report is now closed.

  Chen.
From druzus at acn.waw.pl  Sun Mar  7 06:21:47 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar  7 06:21:56 2010
Subject: [Harbour] DBI_PASSWORD
In-Reply-To: <B89E0FAA3999447494E71D8607E021EA@emag>
References: <E18050DD68C540D7B612A5BC4E36D524@emag>
	<20100303092448.GA16679@linux-4bod.home.aster.pl>
	<A2AECA616D6B4B4D948E35FA7A049E01@emag>
	<B89E0FAA3999447494E71D8607E021EA@emag>
Message-ID: <20100307112147.GA24476@linux-4bod.home.aster.pl>

On Sun, 07 Mar 2010, Enrico Maria Giordano wrote:

Hi,

> >Przemek, sorry to be back on this subject: do you think it would
> >be possible to also crypt DBFs with memo fields leaving the memo
> >fields theirself uncrypted? I would really need of the crypting
> >functionality... :-)

It is possible. You only have to remove from src/rdd/dbf1.c code
which blocks encryption when MEMO file is present.
It's enough to remove '!pArea->fHasMemo' from conditions in the folowing
lines:
   dbf1.c[536,599,1639,2141,2156]

> >One more question: is it safe to use DBI_PASSWORD to crypt DBFs without
> >memo fields?

What does it mean SAFE for you?
If you ask if it works then it works without any problems.
If you ask if it's strong encryption so your secret data are
safe then encryption used by SIX3 is not strong enough for
current standards. For sure it's not XOR or other trivial
algorithm but someone who has some a little bit more advanced
math knowledge should be able to break it.

best regards,
Przemek
From vszakats at users.sourceforge.net  Sun Mar  7 06:21:59 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 06:22:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14079] trunk/harbour
Message-ID: <E1NoEYZ-0005Kf-Lw@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14079
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14079&view=rev
Author:   vszakats
Date:     2010-03-07 11:21:58 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 12:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/encmthd.c
    * Formatting.
    ; TOFIX: I've just realized the nature of this hack.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/encmthd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Mar  7 06:25:29 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar  7 06:25:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14080] trunk/harbour
Message-ID: <E1NoEbx-0003A7-4o@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14080
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14080&view=rev
Author:   druzus
Date:     2010-03-07 11:25:25 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 12:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/dbf1.c
    * removed unnecessary function call

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/dbf1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Mar  7 06:45:08 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar  7 06:45:16 2010
Subject: [Harbour] dlmalloc on OS/2
In-Reply-To: <4B8D1B14.6030301@libero.it>
References: <4B8B8643.8090604@libero.it>
	<20100302030348.GA32227@linux-4bod.home.aster.pl>
	<4B8D1B14.6030301@libero.it>
Message-ID: <20100307114508.GA25269@linux-4bod.home.aster.pl>

On Tue, 02 Mar 2010, Maurilio Longo wrote:

Hi,

> > Also seems that flAttribute parameter has wrongly value.
> > Without ORing with FILE_ARCHIVED and FILE_READONLY files with above
> > attribute should be excluded.
> > 
> bits 5..0 are MAY-have, that is, file name is returned either it has that
> attribute set or it has not. If you want only those files with attributes set,
> then you have to use must-have values,

The description suggests that files with attribute READONLY or ARCHIVE are
not shown if MAY bits are not set. It's not Clipper compatible behavior.
So it should be definitely fixed or the description is wrong.

> > BTW what errors do you have?
> Error 8, that is  ERROR_NOT_ENOUGH_MEMORY.

Looks like some internal problem, i.e. with memory alignment.

> With my last change, which uses a block obtained with a DosAlloc() with
> OBJ_TILE, that is a block aligned to a 64Kb segment, in low memory and with
> 16bit selectors set, it always works. This is on a SMP kernel searching for a
> file on a samba share, so going throug IBM LanManager (aka CIFS client) which
> is an old piece of code which might have some old 16bit/protect mode code inside.
> I'll commit this change shortly.

If it's memory alignment problem then such modification should resolve it.
Anyhow such things should be documented.

> BTW,
> firefox 3.x for OS/2 has this code
> 
> if (isWSEB)
>     {
>         rc = DosFindFirst( filename,
>                            &d->d_hdl,
>                            FILE_DIRECTORY | FILE_HIDDEN,
>                            &(d->d_entry.large),
>                            sizeof(d->d_entry.large),
>                            &numEntries,
>                            FIL_STANDARDL);
>     }
>     else
>     {
>         rc = DosFindFirst( filename,
>                            &d->d_hdl,
>                            FILE_DIRECTORY | FILE_HIDDEN,
>                            &(d->d_entry.small),
>                            sizeof(d->d_entry.small),
>                            &numEntries,
>                            FIL_STANDARD);
>     }
> 
> So it seems newer kernels can/have to(?) use the FIL_STANDARDL flag but,
> maybe, they work with the old one as well (my kernel is the last one).

I think that we should clean current file IO code and use only native
OS2 API instead of current mixed OS2 and CRTL calls. We can also add
support for 64bit file API if it's available in OS2.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Mar  7 06:49:54 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar  7 06:50:02 2010
Subject: [Harbour] Re: dlmalloc on OS/2
In-Reply-To: <4B91104A.3050806@libero.it>
References: <4B90F8B5.6040106@mail.udg.mx>
 <4B91104A.3050806@libero.it>
Message-ID: <20100307114953.GA25561@linux-4bod.home.aster.pl>

On Fri, 05 Mar 2010, Maurilio Longo wrote:

Hi,

> > 2.c) Can you prepare to manage "64bit file support" ? I think yes
> >  So you will be ready for future  :-)
> It requires a lot more changes than DosFindFirst()
> > 2.d) I know you are aware of every movement which happen in OS/2 world,
> > and maybe you tested already, ... but maybe no
> >  Days ago I removed "NETBIOS over TCP/IP" and installed .wpi files for
> > Samba 3.0.37, from NetLabs
> >  ( Samba Server version 3.0.37 for eComStation (OS/2) 1.0.3 )
> > - Migrated shares
> > - Everything is working fine to/from OS/2 and WinXPPSP2, Linux Mandriva
> > - Problems with shares/visibility between OS/2 and rest are gone
> I have problems with client access (OS/2 accessing a share), my server is
> samba, but on OpenSolaris.

Please remember that for sharing DBFs HBNETIO can be used in such case.
It give to client 64bit file API if it's supported on the server side
(it doesn't matter what is the client OS) and resolves the problems with
syncing locks used by different programs working on different OS-es.

best regards,
Przemek
From vszakats at users.sourceforge.net  Sun Mar  7 07:09:48 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 07:09:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14081] trunk/harbour
Message-ID: <E1NoFIq-0007uy-V1@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14081
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14081&view=rev
Author:   vszakats
Date:     2010-03-07 12:09:47 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 13:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/encmthd.c
  * contrib/hbtip/encurl.prg
  * contrib/hbtip/encb64.prg
    ! Cleaned this quite strange and dangerous hack which made the
      exact nature of the logic fully hidden for anyone expecting
      regular programming techniques. I even reimplemented QP
      encoding not knowing about it.
      Now the class/function interface is completely standard
      without any hidden interdependencies and internal logic
      to access class vars from C level function and mapping C
      level functions as methods.
      Now it's possible to replace these TIP specific encoder/decoder
      functions with core ones, or move these ones to core.
      INCOMPATIBLE: Old function names have been changed from
         TIPENCODER*_[DECODE|ENCODE]() to __TIP_*_[ENCODE|DECODE]().
    ; TOFIX: Old C implementation of QP encoding/decoding doesn't
             seem to work.
    ; TODO: Try eliminating redundancy in base64 encoding/decoding
            between hbtip and core.

  * contrib/hbtip/cgi.prg
  * contrib/hbtip/url.prg
  * contrib/hbtip/httpcli.prg
    * Changed to use new internal function names for encoding/decoding.

  * src/rdd/dbf1.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/cgi.prg
    trunk/harbour/contrib/hbtip/encb64.prg
    trunk/harbour/contrib/hbtip/encmthd.c
    trunk/harbour/contrib/hbtip/encurl.prg
    trunk/harbour/contrib/hbtip/httpcli.prg
    trunk/harbour/contrib/hbtip/url.prg
    trunk/harbour/src/rdd/dbf1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 07:14:01 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 07:14:08 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14082] trunk/harbour
Message-ID: <E1NoFMv-0007za-7l@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14082
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14082&view=rev
Author:   vszakats
Date:     2010-03-07 12:14:00 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 13:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/encmthd.c
    - Deleted __TIP_QP_[ENCODE|DECODE](). Either I'm misunderstanding 
      their purpose or they simply didn't work (pbly because they 
      were not even used by hbtip code).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/encmthd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 07:16:33 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 07:16:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14083] trunk/harbour
Message-ID: <E1NoFPN-000822-SU@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14083
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14083&view=rev
Author:   vszakats
Date:     2010-03-07 12:16:32 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 13:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/Makefile
  - contrib/hbtip/encmthd.c
  + contrib/hbtip/encb64c.c
  + contrib/hbtip/encurlc.c
    * Split and renamed source file containing low-level encoder/decoder 
      functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/hbtip/encb64c.c
    trunk/harbour/contrib/hbtip/encurlc.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbtip/encmthd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sun Mar  7 07:27:44 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Mar  7 07:27:53 2010
Subject: [Harbour] DBI_PASSWORD
References: <E18050DD68C540D7B612A5BC4E36D524@emag><20100303092448.GA16679@linux-4bod.home.aster.pl><A2AECA616D6B4B4D948E35FA7A049E01@emag><B89E0FAA3999447494E71D8607E021EA@emag>
	<20100307112147.GA24476@linux-4bod.home.aster.pl>
Message-ID: <DDD8A9E75AB5481D83A3DE277F64C0B6@emag>


-----Messaggio Originale----- 
Da: "Przemys?aw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 7 marzo 2010 12.21
Oggetto: Re: [Harbour] DBI_PASSWORD


> It is possible. You only have to remove from src/rdd/dbf1.c code
> which blocks encryption when MEMO file is present.
> It's enough to remove '!pArea->fHasMemo' from conditions in the folowing
> lines:
>   dbf1.c[536,599,1639,2141,2156]

Thank you.

To clarify: you said that memo encryption is currently bugged. If I remove 
that condition then are my tables (or memo) under risk of corruption?

> What does it mean SAFE for you?

I meant: can I use encryption without risk of corruption?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Sun Mar  7 07:43:08 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar  7 07:43:17 2010
Subject: [Harbour] DBI_PASSWORD
In-Reply-To: <DDD8A9E75AB5481D83A3DE277F64C0B6@emag>
References: <E18050DD68C540D7B612A5BC4E36D524@emag>
	<20100303092448.GA16679@linux-4bod.home.aster.pl>
	<A2AECA616D6B4B4D948E35FA7A049E01@emag>
	<B89E0FAA3999447494E71D8607E021EA@emag>
	<20100307112147.GA24476@linux-4bod.home.aster.pl>
	<DDD8A9E75AB5481D83A3DE277F64C0B6@emag>
Message-ID: <20100307124308.GA26953@linux-4bod.home.aster.pl>

On Sun, 07 Mar 2010, Enrico Maria Giordano wrote:
> To clarify: you said that memo encryption is currently bugged. If I
> remove that condition then are my tables (or memo) under risk of
> corruption?

No I haven't said anything like that.
I said that SIX3 RDD is buggy when memo files are used and because I didn't
want to replicate such bugs in Harbour I explicitly blocked any encryption
when memo files are used.

> >What does it mean SAFE for you?
> I meant: can I use encryption without risk of corruption?

Harbour implementation does not have any known for me bugs in the
encryption.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Sun Mar  7 07:50:26 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Mar  7 07:50:35 2010
Subject: [Harbour] DBI_PASSWORD
References: <E18050DD68C540D7B612A5BC4E36D524@emag><20100303092448.GA16679@linux-4bod.home.aster.pl><A2AECA616D6B4B4D948E35FA7A049E01@emag><B89E0FAA3999447494E71D8607E021EA@emag><20100307112147.GA24476@linux-4bod.home.aster.pl><DDD8A9E75AB5481D83A3DE277F64C0B6@emag>
	<20100307124308.GA26953@linux-4bod.home.aster.pl>
Message-ID: <CA32E5278B7A49538802E6A2125B6B55@emag>


-----Messaggio Originale----- 
Da: "Przemys?aw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 7 marzo 2010 13.43
Oggetto: Re: [Harbour] DBI_PASSWORD


> No I haven't said anything like that.
> I said that SIX3 RDD is buggy when memo files are used and because I 
> didn't
> want to replicate such bugs in Harbour I explicitly blocked any encryption
> when memo files are used.

Sorry, perhaps I don't understand. Are you saying that I can remove such 
restriction (ie. I can allow memo encryption) without risks for my tables? 
If yes, why not to allow it in the standard Harbour build?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sun Mar  7 08:14:29 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 08:14:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14084] trunk/harbour
Message-ID: <E1NoGJR-0003Nh-Ah@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14084
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14084&view=rev
Author:   vszakats
Date:     2010-03-07 13:14:28 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 14:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/utils.c
  * contrib/hbtip/encb64c.c
  * contrib/hbtip/encurlc.c
    ! Type cleanup.

  * contrib/hbtip/cgi.prg
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/cgi.prg
    trunk/harbour/contrib/hbtip/encb64c.c
    trunk/harbour/contrib/hbtip/encurlc.c
    trunk/harbour/contrib/hbtip/utils.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sun Mar  7 08:16:57 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Mar  7 08:17:06 2010
Subject: [Harbour] DBI_PASSWORD
References: <E18050DD68C540D7B612A5BC4E36D524@emag><20100303092448.GA16679@linux-4bod.home.aster.pl><A2AECA616D6B4B4D948E35FA7A049E01@emag><B89E0FAA3999447494E71D8607E021EA@emag><20100307112147.GA24476@linux-4bod.home.aster.pl><DDD8A9E75AB5481D83A3DE277F64C0B6@emag><20100307124308.GA26953@linux-4bod.home.aster.pl>
	<CA32E5278B7A49538802E6A2125B6B55@emag>
Message-ID: <E7C95D86F45140749569E069F3841693@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 7 marzo 2010 13.50
Oggetto: Re: [Harbour] DBI_PASSWORD


> Sorry, perhaps I don't understand. Are you saying that I can remove such 
> restriction (ie. I can allow memo encryption) without risks for my tables? 
> If yes, why not to allow it in the standard Harbour build?

Ok, I understood. No need to answer, many thanks. I really would need to use 
encryption in tables with memo fields but I can't force you to finish the 
work. :-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sun Mar  7 08:31:49 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 08:32:06 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14085] trunk/harbour
Message-ID: <E1NoGaD-0003lC-Bo@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14085
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14085&view=rev
Author:   vszakats
Date:     2010-03-07 13:31:41 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 14:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * doc/Makefile
    ! Fixed 'en-EN' - 'en'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 08:56:56 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 08:57:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14086] trunk/harbour
Message-ID: <E1NoGyW-0001Cs-1V@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14086
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14086&view=rev
Author:   vszakats
Date:     2010-03-07 13:56:54 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 14:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/xhb/tframe.prg
    ! Using IS*() macros instead of NIL checks.
    % Using IS*() macros instead ValType() calls.
    % Several minor optimizations.
    * Changed to use standard class declaration syntax.

  * contrib/xhb/tframe.prg
  * contrib/hbide/ideharbourhelp.prg
  * contrib/hbide/idehome.prg
    ! Fixed to generate lowercase HTML code. This is basic requirement
      for HTML to validate with any newer than legacy HTML standard (f.e. XHTML).
      Should be fixed in other places in Harbour.

  * contrib/xhb/tframe.prg
  * contrib/xhb/cgi.ch
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/idehome.prg
    trunk/harbour/contrib/xhb/cgi.ch
    trunk/harbour/contrib/xhb/tframe.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 09:01:09 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 09:01:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14087] trunk/harbour
Message-ID: <E1NoH2b-0001Ik-0m@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14087
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14087&view=rev
Author:   vszakats
Date:     2010-03-07 14:01:07 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 15:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/xhb/cgi.ch
  * contrib/xhb/tedit.prg
  * contrib/xhb/htjlist.prg
  * contrib/xhb/thtm.prg
  * contrib/xhb/hterrsys.prg
  * contrib/xhb/hjwindow.prg
  * contrib/xhb/htmutil.prg
    * NTRIM() -> hb_ntos()
    - Deleted NTRIM() macro.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/cgi.ch
    trunk/harbour/contrib/xhb/hjwindow.prg
    trunk/harbour/contrib/xhb/hterrsys.prg
    trunk/harbour/contrib/xhb/htjlist.prg
    trunk/harbour/contrib/xhb/htmutil.prg
    trunk/harbour/contrib/xhb/tedit.prg
    trunk/harbour/contrib/xhb/thtm.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 09:19:04 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 09:19:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14088] trunk/harbour
Message-ID: <E1NoHJw-0001Zu-QO@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14088
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14088&view=rev
Author:   vszakats
Date:     2010-03-07 14:19:03 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 15:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmzip/hbmzip.c
    + HB_UNZIPFILEINFO() extended to also return CRC.

  * contrib/hbziparc/hbziparc.prg
    ! HB_GETFILESINZIP() fixed to return CRC in verbose mode.

  * contrib/hbziparc/tests/zipa.prg
    + Added more test code.

  * contrib/xhb/cgi.ch
  * contrib/xhb/xhbarr.c
    * Cleanups.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbziparc/hbziparc.prg
    trunk/harbour/contrib/hbziparc/tests/zipa.prg
    trunk/harbour/contrib/xhb/cgi.ch
    trunk/harbour/contrib/xhb/xhbarr.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Mar  7 10:38:40 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar  7 10:38:48 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <58E5DA9A-3510-417F-BEE2-8D6F0330D59A@syenar.hu>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<A8C8563C-EA78-40D4-8D80-D2A3F7B81610@syenar.hu>
	<1267936132429-4689100.post@n2.nabble.com>
	<58E5DA9A-3510-417F-BEE2-8D6F0330D59A@syenar.hu>
Message-ID: <1267976320958-4690674.post@n2.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
>> No. This cannot be. hbide.set is created by Qt's direct 
>> function call which only accepts a filename. While reading it,
>> Qt expects a filename only. I cannot push these settings 
>> at my own. It is a binary file by nature so it must been 
>> moved from .ini extension to something else. Location was also
>> wrong. Now everything is fine.
> 
> Hmmmmm. Yet it doesn't look very good. I wonder if there 
> is a QT call which returns you the status as a binary 
> stream, which you can do whatever you want (and same in 
> reverse). It's very odd if an API forces file usage in such 
> way. BTW it's not binary content.
> 
> Well, I've tried and QT respects existing file, and 
> will _add_ it's own content, so you can just safely use 
> hbide.ini as the filename.
> 

It does, but then you did not inspect the contents of hbide.ini.
Qt re-writes the contents in pure .ini way which is not adopted
in hbide.ini strictly. I am manipulating it my own way. 
So these remain to be two different files anyway.

It is true that it is not binary content, but it is also equally 
true that a programmer cannot change even a single byte.
When we comprehand .ini we have a notion that it is manually 
editable. In this case I preceive it as binary though its format 
is .ini.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-testing-go-2-tp4671197p4690674.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Mar  7 10:41:07 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar  7 10:41:14 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14086] trunk/harbour
In-Reply-To: <E1NoGyW-0001Cs-1V@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NoGyW-0001Cs-1V@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <1267976467439-4690687.post@n2.nabble.com>



vszakats wrote:
> 
>   * contrib/hbide/ideharbourhelp.prg
>   * contrib/hbide/idehome.prg
>     ! Fixed to generate lowercase HTML code. This is basic requirement
>       for HTML to validate with any newer than legacy HTML standard (f.e.
> XHTML).
>       Should be fixed in other places in Harbour.
> 

I just followed the examples on the web.
And I was under constant pressure to capitalize the tags
to keep harmony.

Thank you for this fix.
Now I am much relieved.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14086-trunk-harbour-tp4690405p4690687.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bruno.luciani at gmail.com  Sun Mar  7 10:45:50 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 10:45:58 2010
Subject: [Harbour] Error Testing simple.prg in Postgres
Message-ID: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>

I get this error when run this part of simple.prg in postgres contrib,
previously works ok in similar statement a few lines before
I read about this error and may be an initialization error , but I just try
to do cQuery:="" and is the same error

any Idea
thanks

--------------------------- error --------------------------------

Inserting, declared transaction control
Error BASE/1081  Argument error: +
Called from TPQQUERY:ERROR(0)
Called from MAIN(79)



  ? 'Inserting, declared transaction control '
    oServer:StartTransaction()
    cQuery:=""
    For i := 1 to 10
        cQuery := "INSERT INTO ventas(code, dept, name, sales, tax, salary,
budget, Discount, Creation, Description) "
        cQuery += "VALUES( " + str(i) + ", 2, 'TEST', 'y', 5, 3000, 1500.2,
7.5, '12-22-2003', 'Short Description about what ? ')"

        oQuery := oServer:Query(cQuery)

        if oQuery:neterr()
            ? oQuery:error()     ---------------------------------> this is
line 79
        endif

        oQuery:destroy()
    Next
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/78cd6e66/attachment.html
From lorenzo.fiorini at gmail.com  Sun Mar  7 10:48:29 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Mar  7 10:48:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14083] trunk/harbour
In-Reply-To: <E1NoFPN-000822-SU@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NoFPN-000822-SU@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <9257026e1003070748k203c8923q4e116f972060ba24@mail.gmail.com>

On Sun, Mar 7, 2010 at 1:16 PM,  <vszakats@users.sourceforge.net> wrote:

>
> Removed Paths:
> -------------
> ? ?trunk/harbour/contrib/hbtip/encmthd.c

make[4]: *** No rule to make target `encmthd.o', needed by
`libhbtipssl.a'.  Stop.
make[3]: *** [descend] Error 2
make[2]: *** [hbtipssl] Error 2
make[1]: *** [hbtip] Error 2
make: *** [contrib] Error 2

Is expected?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Mar  7 10:53:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar  7 10:53:48 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <1267976320958-4690674.post@n2.nabble.com>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<A8C8563C-EA78-40D4-8D80-D2A3F7B81610@syenar.hu>
	<1267936132429-4689100.post@n2.nabble.com>
	<58E5DA9A-3510-417F-BEE2-8D6F0330D59A@syenar.hu>
	<1267976320958-4690674.post@n2.nabble.com>
Message-ID: <CA1D6948-3F8D-403E-87C7-FADBDAFB59CB@syenar.hu>

Hi Pritpal,

>>> No. This cannot be. hbide.set is created by Qt's direct 
>>> function call which only accepts a filename. While reading it,
>>> Qt expects a filename only. I cannot push these settings 
>>> at my own. It is a binary file by nature so it must been 
>>> moved from .ini extension to something else. Location was also
>>> wrong. Now everything is fine.
>> 
>> Hmmmmm. Yet it doesn't look very good. I wonder if there 
>> is a QT call which returns you the status as a binary 
>> stream, which you can do whatever you want (and same in 
>> reverse). It's very odd if an API forces file usage in such 
>> way. BTW it's not binary content.
>> 
>> Well, I've tried and QT respects existing file, and 
>> will _add_ it's own content, so you can just safely use 
>> hbide.ini as the filename.
>> 
> 
> It does, but then you did not inspect the contents of hbide.ini.
> Qt re-writes the contents in pure .ini way which is not adopted
> in hbide.ini strictly. I am manipulating it my own way. 
> So these remain to be two different files anyway.
> 
> It is true that it is not binary content, but it is also equally 
> true that a programmer cannot change even a single byte.
> When we comprehand .ini we have a notion that it is manually 
> editable. In this case I preceive it as binary though its format 
> is .ini.

I believe you all this, but it's very inelegant IMO 
to use two config files for above technical reasons. It's 
IMO our job to find proper solutions to such problems.

IMO it's not a problem at all that binary encoded as 
text is included in any .ini file. Simply users won't be 
able to touch it, as they are not able to touch the 
exact same content in hbide.set.

The other sad thing which I can read out from your 
words is that hbide.ini is not a standard .ini file 
but it's manipulate using some unique methods, which 
don't allow for extra content to be preserved.

I think this should be fixed.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Mar  7 11:00:45 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  7 11:00:56 2010
Subject: [Harbour] Error Testing simple.prg in Postgres
In-Reply-To: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>
References: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>
Message-ID: <F787289B-65A9-423D-947B-966C07E9F13C@syenar.hu>

Hi,

I can't find an ERROR method in TPQQUERY class, 
so no idea from here.

Brgds,
Viktor

On 2010 Mar 7, at 16:45, Bruno Luciani wrote:

> I get this error when run this part of simple.prg in postgres contrib, previously works ok in similar statement a few lines before
> I read about this error and may be an initialization error , but I just try to do cQuery:="" and is the same error
> 
> any Idea
> thanks 
> 
> --------------------------- error --------------------------------  
> 
> Inserting, declared transaction control
> Error BASE/1081  Argument error: +     
> Called from TPQQUERY:ERROR(0)     
> Called from MAIN(79)  
> 
> 
> 
>   ? 'Inserting, declared transaction control '
>     oServer:StartTransaction()
>     cQuery:=""
>     For i := 1 to 10
>         cQuery := "INSERT INTO ventas(code, dept, name, sales, tax, salary, budget, Discount, Creation, Description) "
>         cQuery += "VALUES( " + str(i) + ", 2, 'TEST', 'y', 5, 3000, 1500.2, 7.5, '12-22-2003', 'Short Description about what ? ')"
> 
>         oQuery := oServer:Query(cQuery)
> 
>         if oQuery:neterr()
>             ? oQuery:error()     ---------------------------------> this is line 79
>         endif
> 
>         oQuery:destroy()
>     Next
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Mar  7 11:05:38 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 11:05:46 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14089] trunk/harbour
Message-ID: <E1NoIz4-0007by-Vi@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14089
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14089&view=rev
Author:   vszakats
Date:     2010-03-07 16:05:35 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 17:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed to disregard HB_FS_STATIC functions when parsing .c files 
      for entry function name. No idea how this wasn't causing any error 
      reports so far.

  * contrib/hbtip/hbtipssl/Makefile
    ! Synced file list with non-ssl version.

  * contrib/hbtip/cgi.prg
    ! Fixed to use hb_dirTemp() instead of hard-wired *nix '/tmp/'.

  * contrib/hbide/ideharbourhelp.prg
  * contrib/hbide/idehome.prg
    ! More HTML tag lowercasing.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/idehome.prg
    trunk/harbour/contrib/hbtip/cgi.prg
    trunk/harbour/contrib/hbtip/hbtipssl/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sun Mar  7 11:05:48 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Mar  7 11:05:58 2010
Subject: [Harbour] Error Testing simple.prg in Postgres
In-Reply-To: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>
References: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>
Message-ID: <9257026e1003070805p5b23e1b5oa7bf67ac8cba7e3@mail.gmail.com>

On Sun, Mar 7, 2010 at 4:45 PM, Bruno Luciani <bruno.luciani@gmail.com> wrote:

> any Idea

Use :ErrorMsg()

best regards,
Lorenzo
From bruno.luciani at gmail.com  Sun Mar  7 11:06:10 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 11:06:19 2010
Subject: [Harbour] Error Testing simple.prg in Postgres
In-Reply-To: <F787289B-65A9-423D-947B-966C07E9F13C@syenar.hu>
References: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>
	<F787289B-65A9-423D-947B-966C07E9F13C@syenar.hu>
Message-ID: <133778361003070806l4fec8b6exe01d265827c3897b@mail.gmail.com>

I don't think it is an TPQUERY error

but what do you think about the sample code ?

Bruno

2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi,
>
> I can't find an ERROR method in TPQQUERY class,
> so no idea from here.
>
> Brgds,
> Viktor
>
> On 2010 Mar 7, at 16:45, Bruno Luciani wrote:
>
> > I get this error when run this part of simple.prg in postgres contrib,
> previously works ok in similar statement a few lines before
> > I read about this error and may be an initialization error , but I just
> try to do cQuery:="" and is the same error
> >
> > any Idea
> > thanks
> >
> > --------------------------- error --------------------------------
> >
> > Inserting, declared transaction control
> > Error BASE/1081  Argument error: +
> > Called from TPQQUERY:ERROR(0)
> > Called from MAIN(79)
> >
> >
> >
> >   ? 'Inserting, declared transaction control '
> >     oServer:StartTransaction()
> >     cQuery:=""
> >     For i := 1 to 10
> >         cQuery := "INSERT INTO ventas(code, dept, name, sales, tax,
> salary, budget, Discount, Creation, Description) "
> >         cQuery += "VALUES( " + str(i) + ", 2, 'TEST', 'y', 5, 3000,
> 1500.2, 7.5, '12-22-2003', 'Short Description about what ? ')"
> >
> >         oQuery := oServer:Query(cQuery)
> >
> >         if oQuery:neterr()
> >             ? oQuery:error()     ---------------------------------> this
> is line 79
> >         endif
> >
> >         oQuery:destroy()
> >     Next
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/a61e58f7/attachment.html
From harbour.01 at syenar.hu  Sun Mar  7 11:08:18 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  7 11:08:29 2010
Subject: [Harbour] Error Testing simple.prg in Postgres
In-Reply-To: <133778361003070806l4fec8b6exe01d265827c3897b@mail.gmail.com>
References: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>
	<F787289B-65A9-423D-947B-966C07E9F13C@syenar.hu>
	<133778361003070806l4fec8b6exe01d265827c3897b@mail.gmail.com>
Message-ID: <C4B3F0A5-EC89-433B-B4C4-20C4B4D2AC6B@syenar.hu>

What sample code is this?

Brgds,
Viktor

On 2010 Mar 7, at 17:06, Bruno Luciani wrote:

> I don't think it is an TPQUERY error 
> 
> but what do you think about the sample code ?
> 
> Bruno
> 
> 2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>
> Hi,
> 
> I can't find an ERROR method in TPQQUERY class,
> so no idea from here.
> 
> Brgds,
> Viktor
> 
> On 2010 Mar 7, at 16:45, Bruno Luciani wrote:
> 
> > I get this error when run this part of simple.prg in postgres contrib, previously works ok in similar statement a few lines before
> > I read about this error and may be an initialization error , but I just try to do cQuery:="" and is the same error
> >
> > any Idea
> > thanks
> >
> > --------------------------- error --------------------------------
> >
> > Inserting, declared transaction control
> > Error BASE/1081  Argument error: +
> > Called from TPQQUERY:ERROR(0)
> > Called from MAIN(79)
> >
> >
> >
> >   ? 'Inserting, declared transaction control '
> >     oServer:StartTransaction()
> >     cQuery:=""
> >     For i := 1 to 10
> >         cQuery := "INSERT INTO ventas(code, dept, name, sales, tax, salary, budget, Discount, Creation, Description) "
> >         cQuery += "VALUES( " + str(i) + ", 2, 'TEST', 'y', 5, 3000, 1500.2, 7.5, '12-22-2003', 'Short Description about what ? ')"
> >
> >         oQuery := oServer:Query(cQuery)
> >
> >         if oQuery:neterr()
> >             ? oQuery:error()     ---------------------------------> this is line 79
> >         endif
> >
> >         oQuery:destroy()
> >     Next
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Sun Mar  7 11:09:14 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 11:09:26 2010
Subject: [Harbour] Error Testing simple.prg in Postgres
In-Reply-To: <C4B3F0A5-EC89-433B-B4C4-20C4B4D2AC6B@syenar.hu>
References: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>
	<F787289B-65A9-423D-947B-966C07E9F13C@syenar.hu>
	<133778361003070806l4fec8b6exe01d265827c3897b@mail.gmail.com>
	<C4B3F0A5-EC89-433B-B4C4-20C4B4D2AC6B@syenar.hu>
Message-ID: <133778361003070809i538cf50cm66527e89e87747d7@mail.gmail.com>

/*
 * $Id: simple.prg 10691 2009-03-25 13:22:38Z vszakats $
 */

#include "common.ch"

Function main( cHost, cDatabase, cUser, cPass )
    Local oServer, oQuery, oRow, i, x, aTables, aStruct

    Local cQuery

    oServer := TPQServer():New(cHost, cDatabase, cUser, cPass)

    if oServer:NetErr()
        ? oServer:Error()
        quit
    endif

    oServer:SetVerbosity(2)
    oServer:traceon('lixo.log')

    ? 'Tables...'

    For x := 1 to 1
        aTables := oServer:ListTables()

        For i := 1 to Len(aTables)
            ? aTables[i]
        next
    Next

    if oServer:TableExists('TEST')
        ? oQuery := oServer:Execute('DROP TABLE Test')

        oQuery:Destroy()
    endif

    ? 'Creating test table...'
    cQuery := 'CREATE TABLE test('
    cQuery += '     Code integer not null primary key, '
    cQuery += '     dept Integer, '
    cQuery += '     Name Varchar(40), '
    cQuery += '     Sales boolean, '
    cQuery += '     Tax Float4, '
    cQuery += '     Salary Double Precision, '
    cQuery += '     Budget Numeric(12,2), '
    cQuery += '     Discount Numeric (5,2), '
    cQuery += '     Creation Date, '
    cQuery += '     Description text ) '

    oQuery := oServer:Query(cQuery)

    if oQuery:neterr()
        ? oQuery:Error()
    endif

    oQuery:Destroy()

    ? 'Structure of test table'
    aStruct := oServer:TableStruct('test')

    For i := 1 to Len(aStruct)
        ?
        For x := 1 to Len(aStruct[i])
            ?? aStruct[i,x], " "
        Next
    next

    ? 'Inserting, declared transaction control '
    oServer:StartTransaction()

    For i := 1 to 10
        cQuery := "INSERT INTO ventas(code, dept, name, sales, tax, salary,
budget, Discount, Creation, Description) "
        cQuery += "VALUES( " + str(i) + ", 2, 'TEST', 'y', 5, 3000, 1500.2,
7.5, '12-22-2003', 'Short Description about what ? ')"

        oQuery := oServer:Query(cQuery)

        if oQuery:neterr()
            ? oQuery:error()
        endif

        oQuery:destroy()
    Next

    oServer:Commit()

    oQuery := oServer:Query('SELECT code, name, description, sales FROM
test')


    aStruct := oQuery:Struct()

    For i := 1 to Len(aStruct)
        ? aStruct[i,1], aStruct[i,2], aStruct[i,3], aStruct[i,4]
    Next

    ? "Fields: ", oQuery:Fcount()

    oRow := oQuery:Blank()

    ? oRow:FCount(), ;
      oRow:Fieldpos('sales'), ;
      oRow:Fieldget(1), ;
      oRow:Fieldname(2), ;
      oRow:Fieldtype(1), ;
      oRow:Fielddec(1), ;
      oRow:Fieldlen(1)

    oRow:Fieldput(1, 150)
    oRow:Fieldput(2, 'MY TEST')

    ? oRow:Fieldget(1), oRow:Fieldget(2)

    ? oRow:aRow[1], oRow:aRow[2], oRow:aOld[1], oRow:aOld[2]

    ? oQuery:Append(oRow)

    ? oQuery:ErrorMsg()

    DO WHILE ! oQuery:Eof()
        ? oQuery:Recno(),;
          oQuery:Fieldpos('code'),;
          oQuery:Fieldget(oQuery:Fieldpos('code')), ;
          oQuery:Fieldget(4), ;
          oQuery:Fieldget(2), ;
          oQuery:Fieldname(1),;
          oQuery:Fieldtype(1), ;
          oQuery:Fielddec(1), ;
          oQuery:Fieldlen(1),;
          oQuery:Fieldget(3)

        if oQuery:Recno() == 50
            oRow := oQuery:getrow()

            oRow:Fieldput(2, 'My Second test')
            ? 'Update: ', oQuery:Update(oRow)
        endif

        if oQuery:Recno() == 60
            oRow := oQuery:getrow()
            ? 'Delete: ', oQuery:Delete(oRow)
        endif

        oQuery:Skip()

    ENDDO

    oQuery:Refresh()

    For i := 1 to oQuery:Lastrec()
        oRow := oQuery:getrow(i)

        ? i, oRow:Fieldget(oRow:Fieldpos('code')), ;
          oRow:Fieldget(4), ;
          oRow:Fieldget(2), ;
          oRow:Fieldname(1),;
          oRow:Fieldtype(1), ;
          oRow:Fielddec(1), ;
          oRow:Fieldlen(1),;
          oRow:Fieldget(i, 3)

    NEXT

    oQuery:Destroy()

    oServer:Destroy()

    ? "Closing..."

    return nil


2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>

> What sample code is this?
>
> Brgds,
> Viktor
>
> On 2010 Mar 7, at 17:06, Bruno Luciani wrote:
>
> > I don't think it is an TPQUERY error
> >
> > but what do you think about the sample code ?
> >
> > Bruno
> >
> > 2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>
> > Hi,
> >
> > I can't find an ERROR method in TPQQUERY class,
> > so no idea from here.
> >
> > Brgds,
> > Viktor
> >
> > On 2010 Mar 7, at 16:45, Bruno Luciani wrote:
> >
> > > I get this error when run this part of simple.prg in postgres contrib,
> previously works ok in similar statement a few lines before
> > > I read about this error and may be an initialization error , but I just
> try to do cQuery:="" and is the same error
> > >
> > > any Idea
> > > thanks
> > >
> > > --------------------------- error --------------------------------
> > >
> > > Inserting, declared transaction control
> > > Error BASE/1081  Argument error: +
> > > Called from TPQQUERY:ERROR(0)
> > > Called from MAIN(79)
> > >
> > >
> > >
> > >   ? 'Inserting, declared transaction control '
> > >     oServer:StartTransaction()
> > >     cQuery:=""
> > >     For i := 1 to 10
> > >         cQuery := "INSERT INTO ventas(code, dept, name, sales, tax,
> salary, budget, Discount, Creation, Description) "
> > >         cQuery += "VALUES( " + str(i) + ", 2, 'TEST', 'y', 5, 3000,
> 1500.2, 7.5, '12-22-2003', 'Short Description about what ? ')"
> > >
> > >         oQuery := oServer:Query(cQuery)
> > >
> > >         if oQuery:neterr()
> > >             ? oQuery:error()     --------------------------------->
> this is line 79
> > >         endif
> > >
> > >         oQuery:destroy()
> > >     Next
> > >
> > > _______________________________________________
> > > Harbour mailing list (attachment size limit: 40KB)
> > > Harbour@harbour-project.org
> > > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/636b38c4/attachment-0001.html
From bruno.luciani at gmail.com  Sun Mar  7 11:10:45 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 11:10:53 2010
Subject: [Harbour] Error Testing simple.prg in Postgres
In-Reply-To: <9257026e1003070805p5b23e1b5oa7bf67ac8cba7e3@mail.gmail.com>
References: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>
	<9257026e1003070805p5b23e1b5oa7bf67ac8cba7e3@mail.gmail.com>
Message-ID: <133778361003070810q1d4ff93ep2774cf28afb35fd0@mail.gmail.com>

Thanks Lorenzo

It seems to be a date problem

Bruno

2010/3/7 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>

> On Sun, Mar 7, 2010 at 4:45 PM, Bruno Luciani <bruno.luciani@gmail.com>
> wrote:
>
> > any Idea
>
> Use :ErrorMsg()
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/0b4b2c05/attachment.html
From bruno.luciani at gmail.com  Sun Mar  7 11:14:25 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 11:14:33 2010
Subject: [Harbour] Error Testing simple.prg in Postgres
In-Reply-To: <F787289B-65A9-423D-947B-966C07E9F13C@syenar.hu>
References: <133778361003070745j2322be49qa3182234875afa17@mail.gmail.com>
	<F787289B-65A9-423D-947B-966C07E9F13C@syenar.hu>
Message-ID: <133778361003070814m6673b5f4yd477ff308b519c12@mail.gmail.com>

Thanks Both of you Viktor and Lorenzo

Now works ok

May be a Language diference produce a diference in date format

in sample   date :   "12-22-2003"     giveme the error

and modifing to  "22-12-2003" works ok

Linux Ubuntu 9.10


Bruno

2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi,
>
> I can't find an ERROR method in TPQQUERY class,
> so no idea from here.
>
> Brgds,
> Viktor
>
> On 2010 Mar 7, at 16:45, Bruno Luciani wrote:
>
> > I get this error when run this part of simple.prg in postgres contrib,
> previously works ok in similar statement a few lines before
> > I read about this error and may be an initialization error , but I just
> try to do cQuery:="" and is the same error
> >
> > any Idea
> > thanks
> >
> > --------------------------- error --------------------------------
> >
> > Inserting, declared transaction control
> > Error BASE/1081  Argument error: +
> > Called from TPQQUERY:ERROR(0)
> > Called from MAIN(79)
> >
> >
> >
> >   ? 'Inserting, declared transaction control '
> >     oServer:StartTransaction()
> >     cQuery:=""
> >     For i := 1 to 10
> >         cQuery := "INSERT INTO ventas(code, dept, name, sales, tax,
> salary, budget, Discount, Creation, Description) "
> >         cQuery += "VALUES( " + str(i) + ", 2, 'TEST', 'y', 5, 3000,
> 1500.2, 7.5, '12-22-2003', 'Short Description about what ? ')"
> >
> >         oQuery := oServer:Query(cQuery)
> >
> >         if oQuery:neterr()
> >             ? oQuery:error()     ---------------------------------> this
> is line 79
> >         endif
> >
> >         oQuery:destroy()
> >     Next
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/cb5e3314/attachment.html
From vszakats at users.sourceforge.net  Sun Mar  7 11:16:49 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 11:16:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14090] trunk/harbour
Message-ID: <E1NoJ9t-0007n4-UN@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14090
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14090&view=rev
Author:   vszakats
Date:     2010-03-07 16:16:39 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 17:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/tests/simple.prg
    ! Fixed wrong code in sample.
    * Formatted.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/tests/simple.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 11:23:57 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 11:24:05 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
Message-ID: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14091
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14091&view=rev
Author:   vszakats
Date:     2010-03-07 16:23:53 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 17:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/tests/simple.prg
    ! Fixed date in SQL command to work regardless of mm/dd 
      positions in date.
      I wonder what is the proper solution which uses a fully 
      portable date format. Anyone?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/tests/simple.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sun Mar  7 11:26:29 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Mar  7 11:26:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14083] trunk/harbour
In-Reply-To: <9257026e1003070748k203c8923q4e116f972060ba24@mail.gmail.com>
References: <E1NoFPN-000822-SU@sfp-svn-6.v30.ch3.sourceforge.com>
	<9257026e1003070748k203c8923q4e116f972060ba24@mail.gmail.com>
Message-ID: <9257026e1003070826r110867f5k77ab7fa3a634dfb3@mail.gmail.com>

On Sun, Mar 7, 2010 at 4:48 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> make[4]: *** No rule to make target `encmthd.o', needed by
> `libhbtipssl.a'. ?Stop.
> make[3]: *** [descend] Error 2
> make[2]: *** [hbtipssl] Error 2
> make[1]: *** [hbtip] Error 2
> make: *** [contrib] Error 2

Sorry a sync error. Now it's ok.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Sun Mar  7 11:32:20 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 11:32:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14092] trunk/harbour
Message-ID: <E1NoJOu-00083k-PX@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14092
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14092&view=rev
Author:   vszakats
Date:     2010-03-07 16:32:18 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 17:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Cosmetic fix to generated temp stub file. Normally nobody 
      sees this file, but anyway.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Mar  7 11:40:25 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar  7 11:40:32 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <CA1D6948-3F8D-403E-87C7-FADBDAFB59CB@syenar.hu>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<A8C8563C-EA78-40D4-8D80-D2A3F7B81610@syenar.hu>
	<1267936132429-4689100.post@n2.nabble.com>
	<58E5DA9A-3510-417F-BEE2-8D6F0330D59A@syenar.hu>
	<1267976320958-4690674.post@n2.nabble.com>
	<CA1D6948-3F8D-403E-87C7-FADBDAFB59CB@syenar.hu>
Message-ID: <1267980025204-4690923.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> I believe you all this, but it's very inelegant IMO 
> to use two config files for above technical reasons. It's 
> IMO our job to find proper solutions to such problems.
> 

Yep, very inelegant, but I had no other choice.
I could not process Qt's byte-array to be returned as a
buffer of string. There are only two options, either supply
the filename of process a byte-array.

Probably someone can help in this direction.



> IMO it's not a problem at all that binary encoded as 
> text is included in any .ini file. Simply users won't be 
> able to touch it, as they are not able to touch the 
> exact same content in hbide.set.
> 

Yes, this can be documented, and I have included it in 
FAQs section.



> The other sad thing which I can read out from your 
> words is that hbide.ini is not a standard .ini file 
> but it's manipulate using some unique methods, which 
> don't allow for extra content to be preserved.
> 
> I think this should be fixed.
> 

Why it is "sad". User is never allowed to include the 
contents of his choice in hbide.ini ( for historic reasons 
I kept the extension .ini, it could been something else ),
as the contents of hbide.ini are subject to be re-written
at the time hbIDE exits, making it unfit for user-defined 
contents.

However user can add/delete/modify the existing entries
but within the norms of hbide.( let_us_say_something_else ).

Probably we should not concentrate on this issue until
I find a way ( or someone else ) to get back byte-array 
as string.

Thank you for peeping deep.
 

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-testing-go-2-tp4671197p4690923.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Mar  7 11:50:03 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar  7 11:50:14 2010
Subject: [Harbour] Re: hbide testing (go #2)
In-Reply-To: <1267980025204-4690923.post@n2.nabble.com>
References: <AF43C46E-242C-4BCC-ADE3-12C4C32F1D4B@syenar.hu>
	<A8C8563C-EA78-40D4-8D80-D2A3F7B81610@syenar.hu>
	<1267936132429-4689100.post@n2.nabble.com>
	<58E5DA9A-3510-417F-BEE2-8D6F0330D59A@syenar.hu>
	<1267976320958-4690674.post@n2.nabble.com>
	<CA1D6948-3F8D-403E-87C7-FADBDAFB59CB@syenar.hu>
	<1267980025204-4690923.post@n2.nabble.com>
Message-ID: <629AF64D-B924-4EF3-B60C-191253136E9A@syenar.hu>

Hi Pritpal,

>> I believe you all this, but it's very inelegant IMO 
>> to use two config files for above technical reasons. It's 
>> IMO our job to find proper solutions to such problems.
>> 
> 
> Yep, very inelegant, but I had no other choice.
> I could not process Qt's byte-array to be returned as a
> buffer of string. There are only two options, either supply
> the filename of process a byte-array.
> 
> Probably someone can help in this direction.

If you can get the byte-array from QT, you can use 
encode it using HB_BASE64ENCODE() and place it in 
.ini as simple text. You can process it with HB_BASE64DECODE() 
before passing it back to QT.

>> IMO it's not a problem at all that binary encoded as 
>> text is included in any .ini file. Simply users won't be 
>> able to touch it, as they are not able to touch the 
>> exact same content in hbide.set.
>> 
> 
> Yes, this can be documented, and I have included it in 
> FAQs section.

I think it should be eliminated. Documenting wrong 
solution is not a solution ;)

>> The other sad thing which I can read out from your 
>> words is that hbide.ini is not a standard .ini file 
>> but it's manipulate using some unique methods, which 
>> don't allow for extra content to be preserved.
>> 
>> I think this should be fixed.
>> 
> 
> Why it is "sad". User is never allowed to include the 
> contents of his choice in hbide.ini ( for historic reasons 
> I kept the extension .ini, it could been something else ),
> as the contents of hbide.ini are subject to be re-written
> at the time hbIDE exits, making it unfit for user-defined 
> contents.

Because .ini is a well-known (quasi-)standard, 
where such behavior is expected. You can never know 
when it comes handy (f.e. plugins, 3rd party developers, 
or simple user comments placed in .ini).

I guess you're using a read-it-all, write-it-all approach, 
while it should be a read_file -> get_item(s) and 
read -> put_item(s) -> write approach to make it work as 
expected. We even have functions for that in core (HB_INI*()).

Brgds,
Viktor

From bruno.luciani at gmail.com  Sun Mar  7 12:08:11 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 12:08:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
In-Reply-To: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <133778361003070908w4b16391eu5353a01cf4cb353d@mail.gmail.com>

May be this help you

http://www.postgresql.org/docs/7.4/static/datatype-datetime.html

Bruno


2010/3/7 <vszakats@users.sourceforge.net>

> Revision: 14091
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14091&view=rev
> Author:   vszakats
> Date:     2010-03-07 16:23:53 +0000 (Sun, 07 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-07 17:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbpgsql/tests/simple.prg
>    ! Fixed date in SQL command to work regardless of mm/dd
>      positions in date.
>      I wonder what is the proper solution which uses a fully
>      portable date format. Anyone?
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbpgsql/tests/simple.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/d62d7a8d/attachment.html
From bruno.luciani at gmail.com  Sun Mar  7 12:15:55 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 12:16:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
In-Reply-To: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <133778361003070915x66286a24j7f1646e007ca955b@mail.gmail.com>

This is the error when sample fails

It's say  that date it is out of range and may be a diferent datestyle
configuration its needed

Bruno

-------------------------------------------


description  M          10           0
Inserting, declared transaction control
ERROR:  22008: el valor de hora/fecha est?? fuera de rango: ??12-22-2003??
LINE 1: ...         1, 2, 'TEST', 'y', 5, 3000, 1500.2, 7.5, '12-22-200...
                                                             ^
HINT:  Quiz??s necesite una configuraci??n diferente de ??datestyle??.
LOCATION:  DateTimeParseError, datetime.c:3525

ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el
fin de bloque de transacci??n
LOCATION:  exec_simple_query, postgres.c:892

ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el
fin de bloque de transacci??n
LOCATION:  exec_simple_query, postgres.c:892

ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el
fin de bloque de transacci??n
LOCATION:  exec_simple_query, postgres.c:892

ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el
fin de bloque de transacci??n
LOCATION:  exec_simple_query, postgres.c:892

ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el
fin de bloque de transacci??n
LOCATION:  exec_simple_query, postgres.c:892

ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el
fin de bloque de transacci??n
LOCATION:  exec_simple_query, postgres.c:892

ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el
fin de bloque de transacci??n
LOCATION:  exec_simple_query, postgres.c:892

ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el
fin de bloque de transacci??n
LOCATION:  exec_simple_query, postgres.c:892

ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el
fin de bloque de transacci??n
LOCATION:  exec_simple_query, postgres.c:892


2010/3/7 <vszakats@users.sourceforge.net>

> Revision: 14091
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14091&view=rev
> Author:   vszakats
> Date:     2010-03-07 16:23:53 +0000 (Sun, 07 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-07 17:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbpgsql/tests/simple.prg
>    ! Fixed date in SQL command to work regardless of mm/dd
>      positions in date.
>      I wonder what is the proper solution which uses a fully
>      portable date format. Anyone?
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbpgsql/tests/simple.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/a7a8025c/attachment.html
From harbour.01 at syenar.hu  Sun Mar  7 12:16:01 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  7 12:16:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
In-Reply-To: <133778361003070908w4b16391eu5353a01cf4cb353d@mail.gmail.com>
References: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
	<133778361003070908w4b16391eu5353a01cf4cb353d@mail.gmail.com>
Message-ID: <FAB7045A-6B03-4456-BF3B-C59B7DAEEF66@syenar.hu>

> May be this help you
> 
> http://www.postgresql.org/docs/7.4/static/datatype-datetime.html

Thank you though I'm not interested in the details 
this time, only the actual string I may commit to 
fix it. If you or someone else knows it, I will commit it.

Brgds,
Viktor

From bruno.luciani at gmail.com  Sun Mar  7 12:22:48 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 12:22:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
In-Reply-To: <FAB7045A-6B03-4456-BF3B-C59B7DAEEF66@syenar.hu>
References: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
	<133778361003070908w4b16391eu5353a01cf4cb353d@mail.gmail.com>
	<FAB7045A-6B03-4456-BF3B-C59B7DAEEF66@syenar.hu>
Message-ID: <133778361003070922m2a5f5306p8ca0e1a894897c67@mail.gmail.com>

Reading about datestyle , i think that sample is ok for english language

this behavior it is ok respect to may /etc/postgresql.conf

# - Locale and Formatting -

datestyle = 'iso, dmy'


I think you need to leave the sample as it was

correct for english or "traditional" postgresql style

look this:

Style SpecificationDescriptionExampleISOISO 8601/SQL standard1997-12-17
07:37:16-08SQLtraditional style12/17/1997 07:37:16.00 PSTPostgreSQLoriginal
styleWed Dec 17 07:37:16 1997 PSTGermanregional style17.12.1997 07:37:16.00
PST

Bruno



2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>

> > May be this help you
> >
> > http://www.postgresql.org/docs/7.4/static/datatype-datetime.html
>
> Thank you though I'm not interested in the details
> this time, only the actual string I may commit to
> fix it. If you or someone else knows it, I will commit it.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/c3f11188/attachment.html
From harbour.01 at syenar.hu  Sun Mar  7 12:26:49 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar  7 12:27:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
In-Reply-To: <133778361003070915x66286a24j7f1646e007ca955b@mail.gmail.com>
References: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
	<133778361003070915x66286a24j7f1646e007ca955b@mail.gmail.com>
Message-ID: <689EEB17-5A1A-47C6-B2F2-D58D4EBE129E@syenar.hu>

Yes, I'm not SQL expert, but maybe there exist a 
date notation which follows the ANSI standard, 
instead of national ones, sine the latter will 
inevitably not work in all setups.

In Harbour this "DTOS" notation is: YYYYMMDD

Brgds,
Viktor

On 2010 Mar 7, at 18:15, Bruno Luciani wrote:

> This is the error when sample fails 
> 
> It's say  that date it is out of range and may be a diferent datestyle  configuration its needed
> 
> Bruno
> 
> -------------------------------------------
> 
> 
> description  M          10           0
> Inserting, declared transaction control
> ERROR:  22008: el valor de hora/fecha est?? fuera de rango: ??12-22-2003??
> LINE 1: ...         1, 2, 'TEST', 'y', 5, 3000, 1500.2, 7.5, '12-22-200...
>                                                              ^
> HINT:  Quiz??s necesite una configuraci??n diferente de ??datestyle??.
> LOCATION:  DateTimeParseError, datetime.c:3525
> 
> ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el fin de bloque de transacci??n
> LOCATION:  exec_simple_query, postgres.c:892
> 
> ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el fin de bloque de transacci??n
> LOCATION:  exec_simple_query, postgres.c:892
> 
> ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el fin de bloque de transacci??n
> LOCATION:  exec_simple_query, postgres.c:892
> 
> ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el fin de bloque de transacci??n
> LOCATION:  exec_simple_query, postgres.c:892
> 
> ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el fin de bloque de transacci??n
> LOCATION:  exec_simple_query, postgres.c:892
> 
> ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el fin de bloque de transacci??n
> LOCATION:  exec_simple_query, postgres.c:892
> 
> ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el fin de bloque de transacci??n
> LOCATION:  exec_simple_query, postgres.c:892
> 
> ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el fin de bloque de transacci??n
> LOCATION:  exec_simple_query, postgres.c:892
> 
> ERROR:  25P02: transacci??n abortada, las ??rdenes ser??n ignoradas hasta el fin de bloque de transacci??n
> LOCATION:  exec_simple_query, postgres.c:892
> 
> 
> 2010/3/7 <vszakats@users.sourceforge.net>
> Revision: 14091
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14091&view=rev
> Author:   vszakats
> Date:     2010-03-07 16:23:53 +0000 (Sun, 07 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-07 17:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbpgsql/tests/simple.prg
>    ! Fixed date in SQL command to work regardless of mm/dd
>      positions in date.
>      I wonder what is the proper solution which uses a fully
>      portable date format. Anyone?
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbpgsql/tests/simple.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Mar  7 12:32:06 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  7 12:32:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
In-Reply-To: <133778361003070922m2a5f5306p8ca0e1a894897c67@mail.gmail.com>
References: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
	<133778361003070908w4b16391eu5353a01cf4cb353d@mail.gmail.com>
	<FAB7045A-6B03-4456-BF3B-C59B7DAEEF66@syenar.hu>
	<133778361003070922m2a5f5306p8ca0e1a894897c67@mail.gmail.com>
Message-ID: <337DEE83-7F18-4115-AEE4-7CE589C15B7F@syenar.hu>

> I think you need to leave the sample as it was
> 
> correct for english or "traditional" postgresql style
> look this:
> 
> Style Specification	Description	Example
> ISO	ISO 8601/SQL standard	1997-12-17 07:37:16-08
> SQL	traditional style	12/17/1997 07:37:16.00 PST
> PostgreSQL	original style	Wed Dec 17 07:37:16 1997 PST
> German	regional style	17.12.1997 07:37:16.00 PST
> 

IMO we should follow ISO standard. Can you try with "2003-12-17" ?

(SQL traditional style is ambiguous, so it's not good for us)

Though if any one of these depend on postgres configuration, 
they are not good for us.

(It's unbelievable that such basic problems are so poorly covered 
in SQL, which is supposed to be the paramount of database handling :/ 
I'd rather like to think there is a solution, only we don't know it)

Brgds,
Viktor

From bruno.luciani at gmail.com  Sun Mar  7 12:36:47 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 12:36:55 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
In-Reply-To: <337DEE83-7F18-4115-AEE4-7CE589C15B7F@syenar.hu>
References: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
	<133778361003070908w4b16391eu5353a01cf4cb353d@mail.gmail.com>
	<FAB7045A-6B03-4456-BF3B-C59B7DAEEF66@syenar.hu>
	<133778361003070922m2a5f5306p8ca0e1a894897c67@mail.gmail.com>
	<337DEE83-7F18-4115-AEE4-7CE589C15B7F@syenar.hu>
Message-ID: <133778361003070936q20cd06c3j755b9594325e8f63@mail.gmail.com>

Works ok here using "2003-12-17" and "17-12-2003"

Postgresql understand the same date , using both format

Bruno



2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>

> > I think you need to leave the sample as it was
> >
> > correct for english or "traditional" postgresql style
> > look this:
> >
> > Style Specification   Description     Example
> > ISO   ISO 8601/SQL standard   1997-12-17 07:37:16-08
> > SQL   traditional style       12/17/1997 07:37:16.00 PST
> > PostgreSQL    original style  Wed Dec 17 07:37:16 1997 PST
> > German        regional style  17.12.1997 07:37:16.00 PST
> >
>
> IMO we should follow ISO standard. Can you try with "2003-12-17" ?
>
> (SQL traditional style is ambiguous, so it's not good for us)
>
> Though if any one of these depend on postgres configuration,
> they are not good for us.
>
> (It's unbelievable that such basic problems are so poorly covered
> in SQL, which is supposed to be the paramount of database handling :/
> I'd rather like to think there is a solution, only we don't know it)
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/bfbbe967/attachment.html
From bruno.luciani at gmail.com  Sun Mar  7 12:37:24 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 12:37:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
In-Reply-To: <337DEE83-7F18-4115-AEE4-7CE589C15B7F@syenar.hu>
References: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
	<133778361003070908w4b16391eu5353a01cf4cb353d@mail.gmail.com>
	<FAB7045A-6B03-4456-BF3B-C59B7DAEEF66@syenar.hu>
	<133778361003070922m2a5f5306p8ca0e1a894897c67@mail.gmail.com>
	<337DEE83-7F18-4115-AEE4-7CE589C15B7F@syenar.hu>
Message-ID: <133778361003070937u39a39b36j846d4e7b89c0612a@mail.gmail.com>

May be we need to add some text about date format in sample  header

Bruno

2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>

> > I think you need to leave the sample as it was
> >
> > correct for english or "traditional" postgresql style
> > look this:
> >
> > Style Specification   Description     Example
> > ISO   ISO 8601/SQL standard   1997-12-17 07:37:16-08
> > SQL   traditional style       12/17/1997 07:37:16.00 PST
> > PostgreSQL    original style  Wed Dec 17 07:37:16 1997 PST
> > German        regional style  17.12.1997 07:37:16.00 PST
> >
>
> IMO we should follow ISO standard. Can you try with "2003-12-17" ?
>
> (SQL traditional style is ambiguous, so it's not good for us)
>
> Though if any one of these depend on postgres configuration,
> they are not good for us.
>
> (It's unbelievable that such basic problems are so poorly covered
> in SQL, which is supposed to be the paramount of database handling :/
> I'd rather like to think there is a solution, only we don't know it)
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/77e1173e/attachment.html
From harbour.01 at syenar.hu  Sun Mar  7 12:40:48 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  7 12:41:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14091] trunk/harbour
In-Reply-To: <133778361003070937u39a39b36j846d4e7b89c0612a@mail.gmail.com>
References: <E1NoJGn-0007te-KJ@sfp-svn-4.v30.ch3.sourceforge.com>
	<133778361003070908w4b16391eu5353a01cf4cb353d@mail.gmail.com>
	<FAB7045A-6B03-4456-BF3B-C59B7DAEEF66@syenar.hu>
	<133778361003070922m2a5f5306p8ca0e1a894897c67@mail.gmail.com>
	<337DEE83-7F18-4115-AEE4-7CE589C15B7F@syenar.hu>
	<133778361003070937u39a39b36j846d4e7b89c0612a@mail.gmail.com>
Message-ID: <8959C718-6875-4D9E-ACA6-72AF3BB0F6FA@syenar.hu>

> May be we need to add some text about date format in sample  header

It's not ideal solution to force ppl to change their 
local server config, just to be able to some SQL scripts.

I hope an SQL expert will comment and tell us the 
solution here.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Mar  7 12:43:19 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 12:43:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14093] trunk/harbour
Message-ID: <E1NoKVb-0005Bx-2t@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14093
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14093&view=rev
Author:   vszakats
Date:     2010-03-07 17:43:18 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 18:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/tests/simple.prg
    ! Fixed to use ANSI date format in INSERT command.

  * contrib/hbpgsql/tests/async.prg
  * contrib/hbpgsql/tests/test.prg
  * contrib/hbpgsql/tests/cache.prg
  * contrib/hbpgsql/tests/stress.prg
  * contrib/hbpgsql/tests/dbf2pg.prg
    ! Fixed indentation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/tests/async.prg
    trunk/harbour/contrib/hbpgsql/tests/cache.prg
    trunk/harbour/contrib/hbpgsql/tests/dbf2pg.prg
    trunk/harbour/contrib/hbpgsql/tests/simple.prg
    trunk/harbour/contrib/hbpgsql/tests/stress.prg
    trunk/harbour/contrib/hbpgsql/tests/test.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 13:03:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 13:03:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14094] trunk/harbour
Message-ID: <E1NoKow-0005cV-VG@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14094
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14094&view=rev
Author:   vszakats
Date:     2010-03-07 18:03:17 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 19:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/tests/simple.prg
    ! Fixed typo.

  * contrib/hbmysql/tests/test.prg
    * Formatting.
    ; TOFIX: Not a standalone test code.

  * contrib/hbsqlit3/tests/blob.prg
  * contrib/hbsqlit3/tests/pack.prg
  * contrib/hbsqlit3/tests/metadata.prg
  * contrib/hbsqlit3/tests/sl3_test.prg
  * contrib/hbsqlit3/tests/hooks.prg
  * contrib/hbsqlit3/tests/backup.prg
    * Indentation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/tests/test.prg
    trunk/harbour/contrib/hbpgsql/tests/simple.prg
    trunk/harbour/contrib/hbsqlit3/tests/backup.prg
    trunk/harbour/contrib/hbsqlit3/tests/blob.prg
    trunk/harbour/contrib/hbsqlit3/tests/hooks.prg
    trunk/harbour/contrib/hbsqlit3/tests/metadata.prg
    trunk/harbour/contrib/hbsqlit3/tests/pack.prg
    trunk/harbour/contrib/hbsqlit3/tests/sl3_test.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Sun Mar  7 13:12:02 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 13:12:13 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14093] trunk/harbour
In-Reply-To: <E1NoKVb-0005Bx-2t@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NoKVb-0005Bx-2t@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <133778361003071012v39fb58ecp38b687d63354e1e6@mail.gmail.com>

I get this error now


bruno@notebook:~/harbour-project/harbour/contrib/hbpgsql/tests$ hbmk2 simple
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
hbmk2: Error: Opening: ../hbpgsql.hbc
Harbour 2.1.0dev (Rev. 14072)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'simple.prg'...
Lines 257, Functions/Procedures 1
Generating C source output to '/tmp/simple.c'... Done.
/tmp/simple.o:(.data+0x48): undefined reference to `HB_FUN_TPQSERVER'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc /tmp/simple.o /tmp/hbmk_75sb4u.o   -Wl,--start-group -lhbcplr -lhbdebug
-lgpm -lharbour  -Wl,--end-group -osimple -L/usr/local/lib/harbour
bruno@notebook:~/harbour-project/harbour/contrib/hbpgsql/tests$


2010/3/7 <vszakats@users.sourceforge.net>

> Revision: 14093
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14093&view=rev
> Author:   vszakats
> Date:     2010-03-07 17:43:18 +0000 (Sun, 07 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-07 18:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbpgsql/tests/simple.prg
>    ! Fixed to use ANSI date format in INSERT command.
>
>  * contrib/hbpgsql/tests/async.prg
>  * contrib/hbpgsql/tests/test.prg
>  * contrib/hbpgsql/tests/cache.prg
>  * contrib/hbpgsql/tests/stress.prg
>  * contrib/hbpgsql/tests/dbf2pg.prg
>    ! Fixed indentation.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbpgsql/tests/async.prg
>    trunk/harbour/contrib/hbpgsql/tests/cache.prg
>    trunk/harbour/contrib/hbpgsql/tests/dbf2pg.prg
>    trunk/harbour/contrib/hbpgsql/tests/simple.prg
>    trunk/harbour/contrib/hbpgsql/tests/stress.prg
>    trunk/harbour/contrib/hbpgsql/tests/test.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/0b1cc4eb/attachment-0001.html
From harbour.01 at syenar.hu  Sun Mar  7 13:16:51 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  7 13:17:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14093] trunk/harbour
In-Reply-To: <133778361003071012v39fb58ecp38b687d63354e1e6@mail.gmail.com>
References: <E1NoKVb-0005Bx-2t@sfp-svn-2.v30.ch3.sourceforge.com>
	<133778361003071012v39fb58ecp38b687d63354e1e6@mail.gmail.com>
Message-ID: <6209E540-F62D-4803-B9D9-7E09E87E454D@syenar.hu>

On 2010 Mar 7, at 19:12, Bruno Luciani wrote:

> bruno@notebook:~/harbour-project/harbour/contrib/hbpgsql/tests$ hbmk2 simple
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
> hbmk2: Error: Opening: ../hbpgsql.hbc

It's local problem, see above. SVN is alright.

Brgds,
Viktor

From bruno.luciani at gmail.com  Sun Mar  7 13:17:44 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 13:17:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14093] trunk/harbour
In-Reply-To: <6209E540-F62D-4803-B9D9-7E09E87E454D@syenar.hu>
References: <E1NoKVb-0005Bx-2t@sfp-svn-2.v30.ch3.sourceforge.com>
	<133778361003071012v39fb58ecp38b687d63354e1e6@mail.gmail.com>
	<6209E540-F62D-4803-B9D9-7E09E87E454D@syenar.hu>
Message-ID: <133778361003071017g540721b3w8a7a99b5d6fd11cc@mail.gmail.com>

ok


2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>

> On 2010 Mar 7, at 19:12, Bruno Luciani wrote:
>
> > bruno@notebook:~/harbour-project/harbour/contrib/hbpgsql/tests$ hbmk2
> simple
> > hbmk2: Processing local make script: hbmk.hbm
> > hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
> > hbmk2: Error: Opening: ../hbpgsql.hbc
>
> It's local problem, see above. SVN is alright.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/b43beef7/attachment.html
From bruno.luciani at gmail.com  Sun Mar  7 13:33:39 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Mar  7 13:33:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14093] trunk/harbour
In-Reply-To: <6209E540-F62D-4803-B9D9-7E09E87E454D@syenar.hu>
References: <E1NoKVb-0005Bx-2t@sfp-svn-2.v30.ch3.sourceforge.com>
	<133778361003071012v39fb58ecp38b687d63354e1e6@mail.gmail.com>
	<6209E540-F62D-4803-B9D9-7E09E87E454D@syenar.hu>
Message-ID: <133778361003071033y2e232a02qbea71e7089c0fbc@mail.gmail.com>

all ok

My mistake

2010/3/7 Viktor Szak?ts <harbour.01@syenar.hu>

> On 2010 Mar 7, at 19:12, Bruno Luciani wrote:
>
> > bruno@notebook:~/harbour-project/harbour/contrib/hbpgsql/tests$ hbmk2
> simple
> > hbmk2: Processing local make script: hbmk.hbm
> > hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
> > hbmk2: Error: Opening: ../hbpgsql.hbc
>
> It's local problem, see above. SVN is alright.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/a8813b86/attachment.html
From vszakats at users.sourceforge.net  Sun Mar  7 14:31:56 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 14:32:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14095] trunk/harbour
Message-ID: <E1NoMCi-0002el-10@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14095
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14095&view=rev
Author:   vszakats
Date:     2010-03-07 19:31:54 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-07 20:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/tests/tstpgrdd.prg
  * contrib/hbpgsql/tests/async.prg
  * contrib/hbpgsql/tests/test.prg
  * contrib/hbpgsql/tests/cache.prg
  * contrib/hbpgsql/tests/stress.prg
  * contrib/hbpgsql/tests/dbf2pg.prg
    ! Various fixes.
    ! Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/tests/async.prg
    trunk/harbour/contrib/hbpgsql/tests/cache.prg
    trunk/harbour/contrib/hbpgsql/tests/dbf2pg.prg
    trunk/harbour/contrib/hbpgsql/tests/stress.prg
    trunk/harbour/contrib/hbpgsql/tests/test.prg
    trunk/harbour/contrib/hbpgsql/tests/tstpgrdd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 18:11:10 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 18:11:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14096] trunk/harbour
Message-ID: <E1NoPcs-0002sY-RT@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14096
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14096&view=rev
Author:   vszakats
Date:     2010-03-07 23:11:09 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-08 00:09 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbapi.h
  * src/common/hbver.c
    + Added hb_iswin2k() low-level function to detect
      if running under Windows 2000 or newer.

  * include/hbextern.ch
  * src/rtl/version.c
    + Added HB_OSISWIN2K() .prg level function.

  * src/rtl/gtwin/gtwin.c
  * src/rtl/gtwvt/gtwvt.c
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvggui.c
  * examples/gtwvw/gtwvw.c
  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_prn3.c
    % Changed to use hb_iswin*() API instead of implementing
      version detection locally.

  * contrib/hbmysql/mysql.c
  * contrib/hbpgsql/postgres.c
    + Added my partial copyright.

  * contrib/hbpgsql/tests/tstpgrdd.prg
    * Formatting.

  * contrib/hbpgsql/postgres.c
    ! Fixed to define all .prg level functions regardless
      of pgsql lib it's built against. They return
      permanent failure in this case.
    ! Fixed PQCREATETRACE() to return NULL pointer instead
      of NIL for static builds.
    ! PQFREECANCEL() marked with HB_LEGACY_LEVEL3.

  * contrib/hbwin/win_os.prg
    + Using HB_OSISWIN2K() core API.

  * contrib/hbide/ideprojmanager.prg
    * Minor alignment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbmysql/mysql.c
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/contrib/hbpgsql/tests/tstpgrdd.prg
    trunk/harbour/contrib/hbwin/win_os.prg
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_prn3.c
    trunk/harbour/examples/gtwvw/gtwvw.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/common/hbver.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/rtl/version.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 18:33:02 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 18:33:08 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14097] trunk/harbour
Message-ID: <E1NoPy2-0002FX-AI@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14097
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14097&view=rev
Author:   vszakats
Date:     2010-03-07 23:33:01 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-08 00:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    ! Changed one remaining local version detection to hb_iswin*() call.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 18:38:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 18:38:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14098] trunk/harbour
Message-ID: <E1NoQ3Q-0002Kq-6g@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14098
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14098&view=rev
Author:   vszakats
Date:     2010-03-07 23:38:34 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-08 00:38 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn3.c
    % Changed local version detection to hb_iswin*() calls.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 18:49:35 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 18:49:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14099]
	trunk/harbour/ChangeLog
Message-ID: <E1NoQE3-0002XK-Th@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14099
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14099&view=rev
Author:   vszakats
Date:     2010-03-07 23:49:34 +0000 (Sun, 07 Mar 2010)

Log Message:
-----------
2010-03-08 00:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    ! Added missing change from prev entry:
      * src/rtl/gtwvt/gtwvt.c
        * Changed RegisterClass() call to RegisterClassEx().
          Same availability, more features, recommended call.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 20:05:45 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 20:05:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14100] trunk/harbour
Message-ID: <E1NoRPl-0005pd-Vl@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14100
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14100&view=rev
Author:   vszakats
Date:     2010-03-08 01:05:44 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 02:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added trick to recognize 'unicows' lib for win targets
      and always place it to its required position in the
      lib list. (this trick may change in the future, I don't
      really like current solution)
      This fixes the unicows issues, and now it seems to work
      nicely with Harbour apps built in (now default) UNICODE
      mode, when executed on Win9x systems. Harbour works only
      with Microsoft's UNICOWS.DLL (with OPENCOWS.DLL it doesn't).
    ; TOFIX: For GTWIN there is no keyboard input though, but
             the mouse works. Any idea why?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 20:47:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 20:47:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14101] trunk/harbour
Message-ID: <E1NoS4G-0006Tj-Ld@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14101
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14101&view=rev
Author:   vszakats
Date:     2010-03-08 01:47:35 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 02:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwin/gtwin.c
    ! Minor formattting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  7 21:29:24 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 21:29:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14102] trunk/harbour
Message-ID: <E1NoSii-0004sH-9B@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14102
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14102&view=rev
Author:   vszakats
Date:     2010-03-08 02:29:23 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 03:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwin/gtwin.c
    ! Added workaround for MS confirmed (but forever unfixed)
      UNICOWS ReadConsoleInput() bug, which caused reported
      dead keyboard when running UNICODE+UNICOWS apps on Win9x.
    % Optimized to cache Win9x detection flag.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Sun Mar  7 21:29:41 2010
From: smujohnson at gmail.com (smu johnson)
Date: Sun Mar  7 21:29:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14096] trunk/harbour
In-Reply-To: <E1NoPcs-0002sY-RT@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NoPcs-0002sY-RT@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <674e4ddd1003071829g607f3b33o7aead8007475a093@mail.gmail.com>

Wow you've been busy!

Anyway I was thinking hb_iswin2k() -> hb_isWin2kOrAbove() would be a bit
better wording to not be ambiguous about the "or versions above" part of
that call.

Just a thought/.

On Sun, Mar 7, 2010 at 3:11 PM, <vszakats@users.sourceforge.net> wrote:

> Revision: 14096
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14096&view=rev
> Author:   vszakats
> Date:     2010-03-07 23:11:09 +0000 (Sun, 07 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-08 00:09 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * include/hbapi.h
>  * src/common/hbver.c
>    + Added hb_iswin2k() low-level function to detect
>      if running under Windows 2000 or newer.
>
>  * include/hbextern.ch
>  * src/rtl/version.c
>    + Added HB_OSISWIN2K() .prg level function.
>
>  * src/rtl/gtwin/gtwin.c
>  * src/rtl/gtwvt/gtwvt.c
>  * contrib/gtwvg/gtwvg.c
>  * contrib/gtwvg/wvggui.c
>  * examples/gtwvw/gtwvw.c
>  * contrib/hbwin/win_prn2.c
>  * contrib/hbwin/win_prn3.c
>    % Changed to use hb_iswin*() API instead of implementing
>      version detection locally.
>
>  * contrib/hbmysql/mysql.c
>  * contrib/hbpgsql/postgres.c
>    + Added my partial copyright.
>
>  * contrib/hbpgsql/tests/tstpgrdd.prg
>    * Formatting.
>
>  * contrib/hbpgsql/postgres.c
>    ! Fixed to define all .prg level functions regardless
>      of pgsql lib it's built against. They return
>      permanent failure in this case.
>    ! Fixed PQCREATETRACE() to return NULL pointer instead
>      of NIL for static builds.
>    ! PQFREECANCEL() marked with HB_LEGACY_LEVEL3.
>
>  * contrib/hbwin/win_os.prg
>    + Using HB_OSISWIN2K() core API.
>
>  * contrib/hbide/ideprojmanager.prg
>    * Minor alignment.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/gtwvg.c
>    trunk/harbour/contrib/gtwvg/wvggui.c
>    trunk/harbour/contrib/hbide/ideprojmanager.prg
>    trunk/harbour/contrib/hbmysql/mysql.c
>    trunk/harbour/contrib/hbpgsql/postgres.c
>    trunk/harbour/contrib/hbpgsql/tests/tstpgrdd.prg
>    trunk/harbour/contrib/hbwin/win_os.prg
>    trunk/harbour/contrib/hbwin/win_prn2.c
>    trunk/harbour/contrib/hbwin/win_prn3.c
>    trunk/harbour/examples/gtwvw/gtwvw.c
>    trunk/harbour/include/hbapi.h
>    trunk/harbour/include/hbextern.ch
>    trunk/harbour/src/common/hbver.c
>    trunk/harbour/src/rtl/gtwin/gtwin.c
>    trunk/harbour/src/rtl/gtwvt/gtwvt.c
>    trunk/harbour/src/rtl/version.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100307/7492ae8a/attachment.html
From harbour.01 at syenar.hu  Sun Mar  7 21:37:52 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  7 21:38:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14096] trunk/harbour
In-Reply-To: <674e4ddd1003071829g607f3b33o7aead8007475a093@mail.gmail.com>
References: <E1NoPcs-0002sY-RT@sfp-svn-2.v30.ch3.sourceforge.com>
	<674e4ddd1003071829g607f3b33o7aead8007475a093@mail.gmail.com>
Message-ID: <2F27F2A9-C446-4F56-8163-2CFF9AD51A9C@syenar.hu>

Hi,

> Wow you've been busy!
> 
> Anyway I was thinking hb_iswin2k() -> hb_isWin2kOrAbove() would be a bit better wording to not be ambiguous about the "or versions above" part of that call.

We keep it short and simple: all hb_iswin*() calls 
automatically mean "and above" (the only exception 
is hb_iswin9x()). Checking for specific Windows 
versions has not much use in core code, and with 
current calls it's very easy to detect the "class" 
of win OS.

Brgds,
Viktor

From bedipritpal at hotmail.com  Sun Mar  7 21:43:23 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar  7 21:43:30 2010
Subject: [Harbour] hbIDE and Intellisense
Message-ID: <1268016203358-4693108.post@n2.nabble.com>


Hi All

I am a step forward in basic constructs needed for 
some "intellisense" concepts, but I am not sure what bunch 
can be defined as intellisense.

Can you post what is expected in a source editor in this 
context. I do not want to build foundation which may require
deep changes in the future.

Waiting to hear from you.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-and-Intellisense-tp4693108p4693108.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sun Mar  7 21:54:00 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  7 21:54:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14103] trunk/harbour
Message-ID: <E1NoT6W-0006cv-IO@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14103
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14103&view=rev
Author:   vszakats
Date:     2010-03-08 02:53:59 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 03:53 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added UNICOWS links.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From cigcor at hotmail.com  Sun Mar  7 22:15:12 2010
From: cigcor at hotmail.com (=?UTF-8?Q?S=C3=A9rgio_Kondo?=)
Date: Sun Mar  7 22:15:51 2010
Subject: [Harbour] Building Harbour from SVN
In-Reply-To: <E1NoT6W-0006cv-IO@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NoT6W-0006cv-IO@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <BAY133-DS16BFBE9A9AB0BEA55D02C5DC350@phx.gbl>

Hi all,
Where I found instruction to build harbour from SVN version? I like build 
using MSVC8.
Thansks
S?rgio Kondo
 

From macdavid at users.sourceforge.net  Sun Mar  7 22:49:15 2010
From: macdavid at users.sourceforge.net (macdavid@users.sourceforge.net)
Date: Sun Mar  7 22:49:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14104] trunk/harbour
Message-ID: <E1NoTxz-0000y6-HJ@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14104
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14104&view=rev
Author:   macdavid
Date:     2010-03-08 03:49:14 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-07 21:30 UTC-0600 David Arturo Macias Corona (dmacias/at/mail.udg.mx)
  * harbour/contrib/hbqt/hbqt.hbc
  * harbour/contrib/hbqt/gtqtc/gtqtc.hbc
    + Added support for OS/2

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.hbc
    trunk/harbour/contrib/hbqt/hbqt.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Mar  8 03:10:12 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar  8 03:10:24 2010
Subject: [Harbour] Re: dlmalloc on OS/2
In-Reply-To: <20100307114953.GA25561@linux-4bod.home.aster.pl>
References: <4B90F8B5.6040106@mail.udg.mx> <4B91104A.3050806@libero.it>
	<20100307114953.GA25561@linux-4bod.home.aster.pl>
Message-ID: <4B94B0E4.4090307@libero.it>

Przemyslaw,

I'm, at the moment, sharing them between DOS Clipper/XPP/Harbour, so, HBNETIO
is not a solution to my problem, even if I'd like a lot to use it!

Maurilio.


Przemys?aw Czerpak wrote:
> On Fri, 05 Mar 2010, Maurilio Longo wrote:
> 
> Hi,
> 
>>> 2.c) Can you prepare to manage "64bit file support" ? I think yes
>>>  So you will be ready for future  :-)
>> It requires a lot more changes than DosFindFirst()
>>> 2.d) I know you are aware of every movement which happen in OS/2 world,
>>> and maybe you tested already, ... but maybe no
>>>  Days ago I removed "NETBIOS over TCP/IP" and installed .wpi files for
>>> Samba 3.0.37, from NetLabs
>>>  ( Samba Server version 3.0.37 for eComStation (OS/2) 1.0.3 )
>>> - Migrated shares
>>> - Everything is working fine to/from OS/2 and WinXPPSP2, Linux Mandriva
>>> - Problems with shares/visibility between OS/2 and rest are gone
>> I have problems with client access (OS/2 accessing a share), my server is
>> samba, but on OpenSolaris.
> 
> Please remember that for sharing DBFs HBNETIO can be used in such case.
> It give to client 64bit file API if it's supported on the server side
> (it doesn't matter what is the client OS) and resolves the problems with
> syncing locks used by different programs working on different OS-es.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From m.lacecilia at gmail.com  Mon Mar  8 03:13:50 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Mon Mar  8 03:14:03 2010
Subject: R: [Harbour] hbIDE and Intellisense
In-Reply-To: <1268016203358-4693108.post@n2.nabble.com>
References: <1268016203358-4693108.post@n2.nabble.com>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOlapYEX1KVPrBb1GsScs9wBAAAAAA==@gmail.com>

Hi Pritpal, IMHO a xMate like support is needed and sufficient.
The foundations are in the "intellihelp.txt" file of xMate, also displayable
from xMate editor from menu item help->supplemental
informations->intellihelp.txt
Best regards and thanks for your strong work about hbQt and hbIDE.

Maurizio la Cecilia               
 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di Pritpal Bedi
> Inviato: luned? 8 marzo 2010 3.43
> A: harbour@harbour-project.org
> Oggetto: [Harbour] hbIDE and Intellisense
> 
> 
> Hi All
> 
> I am a step forward in basic constructs needed for 
> some "intellisense" concepts, but I am not sure what bunch 
> can be defined as intellisense.
> 
> Can you post what is expected in a source editor in this 
> context. I do not want to build foundation which may require
> deep changes in the future.
> 
> Waiting to hear from you.
> 
> 
> -----
>                  enjoy hbIDEing...
>                     Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context: 
> http://n2.nabble.com/hbIDE-and-Intellisense-tp4693108p4693108.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From mbelgrano at deltain.it  Mon Mar  8 03:21:05 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  8 03:21:33 2010
Subject: [Harbour] hbIDE and Intellisense
In-Reply-To: <1268016203358-4693108.post@n2.nabble.com>
References: <1268016203358-4693108.post@n2.nabble.com>
Message-ID: <609353e71003080021q6b289899p99548e9ea971e311@mail.gmail.com>

ntelliSense comprises the following options:List Members ,Parameter
Info,Quick Info , Complete Word , Automatic Brace Matchin .and.
particularry:
Lists of methods and accessors that drop down alongside a class or object
access descriptions of functions, particularly their parameter lists.

intellisense need accessing an automatically generated in-memory
database of classes, variable names and other constructs defined in or
referenced by the application being edited

Follow same intresting link
an open source project about intellisense
http://insenvim.sourceforge.net/
intellisense in visual fox pro
http://msdn.microsoft.com/en-us/library/aa979091(VS.71).aspx
intellisense in 2010
http://weblogs.asp.net/scottgu/archive/2009/10/22/vs-2010-code-intellisense-improvements-vs-2010-and-net-4-0-series.aspx


2010/3/8 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi All
>
> I am a step forward in basic constructs needed for
> some "intellisense" concepts, but I am not sure what bunch
> can be defined as intellisense.
>
> Can you post what is expected in a source editor in this
> context. I do not want to build foundation which may require
> deep changes in the future.
>
> Waiting to hear from you.
>
>
> -----
> ? ? ? ? ? ? ? ? enjoy hbIDEing...
> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/hbIDE-and-Intellisense-tp4693108p4693108.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From mbelgrano at deltain.it  Mon Mar  8 03:25:26 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  8 03:25:54 2010
Subject: [Harbour] Building Harbour from SVN
In-Reply-To: <BAY133-DS16BFBE9A9AB0BEA55D02C5DC350@phx.gbl>
References: <E1NoT6W-0006cv-IO@sfp-svn-2.v30.ch3.sourceforge.com> 
	<BAY133-DS16BFBE9A9AB0BEA55D02C5DC350@phx.gbl>
Message-ID: <609353e71003080025m71a4dca1ja44c237cd8d603cc@mail.gmail.com>

Hi sergio
as you can read in c:\harbour\install you need something like:

 set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
 call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
 win-make

remember add library that you need
      set HB_WITH_QT=C:\Qt\include


2010/3/8 S?rgio Kondo <cigcor@hotmail.com>:
> Hi all,
> Where I found instruction to build harbour from SVN version? I like build
> using MSVC8.
> Thansks
> S?rgio Kondo
>
>


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Mon Mar  8 03:29:43 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  8 03:30:12 2010
Subject: [Harbour] Re: dlmalloc on OS/2
In-Reply-To: <4B94B0E4.4090307@libero.it>
References: <4B90F8B5.6040106@mail.udg.mx> <4B91104A.3050806@libero.it> 
	<20100307114953.GA25561@linux-4bod.home.aster.pl>
	<4B94B0E4.4090307@libero.it>
Message-ID: <609353e71003080029o5c90e34djadea2e4e00e65085@mail.gmail.com>

The good news is that not is easy port your Clipper source to harbour
and porting your XPP source to harbour you can use  HBNETIO


2010/3/8 Maurilio Longo <maurilio.longo@libero.it>:
> Przemyslaw,
>
> I'm, at the moment, sharing them between DOS Clipper/XPP/Harbour, so, HBNETIO
> is not a solution to my problem, even if I'd like a lot to use it!
>
> Maurilio.
>



-- 
Massimo Belgrano
From maurilio.longo at libero.it  Mon Mar  8 03:40:07 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar  8 03:40:19 2010
Subject: [Harbour] Re: dlmalloc on OS/2
In-Reply-To: <609353e71003080029o5c90e34djadea2e4e00e65085@mail.gmail.com>
References: <4B90F8B5.6040106@mail.udg.mx> <4B91104A.3050806@libero.it>
	<20100307114953.GA25561@linux-4bod.home.aster.pl>	<4B94B0E4.4090307@libero.it>
	<609353e71003080029o5c90e34djadea2e4e00e65085@mail.gmail.com>
Message-ID: <4B94B7E7.3010008@libero.it>

Massimo,

I'm sure it's easy, it's just we can't do it .)

Maurilio.

Massimo Belgrano wrote:
> The good news is that not is easy port your Clipper source to harbour
> and porting your XPP source to harbour you can use  HBNETIO
> 
> 
> 2010/3/8 Maurilio Longo <maurilio.longo@libero.it>:
>> Przemyslaw,
>>
>> I'm, at the moment, sharing them between DOS Clipper/XPP/Harbour, so, HBNETIO
>> is not a solution to my problem, even if I'd like a lot to use it!
>>
>> Maurilio.
>>
> 
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Mon Mar  8 03:51:07 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  8 03:51:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14105] trunk/harbour
Message-ID: <E1NoYg7-0004F2-EP@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14105
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14105&view=rev
Author:   vszakats
Date:     2010-03-08 08:51:06 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 09:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/gtqtc/gtqtcs.hbc
  * contrib/hbqt/gtqtc/gtqtc.hbc
  * contrib/hbqt/hbqt.hbc
  * contrib/hbqt/hbqts.hbc
    + Updated static .hbc file for OS/2
    % Removed little redundancy in libpaths= lines.
    % Deleted qtwebkit and qtnetwork references from gtqt*.hbc files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.hbc
    trunk/harbour/contrib/hbqt/gtqtc/gtqtcs.hbc
    trunk/harbour/contrib/hbqt/hbqt.hbc
    trunk/harbour/contrib/hbqt/hbqts.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fmancera at viaopen.com  Mon Mar  8 04:03:38 2010
From: fmancera at viaopen.com (ViaOpen - Fernando Mancera)
Date: Mon Mar  8 04:03:55 2010
Subject: [Harbour] test
Message-ID: <5433357002324B5E864C607376FC8DEF@LAPTOP>

Hello,

 

Is a test.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100308/ff3f3aa3/attachment.html
From maurilio.longo at libero.it  Mon Mar  8 04:06:50 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar  8 04:07:01 2010
Subject: [Harbour] dlmalloc on OS/2
In-Reply-To: <20100307114508.GA25269@linux-4bod.home.aster.pl>
References: <4B8B8643.8090604@libero.it>	<20100302030348.GA32227@linux-4bod.home.aster.pl>	<4B8D1B14.6030301@libero.it>
	<20100307114508.GA25269@linux-4bod.home.aster.pl>
Message-ID: <4B94BE2A.807@libero.it>

Przemyslaw,

Przemys?aw Czerpak wrote:
> The description suggests that files with attribute READONLY or ARCHIVE are
> not shown if MAY bits are not set. It's not Clipper compatible behavior.
> So it should be definitely fixed or the description is wrong.
> 

I think description is wrong, see

MUST_HAVE_ARCHIVED (0x00002000)
Must-Have Archive bit; excludes files without the archive bit set if bit 13 is
set to 1. Files may have the Archive bit set if bit 13 is set to 0.

and

FILE_ARCHIVED (0x00000020)
May-Have Archive bit; includes files with the Archive bit set if bit 5 is set
to 1. Excludes files with the Archive bit set if bit 5 is set to 0.

I've also done a little test on a shared volume, all files with 'A' and one
with 'R' flag set, Directory() returns the name of them all.

So, docs are wrong :)

>>> BTW what errors do you have?
>> Error 8, that is  ERROR_NOT_ENOUGH_MEMORY.
> 
> Looks like some internal problem, i.e. with memory alignment.
> 
yes, I think the problem could be caused by some old 16bit code, the strange
thing is that, before my latest change, it was not failing always, but just
from time to time apart in a test case I have, where two calls to Directory()
for two different files, one ok and the other failing!

> If it's memory alignment problem then such modification should resolve it.
> Anyhow such things should be documented.
> 
I was not able to find a reference to this issue googling for several hours :(

> I think that we should clean current file IO code and use only native
> OS2 API instead of current mixed OS2 and CRTL calls. We can also add
> support for 64bit file API if it's available in OS2.
> 
Yes, using APIs only could be a good thing, at least for code quality.

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Mon Mar  8 05:24:41 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar  8 05:24:50 2010
Subject: [Harbour] dlmalloc on OS/2
In-Reply-To: <4B94BE2A.807@libero.it>
References: <4B8B8643.8090604@libero.it>
	<20100302030348.GA32227@linux-4bod.home.aster.pl>
	<4B8D1B14.6030301@libero.it>
	<20100307114508.GA25269@linux-4bod.home.aster.pl>
	<4B94BE2A.807@libero.it>
Message-ID: <20100308102441.GA15674@linux-4bod.home.aster.pl>

On Mon, 08 Mar 2010, Maurilio Longo wrote:

Hi,

> Przemys?aw Czerpak wrote:
> > The description suggests that files with attribute READONLY or ARCHIVE are
> > not shown if MAY bits are not set. It's not Clipper compatible behavior.
> > So it should be definitely fixed or the description is wrong.
> I think description is wrong, see
> MUST_HAVE_ARCHIVED (0x00002000)
> Must-Have Archive bit; excludes files without the archive bit set if bit 13 is
> set to 1. Files may have the Archive bit set if bit 13 is set to 0.
> and
> 
> FILE_ARCHIVED (0x00000020)
> May-Have Archive bit; includes files with the Archive bit set if bit 5 is set
> to 1. Excludes files with the Archive bit set if bit 5 is set to 0.
> 
> I've also done a little test on a shared volume, all files with 'A' and one
> with 'R' flag set, Directory() returns the name of them all.
> 
> So, docs are wrong :)

I believe that you are right but test on shared volumes is not an answer
because it may depend on host system behavior which can be different then
native OS2 one so it would be nice if you can verify it for native local
volumes too. Just to be sure :)

> > I think that we should clean current file IO code and use only native
> > OS2 API instead of current mixed OS2 and CRTL calls. We can also add
> > support for 64bit file API if it's available in OS2.
> Yes, using APIs only could be a good thing, at least for code quality.

I can try to help in this process but final tests have to be done by real
OS2 users.
Seems that the following files should be updated:
   filesys.c (hb_fsOpen(), hb_fsCreate(), hb_fsCreateEx(), hb_fsClose(),
              hb_fsSetDevMode()?, hb_fsIsDevice()?
              hb_fsGetFileTime(), hb_fsEof(),
              hb_fsRead(), hb_fsWrite(), hb_fsReadLarge(), hb_fsWriteLarge(),
              hb_fsReadAt() (64bit offsets support),
              hb_fsWriteAt() (64bit offsets support),
              hb_fsTruncAt() (64bit offsets support),
              hb_fsLockLarge() (64bit offsets support),
              hb_fsSeekLarge() (64bit offsets support),
              hb_fsDelete(), hb_fsRename(), hb_fsMkDir(), hb_fsChDir(),
              hb_fsRmDir()
   fstemp.c
   fssize.c (it should be updated also for native MS-Win builds to eliminate
             CRTL stat() function)
   hbffind.c (hb_fsFindNextLow() (64bit file size support))

Do you seen any potential problems in switching to native OS2 API in above
functions?

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Mar  8 06:32:17 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  8 06:32:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14106] trunk/harbour
Message-ID: <E1NobC5-00076v-OQ@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14106
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14106&view=rev
Author:   vszakats
Date:     2010-03-08 11:32:16 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 12:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/diskspac.c
  * src/rtl/disksphb.c
    + Added comment about the reason why GetDiskFreeSpaceEx()
      is called dynamically (win95 first edition support).
    + Added support for HB_NO_WIN95 build-time flag to drop
      Win95 compatibility. Unfortunately current dynamic load
      trick fails with UNICOWS, returning zero for disk
      space related calls in this scenario. If we drop the
      dynamic call, we lose support for Win95 first edition,
      but these functions will work properly on Win95b/98/ME
      in return. I'm still thinking about it, but maybe it's
      better to drop Win95 first edition support altogether
      and make newer versions work properly. Any opinions?

  * contrib/hbwin/wapi_winbase.c
  * contrib/hbwin/wapi_wingdi_font.c
    ! Fixed to use WIDE/ANSI versions of dynamically executed
      functions according to UNICODE setting.

  * bin/hb-mkdyn.sh
  * bin/hb-func.sh
  * utils/hbmk2/hbmk2.prg
  * config/win/global.mk
    ! Stepping back to link against wsock32 instead of ws2_32.
      The only reason is Win95 (even OSR2) compatibility.
      This is a little bit less efficient unfortunately.

  * src/rtl/hbsocket.c
    ! Fixed to use WSAioctl via dynamic call for non WinCE
      builds, and if HB_NO_WIN95 macro is no defined.
      WSAioctl is present in ws2_32.dll, which .dll isn't
      available on Win95.
    ; Not tested since I don't know how to test it, pls
      review and test.
    ; NOTE: There seem to exist a package which add ws2_32 
            support for Win95, but I couldn't find it, if 
            someone has, we can drop this ugly trick and 
            simply document the requirement.

  * src/rtl/gtwin/gtwin.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/config/win/global.mk
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wapi_wingdi_font.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/disksphb.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alich at gmx.de  Mon Mar  8 07:27:39 2010
From: alich at gmx.de (alich@gmx.de)
Date: Mon Mar  8 07:27:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14106] trunk/harbour
In-Reply-To: <E1NobC5-00076v-OQ@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NobC5-00076v-OQ@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <4B94ED3B.30101@gmx.de>

Hi Victor,

>     ; NOTE: There seem to exist a package which add ws2_32 
>             support for Win95, but I couldn't find it, if 
>             someone has, we can drop this ugly trick and 
>             simply document the requirement.
>   

Maybe it is this: https://www.ibtc.de/pub/wsock2w95.zip

Best Regards,
Ruediger

From bruno.luciani at gmail.com  Mon Mar  8 07:59:51 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Mar  8 07:59:59 2010
Subject: [Harbour] hbIDE and Intellisense
In-Reply-To: <1268016203358-4693108.post@n2.nabble.com>
References: <1268016203358-4693108.post@n2.nabble.com>
Message-ID: <133778361003080459k6ed555c3n439c9d7d31fbaba3@mail.gmail.com>

MAy be could you take a look to KATE editor behavior

it is my reference in Linux  and use QT4

Bruno



2010/3/7 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi All
>
> I am a step forward in basic constructs needed for
> some "intellisense" concepts, but I am not sure what bunch
> can be defined as intellisense.
>
> Can you post what is expected in a source editor in this
> context. I do not want to build foundation which may require
> deep changes in the future.
>
> Waiting to hear from you.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/hbIDE-and-Intellisense-tp4693108p4693108.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100308/f2fa4aa2/attachment.html
From harbour.01 at syenar.hu  Mon Mar  8 09:09:02 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar  8 09:09:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14106] trunk/harbour
In-Reply-To: <4B94ED3B.30101@gmx.de>
References: <E1NobC5-00076v-OQ@sfp-svn-2.v30.ch3.sourceforge.com>
	<4B94ED3B.30101@gmx.de>
Message-ID: <B2BC2E09-1ADE-47C5-88B3-E2327BB15446@syenar.hu>

Hi Ruediger,

>>    ; NOTE: There seem to exist a package which add ws2_32 
>>            support for Win95, but I couldn't find it, if 
>>            someone has, we can drop this ugly trick and 
>>            simply document the requirement.
>> 
> 
> Maybe it is this: https://www.ibtc.de/pub/wsock2w95.zip

This is it, thank you very much.

Here's an MS link for this update:
   http://support.microsoft.com/kb/182108/EN-US/

I'll add instructions and revert to use ws2_32.
(I hope this also works for first edition (retail/OEM) 
Win95 versions.)

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Mon Mar  8 09:16:44 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Mar  8 09:16:54 2010
Subject: [Harbour] wich Remote Gui Protocols for harbour?
In-Reply-To: <609353e71003060031v37c58b49t56e32a27ca62a74e@mail.gmail.com>
References: <609353e71003060031v37c58b49t56e32a27ca62a74e@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502EE36F9@PINK.zycie.pzu>

-----Original Message-----
From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
Sent: Saturday, March 06, 2010 9:31 AM
To: Harbour Project Main Developer List.
Subject: [Harbour] wich Remote Gui Protocols for harbour?

There is a project named Vedga (former Glan,

[...]


imo Maj be a intresting solution with harbour, who extending the gtnet
idea from gt to qt
Please post here any info and experiences on  Remote Gui
*-----------------

I see that no one speaks. And some working GUI application on the server
side should be developed. WEB / GTNET / VEDGA?

Regards,
Marek Horodyski

From mbelgrano at deltain.it  Mon Mar  8 09:21:58 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  8 09:22:28 2010
Subject: [Harbour] hbIDE and Intellisense
In-Reply-To: <133778361003080459k6ed555c3n439c9d7d31fbaba3@mail.gmail.com>
References: <1268016203358-4693108.post@n2.nabble.com>
	<133778361003080459k6ed555c3n439c9d7d31fbaba3@mail.gmail.com>
Message-ID: <609353e71003080621s38b152d3jbed7480b4704038@mail.gmail.com>

Hi Bruno
IMO ,Visual studio is better example

2010/3/8 Bruno Luciani <bruno.luciani@gmail.com>:
> MAy be could you take a look to KATE editor behavior
>
> it is my reference in Linux? and use QT4
>
> Bruno
>
>
>
> 2010/3/7 Pritpal Bedi <bedipritpal@hotmail.com>
>>
>> Hi All
>>
>> I am a step forward in basic constructs needed for
>> some "intellisense" concepts, but I am not sure what bunch
>> can be defined as intellisense.
>>
>> Can you post what is expected in a source editor in this
>> context. I do not want to build foundation which may require
>> deep changes in the future.
>>
>> Waiting to hear from you.
>>
>
>


-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Mon Mar  8 09:40:50 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  8 09:40:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14107] trunk/harbour
Message-ID: <E1Noe8Y-00064t-GG@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14107
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14107&view=rev
Author:   vszakats
Date:     2010-03-08 14:40:49 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 15:38 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/hbsocket.c
  * bin/hb-mkdyn.sh
  * bin/hb-func.sh
  * utils/hbmk2/hbmk2.prg
  * config/win/global.mk
    + Restored to work with ws2_32.dll. (instead of wsock32)

  * INSTALL
    + Added information on Win9x/ME support.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/config/win/global.mk
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Mon Mar  8 09:57:40 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Mar  8 09:57:47 2010
Subject: [Harbour] hbIDE and Intellisense
In-Reply-To: <609353e71003080621s38b152d3jbed7480b4704038@mail.gmail.com>
References: <1268016203358-4693108.post@n2.nabble.com>
	<133778361003080459k6ed555c3n439c9d7d31fbaba3@mail.gmail.com>
	<609353e71003080621s38b152d3jbed7480b4704038@mail.gmail.com>
Message-ID: <133778361003080657o58366cebr21e2225d7e69c9d1@mail.gmail.com>

Yes but , Kate use the Same Library as HBIDE and  you can see the QT4
posibilities

Bruno


2010/3/8 Massimo Belgrano <mbelgrano@deltain.it>

> Hi Bruno
> IMO ,Visual studio is better example
>
> 2010/3/8 Bruno Luciani <bruno.luciani@gmail.com>:
> > MAy be could you take a look to KATE editor behavior
> >
> > it is my reference in Linux  and use QT4
> >
> > Bruno
> >
> >
> >
> > 2010/3/7 Pritpal Bedi <bedipritpal@hotmail.com>
> >>
> >> Hi All
> >>
> >> I am a step forward in basic constructs needed for
> >> some "intellisense" concepts, but I am not sure what bunch
> >> can be defined as intellisense.
> >>
> >> Can you post what is expected in a source editor in this
> >> context. I do not want to build foundation which may require
> >> deep changes in the future.
> >>
> >> Waiting to hear from you.
> >>
> >
> >
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100308/784bb7e4/attachment.html
From mbelgrano at deltain.it  Mon Mar  8 10:02:34 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  8 10:03:04 2010
Subject: [Harbour] Re: How can i Print BMP?
In-Reply-To: <609353e71003010832p10f7e5dfldf6f874618204993@mail.gmail.com>
References: <609353e71003010832p10f7e5dfldf6f874618204993@mail.gmail.com>
Message-ID: <609353e71003080702v32ab5334m62b43f62cf547069@mail.gmail.com>

I try resolve with imagemagik using command line convert (via shell)
convert "G:\myimage.bmp" -rotate 180 -resize 400x250 -density 300x300
"c:\aa.pcl"
      ?  ?? chr(K_ESC) ......
      x_prnfile="g:\clip52\lavori\massimo\arca\AA.pcl"
      TYPE &X_PRNFILE to print
The image break during printing and page eject
may be that type is not able find end of file (26)



2010/3/1 Massimo Belgrano <mbelgrano@deltain.it>:
> I need the capability print a bmp inside a harbour application
> who print plc . is a old clipper application
>
> I Have found a routine who Print .PCX To Laserjet, but need BMP
>
>
> I search a conversion BMP2PCX or printing BMP in pcl
> (I need also rotate image)
>
>
> http://www.karland.com/code/clipper/
> function LoadPCX(cFile)
>
> ? //----------------------------------------------------------------------------
> ? // AUTHOR: ? ? Denis A. Sarrazin (Tue 10-11-1994)
> ? // PURPOSE: ? ?to load the PCX into a special array
> ? // PARAMETERS: cFile <-- the name of the PCX file to load
> ? // RETURNS: ? ?array (see list of #define in MINIPCX.CH and format below)
> ? // NOTES: ? ? ?Format of a .PCX header shown below:
> ? //
> ? // ? ? ? ?Byte ?Item ? ? ? ? ? ?Size Description/Comments
> ? // ? ? ? ?---- ?--------------- ----
> -----------------------------------------
> ? // ? ? ? ?0 ? ? Manufacturer ? ? ?1 ?Constant Flag ?10 = ZSoft .PCX
> ? // ? ? ? ?1 ? ? Version ? ? ? ? ? 1 ?Version information:
> ? // ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 0 = Version 2.5
> ? // ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 2 = Version 2.8 w/palette information
> ? // ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 3 = Version 2.8 w/o palette
> information
> ? // ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 5 = Version 3.0
> ? // ? ? ? ?2 ? ? Encoding ? ? ? ? ?1 ?1 = .PCX run length encoding
> ? // ? ? ? ?3 ? ? Bits per pixel ? ?1 ?Number of bits/pixel per plane
> ? // ? ? ? ?4 ? ? Window ? ? ? ? ? ?8 ?Picture Dimensions
> ? // ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? (Xmin, Ymin) - (Xmax - Ymax)
> ? // ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? in pixels, inclusive
> ? // ? ? ? ?12 ? ?HRes ? ? ? ? ? ? ?2 ?Horizontal Resolution of creating device
> ? // ? ? ? ?14 ? ?VRes ? ? ? ? ? ? ?2 ?Vertical Resolution of creating device
> ? // ? ? ? ?16 ? ?Colormap ? ? ? ? 48 ?Color palette setting, see text
> ? // ? ? ? ?64 ? ?Reserved ? ? ? ? ?1
> ? // ? ? ? ?65 ? ?NPlanes ? ? ? ? ? 1 ?Number of color planes
> ? // ? ? ? ?66 ? ?Bytes per Line ? ?2 ?Number of bytes per scan line per
> ? // ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? color plane (always even for
> .PCX files)
> ? // ? ? ? ?68 ? ?Palette Info ? ? ?2 ?How to interpret palette - 1 = color/BW,
> ? // ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?2 = grayscale
> ? // ? ? ? ?70 ? ?Filler ? ? ? ? ? 58 ?blank to fill out 128 byte header
> ? //
> ? // ? ? ? ?IMPORTANT:
> ? // ? ? ? ? ?All sizes are measured in BYTES.
> ? // ? ? ? ? ?All variables of size 2 are integers.
> ? //
> ? //----------------------------------------------------------------------------
> ? local aPCX
> ? local cBuffer
> ? local hPCX
> ? local nRead
> ? local nFileLength
>
> ? if !file(cFile)
>
> ? ? ?aPCX := {}
>
> ? else
>
> ? ? ?aPCX ? ? ? ?:= array(PCX_LENGTH)
> ? ? ?hPCX ? ? ? ?:= fopen(cFile)
> ? ? ?nFileLength := FLEN(hPCX)
>
> ? ? ?cBuffer := space(HEADER_SIZE)
> ? ? ?nRead ? := fread(hPCX,@cBuffer,HEADER_SIZE) ? ? ? ? ? // load PCX header
>
> ? ? ?aPCX[ PCX_MANUFACTURER ] ? := asc(substr(cBuffer,1,1))
> ? ? ?aPCX[ PCX_VERSION ] ? ? ? ?:= asc(substr(cBuffer,2,1))
> ? ? ?aPCX[ PCX_ENCODING ] ? ? ? := asc(substr(cBuffer,3,1))
> ? ? ?aPCX[ PCX_BITS_PER_PIXEL ] := asc(substr(cBuffer,4,1))
> ? ? ?aPCX[ PCX_WINDOW ] ? ? ? ? := {bin2i(substr(cBuffer,5,2)),;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?bin2i(substr(cBuffer,7,2)),;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?bin2i(substr(cBuffer,9,2)),;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?bin2i(substr(cBuffer,11,2))}
> ? ? ?aPCX[ PCX_HRES ] ? ? ? ? ? := bin2i(substr(cBuffer,13,2))
> ? ? ?aPCX[ PCX_VRES ] ? ? ? ? ? := bin2i(substr(cBuffer,15,2))
> ? ? ?aPCX[ PCX_COLORMAP ] ? ? ? := substr(cbuffer,17,48)
> ? ? ?aPCX[ PCX_RESERVED ] ? ? ? := asc(substr(cBuffer,65,1))
> ? ? ?aPCX[ PCX_NPLANES ] ? ? ? ?:= asc(substr(cBuffer,66,1))
> ? ? ?aPCX[ PCX_BYTES_PER_LINE ] := bin2i(substr(cBuffer,67,2))
> ? ? ?aPCX[ PCX_PALETTE_INFO ] ? := bin2i(substr(cBuffer,69,2))
> ? ? ?aPCX[ PCX_FILLER ] ? ? ? ? := substr(cBuffer,71,58)
>
> ? ? ?cBuffer := space(nFileLength - HEADER_SIZE)
> ? ? ?nRead ? := fread(hPCX,@cBuffer,nFileLength - HEADER_SIZE)
> ? ? ?if (nRead != (nFileLength - HEADER_SIZE))
> ? ? ? ? messaggio("Attenzione ?File TROPPO GRANDE","T")
> ? ? ?endif
>
> ? ? ?aPCX[ PCX_PIXELS ] := cBuffer
>
> ? ? ?fclose(hPCX)
>
> ? endif
>
> return (aPCX)
>
>
>
> procedure PrintPCX(nRow,nCol,aPCX)
> ? //----------------------------------------------------------------------------
> ? // AUTHOR: ? ? Denis A. Sarrazin (Tue 10-11-1994)
> ? // PURPOSE:
> ? // PARAMETERS:
> ? // RETURNS:
> ? // EXAMPLES:
> ? //----------------------------------------------------------------------------
> ? local nNumCol ? ? := aPCX[PCX_WINDOW,3] - aPCX[PCX_WINDOW,1]+1
> ? local nTotalBytes := aPCX[PCX_NPLANES] * aPCX[PCX_BYTES_PER_LINE]
> ? local nStartCol
> ? local cRasterData := ""
> ? local nCount
> ? local nNumBytes
> ? local cByte
> ? local nBytePos
> ? local nPixel
> ? local nDiff
> ? nRow ? ? ?:= int(nRow * 300)
> ? nCol ? ? ?:= int(nCol * 300)
> ? nStartCol := nCol
> ? // ? X_graph=""
> ? if SetPrinter() ?// set the proper codes depending on type of printer
> ? ? ?// ?PrnGrSet( nRow, nCol ) // cGrSet ; PrnGrMove( <r>, <c> )C
> ? ? ?// ? ?X_graph=X_graph+CHR(K_ESC)+"*t300R" + ; ?// raster
> graphics at 300 dpi
> ? ? ?// ? ? ? ?CHR(K_ESC)+"*r1A" +; ? ? ? // start graphics at current position
> ? ? ?// ? ? ? ? ? ? ? ?CHR(K_ESC)+"*p"+Cnum(nRow)+"Y"+;
> ? ? ?// ? ? ? ? ? ? ? ?CHR(K_ESC)+"*p"+Cnum(nStartCol)+"X"
> ? ? ??? chr(K_ESC)+"*t300R" ? ? ? ? ? ?// raster graphics at 300 dpi
> ? ? ?? chr(K_ESC)+"*p"+cNUM(nRow)+"Y"
> ? ? ??? chr(K_ESC)+"*p"+cNUM(nCol)+"X"
> ? ? ??? chr(K_ESC)+"*r1A" ? ? ? ? ? ? ?// start graphics at current position
>
> ? ? ?? chr(K_ESC)+"*p"+cNUM(nRow)+"Y"
> ? ? ???
> ? ? ??? chr(K_ESC)+"*p"+cNUM(nCol)+"X"
> ? ? ???
> ? ? ?nBytePos ?:= 1
> ? ? ?nNumBytes := 1
> ? ? ?while (nBytePos < len(aPCX[PCX_PIXELS]))
> ? ? ? ? cByte := BYTE2BIN(subst(aPCX[PCX_PIXELS],nBytePos,1))
> ? ? ? ? if (left(cByte,2) == "11")
> ? ? ? ? ? ?nCount := BIN2NUM("00"+substr(cByte,3))
> ? ? ? ? ? ?nBytePos ++
> ? ? ? ? ? ?cByte := BYTE2BIN(subst(aPCX[PCX_PIXELS],nBytePos,1))
> ? ? ? ? else
> ? ? ? ? ? ?nCount := 1
> ? ? ? ? endif
> ? ? ? ? while (nCount > 0)
> ? ? ? ? ? ?// display all bits in byte (or parts thereof)
> ? ? ? ? ? ?if ((nCol+8) > (nNumCol+nStartCol - 1)) ? ? ? ? // chop
> off the excess
> ? ? ? ? ? ? ? nDiff := (nCol+8) - (nNumCol+nStartCol - 1) - 1
> ? ? ? ? ? ? ? cByte := padr(left(cByte,8 - nDiff),8,"1") ? // clear any at end
> ? ? ? ? ? ?endif
> ? ? ? ? ? ?cRasterData += chr(XOR(BIN2NUM(cByte),255)) ? ? // invert
> '1's and '0's
> ? ? ? ? ? ?nCol ? ? ? ?+= 8
> ? ? ? ? ? ?if (nNumBytes >= nTotalBytes)
> ? ? ? ? ? ? ? // ? ? ? ? ?X_graph=X_graph+CHR(K_ESC)+"*p"+cNUM(nRow)+"Y"+;
> ? ? ? ? ? ? ? // ? ? ? ? ? ? ? ? ? ? +CHR(K_ESC)+"*p"+cNUM(nStartCol)+"X"+;
> ? ? ? ? ? ? ? //
> +CHR(K_ESC)+"*b"+cNUM(LEN(cRasterData))+"W"+cRasterData
> ? ? ? ? ? ? ? ? chr(K_ESC)+"*p"+cNUM(nRow)+"Y"
> ? ? ? ? ? ? ? ??
> ? ? ? ? ? ? ? ?? chr(K_ESC)+"*p"+cNUM(nStartCol)+"X"
> ? ? ? ? ? ? ? ??
> ? ? ? ? ? ? ? ?? chr(K_ESC)+"*b"+cNUM(len(cRasterData))+"W"+cRasterData
> ? ? ? ? ? ? ? ??
> ? ? ? ? ? ? ? // PrnGrMove( nRow, nStartCol )
> ? ? ? ? ? ? ? // PrnGrLine( cRasterData )
> ? ? ? ? ? ? ? cRasterData := ""
> ? ? ? ? ? ? ? nNumBytes ? := 0
> ? ? ? ? ? ? ? nCol ? ? ? ?:= nStartCol
> ? ? ? ? ? ? ? nRow ++
> ? ? ? ? ? ?endif
> ? ? ? ? ? ?nNumBytes ++
> ? ? ? ? ? ?nCount --
> ? ? ? ? end
> ? ? ? ? nBytePos ++
> ? ? ?end
> ? ? ?? chr(K_ESC)+"*rB"+; ? ? ? ? ? ? ?// end raster graphics
> ? ? ? ? ? ? ? ? chr(K_ESC)+"&a0R"+; ? ?// move to text row 1
> ? ? ? ? ? ? ? ? chr(K_ESC)+"&a0C" ? ? ?// move to text column 1
> ? endif
>
> return
>
>
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Mon Mar  8 10:04:22 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  8 10:04:50 2010
Subject: [Harbour] hbIDE and Intellisense
In-Reply-To: <133778361003080657o58366cebr21e2225d7e69c9d1@mail.gmail.com>
References: <1268016203358-4693108.post@n2.nabble.com>
	<133778361003080459k6ed555c3n439c9d7d31fbaba3@mail.gmail.com> 
	<609353e71003080621s38b152d3jbed7480b4704038@mail.gmail.com> 
	<133778361003080657o58366cebr21e2225d7e69c9d1@mail.gmail.com>
Message-ID: <609353e71003080704v363ee874x3de343791bbd2bf2@mail.gmail.com>

you using kate with?

2010/3/8 Bruno Luciani <bruno.luciani@gmail.com>:
>
> Yes but , Kate use the Same Library as HBIDE and? you can see the QT4
> posibilities
>
> Bruno
>
>
> 2010/3/8 Massimo Belgrano <mbelgrano@deltain.it>
>>
>> Hi Bruno
>> IMO ,Visual studio is better example
>>
>> 2010/3/8 Bruno Luciani <bruno.luciani@gmail.com>:
>> > MAy be could you take a look to KATE editor behavior
>> >
>> > it is my reference in Linux? and use QT4
>> >
>> > Bruno
>> >
>> >
>> >
>> > 2010/3/7 Pritpal Bedi <bedipritpal@hotmail.com>
>> >>
>> >> Hi All
>> >>
>> >> I am a step forward in basic constructs needed for
>> >> some "intellisense" concepts, but I am not sure what bunch
>> >> can be defined as intellisense.
>> >>
>> >> Can you post what is expected in a source editor in this
>> >> context. I do not want to build foundation which may require
>> >> deep changes in the future.
>> >>
>> >> Waiting to hear from you.
>> >>
>> >
>> >
>>
>>
>> --
>
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Mon Mar  8 10:15:08 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  8 10:15:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14108] trunk/harbour
Message-ID: <E1Noefk-0006t2-14@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14108
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14108&view=rev
Author:   vszakats
Date:     2010-03-08 15:15:06 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 16:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/diskspac.c
  * src/rtl/disksphb.c
  * contrib/hbwin/wapi_winbase.c
    + Added trick to make dynamic calls to WIDE API functions via
      UNICOWS.DLL in UNICODE (default) builds when running on Win9x
      systems. This fixes DISKSPACE(), HB_DISKSPACE() and
      WAPI_GETLONGPATHNAME() in this scenario. (IOW this patch
      makes these calls work in UNICOWS situations)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/disksphb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Mon Mar  8 10:35:18 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Mar  8 10:35:26 2010
Subject: [Harbour] hbIDE and Intellisense
In-Reply-To: <609353e71003080704v363ee874x3de343791bbd2bf2@mail.gmail.com>
References: <1268016203358-4693108.post@n2.nabble.com>
	<133778361003080459k6ed555c3n439c9d7d31fbaba3@mail.gmail.com>
	<609353e71003080621s38b152d3jbed7480b4704038@mail.gmail.com>
	<133778361003080657o58366cebr21e2225d7e69c9d1@mail.gmail.com>
	<609353e71003080704v363ee874x3de343791bbd2bf2@mail.gmail.com>
Message-ID: <133778361003080735u29bd56aete336f1cd5eca36d6@mail.gmail.com>

As a simple code editor

http://www.postimage.org/image.php?v=aV8wq1i

http://www.postimage.org/image.php?v=PqjT7R9

Here you can see two features that I like

highlighting of a piece of code ( IF - ENDIF )

and when I writing a function , prediction and auto completion with
functions in prg

May be I am understand wrong  what are you talking about ?

in that case my apologize  about that.


Bruno

2010/3/8 Massimo Belgrano <mbelgrano@deltain.it>

> you using kate with?
>
> 2010/3/8 Bruno Luciani <bruno.luciani@gmail.com>:
> >
> > Yes but , Kate use the Same Library as HBIDE and  you can see the QT4
> > posibilities
> >
> > Bruno
> >
> >
> > 2010/3/8 Massimo Belgrano <mbelgrano@deltain.it>
> >>
> >> Hi Bruno
> >> IMO ,Visual studio is better example
> >>
> >> 2010/3/8 Bruno Luciani <bruno.luciani@gmail.com>:
> >> > MAy be could you take a look to KATE editor behavior
> >> >
> >> > it is my reference in Linux  and use QT4
> >> >
> >> > Bruno
> >> >
> >> >
> >> >
> >> > 2010/3/7 Pritpal Bedi <bedipritpal@hotmail.com>
> >> >>
> >> >> Hi All
> >> >>
> >> >> I am a step forward in basic constructs needed for
> >> >> some "intellisense" concepts, but I am not sure what bunch
> >> >> can be defined as intellisense.
> >> >>
> >> >> Can you post what is expected in a source editor in this
> >> >> context. I do not want to build foundation which may require
> >> >> deep changes in the future.
> >> >>
> >> >> Waiting to hear from you.
> >> >>
> >> >
> >> >
> >>
> >>
> >> --
> >
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100308/fa1b48f2/attachment.html
From alcisoft at arrakis.es  Mon Mar  8 10:37:40 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Mon Mar  8 10:42:22 2010
Subject: [Harbour] Corruption on Dbf tables
Message-ID: <hn35rk$lkp$1@dough.gmane.org>

Hi to all,

a question:

Why a .dbf table goes to corrupted ?

Perhaps, break energy ?
Perhaps, shutdown computer (user) ?
Perhaps, Clipper and Harbour using the same dbf tables ?
Perhaps, Windows protocols (SMB) against system file based ?
Perhaps, ....?



Regards




From bruno.luciani at gmail.com  Mon Mar  8 10:50:55 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Mar  8 10:51:05 2010
Subject: [Harbour] Corruption on Dbf tables
In-Reply-To: <hn35rk$lkp$1@dough.gmane.org>
References: <hn35rk$lkp$1@dough.gmane.org>
Message-ID: <133778361003080750i5169525ekdd94d274a335a34a@mail.gmail.com>

Database or indexes ?

Bruno

2010/3/8 Antonio Martinez <alcisoft@arrakis.es>

> Hi to all,
>
> a question:
>
> Why a .dbf table goes to corrupted ?
>
> Perhaps, break energy ?
> Perhaps, shutdown computer (user) ?
> Perhaps, Clipper and Harbour using the same dbf tables ?
> Perhaps, Windows protocols (SMB) against system file based ?
> Perhaps, ....?
>
>
>
> Regards
>
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100308/1fd35bb1/attachment.html
From qiinfo at ig.com.br  Mon Mar  8 11:46:46 2010
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  8 11:46:52 2010
Subject: [Harbour] Error GPF with hbnetio
Message-ID: <27824003.post@talk.nabble.com>


Hello Przemek,

The function that is occurring the GPF is "netio_serverstop()"

Using the example below generates GPF. I include this lines:

[LINES]

   set path    to ".\"
   SET DEFAULT TO ".\"

   hb_curdrive( "C:" )
   dirchange( ".\" )

[ENDLINES]

[CODE]
/*
 * $Id: netiotst.prg 13603 2010-01-16 01:13:05Z vszakats $
 */

/*
 * Harbour Project source code:
 *    demonstration/test code for alternative RDD IO API which uses own
 *    very simple TCP/IP file server.
 *
 * Copyright 2009 Przemyslaw Czerpak <druzus / at / priv.onet.pl>
 * www - http://www.harbour-project.org
 *
 */

/* net:127.0.0.1:2941:topsecret:data/_tst_ */

#define DBSERVER  "127.0.0.1"
#define DBPORT    2941
#define DBPASSWD  "topsecret"
#define DBDIR     "data"
#define DBFILE    "_tst_"

#define DBNAME    "net:" + DBSERVER + ":" + hb_ntos( DBPORT ) + ":" + ;
                  DBPASSWD + ":" + DBDIR + "/" + DBFILE

request DBFCDX

request HB_DIREXISTS
request MAKEDIR

proc main()
   local pSockSrv, lExists

   set exclusive off
   rddSetDefault( "DBFCDX" )

   set path    to ".\"
   SET DEFAULT TO ".\"

   hb_curdrive( "C:" )
   dirchange( ".\" )

   pSockSrv := netio_mtserver( DBPORT,,, /* RPC */ .T., DBPASSWD )
   if empty( pSockSrv )
      ? "Cannot start NETIO server !!!"
      wait "Press any key to exit..."
      quit
   endif

   ? "NETIO server activated."
   hb_idleSleep( 0.1 )
   wait

   ?
   ? "NETIO_CONNECT():", netio_connect( DBSERVER, DBPORT, , DBPASSWD )
   ?

   lExists := netio_funcexec( "HB_DirExists", "./data" )
   ? "Directory './data'", iif( !lExists, "not exists", "exists" )
   if !lExists
      ? "Creating directory './data' ->", ;
       iif( netio_funcexec( "MakeDir", "./data" ) == -1, "error", "OK" )
   endif

   createdb( DBNAME )
   testdb( DBNAME )
   wait

   ?
   ? "table exists:", dbExists( DBNAME )
   wait

   ?
   ? "delete table with indexes:", dbDrop( DBNAME )
   ? "table exists:", dbExists( DBNAME )
   wait

   ? "NETIO_DISCONNECT():", netio_disconnect( DBSERVER, DBPORT )

   ?
   ? "stopping the server..."
   netio_serverstop( pSockSrv, .t. )
return

proc createdb( cName )
   local n

   dbCreate( cName, {{"F1", "C", 20, 0},;
                     {"F2", "M",  4, 0},;
                     {"F3", "N", 10, 2},;
                     {"F4", "T",  8, 0}} )
   ? "create neterr:", neterr(), hb_osError()
   use (cName)
   ? "use neterr:", neterr(), hb_osError()
   while lastrec() < 100
      dbAppend()
      n := recno() - 1
      field->F1 := chr( n % 26 + asc( "A" ) ) + " " + time()
      field->F2 := field->F1
      field->F3 := n / 100
      field->F4 := hb_dateTime()
   enddo
   index on field->F1 tag T1
   index on field->F3 tag T3
   index on field->F4 tag T4
   close
   ?
return

proc testdb( cName )
   local i, j
   use (cName)
   ? "used:", used()
   ? "nterr:", neterr()
   ? "alias:", alias()
   ? "lastrec:", lastrec()
   ? "ordCount:", ordCount()
   for i:=1 to ordCount()
      ordSetFocus( i )
      ? i, "name:", ordName(), "key:", ordKey(), "keycount:", ordKeyCount()
   next
   ordSetFocus( 1 )
   dbgotop()
   while !eof()
      if ! field->F1 == field->F2
         ? "error at record:", recno()
         ? "  ! '" + field->F1 + "' == '" + field->F2 + "'"
      endif
      dbSkip()
   enddo
   wait
   i := row()
   j := col()
   dbgotop()
   browse()
   setpos( i, j )
   close
return

[ENDCODE]

Am I doing something wrong ?

Best Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Error-GPF-with-hbnetio-tp27824003p27824003.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jparada_a at hotmail.com  Mon Mar  8 12:58:47 2010
From: jparada_a at hotmail.com (jparada)
Date: Mon Mar  8 12:58:54 2010
Subject: [Harbour] Trying to run test hbpgsql, Error Argument error:PQEXEC
Message-ID: <27825075.post@talk.nabble.com>


Hi,

I compile the example test.prg of hbpgsql\tests, like this:

hbmk2 test.prg-Lc:\postgresql\8.4\lib and when I run test displays the
error:

"Error BASE/2020 Argument error: PQEXEC
Called from PQEXEC (0)
Called from MAIN (40)"

BTW, why when I try to run the test I have to copy the following dll files.

libpq.dll, krb5_32.dll, libeay32.dll, libiconv-2.dll, ssleay32.dll

If I did not copy these files to the folder hbpgsql\test, then I get errors
like:

"Not found the ordinal 127 in the dynamic link library libpq.dll", or,

"Not Found The procedure entry point in dynamic link library
libiconv_set_relocation_prefix libiconv-2.dll".

And so on, depending on the missing dll file.

This is my environment: Harbor Rev. 14108, PostgreSQL 8.4, Windows Vista

Please any help on these two topics.

Thanks

Regards
Javier Parada
-- 
View this message in context: http://old.nabble.com/Trying-to-run-test-hbpgsql%2C-Error-Argument-error%3APQEXEC-tp27825075p27825075.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Mar  8 13:08:53 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  8 13:09:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14109] trunk/harbour
Message-ID: <E1NohNt-00086I-RW@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14109
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14109&view=rev
Author:   vszakats
Date:     2010-03-08 18:08:39 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 19:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/tests/test.prg
    ! Fixed missing connection parameters from PQ API calls.

  * contrib/hbpgsql/tests/stress.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/tests/stress.prg
    trunk/harbour/contrib/hbpgsql/tests/test.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar  8 13:20:51 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar  8 13:21:07 2010
Subject: [Harbour] Trying to run test hbpgsql, Error Argument error:PQEXEC
In-Reply-To: <27825075.post@talk.nabble.com>
References: <27825075.post@talk.nabble.com>
Message-ID: <58A34314-DCE3-4FA6-8579-F11444ECAB35@syenar.hu>

> I compile the example test.prg of hbpgsql\tests, like this:
> 
> hbmk2 test.prg-Lc:\postgresql\8.4\lib and when I run test displays the
> error:
> 
> "Error BASE/2020 Argument error: PQEXEC
> Called from PQEXEC (0)
> Called from MAIN (40)"

Thanks, these were bugs in test code. They never 
worked, but it's only now that such problems are 
detected by hbpgsql code.

> BTW, why when I try to run the test I have to copy the following dll files.
> 
> libpq.dll, krb5_32.dll, libeay32.dll, libiconv-2.dll, ssleay32.dll
> 
> If I did not copy these files to the folder hbpgsql\test, then I get errors
> like:
> 
> "Not found the ordinal 127 in the dynamic link library libpq.dll", or,

You have sort out the .dlls you use on your system.
libpq.dll must match the import lib you used when 
linking the test app and building Harbour, and the 
other dependent .dlls must match the requirements 
of lippq.dll.

Probably you have multiple of these in your .dll 
search path (PATH, local dir), hence the confusion.

Brgds,
Viktor

From alcisoft at arrakis.es  Mon Mar  8 13:26:09 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Mon Mar  8 13:30:45 2010
Subject: [Harbour] Re: Corruption on Dbf tables
References: <hn35rk$lkp$1@dough.gmane.org>
	<133778361003080750i5169525ekdd94d274a335a34a@mail.gmail.com>
Message-ID: <hn3fnr$unk$1@dough.gmane.org>

Bruno,

.Dbf files 


regards


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100308/68d611db/attachment.html
From druzus at users.sourceforge.net  Mon Mar  8 13:33:51 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar  8 13:33:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14110] trunk/harbour
Message-ID: <E1Nohm3-00035o-C8@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14110
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14110&view=rev
Author:   druzus
Date:     2010-03-08 18:33:49 +0000 (Mon, 08 Mar 2010)

Log Message:
-----------
2010-03-08 19:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/macro.c
    ! fixed buffer overflow caused by wrong pointer type
      ( 'HB_ULONG*' instead of 'int *' )

  * harbour/src/vm/set.c
    ! fixed bug in MT mode - when new thread was created then _SET_PATH
      setting was not cloned but wrongly shared with parent thread - many
      thanks to Rossine for the information

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/macro.c
    trunk/harbour/src/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar  8 14:11:23 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar  8 14:11:32 2010
Subject: [Harbour] Error GPF with hbnetio
In-Reply-To: <27824003.post@talk.nabble.com>
References: <27824003.post@talk.nabble.com>
Message-ID: <20100308191123.GA31764@linux-4bod.home.aster.pl>

On Mon, 08 Mar 2010, Rossine wrote:

Hi,

> The function that is occurring the GPF is "netio_serverstop()"
> Using the example below generates GPF. I include this lines:
> [LINES]
>    set path    to ".\"
>    SET DEFAULT TO ".\"
>    hb_curdrive( "C:" )
>    dirchange( ".\" )
> [ENDLINES]
> [CODE]
[...]
> [ENDCODE]
> Am I doing something wrong ?

Nothing.
It was a bug in MT HVM code which existed from the beginning
but so far no one exploited it.
decoded _SET_PATH structure was wrongly shared between child
threads without cloning. I have just fixed it.
Thank you very much for the information and code example.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Mon Mar  8 14:19:45 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Mar  8 14:19:53 2010
Subject: [Harbour] MT statics vs public
Message-ID: <9257026e1003081119m208a64a2p18a60dd441e016b3@mail.gmail.com>

I am moving my apps desktop apps to web interface.

Since the UI is in another process ( the browser ) is somewhat
difficult to manage wait states so MT is becoming almost necessary.

I've successfully implemented MT in my httpserver and the results are
great, but http apps are made to be ( almost ) stateless while desktop
apps are full of vars that remember selections, global and user
setting, preferences and so on.

Following the CL5 guidelines I've heavily used module wide static vars
and set/get functions to access them but in a MT statics are difficult
to share so the idea is to use a "big" public hash as a "session
holder" where every static become a key with a value and share it
between threads.

What do you think?

Do you see other paths?

best regards,
Lorenzo
From bedipritpal at hotmail.com  Mon Mar  8 14:45:12 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  8 14:45:19 2010
Subject: [Harbour] Re: MT statics vs public
In-Reply-To: <9257026e1003081119m208a64a2p18a60dd441e016b3@mail.gmail.com>
References: <9257026e1003081119m208a64a2p18a60dd441e016b3@mail.gmail.com>
Message-ID: <1268077512241-4697740.post@n2.nabble.com>



Lorenzo Fiorini wrote:
> 
> Following the CL5 guidelines I've heavily used module wide static vars
> and set/get functions to access them but in a MT statics are difficult
> to share so the idea ...
> 

Static variable as declared as STATIC are shared among threads.
Static variables declared as THREAD STATIC have thread wide scope.

I simply use both notations to distinguish the usage.

Przemek will shed more light on this topic, for sure.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/MT-statics-vs-public-tp4697551p4697740.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From qiinfo at ig.com.br  Mon Mar  8 14:56:29 2010
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  8 14:56:35 2010
Subject: [Harbour] Error GPF with hbnetio
In-Reply-To: <20100308191123.GA31764@linux-4bod.home.aster.pl>
References: <27824003.post@talk.nabble.com>
	<20100308191123.GA31764@linux-4bod.home.aster.pl>
Message-ID: <27826644.post@talk.nabble.com>


Hi Przemek,


Przemys?aw Czerpak wrote:
> 
> It was a bug in MT HVM code which existed from the beginning
> but so far no one exploited it.
> decoded _SET_PATH structure was wrongly shared between child
> threads without cloning. I have just fixed it.
> 

OK :)

Work?s fine now :)

Many thank?s for this great tool :)

Best Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Error-GPF-with-hbnetio-tp27824003p27826644.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From abe.buch at att.net  Mon Mar  8 15:10:37 2010
From: abe.buch at att.net (AbeB)
Date: Mon Mar  8 15:10:44 2010
Subject: [Harbour] Re: Error GPF with hbnetio
In-Reply-To: <27826644.post@talk.nabble.com>
References: <27824003.post@talk.nabble.com>
	<20100308191123.GA31764@linux-4bod.home.aster.pl>
	<27826644.post@talk.nabble.com>
Message-ID: <1268079037898-4697914.post@n2.nabble.com>



Rossine wrote:
> 
> 
> Hi Przemek,
> 
> 
> Przemys?aw Czerpak wrote:
>> 
>> It was a bug in MT HVM code which existed from the beginning
>> but so far no one exploited it.
>> decoded _SET_PATH structure was wrongly shared between child
>> threads without cloning. I have just fixed it.
>> 
> 
> OK :)
> 
> Work?s fine now :)
> 
> Many thank?s for this great tool :)
> 
> Best Regards,
> 
> Rossine.
> 
> 
> 

Hi Przemek,

This tool it just GREAT.

I'm using it on a WinCE handheld accessing file on a Novel Netware Server.

Please post more often, i don't read your messages, I _study_ them! :-)

Thanks a zillion,
Abe


-- 
View this message in context: http://n2.nabble.com/Error-GPF-with-hbnetio-tp4696506p4697914.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jparada_a at hotmail.com  Mon Mar  8 15:19:17 2010
From: jparada_a at hotmail.com (jparada)
Date: Mon Mar  8 15:19:24 2010
Subject: [Harbour] Trying to run test hbpgsql, Error Argument error:PQEXEC
In-Reply-To: <58A34314-DCE3-4FA6-8579-F11444ECAB35@syenar.hu>
References: <27825075.post@talk.nabble.com>
	<58A34314-DCE3-4FA6-8579-F11444ECAB35@syenar.hu>
Message-ID: <27826919.post@talk.nabble.com>




> You have sort out the .dlls you use on your system.
> libpq.dll must match the import lib you used when 
> linking the test app and building Harbour, and the 
> other dependent .dlls must match the requirements 
> of lippq.dll.
> 
> Probably you have multiple of these in your .dll 
> search path (PATH, local dir), hence the confusion.
> 

Thanks for the "trick" Viktor, now everything works well

Regards
Javier Parada
-- 
View this message in context: http://old.nabble.com/Trying-to-run-test-hbpgsql%2C-Error-Argument-error%3APQEXEC-tp27825075p27826919.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Mar  8 15:23:49 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  8 15:23:55 2010
Subject: [Harbour] Re: Error GPF with hbnetio
In-Reply-To: <1268079037898-4697914.post@n2.nabble.com>
References: <27824003.post@talk.nabble.com>
	<20100308191123.GA31764@linux-4bod.home.aster.pl>
	<27826644.post@talk.nabble.com>
	<1268079037898-4697914.post@n2.nabble.com>
Message-ID: <1268079829193-4698022.post@n2.nabble.com>



AbeB wrote:
> 
> Please post more often, i don't read your messages, I _study_ them! :-)
> 

Very _WELL_ expressed feeling.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Error-GPF-with-hbnetio-tp4696506p4698022.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Mon Mar  8 20:59:01 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Mar  8 20:59:09 2010
Subject: [Harbour] Can harbour print to STDOUT?
Message-ID: <674e4ddd1003081759v7ab50450p9da112dd02760557@mail.gmail.com>

Hi,

I've googled for something relevant in the dev archives, but haven't found
anything that really is related to my question.

Can harbour print to the STDOUT?  My cute program below does not:

FUNC MAIN()

  PARAM cOne, cTwo

  ? cOne
  ? cTwo

RETURN

Trying to capture the output by piping it in cmd.exe in Windows just won't
do it, as it probably has it's own console writing calls that are beyond my
brain capacity.

Thank you



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100308/5f79d9cd/attachment.html
From jarabal at gmail.com  Mon Mar  8 21:45:37 2010
From: jarabal at gmail.com (Xavi)
Date: Mon Mar  8 21:47:05 2010
Subject: [Harbour] Can harbour print to STDOUT?
In-Reply-To: <674e4ddd1003081759v7ab50450p9da112dd02760557@mail.gmail.com>
References: <674e4ddd1003081759v7ab50450p9da112dd02760557@mail.gmail.com>
Message-ID: <4B95B651.6090900@gmail.com>

> Can harbour print to the STDOUT?  ...

hbmk2 program.prg -gtstd
program.exe >out.txt

-- 
Xavi

El 09/03/2010 2:59, smu johnson escribi?:
> Hi,
>
> I've googled for something relevant in the dev archives, but haven't
> found anything that really is related to my question.
>
> Can harbour print to the STDOUT?  My cute program below does not:
>
> FUNC MAIN()
>
>    PARAM cOne, cTwo
>
>    ? cOne
>    ? cTwo
>
> RETURN
>
> Trying to capture the output by piping it in cmd.exe in Windows just
> won't do it, as it probably has it's own console writing calls that are
> beyond my brain capacity.
>
> Thank you
>
>
>
> --
> smu johnson <smujohnson@gmail.com <mailto:smujohnson@gmail.com>>
>
From marcobra.ubuntu at gmail.com  Mon Mar  8 22:00:39 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Mar  8 22:00:46 2010
Subject: [Harbour] hbIDE and Intellisense
In-Reply-To: <133778361003080735u29bd56aete336f1cd5eca36d6@mail.gmail.com>
References: <1268016203358-4693108.post@n2.nabble.com>
	<133778361003080459k6ed555c3n439c9d7d31fbaba3@mail.gmail.com>
	<609353e71003080621s38b152d3jbed7480b4704038@mail.gmail.com>
	<133778361003080657o58366cebr21e2225d7e69c9d1@mail.gmail.com>
	<609353e71003080704v363ee874x3de343791bbd2bf2@mail.gmail.com>
	<133778361003080735u29bd56aete336f1cd5eca36d6@mail.gmail.com>
Message-ID: <fd76479f1003081900l2a63912cx8bbca469c4c89802@mail.gmail.com>

Bruno thank for the suggestion.

On my GNU Linux Ubuntu computers i usually use vi terminal editor and
sometimes gedit with the highlight mode set as  "c" is a good idea to use
kate (kate is the kde Desktop Environment default installed editor)  to edit
qt related sources files on Gnome (my preferred Desktop Environment) i will
test it .

Just quickly installed now with "sudo apt-get install kate" terminal
command... ;-)
I discover kate have a source/clipper highlight mode (xHarbour).

I think hbide source editor will be the best to edit Harbour sources files
in a GUI framework.

Best regards to all.
-- 
Linux Infinite Freedom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/9eee984b/attachment.html
From lorenzo.fiorini at gmail.com  Tue Mar  9 01:45:42 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar  9 01:45:50 2010
Subject: [Harbour] Re: MT statics vs public
In-Reply-To: <1268077512241-4697740.post@n2.nabble.com>
References: <9257026e1003081119m208a64a2p18a60dd441e016b3@mail.gmail.com>
	<1268077512241-4697740.post@n2.nabble.com>
Message-ID: <9257026e1003082245w71e03657wbbcb849ef316e515@mail.gmail.com>

On Mon, Mar 8, 2010 at 8:45 PM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:

> Static variable as declared as STATIC are shared among threads.
> Static variables declared as THREAD STATIC have thread wide scope.

Many thanks, but I was referring more to the programming style.
In my market desktop is fading away and everything is getting mobile and remote.

When I can deploy gtxwc/gttrm apps on a Linux server everything is
easy, fast and cheap since gtxwc/X11 is supported by Linux, Mac and
Windows and gttrm/putty runs on devices like barcode reader ( usually
Win Ce ) or smartphones. But is getting hard to sell "text interface"
and I need to port my whole applications portfolio to web without
rewrite it from scratch.

So I am trying to migrate to development patterns ( multi-tier, MVC,
application, session ) that can be used "local" ( UI, app logic and
data in the same "domain" ) or remote ( UI on the user device and app
logic and data elsewhere ).

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Mar  9 03:13:40 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  9 03:13:53 2010
Subject: [Harbour] Can harbour print to STDOUT?
In-Reply-To: <674e4ddd1003081759v7ab50450p9da112dd02760557@mail.gmail.com>
References: <674e4ddd1003081759v7ab50450p9da112dd02760557@mail.gmail.com>
Message-ID: <6A267A3B-3795-49AB-9CB2-BC1C278C4B9D@syenar.hu>

Hi Smu,

> I've googled for something relevant in the dev archives, but haven't found anything that really is related to my question.
> 
> Can harbour print to the STDOUT?  My cute program below does not:
> 
> FUNC MAIN()
> 
>   PARAM cOne, cTwo
> 
>   ? cOne
>   ? cTwo
> 
> RETURN
> 
> Trying to capture the output by piping it in cmd.exe in Windows just won't do it, as it probably has it's own console writing calls that are beyond my brain capacity.

Either add '#include "simpleio.ch"' to the top 
of the source file, or use 'OutStd( cOne, hb_osNewLine() )'.

[ This also works in Clipper. ]

Brgds,
Viktor

From maurilio.longo at libero.it  Tue Mar  9 04:26:01 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  9 04:26:12 2010
Subject: [Harbour] recommended C compiler for Win
Message-ID: <4B961429.9040505@libero.it>

Hi,

which is the harbour recommended C compiler for the windows platform?

best regards.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Mar  9 04:30:20 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  9 04:30:31 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <4B961429.9040505@libero.it>
References: <4B961429.9040505@libero.it>
Message-ID: <83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>

Hi,

> which is the harbour recommended C compiler for the windows platform?

mingw (4.4), or msvc (2005 or upper).

[ these msvc versions don't support Win9x, if that's a concern. ]

Brgds,
Viktor

From maurilio.longo at libero.it  Tue Mar  9 04:39:46 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  9 04:39:58 2010
Subject: [Harbour] dlmalloc on OS/2
In-Reply-To: <20100308102441.GA15674@linux-4bod.home.aster.pl>
References: <4B8B8643.8090604@libero.it>	<20100302030348.GA32227@linux-4bod.home.aster.pl>	<4B8D1B14.6030301@libero.it>	<20100307114508.GA25269@linux-4bod.home.aster.pl>	<4B94BE2A.807@libero.it>
	<20100308102441.GA15674@linux-4bod.home.aster.pl>
Message-ID: <4B961762.3000301@libero.it>

Przemyslaw,

Przemys?aw Czerpak wrote:
> On Mon, 08 Mar 2010, Maurilio Longo wrote:
> 
> I believe that you are right but test on shared volumes is not an answer
> because it may depend on host system behavior which can be different then
> native OS2 one so it would be nice if you can verify it for native local
> volumes too. Just to be sure :)
> 
Tested on a local JFS volume, files with 'A' and 'R' or without flags are
shown by current Directory() call.

> I can try to help in this process but final tests have to be done by real
> OS2 users.
> Seems that the following files should be updated:
>    filesys.c (hb_fsOpen(), hb_fsCreate(), hb_fsCreateEx(), hb_fsClose(),
>               hb_fsSetDevMode()?, hb_fsIsDevice()?
>               hb_fsGetFileTime(), hb_fsEof(),
>               hb_fsRead(), hb_fsWrite(), hb_fsReadLarge(), hb_fsWriteLarge(),
>               hb_fsReadAt() (64bit offsets support),
>               hb_fsWriteAt() (64bit offsets support),
>               hb_fsTruncAt() (64bit offsets support),
>               hb_fsLockLarge() (64bit offsets support),
>               hb_fsSeekLarge() (64bit offsets support),
>               hb_fsDelete(), hb_fsRename(), hb_fsMkDir(), hb_fsChDir(),
>               hb_fsRmDir()
>    fstemp.c
>    fssize.c (it should be updated also for native MS-Win builds to eliminate
>              CRTL stat() function)
>    hbffind.c (hb_fsFindNextLow() (64bit file size support))
> 
> Do you seen any potential problems in switching to native OS2 API in above
> functions?
> 
I don't think that there could be problems, given that in the end CRTL uses
the same APIs. The only problem could come from calling some CRTL with handles
received by native APIs which could not be known to the CRTL.

I remember a problem when I moved a part of xHarbour calls to API native ones,
but I don't remember all the details; that said, if all file I/O goes through
native APIs there can be no problem at all.

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Mar  9 04:48:59 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  9 04:49:14 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>
References: <4B961429.9040505@libero.it>
	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>
Message-ID: <4B96198B.2010608@libero.it>

Viktor,

is mingw able to create stand-alone .EXEs and or .DLLs or does it require to
deliver some runtime code with them?

Best regards.

Maurilio.

Viktor Szak?ts wrote:
> Hi,
> 
>> which is the harbour recommended C compiler for the windows platform?
> 
> mingw (4.4), or msvc (2005 or upper).
> 
> [ these msvc versions don't support Win9x, if that's a concern. ]
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Mar  9 05:05:56 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  9 05:06:07 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <4B96198B.2010608@libero.it>
References: <4B961429.9040505@libero.it>
	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>
	<4B96198B.2010608@libero.it>
Message-ID: <499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>

> is mingw able to create stand-alone .EXEs and or .DLLs or does it require to
> deliver some runtime code with them?

mingw in context of Harbour requires only standard msvcrt.dll.

(hbqt additionally requires mingwm10.dll, but it's an "issue" 
with QT)

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Tue Mar  9 05:12:20 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Mar  9 05:12:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14111] trunk/harbour
Message-ID: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14111
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14111&view=rev
Author:   vouchcac
Date:     2010-03-09 10:12:01 +0000 (Tue, 09 Mar 2010)

Log Message:
-----------
2010-03-09 02:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbslots.cpp
  * contrib/hbqt/hbqt_hbslots.h
    + Added more slots for QTableWidget().

  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h

  * contrib/hbqt/doc/en/class_hbqplaintextedit.txt
  * contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
  * contrib/hbqt/qtgui/THBQPlainTextEdit.prg
  * contrib/hbqt/qth/HBQPlainTextEdit.qth
    + Added method hbShowPrototype().
    ! All existing methods prefixed with "hb".
      Please update your code if it relies on HBQPlaintTextEdit().

  * contrib/hbqt/THbQtUI.prg
    ! More optimization in destructor.

  * contrib/hbide/resources/environments.ui
  * contrib/hbide/resources/environments.uic
  * contrib/hbide/resources/selectionlist.ui
  * contrib/hbide/resources/selectionlist.uic
    ! Simplified grid layouts.

  * contrib/hbide/hbide.ch

  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/ideenviron.prg
  * contrib/hbide/idefindreplace.prg
  + contrib/hbide/idefunctions.prg
  * contrib/hbide/ideharbourhelp.prg
  * contrib/hbide/idehome.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idesaveload.prg
  * contrib/hbide/idethemes.prg
   
    + Implemented: next step of "intellisense" by way of tagging 
      the functions prototypes. For its realization, added one 
      more docking widget containing controls to execute 
      required actions which can be activated via right-toolbar icon.

    + Rearranged icons on the right-toolbar as per logical 
      distribution. The same scheme is applied in "View" menu.

    + Implemented one more panel in statusbar to show current theme.

    ! Simplified editor-tabs methods for more grandalurity.

      This commit implements next level of intellisense. 
      How it works:

        1. Click on "ffn" icon on the right-toolbar or select 
           "Projects Functions Lookup" in "View" menu.
        2. In the opened dock-widget, click on "Mark Projects" button.
        3. On the top of widget, a list of all projects loaded will appear.
        4. Click in the little check boxes left to the project titles.
           You can choose n number of combinations.
        5. Click on "Re-Tag" button, if this is the first time you are 
           tagging project(s), or "Load Tags" if you already have tagged before.
        6. Keep a watch on right-corner of "Syntax" box, it will show the 
           running commentary. 
        7. After a while the table above will be populated with function info:
             Name  Type  Line  Project  Source.
        8. Type some alphabets in the top-most edit control. It will 
           position the function matching the typed characters in the table.
        9. Double-click on some function in the table, it will be opened 
           in the editor.

      Now the "intellisense" part, above was basic mechanism to gather contents:
 
        1. Type in the editor a function name which you think must have made up
           in the exercise carried above. The moment you will type "(" a nicely 
           formatted tooltip, displying the prototype of this function will 
           appear beneth the caret position. The prototype will remain there for 
           10 seconds ( finding a way how it can be controlled the way I want ). 

        2. Position editor caret somewhere in some function characters and 
           activate context menu with right click. Select "Goto Function" option.
           It will open the underlying source with cursor positioned on the 
           function proto. Siultaneously, the function will be made current 
           in the table in "Projects Functions Lookup" widget.
     
      More is on the way, please forward shortcomings of above mechanism.

      NOTE: A point to cheer, this commit do not produce GPF at exit.
      ====  It is tested with mingw 4.4.0. However, MSVC 8.0 still generates.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/ideenviron.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/idehome.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbide/resources/environments.ui
    trunk/harbour/contrib/hbide/resources/environments.uic
    trunk/harbour/contrib/hbide/resources/selectionlist.ui
    trunk/harbour/contrib/hbide/resources/selectionlist.uic
    trunk/harbour/contrib/hbqt/THbQtUI.prg
    trunk/harbour/contrib/hbqt/doc/en/class_hbqplaintextedit.txt
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbslots.h
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idefunctions.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Tue Mar  9 05:53:24 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  9 05:53:34 2010
Subject: [Harbour] Can harbour print to STDOUT?
In-Reply-To: <6A267A3B-3795-49AB-9CB2-BC1C278C4B9D@syenar.hu>
References: <674e4ddd1003081759v7ab50450p9da112dd02760557@mail.gmail.com>
	<6A267A3B-3795-49AB-9CB2-BC1C278C4B9D@syenar.hu>
Message-ID: <674e4ddd1003090253n3f1cd043p7bfc325d26299e01@mail.gmail.com>

Many thanks, keep up the great work!

On Tue, Mar 9, 2010 at 12:13 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi Smu,
>
> > I've googled for something relevant in the dev archives, but haven't
> found anything that really is related to my question.
> >
> > Can harbour print to the STDOUT?  My cute program below does not:
> >
> > FUNC MAIN()
> >
> >   PARAM cOne, cTwo
> >
> >   ? cOne
> >   ? cTwo
> >
> > RETURN
> >
> > Trying to capture the output by piping it in cmd.exe in Windows just
> won't do it, as it probably has it's own console writing calls that are
> beyond my brain capacity.
>
> Either add '#include "simpleio.ch"' to the top
> of the source file, or use 'OutStd( cOne, hb_osNewLine() )'.
>
> [ This also works in Clipper. ]
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/fe9b2f20/attachment.html
From smujohnson at gmail.com  Tue Mar  9 05:54:49 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  9 05:54:57 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
References: <4B961429.9040505@libero.it>
	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>
	<4B96198B.2010608@libero.it>
	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
Message-ID: <674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>

It should be stated that the best one might be the one Harbour uses, which
is not the official MinGW release, but Twilight Dragon Media's release,
which is a build of a newer version of MinGW GCC.

On Tue, Mar 9, 2010 at 2:05 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> > is mingw able to create stand-alone .EXEs and or .DLLs or does it require
> to
> > deliver some runtime code with them?
>
> mingw in context of Harbour requires only standard msvcrt.dll.
>
> (hbqt additionally requires mingwm10.dll, but it's an "issue"
> with QT)
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/4d096803/attachment.html
From smujohnson at gmail.com  Tue Mar  9 06:04:48 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  9 06:04:58 2010
Subject: [Harbour] What does Harbour's SQL support really mean?
Message-ID: <674e4ddd1003090304g1e3fe41fjb2e294541866ac55@mail.gmail.com>

Hi again,

I have set my browser homepage to the Harbour Project a month or two ago,
and I have been thinking about it's MySQL support as well as seeing some
commit logs by Viktor.  I was wondering, when Harbour says it has SQL
support and etc, modern technologies, I was wondering if the include libs
allowed MySQL control using an abstraction layer via the regular Clipper
database navigation commands... or one had to write queries in SQL.

PS:  There is a typo on the main site... the word technologies is missing
the 'h'.

Thanks for reading!

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/00d0e1bf/attachment.html
From harbour.01 at syenar.hu  Tue Mar  9 06:22:50 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  9 06:23:01 2010
Subject: [Harbour] What does Harbour's SQL support really mean?
In-Reply-To: <674e4ddd1003090304g1e3fe41fjb2e294541866ac55@mail.gmail.com>
References: <674e4ddd1003090304g1e3fe41fjb2e294541866ac55@mail.gmail.com>
Message-ID: <56BB6D56-F642-471B-95AA-60804FEA4BB9@syenar.hu>

> I have set my browser homepage to the Harbour Project a month or two ago, and I have been thinking about it's MySQL support as well as seeing some commit logs by Viktor.  I was wondering, when Harbour says it has SQL support and etc, modern technologies, I was wondering if the include libs allowed MySQL control using an abstraction layer via the regular Clipper database navigation commands... or one had to write queries in SQL.

In my "standard" the SQL claim on our homepage is not 
fully justified (XML can also be disputed).

"SQL" as such doesn't exist, and especially not as 
locally implemented feature in Harbour. What Harbour 
has is interfaces to known clients, with various 
level of support.

PGSQL - rddsql, bindings, wrapper class, limited rdd on top of wrapper class 
MYSQL - rddsql, bindings, wrapper class
SQLITE3 - rddsql, bindings
ORACLE - rddsql (via ocilib)
ODBC - rddsql, bindings, wrapper class
ADO - broken rdd using OLE interface

> PS:  There is a typo on the main site... the word technologies is missing the 'h'.

I hope Vailton sees this and can fix it. Thx.

Brgds,
Viktor

From maurilio.longo at libero.it  Tue Mar  9 06:52:02 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  9 06:52:15 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
Message-ID: <4B963662.6090508@libero.it>

Smu,

what are the differences between mingw and dragon media?

Maurilio.

smu johnson wrote:
> It should be stated that the best one might be the one Harbour uses,
> which is not the official MinGW release, but Twilight Dragon Media's
> release, which is a build of a newer version of MinGW GCC.
> 
> On Tue, Mar 9, 2010 at 2:05 AM, Viktor Szak?ts <harbour.01@syenar.hu
> <mailto:harbour.01@syenar.hu>> wrote:
> 
>     > is mingw able to create stand-alone .EXEs and or .DLLs or does it
>     require to
>     > deliver some runtime code with them?
> 
>     mingw in context of Harbour requires only standard msvcrt.dll.
> 
>     (hbqt additionally requires mingwm10.dll, but it's an "issue"
>     with QT)
> 
>     Brgds,
>     Viktor
> 
>     _______________________________________________
>     Harbour mailing list (attachment size limit: 40KB)
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com <mailto:smujohnson@gmail.com>>
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Tue Mar  9 08:32:19 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  9 08:32:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14112] trunk/harbour
Message-ID: <E1NozXn-0007Zy-TC@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14112
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14112&view=rev
Author:   vszakats
Date:     2010-03-09 13:32:05 +0000 (Tue, 09 Mar 2010)

Log Message:
-----------
2010-03-09 14:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/hbini.prg
    * Deleted several unnecessary empty lines at EOF.

  * INSTALL
    * Minor.

  * include/dbinfo.ch
    * Formatting.

  + include/hb.ch
  * include/Makefile
    + Added Harbour header which #includes commonly used in
      applications.
      It also enables us to easily extend standard set of macros
      and constants.

  * contrib/hbide/idesaveload.prg
    * "hbide.set" -> "hbidewnd.ini". At least it uses standard
      extension. Still wrong solution and a remaining TOFIX.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/include/Makefile
    trunk/harbour/include/dbinfo.ch
    trunk/harbour/src/rtl/hbini.prg

Added Paths:
-----------
    trunk/harbour/include/hb.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Mar  9 10:19:00 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  9 10:19:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>

after recompiling harbour with clean install
deleted *.ini,*.set
when start hbide remain spash screen must terminate process


2010/3/9  <vouchcac@users.sourceforge.net>:
> Revision: 14111
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14111&view=rev
> Author: ? vouchcac
> Date: ? ? 2010-03-09 10:12:01 +0000 (Tue, 09 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-09 02:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbqt/hbqt_hbslots.cpp
> ?* contrib/hbqt/hbqt_hbslots.h
> ? ?+ Added more slots for QTableWidget().
>
> ?* contrib/hbqt/hbqt_hbqplaintextedit.cpp
> ?* contrib/hbqt/hbqt_hbqplaintextedit.h
>
> ?* contrib/hbqt/doc/en/class_hbqplaintextedit.txt
> ?* contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
> ?* contrib/hbqt/qtgui/THBQPlainTextEdit.prg
> ?* contrib/hbqt/qth/HBQPlainTextEdit.qth
> ? ?+ Added method hbShowPrototype().
> ? ?! All existing methods prefixed with "hb".
> ? ? ?Please update your code if it relies on HBQPlaintTextEdit().
>
> ?* contrib/hbqt/THbQtUI.prg
> ? ?! More optimization in destructor.
>
> ?* contrib/hbide/resources/environments.ui
> ?* contrib/hbide/resources/environments.uic
> ?* contrib/hbide/resources/selectionlist.ui
> ?* contrib/hbide/resources/selectionlist.uic
> ? ?! Simplified grid layouts.
>
> ?* contrib/hbide/hbide.ch
>
> ?* contrib/hbide/hbide.hbp
> ?* contrib/hbide/hbide.prg
> ?* contrib/hbide/ideactions.prg
> ?* contrib/hbide/idedocks.prg
> ?* contrib/hbide/ideeditor.prg
> ?* contrib/hbide/ideenviron.prg
> ?* contrib/hbide/idefindreplace.prg
> ?+ contrib/hbide/idefunctions.prg
> ?* contrib/hbide/ideharbourhelp.prg
> ?* contrib/hbide/idehome.prg
> ?* contrib/hbide/idemisc.prg
> ?* contrib/hbide/ideobject.prg
> ?* contrib/hbide/ideprojmanager.prg
> ?* contrib/hbide/idesaveload.prg
> ?* contrib/hbide/idethemes.prg
>
> ? ?+ Implemented: next step of "intellisense" by way of tagging
> ? ? ?the functions prototypes. For its realization, added one
> ? ? ?more docking widget containing controls to execute
> ? ? ?required actions which can be activated via right-toolbar icon.
>
> ? ?+ Rearranged icons on the right-toolbar as per logical
> ? ? ?distribution. The same scheme is applied in "View" menu.
>
> ? ?+ Implemented one more panel in statusbar to show current theme.
>
> ? ?! Simplified editor-tabs methods for more grandalurity.
>
> ? ? ?This commit implements next level of intellisense.
> ? ? ?How it works:
>
> ? ? ? ?1. Click on "ffn" icon on the right-toolbar or select
> ? ? ? ? ? "Projects Functions Lookup" in "View" menu.
> ? ? ? ?2. In the opened dock-widget, click on "Mark Projects" button.
> ? ? ? ?3. On the top of widget, a list of all projects loaded will appear.
> ? ? ? ?4. Click in the little check boxes left to the project titles.
> ? ? ? ? ? You can choose n number of combinations.
> ? ? ? ?5. Click on "Re-Tag" button, if this is the first time you are
> ? ? ? ? ? tagging project(s), or "Load Tags" if you already have tagged before.
> ? ? ? ?6. Keep a watch on right-corner of "Syntax" box, it will show the
> ? ? ? ? ? running commentary.
> ? ? ? ?7. After a while the table above will be populated with function info:
> ? ? ? ? ? ? Name ?Type ?Line ?Project ?Source.
> ? ? ? ?8. Type some alphabets in the top-most edit control. It will
> ? ? ? ? ? position the function matching the typed characters in the table.
> ? ? ? ?9. Double-click on some function in the table, it will be opened
> ? ? ? ? ? in the editor.
>
> ? ? ?Now the "intellisense" part, above was basic mechanism to gather contents:
>
> ? ? ? ?1. Type in the editor a function name which you think must have made up
> ? ? ? ? ? in the exercise carried above. The moment you will type "(" a nicely
> ? ? ? ? ? formatted tooltip, displying the prototype of this function will
> ? ? ? ? ? appear beneth the caret position. The prototype will remain there for
> ? ? ? ? ? 10 seconds ( finding a way how it can be controlled the way I want ).
>
> ? ? ? ?2. Position editor caret somewhere in some function characters and
> ? ? ? ? ? activate context menu with right click. Select "Goto Function" option.
> ? ? ? ? ? It will open the underlying source with cursor positioned on the
> ? ? ? ? ? function proto. Siultaneously, the function will be made current
> ? ? ? ? ? in the table in "Projects Functions Lookup" widget.
>
> ? ? ?More is on the way, please forward shortcomings of above mechanism.
>
> ? ? ?NOTE: A point to cheer, this commit do not produce GPF at exit.
> ? ? ?==== ?It is tested with mingw 4.4.0. However, MSVC 8.0 still generates.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/hbide/hbide.ch
> ? ?trunk/harbour/contrib/hbide/hbide.hbp
> ? ?trunk/harbour/contrib/hbide/hbide.prg
> ? ?trunk/harbour/contrib/hbide/ideactions.prg
> ? ?trunk/harbour/contrib/hbide/idedocks.prg
> ? ?trunk/harbour/contrib/hbide/ideeditor.prg
> ? ?trunk/harbour/contrib/hbide/ideenviron.prg
> ? ?trunk/harbour/contrib/hbide/idefindreplace.prg
> ? ?trunk/harbour/contrib/hbide/ideharbourhelp.prg
> ? ?trunk/harbour/contrib/hbide/idehome.prg
> ? ?trunk/harbour/contrib/hbide/idemisc.prg
> ? ?trunk/harbour/contrib/hbide/ideobject.prg
> ? ?trunk/harbour/contrib/hbide/ideprojmanager.prg
> ? ?trunk/harbour/contrib/hbide/idesaveload.prg
> ? ?trunk/harbour/contrib/hbide/idethemes.prg
> ? ?trunk/harbour/contrib/hbide/resources/environments.ui
> ? ?trunk/harbour/contrib/hbide/resources/environments.uic
> ? ?trunk/harbour/contrib/hbide/resources/selectionlist.ui
> ? ?trunk/harbour/contrib/hbide/resources/selectionlist.uic
> ? ?trunk/harbour/contrib/hbqt/THbQtUI.prg
> ? ?trunk/harbour/contrib/hbqt/doc/en/class_hbqplaintextedit.txt
> ? ?trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
> ? ?trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
> ? ?trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
> ? ?trunk/harbour/contrib/hbqt/hbqt_hbslots.h
> ? ?trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
> ? ?trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
> ? ?trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth
>
> Added Paths:
> -----------
> ? ?trunk/harbour/contrib/hbide/idefunctions.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From wcshum88 at hotmail.com  Tue Mar  9 11:18:12 2010
From: wcshum88 at hotmail.com (Shum)
Date: Tue Mar  9 11:18:18 2010
Subject: [Harbour] Ask for a table for listing all function among ...
Message-ID: <1268151492461-4702296.post@n2.nabble.com>


Hi All,

I want to ask any one has a table (file) 
which listing all function and or class and methods for
Harbour/Clipper/Xbase++ ....

I need it easy checking and finding those function ....

Thasnk in-advanced !


Shum 
-- 
View this message in context: http://n2.nabble.com/Ask-for-a-table-for-listing-all-function-among-tp4702296p4702296.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Tue Mar  9 11:29:47 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  9 11:29:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>,
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
Message-ID: <SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>


<quote>

> after recompiling harbour with clean install
> deleted *.ini,*.set
> when start hbide remain spash screen must terminate process
</quote>

 

Do anybody else experiencing this ?

 

If the splash screen remains, it means hbIDE do not show up.

In such case if you look at task-bar of window, one more window

must be there, right-click onto that and select "Move", then press

left-arrow key repeatedly, the info dialog will come into focus.

Tell me, the contents of that info dialog.

 

Any error or info is hidden behind the splash screen.

Regards
 
Pritpal Bedi, a student of software analysis and design
http://www.vouch.in  | Vouch, the software that GROWS with you
http://www.vouch32.com  |  Home of Vouch32 ActiveX Server
http://www.vouchcac.com/vouch32/vouch32.htm   |   A Free Windows Extended
Utilities Library for Clipper, Xbase++ and (x)Harbour
http://www.help.vouch.info | Online Vouch Help
http://www.harbour.vouch.info | Online Harbour Help





 		 	   		  
_________________________________________________________________
Hotmail: Trusted email with powerful SPAM protection.
http://clk.atdmt.com/GBL/go/201469227/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/3b87591d/attachment.html
From bedipritpal at hotmail.com  Tue Mar  9 11:30:59 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  9 11:31:07 2010
Subject: [Harbour] Ask for a table for listing all function among ...
In-Reply-To: <1268151492461-4702296.post@n2.nabble.com>
References: <1268151492461-4702296.post@n2.nabble.com>
Message-ID: <SNT123-W122F5D105D635ED0554FFA7340@phx.gbl>


Hi


> I want to ask any one has a table (file) 
> which listing all function and or class and methods for
> Harbour/Clipper/Xbase++ ....
> 
> I need it easy checking and finding those function ....


Just play with latest hbIDE. This has this feature, added yesterday only.


Regards
 
Pritpal Bedi, a student of software analysis and design
http://www.vouch.in  | Vouch, the software that GROWS with you
http://www.vouch32.com  |  Home of Vouch32 ActiveX Server
http://www.vouchcac.com/vouch32/vouch32.htm   |   A Free Windows Extended
Utilities Library for Clipper, Xbase++ and (x)Harbour
http://www.help.vouch.info | Online Vouch Help
http://www.harbour.vouch.info | Online Harbour Help



 		 	   		  
_________________________________________________________________
Your E-mail and More On-the-Go. Get Windows Live Hotmail Free.
http://clk.atdmt.com/GBL/go/201469229/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/a2ce5669/attachment.html
From bruno.luciani at gmail.com  Tue Mar  9 11:36:43 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar  9 11:36:51 2010
Subject: [Harbour] Error in windows and Postgres
Message-ID: <133778361003090836h33e9226bs46166f31ad46d8f0@mail.gmail.com>

I get this error compiling a sample in windows ( i am noy using hbmk2 in
this sample )

what library or include is missing ?

Bruno


C:\harbour\lib/libhbpgsql.a(pgrdd.o):pgrdd.c:(.data+0xd8): undefined
reference to `HB_FUN_USRRDD_RDDDATA'
C:\harbour\lib/libhbpgsql.a(pgrdd.o):pgrdd.c:(.data+0xf8): undefined
reference to `HB_FUN_USRRDD_AREADATA'
C:\harbour\lib/libhbpgsql.a(pgrdd.o):pgrdd.c:(.data+0x1d8): undefined
reference to `HB_FUN_UR_SUPER_ERROR'
C:\harbour\lib/libhbpgsql.a(pgrdd.o):pgrdd.c:(.data+0x1e8): undefined
reference to `HB_FUN_UR_SUPER_SETFIELDEXTENT'
C:\harbour\lib/libhbpgsql.a(pgrdd.o):pgrdd.c:(.data+0x218): undefined
reference to `HB_FUN_UR_SUPER_ADDFIELD'
C:\harbour\lib/libhbpgsql.a(pgrdd.o):pgrdd.c:(.data+0x228): undefined
reference to `HB_FUN_UR_SUPER_OPEN'
C:\harbour\lib/libhbpgsql.a(pgrdd.o):pgrdd.c:(.data+0x248): undefined
reference to `HB_FUN_UR_SUPER_CLOSE'
C:\harbour\lib/libhbpgsql.a(pgrdd.o):pgrdd.c:(.data+0x448): undefined
reference to `HB_FUN_USRRDD_GETFUNCTABLE'
collect2: ld returned 1 exit status
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/6500840d/attachment.html
From alcisoft at arrakis.es  Tue Mar  9 11:09:06 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Tue Mar  9 12:14:53 2010
Subject: [Harbour] Re: Corruption on Dbf tables
References: <hn35rk$lkp$1@dough.gmane.org>
Message-ID: <hn5s31$eak$1@dough.gmane.org>

>From Advantage:

>>>>>>>>>>>>>>>
Hi Corinna,
I probably don't have anything to mention that you have not thought about.
In addition to what John mentioned, some potential issues that I can think
of include the following:

Bad hard drive (or possibly a bad hard drive controller):  This could result
in bad data being written or read incorrectly.  This type of thing could
lead to "random" characters appearing in fields.  This type of problem can
generally be detected by running various disk utilities.

Bad memory:  This normally would result in all kinds of flaky computer
behavior but could potentially hide itself and result in garbage being
written to a table.  I don't think bad memory is a very common problem, but
we have experienced it in some of our test system computers on a few rare
occasions.  Again, this can be checked pretty easily with system utilities.
Power outage:  This could possibly result in data not being written to the
disk.  In general, I would normally expect this to be a problem only with
indexes not being updated correctly.  It does not seem likely to me that
random data could end up in a record because of a power outage (at least I
am not aware of any situations like this). The record simply would not be
written normally. Sometimes it is possible for an appended record to be
blank due to a power outage (the file is physically grown for the new record
but the actual record never gets written), but this would normally have
zeros (probably appear as NULLs).

Crashed application:  I would think this normally would have results much
like a power outage; the data simply would not get written.  With an
Advantage Local Server application, any client crash (or turned-off
computer) can result in problems.  With Advantage Database Server, a crashed
client application would not result in corrupt data.  If Advantage crashes,
however, it could result in data not being written (and we would want to
know about any of these cases).

Memory overwrites:  And finally there is the "bugs in the code" case.  Any
bugs in Advantage that would result in corrupt data are obviously a high
priority item for us to fix.  But it is possible for bugs in a client
application to result in garbage data.  A memory overwrite in the client
application could trash the record buffer before it is sent to the server.
The record could end up on disk with whatever data was in it from the
client.
Probably none of this is new/useful.  However if you can send an example
table with to us (advantage@ianywhere.com), we can possibly determine what
might have happened.  Error logs from the time of the problem would also be
extremely useful.
Mark Wilkins
Advantage R&D
"Corinna" <corinna@vestanotes.com> wrote in message
news:4586c010@solutions.advantagedatabase.com...
>I would like to know what the various causes of table corruption (not index
>corruption) are. I have a customer who has experienced corruption in a
>couple of tables over the last few months.  Are there KB articles about
>this? I didn't have much luck searching.
>
> I know one cause is a power outage-- that happened once to them, then they
> got a UPS. Is it possible for the UPS to not deliver enough voltage (or
> whatever), and cause data corruption even if it appears that the server is
> working fine?
>
> Mostly what we've seen is hosed date fields, and random characters in char
> fields.
>
> -Corinna
>>>>>>>>>>>>>>>

Regards
















Antonio Martinez escribi en mensaje ...
>Hi to all,
>
>a question:
>
>Why a .dbf table goes to corrupted ?
>
>Perhaps, break energy ?
>Perhaps, shutdown computer (user) ?
>Perhaps, Clipper and Harbour using the same dbf tables ?
>Perhaps, Windows protocols (SMB) against system file based ?
>Perhaps, ....?
>
>
>
>Regards
>
>
>
>



From harbour.01 at syenar.hu  Tue Mar  9 13:03:33 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  9 13:14:05 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>,
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
Message-ID: <B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>

Yes, I had it after recent 2 or 3 modifications, I had to make 
a full Harbour rebuild to fix it.

Brgds,
Viktor

On 2010 Mar 9, at 17:29, Pritpal Bedi wrote:

> <quote>
> > after recompiling harbour with clean install
> > deleted *.ini,*.set
> > when start hbide remain spash screen must terminate process
> </quote>
>  
> Do anybody else experiencing this ?
>  
> If the splash screen remains, it means hbIDE do not show up.
> In such case if you look at task-bar of window, one more window
> must be there, right-click onto that and select "Move", then press
> left-arrow key repeatedly, the info dialog will come into focus.
> Tell me, the contents of that info dialog.
>  
> Any error or info is hidden behind the splash screen.
> 
> Regards
>  
> Pritpal Bedi, a student of software analysis and design
> http://www.vouch.in  | Vouch, the software that GROWS with you
> http://www.vouch32.com  |  Home of Vouch32 ActiveX Server
> http://www.vouchcac.com/vouch32/vouch32.htm   |   A Free Windows Extended
> Utilities Library for Clipper, Xbase++ and (x)Harbour
> http://www.help.vouch.info | Online Vouch Help
> http://www.harbour.vouch.info | Online Harbour Help
> 
> 
> 
> 
> 
> 
> Hotmail: Trusted email with powerful SPAM protection. Sign up now._______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Tue Mar  9 13:57:12 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  9 13:57:19 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
	<B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>
Message-ID: <1268161032967-4704349.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Yes, I had it after recent 2 or 3 modifications, I had to make 
> a full Harbour rebuild to fix it.
> 

Oh, I forget to mention that hbqt+ libs and hbsbp.lib 
needed to be rebuild. 

How about GPF at exit ? You are still experiencing 
or it is fixed. On my system all works fine.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14111-trunk-harbour-tp4701242p4704349.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Tue Mar  9 13:58:37 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  9 13:58:44 2010
Subject: [Harbour] Re: Error in windows and Postgres
In-Reply-To: <133778361003090836h33e9226bs46166f31ad46d8f0@mail.gmail.com>
References: <133778361003090836h33e9226bs46166f31ad46d8f0@mail.gmail.com>
Message-ID: <1268161117385-4704359.post@n2.nabble.com>



Bruno Luciani wrote:
> 
> I get this error compiling a sample in windows ( i am noy using hbmk2 in
> this sample )
> 
> what library or include is missing ?
> 

usrrdd or probably hbusrrdd.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Error-in-windows-and-Postgres-tp4703299p4704359.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Tue Mar  9 14:00:01 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  9 14:00:13 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <1268161032967-4704349.post@n2.nabble.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
	<B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>
	<1268161032967-4704349.post@n2.nabble.com>
Message-ID: <712F3899-ECDA-4603-9C78-5AB6616A6930@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> Yes, I had it after recent 2 or 3 modifications, I had to make 
>> a full Harbour rebuild to fix it.
>> 
> 
> Oh, I forget to mention that hbqt+ libs and hbsbp.lib 
> needed to be rebuild. 

I do the as routine, but it didn't help.
First I though that it's pcode version, 
but it happened again yesterday (or before 
yesterday), so this wasn't the issue.

> How about GPF at exit ? You are still experiencing 
> or it is fixed. On my system all works fine.

Sorry, couldn't test it yet.

Brgds,
VIktor

From mbelgrano at deltain.it  Tue Mar  9 14:25:22 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  9 14:25:51 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <1268161032967-4704349.post@n2.nabble.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com> 
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com> 
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
	<B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu> 
	<1268161032967-4704349.post@n2.nabble.com>
Message-ID: <609353e71003091125k6c000460u84410632de01ed00@mail.gmail.com>

Impossible starting program because qtcore4.dll not present in computer
i have path to c:\qt\4.5.5.3\bin and and here i have have qtcore4.dll
Must delete my qt and reinstall qt?


2010/3/9 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>Oh, I forget to mention that hbqt+ libs and hbsbp.lib
>needed to be rebuild.
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Tue Mar  9 14:41:31 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  9 14:41:39 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <609353e71003091125k6c000460u84410632de01ed00@mail.gmail.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
	<B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>
	<1268161032967-4704349.post@n2.nabble.com>
	<609353e71003091125k6c000460u84410632de01ed00@mail.gmail.com>
Message-ID: <1268163691239-4704634.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Impossible starting program because qtcore4.dll not present in computer
> i have path to c:\qt\4.5.5.3\bin and and here i have have qtcore4.dll
> Must delete my qt and reinstall qt?
> 

You do not have to do anything.
I found the issue. I did not upload "funclist" .ui and .uic.
Uploading soon.

Sorry for the inconvinience.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14111-trunk-harbour-tp4701242p4704634.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From itamarlins at gmail.com  Tue Mar  9 14:41:19 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Tue Mar  9 14:41:45 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <609353e71003091125k6c000460u84410632de01ed00@mail.gmail.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>	<B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>
	<1268161032967-4704349.post@n2.nabble.com>
	<609353e71003091125k6c000460u84410632de01ed00@mail.gmail.com>
Message-ID: <hn688q$650$1@dough.gmane.org>

Em 9/3/2010 16:25, Massimo Belgrano escreveu:
> Impossible starting program because qtcore4.dll not present in computer
> i have path to c:\qt\4.5.5.3\bin and and here i have have qtcore4.dll
> Must delete my qt and reinstall qt?
>
>
> 2010/3/9 Pritpal Bedi<bedipritpal@hotmail.com>:
>>
>> Oh, I forget to mention that hbqt+ libs and hbsbp.lib
>> needed to be rebuild.
>>
>
>
>
C:\Qt\2009.04\qt\bin

Because exist 2 files qtcore4.dll
here C:\Qt\2009.04\bin, not correct,
and here C:\Qt\2009.04\qt\bin correct.

This link you found hbide changelog 03/08/2010
http://www.4shared.com/dir/21511790/65b86ef2/sharing.html

Best regards,
Itamar M. Lins Jr.


From vouchcac at users.sourceforge.net  Tue Mar  9 15:04:26 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Mar  9 15:04:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14113] trunk/harbour
Message-ID: <E1Np5fG-0008Jy-38@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14113
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14113&view=rev
Author:   vouchcac
Date:     2010-03-09 20:04:24 +0000 (Tue, 09 Mar 2010)

Log Message:
-----------

2010-03-09 12:06 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/ffn.png
  + contrib/hbide/resources/funclist.ui
  + contrib/hbide/resources/funclist.uic
    + Added missing files from prev commit.
      Sorry, it has happened again, probably late-night phenomena.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/ffn.png
    trunk/harbour/contrib/hbide/resources/funclist.ui
    trunk/harbour/contrib/hbide/resources/funclist.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Tue Mar  9 15:05:53 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar  9 15:06:04 2010
Subject: [Harbour] Re: Error in windows and Postgres
In-Reply-To: <1268161117385-4704359.post@n2.nabble.com>
References: <133778361003090836h33e9226bs46166f31ad46d8f0@mail.gmail.com>
	<1268161117385-4704359.post@n2.nabble.com>
Message-ID: <133778361003091205r54e8b0b9ge6a329ac2ce0ae18@mail.gmail.com>

Thanks Pritpal

2010/3/9 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Bruno Luciani wrote:
> >
> > I get this error compiling a sample in windows ( i am noy using hbmk2 in
> > this sample )
> >
> > what library or include is missing ?
> >
>
> usrrdd or probably hbusrrdd.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Error-in-windows-and-Postgres-tp4703299p4704359.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/f6f0ac8a/attachment-0001.html
From vouchcac at users.sourceforge.net  Tue Mar  9 15:15:27 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Mar  9 15:15:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14114] trunk/harbour
Message-ID: <E1Np5pv-0008WQ-32@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14114
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14114&view=rev
Author:   vouchcac
Date:     2010-03-09 20:15:25 +0000 (Tue, 09 Mar 2010)

Log Message:
-----------
2010-03-09 12:18 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/funclist.ui
  * contrib/hbide/resources/funclist.uic
    ! Fixed a bad type.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/resources/funclist.ui
    trunk/harbour/contrib/hbide/resources/funclist.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Tue Mar  9 15:30:37 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Mar  9 15:30:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14115] trunk/harbour
Message-ID: <E1Np64b-0000MZ-1B@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14115
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14115&view=rev
Author:   vouchcac
Date:     2010-03-09 20:30:35 +0000 (Tue, 09 Mar 2010)

Log Message:
-----------
2010-03-09 12:33 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/panel_1.png
    + One more missing file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/panel_1.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar  9 15:53:57 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  9 15:54:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14115] trunk/harbour
In-Reply-To: <E1Np64b-0000MZ-1B@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Np64b-0000MZ-1B@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <497E6831-34F8-4BF4-A737-4A5ABE11C712@syenar.hu>

Hi Pritpal,

Can you add explicit error message with full filename 
(then gracefully terminate the application) when required 
files are not found on disk?

There can be many reason in real life why such files are 
missing, and without proper error message, these problems 
will always stay on the mystery side instead of being 
plain and simple error with obvious correction.

Brgds,
Viktor

On 2010 Mar 9, at 21:30, vouchcac@users.sourceforge.net wrote:

> Revision: 14115
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14115&view=rev
> Author:   vouchcac
> Date:     2010-03-09 20:30:35 +0000 (Tue, 09 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-09 12:33 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  + contrib/hbide/resources/panel_1.png
>    + One more missing file.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
> 
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbide/resources/panel_1.png
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Tue Mar  9 16:58:06 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  9 16:58:13 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14115] trunk/harbour
In-Reply-To: <497E6831-34F8-4BF4-A737-4A5ABE11C712@syenar.hu>
References: <E1Np64b-0000MZ-1B@sfp-svn-2.v30.ch3.sourceforge.com>
	<497E6831-34F8-4BF4-A737-4A5ABE11C712@syenar.hu>
Message-ID: <1268171886385-4705424.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Can you add explicit error message with full filename 
> (then gracefully terminate the application) when required 
> files are not found on disk?
> 
> There can be many reason in real life why such files are 
> missing, and without proper error message, these problems 
> will always stay on the mystery side instead of being 
> plain and simple error with obvious correction.
> 

Yep. It is a good idea to check the minimum necessary 
resources at startup. I will implement it soon.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14115-trunk-harbour-tp4704937p4705424.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at users.sourceforge.net  Tue Mar  9 17:37:55 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar  9 17:38:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14116] trunk/harbour
Message-ID: <E1Np83n-0007ga-Vp@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14116
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14116&view=rev
Author:   druzus
Date:     2010-03-09 22:37:50 +0000 (Tue, 09 Mar 2010)

Log Message:
-----------
2010-03-09 23:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcomp.h
  * harbour/include/hbcompdf.h
  * harbour/include/hbexprop.h
  * harbour/include/hbexpra.c
  * harbour/include/hbexprb.c
  * harbour/src/common/expropt1.c
  * harbour/src/compiler/hbcomp.c
  * harbour/src/compiler/harbour.y
  * harbour/src/compiler/harbour.yyc
  * harbour/src/macro/macro.y
  * harbour/src/macro/macro.yyc
  * harbour/src/macro/macro.yyh
    + added new type of expression: SETGET
    % eliminated reference counter in expressions
      (this code was never fully safe because expression optimizer was not
       respecting multiple references)
    % replaced all HB_COMP_EXPR_DELETE() macro usage with HB_COMP_EXPR_FREE()
      and deleted HB_COMP_EXPR_DELETE() macro
    - removed not longer used hb_compExprClone()
    Above modifications reduce a little bit total memory consumed by
    compiler and macrocompiler giving also some minor speed improvement.

  * harbour/ChangeLog
    * marked TODO for above modification as DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbexpra.c
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbexprop.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/hbcomp.c
    trunk/harbour/src/macro/macro.y
    trunk/harbour/src/macro/macro.yyc
    trunk/harbour/src/macro/macro.yyh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Mar  9 17:39:27 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  9 17:39:55 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <609353e71003091439u132bffa0ice8d33642379bcea@mail.gmail.com>

very Good Intellisense implementation
a little request:
in xmate is alloved goto function with ctrl -t and visual studio 2008
use Shift F2

Follow my suggestion:
Automatic Mode without load tag or re_tag
extend intellisense to lib function with template
Applicate intellisense to Class

2010/3/9  <vouchcac@users.sourceforge.net>:
> Revision: 14111
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14111&view=rev
> Author: ? vouchcac
> Date: ? ? 2010-03-09 10:12:01 +0000 (Tue, 09 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-09 02:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>
> ? ?+ Implemented: next step of "intellisense" by way of tagging
> ? ? ?the functions prototypes. For its realization, added one
> ? ? ?more docking widget containing controls to execute
> ? ? ?required actions which can be activated via right-toolbar icon.
>
> ? ?+ Rearranged icons on the right-toolbar as per logical
> ? ? ?distribution. The same scheme is applied in "View" menu.
>
> ? ?+ Implemented one more panel in statusbar to show current theme.
>
> ? ?! Simplified editor-tabs methods for more grandalurity.
>
> ? ? ?This commit implements next level of intellisense.
> ? ? ?How it works:
>
> ? ? ? ?1. Click on "ffn" icon on the right-toolbar or select
> ? ? ? ? ? "Projects Functions Lookup" in "View" menu.
> ? ? ? ?2. In the opened dock-widget, click on "Mark Projects" button.
> ? ? ? ?3. On the top of widget, a list of all projects loaded will appear.
> ? ? ? ?4. Click in the little check boxes left to the project titles.
> ? ? ? ? ? You can choose n number of combinations.
> ? ? ? ?5. Click on "Re-Tag" button, if this is the first time you are
> ? ? ? ? ? tagging project(s), or "Load Tags" if you already have tagged before.
> ? ? ? ?6. Keep a watch on right-corner of "Syntax" box, it will show the
> ? ? ? ? ? running commentary.
> ? ? ? ?7. After a while the table above will be populated with function info:
> ? ? ? ? ? ? Name ?Type ?Line ?Project ?Source.
> ? ? ? ?8. Type some alphabets in the top-most edit control. It will
> ? ? ? ? ? position the function matching the typed characters in the table.
> ? ? ? ?9. Double-click on some function in the table, it will be opened
> ? ? ? ? ? in the editor.
>
> ? ? ?Now the "intellisense" part, above was basic mechanism to gather contents:
>
> ? ? ? ?1. Type in the editor a function name which you think must have made up
> ? ? ? ? ? in the exercise carried above. The moment you will type "(" a nicely
> ? ? ? ? ? formatted tooltip, displying the prototype of this function will
> ? ? ? ? ? appear beneth the caret position. The prototype will remain there for
> ? ? ? ? ? 10 seconds ( finding a way how it can be controlled the way I want ).
>
> ? ? ? ?2. Position editor caret somewhere in some function characters and
> ? ? ? ? ? activate context menu with right click. Select "Goto Function" option.
> ? ? ? ? ? It will open the underlying source with cursor positioned on the
> ? ? ? ? ? function proto. Siultaneously, the function will be made current
> ? ? ? ? ? in the table in "Projects Functions Lookup" widget.
>
> ? ? ?More is on the way, please forward shortcomings of above mechanism.
>



-- 
Massimo Belgrano
From smujohnson at gmail.com  Tue Mar  9 18:07:51 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  9 18:08:00 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <4B963662.6090508@libero.it>
References: <4B961429.9040505@libero.it>
	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>
	<4B96198B.2010608@libero.it>
	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
	<4B963662.6090508@libero.it>
Message-ID: <674e4ddd1003091507m2eec5681s3896763feae0de8a@mail.gmail.com>

TDM just released a newer version of GCC, while the official MingW site
releases and old version of GCC from the 3.x.x branch.  TDM is 4.4.1
currently.

On Tue, Mar 9, 2010 at 3:52 AM, Maurilio Longo <maurilio.longo@libero.it>wrote:

> Smu,
>
> what are the differences between mingw and dragon media?
>
> Maurilio.
>
> smu johnson wrote:
> > It should be stated that the best one might be the one Harbour uses,
> > which is not the official MinGW release, but Twilight Dragon Media's
> > release, which is a build of a newer version of MinGW GCC.
> >
> > On Tue, Mar 9, 2010 at 2:05 AM, Viktor Szak?ts <harbour.01@syenar.hu
> > <mailto:harbour.01@syenar.hu>> wrote:
> >
> >     > is mingw able to create stand-alone .EXEs and or .DLLs or does it
> >     require to
> >     > deliver some runtime code with them?
> >
> >     mingw in context of Harbour requires only standard msvcrt.dll.
> >
> >     (hbqt additionally requires mingwm10.dll, but it's an "issue"
> >     with QT)
> >
> >     Brgds,
> >     Viktor
> >
> >     _______________________________________________
> >     Harbour mailing list (attachment size limit: 40KB)
> >     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
> >     http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com <mailto:smujohnson@gmail.com>>
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/cae14747/attachment.html
From bedipritpal at hotmail.com  Tue Mar  9 18:08:04 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  9 18:08:12 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <609353e71003091439u132bffa0ice8d33642379bcea@mail.gmail.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003091439u132bffa0ice8d33642379bcea@mail.gmail.com>
Message-ID: <1268176084536-4705820.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> very Good Intellisense implementation
> a little request:
> in xmate is alloved goto function with ctrl -t and visual studio 2008
> use Shift F2
> 

Done. CTRL+T opens the function. 



> Automatic Mode without load tag or re_tag
> 

This is natural extension, but I am not sure what the user 
will be tagging in current session. Consider if you want to 
work on Proj A and C which have interchangeable functions
you would like to refer to but you have 10 other projects 
in current session, the auto loading will unnecessarily 
consume the time.

I need more views on this topic.



> extend intellisense to lib function with template
> 

I could not get your viewpoint. Please explain in little detail.



> Applicate intellisense to Class
> 

How it should behave and what contents it should showup?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14111-trunk-harbour-tp4701242p4705820.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Tue Mar  9 18:12:33 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  9 18:12:43 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <4B963662.6090508@libero.it>
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
	<4B963662.6090508@libero.it>
Message-ID: <40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>

Hi Maurilio,

> what are the differences between mingw and dragon media?

tdragon release is easy to setup/install, while mingw 
is extremely time-consuming and frustrating experience 
(and it doesn't get any better with newer versions).

tdragon was also more agile in releasing usable packages
(now at gcc 4.4.1), official mingw tend to wait years between 
releases (recently released 4.4.0, but was stuck at 3.4.5 
for many many years)

tdragon has sjlj default unwinding, with dwarf-2 as easy 
to install option, while official 4.4.0 is fixed to dwarf-2, 
previous releases fixed to sjlj. (important for QT in 
regards of Harbour). Note that dwarf-2 in tdragon has 
special tool postfix.

tdragon has a usable homepage, mingw has the most 
frustrating (and broken) homepage of all open source projects 
we have to interface with in regards of Harbour.

Besides unwinding, from a C programmers POV they seem 
pretty much identical, but I personally haven't done 
any side-by-side speed / executable size / etc comparison, 
theoretically they should be pretty close as well.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Mar  9 18:29:27 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  9 18:29:56 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <1268176084536-4705820.post@n2.nabble.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com> 
	<609353e71003091439u132bffa0ice8d33642379bcea@mail.gmail.com> 
	<1268176084536-4705820.post@n2.nabble.com>
Message-ID: <609353e71003091529g7c7a3a42t1e8d3286864213db@mail.gmail.com>

2010/3/10 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
> Massimo Belgrano wrote:
>
>
>> extend intellisense to lib function with template
>>
>
> I could not get your viewpoint. Please explain in little detail.
If i have a lib without source i can't use intellisense
so my idea is having a intellisense template

>
>
>
>> Applicate intellisense to Class
>>
>
> How it should behave and what contents it should showup?
When press :
display class Method and Class property

here you can find a better idea
http://www.sweetpotatosoftware.com/SPSBlog/PermaLink,guid,b71ea97e-8fb8-4401-ace4-b5a536fe0a37.aspx

>
>
>
> -----

-- 
Massimo Belgrano
From smujohnson at gmail.com  Tue Mar  9 19:25:29 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar  9 19:25:37 2010
Subject: [Harbour] Re: Corruption on Dbf tables
In-Reply-To: <hn5s31$eak$1@dough.gmane.org>
References: <hn35rk$lkp$1@dough.gmane.org> <hn5s31$eak$1@dough.gmane.org>
Message-ID: <674e4ddd1003091625q7cf6f712l3137f8a209ed5817@mail.gmail.com>

> Perhaps, Windows protocols (SMB) against system file based ?

Yes, this was our problem we had.  We just disabled SMBv2 on Vista and 7
machines that were *hosting* the files.

Enable / Disable .msi files here:
http://blogs.msdn.com/robmar/archive/2009/09/23/get-microsoft-fix-it-for-smb2-issue.aspx



On Tue, Mar 9, 2010 at 8:09 AM, Antonio Martinez <alcisoft@arrakis.es>wrote:

> >From Advantage:
>
> >>>>>>>>>>>>>>>
> Hi Corinna,
> I probably don't have anything to mention that you have not thought about.
> In addition to what John mentioned, some potential issues that I can think
> of include the following:
>
> Bad hard drive (or possibly a bad hard drive controller):  This could
> result
> in bad data being written or read incorrectly.  This type of thing could
> lead to "random" characters appearing in fields.  This type of problem can
> generally be detected by running various disk utilities.
>
> Bad memory:  This normally would result in all kinds of flaky computer
> behavior but could potentially hide itself and result in garbage being
> written to a table.  I don't think bad memory is a very common problem, but
> we have experienced it in some of our test system computers on a few rare
> occasions.  Again, this can be checked pretty easily with system utilities.
> Power outage:  This could possibly result in data not being written to the
> disk.  In general, I would normally expect this to be a problem only with
> indexes not being updated correctly.  It does not seem likely to me that
> random data could end up in a record because of a power outage (at least I
> am not aware of any situations like this). The record simply would not be
> written normally. Sometimes it is possible for an appended record to be
> blank due to a power outage (the file is physically grown for the new
> record
> but the actual record never gets written), but this would normally have
> zeros (probably appear as NULLs).
>
> Crashed application:  I would think this normally would have results much
> like a power outage; the data simply would not get written.  With an
> Advantage Local Server application, any client crash (or turned-off
> computer) can result in problems.  With Advantage Database Server, a
> crashed
> client application would not result in corrupt data.  If Advantage crashes,
> however, it could result in data not being written (and we would want to
> know about any of these cases).
>
> Memory overwrites:  And finally there is the "bugs in the code" case.  Any
> bugs in Advantage that would result in corrupt data are obviously a high
> priority item for us to fix.  But it is possible for bugs in a client
> application to result in garbage data.  A memory overwrite in the client
> application could trash the record buffer before it is sent to the server.
> The record could end up on disk with whatever data was in it from the
> client.
> Probably none of this is new/useful.  However if you can send an example
> table with to us (advantage@ianywhere.com), we can possibly determine what
> might have happened.  Error logs from the time of the problem would also be
> extremely useful.
> Mark Wilkins
> Advantage R&D
> "Corinna" <corinna@vestanotes.com> wrote in message
> news:4586c010@solutions.advantagedatabase.com...
> >I would like to know what the various causes of table corruption (not
> index
> >corruption) are. I have a customer who has experienced corruption in a
> >couple of tables over the last few months.  Are there KB articles about
> >this? I didn't have much luck searching.
> >
> > I know one cause is a power outage-- that happened once to them, then
> they
> > got a UPS. Is it possible for the UPS to not deliver enough voltage (or
> > whatever), and cause data corruption even if it appears that the server
> is
> > working fine?
> >
> > Mostly what we've seen is hosed date fields, and random characters in
> char
> > fields.
> >
> > -Corinna
> >>>>>>>>>>>>>>>
>
> Regards
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
> Antonio Martinez escribi? en mensaje ...
> >Hi to all,
> >
> >a question:
> >
> >Why a .dbf table goes to corrupted ?
> >
> >Perhaps, break energy ?
> >Perhaps, shutdown computer (user) ?
> >Perhaps, Clipper and Harbour using the same dbf tables ?
> >Perhaps, Windows protocols (SMB) against system file based ?
> >Perhaps, ....?
> >
> >
> >
> >Regards
> >
> >
> >
> >
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100309/3b9d3b92/attachment.html
From harbour.01 at syenar.hu  Tue Mar  9 20:04:15 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar  9 20:04:26 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <712F3899-ECDA-4603-9C78-5AB6616A6930@syenar.hu>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
	<B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>
	<1268161032967-4704349.post@n2.nabble.com>
	<712F3899-ECDA-4603-9C78-5AB6616A6930@syenar.hu>
Message-ID: <7A39B84A-96EE-4AC1-A1D4-69B84090B113@syenar.hu>

Hi Pritpal,

1) I tested it and the GPF on exit seems to have disappeared, 
but my problem is that the fix is not a real one.

Simply this variable is not destructed anymore in HBQT code:
---
//   ::oWidget := NIL  /* Variable Destruction GPFs */
---

Probably we should find the real problem and make the 
real fix. Current workaround only postpones it.

2) Focus stealing already reported for project tree is 
still present for 'Editor tabs' when source file is open.

3) I tried the "session" feature and it's nice, it'd 
just be even nicer if it could be used more intuitively.
The UI doesn't make any apparent connection between 
the colored dots and the dropdown list. Maybe they should 
be on the same toolbar.. or the colors also visible in the 
dropdown list. BTW, pressing OK with the original text "New...", 
will silently do nothing and after it you can't select 
"New..." again until you select another item and reselect 
"New...". An error message or a grayed "OK" button would 
be nicer in this error case.

Brgds,
Viktor

On 2010 Mar 9, at 20:00, Viktor Szak?ts wrote:

>> Viktor Szak?ts wrote:
>>> 
>>> Yes, I had it after recent 2 or 3 modifications, I had to make 
>>> a full Harbour rebuild to fix it.
>>> 
>> 
>> Oh, I forget to mention that hbqt+ libs and hbsbp.lib 
>> needed to be rebuild. 
> 
> I do the as routine, but it didn't help.
> First I though that it's pcode version, 
> but it happened again yesterday (or before 
> yesterday), so this wasn't the issue.
> 
>> How about GPF at exit ? You are still experiencing 
>> or it is fixed. On my system all works fine.
> 
> Sorry, couldn't test it yet.
> 
> Brgds,
> VIktor
> 

From bedipritpal at hotmail.com  Tue Mar  9 20:43:11 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  9 20:43:19 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <7A39B84A-96EE-4AC1-A1D4-69B84090B113@syenar.hu>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
	<B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>
	<1268161032967-4704349.post@n2.nabble.com>
	<712F3899-ECDA-4603-9C78-5AB6616A6930@syenar.hu>
	<7A39B84A-96EE-4AC1-A1D4-69B84090B113@syenar.hu>
Message-ID: <1268185391595-4706479.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> 1) I tested it and the GPF on exit seems to have disappeared, 
> but my problem is that the fix is not a real one.
> 
> Simply this variable is not destructed anymore in HBQT code:
> ---
> //   ::oWidget := NIL  /* Variable Destruction GPFs */
> ---
> Probably we should find the real problem and make the 
> real fix. Current workaround only postpones it.
> 

I have this in mind and will eventually fix it. I now know
why it is. I have just to clean-up or find some other way 
to parent a widget of modal nature.



> 2) Focus stealing already reported for project tree is 
> still present for 'Editor tabs' when source file is open.
> 

Done.



> 3) I tried the "session" feature and it's nice, it'd 
> just be even nicer if it could be used more intuitively.
> The UI doesn't make any apparent connection between 
> the colored dots and the dropdown list. Maybe they should 
> be on the same toolbar.. or the colors also visible in the 
> dropdown list. BTW, pressing OK with the original text "New...", 
> will silently do nothing and after it you can't select 
> "New..." again until you select another item and reselect 
> "New...". An error message or a grayed "OK" button would 
> be nicer in this error case.
> 

Yep, I agree.

Combo-boxes have an inherent problem which I cannot overcome,
that's why this behavior.

One alternative could be, "New..." option is activated through 
<File><New Tab...> in the main menu, eliminate the combo-box
at all. It will be simple and tangible. 

Opinions are welcome.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14111-trunk-harbour-tp4701242p4706479.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Tue Mar  9 20:45:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  9 20:45:21 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <609353e71003091529g7c7a3a42t1e8d3286864213db@mail.gmail.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003091439u132bffa0ice8d33642379bcea@mail.gmail.com>
	<1268176084536-4705820.post@n2.nabble.com>
	<609353e71003091529g7c7a3a42t1e8d3286864213db@mail.gmail.com>
Message-ID: <1268185514786-4706490.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> If i have a lib without source i can't use intellisense
> so my idea is having a intellisense template
> 

Oh, ah ok, I will provide theses slots.



> When press :
> display class Method and Class property
> 

Later, right now basics first.



> here you can find a better idea
> http://www.sweetpotatosoftware.com/SPSBlog/PermaLink,guid,b71ea97e-8fb8-4401-ace4-b5a536fe0a37.aspx
> 

Thanks for the link, I will study.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14111-trunk-harbour-tp4701242p4706490.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Tue Mar  9 21:28:14 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Mar  9 21:28:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14117] trunk/harbour
Message-ID: <E1NpBeg-0003P9-4T@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14117
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14117&view=rev
Author:   vouchcac
Date:     2010-03-10 02:28:12 +0000 (Wed, 10 Mar 2010)

Log Message:
-----------
2010-03-09 18:24 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/funclist.ui
  * contrib/hbide/resources/funclist.uic
    ! Shifted "Projects Selection" list downwards.

  * contrib/hbide/hbide.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/ideobject.prg
    ! Reworked behavior of function's prototype display as tooltip.
      Now it stays there until you press ")", i.e., a function call is
      made complete. If you move the cursor anywhere in the editor,
      the tooltip will disappear, and will reappear when cursor 
      will be past the "(" opening brace. The same holds true 
      if you play with another widget. Tooltip has a suspended 
      and active behavior.

    ! Changed the behavior of "line numbers" display in the editor tabs.
      Now it is active for all the tabs on all the panels. The icon 
      at the left will visualize as active or passive accordingly.

    ! Corrected behavior of navigation in "Editor tabs" also as 
      par with behavior in "Projects Tree".

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/resources/funclist.ui
    trunk/harbour/contrib/hbide/resources/funclist.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From wcshum88 at hotmail.com  Tue Mar  9 23:47:27 2010
From: wcshum88 at hotmail.com (Shum)
Date: Tue Mar  9 23:47:35 2010
Subject: [Harbour] Re: SqlMix and dbcreated
In-Reply-To: <4ADDB37E.3050203@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>
	<4AD86C8D.6050402@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu>
	<4AD88C75.9000501@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0CB@PINK.zycie.pzu>
	<4ADB20C4.30305@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A1F0@PINK.zycie.pzu>
	<4ADDB37E.3050203@dbtopas.lt>
Message-ID: <1268196447856-4707029.post@n2.nabble.com>


Hi Mindaugas,

It possible to implement the database connection number as a class ...
like the DacSession class in Xbase++ ...??

Shum
-- 
View this message in context: http://n2.nabble.com/SqlMix-and-dbcreated-tp3834818p4707029.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From marcobra.ubuntu at gmail.com  Wed Mar 10 00:44:29 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Wed Mar 10 00:44:41 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <1268161032967-4704349.post@n2.nabble.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
	<B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>
	<1268161032967-4704349.post@n2.nabble.com>
Message-ID: <fd76479f1003092144h5b9532tcfc5281c3b628a48@mail.gmail.com>

2010/3/9 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Viktor Szak?ts wrote:
> >
> > Yes, I had it after recent 2 or 3 modifications, I had to make
> > a full Harbour rebuild to fix it.
> >
>
> Oh, I forget to mention that hbqt+ libs and hbsbp.lib
> needed to be rebuild.
>
> How about GPF at exit ? You are still experiencing
> or it is fixed. On my system all works fine.
>
>
On Ubuntu 10.04 32 bits ( development post alpha3 )

Work well i still get error on exit hbide

xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    begin
xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    end
QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 0x87b8598
QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 (nil)

Unrecoverable error 6005: Exception SIGSEGV at address 0x8

Many thanks...

Marco

-- 
Linux Infinite Freedom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/b4b5b435/attachment.html
From marcobra.ubuntu at gmail.com  Wed Mar 10 00:56:39 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Wed Mar 10 00:56:54 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14111] trunk/harbour
In-Reply-To: <fd76479f1003092144h5b9532tcfc5281c3b628a48@mail.gmail.com>
References: <E1NowQG-0002gD-5j@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71003090719i45eab6dl79b67dca3d6c6ace@mail.gmail.com>
	<SNT123-W55CBD611B12838B7B5CCB9A7340@phx.gbl>
	<B6B5C74C-3C86-423F-BE21-10255EB5F80F@syenar.hu>
	<1268161032967-4704349.post@n2.nabble.com>
	<fd76479f1003092144h5b9532tcfc5281c3b628a48@mail.gmail.com>
Message-ID: <fd76479f1003092156j46b8accft61df51c4ae5b0748@mail.gmail.com>

On Ubuntu 10.04 32 bits ( development post alpha3 )

hbide another error report on exit...

Unrecoverable error 6005: Exception SIGSEGV at address 0x61
Called from HBQTUI:DESTROY(0) in ../../../THbQtUI.prg
Called from IDEHARBOURHELP:DESTROY(245) in ideharbourhelp.prg
Called from HBIDE:CREATE(537) in hbide.prg
Called from MAIN(117) in hbide.prg

Hth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/28c5930a/attachment.html
From wcshum88 at hotmail.com  Wed Mar 10 01:22:36 2010
From: wcshum88 at hotmail.com (Shum)
Date: Wed Mar 10 01:23:19 2010
Subject: [Harbour] Re: MT workareas cloning
In-Reply-To: <20090617110309.GA21515@uran.home.aster.pl>
References: <9257026e0906160142k502d2a1dl3ffb1700e7d89d88@mail.gmail.com>
	<20090616090322.GA13809@uran.home.aster.pl>
	<9257026e0906160449g79816c20rb86a2f59ed011e15@mail.gmail.com>
	<20090616122446.GB25472@uran.home.aster.pl>
	<24055313.post@talk.nabble.com>
	<20090617110309.GA21515@uran.home.aster.pl>
Message-ID: <1268202156827-4707278.post@n2.nabble.com>


Hi Przemek,

>Support for ZEROSPACE in WorkSpaceList() is trivial but can be implemented 
>only in C. I can add it in necessary. BTW please check above two example 
>with xbase++. 


Would you please implement the WorkSpaceList() with ZEROSPACE  ...
I need to obtain all alias within ZEROSPACE ....

Or any way to get a list of all alias within the ZeroSpace ???

Shum
-- 
View this message in context: http://n2.nabble.com/MT-workareas-cloning-tp3085150p4707278.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From maurilio.longo at libero.it  Wed Mar 10 03:32:36 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 10 03:32:51 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>	<4B963662.6090508@libero.it>
	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
Message-ID: <4B975924.2090905@libero.it>

Viktor,

I had the same impression about mingw being a nightmare to install and make it
work.

I'll try dragon media :)

One more question, for harbour should I use sjlj unwinding or dwarf2?

Thanks.

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> what are the differences between mingw and dragon media?
> 
> tdragon release is easy to setup/install, while mingw 
> is extremely time-consuming and frustrating experience 
> (and it doesn't get any better with newer versions).
> 
> tdragon was also more agile in releasing usable packages
> (now at gcc 4.4.1), official mingw tend to wait years between 
> releases (recently released 4.4.0, but was stuck at 3.4.5 
> for many many years)
> 
> tdragon has sjlj default unwinding, with dwarf-2 as easy 
> to install option, while official 4.4.0 is fixed to dwarf-2, 
> previous releases fixed to sjlj. (important for QT in 
> regards of Harbour). Note that dwarf-2 in tdragon has 
> special tool postfix.
> 
> tdragon has a usable homepage, mingw has the most 
> frustrating (and broken) homepage of all open source projects 
> we have to interface with in regards of Harbour.
> 
> Besides unwinding, from a C programmers POV they seem 
> pretty much identical, but I personally haven't done 
> any side-by-side speed / executable size / etc comparison, 
> theoretically they should be pretty close as well.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From alcisoft at arrakis.es  Wed Mar 10 03:28:49 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Wed Mar 10 03:33:18 2010
Subject: [Harbour] Re: Re: Corruption on Dbf tables
References: <hn35rk$lkp$1@dough.gmane.org> <hn5s31$eak$1@dough.gmane.org>
	<674e4ddd1003091625q7cf6f712l3137f8a209ed5817@mail.gmail.com>
Message-ID: <hn7lff$12e$1@dough.gmane.org>

Smu,
it was your .dbf files corrupted ? Files with straigth characters ?

Regards


smu johnson escribi? en mensaje <674e4ddd1003091625q7cf6f712l3137f8a209ed5817@mail.gmail.com>...
    > Perhaps, Windows protocols (SMB) against system file based ?
    
    Yes, this was our problem we had.  We just disabled SMBv2 on Vista and 7 machines that were *hosting* the files.
    
    Enable / Disable .msi files here:  http://blogs.msdn.com/robmar/archive/2009/09/23/get-microsoft-fix-it-for-smb2-issue.aspx
    
    
    
    
    On Tue, Mar 9, 2010 at 8:09 AM, Antonio Martinez <alcisoft@arrakis.es> wrote:
    
    >From Advantage:
        
        >>>>>>>>>>>>>>>
        Hi Corinna,
        I probably don't have anything to mention that you have not thought about.
        In addition to what John mentioned, some potential issues that I can think
        of include the following:
        
        Bad hard drive (or possibly a bad hard drive controller):  This could result
        in bad data being written or read incorrectly.  This type of thing could
        lead to "random" characters appearing in fields.  This type of problem can
        generally be detected by running various disk utilities.
        
        Bad memory:  This normally would result in all kinds of flaky computer
        behavior but could potentially hide itself and result in garbage being
        written to a table.  I don't think bad memory is a very common problem, but
        we have experienced it in some of our test system computers on a few rare
        occasions.  Again, this can be checked pretty easily with system utilities.
        Power outage:  This could possibly result in data not being written to the
        disk.  In general, I would normally expect this to be a problem only with
        indexes not being updated correctly.  It does not seem likely to me that
        random data could end up in a record because of a power outage (at least I
        am not aware of any situations like this). The record simply would not be
        written normally. Sometimes it is possible for an appended record to be
        blank due to a power outage (the file is physically grown for the new record
        but the actual record never gets written), but this would normally have
        zeros (probably appear as NULLs).
        
        Crashed application:  I would think this normally would have results much
        like a power outage; the data simply would not get written.  With an
        Advantage Local Server application, any client crash (or turned-off
        computer) can result in problems.  With Advantage Database Server, a crashed
        client application would not result in corrupt data.  If Advantage crashes,
        however, it could result in data not being written (and we would want to
        know about any of these cases).
        
        Memory overwrites:  And finally there is the "bugs in the code" case.  Any
        bugs in Advantage that would result in corrupt data are obviously a high
        priority item for us to fix.  But it is possible for bugs in a client
        application to result in garbage data.  A memory overwrite in the client
        application could trash the record buffer before it is sent to the server.
        The record could end up on disk with whatever data was in it from the
        client.
        Probably none of this is new/useful.  However if you can send an example
        table with to us (advantage@ianywhere.com), we can possibly determine what
        might have happened.  Error logs from the time of the problem would also be
        extremely useful.
        Mark Wilkins
        Advantage R&D
        "Corinna" <corinna@vestanotes.com> wrote in message
        news:4586c010-Cb7RZHV19h4FSdYP4/g5E+6FD4mA3kttUgCwpaM3WNutXF2fZOsJYA@public.gmane.org
        >I would like to know what the various causes of table corruption (not index
        >corruption) are. I have a customer who has experienced corruption in a
        >couple of tables over the last few months.  Are there KB articles about
        >this? I didn't have much luck searching.
        >
        > I know one cause is a power outage-- that happened once to them, then they
        > got a UPS. Is it possible for the UPS to not deliver enough voltage (or
        > whatever), and cause data corruption even if it appears that the server is
        > working fine?
        >
        > Mostly what we've seen is hosed date fields, and random characters in char
        > fields.
        >
        > -Corinna
        >>>>>>>>>>>>>>>
        
        Regards
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        Antonio Martinez escribi? en mensaje ...
        
        >Hi to all,
        >
        >a question:
        >
        >Why a .dbf table goes to corrupted ?
        >
        >Perhaps, break energy ?
        >Perhaps, shutdown computer (user) ?
        >Perhaps, Clipper and Harbour using the same dbf tables ?
        >Perhaps, Windows protocols (SMB) against system file based ?
        >Perhaps, ....?
        >
        >
        >
        >Regards
        >
        >
        >
        >
        
        
        
        _______________________________________________
        Harbour mailing list (attachment size limit: 40KB)
        Harbour@harbour-project.org
        http://lists.harbour-project.org/mailman/listinfo/harbour
        
        
    
    
    -- 
    smu johnson <smujohnson@gmail.com>
    
    
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/e2169cc5/attachment-0001.html
From druzus at users.sourceforge.net  Wed Mar 10 04:04:24 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 10 04:04:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14118] trunk/harbour
Message-ID: <E1NpHq4-0001se-E8@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14118
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14118&view=rev
Author:   druzus
Date:     2010-03-10 09:04:23 +0000 (Wed, 10 Mar 2010)

Log Message:
-----------
2010-03-10 10:04 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapirdd.h
  * harbour/src/rdd/wacore.c
    + added hb_rddDetachedList() C function

  * harbour/contrib/hbxpp/Makefile
  + harbour/contrib/hbxpp/dmlb.ch
  + harbour/contrib/hbxpp/wafuncx.c
    + added xBase++ compatible PRG function:
         WorkSpaceList( [<nWorkSpace>] ) -> <aAliasName>

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/Makefile
    trunk/harbour/include/hbapirdd.h
    trunk/harbour/src/rdd/wacore.c

Added Paths:
-----------
    trunk/harbour/contrib/hbxpp/dmlb.ch
    trunk/harbour/contrib/hbxpp/wafuncx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Wed Mar 10 04:31:56 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Mar 10 04:32:04 2010
Subject: [Harbour] Re: recommended C compiler for Win
In-Reply-To: <40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
References: <4B961429.9040505@libero.it>
	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>
	<4B96198B.2010608@libero.it>
	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
	<4B963662.6090508@libero.it>
	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
Message-ID: <1268213516150-4707910.post@n2.nabble.com>


Hi

There is also "Equation Solution"
(http://www.equation.com/servlet/equation.cmd?fa=programminglog)
distribution. They are building weekly snapshots.

I haven't tested it yet with Harbour.

BRGDS
Fran?ek


-----
brgs
Fran?ek Prijatelj
-- 
View this message in context: http://n2.nabble.com/recommended-C-compiler-for-Win-tp4701032p4707910.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Wed Mar 10 04:45:18 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 04:45:29 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <4B975924.2090905@libero.it>
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>	<4B963662.6090508@libero.it>
	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
	<4B975924.2090905@libero.it>
Message-ID: <3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>

Hi Maurilio,

> I had the same impression about mingw being a nightmare to install and make it
> work.
> 
> I'll try dragon media :)
> 
> One more question, for harbour should I use sjlj unwinding or dwarf2?

It only matters if you want to use HBQT. For 4.5.x 
you need SJLJ, for 4.6.x you need DWARF-2.

If you don't use HBQT, it just doesn't matter for 
Harbour.

Brgds,
Viktor


From vszakats at users.sourceforge.net  Wed Mar 10 05:55:27 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 10 05:55:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14119] trunk/harbour
Message-ID: <E1NpJZX-0003v5-FF@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14119
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14119&view=rev
Author:   vszakats
Date:     2010-03-10 10:55:26 +0000 (Wed, 10 Mar 2010)

Log Message:
-----------
2010-03-10 11:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxpp/Makefile
    ! Added dmlb.ch.

  * contrib/hbxpp/hbxppext.ch
    ! Added WORKSPACELIST().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/Makefile
    trunk/harbour/contrib/hbxpp/hbxppext.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Mar 10 06:16:30 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 06:16:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14119] trunk/harbour
In-Reply-To: <E1NpJZX-0003v5-FF@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NpJZX-0003v5-FF@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <20100310111630.GA8914@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-03-10 11:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbxpp/Makefile
>     ! Added dmlb.ch.
>   * contrib/hbxpp/hbxppext.ch
>     ! Added WORKSPACELIST().

Thank you.

best regards,
Przemek
From maurilio.longo at libero.it  Wed Mar 10 06:17:41 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 10 06:17:56 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>	<4B963662.6090508@libero.it>	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>	<4B975924.2090905@libero.it>
	<3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
Message-ID: <4B977FD5.1080001@libero.it>

Viktor,

if I read it correctly a dwarf2 .exe which loads a .dll which has an exception
inside itself cannot work, since you're traversing a stack frame which
receives an exception from windows. Am I right?

Maurilio.

PS. I've installed dragon media, smartsvn and I was able to build harbour on
win32 very smoothly.

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> I had the same impression about mingw being a nightmare to install and make it
>> work.
>>
>> I'll try dragon media :)
>>
>> One more question, for harbour should I use sjlj unwinding or dwarf2?
> 
> It only matters if you want to use HBQT. For 4.5.x 
> you need SJLJ, for 4.6.x you need DWARF-2.
> 
> If you don't use HBQT, it just doesn't matter for 
> Harbour.
> 
> Brgds,
> Viktor
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at users.sourceforge.net  Wed Mar 10 06:26:27 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 10 06:26:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14120] trunk/harbour
Message-ID: <E1NpK3X-0004Vm-Pc@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14120
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14120&view=rev
Author:   druzus
Date:     2010-03-10 11:26:26 +0000 (Wed, 10 Mar 2010)

Log Message:
-----------
2010-03-10 12:26 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/compiler/hbmain.c
  * harbour/src/compiler/harbour.y
  * harbour/src/compiler/harbour.yyc
    * use hb_compGetFuncID() to detect reserved function names

  * harbour/include/hbapi.h
  * harbour/src/common/Makefile
  - harbour/src/common/reserved.c
    - removed not longer used hb_compReservedName() function

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/common/Makefile
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/hbmain.c

Removed Paths:
-------------
    trunk/harbour/src/common/reserved.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 10 07:16:11 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 07:16:21 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <4B977FD5.1080001@libero.it>
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>	<4B963662.6090508@libero.it>	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>	<4B975924.2090905@libero.it>
	<3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
	<4B977FD5.1080001@libero.it>
Message-ID: <8652453C-E5BC-4109-BB8F-8B068590CAB2@syenar.hu>

Hi Maurilio,

> Viktor,
> 
> if I read it correctly a dwarf2 .exe which loads a .dll which has an exception
> inside itself cannot work, since you're traversing a stack frame which
> receives an exception from windows. Am I right?

I don't have academic answer for the unwinding topic, 
so locally I'm just avoiding any mixture (both static 
and dynamic) of these modes.

> PS. I've installed dragon media, smartsvn and I was able to build harbour on
> win32 very smoothly.

Good to hear, thanks for the positive feedback.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Mar 10 07:33:32 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 10 07:34:01 2010
Subject: [Harbour] will harbour run on present and future os for small 
	device?
In-Reply-To: <4F5D5AEF-EBA8-4B5D-A028-3AE8FDBE64E9@syenar.hu>
References: <609353e70907110049k3172b59fsf03f4b4359c0fc43@mail.gmail.com> 
	<BD3DC30F-CF33-4548-953B-C0C275C345DB@syenar.hu>
	<609353e70907200654j1f7a8489nf09a2514ea3eebb0@mail.gmail.com> 
	<916B96A9-739F-47C5-81FE-1E97DEF30352@syenar.hu>
	<609353e70910100939r4ed62743l447e752919d22ec3@mail.gmail.com> 
	<F1310799-C08D-4C98-935D-7C8B5A73D424@syenar.hu>
	<609353e70910101001u1f48ab5eyb85d0c77f5df752@mail.gmail.com> 
	<609353e70910280727s237b4060s40cf9270cf2aa078@mail.gmail.com> 
	<4F5D5AEF-EBA8-4B5D-A028-3AE8FDBE64E9@syenar.hu>
Message-ID: <609353e71003100433k1b9bfcf5wa3d82fe528d667b0@mail.gmail.com>

Little update regarding android that seem not a java only solution

Here Qt for Android  http://www.kdedevelopers.org/blog/104

The third release of the Android Native Development Kit (NDK) is now
available for download from the Android developer
site<http://developer.android.com/sdk/ndk/index.html>
. with GCC 4.4.0, which should generate slightly more compact and efficient
, and can now directly access OpenGL ES 2.0 features.


2009/10/29 Viktor Szak?ts <harbour.01@syenar.hu>:
> Tor is an UI-less application so porting it should be
> possible given all the information we already knew.
> I guess they've used Java front-end for any sort of control
> UI, but it would be nice if someone confirmed this.
>
> I hope someone will port Harbour to Android, if that helps
> the matter but personally I'm still extremely sceptic, so
> unless someone really can clear up concerns with valuable
> new information, I see no reason to re-raise this topic
> each week.
>
> Brgds,
> Viktor
>

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/6f256981/attachment.html
From fperillo at gmail.com  Wed Mar 10 07:37:39 2010
From: fperillo at gmail.com (francesco perillo)
Date: Wed Mar 10 07:37:47 2010
Subject: [Harbour] @Viktor, I've rpms for opensuse 11.2
Message-ID: <6943770e1003100437y4d5614f9g364f6f01acd7b2ca@mail.gmail.com>

How can I put them on sourceforge ?

harbour-2.0.0-0sus112.i586.rpm
harbour-contrib-2.0.0-0sus112.i586.rpm
harbour-curl-2.0.0-0sus112.i586.rpm
harbour-firebird-2.0.0-0sus112.i586.rpm
harbour-gd-2.0.0-0sus112.i586.rpm
harbour-lib-2.0.0-0sus112.i586.rpm
harbour-mysql-2.0.0-0sus112.i586.rpm
harbour-pgsql-2.0.0-0sus112.i586.rpm
harbour-qt-2.0.0-0sus112.i586.rpm
harbour-static-2.0.0-0sus112.i586.rpm
From mbelgrano at deltain.it  Wed Mar 10 07:41:38 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 10 07:42:07 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <4B961429.9040505@libero.it>
References: <4B961429.9040505@libero.it>
Message-ID: <609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>

I remember an intresting pritpal posting

Here are some results of 3 compilers:

MSVC 2008
  EXE SIZE: 6573 KB
  DIFFERENCE: Links one external lib statically ( www.dosadi.com )
  RUN:   PASS1    6.75 Secs
           PASS2    4.97 Secs
           PASS3    5.00 Secs

BCC 5.5.1
  EXE SIZE: 6706 KB
  DIFFERENCE: Links one external lib dynamically pulled via implib
  RUN:   PASS1    5.72
           PASS2    5.69
           PASS3    5.63

MINGW
  EXE SIZE: 8287 KB
  DIFFERENCE: Does not include above lib, does not include 2 .prgs 1 .res
  RUN:   PASS1    4.48
           PASS2    4.51
           PASS3    4.53

All above runs are on the same execution, i.e., moves a browser first to
last with 1408 recs.

Personal observation:
  * MINGW is the fastest though it has larger executable ( does not matter
).
  * MINGW has the limitation not to allow more than 1 resource files (
really a shame ).
  * MINGW is very tricky when you need Windows .dlls to be manipulated (
again a severe limit ).
  * BCC is handy to include any external lib because of "implib" utility
but slowest of all.

So one's choice may be affected by many factors.
Suggesstion: go for MINGW if you never plan to include more than one .RES
file and
  do not have to include external party Windows .DLLs without a MINGW
export by the author.
2010/3/9 Maurilio Longo <maurilio.longo@libero.it>

> Hi,
>
> which is the harbour recommended C compiler for the windows platform?
>
> best regards.
>
> --
>

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/68090e02/attachment-0001.html
From harbour.01 at syenar.hu  Wed Mar 10 07:44:11 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 07:44:22 2010
Subject: [Harbour] @Viktor, I've rpms for opensuse 11.2
In-Reply-To: <6943770e1003100437y4d5614f9g364f6f01acd7b2ca@mail.gmail.com>
References: <6943770e1003100437y4d5614f9g364f6f01acd7b2ca@mail.gmail.com>
Message-ID: <D658CCF3-FE41-4BFB-A392-7FA6F7D7D097@syenar.hu>

Hi Francesco,

Pls give me your sf.net ID and I'll add you as dev member 
with file release rights.

Brgds,
Viktor

On 2010 Mar 10, at 13:37, francesco perillo wrote:

> How can I put them on sourceforge ?
> 
> harbour-2.0.0-0sus112.i586.rpm
> harbour-contrib-2.0.0-0sus112.i586.rpm
> harbour-curl-2.0.0-0sus112.i586.rpm
> harbour-firebird-2.0.0-0sus112.i586.rpm
> harbour-gd-2.0.0-0sus112.i586.rpm
> harbour-lib-2.0.0-0sus112.i586.rpm
> harbour-mysql-2.0.0-0sus112.i586.rpm
> harbour-pgsql-2.0.0-0sus112.i586.rpm
> harbour-qt-2.0.0-0sus112.i586.rpm
> harbour-static-2.0.0-0sus112.i586.rpm
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Mar 10 07:53:28 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 07:53:39 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
Message-ID: <EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>

> Personal observation:
>   * MINGW is the fastest though it has larger executable ( does not matter
> ).

MSVC is the fastest, closely followed by MINGW.

>   * MINGW has the limitation not to allow more than 1 resource files (
> really a shame ).

This is not true.

>   * MINGW is very tricky when you need Windows .dlls to be manipulated (
> again a severe limit ).

I can't comprehend this statement. MinGW is 
no trickier than any other C compiler. In fact  
it has extra features which makes it much easier 
to work with .dlls and "implibs". It's not a limit, 
but a difference in usage, and after you "got" it, 
it's even simpler than implib tools.

>   * BCC is handy to include any external lib because of "implib" utility
> but slowest of all.

BCC is a joke these days. IMPLIB is buggy 
and not fixed since 10 years. It has almost 
non-existent 3rd party support. It's only 
useful for draft builds because of fast 
compile time and because it emits one type of 
useful warning which other compilers don't.

BTW MinGW also supports 64-bit and ARM 
targets (requires different binary distros).

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Mar 10 08:34:59 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 10 08:35:06 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14121] trunk/harbour
Message-ID: <E1NpM3v-0000Ev-5q@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14121
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14121&view=rev
Author:   vszakats
Date:     2010-03-10 13:34:54 +0000 (Wed, 10 Mar 2010)

Log Message:
-----------
2010-03-10 14:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/win/cygwin.mk
  * config/win/mingw.mk
  * config/wce/mingwarm.mk
    % Added -pipe option to win/gcc compilers, this way it's faster 
      (but consume more memory) since it passes intermediate files 
      - I could only spot the .s file - without writing them to disk.
      Probably we should enable this on other platforms as well,
      and if it works out well, also in hbmk2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/mingw.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Wed Mar 10 08:54:02 2010
From: fperillo at gmail.com (francesco perillo)
Date: Wed Mar 10 08:54:10 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
Message-ID: <6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>

> BCC is a joke these days.

ooops... I have a production site working with a bbc version of Harbour...
From druzus at acn.waw.pl  Wed Mar 10 08:55:52 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 08:55:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14121] trunk/harbour
In-Reply-To: <E1NpM3v-0000Ev-5q@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NpM3v-0000Ev-5q@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <20100310135552.GA25950@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-03-10 14:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * config/win/cygwin.mk
>   * config/win/mingw.mk
>   * config/wce/mingwarm.mk
>     % Added -pipe option to win/gcc compilers, this way it's faster 
>       (but consume more memory) since it passes intermediate files 
>       - I could only spot the .s file - without writing them to disk.
>       Probably we should enable this on other platforms as well,
>       and if it works out well, also in hbmk2.

I'm using -pipe for 10 or even more years in different Linux distros
and it works quite well.
The only one drawback in using -pipe is problem with compilation errors.
Sometimes it may cause that unfinished and broken destination files are
created because compilation/link process is interrupted by compile time
errors.
There was a time when this option was enabled in xharbour.spec indirectly
by RPM_OPT_FLAGS and I removed it due to problems with compile time errors
which caused that wrong/unfinished binary files were processed:

   2003-08-09 22:18 UTC+0200 Przemyslaw Czerpak <druzus@polbox.com>
     * xharbour/xharbour.spec
       * removed ${RPM_OPT_FLAGS} from C_USR
         '-pipe' breaks building proces on RH9 when user doesn't install
         old slang-devel

what disabled hidden functionality which allowed to build xHarbour
without some libraries (errors were ignored).
Anyhow it should not be a problem for current Harbour build process
because now all errors interrupt it immediately.
Maybe you only should check it for hbmk2 and if necessary add code
to explicitly delete unfinished destination files on errors.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Mar 10 08:57:20 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 08:57:31 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
Message-ID: <F1EEB295-9834-4051-AC1D-F12450E6D761@syenar.hu>

>> BCC is a joke these days.
> 
> ooops... I have a production site working with a bbc version of Harbour...

Well, it does work, it just has limited capabilities 
compared to other compilers. If you don't need those 
capabilities, you might be okay with bcc. Though at 
least if runtime speed is a concern, you may want to 
try something else.

Brgds,
Viktor

From fperillo at gmail.com  Wed Mar 10 08:58:31 2010
From: fperillo at gmail.com (francesco perillo)
Date: Wed Mar 10 08:58:38 2010
Subject: [Harbour] @Viktor, I've rpms for opensuse 11.2
In-Reply-To: <D658CCF3-FE41-4BFB-A392-7FA6F7D7D097@syenar.hu>
References: <6943770e1003100437y4d5614f9g364f6f01acd7b2ca@mail.gmail.com>
	<D658CCF3-FE41-4BFB-A392-7FA6F7D7D097@syenar.hu>
Message-ID: <6943770e1003100558o181528f0x1a11fe2dec8464b1@mail.gmail.com>

> Hi Francesco,
>
> Pls give me your sf.net ID and I'll add you as dev member
> with file release rights.

fperillo
From harbour.01 at syenar.hu  Wed Mar 10 09:07:28 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 09:07:39 2010
Subject: [Harbour] @Viktor, I've rpms for opensuse 11.2
In-Reply-To: <6943770e1003100558o181528f0x1a11fe2dec8464b1@mail.gmail.com>
References: <6943770e1003100437y4d5614f9g364f6f01acd7b2ca@mail.gmail.com>
	<D658CCF3-FE41-4BFB-A392-7FA6F7D7D097@syenar.hu>
	<6943770e1003100558o181528f0x1a11fe2dec8464b1@mail.gmail.com>
Message-ID: <F0A395D9-C1A0-4E4A-90A9-518747AF3B4D@syenar.hu>

On 2010 Mar 10, at 14:58, francesco perillo wrote:

>> Hi Francesco,
>> 
>> Pls give me your sf.net ID and I'll add you as dev member
>> with file release rights.
> 
> fperillo

Thank you and welcome as team member!

You should now be able to access Project Admin / File Manager 
menu on Harbour sf.net page.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Mar 10 09:14:21 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar 10 09:14:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14121] trunk/harbour
In-Reply-To: <20100310135552.GA25950@linux-4bod.home.aster.pl>
References: <E1NpM3v-0000Ev-5q@sfp-svn-3.v30.ch3.sourceforge.com>
	<20100310135552.GA25950@linux-4bod.home.aster.pl>
Message-ID: <79891A07-D8C7-427B-9AD7-FA372B83F1D5@syenar.hu>

Hi,

>> 2010-03-10 14:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * config/win/cygwin.mk
>>  * config/win/mingw.mk
>>  * config/wce/mingwarm.mk
>>    % Added -pipe option to win/gcc compilers, this way it's faster 
>>      (but consume more memory) since it passes intermediate files 
>>      - I could only spot the .s file - without writing them to disk.
>>      Probably we should enable this on other platforms as well,
>>      and if it works out well, also in hbmk2.
> 
> I'm using -pipe for 10 or even more years in different Linux distros
> and it works quite well.
> The only one drawback in using -pipe is problem with compilation errors.
> Sometimes it may cause that unfinished and broken destination files are
> created because compilation/link process is interrupted by compile time
> errors.
> There was a time when this option was enabled in xharbour.spec indirectly
> by RPM_OPT_FLAGS and I removed it due to problems with compile time errors
> which caused that wrong/unfinished binary files were processed:
> 
>   2003-08-09 22:18 UTC+0200 Przemyslaw Czerpak <druzus@polbox.com>
>     * xharbour/xharbour.spec
>       * removed ${RPM_OPT_FLAGS} from C_USR
>         '-pipe' breaks building proces on RH9 when user doesn't install
>         old slang-devel
> 
> what disabled hidden functionality which allowed to build xHarbour
> without some libraries (errors were ignored).
> Anyhow it should not be a problem for current Harbour build process
> because now all errors interrupt it immediately.

So I assume it's safe to add it for gcc on other platforms 
as well. Any limitations here? F.e. does OS/2 or DJGPP support it?

> Maybe you only should check it for hbmk2 and if necessary add code
> to explicitly delete unfinished destination files on errors.

I did a very simple test with one good and one broken .c input 
file (with mingw only), but couldn't spot a difference in behavior 
when using -pipe. The .o file for the right one was created, 
for the wrong one, it wasn't.

Brgds,
Viktor

From maurilio.longo at libero.it  Wed Mar 10 09:33:09 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 10 09:33:23 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
Message-ID: <4B97ADA5.9060500@libero.it>

Viktor and all,

I have a little piece of code I built long ago with xharbour which was
producing a win32 .dll which was self-contained and was able to export some
function names to make it possible to create .cdx indexes from a program
written in another language and which was dinamically loading my .dll.

I try to be clearer.

mysource.c

HB_EXPORT void __stdcall xhb_dbUseArea( BOOL lNewArea,
                                        char * cDBE,
                                        char * cFileName,
                                        char * cAlias,
                                        BOOL lShared,
                                        BOOL lReadonly ) {

   static PHB_DYNS Dyns = NULL;

   if ( ! Dyns ) {
      Dyns = hb_dynsymFind( "_DBUSEAREA" );
   }

   if ( Dyns ) {
        hb_vmPushDynSym( Dyns );
   	hb_vmPushNil();
   	hb_vmPushLogical( lNewArea );
   	hb_vmPushString( cDBE, strlen( cDBE ) );
   	hb_vmPushString( cFileName, strlen( cFileName ) );
   	hb_vmPushString( cAlias, strlen( cAlias ) );
   	hb_vmPushLogical( lShared );
   	hb_vmPushLogical( lReadonly );
   	hb_vmDo( 6 );

   	return;
	}
}


mysource.prg

function _dbUseArea()

   does what it's name says, that is it calls
   harbour dbUseArea() to open a .dbf file
return nil


Now, using hbmk2 I'm not able to build my .dll

All I get is a long list of unresolved externals.

I call it with

hbmk2 -st -hbdyn mysource.prg mysource.c

I'd expect to have mysource.dll which contains the full harbour RTL+VM so that
the exported xhb_dbUseArea() is able to run.

Any idea how I could reach such a goal?

I can share the sources, they're not very clean or well thought over, but were
able to work as expected :)

Thanks.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Wed Mar 10 09:49:40 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 09:49:51 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <4B97ADA5.9060500@libero.it>
References: <4B97ADA5.9060500@libero.it>
Message-ID: <355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>

Hi Maurilio,

Try '-nohblib-' option. It should make the link 
errors disappear, but I'm not sure if it's enough 
to reach your final goal.

Brgds,
Viktor

On 2010 Mar 10, at 15:33, Maurilio Longo wrote:

> Viktor and all,
> 
> I have a little piece of code I built long ago with xharbour which was
> producing a win32 .dll which was self-contained and was able to export some
> function names to make it possible to create .cdx indexes from a program
> written in another language and which was dinamically loading my .dll.
> 
> I try to be clearer.
> 
> mysource.c
> 
> HB_EXPORT void __stdcall xhb_dbUseArea( BOOL lNewArea,
>                                        char * cDBE,
>                                        char * cFileName,
>                                        char * cAlias,
>                                        BOOL lShared,
>                                        BOOL lReadonly ) {
> 
>   static PHB_DYNS Dyns = NULL;
> 
>   if ( ! Dyns ) {
>      Dyns = hb_dynsymFind( "_DBUSEAREA" );
>   }
> 
>   if ( Dyns ) {
>        hb_vmPushDynSym( Dyns );
>   	hb_vmPushNil();
>   	hb_vmPushLogical( lNewArea );
>   	hb_vmPushString( cDBE, strlen( cDBE ) );
>   	hb_vmPushString( cFileName, strlen( cFileName ) );
>   	hb_vmPushString( cAlias, strlen( cAlias ) );
>   	hb_vmPushLogical( lShared );
>   	hb_vmPushLogical( lReadonly );
>   	hb_vmDo( 6 );
> 
>   	return;
> 	}
> }
> 
> 
> mysource.prg
> 
> function _dbUseArea()
> 
>   does what it's name says, that is it calls
>   harbour dbUseArea() to open a .dbf file
> return nil
> 
> 
> Now, using hbmk2 I'm not able to build my .dll
> 
> All I get is a long list of unresolved externals.
> 
> I call it with
> 
> hbmk2 -st -hbdyn mysource.prg mysource.c
> 
> I'd expect to have mysource.dll which contains the full harbour RTL+VM so that
> the exported xhb_dbUseArea() is able to run.
> 
> Any idea how I could reach such a goal?
> 
> I can share the sources, they're not very clean or well thought over, but were
> able to work as expected :)
> 
> Thanks.
> 
> Maurilio.
> 
> 
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Wed Mar 10 10:17:41 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 10 10:17:54 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>
References: <4B97ADA5.9060500@libero.it>
	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>
Message-ID: <4B97B815.9080009@libero.it>

Viktor,

no, its the other way around, I need to have the full RTL plus the HVM because
my exported (from the .dll) C code calls some .prg code.

Best regards.

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> Try '-nohblib-' option. It should make the link 
> errors disappear, but I'm not sure if it's enough 
> to reach your final goal.
> 
> Brgds,
> Viktor
> 
> On 2010 Mar 10, at 15:33, Maurilio Longo wrote:
> 
>> Viktor and all,
>>
>> I have a little piece of code I built long ago with xharbour which was
>> producing a win32 .dll which was self-contained and was able to export some
>> function names to make it possible to create .cdx indexes from a program
>> written in another language and which was dinamically loading my .dll.
>>
>> I try to be clearer.
>>
>> mysource.c
>>
>> HB_EXPORT void __stdcall xhb_dbUseArea( BOOL lNewArea,
>>                                        char * cDBE,
>>                                        char * cFileName,
>>                                        char * cAlias,
>>                                        BOOL lShared,
>>                                        BOOL lReadonly ) {
>>
>>   static PHB_DYNS Dyns = NULL;
>>
>>   if ( ! Dyns ) {
>>      Dyns = hb_dynsymFind( "_DBUSEAREA" );
>>   }
>>
>>   if ( Dyns ) {
>>        hb_vmPushDynSym( Dyns );
>>   	hb_vmPushNil();
>>   	hb_vmPushLogical( lNewArea );
>>   	hb_vmPushString( cDBE, strlen( cDBE ) );
>>   	hb_vmPushString( cFileName, strlen( cFileName ) );
>>   	hb_vmPushString( cAlias, strlen( cAlias ) );
>>   	hb_vmPushLogical( lShared );
>>   	hb_vmPushLogical( lReadonly );
>>   	hb_vmDo( 6 );
>>
>>   	return;
>> 	}
>> }
>>
>>
>> mysource.prg
>>
>> function _dbUseArea()
>>
>>   does what it's name says, that is it calls
>>   harbour dbUseArea() to open a .dbf file
>> return nil
>>
>>
>> Now, using hbmk2 I'm not able to build my .dll
>>
>> All I get is a long list of unresolved externals.
>>
>> I call it with
>>
>> hbmk2 -st -hbdyn mysource.prg mysource.c
>>
>> I'd expect to have mysource.dll which contains the full harbour RTL+VM so that
>> the exported xhb_dbUseArea() is able to run.
>>
>> Any idea how I could reach such a goal?
>>
>> I can share the sources, they're not very clean or well thought over, but were
>> able to work as expected :)
>>
>> Thanks.
>>
>> Maurilio.
>>
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From fperillo at gmail.com  Wed Mar 10 10:21:56 2010
From: fperillo at gmail.com (francesco perillo)
Date: Wed Mar 10 10:22:04 2010
Subject: [Harbour] RPMs of Harbour 2.0.0 for Opensuse 11.2 now available
Message-ID: <6943770e1003100721p2e196db0w5b23b29d92336996@mail.gmail.com>

at sourceforge:
https://sourceforge.net/projects/harbour-project/files/
From harbour.01 at syenar.hu  Wed Mar 10 10:24:59 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 10:25:10 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <4B97B815.9080009@libero.it>
References: <4B97ADA5.9060500@libero.it>
	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>
	<4B97B815.9080009@libero.it>
Message-ID: <303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>

> Viktor,
> 
> no, its the other way around, I need to have the full RTL plus the HVM because
> my exported (from the .dll) C code calls some .prg code.

That's what the switch does.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Mar 10 10:43:27 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 10:43:35 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
Message-ID: <20100310154326.GA26528@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, francesco perillo wrote:

Hi,

> > BCC is a joke these days.
> ooops... I have a production site working with a bbc version of Harbour...

It works but it's not very good choice.
There are some very serious bugs in BCC but for the ones known for us
we have workarounds, i.e. we do not use any floating point BCC low level
functions like _fpclass[l]() because they break 'double' number
calculations reducing the precision to 'float' level or we use
DLMALLOC as default memory manager because the one in BCC can cause
memory corruption in some situations.
But more important is the fact that BCC was not extended in last years
and now in comparison to other modern C compilers it does not have many
important features and optimization methods.
In contrast nearly each new GCC version has some important extensions
which improve optimization code and performance of final applications,
i.e. GCC 4.4 generates nearly twice faster code then 2.9x. (see results
below).

Harbour core code is written in a way which should help in optimization
process for compilers using some advanced optimization methods like
automatic autoinlining or automatic detecting of restricted areas due
to constant declarations or strict aliasing rules. It even does not have
such simple optimization methods like using assembler inline code for
commonly used CTRL functions like memset(), memcmp(), memmove(),
str*(), etc.
The results can be visible in the speed of final binaries.
You can use harbour/tests/speedtst.prg to compare the speed of Harbour
compiled with different C compilers.
You can also use it with other xbase/clipper compatible languages like
xHarbour, Clipper, CLIP, FlagShip, xBase++.

Below I'm attaching results for current Harbour SVN code. I cannot make
any tests with MSVC because I cannot use it with WINE. The speedtst.prg
code does not make any IO operations which may effect execution speed
so WINE and DOSEMU can execute final binaries naively without any time
consuming interrupts which may the results.
I used "official" MinGW with GCC 3.4.5 which gives slower code then GCC4.4.
I also do not have the newest PelleC 6.0.

GCC4.5 was used with -flto which enable link time optimization (LTO).
As you can see GCC4.4 in C++ mode and GCC4.5 gives the fastest code
and old PelleC compiler used by xHarbour.com (XCC) gives the slowest
code.
I haven't installed yet C++ compiler for GCC4.5 which potentially should
give the fastest code.
Please note that all OpenWatcom builds were created with disable IPO
optimization in HVM code. Due to compilation time we disabled HB_HVM_ALL=yes
optimization which improve the performance of final OW binaries.

Here are sorted the results.

Harbour 2.1.0dev (Rev. 14060) GNU C 4.5 (64-bit) x86-64
   [ total application time: ]....................................14.66

Harbour 2.1.0dev (Rev. 14060) GNU C++ 4.4 (64-bit) x86-64
   [ total application time: ]....................................14.65

Harbour 2.1.0dev (Rev. 14060) GNU C 4.4 (64-bit) x86-64
   [ total application time: ]....................................14.95

Harbour 2.1.0dev (Rev. 14060) Intel(R) (ICC) C 11.0 (64-bit) x86-64
   [ total application time: ]....................................16.22

Harbour 2.1.0dev (Rev. 14060) Open64 C 4.2.1 (64-bit) x86-64
   [ total application time: ]....................................16.29

Harbour 2.1.0dev (Rev. 14060) LLVM/Clang C 4.2.1 (64-bit) x86-64
   [ total application time: ]....................................17.57

Harbour 2.1.0dev (Rev. 14060) GNU C 4.4 (32-bit) x86
   [ total application time: ]....................................18.13

Harbour 2.1.0dev (Rev. 14060) Sun C (ident 0x5100) (64-bit) x86-64
   [ total application time: ]....................................18.21

Harbour 2.1.0dev (Rev. 14060) MinGW GNU C 3.4.5 (32-bit) x86
   [ total application time: ]....................................19.09

Harbour 2.1.0dev (Rev. 14060) Delorie GNU C 4.3.2 (DJGPP 2.04) (32-bit) x86
   [ total application time: ]....................................23.18

Harbour 2.1.0dev (Rev. 14060) Open Watcom C 12.80 (32-bit) x86 (LINUX)
   [ total application time: ]....................................23.54

Harbour 2.1.0dev (Rev. 14060) Open Watcom C++ 12.80.8 (32-bit) x86 (WIN)
   [ total application time: ]....................................25.65

Harbour 2.1.0dev (Rev. 14060) Open Watcom C 12.80 (32-bit) x86 (DOS)
   [ total application time: ]....................................25.76

Harbour 2.1.0dev (Rev. 14060) Borland C++ 5.5 (32-bit) x86
   [ total application time: ]....................................27.48

Harbour 2.1.0dev (Rev. 14060) GNU C 2.96 (32-bit) x86
   [ total application time: ]....................................29.39

Harbour 2.1.0dev (Rev. 14060) Pelles ISO C Compiler 4.50 (32-bit) x86
   [ total application time: ]....................................30.83

Harbour 2.1.0dev (Rev. 14060) Pelles ISO C Compiler 2.70 (32-bit) x86 (XCC)
   [ total application time: ]....................................34.70


For comparison I'm attaching result for some other compatible compilers.
xHarbour was compiled from current CVS with some small improvements and
fixes.

xHarbour build 1.2.1 Intl. (SimpLex) (Rev. 6691) GNU C 4.4 (64 bit) ?
   [ total application time: ]....................................32.42

xHarbour build 1.2.1 Intl. (SimpLex) (Rev. 6691) MinGW GNU C 3.4.5 (32 bit) ?
   [ total application time: ]....................................33.78

xHarbour build 1.2.1 Intl. (SimpLex) (Rev. 6691) Borland C++ 5.5 (32 bit) ?
   [ total application time: ]....................................44.02

FlagShip 4.48.2460 (1024 users) ?
   [ total application time: ]....................................80.04

best regards,
Przemek
From maurilio.longo at libero.it  Wed Mar 10 10:52:17 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 10 10:52:29 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>
References: <4B97ADA5.9060500@libero.it>	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>	<4B97B815.9080009@libero.it>
	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>
Message-ID: <4B97C031.5050502@libero.it>

Viktor,

if so, it does not work, I was able to build without errors using the attached
 .cmd file, I don't know if it works though.

BTW, there is no gtnul drivers, it keeps asking for gtwin, but I'm creating a
.dll so I don't need output. Using gtgui make no difference, it still requires
gtwin.

See attached file.

Thanks.

Maurilio.


Viktor Szak?ts wrote:
>> Viktor,
>>
>> no, its the other way around, I need to have the full RTL plus the HVM because
>> my exported (from the .dll) C code calls some .prg code.
> 
> That's what the switch does.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------
hbmk2 -st -hbdyn xhbcdx.prg xhb_cdx.c -lrddcdx -lrddntx -lrddnsx -lhbsix -lhbmaindllh -lhbpcre -lhbrdd -lrddfpt -lhbcpage -lhbcommon -lhbcplr -lhbct -lhbgt -lhblang -lhbhsx -lhbzlib -lhbpp -lhbmacro -lgtgui -lgtwin -lhbrtl -lhbvm
From harbour.01 at syenar.hu  Wed Mar 10 10:54:08 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar 10 10:54:20 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100310154326.GA26528@linux-4bod.home.aster.pl>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
Message-ID: <B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>

Hi Przemek,

Is it also true that C++ mode enhances speed for 
x86 code? I see it slightly does for x86_64.

Brgds,
Viktor

On 2010 Mar 10, at 16:43, Przemys?aw Czerpak wrote:

> On Wed, 10 Mar 2010, francesco perillo wrote:
> 
> Hi,
> 
>>> BCC is a joke these days.
>> ooops... I have a production site working with a bbc version of Harbour...
> 
> It works but it's not very good choice.
> There are some very serious bugs in BCC but for the ones known for us
> we have workarounds, i.e. we do not use any floating point BCC low level
> functions like _fpclass[l]() because they break 'double' number
> calculations reducing the precision to 'float' level or we use
> DLMALLOC as default memory manager because the one in BCC can cause
> memory corruption in some situations.
> But more important is the fact that BCC was not extended in last years
> and now in comparison to other modern C compilers it does not have many
> important features and optimization methods.
> In contrast nearly each new GCC version has some important extensions
> which improve optimization code and performance of final applications,
> i.e. GCC 4.4 generates nearly twice faster code then 2.9x. (see results
> below).
> 
> Harbour core code is written in a way which should help in optimization
> process for compilers using some advanced optimization methods like
> automatic autoinlining or automatic detecting of restricted areas due
> to constant declarations or strict aliasing rules. It even does not have
> such simple optimization methods like using assembler inline code for
> commonly used CTRL functions like memset(), memcmp(), memmove(),
> str*(), etc.
> The results can be visible in the speed of final binaries.
> You can use harbour/tests/speedtst.prg to compare the speed of Harbour
> compiled with different C compilers.
> You can also use it with other xbase/clipper compatible languages like
> xHarbour, Clipper, CLIP, FlagShip, xBase++.
> 
> Below I'm attaching results for current Harbour SVN code. I cannot make
> any tests with MSVC because I cannot use it with WINE. The speedtst.prg
> code does not make any IO operations which may effect execution speed
> so WINE and DOSEMU can execute final binaries naively without any time
> consuming interrupts which may the results.
> I used "official" MinGW with GCC 3.4.5 which gives slower code then GCC4.4.
> I also do not have the newest PelleC 6.0.
> 
> GCC4.5 was used with -flto which enable link time optimization (LTO).
> As you can see GCC4.4 in C++ mode and GCC4.5 gives the fastest code
> and old PelleC compiler used by xHarbour.com (XCC) gives the slowest
> code.
> I haven't installed yet C++ compiler for GCC4.5 which potentially should
> give the fastest code.
> Please note that all OpenWatcom builds were created with disable IPO
> optimization in HVM code. Due to compilation time we disabled HB_HVM_ALL=yes
> optimization which improve the performance of final OW binaries.
> 
> Here are sorted the results.
> 
> Harbour 2.1.0dev (Rev. 14060) GNU C 4.5 (64-bit) x86-64
>   [ total application time: ]....................................14.66
> 
> Harbour 2.1.0dev (Rev. 14060) GNU C++ 4.4 (64-bit) x86-64
>   [ total application time: ]....................................14.65
> 
> Harbour 2.1.0dev (Rev. 14060) GNU C 4.4 (64-bit) x86-64
>   [ total application time: ]....................................14.95
> 
> Harbour 2.1.0dev (Rev. 14060) Intel(R) (ICC) C 11.0 (64-bit) x86-64
>   [ total application time: ]....................................16.22
> 
> Harbour 2.1.0dev (Rev. 14060) Open64 C 4.2.1 (64-bit) x86-64
>   [ total application time: ]....................................16.29
> 
> Harbour 2.1.0dev (Rev. 14060) LLVM/Clang C 4.2.1 (64-bit) x86-64
>   [ total application time: ]....................................17.57
> 
> Harbour 2.1.0dev (Rev. 14060) GNU C 4.4 (32-bit) x86
>   [ total application time: ]....................................18.13
> 
> Harbour 2.1.0dev (Rev. 14060) Sun C (ident 0x5100) (64-bit) x86-64
>   [ total application time: ]....................................18.21
> 
> Harbour 2.1.0dev (Rev. 14060) MinGW GNU C 3.4.5 (32-bit) x86
>   [ total application time: ]....................................19.09
> 
> Harbour 2.1.0dev (Rev. 14060) Delorie GNU C 4.3.2 (DJGPP 2.04) (32-bit) x86
>   [ total application time: ]....................................23.18
> 
> Harbour 2.1.0dev (Rev. 14060) Open Watcom C 12.80 (32-bit) x86 (LINUX)
>   [ total application time: ]....................................23.54
> 
> Harbour 2.1.0dev (Rev. 14060) Open Watcom C++ 12.80.8 (32-bit) x86 (WIN)
>   [ total application time: ]....................................25.65
> 
> Harbour 2.1.0dev (Rev. 14060) Open Watcom C 12.80 (32-bit) x86 (DOS)
>   [ total application time: ]....................................25.76
> 
> Harbour 2.1.0dev (Rev. 14060) Borland C++ 5.5 (32-bit) x86
>   [ total application time: ]....................................27.48
> 
> Harbour 2.1.0dev (Rev. 14060) GNU C 2.96 (32-bit) x86
>   [ total application time: ]....................................29.39
> 
> Harbour 2.1.0dev (Rev. 14060) Pelles ISO C Compiler 4.50 (32-bit) x86
>   [ total application time: ]....................................30.83
> 
> Harbour 2.1.0dev (Rev. 14060) Pelles ISO C Compiler 2.70 (32-bit) x86 (XCC)
>   [ total application time: ]....................................34.70
> 
> 
> For comparison I'm attaching result for some other compatible compilers.
> xHarbour was compiled from current CVS with some small improvements and
> fixes.
> 
> xHarbour build 1.2.1 Intl. (SimpLex) (Rev. 6691) GNU C 4.4 (64 bit) ?
>   [ total application time: ]....................................32.42
> 
> xHarbour build 1.2.1 Intl. (SimpLex) (Rev. 6691) MinGW GNU C 3.4.5 (32 bit) ?
>   [ total application time: ]....................................33.78
> 
> xHarbour build 1.2.1 Intl. (SimpLex) (Rev. 6691) Borland C++ 5.5 (32 bit) ?
>   [ total application time: ]....................................44.02
> 
> FlagShip 4.48.2460 (1024 users) ?
>   [ total application time: ]....................................80.04
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Wed Mar 10 11:13:57 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 11:14:04 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <4B97C031.5050502@libero.it>
References: <4B97ADA5.9060500@libero.it>
	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>
	<4B97B815.9080009@libero.it>
	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>
	<4B97C031.5050502@libero.it>
Message-ID: <20100310161356.GA10479@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, Maurilio Longo wrote:

Hi,

> if so, it does not work, I was able to build without errors using the attached
>  .cmd file, I don't know if it works though.

I rather think that you haven't added trailing - to this switch.
When '-hbdyn' disables linking with Harbour binaries. '-nohblib-'
reenable this libraries so for sure it should pacify the problem
of unresolved HVM/HBRTL functions.
If you want to check which libraries are used in link command then
use -trace hbmk2 switch.

> BTW, there is no gtnul drivers, it keeps asking for gtwin, but I'm creating a

Not true. It is. It's always present in HBRTL.
It's not possible to create any Harbour application with GTNUL.

> .dll so I don't need output. Using gtgui make no difference, it still requires
> gtwin.

hbmk2 --help
should greatly help to most of your problems, i.e. -gt<name> switch which
force linking given GTs. It can be used more then once when you want to
link many different GT drivers and then switch between them at runtime.
The 1-st -gt* switch also sets the default GT driver.

best regards,
Przemek
From bruno.luciani at gmail.com  Wed Mar 10 11:22:48 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Mar 10 11:22:57 2010
Subject: [Harbour] libgpm ?
Message-ID: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>

when I have installes libgpm-devel in linux UBUNTU

Harbour detect it , and generates gttrm with GPM support , but generates a
lib named libgpm.a  ??

I saw it in any moment , but i don' t see anymore , and have problems
compiling programs using gttrm

But desinstaling libgpm-devel  now works ok but without GPM support


this the error:

/usr/local/lib/harbour/libgttrm.a(gttrm.o): In function
`hb_gt_trm_mouse_Hide':

gttrm.c:(.text+0x16e): undefined reference to `gpm_visiblepointer'

/usr/local/lib/harbour/libgttrm.a(gttrm.o): In function
`hb_gt_trm_mouse_Show':

gttrm.c:(.text+0x4c3): undefined reference to `gpm_zerobased'

gttrm.c:(.text+0x4c8): undefined reference to `_gpm_arg'

gttrm.c:(.text+0x4ce): undefined reference to `_gpm_buf'

gttrm.c:(.text+0x4d5): undefined reference to `gpm_visiblepointer'

gttrm.c:(.text+0x503): undefined reference to `gpm_consolefd'

gttrm.c:(.text+0x50b): undefined reference to `_gpm_buf'

/usr/local/lib/harbour/libgttrm.a(gttrm.o): In function
`hb_gt_trm_mouse_SetPos':

gttrm.c:(.text+0x14f4): undefined reference to `gpm_visiblepointer'

gttrm.c:(.text+0x150b): undefined reference to `gpm_zerobased'

gttrm.c:(.text+0x1511): undefined reference to `_gpm_arg'

gttrm.c:(.text+0x1517): undefined reference to `_gpm_buf'

gttrm.c:(.text+0x1544): undefined reference to `_gpm_buf'

gttrm.c:(.text+0x1550): undefined reference to `gpm_consolefd'

/usr/local/lib/harbour/libgttrm.a(gttrm.o): In function `hb_gt_trm_Refresh':


gttrm.c:(.text+0x165e): undefined reference to `gpm_visiblepointer'

gttrm.c:(.text+0x1673): undefined reference to `gpm_zerobased'

gttrm.c:(.text+0x1678): undefined reference to `_gpm_arg'

gttrm.c:(.text+0x167e): undefined reference to `_gpm_buf'

gttrm.c:(.text+0x16a9): undefined reference to `gpm_consolefd'

gttrm.c:(.text+0x16b1): undefined reference to `_gpm_buf'

/usr/local/lib/harbour/libgttrm.a(gttrm.o): In function `set_gpmevt':

gttrm.c:(.text+0x2a91): undefined reference to `Gpm_GetEvent'

/usr/local/lib/harbour/libgttrm.a(gttrm.o): In function `hb_gt_trm_Exit':

gttrm.c:(.text+0x4f68): undefined reference to `gpm_fd'

gttrm.c:(.text+0x500a): undefined reference to `Gpm_Close'

/usr/local/lib/harbour/libgttrm.a(gttrm.o): In function `hb_gt_trm_Init':

gttrm.c:(.text+0x5fb4): undefined reference to `gpm_zerobased'

gttrm.c:(.text+0x5fbe): undefined reference to `gpm_visiblepointer'

gttrm.c:(.text+0x5fd2): undefined reference to `Gpm_Open'

gttrm.c:(.text+0x5fdf): undefined reference to `gpm_fd'

gttrm.c:(.text+0x6010): undefined reference to `gpm_fd'

gttrm.c:(.text+0x6031): undefined reference to `gpm_fd'

gttrm.c:(.text+0x6059): undefined reference to `gpm_fd'

gttrm.c:(.text+0x6079): undefined reference to `gpm_fd'

/usr/local/lib/harbour/libgttrm.a(gttrm.o):gttrm.c:(.text+0x6092): more
undefined references to `gpm_fd' follow

collect2: ld returned 1 exit status
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/52a7dec2/attachment.html
From maurilio.longo at libero.it  Wed Mar 10 11:26:48 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 10 11:27:01 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <20100310161356.GA10479@linux-4bod.home.aster.pl>
References: <4B97ADA5.9060500@libero.it>	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>	<4B97B815.9080009@libero.it>	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>	<4B97C031.5050502@libero.it>
	<20100310161356.GA10479@linux-4bod.home.aster.pl>
Message-ID: <4B97C848.2010704@libero.it>

Przemyslaw,

Przemys?aw Czerpak wrote:
> I rather think that you haven't added trailing - to this switch.
> When '-hbdyn' disables linking with Harbour binaries. '-nohblib-'
> reenable this libraries so for sure it should pacify the problem
> of unresolved HVM/HBRTL functions.
> If you want to check which libraries are used in link command then
> use -trace hbmk2 switch.

I did add it, but I had -hbdyn _after_ -nohblib-, so it was overrinding it :)
and I had -hbdyn after because I thought that -hbdyn required after it the
name of the module to build as a .dll (like -o in gcc), I was wrong, though.

> 
>> BTW, there is no gtnul drivers, it keeps asking for gtwin, but I'm creating a
> 
> Not true. It is. It's always present in HBRTL.
> It's not possible to create any Harbour application with GTNUL.
> 
>> .dll so I don't need output. Using gtgui make no difference, it still requires
>> gtwin.
> 

No, it was not working with my .cmd file, either adding -gtnul to hbmk2 or
adding -lgtgui to list of .dll it still asked for gtwin with an unresolved
external.

But, now that hbmk2 with the correct order of parameters works I can simply
call it like this:

hbmk2 -strip -st -gtgui -hbdyn -hbnolib- my.prg my_c.c

and I get my.dll without errors.

Now I just have to see if it works :)

Thanks for helping me, guys.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Wed Mar 10 11:47:43 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 10 11:47:56 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <4B97C848.2010704@libero.it>
References: <4B97ADA5.9060500@libero.it>	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>	<4B97B815.9080009@libero.it>	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>	<4B97C031.5050502@libero.it>	<20100310161356.GA10479@linux-4bod.home.aster.pl>
	<4B97C848.2010704@libero.it>
Message-ID: <4B97CD2F.4070304@libero.it>

No,

it does not work :(

Question: do I have to startup the HVM or does it start up by itself as soon
as the .dll is loaded?

Thanks.

Maurilio.


Maurilio Longo wrote:
> Przemyslaw,
> 
> Przemys?aw Czerpak wrote:
>> I rather think that you haven't added trailing - to this switch.
>> When '-hbdyn' disables linking with Harbour binaries. '-nohblib-'
>> reenable this libraries so for sure it should pacify the problem
>> of unresolved HVM/HBRTL functions.
>> If you want to check which libraries are used in link command then
>> use -trace hbmk2 switch.
> 
> I did add it, but I had -hbdyn _after_ -nohblib-, so it was overrinding it :)
> and I had -hbdyn after because I thought that -hbdyn required after it the
> name of the module to build as a .dll (like -o in gcc), I was wrong, though.
> 
>>> BTW, there is no gtnul drivers, it keeps asking for gtwin, but I'm creating a
>> Not true. It is. It's always present in HBRTL.
>> It's not possible to create any Harbour application with GTNUL.
>>
>>> .dll so I don't need output. Using gtgui make no difference, it still requires
>>> gtwin.
> 
> No, it was not working with my .cmd file, either adding -gtnul to hbmk2 or
> adding -lgtgui to list of .dll it still asked for gtwin with an unresolved
> external.
> 
> But, now that hbmk2 with the correct order of parameters works I can simply
> call it like this:
> 
> hbmk2 -strip -st -gtgui -hbdyn -hbnolib- my.prg my_c.c
> 
> and I get my.dll without errors.
> 
> Now I just have to see if it works :)
> 
> Thanks for helping me, guys.
> 
> Maurilio.
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Wed Mar 10 11:58:04 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 10 11:58:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14122] trunk/harbour
Message-ID: <E1NpPES-0007Jn-Ri@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14122
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14122&view=rev
Author:   vszakats
Date:     2010-03-10 16:58:00 +0000 (Wed, 10 Mar 2010)

Log Message:
-----------
2010-03-10 17:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/beos/gcc.mk
  * config/bsd/gcc.mk
  * config/darwin/gcc.mk
  * config/hpux/gcc.mk
  * config/dos/djgpp.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
    % Added -pipe gcc option for rest of gcc targets.

  * utils/hbmk2/hbmk2.prg
    % Added -pipe gcc option for all gcc targets in hbmk2.

  * ChangeLog
    + Added missing item from prev entry:
      * config/win/mingw.mk
        - Disabled -fomit-frame-pointer for mingw64. It's not necessary 
          and/or automatically enabled.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/beos/gcc.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From suporte at tribalbrasil.com  Wed Mar 10 13:11:06 2010
From: suporte at tribalbrasil.com (Qatan)
Date: Wed Mar 10 13:11:54 2010
Subject: [Harbour] recommended C compiler for Win
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>	<4B963662.6090508@libero.it>	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>	<4B975924.2090905@libero.it><3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
	<4B977FD5.1080001@libero.it>
Message-ID: <040AEAF45E2E4E31B592CD65F7AE6FB0@supports>

Maurilio,

> PS. I've installed dragon media, smartsvn and I was able to build harbour
> on
> win32 very smoothly.
>
> Maurilio.

Just to share my humble experience I've installed "MingW-5.1.6",
"TortoiseSVN-1.6.7.18415-win32-svn-1.6.9.", "UPX-304w" without any problems
and I was able to build harbour from SVN on WinXP very well.

The mingw installation I found here:
http://sourceforge.net/projects/mingw/files/Automated%20MinGW%20Installer/
It was very simple for me. Maybe I was a lucky "sailor in the first voyage"?

Qatan


From lorenzo.fiorini at gmail.com  Wed Mar 10 13:34:00 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar 10 13:34:08 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
References: <4B961429.9040505@libero.it> <4B96198B.2010608@libero.it>
	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
	<4B963662.6090508@libero.it>
	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
	<4B975924.2090905@libero.it>
	<3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
	<4B977FD5.1080001@libero.it>
	<040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
Message-ID: <9257026e1003101034s50e85f30w83e5a0397224ec0b@mail.gmail.com>

On Wed, Mar 10, 2010 at 7:11 PM, Qatan <suporte@tribalbrasil.com> wrote:

> It was very simple for me. Maybe I was a lucky "sailor in the first voyage"?

No, I have the same experience: I just run the mingw installer, the
msys installer, get gd, zlib, openssl from gnuwin32 and run the
installers, get eclipse and git and run the installers, get postgresql
and apache and run the installers.
Using dirs like c:\opt, c:\usr and c:\var is hard to see the
differences between XP/msys, OSX and Linux environment.

best regards,
Lorenzo
From vouchcac at users.sourceforge.net  Wed Mar 10 13:40:28 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Mar 10 13:40:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14123] trunk/harbour
Message-ID: <E1NpQpY-0004cw-6s@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14123
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14123&view=rev
Author:   vouchcac
Date:     2010-03-10 18:40:26 +0000 (Wed, 10 Mar 2010)

Log Message:
-----------
2010-03-10 10:36 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/ffn.png
  * contrib/hbide/resources/panel_1.png
  * contrib/hbide/resources/panel_4.png
  * contrib/hbide/resources/panel_6.png
    ! Some cosmatic changes.

  * contrib/hbqt/hbqt.ch
    + Added more constants.

  * contrib/hbqt/hbqt_hbslots.cpp
  * contrib/hbqt/hbqt_hbslots.h
    + Added more slots for QCompleter.
    ! Changed some exiting : (text) -> (QString)

  * contrib/hbide/ideactions.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/idehome.prg
    + Prepared for auto completion of functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/idehome.prg
    trunk/harbour/contrib/hbide/resources/ffn.png
    trunk/harbour/contrib/hbide/resources/panel_1.png
    trunk/harbour/contrib/hbide/resources/panel_4.png
    trunk/harbour/contrib/hbide/resources/panel_6.png
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbslots.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Mar 10 14:11:04 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 14:11:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14121] trunk/harbour
In-Reply-To: <79891A07-D8C7-427B-9AD7-FA372B83F1D5@syenar.hu>
References: <E1NpM3v-0000Ev-5q@sfp-svn-3.v30.ch3.sourceforge.com>
	<20100310135552.GA25950@linux-4bod.home.aster.pl>
	<79891A07-D8C7-427B-9AD7-FA372B83F1D5@syenar.hu>
Message-ID: <20100310191104.GB10479@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, Szak?ts Viktor wrote:

Hi,

> So I assume it's safe to add it for gcc on other platforms 
> as well. Any limitations here? F.e. does OS/2 or DJGPP support it?

I have not idea how it works in non *nix builds.
In DJGPP pipes are emulated by normal files and DOS is single process
environment so using this switch here can only seriously reduce the
performance. The version of GCC I have does not support it.
BTW now when we added -j<n> support in GNU make using -pipe does not
reduce the Harbour build time. Just simply we effectively use all
CPU power setting <n> to value greater then number of CPUs but in
the past the difference were noticeable.

> > Maybe you only should check it for hbmk2 and if necessary add code
> > to explicitly delete unfinished destination files on errors.
> I did a very simple test with one good and one broken .c input 
> file (with mingw only), but couldn't spot a difference in behavior 
> when using -pipe. The .o file for the right one was created, 
> for the wrong one, it wasn't.

AFAIR it was always working without any problems in simple tests
when small files were used. The problems appeared only for long files
when backends begin to process incoming data and write the results
and the compilation was interrupted due to errors.
It's possible that it is fixed in current GNU tools anyhow it maybe
be hard to well test it.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Mar 10 14:22:04 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 14:22:12 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <4B97C848.2010704@libero.it>
References: <4B97ADA5.9060500@libero.it>
	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>
	<4B97B815.9080009@libero.it>
	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>
	<4B97C031.5050502@libero.it>
	<20100310161356.GA10479@linux-4bod.home.aster.pl>
	<4B97C848.2010704@libero.it>
Message-ID: <20100310192204.GC10479@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, Maurilio Longo wrote:

Hi,

> No, it was not working with my .cmd file, either adding -gtnul to hbmk2 or
> adding -lgtgui to list of .dll it still asked for gtwin with an unresolved
> external.

Yes and it should. Please look at harbour/doc/gtapi.txt. The second part
of this file is copy of may message I sent to this list few years ago.
Please read about:
   ANNOUNCE HB_GTSYS
and how it works.

> But, now that hbmk2 with the correct order of parameters works I can simply
> call it like this:
> hbmk2 -strip -st -gtgui -hbdyn -hbnolib- my.prg my_c.c
> and I get my.dll without errors.
> Now I just have to see if it works :)

I think that you may want to add code to initialize HVM.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Mar 10 14:30:56 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 10 14:31:25 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <9257026e1003101034s50e85f30w83e5a0397224ec0b@mail.gmail.com>
References: <4B961429.9040505@libero.it>
	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu> 
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com> 
	<4B963662.6090508@libero.it>
	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu> 
	<4B975924.2090905@libero.it>
	<3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu> 
	<4B977FD5.1080001@libero.it>
	<040AEAF45E2E4E31B592CD65F7AE6FB0@supports> 
	<9257026e1003101034s50e85f30w83e5a0397224ec0b@mail.gmail.com>
Message-ID: <609353e71003101130r7b0bde55q3e3c5cfd544a2559@mail.gmail.com>

reading version 5.2 i think to a new version of gcc that is 4.4.1 (afaik
dwarf)
http://nuwen.net/mingw.html#about

<http://nuwen.net/mingw.html#about>Instead http://www.tdragon.net/recentgcc/
use a updated .4.4.1 TDM-2

2010/3/10 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>

> On Wed, Mar 10, 2010 at 7:11 PM, Qatan <suporte@tribalbrasil.com> wrote:
>
> > It was very simple for me. Maybe I was a lucky "sailor in the first
> voyage"?
>
> No, I have the same experience: I just run the mingw installer, the
> msys installer, get gd, zlib, openssl from gnuwin32 and run the
> installers, get eclipse and git and run the installers, get postgresql
> and apache and run the installers.
> Using dirs like c:\opt, c:\usr and c:\var is hard to see the
> differences between XP/msys, OSX and Linux environment.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/db50ecc2/attachment.html
From druzus at acn.waw.pl  Wed Mar 10 14:35:28 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 14:35:35 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <4B97CD2F.4070304@libero.it>
References: <4B97ADA5.9060500@libero.it>
	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>
	<4B97B815.9080009@libero.it>
	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>
	<4B97C031.5050502@libero.it>
	<20100310161356.GA10479@linux-4bod.home.aster.pl>
	<4B97C848.2010704@libero.it> <4B97CD2F.4070304@libero.it>
Message-ID: <20100310193527.GD10479@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, Maurilio Longo wrote:

Hi,

> it does not work :(
> Question: do I have to startup the HVM or does it start up by itself as soon
> as the .dll is loaded?

You haven't added any code to initialize HVM after loading DLL file.
You are creating DLL which uses its own HVM and you have to initialize it.
For single thread support it's quite simple and the code below should be
enough. I haven't tested it.

best regards,
Przemek


   #include "hbvm.h"
   #include <windows.h>

   extern void hb_winmainArgInit( HANDLE hInstance, HANDLE hPrevInstance, int iCmdShow );

   #if defined( HB_OS_WIN_CE ) && ( defined( _MSC_VER ) || defined( __POCC__ ) )
   BOOL WINAPI HB_DLL_ENTRY_POINT( HANDLE hInstance, DWORD dwReason, PVOID pvReserved )
   #else
   BOOL WINAPI HB_DLL_ENTRY_POINT( HINSTANCE hInstance, DWORD dwReason, PVOID pvReserved )
   #endif
   {
      hb_winmainArgInit( hInstance, 0, 0 );
      HB_SYMBOL_UNUSED( pvReserved );

      switch( fdwReason )
      {
         case DLL_PROCESS_ATTACH:
            hb_vmInit( HB_FALSE );
            break;
         case DLL_PROCESS_DETACH:
            hb_vmQuit();
            break;
      }
      return TRUE;
   }

   #if defined( __DMC__ ) || defined( __WATCOMC__ )
      HB_EXTERN_BEGIN
      void hb_forceLinkMainWin( void ) {}
      void hb_forceLinkMainStd( void ) {}
      HB_EXTERN_END
   #endif
From harbour.01 at syenar.hu  Wed Mar 10 14:43:59 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 14:44:11 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>	<4B963662.6090508@libero.it>	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>	<4B975924.2090905@libero.it><3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
	<4B977FD5.1080001@libero.it>
	<040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
Message-ID: <8798429A-714F-48D9-BA89-DD5CE7EACA01@syenar.hu>

Hi,

On 2010 Mar 10, at 19:11, Qatan wrote:

> Maurilio,
> 
>> PS. I've installed dragon media, smartsvn and I was able to build harbour
>> on
>> win32 very smoothly.
>> 
>> Maurilio.
> 
> Just to share my humble experience I've installed "MingW-5.1.6",
> "TortoiseSVN-1.6.7.18415-win32-svn-1.6.9.", "UPX-304w" without any problems
> and I was able to build harbour from SVN on WinXP very well.

Just don't be mistaken by the misleading versioning of 
"mingw" here, 5.1.6 has nothing to do with the gcc version 
which the distro is based on, it's their own numbering 
(similar to cygwin (1.7) and djgpp (2.04b) verison).

> The mingw installation I found here:
> http://sourceforge.net/projects/mingw/files/Automated%20MinGW%20Installer/
> It was very simple for me. Maybe I was a lucky "sailor in the first voyage"?

Now it's fine, the only problem is that it gives 
you gcc version 3.4.5, which is a 6 years old version, 
much less efficient than current ones.

[ Even if you chose "candidate" or "current". ]

[ Besides it install itself into start menu, plus 
saves temporary files without asking about it or 
deleting them. But that's really minor issue compared 
to the rest. ]

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Mar 10 14:48:14 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 14:48:22 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
Message-ID: <20100310194814.GA17585@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, Szak?ts Viktor wrote:

Hi,

> Is it also true that C++ mode enhances speed for 
> x86 code? I see it slightly does for x86_64.

I do not know. In general C++ mode is a little bit more restrictive then
pure C so it's possible that some compilers which want to keep strict C
standards do not make some optimizations which can be safely enabled in
C++ mode. This is the only reason of potential differences because C++ RTL
usually is a little bit more heavy and slower.
I remember that in the past we have in the source code some notes about
MSVC "bugs" with workarounds for them. In fact it was examples of code
which interacts with optimizer and in C++ mode may not work so the problem
was in our code not in MSVC. For very long time we were using MSVC in C++
mode only so I cannot say if MS enabled all possible optimization also for
C mode or it was exploited in C++ mode only.
It's interesting to check if there are any speed differences in MSVC C and
C++ builds.
Can you check it?

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Mar 10 14:49:43 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 14:49:57 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <609353e71003101130r7b0bde55q3e3c5cfd544a2559@mail.gmail.com>
References: <4B961429.9040505@libero.it>
	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
	<4B963662.6090508@libero.it>
	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
	<4B975924.2090905@libero.it>
	<3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
	<4B977FD5.1080001@libero.it>
	<040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
	<9257026e1003101034s50e85f30w83e5a0397224ec0b@mail.gmail.com>
	<609353e71003101130r7b0bde55q3e3c5cfd544a2559@mail.gmail.com>
Message-ID: <45F14DBC-89F2-44E7-933C-833F70472710@syenar.hu>

> reading version 5.2 i think to a new version of gcc that is 4.4.1 (afaik dwarf)
> http://nuwen.net/mingw.html#about

This is another binary distro with yet another package 
versioning scheme. 5.2 cannot be compared to mingw official 
package version numbering.

Also DWARF support is not connected to gcc version number. 
Both DWARF and SJLJ exist for version 4.4.1 on tdragon site.

Please don't different release package version numbers 
with gcc version numbers.

Brgds,
Viktor

From carozodequilmes at gmail.com  Wed Mar 10 15:03:30 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Mar 10 15:03:42 2010
Subject: [Harbour] Redirect STDOUT
Message-ID: <578c73341003101203u31ffdfb3i9b9fc7da6aacc669@mail.gmail.com>

Hi, in an old project, I have a little C ansi program (found in Internet or
in the MiniGUI, I don't remmeber) that execute and executable file and
redirect the standard output to file.

The C program run fine and trap Standard Output from another C program that
made:

fprintf( stdout , 'hello' );

but I can't redirect (or trap) the "?" (or QOUT) command from a Harbour
program.

Is this true or I'm wrong ???

Thanks in advance and sorry by my bad english

CdQ

Program C:

*/* Copyright (C) 1998 DJ Delorie, see COPYING.DJ for details */*
*/* Copyright (C) 1995 DJ Delorie, see COPYING.DJ for details */*
*/**
*
*
*   Redir 2.0 Copyright (C) 1995-1998 DJ Delorie (dj@delorie.com)*
*   Modified 1999 by Mumit Khan <khan@xraylith.wisc.edu>*
*
*
*   Redir is free software; you can redistribute it and/or modify it*
*   under the terms of the GNU General Public License as published by*
*   the Free Software Foundation; either version 2, or (at your option)*
*   any later version.*
*
*
*   Redir is distributed in the hope that it will be useful, but*
*   WITHOUT ANY WARRANTY; without even the implied warranty of*
*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU*
*   General Public License for more details.*
*
*
**/*
*
*
*#include <ctype.h>*
*#include <errno.h>*
*#include <fcntl.h>*
*#include <process.h>*
*#include <stdio.h>*
*#include <stdlib.h>*
*#include <string.h>*
*#include "US_Log.h"*
*
*
*/* Here's the deal.  We need to pass the command-line arguments to the*
*   child program *exactly* as we got them.  This means we cannot allow*
*   any wildcard expansion, we need to retain any quote characters, and*
*   we need to disable response files processing.  That's why we must*
*   link with CRT_noglob.o!  */*
*
*
*void xmalloc_failed(size_t size)*
*{*
*  fprintf(stderr, "Out of memory allocating %lu bytes\n", (unsigned long)
size);*
*  exit(1);*
*}*
*
*
*void *xmalloc (size_t size)*
*{*
*  void *newmem;*
*
*
*  if (size == 0)*
*    size = 1;*
*  newmem = malloc (size);*
*  if (!newmem)*
*    xmalloc_failed (size);*
*
*
*  return (newmem);*
*}*
*
*
*void *xrealloc(void *oldmem, size_t size)*
*{*
*  void *newmem;*
*
*
*  if (size == 0)*
*    size = 1;*
*  if (!oldmem)*
*    newmem = malloc (size);*
*  else*
*    newmem = realloc (oldmem, size);*
*  if (!newmem)*
*    xmalloc_failed (size);*
*
*
*  return (newmem);*
*}*
*
*
*int display_exit_code=0;*
*int std_err_fid;*
*FILE *std_err;*
*int rv;*
*
*
*static void*
*usage(void)*
*{*
*  /*
----+----1----+----2----+----3----+----4----+----5----+----6----+----7----+----8
*/*
*  fprintf(stderr, "Redir 2.0 Copyright (C) 1995 - 1998 DJ Delorie (
dj@delorie.com)\n");*
*  fprintf(stderr, "Modified 1999 for Mingw32 by Mumit Khan <
khan@xraylith.wisc.edu>\n");*
*  fprintf(stderr, "Distribute freely.  There is NO WARRANTY.\n");*
*  fprintf(stderr, "This program is protected by the GNU General Public
License.\n\n");*
*  fprintf(stderr, "Usage: redir [-i file] [-o file] [-oa file] [-e file]
[-ea file]\n");*
*  fprintf(stderr, "                [-eo] [-oe] [-x] command [args . .
.]\n\n");*
*  fprintf(stderr, "  -i file   redirect stdandard input from file\n");*
*  fprintf(stderr, "  -o file   redirect standard output to file\n");*
*  fprintf(stderr, "  -oa file  append standard output to file\n");*
*  fprintf(stderr, "  -e file   redirect standard error to file\n");*
*  fprintf(stderr, "  -ea file  append standard error to file\n");*
*  fprintf(stderr, "  -eo       redirect standard error to standard
output\n");*
*  fprintf(stderr, "  -oe       redirect standard output to standard
error\n");*
*  fprintf(stderr, "  -x        print exit code\n");*
*  fprintf(stderr, "  command   the program you want to run, with
arguments\n\n");*
*  fprintf(stderr, "Options are processed in the order they are
encountered.\n\n");*
*  exit(1);*
*}*
*
*
*static void*
*fatal(const char *msg, const char *fn)*
*{*
*  fprintf(std_err, msg, fn);*
*  fprintf(std_err, "\nThe error was: %s\n", strerror(errno));*
*  exit(1);*
*}*
*
*
*static void*
*unquote(const char *src, char *dst)*
*{*
*  int quote=0;*
*
*
*  while ((quote || !isspace(*src)) && *src)*
*  {*
*    if (quote && *src == quote)*
*    {*
*      quote = 0;*
*      src++;*
*    }*
*    else if (!quote && (*src == '\'' || *src == '"'))*
*    {*
*      quote = *src;*
*      src++;*
*    }*
*    else if (*src == '\\' && strchr("'\"", src[1]) && src[1])*
*    {*
*      src++;*
*      *dst++ = *src++;*
*    }*
*    else*
*    {*
*      *dst++ = *src++;*
*    }*
*  }*
*  *dst = '\0';*
*}*
*
*
*static char **
*unquoted_argv(int argc, char *argv[], char *reuse)*
*{*
*  char *new_arg;*
*
*
*  if (reuse)*
*    new_arg = (char *)xrealloc(reuse, strlen(argv[argc]) + 1);*
*  else*
*    new_arg = (char *)xmalloc(strlen(argv[argc]) + 1);*
*  unquote(argv[argc], new_arg);*
*  return new_arg;*
*}*
*
*
*static int*
*run_program(int argc, char *argv[])*
*{*
*  return spawnvp (P_WAIT, argv[1], argv+1);*
*}*
*
*
*int*
*main(int argc, char **argv)*
*{*
*  char *arg1 = NULL, *arg2 = NULL;*
*
*
*  if (argc < 2)*
*    usage();*
*
*
*  std_err_fid = dup(1);*
*  std_err = fdopen(std_err_fid, "w");*
*
*
*  /* US_log( "US_Redir by CdQ" );  */*
*
*
*  /* We requested that the startup code retains any quote characters*
*     in the argv[] elements.  So we need to unquote those that we*
*     process as we go.  */*
*  while (argc > 1 && (arg1 = unquoted_argv(1, argv, arg2))[0] == '-')*
*  {*
*    int temp;*
*    if (strcmp(arg1, "-i")==0 && argc > 2)*
*    {*
*      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
*                       O_RDONLY, 0666)) < 0*
*          || dup2(temp, 0) == -1)*
*        fatal("redir: attempt to redirect stdin from %s failed", arg2);*
*      close(temp);*
*      argc--;*
*      argv++;*
*    }*
*    else if (strcmp(arg1, "-o")==0 && argc > 2)*
*    {*
*      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
*                       O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0*
*          || dup2(temp, 1) == -1)*
*        fatal("redir: attempt to redirect stdout to %s failed", arg2);*
*      close(temp);*
*      argc--;*
*      argv++;*
*    }*
*    else if (strcmp(arg1, "-oa")==0 && argc > 2)*
*    {*
*      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
*                       O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0*
*          || dup2(temp, 1) == -1)*
*        fatal("redir: attempt to append stdout to %s failed", arg2);*
*      close(temp);*
*      argc--;*
*      argv++;*
*    }*
*    else if (strcmp(arg1, "-e")==0 && argc > 2)*
*    {*
*      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
*                       O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0*
*          || dup2(temp, 2) == -1)*
*        fatal("redir: attempt to redirect stderr to %s failed", arg2);*
*      close(temp);*
*      argc--;*
*      argv++;*
*    }*
*    else if (strcmp(arg1, "-ea")==0 && argc > 2)*
*    {*
*      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
*                       O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0*
*          || dup2(temp, 2) == -1)*
*        fatal("redir: attempt to append stderr to %s failed", arg2);*
*      close(temp);*
*      argc--;*
*      argv++;*
*    }*
*    else if (strcmp(arg1, "-eo")==0)*
*    {*
*      if (dup2(1,2) == -1)*
*        fatal("redir: attempt to redirect stderr to stdout failed", 0);*
*    }*
*    else if (strcmp(arg1, "-oe")==0)*
*    {*
*      if (dup2(2,1) == -1)*
*        fatal("redir: attempt to redirect stdout to stderr failed", 0);*
*    }*
*    else if (strcmp(arg1, "-x")==0)*
*    {*
*      display_exit_code = 1;*
*    }*
*    else*
*      usage();*
*    argc--;*
*    argv++;*
*  }*
*
*
*  if (argc <= 1)*
*  {*
*    errno = EINVAL;*
*    fatal("Missing program name; aborting", "");*
*  }*
*
*
*  rv = run_program(argc, argv);*
*
*
*  if (rv < 0)*
*    fatal("Error attempting to run program %s", argv[1]);*
*
*
*  if (display_exit_code)*
*  {*
*    fprintf(std_err, "Exit code: %d\n", rv);*
*  }*
*
*
*  return rv;*
*}*


==============================================================
END PROGRAM
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/b6531d6e/attachment-0001.html
From smujohnson at gmail.com  Wed Mar 10 15:07:04 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar 10 15:07:16 2010
Subject: [Harbour] Redirect STDOUT
In-Reply-To: <578c73341003101203u31ffdfb3i9b9fc7da6aacc669@mail.gmail.com>
References: <578c73341003101203u31ffdfb3i9b9fc7da6aacc669@mail.gmail.com>
Message-ID: <674e4ddd1003101207t64d381d1pdbf1b9f60d67d409@mail.gmail.com>

Take a look at this example that is working

    #include "Fileio.ch

    IF (nHandle := FCREATE(VERSION_FILE, FC_NORMAL)) == -1
      ? VERSION_FILE + " cannot be created:", FERROR()
      BREAK
    ELSE
      cString := "// " + cBm_now + CRLF
      cString += "func BM_Versio()" + CRLF
      cString += "  return " + DOUBLE_QUOTE + cBm_now + DOUBLE_QUOTE + CRLF

      FWRITE(nHandle, cString)
      FCLOSE(nHandle)
      ? "Wrote to: " + VERSION_FILE
    ENDIF



On Wed, Mar 10, 2010 at 12:03 PM, CarozoDeQuilmes <carozodequilmes@gmail.com
> wrote:

> Hi, in an old project, I have a little C ansi program (found in Internet or
> in the MiniGUI, I don't remmeber) that execute and executable file and
> redirect the standard output to file.
>
> The C program run fine and trap Standard Output from another C program that
> made:
>
> fprintf( stdout , 'hello' );
>
> but I can't redirect (or trap) the "?" (or QOUT) command from a Harbour
> program.
>
> Is this true or I'm wrong ???
>
> Thanks in advance and sorry by my bad english
>
> CdQ
>
> Program C:
>
> */* Copyright (C) 1998 DJ Delorie, see COPYING.DJ for details */*
> */* Copyright (C) 1995 DJ Delorie, see COPYING.DJ for details */*
> */**
> *
> *
> *   Redir 2.0 Copyright (C) 1995-1998 DJ Delorie (dj@delorie.com)*
> *   Modified 1999 by Mumit Khan <khan@xraylith.wisc.edu>*
> *
> *
> *   Redir is free software; you can redistribute it and/or modify it*
> *   under the terms of the GNU General Public License as published by*
> *   the Free Software Foundation; either version 2, or (at your option)*
> *   any later version.*
> *
> *
> *   Redir is distributed in the hope that it will be useful, but*
> *   WITHOUT ANY WARRANTY; without even the implied warranty of*
> *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU*
> *   General Public License for more details.*
> *
> *
> **/*
> *
> *
> *#include <ctype.h>*
> *#include <errno.h>*
> *#include <fcntl.h>*
> *#include <process.h>*
> *#include <stdio.h>*
> *#include <stdlib.h>*
> *#include <string.h>*
> *#include "US_Log.h"*
> *
> *
> */* Here's the deal.  We need to pass the command-line arguments to the*
> *   child program *exactly* as we got them.  This means we cannot allow*
> *   any wildcard expansion, we need to retain any quote characters, and*
> *   we need to disable response files processing.  That's why we must*
> *   link with CRT_noglob.o!  */*
> *
> *
> *void xmalloc_failed(size_t size)*
> *{*
> *  fprintf(stderr, "Out of memory allocating %lu bytes\n", (unsigned long)
> size);*
> *  exit(1);*
> *}*
> *
> *
> *void *xmalloc (size_t size)*
> *{*
> *  void *newmem;*
> *
> *
> *  if (size == 0)*
> *    size = 1;*
> *  newmem = malloc (size);*
> *  if (!newmem)*
> *    xmalloc_failed (size);*
> *
> *
> *  return (newmem);*
> *}*
> *
> *
> *void *xrealloc(void *oldmem, size_t size)*
> *{*
> *  void *newmem;*
> *
> *
> *  if (size == 0)*
> *    size = 1;*
> *  if (!oldmem)*
> *    newmem = malloc (size);*
> *  else*
> *    newmem = realloc (oldmem, size);*
> *  if (!newmem)*
> *    xmalloc_failed (size);*
> *
> *
> *  return (newmem);*
> *}*
> *
> *
> *int display_exit_code=0;*
> *int std_err_fid;*
> *FILE *std_err;*
> *int rv;*
> *
> *
> *static void*
> *usage(void)*
> *{*
> *  /*
> ----+----1----+----2----+----3----+----4----+----5----+----6----+----7----+----8
> */*
> *  fprintf(stderr, "Redir 2.0 Copyright (C) 1995 - 1998 DJ Delorie (
> dj@delorie.com)\n");*
> *  fprintf(stderr, "Modified 1999 for Mingw32 by Mumit Khan <
> khan@xraylith.wisc.edu>\n");*
> *  fprintf(stderr, "Distribute freely.  There is NO WARRANTY.\n");*
> *  fprintf(stderr, "This program is protected by the GNU General Public
> License.\n\n");*
> *  fprintf(stderr, "Usage: redir [-i file] [-o file] [-oa file] [-e file]
> [-ea file]\n");*
> *  fprintf(stderr, "                [-eo] [-oe] [-x] command [args . .
> .]\n\n");*
> *  fprintf(stderr, "  -i file   redirect stdandard input from file\n");*
> *  fprintf(stderr, "  -o file   redirect standard output to file\n");*
> *  fprintf(stderr, "  -oa file  append standard output to file\n");*
> *  fprintf(stderr, "  -e file   redirect standard error to file\n");*
> *  fprintf(stderr, "  -ea file  append standard error to file\n");*
> *  fprintf(stderr, "  -eo       redirect standard error to standard
> output\n");*
> *  fprintf(stderr, "  -oe       redirect standard output to standard
> error\n");*
> *  fprintf(stderr, "  -x        print exit code\n");*
> *  fprintf(stderr, "  command   the program you want to run, with
> arguments\n\n");*
> *  fprintf(stderr, "Options are processed in the order they are
> encountered.\n\n");*
> *  exit(1);*
> *}*
> *
> *
> *static void*
> *fatal(const char *msg, const char *fn)*
> *{*
> *  fprintf(std_err, msg, fn);*
> *  fprintf(std_err, "\nThe error was: %s\n", strerror(errno));*
> *  exit(1);*
> *}*
> *
> *
> *static void*
> *unquote(const char *src, char *dst)*
> *{*
> *  int quote=0;*
> *
> *
> *  while ((quote || !isspace(*src)) && *src)*
> *  {*
> *    if (quote && *src == quote)*
> *    {*
> *      quote = 0;*
> *      src++;*
> *    }*
> *    else if (!quote && (*src == '\'' || *src == '"'))*
> *    {*
> *      quote = *src;*
> *      src++;*
> *    }*
> *    else if (*src == '\\' && strchr("'\"", src[1]) && src[1])*
> *    {*
> *      src++;*
> *      *dst++ = *src++;*
> *    }*
> *    else*
> *    {*
> *      *dst++ = *src++;*
> *    }*
> *  }*
> *  *dst = '\0';*
> *}*
> *
> *
> *static char **
> *unquoted_argv(int argc, char *argv[], char *reuse)*
> *{*
> *  char *new_arg;*
> *
> *
> *  if (reuse)*
> *    new_arg = (char *)xrealloc(reuse, strlen(argv[argc]) + 1);*
> *  else*
> *    new_arg = (char *)xmalloc(strlen(argv[argc]) + 1);*
> *  unquote(argv[argc], new_arg);*
> *  return new_arg;*
> *}*
> *
> *
> *static int*
> *run_program(int argc, char *argv[])*
> *{*
> *  return spawnvp (P_WAIT, argv[1], argv+1);*
> *}*
> *
> *
> *int*
> *main(int argc, char **argv)*
> *{*
> *  char *arg1 = NULL, *arg2 = NULL;*
> *
> *
> *  if (argc < 2)*
> *    usage();*
> *
> *
> *  std_err_fid = dup(1);*
> *  std_err = fdopen(std_err_fid, "w");*
> *
> *
> *  /* US_log( "US_Redir by CdQ" );  */*
> *
> *
> *  /* We requested that the startup code retains any quote characters*
> *     in the argv[] elements.  So we need to unquote those that we*
> *     process as we go.  */*
> *  while (argc > 1 && (arg1 = unquoted_argv(1, argv, arg2))[0] == '-')*
> *  {*
> *    int temp;*
> *    if (strcmp(arg1, "-i")==0 && argc > 2)*
> *    {*
> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
> *                       O_RDONLY, 0666)) < 0*
> *          || dup2(temp, 0) == -1)*
> *        fatal("redir: attempt to redirect stdin from %s failed", arg2);*
> *      close(temp);*
> *      argc--;*
> *      argv++;*
> *    }*
> *    else if (strcmp(arg1, "-o")==0 && argc > 2)*
> *    {*
> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
> *                       O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0*
> *          || dup2(temp, 1) == -1)*
> *        fatal("redir: attempt to redirect stdout to %s failed", arg2);*
> *      close(temp);*
> *      argc--;*
> *      argv++;*
> *    }*
> *    else if (strcmp(arg1, "-oa")==0 && argc > 2)*
> *    {*
> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
> *                       O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0*
> *          || dup2(temp, 1) == -1)*
> *        fatal("redir: attempt to append stdout to %s failed", arg2);*
> *      close(temp);*
> *      argc--;*
> *      argv++;*
> *    }*
> *    else if (strcmp(arg1, "-e")==0 && argc > 2)*
> *    {*
> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
> *                       O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0*
> *          || dup2(temp, 2) == -1)*
> *        fatal("redir: attempt to redirect stderr to %s failed", arg2);*
> *      close(temp);*
> *      argc--;*
> *      argv++;*
> *    }*
> *    else if (strcmp(arg1, "-ea")==0 && argc > 2)*
> *    {*
> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
> *                       O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0*
> *          || dup2(temp, 2) == -1)*
> *        fatal("redir: attempt to append stderr to %s failed", arg2);*
> *      close(temp);*
> *      argc--;*
> *      argv++;*
> *    }*
> *    else if (strcmp(arg1, "-eo")==0)*
> *    {*
> *      if (dup2(1,2) == -1)*
> *        fatal("redir: attempt to redirect stderr to stdout failed", 0);*
> *    }*
> *    else if (strcmp(arg1, "-oe")==0)*
> *    {*
> *      if (dup2(2,1) == -1)*
> *        fatal("redir: attempt to redirect stdout to stderr failed", 0);*
> *    }*
> *    else if (strcmp(arg1, "-x")==0)*
> *    {*
> *      display_exit_code = 1;*
> *    }*
> *    else*
> *      usage();*
> *    argc--;*
> *    argv++;*
> *  }*
> *
> *
> *  if (argc <= 1)*
> *  {*
> *    errno = EINVAL;*
> *    fatal("Missing program name; aborting", "");*
> *  }*
> *
> *
> *  rv = run_program(argc, argv);*
> *
> *
> *  if (rv < 0)*
> *    fatal("Error attempting to run program %s", argv[1]);*
> *
> *
> *  if (display_exit_code)*
> *  {*
> *    fprintf(std_err, "Exit code: %d\n", rv);*
> *  }*
> *
> *
> *  return rv;*
> *}*
>
>
> ==============================================================
> END PROGRAM
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/0c09747b/attachment-0001.html
From suporte at tribalbrasil.com  Wed Mar 10 15:26:33 2010
From: suporte at tribalbrasil.com (Qatan)
Date: Wed Mar 10 15:27:15 2010
Subject: [Harbour] recommended C compiler for Win
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>	<4B963662.6090508@libero.it>	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>	<4B975924.2090905@libero.it><3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu><4B977FD5.1080001@libero.it><040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
	<8798429A-714F-48D9-BA89-DD5CE7EACA01@syenar.hu>
Message-ID: <80A228AFBF14449692FB254AC925944A@supports>

Viktor,

>   Just don't be mistaken by the misleading versioning of
>"mingw" here, 5.1.6 has nothing to do with the gcc version
>which the distro is based on, it's their own numbering
>(similar to cygwin (1.7) and djgpp (2.04b) verison).

   Thanks for the nice explanation. It brings light for us to understand all 
that.

>Now it's fine, the only problem is that it gives
>you gcc version 3.4.5, which is a 6 years old version,
>much less efficient than current ones.
>[ Even if you chose "candidate" or "current". ]
>[ Besides it install itself into start menu, plus
>saves temporary files without asking about it or
>deleting them. But that's really minor issue compared
>to the rest. ]

    Ok, Thanks again. I just downloaded TDM bundled installer and installed 
it. Pretty easy.
    Didn't notice much difference (my app is very small) but your advise 
gives me the centainty that I am now using the best tool for harbour.

    What do you think about changing the INSTALL file where it says:



Tools:
     ...
     GNU Make
         Windows binary + source:
            http://sourceforge.net/projects/mingw/files/MinGW%20make



    And put: http://www.tdragon.net/recentgcc/ instead (or as an option)?



    Just a humble suggestion, of course.

    Thanks


Qatan

From harbour.01 at syenar.hu  Wed Mar 10 15:31:34 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 15:31:43 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <9257026e1003101034s50e85f30w83e5a0397224ec0b@mail.gmail.com>
References: <4B961429.9040505@libero.it> <4B96198B.2010608@libero.it>
	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
	<4B963662.6090508@libero.it>
	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
	<4B975924.2090905@libero.it>
	<3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
	<4B977FD5.1080001@libero.it>
	<040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
	<9257026e1003101034s50e85f30w83e5a0397224ec0b@mail.gmail.com>
Message-ID: <43429C7E-F6EC-47EE-8C03-842A3E2BA33E@syenar.hu>

Hi Lorenzo,

> On Wed, Mar 10, 2010 at 7:11 PM, Qatan <suporte@tribalbrasil.com> wrote:
> 
>> It was very simple for me. Maybe I was a lucky "sailor in the first voyage"?
> 
> No, I have the same experience: I just run the mingw installer, the
> msys installer, get gd, zlib, openssl from gnuwin32 and run the
> installers, get eclipse and git and run the installers, get postgresql
> and apache and run the installers.
> Using dirs like c:\opt, c:\usr and c:\var is hard to see the
> differences between XP/msys, OSX and Linux environment.

I think it would be useful for many users if you could 
create a short HOWTO for official MinGW 4.4.0 installation.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Mar 10 15:43:12 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 10 15:43:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14124] trunk/harbour
Message-ID: <E1NpSkK-0005bl-Ec@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14124
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14124&view=rev
Author:   vszakats
Date:     2010-03-10 20:43:10 +0000 (Wed, 10 Mar 2010)

Log Message:
-----------
2010-03-10 21:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/dos/djgpp.mk
    - Deleted -pipe C compiler option from DJGPP.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Mar 10 15:46:37 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 15:46:44 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <43429C7E-F6EC-47EE-8C03-842A3E2BA33E@syenar.hu>
References: <499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
	<4B963662.6090508@libero.it>
	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
	<4B975924.2090905@libero.it>
	<3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
	<4B977FD5.1080001@libero.it>
	<040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
	<9257026e1003101034s50e85f30w83e5a0397224ec0b@mail.gmail.com>
	<43429C7E-F6EC-47EE-8C03-842A3E2BA33E@syenar.hu>
Message-ID: <20100310204637.GA7046@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, Szak?ts Viktor wrote:

Hi,

> >> It was very simple for me. Maybe I was a lucky "sailor in the first voyage"?
> > No, I have the same experience: I just run the mingw installer, the
> > msys installer, get gd, zlib, openssl from gnuwin32 and run the
> > installers, get eclipse and git and run the installers, get postgresql
> > and apache and run the installers.
> > Using dirs like c:\opt, c:\usr and c:\var is hard to see the
> > differences between XP/msys, OSX and Linux environment.
> I think it would be useful for many users if you could 
> create a short HOWTO for official MinGW 4.4.0 installation.

The above Lorenzo text is such HOWTO.
I use MS-Windows very seldom so it's possible that sth has changed in last
years but last time I was using MinGW and MSys in real MS-Windows environment
the whole installation process was reduced to two things:
   1. run installers
   2. confirm defaults

Anyhow recently when my friend asked me about installing
Harbour in his laptop I simply downloaded Harbour 2.0.0 windows binaries
with integrated MinGW and I have to say it was real pleasure to install
everything in few clicks and have working Harbour "out of the box" just
like after installing RPMs or DEBs in Linux systems.
My congratulations to you for this package. Very very good job.
It should perfectly resolve the problems which novice users usually
had: "how to start using Harbour?"

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Mar 10 15:47:20 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar 10 15:47:30 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <20100310193527.GD10479@linux-4bod.home.aster.pl>
References: <4B97ADA5.9060500@libero.it>
	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>
	<4B97B815.9080009@libero.it>
	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>
	<4B97C031.5050502@libero.it>
	<20100310161356.GA10479@linux-4bod.home.aster.pl>
	<4B97C848.2010704@libero.it> <4B97CD2F.4070304@libero.it>
	<20100310193527.GD10479@linux-4bod.home.aster.pl>
Message-ID: <FE942A12-8E8D-4F51-B4CD-4FC5FA85324B@syenar.hu>

Didn't we have recently deleted maindll.c just for this purpose?

Shouldn't we readd it with your additions below? We could even put 
it into a lib named 'maindll' to make it easy to use (if it works 
as a lib).

Brgds,
Viktor

On 2010 Mar 10, at 20:35, Przemys?aw Czerpak wrote:

> On Wed, 10 Mar 2010, Maurilio Longo wrote:
> 
> Hi,
> 
>> it does not work :(
>> Question: do I have to startup the HVM or does it start up by itself as soon
>> as the .dll is loaded?
> 
> You haven't added any code to initialize HVM after loading DLL file.
> You are creating DLL which uses its own HVM and you have to initialize it.
> For single thread support it's quite simple and the code below should be
> enough. I haven't tested it.
> 
> best regards,
> Przemek
> 
> 
>   #include "hbvm.h"
>   #include <windows.h>
> 
>   extern void hb_winmainArgInit( HANDLE hInstance, HANDLE hPrevInstance, int iCmdShow );
> 
>   #if defined( HB_OS_WIN_CE ) && ( defined( _MSC_VER ) || defined( __POCC__ ) )
>   BOOL WINAPI HB_DLL_ENTRY_POINT( HANDLE hInstance, DWORD dwReason, PVOID pvReserved )
>   #else
>   BOOL WINAPI HB_DLL_ENTRY_POINT( HINSTANCE hInstance, DWORD dwReason, PVOID pvReserved )
>   #endif
>   {
>      hb_winmainArgInit( hInstance, 0, 0 );
>      HB_SYMBOL_UNUSED( pvReserved );
> 
>      switch( fdwReason )
>      {
>         case DLL_PROCESS_ATTACH:
>            hb_vmInit( HB_FALSE );
>            break;
>         case DLL_PROCESS_DETACH:
>            hb_vmQuit();
>            break;
>      }
>      return TRUE;
>   }
> 
>   #if defined( __DMC__ ) || defined( __WATCOMC__ )
>      HB_EXTERN_BEGIN
>      void hb_forceLinkMainWin( void ) {}
>      void hb_forceLinkMainStd( void ) {}
>      HB_EXTERN_END
>   #endif
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Mar 10 15:52:42 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 10 15:52:52 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <80A228AFBF14449692FB254AC925944A@supports>
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>	<4B963662.6090508@libero.it>	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>	<4B975924.2090905@libero.it><3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu><4B977FD5.1080001@libero.it><040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
	<8798429A-714F-48D9-BA89-DD5CE7EACA01@syenar.hu>
	<80A228AFBF14449692FB254AC925944A@supports>
Message-ID: <A44E0E65-89A3-40ED-BB0F-E2334CAC562B@syenar.hu>

Hi Qatan,

>>  Just don't be mistaken by the misleading versioning of
>> "mingw" here, 5.1.6 has nothing to do with the gcc version
>> which the distro is based on, it's their own numbering
>> (similar to cygwin (1.7) and djgpp (2.04b) verison).
> 
>  Thanks for the nice explanation. It brings light for us to understand all that.
> 
>> Now it's fine, the only problem is that it gives
>> you gcc version 3.4.5, which is a 6 years old version,
>> much less efficient than current ones.
>> [ Even if you chose "candidate" or "current". ]
>> [ Besides it install itself into start menu, plus
>> saves temporary files without asking about it or
>> deleting them. But that's really minor issue compared
>> to the rest. ]
> 
>   Ok, Thanks again. I just downloaded TDM bundled installer and installed it. Pretty easy.

You're welcome.

>   Didn't notice much difference (my app is very small) but your advise gives me the centainty that I am now using the best tool for harbour.
> 
>   What do you think about changing the INSTALL file where it says:
> 
> Tools:
>    ...
>    GNU Make
>        Windows binary + source:
>           http://sourceforge.net/projects/mingw/files/MinGW%20make
> 
>   And put: http://www.tdragon.net/recentgcc/ instead (or as an option)?
> 
>   Just a humble suggestion, of course.

It's there already, take a look at the 'C/C++ Compilers/Shells:' 
subsection right at the beginning of '13. LINKS TO EXTERNAL COMPONENTS' 
main section.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Mar 10 16:03:58 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar 10 16:04:10 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100310204637.GA7046@linux-4bod.home.aster.pl>
References: <499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>
	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>
	<4B963662.6090508@libero.it>
	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>
	<4B975924.2090905@libero.it>
	<3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu>
	<4B977FD5.1080001@libero.it>
	<040AEAF45E2E4E31B592CD65F7AE6FB0@supports>
	<9257026e1003101034s50e85f30w83e5a0397224ec0b@mail.gmail.com>
	<43429C7E-F6EC-47EE-8C03-842A3E2BA33E@syenar.hu>
	<20100310204637.GA7046@linux-4bod.home.aster.pl>
Message-ID: <1A3EF5F6-58ED-483C-9531-9282354EC3DC@syenar.hu>

Hi,

>>>> It was very simple for me. Maybe I was a lucky "sailor in the first voyage"?
>>> No, I have the same experience: I just run the mingw installer, the
>>> msys installer, get gd, zlib, openssl from gnuwin32 and run the
>>> installers, get eclipse and git and run the installers, get postgresql
>>> and apache and run the installers.
>>> Using dirs like c:\opt, c:\usr and c:\var is hard to see the
>>> differences between XP/msys, OSX and Linux environment.
>> I think it would be useful for many users if you could 
>> create a short HOWTO for official MinGW 4.4.0 installation.
> 
> The above Lorenzo text is such HOWTO.

Sorry, but it isn't. I've installed official 4.4.0 
mingw a few month ago (even commented the experience 
here), and it was everything but not simple, obvious, 
or quick, or anything what Lorenzo described in one 
sentence.

> I use MS-Windows very seldom so it's possible that sth has changed in last
> years but last time I was using MinGW and MSys in real MS-Windows environment
> the whole installation process was reduced to two things:
>   1. run installers
>   2. confirm defaults

It doesn't work like that for 4.4.0 unfortunately.

First I had to find the documentation which described the 
process, then you have to pick separate binary packages from 
the long list of available sf.net downloads, all of them available 
in multiple versions (not matching the documentation of course), 
then you download these files (hopefully the right ones), each 
of them is packed using different tool (gzip, bzip2, lzma), 
then you unpack them, and some of the packages went into their 
own subdir, some of them don't, so in a final pass you have to 
manually assemble the dev tree using some intuition.

That experience is the reason why we still don't support 
QT 4.6 in Harbour.

> Anyhow recently when my friend asked me about installing
> Harbour in his laptop I simply downloaded Harbour 2.0.0 windows binaries
> with integrated MinGW and I have to say it was real pleasure to install
> everything in few clicks and have working Harbour "out of the box" just
> like after installing RPMs or DEBs in Linux systems.
> My congratulations to you for this package. Very very good job.
> It should perfectly resolve the problems which novice users usually
> had: "how to start using Harbour?"

Thank you very much. That was the goal, and also the 
goal of "INSTALL" doc, hbmk2 and getting rid of old dual 
make-system. It good to hear that now it's usable for 
human beings :)

Brgds,
Viktor

From suporte at tribalbrasil.com  Wed Mar 10 16:12:05 2010
From: suporte at tribalbrasil.com (Qatan)
Date: Wed Mar 10 16:15:18 2010
Subject: [Harbour] recommended C compiler for Win
References: <4B961429.9040505@libero.it>	<83BD0572-813A-4DD2-93AD-40015842F7E7@syenar.hu>	<4B96198B.2010608@libero.it>	<499F8ED3-5365-4BF0-9130-30A6FFF67CC9@syenar.hu>	<674e4ddd1003090254x1514d1cel8799d6267148fe9a@mail.gmail.com>	<4B963662.6090508@libero.it>	<40533D74-01A4-45B8-A5D1-4381E7E2B10D@syenar.hu>	<4B975924.2090905@libero.it><3A743FE6-B3DF-451F-AC1A-D2F09BE451F9@syenar.hu><4B977FD5.1080001@libero.it><040AEAF45E2E4E31B592CD65F7AE6FB0@supports><8798429A-714F-48D9-BA89-DD5CE7EACA01@syenar.hu><80A228AFBF14449692FB254AC925944A@supports>
	<A44E0E65-89A3-40ED-BB0F-E2334CAC562B@syenar.hu>
Message-ID: <EA0BB51837A2426883C76F692D376F5D@supports>

Viktor,


>>   What do you think about changing the INSTALL file where it says:
>>
>> Tools:
>>    ...
>>    GNU Make
>>        Windows binary + source:
>>           http://sourceforge.net/projects/mingw/files/MinGW%20make
>>
>>   And put: http://www.tdragon.net/recentgcc/ instead (or as an option)?
>>
>>   Just a humble suggestion, of course.
>
>It's there already, take a look at the 'C/C++ Compilers/Shells:'
>subsection right at the beginning of '13. LINKS TO EXTERNAL COMPONENTS'
>main section.


   You are right. I didn't notice that before. Thank you again for taking 
time to help.
   Regards,


Qatan 

From druzus at acn.waw.pl  Wed Mar 10 16:19:51 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 16:19:59 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <FE942A12-8E8D-4F51-B4CD-4FC5FA85324B@syenar.hu>
References: <4B97ADA5.9060500@libero.it>
	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>
	<4B97B815.9080009@libero.it>
	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>
	<4B97C031.5050502@libero.it>
	<20100310161356.GA10479@linux-4bod.home.aster.pl>
	<4B97C848.2010704@libero.it> <4B97CD2F.4070304@libero.it>
	<20100310193527.GD10479@linux-4bod.home.aster.pl>
	<FE942A12-8E8D-4F51-B4CD-4FC5FA85324B@syenar.hu>
Message-ID: <20100310211951.GA8101@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, Szak?ts Viktor wrote:

Hi,

> Didn't we have recently deleted maindll.c just for this purpose?

Probably yes though I do not remember if it was exactly the same code
as below.

> Shouldn't we readd it with your additions below? We could even put 
> it into a lib named 'maindll' to make it easy to use (if it works 
> as a lib).

It can be usable but with detail description about usage or some
special HBMK2 options. Otherwise it will only confuse 95% of users
who wants to create DLLs to use them with Harbour applications.
Please remember that it's usable only when someone wants to create
DLLs with code using HVM which will be used by programs written in
other languages. It means that he has to know C and can write his
own wrappers for functions he wants to make public. In such situation
the best form for startup code is public .c file in include directory
so anyone can include it in his C code with public function wrappers
or edit it adding own extension to start/exit code. For sure people
with such knowledge does not need binary library with above startup
code to make final DLLs working.

BTW I think that we should document how to use OLE interface to
access HVM functions. It should be much more flexible method for
most of users and it does not need any C knowledge to use it.

Maybe some windows user can create OLE interface to HBNETIO
RPC code? This will open door for using Harbour applications
on servers with any operating systems and writing MS-Windows user
interface in one of popular in MS-Windows languages.
Personally I'm very interesting in such extension.

Does anyone plan to create sth like that?

best regards,
Przemek
From luisrstach at yahoo.com.ar  Wed Mar 10 17:04:23 2010
From: luisrstach at yahoo.com.ar (Luis R. Stach)
Date: Wed Mar 10 17:05:23 2010
Subject: [Harbour] Error in SDDFB
Message-ID: <905448238.20100310190423@yahoo.com.ar>

English by Google

Hi
I'm trying to connect to Firebird but I can not, I get this error:

Error SDDFB/1903 Prepare statement failed: SELECT * FROM agenda (DOS Error 335544569)


What I do is this:

ANNOUNCE RDDSYS
REQUEST SQLMIX, SDDFB
RDDSETDEFAULT( "SQLMIX" )

hConn := RDDINFO( RDDI_CONNECT, { "FIREBIRD",, "SYSDBA", "masterkey", "192.168.0.1:d:\data\agenda.fdb" } )
MsgInfo( hConn )  //Return 1
DBUSEAREA( .T.,, "SELECT * FROM agenda" )     //Line error

I use Firebird 2.1.3.18185

Someone can help me
From already thank you very much

Luis R. Stach


From harbour.01 at syenar.hu  Wed Mar 10 17:50:58 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar 10 17:51:09 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100310194814.GA17585@linux-4bod.home.aster.pl>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
Message-ID: <3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>

Hi,

>> Is it also true that C++ mode enhances speed for 
>> x86 code? I see it slightly does for x86_64.
> 
> I do not know. In general C++ mode is a little bit more restrictive then
> pure C so it's possible that some compilers which want to keep strict C
> standards do not make some optimizations which can be safely enabled in
> C++ mode. This is the only reason of potential differences because C++ RTL
> usually is a little bit more heavy and slower.
> I remember that in the past we have in the source code some notes about
> MSVC "bugs" with workarounds for them. In fact it was examples of code
> which interacts with optimizer and in C++ mode may not work so the problem
> was in our code not in MSVC. For very long time we were using MSVC in C++
> mode only so I cannot say if MS enabled all possible optimization also for
> C mode or it was exploited in C++ mode only.
> It's interesting to check if there are any speed differences in MSVC C and
> C++ builds.
> Can you check it?

I checked mingw-tdm-2 4.4.1, and C++ turned out to be consistently 
faster by 5% than plain C. Calculated by 4-4 speedtst runs, dropping 
min/max and averaging rest 2-2 results.

Env: MBP iC2D/2.8 -> OS X 10.6 (64-bit kernel) -> VMWare 3.0.2 -> Win7 x64

Brgds,
Viktor

From hbergen at ops.phl.ca  Wed Mar 10 18:02:14 2010
From: hbergen at ops.phl.ca (Heinz V. Bergen)
Date: Wed Mar 10 18:02:23 2010
Subject: [Harbour] hbdoc2 compile errors
Message-ID: <627E4F70B3044D498A1B6D9668DD2AEB0E52303D3B@wpgex02>

Using SVN build 2.1.0dev (Rev. 14123)

Trying to make examples\hbdoc2 using hbmk2  and hbmk2 project file hbdoc2.hbp
Get the following errors, what am I doing wrong?

D:\harbour\examples\hbdoc2>hbmk2 hbdoc2.hbp
hbmk2: Processing configuration: d:\harbour\bin\hbmk.cfg
gentxt.prg(101) Error E0019  #error 'Method <NewDocument( cFolder, cFilename, cT
itle )> not declared or declaration mismatch in class <GenerateText>'
gentxt.prg(106) Error E0019  #error 'Method <NewIndex( cFolder, cFilename, cTitl
e )> not declared or declaration mismatch in class <GenerateText>'
2 errors

No code generated.
hbmk2: Error: Running Harbour compiler (embedded). 1
(d:\harbour\bin\harbour.exe) -n2 hbdoc2.prg gentpl.prg gentxt.prg genhtml.prg ge
nxml.prg tmplates.prg -q0 -w3 -es2 -oC:\DOCUME~1\hbergen\LOCALS~1\Temp\ -iD:/har
bour/include


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/3dde13d9/attachment.html
From vouchcac at users.sourceforge.net  Wed Mar 10 20:10:37 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Mar 10 20:10:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14125] trunk/harbour
Message-ID: <E1NpWv7-0002CA-OW@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14125
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14125&view=rev
Author:   vouchcac
Date:     2010-03-11 01:10:36 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-10 17:05 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/doc/en/class_hbqplaintextedit.txt
  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h
  * contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
  * contrib/hbqt/qtgui/THBQPlainTextEdit.prg
  * contrib/hbqt/qth/HBQPlainTextEdit.qth

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefunctions.prg
  * contrib/hbide/ideobject.prg

    + Implemented "Code Completion" feature.
        How it works:
          1. Load prototype tags in "Projects Functions Lookup".
          2. Activate some editor tab.
          3. Start typing a function proto. 
          4. After 3 characters a popup will appear beneth the cursor.
          5. Select from the list, by mouse or use navigation keys.
          6. Prototype will be there in the editor exactly with 
             same cases your prototype is defined.

               Input is welcome. 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefunctions.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbqt/doc/en/class_hbqplaintextedit.txt
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Mar 10 20:53:07 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 10 20:53:14 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
Message-ID: <20100311015307.GA10009@linux-4bod.home.aster.pl>

On Wed, 10 Mar 2010, Szak?ts Viktor wrote:

Hi,

> > It's interesting to check if there are any speed differences in MSVC C and
> > C++ builds.
> > Can you check it?
> I checked mingw-tdm-2 4.4.1, and C++ turned out to be consistently 
> faster by 5% than plain C. Calculated by 4-4 speedtst runs, dropping 
> min/max and averaging rest 2-2 results.
> Env: MBP iC2D/2.8 -> OS X 10.6 (64-bit kernel) -> VMWare 3.0.2 -> Win7 x64

It's similar to mine results.
GCC4 in C++ mode for sure uses more extensively strict aliasing
optimization. At least it was reporting more errors and warnings
for Harbour core code which was using casting ignoring aliasing
rules.

BTW this ones are still reported:

../../../hb_btree.c: In function ?ioOneBufferAlloc?:
../../../hb_btree.c:275:3: warning: dereferencing type-punned pointer will break strict-aliasing rules

This seems to be also real bug which may cause GPF on some platforms but
I'm not familiar enough with this code to fix it myself.

../../../sddfb.c: In function ?fbDisconnect?:
../../../sddfb.c:181:4: warning: dereferencing type-punned pointer will break strict-aliasing rules
../../../sddfb.c: In function ?fbOpen?:
../../../sddfb.c:209:4: warning: dereferencing type-punned pointer will break strict-aliasing rules
../../../sddfb.c:219:4: warning: dereferencing type-punned pointer will break strict-aliasing rules

This is also danger casting though it should work if void * is large enough
to hold FB handlers. Anyhow it's potential problem so it should be fixed.

BTW it would be good to check what GCC does when it detects such code or
even real problems (it can report also: "dereferencing pointer ... does
break strict-aliasing rules").
Does it disable optimization or generates potentially wrong code.

Can you compare C and C++ mode in MSVC too?

best regards,
Przemek
From april_white at sympatico.ca  Wed Mar 10 21:50:35 2010
From: april_white at sympatico.ca (April White)
Date: Wed Mar 10 21:50:43 2010
Subject: [Harbour] hbdoc2 compile errors
In-Reply-To: <627E4F70B3044D498A1B6D9668DD2AEB0E52303D3B@wpgex02>
References: <627E4F70B3044D498A1B6D9668DD2AEB0E52303D3B@wpgex02>
Message-ID: <SNT109-W39D9174B96D230B66AB1F7EF320@phx.gbl>

Hello Heinz

I wrote the hbdoc2 module, but it has been some months since I last worked on it.  When I last saw it it was compiling.  

It'll be a few days until I can look into it, my harbour environment is terribly out of date.  

April

From: hbergen@ops.phl.ca
To: harbour@harbour-project.org
Date: Wed, 10 Mar 2010 17:02:14 -0600
Subject: [Harbour] hbdoc2 compile errors












Using SVN build 2.1.0dev (Rev. 14123)

 

Trying to make examples\hbdoc2 using hbmk2  and hbmk2
project file hbdoc2.hbp

Get the following errors, what am I doing wrong?

 

D:\harbour\examples\hbdoc2>hbmk2 hbdoc2.hbp

hbmk2: Processing configuration: d:\harbour\bin\hbmk.cfg

gentxt.prg(101) Error E0019  #error 'Method
<NewDocument( cFolder, cFilename, cT

itle )> not declared or declaration mismatch in class
<GenerateText>'

gentxt.prg(106) Error E0019  #error 'Method
<NewIndex( cFolder, cFilename, cTitl

e )> not declared or declaration mismatch in class
<GenerateText>'

2 errors

 

No code generated.

hbmk2: Error: Running Harbour compiler (embedded). 1

(d:\harbour\bin\harbour.exe) -n2 hbdoc2.prg gentpl.prg
gentxt.prg genhtml.prg ge

nxml.prg tmplates.prg -q0 -w3 -es2
-oC:\DOCUME~1\hbergen\LOCALS~1\Temp\ -iD:/har

bour/include

 

 






 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100311/65a716f5/attachment.html
From vouchcac at users.sourceforge.net  Wed Mar 10 22:02:13 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Mar 10 22:02:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14126] trunk/harbour
Message-ID: <E1NpYf7-0003oI-QQ@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14126
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14126&view=rev
Author:   vouchcac
Date:     2010-03-11 03:02:12 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-10 19:05 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/doc/en/class_hbqplaintextedit.txt
  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h
  * contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
  * contrib/hbqt/qtgui/THBQPlainTextEdit.prg
  * contrib/hbqt/qth/HBQPlainTextEdit.qth

    + Prepared to manage current line and line area colors.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/doc/en/class_hbqplaintextedit.txt
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Wed Mar 10 23:04:27 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Mar 10 23:04:37 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100311015307.GA10009@linux-4bod.home.aster.pl>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1003102004m759e313fod14b577a42fb3adb@mail.gmail.com>

Official MinGW installation reminds me of the old Xvid.org site before its
new website... so back around in the pre-2007 years...   Also reminds me of
how annoying installing and using Cygwin can be.  Interesting thread!

2010/3/10 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Wed, 10 Mar 2010, Szak?ts Viktor wrote:
>
> Hi,
>
> > > It's interesting to check if there are any speed differences in MSVC C
> and
> > > C++ builds.
> > > Can you check it?
> > I checked mingw-tdm-2 4.4.1, and C++ turned out to be consistently
> > faster by 5% than plain C. Calculated by 4-4 speedtst runs, dropping
> > min/max and averaging rest 2-2 results.
> > Env: MBP iC2D/2.8 -> OS X 10.6 (64-bit kernel) -> VMWare 3.0.2 -> Win7
> x64
>
> It's similar to mine results.
> GCC4 in C++ mode for sure uses more extensively strict aliasing
> optimization. At least it was reporting more errors and warnings
> for Harbour core code which was using casting ignoring aliasing
> rules.
>
> BTW this ones are still reported:
>
> ../../../hb_btree.c: In function ?ioOneBufferAlloc?:
> ../../../hb_btree.c:275:3: warning: dereferencing type-punned pointer will
> break strict-aliasing rules
>
> This seems to be also real bug which may cause GPF on some platforms but
> I'm not familiar enough with this code to fix it myself.
>
> ../../../sddfb.c: In function ?fbDisconnect?:
> ../../../sddfb.c:181:4: warning: dereferencing type-punned pointer will
> break strict-aliasing rules
> ../../../sddfb.c: In function ?fbOpen?:
> ../../../sddfb.c:209:4: warning: dereferencing type-punned pointer will
> break strict-aliasing rules
> ../../../sddfb.c:219:4: warning: dereferencing type-punned pointer will
> break strict-aliasing rules
>
> This is also danger casting though it should work if void * is large enough
> to hold FB handlers. Anyhow it's potential problem so it should be fixed.
>
> BTW it would be good to check what GCC does when it detects such code or
> even real problems (it can report also: "dereferencing pointer ... does
> break strict-aliasing rules").
> Does it disable optimization or generates potentially wrong code.
>
> Can you compare C and C++ mode in MSVC too?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100310/a026baeb/attachment.html
From vouchcac at users.sourceforge.net  Wed Mar 10 23:07:38 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Mar 10 23:07:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14127] trunk/harbour
Message-ID: <E1NpZgQ-0001Eq-3B@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14127
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14127&view=rev
Author:   vouchcac
Date:     2010-03-11 04:07:31 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
  2010-03-10 20:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * examples/hbdoc2/genhtml.prg
  * examples/hbdoc2/gentxt.prg
  * examples/hbdoc2/tmplates.prg
    ! Matched method definition and body.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/hbdoc2/genhtml.prg
    trunk/harbour/examples/hbdoc2/gentxt.prg
    trunk/harbour/examples/hbdoc2/tmplates.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Mar 10 23:09:04 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 10 23:09:11 2010
Subject: [Harbour] Re: hbdoc2 compile errors
In-Reply-To: <627E4F70B3044D498A1B6D9668DD2AEB0E52303D3B@wpgex02>
References: <627E4F70B3044D498A1B6D9668DD2AEB0E52303D3B@wpgex02>
Message-ID: <1268280544334-4713957.post@n2.nabble.com>



Heinz V. Bergen wrote:
> 
> Using SVN build 2.1.0dev (Rev. 14123)
> 
> Trying to make examples\hbdoc2 using hbmk2  and hbmk2 project file
> hbdoc2.hbp
> Get the following errors, what am I doing wrong?
> 
> D:\harbour\examples\hbdoc2>hbmk2 hbdoc2.hbp
> hbmk2: Processing configuration: d:\harbour\bin\hbmk.cfg
> gentxt.prg(101) Error E0019  #error 'Method <NewDocument( cFolder,
> cFilename, cT
> itle )> not declared or declaration mismatch in class <GenerateText>'
> gentxt.prg(106) Error E0019  #error 'Method <NewIndex( cFolder, cFilename,
> cTitl
> e )> not declared or declaration mismatch in class <GenerateText>'
> 2 errors
> 

Please check after r14127.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbdoc2-compile-errors-tp4712945p4713957.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Wed Mar 10 23:18:43 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Mar 10 23:18:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14128] trunk/harbour
Message-ID: <E1NpZr9-0001Pi-7s@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14128
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14128&view=rev
Author:   vouchcac
Date:     2010-03-11 04:18:41 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-10 20:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/gtwvg.h
    ! Reverted back the change in colors.
      Sorry Viktor, I unnecessarily requested you to 
      match it with GTWVT. Infact the whole concept of 
      GUI elements is based on white and gray combination
      as per these colors.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From wcshum88 at hotmail.com  Thu Mar 11 00:46:56 2010
From: wcshum88 at hotmail.com (Shum)
Date: Thu Mar 11 00:47:05 2010
Subject: [Harbour] Ask Xbase++ Compatibility function dBPosition()...
Message-ID: <1268286416876-4714219.post@n2.nabble.com>


Hi All,

I want to ask for the Xbase++ dBPosition() ....

The function DbPosition() is used to determine the position of a record
pointer as a percent value. It works independetly of whether or not a
controlling index is active in the work area. This allows for an easy
visualization of the record pointer position with a scroll bar. The range
for the scroll bar must be set to 0-100 and the scroll bar thumb is
positioned using the return value of DbPosition(). 


Shum
-- 
View this message in context: http://n2.nabble.com/Ask-Xbase-Compatibility-function-dBPosition-tp4714219p4714219.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Mar 11 02:28:35 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 02:28:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14128] trunk/harbour
In-Reply-To: <E1NpZr9-0001Pi-7s@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NpZr9-0001Pi-7s@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <F99BFF2A-DD10-492B-9F16-FD072D275EF6@syenar.hu>

Hi Pritpal,

Perhaps the GUI elements should use their own 
colors instead of console ones, and the problem 
is solved.

Anyhow it would be important to remove the 
palette incompatibility. Leaving incompatibility 
for all Harbour user base, just because there 
is some local code, which you cannot modify 
is not a very good solution for Harbour IMO.

Consistency should always have priority over 
local/personal reasons IMO. And the more we 
delay it, the worse it gets.

Brgds,
Viktor

On 2010 Mar 11, at 05:18, vouchcac@users.sourceforge.net wrote:

> Revision: 14128
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14128&view=rev
> Author:   vouchcac
> Date:     2010-03-11 04:18:41 +0000 (Thu, 11 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-10 20:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/gtwvg/gtwvg.c
>  * contrib/gtwvg/gtwvg.h
>    ! Reverted back the change in colors.
>      Sorry Viktor, I unnecessarily requested you to 
>      match it with GTWVT. Infact the whole concept of 
>      GUI elements is based on white and gray combination
>      as per these colors.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/gtwvg.c
>    trunk/harbour/contrib/gtwvg/gtwvg.h
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Mar 11 02:34:07 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 02:34:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14129] trunk/harbour
Message-ID: <E1NpcuF-0007q7-Q4@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14129
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14129&view=rev
Author:   vszakats
Date:     2010-03-11 07:34:06 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 08:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxpp/dmlb.ch
    + Added comment that header is also used by C code.

  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/gtwvg.h
    ! Partial revert of previous revert:
      There was no reason to revert macro names, so
      I kept these in sync with the rest of Harbour,
      only colors are kept as non-MS-DOS compatible.
    ; TOFIX: Palette indexing.

  * examples/hbdoc2/gentxt.prg
    ! Fixed to previous fix to rather delete unused
      parameter in definition, than addig it to
      declaration and mark it as unused.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/hbxpp/dmlb.ch
    trunk/harbour/examples/hbdoc2/gentxt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 11 02:54:28 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 02:54:41 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100311015307.GA10009@linux-4bod.home.aster.pl>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
Message-ID: <667FC734-B66C-4362-A494-6800F40B07F8@syenar.hu>

Hi,

> It's similar to mine results.
> GCC4 in C++ mode for sure uses more extensively strict aliasing
> optimization. At least it was reporting more errors and warnings
> for Harbour core code which was using casting ignoring aliasing
> rules.

Maybe we should switch to C++ as default for 
mingw or gcc in general.

mingw C++ build speed is about 15% slower, so 
that's the price.

(maybe it's possible to achieve C++ optimization 
levels by some extra C compiler option? so g++ is 
not needed to reach the same effect)

> BTW this ones are still reported:
> 
> ../../../hb_btree.c: In function ?ioOneBufferAlloc?:
> ../../../hb_btree.c:275:3: warning: dereferencing type-punned pointer will break strict-aliasing rules
> 
> This seems to be also real bug which may cause GPF on some platforms but
> I'm not familiar enough with this code to fix it myself.
> 
> ../../../sddfb.c: In function ?fbDisconnect?:
> ../../../sddfb.c:181:4: warning: dereferencing type-punned pointer will break strict-aliasing rules
> ../../../sddfb.c: In function ?fbOpen?:
> ../../../sddfb.c:209:4: warning: dereferencing type-punned pointer will break strict-aliasing rules
> ../../../sddfb.c:219:4: warning: dereferencing type-punned pointer will break strict-aliasing rules

Strangely, these are not reported by mingw.

> This is also danger casting though it should work if void * is large enough
> to hold FB handlers. Anyhow it's potential problem so it should be fixed.

Definitely. It's a long time problem with FB client 
interface that it uses ints for handles in 64-bit 
mode, but void pointers in 32-bit mode. Seems even 
current solution is not perfect to make them both 
work without warnings.

See this in ibase.h:
---
#if defined(_LP64) || defined(__LP64__) || defined(__arch64__) || defined(_WIN64)
typedef unsigned int    FB_API_HANDLE;
#else
typedef void*           FB_API_HANDLE;
#endif
---

> BTW it would be good to check what GCC does when it detects such code or
> even real problems (it can report also: "dereferencing pointer ... does
> break strict-aliasing rules").
> Does it disable optimization or generates potentially wrong code.
> 
> Can you compare C and C++ mode in MSVC too?

With same methodology there is about 1% speed 
advantage for C++ mode. It seems consistent, 
but minor. The size different is also very 
minor, C++ being same or somewhat larger 
(by 0-0.1%, or +0-5KB in case of Harbour tools). 
Tested with MSVC 2008 (as part of Win SDK 7)

BTW, mingw created noticeably larger executables, 
by about 1-6% (+20-100KB in case of Harbour tools).

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Mar 11 03:10:16 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 03:10:26 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100311015307.GA10009@linux-4bod.home.aster.pl>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
Message-ID: <49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>

BTW, here is the full result matrix for mingw 4.4.1 and MSVC 2008:

     mingw    msvc
C++  13.57   *13.59
C   *14.27    13.76

(* is default build mode in Harbour)

This means that in C++ mode msvc and mingw are very close, 
in C mode msvc still leads, and in default Harbour builds, 
msvc also leads.

I have to correct mingw size increase results 
(forgot to strip them), so mingw in C++ is about 
0.3-1.5% larger than C counterpart. In practice,
it's negligible.

msvc and mingw sizes are a little fuzzy to compare:
---
                     mingw C++     mingw C   msvc C++     msvc C
harbour-21.dll       3.523.584   3.499.520  2.569.216  2.567.680
harbourmt-21.dll     3.553.280   3.526.144  2.595.840  2.594.816
harbour.exe            577.024     568.832    583.168    583.168
hbformat-dll.exe        26.112      26.112     60.416     60.416
hbformat.exe           745.984     744.448    462.848    462.848
hbi18n-dll.exe          11.776      11.776     46.080     46.080
hbi18n.exe             726.016     724.480    446.464    446.464
hbmk2-dll.exe          696.320     689.152    704.512    704.512
hbmk2.exe            1.474.048   1.460.224  1.107.968  1.105.920
hbpp.exe               133.632     130.560    172.544    172.544
hbrun-dll.exe          591.872     585.216    600.064    600.064
hbrun.exe            3.393.536   3.372.032  2.589.184  2.584.576
hbtest-dll.exe         373.760     374.272    407.552    407.552
hbtest.exe           1.477.120   1.472.512  1.100.288  1.099.776
---

Some binaries are smaller, some others are much 
larger in mingw.

Brgds,
Viktor

From maurilio.longo at libero.it  Thu Mar 11 03:22:53 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Mar 11 03:23:05 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <20100310193527.GD10479@linux-4bod.home.aster.pl>
References: <4B97ADA5.9060500@libero.it>	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>	<4B97B815.9080009@libero.it>	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>	<4B97C031.5050502@libero.it>	<20100310161356.GA10479@linux-4bod.home.aster.pl>	<4B97C848.2010704@libero.it>
	<4B97CD2F.4070304@libero.it>
	<20100310193527.GD10479@linux-4bod.home.aster.pl>
Message-ID: <4B98A85D.40904@libero.it>

Hi Przemyslaw,

Yes I did put a call to hb_vmInit( FALSE ); in my code and it was enough.

I'll add you code, though, and I fully second your idea to have an include
which has all the needed code to start-up the hvm.

Thanks a lot.

Maurilio.

Przemys?aw Czerpak wrote:
> On Wed, 10 Mar 2010, Maurilio Longo wrote:
> 
> Hi,
> 
>> it does not work :(
>> Question: do I have to startup the HVM or does it start up by itself as soon
>> as the .dll is loaded?
> 
> You haven't added any code to initialize HVM after loading DLL file.
> You are creating DLL which uses its own HVM and you have to initialize it.
> For single thread support it's quite simple and the code below should be
> enough. I haven't tested it.
> 
> best regards,
> Przemek
> 
> 
>    #include "hbvm.h"
>    #include <windows.h>
> 
>    extern void hb_winmainArgInit( HANDLE hInstance, HANDLE hPrevInstance, int iCmdShow );
> 
>    #if defined( HB_OS_WIN_CE ) && ( defined( _MSC_VER ) || defined( __POCC__ ) )
>    BOOL WINAPI HB_DLL_ENTRY_POINT( HANDLE hInstance, DWORD dwReason, PVOID pvReserved )
>    #else
>    BOOL WINAPI HB_DLL_ENTRY_POINT( HINSTANCE hInstance, DWORD dwReason, PVOID pvReserved )
>    #endif
>    {
>       hb_winmainArgInit( hInstance, 0, 0 );
>       HB_SYMBOL_UNUSED( pvReserved );
> 
>       switch( fdwReason )
>       {
>          case DLL_PROCESS_ATTACH:
>             hb_vmInit( HB_FALSE );
>             break;
>          case DLL_PROCESS_DETACH:
>             hb_vmQuit();
>             break;
>       }
>       return TRUE;
>    }
> 
>    #if defined( __DMC__ ) || defined( __WATCOMC__ )
>       HB_EXTERN_BEGIN
>       void hb_forceLinkMainWin( void ) {}
>       void hb_forceLinkMainStd( void ) {}
>       HB_EXTERN_END
>    #endif
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Thu Mar 11 03:26:21 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Mar 11 03:26:33 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <20100310192204.GC10479@linux-4bod.home.aster.pl>
References: <4B97ADA5.9060500@libero.it>	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>	<4B97B815.9080009@libero.it>	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>	<4B97C031.5050502@libero.it>	<20100310161356.GA10479@linux-4bod.home.aster.pl>	<4B97C848.2010704@libero.it>
	<20100310192204.GC10479@linux-4bod.home.aster.pl>
Message-ID: <4B98A92D.4000903@libero.it>

Przemyslaw,

-gui

on hbmk2 command line is not enough, I've found the answer in an old message
of Viktor, I had to add to my .prg code

procedure HB_GT_SYS()
	REQUEST HB_GT_GUI_DEFAULT
return

This did the trick :)

Maurilio.

Przemys?aw Czerpak wrote:
> On Wed, 10 Mar 2010, Maurilio Longo wrote:
> 
> Hi,
> 
>> No, it was not working with my .cmd file, either adding -gtnul to hbmk2 or
>> adding -lgtgui to list of .dll it still asked for gtwin with an unresolved
>> external.
> 
> Yes and it should. Please look at harbour/doc/gtapi.txt. The second part
> of this file is copy of may message I sent to this list few years ago.
> Please read about:
>    ANNOUNCE HB_GTSYS
> and how it works.
> 
>> But, now that hbmk2 with the correct order of parameters works I can simply
>> call it like this:
>> hbmk2 -strip -st -gtgui -hbdyn -hbnolib- my.prg my_c.c
>> and I get my.dll without errors.
>> Now I just have to see if it works :)
> 
> I think that you may want to add code to initialize HVM.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Thu Mar 11 03:42:19 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Mar 11 03:42:32 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <20100310193527.GD10479@linux-4bod.home.aster.pl>
References: <4B97ADA5.9060500@libero.it>	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>	<4B97B815.9080009@libero.it>	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>	<4B97C031.5050502@libero.it>	<20100310161356.GA10479@linux-4bod.home.aster.pl>	<4B97C848.2010704@libero.it>
	<4B97CD2F.4070304@libero.it>
	<20100310193527.GD10479@linux-4bod.home.aster.pl>
Message-ID: <4B98ACEB.6020005@libero.it>

Przemyslaw,

I've just tested your code and it does not work, it seems hb_vmInit() is not
called.

My simpler code was to call hb_vmInit() explicitly.

Maurilio.

Przemys?aw Czerpak wrote:
> On Wed, 10 Mar 2010, Maurilio Longo wrote:
> 
> Hi,
> 
>> it does not work :(
>> Question: do I have to startup the HVM or does it start up by itself as soon
>> as the .dll is loaded?
> 
> You haven't added any code to initialize HVM after loading DLL file.
> You are creating DLL which uses its own HVM and you have to initialize it.
> For single thread support it's quite simple and the code below should be
> enough. I haven't tested it.
> 
> best regards,
> Przemek
> 
> 
>    #include "hbvm.h"
>    #include <windows.h>
> 
>    extern void hb_winmainArgInit( HANDLE hInstance, HANDLE hPrevInstance, int iCmdShow );
> 
>    #if defined( HB_OS_WIN_CE ) && ( defined( _MSC_VER ) || defined( __POCC__ ) )
>    BOOL WINAPI HB_DLL_ENTRY_POINT( HANDLE hInstance, DWORD dwReason, PVOID pvReserved )
>    #else
>    BOOL WINAPI HB_DLL_ENTRY_POINT( HINSTANCE hInstance, DWORD dwReason, PVOID pvReserved )
>    #endif
>    {
>       hb_winmainArgInit( hInstance, 0, 0 );
>       HB_SYMBOL_UNUSED( pvReserved );
> 
>       switch( fdwReason )
>       {
>          case DLL_PROCESS_ATTACH:
>             hb_vmInit( HB_FALSE );
>             break;
>          case DLL_PROCESS_DETACH:
>             hb_vmQuit();
>             break;
>       }
>       return TRUE;
>    }
> 
>    #if defined( __DMC__ ) || defined( __WATCOMC__ )
>       HB_EXTERN_BEGIN
>       void hb_forceLinkMainWin( void ) {}
>       void hb_forceLinkMainStd( void ) {}
>       HB_EXTERN_END
>    #endif
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Thu Mar 11 04:05:06 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 04:05:16 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <4B98A92D.4000903@libero.it>
References: <4B97ADA5.9060500@libero.it>	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>	<4B97B815.9080009@libero.it>	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>	<4B97C031.5050502@libero.it>	<20100310161356.GA10479@linux-4bod.home.aster.pl>	<4B97C848.2010704@libero.it>
	<20100310192204.GC10479@linux-4bod.home.aster.pl>
	<4B98A92D.4000903@libero.it>
Message-ID: <E9C9CFB5-65B9-423A-885B-E63C5BB481B5@syenar.hu>

> Przemyslaw,
> 
> -gui
> 
> on hbmk2 command line is not enough, I've found the answer in an old message
> of Viktor, I had to add to my .prg code
> 
> procedure HB_GT_SYS()
> 	REQUEST HB_GT_GUI_DEFAULT
> return
> 
> This did the trick :)

-gui doesn't set any GTs, only executable build mode.
You should use -gtgui (which will also set -gui automatically).

BTW, -gtnul should also work for normal cases.

The problem in your case is that the method hbmk2 
uses (inherited from hbmk script) to set default GT, 
is an internal VM call executed on app startup. In 
context of .dlls with full VM, such "app startup" 
has no meaning. In such case a different stub would 
be needed, something like Przemek posted. I can 
add support for such thing to hbmk2, but first we 
should clear up any issues with it.

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Thu Mar 11 04:11:16 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Mar 11 04:11:28 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <905448238.20100310190423@yahoo.com.ar>
References: <905448238.20100310190423@yahoo.com.ar>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502EE3C45@PINK.zycie.pzu>

-----Original Message-----
From: Luis R. Stach [mailto:luisrstach@yahoo.com.ar] 
Sent: Wednesday, March 10, 2010 11:04 PM
To: harbour@harbour-project.org
Subject: [Harbour] Error in SDDFB

English by Google

Hi
I'm trying to connect to Firebird but I can not, I get this error:

Error SDDFB/1903 Prepare statement failed: SELECT * FROM agenda (DOS
Error 335544569)

What I do is this:

ANNOUNCE RDDSYS
REQUEST SQLMIX, SDDFB
RDDSETDEFAULT( "SQLMIX" )

hConn := RDDINFO( RDDI_CONNECT, { "FIREBIRD",, "SYSDBA", "masterkey",
"192.168.0.1:d:\data\agenda.fdb" } )
MsgInfo( hConn )  //Return 1
DBUSEAREA( .T.,, "SELECT * FROM agenda" )     //Line error
I use Firebird 2.1.3.18185
*-------------------

I use this so :
dbUseArea( .T., "SQLMIX", "select pok, oddz from jednostki order by
pok", "JEDNOSTKI")

with Oracle. Try so like I.


Regards,
Marek Horodyski


From druzus at acn.waw.pl  Thu Mar 11 04:27:46 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar 11 04:27:54 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <E9C9CFB5-65B9-423A-885B-E63C5BB481B5@syenar.hu>
References: <4B97ADA5.9060500@libero.it>
	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>
	<4B97B815.9080009@libero.it>
	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>
	<4B97C031.5050502@libero.it>
	<20100310161356.GA10479@linux-4bod.home.aster.pl>
	<4B97C848.2010704@libero.it>
	<20100310192204.GC10479@linux-4bod.home.aster.pl>
	<4B98A92D.4000903@libero.it>
	<E9C9CFB5-65B9-423A-885B-E63C5BB481B5@syenar.hu>
Message-ID: <20100311092746.GA28853@linux-4bod.home.aster.pl>

On Thu, 11 Mar 2010, Szak?ts Viktor wrote:

Hi Viktor,

> -gui doesn't set any GTs, only executable build mode.
> You should use -gtgui (which will also set -gui automatically).
> BTW, -gtnul should also work for normal cases.
> The problem in your case is that the method hbmk2 
> uses (inherited from hbmk script) to set default GT, 
> is an internal VM call executed on app startup. In 
> context of .dlls with full VM, such "app startup" 
> has no meaning. In such case a different stub would 
> be needed, something like Przemek posted. I can 
> add support for such thing to hbmk2, but first we 
> should clear up any issues with it.

The startup code in DLLs is executed just like in normal
application so it should work for DLLs two.
At least I do not see any reasons why it should not work.

Maurilio's messages are strongly confusing and it's hard to
guess what he exactly does or even what it the exact problem.
In this particular case he joined two different things.
He disabled binding to GTWIN by defining defining HB_GTSYS
and set default GT by using HB_GT_*_DEFAULT so I do not
know what "problem" he resolved.

Maurilio I know that we do not have good documentation
but I strongly suggest to read at least these few peaces
we have. In doc/gtapi.txt this is described and should
help to understand how it works. IMHO it's much better
method then trying different methods in the hope that
some of them gives expected results because in such way
you can unintentionally create sth what works only due
to some side effects in current implementation and will
not work in the future so you will report the problem to
the list again. The code to select GTs in PRG code I
implemented many years ago for xHarbour and only names
has changed a little bit (i.e. now we have HB_GTSYS instead
of original GTSYS). I think it's long enough period to find
a while to read how it works to not have such problems in
the future :-)

best regards,
Przemek
From maurilio.longo at libero.it  Thu Mar 11 05:01:10 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Mar 11 05:01:24 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <E9C9CFB5-65B9-423A-885B-E63C5BB481B5@syenar.hu>
References: <4B97ADA5.9060500@libero.it>	<355D7414-357F-4527-BC89-FEC01D8BC7CD@syenar.hu>	<4B97B815.9080009@libero.it>	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>	<4B97C031.5050502@libero.it>	<20100310161356.GA10479@linux-4bod.home.aster.pl>	<4B97C848.2010704@libero.it>	<20100310192204.GC10479@linux-4bod.home.aster.pl>	<4B98A92D.4000903@libero.it>
	<E9C9CFB5-65B9-423A-885B-E63C5BB481B5@syenar.hu>
Message-ID: <4B98BF66.7020202@libero.it>

Viktor,

Viktor Szak?ts wrote:
> -gui doesn't set any GTs, only executable build mode.
> You should use -gtgui (which will also set -gui automatically).
> 
Not enough without the hb_gtsys() procedure.

> BTW, -gtnul should also work for normal cases.
> 
I'm not sure I've tested this, but I think I've done this test and it was not
working either.

> The problem in your case is that the method hbmk2 
> uses (inherited from hbmk script) to set default GT, 
> is an internal VM call executed on app startup. In 
> context of .dlls with full VM, such "app startup" 
> has no meaning. In such case a different stub would 
> be needed, something like Przemek posted. I can 
> add support for such thing to hbmk2, but first we 
> should clear up any issues with it.
> 
I'm doing a pretty strange thing, I don't know if it is worth adding to hbmk2,
while I think having a .c file to include to start-up the HVM could be a more
general and useful thing.

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Thu Mar 11 05:42:11 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 05:42:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14130] trunk/harbour
Message-ID: <E1NpfqF-0002e1-0i@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14130
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14130&view=rev
Author:   vszakats
Date:     2010-03-11 10:42:09 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 11:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/estack.c
  * include/hbstack.h
    % hb_stackDispLocal() internal debug function made static, 
      and guarded with HB_VM_DEBUG (pls change it to something 
      better if there is one), so it's not included in every 
      regular build and final executable.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbstack.h
    trunk/harbour/src/vm/estack.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Thu Mar 11 06:04:32 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Mar 11 06:04:45 2010
Subject: [Harbour] mingw32-make -j
Message-ID: <4B98CE40.4080009@libero.it>

Hi,

it's just me or mingw32-make -j n with > 1 does not work? It seems, looking at
cpu monitor, that just a core is occupied.

If I issue a mingw32-make -j (without limit) it fully saturates all cores. I
have a dual core, so a -j 3 or 4 should be enough, I've tested -j 6 or 8, with
always just a core working.

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Thu Mar 11 06:34:43 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 06:34:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14131] trunk/harbour
Message-ID: <E1Npgf5-0005nK-NC@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14131
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14131&view=rev
Author:   vszakats
Date:     2010-03-11 11:34:41 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 12:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/sqlite3/sqlite3.c
  * external/sqlite3/sqlite3.h
    + sqlite upgraded to 3.6.23 (from 3.6.22)

  * INSTALL
    + Added one more real-life example for unnecessary 
      envvars (HB_DIR).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/external/sqlite3/sqlite3.c
    trunk/harbour/external/sqlite3/sqlite3.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 11 07:10:06 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 07:10:19 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
References: <4B961429.9040505@libero.it>
	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
Message-ID: <2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>

Results in 64-bit mode using MSVC 2008 (same as 32-bit) 
and mingw 4.4.4 20100129 (prerelease):

     mingw  msvc
C++         11.63
C    11.08

mingw seems to be the winner here in default 
Harbour builds, even though msvc had the advantage 
of C++ mode.

Plus, 64-bit mode has a clear advantage over 32-bit.

Sizes:
                      ming64 C   msvc64 C++
harbour-21-x64.dll   3.380.736    3.091.456
harbourmt-21-x64.dll 3.403.264    3.130.880
harbour.exe            625.152      720.384
hbformat-dll.exe        35.840       61.952
hbformat.exe           706.560      524.800
hbi18n-dll.exe          20.480       45.568
hbi18n.exe             684.032      506.880
hbmk2-dll.exe          751.616      847.360
hbmk2.exe            1.462.784    1.342.976
hbpp.exe               133.632      171.520
hbrun-dll.exe          643.072      738.304
hbrun.exe            3.314.688    3.127.808
hbtest-dll.exe         391.168      417.280
hbtest.exe           1.419.776    1.239.552

I will make more tests, but it seems it's 
worth switching to mingw also for 64-bit mode.

Last time the problem was weak or none (yet) 
3rd party support for mingw64 (f.e. openssl).

Brgds,
Viktor

On 2010 Mar 11, at 09:10, Viktor Szak?ts wrote:

> BTW, here is the full result matrix for mingw 4.4.1 and MSVC 2008:
> 
>     mingw    msvc
> C++  13.57   *13.59
> C   *14.27    13.76
> 
> (* is default build mode in Harbour)
> 
> This means that in C++ mode msvc and mingw are very close, 
> in C mode msvc still leads, and in default Harbour builds, 
> msvc also leads.
> 
> I have to correct mingw size increase results 
> (forgot to strip them), so mingw in C++ is about 
> 0.3-1.5% larger than C counterpart. In practice,
> it's negligible.
> 
> msvc and mingw sizes are a little fuzzy to compare:
> ---
>                     mingw C++     mingw C   msvc C++     msvc C
> harbour-21.dll       3.523.584   3.499.520  2.569.216  2.567.680
> harbourmt-21.dll     3.553.280   3.526.144  2.595.840  2.594.816
> harbour.exe            577.024     568.832    583.168    583.168
> hbformat-dll.exe        26.112      26.112     60.416     60.416
> hbformat.exe           745.984     744.448    462.848    462.848
> hbi18n-dll.exe          11.776      11.776     46.080     46.080
> hbi18n.exe             726.016     724.480    446.464    446.464
> hbmk2-dll.exe          696.320     689.152    704.512    704.512
> hbmk2.exe            1.474.048   1.460.224  1.107.968  1.105.920
> hbpp.exe               133.632     130.560    172.544    172.544
> hbrun-dll.exe          591.872     585.216    600.064    600.064
> hbrun.exe            3.393.536   3.372.032  2.589.184  2.584.576
> hbtest-dll.exe         373.760     374.272    407.552    407.552
> hbtest.exe           1.477.120   1.472.512  1.100.288  1.099.776
> ---
> 
> Some binaries are smaller, some others are much 
> larger in mingw.
> 
> Brgds,
> Viktor
> 

From mbelgrano at deltain.it  Thu Mar 11 07:19:16 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 11 07:19:44 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <4B961429.9040505@libero.it>
References: <4B961429.9040505@libero.it>
Message-ID: <609353e71003110419k7bb8de83j332c308dc7b33223@mail.gmail.com>

Borland allow function to be replaceable so  you can replace a single
function without replace entire module
not good way but can be easy:

in my.lib other than other function
func stato
will be replaced
in myprg with simply
func stato
sequence link define result
2010/3/9 Maurilio Longo <maurilio.longo@libero.it>

> Hi,
>
> which is the harbour recommended C compiler for the windows platform?
>
> best regards.
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100311/7e460156/attachment.html
From mbelgrano at deltain.it  Thu Mar 11 07:36:19 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 11 07:36:47 2010
Subject: [Harbour] standalone .dll with full harbour RTL+VM
In-Reply-To: <20100311092746.GA28853@linux-4bod.home.aster.pl>
References: <4B97ADA5.9060500@libero.it> <4B97B815.9080009@libero.it> 
	<303942AE-AE9A-48A4-99C0-65B7864A90A7@syenar.hu>
	<4B97C031.5050502@libero.it> 
	<20100310161356.GA10479@linux-4bod.home.aster.pl>
	<4B97C848.2010704@libero.it> 
	<20100310192204.GC10479@linux-4bod.home.aster.pl>
	<4B98A92D.4000903@libero.it> 
	<E9C9CFB5-65B9-423A-885B-E63C5BB481B5@syenar.hu>
	<20100311092746.GA28853@linux-4bod.home.aster.pl>
Message-ID: <609353e71003110436r6b7213c2i6dcd86fc7ec7d565@mail.gmail.com>

I suggest write a guideline
explain your problem with a sample
here few user explain use a sample but bad describe problem who have bad
understanding
a sample speak more that 1000 word so harbour sample can be more interesting
that harbour doc
i suggest an official reply for problem without sample
Your problem can't found easy help here because is required a reproducible
sample for verify

Still sorry for my bad English, but plesas undestrand what i can explain
2010/3/11 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Thu, 11 Mar 2010, Szak?ts Viktor wrote:
>
> Maurilio's messages are strongly confusing and it's hard to
> guess what he exactly does or even what it the exact problem.
> In this particular case he joined two different things.
> He disabled binding to GTWIN by defining defining HB_GTSYS
> and set default GT by using HB_GT_*_DEFAULT so I do not
> know what "problem" he resolved.
>
> Maurilio I know that we do not have good documentation
> but I strongly suggest to read at least these few peaces
> we have. In doc/gtapi.txt this is described and should
> help to understand how it works. IMHO it's much better
> method then trying different methods in the hope that
> some of them gives expected results because in such way
> you can unintentionally create sth what works only due
> to some side effects in current implementation and will
> not work in the future so you will report the problem to
> the list again. The code to select GTs in PRG code I
> implemented many years ago for xHarbour and only names
> has changed a little bit (i.e. now we have HB_GTSYS instead
> of original GTSYS). I think it's long enough period to find
> a while to read how it works to not have such problems in
> the future :-)
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100311/6bcb9681/attachment.html
From harbour.01 at syenar.hu  Thu Mar 11 07:54:25 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 11 07:54:34 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <609353e71003110419k7bb8de83j332c308dc7b33223@mail.gmail.com>
References: <4B961429.9040505@libero.it>
	<609353e71003110419k7bb8de83j332c308dc7b33223@mail.gmail.com>
Message-ID: <7D68D234-D306-4A73-A991-CC19D2E221F7@syenar.hu>

Hi,

> Borland allow function to be replaceable so  you can replace a single function without replace entire module
> not good way but can be easy:
> 
> in my.lib other than other function
> func stato
> will be replaced 
> in myprg with simply
> func stato
> sequence link define result

There is nothing to thank for bcc to hide 
important link-time problems caused by wrong 
coding / linking practices, like using multiple 
definitions of the same symbol. Such problems 
are best to be fixed in app code ASAP.

BTW, mingw also "supports" it, you only need to 
disable the fatal error using '-Wl,--allow-multiple-definition' 
option. Same goes for msvc.

We've been talking a lot about this on the 
list in the past, so I'm surprised there is 
still misunderstanding here.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Mar 11 09:59:49 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 09:59:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14132] trunk/harbour
Message-ID: <E1NpjrZ-0001iw-BD@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14132
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14132&view=rev
Author:   vszakats
Date:     2010-03-11 14:59:47 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 15:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbcurl/hbcurl.c
    + Added suggested workaround for potential security exploit 
      when used with libcurl < 7.20.0.
      See details here:
         http://curl.haxx.se/docs/adv_20100209.html

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcurl/hbcurl.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Mar 11 10:09:42 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 11 10:09:49 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14128] trunk/harbour
In-Reply-To: <F99BFF2A-DD10-492B-9F16-FD072D275EF6@syenar.hu>
References: <E1NpZr9-0001Pi-7s@sfp-svn-4.v30.ch3.sourceforge.com>
	<F99BFF2A-DD10-492B-9F16-FD072D275EF6@syenar.hu>
Message-ID: <1268320182431-4716488.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Perhaps the GUI elements should use their own 
> colors instead of console ones, and the problem 
> is solved.
> 

And perhaps it is forgotton that GTWVG is essentially
a GUI implementation of GTWVT. Some standards were 
laid down in GTWVG only and were not the parts of 
GTWVT at all. One... see below.



> Anyhow it would be important to remove the 
> palette incompatibility. Leaving incompatibility 
> for all Harbour user base, just because there 
> is some local code, which you cannot modify 
> is not a very good solution for Harbour IMO.
> 

I had to dig deep to gather facts about it.

Here is the changelog entries:

2010-02-25 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbziparc/hbziparc.prg
    ! Fixed HB_ZIPFILE() not working properly with a password set.

  * include/hbgtinfo.ch
    ! Fixed comment for HB_GTI_PALETTE.

2009-02-20 13:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/classes.c
    * cleanup comment

  * harbour/source/rtl/gttrm/gttrm.c
    + added support for HB_GTI_PALETTE - it's supported only by Linux
console
      and PuTTY/PTerm

  * harbour/source/rtl/gtxwc/gtxwc.c
  * harbour/source/rtl/gtwvt/gtwvt.c
  * harbour/contrib/gtwvg/gtwvg.c
    ! fixed indexes in
         hb_gtInfo( HB_GTI_PALLETE, <nIndex> [, <nNewRGBcolor> ] )
      They should be the same as in our screen buffer: 0-based not one
      based.


2008-06-13 10:56 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/source/rtl/gtfunc.c
   * harbour/include/hbapigt.h
     + Added Palette implementation by color index.
       Hb_GtInfo( HB_GTI_PALETTE, nIndex[, nNewRGB ] ) -> nOldRGB

   * harbour/tests/wvtext.prg
     * Updated to demonstrate above functionality.

2008-06-13 09:12 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/include/hbgtinfo.ch
     + Added functionality to change Palette.
       Hb_GtInfo( HB_GTI_PALETTE, aNewPalette ) -> aOldPalette
       <aNewPalette> must be of 16 elements containg RGB colors.

   * harbour/tests/wvtext.prg
     * Updated to demonstrate palette info.
     ; TODO : Hb_GtInfo( HB_GTI_PALETTEBYINDEX, nIndex[, nNewRGB ] ) ->
nOldRGB
       Needs deeper modifications in GT core. Needs additional parameter
       in core setup. Will commit today.

Initially this feature was kept under 
Wvt_set/getPalette() -> aRGB



> Consistency should always have priority over 
> local/personal reasons IMO. And the more we 
> delay it, the worse it gets.
> 

Tell me who broke the consistancy ?

There is no concept of 0 base in Clipper code, is there ?
When I implemented it as HB_GTI_PALETTE call, I took 
PRG code in perspective, to keep it consistent with 
array assign/retreival. so that user could assign/retieve
either the whole palette or single color with one directive.

For example 

#define COLOR_BLUE  2

aRGB := hb_gtInfo( HB_GTI_PALETTE )
aRGB[ COLOR_BLUE ] := nRGB
hb_gtInfo( HB_GTI_PALETTE, aRGB )

OR

hb_gtInfo( HB_GTI_PALETTE, COLOR_BLUE, nRGB )

I presume, I was right when I introduced it first.
How it went the other way, I am still at a loss. 

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14128-trunk-harbour-tp4713989p4716488.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Mar 11 10:29:27 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 10:29:40 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14128] trunk/harbour
In-Reply-To: <1268320182431-4716488.post@n2.nabble.com>
References: <E1NpZr9-0001Pi-7s@sfp-svn-4.v30.ch3.sourceforge.com>
	<F99BFF2A-DD10-492B-9F16-FD072D275EF6@syenar.hu>
	<1268320182431-4716488.post@n2.nabble.com>
Message-ID: <8A7631A0-FE1E-4719-A6EB-7A5D25F86E7D@syenar.hu>

Hi Pritpal,

>> Anyhow it would be important to remove the 
>> palette incompatibility. Leaving incompatibility 
>> for all Harbour user base, just because there 
>> is some local code, which you cannot modify 
>> is not a very good solution for Harbour IMO.
>> 
> 
> I had to dig deep to gather facts about it.
> 
> Here is the changelog entries:
>> Consistency should always have priority over 
>> local/personal reasons IMO. And the more we 
>> delay it, the worse it gets.
>> 
> 
> Tell me who broke the consistancy ?

You introduced a feature in SVN which used 
completely inconsistent numbering, using 1 
for black, which is historically zero.

Then someone (not me BTW) pointed out this error, 
and we corrected it, except GTWVG, which is now 
inconsistent.

> There is no concept of 0 base in Clipper code, is there ?

There is.

> When I implemented it as HB_GTI_PALETTE call, I took 
> PRG code in perspective, to keep it consistent with 
> array assign/retreival. so that user could assign/retieve
> either the whole palette or single color with one directive.
> 
> For example 
> 
> #define COLOR_BLUE  2
> 
> aRGB := hb_gtInfo( HB_GTI_PALETTE )
> aRGB[ COLOR_BLUE ] := nRGB
> hb_gtInfo( HB_GTI_PALETTE, aRGB )
> 
> OR
> 
> hb_gtInfo( HB_GTI_PALETTE, COLOR_BLUE, nRGB )
> 
> I presume, I was right when I introduced it first.
> How it went the other way, I am still at a loss. 

Try HB_DISPOUTAT(). Or most other past tools 
that referred to 16 supported colors with 
numerical value, or foreground/background 
color combination as an 8-bit value, they all 
used and uses 0x00 - 0x0F indexes to refer to 
colors.

I'm really not willing to open a long debate 
this time, we made a decision and for the sake 
of all Harbour users, you will just have to 
adapt your local codebase. Many of us have done 
this many times in the history of Harbour so there 
is nothing special in this practice, especially 
with features not yet matured. Our priority is 
simply to do the best for Harbour, not to save 
some personal time for a few users or one user. 

(you wouldn't believe how many days I've spent 
adapting my code to Harbour GT engine changes 
alone in the last 11 years, and the palette one 
doesn't look like a particularly complicated and 
time-consuming change to make).

Pls adapt.

Brgds,
Viktor

From marcobra.ubuntu at gmail.com  Thu Mar 11 10:31:29 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Mar 11 10:31:38 2010
Subject: [Harbour] Error cross compiling Harbour for win on Ubuntu 10.04 32
	bits
Message-ID: <fd76479f1003110731jc65a7a3i457976b83107095b@mail.gmail.com>

Ubuntu 10.04 unstable Harbour:

harbour -build
Harbour 2.1.0dev (Rev. 14131)
Copyright (c) 1999-2010, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.1.0dev (Rev. 14131)
Compiler: GNU C 4.4.3 (32-bit)
Platform: Linux 2.6.32-15-generic i686
PCode version: 0.3
ChangeLog last entry: 2010-03-11 12:33 UTC+0100 Viktor Szakats (harbour.01
syenar.hu)
ChangeLog ID: ChangeLog 14131 2010-03-11 11:34:41Z vszakats

Built on: Mar 11 2010 13:01:10
Build options: (Clipper 5.3b) (Clipper 5.x undoc)

Compile and install fine...

---------------------------
But when i try...:
--------------------------

export PATH=/tmp/hbwin/bin:$PATH
# rm -fr /tmp/hbwin/*
make HB_PLATFORM=win
export HB_INSTALL_PREFIX=/tmp/hbwin
make install HB_PLATFORM=win

i get the errors below: any suggestion...?

! Installing ../../lib/win/mingw/libhbdebug.a on /tmp/hbwin/lib/win/mingw
/usr/bin/i586-mingw32msvc-gcc  -shared -L../../../../../lib/win/mingw  -o
../../../../../bin/win/mingw/harbour-21.dll __dyn__.tmp -lkernel32 -luser32
-lws2_32 -ladvapi32 -lgdi32
-Wl,--out-implib,../../../../../lib/win/mingw/libharbour-21.a,--output-def,../../../../../bin/win/mingw/harbour-21.def
Creating library file: ../../../../../lib/win/mingw/libharbour-21.a
../../../../../src/rdd/obj/win/mingw/ordwldsk.o:ordwldsk.c:(.text+0x0):
multiple definition of `_HB_FUN_ORDWILDSEEK'
../../../../../src/rdd/obj/win/mingw/dbcmdx.o:dbcmdx.c:(.text+0x1b0): first
defined here
../../../../../src/hbextern/obj/win/mingw/hbextern.o:hbextern.c:(.data+0x3388):
undefined reference to `_HB_FUN_XPP_TBROWSE'
../../../../../src/hbextern/obj/win/mingw/hbextern.o:hbextern.c:(.data+0x3398):
undefined reference to `_HB_FUN_XPP_TBCOLUMN'
../../../../../src/hbextern/obj/win/mingw/hbextern.o:hbextern.c:(.data+0x36c8):
undefined reference to `_HB_FUN_HB_SETCODEPAGE'
../../../../../src/hbextern/obj/win/mingw/hbextern.o:hbextern.c:(.data+0x3db8):
undefined reference to `_HB_FUN_HB_LIBDO'
collect2: ld returned 1 exit status
make[3]: *** [harbour-21.dll] Errore 1
make[2]: *** [descend] Errore 2
make[1]: *** [dynlib.inst] Errore 2
make: *** [src.inst] Errore 2

Thank you and best regards.

Marco
-- 
Linux Infinite Freedom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100311/50325a55/attachment.html
From hbergen at ops.phl.ca  Thu Mar 11 11:12:41 2010
From: hbergen at ops.phl.ca (Heinz V Bergen)
Date: Thu Mar 11 11:12:48 2010
Subject: [Harbour] hbdoc2 compile errors
In-Reply-To: <1268280544334-4713957.post@n2.nabble.com>
References: <627E4F70B3044D498A1B6D9668DD2AEB0E52303D3B@wpgex02>
	<1268280544334-4713957.post@n2.nabble.com>
Message-ID: <27865636.post@talk.nabble.com>


Thank-you, yes it compiles now.

Heinz



Pritpal Bedi wrote:
> 
> 
> 
> Please check after r14127.
> 
> 
> -----
>                  enjoy hbIDEing...
>                     Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context:
> http://n2.nabble.com/hbdoc2-compile-errors-tp4712945p4713957.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/hbdoc2-compile-errors-tp27857112p27865636.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Mar 11 11:28:36 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 11 11:28:43 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14128] trunk/harbour
In-Reply-To: <8A7631A0-FE1E-4719-A6EB-7A5D25F86E7D@syenar.hu>
References: <E1NpZr9-0001Pi-7s@sfp-svn-4.v30.ch3.sourceforge.com>
	<F99BFF2A-DD10-492B-9F16-FD072D275EF6@syenar.hu>
	<1268320182431-4716488.post@n2.nabble.com>
	<8A7631A0-FE1E-4719-A6EB-7A5D25F86E7D@syenar.hu>
Message-ID: <1268324916432-4717019.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> You introduced a feature in SVN which used 
> completely inconsistent numbering, using 1 
> for black, which is historically zero.
> 
> Then someone (not me BTW) pointed out this error, 
> and we corrected it, except GTWVG, which is now 
> inconsistent.
> 
>> There is no concept of 0 base in Clipper code, is there ?
> 
> There is.
> 
> 

I think we are talking on two different planes.

There is no concept of 0 base in Clipper code, is there ?
=>
There is no concept of 0 base in Clipper arrays.

hb_gtInfo( HB_GTI_PALETTE ) numeric index and an array both.
And here is where my logic resided, not that numeric 0 is not a 
valid parameter.

Anyway this is not a big deal. I will change it but first 
I have to serach my application if I ever used this feature
with numeric indexes or not. A little later, now on hbIDE alone...



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14128-trunk-harbour-tp4713989p4717019.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Mar 11 11:37:12 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 11:37:22 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14128] trunk/harbour
In-Reply-To: <1268324916432-4717019.post@n2.nabble.com>
References: <E1NpZr9-0001Pi-7s@sfp-svn-4.v30.ch3.sourceforge.com>
	<F99BFF2A-DD10-492B-9F16-FD072D275EF6@syenar.hu>
	<1268320182431-4716488.post@n2.nabble.com>
	<8A7631A0-FE1E-4719-A6EB-7A5D25F86E7D@syenar.hu>
	<1268324916432-4717019.post@n2.nabble.com>
Message-ID: <4972E277-890A-43F3-AD68-7FF9E84D7716@syenar.hu>

>>> There is no concept of 0 base in Clipper code, is there ?
>> 
>> There is.
>> 
> I think we are talking on two different planes.
> 
> There is no concept of 0 base in Clipper code, is there ?

There is. Pls reread my msg. But anyway this is 
not strictly a Clipper compatibility issue.

> =>
> There is no concept of 0 base in Clipper arrays.
> 
> hb_gtInfo( HB_GTI_PALETTE ) numeric index and an array both.
> And here is where my logic resided, not that numeric 0 is not a 
> valid parameter.

There is no concept of storing colors in arrays 
anywhere in Clipper or Harbour, so there is no 
point to adapt the numbering to this one exception.

You won't be able to bend the whole world and 
modify well-known indexes to match 1 based 
arrays of Clipper/Harbour.

> Anyway this is not a big deal. I will change it but first 
> I have to serach my application if I ever used this feature
> with numeric indexes or not. A little later, now on hbIDE alone...

grep HB_GTI_PALETTE *.prg will tell you where 
to modify.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Mar 11 12:29:40 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 12:29:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14133] trunk/harbour
Message-ID: <E1NpmCa-0001HO-4T@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14133
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14133&view=rev
Author:   vszakats
Date:     2010-03-11 17:29:38 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 18:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/hbtoken.c
    * Marked function below with HB_LEGACY_LEVEL3:
        __STRTOKEN():      change it to equivalent HB_TOKENGET()
        __STRTKPTR():      change it to equivalent HB_TOKENPTR()
        __STRTOKENCOUNT(): change it to equivalent HB_TOKENCOUNT()

  * contrib/hbmysql/tmysql.prg
    + Added ::nPort variable to TMYSQLSERVER class.
    * Formatting.

  * contrib/hbmysql/tmysql.prg
  * examples/hbmsql/tmsql.prg
    ! __STRTOKEN() -> HB_TOKENGET()

  * contrib/hbmysql/tsqlbrw.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/tmysql.prg
    trunk/harbour/contrib/hbmysql/tsqlbrw.prg
    trunk/harbour/examples/hbmsql/tmsql.prg
    trunk/harbour/src/rtl/hbtoken.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Mar 11 12:36:05 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Mar 11 12:36:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14134] trunk/harbour
Message-ID: <E1NpmIn-0004Rp-Up@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14134
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14134&view=rev
Author:   vouchcac
Date:     2010-03-11 17:36:04 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 09:30 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/doc/en/class_hbqplaintextedit.txt
  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h
  * contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
  * contrib/hbqt/qtgui/THBQPlainTextEdit.prg
  * contrib/hbqt/qth/HBQPlainTextEdit.qth

  * contrib/hbide/resources/themesex.ui
  * contrib/hbide/resources/themesex.uic

  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idethemes.prg
    + Reimplemented "Themes".
      * Now it is possible to change current line and line area background
        colors. Also synchronized the current colors for these areas 
        with rest of the theme.
      * Now you can apply a particular theme globally to all tabs.
      * Made easy the way GUI elements are presented, it is more intuitive.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbide/resources/themesex.ui
    trunk/harbour/contrib/hbide/resources/themesex.uic
    trunk/harbour/contrib/hbqt/doc/en/class_hbqplaintextedit.txt
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Mar 11 12:45:05 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 11 12:45:14 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14134] trunk/harbour
In-Reply-To: <E1NpmIn-0004Rp-Up@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NpmIn-0004Rp-Up@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <1268329505976-4717451.post@n2.nabble.com>



vouchcac wrote:
> 
> Revision: 14134
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14134&view=rev
> Author:   vouchcac
> Date:     2010-03-11 17:36:04 +0000 (Thu, 11 Mar 2010)
> 

Forget to mention that when changing the line and line-area colors
keep some actural source in vision, only then you will visualize it.
In the "Themes" dialog it is not possible to display it.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14134-trunk-harbour-tp4717401p4717451.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Thu Mar 11 13:33:05 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar 11 13:33:12 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14128] trunk/harbour
In-Reply-To: <1268324916432-4717019.post@n2.nabble.com>
References: <E1NpZr9-0001Pi-7s@sfp-svn-4.v30.ch3.sourceforge.com>
	<F99BFF2A-DD10-492B-9F16-FD072D275EF6@syenar.hu>
	<1268320182431-4716488.post@n2.nabble.com>
	<8A7631A0-FE1E-4719-A6EB-7A5D25F86E7D@syenar.hu>
	<1268324916432-4717019.post@n2.nabble.com>
Message-ID: <20100311183305.GA31990@linux-4bod.home.aster.pl>

On Thu, 11 Mar 2010, Pritpal Bedi wrote:

Hi,

> I think we are talking on two different planes.
> There is no concept of 0 base in Clipper code, is there ?

Yes it is. Please read Clipper documentation.
Clipper uses indexes in range 0-15 for foreground and
background colors with the following meaning.
   0-black
   1-blue
   2-green
   3-cyan
   4-red
   5-magenta
   6-brown
   7-light gray
   8-gray
   9-light blue
  10-light green
  11-light cyan
  12-light red
  13-light magenta
  14-yellow
  15-white

You can select colors in Clipper using stringslike:
   "4/1" => red/blue
   "15/2" => white/green

In harbour/tests/gtcolors.prg you have code example which uses
such numeric indexes to select colors. Please be so kind and
comment the line 20 in this file (with HB_GTVERSION() functions)
and compile it using Clipper and check how it works.

Harbour fully respects such numeric indexes so I do not see any
reason why we should create execption for HB_GTI_PALETTE and add
1 to these indexes when in all other places (the numeric color
notation using indexes is accepted by _ALL_ functions using color
strings) we will use Clipper compatible 0 based color values.

If you know such reason then please tell us about them.
If not then IMO GTWVG should be fixed to be compatible with
color indexes used by Clipper.

best regards,
Przemek
From bedipritpal at hotmail.com  Thu Mar 11 13:37:00 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 11 13:37:07 2010
Subject: [Harbour] hbIDE - Let's review
Message-ID: <1268332620529-4717833.post@n2.nabble.com>


Hello Everybody

Today, on 11Mar2010, hbIDE is 3 months and 24 days old, 
and it's time to look at it from different angles.

I invite everybody to express himself as to 

what is left unfinished,
what more is needed, 
what needs to be addressed again,
in context to priorities and preferences.

I am really eager to listen to you.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4717833.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Mar 11 13:39:50 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 11 13:39:57 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14128] trunk/harbour
In-Reply-To: <20100311183305.GA31990@linux-4bod.home.aster.pl>
References: <E1NpZr9-0001Pi-7s@sfp-svn-4.v30.ch3.sourceforge.com>
	<F99BFF2A-DD10-492B-9F16-FD072D275EF6@syenar.hu>
	<1268320182431-4716488.post@n2.nabble.com>
	<8A7631A0-FE1E-4719-A6EB-7A5D25F86E7D@syenar.hu>
	<1268324916432-4717019.post@n2.nabble.com>
	<20100311183305.GA31990@linux-4bod.home.aster.pl>
Message-ID: <1268332790994-4717853.post@n2.nabble.com>



Przemys?aw Czerpak wrote:
> 
> Yes it is. Please read Clipper documentation.
> Clipper uses indexes in range 0-15 for foreground and
> background colors with the following meaning.
>    0-black
>    1-blue
>    2-green
>    3-cyan
>    4-red
>    5-magenta
>    6-brown
>    7-light gray
>    8-gray
>    9-light blue
>   10-light green
>   11-light cyan
>   12-light red
>   13-light magenta
>   14-yellow
>   15-white
> 
> You can select colors in Clipper using stringslike:
>    "4/1" => red/blue
>    "15/2" => white/green
> 
> In harbour/tests/gtcolors.prg you have code example which uses
> such numeric indexes to select colors. Please be so kind and
> comment the line 20 in this file (with HB_GTVERSION() functions)
> and compile it using Clipper and check how it works.
> 
> Harbour fully respects such numeric indexes so I do not see any
> reason why we should create execption for HB_GTI_PALETTE and add
> 1 to these indexes when in all other places (the numeric color
> notation using indexes is accepted by _ALL_ functions using color
> strings) we will use Clipper compatible 0 based color values.
> 
> If you know such reason then please tell us about them.
> If not then IMO GTWVG should be fixed to be compatible with
> color indexes used by Clipper.
> 

Now I am more aware about internals.
Thanks for this insight, I will fix GTWVG soon.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14128-trunk-harbour-tp4713989p4717853.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Thu Mar 11 13:50:24 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar 11 13:50:33 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
References: <609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
Message-ID: <20100311185024.GB31990@linux-4bod.home.aster.pl>

On Thu, 11 Mar 2010, Szak?ts Viktor wrote:

Hi,

> Results in 64-bit mode using MSVC 2008 (same as 32-bit) 
> and mingw 4.4.4 20100129 (prerelease):
>      mingw  msvc
> C++         11.63
> C    11.08
> mingw seems to be the winner here in default 
> Harbour builds, even though msvc had the advantage 
> of C++ mode.

Finally I installed for tests GCC 4.5 (devel version)
and in C++ mode with -flto it gives also better results
then in C mode so it's potentially the fastest code.
I have to say that I vary like how the meta code is
implemented. Unlike other compilers GCC can be used
with LTO without any complicated settings and programmer
can easy control if he wants or not link time optimization
using one link time switch.

> Plus, 64-bit mode has a clear advantage over 32-bit.

I have similar results in Linux.
64bit Harbour programs are faster then 32bit ones.

> I will make more tests, but it seems it's 
> worth switching to mingw also for 64-bit mode.

The very strong thing in GCC is really good performance
for different hardware. The optimization logic is not
hardcoded to one processor family so it can be easy adopt
to completely different CPUs. Anyhow I do not know what
it the quality of Win64 GCC ports so here you will have
to took the decision yourself. It's quite new port anyhow
I think that in short time it should be very stable and
efficient. 64big GCC ports for different *nixes have been
existing for _very_ long time.

Thank you for your tests.

best regards,
Przemek
From bedipritpal at hotmail.com  Thu Mar 11 14:00:25 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 11 14:00:33 2010
Subject: [Harbour] GC Pointers - Anyway to detatch them ?
Message-ID: <1268334025193-4717974.post@n2.nabble.com>


Hello Przemek

I am looking for a solution where is GC pointer is
detatched from "freeing" it, all other operations remaining 
the same. 

It is possible that I am not been able to explain what I need properly.

In hbQT we are been unable to know, at certain points, when 
Qt releases the pointer. As per inherent nature of pointers
C or C++ does not set the value of pointer variable to NULL.
And hence when it is subject to freeing, GC does not 
know if it has already been freed and hence GPF's.

I have a mechanism in place where all delete operations 
can be carried on as per Qt specs, I just want that the 
pointer is not freeed in GC. It will only detatch GC from it 
and will clear its stack.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/GC-Pointers-Anyway-to-detatch-them-tp4717974p4717974.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From luisrstach at yahoo.com.ar  Thu Mar 11 14:36:01 2010
From: luisrstach at yahoo.com.ar (Luis R. Stach)
Date: Thu Mar 11 14:36:53 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502EE3C45@PINK.zycie.pzu>
References: <905448238.20100310190423@yahoo.com.ar>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502EE3C45@PINK.zycie.pzu>
Message-ID: <919334148.20100311163601@yahoo.com.ar>

English by Google

Marek Thanks for answering,

The same problem continues, it follows the same mistake

Regards,
Luis R. Stach


Thursday, March 11, 2010, 6:11:16 AM, you wrote:

> -----Original Message-----
> From: Luis R. Stach [mailto:luisrstach@yahoo.com.ar] 
> Sent: Wednesday, March 10, 2010 11:04 PM
> To: harbour@harbour-project.org
> Subject: [Harbour] Error in SDDFB

> English by Google

> Hi
> I'm trying to connect to Firebird but I can not, I get this error:

> Error SDDFB/1903 Prepare statement failed: SELECT * FROM agenda (DOS
> Error 335544569)

> What I do is this:

> ANNOUNCE RDDSYS
> REQUEST SQLMIX, SDDFB
> RDDSETDEFAULT( "SQLMIX" )

> hConn := RDDINFO( RDDI_CONNECT, { "FIREBIRD",, "SYSDBA", "masterkey",
> "192.168.0.1:d:\data\agenda.fdb" } )
> MsgInfo( hConn )  //Return 1
> DBUSEAREA( .T.,, "SELECT * FROM agenda" )     //Line error
> I use Firebird 2.1.3.18185
> *-------------------

> I use this so :
> dbUseArea( .T., "SQLMIX", "select pok, oddz from jednostki order by
> pok", "JEDNOSTKI")

> with Oracle. Try so like I.


> Regards,
> Marek Horodyski


> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour


From mbelgrano at deltain.it  Thu Mar 11 14:49:12 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 11 14:49:44 2010
Subject: [Harbour] hbIDE - Let's review
In-Reply-To: <1268332620529-4717833.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
Message-ID: <609353e71003111149w2d20c667h6b0071035b0e3921@mail.gmail.com>

HBIDE is very good tool and imo is very near to xmate level but
I am using hbide as primary editor for harbour

Unfinished the sub project/multi project implementation

What can be done
 more simple create project like visual studio one click create
folder,prg,hbp
 visual define harbour/hbmk flag
 User defined keyboard mapping and user menu
 Project tree require too many click
 automatic tag of  project function lookup for search in seleted project
 when i select a souce of project automatically select this project as
current
 Made possible add documentation to harbour using hbide
 Simple keystroke for open harbour help (f1) and go to selected function
 mark breakpoint & visual debug
 column mode in editor
 extend intellisense capabillty

Follow are requested from other user  that i have received via mail
is Possible use with xharbour or xbase++?
is possible use via command line for edit a project or a prg or rc?
Is possible define the structure of file like fromfoxpro modi stru command?
 Integrate Dot prompt dbase functionaly

Feature can be classified
1) more easy for first time user (i vote this!)
2) more powerfull for advanced user




2010/3/11 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hello Everybody
>
> Today, on 11Mar2010, hbIDE is 3 months and 24 days old,
> and it's time to look at it from different angles.
>
> I invite everybody to express himself as to
>
> what is left unfinished,
> what more is needed,
> what needs to be addressed again,
> in context to priorities and preferences.
>
> I am really eager to listen to you.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4717833.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100311/061c7ffc/attachment-0001.html
From harbour.01 at syenar.hu  Thu Mar 11 15:08:37 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 15:08:49 2010
Subject: [Harbour] hbIDE - Let's review
In-Reply-To: <1268332620529-4717833.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
Message-ID: <590D3CE7-FB7B-46F3-8B57-5D799F6304EB@syenar.hu>

Hi,

1) To fix the foundation and once and for all 
   the GPFs on all platforms / compiler 
   supported by hbide / QT.
2) To fix .ini file handling to be standard.
3) Related: Merge dangling secondary .ini and similar 
   config files into the central .ini.
4) Related: To solve storing settings on *nix 
   platforms. On these platforms you don't 
   store settings in .ini file in current dir.
5) To use hbmk2 for format conversion.
6) To make the decision: .ui or .uic and stick to 
   only one.
7) Future: To honor formatting and original comments 
   when saving .hbp files.

Brgds,
Viktor

On 2010 Mar 11, at 19:37, Pritpal Bedi wrote:

> 
> Hello Everybody
> 
> Today, on 11Mar2010, hbIDE is 3 months and 24 days old, 
> and it's time to look at it from different angles.
> 
> I invite everybody to express himself as to 
> 
> what is left unfinished,
> what more is needed, 
> what needs to be addressed again,
> in context to priorities and preferences.
> 
> I am really eager to listen to you.
> 
> 
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context: http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4717833.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From qiinfo at ig.com.br  Thu Mar 11 15:15:50 2010
From: qiinfo at ig.com.br (Rossine)
Date: Thu Mar 11 15:15:57 2010
Subject: [Harbour] Error with sample netiosrv.prg
Message-ID: <27869193.post@talk.nabble.com>


Hello Przemek,

I'm trying to compile the example NETIOSRV.PRG me and is experiencing this
error:

I'm using the svn harbour 14110

I compile this:

hbmk2 -trace -mt -info -n -shared -prgflag=-D__BCC__ netiosrv netiocmd >
comp.log

...and the result:

hbmk2: Processando op??es do ambiente: -compiler=bcc
hbmk2: Plataforma detectada: win
hbmk2: Usando Harbour: c:\hrb_bcc\bin c:\hrb_bcc\include c:\hrb_bcc\lib
       c:\hrb_bcc\lib
hbmk2: Usando compilador C: c:\bcc55\bin\bcc32.exe
hbmk2: Processando script local: hbmk.hbm
hbmk2: Processando arquivo de configura??o: C:\hrb_bcc\bin\hbmk.cfg
hbmk2: Processando: ../hbnetio.hbc
hbmk2: Linha de comando do compilador Harbour: (interno)
(C:\hrb_bcc\bin\harbour.exe) -n2 netiosrv.prg netiocmd.prg -w3 -es2 -n
-D__BCC__ -oC:\TMP\ -ic:\hrb_bcc\include
hbmk2: Comando do compilador C/C++:
bcc32.exe -c -q -tWM -d -6 -O2 -OS -Ov -Oi -Oc -DHB_GC_AUTO
-DHB_FM_STATISTIC  -w -w-sig- -Q -nC:\TMP\ -Ic:\hrb_bcc\include
C:\TMP\netiosrv.c C:\TMP\netiocmd.c
C:\TMP\netiosrv.c:
C:\TMP\netiocmd.c:
hbmk2: Comando do Linkeditor:
ilink32.exe @C:\TMP\gyvp1t.lnk
hbmk2: Script do linkeditor:
-Gn -Tpe -Lc:\bcc55\Lib\PSDK;c:\hrb_bcc\lib  -ap c0x32.obj
C:\TMP\netiosrv.obj C:\TMP\netiocmd.obj, netiosrv.exe, nul, hbnetio.lib
hbmainstd.lib hbmainwin.lib hbcplr.lib hbdebug.lib kernel32.lib user32.lib
gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib
shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib
imm32.lib msimg32.lib wininet.lib "harbourmt-21-bcc.lib"  cw32mt.lib
import32.lib,, 
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external '_hb_stackReturnItem' referenced from
C:\HRB_BCC\LIB\HBNETIO.LIB|netiosrv

What can be ?

Best regards,

Rossine.


-- 
View this message in context: http://old.nabble.com/Error-with-sample-netiosrv.prg-tp27869193p27869193.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Thu Mar 11 15:20:16 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 15:20:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14135] trunk/harbour
Message-ID: <E1Nporg-00086d-EP@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14135
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14135&view=rev
Author:   vszakats
Date:     2010-03-11 20:20:13 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 21:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/filesys.c
    + Using direct Windows API instead of compiler specific
      C RTL functions to get/set current disk.
    ; Please review.
    - Deleted one Windows TODO: setmode() to be convered to
      direct Windows API call. This translation is done in
      C RTL, so Windows API cannot be used.
    ; There is no remaining non-standard (compiler specific)
      C RTL function usage on the Windows platform AFAICT.

  * contrib/hbmysql/tmysql.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/tmysql.prg
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Mar 11 16:16:28 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 11 16:16:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14136] trunk/harbour
Message-ID: <E1Nppk4-0001S2-Sb@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14136
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14136&view=rev
Author:   druzus
Date:     2010-03-11 21:16:27 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 22:16 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbstack.h
    * added HB_EXPORT to some hb_stack*() functions which can be needed
      for non core code

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbstack.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Mar 11 16:20:10 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Mar 11 16:20:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14137] trunk/harbour
Message-ID: <E1Nppne-0001XE-94@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14137
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14137&view=rev
Author:   vouchcac
Date:     2010-03-11 21:20:08 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 13:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/gtwvg.c
    ! Fixed the HB_GTI_PALETTE protocol uniform with other GT's.

  * contrib/gtwvg/tests/demowvg.prg
    ! ThreadID() -> Hb_ThreadID()
      BTW ThreadID() is a Xbase++ compatible function.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Mar 11 16:23:22 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 16:23:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14138] trunk/harbour
Message-ID: <E1Nppqk-0002ne-3A@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14138
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14138&view=rev
Author:   vszakats
Date:     2010-03-11 21:23:19 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 22:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/fssize.c
    + Using Harbour filefind API on win platforms (just
      like for wce) instead of using stat()/stat64() C RTL
      calls.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/fssize.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Mar 11 16:27:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 16:27:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14139] trunk/harbour
Message-ID: <E1Nppv0-0002t7-KG@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14139
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14139&view=rev
Author:   vszakats
Date:     2010-03-11 21:27:45 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 22:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtwvg/gtwvg.c
    ! Fixed change: 2010-03-11 13:20 UTC-0800
    * HB_GTI_PALETTE handling code fully synced with gtwvt.c.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From clipper at wssk.wroc.pl  Thu Mar 11 17:09:15 2010
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Thu Mar 11 17:10:06 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <919334148.20100311163601@yahoo.com.ar>
References: <905448238.20100310190423@yahoo.com.ar>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502EE3C45@PINK.zycie.pzu>
	<919334148.20100311163601@yahoo.com.ar>
Message-ID: <1676594661.20100311230915@wssk.wroc.pl>

Hello Luis,

I can only confirm your bug raport
(the same error here).

IMHO sddfb is still buggy oposite to
sddoci which work just fine.

sddfb can only make connection
(I can see it on Flamerobin fb tool) and nothing more ;-(

... but maybe is someone on our list, who can
say - it work ??

Mindaugas, can you look at this problem and help us
to find solution ??

Regards

Jacek Kubica

LRS> Thursday, March 11, 2010, 8:36:01 PM, you wrote:

LRS> English by Google

LRS> Marek Thanks for answering,

LRS> The same problem continues, it follows the same mistake

LRS> Regards,
LRS> Luis R. Stach


LRS> Thursday, March 11, 2010, 6:11:16 AM, you wrote:

>> -----Original Message-----
>> From: Luis R. Stach [mailto:luisrstach@yahoo.com.ar] 
>> Sent: Wednesday, March 10, 2010 11:04 PM
>> To: harbour@harbour-project.org
>> Subject: [Harbour] Error in SDDFB

>> English by Google

>> Hi
>> I'm trying to connect to Firebird but I can not, I get this error:

>> Error SDDFB/1903 Prepare statement failed: SELECT * FROM agenda (DOS
>> Error 335544569)

>> What I do is this:

>> ANNOUNCE RDDSYS
>> REQUEST SQLMIX, SDDFB
>> RDDSETDEFAULT( "SQLMIX" )

>> hConn := RDDINFO( RDDI_CONNECT, { "FIREBIRD",, "SYSDBA", "masterkey",
>> "192.168.0.1:d:\data\agenda.fdb" } )
>> MsgInfo( hConn )  //Return 1
>> DBUSEAREA( .T.,, "SELECT * FROM agenda" )     //Line error
>> I use Firebird 2.1.3.18185
>> *-------------------

>> I use this so :
>> dbUseArea( .T., "SQLMIX", "select pok, oddz from jednostki order by
>> pok", "JEDNOSTKI")

>> with Oracle. Try so like I.



-- 
Best regards,
 Jacek                            mailto:clipper@wssk.wroc.pl


From vszakats at users.sourceforge.net  Thu Mar 11 17:28:23 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 17:28:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14140] trunk/harbour
Message-ID: <E1Npqrf-0006Nw-Gb@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14140
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14140&view=rev
Author:   vszakats
Date:     2010-03-11 22:28:22 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-11 23:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddfb/sddfb.c
    ! Few cleanups in the FB RDDSQL interface (macro and type usage).
    ; It's not an attempt to fix recently reported bugs on the list.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/sddfb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Mar 11 17:49:28 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 11 17:49:36 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <609353e71003111149w2d20c667h6b0071035b0e3921@mail.gmail.com>
References: <1268332620529-4717833.post@n2.nabble.com>
	<609353e71003111149w2d20c667h6b0071035b0e3921@mail.gmail.com>
Message-ID: <1268347768690-4719223.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Unfinished the sub project/multi project implementation
> 

Did you tried ?
IMO whatever is defined in .hbp is presented to hbMK2,
which has the capability of building sub-projects, 
Viktor, update me on this issue.



>  more simple create project like visual studio one click create
> folder,prg,hbp
> 

Ok.



>  visual define harbour/hbmk flag
> 

Visual design is easy, but what should go inside, 
I am not sure. Are you saying that all those flags,
placable in .hbp and forwarded on command-line be 
fetched visually ? If yes, then I need someone to 
provide me the list of all those flags, and the syntax
which must be verified.



>  User defined keyboard mapping and user menu
> 

Yep, but it will be the last action. All other 
publick actions needs to be known beforehand before 
initiating this process. A must have... is on my TODO list.


 Project tree require too many click


I have tried to simplify it and based on 
folders, what other methodology you suggest ?



>  automatic tag of  project function lookup for search in seleted project
> 

It is easy but as I explained earlier, it can be heavy.
I think we should wait for other users comments.



>  when i select a souce of project automatically select this project as
> current
> 

Understand that in hbIDE source editing and project management 
are two separate actions. BTW what purpose will it solve ?



>  Made possible add documentation to harbour using hbide
> 

I was waiting for Vailton's or Bacco's applications.
Ok, I will provide it here in hbIDE soon. Are anybody willing 
to have embedded documentation in sources ? And for that 
matter, such documentation will be pulled as prototypes are 
pulled and presented in same way as Harbour help does.



>  Simple keystroke for open harbour help (f1) and go to selected function
> 

How do you want F1 to work ? Either of the two actions can be 
carried out, open the help dialog and if current cursor is on some 
Harbour function name, that is brought to focus. Right ?




>  mark breakpoint & visual debug
> 

I have least knowledge of debugger feature in Harbour.
Someone has to help me in this direction.




>  column mode in editor
> 

This is the toughest part in hbIDE. In the past I have 
failed on few tries. Still I do not know how to. Infact it needs
extended lines which I have no clues, how to in Qt.



>  extend intellisense capabillty
> 

Please jot down all what should be there.
Prototype tooltip and functions completion is what I know
of, what others.



> Follow are requested from other user  that i have received via mail
> is Possible use with xharbour or xbase++?
> 

Yes, this is next logical step to make hbIDE more useful.
Anybody to help in this direction ?



> is possible use via command line for edit a project or a prg or rc?
> 

I do not understand what you mean by command-line.
Once hbIDE is on, bring any source you want to edit, what is the issue.



> Is possible define the structure of file like fromfoxpro modi stru
> command?
>  Integrate Dot prompt dbase functionaly
> 

I need detailed analysis what you are asking here?
Dot prompt ( hbRUN.exe ) can be implemented though, I will try.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4719223.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Mar 11 18:01:54 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 11 18:02:02 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <590D3CE7-FB7B-46F3-8B57-5D799F6304EB@syenar.hu>
References: <1268332620529-4717833.post@n2.nabble.com>
	<590D3CE7-FB7B-46F3-8B57-5D799F6304EB@syenar.hu>
Message-ID: <1268348514043-4719288.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> 1) To fix the foundation and once and for all 
>    the GPFs on all platforms / compiler 
>    supported by hbide / QT.
> 

Here, perhaps, we need Przemek's help.
I did whatever I could thought. I have requested
Przemek for some clarifications, the answer to 
which may lead to resolving this issue.



> 2) To fix .ini file handling to be standard.
> 3) Related: Merge dangling secondary .ini and similar 
>    config files into the central .ini.
> 

Why we are concerned about these points, BTW ?
It is an application and developer knows best his 
abilities/shortcomings. This is how I could implement 
all the coordinates I needed. Cassle is built and changing 
the foundation is difficult if not impossible. 

All other config files can  makeup into the central 
file. because of their different formats. .tag, .skl, .env
has some specific differences. May be someone can help
to merge them.



> 4) Related: To solve storing settings on *nix 
>    platforms. On these platforms you don't 
>    store settings in .ini file in current dir.
> 

I do not know the behavior of nixes in this regard.
If ".ini" extension is the concern, we can change
them to somethng else. Some nix user has to 
jump in.



> 5) To use hbmk2 for format conversion.
> 

This is not a big issue. I will do in next commit.



> 6) To make the decision: .ui or .uic and stick to 
>    only one.
> 

.uic. It is the only format in use currently.



> 7) Future: To honor formatting and original comments 
>    when saving .hbp files.
> 

Yep, absolutely needed.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4719288.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Mar 11 18:24:30 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 18:24:42 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <1268348514043-4719288.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
	<590D3CE7-FB7B-46F3-8B57-5D799F6304EB@syenar.hu>
	<1268348514043-4719288.post@n2.nabble.com>
Message-ID: <E080C1DA-BD9C-450E-B260-3854FB459629@syenar.hu>

Hi,

>> 1) To fix the foundation and once and for all 
>>   the GPFs on all platforms / compiler 
>>   supported by hbide / QT.
>> 
> 
> Here, perhaps, we need Przemek's help.
> I did whatever I could thought. I have requested
> Przemek for some clarifications, the answer to 
> which may lead to resolving this issue.
> 
>> 2) To fix .ini file handling to be standard.
>> 3) Related: Merge dangling secondary .ini and similar 
>>   config files into the central .ini.
>> 
> 
> Why we are concerned about these points, BTW ?

Because this is what can make hbide different from 
the other (loosely engineered) ide's that one can 
find on the internet.

Because it shows that you/we pay attention to details, 
and care about the product.

Because this is the spirit we follow when designing 
other parts of Harbour.

Because current static update method doesn't play 
when in multiuser scenarios. (f.e. hbide is shared 
on a network drive, or used in a terminal server 
environment)

Just to name four. BTW, you asked for improvements 
requests, and this one is IMO an important one.

> It is an application and developer knows best his 
> abilities/shortcomings. This is how I could implement 
> all the coordinates I needed. Cassle is built and changing 
> the foundation is difficult if not impossible. 

Never impossible. Now it's a straight no brainer 
as not many ppl are using hbide yet.

> All other config files can  makeup into the central 
> file. because of their different formats. .tag, .skl, .env
> has some specific differences. May be someone can help
> to merge them.

It's not an 'all or nothing' thing. Just don't use 
additional files unless absolutely necessary, that's 
all.

Did you try HB_INI*() functions?

BTW, we're not even obliged to use a relatively 
complicated .ini format. A simple flat format 
is much easier to handle. F.e. this one also 
stays compatible with .ini standard:

F.e.:
---
[hbide]
global.MainWindowGeometry=-4,-4,1291,814,
global.ProjectTreeVisible=1
global.FunctionListVisible=0
global.RecentTabIndex=-1
global.CurrentProject=
global.GotoDialogGeometry=
global.FindDialogGeometry=
global.CurrentTheme=City Lights
global.CurrentCodec=
global.PathMk2=
global.PathEnv=
global.CurrentEnvironment=
global.CurrentFind=
global.CurrentFolderFind=
global.CurrentReplace=
global.CurrentView= Stats
CurrentHarbour=
PROJECTS=F:\work\harbour\harbour\contrib\hbide\config.hbp,...
FILES=
RECENTFILES=f:/work/harbour/harbour/contrib/hbide/idetags.prg;f:/work/harbour/harbour/contrib/hbide/ideeditor.prg;f:/work/harbour/harbour/contrib/hbide/idedocks.prg
RECENTPROJECTS=f:/work/harbour/harbour/contrib/hbide/hbide.hbp
---

You can easily add the QT settings to that format.

>> 4) Related: To solve storing settings on *nix 
>>   platforms. On these platforms you don't 
>>   store settings in .ini file in current dir.
>> 
> 
> I do not know the behavior of nixes in this regard.
> If ".ini" extension is the concern, we can change
> them to somethng else. Some nix user has to 
> jump in.

It's not the extension, it's the placement.

Probably '${HOME}/.hbide' should be the dir 
to store .ini-like stuff on *nix. On Windows, 
this could be '%APPDATA%\.hbide' dir, on OS/2 
I don't know.

As for "resources" stuff, I don't know, probably 
best would be to incorporate all of them right 
into the executable in some ways, otherwise hbide 
will need an installer to place these to the 
expected on platform location. Or some *nix 
users will give better ideas.

>> 5) To use hbmk2 for format conversion.
>> 
> 
> This is not a big issue. I will do in next commit.

Thanks.

>> 6) To make the decision: .ui or .uic and stick to 
>>   only one.
>> 
> 
> .uic. It is the only format in use currently.

I can see .ui files in SVN. If they are not used, 
maybe they can be deleted to avoid confusion.

>> 7) Future: To honor formatting and original comments 
>>   when saving .hbp files.
>> 
> 
> Yep, absolutely needed.

OK.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Mar 11 18:41:07 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 18:41:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14141] trunk/harbour
Message-ID: <E1Nps03-0005Oi-59@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14141
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14141&view=rev
Author:   vszakats
Date:     2010-03-11 23:40:40 +0000 (Thu, 11 Mar 2010)

Log Message:
-----------
2010-03-12 00:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/filesys.c
    ! Fixed fs_win_get_drive() to return zero (instead of -1) 
      when drive letter wasn't returned by Windows API.
      (it's not clear what is the proper error behavior here)
    ! Fixed fs_win_set_drive() to apply upper limit on input 
      parameter.

  * contrib/rddsql/sddfb/sddfb.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/sddfb.c
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From clipper at wssk.wroc.pl  Thu Mar 11 19:21:11 2010
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Thu Mar 11 19:22:02 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14140] trunk/harbour
In-Reply-To: <E1Npqrf-0006Nw-Gb@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1Npqrf-0006Nw-Gb@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <7614510760.20100312012111@wssk.wroc.pl>

Hello Viktor,

vusn> Revision: 14140
vusn>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14140&view=rev
vusn> Author:   vszakats
vusn> Date:     2010-03-11 22:28:22 +0000 (Thu, 11 Mar 2010)

vusn> Log Message:
vusn> -----------
vusn> 2010-03-11 23:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
vusn>   * contrib/rddsql/sddfb/sddfb.c
vusn>     ! Few cleanups in the FB RDDSQL interface (macro and type usage).
vusn>     ; It's not an attempt to fix recently reported bugs on the list.

In fact - bug still exist, but now after error program exit
without "neverending loop" as previously.

Error SDDFB/1909  Fetch error (DOS Error 335544569)
Called from DBUSEAREA(0)
Called from MAIN(46)
c:\Harbour\contrib\rddsql\sddfb\tests>

Thanks and regards!

Jacek Kubica


From bedipritpal at hotmail.com  Thu Mar 11 20:08:40 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 11 20:08:47 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <E080C1DA-BD9C-450E-B260-3854FB459629@syenar.hu>
References: <1268332620529-4717833.post@n2.nabble.com>
	<590D3CE7-FB7B-46F3-8B57-5D799F6304EB@syenar.hu>
	<1268348514043-4719288.post@n2.nabble.com>
	<E080C1DA-BD9C-450E-B260-3854FB459629@syenar.hu>
Message-ID: <1268356120040-4719788.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Because current static update method doesn't play 
> when in multiuser scenarios. (f.e. hbide is shared 
> on a network drive, or used in a terminal server 
> environment)
> 

The above one argument is what I believe is worth clubbing
many formats in one .ini, rest are our thinking and concepts.
I will try to patch it.



> Just to name four. BTW, you asked for improvements 
> requests, and this one is IMO an important one.
> 

Thank you.



> It's not an 'all or nothing' thing. Just don't use 
> additional files unless absolutely necessary, that's 
> all.
> 

Off course, but not at the cost of a feature.



> Did you try HB_INI*() functions?
> 

No, never, I have my own code. I will try.



> BTW, we're not even obliged to use a relatively 
> complicated .ini format. A simple flat format 
> is much easier to handle. F.e. this one also 
> stays compatible with .ini standard:
> 
> F.e.:
> ---
> [hbide]
> global.MainWindowGeometry=-4,-4,1291,814,
> global.ProjectTreeVisible=1
> global.FunctionListVisible=0
> global.RecentTabIndex=-1
> global.CurrentProject=
> global.GotoDialogGeometry=
> global.FindDialogGeometry=
> global.CurrentTheme=City Lights
> global.CurrentCodec=
> global.PathMk2=
> global.PathEnv=
> global.CurrentEnvironment=
> global.CurrentFind=
> global.CurrentFolderFind=
> global.CurrentReplace=
> global.CurrentView= Stats
> CurrentHarbour=
> PROJECTS=F:\work\harbour\harbour\contrib\hbide\config.hbp,...
> FILES=
> RECENTFILES=f:/work/harbour/harbour/contrib/hbide/idetags.prg;f:/work/harbour/harbour/contrib/hbide/ideeditor.prg;f:/work/harbour/harbour/contrib/hbide/idedocks.prg
> RECENTPROJECTS=f:/work/harbour/harbour/contrib/hbide/hbide.hbp
> ---
> 
> You can easily add the QT settings to that format.
> 

It looks promising, but what if line length of some values 
increases the supported lenth.



> It's not the extension, it's the placement.
> 
> Probably '${HOME}/.hbide' should be the dir 
> to store .ini-like stuff on *nix. On Windows, 
> this could be '%APPDATA%\.hbide' dir, on OS/2 
> I don't know.
> 

Someone has to jump in, even I do not know.



> As for "resources" stuff, I don't know, probably 
> best would be to incorporate all of them right 
> into the executable in some ways, otherwise hbide 
> will need an installer to place these to the 
> expected on platform location. Or some *nix 
> users will give better ideas.
> 

For resources to be inside exe, we need to compile
 and/or link with Qt's own engine. There is no other
way. This is one point I could never resolve.





> I can see .ui files in SVN. If they are not used, 
> maybe they can be deleted to avoid confusion.
> 

No, it cannot be deleted.
.ui is the feed for Qt Designer, .uic is the feed for
Harbour. It is basically a .cpp which I parse and 
convert to object. For changes we always need .ui.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4719788.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Thu Mar 11 20:12:00 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 11 20:12:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14142] trunk/harbour
Message-ID: <E1NptQ0-0002dd-6r@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14142
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14142&view=rev
Author:   vszakats
Date:     2010-03-12 01:11:58 +0000 (Fri, 12 Mar 2010)

Log Message:
-----------
2010-03-12 02:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbssl/evpmd.c
    ! Disabled md2 support for >= 1.0.0 OpenSSL versions.
      Seems they dropped it.

  * contrib/hbssl/ssl.c
  * contrib/hbssl/x509.c
  * contrib/hbssl/sslctx.c
    ! Disabled some code parts which didn't compile with
      >= 1.0.0 OpenSSL versions. This is not the right fix,
      but I just can't figure what went wrong (or what
      has been changed) in OpenSSL which cases it. There
      is something wrong around 'X509_NAME' symbol.

  * utils/hbmk2/hbmk2.prg
  * config/beos/gcc.mk
  * config/bsd/gcc.mk
  * config/wce/mingwarm.mk
  * config/darwin/gcc.mk
  * config/hpux/gcc.mk
  * config/win/mingw.mk
  * config/win/cygwin.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
    - Deleted '-pipe' option. Efficient, but buggy. It didn't take
      too long to bump into the problem: On build error, the
      .o file is generated with some dummy content, so a second
      build attempt will silently make build errors ignored.

  * contrib/rddsql/sddfb/sddfb.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/beos/gcc.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/contrib/hbssl/evpmd.c
    trunk/harbour/contrib/hbssl/ssl.c
    trunk/harbour/contrib/hbssl/sslctx.c
    trunk/harbour/contrib/hbssl/x509.c
    trunk/harbour/contrib/rddsql/sddfb/sddfb.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 11 20:21:03 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 11 20:21:13 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <1268356120040-4719788.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
	<590D3CE7-FB7B-46F3-8B57-5D799F6304EB@syenar.hu>
	<1268348514043-4719288.post@n2.nabble.com>
	<E080C1DA-BD9C-450E-B260-3854FB459629@syenar.hu>
	<1268356120040-4719788.post@n2.nabble.com>
Message-ID: <F2105150-1399-4911-B58B-5E2369B74B65@syenar.hu>

>> Did you try HB_INI*() functions?
>> 
> 
> No, never, I have my own code. I will try.
> 
> 
> 
>> BTW, we're not even obliged to use a relatively 
>> complicated .ini format. A simple flat format 
>> is much easier to handle. F.e. this one also 
>> stays compatible with .ini standard:
>> 
>> F.e.:
>> ---
>> [hbide]
>> global.MainWindowGeometry=-4,-4,1291,814,
>> global.ProjectTreeVisible=1
>> global.FunctionListVisible=0
>> global.RecentTabIndex=-1
>> global.CurrentProject=
>> global.GotoDialogGeometry=
>> global.FindDialogGeometry=
>> global.CurrentTheme=City Lights
>> global.CurrentCodec=
>> global.PathMk2=
>> global.PathEnv=
>> global.CurrentEnvironment=
>> global.CurrentFind=
>> global.CurrentFolderFind=
>> global.CurrentReplace=
>> global.CurrentView= Stats
>> CurrentHarbour=
>> PROJECTS=F:\work\harbour\harbour\contrib\hbide\config.hbp,...
>> FILES=
>> RECENTFILES=f:/work/harbour/harbour/contrib/hbide/idetags.prg;f:/work/harbour/harbour/contrib/hbide/ideeditor.prg;f:/work/harbour/harbour/contrib/hbide/idedocks.prg
>> RECENTPROJECTS=f:/work/harbour/harbour/contrib/hbide/hbide.hbp
>> ---
>> 
>> You can easily add the QT settings to that format.
>> 
> 
> It looks promising, but what if line length of some values 
> increases the supported lenth.

We only need to deal with 32-bit systems (minimum), 
so line length shouldn't be a problem, just allocate 
enough room for a line.

>> It's not the extension, it's the placement.
>> 
>> Probably '${HOME}/.hbide' should be the dir 
>> to store .ini-like stuff on *nix. On Windows, 
>> this could be '%APPDATA%\.hbide' dir, on OS/2 
>> I don't know.
>> 
> 
> Someone has to jump in, even I do not know.

This part I know, so you can just listen to it :)

>> As for "resources" stuff, I don't know, probably 
>> best would be to incorporate all of them right 
>> into the executable in some ways, otherwise hbide 
>> will need an installer to place these to the 
>> expected on platform location. Or some *nix 
>> users will give better ideas.
>> 
> 
> For resources to be inside exe, we need to compile
> and/or link with Qt's own engine. There is no other
> way. This is one point I could never resolve.

I see, that's not very useful for us then.

If there is a way to load .png files from memory, 
we could create simple converted from .png to .prg 
level strings and they could be loaded directly from 
those.

Similar could be done with .ui files. If they could 
be converted (or just simply enveloped) to .prg 
files, they could just be compiled into binary 
and loaded 'from memory'.

>> I can see .ui files in SVN. If they are not used, 
>> maybe they can be deleted to avoid confusion.
>> 
> 
> No, it cannot be deleted.
> .ui is the feed for Qt Designer, .uic is the feed for
> Harbour. It is basically a .cpp which I parse and 
> convert to object. For changes we always need .ui.

:( Sounds bad. Then at least they should be moved 
to somewhere else, to make it easy to tell apart 
source and distribution files. Probably .ui files 
should be best moved to /contrib/hbide directly.

Brgds,
Viktor

From francek.prijatelj at siol.net  Fri Mar 12 00:27:31 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Fri Mar 12 00:27:40 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <1268332620529-4717833.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
Message-ID: <1268371651373-4720572.post@n2.nabble.com>


Hi Pritpal

My congrats for your work.


Pritpal Bedi wrote:
> 
> 
> what more is needed, 
> 
> 

IMHO good IDE has integrated remote debugger.
There is XDEBUG protocol, which is mainly used for PHP debugging.
But it could be implemented for other languages too. (server part and client
part).
Or maybe some other protocol ?
There are already many XDEBUG clients (KOMODO,ECLIPSE,Notepad++ ...).
It' s quite a big project, and server part should be a project of its own.
On the client side, there can be many implementations (console debugger,
hbIDE integrated,...)

BRGDS
Francek







-----
brgs
Fran?ek Prijatelj
-- 
View this message in context: http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4720572.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From marcobra.ubuntu at gmail.com  Fri Mar 12 02:23:22 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Mar 12 02:23:31 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
Message-ID: <fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>

2010/3/10 Bruno Luciani <bruno.luciani@gmail.com>

> when I have installes libgpm-devel in linux UBUNTU
>
> Harbour detect it , and generates gttrm with GPM support , but generates a
> lib named libgpm.a  ??
>
> I saw it in any moment , but i don' t see anymore , and have problems
> compiling programs using gttrm
>
> But desinstaling libgpm-devel  now works ok but without GPM support
>
>
> this the error:
>
> /usr/local/lib/harbour/libgttrm.a(gttrm.o): In function
> `hb_gt_trm_mouse_Hide':
>
> gttrm.c:(.text+0x16e): undefined reference to `gpm_visiblepointer'
>
> /usr/local/lib/harbour/libgttrm.a(gttrm.o): In function
> `hb_gt_trm_mouse_Show':
>
>
>
Have you already tried to add the  -lgpm

hbmk2 -lgpm ...

Hth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/f389bc51/attachment.html
From alcisoft at arrakis.es  Fri Mar 12 03:20:46 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Fri Mar 12 03:25:47 2010
Subject: [Harbour] Re: hbIDE - Let's review
References: <1268332620529-4717833.post@n2.nabble.com>
	<1268371651373-4720572.post@n2.nabble.com>
Message-ID: <hnctpd$ij4$1@dough.gmane.org>


>Hi Pritpal
>My congrats for your work.

+1 [* 1000]


Pritpal Bedi wrote:
>
>
> what more is needed,
>
>

IMHO good IDE has integrated remote debugger.
There is XDEBUG protocol, which is mainly used for PHP debugging.
But it could be implemented for other languages too. (server part and client
part).
Or maybe some other protocol ?
There are already many XDEBUG clients (KOMODO,ECLIPSE,Notepad++ ...).
It' s quite a big project, and server part should be a project of its own.
On the client side, there can be many implementations (console debugger,
hbIDE integrated,...)

BRGDS
Francek







-----
brgs
Franek Prijatelj
--
View this message in context:
http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4720572.html
Sent from the harbour-devel mailing list archive at Nabble.com.



From alcisoft at arrakis.es  Fri Mar 12 03:33:24 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Fri Mar 12 03:37:59 2010
Subject: [Harbour] To modify behavior a function
Message-ID: <hncuge$ktn$1@dough.gmane.org>

Hi,
I need to modify behavior a function. I use the next code... but is a bit
ugly... something alternative ?
Anything future inconveniences ?

Regards

INI CODE >>>>>>>>>>>>
//-------------------------------------------------------------------------/
/
FUNCTION OrdListAdd(cPathFile)
Local cPathDbf
Local cPathFile2:= cPathFile
Local cNtx
*
cPathDbf:= PathFile( DbInfo(DBI_FULLPATH) )
cNtx:= FileNoPath(cPathFile)
cPathFile2:= cPathDbf+ "\"+ cNtx
RETURN ORDLISTADDBIS(cPathFile2)
*
*
*
#IFDEF __HARBOUR__
   #IFNDEF __XHARBOUR__
      #PRAGMA BEGINDUMP
         #include "hbapi.h"
         #include "hbapirdd.h"
         #include "hbapierr.h"
         #include "hbapiitm.h"
         #include "hbvm.h"
         #include "hbset.h"
         HB_FUNC( ORDLISTADDBIS )
         {
            AREAP pArea = ( AREAP ) hb_rddGetCurrentWorkAreaPointer();
            if( pArea )
            {
               DBORDERINFO pOrderInfo;
               HB_ERRCODE errCode;
               /* Clipper clears NETERR flag when index is open */
               hb_rddSetNetErr( FALSE );
               memset( &pOrderInfo, 0, sizeof( DBORDERINFO ) );
               pOrderInfo.atomBagName = hb_param( 1, HB_IT_STRING );
               pOrderInfo.itmOrder    = hb_param( 2, HB_IT_STRING );
               if( !pOrderInfo.atomBagName )
               {
                  if( ! HB_ISNIL( 1 ) )
                     hb_errRT_DBCMD( EG_ARG, EDBCMD_ORDLSTADD_BADPARAMETER,
NULL, HB_ERR_FUNCNAME );
                  return;
               }
               pOrderInfo.itmResult = hb_itemNew( NULL );
               errCode = SELF_ORDLSTADD( pArea, &pOrderInfo );
               if( !pOrderInfo.itmResult ||
HB_IS_NIL( pOrderInfo.itmResult ) )
                  hb_retl( errCode == HB_SUCCESS );
               else
                  hb_itemReturn( pOrderInfo.itmResult );
               hb_itemRelease( pOrderInfo.itmResult );
            }
            else
               hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL,
HB_ERR_FUNCNAME );
         }
      #PRAGMA ENDDUMP
   #ELSE
      #PRAGMA BEGINDUMP
         #include "hbapi.h"
         #include "hbapirdd.h"
         #include "hbapierr.h"
         #include "hbapiitm.h"
         #include "hbvm.h"
         #include "hbset.h"
         HB_FUNC( ORDLISTADDBIS )
         {
            HB_THREAD_STUB
            AREAP pArea = ( AREAP ) hb_rddGetCurrentWorkAreaPointer();
            if( pArea )
            {
               DBORDERINFO pOrderInfo;
               ERRCODE errCode;
               /* Clipper clears NETERR flag when index is open */
               hb_rddSetNetErr( FALSE );
               memset( &pOrderInfo, 0, sizeof( DBORDERINFO ) );
               pOrderInfo.atomBagName = hb_param( 1, HB_IT_STRING );
               pOrderInfo.itmOrder    = hb_param( 2, HB_IT_STRING );
               if( !pOrderInfo.atomBagName )
               {
                  if( !ISNIL( 1 ) )
                     hb_errRT_DBCMD( EG_ARG, EDBCMD_ORDLSTADD_BADPARAMETER,
NULL, "ORDLISTADD" );
                  return;
               }
               pOrderInfo.itmResult = hb_itemNew( NULL );
               errCode = SELF_ORDLSTADD( pArea, &pOrderInfo );
               if( !pOrderInfo.itmResult ||
HB_IS_NIL( pOrderInfo.itmResult ) )
                  hb_retl( errCode == SUCCESS );
               else
                  hb_itemReturn( pOrderInfo.itmResult );
               hb_itemRelease( pOrderInfo.itmResult );
            }
            else
               hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL,
"ORDLISTADD" );
         }
      #PRAGMA ENDDUMP
   #ENDIF
#ENDIF

END CODE >>>>>>>>>>



From marcobra.ubuntu at gmail.com  Fri Mar 12 03:47:16 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Mar 12 03:47:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14142] trunk/harbour
In-Reply-To: <E1NptQ0-0002dd-6r@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NptQ0-0002dd-6r@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1003120047l16a7ef5u6f49e9849b520253@mail.gmail.com>

Today compiling harbour for Win (last day was compiling and installing fine)
on Ubuntu 9.10 32 bits i get this error...

! Installing rdd.api on /tmp/hbwin/include
! Installing vm.api on /tmp/hbwin/include
make[3]: ?../../../../../lib/win/mingw/libsqlite3.a? ? aggiornato.
! Installing ../../lib/win/mingw/libsqlite3.a on /tmp/hbwin/lib/win/mingw
/usr/bin/i586-mingw32msvc-gcc   -I. -I../../../../../include -O3
-fomit-frame-pointer -march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF
 -DUNICODE  -obzip2.o -c ../../../bzip2.c
../../../bzip2.c:131:25: error: sys\stat.h: Nessun file o directory
../../../bzip2.c: In function ?cleanUpAndFail?:
../../../bzip2.c:690: error: storage size of ?statBuf? isn?t known
../../../bzip2.c: In function ?notAStandardFile?:
../../../bzip2.c:984: error: storage size of ?statBuf? isn?t known
../../../bzip2.c:988: error: ?_S_IFREG? undeclared (first use in this
function)
../../../bzip2.c:988: error: (Each undeclared identifier is reported only
once
../../../bzip2.c:988: error: for each function it appears in.)
../../../bzip2.c: In function ?countHardLinks?:
../../../bzip2.c:1001: error: storage size of ?statBuf? isn?t known
../../../bzip2.c: In function ?compress?:
../../../bzip2.c:1138: error: storage size of ?statBuf? isn?t known
../../../bzip2.c:1186: error: ?_S_IFDIR? undeclared (first use in this
function)
../../../bzip2.c: In function ?uncompress?:
../../../bzip2.c:1321: error: storage size of ?statBuf? isn?t known
../../../bzip2.c:1365: error: ?_S_IFDIR? undeclared (first use in this
function)
../../../bzip2.c: In function ?testf?:
../../../bzip2.c:1516: error: storage size of ?statBuf? isn?t known
../../../bzip2.c:1545: error: ?_S_IFDIR? undeclared (first use in this
function)
make[3]: *** [bzip2.o] Errore 1
make[2]: *** [descend] Errore 2
make[1]: *** [bzip2.inst] Errore 2
make: *** [external.inst] Errore 2

Best regards

Thank you

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/1fdfede7/attachment.html
From harbour.01 at syenar.hu  Fri Mar 12 03:51:18 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 03:51:31 2010
Subject: [Harbour] To modify behavior a function
In-Reply-To: <hncuge$ktn$1@dough.gmane.org>
References: <hncuge$ktn$1@dough.gmane.org>
Message-ID: <96CE5E13-6A99-421E-95CD-12E8EBE4E4CF@syenar.hu>

Hi Antonio,

> I need to modify behavior a function. I use the next code... but is a bit
> ugly... something alternative ?
> Anything future inconveniences ?

Use MY_ORDLISTADD() for your own stub and leave ORDLISTADD() as is, 
then add #xtranslate ORDLISTADD(<x,...>) => MY_ORDLISTADD(<x>) to 
your app header. You can add such header with -u+myheader.ch 
compiler switch, or just #include it in every .prg.

It's never a safe or good practice to create wrapper with 
original name but different behavior in real applications.

[ Moreover, you have to carefully check the licensing 
issues and requirements when including modified Harbour 
source code in your closed-source application. ]

Brgds,
Viktor

> Regards
> 
> INI CODE >>>>>>>>>>>>
> //-------------------------------------------------------------------------/
> /
> FUNCTION OrdListAdd(cPathFile)
> Local cPathDbf
> Local cPathFile2:= cPathFile
> Local cNtx
> *
> cPathDbf:= PathFile( DbInfo(DBI_FULLPATH) )
> cNtx:= FileNoPath(cPathFile)
> cPathFile2:= cPathDbf+ "\"+ cNtx
> RETURN ORDLISTADDBIS(cPathFile2)
> *
> *
> *
> #IFDEF __HARBOUR__
>   #IFNDEF __XHARBOUR__
>      #PRAGMA BEGINDUMP
>         #include "hbapi.h"
>         #include "hbapirdd.h"
>         #include "hbapierr.h"
>         #include "hbapiitm.h"
>         #include "hbvm.h"
>         #include "hbset.h"
>         HB_FUNC( ORDLISTADDBIS )
>         {
>            AREAP pArea = ( AREAP ) hb_rddGetCurrentWorkAreaPointer();
>            if( pArea )
>            {
>               DBORDERINFO pOrderInfo;
>               HB_ERRCODE errCode;
>               /* Clipper clears NETERR flag when index is open */
>               hb_rddSetNetErr( FALSE );
>               memset( &pOrderInfo, 0, sizeof( DBORDERINFO ) );
>               pOrderInfo.atomBagName = hb_param( 1, HB_IT_STRING );
>               pOrderInfo.itmOrder    = hb_param( 2, HB_IT_STRING );
>               if( !pOrderInfo.atomBagName )
>               {
>                  if( ! HB_ISNIL( 1 ) )
>                     hb_errRT_DBCMD( EG_ARG, EDBCMD_ORDLSTADD_BADPARAMETER,
> NULL, HB_ERR_FUNCNAME );
>                  return;
>               }
>               pOrderInfo.itmResult = hb_itemNew( NULL );
>               errCode = SELF_ORDLSTADD( pArea, &pOrderInfo );
>               if( !pOrderInfo.itmResult ||
> HB_IS_NIL( pOrderInfo.itmResult ) )
>                  hb_retl( errCode == HB_SUCCESS );
>               else
>                  hb_itemReturn( pOrderInfo.itmResult );
>               hb_itemRelease( pOrderInfo.itmResult );
>            }
>            else
>               hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL,
> HB_ERR_FUNCNAME );
>         }
>      #PRAGMA ENDDUMP
>   #ELSE
>      #PRAGMA BEGINDUMP
>         #include "hbapi.h"
>         #include "hbapirdd.h"
>         #include "hbapierr.h"
>         #include "hbapiitm.h"
>         #include "hbvm.h"
>         #include "hbset.h"
>         HB_FUNC( ORDLISTADDBIS )
>         {
>            HB_THREAD_STUB
>            AREAP pArea = ( AREAP ) hb_rddGetCurrentWorkAreaPointer();
>            if( pArea )
>            {
>               DBORDERINFO pOrderInfo;
>               ERRCODE errCode;
>               /* Clipper clears NETERR flag when index is open */
>               hb_rddSetNetErr( FALSE );
>               memset( &pOrderInfo, 0, sizeof( DBORDERINFO ) );
>               pOrderInfo.atomBagName = hb_param( 1, HB_IT_STRING );
>               pOrderInfo.itmOrder    = hb_param( 2, HB_IT_STRING );
>               if( !pOrderInfo.atomBagName )
>               {
>                  if( !ISNIL( 1 ) )
>                     hb_errRT_DBCMD( EG_ARG, EDBCMD_ORDLSTADD_BADPARAMETER,
> NULL, "ORDLISTADD" );
>                  return;
>               }
>               pOrderInfo.itmResult = hb_itemNew( NULL );
>               errCode = SELF_ORDLSTADD( pArea, &pOrderInfo );
>               if( !pOrderInfo.itmResult ||
> HB_IS_NIL( pOrderInfo.itmResult ) )
>                  hb_retl( errCode == SUCCESS );
>               else
>                  hb_itemReturn( pOrderInfo.itmResult );
>               hb_itemRelease( pOrderInfo.itmResult );
>            }
>            else
>               hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL,
> "ORDLISTADD" );
>         }
>      #PRAGMA ENDDUMP
>   #ENDIF
> #ENDIF
> 
> END CODE >>>>>>>>>>
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Fri Mar 12 04:08:07 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar 12 04:08:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14143] trunk/harbour
Message-ID: <E1Nq0ql-0005QR-Op@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14143
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14143&view=rev
Author:   vouchcac
Date:     2010-03-12 09:08:06 +0000 (Fri, 12 Mar 2010)

Log Message:
-----------
2010-03-12 01:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h
    ! Fixed behavior of book-marks. Now color representation 
      on bookmarked lines is persistent and consistent with 
      corresponding buttons in the statusbar.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Mar 12 04:40:45 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 12 04:41:15 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <1268347768690-4719223.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
	<609353e71003111149w2d20c667h6b0071035b0e3921@mail.gmail.com> 
	<1268347768690-4719223.post@n2.nabble.com>
Message-ID: <609353e71003120140t66e567ceq18652cc0b240224d@mail.gmail.com>

2010/3/11 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Massimo Belgrano wrote:
> >
> > Unfinished the sub project/multi project implementation
> >
>
> Did you tried ?
> IMO whatever is defined in .hbp is presented to hbMK2,
> which has the capability of building sub-projects,
> Viktor, update me on this issue.

I remember
http://www.mail-archive.com/harbour@harbour-project.org/msg21625.html
 <http://www.mail-archive.com/harbour@harbour-project.org/msg21625.html>

>
>  >  visual define harbour/hbmk flag
> >
>
> Visual design is easy, but what should go inside,
> I am not sure. Are you saying that all those flags,
> placable in .hbp and forwarded on command-line be
> fetched visually ? If yes, then I need someone to
> provide me the list of all those flags, and the syntax
> which must be verified.
>
I have proposted an array structure for collect
Dynamic defined wizard for visual define Flag like follow screenshot
starting from array/xml easy to define for hbide,harbour
{"/a","automatic memvar"}
{"/w","warning level",{ {"0","warning level0"},{"1","warning level1
default"},{"0","warning level0"} } }
{"/b","include debug info"}
i can finish this array if in your opinion is good way
If contain 3 dimension need a combobox and third dimension is used for
validate
easy extend to other language

http://old.nabble.com/Re:-SF.net-SVN:-harbour-project:-14049--trunk-harbour-p27767006.html


> >  User defined keyboard mapping and user menu
> >
>
> Yep, but it will be the last action. All other
> publick actions needs to be known beforehand before
> initiating this process. A must have... is on my TODO list.
>  Project tree require too many click
> I have tried to simplify it and based on
> folders, what other methodology you suggest ?
>
Having only opened project with his source (like xmate)
Open recent file under request /button

>
>

>
>  >  when i select a souce of project automatically select this project as
> > current
> >
> Understand that in hbIDE source editing and project management
> are two separate actions. BTW what purpose will it solve ?
>
Be clear
what project be compiled

>
> >  Made possible add documentation to harbour using hbide
> >
>
> I was waiting for Vailton's or Bacco's applications.
> Ok, I will provide it here in hbIDE soon. Are anybody willing
> to have embedded documentation in sources ? And for that
> matter, such documentation will be pulled as prototypes are
> pulled and presented in same way as Harbour help does.
>
> Good


>
> >  Simple keystroke for open harbour help (f1) and go to selected function
> >
>
> How do you want F1 to work ? Either of the two actions can be
> carried out, open the help dialog and if current cursor is on some
> Harbour function name, that is brought to focus. Right ?
>
>
> >  mark breakpoint & visual debug
> >
>
> I have least knowledge of debugger feature in Harbour.
> Someone has to help me in this direction.
> *
> *

The capability are present in hbdebug.lib ,execute steep by
step, breakpoint,whatch point,Inspect variables,Inspect workarea (dbf) but
integrated in hbide to be more productive

i suggest see intresting
The xailer debugger
http://www.ciber-tec.com/xdebugeng.htm
<http://www.ciber-tec.com/xdebugeng.htm>The xharbour.com debugger
 http://www.xharbour.com/index.asp?page=products_addon_xdebugger
The visual studio debugger
http://www.startvbdotnet.com/forms/debug1.aspx



>
>
> >  column mode in editor
> >
>
> This is the toughest part in hbIDE. In the past I have
> failed on few tries. Still I do not know how to. Infact it needs
> extended lines which I have no clues, how to in Qt.
>
>
>
> >  extend intellisense capabillty
> >
>
> Please jot down all what should be there.
> Prototype tooltip and functions completion is what I know
> of, what others.
>
>
>
> > Follow are requested from other user  that i have received via mail
> > is Possible use with xharbour or xbase++?
> >
>
> Yes, this is next logical step to make hbIDE more useful.
> Anybody to help in this direction ?

 will be xmate be a basic with clipper.env,xbase.env?


> > is possible use via command line for edit a project or a prg or rc?
> >
>
> I do not understand what you mean by command-line.
> Once hbIDE is on, bring any source you want to edit, what is the issue.
>
Opening via command line as hbide test.hbp .or hbide test.prg
so hbide will be also registred to open hbp/prg


>
>
> > Is possible define the structure of file like fromfoxpro modi stru
> > command?
> >  Integrate Dot prompt dbase functionaly
> >
>
> I need detailed analysis what you are asking here?
> Dot prompt ( hbRUN.exe ) can be implemented though, I will try.
>
>
Good
Imo immediate windows is also usefull for debugging scope as in visual
studio
http://z.about.com/d/visualbasic/1/0/W/2/ecvbai0305-4.gif


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/241f75ec/attachment.html
From bruno.luciani at gmail.com  Fri Mar 12 05:26:30 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar 12 05:26:38 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
	<fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>
Message-ID: <133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>

In this case I am not using hbmk2 to compile

I am Using Marinas-ide

but I didn't find libgpm anymore in my path

Bruno

2010/3/12 marco bra <marcobra.ubuntu@gmail.com>

>
>
> 2010/3/10 Bruno Luciani <bruno.luciani@gmail.com>
>
> when I have installes libgpm-devel in linux UBUNTU
>>
>> Harbour detect it , and generates gttrm with GPM support , but generates a
>> lib named libgpm.a  ??
>>
>> I saw it in any moment , but i don' t see anymore , and have problems
>> compiling programs using gttrm
>>
>> But desinstaling libgpm-devel  now works ok but without GPM support
>>
>>
>> this the error:
>>
>> /usr/local/lib/harbour/libgttrm.a(gttrm.o): In function
>> `hb_gt_trm_mouse_Hide':
>>
>> gttrm.c:(.text+0x16e): undefined reference to `gpm_visiblepointer'
>>
>> /usr/local/lib/harbour/libgttrm.a(gttrm.o): In function
>> `hb_gt_trm_mouse_Show':
>>
>>
>>
> Have you already tried to add the  -lgpm
>
> hbmk2 -lgpm ...
>
> Hth
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/c30f5b49/attachment.html
From mbelgrano at deltain.it  Fri Mar 12 05:41:18 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 12 05:41:48 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com> 
	<fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com> 
	<133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
Message-ID: <609353e71003120241g5276555h8fdadb4e9375d969@mail.gmail.com>

Hi Bruno
can you describe feature of marinas-ide and post (or wave me)  same
screen-shoot?
http://sourceforge.net/projects/marinas-ide/
<http://sourceforge.net/projects/marinas-ide/>

2010/3/12 Bruno Luciani <bruno.luciani@gmail.com>

> In this case I am not using hbmk2 to compile
>
> I am Using Marinas-ide
>
> but I didn't find libgpm anymore in my path
>
> Bruno
>
>
>
-- 
Massimo Belgrano

e
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/58423e86/attachment.html
From druzus at acn.waw.pl  Fri Mar 12 05:42:00 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 12 05:42:09 2010
Subject: [Harbour] GC Pointers - Anyway to detatch them ?
In-Reply-To: <1268334025193-4717974.post@n2.nabble.com>
References: <1268334025193-4717974.post@n2.nabble.com>
Message-ID: <20100312104200.GA5768@linux-4bod.home.aster.pl>

On Thu, 11 Mar 2010, Pritpal Bedi wrote:

Hi,

> I am looking for a solution where is GC pointer is
> detatched from "freeing" it, all other operations remaining 
> the same. 

You have to implement it.
Add to GC structure 'detached' member which will inform you destructor
code executed by our GC that it should not release the QT object.
QT Object should be 'detached' when they are attached to some other
objects and will be freed together with them.
I do not know the HBQT details but if possible I suggest to also clean
references to such object from GC pointer item so it will not be
longer accessible as stand alone object (it's enough to set NULL/0
to object pointer in GC block).

> It is possible that I am not been able to explain what I need properly.
> 
> In hbQT we are been unable to know, at certain points, when 
> Qt releases the pointer. As per inherent nature of pointers
> C or C++ does not set the value of pointer variable to NULL.

???
Sorry but this suggests that some code is broken or wrongly casted
and has to be fixed. You have to isolate such places to check where
exactly the problem appears to eliminate similar situations in the
future and of course fix them.
I do not understand current HBQT code so I cannot help in details.
Looks that you are using 'QPointer<> pq' only as some type of dummy
pointer which protects against multiple call to 'delete' operator
in GC pointer item destructor but it's not used at all to resolve
the main problem and blocking access to freed object for all other
code.
I also do not see any protection against wrong object casting and
raw pointer items are accepted what effectively blocks any serious
cleanups. Few months ago I sent code example which adds such protection
to this list.
You cannot make code which is only partially safe. It will never work
correctly. It has to be fully safe or it is extremely hard to locate
real sources of problems. I.e. due to unprotected ph member of
QGC_POINTER you can encapsulate pointer to some freed object in
hb_gcAlloc() block and return it to PRG code as GC pointer item.
>From the beginning it's wrong pointer so it will has to fail inside
GC release operation so you are looking for workarounds inside GC
pointer item destructors when in fact they do not create any problems.
The code is growing up and the number of potential problems is also
increased and it's harder to fully follow all internal dependencies.
Finally it's fighting with the ghosts. As long as the base things are
not really safe then resolving upper level problems seems to be waste
of time because no one can say what is the real source of problem.

> And hence when it is subject to freeing, GC does not 
> know if it has already been freed and hence GPF's.

Yes of course. Such situations are unacceptable and definitely
have to be fixed. Our GC have to be informed that some objects
were released. QPointer<> calls should make it.

> I have a mechanism in place where all delete operations 
> can be carried on as per Qt specs, I just want that the 
> pointer is not freeed in GC. It will only detatch GC from it 
> and will clear its stack.

Maybe I'm missing sth but seems that It will only hides the real bugs.
The easiest method is redirecting FREE message to dummy method which
does nothing. Functionally you will reach the same results. Memory leak
which eliminates the problem of accessing freed memory.

If you want to create really working solution then you have to start
from the beginning and fix the code using GC pointer items. If you need
sth like:

void * hbqt_gcpointer( int iParam )
{
   QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( hbqt_gcFuncs(), iParam );

   if( p && p->ph )
      return p->ph;
   else if( HB_ISPOINTER( iParam ) )
      return hb_parptr( iParam ); /* TOFIX: In what cases is this needed? Reference counting to avoid referring to freed pointers? */
   else
      return NULL; /* TODO: Still better if RTE. */
}

then it means that your code is wrong.
p->ph is not cleared when QT freese the object and:
   else if( HB_ISPOINTER( iParam ) )
      return hb_parptr( iParam );
means that you still have some completely unsafe pointer items
which can make memory corruptions and any create problems in any
other code.

best regards,
Przemek
From vszakats at users.sourceforge.net  Fri Mar 12 05:42:37 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 12 05:42:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14144] trunk/harbour
Message-ID: <E1Nq2KD-0008M3-MK@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14144
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14144&view=rev
Author:   vszakats
Date:     2010-03-12 10:42:29 +0000 (Fri, 12 Mar 2010)

Log Message:
-----------
2010-03-12 11:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Readded -pipe option for gcc (except djgpp) and icc/linux family
      compilers in a more sophisticated way. Now -pipe option is only
      used when hbmk2 controls the output filename, and in such case
      the output filename will always be deleted by hbmk2 if the
      C compiler returned error. This way -pipe can never leave
      faulty or dummy object files on disk, confusing incremental builds
      or just leaving trash behind. BTW, it'd be interesting to
      know why such seemingly buggy behavior hasn't been fixed in gcc
      in the last 6-7 years... (making -pipe option useless for Harbour 
      build process f.e.)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Fri Mar 12 05:48:59 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar 12 05:49:08 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <609353e71003120241g5276555h8fdadb4e9375d969@mail.gmail.com>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
	<fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>
	<133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
	<609353e71003120241g5276555h8fdadb4e9375d969@mail.gmail.com>
Message-ID: <133778361003120248n32c0698cx121d846b26118bfe@mail.gmail.com>

Do you know QAC ?

it is a porting of it to HBQTCOMMAND

Bruno

2010/3/12 Massimo Belgrano <mbelgrano@deltain.it>

> Hi Bruno
> can you describe feature of marinas-ide and post (or wave me)  same
> screen-shoot?
> http://sourceforge.net/projects/marinas-ide/
> <http://sourceforge.net/projects/marinas-ide/>
>
> 2010/3/12 Bruno Luciani <bruno.luciani@gmail.com>
>
> In this case I am not using hbmk2 to compile
>>
>> I am Using Marinas-ide
>>
>> but I didn't find libgpm anymore in my path
>>
>> Bruno
>>
>>
>>
> --
> Massimo Belgrano
>
> e
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/d1081ee9/attachment.html
From druzus at acn.waw.pl  Fri Mar 12 05:49:47 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 12 05:49:55 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
	<fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>
	<133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
Message-ID: <20100312104946.GA6439@linux-4bod.home.aster.pl>

On Fri, 12 Mar 2010, Bruno Luciani wrote:

Hi,

> In this case I am not using hbmk2 to compile
> I am Using Marinas-ide

So please always send such information so we can safely ignore
your messages instead of looking for not existing bugs in Harbour
code. I already verified GPM library settings in Harbour build
process and hbmk/hbmk2 settings.
Completely lost time :-(

> but I didn't find libgpm anymore in my path

so you haven't installed it in your system.
Please look at your system documentation/packages and install it.
It's not Harbour problem.

best regards,
Przemek
From bruno.luciani at gmail.com  Fri Mar 12 05:55:39 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar 12 05:55:47 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <20100312104946.GA6439@linux-4bod.home.aster.pl>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
	<fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>
	<133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
	<20100312104946.GA6439@linux-4bod.home.aster.pl>
Message-ID: <133778361003120255g140339baya277daf9361f347f@mail.gmail.com>

I have installed Libgpm-devel and I had to deinstall it
because , I don 't find libgpm  and this produce an error

Only answer my question

Exist a library named libgpm.a in harbour or not ?

because I don't find it

and , Marinas-ide use inside it Hbmk2

but what I try to say is that I am no using directly

Sorry about that

Bruno

2010/3/12 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Fri, 12 Mar 2010, Bruno Luciani wrote:
>
> Hi,
>
> > In this case I am not using hbmk2 to compile
> > I am Using Marinas-ide
>
> So please always send such information so we can safely ignore
> your messages instead of looking for not existing bugs in Harbour
> code. I already verified GPM library settings in Harbour build
> process and hbmk/hbmk2 settings.
> Completely lost time :-(
>
> > but I didn't find libgpm anymore in my path
>
> so you haven't installed it in your system.
> Please look at your system documentation/packages and install it.
> It's not Harbour problem.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/09d915d3/attachment.html
From druzus at acn.waw.pl  Fri Mar 12 06:04:03 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 12 06:04:10 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <133778361003120255g140339baya277daf9361f347f@mail.gmail.com>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
	<fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>
	<133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
	<20100312104946.GA6439@linux-4bod.home.aster.pl>
	<133778361003120255g140339baya277daf9361f347f@mail.gmail.com>
Message-ID: <20100312110402.GA6656@linux-4bod.home.aster.pl>

On Fri, 12 Mar 2010, Bruno Luciani wrote:
> I have installed Libgpm-devel and I had to deinstall it
> because , I don 't find libgpm  and this produce an error

But you haven't installed libgpm.

> Only answer my question
> Exist a library named libgpm.a in harbour or not ?
> because I don't find it

You will not find libgpm.{a,so} in Harbour.
It's system library. Again:
   "Please look at your system documentation/packages and install it."

> and , Marinas-ide use inside it Hbmk2
> but what I try to say is that I am no using directly
> Sorry about that

You installed only devel package without base package breaking dependencies
and created above problem.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar 12 06:08:59 2010
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 12 06:09:09 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <133778361003120255g140339baya277daf9361f347f@mail.gmail.com>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
	<fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>
	<133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
	<20100312104946.GA6439@linux-4bod.home.aster.pl>
	<133778361003120255g140339baya277daf9361f347f@mail.gmail.com>
Message-ID: <C6F101F4-FE54-4FA9-98C0-4CC8C86EDFC1@syenar.hu>

> I have installed Libgpm-devel and I had to deinstall it 
> because , I don 't find libgpm  and this produce an error
> 
> Only answer my question
> 
> Exist a library named libgpm.a in harbour or not ?
> 
> because I don't find it
> 
> and , Marinas-ide use inside it Hbmk2

This is not true. It's only used to build 
the IDE itself.

The IDE uses its own make engine.

Brgds,
Viktor

From clipper at wssk.wroc.pl  Fri Mar 12 06:20:37 2010
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Fri Mar 12 06:21:33 2010
Subject: [Harbour] FT_FWRITELN or FT_FWRITEL ??
Message-ID: <16611840897.20100312122037@wssk.wroc.pl>

Hi,

There is a difference in the name of function
betwen hbnf and original nanfor.lib (as far xharbour version)

This function is defined in w file /contrib/hbnf/fttext.c
 * $Id: fttext.c 13880 2010-02-15 14:12:56Z druzus $

 described as FT_FWRITELN
 
     *     FT_FWRITELN()
     *  $CATEGORY$
     *     File I/O
     *  $ONELINER$
     *     Write a line to the currently selected text file
     *  $SYNTAX$
     *
     *     FT_FWRITELN( < cData >, [ < lInsert > ] ) -> lSuccess

 but defined as FT_FWRITEL  (without 'N' on the end)
  
 HB_FUNC( FT_FWRITEL )
 {
   const char * theData  = hb_parc( 1 );
   int      iDataLen = hb_parclen( 1 );
   int      lInsert  = hb_parl( 2 );
   int      err;

Is this intentional or  should be corrected ??

-- 
Best regards,
 Jacek Kubica


From bruno.luciani at gmail.com  Fri Mar 12 06:36:22 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar 12 06:36:31 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <20100312110402.GA6656@linux-4bod.home.aster.pl>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
	<fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>
	<133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
	<20100312104946.GA6439@linux-4bod.home.aster.pl>
	<133778361003120255g140339baya277daf9361f347f@mail.gmail.com>
	<20100312110402.GA6656@linux-4bod.home.aster.pl>
Message-ID: <133778361003120336r5a6d83e8u25de9817f64bd32a@mail.gmail.com>

2010/3/12 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Fri, 12 Mar 2010, Bruno Luciani wrote:
> > I have installed Libgpm-devel and I had to deinstall it
> > because , I don 't find libgpm  and this produce an error
>
> But you haven't installed libgpm.
>

Not now , but I had all GPM packages installed


>
> > Only answer my question
> > Exist a library named libgpm.a in harbour or not ?
> > because I don't find it
>
> You will not find libgpm.{a,so} in Harbour.
> It's system library. Again:
>    "Please look at your system documentation/packages and install it."
>
>
Ok , thats the answer that I looking for

this indicates an error in our compile routine for linux


>
>
Thanks Przemyslaw
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/7c5ed016/attachment-0001.html
From bruno.luciani at gmail.com  Fri Mar 12 06:39:53 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Mar 12 06:40:00 2010
Subject: [Harbour] libgpm ?
In-Reply-To: <C6F101F4-FE54-4FA9-98C0-4CC8C86EDFC1@syenar.hu>
References: <133778361003100822v201d56c4ycb154515b8da7e9e@mail.gmail.com>
	<fd76479f1003112323m49d931f1n1c34a77ab50e305@mail.gmail.com>
	<133778361003120226q6e52f4c1jdbeddfba84fda2ea@mail.gmail.com>
	<20100312104946.GA6439@linux-4bod.home.aster.pl>
	<133778361003120255g140339baya277daf9361f347f@mail.gmail.com>
	<C6F101F4-FE54-4FA9-98C0-4CC8C86EDFC1@syenar.hu>
Message-ID: <133778361003120339y1ac7accel41c27f84a8550d0c@mail.gmail.com>

yes your are wright , my mystake

I am not the Marinas-Ide developer only a helper


Bruno


2010/3/12 Viktor Szak?ts <harbour.01@syenar.hu>

> > I have installed Libgpm-devel and I had to deinstall it
> > because , I don 't find libgpm  and this produce an error
> >
> > Only answer my question
> >
> > Exist a library named libgpm.a in harbour or not ?
> >
> > because I don't find it
> >
> > and , Marinas-ide use inside it Hbmk2
>
> This is not true. It's only used to build
> the IDE itself.
>
> The IDE uses its own make engine.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/56b99dbe/attachment.html
From harbour.01 at syenar.hu  Fri Mar 12 07:43:30 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 07:43:42 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100311185024.GB31990@linux-4bod.home.aster.pl>
References: <609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
	<20100311185024.GB31990@linux-4bod.home.aster.pl>
Message-ID: <64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>

Hi,

>> Results in 64-bit mode using MSVC 2008 (same as 32-bit) 
>> and mingw 4.4.4 20100129 (prerelease):
>>     mingw  msvc
>> C++         11.63
>> C    11.08
>> mingw seems to be the winner here in default 
>> Harbour builds, even though msvc had the advantage 
>> of C++ mode.
> 
> Finally I installed for tests GCC 4.5 (devel version)
> and in C++ mode with -flto it gives also better results
> then in C mode so it's potentially the fastest code.
> I have to say that I vary like how the meta code is
> implemented. Unlike other compilers GCC can be used
> with LTO without any complicated settings and programmer
> can easy control if he wants or not link time optimization
> using one link time switch.

Sounds good, I will try 4.5.0 a bit later.

>> Plus, 64-bit mode has a clear advantage over 32-bit.
> 
> I have similar results in Linux.
> 64bit Harbour programs are faster then 32bit ones.
> 
>> I will make more tests, but it seems it's 
>> worth switching to mingw also for 64-bit mode.
> 
> The very strong thing in GCC is really good performance
> for different hardware. The optimization logic is not
> hardcoded to one processor family so it can be easy adopt
> to completely different CPUs. Anyhow I do not know what
> it the quality of Win64 GCC ports so here you will have
> to took the decision yourself. It's quite new port anyhow
> I think that in short time it should be very stable and
> efficient. 64big GCC ports for different *nixes have been
> existing for _very_ long time.

With some time investment I could build everything 
required for my local application using mingw64. 
In fact mingw support is starting to overtake the 
MSVC level for 3rd party libs, though there are still 
bugs in mingw Windows headers which have to be dealt 
with.

The only so far known problem is ignored -mwindows 
option when using mingw64 4.4.4, so app doesn't 
pop with GTWVT, with GTWIN it runs beautifully. 
I'm not sure if the problem is with Harbour or 
mingw64.

Binary size is just a bit larger than mingw 32-bit 
build (and still larger than msvc64).

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Mar 12 08:05:50 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 08:06:02 2010
Subject: [Harbour] FT_FWRITELN or FT_FWRITEL ??
In-Reply-To: <16611840897.20100312122037@wssk.wroc.pl>
References: <16611840897.20100312122037@wssk.wroc.pl>
Message-ID: <BC84B7E9-AA5F-456C-B868-81B35982009A@syenar.hu>

Hi,

> There is a difference in the name of function
> betwen hbnf and original nanfor.lib (as far xharbour version)
> 
> This function is defined in w file /contrib/hbnf/fttext.c
> * $Id: fttext.c 13880 2010-02-15 14:12:56Z druzus $
> 
> described as FT_FWRITELN
> 
>     *     FT_FWRITELN()
>     *  $CATEGORY$
>     *     File I/O
>     *  $ONELINER$
>     *     Write a line to the currently selected text file
>     *  $SYNTAX$
>     *
>     *     FT_FWRITELN( < cData >, [ < lInsert > ] ) -> lSuccess
> 
> but defined as FT_FWRITEL  (without 'N' on the end)
> 
> HB_FUNC( FT_FWRITEL )
> {
>   const char * theData  = hb_parc( 1 );
>   int      iDataLen = hb_parclen( 1 );
>   int      lInsert  = hb_parl( 2 );
>   int      err;
> 
> Is this intentional or  should be corrected ??

Usually we use the full name in Harbour, so it should 
be corrected, though some users may use the 
10 chars short version, so an additional wrapper 
may be also useful here. In this case BTW the long 
name is an unnoticed bug left in NFLIB code.

Thanks for the note, I'll commit correction.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Mar 12 08:08:30 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 12 08:08:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14145] trunk/harbour
Message-ID: <E1Nq4bO-0002jU-4J@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14145
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14145&view=rev
Author:   vszakats
Date:     2010-03-12 13:08:29 +0000 (Fri, 12 Mar 2010)

Log Message:
-----------
2010-03-12 14:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbnf/fttext.c
    + Added FT_FWRITELN().
    * Converted FT_FWRITEL() to be a wrapper for FT_FWRITELN().

  * contrib/hbxpp/thfuncx.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbnf/fttext.c
    trunk/harbour/contrib/hbxpp/thfuncx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Mar 12 08:10:19 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 12 08:10:26 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>
References: <6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
	<20100311185024.GB31990@linux-4bod.home.aster.pl>
	<64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>
Message-ID: <20100312131018.GA13680@linux-4bod.home.aster.pl>

On Fri, 12 Mar 2010, Szak?ts Viktor wrote:

Hi,

> The only so far known problem is ignored -mwindows 
> option when using mingw64 4.4.4, so app doesn't 
> pop with GTWVT, with GTWIN it runs beautifully. 
> I'm not sure if the problem is with Harbour or 
> mingw64.

It sounds like an old issue.
If main() function is found in linked object files or
libraries then console application is created with main()
as startup entry. Otherwise windows application is created
with WinMain() startup entry. It's the reason why we created
separated libraries hbmainstd and hbmainwin with console and
GUI startup entries. It should be enough to chose the valid
one. I thought that hbmk2 does it.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar 12 08:33:31 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 08:33:43 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100312131018.GA13680@linux-4bod.home.aster.pl>
References: <6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
	<20100311185024.GB31990@linux-4bod.home.aster.pl>
	<64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>
	<20100312131018.GA13680@linux-4bod.home.aster.pl>
Message-ID: <AE6E722B-ACE9-4046-8156-526B2447F5E8@syenar.hu>

Hi,

>> The only so far known problem is ignored -mwindows 
>> option when using mingw64 4.4.4, so app doesn't 
>> pop with GTWVT, with GTWIN it runs beautifully. 
>> I'm not sure if the problem is with Harbour or 
>> mingw64.
> 
> It sounds like an old issue.
> If main() function is found in linked object files or
> libraries then console application is created with main()
> as startup entry. Otherwise windows application is created
> with WinMain() startup entry. It's the reason why we created
> separated libraries hbmainstd and hbmainwin with console and
> GUI startup entries. It should be enough to chose the valid
> one. I thought that hbmk2 does it.

It does it for shared builds.

hbmk2 behaves the exact same for mingw and mingw64, 
yet it doesn't work for mingw64 and does for mingw.

So either it's just a coincidence that mingw works, 
and there is hbmk2 bug, or there is a difference 
in either in Harbour mingw64 builds or mingw64 
itself.

.c stub rightly issues hb_forceLinkMainWin() in 
both cases, which should be enough to pull WinMain().

If I try 'hbmk2 a.prg -shared', it works, but 
if I try 'hbmk2 a.prg -shared -gtwvt', it tells: 
  'Can't locate the starting procedure: 'MAIN''

Then just 'hbmk2 a.prg -gtwvt':
  'It's not a GUI program'

a.prg is:
---
FUNCTION MAIN()
ALERT( "hello" )
RETURN 0
---

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Mar 12 09:08:51 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 12 09:08:59 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <AE6E722B-ACE9-4046-8156-526B2447F5E8@syenar.hu>
References: <B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
	<20100311185024.GB31990@linux-4bod.home.aster.pl>
	<64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>
	<20100312131018.GA13680@linux-4bod.home.aster.pl>
	<AE6E722B-ACE9-4046-8156-526B2447F5E8@syenar.hu>
Message-ID: <20100312140851.GA14616@linux-4bod.home.aster.pl>

On Fri, 12 Mar 2010, Szak?ts Viktor wrote:

Hi,

> hbmk2 behaves the exact same for mingw and mingw64, 
> yet it doesn't work for mingw64 and does for mingw.

This problem was exploited in different MINGW version.
Not in all ones.
Seems that now HBMK2 is tuned only for some chosen MinGW
versions.

> So either it's just a coincidence that mingw works, 
> and there is hbmk2 bug, or there is a difference 
> in either in Harbour mingw64 builds or mingw64 
> itself.

I noticed differences between different MinGW@32
releases so it's nothing amazing that they may
exist also between 32 and 64 bit MinGW versions.

> .c stub rightly issues hb_forceLinkMainWin() in 
> both cases, which should be enough to pull WinMain().

It not a problem of linking WinMain() but giving the
highest priority to main().

> If I try 'hbmk2 a.prg -shared', it works, but 
> if I try 'hbmk2 a.prg -shared -gtwvt', it tells: 
>   'Can't locate the starting procedure: 'MAIN''

It means that using -gtwvt hbmk2 switch activates sth
what forces using MAIN() as startup entry. We only have
to locate what it is and fix it. For sure you cannot
pass hbmainstd as one of linked libraries because in such
case console application will be created.

best regards,
Przemek
From maurilio.longo at libero.it  Fri Mar 12 09:17:14 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Mar 12 09:17:27 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100312140851.GA14616@linux-4bod.home.aster.pl>
References: <B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>	<20100310194814.GA17585@linux-4bod.home.aster.pl>	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>	<20100311015307.GA10009@linux-4bod.home.aster.pl>	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>	<20100311185024.GB31990@linux-4bod.home.aster.pl>	<64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>	<20100312131018.GA13680@linux-4bod.home.aster.pl>	<AE6E722B-ACE9-4046-8156-526B2447F5E8@syenar.hu>
	<20100312140851.GA14616@linux-4bod.home.aster.pl>
Message-ID: <4B9A4CEA.8020905@libero.it>

Przemyslaw,

could this issue explain some of my troubles the other day?

Maurilio.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Fri Mar 12 09:21:22 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 09:21:33 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100312140851.GA14616@linux-4bod.home.aster.pl>
References: <B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
	<20100311185024.GB31990@linux-4bod.home.aster.pl>
	<64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>
	<20100312131018.GA13680@linux-4bod.home.aster.pl>
	<AE6E722B-ACE9-4046-8156-526B2447F5E8@syenar.hu>
	<20100312140851.GA14616@linux-4bod.home.aster.pl>
Message-ID: <0A704F63-4C61-4CB1-A3EF-7A990FE98078@syenar.hu>

Hi,

>> hbmk2 behaves the exact same for mingw and mingw64, 
>> yet it doesn't work for mingw64 and does for mingw.
> 
> This problem was exploited in different MINGW version.
> Not in all ones.
> Seems that now HBMK2 is tuned only for some chosen MinGW
> versions.

There is nothing special done for mingw in hbmk2, 
it uses the .c stub along the same lines as hbmk 
script.

Command line is clean from tricks. The only 
"special" thing done is '-mwindows' option.

Here is the link command:
   x86_64-w64-mingw32-gcc.exe C:\Users\vszakats\AppData\Local\Temp\a.o C:\Users\vszakats\AppData\Local\Temp\hbmk_oiiufu.o    -mwindows -Wl,--start-group -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group -oa.exe -LF:/devl/hb20/lib/win/mingw64

>> So either it's just a coincidence that mingw works, 
>> and there is hbmk2 bug, or there is a difference 
>> in either in Harbour mingw64 builds or mingw64 
>> itself.
> 
> I noticed differences between different MinGW@32
> releases so it's nothing amazing that they may
> exist also between 32 and 64 bit MinGW versions.

Yes, it seems there is something here to deal with.

>> .c stub rightly issues hb_forceLinkMainWin() in 
>> both cases, which should be enough to pull WinMain().
> 
> It not a problem of linking WinMain() but giving the
> highest priority to main().
> 
>> If I try 'hbmk2 a.prg -shared', it works, but 
>> if I try 'hbmk2 a.prg -shared -gtwvt', it tells: 
>>  'Can't locate the starting procedure: 'MAIN''
> 
> It means that using -gtwvt hbmk2 switch activates sth
> what forces using MAIN() as startup entry. We only have
> to locate what it is and fix it. For sure you cannot
> pass hbmainstd as one of linked libraries because in such
> case console application will be created.

The only difference is in .c stub content, here it is in 
diff form:
---

 HB_FUNC_EXTERN( MAIN );
+HB_FUNC_EXTERN( HB_GT_WVT );
+
+HB_EXTERN_BEGIN
+void hb_forceLinkMainWin( void );
+HB_EXTERN_END

 void _hb_lnk_ForceLink_hbmk2( void )
 {
    HB_FUNC_EXEC( MAIN );
+   HB_FUNC_EXEC( HB_GT_WVT );
+
+   hb_forceLinkMainWin();
 }

 #include "hbinit.h"

 HB_CALL_ON_STARTUP_BEGIN( _hb_hbmk_setdef_ )
+   hb_vmSetDefaultGT( "WVT" );
    hb_vmSetLinkedMain( "MAIN" );
 HB_CALL_ON_STARTUP_END( _hb_hbmk_setdef_ )
---

Does it show anything to you?

Brgds,
Viktor

From qiinfo at ig.com.br  Fri Mar 12 09:38:53 2010
From: qiinfo at ig.com.br (Rossine)
Date: Fri Mar 12 09:39:01 2010
Subject: [Harbour] Error with 14142
Message-ID: <27875079.post@talk.nabble.com>


Hello,

I see this errors with this release:

[ERROR]
Error E2451 ../../../filesys.c 331: Undefined symbol 'ulSize' in function
fs_win
_get_drive
*** 1 errors in Compile ***
mingw32-make[3]: *** [filesys.obj] Error 1
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [rtl.inst] Error 2
mingw32-make: *** [src.inst] Error 2
[ENDERROR]

Best Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Error-with-14142-tp27875079p27875079.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar 12 09:58:58 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 09:59:08 2010
Subject: [Harbour] Error with 14142
In-Reply-To: <27875079.post@talk.nabble.com>
References: <27875079.post@talk.nabble.com>
Message-ID: <4D8986EA-35DC-4371-B99B-DB9FEF8671E0@syenar.hu>

Hi,

> I see this errors with this release:
> 
> [ERROR]
> Error E2451 ../../../filesys.c 331: Undefined symbol 'ulSize' in function
> fs_win
> _get_drive
> *** 1 errors in Compile ***
> mingw32-make[3]: *** [filesys.obj] Error 1
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [rtl.inst] Error 2
> mingw32-make: *** [src.inst] Error 2
> [ENDERROR]

Thanks, I'll commit the fix. Anyhow I'd suggest 
to try use default UNICODE build with UNICOWS 
solution.

1) Download static lib for your compiler from here:
      http://libunicows.sourceforge.net/
2) Add '-l{mingw|bcc|watcom}unicows' to your hbmk2 
   build script or command-line.
3) Download unicows.dll from here:
      http://go.microsoft.com/fwlink/?LinkId=14851

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Mar 12 10:00:21 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 12 10:00:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14146] trunk/harbour
Message-ID: <E1Nq6Ld-0008Pc-3o@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14146
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14146&view=rev
Author:   vszakats
Date:     2010-03-12 15:00:19 +0000 (Fri, 12 Mar 2010)

Log Message:
-----------
2010-03-12 15:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/filesys.c
    ! Fixed non-UNICODE code after recent get/set drive changes.
    % Minor opt.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alcisoft at arrakis.es  Fri Mar 12 12:10:45 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Fri Mar 12 12:15:21 2010
Subject: [Harbour] Re: To modify behavior a function
References: <hncuge$ktn$1@dough.gmane.org>
	<96CE5E13-6A99-421E-95CD-12E8EBE4E4CF@syenar.hu>
Message-ID: <hndsqb$el$1@dough.gmane.org>

Vikthor,

>It's never a safe or good practice to create wrapper with
>original name but different behavior in real applications.
Ok !


>[ Moreover, you have to carefully check the licensing
>issues and requirements when including modified Harbour
>source code in your closed-source application. ]
Ok !


THX. Regards



From qiinfo at ig.com.br  Fri Mar 12 12:43:35 2010
From: qiinfo at ig.com.br (Rossine)
Date: Fri Mar 12 12:43:42 2010
Subject: [Harbour] Error with 14142
In-Reply-To: <4D8986EA-35DC-4371-B99B-DB9FEF8671E0@syenar.hu>
References: <27875079.post@talk.nabble.com>
	<4D8986EA-35DC-4371-B99B-DB9FEF8671E0@syenar.hu>
Message-ID: <27880529.post@talk.nabble.com>


Hi,

> I see this errors with this release:
> 
> [ERROR]
> Error E2451 ../../../filesys.c 331: Undefined symbol 'ulSize' in function
> fs_win
> _get_drive
> *** 1 errors in Compile ***
> mingw32-make[3]: *** [filesys.obj] Error 1
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [rtl.inst] Error 2
> mingw32-make: *** [src.inst] Error 2
> [ENDERROR]

OK, work?s fine now :)

>Thanks, I'll commit the fix. Anyhow I'd suggest 
>to try use default UNICODE build with UNICOWS 
>solution.

>1) Download static lib for your compiler from here:
>      http://libunicows.sourceforge.net/
>2) Add '-l{mingw|bcc|watcom}unicows' to your hbmk2 
>   build script or command-line.
>3) Download unicows.dll from here:
>      http://go.microsoft.com/fwlink/?LinkId=14851

Excuse my ignorance, but did not work :(

See how I did:

I downloaded and unicows.lib Unicows.dll and did so

- Unicows.lib include in my file .Hbc as:
  libs=c:\unicows\unicows.lib

- Unicows.dll I copied to the folders of windows 98:
 c:\windows, c:\windows\system, c:\windows\systrem32

I generated the harbour again the libs and includes in my file .BAT the
line:

set HB_BUILD_UNICODE=yes

Works well with: set HB_BUILD_UNICODE=no

What can be wrong ?

Best Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Error-with-14142-tp27875079p27880529.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar 12 12:56:55 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 12:57:06 2010
Subject: [Harbour] Error with 14142
In-Reply-To: <27880529.post@talk.nabble.com>
References: <27875079.post@talk.nabble.com>
	<4D8986EA-35DC-4371-B99B-DB9FEF8671E0@syenar.hu>
	<27880529.post@talk.nabble.com>
Message-ID: <EE224A0F-CB66-4210-B261-C61560A121A6@syenar.hu>

Hi,

>> 1) Download static lib for your compiler from here:
>>     http://libunicows.sourceforge.net/
>> 2) Add '-l{mingw|bcc|watcom}unicows' to your hbmk2 
>>  build script or command-line.
>> 3) Download unicows.dll from here:
>>     http://go.microsoft.com/fwlink/?LinkId=14851
> 
> Excuse my ignorance, but did not work :(
> 
> See how I did:
> 
> I downloaded and unicows.lib Unicows.dll and did so
> 
> - Unicows.lib include in my file .Hbc as:
>  libs=c:\unicows\unicows.lib

In case of .hbc file, I suggest to use:
   {mingw|bcc|watcom}libs=unicows
   libpaths=<dir of unicows lib>

Second setting is not needed if you copy the lib file 
to Harbour lib dir (<hb>/lib/win/bcc in your case pbly)

Make sure to use Harbour 2.1.0dev r14108 or newer.

> - Unicows.dll I copied to the folders of windows 98:
> c:\windows, c:\windows\system, c:\windows\systrem32

OK

> I generated the harbour again the libs and includes in my file .BAT the
> line:
> 
> set HB_BUILD_UNICODE=yes

Just drop it, the default is 'yes', so no need to 
use above setting.

> Works well with: set HB_BUILD_UNICODE=no

UNICOWS just doesn't do anything in this case.

> What can be wrong ?

What is the error?

Brgds,
Viktor

From teo at windtelsoft.com  Fri Mar 12 13:33:53 2010
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Fri Mar 12 13:34:07 2010
Subject: [Harbour] malloc error on Harbour compiler (rev 14146 tested on
	MacOS X SL)
Message-ID: <84F56F59-4B7A-4C53-810C-A05B3BC0139F@windtelsoft.com>

Hello,

The following sample (contains a syntax error):

<prg>
FUNCTION Main()

    DummyCall( ;
	{||
	    }
	} )

RETURN NIL
</prg>


generates the following output (MacOS):

<bash>
bash-3.2$ harbour test.prg 
Harbour 2.1.0dev (Rev. 14146)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'test.prg'...
test.prg(6) Error E0020  Incomplete statement or unbalanced delimiters
test.prg(7) Error E0030  Syntax error "syntax error at '}'"
2 errors

No code generated.
harbour(19304) malloc: *** error for object 0x1052b0: pointer being freed was not allocated
*** set a breakpoint in malloc_error_break to debug
bash-3.2$ 
</bash>


best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/6f284bf4/attachment.html
From qiinfo at ig.com.br  Fri Mar 12 13:47:39 2010
From: qiinfo at ig.com.br (Rossine)
Date: Fri Mar 12 13:47:46 2010
Subject: [Harbour] Error with 14142
In-Reply-To: <EE224A0F-CB66-4210-B261-C61560A121A6@syenar.hu>
References: <27875079.post@talk.nabble.com>
	<4D8986EA-35DC-4371-B99B-DB9FEF8671E0@syenar.hu>
	<27880529.post@talk.nabble.com>
	<EE224A0F-CB66-4210-B261-C61560A121A6@syenar.hu>
Message-ID: <27881199.post@talk.nabble.com>


Hi Viktor

>Make sure to use Harbour 2.1.0dev r14108 or newer.

I use version  14146.

>Just drop it, the default is 'yes', so no need to 
>use above setting.

OK

>UNICOWS just doesn't do anything in this case.

>What is the error?

Example:

[SAMPLE]

function MAIN

? file( "teste.txt" ) && <- Always return .F. and is that this file exist.

return NIL

[ENDSAMPLE]

With set HB_BUILD_UNICODE=no this sample return .T. in windows 98.

>In case of .hbc file, I suggest to use:
>   {mingw|bcc|watcom}libs=unicows
>   libpaths=<dir of unicows lib>

Yes, i changed this but the problem persists with the sample up.

Best regards,

Rossine.


-- 
View this message in context: http://old.nabble.com/Error-with-14142-tp27875079p27881199.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar 12 14:29:50 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 14:30:01 2010
Subject: [Harbour] Error with 14142
In-Reply-To: <27881199.post@talk.nabble.com>
References: <27875079.post@talk.nabble.com>
	<4D8986EA-35DC-4371-B99B-DB9FEF8671E0@syenar.hu>
	<27880529.post@talk.nabble.com>
	<EE224A0F-CB66-4210-B261-C61560A121A6@syenar.hu>
	<27881199.post@talk.nabble.com>
Message-ID: <F28ABAA5-BCE4-459A-9601-BC91F25DC903@syenar.hu>

Hi,

>> Make sure to use Harbour 2.1.0dev r14108 or newer.
> 
> I use version  14146.

Make sure hbmk2.exe is also of this version.

>> What is the error?
> 
> Example:
> 
> [SAMPLE]
> 
> function MAIN
> 
> ? file( "teste.txt" ) && <- Always return .F. and is that this file exist.
> 
> return NIL
> 
> [ENDSAMPLE]

This can hardly be caused by wrong unicows setup.
When running unicows apps on Win98, it should 
either run properly or not run at all with appropriate 
error msgbox.

>> In case of .hbc file, I suggest to use:
>>  {mingw|bcc|watcom}libs=unicows
>>  libpaths=<dir of unicows lib>
> 
> Yes, i changed this but the problem persists with the sample up.

Sorry, can't reproduce here even with freshly 
built bcc 5.5 and freshly downloaded opencows 
lib. It works as expected on both Win7 and 
Win98 + unicows.dll in system dir.

'hbmk2 test.prg -lunicows'

--- test.prg
hb_alert( File( "test.exe" ) )
---

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Mar 12 14:31:08 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 12 14:31:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14147] trunk/harbour
Message-ID: <E1NqAZg-0000bQ-Aa@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14147
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14147&view=rev
Author:   vszakats
Date:     2010-03-12 19:31:06 +0000 (Fri, 12 Mar 2010)

Log Message:
-----------
2010-03-12 20:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbverdsp.c
    + Show '(UNICODE)' in built options for UNICODE builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbverdsp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Fri Mar 12 15:58:14 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Mar 12 15:58:22 2010
Subject: [Harbour] QAplication and TRACE
Message-ID: <578c73341003121258i1e08b6ddleec449607e1014d1@mail.gmail.com>

Hi Pritpal, can you remove or suspend the followed traces from HBQT ??

QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 00D5835C

QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 00000000





Thanks in advance

CdQ


Note: because in my project, these traces are put into my sysout build
process.  Look:


.........

QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 00000000

D:\SILVER~1\mingw\bin\gcc.exe -ID:\SILVER~1\mingw\include
-ID:\SILVER~1\qt\include -ID:\SILVER~1\harbour\include
-ID:\SILVER~1\HBQTCO~1\include -ID:\SILVER~1\MARINA~2\samples\_SAMPL~1
-ID:\SILVER~1\MARINA~2\samples\_SAMPL~1 -mno-cygwin -Wall -c
D:\SILVER~1\MARINA~2\samples\_SAMPL~1\__sgi_obj_m2gh\sample2.c
-oD:\SILVER~1\MARINA~2\samples\_SAMPL~1\__sgi_obj_m2gh\sample2.o

QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 00D7CA04

QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 00000000

QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 00D7CA04

QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 00000000

==> Processing
D:\SilverGui\marinas-ide\samples\_sample_project_for_test_ide\sample3.prg
...

QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 00D5835C

QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 00000000

QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 00D7CA04

QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 00000000

QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 00D7CA04

QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 00000000

D:\SILVER~1\harbour\bin\harbour.exe /n
/iD:\SILVER~1\harbour\include;D:\SILVER~1\HBQTCO~1\include;D:\SILVER~1\MARINA~2\samples\_SAMPL~1;D:\SILVER~1\MARINA~2\samples\_SAMPL~1
/pD:\SILVER~1\MARINA~2\samples\_SAMPL~1\__sgi_obj_m2gh\sample3
D:\SILVER~1\MARINA~2\samples\_SAMPL~1\sample3.prg
-oD:\SILVER~1\MARINA~2\samples\_SAMPL~1\__sgi_obj_m2gh\sample3.c

Harbour 2.1.0dev (Rev. 14147)

Copyright (c) 1999-2010, http://www.harbour-project.org/

Compiling 'D:\SILVER~1\MARINA~2\samples\_SAMPL~1\sample3.prg' and generating
preprocessed output to
'D:\SILVER~1\MARINA~2\samples\_SAMPL~1\__sgi_obj_m2gh\sample3'...

100

100

.........
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100312/68154afc/attachment-0001.html
From bedipritpal at hotmail.com  Fri Mar 12 17:23:17 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 12 17:23:25 2010
Subject: [Harbour] hbMK2 - Error
Message-ID: <1268432597543-4724810.post@n2.nabble.com>


Hello Viktor

E:\harbour\contrib\hbide>m
hbmk2: Processing environment options: -compiler=mingw
hbmk2: Processing configuration: e:\harbour\bin\hbmk.cfg

Unrecoverable error 6005: Exception error:

    Exception Code:C0000005
    Exception Address:0055C060
    EAX:0063005C  EBX:0022FC60  ECX:00000000  EDX:0022FC60
    ESI:0063005C  EDI:00000050  EBP:00B7ABA0
    CS:EIP:001B:0055C060  SS:ESP:0023:0022FBD0
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010206
    CS:EIP: 8B 70 1C 8B 53 08 89 44 24 04 89 1C 24 FF 52 0C
    SS:ESP: 0022FC60 00010000 00B4EDC8 0055CC5C 0000003B 0058EEF3 0000003F
00B7AB58 0022FC60

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x001CD000 e:\harbour\bin\hbmk2.exe
0x7C900000 0x000B2000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000F5000 C:\WINDOWS\system32\kernel32.dll
0x77C10000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x7E410000 0x00090000 C:\WINDOWS\system32\USER32.dll
0x77F10000 0x00048000 C:\WINDOWS\system32\GDI32.dll
0x76390000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x77DD0000 0x0009B000 C:\WINDOWS\system32\ADVAPI32.dll
0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll

Called from ARCHCOMPFILTER(0) in ../../../hbmk2.prg
Called from HBMK2(0) in ../../../hbmk2.prg
Called from MAIN(0) in ../../../hbmk2.prg

It is a quick impression after 
/*
 * $Id: ChangeLog 14147 2010-03-12 19:31:06Z vszakats $
 */

Investigating...

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbMK2-Error-tp4724810p4724810.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Mar 12 17:25:51 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 12 17:25:59 2010
Subject: [Harbour] Re: GC Pointers - Anyway to detatch them ?
In-Reply-To: <20100312104200.GA5768@linux-4bod.home.aster.pl>
References: <1268334025193-4717974.post@n2.nabble.com>
	<20100312104200.GA5768@linux-4bod.home.aster.pl>
Message-ID: <1268432751776-4724826.post@n2.nabble.com>


Hello Przemek

I think I could not present properly what I mean.

Preparing a flow-chart to demonstrate whole hbQT process 
at a glance and trying to pinpoint what is needed at what point.
I am looking into some of your advices and hopefully will 
cover one or two pitfalls.

Will return to this message later...


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/GC-Pointers-Anyway-to-detatch-them-tp4717974p4724826.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From fperillo at gmail.com  Fri Mar 12 17:28:47 2010
From: fperillo at gmail.com (francesco perillo)
Date: Fri Mar 12 17:28:54 2010
Subject: [Harbour] Re: GC Pointers - Anyway to detatch them ?
In-Reply-To: <1268432751776-4724826.post@n2.nabble.com>
References: <1268334025193-4717974.post@n2.nabble.com>
	<20100312104200.GA5768@linux-4bod.home.aster.pl>
	<1268432751776-4724826.post@n2.nabble.com>
Message-ID: <6943770e1003121428h49ada97xf9f4441963471075@mail.gmail.com>

> Preparing a flow-chart to demonstrate whole hbQT process

It would be great for us "beginners" in order to catch-up Qt development...
From vouchcac at users.sourceforge.net  Fri Mar 12 17:30:11 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar 12 17:30:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14148] trunk/harbour
Message-ID: <E1NqDMx-0005BO-FH@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14148
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14148&view=rev
Author:   vouchcac
Date:     2010-03-12 22:30:10 +0000 (Fri, 12 Mar 2010)

Log Message:
-----------
2010-03-12 14:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/doc/en/class_qapplication.txt
  * contrib/hbqt/qtgui/QApplication.cpp
  * contrib/hbqt/qth/QApplication.qth
    - Removed tracelog calls.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/doc/en/class_qapplication.txt
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qth/QApplication.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Mar 12 17:31:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 12 17:31:20 2010
Subject: [Harbour] Re: QAplication and TRACE
In-Reply-To: <578c73341003121258i1e08b6ddleec449607e1014d1@mail.gmail.com>
References: <578c73341003121258i1e08b6ddleec449607e1014d1@mail.gmail.com>
Message-ID: <1268433074312-4724847.post@n2.nabble.com>



CarozoDeQuilmes wrote:
> 
> Hi Pritpal, can you remove or suspend the followed traces from HBQT ??
> 
> QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 00D5835C
> 
> QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 00000000
> 
> 

Please check after r14148.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/QAplication-and-TRACE-tp4724413p4724847.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Fri Mar 12 17:53:30 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 17:53:41 2010
Subject: [Harbour] hbMK2 - Error
In-Reply-To: <1268432597543-4724810.post@n2.nabble.com>
References: <1268432597543-4724810.post@n2.nabble.com>
Message-ID: <19E302F6-7E97-43A3-B214-1918589EF4DB@syenar.hu>

Hi Pritpal,

hbmk2 is pure .prg code, so if there is such 
error, it can only be lower level problem.

ARCHCOMPFILTER() uses macro evaluation, so 
given recent changes, first pls try to rebuild 
everything from fresh sources and retry.

If it still happens pls post full hbmk2 
configuration, maybe it helps locating it.
(or it that's not possible, you can enable 
line numbers and put a trace call before line 
'bFilter := &( "{| hbmk |" + cFilterHarb + "}" )', 
to see what gets executed.

Brgds,
Viktor

On 2010 Mar 12, at 23:23, Pritpal Bedi wrote:

> 
> Hello Viktor
> 
> E:\harbour\contrib\hbide>m
> hbmk2: Processing environment options: -compiler=mingw
> hbmk2: Processing configuration: e:\harbour\bin\hbmk.cfg
> 
> Unrecoverable error 6005: Exception error:
> 
>    Exception Code:C0000005
>    Exception Address:0055C060
>    EAX:0063005C  EBX:0022FC60  ECX:00000000  EDX:0022FC60
>    ESI:0063005C  EDI:00000050  EBP:00B7ABA0
>    CS:EIP:001B:0055C060  SS:ESP:0023:0022FBD0
>    DS:0023  ES:0023  FS:003B  GS:0000
>    Flags:00010206
>    CS:EIP: 8B 70 1C 8B 53 08 89 44 24 04 89 1C 24 FF 52 0C
>    SS:ESP: 0022FC60 00010000 00B4EDC8 0055CC5C 0000003B 0058EEF3 0000003F
> 00B7AB58 0022FC60
> 
>    C stack:
>    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
> 
> 
> Modules:
> 0x00400000 0x001CD000 e:\harbour\bin\hbmk2.exe
> 0x7C900000 0x000B2000 C:\WINDOWS\system32\ntdll.dll
> 0x7C800000 0x000F5000 C:\WINDOWS\system32\kernel32.dll
> 0x77C10000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
> 0x7E410000 0x00090000 C:\WINDOWS\system32\USER32.dll
> 0x77F10000 0x00048000 C:\WINDOWS\system32\GDI32.dll
> 0x76390000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
> 0x77DD0000 0x0009B000 C:\WINDOWS\system32\ADVAPI32.dll
> 0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
> 0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll
> 
> Called from ARCHCOMPFILTER(0) in ../../../hbmk2.prg
> Called from HBMK2(0) in ../../../hbmk2.prg
> Called from MAIN(0) in ../../../hbmk2.prg
> 
> It is a quick impression after 
> /*
> * $Id: ChangeLog 14147 2010-03-12 19:31:06Z vszakats $
> */
> 
> Investigating...
> 
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context: http://n2.nabble.com/hbMK2-Error-tp4724810p4724810.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Fri Mar 12 17:59:05 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 12 17:59:11 2010
Subject: [Harbour] Re: hbMK2 - Error
In-Reply-To: <19E302F6-7E97-43A3-B214-1918589EF4DB@syenar.hu>
References: <1268432597543-4724810.post@n2.nabble.com>
	<19E302F6-7E97-43A3-B214-1918589EF4DB@syenar.hu>
Message-ID: <1268434745255-4724980.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> ARCHCOMPFILTER() uses macro evaluation, so 
> given recent changes, first pls try to rebuild 
> everything from fresh sources and retry.
> 

Yep, executes fine after clean build.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbMK2-Error-tp4724810p4724980.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at users.sourceforge.net  Fri Mar 12 19:26:32 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Mar 12 19:26:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14149] trunk/harbour
Message-ID: <E1NqFBY-00036U-Ci@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14149
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14149&view=rev
Author:   druzus
Date:     2010-03-13 00:26:30 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 01:25 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbstack.h
  * harbour/src/vm/estack.c
    % declare hb_stack TLS pointer in MT HVM as static when HVM is compiled
      with HB_HVM_ALL=yes

  * harbour/src/compiler/hbcomp.c
    ! added protection against multiple freeing the same expression on
      some errors in compiled code. It's necessary after removing reference
      counters which made such protection indirectly. It fixed bug reported
      by Teo.

  * harbour/include/hbsetup.h
    ! check GCC version for hot and cold function attribute macros

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbsetup.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/src/compiler/hbcomp.c
    trunk/harbour/src/vm/estack.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Mar 12 19:39:09 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 12 19:39:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14099]
	trunk/harbour/ChangeLog
In-Reply-To: <E1NoQE3-0002XK-Th@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NoQE3-0002XK-Th@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <20100313003909.GA22331@linux-4bod.home.aster.pl>

On Sun, 07 Mar 2010, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> 2010-03-08 00:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * ChangeLog
>     ! Added missing change from prev entry:
>       * src/rtl/gtwvt/gtwvt.c
>         * Changed RegisterClass() call to RegisterClassEx().
>           Same availability, more features, recommended call.

This modification broke WinCE builds:
   ../../../../../../src/rtl/gtwvt/obj/wce/mingwarm/gtwvt.o:gtwvt.c:
   undefined reference to `RegisterClassExW'
   collect2: ld returned 1 exit status
   make[4]: *** [harbourmt-21-wce-arm.dll] B??d 1

best regards,
Przemek
From vouchcac at users.sourceforge.net  Fri Mar 12 20:29:04 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar 12 20:29:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14150] trunk/harbour
Message-ID: <E1NqGA4-0004Ec-Pq@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14150
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14150&view=rev
Author:   vouchcac
Date:     2010-03-13 01:28:47 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-12 17:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg

  * contrib/hbqt/qth/QList.qth
  * contrib/hbqt/qth/QObject.qth
 
  * Re0generated: contrib/hbqt/qtgui/?.cpp 
  * Re-generated: contrib/hbqt/qtcore/?.cpp    

    + Eliminated any occurance of hb_retptr(*) calls.
      Now all objects which are created with "new" or are
      returned as a method call are encapsulated in GC 
      pointer. This is a step closer to find-out the potential
      GPFs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/doc/en/class_qapplication.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlist.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qobject.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpaintdevice.txt
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QChar.cpp
    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QIODevice.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQChar.prg
    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
    trunk/harbour/contrib/hbqt/qtgui/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractProxyModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragEnterEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragLeaveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHelpEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintDevice.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEngine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSessionManager.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturn.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextList.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QValidator.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/qth/QList.qth
    trunk/harbour/contrib/hbqt/qth/QObject.qth
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpHeader.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Mar 12 21:07:37 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 12 21:07:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14151] trunk/harbour
Message-ID: <E1NqGlN-0000g5-KL@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14151
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14151&view=rev
Author:   vszakats
Date:     2010-03-13 02:07:35 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 03:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwvt/gtwvt.c
    ! Reverted RegisterClassEx() to RegisterClass() for WinCE.
      Thanks for the information.

  * src/rtl/gtdos/gtdos.c
  * src/rtl/gtwvt/gtwvt.c
  * src/rtl/filesys.c
  * src/rdd/dbcmd.c
  * src/rdd/dbcmd53.c
  * src/rdd/wafunc.c
  * src/rdd/workarea.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/rdd/ordwldsk.c
  * src/rdd/hbsix/sxord.c
  * src/rdd/hbsix/sxsem.c
  * src/rdd/ordcount.c
  * contrib/hbtpathy/tpwin.c
  * contrib/rddbmcdx/bmdbfcdx.c
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvggui.c
  * contrib/gtwvg/wvgwing.c
  * contrib/rddads/adsfunc.c
  * contrib/hbwin/axcore.c
  * contrib/hbwin/mapi.c
  * contrib/hbwin/win_dlg.c
    * 'memset( &obj, 0, sizeof( TYPE_OF_OBJ ) )'
      changed to:
      'memset( &obj, 0, sizeof( obj ) )'
      (same meaning but less room for mistake)
    * Variable scope cleanups in few places.

  * bin/hb-mkimp.bat
  * src/vm/itemapi.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/contrib/hbwin/win_dlg.c
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/contrib/rddbmcdx/bmdbfcdx.c
    trunk/harbour/src/rdd/dbcmd.c
    trunk/harbour/src/rdd/dbcmd53.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/hbsix/sxord.c
    trunk/harbour/src/rdd/hbsix/sxsem.c
    trunk/harbour/src/rdd/ordcount.c
    trunk/harbour/src/rdd/ordwldsk.c
    trunk/harbour/src/rdd/wafunc.c
    trunk/harbour/src/rdd/workarea.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/gtdos/gtdos.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/vm/itemapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Mar 12 21:19:11 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 12 21:19:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14152] trunk/harbour
Message-ID: <E1NqGwZ-0000t1-LL@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14152
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14152&view=rev
Author:   vszakats
Date:     2010-03-13 02:19:10 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 03:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/Makefile
  * src/vm/vmmt/Makefile
    ! Fixed GUI mode not working for mingw64 targets.
      [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/Makefile
    trunk/harbour/src/vm/vmmt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Mar 12 21:25:47 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 12 21:25:58 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <0A704F63-4C61-4CB1-A3EF-7A990FE98078@syenar.hu>
References: <B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
	<20100311185024.GB31990@linux-4bod.home.aster.pl>
	<64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>
	<20100312131018.GA13680@linux-4bod.home.aster.pl>
	<AE6E722B-ACE9-4046-8156-526B2447F5E8@syenar.hu>
	<20100312140851.GA14616@linux-4bod.home.aster.pl>
	<0A704F63-4C61-4CB1-A3EF-7A990FE98078@syenar.hu>
Message-ID: <E4740009-9CC0-46F8-994E-C96838F0FCDA@syenar.hu>

Fixed:
  2010-03-13 03:18 UTC+0100 Viktor Szakats

Brgds,
Viktor

On 2010 Mar 12, at 15:21, Viktor Szak?ts wrote:

> Hi,
> 
>>> hbmk2 behaves the exact same for mingw and mingw64, 
>>> yet it doesn't work for mingw64 and does for mingw.
>> 
>> This problem was exploited in different MINGW version.
>> Not in all ones.
>> Seems that now HBMK2 is tuned only for some chosen MinGW
>> versions.
> 
> There is nothing special done for mingw in hbmk2, 
> it uses the .c stub along the same lines as hbmk 
> script.
> 
> Command line is clean from tricks. The only 
> "special" thing done is '-mwindows' option.
> 
> Here is the link command:
>   x86_64-w64-mingw32-gcc.exe C:\Users\vszakats\AppData\Local\Temp\a.o C:\Users\vszakats\AppData\Local\Temp\hbmk_oiiufu.o    -mwindows -Wl,--start-group -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group -oa.exe -LF:/devl/hb20/lib/win/mingw64
> 
>>> So either it's just a coincidence that mingw works, 
>>> and there is hbmk2 bug, or there is a difference 
>>> in either in Harbour mingw64 builds or mingw64 
>>> itself.
>> 
>> I noticed differences between different MinGW@32
>> releases so it's nothing amazing that they may
>> exist also between 32 and 64 bit MinGW versions.
> 
> Yes, it seems there is something here to deal with.
> 
>>> .c stub rightly issues hb_forceLinkMainWin() in 
>>> both cases, which should be enough to pull WinMain().
>> 
>> It not a problem of linking WinMain() but giving the
>> highest priority to main().
>> 
>>> If I try 'hbmk2 a.prg -shared', it works, but 
>>> if I try 'hbmk2 a.prg -shared -gtwvt', it tells: 
>>> 'Can't locate the starting procedure: 'MAIN''
>> 
>> It means that using -gtwvt hbmk2 switch activates sth
>> what forces using MAIN() as startup entry. We only have
>> to locate what it is and fix it. For sure you cannot
>> pass hbmainstd as one of linked libraries because in such
>> case console application will be created.
> 
> The only difference is in .c stub content, here it is in 
> diff form:
> ---
> 
> HB_FUNC_EXTERN( MAIN );
> +HB_FUNC_EXTERN( HB_GT_WVT );
> +
> +HB_EXTERN_BEGIN
> +void hb_forceLinkMainWin( void );
> +HB_EXTERN_END
> 
> void _hb_lnk_ForceLink_hbmk2( void )
> {
>    HB_FUNC_EXEC( MAIN );
> +   HB_FUNC_EXEC( HB_GT_WVT );
> +
> +   hb_forceLinkMainWin();
> }
> 
> #include "hbinit.h"
> 
> HB_CALL_ON_STARTUP_BEGIN( _hb_hbmk_setdef_ )
> +   hb_vmSetDefaultGT( "WVT" );
>    hb_vmSetLinkedMain( "MAIN" );
> HB_CALL_ON_STARTUP_END( _hb_hbmk_setdef_ )
> ---
> 
> Does it show anything to you?
> 
> Brgds,
> Viktor
> 

From wcshum88 at hotmail.com  Fri Mar 12 22:32:51 2010
From: wcshum88 at hotmail.com (Shum)
Date: Fri Mar 12 22:32:59 2010
Subject: [Harbour] =?utf-8?q?Ask_for_more_Xbase++_compatible_fuction_and_?=
	=?utf-8?b?Y2xhc3MgLi7igI8=?=
Message-ID: <1268451171621-4725917.post@n2.nabble.com>


Hi Pritpal,
 
I am converting my Xbase++ application into Harbour (during this few weeks)
....
 
Many thanks for your working on hbxbp and hbqt relative job ....
 
I hope you can add more Xbase++ function and or class as following:
 
 
-Gra..() Function set (if possible)  or please point me how to map with hbqt
for Gra drawing and setting ...
:
:
-GraFont()
-GraSetColor()
-GraQueryTextBox()
-GraSetAttrString()
-GraStringAt()
-GraGetRGBIntensity()
 
-XbpClipBoard  class and it's function
 
-AppType()
-NextTAppEvent()
-LastAppEvent()
 
 
Thanks inadvance !
 
 
Shum

-- 
View this message in context: http://n2.nabble.com/Ask-for-more-Xbase-compatible-fuction-and-class-tp4725917p4725917.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From teo at windtelsoft.com  Fri Mar 12 23:51:58 2010
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Fri Mar 12 23:52:10 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14149] trunk/harbour
In-Reply-To: <E1NqFBY-00036U-Ci@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NqFBY-00036U-Ci@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <55A36A45-EE59-448D-BA3B-B798D46E214A@windtelsoft.com>


On Mar 12, 2010, at 6:26 PM, druzus@users.sourceforge.net wrote:

> Revision: 14149
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14149&view=rev
> Author:   druzus
> Date:     2010-03-13 00:26:30 +0000 (Sat, 13 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-13 01:25 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbstack.h
>  * harbour/src/vm/estack.c
>    % declare hb_stack TLS pointer in MT HVM as static when HVM is compiled
>      with HB_HVM_ALL=yes
> 
>  * harbour/src/compiler/hbcomp.c
>    ! added protection against multiple freeing the same expression on
>      some errors in compiled code. It's necessary after removing reference
>      counters which made such protection indirectly. It fixed bug reported
>      by Teo.
> 
>  * harbour/include/hbsetup.h
>    ! check GCC version for hot and cold function attribute macros
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbsetup.h
>    trunk/harbour/include/hbstack.h
>    trunk/harbour/src/compiler/hbcomp.c
>    trunk/harbour/src/vm/estack.c


Thank you Przemek.


best regards,

Teo

From druzus at users.sourceforge.net  Sat Mar 13 03:03:04 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Mar 13 03:03:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14153] trunk/harbour
Message-ID: <E1NqMJM-0006rk-FK@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14153
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14153&view=rev
Author:   druzus
Date:     2010-03-13 08:03:03 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 09:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbstack.h
  * harbour/src/vm/estack.c
  * harbour/src/vm/hvmall.c
    * moved static HVM stack declarations from header file to .c files

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbstack.h
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/hvmall.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Mar 13 03:04:52 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Mar 13 03:04:59 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <E4740009-9CC0-46F8-994E-C96838F0FCDA@syenar.hu>
References: <20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
	<20100311185024.GB31990@linux-4bod.home.aster.pl>
	<64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>
	<20100312131018.GA13680@linux-4bod.home.aster.pl>
	<AE6E722B-ACE9-4046-8156-526B2447F5E8@syenar.hu>
	<20100312140851.GA14616@linux-4bod.home.aster.pl>
	<0A704F63-4C61-4CB1-A3EF-7A990FE98078@syenar.hu>
	<E4740009-9CC0-46F8-994E-C96838F0FCDA@syenar.hu>
Message-ID: <20100313080452.GA8808@linux-4bod.home.aster.pl>

On Sat, 13 Mar 2010, Szak?ts Viktor wrote:
> Fixed:
>   2010-03-13 03:18 UTC+0100 Viktor Szakats

Thank you very much.
So it was stupid typo which exploited the same problem as in few 32bit
MinGW builds I tested. MAIN() in linked code enables automatically
console application.

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Mar 13 03:18:33 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Mar 13 03:18:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14154] trunk/harbour
Message-ID: <E1NqMYL-00078j-Jt@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14154
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14154&view=rev
Author:   druzus
Date:     2010-03-13 08:18:32 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 09:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvmall.c
    * minor cleanup

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/hvmall.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Mar 13 03:22:20 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 13 03:22:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14155] trunk/harbour
Message-ID: <E1NqMc0-0007Cw-KS@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14155
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14155&view=rev
Author:   vouchcac
Date:     2010-03-13 08:22:18 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 00:13 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/Makefile
  * contrib/hbxbp/xbp.ch
  + contrib/hbxbp/xbpclipboard.prg
    + Implemented: XbpClipBoard() Xbase++ compatible class.
      At present XBPCLPBRD_TEXT and XBPCLPBRD_BITMAP formats are supported.
      XBPCLPBRD_TEXT is tested, please test XBPCLPBRD_BITMAP.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/hbxbp/xbp.ch

Added Paths:
-----------
    trunk/harbour/contrib/hbxbp/xbpclipboard.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Mar 13 03:25:27 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 13 03:25:35 2010
Subject: [Harbour] =?utf-8?q?Re=3A_Ask_for_more_Xbase++_compatible_fuctio?=
 =?utf-8?b?biBhbmQgY2xhc3MgLi7igI8=?=
In-Reply-To: <1268451171621-4725917.post@n2.nabble.com>
References: <1268451171621-4725917.post@n2.nabble.com>
Message-ID: <1268468727771-4726653.post@n2.nabble.com>



Shum wrote:
> 
> I hope you can add more Xbase++ function and or class as following:
>  
> -Gra..() Function set (if possible)  or please point me how to map with
> hbqt for Gra drawing and setting ...
> :
> :
> -GraFont()
> -GraSetColor()
> -GraQueryTextBox()
> -GraSetAttrString()
> -GraStringAt()
> -GraGetRGBIntensity()
> 

I need a very small, bare minimum, example 
how above functions are used. Also two screen shots,
before and after above calls.
 


> -XbpClipBoard  class and it's function
> 

Please check after r14155.
 


> -AppType()
> -NextTAppEvent()
> -LastAppEvent()
>  

I will look into these functions.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Ask-for-more-Xbase-compatible-fuction-and-class-tp4725917p4726653.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Sat Mar 13 04:59:19 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 13 04:59:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14156] trunk/harbour
Message-ID: <E1NqO7r-0002Ug-JH@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14156
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14156&view=rev
Author:   vouchcac
Date:     2010-03-13 09:59:18 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 01:53 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbp.ch
  * contrib/hbxbp/xbpgeneric.prg
    + Implemented Xbase++ functions:
        AppName() -> APPTYPE_PM
        LastAppEvent( mp1, mp2, oXbp, nThreadID ) -> nEvent
        NextAppEvent( mp1, mp2, oXbp ) ->nEvent
        
    ; Please test on real-life scenario. Forward your findings.
      I cannot test them extensively without real-time code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbp.ch
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From pete_westg at yahoo.gr  Sat Mar 13 05:03:51 2010
From: pete_westg at yahoo.gr (pete_westg)
Date: Sat Mar 13 05:05:40 2010
Subject: [Harbour] About ADEL()
Message-ID: <hnfo0e$iuh$1@dough.gmane.org>

According documentation a proper use of the Adel() function, is:
       ADEL(<aTarget>, <nPosition>) --> aTarget
where <nPosition> is the <aTarget> array element being deleted.
However, function  ADEL() does interesting, -yet unexpected at least for 
me, things when it's invoked with a "slightly fuzzy" way shown in the 
sample below:

8<---------------------------------------------------------------------------------
#define CRLF HB_OSNewLine()
PROCEDURE MAIN()
LOCAL aArray := {"one", "two", "three", "four", "five"}

? "TestProg: " + HB_ARGV()+ " [testing adel() function]"
? 
"============================================================================"
?
? "--- Our array before adel()'s touch.. --> "
AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
?
? "CASE_1 : ADEL(aArray, .T. .OR. .F.) --> "
ADEL(aArray, .T. .OR. .F.) // to adel() or to not adel()?
AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
?
? "CASE_2 : ADEL(aArray, 'Guess what element you'll nullify* now?') --> "
ADEL(aArray, "Guess what element you'll nullify now?") // RTFM
AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
?
? "CASE_3 : ADEL(aArray, 2^66) --> "
ADEL(aArray, 2^66)  // can arrays grow up so much ??
AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
?
? "CASE_4 : ADEL(aArray)  --> "
ADEL(aArray) // do you mean, delete entire array?
AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
?
? "CASE_4b : ADEL(ADEL(aArray)) --> "
?? ADEL(ADEL(aArray)) // now that you've learned the art of adeleting...
?
AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
?
Wait
RETURN
--------------------------------------------------------------------------------->8


In cases 1 & 2 one would expect the runtime mechanism to throw an error
because of the erroneous value types passed.
In case 3 a "boundary error" might be more appropriate/alarming.
And in Case 4 either:
- an entire array deletion could be more connotative expected or
- a runtime error due to lack of the 2nd mandatory arg.

Having the Adel() in all the above case to delete the first array 
element is quite unreasonable, primarily because such an action is 
undocumented. To be fair this is not a Harbour only "feature". Clipper 
behaves exactly the same here!

And while talking about adel() i think the name ADEL is rather
misleading, since the function does NOT actually delete elements,
but rather nullifies them, and you have to use asize()[*] to achieve
what you probably wanted to do. Perhaps ANUL() would be a more precise name
but i think it's a little late now to rename it <g>.
__________________________________________________________________
[*] I am aware of HB_ADEL() function, that accepts a 3rd parameter 
(boolean) by which you can eventually "adjust" the array size without 
the need of calling asize(). This is a good thing. The "bad" things are 
that HB_adel() stands in the shade of adel() (due to lack of 
documentation) while the above remarks about ADEL() apply also for 
HB_ADEL too.

---
Pete

From harbour.01 at syenar.hu  Sat Mar 13 05:52:21 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 13 05:52:33 2010
Subject: [Harbour] About ADEL()
In-Reply-To: <hnfo0e$iuh$1@dough.gmane.org>
References: <hnfo0e$iuh$1@dough.gmane.org>
Message-ID: <71B2BC6B-10B1-4683-B463-CB93E83B4190@syenar.hu>

Hi Pete,

On 2010 Mar 13, at 11:03, pete_westg wrote:

> According documentation a proper use of the Adel() function, is:
>      ADEL(<aTarget>, <nPosition>) --> aTarget
> where <nPosition> is the <aTarget> array element being deleted.
> However, function  ADEL() does interesting, -yet unexpected at least for me, things when it's invoked with a "slightly fuzzy" way shown in the sample below:
> 
> 8<---------------------------------------------------------------------------------
> #define CRLF HB_OSNewLine()
> PROCEDURE MAIN()
> LOCAL aArray := {"one", "two", "three", "four", "five"}
> 
> ? "TestProg: " + HB_ARGV()+ " [testing adel() function]"
> ? "============================================================================"
> ?
> ? "--- Our array before adel()'s touch.. --> "
> AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
> ?
> ? "CASE_1 : ADEL(aArray, .T. .OR. .F.) --> "
> ADEL(aArray, .T. .OR. .F.) // to adel() or to not adel()?
> AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
> ?
> ? "CASE_2 : ADEL(aArray, 'Guess what element you'll nullify* now?') --> "
> ADEL(aArray, "Guess what element you'll nullify now?") // RTFM
> AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
> ?
> ? "CASE_3 : ADEL(aArray, 2^66) --> "
> ADEL(aArray, 2^66)  // can arrays grow up so much ??
> AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
> ?
> ? "CASE_4 : ADEL(aArray)  --> "
> ADEL(aArray) // do you mean, delete entire array?
> AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
> ?
> ? "CASE_4b : ADEL(ADEL(aArray)) --> "
> ?? ADEL(ADEL(aArray)) // now that you've learned the art of adeleting...
> ?
> AEVAL( aArray, {|ele| QQOUT(HB_ValToExp(ele) + " ")} )
> ?
> Wait
> RETURN
> --------------------------------------------------------------------------------->8
> 
> 
> In cases 1 & 2 one would expect the runtime mechanism to throw an error
> because of the erroneous value types passed.
> In case 3 a "boundary error" might be more appropriate/alarming.
> And in Case 4 either:
> - an entire array deletion could be more connotative expected or
> - a runtime error due to lack of the 2nd mandatory arg.
> 
> Having the Adel() in all the above case to delete the first array element is quite unreasonable, primarily because such an action is undocumented. To be fair this is not a Harbour only "feature". Clipper behaves exactly the same here!

And here you answered the question. ADEL() is a Clipper 
compatibility function, so it's expected to behave exactly 
the same way as in Clipper, regardless of what we think 
about some of that behavior.

> And while talking about adel() i think the name ADEL is rather
> misleading, since the function does NOT actually delete elements,
> but rather nullifies them, and you have to use asize()[*] to achieve
> what you probably wanted to do. Perhaps ANUL() would be a more precise name
> but i think it's a little late now to rename it <g>.

ADEL() does delete the element, it just doesn't resize 
the array, so you will always get a NIL at the end of the 
array. It's not the same as 'array[ n ] := NIL'. For me 
ANUL() (or rather ANIL()) suggest that it will replace 
whole array with NIL values, of course this is personal 
opinion.

> __________________________________________________________________
> [*] I am aware of HB_ADEL() function, that accepts a 3rd parameter (boolean) by which you can eventually "adjust" the array size without the need of calling asize(). This is a good thing. The "bad" things are that HB_adel() stands in the shade of adel() (due to lack of documentation) while the above remarks about ADEL() apply also for HB_ADEL too.

Anyone is welcome to document it and post the result to 
this list. You can find the format here:
   http://lists.harbour-project.org/pipermail/harbour/2010-February/032883.html

Brgds,
Viktor

From carozodequilmes at gmail.com  Sat Mar 13 07:40:49 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Sat Mar 13 07:41:01 2010
Subject: [Harbour] Re: QAplication and TRACE
In-Reply-To: <1268433074312-4724847.post@n2.nabble.com>
References: <578c73341003121258i1e08b6ddleec449607e1014d1@mail.gmail.com>
	<1268433074312-4724847.post@n2.nabble.com>
Message-ID: <578c73341003130440med1bbf5k1433bd7441282e9b@mail.gmail.com>

Hi Pritpal, many thanks !!!!!

Regards
CdQ

On Fri, Mar 12, 2010 at 7:31 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, can you remove or suspend the followed traces from HBQT ??
> >
> > QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 00D5835C
> >
> > QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 00000000
> >
> >
>
> Please check after r14148.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/QAplication-and-TRACE-tp4724413p4724847.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100313/e650633d/attachment.html
From carozodequilmes at gmail.com  Sat Mar 13 08:02:37 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Sat Mar 13 08:02:49 2010
Subject: [Harbour] Redirect STDOUT
In-Reply-To: <674e4ddd1003101207t64d381d1pdbf1b9f60d67d409@mail.gmail.com>
References: <578c73341003101203u31ffdfb3i9b9fc7da6aacc669@mail.gmail.com>
	<674e4ddd1003101207t64d381d1pdbf1b9f60d67d409@mail.gmail.com>
Message-ID: <578c73341003130502y1dc4fef2p5f61e627ded7aa94@mail.gmail.com>

Hi smu, many thanks for your help but it don't respond my question.  I will
make a pure Harbour sample and I will send my question again.

Thanks and regards
CdQ

On Wed, Mar 10, 2010 at 5:07 PM, smu johnson <smujohnson@gmail.com> wrote:

> Take a look at this example that is working
>
>     #include "Fileio.ch
>
>     IF (nHandle := FCREATE(VERSION_FILE, FC_NORMAL)) == -1
>       ? VERSION_FILE + " cannot be created:", FERROR()
>       BREAK
>     ELSE
>       cString := "// " + cBm_now + CRLF
>       cString += "func BM_Versio()" + CRLF
>       cString += "  return " + DOUBLE_QUOTE + cBm_now + DOUBLE_QUOTE + CRLF
>
>       FWRITE(nHandle, cString)
>       FCLOSE(nHandle)
>       ? "Wrote to: " + VERSION_FILE
>     ENDIF
>
>
>
> On Wed, Mar 10, 2010 at 12:03 PM, CarozoDeQuilmes <
> carozodequilmes@gmail.com> wrote:
>
>> Hi, in an old project, I have a little C ansi program (found in Internet
>> or in the MiniGUI, I don't remmeber) that execute and executable file and
>> redirect the standard output to file.
>>
>> The C program run fine and trap Standard Output from another C program
>> that made:
>>
>> fprintf( stdout , 'hello' );
>>
>> but I can't redirect (or trap) the "?" (or QOUT) command from a Harbour
>> program.
>>
>> Is this true or I'm wrong ???
>>
>> Thanks in advance and sorry by my bad english
>>
>> CdQ
>>
>> Program C:
>>
>> */* Copyright (C) 1998 DJ Delorie, see COPYING.DJ for details */*
>> */* Copyright (C) 1995 DJ Delorie, see COPYING.DJ for details */*
>> */**
>> *
>> *
>> *   Redir 2.0 Copyright (C) 1995-1998 DJ Delorie (dj@delorie.com)*
>> *   Modified 1999 by Mumit Khan <khan@xraylith.wisc.edu>*
>> *
>> *
>> *   Redir is free software; you can redistribute it and/or modify it*
>> *   under the terms of the GNU General Public License as published by*
>> *   the Free Software Foundation; either version 2, or (at your option)*
>> *   any later version.*
>> *
>> *
>> *   Redir is distributed in the hope that it will be useful, but*
>> *   WITHOUT ANY WARRANTY; without even the implied warranty of*
>> *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU*
>> *   General Public License for more details.*
>> *
>> *
>> **/*
>> *
>> *
>> *#include <ctype.h>*
>> *#include <errno.h>*
>> *#include <fcntl.h>*
>> *#include <process.h>*
>> *#include <stdio.h>*
>> *#include <stdlib.h>*
>> *#include <string.h>*
>> *#include "US_Log.h"*
>> *
>> *
>> */* Here's the deal.  We need to pass the command-line arguments to the*
>> *   child program *exactly* as we got them.  This means we cannot allow*
>> *   any wildcard expansion, we need to retain any quote characters, and*
>> *   we need to disable response files processing.  That's why we must*
>> *   link with CRT_noglob.o!  */*
>> *
>> *
>> *void xmalloc_failed(size_t size)*
>> *{*
>> *  fprintf(stderr, "Out of memory allocating %lu bytes\n", (unsigned
>> long) size);*
>> *  exit(1);*
>> *}*
>> *
>> *
>> *void *xmalloc (size_t size)*
>> *{*
>> *  void *newmem;*
>> *
>> *
>> *  if (size == 0)*
>> *    size = 1;*
>> *  newmem = malloc (size);*
>> *  if (!newmem)*
>> *    xmalloc_failed (size);*
>> *
>> *
>> *  return (newmem);*
>> *}*
>> *
>> *
>> *void *xrealloc(void *oldmem, size_t size)*
>> *{*
>> *  void *newmem;*
>> *
>> *
>> *  if (size == 0)*
>> *    size = 1;*
>> *  if (!oldmem)*
>> *    newmem = malloc (size);*
>> *  else*
>> *    newmem = realloc (oldmem, size);*
>> *  if (!newmem)*
>> *    xmalloc_failed (size);*
>> *
>> *
>> *  return (newmem);*
>> *}*
>> *
>> *
>> *int display_exit_code=0;*
>> *int std_err_fid;*
>> *FILE *std_err;*
>> *int rv;*
>> *
>> *
>> *static void*
>> *usage(void)*
>> *{*
>> *  /*
>> ----+----1----+----2----+----3----+----4----+----5----+----6----+----7----+----8
>> */*
>> *  fprintf(stderr, "Redir 2.0 Copyright (C) 1995 - 1998 DJ Delorie (
>> dj@delorie.com)\n");*
>> *  fprintf(stderr, "Modified 1999 for Mingw32 by Mumit Khan <
>> khan@xraylith.wisc.edu>\n");*
>> *  fprintf(stderr, "Distribute freely.  There is NO WARRANTY.\n");*
>> *  fprintf(stderr, "This program is protected by the GNU General Public
>> License.\n\n");*
>> *  fprintf(stderr, "Usage: redir [-i file] [-o file] [-oa file] [-e file]
>> [-ea file]\n");*
>> *  fprintf(stderr, "                [-eo] [-oe] [-x] command [args . .
>> .]\n\n");*
>> *  fprintf(stderr, "  -i file   redirect stdandard input from file\n");*
>> *  fprintf(stderr, "  -o file   redirect standard output to file\n");*
>> *  fprintf(stderr, "  -oa file  append standard output to file\n");*
>> *  fprintf(stderr, "  -e file   redirect standard error to file\n");*
>> *  fprintf(stderr, "  -ea file  append standard error to file\n");*
>> *  fprintf(stderr, "  -eo       redirect standard error to standard
>> output\n");*
>> *  fprintf(stderr, "  -oe       redirect standard output to standard
>> error\n");*
>> *  fprintf(stderr, "  -x        print exit code\n");*
>> *  fprintf(stderr, "  command   the program you want to run, with
>> arguments\n\n");*
>> *  fprintf(stderr, "Options are processed in the order they are
>> encountered.\n\n");*
>> *  exit(1);*
>> *}*
>> *
>> *
>> *static void*
>> *fatal(const char *msg, const char *fn)*
>> *{*
>> *  fprintf(std_err, msg, fn);*
>> *  fprintf(std_err, "\nThe error was: %s\n", strerror(errno));*
>> *  exit(1);*
>> *}*
>> *
>> *
>> *static void*
>> *unquote(const char *src, char *dst)*
>> *{*
>> *  int quote=0;*
>> *
>> *
>> *  while ((quote || !isspace(*src)) && *src)*
>> *  {*
>> *    if (quote && *src == quote)*
>> *    {*
>> *      quote = 0;*
>> *      src++;*
>> *    }*
>> *    else if (!quote && (*src == '\'' || *src == '"'))*
>> *    {*
>> *      quote = *src;*
>> *      src++;*
>> *    }*
>> *    else if (*src == '\\' && strchr("'\"", src[1]) && src[1])*
>> *    {*
>> *      src++;*
>> *      *dst++ = *src++;*
>> *    }*
>> *    else*
>> *    {*
>> *      *dst++ = *src++;*
>> *    }*
>> *  }*
>> *  *dst = '\0';*
>> *}*
>> *
>> *
>> *static char **
>> *unquoted_argv(int argc, char *argv[], char *reuse)*
>> *{*
>> *  char *new_arg;*
>> *
>> *
>> *  if (reuse)*
>> *    new_arg = (char *)xrealloc(reuse, strlen(argv[argc]) + 1);*
>> *  else*
>> *    new_arg = (char *)xmalloc(strlen(argv[argc]) + 1);*
>> *  unquote(argv[argc], new_arg);*
>> *  return new_arg;*
>> *}*
>> *
>> *
>> *static int*
>> *run_program(int argc, char *argv[])*
>> *{*
>> *  return spawnvp (P_WAIT, argv[1], argv+1);*
>> *}*
>> *
>> *
>> *int*
>> *main(int argc, char **argv)*
>> *{*
>> *  char *arg1 = NULL, *arg2 = NULL;*
>> *
>> *
>> *  if (argc < 2)*
>> *    usage();*
>> *
>> *
>> *  std_err_fid = dup(1);*
>> *  std_err = fdopen(std_err_fid, "w");*
>> *
>> *
>> *  /* US_log( "US_Redir by CdQ" );  */*
>> *
>> *
>> *  /* We requested that the startup code retains any quote characters*
>> *     in the argv[] elements.  So we need to unquote those that we*
>> *     process as we go.  */*
>> *  while (argc > 1 && (arg1 = unquoted_argv(1, argv, arg2))[0] == '-')*
>> *  {*
>> *    int temp;*
>> *    if (strcmp(arg1, "-i")==0 && argc > 2)*
>> *    {*
>> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
>> *                       O_RDONLY, 0666)) < 0*
>> *          || dup2(temp, 0) == -1)*
>> *        fatal("redir: attempt to redirect stdin from %s failed", arg2);*
>> *      close(temp);*
>> *      argc--;*
>> *      argv++;*
>> *    }*
>> *    else if (strcmp(arg1, "-o")==0 && argc > 2)*
>> *    {*
>> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
>> *                       O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0*
>> *          || dup2(temp, 1) == -1)*
>> *        fatal("redir: attempt to redirect stdout to %s failed", arg2);*
>> *      close(temp);*
>> *      argc--;*
>> *      argv++;*
>> *    }*
>> *    else if (strcmp(arg1, "-oa")==0 && argc > 2)*
>> *    {*
>> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
>> *                       O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0*
>> *          || dup2(temp, 1) == -1)*
>> *        fatal("redir: attempt to append stdout to %s failed", arg2);*
>> *      close(temp);*
>> *      argc--;*
>> *      argv++;*
>> *    }*
>> *    else if (strcmp(arg1, "-e")==0 && argc > 2)*
>> *    {*
>> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
>> *                       O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0*
>> *          || dup2(temp, 2) == -1)*
>> *        fatal("redir: attempt to redirect stderr to %s failed", arg2);*
>> *      close(temp);*
>> *      argc--;*
>> *      argv++;*
>> *    }*
>> *    else if (strcmp(arg1, "-ea")==0 && argc > 2)*
>> *    {*
>> *      if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),*
>> *                       O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0*
>> *          || dup2(temp, 2) == -1)*
>> *        fatal("redir: attempt to append stderr to %s failed", arg2);*
>> *      close(temp);*
>> *      argc--;*
>> *      argv++;*
>> *    }*
>> *    else if (strcmp(arg1, "-eo")==0)*
>> *    {*
>> *      if (dup2(1,2) == -1)*
>> *        fatal("redir: attempt to redirect stderr to stdout failed", 0);*
>> *    }*
>> *    else if (strcmp(arg1, "-oe")==0)*
>> *    {*
>> *      if (dup2(2,1) == -1)*
>> *        fatal("redir: attempt to redirect stdout to stderr failed", 0);*
>> *    }*
>> *    else if (strcmp(arg1, "-x")==0)*
>> *    {*
>> *      display_exit_code = 1;*
>> *    }*
>> *    else*
>> *      usage();*
>> *    argc--;*
>> *    argv++;*
>> *  }*
>> *
>> *
>> *  if (argc <= 1)*
>> *  {*
>> *    errno = EINVAL;*
>> *    fatal("Missing program name; aborting", "");*
>> *  }*
>> *
>> *
>> *  rv = run_program(argc, argv);*
>> *
>> *
>> *  if (rv < 0)*
>> *    fatal("Error attempting to run program %s", argv[1]);*
>> *
>> *
>> *  if (display_exit_code)*
>> *  {*
>> *    fprintf(std_err, "Exit code: %d\n", rv);*
>> *  }*
>> *
>> *
>> *  return rv;*
>> *}*
>>
>>
>> ==============================================================
>> END PROGRAM
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100313/051f693a/attachment-0001.html
From harbour.01 at syenar.hu  Sat Mar 13 08:12:27 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 13 08:12:39 2010
Subject: [Harbour] Redirect STDOUT
In-Reply-To: <578c73341003130502y1dc4fef2p5f61e627ded7aa94@mail.gmail.com>
References: <578c73341003101203u31ffdfb3i9b9fc7da6aacc669@mail.gmail.com>
	<674e4ddd1003101207t64d381d1pdbf1b9f60d67d409@mail.gmail.com>
	<578c73341003130502y1dc4fef2p5f61e627ded7aa94@mail.gmail.com>
Message-ID: <B13B058A-C485-4E37-8D1A-8BC2FB49B426@syenar.hu>

Hi,

This has been asked and answered a few days ago:
    http://lists.harbour-project.org/pipermail/harbour/2010-March/033534.html

Anyway it belongs to user's list.

Brgds,
Viktor

On 2010 Mar 13, at 14:02, CarozoDeQuilmes wrote:

> Hi smu, many thanks for your help but it don't respond my question.  I will make a pure Harbour sample and I will send my question again.
> 
> Thanks and regards
> CdQ
> 
> On Wed, Mar 10, 2010 at 5:07 PM, smu johnson <smujohnson@gmail.com> wrote:
> Take a look at this example that is working
> 
>     #include "Fileio.ch
> 
>     IF (nHandle := FCREATE(VERSION_FILE, FC_NORMAL)) == -1
>       ? VERSION_FILE + " cannot be created:", FERROR()
>       BREAK
>     ELSE
>       cString := "// " + cBm_now + CRLF
>       cString += "func BM_Versio()" + CRLF
>       cString += "  return " + DOUBLE_QUOTE + cBm_now + DOUBLE_QUOTE + CRLF
> 
>       FWRITE(nHandle, cString)
>       FCLOSE(nHandle)
>       ? "Wrote to: " + VERSION_FILE
>     ENDIF
> 
> 
> 
> On Wed, Mar 10, 2010 at 12:03 PM, CarozoDeQuilmes <carozodequilmes@gmail.com> wrote:
> Hi, in an old project, I have a little C ansi program (found in Internet or in the MiniGUI, I don't remmeber) that execute and executable file and redirect the standard output to file.
> 
> The C program run fine and trap Standard Output from another C program that made:
> 
> fprintf( stdout , 'hello' );
> 
> but I can't redirect (or trap) the "?" (or QOUT) command from a Harbour program.
> 
> Is this true or I'm wrong ???
> 
> Thanks in advance and sorry by my bad english
> 
> CdQ
> 
> Program C:
> 
> /* Copyright (C) 1998 DJ Delorie, see COPYING.DJ for details */
> /* Copyright (C) 1995 DJ Delorie, see COPYING.DJ for details */
> /*
> 
>    Redir 2.0 Copyright (C) 1995-1998 DJ Delorie (dj@delorie.com)
>    Modified 1999 by Mumit Khan <khan@xraylith.wisc.edu>
> 
>    Redir is free software; you can redistribute it and/or modify it
>    under the terms of the GNU General Public License as published by
>    the Free Software Foundation; either version 2, or (at your option)
>    any later version.
> 
>    Redir is distributed in the hope that it will be useful, but
>    WITHOUT ANY WARRANTY; without even the implied warranty of
>    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
>    General Public License for more details.
> 
> */
> 
> #include <ctype.h>
> #include <errno.h>
> #include <fcntl.h>
> #include <process.h>
> #include <stdio.h>
> #include <stdlib.h>
> #include <string.h>
> #include "US_Log.h"
> 
> /* Here's the deal.  We need to pass the command-line arguments to the
>    child program *exactly* as we got them.  This means we cannot allow
>    any wildcard expansion, we need to retain any quote characters, and
>    we need to disable response files processing.  That's why we must
>    link with CRT_noglob.o!  */
> 
> void xmalloc_failed(size_t size)
> {
>   fprintf(stderr, "Out of memory allocating %lu bytes\n", (unsigned long) size);
>   exit(1);
> }
> 
> void *xmalloc (size_t size)
> {
>   void *newmem;
> 
>   if (size == 0)
>     size = 1;
>   newmem = malloc (size);
>   if (!newmem)
>     xmalloc_failed (size);
> 
>   return (newmem);
> }
> 
> void *xrealloc(void *oldmem, size_t size)
> {
>   void *newmem;
> 
>   if (size == 0)
>     size = 1;
>   if (!oldmem)
>     newmem = malloc (size);
>   else
>     newmem = realloc (oldmem, size);
>   if (!newmem)
>     xmalloc_failed (size);
> 
>   return (newmem);
> }
> 
> int display_exit_code=0;
> int std_err_fid;
> FILE *std_err;
> int rv;
> 
> static void
> usage(void)
> {
>   /*               ----+----1----+----2----+----3----+----4----+----5----+----6----+----7----+----8 */
>   fprintf(stderr, "Redir 2.0 Copyright (C) 1995 - 1998 DJ Delorie (dj@delorie.com)\n");
>   fprintf(stderr, "Modified 1999 for Mingw32 by Mumit Khan <khan@xraylith.wisc.edu>\n");
>   fprintf(stderr, "Distribute freely.  There is NO WARRANTY.\n");
>   fprintf(stderr, "This program is protected by the GNU General Public License.\n\n");
>   fprintf(stderr, "Usage: redir [-i file] [-o file] [-oa file] [-e file] [-ea file]\n");
>   fprintf(stderr, "                [-eo] [-oe] [-x] command [args . . .]\n\n");
>   fprintf(stderr, "  -i file   redirect stdandard input from file\n");
>   fprintf(stderr, "  -o file   redirect standard output to file\n");
>   fprintf(stderr, "  -oa file  append standard output to file\n");
>   fprintf(stderr, "  -e file   redirect standard error to file\n");
>   fprintf(stderr, "  -ea file  append standard error to file\n");
>   fprintf(stderr, "  -eo       redirect standard error to standard output\n");
>   fprintf(stderr, "  -oe       redirect standard output to standard error\n");
>   fprintf(stderr, "  -x        print exit code\n");
>   fprintf(stderr, "  command   the program you want to run, with arguments\n\n");
>   fprintf(stderr, "Options are processed in the order they are encountered.\n\n");
>   exit(1);
> }
> 
> static void
> fatal(const char *msg, const char *fn)
> {
>   fprintf(std_err, msg, fn);
>   fprintf(std_err, "\nThe error was: %s\n", strerror(errno));
>   exit(1);
> }
> 
> static void
> unquote(const char *src, char *dst)
> {
>   int quote=0;
> 
>   while ((quote || !isspace(*src)) && *src)
>   {
>     if (quote && *src == quote)
>     {
>       quote = 0;
>       src++;
>     }
>     else if (!quote && (*src == '\'' || *src == '"'))
>     {
>       quote = *src;
>       src++;
>     }
>     else if (*src == '\\' && strchr("'\"", src[1]) && src[1])
>     {
>       src++;
>       *dst++ = *src++;
>     }
>     else
>     {
>       *dst++ = *src++;
>     }
>   }
>   *dst = '\0';
> }
> 
> static char *
> unquoted_argv(int argc, char *argv[], char *reuse)
> {
>   char *new_arg;
> 
>   if (reuse)
>     new_arg = (char *)xrealloc(reuse, strlen(argv[argc]) + 1);
>   else
>     new_arg = (char *)xmalloc(strlen(argv[argc]) + 1);
>   unquote(argv[argc], new_arg);
>   return new_arg;
> }
> 
> static int
> run_program(int argc, char *argv[])
> {
>   return spawnvp (P_WAIT, argv[1], argv+1);
> }
> 
> int
> main(int argc, char **argv)
> {
>   char *arg1 = NULL, *arg2 = NULL;
> 
>   if (argc < 2)
>     usage();
> 
>   std_err_fid = dup(1);
>   std_err = fdopen(std_err_fid, "w");
> 
>   /* US_log( "US_Redir by CdQ" );  */
> 
>   /* We requested that the startup code retains any quote characters
>      in the argv[] elements.  So we need to unquote those that we
>      process as we go.  */
>   while (argc > 1 && (arg1 = unquoted_argv(1, argv, arg2))[0] == '-')
>   {
>     int temp;
>     if (strcmp(arg1, "-i")==0 && argc > 2)
>     {
>       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
>                        O_RDONLY, 0666)) < 0
>           || dup2(temp, 0) == -1)
>         fatal("redir: attempt to redirect stdin from %s failed", arg2);
>       close(temp);
>       argc--;
>       argv++;
>     }
>     else if (strcmp(arg1, "-o")==0 && argc > 2)
>     {
>       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
>                        O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0
>           || dup2(temp, 1) == -1)
>         fatal("redir: attempt to redirect stdout to %s failed", arg2);
>       close(temp);
>       argc--;
>       argv++;
>     }
>     else if (strcmp(arg1, "-oa")==0 && argc > 2)
>     {
>       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
>                        O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0
>           || dup2(temp, 1) == -1)
>         fatal("redir: attempt to append stdout to %s failed", arg2);
>       close(temp);
>       argc--;
>       argv++;
>     }
>     else if (strcmp(arg1, "-e")==0 && argc > 2)
>     {
>       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
>                        O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0
>           || dup2(temp, 2) == -1)
>         fatal("redir: attempt to redirect stderr to %s failed", arg2);
>       close(temp);
>       argc--;
>       argv++;
>     }
>     else if (strcmp(arg1, "-ea")==0 && argc > 2)
>     {
>       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
>                        O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0
>           || dup2(temp, 2) == -1)
>         fatal("redir: attempt to append stderr to %s failed", arg2);
>       close(temp);
>       argc--;
>       argv++;
>     }
>     else if (strcmp(arg1, "-eo")==0)
>     {
>       if (dup2(1,2) == -1)
>         fatal("redir: attempt to redirect stderr to stdout failed", 0);
>     }
>     else if (strcmp(arg1, "-oe")==0)
>     {
>       if (dup2(2,1) == -1)
>         fatal("redir: attempt to redirect stdout to stderr failed", 0);
>     }
>     else if (strcmp(arg1, "-x")==0)
>     {
>       display_exit_code = 1;
>     }
>     else
>       usage();
>     argc--;
>     argv++;
>   }
> 
>   if (argc <= 1)
>   {
>     errno = EINVAL;
>     fatal("Missing program name; aborting", "");
>   }
> 
>   rv = run_program(argc, argv);
> 
>   if (rv < 0)
>     fatal("Error attempting to run program %s", argv[1]);
> 
>   if (display_exit_code)
>   {
>     fprintf(std_err, "Exit code: %d\n", rv);
>   }
> 
>   return rv;
> }
> 
> 
> ==============================================================
> END PROGRAM
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Mar 13 08:55:30 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 13 08:55:41 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>
References: <609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>
	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>
	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>
	<20100310154326.GA26528@linux-4bod.home.aster.pl>
	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>
	<20100310194814.GA17585@linux-4bod.home.aster.pl>
	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
	<49CE19EA-7E9F-440D-8FA5-5E55F76B954F@syenar.hu>
	<2734A72F-9689-4533-B1C2-4ACCE424790B@syenar.hu>
	<20100311185024.GB31990@linux-4bod.home.aster.pl>
	<64FFB1D1-615A-4518-8DC3-FA0FC416D33A@syenar.hu>
Message-ID: <D2C294AD-F054-44B4-A269-9D1C2DC090B9@syenar.hu>

>> Finally I installed for tests GCC 4.5 (devel version)
>> and in C++ mode with -flto it gives also better results
>> then in C mode so it's potentially the fastest code.
>> I have to say that I vary like how the meta code is
>> implemented. Unlike other compilers GCC can be used
>> with LTO without any complicated settings and programmer
>> can easy control if he wants or not link time optimization
>> using one link time switch.
> 
> Sounds good, I will try 4.5.0 a bit later.

Tried. But.. -flto is not available in current mingw-w64 
and Equation Solution 4.5.0 builds :(

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Mar 13 09:07:14 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 13 09:07:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14157] trunk/harbour
Message-ID: <E1NqRzm-0001TE-Bv@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14157
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14157&view=rev
Author:   vszakats
Date:     2010-03-13 14:07:12 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 15:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * utils/hbmk2/hbmk2.prg
    + Added autodetection for Equation Solution mingw64 builds.

  * INSTALL
    + Added link to Equation Solution mingw releases.

  * src/vm/itemapi.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 13 11:27:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 13 11:27:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14158] trunk/harbour
Message-ID: <E1NqUBH-0005cq-Ht@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14158
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14158&view=rev
Author:   vszakats
Date:     2010-03-13 16:27:08 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 17:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + hbmainstd/hbmainwin lib is now added for mingw family
      to lib list also for static executables. It fixes the GPF
      at startup with Equation Solution mingw64 build. I hope
      it doesn't create any harm for other builds, it remains
      to be tested.
    % Disabled -fomit-frame-pointer for mingw64.

  * utils/hbformat/Makefile
  * utils/hbmk2/Makefile
  * utils/hbi18n/Makefile
  * utils/hbtest/Makefile
  * utils/hbrun/Makefile
  * config/win/mingw.mk
    % "HB_MAIN" logic eliminated from local make files and moved
      to mingw.mk only.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/utils/hbformat/Makefile
    trunk/harbour/utils/hbi18n/Makefile
    trunk/harbour/utils/hbmk2/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbrun/Makefile
    trunk/harbour/utils/hbtest/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 13 13:48:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 13 13:48:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14159] trunk/harbour
Message-ID: <E1NqWNj-0002Ip-Ei@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14159
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14159&view=rev
Author:   vszakats
Date:     2010-03-13 18:48:14 +0000 (Sat, 13 Mar 2010)

Log Message:
-----------
2010-03-13 19:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed autodetection of mingwarm, when Cygwin is also 
      in PATH (it is supposed to be there, as it is a 
      requirement for C compiler).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Sat Mar 13 15:42:58 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Sat Mar 13 15:43:06 2010
Subject: [Harbour] Redirect STDOUT
In-Reply-To: <B13B058A-C485-4E37-8D1A-8BC2FB49B426@syenar.hu>
References: <578c73341003101203u31ffdfb3i9b9fc7da6aacc669@mail.gmail.com>
	<674e4ddd1003101207t64d381d1pdbf1b9f60d67d409@mail.gmail.com>
	<578c73341003130502y1dc4fef2p5f61e627ded7aa94@mail.gmail.com>
	<B13B058A-C485-4E37-8D1A-8BC2FB49B426@syenar.hu>
Message-ID: <578c73341003131242v686ac4efyacd61aee3adc6e4@mail.gmail.com>

Hi Viktor, many thanks, it work fine !!!

Regards
CdQ

On Sat, Mar 13, 2010 at 10:12 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi,
>
> This has been asked and answered a few days ago:
>
> http://lists.harbour-project.org/pipermail/harbour/2010-March/033534.html
>
> Anyway it belongs to user's list.
>
> Brgds,
> Viktor
>
> On 2010 Mar 13, at 14:02, CarozoDeQuilmes wrote:
>
> > Hi smu, many thanks for your help but it don't respond my question.  I
> will make a pure Harbour sample and I will send my question again.
> >
> > Thanks and regards
> > CdQ
> >
> > On Wed, Mar 10, 2010 at 5:07 PM, smu johnson <smujohnson@gmail.com>
> wrote:
> > Take a look at this example that is working
> >
> >     #include "Fileio.ch
> >
> >     IF (nHandle := FCREATE(VERSION_FILE, FC_NORMAL)) == -1
> >       ? VERSION_FILE + " cannot be created:", FERROR()
> >       BREAK
> >     ELSE
> >       cString := "// " + cBm_now + CRLF
> >       cString += "func BM_Versio()" + CRLF
> >       cString += "  return " + DOUBLE_QUOTE + cBm_now + DOUBLE_QUOTE +
> CRLF
> >
> >       FWRITE(nHandle, cString)
> >       FCLOSE(nHandle)
> >       ? "Wrote to: " + VERSION_FILE
> >     ENDIF
> >
> >
> >
> > On Wed, Mar 10, 2010 at 12:03 PM, CarozoDeQuilmes <
> carozodequilmes@gmail.com> wrote:
> > Hi, in an old project, I have a little C ansi program (found in Internet
> or in the MiniGUI, I don't remmeber) that execute and executable file and
> redirect the standard output to file.
> >
> > The C program run fine and trap Standard Output from another C program
> that made:
> >
> > fprintf( stdout , 'hello' );
> >
> > but I can't redirect (or trap) the "?" (or QOUT) command from a Harbour
> program.
> >
> > Is this true or I'm wrong ???
> >
> > Thanks in advance and sorry by my bad english
> >
> > CdQ
> >
> > Program C:
> >
> > /* Copyright (C) 1998 DJ Delorie, see COPYING.DJ for details */
> > /* Copyright (C) 1995 DJ Delorie, see COPYING.DJ for details */
> > /*
> >
> >    Redir 2.0 Copyright (C) 1995-1998 DJ Delorie (dj@delorie.com)
> >    Modified 1999 by Mumit Khan <khan@xraylith.wisc.edu>
> >
> >    Redir is free software; you can redistribute it and/or modify it
> >    under the terms of the GNU General Public License as published by
> >    the Free Software Foundation; either version 2, or (at your option)
> >    any later version.
> >
> >    Redir is distributed in the hope that it will be useful, but
> >    WITHOUT ANY WARRANTY; without even the implied warranty of
> >    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
> >    General Public License for more details.
> >
> > */
> >
> > #include <ctype.h>
> > #include <errno.h>
> > #include <fcntl.h>
> > #include <process.h>
> > #include <stdio.h>
> > #include <stdlib.h>
> > #include <string.h>
> > #include "US_Log.h"
> >
> > /* Here's the deal.  We need to pass the command-line arguments to the
> >    child program *exactly* as we got them.  This means we cannot allow
> >    any wildcard expansion, we need to retain any quote characters, and
> >    we need to disable response files processing.  That's why we must
> >    link with CRT_noglob.o!  */
> >
> > void xmalloc_failed(size_t size)
> > {
> >   fprintf(stderr, "Out of memory allocating %lu bytes\n", (unsigned long)
> size);
> >   exit(1);
> > }
> >
> > void *xmalloc (size_t size)
> > {
> >   void *newmem;
> >
> >   if (size == 0)
> >     size = 1;
> >   newmem = malloc (size);
> >   if (!newmem)
> >     xmalloc_failed (size);
> >
> >   return (newmem);
> > }
> >
> > void *xrealloc(void *oldmem, size_t size)
> > {
> >   void *newmem;
> >
> >   if (size == 0)
> >     size = 1;
> >   if (!oldmem)
> >     newmem = malloc (size);
> >   else
> >     newmem = realloc (oldmem, size);
> >   if (!newmem)
> >     xmalloc_failed (size);
> >
> >   return (newmem);
> > }
> >
> > int display_exit_code=0;
> > int std_err_fid;
> > FILE *std_err;
> > int rv;
> >
> > static void
> > usage(void)
> > {
> >   /*
> ----+----1----+----2----+----3----+----4----+----5----+----6----+----7----+----8
> */
> >   fprintf(stderr, "Redir 2.0 Copyright (C) 1995 - 1998 DJ Delorie (
> dj@delorie.com)\n");
> >   fprintf(stderr, "Modified 1999 for Mingw32 by Mumit Khan <
> khan@xraylith.wisc.edu>\n");
> >   fprintf(stderr, "Distribute freely.  There is NO WARRANTY.\n");
> >   fprintf(stderr, "This program is protected by the GNU General Public
> License.\n\n");
> >   fprintf(stderr, "Usage: redir [-i file] [-o file] [-oa file] [-e file]
> [-ea file]\n");
> >   fprintf(stderr, "                [-eo] [-oe] [-x] command [args . .
> .]\n\n");
> >   fprintf(stderr, "  -i file   redirect stdandard input from file\n");
> >   fprintf(stderr, "  -o file   redirect standard output to file\n");
> >   fprintf(stderr, "  -oa file  append standard output to file\n");
> >   fprintf(stderr, "  -e file   redirect standard error to file\n");
> >   fprintf(stderr, "  -ea file  append standard error to file\n");
> >   fprintf(stderr, "  -eo       redirect standard error to standard
> output\n");
> >   fprintf(stderr, "  -oe       redirect standard output to standard
> error\n");
> >   fprintf(stderr, "  -x        print exit code\n");
> >   fprintf(stderr, "  command   the program you want to run, with
> arguments\n\n");
> >   fprintf(stderr, "Options are processed in the order they are
> encountered.\n\n");
> >   exit(1);
> > }
> >
> > static void
> > fatal(const char *msg, const char *fn)
> > {
> >   fprintf(std_err, msg, fn);
> >   fprintf(std_err, "\nThe error was: %s\n", strerror(errno));
> >   exit(1);
> > }
> >
> > static void
> > unquote(const char *src, char *dst)
> > {
> >   int quote=0;
> >
> >   while ((quote || !isspace(*src)) && *src)
> >   {
> >     if (quote && *src == quote)
> >     {
> >       quote = 0;
> >       src++;
> >     }
> >     else if (!quote && (*src == '\'' || *src == '"'))
> >     {
> >       quote = *src;
> >       src++;
> >     }
> >     else if (*src == '\\' && strchr("'\"", src[1]) && src[1])
> >     {
> >       src++;
> >       *dst++ = *src++;
> >     }
> >     else
> >     {
> >       *dst++ = *src++;
> >     }
> >   }
> >   *dst = '\0';
> > }
> >
> > static char *
> > unquoted_argv(int argc, char *argv[], char *reuse)
> > {
> >   char *new_arg;
> >
> >   if (reuse)
> >     new_arg = (char *)xrealloc(reuse, strlen(argv[argc]) + 1);
> >   else
> >     new_arg = (char *)xmalloc(strlen(argv[argc]) + 1);
> >   unquote(argv[argc], new_arg);
> >   return new_arg;
> > }
> >
> > static int
> > run_program(int argc, char *argv[])
> > {
> >   return spawnvp (P_WAIT, argv[1], argv+1);
> > }
> >
> > int
> > main(int argc, char **argv)
> > {
> >   char *arg1 = NULL, *arg2 = NULL;
> >
> >   if (argc < 2)
> >     usage();
> >
> >   std_err_fid = dup(1);
> >   std_err = fdopen(std_err_fid, "w");
> >
> >   /* US_log( "US_Redir by CdQ" );  */
> >
> >   /* We requested that the startup code retains any quote characters
> >      in the argv[] elements.  So we need to unquote those that we
> >      process as we go.  */
> >   while (argc > 1 && (arg1 = unquoted_argv(1, argv, arg2))[0] == '-')
> >   {
> >     int temp;
> >     if (strcmp(arg1, "-i")==0 && argc > 2)
> >     {
> >       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
> >                        O_RDONLY, 0666)) < 0
> >           || dup2(temp, 0) == -1)
> >         fatal("redir: attempt to redirect stdin from %s failed", arg2);
> >       close(temp);
> >       argc--;
> >       argv++;
> >     }
> >     else if (strcmp(arg1, "-o")==0 && argc > 2)
> >     {
> >       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
> >                        O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0
> >           || dup2(temp, 1) == -1)
> >         fatal("redir: attempt to redirect stdout to %s failed", arg2);
> >       close(temp);
> >       argc--;
> >       argv++;
> >     }
> >     else if (strcmp(arg1, "-oa")==0 && argc > 2)
> >     {
> >       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
> >                        O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0
> >           || dup2(temp, 1) == -1)
> >         fatal("redir: attempt to append stdout to %s failed", arg2);
> >       close(temp);
> >       argc--;
> >       argv++;
> >     }
> >     else if (strcmp(arg1, "-e")==0 && argc > 2)
> >     {
> >       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
> >                        O_WRONLY|O_CREAT|O_TRUNC, 0666)) < 0
> >           || dup2(temp, 2) == -1)
> >         fatal("redir: attempt to redirect stderr to %s failed", arg2);
> >       close(temp);
> >       argc--;
> >       argv++;
> >     }
> >     else if (strcmp(arg1, "-ea")==0 && argc > 2)
> >     {
> >       if ((temp = open(arg2 = unquoted_argv(2, argv, arg1),
> >                        O_WRONLY|O_APPEND|O_CREAT, 0666)) < 0
> >           || dup2(temp, 2) == -1)
> >         fatal("redir: attempt to append stderr to %s failed", arg2);
> >       close(temp);
> >       argc--;
> >       argv++;
> >     }
> >     else if (strcmp(arg1, "-eo")==0)
> >     {
> >       if (dup2(1,2) == -1)
> >         fatal("redir: attempt to redirect stderr to stdout failed", 0);
> >     }
> >     else if (strcmp(arg1, "-oe")==0)
> >     {
> >       if (dup2(2,1) == -1)
> >         fatal("redir: attempt to redirect stdout to stderr failed", 0);
> >     }
> >     else if (strcmp(arg1, "-x")==0)
> >     {
> >       display_exit_code = 1;
> >     }
> >     else
> >       usage();
> >     argc--;
> >     argv++;
> >   }
> >
> >   if (argc <= 1)
> >   {
> >     errno = EINVAL;
> >     fatal("Missing program name; aborting", "");
> >   }
> >
> >   rv = run_program(argc, argv);
> >
> >   if (rv < 0)
> >     fatal("Error attempting to run program %s", argv[1]);
> >
> >   if (display_exit_code)
> >   {
> >     fprintf(std_err, "Exit code: %d\n", rv);
> >   }
> >
> >   return rv;
> > }
> >
> >
> > ==============================================================
> > END PROGRAM
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100313/b061d297/attachment-0001.html
From fperillo at gmail.com  Sat Mar 13 17:55:14 2010
From: fperillo at gmail.com (francesco perillo)
Date: Sat Mar 13 17:55:23 2010
Subject: [Harbour] hbIDE - Let's review
In-Reply-To: <1268332620529-4717833.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
Message-ID: <6943770e1003131455y6e07513fv33efa24fdaabb36a@mail.gmail.com>

This morning I attended a visual studio 2010 presentation and the
speaker showed us the power of XNA framework (for game development).

He had a pane on the left with a list box containing "code snippets".
Double-clicking on one item made VS insert that code (multiline code,
only the first line shown in the listbox) in the source code. He used
this to insert a group of lines in order to explain us what they were
for....


I believe that this feature is nice and can be easily accomplished. To
populate the code snippet repository you can make a selection in the
source code and then drag it in the list box... only the first line is
shown in the list box.


----------------

On Friday I attented a Spring framework course, using Eclipse.... I
have to say that Eclipse is a very nice tool and its integration with
Java language is really good.
Today I also saw VS2010 in action and it is also a really good IDE.
Both have very powerfull "intellisense", syntax checking (no coloring,
real syntax checking)....

Now, can this feature be created in hbide ? ... actually a sort of
compiler is already present in a harbour compiled executable since you
may need to compile codeblock at runtime, so when CR button is pressed
and no ; at the EOL is present, we can pass the line to the compiler
and check for validity... you don't have to execute the code, just do
syntax checking
From fperillo at gmail.com  Sat Mar 13 18:01:33 2010
From: fperillo at gmail.com (francesco perillo)
Date: Sat Mar 13 18:01:42 2010
Subject: [Harbour] From array/hash to variables ?
Message-ID: <6943770e1003131501o376f9a4eleb0018a8ab7ad263@mail.gmail.com>

If I remember well, a couple of weeks ago there was a commit for a
function that enabled to pass from a array/hash to a set of
variables.. ex:
a["b"]=1
a["c"]=2

function( a )
and now two variables are present:
b=1 and c=2

Was it real or did I dream ?

If it was real, can it be used also for named parameter passing ?

There was a thread in the past for named parameter passing and a
little debate on the possible syntax... I learnt today that C#4 has
this new feature of named parameter passing in the form of:
calledfunction( par1: "pippo", par2: 5 )

Francesco
From mbelgrano at deltain.it  Sat Mar 13 18:04:28 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Mar 13 18:04:57 2010
Subject: [Harbour] hbIDE - Let's review
In-Reply-To: <6943770e1003131455y6e07513fv33efa24fdaabb36a@mail.gmail.com>
References: <1268332620529-4717833.post@n2.nabble.com>
	<6943770e1003131455y6e07513fv33efa24fdaabb36a@mail.gmail.com>
Message-ID: <609353e71003131504y7e2832f6of11dd3933afe734d@mail.gmail.com>

Imo the way is in debugger with incremental compilation will give powerfull
 intellisense
with debugger hbide will  know varname , function,class


2010/3/13 francesco perillo <fperillo@gmail.com>

> This morning I attended a visual studio 2010 presentation and the
> speaker showed us the power of XNA framework (for game development).
>
> He had a pane on the left with a list box containing "code snippets".
> Double-clicking on one item made VS insert that code (multiline code,
> only the first line shown in the listbox) in the source code. He used
> this to insert a group of lines in order to explain us what they were
> for....
>
>
> I believe that this feature is nice and can be easily accomplished. To
> populate the code snippet repository you can make a selection in the
> source code and then drag it in the list box... only the first line is
> shown in the list box.
>
>
> ----------------
>
> On Friday I attented a Spring framework course, using Eclipse.... I
> have to say that Eclipse is a very nice tool and its integration with
> Java language is really good.
> Today I also saw VS2010 in action and it is also a really good IDE.
> Both have very powerfull "intellisense", syntax checking (no coloring,
> real syntax checking)....
>
> Now, can this feature be created in hbide ? ... actually a sort of
> compiler is already present in a harbour compiled executable since you
> may need to compile codeblock at runtime, so when CR button is pressed
> and no ; at the EOL is present, we can pass the line to the compiler
> and check for validity... you don't have to execute the code, just do
> syntax checking
> _______________________________________________
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100314/dae9215b/attachment.html
From bedipritpal at hotmail.com  Sat Mar 13 19:19:10 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 13 19:19:18 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <6943770e1003131455y6e07513fv33efa24fdaabb36a@mail.gmail.com>
References: <1268332620529-4717833.post@n2.nabble.com>
	<6943770e1003131455y6e07513fv33efa24fdaabb36a@mail.gmail.com>
Message-ID: <1268525950820-4729754.post@n2.nabble.com>



francesco perillo wrote:
> 
> This morning I attended a visual studio 2010 presentation and the
> speaker showed us the power of XNA framework (for game development).
> 
> He had a pane on the left with a list box containing "code snippets".
> Double-clicking on one item made VS insert that code (multiline code,
> only the first line shown in the listbox) in the source code. He used
> this to insert a group of lines in order to explain us what they were
> for....
> 
> I believe that this feature is nice and can be easily accomplished. To
> populate the code snippet repository you can make a selection in the
> source code and then drag it in the list box... only the first line is
> shown in the list box.
> 

Current implementation #0:
-------------------------
   To create:
You open the "Snippets" dialog,
You create one with <Add New> and provide it a name,
A new entry is there in the list with blank snippet,
You typein the code or can <Get Selection>,
You need to <Update> to save it permanently.

   To execute:
You press CTRL+K, menu appears,
You select and snippet is inserted.

The proposed implementatio #1:
-------------------------------
   To create:
Keep #0 implementation as is, in addition
You select a snippet, 
Open context menu with right-click and select "Save as Snippet"
You are asked for a "Name" and that's it, does not matter dialog is open or
not.

   To execute:
Keep #0 implementation as is, in addition
Provide a list on the left dock area and in between "Projects" and "Editor
Tabs"
containing defined snippets.
You double click one and that is inserted.

Dragging the selection directly without a name is, IMO, very 
confusing and over the time you will loose control over it.
You always remember a name for longer periods.


The proposed implementatio #2:
-------------------------------
???




> On Friday I attented a Spring framework course, using Eclipse.... I
> have to say that Eclipse is a very nice tool and its integration with
> Java language is really good.
> Today I also saw VS2010 in action and it is also a really good IDE.
> Both have very powerfull "intellisense", syntax checking (no coloring,
> real syntax checking)....
> 
> Now, can this feature be created in hbide ? ... actually a sort of
> compiler is already present in a harbour compiled executable since you
> may need to compile codeblock at runtime, so when CR button is pressed
> and no ; at the EOL is present, we can pass the line to the compiler
> and check for validity... you don't have to execute the code, just do
> syntax checking
> 

This is quiet easy if it is only to see if it compiles.
This is what you are asking for ? If yes, then there are 
few facts which should be cleared beforehand:

1. How to handle
      IF abc == 212
      DO CASE
      DO WHILE abc < 100
   etc cases. Will these compile?
   Also multiline comments. I mean how to determine if 
   a line is macro compiled properly. Above will not compile, not tested,
   but are valid statements. How Eclipse handles them ?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4729754.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Mar 13 19:35:00 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 13 19:35:08 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <609353e71003120140t66e567ceq18652cc0b240224d@mail.gmail.com>
References: <1268332620529-4717833.post@n2.nabble.com>
	<609353e71003111149w2d20c667h6b0071035b0e3921@mail.gmail.com>
	<1268347768690-4719223.post@n2.nabble.com>
	<609353e71003120140t66e567ceq18652cc0b240224d@mail.gmail.com>
Message-ID: <1268526900751-4729793.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> I have proposted an array structure for collect
> Dynamic defined wizard for visual define Flag like follow screenshot
> starting from array/xml easy to define for hbide,harbour
> {"/a","automatic memvar"}
> {"/w","warning level",{ {"0","warning level0"},{"1","warning level1
> default"},{"0","warning level0"} } }
> {"/b","include debug info"}
> i can finish this array if in your opinion is good way
> If contain 3 dimension need a combobox and third dimension is used for
> validate
> easy extend to other language
> 
> http://old.nabble.com/Re:-SF.net-SVN:-harbour-project:-14049--trunk-harbour-p27767006.html
> 

Ok, you can proceed.
Also include "short description" to be presented 
when user hovers over the option plus the mode 
it will be fetched, i.e., Combo, edit, checkbox only.




> Having only opened project with his source (like xmate)
> Open recent file under request /button
> 

I could not follow you, explain in a better way.
I seems to be little dumb now-a-days.



> The capability are present in hbdebug.lib ,execute steep by
> step, breakpoint,whatch point,Inspect variables,Inspect workarea (dbf) but
> integrated in hbide to be more productive
> 

I am not yet concentrating on debugger at all.
More important things first.



>  will be xmate be a basic with clipper.env,xbase.env?
> 

This is the whole concept of hbide.env.
It needs to be extended the intelligent way.



> Opening via command line as hbide test.hbp .or hbide test.prg
> so hbide will be also registred to open hbp/prg
> 

Sorry, I do not like this approach.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Let-s-review-tp4717833p4729793.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Mar 13 19:36:58 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 13 19:37:08 2010
Subject: [Harbour] proposal: HB_PATH_MAX estension
Message-ID: <EA470CA0-E75B-44C2-9D0F-BCA3EFE906C5@syenar.hu>

Hi All,

The macro responsible to set maximum filename/path 
length in Harbour (HB_PATH_MAX) is now set to 264.

Modern systems can handle much more as maximum path 
length (f.e. Windows 32K chars).

Shouldn't we extend this Harbour constant to handle 
more?

There are few issues to take care of:
- This macro is used for both filename and pathname 
  max length in Harbour, maybe we should have two values 
  to fix that.
- Set this constant to different values depending on 
  platform.
- Many times the buffer is allocated on stack, we 
  may need to revise whether using larger buffers here 
  has any bad side-effect.
- Other?

Opinions are welcome!

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Mar 13 19:41:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 13 19:41:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14160] trunk/harbour
Message-ID: <E1NqbtL-0000Cw-L3@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14160
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14160&view=rev
Author:   vszakats
Date:     2010-03-14 00:41:14 +0000 (Sun, 14 Mar 2010)

Log Message:
-----------
2010-03-14 01:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/extrap.c
    ! Fixed to do UNICODE to "ANSI" conversion in module listing 
      code for WinCE platform. It'd be nice if a WinCE user 
      could test it.

  * src/rtl/filesys.c
    ! Silenced warning on newer mingwarm compilers about 
      unused function.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/vm/extrap.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Mar 13 19:44:31 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 13 19:44:40 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <1268526900751-4729793.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
	<609353e71003111149w2d20c667h6b0071035b0e3921@mail.gmail.com>
	<1268347768690-4719223.post@n2.nabble.com>
	<609353e71003120140t66e567ceq18652cc0b240224d@mail.gmail.com>
	<1268526900751-4729793.post@n2.nabble.com>
Message-ID: <975F36B6-FC7B-4B69-92C1-F0751A0CF46C@syenar.hu>

Hi,

>> Opening via command line as hbide test.hbp .or hbide test.prg
>> so hbide will be also registred to open hbp/prg
>> 
> 
> Sorry, I do not like this approach.

While I agree that it's not hbide's job to create 
registration/association (and it's an ugly as hell 
territory plus not portable), but IMO it's very useful 
if supported input files can be specified on the command 
line, especially the primary .hbp one, or simple source 
files. This makes it possible to integrate hbide 
into real user environments.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Sat Mar 13 22:15:56 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 13 22:16:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14161] trunk/harbour
Message-ID: <E1NqeJ2-00044l-Md@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14161
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14161&view=rev
Author:   vouchcac
Date:     2010-03-14 03:15:55 +0000 (Sun, 14 Mar 2010)

Log Message:
-----------
2010-03-13 19:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/gra.ch
  * contrib/hbxbp/Makefile
  * contrib/hbxbp/xbpgeneric.prg
  + contrib/hbxbp/xbpgra.prg
  * contrib/hbxbp/xbppresspace.prg
    + Added Gra*() skeleton functions.
    ! Extended XbpPresSpace() class to cover next round of implementation.

    ; NOTE: I am not been able to find a way to execute Gra*()
            functions on a widget's presentation ( device context )
            space. Qt documentation clearly indicates that this is 
            only possible from withing method QEvent::Paint of 
            concerned widget. And it is correct. Windows itself also
            does not allow to paint from outside of WM_PAINT message.
            However my experiments have led me to the conclusion that
            this is possible if every widget is subclasses and QEvent_Paint
            is method is implemented. This is a very tedious and 
            very error prone job. If anybody come across some sparkling
            idea how this can be achieved in a resonable way, please
            speak out.

            However on other devices, such as, printer and bitmaps these 
            functions will be working. In the first phase I will implement
            it for printing only, later for widgets.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/hbxbp/gra.ch
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbppresspace.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbxbp/xbpgra.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From wcshum88 at hotmail.com  Sun Mar 14 01:37:35 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sun Mar 14 01:37:43 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14161] trunk/harbour
In-Reply-To: <E1NqeJ2-00044l-Md@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NqeJ2-00044l-Md@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <1268548655725-4730784.post@n2.nabble.com>



Hi Pritpal Bedi,


>In the first phase I will implement it for printing only, later for
widgets.

Many thanks for adding GRA... functions ...
Even it cannot work (at this time),  I can continue the Xbase++ to Harbour
porting ...
Thanks again !

Now most of the undefined reference to 'HB_FUN_GRA...  eror gone during my
compilation for my application...

1.) However, undefined reference to HB_FUN_GRASAVESCREEN' still there ...
     Would you please add the GraSaveScreen(...) also ....

2.) and there is another error as follow: 
D:/hb20/lib/win/mingw/libhbxbp.a(xbpgra.o):xbpgra.c:(.data+0x38): undefined
reference to `HB_FUN_HB_SYMBOL_UNUSED


Shum


-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14161-trunk-harbour-tp4730266p4730784.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From fperillo at gmail.com  Sun Mar 14 03:23:00 2010
From: fperillo at gmail.com (francesco perillo)
Date: Sun Mar 14 03:23:08 2010
Subject: [Harbour] Re: hbIDE - Let's review
In-Reply-To: <1268525950820-4729754.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
	<6943770e1003131455y6e07513fv33efa24fdaabb36a@mail.gmail.com>
	<1268525950820-4729754.post@n2.nabble.com>
Message-ID: <6943770e1003132323k2dd236cao7fba0c71937e8867@mail.gmail.com>

On Sun, Mar 14, 2010 at 1:19 AM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:

> You always remember a name for longer periods.

Tomorrow I will ask my co-workers to show me this feature... actually
I don't know if it is a built-in feature or a plugin... I will tell
you how it really works in VS to populate the code snippet list.

I see this code snippet repository something like a sort of clipboard
on steroids... something that should be really quick and easy to
use...

so don't ask a name for the code, just show the first non-blank line
and, optionally, give the possibility to assign a name to it...

Of course, code snippet repository must be saved between editing sessions....

>
>
> This is quiet easy if it is only to see if it compiles.

I keep thinking about it and I believe that harbour is a more
difficult code to parse real-time... not impossible, but difficult..

In java (I know very little of Java) a class must be contained in one
source file and they may call other classes that are in the same
package. In order to use classes from other packages you have to
"import" them. In Harbour you can have several classes in one source
code and there is no "package" concept...

Java is a typed language and variables must be declared before use, so
you if you have
static Object o;
when you type "o." in the editor the intellisense can show all the
proper method...
In harbour you may have valid code that is
o:method and o is never ever declared in the source file.... it may be
a public/private from some other place !
In C#4 ms  introduced the dynamic data type, a type-less variable type
and infact intellisense can't work on them !



> This is quiet easy if it is only to see if it compiles.
> This is what you are asking for ?

It may be a start....
>
> 1. How to handle
> ? ? ?IF abc == 212
> ? ? ?DO CASE
> ? ? ?DO WHILE abc < 100
> ? etc cases. Will these compile?

If you compile one line they should compile AS ONE LINE, they will not
in a file -level

> ? Also multiline comments. I mean how to determine if
> ? a line is macro compiled properly.
Macro is a .big. problem

> Above will not compile, not tested,
> ? but are valid statements. How Eclipse handles them ?

As I said they will compile as single lines, but when the compiler
reaches the EOF it will say that there is missing ENDIF, ENDCASE,
ENDDO...
Another point is that preprocessor mangle the source code and DO WHILE
-> while; ENDIF,ENDDO, ENDCASE -> end and so on... CLASS definition is
completely transformed in harbour code...
So, it's a real complicated matter...



It's not impossible but very difficult to achieve....
From vouchcac at users.sourceforge.net  Sun Mar 14 03:28:42 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Mar 14 03:28:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14162] trunk/harbour
Message-ID: <E1NqiFe-0006kc-Dw@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14162
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14162&view=rev
Author:   vouchcac
Date:     2010-03-14 07:28:41 +0000 (Sun, 14 Mar 2010)

Log Message:
-----------
2010-03-13 23:23 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpgra.prg
    + Added one more function.
    - HB_SYMBOL_UNUSED() => HBXBP_JUST()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpgra.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From wcshum88 at hotmail.com  Sun Mar 14 03:45:43 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sun Mar 14 03:45:50 2010
Subject: [Harbour] =?utf-8?q?RE=3A_Ask_for_more_Xbase++_compatible_fuctio?=
 =?utf-8?b?biBhbmQgY2xhc3MgLi7igI8=?=
In-Reply-To: <1268468727771-4726653.post@n2.nabble.com>
References: <1268451171621-4725917.post@n2.nabble.com>
	<1268468727771-4726653.post@n2.nabble.com>
Message-ID: <COL122-W2A8532455C0C1BE7831C6D82F0@phx.gbl>



Hi Pritpal,

 

I find some information on the internet for Qt drwaing

 

http://doc.trolltech.com/4.4/qt4-styles.html

 

http://cartan.cas.suffolk.edu/qtdocs/opengl-2dpainting.html

 

http://www.greyc.ensicaen.fr/ensicaen/Docs/Qt4/painting-basicdrawing.html

 

 

may help in maping gra function ....

 

 

Shum


 


Date: Sat, 13 Mar 2010 00:25:27 -0800
From: ml-node+4726653-57466668-334476@n2.nabble.com
To: wcshum88@hotmail.com
Subject: Re: Ask for more Xbase++ compatible fuction and class ..?




Shum wrote:
I hope you can add more Xbase++ function and or class as following: 
  
-Gra..() Function set (if possible)  or please point me how to map with hbqt for Gra drawing and setting ... 
: 
: 
-GraFont() 
-GraSetColor() 
-GraQueryTextBox() 
-GraSetAttrString() 
-GraStringAt() 
-GraGetRGBIntensity() I need a very small, bare minimum, example 
how above functions are used. Also two screen shots, 
before and after above calls. 
  



-XbpClipBoard  class and it's function Please check after r14155. 
  



-AppType() 
-NextTAppEvent() 
-LastAppEvent() 
 I will look into these functions. 

                 enjoy hbIDEing... 
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_




View message @ http://n2.nabble.com/Ask-for-more-Xbase-compatible-fuction-and-class-tp4725917p4726653.html 
To unsubscribe from Ask for more Xbase++ compatible fuction and class ..?, click here. 
 		 	   		  
_________________________________________________________________
Hotmail ?????????????????
https://signup.live.com/signup.aspx?id=60969
-- 
View this message in context: http://n2.nabble.com/Ask-for-more-Xbase-compatible-fuction-and-class-tp4725917p4730896.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sun Mar 14 06:49:04 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 14 06:49:13 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14163] trunk/harbour
Message-ID: <E1NqlNY-0006uJ-QM@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14163
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14163&view=rev
Author:   vszakats
Date:     2010-03-14 10:49:03 +0000 (Sun, 14 Mar 2010)

Log Message:
-----------
2010-03-14 11:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxbp/xbpgra.prg
    ! Fixed to use HB_SYMBOL_UNUSED() instead of wrong "HBXBP_JUST"
      solution, which is a real call with overhead. Std method to 
      suppress unused warnings in Harbour is HB_SYMBOL_UNUSED().
      Or, if some function are plain dummies, it's not necessary 
      to delcare any parameters.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpgra.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar 14 07:22:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 14 07:22:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14164] trunk/harbour
Message-ID: <E1Nqltf-0003Ux-3e@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14164
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14164&view=rev
Author:   vszakats
Date:     2010-03-14 11:22:12 +0000 (Sun, 14 Mar 2010)

Log Message:
-----------
2010-03-14 12:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/msvcarm.mk
  * utils/hbmk2/hbmk2.prg
    ! Added -D_ARM_ required by some MSVC releases.
      This caused compilation errors with some sources.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar 14 07:23:30 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 14 07:23:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14165]
	trunk/harbour/ChangeLog
Message-ID: <E1Nqlus-0003Wy-3m@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14165
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14165&view=rev
Author:   vszakats
Date:     2010-03-14 11:23:29 +0000 (Sun, 14 Mar 2010)

Log Message:
-----------
correction to chglog entry

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Mar 14 09:14:28 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 14 09:14:56 2010
Subject: [Harbour] hbIDE - Let's review
In-Reply-To: <1268332620529-4717833.post@n2.nabble.com>
References: <1268332620529-4717833.post@n2.nabble.com>
Message-ID: <609353e71003140614i34309ef1k6572add2988e3cd9@mail.gmail.com>

I have lost my works working with hbide :I have write my source, compiled,
not uderstand error different from my source
reloaded project restarting very early working ( The works was array flag
harbour/xharbour)

Follow my macro suggestion:
Save a project When compile a project  like xmate ,
Visual studio Allow compiled a project not saved (imo thanks temporary
files)
Implement Autosave that be rock gmail

2010/3/11 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hello Everybody
>
> Today, on 11Mar2010, hbIDE is 3 months and 24 days old,
> and it's time to look at it from different angles.
>
> I invite everybody to express himself as to
>
> what is left unfinished,
> what more is needed,
> what needs to be addressed again,
> in context to priorities and preferences.
>
> I am really eager to listen to you.
>
>
> --
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100314/6604e9aa/attachment.html
From jlcapel2 at gmail.com  Sun Mar 14 11:47:07 2010
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Sun Mar 14 11:47:15 2010
Subject: [Harbour] OT: Error building harbour for msvc 2008 ce
Message-ID: <ab2a7b4c1003140847v4a036527t23700df84e8f02e6@mail.gmail.com>

Hi all,

After yesterday's cvs I created harbour for MSVC 2008 (32bits).

Then I tried to create harbour libs for msvc 2008 ce but I have these
errors:

cl.exe   -I. -I../../../../../include -nologo -D_M_ARM -DARM -TP -W4 -wd4127
-Od
 -Os -Gy -EHsc- -DHB_LEGACY_TYPES_OFF  -DUNICODE -DUNDER_CE  -Fohbffind.obj
-c .
./../../hbffind.c
hbffind.c
C:\Program Files (x86)\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i\winnt.h
(384) : warning C4201: se ha utilizado una extensi?n no est?ndar :
struct/union
sin especificar
C:\Program Files (x86)\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i\winnt.h
(403) : warning C4201: se ha utilizado una extensi?n no est?ndar :
struct/union
sin especificar
C:\Program Files (x86)\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i\winnt.h
(2976) : error C2146: error de sintaxis : falta ';' delante del
identificador 'C
ontextRecord'
C:\Program Files (x86)\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i\winnt.h
(2976) : error C4430: falta el especificador de tipo; se presupone int.
Nota: C+
+ no admite default-int
C:\Program Files (x86)\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i\winnt.h
(2976) : error C4430: falta el especificador de tipo; se presupone int.
Nota: C+
+ no admite default-int

(and more)

These are the sets I use:


call "C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"

set INCLUDE=C:\Program Files (x86)\Microsoft Visual Studio
9.0\VC\ce\include;C:\Program Files (x86)\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i
set LIB=C:\Program Files (x86)\Microsoft Visual Studio
9.0\VC\ce\lib\armv4i;C:\Program Files (x86)\Windows Mobile 5.0 SDK
R2\PocketPC\Lib\ARMV4I
set PATH=e:\programacion_ant\hb_mvsc\bin;C:\Program Files (x86)\Microsoft
Visual Studio 9.0\VC\ce\bin\x86_arm;C:\Program Files (x86)\Microsoft Visual
Studio 8\Common7\IDE;%PATH%

SET HB_INSTALL_PREFIX=e:\programacion_ant\hb_msvcce
SET HB_CONTRIBLIBS=no
SET HB_CONTRIB_ADDONS=no
SET HB_EXTERNALLIBS=no


and then

win-make clean install

Can some one give some guidelines of how to solve this problem?

Many thanks,
Jos? Luis Capel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100314/fa6091cc/attachment-0001.html
From vszakats at users.sourceforge.net  Sun Mar 14 16:32:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 14 16:32:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14166] trunk/harbour
Message-ID: <E1NquUG-0001Fp-9J@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14166
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14166&view=rev
Author:   vszakats
Date:     2010-03-14 20:32:31 +0000 (Sun, 14 Mar 2010)

Log Message:
-----------
2010-03-14 21:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/fm.c
  * src/common/hbwince.c
  * include/hbwince.h
  * include/hbthread.h
  * contrib/hbct/ctnet.c
  * contrib/hbodbc/Makefile
  * contrib/xhb/hbserv.c
  * contrib/hbtpathy/tpwin.c
  * contrib/hbnf/getenvrn.c
  * contrib/rddsql/sddodbc/Makefile
  * contrib/hbwin/olecore.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_dlg.c
  * config/wce/msvcarm.mk
    + Added support for msvcarm 2008.

  * utils/hbmk2/hbmk2.prg
    ! Synced msvcarm dynlib creatino options with Harbour build.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/contrib/hbct/ctnet.c
    trunk/harbour/contrib/hbnf/getenvrn.c
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/win_dlg.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/xhb/hbserv.c
    trunk/harbour/include/hbthread.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/src/common/hbwince.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Mar 14 17:08:09 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 14 17:08:16 2010
Subject: [Harbour] hbMK2 - Uniform token to announce output file
Message-ID: <1268600889078-4733528.post@n2.nabble.com>


Hello Viktor

Currenly I employ the method below to pull executable path
from compile/link process:

   IF ::lLaunch
      cTmp := ::oOutputResult:oWidget:toPlainText()
      cExe := ""
      IF empty( cExe )
         cTkn := "hbmk2: Linking... "
         IF ( n := at( cTkn, cTmp ) ) > 0
            n1   := hb_at( ".exe", cTmp, n + len( cTkn ) )
            cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 4
)
         ENDIF
      ENDIF
      IF empty( cExe )
         cTkn := "hbmk2: Target up to date: "
         IF ( n := at( cTkn, cTmp ) ) > 0
            n1   := hb_at( ".exe", cTmp, n + len( cTkn ) )
            cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 4
)
         ENDIF
      ENDIF
      IF empty( cExe )
         cTkn := "-out:"
         IF ( n := at( cTkn, cTmp ) ) > 0
            n1   := hb_at( ".exe", cTmp, n + len( cTkn ) )
            cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 4
)
         ENDIF
      ENDIF

Can you provide a uniform token, say,
hbmk2: target path...  [C:\dev_projects\harbour\vouch\vouch.exe]



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbMK2-Uniform-token-to-announce-output-file-tp4733528p4733528.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sun Mar 14 17:35:43 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 14 17:35:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14167] trunk/harbour
Message-ID: <E1NqvTL-0004CU-It@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14167
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14167&view=rev
Author:   vszakats
Date:     2010-03-14 21:35:41 +0000 (Sun, 14 Mar 2010)

Log Message:
-----------
2010-03-14 22:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
    ! Fixed hbmk2 -lang option.

  * contrib/hbwin/win_prn1.c
    - Deleted comment no more necessary.

  * utils/hbmk2/hbmk2.prg
    + Added -width= option to set output width.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Mar 14 17:54:35 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 14 17:54:46 2010
Subject: [Harbour] hbMK2 - Uniform token to announce output file
In-Reply-To: <1268600889078-4733528.post@n2.nabble.com>
References: <1268600889078-4733528.post@n2.nabble.com>
Message-ID: <9263D2E3-1DC7-49DC-AF16-FC8D5885FC31@syenar.hu>

Hi Pritpal,

If you make such output parsing, make sure to always 
use '-lang=en' option when calling hbmk2, otherwise 
it won't work in localized (Portuguese and Hungarian 
currently) environments.

I've added -width= option, so if you now use it also 
when calling hbmk2 ('-width=999' f.e.), it won't 
split long lines, so you can simply look for LF char 
to find the end of the output filename, instead of 
looking for .exe. .exe is not good, because it's 
platform dependent.

'-out=' option parsing cannot reliably work, so I'd 
suggest to delete it:

---
  IF ::lLaunch
     cTmp := ::oOutputResult:oWidget:toPlainText()
     cExe := ""
     IF empty( cExe )
        cTkn := "hbmk2: Linking... "
        IF ( n := at( cTkn, cTmp ) ) > 0
           n1   := hb_at( Chr( 10 ), cTmp, n + len( cTkn ) )
           cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 1 )
        ENDIF
     ENDIF
     IF empty( cExe )
        cTkn := "hbmk2: Target up to date: "
        IF ( n := at( cTkn, cTmp ) ) > 0
           n1   := hb_at( Chr( 10 ), cTmp, n + len( cTkn ) )
           cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 1 )
        ENDIF
     ENDIF
     /* This won't work reliably, first because .exe is not a mandatory 
        part (in fact it should never be used if .hbp file is meant to be 
        portable), .exe is not portable, and the line may contain various 
        macros and filters and there may be multiple -opt options with 
        different filters. */
     #if 0
     IF empty( cExe )
        cTkn := "-out:"
        IF ( n := at( cTkn, cTmp ) ) > 0
           n1   := hb_at( ".exe", cTmp, n + len( cTkn ) )
           cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 4 )
        ENDIF
     ENDIF
     #endif
  ENDIF
---

Brgds,
Viktor

On 2010 Mar 14, at 22:08, Pritpal Bedi wrote:

> 
> Hello Viktor
> 
> Currenly I employ the method below to pull executable path
> from compile/link process:
> 
>   IF ::lLaunch
>      cTmp := ::oOutputResult:oWidget:toPlainText()
>      cExe := ""
>      IF empty( cExe )
>         cTkn := "hbmk2: Linking... "
>         IF ( n := at( cTkn, cTmp ) ) > 0
>            n1   := hb_at( ".exe", cTmp, n + len( cTkn ) )
>            cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 4
> )
>         ENDIF
>      ENDIF
>      IF empty( cExe )
>         cTkn := "hbmk2: Target up to date: "
>         IF ( n := at( cTkn, cTmp ) ) > 0
>            n1   := hb_at( ".exe", cTmp, n + len( cTkn ) )
>            cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 4
> )
>         ENDIF
>      ENDIF
>      IF empty( cExe )
>         cTkn := "-out:"
>         IF ( n := at( cTkn, cTmp ) ) > 0
>            n1   := hb_at( ".exe", cTmp, n + len( cTkn ) )
>            cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 4
> )
>         ENDIF
>      ENDIF
> 
> Can you provide a uniform token, say,
> hbmk2: target path...  [C:\dev_projects\harbour\vouch\vouch.exe]
> 
> 
> 
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context: http://n2.nabble.com/hbMK2-Uniform-token-to-announce-output-file-tp4733528p4733528.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From marcobra.ubuntu at gmail.com  Mon Mar 15 04:11:09 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Mar 15 04:11:18 2010
Subject: [Harbour] hbide Unrecoverable error 6005: Exception SIGSEGV on exit
Message-ID: <fd76479f1003150111j41e66ffdx97657a7f61ba814@mail.gmail.com>

Hi Pritpal, on Ubuntu 9.10 32bit hbide when i exit from hbide i get this
error:

idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS ================ xbeP_Close
QMainWindow::saveState(): 'objectName' not set for QToolBar 0x8d8fcc8 ''
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS ================ xbeP_Close after:
hbide_saveINI( Self )
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS ================ xbeP_Close after:
::oSM:closeAllSources()
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS
======================================================
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS Before    ::oDlg:destroy()
 0          0
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS

idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS                 ,,,,,,
 IdeEnvironments:destroy()          0
Object::disconnect: No such signal QTableWidget::itemDoubleClicked(
QTableWidgetItem *, int ) in ../../../hbqt_hbslots.cpp:286
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        101
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        102
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        103
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        101
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        102
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        103
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        101
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        102
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        103
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS <<<<<<<<<<
       XbpDialog:destroy    B                      >>>>>>>>>>
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        101
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        102
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        103
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS <<<<<<<<<<
       XbpDialog:destroy    E                      >>>>>>>>>>
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS

idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS After     ::oDlg:destroy()
 0          0
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS
======================================================
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS EXITING after destroy ....
 0          0
xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    begin
xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    end

Unrecoverable error 6005: Exception SIGSEGV at address 0x8

Thank you and best regards

-- 
Linux Infinite Freedom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100315/beff6225/attachment.html
From bedipritpal at hotmail.com  Mon Mar 15 04:40:46 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar 15 04:40:55 2010
Subject: [Harbour] Re: hbide Unrecoverable error 6005: Exception SIGSEGV on
	exit
In-Reply-To: <fd76479f1003150111j41e66ffdx97657a7f61ba814@mail.gmail.com>
References: <fd76479f1003150111j41e66ffdx97657a7f61ba814@mail.gmail.com>
Message-ID: <1268642446874-4735682.post@n2.nabble.com>


Hi Marco

This log has two entries of primary interest for me:

1. QMainWindow::saveState(): 'objectName' not set for QToolBar 0x8d8fcc8 ''
2. Object::disconnect: No such signal QTableWidget::itemDoubleClicked(
QTableWidgetItem *, int ) in ../../../hbqt_hbslots.cpp:286

1st one I know and have fixed.
2nd one is strange. This slot is always fired and is connected.
Why this entry is in the changelog ? Is Qt also dumb some debug info ?

Above both entries are from Qt's internals, rest all are executed from
hbIDE.

Though I do not know the cause, but may be 1st one has some connection to
it.
Thanks for the feedback.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-Unrecoverable-error-6005-Exception-SIGSEGV-on-exit-tp4735569p4735682.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Mon Mar 15 05:00:57 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 15 05:01:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14168] trunk/harbour
Message-ID: <E1Nr6AT-0002nM-0w@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14168
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14168&view=rev
Author:   vszakats
Date:     2010-03-15 09:00:55 +0000 (Mon, 15 Mar 2010)

Log Message:
-----------
2010-03-15 09:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbct/ctnet.c
  * contrib/hbtpathy/tpwin.c
  * contrib/hbnf/getenvrn.c
    ! Fixed to disable some functionality on all WinCE platforms.
      These were WinCE API functions wrongly declared in
      mingwarm/poccarm headers. (thus causing link-time errors
      for final apps trying to use these functions)

  * contrib/hbwin/win_dlg.c
    ! Enabled more functionality for WinCE. mingwarm builds
      will probably crash due to buggy commdlg.h header.

  * src/vm/fm.c
    ! Fixed to redefine ABORT for all wce/msvcarm targets.

  * utils/hbmk2/hbmk2.prg
    ! Minor typo in recently added help item.

  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.h
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_prn3.c
  * contrib/hbwin/win_dlg.c
  * contrib/hbodbc/odbc.c
  * contrib/rddsql/sddodbc/sddodbc.c
    ! Fixed to compile with -DWIN32_LEAN_AND_MEAN.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/hbct/ctnet.c
    trunk/harbour/contrib/hbnf/getenvrn.c
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/win_dlg.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_prn3.c
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcobra.ubuntu at gmail.com  Mon Mar 15 05:22:28 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Mar 15 05:22:36 2010
Subject: [Harbour] Re: hbide Unrecoverable error 6005: Exception SIGSEGV 
	on exit
In-Reply-To: <1268642446874-4735682.post@n2.nabble.com>
References: <fd76479f1003150111j41e66ffdx97657a7f61ba814@mail.gmail.com>
	<1268642446874-4735682.post@n2.nabble.com>
Message-ID: <fd76479f1003150222m206bc649n6ea8ed4cd6f5c4a3@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
ii  libattica0                                     0.1.2-0ubuntu2~karmic1~ppa1                            a Qt library that implements the Open Collab
ii  libdbusmenu-qt1                                0.2.2-0ubuntu2~karmic1~ppa1                            a Qt library that implements the DBusMenu sp
ii  libkexiv2-8                                    4:4.4.1-0ubuntu1~karmic1~ppa1                          Qt like interface for the libexiv2 library (
ii  libodbcinstq1c2                                2.2.11-16ubuntu1                                       Qt-based ODBC configuration library
ii  libphonon-dev                                  4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 Phonon library development files
ii  libphonon4                                     4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 Phonon module
ii  libpolkit-qt0                                  0.9.3-0ubuntu1~karmic1~ppa1                            PolicyKit-qt library
ii  libqca2                                        2.0.2-1ubuntu1                                         libraries for the Qt Cryptographic Architect
ii  libqt3-compat-headers                          3:3.3.8-b-5ubuntu3                                     Qt 1.x and 2.x compatibility includes
ii  libqt3-headers                                 3:3.3.8-b-5ubuntu3                                     Qt3 header files
ii  libqt3-mt                                      3:3.3.8-b-5ubuntu3                                     Qt GUI Library (Threaded runtime version), V
ii  libqt3-mt-dev                                  3:3.3.8-b-5ubuntu3                                     Qt development files (Threaded)
ii  libqt4-assistant                               4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 assistant module
ii  libqt4-dbus                                    4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 D-Bus module
ii  libqt4-designer                                4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 designer module
ii  libqt4-dev                                     4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 development files
ii  libqt4-gui                                     4:4.6.2-0ubuntu1~karmic1~ppa2                          transitional package for Qt 4 GUI runtime li
ii  libqt4-help                                    4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 help module
ii  libqt4-multimedia                              4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 Multimedia module
ii  libqt4-network                                 4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 network module
ii  libqt4-opengl                                  4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 OpenGL module
ii  libqt4-opengl-dev                              4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 OpenGL library development files
ii  libqt4-phonon                                  4:4.6.2-0ubuntu1~karmic1~ppa2                          transitional package for Qt 4 Phonon librari
ii  libqt4-phonon-dev                              4:4.6.2-0ubuntu1~karmic1~ppa2                          transitional package for Qt 4 Phonon librari
ii  libqt4-qt3support                              4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 3 compatibility library for Qt 4
ii  libqt4-script                                  4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 script module
ii  libqt4-scripttools                             4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 script tools module
ii  libqt4-sql                                     4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 SQL module
ii  libqt4-sql-mysql                               4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 MySQL database driver
ii  libqt4-sql-sqlite                              4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 SQLite 3 database driver
ii  libqt4-svg                                     4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 SVG module
ii  libqt4-test                                    4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 test module
ii  libqt4-webkit                                  4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 WebKit module
ii  libqt4-xml                                     4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 XML module
ii  libqt4-xmlpatterns                             4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 XML patterns module
ii  libqtcore4                                     4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 core module
ii  libqtgui4                                      4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 GUI module
ii  libqtscript4-core                              0.1.0-3                                                Qt Script bindings for the Qt 4 Core library
ii  libqtscript4-gui                               0.1.0-3                                                Qt Script bindings for the Qt 4 Gui library
ii  libqtscript4-network                           0.1.0-3                                                Qt Script bindings for the Qt 4 Network libr
ii  libqtscript4-sql                               0.1.0-3                                                Qt Script bindings for the Qt 4 SQL library
ii  libqtscript4-uitools                           0.1.0-3                                                Qt Script bindings for the Qt 4 UiTools libr
ii  libqtscript4-xml                               0.1.0-3                                                Qt Script bindings for the Qt 4 XML library
ii  libqwt5-qt4                                    5.2.0-1                                                Qt4 widgets library for technical applicatio
ii  libqwt5-qt4-dev                                5.2.0-1                                                Qt4 widgets library for technical applicatio
ii  libsoqt-dev-common                             1.4.2~svn20090224-2                                    Qt GUI component toolkit for Inventor - comm
ii  libsoqt4-20                                    1.4.2~svn20090224-2                                    Qt4 GUI component toolkit for Inventor - run
ii  libsoqt4-dev                                   1.4.2~svn20090224-2                                    Qt4 GUI component toolkit for Inventor - dev
ii  libstrigiqtdbusclient0                         0.7.0-1                                                library for writing D-Bus clients for Strigi
ii  phonon                                         4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 Phonon module metapackage
ii  pyqt4-dev-tools                                4.7.0-2ubuntu1~karmic4~ppa2                            Development tools for PyQt4
ii  python-qt4                                     4.7.0-2ubuntu1~karmic4~ppa2                            Python bindings for Qt4
ii  python-qt4-dev                                 4.7.0-2ubuntu1~karmic4~ppa2                            Development files for PyQt4
ii  python-qt4-sql                                 4.7.0-2ubuntu1~karmic4~ppa2                            Python bindings for PyQt4's SQL module
ii  python-qwt5-qt4                                5.1.1~cvs20090626+dfsg-1                               Python version of the Qwt5 technical widget 
ii  qt-creator                                     1.3.0-0ubuntu2~karmic1~ppa1                            Transitional package
ii  qt-sdk                                         0ubuntu1                                               Complete Qt Software Development Kit
ii  qt3-dev-tools                                  3:3.3.8-b-5ubuntu3                                     Qt3 development tools
ii  qt4-demos                                      4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 examples and demos
ii  qt4-designer                                   4:4.6.2-0ubuntu1~karmic1~ppa2                          graphical designer for Qt 4 applications
ii  qt4-dev-tools                                  4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 development tools
ii  qt4-doc                                        4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 API documentation
ii  qt4-doc-html                                   4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 API documentation (HTML format)
ii  qt4-qmake                                      4:4.6.2-0ubuntu1~karmic1~ppa2                          Qt 4 qmake Makefile generator tool
ii  qtcreator                                      1.3.0-0ubuntu2~karmic1~ppa1                            lightweight integrated development environme
ii  qtcreator-doc                                  1.3.0-0ubuntu2~karmic1~ppa1                            documentation for Qt Creator IDE
From bruno.luciani at gmail.com  Mon Mar 15 06:44:20 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Mar 15 06:44:30 2010
Subject: [Harbour] Re: hbide Unrecoverable error 6005: Exception SIGSEGV 
	on exit
In-Reply-To: <fd76479f1003150222m206bc649n6ea8ed4cd6f5c4a3@mail.gmail.com>
References: <fd76479f1003150111j41e66ffdx97657a7f61ba814@mail.gmail.com>
	<1268642446874-4735682.post@n2.nabble.com>
	<fd76479f1003150222m206bc649n6ea8ed4cd6f5c4a3@mail.gmail.com>
Message-ID: <133778361003150344k601423fl4ab66c52686ae216@mail.gmail.com>

I confirm the same problem here , same scenario ubuntu 9.10 32 bits

Bruno

bruno@notebook:~/harbour-project/harbour/contrib/hbide$ ./hbide
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS NIL
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockProjectTree", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockEditorTabs", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFuncList", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget "dockHelp",
which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockSkeleton", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFindInFiles", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockThemes", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockProperties", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockEnvironments", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockCompileResults", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockLinkResults", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockOutputResults", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockDocViewer", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFunctions", which already has a layout
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS ================ xbeP_Close
QMainWindow::saveState(): 'objectName' not set for QToolBar 0xa0d0f98 ''
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS ================ xbeP_Close after:
hbide_saveINI( Self )
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS ================ xbeP_Close after:
::oSM:closeAllSources()
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS
======================================================
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS Before
::oDlg:destroy()          0          0
idemisc.prg:923:HBIDE_DBG():
HB_TR_ALWAYS
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS                 ,,,,,,
IdeEnvironments:destroy()          0
Object::disconnect: No such signal QTableWidget::itemDoubleClicked(
QTableWidgetItem *, int ) in ../../../hbqt_hbslots.cpp:283
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        101
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        102
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        103
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        101
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        102
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        103
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        101
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        102
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        103
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS
<<<<<<<<<<                        XbpDialog:destroy
B                      >>>>>>>>>>
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        101
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        102
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS        103
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS
<<<<<<<<<<                        XbpDialog:destroy
E                      >>>>>>>>>>
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
xbpdialog.prg:0:XBPDIALOG:DESTROY(): HB_TR_ALWAYS .
idemisc.prg:923:HBIDE_DBG():
HB_TR_ALWAYS
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS After
::oDlg:destroy()          0          0
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS
======================================================
idemisc.prg:923:HBIDE_DBG(): HB_TR_ALWAYS EXITING after destroy
....          0          0
xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    begin
xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    end
QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 0x9d267d8
QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 (nil)

Unrecoverable error 6005: Exception SIGSEGV at address 0x8
bruno@notebook:~/harbour-project/harbour/contrib/hbide$
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100315/8df2c0e1/attachment-0001.html
From druzus at users.sourceforge.net  Mon Mar 15 07:32:17 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 15 07:32:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14169] trunk/harbour
Message-ID: <E1Nr8Wv-0007UI-UF@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14169
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14169&view=rev
Author:   druzus
Date:     2010-03-15 11:32:16 +0000 (Mon, 15 Mar 2010)

Log Message:
-----------
2010-03-15 12:32 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbstack.h
    * minor cleanup

  * harbour/external/bzip2/bzip2.c
    ! fixed to compile on platforms which do not accept "\" as path delimiter

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/bzip2/bzip2.c
    trunk/harbour/include/hbstack.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Mar 15 07:38:25 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 15 07:39:02 2010
Subject: [Harbour] IE9104
Message-ID: <4B9E1C31.7040201@dbtopas.lt>

Hi,


the following sample generates IE9104:
===========================
PROC MAIN()
   DBCREATE("bandom.dbf", {{"NR", "N", 8, 0}, {"TEXT", "C", 8, 0}, 
{"TEXT2", "C", 4, 0}}, "DBFCDX")
   DbUseArea(.T., "DBFCDX", "bandom.dbf", "pirma", .T., .F.)
   OrdCreate("bandom.cdx", "pirmas", "STR(NR)+TEXT")
   OrdCreate("antras.cdx", "antras", "TEXT")
   DBCLOSEALL()
   DbUseArea(.T., "DBFCDX", "bandom.dbf", "pirma", .T., .F.)
   OrdListAdd("antras.cdx")
   OrdSetFocus("pirmas")
   OrdCondSet(,,,,,, RecNo(),,,, .T.,,, .T.,,,,,,)
   OrdCreate("antras.cdx", "a102", "TEXT2")  // IE9104
   DBCLOSEALL()
RETURN
===========================
Unrecoverable error 9104: hb_cdxIndexFree: index file still locked.
Called from ORDCREATE(0)
Called from MAIN(11) in pcode.hrb
Called from HB_HRBRUN(0)
Called from _APPMAIN(0) in ../../../hbrun.prg


Regards,
Mindaugas

From druzus at users.sourceforge.net  Mon Mar 15 09:04:34 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 15 09:04:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14170] trunk/harbour
Message-ID: <E1Nr9yE-0001oD-OS@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14170
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14170&view=rev
Author:   druzus
Date:     2010-03-15 13:04:33 +0000 (Mon, 15 Mar 2010)

Log Message:
-----------
2010-03-15 14:04 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
    ! fixed bad copy and past typo which could cause internal error when
      new index using existing order (subindex) was created without ADDITIVE
      clause. Bug reported by Mindaugas - many thanks for the information.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Mar 15 09:19:26 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 15 09:20:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14170] trunk/harbour
In-Reply-To: <E1Nr9yE-0001oD-OS@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1Nr9yE-0001oD-OS@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <4B9E33DE.7030503@dbtopas.lt>

Hi,


>   * harbour/src/rdd/dbfcdx/dbfcdx1.c
>     ! fixed bad copy and past typo which could cause internal error when
>       new index using existing order (subindex) was created without ADDITIVE
>       clause. Bug reported by Mindaugas - many thanks for the information.

Thanks! Actually, you've found a bug in our code :) We've forgot to set 
lAdditive = .T. :)


Regards,
Mindaugas
From pete_westg at yahoo.gr  Mon Mar 15 09:32:57 2010
From: pete_westg at yahoo.gr (pete_westg)
Date: Mon Mar 15 09:33:26 2010
Subject: [Harbour] Re: About ADEL()
In-Reply-To: <71B2BC6B-10B1-4683-B463-CB93E83B4190@syenar.hu>
References: <hnfo0e$iuh$1@dough.gmane.org>
	<71B2BC6B-10B1-4683-B463-CB93E83B4190@syenar.hu>
Message-ID: <hnlcu7$gmp$1@dough.gmane.org>

???? 13/03/2010 12:52, O/H Viktor Szak?ts ??????:

>
> And here you answered the question. ADEL() is a Clipper
> compatibility function, so it's expected to behave exactly
> the same way as in Clipper, regardless of what we think
> about some of that behavior.
>
Hi Viktor,
Thanks you for your reply. I don't like to be pedantic but,
as I understand it, the term "compatibility" is the case where the 
compatible object keeps the same *documented* behavior and produce the 
same *expected* results like the original. Preserving or rather 
"cloning" undocumented questionable/problematic "features", just for the 
sake of compatibility, is a bit surrealistic, which is ok on a 
philosophical/aesthetic level but from a pure programming view,
perhaps needs more consideration.

I agree that adel() does some kind of delete in the meaning that deletes 
the contents of an element but not the element itself, however, let me 
just to point out that in the case of a multidimensional array this 
"delete" translates to "make it broken".
Anyway, enough with ADEL(). The question is if we can do something with 
HB_ADEL(). I don't know if it is proper to propose now modifications but 
here it is:
-------------------------------
HB_ADEL(aArray, [<wrong type value>]) --> mismatch argument RTE
HB_ADEL(aArray, [<nPosition out of index>]) --> boundary RTE
HB_ADEL(aArray)  -->  {} // an empty array, equal to aArray := {}

--------------------------------------------------------------

Of course all of the above could be easily implemented locally,
in prg or preprocessor level, but since i have faced the problem
in a real code situation, I thought that it might be useful
to notify my experience here.
Please, (and i hope i don't peculate your time) consider the code:
-------------
// IF nFile := ascan(a, {|x| UPPER(x[F_NAME]) == "HBDIR.EXE"}) > 0
IF ( nFile := HB_ASCAN( a, {|x| UPPER(x[F_NAME]) == "HBDIR.EXE"},,,.T. ) 
) > 0
	HB_Adel(a, nFile, .t. )
ENDIF
-------------------------------------
It took me some time to realize what was wrong (in the now commented 
line above). The problem, as you can easily see, was the (unforgivable) 
lack of parentheses that had as result nFile var to take a boolean value 
(.T. in the particular case), which subsequently was giving to HB_ADEL() 
the "freedom" to do its magic by deleting  the first array element 
instead of  "HBDIR.EXE" element. Of course I would have saved  my time 
(and my nerves) if HB_ADEL() had, from the very first run, warned me 
about the erroneous type value of nFile.

best regards,

---
Pete

From dbtopas at dbtopas.lt  Mon Mar 15 10:47:40 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 15 10:48:15 2010
Subject: [Harbour] MT statics vs public
In-Reply-To: <9257026e1003081119m208a64a2p18a60dd441e016b3@mail.gmail.com>
References: <9257026e1003081119m208a64a2p18a60dd441e016b3@mail.gmail.com>
Message-ID: <4B9E488C.1080901@dbtopas.lt>

Hi,


Lorenzo Fiorini wrote:
> I've successfully implemented MT in my httpserver and the results are
> great, but http apps are made to be ( almost ) stateless while desktop
> apps are full of vars that remember selections, global and user
> setting, preferences and so on.
> 
> Following the CL5 guidelines I've heavily used module wide static vars
> and set/get functions to access them but in a MT statics are difficult
> to share so the idea is to use a "big" public hash as a "session
> holder" where every static become a key with a value and share it
> between threads.
> 
> What do you think?
> Do you see other paths?

Unfortunately, HTTP is stateless and session key stored in cookie is the 
key to solve a problem (still not very comfortable...).

Here I see the main difference between web application and GUI remote 
application.


Pritpal Bedi wrote:
> Static variable as declared as STATIC are shared among threads.
> Static variables declared as THREAD STATIC have thread wide scope.

Static thread variables helps only in case you bind a thread to a 
session. It also solves the problem of reopening aliases, etc. It was 
implemented in my uhttpd, but late I dropped such thread-session binding 
because of bad "thread reusage" and uncommon application architecture. 
It's very easy to make 1000 or much more open http sessions (imagine 20 
minutes session timeout) and waste all system resources.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Mon Mar 15 10:51:25 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 15 10:52:01 2010
Subject: [Harbour] Re: SqlMix and dbcreated
In-Reply-To: <1268196447856-4707029.post@n2.nabble.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>	<4AD86C8D.6050402@dbtopas.lt>	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu>	<4AD88C75.9000501@dbtopas.lt>	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0CB@PINK.zycie.pzu>	<4ADB20C4.30305@dbtopas.lt>	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A1F0@PINK.zycie.pzu>	<4ADDB37E.3050203@dbtopas.lt>
	<1268196447856-4707029.post@n2.nabble.com>
Message-ID: <4B9E496D.3040102@dbtopas.lt>

Hi,


Shum wrote:
> It possible to implement the database connection number as a class ...
> like the DacSession class in Xbase++ ...??

I know nothing about DacSession, but I guess it could be implemented on 
the top of current code.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Mar 15 10:56:20 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 15 10:56:31 2010
Subject: [Harbour] Re: About ADEL()
In-Reply-To: <hnlcu7$gmp$1@dough.gmane.org>
References: <hnfo0e$iuh$1@dough.gmane.org>
	<71B2BC6B-10B1-4683-B463-CB93E83B4190@syenar.hu>
	<hnlcu7$gmp$1@dough.gmane.org>
Message-ID: <9D1FAE9D-CF1D-4EDC-8EB2-460781088BF2@syenar.hu>

Hi,

>> And here you answered the question. ADEL() is a Clipper
>> compatibility function, so it's expected to behave exactly
>> the same way as in Clipper, regardless of what we think
>> about some of that behavior.
>> 
> Hi Viktor,
> Thanks you for your reply. I don't like to be pedantic but,
> as I understand it, the term "compatibility" is the case where the compatible object keeps the same *documented* behavior and produce the same *expected* results like the original. Preserving or rather "cloning" undocumented questionable/problematic "features", just for the sake of compatibility, is a bit surrealistic, which is ok on a philosophical/aesthetic level but from a pure programming view,
> perhaps needs more consideration.

As a rule in Harbour we chose to "clone" original Clipper 
behavior, unless it's clear bug or MS-DOS specific 
portability issue. In case of ADEL() and lots of other 
original Clipper functions, many aspects of behavior can be 
questioned, disputed, and surely it could be made better, 
but there are two problems: 1) these areas are very subjective
2) It breaks Clipper compatibility. We value compatibility 
the most in Harbour, as this is the only way to ensure that 
code written for Clipper will also work with Harbour. So 
we don't touch, modify or extend basic features as a ground 
rule.

> I agree that adel() does some kind of delete in the meaning that deletes the contents of an element but not the element itself, however, let me just to point out that in the case of a multidimensional array this "delete" translates to "make it broken".
> Anyway, enough with ADEL(). The question is if we can do something with HB_ADEL(). I don't know if it is proper to propose now modifications but here it is:
> -------------------------------
> HB_ADEL(aArray, [<wrong type value>]) --> mismatch argument RTE
> HB_ADEL(aArray, [<nPosition out of index>]) --> boundary RTE
> HB_ADEL(aArray)  -->  {} // an empty array, equal to aArray := {}

In case of HB_ADEL() the only real constraint is 
to stay compatible with previous Harbour versions.

What you say can be technically implemented, I'd only 
argue with HB_ADEL(<a>)->{}, which is a synonym to 
ASIZE(<a>,0), so IMO unnecessary and better to raise RTE.

> --------------------------------------------------------------
> 
> Of course all of the above could be easily implemented locally,
> in prg or preprocessor level, but since i have faced the problem
> in a real code situation, I thought that it might be useful
> to notify my experience here.
> Please, (and i hope i don't peculate your time) consider the code:
> -------------
> // IF nFile := ascan(a, {|x| UPPER(x[F_NAME]) == "HBDIR.EXE"}) > 0
> IF ( nFile := HB_ASCAN( a, {|x| UPPER(x[F_NAME]) == "HBDIR.EXE"},,,.T. ) ) > 0
> 	HB_Adel(a, nFile, .t. )
> ENDIF
> -------------------------------------
> It took me some time to realize what was wrong (in the now commented line above). The problem, as you can easily see, was the (unforgivable) lack of parentheses that had as result nFile var to take a boolean value (.T. in the particular case), which subsequently was giving to HB_ADEL() the "freedom" to do its magic by deleting  the first array element instead of  "HBDIR.EXE" element. Of course I would have saved  my time (and my nerves) if HB_ADEL() had, from the very first run, warned me about the erroneous type value of nFile.

Of course, but note that the best solution for most of similar 
problems is strongly typed parameter checking. Without it, 
even if we modify HB_ADEL() there will remain thousands of 
other such places for similar typos, so we're not really 
solving the real problem here IMO.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Mon Mar 15 11:27:51 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 15 11:28:27 2010
Subject: [Harbour] Re: MT workareas cloning
In-Reply-To: <1268202156827-4707278.post@n2.nabble.com>
References: <9257026e0906160142k502d2a1dl3ffb1700e7d89d88@mail.gmail.com>	<20090616090322.GA13809@uran.home.aster.pl>	<9257026e0906160449g79816c20rb86a2f59ed011e15@mail.gmail.com>	<20090616122446.GB25472@uran.home.aster.pl>	<24055313.post@talk.nabble.com>	<20090617110309.GA21515@uran.home.aster.pl>
	<1268202156827-4707278.post@n2.nabble.com>
Message-ID: <4B9E51F7.3000506@dbtopas.lt>

Hi,


>> Support for ZEROSPACE in WorkSpaceList() is trivial but can be implemented 
>> only in C. I can add it in necessary. BTW please check above two example 
>> with xbase++. 
> 
> 
> Would you please implement the WorkSpaceList() with ZEROSPACE  ...
> I need to obtain all alias within ZEROSPACE ....
> 
> Or any way to get a list of all alias within the ZeroSpace ???

I have a related question/problem. Let's say I want to transfer areas 
among threads (that's the purpose of alias detaching). I'm missing two 
functions:
1) to attach alias within another thread using a different alias name;
2) to search a "zerospace" for a specific area having some dbf file, 
some open mode, index, etc.

These missing functionality could be reached by function which renames 
current alias. F.e.:

   USE items NEW ORDER number READONLY ALIAS items1
   ....
   HB_DBSETALIAS("items_number_RO")
   HB_DBDETACH()

Another thread:
   HB_DBREQUEST("items_number_RO",,, .T.)
   HB_DBSETALIAS("items_ro")
   ...

This could be a waste dynsym table if I want add a random HTTP session 
number to a database name before detaching it (let's say I want to cache 
opened tables for HTTP session). It this case I find a useful solution 
to store a required (for reattaching) data in cargo field. F.e.:

   USE items NEW ORDER number READONLY ALIAS items1
   ....
   HB_DBDETACH(, "items_" + cSession)

Another thread:
   HB_DBREQUEST({|alias,cargo| IIF(cargo == "items_" + cSession, (alias 
:= "items_ro", .T.), .F.)},,, .T.)
   ...
   /* Here block is a kind of search block. It also assigns a new alias 
name */

The second proposed solution is more flexible, but is not optimal 
because it keeps a long mutex lock on "zerospace" internals.


Regards,
Mindaugas
From mbelgrano at deltain.it  Mon Mar 15 11:33:32 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 15 11:34:01 2010
Subject: [Harbour] Re: SqlMix and dbcreated
In-Reply-To: <4B9E496D.3040102@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu> 
	<4AD86C8D.6050402@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu> 
	<4AD88C75.9000501@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0CB@PINK.zycie.pzu> 
	<4ADB20C4.30305@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A1F0@PINK.zycie.pzu> 
	<4ADDB37E.3050203@dbtopas.lt>
	<1268196447856-4707029.post@n2.nabble.com> 
	<4B9E496D.3040102@dbtopas.lt>
Message-ID: <609353e71003150833v1567d0dcp41278638cd875cf2@mail.gmail.com>

Imo must be extended rdd structure

Follow my link
http://www.masfoxpro.com/index.php?title=XBase&printable=yes



PROCEDURE Main
 LOCAL cConnect := "DBE=ODBCDBE;DSN=OrderProcessing"
 LOCAL oSession := DacSession():new( cConnect )
 IF .NOT. oSession:isConnected()
 ? "Unable to connect to server !"
 ? oSession:getLastMessage()
 QUIT
 ENDIF

   < Business Logic As Usual >
 DbCloseAll()

 oSession:disconnect()
 RETURN


Procedure main
XDBQ:=CURDRIVE()+":\"+CURDIR()+"\"+STRTRAN(G_CAMINO,"\","")
cCon := "DBE=ODBCDBE;DRIVER={Microsoft dBase Driver
(*.dbf)};DBQ="+XDBQ+";DATABASE="+XDBQ
oSessionDBF:=DacSession():new(cCon)
oSessionDBF:setProperty(ODBCSSN_INDEX_AUTOOPEN, .T.)
IF !oSessionDBF:isconnected()
MSGBOX( "Unable to connect..." )
QUIT
ENDIF
DbeSetDefault( "ODBCDBE" )

SQL("CREATE INDEX TIPOS ON TIPOS(TIPO_COMP)")
USE TIPOS NEW
MSGBOX(INDEXKEY()) // Result= TIPO_COMP

* DBGOBOTTOM() //If this line is not commented, it works OK!

IF DBSEEK("EG")
MSGBOX("Found!")
ELSE
MSGBOX("Not found")
ENDIF
RETURN

Function tr_open()
         LOCAL oSession
         DbeSetDefault("ADSDBE")
         cConnStr :=
"SERVER=\\testweb.dnsalias.com:3232\test\data\test.ADD;ADS_REMOTE_SERVER;ADS_COMPRESS_INTERNET;UID=test;PWD=test"
         oSession    := DacSession():New("DBE=ADSDBE;"+cConnStr)
          DbeInfo( COMPONENT_DATA , ADSDBE_TBL_MODE, ADSDBE_CDX )
          DbeInfo( COMPONENT_ORDER, ADSDBE_TBL_MODE, ADSDBE_CDX )
         If (oSession:isConnected())
             If !DbUseArea(.T.,oSession, "adress","wadress",.t.,.t.)
                 MsgBox("Status:"+Alias()+" kann nicht ge?ffnet werden")
             EndIf
             Set Index to Adress
             trconnect:=.t.
         Else
             trconnect:=.f.
             MsgBox("Status:"+Alias()+" kann nicht ge?ffnet werden")
         EndIf



2010/3/15 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi,
>
>
> Shum wrote:
>>
>> It possible to implement the database connection number as a class ...
>> like the DacSession class in Xbase++ ...??
>
> I know nothing about DacSession, but I guess it could be implemented on the
> top of current code.
>
>
> Regards,
> Mindaugas



-- 
Massimo Belgrano
From dbtopas at dbtopas.lt  Mon Mar 15 11:40:08 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 15 11:40:42 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <20100311015307.GA10009@linux-4bod.home.aster.pl>
References: <4B961429.9040505@libero.it>	<609353e71003100441k1987f9a1pbe05cc50c7041d2a@mail.gmail.com>	<EF8B59D2-CAD9-45EA-9A80-5668CD59B94D@syenar.hu>	<6943770e1003100554r61bd887bka00782b72375fecf@mail.gmail.com>	<20100310154326.GA26528@linux-4bod.home.aster.pl>	<B3C02218-C88A-48BA-B4E3-3048E1CD3521@syenar.hu>	<20100310194814.GA17585@linux-4bod.home.aster.pl>	<3674CC52-9392-412A-8B61-1F24E3719C7E@syenar.hu>
	<20100311015307.GA10009@linux-4bod.home.aster.pl>
Message-ID: <4B9E54D8.9040005@dbtopas.lt>

Hi,


> ../../../sddfb.c: In function ?fbDisconnect?:
> ../../../sddfb.c:181:4: warning: dereferencing type-punned pointer will break strict-aliasing rules
> ../../../sddfb.c: In function ?fbOpen?:
> ../../../sddfb.c:209:4: warning: dereferencing type-punned pointer will break strict-aliasing rules
> ../../../sddfb.c:219:4: warning: dereferencing type-punned pointer will break strict-aliasing rules
> 
> This is also danger casting though it should work if void * is large enough
> to hold FB handlers. Anyhow it's potential problem so it should be fixed.

I've added protection for this, see line 100, but I'm going to fix this 
(and other similar issues) in the nearest future.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Mon Mar 15 11:42:06 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 15 11:42:41 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <905448238.20100310190423@yahoo.com.ar>
References: <905448238.20100310190423@yahoo.com.ar>
Message-ID: <4B9E554E.10405@dbtopas.lt>

Hi,


Luis R. Stach wrote:
> Error SDDFB/1903 Prepare statement failed: SELECT * FROM agenda (DOS Error 335544569)
> What I do is this:
> 
> ANNOUNCE RDDSYS
> REQUEST SQLMIX, SDDFB
> RDDSETDEFAULT( "SQLMIX" )
> 
> hConn := RDDINFO( RDDI_CONNECT, { "FIREBIRD",, "SYSDBA", "masterkey", "192.168.0.1:d:\data\agenda.fdb" } )
> MsgInfo( hConn )  //Return 1
> DBUSEAREA( .T.,, "SELECT * FROM agenda" )     //Line error
> 
> I use Firebird 2.1.3.18185
> Someone can help me

I was offline for some time, but I'm going to check this issue together 
with other RDDSQL fixes in the nearest future (perhaps end of this week).


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Mon Mar 15 11:50:01 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 15 11:50:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14171] trunk/harbour
Message-ID: <E1NrCYL-00043V-IL@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14171
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14171&view=rev
Author:   vszakats
Date:     2010-03-15 15:50:00 +0000 (Mon, 15 Mar 2010)

Log Message:
-----------
2010-03-15 16:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + external/bzip2/bzip2.dif
    + Added .dif file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/external/bzip2/bzip2.dif


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From luisrstach at yahoo.com.ar  Mon Mar 15 12:03:28 2010
From: luisrstach at yahoo.com.ar (Luis R. Stach)
Date: Mon Mar 15 12:04:24 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <4B9E554E.10405@dbtopas.lt>
References: <905448238.20100310190423@yahoo.com.ar> <4B9E554E.10405@dbtopas.lt>
Message-ID: <1493719227.20100315130328@yahoo.com.ar>

Thanks Mindaugas

 
Saludos,
Luis R. Stach


Monday, March 15, 2010, 12:42:06 PM, you wrote:

> Hi,

> I was offline for some time, but I'm going to check this issue together
> with other RDDSQL fixes in the nearest future (perhaps end of this week).


> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour


From lorenzo.fiorini at gmail.com  Mon Mar 15 12:13:48 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Mar 15 12:13:56 2010
Subject: [Harbour] MT statics vs public
In-Reply-To: <4B9E488C.1080901@dbtopas.lt>
References: <9257026e1003081119m208a64a2p18a60dd441e016b3@mail.gmail.com>
	<4B9E488C.1080901@dbtopas.lt>
Message-ID: <9257026e1003150913q69c29b01rf649a1ed19e76e0a@mail.gmail.com>

On Mon, Mar 15, 2010 at 3:47 PM, Mindaugas Kavaliauskas
<dbtopas@dbtopas.lt> wrote:

> Unfortunately, HTTP is stateless and session key stored in cookie is the key
> to solve a problem (still not very comfortable...).
>
> Here I see the main difference between web application and GUI remote
> application.

Thanks for your comment.

I'm trying to follow the J2EE blueprints to "repaint" the apps around
public objects like Application, Session, Page and Request but keeping
the GT code working.

It seems to me that using a single public object ( that has a single
hash to hold all the data ) for Application and Session greatly helps
to control the data that can be easily cleaned, saved/restored,
inspected.

So a function can be inside a dynamically loaded HRB or in a DLL and
still easily access oApplication, oSession.

best regards,
Lorenzo
From druzus at acn.waw.pl  Mon Mar 15 12:40:56 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 15 12:41:10 2010
Subject: [Harbour] proposal: HB_PATH_MAX estension
In-Reply-To: <EA470CA0-E75B-44C2-9D0F-BCA3EFE906C5@syenar.hu>
References: <EA470CA0-E75B-44C2-9D0F-BCA3EFE906C5@syenar.hu>
Message-ID: <20100315164056.GA2717@linux-4bod.home.aster.pl>

On Sun, 14 Mar 2010, Szak?ts Viktor wrote:

Hi,

> The macro responsible to set maximum filename/path 
> length in Harbour (HB_PATH_MAX) is now set to 264.
> Modern systems can handle much more as maximum path 
> length (f.e. Windows 32K chars).

AFAIR the longer paths are not for FS but for host name
in UNC notation though some FS can use much bigger values
then OS.

> Shouldn't we extend this Harbour constant to handle 
> more?
> There are few issues to take care of:
> - This macro is used for both filename and pathname 
>   max length in Harbour, maybe we should have two values 
>   to fix that.

It will introduce unnecessary problems in path modifications
and it's not clear what does it mean and how to adopt it to
different FS limitations.
Current meaning is correct. This is the maximum size of complete
path. It doesn't matter it's single file in root directory or
series of directories. Important is only total size.

> - Set this constant to different values depending on 
>   platform.

Potentially it's new problem for code which have to exchange
data between different Harbour builds.

> - Many times the buffer is allocated on stack, we 
>   may need to revise whether using larger buffers here 
>   has any bad side-effect.

If you plan to enlarge this value to 32KB then it will be
necessary to remove all such places and define that it's
illegal to use it directly or indirectly by some other
structures like HB_FNAME in C stack variables. For core
code it can be done (though with the cost of speed in some
cases) but it's potentially serious problem for 3-rd party
code. We will probably have to change current code and
hide HB_FNAME internals so user can use it on HVM stack.

Changing the value of HB_PATH_MAX breaks binary compatibility
with existing code so I do not think it's good idea to touch
without some serious reasons, i.e. real problems in some FS.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar 15 13:05:25 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 15 13:05:33 2010
Subject: [Harbour] Re: MT workareas cloning
In-Reply-To: <4B9E51F7.3000506@dbtopas.lt>
References: <9257026e0906160142k502d2a1dl3ffb1700e7d89d88@mail.gmail.com>
	<20090616090322.GA13809@uran.home.aster.pl>
	<9257026e0906160449g79816c20rb86a2f59ed011e15@mail.gmail.com>
	<20090616122446.GB25472@uran.home.aster.pl>
	<24055313.post@talk.nabble.com>
	<20090617110309.GA21515@uran.home.aster.pl>
	<1268202156827-4707278.post@n2.nabble.com>
	<4B9E51F7.3000506@dbtopas.lt>
Message-ID: <20100315170525.GB2717@linux-4bod.home.aster.pl>

On Mon, 15 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> I have a related question/problem. Let's say I want to transfer
> areas among threads (that's the purpose of alias detaching). I'm
> missing two functions:
> 1) to attach alias within another thread using a different alias name;
> 2) to search a "zerospace" for a specific area having some dbf file,
> some open mode, index, etc.
> These missing functionality could be reached by function which
> renames current alias. F.e.:
>   USE items NEW ORDER number READONLY ALIAS items1
>   ....
>   HB_DBSETALIAS("items_number_RO")
>   HB_DBDETACH()
> 
> Another thread:
>   HB_DBREQUEST("items_number_RO",,, .T.)
>   HB_DBSETALIAS("items_ro")
>   ...
> This could be a waste dynsym table if I want add a random HTTP
> session number to a database name before detaching it (let's say I
> want to cache opened tables for HTTP session). It this case I find a
> useful solution to store a required (for reattaching) data in cargo
> field. F.e.:
>   USE items NEW ORDER number READONLY ALIAS items1
>   ....
>   HB_DBDETACH(, "items_" + cSession)
> Another thread:
>   HB_DBREQUEST({|alias,cargo| IIF(cargo == "items_" + cSession,
> (alias := "items_ro", .T.), .F.)},,, .T.)
>   ...
>   /* Here block is a kind of search block. It also assigns a new
> alias name */
> The second proposed solution is more flexible, but is not optimal
> because it keeps a long mutex lock on "zerospace" internals.

Just like WorkaAreaEval() in xbase++ and it's the reason why I still
haven't added it to SVN code.


There is one very serious problem with alias name modification and
switching workareas between threads. It hardly interacts with RDDs
using remote servers which allows to optimize expressions and execute
them on the server side. It causes that it's necessary to replicate
on the server side all local alias modifications what can seriously
reduce the performance.
Anyhow current code which tries to follow xbase++ specification
replicated also some xbase++ anomalies (fortunately not all) so it
has to be cleaned and I plan to make.
Your propositions are very interesting but before I'll change anything
in this code I will want to rethink all interactions with RDDs using
remote servers.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Mar 15 15:23:16 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 15 15:23:46 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <4B961429.9040505@libero.it>
References: <4B961429.9040505@libero.it>
Message-ID: <609353e71003151223x7d6dec50rae2f80bfada904af@mail.gmail.com>

Different order of c compiler for xharbour  by xailer
http://xailer.info/esp/?p=179

Embarcadero is working to 64 bit borland c++
http://edn.embarcadero.com/article/39174


2010/3/9 Maurilio Longo <maurilio.longo@libero.it>:
> Hi,
>
> which is the harbour recommended C compiler for the windows platform?
>
> best regards.
>
> --
> ?__________
> | ?| ?| |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Mar 15 15:39:50 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 15 15:40:07 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <609353e71003151223x7d6dec50rae2f80bfada904af@mail.gmail.com>
References: <4B961429.9040505@libero.it>
	<609353e71003151223x7d6dec50rae2f80bfada904af@mail.gmail.com>
Message-ID: <A50FF04C-E596-4705-8978-CDD8AD67FE9A@syenar.hu>

> Different order of c compiler for xharbour  by xailer
> http://xailer.info/esp/?p=179

It's not that much different, only that they seem to 
rank Pelles C higher than us.

Pelles C is good in features, easy to use, but it's 
full of serious bugs (and nobody's bug reports 
were answered since last years August, apparently 
because the author doesn't seem to be around since 
then), and the code generated is among the slowest. 
It's more of less equivalent to BCC in this regard.

So for users concerned about execution speed and 
reliability the position between MinGW and MSVC 
is very much overstated.

The rest of the rank is okay. I'd only leave 
LCC and DMC off of it, since they are pretty much 
(or completely) dead products.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Mar 15 16:03:36 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 15 16:03:53 2010
Subject: [Harbour] proposal: HB_PATH_MAX estension
In-Reply-To: <20100315164056.GA2717@linux-4bod.home.aster.pl>
References: <EA470CA0-E75B-44C2-9D0F-BCA3EFE906C5@syenar.hu>
	<20100315164056.GA2717@linux-4bod.home.aster.pl>
Message-ID: <139030DE-8F96-4DF6-8673-E49F3304717C@syenar.hu>

Hi Przemek,

>> The macro responsible to set maximum filename/path 
>> length in Harbour (HB_PATH_MAX) is now set to 264.
>> Modern systems can handle much more as maximum path 
>> length (f.e. Windows 32K chars).
> 
> AFAIR the longer paths are not for FS but for host name
> in UNC notation though some FS can use much bigger values
> then OS.

Yes.

>> Shouldn't we extend this Harbour constant to handle 
>> more?
>> There are few issues to take care of:
>> - This macro is used for both filename and pathname 
>>  max length in Harbour, maybe we should have two values 
>>  to fix that.
> 
> It will introduce unnecessary problems in path modifications
> and it's not clear what does it mean and how to adopt it to
> different FS limitations.
> Current meaning is correct. This is the maximum size of complete
> path. It doesn't matter it's single file in root directory or
> series of directories. Important is only total size.

F.e. on windows there is separate a limit for filename 
path component. I didn't make tests yet, anyhow worst 
case Windows API would generate errors when passed 
too long name, so I guess it alright for Harbour.

>> - Set this constant to different values depending on 
>>  platform.
> 
> Potentially it's new problem for code which have to exchange
> data between different Harbour builds.
> 
>> - Many times the buffer is allocated on stack, we 
>>  may need to revise whether using larger buffers here 
>>  has any bad side-effect.
> 
> If you plan to enlarge this value to 32KB then it will be
> necessary to remove all such places and define that it's
> illegal to use it directly or indirectly by some other
> structures like HB_FNAME in C stack variables. For core
> code it can be done (though with the cost of speed in some
> cases) but it's potentially serious problem for 3-rd party
> code. We will probably have to change current code and
> hide HB_FNAME internals so user can use it on HVM stack.

Okay.

Binary compatibility is only a concern for minor revisions, 
so in this case it's no showstopper for us. pcode set  
was already updated, so even .prg code is not compatible 
in 2.1.

It seems a viable path to first update current structures 
and core/contrib coding practices to allow for larger buffers 
without upping the limit itself, and after everything is in 
place, expand HB_PATH_MAX to allow for more.

Since we need to present a limit anyway, at may also be 
a possibility, and an easier one to simple up the limit 
from 262 to 4096 on win/wce/*nix systems. This looks 
still okay to do on stack and would resolve the problem 
for (I believe) 99.999% of users (F.e. Cygwin project 
did exactly that in 1.7 release).

Of course updating the internals to allow for more, is 
a nice thing in both cases, but only a requirement if we 
follow the first method.

What is your opinion on above options?

> Changing the value of HB_PATH_MAX breaks binary compatibility
> with existing code so I do not think it's good idea to touch
> without some serious reasons, i.e. real problems in some FS.

I tested simple code on Ubuntu, and f.e. CURDIR() 
will simply fail when run in deeper than HB_MAX_PATH 
directory structure. It will return empty string.

On Windows many upper level of OS/apps is quite faulty 
in this regard, so they behave strangely, even supplied 
Explorer is confused, so could not even execute apps 
from deeper path. I could run simple HB_FILEEXISTS() 
check and it fails as expected for anything longer than 
262.

Linux test code:
---
PROC MAIN()
   LOCAL a := CURDIR()
   ALERT( HB_NTOS( LEN( a ) ) + " " + a ) // -> '0 ' shown when run from deep structure
   RETURN
---

Windows test code:
---
PROC MAIN()
   HB_ALERT( HB_FILEEXISTS( "C:\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\g.exe" ) ) // -> '.F.' shown, while the file exists
   HB_ALERT( HB_FILEEXISTS( 
"C:\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\12345678901234567890\g.prg" ) ) // -> '.T.'
---

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Mar 15 16:22:11 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 15 16:22:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14171] trunk/harbour
In-Reply-To: <E1NrCYL-00043V-IL@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NrCYL-00043V-IL@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <20100315202210.GA14991@linux-4bod.home.aster.pl>

On Mon, 15 Mar 2010, vszakats@users.sourceforge.net wrote:

Hi,

> -----------
> 2010-03-15 16:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   + external/bzip2/bzip2.dif
>     + Added .dif file.

What about enabling BZIP2 compilation in DOS and OS2 builds?
This code can be compiled as is by DJGPP and this small patch

   --- harbour/external/bzip2/bzip2.c	(wersja 14171)
   +++ harbour/external/bzip2/bzip2.c	(kopia robocza)
   @@ -34,7 +34,8 @@
    --*/
    #define BZ_LCCWIN32  0

   -#if defined(_WIN32) && !defined(__CYGWIN__)
   +#if ( defined(_WIN32) && !defined(__CYGWIN__) ) || \
   +    ( defined(__WATCOMC__) && ( defined(__OS2__) || defined(__DOS__) ) )

fixes compilation with OpenWatcom for DOS and OS2.
Probably support for OS2 GCC will also need only such cosmetic
modifications or maybe it even works out of the box.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Mar 15 16:25:45 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 15 16:25:58 2010
Subject: [Harbour] recommended C compiler for Win
In-Reply-To: <609353e71003151223x7d6dec50rae2f80bfada904af@mail.gmail.com>
References: <4B961429.9040505@libero.it>
	<609353e71003151223x7d6dec50rae2f80bfada904af@mail.gmail.com>
Message-ID: <A9CCA7A0-603B-4EF9-BE4A-2E7715234ADE@syenar.hu>

> Different order of c compiler for xharbour  by xailer
> http://xailer.info/esp/?p=179

Few more points to make after reading the article in translator:

- They ranked Pelles C the first, but they forgot to 
  measure execution speed.
- In the article they worry about MSVC being abandoned as free 
  product, but in fact the same can happen with Pelles C in 
  one way or another. (ie. it's already abandoned, since it's 
  not updated)
- Harbour users and developers _do_ use mingw, so for us 
  (compared with xhb users) it's not alien.
- As I mentioned here a few times (and as it's documented 
  in INSTALL), MSVC 2008 compiler tools are now included in 
  Windows SDK 7, which means it's easy to use in a compact 
  package for x86 and x64 development.
  I doubt MS would pull it as free tool if they decided to 
  bundle it with SDK and given current trends in OS/compiler 
  business. (though of course nobody can guarantee it, just 
  like for any other non-open source compilers, including 
  Pelles C)

This leaves MinGW and MSVC the leading choices for Harbour. 

[ BTW, the article is from 2009 April, so at that time 
they couldn't predict SDK 7 and the apparent stall in 
Pelles C development. ]

Of course it's always good to have more options, that's 
why we also support watcom, icc, pocc and bcc as well. 
Anyhow for real work these are less suitable at the moment.

As for BCC64, if they make it available without much 
trouble (and it also works properly), we can add support 
for it easily in Harbour.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Mar 15 16:32:06 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 15 16:32:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14171] trunk/harbour
In-Reply-To: <20100315202210.GA14991@linux-4bod.home.aster.pl>
References: <E1NrCYL-00043V-IL@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100315202210.GA14991@linux-4bod.home.aster.pl>
Message-ID: <CE905F32-06BF-4D35-A6FE-8790E9351FD8@syenar.hu>

Hi,

>> -----------
>> 2010-03-15 16:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  + external/bzip2/bzip2.dif
>>    + Added .dif file.
> 
> What about enabling BZIP2 compilation in DOS and OS2 builds?
> This code can be compiled as is by DJGPP and this small patch
> 
>   --- harbour/external/bzip2/bzip2.c	(wersja 14171)
>   +++ harbour/external/bzip2/bzip2.c	(kopia robocza)
>   @@ -34,7 +34,8 @@
>    --*/
>    #define BZ_LCCWIN32  0
> 
>   -#if defined(_WIN32) && !defined(__CYGWIN__)
>   +#if ( defined(_WIN32) && !defined(__CYGWIN__) ) || \
>   +    ( defined(__WATCOMC__) && ( defined(__OS2__) || defined(__DOS__) ) )
> 
> fixes compilation with OpenWatcom for DOS and OS2.
> Probably support for OS2 GCC will also need only such cosmetic
> modifications or maybe it even works out of the box.

All the better. I will make above modifications, but 
it will enable bzip2 also for os2/gcc, so it will fail 
unless necessary patches are added for this target.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Mar 15 16:32:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 15 16:32:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14172] trunk/harbour
Message-ID: <E1NrGxo-0005tE-Sa@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14172
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14172&view=rev
Author:   vszakats
Date:     2010-03-15 20:32:35 +0000 (Mon, 15 Mar 2010)

Log Message:
-----------
2010-03-15 21:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/bzip2/Makefile
  * external/bzip2/bzip2.dif
  * external/bzip2/bzip2.c
    + Added patch to make it compile on dos and os2/watcom.
      Thanks to Przemek.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/bzip2/Makefile
    trunk/harbour/external/bzip2/bzip2.c
    trunk/harbour/external/bzip2/bzip2.dif


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Mar 15 16:40:16 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 15 16:40:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14173] trunk/harbour
Message-ID: <E1NrH5E-0002NF-40@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14173
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14173&view=rev
Author:   druzus
Date:     2010-03-15 20:40:14 +0000 (Mon, 15 Mar 2010)

Log Message:
-----------
2010-03-15 21:40 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbthread.h
    ! added workaround for problems with static __thread variables in
      Open64 C compiler

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbthread.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar 15 16:40:36 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 15 16:40:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14172] trunk/harbour
In-Reply-To: <E1NrGxo-0005tE-Sa@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NrGxo-0005tE-Sa@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <20100315204036.GA15868@linux-4bod.home.aster.pl>

On Mon, 15 Mar 2010, vszakats@users.sourceforge.net wrote:
> 2010-03-15 21:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * external/bzip2/Makefile
>   * external/bzip2/bzip2.dif
>   * external/bzip2/bzip2.c
>     + Added patch to make it compile on dos and os2/watcom.
>       Thanks to Przemek.

Thank you very much.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Mar 15 16:58:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 15 16:58:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14174] trunk/harbour
Message-ID: <E1NrHN8-0001gm-UY@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14174
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14174&view=rev
Author:   vszakats
Date:     2010-03-15 20:58:45 +0000 (Mon, 15 Mar 2010)

Log Message:
-----------
2010-03-15 21:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * external/Makefile
    - Deleted "HB_EXTERNALLIBS=no" option. Blindly disabling
      all external libs can break the build process.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/external/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jlcapel2 at gmail.com  Mon Mar 15 17:50:24 2010
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Mon Mar 15 17:50:34 2010
Subject: [Harbour] Error building libs for Msvc 2008 CE
Message-ID: <ab2a7b4c1003151450q1eb0c1dfjf6fa6bf2c336049e@mail.gmail.com>

Hi all,

I have some errors building libs for msvc 2008 ce.

Using these sets:


call "C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"

set INCLUDE=C:\Program Files (x86)\Microsoft Visual Studio
9.0\VC\ce\include;C:\Program Files (x86)\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i;C:\Program Files (x86)\Microsoft Visual Studio
9.0\VC\include\
set LIB=C:\Program Files (x86)\Microsoft Visual Studio
9.0\VC\ce\lib\armv4i;C:\Program Files (x86)\Windows Mobile 5.0 SDK
R2\PocketPC\Lib\ARMV4I
set PATH=e:\programacion_ant\hb_mvsc\bin;C:\Program Files (x86)\Microsoft
Visual Studio 9.0\VC\ce\bin\x86_arm;C:\Program Files (x86)\Microsoft Visual
Studio 8\Common7\IDE;%PATH%

SET HB_INSTALL_PREFIX=e:\programacion_ant\hb_msvcce
SET HB_CONTRIBLIBS=no
SET HB_CONTRIB_ADDONS=no

using:

win-make clean install

I get this:

        1 archivo(s) copiado(s).
cl.exe   -I. -I../../../../../include -nologo -D_M_ARM -DARM -D_ARM_ -TC -Od
-Os
 -Gy -EHsc- -DHB_LEGACY_TYPES_OFF  -DUNICODE -DUNDER_CE -D_WIN32_WCE
-Fosqlite3
.obj -c ../../../sqlite3.c
sqlite3.c
lib.exe    -nologo -out:../../../../../lib/wce/msvcarm/sqlite3.lib
sqlite3.obj |
| del /q /f ../../../../../lib/wce/msvcarm/sqlite3.lib
        1 archivo(s) copiado(s).
! 'bzip2' library skipped (unused)
! 'libhpdf' library skipped (platform or compiler not supported)
cl.exe   -I. -I../../../../../include -nologo -D_M_ARM -DARM -D_ARM_ -TC -Od
-Os
 -Gy -EHsc- -DHB_LEGACY_TYPES_OFF  -DUNICODE -DUNDER_CE
-IE:/Programacion_ant/ha
rbour/external/zlib  -Fopng.obj -c ../../../png.c
png.c
e:\programacion_ant\harbour\external\libpng\pngconf.h(336) : fatal error
C1083:
No se puede abrir el archivo incluir: 'sys/types.h': No such file or
directory
win-make[3]: *** [png.obj] Error 2
win-make[2]: *** [descend] Error 2
win-make[1]: *** [libpng.inst] Error 2
win-make: *** [external.inst] Error 2

Any help is wellcommen.

Regards,
Jos? Luis Capel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100315/52a9797f/attachment.html
From dbtopas at dbtopas.lt  Mon Mar 15 18:17:07 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 15 18:17:42 2010
Subject: [Harbour] Re: MT workareas cloning
In-Reply-To: <20100315170525.GB2717@linux-4bod.home.aster.pl>
References: <9257026e0906160142k502d2a1dl3ffb1700e7d89d88@mail.gmail.com>	<20090616090322.GA13809@uran.home.aster.pl>	<9257026e0906160449g79816c20rb86a2f59ed011e15@mail.gmail.com>	<20090616122446.GB25472@uran.home.aster.pl>	<24055313.post@talk.nabble.com>	<20090617110309.GA21515@uran.home.aster.pl>	<1268202156827-4707278.post@n2.nabble.com>	<4B9E51F7.3000506@dbtopas.lt>
	<20100315170525.GB2717@linux-4bod.home.aster.pl>
Message-ID: <4B9EB1E3.7040602@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
>> The second proposed solution is more flexible, but is not optimal
>> because it keeps a long mutex lock on "zerospace" internals.
> 
> Just like WorkaAreaEval() in xbase++ and it's the reason why I still
> haven't added it to SVN code.
> 
> There is one very serious problem with alias name modification and
> switching workareas between threads. It hardly interacts with RDDs
> using remote servers which allows to optimize expressions and execute
> them on the server side. It causes that it's necessary to replicate
> on the server side all local alias modifications what can seriously
> reduce the performance.

If we allow "modification" of alias only on workarea attaching, then we 
just have to treat detach as close, and attach as open. Perhaps this can 
help to simplify remote RDD optimisations, but I do not have a whole 
picture here.


> Anyhow current code which tries to follow xbase++ specification
> replicated also some xbase++ anomalies (fortunately not all) so it
> has to be cleaned and I plan to make.
> Your propositions are very interesting but before I'll change anything
> in this code I will want to rethink all interactions with RDDs using
> remote servers.

I see also some hidden problems, that's why I wanted to make more a 
discussion, than a final "I wish" idea proposal.

The first idea that came to my mind was functions:
    hArea := HB_DBDETACH( [ cAlias | nWorkArea ])
and
    HB_DBATTACH( hArea, [ cAlias ], [ lNewArea ] )

hArea could be any handle to detached workarea, f.e., number, but 
collectible pointer is the best choice in case of Harbour. If hArea is 
not visible for application than area is closed. A simple HB_DBDETACH() 
call without using return value is equivalent to DBCLOSEAREA(). This 
hArea can be stored in array together with corresponding alias, 
filename, index, open mode, or whatever data, and later simple ASCAN() 
can be used to get alias from "zerospace". hArea can also be notified to 
some mutex queue and this is equivalent to fWait flag in current 
DBREQUEST().

But these two HB_DBDETACH()/HB_DBATTACH() has very different logic from 
current xBase++ implementation, so, I did not proposed this. On the 
other hand I feel we should use the solution that fits our ideas the 
best and is enough flexible to build another logic on the top of it. F.e.:

STATIC saZeroSpace := {}
STATIC shMutex := HB_MUTEXCREATE()

FUNC DBDETACH( cAlias, xCargo )
   LOCAL hArea
   IF EMPTY(cAlias);  cAlias := ALIAS()
   ENDIF
   hArea := HB_DBDETACH(cAlias)
   IF EMPTY(hArea);  RETURN .F.
   ENDIF
   HB_MUTEXLOCK(shMutex)
   AADD(saZeroSpace, {hArea, cAlias, xCargo})
   HB_MUTEXNOTIFYALL(shMutex)
   HB_MUTEXUNLOCK(shMutex)
RETURN .T.

FUNC DBREQUEST( cAlias, lFreeArea, xCargo, lWait )
   LOCAL nI, lRet := .F.
   HB_MUTEXLOCK(shMutex)
   DO WHILE .T.
     IF (nI := ASCAN(saZeroSpace, {|X| X[2] == cAlias})) > 0
       HB_DBATTACH(saZeroSpace[nI, 1], saZeroSpace[nI, 2], lFreeArea)
       xCargo := saZeroSpace[nI, 3]
       ADEL(saZeroSpace, nI)
       ASIZE(saZeroSpace, LEN(saZeroSpace) - 1)
       lRet := .T.
       EXIT
     ENDIF
     IF ! EMPTY(lWait)
       HB_MUTEXSUBSCRIBE(shMutex)
     ELSE
       EXIT
     ENDIF
   ENDDO
   HB_MUTEXLOCK(shMutex)
RETURN lRet

/* This code represents the idea only, it is not tested, can contain 
bugs, can be optimized by putting new item position into notify queue, 
to avoid ascan of all array for all mutex subscribers and so on... */


Regards,
Mindaugas
From druzus at users.sourceforge.net  Mon Mar 15 18:57:32 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 15 18:57:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14175] trunk/harbour
Message-ID: <E1NrJE4-0003zl-9n@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14175
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14175&view=rev
Author:   druzus
Date:     2010-03-15 22:57:31 +0000 (Mon, 15 Mar 2010)

Log Message:
-----------
2010-03-15 23:57 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/wapi_winuser.c
    + added new PRG function:
         WAPI_LoadImage( [<hInstance>], <cName>, [<nType>],
                         [<nWidth>], [<nHeight>], [<nFlags>] ) -> <hImage>

  * harbour/contrib/hbwin/Makefile
  + harbour/contrib/hbwin/win_shell.c
    + added new PRG function:
         WIN_ShellNotifyIcon( [<hWnd>], [<nUID>], [<nMessage>], [<hIcon>],
                              [<cTooltip>], [<lAddDel>] ) -> <lOK>

  * harbour/contrib/hbwin/hbwin.ch
    + added new constants for WAPI_LoadImage() and WIN_ShellNotifyIcon()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/wapi_winuser.c

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/win_shell.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Tue Mar 16 04:52:16 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Mar 16 04:52:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14176] trunk/harbour
Message-ID: <E1NrSVc-0007gm-68@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14176
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14176&view=rev
Author:   vouchcac
Date:     2010-03-16 08:51:56 +0000 (Tue, 16 Mar 2010)

Log Message:
-----------
2010-03-16 01:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/arguments.png
  + contrib/hbide/resources/description.png
  * contrib/hbide/resources/docviewgenerator.ui
  * contrib/hbide/resources/docviewgenerator.uic
  + contrib/hbide/resources/docwriter.png
  + contrib/hbide/resources/docwriter.ui
  + contrib/hbide/resources/docwriter.uic
  + contrib/hbide/resources/editstree.png
  + contrib/hbide/resources/example.png
  + contrib/hbide/resources/helpdoc.png
  + contrib/hbide/resources/load_1.png
  + contrib/hbide/resources/load_2.png
  + contrib/hbide/resources/load_3.png
  + contrib/hbide/resources/panel_8.png
  + contrib/hbide/resources/projtree.png
  * contrib/hbide/resources/tabs.png
  + contrib/hbide/resources/tests.png
  * contrib/hbide/resources/togglelinenumber.png
  + contrib/hbide/resources/unload_1.png
    + Added more images, refind few.

  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
    ! More artifacts corrected.

  * contrib/hbqt/hbqt_hbslots.cpp
  * contrib/hbqt/hbqt_hbslots.h
    + Added more slots.

  * contrib/hbxbp/xbptoolbar.prg
    ! Provided the "objectName" TO main toolbar.

  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  + contrib/hbide/idedocwriter.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/ideharbourhelp.prg
  * contrib/hbide/idehome.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idestylesheets.prg
  * contrib/hbide/idethemes.prg

    ! Corrected many artifacts, so many that cannot be mensioned precisely.
    + Implemented: basic documentation writer.

    Documentation Writer
    --------------------
      1.  Click on "Documentation Writer" icon on the right-toolbar,
      2.  Open some source in the editor,
      3.  Position cursor somewhere inside a function body,
      4.  Click on "Load from current function" icon on the 
          top-toolbar of "Document Writer" widget,
      5.  Look at the contents, few fields will be auto filled
          with various info from current function,
      6.  Complete the other fields with relevent information,
      7.1 Click on "Save the documentation with current function",
       .2 Look at the function body in the editor,
          The NANFORUM compliant documentation will be inserted
          at the top of function's prototype.
      8.1 Click on "Save written/updated documentation" icon,
          and provide the filename to save on disk,
       .2 Copy such generated .txt in /harbour/doc/en,
       .3 Open "Harbour Document Viewer" and you should be viweing 
          newly written documentation there.
       .4 Such generated file is ready to be uploaded to SVN,
          just send it to the list and group will decide if it needs
          something extra.

     It is a quick way to generate help. You can keep the documentation
     in your sources or can create a tree like Harbour's. I know
     there is a lot more to be done in this tool, but at least group
     can start using it.

     My humble request is: start writing the documentation. I will polish
     this tool in coming week, so be assured that everything which need
     be done will be done. You cooperation is more important than this tool.

     ;TODO: Loading existing doc and merging it back after edits, on disk.
            Loading doc from source file and replacing old with new one.
            And many more, plus, whatever you will demand.
     

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/idehome.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbide/resources/docviewgenerator.ui
    trunk/harbour/contrib/hbide/resources/docviewgenerator.uic
    trunk/harbour/contrib/hbide/resources/tabs.png
    trunk/harbour/contrib/hbide/resources/togglelinenumber.png
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbslots.h
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idedocwriter.prg
    trunk/harbour/contrib/hbide/resources/arguments.png
    trunk/harbour/contrib/hbide/resources/description.png
    trunk/harbour/contrib/hbide/resources/docwriter.png
    trunk/harbour/contrib/hbide/resources/docwriter.ui
    trunk/harbour/contrib/hbide/resources/docwriter.uic
    trunk/harbour/contrib/hbide/resources/editstree.png
    trunk/harbour/contrib/hbide/resources/example.png
    trunk/harbour/contrib/hbide/resources/helpdoc.png
    trunk/harbour/contrib/hbide/resources/load_1.png
    trunk/harbour/contrib/hbide/resources/load_2.png
    trunk/harbour/contrib/hbide/resources/load_3.png
    trunk/harbour/contrib/hbide/resources/panel_8.png
    trunk/harbour/contrib/hbide/resources/projtree.png
    trunk/harbour/contrib/hbide/resources/tests.png
    trunk/harbour/contrib/hbide/resources/unload_1.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Mar 16 05:00:04 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 16 05:00:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14172] trunk/harbour
In-Reply-To: <E1NrGxo-0005tE-Sa@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NrGxo-0005tE-Sa@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <4B9F4894.2030208@libero.it>

Viktor,

I've just rebuilt everything and now I have a bzip2.a file, is there some test
program so that we can see if it works?

Maurilio.


vszakats@users.sourceforge.net wrote:
> Revision: 14172
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14172&view=rev
> Author:   vszakats
> Date:     2010-03-15 20:32:35 +0000 (Mon, 15 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-15 21:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * external/bzip2/Makefile
>   * external/bzip2/bzip2.dif
>   * external/bzip2/bzip2.c
>     + Added patch to make it compile on dos and os2/watcom.
>       Thanks to Przemek.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/external/bzip2/Makefile
>     trunk/harbour/external/bzip2/bzip2.c
>     trunk/harbour/external/bzip2/bzip2.dif
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Mar 16 05:34:19 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 16 05:34:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14172] trunk/harbour
In-Reply-To: <4B9F4894.2030208@libero.it>
References: <E1NrGxo-0005tE-Sa@sfp-svn-2.v30.ch3.sourceforge.com>
	<4B9F4894.2030208@libero.it>
Message-ID: <744C23BF-C305-4D06-B926-6BC0F8AD5D81@syenar.hu>

Hi Maurilio,

> I've just rebuilt everything and now I have a bzip2.a file, is there some test
> program so that we can see if it works?

There isn't yet. We will need wrappers for it, just 
like for zlib.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Mar 16 05:56:36 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 16 05:56:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14172] trunk/harbour
In-Reply-To: <744C23BF-C305-4D06-B926-6BC0F8AD5D81@syenar.hu>
References: <E1NrGxo-0005tE-Sa@sfp-svn-2.v30.ch3.sourceforge.com>
	<4B9F4894.2030208@libero.it>
	<744C23BF-C305-4D06-B926-6BC0F8AD5D81@syenar.hu>
Message-ID: <20100316095636.GA23444@linux-4bod.home.aster.pl>

On Tue, 16 Mar 2010, Szak?ts Viktor wrote:

Hi,

> > I've just rebuilt everything and now I have a bzip2.a file, is there some test
> > program so that we can see if it works?
> There isn't yet. We will need wrappers for it, just 
> like for zlib.

I have such basic wrapper but so far I haven't found time
to make it ready to commit to SVN.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Mar 16 06:37:48 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 16 06:38:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14176] trunk/harbour
In-Reply-To: <E1NrSVc-0007gm-68@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NrSVc-0007gm-68@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <609353e71003160337r3f3985a8o109b773140207c13@mail.gmail.com>

Now is easy extend harbour documentation , it is very useful  feature
for harbour group that revise harbour documentation
In fist step loading from current function seem not work because i
must click inside
func aadd()  ..selectiside..  return ,istead that  len(selectinside)
and aadd(selectinside)
Wich relactionship from Documentation Writer and harbour documentation?
 ;TODO: Loading existing doc and merging it back after edits, on disk.
> ? ? ? ? ? ?Loading doc from source file and replacing old with new one.
> ? ? ? ? ? ?And many more, plus, whatever you will demand.
will be possible  start also from harbour documetation for write?

I have update my page with a ready to run version at
http://harbourlanguage.blogspot.com/ for each people who want a fast
start

I invite anybody instreted in harbour documentation to cooperate with
any suggestion

Pritpal request
Easy project creation with few click as possible
Automatically save on temporary/bak files when compile
Does hbide  have any plugin or add-on for directly commiting the work
in a repository (if qt have svn class), for us that would be for
SourceForge? like AnkhSVN is a Subversion SourceControl Provider for
VisualStudio

2010/ 3/16  <vouchcac@users.sourceforge.net>:
> Revision: 14176
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14176&view=rev
> Author: ? vouchcac
> Date: ? ? 2010-03-16 08:51:56 +0000 (Tue, 16 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-16 01:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?+ contrib/hbide/resources/arguments.png
> ?+ contrib/hbide/resources/description.png
> ?* contrib/hbide/resources/docviewgenerator.ui
> ?* contrib/hbide/resources/docviewgenerator.uic
> ?+ contrib/hbide/resources/docwriter.png
> ?+ contrib/hbide/resources/docwriter.ui
> ?+ contrib/hbide/resources/docwriter.uic
> ?+ contrib/hbide/resources/editstree.png
> ?+ contrib/hbide/resources/example.png
> ?+ contrib/hbide/resources/helpdoc.png
> ?+ contrib/hbide/resources/load_1.png
> ?+ contrib/hbide/resources/load_2.png
> ?+ contrib/hbide/resources/load_3.png
> ?+ contrib/hbide/resources/panel_8.png
> ?+ contrib/hbide/resources/projtree.png
> ?* contrib/hbide/resources/tabs.png
> ?+ contrib/hbide/resources/tests.png
> ?* contrib/hbide/resources/togglelinenumber.png
> ?+ contrib/hbide/resources/unload_1.png
> ? ?+ Added more images, refind few.
>
> ?* contrib/hbqt/hbqt_hbqplaintextedit.cpp
> ? ?! More artifacts corrected.
>
> ?* contrib/hbqt/hbqt_hbslots.cpp
> ?* contrib/hbqt/hbqt_hbslots.h
> ? ?+ Added more slots.
>
> ?* contrib/hbxbp/xbptoolbar.prg
> ? ?! Provided the "objectName" TO main toolbar.
>
> ?* contrib/hbide/hbide.hbp
> ?* contrib/hbide/hbide.prg
> ?* contrib/hbide/ideactions.prg
> ?* contrib/hbide/idedocks.prg
> ?+ contrib/hbide/idedocwriter.prg
> ?* contrib/hbide/ideeditor.prg
> ?* contrib/hbide/ideharbourhelp.prg
> ?* contrib/hbide/idehome.prg
> ?* contrib/hbide/idemisc.prg
> ?* contrib/hbide/ideobject.prg
> ?* contrib/hbide/ideprojmanager.prg
> ?* contrib/hbide/idestylesheets.prg
> ?* contrib/hbide/idethemes.prg
>
> ? ?! Corrected many artifacts, so many that cannot be mensioned precisely.
> ? ?+ Implemented: basic documentation writer.
>
> ? ?Documentation Writer
> ? ?--------------------
> ? ? ?1. ?Click on "Documentation Writer" icon on the right-toolbar,
> ? ? ?2. ?Open some source in the editor,
> ? ? ?3. ?Position cursor somewhere inside a function body,
> ? ? ?4. ?Click on "Load from current function" icon on the
> ? ? ? ? ?top-toolbar of "Document Writer" widget,
> ? ? ?5. ?Look at the contents, few fields will be auto filled
> ? ? ? ? ?with various info from current function,
> ? ? ?6. ?Complete the other fields with relevent information,
> ? ? ?7.1 Click on "Save the documentation with current function",
> ? ? ? .2 Look at the function body in the editor,
> ? ? ? ? ?The NANFORUM compliant documentation will be inserted
> ? ? ? ? ?at the top of function's prototype.
> ? ? ?8.1 Click on "Save written/updated documentation" icon,
> ? ? ? ? ?and provide the filename to save on disk,
> ? ? ? .2 Copy such generated .txt in /harbour/doc/en,
> ? ? ? .3 Open "Harbour Document Viewer" and you should be viweing
> ? ? ? ? ?newly written documentation there.
> ? ? ? .4 Such generated file is ready to be uploaded to SVN,
> ? ? ? ? ?just send it to the list and group will decide if it needs
> ? ? ? ? ?something extra.
>
> ? ? It is a quick way to generate help. You can keep the documentation
> ? ? in your sources or can create a tree like Harbour's. I know
> ? ? there is a lot more to be done in this tool, but at least group
> ? ? can start using it.
>
> ? ? My humble request is: start writing the documentation. I will polish
> ? ? this tool in coming week, so be assured that everything which need
> ? ? be done will be done. You cooperation is more important than this tool.
>
> ? ? ;TODO: Loading existing doc and merging it back after edits, on disk.
> ? ? ? ? ? ?Loading doc from source file and replacing old with new one.
> ? ? ? ? ? ?And many more, plus, whatever you will demand.
>
-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Tue Mar 16 08:56:24 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 16 08:56:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14177] trunk/harbour
Message-ID: <E1NrWJs-0006ob-9M@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14177
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14177&view=rev
Author:   druzus
Date:     2010-03-16 12:56:23 +0000 (Tue, 16 Mar 2010)

Log Message:
-----------
2010-03-16 13:56 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/Makefile
  + harbour/contrib/hbbzip2
  + harbour/contrib/hbbzip2/hbbzip2.c
  + harbour/contrib/hbbzip2/hbbzip2.ch
  + harbour/contrib/hbbzip2/Makefile
    + added very simple wrapper to BZIP2 compression
      Now only buffer compression functions.
         HB_BZ2_VERSION() -> <cBZlibVersion>
         HB_BZ2_COMPRESSBOUND( <cData> | <nDataLen> ) -> <nMaxCompressLen>
         HB_BZ2_UNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
                  -> <nUnCompressedDataLen> or 0 on error
         HB_BZ2_COMPRESS( <cData>, [<nDstBufLen>|<@cBuffer>], [<@nResult>],
                          [<nLevel>] ) -> <cCompressedData> or NIL on Error
         HB_BZ2_UNCOMPRESS( <cCompressedData>, [<nDstBufLen>|<@cBuffer>],
                            [<@nResult>] ) -> <cUnCompressedData> or NIL
                                              on Error

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/hbbzip2/
    trunk/harbour/contrib/hbbzip2/Makefile
    trunk/harbour/contrib/hbbzip2/hbbzip2.c
    trunk/harbour/contrib/hbbzip2/hbbzip2.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Tue Mar 16 10:09:16 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Mar 16 10:09:25 2010
Subject: [Harbour] Decimal Arithmetic
Message-ID: <4B9F910C.1000403@mweb.co.za>

Hi All

I found this site:

http://speleotrove.com/decimal/

I have often wished to get around the problems of floating point arithmetic. 
This library seems to offer a route that is not too steep. Any takers for a new 
type? Unfortunately "D"ecimal and "M"oney are taken.

Regards
Alex




From mbelgrano at deltain.it  Tue Mar 16 10:22:10 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 16 10:22:39 2010
Subject: [Harbour] Decimal Arithmetic
In-Reply-To: <4B9F910C.1000403@mweb.co.za>
References: <4B9F910C.1000403@mweb.co.za>
Message-ID: <609353e71003160722l18af1eccu7d45cae46458e89b@mail.gmail.com>

The upcoming GCC 4.5 (In stage of regression fixes and docs only) has
been integrated with the MPC library. This allows GCC to evaluate
complex arithmetic at compile time more accurately. It also allows GCC
to evaluate calls to complex built-in math functions having constant
arguments and replace them at compile time with their mathematically
equivalent results. In doing so, GCC can generate correct results
regardless of the math library implementation or floating point
precision of the host platform.

http://gcc.gnu.org/gcc-4.5/changes.html
GCG 4.5  ADD also a layer that gives performance improvement

2010/3/16 Alex Strickland <sscc@mweb.co.za>:
> Hi All
>
> I found this site:
>
> http://speleotrove.com/decimal/
>
> I have often wished to get around the problems of floating point arithmetic.
> This library seems to offer a route that is not too steep. Any takers for a
> new type? Unfortunately "D"ecimal and "M"oney are taken.
>
> Regards
> Alex
>



-- 
Massimo Belgrano
From jparada_a at hotmail.com  Tue Mar 16 10:54:26 2010
From: jparada_a at hotmail.com (jparada)
Date: Tue Mar 16 10:54:33 2010
Subject: [Harbour] Error when I try to recompile Harbour (Rev. 14,177,
	hbbzip2.c)
Message-ID: <27919061.post@talk.nabble.com>


Hi,

I'm trying to recompile Harbour (Rev. 14177, on Windows Vista), before I
make mingw32-make clean and then I try to compile (only mingw32-make) and
displays errors, please take a look at the attached image.

Thanks

Best regards
Javier Parada
http://old.nabble.com/file/p27919061/img.png 
-- 
View this message in context: http://old.nabble.com/Error-when-I-try-to-recompile-Harbour-%28Rev.-14%2C177%2C-hbbzip2.c%29-tp27919061p27919061.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Tue Mar 16 11:12:25 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 16 11:12:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14178] trunk/harbour
Message-ID: <E1NrYRV-0006ti-B2@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14178
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14178&view=rev
Author:   vszakats
Date:     2010-03-16 15:12:21 +0000 (Tue, 16 Mar 2010)

Log Message:
-----------
2010-03-16 16:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbbzip2/Makefile
    + Added bzip2 header detection and setup.
    ; TOFIX: Some warnings:
      mingw:
         hbbzip2.c: In function 'hb_bz2Compress':
         hbbzip2.c:96: warning: left shift count >= width of type
         hbbzip2.c: In function 'hb_bz2UncompressedSize':
         hbbzip2.c:138: warning: left shift count >= width of type
         hbbzip2.c: In function 'hb_bz2Uncompress':
         hbbzip2.c:177: warning: left shift count >= width of type
      msvc:
         hbbzip2.c(96) : warning C4293: '<<' : shift count negative or too big, undefined behavior
         hbbzip2.c(138) : warning C4293: '<<' : shift count negative or too big, undefined behavior
         hbbzip2.c(177) : warning C4293: '<<' : shift count negative or too big, undefined behavior

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbzip2/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Mar 16 11:25:47 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 16 11:25:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14178] trunk/harbour
In-Reply-To: <E1NrYRV-0006ti-B2@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NrYRV-0006ti-B2@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <20100316152547.GA30479@linux-4bod.home.aster.pl>

On Tue, 16 Mar 2010, vszakats@users.sourceforge.net wrote:

Hi,

>     + Added bzip2 header detection and setup.
>     ; TOFIX: Some warnings:

I left them intentionally.

best regards,
Przemek
From maurilio.longo at libero.it  Tue Mar 16 11:31:25 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 16 11:31:38 2010
Subject: [Harbour] Decimal Arithmetic
In-Reply-To: <4B9F910C.1000403@mweb.co.za>
References: <4B9F910C.1000403@mweb.co.za>
Message-ID: <4B9FA44D.7070502@libero.it>

Alex,

(I'm resending this without attachment because the first copy, with a 120Kb
attachment didn't reach the list).

a couple years ago I did a quick port of Mike Cowlishaw decNumber library to
xharbour.

It's alpha code quality (mine, not decNumber! .)) and xharbour specific, but
enough to get going with harbour as well.

Maybe, if it is considered usefull we could put it into contrib.

I attach it to this message, but I fear it's too big to pass.

Best regards.

Maurilio.


Alex Strickland wrote:
> Hi All
> 
> I found this site:
> 
> http://speleotrove.com/decimal/
> 
> I have often wished to get around the problems of floating point
> arithmetic. This library seems to offer a route that is not too steep.
> Any takers for a new type? Unfortunately "D"ecimal and "M"oney are taken.
> 
> Regards
> Alex
> 
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Mar 16 11:35:51 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 16 11:36:05 2010
Subject: [Harbour] Decimal Arithmetic
In-Reply-To: <4B9FA44D.7070502@libero.it>
References: <4B9F910C.1000403@mweb.co.za> <4B9FA44D.7070502@libero.it>
Message-ID: <4B9FA557.2060705@libero.it>

Ok,

here attachment with only my code, it is supposed to be put inside a folder
with decNumber source code.

BTW, I've found your link points to the same library :) It just changes domain
name.

Best regards.

Maurilio.


Maurilio Longo wrote:
> Alex,
> 
> (I'm resending this without attachment because the first copy, with a 120Kb
> attachment didn't reach the list).
> 
> a couple years ago I did a quick port of Mike Cowlishaw decNumber library to
> xharbour.
> 
> It's alpha code quality (mine, not decNumber! .)) and xharbour specific, but
> enough to get going with harbour as well.
> 
> Maybe, if it is considered usefull we could put it into contrib.
> 
> I attach it to this message, but I fear it's too big to pass.
> 
> Best regards.
> 
> Maurilio.
> 
> 
> Alex Strickland wrote:
>> Hi All
>>
>> I found this site:
>>
>> http://speleotrove.com/decimal/
>>
>> I have often wished to get around the problems of floating point
>> arithmetic. This library seems to offer a route that is not too steep.
>> Any takers for a new type? Unfortunately "D"ecimal and "M"oney are taken.
>>
>> Regards
>> Alex
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: decNumber.zip
Type: application/octet-stream
Size: 4876 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100316/cf7f2819/decNumber.obj
From bedipritpal at hotmail.com  Tue Mar 16 15:22:18 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 16 15:22:25 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14176] trunk/harbour
In-Reply-To: <609353e71003160337r3f3985a8o109b773140207c13@mail.gmail.com>
References: <E1NrSVc-0007gm-68@sfp-svn-4.v30.ch3.sourceforge.com>
	<609353e71003160337r3f3985a8o109b773140207c13@mail.gmail.com>
Message-ID: <1268767338839-4745845.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> In fist step loading from current function seem not work because i
> must click inside
> 

Yes, of course. Otherwise how I know what you want to load.



> func aadd()  ..selectiside..  return ,istead that  len(selectinside)
> and aadd(selectinside)
> 

I am completely lost what you are asking.



> Wich relactionship from Documentation Writer and harbour documentation?
>  ;TODO: Loading existing doc and merging it back after edits, on disk.
>> ? ? ? ? ? ?Loading doc from source file and replacing old with new one.
>> ? ? ? ? ? ?And many more, plus, whatever you will demand.
> will be possible  start also from harbour documetation for write?
> 

This is what I put as TODO list.




> Easy project creation with few click as possible
> 

It will be. Also extended as which type of project -
Harbour, xHarbour or Xbase++.  It will be wizard based
where different parameters with defaults already there
will be asked.



> Automatically save on temporary/bak files when compile
> 

Why temporarily ? It should be saved as usual. Will do it shortly.



> Does hbide  have any plugin or add-on for directly commiting the work
> in a repository (if qt have svn class), for us that would be for
> SourceForge? like AnkhSVN is a Subversion SourceControl Provider for
> VisualStudio
> 

Can somebody provide "command line" with parameters to "update"
and "commit" to the Tortoise SVN ?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14176-trunk-harbour-tp4742418p4745845.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From niki at synel.co.il  Tue Mar 16 15:23:10 2010
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar 16 15:23:23 2010
Subject: [Harbour] SF bug tracker#2971427: Function WVT_SETFONT
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CE5@Mail-yoq.SYNEL-COMPANY.LTD>

Alexandre Sim?es submitted the following bug report on SF:
http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2971427&group_id=681

--------
The function wvt_setfont is not correctly showing the characters of the source visuallib.ttf the
function is being used thus:
Wvt_SetFont (\' VisualLib\' , 28,10, FW_NORMAL, 2)
The presented characters do not correspond the table of the source.

Harbour Version: svn 2.1.0dev (Rev. 14167)
Compiler Mingw : tdm-mingw-1.908.0-4.4.1-2
Os: Windows XP Professional SP3

Code:
FUNCTION IniciaJanela(nLi,nCi,nLf,nCf)
LOCAL oCrt
PUBLIC hWnd,;
       cTituloJanela
DEFAULT nLi TO -4,;
        nCi TO -4,;
        nLf TO MaxRow(),;
        nCf TO mAxCol()

  oCrt := WvgCrt():New( , , { nLi,nCi }, { nLf,nCf}, , .t. )
  oCrt:lModal := .F.
  oCrt:icon := ''
  oCrt:create()
  oCrt:resizable :=.f.    //80 X 28
  hb_gtInfo( HB_GTI_SETFONT, { "VisualLib", 28, 10,HB_GTI_FONTW_NORMAL,HB_GTI_FONTQ_HIGH } )

  cTituloJanela:=HB_OEMTOANSI("Teste com VisualLib | v2010.Mar?o")
  WVT_SetTitle(cTituloJanela)
  WVT_SetAltF4Close(.F. )
  HB_GtInfo( HB_GTI_SPEC, HB_GTS_WNDSTATE, HB_GTS_WS_MAXIMIZED )
  hWnd:=HWG_FindWindow( ,cTituloJanela)
RETURN Nil

VisualLib.TTF: http://www.4shared.com/file/242548054/f325b885/VisualLib.html
--------


Can anyone help?

  Chen.
From mbelgrano at deltain.it  Tue Mar 16 15:51:43 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 16 15:52:12 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14176] trunk/harbour
In-Reply-To: <1268767338839-4745845.post@n2.nabble.com>
References: <E1NrSVc-0007gm-68@sfp-svn-4.v30.ch3.sourceforge.com> 
	<609353e71003160337r3f3985a8o109b773140207c13@mail.gmail.com> 
	<1268767338839-4745845.post@n2.nabble.com>
Message-ID: <609353e71003161251l3d54bfb3h62e689355bda9f44@mail.gmail.com>

>
>
> Massimo Belgrano wrote:
>>
>> In fist step loading from current function seem not work because i
>> must click inside
> Yes, of course. Otherwise how I know what you want to load.
>> func aadd() ?..selectiside.. ?return ,istead that ?len(selectinside)
>> and aadd(selectinside)
> I am completely lost what you are asking.
still Sorry my bad english
I try expain pred difficult supered non ask any

>
>
>
>> Wich relactionship from Documentation Writer and harbour documentation?
>> ?;TODO: Loading existing doc and merging it back after edits, on disk.
>>> ? ? ? ? ? ?Loading doc from source file and replacing old with new one.
>>> ? ? ? ? ? ?And many more, plus, whatever you will demand.
>> will be possible ?start also from harbour documetation for write?
>>
>
> This is what I put as TODO list.
Good

>> Easy project creation with few click as possible
> It will be. Also extended as which type of project -
> Harbour, xHarbour or Xbase++. ?It will be wizard based
> where different parameters with defaults already there
> will be asked.
Thanks
so you can add clipper  to list

>> Automatically save on temporary/bak files when compile
>>
>
> Why temporarily ? It should be saved as usual. Will do it shortly.
IMO the important is automatic saving
I think temporary to not commit to original file but .bak


>> Does hbide ?have any plugin or add-on for directly commiting the work
>> in a repository (if qt have svn class), for us that would be for
>> SourceForge? like AnkhSVN is a Subversion SourceControl Provider for
>> VisualStudio
> Can somebody provide "command line" with parameters to "update"
> and "commit" to the Tortoise SVN ?
I think http://kdesvn-build.kde.org/releases/kdesvn-build-1.10.php


-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Tue Mar 16 15:54:07 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 16 15:54:13 2010
Subject: [Harbour] Re: SF bug tracker#2971427: Function WVT_SETFONT
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CE5@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CE5@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1268769247195-4746039.post@n2.nabble.com>



Chen Kedem wrote:
> 
> The function wvt_setfont is not correctly showing the characters of the
> source visuallib.ttf the
> function is being used thus:
> Wvt_SetFont (\' VisualLib\' , 28,10, FW_NORMAL, 2)
> The presented characters do not correspond the table of the source.
> 
> Harbour Version: svn 2.1.0dev (Rev. 14167)
> Compiler Mingw : tdm-mingw-1.908.0-4.4.1-2
> Os: Windows XP Professional SP3
> 
> Code:
> FUNCTION IniciaJanela(nLi,nCi,nLf,nCf)
> LOCAL oCrt
> PUBLIC hWnd,;
>        cTituloJanela
> DEFAULT nLi TO -4,;
>         nCi TO -4,;
>         nLf TO MaxRow(),;
>         nCf TO mAxCol()
> 
>   oCrt := WvgCrt():New( , , { nLi,nCi }, { nLf,nCf}, , .t. )
>   oCrt:lModal := .F.
>   oCrt:icon := ''
>   oCrt:create()
>   oCrt:resizable :=.f.    //80 X 28
>   hb_gtInfo( HB_GTI_SETFONT, { "VisualLib", 28,
> 10,HB_GTI_FONTW_NORMAL,HB_GTI_FONTQ_HIGH } )
> 
>   cTituloJanela:=HB_OEMTOANSI("Teste com VisualLib | v2010.Mar?o")
>   WVT_SetTitle(cTituloJanela)
>   WVT_SetAltF4Close(.F. )
>   HB_GtInfo( HB_GTI_SPEC, HB_GTS_WNDSTATE, HB_GTS_WS_MAXIMIZED )
>   hWnd:=HWG_FindWindow( ,cTituloJanela)
> RETURN Nil
> 

The question pertains to GTWVG, GTWVT does not support 
an array to HB_GTI_SETFONT.  Also WvgCrt() is a class in GTWVG.

GTWVG just sets the font parameters to font structure and then WAPI 
handles the stuff. Here is very little we can help. If some screen-shot is 
made available only then I can guess. I cannot load .ttf on my machine
anyway.





-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-bug-tracker-2971427-Function-WVT-SETFONT-tp4745863p4746039.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mbelgrano at deltain.it  Tue Mar 16 16:11:25 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 16 16:11:58 2010
Subject: [Harbour] orm will be in pipeline for harbour
Message-ID: <609353e71003161311h2ae0f3dhbf65cc21dad739ec@mail.gmail.com>

Dear harbour developer
In user list as started an interesting post
http://thread.gmane.org/gmane.comp.lang.harbour.user/427/focus=430
i invite post here, in developer list, a reply to populate this post



The growing popularity of ORMs are an example. New generation
languages (Python, Ruby etc. and even Java) have shifted focus to
using ORMs rather than SQL directly. Now instead of explicit SQL
statements, ActiveRecord (Ruby's Object Relational Mapper) uses
something like

emp=Employee.new
emp.name = "Emp1"
emp.basic = 4500
emp.designation = "Programmer"
emp.save

This syntax closely resembles the tight integration between the
language and database for the xBase languages. A comparable Clipper
syntax was

Employee->name = "Emp1"

The advantage of ORM is that programmers can write database code that
are not specific to the back-end engine. This is also strikingly
similar to the Clipper concept of RDDs.

Ruby, Python and Javascript do not force the entire OOP boilerplate -
unlike the SmallTalk based languages like Java and C++. Ruby and
JavaScript are considered 'Object Based' rather than 'Object Oriented'
and allows the programmer to write procedural and object oriented code
with same ease.

ORMs usually enable us to declare multiple objects, which might have
the data for different records in a single table. This could be
implemented easily on top of an SQL based database. But for native
engines like DBFCDX, we'll need to have a unique ID field for every
table to quickly commit the various record objects already loaded into
memory.

I am not much into Harbour development, however I'll try to contribute
if an ORM implementation is in the pipeline.

-----------------------------------------
 http://en.wikipedia.org/wiki/Object-relational_mapping
 Quickdb  http://code.google.com/p/quickdb/
 QtPersistence is a project to create an ORM and persistence library
for Qt Users. (Active Record and Data Mapper Ruby ) ORM projects.
 Linq by microsoft as powerfull orm mapper
 https://www.hibernate.org/

-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Mar 16 17:23:32 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 16 17:24:04 2010
Subject: [Harbour] Re: orm will be in pipeline for harbour
In-Reply-To: <609353e71003161311h2ae0f3dhbf65cc21dad739ec@mail.gmail.com>
References: <609353e71003161311h2ae0f3dhbf65cc21dad739ec@mail.gmail.com>
Message-ID: <609353e71003161423j13f9c773g6b5406e5fef971c1@mail.gmail.com>

i copied post messages by other user:
---------------------------

I have this link [1] I used when I'm developing a Java project using
Hibernate [2]. I used some other materials I studied for a seminar I
presented on ORM topic, in the college. Django [3][4] (a Python web
framework) uses a more "lightweight" aproach for object-relational
mapping. Python also have SQLAlchemy [5] wich is largely used. The
topic is complex [6] and need a deep dive into the details. It isn't
like to assign a value to an object that represents a database. Many
patterns [7] are applied in order to get the best results for
performance and liability.

[1] http://www.agiledata.org/essays/mappingObjects.html
[2] https://www.hibernate.org/
[3] http://docs.djangoproject.com/en/dev/topics/db/models/#topics-db-models
[4] http://docs.djangoproject.com/en/dev/topics/db/queries/
[5] http://www.sqlalchemy.org/
[6] http://www.codinghorror.com/blog/2006/06/object-relational-mapping-is-the-vietnam-of-computer-science.html
[7] http://en.wikipedia.org/wiki/Design_pattern_%28computer_science%29

Daniel Gon?alves
Base4 Sistemas Ltda.
[www.base4.com.br]
[twitter.com/spanazzi]

2010/3/16 Massimo Belgrano <mbelgrano@deltain.it>:
> Dear harbour developer
> In user list as started an interesting post
> http://thread.gmane.org/gmane.comp.lang.harbour.user/427/focus=430
> i invite post here, in developer list, a reply to populate this post
>
>
>
> The growing popularity of ORMs are an example. New generation
> languages (Python, Ruby etc. and even Java) have shifted focus to
> using ORMs rather than SQL directly. Now instead of explicit SQL
> statements, ActiveRecord (Ruby's Object Relational Mapper) uses
> something like
>
> emp=Employee.new
> emp.name = "Emp1"
> emp.basic = 4500
> emp.designation = "Programmer"
> emp.save
>
> This syntax closely resembles the tight integration between the
> language and database for the xBase languages. A comparable Clipper
> syntax was
>
> Employee->name = "Emp1"
>
> The advantage of ORM is that programmers can write database code that
> are not specific to the back-end engine. This is also strikingly
> similar to the Clipper concept of RDDs.
>
> Ruby, Python and Javascript do not force the entire OOP boilerplate -
> unlike the SmallTalk based languages like Java and C++. Ruby and
> JavaScript are considered 'Object Based' rather than 'Object Oriented'
> and allows the programmer to write procedural and object oriented code
> with same ease.
>
> ORMs usually enable us to declare multiple objects, which might have
> the data for different records in a single table. This could be
> implemented easily on top of an SQL based database. But for native
> engines like DBFCDX, we'll need to have a unique ID field for every
> table to quickly commit the various record objects already loaded into
> memory.
>
> I am not much into Harbour development, however I'll try to contribute
> if an ORM implementation is in the pipeline.
>
> -----------------------------------------
> ?http://en.wikipedia.org/wiki/Object-relational_mapping
> ?Quickdb ?http://code.google.com/p/quickdb/
> ?QtPersistence is a project to create an ORM and persistence library
> for Qt Users. (Active Record and Data Mapper Ruby ) ORM projects.
> ?Linq by microsoft as powerfull orm mapper
> ?https://www.hibernate.org/
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano
From dbtopas at dbtopas.lt  Tue Mar 16 17:55:50 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar 16 17:56:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14177] trunk/harbour
In-Reply-To: <E1NrWJs-0006ob-9M@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NrWJs-0006ob-9M@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <4B9FFE66.20207@dbtopas.lt>

Hi,


>          HB_BZ2_UNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
>                   -> <nUnCompressedDataLen> or 0 on error

I guess 0 can be also a valid result, if empty string was compressed.
So, we'll always need to check nResult, to check for error. -1 fits
better to indicate error condition.

Perhaps the problem was HB_SIZE type which is unsigned, but we can solve
it in C level to always check iResult and return -1 to .prg level if
necessary.

I'm unable to test if empty string can be compressed using bzip2,
because a simple test code tries to work as bzip utillity???!!! :-/
I have a feeling that another main() function exists in bzip library, or 
something like that...

C:\cawi32\sample\test>cat test198.prg
PROC Main()
LOCAL cI, cJ, nErr
   cI := "Hello"
   cJ := HB_BZ2_COMPRESS(cI,, @nErr)
   ? nErr, LEN(cJ), HB_STRTOHEX(cJ)
RETURN

C:\cawi32\sample\test>test198.exe
test198.exe: I won't write compressed data to a terminal.
test198.exe: For help, type: `test198.exe --help'.

C:\cawi32\sample\test>test198.exe --help
bzip2, a block-sorting file compressor.  Version 1.0.5, 10-Dec-2007.

    usage: test198.exe [flags and input files in any order]

    -h --help           print this message
    -d --decompress     force decompression
    -z --compress       force compression
    -k --keep           keep (don't delete) input files
    -f --force          overwrite existing output files
    -t --test           test compressed file integrity
    -c --stdout         output to standard out
    -q --quiet          suppress noncritical error messages
    -v --verbose        be verbose (a 2nd -v gives more)
    -L --license        display software version & license
    -V --version        display software version & license
    -s --small          use less memory (at most 2500k)
    -1 .. -9            set block size to 100k .. 900k
    --fast              alias for -1
    --best              alias for -9

    If invoked as `bzip2', default action is to compress.
               as `bunzip2',  default action is to decompress.
               as `bzcat', default action is to decompress to stdout.

    If no file names are given, bzip2 compresses or decompresses
    from standard input to standard output.  You can combine
    short flags, so `-v -4' means the same as -v4 or -4v, &c.


Regards,
Mindaugas

From lautaro.moreira at gmail.com  Tue Mar 16 18:45:01 2010
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Tue Mar 16 18:45:19 2010
Subject: [Harbour] Error with openssl 0.9.8m and rev. 14178
Message-ID: <4BA009ED.9010707@gmail.com>

Hello,

Compiling today with openssl-0.9.8m

------------- BEGIN LOG ----------------
! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
! MAKE: win-make 3.81 sh.exe
! HB_INSTALL_PREFIX: E:\HARBOUR_PRUEBAS\HARBOUR
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: msvc (v900) (autodetected: C:/Program Files/Microsoft 
Visual Studio 9.0/VC/bin/)
...
...
! Component: 'openssl' found in E:\OPENSSL\98\INCLUDE
...
...
! REVISION: 14178M
...
...
cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -DHB_LEGACY_TYPES_OFF  -IE:\OPENSSL\98\INCLUDE 
-DOPENSSL_OPT_WINDLL -DUNICODE  -Fossl.obj -c ../../../ssl.c
ssl.c
../../../ssl.c(1381) : error C2059: syntax error : ')'
../../../ssl.c(1408) : error C2059: syntax error : ')'

---------------- END LOG -------------

Atte.,

Lautaro Moreira
From lautaro.moreira at gmail.com  Tue Mar 16 18:47:06 2010
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Tue Mar 16 18:47:22 2010
Subject: [Harbour] Error with openssl 0.9.8m and rev. 14178
Message-ID: <4BA00A6A.5000004@gmail.com>

Hello,

Compiling today with openssl-0.9.8m

------------- BEGIN LOG ----------------
! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
! MAKE: win-make 3.81 sh.exe
! HB_INSTALL_PREFIX: E:\HARBOUR_PRUEBAS\HARBOUR
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: msvc (v900) (autodetected: C:/Program Files/Microsoft 
Visual Studio 9.0/VC/bin/)
...
...
! Component: 'openssl' found in E:\OPENSSL\98\INCLUDE
...
...
! REVISION: 14178M
...
...
cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -DHB_LEGACY_TYPES_OFF  -IE:\OPENSSL\98\INCLUDE 
-DOPENSSL_OPT_WINDLL -DUNICODE  -Fossl.obj -c ../../../ssl.c
ssl.c
../../../ssl.c(1381) : error C2059: syntax error : ')'
../../../ssl.c(1408) : error C2059: syntax error : ')'

---------------- END LOG -------------

Atte.,

Lautaro Moreira
From harbour.01 at syenar.hu  Tue Mar 16 19:13:49 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 16 19:13:59 2010
Subject: [Harbour] Error with openssl 0.9.8m and rev. 14178
In-Reply-To: <4BA00A6A.5000004@gmail.com>
References: <4BA00A6A.5000004@gmail.com>
Message-ID: <5EA05314-6D06-4B51-ADA9-3E3B0D0E1A2B@syenar.hu>

Same breakage as with 1.0.0betan versions.

I need input because I have not a single clue 
what causes it (after dealing with it for 
many hours in the past). Thanks.

Brgds,
Viktor

On 2010 Mar 16, at 23:47, Lautaro Moreira wrote:

> Hello,
> 
> Compiling today with openssl-0.9.8m
> 
> ------------- BEGIN LOG ----------------
> ! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
> ! MAKE: win-make 3.81 sh.exe
> ! HB_INSTALL_PREFIX: E:\HARBOUR_PRUEBAS\HARBOUR
> ! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
> ! HB_PLATFORM: win (x86) (autodetected)
> ! HB_COMPILER: msvc (v900) (autodetected: C:/Program Files/Microsoft Visual Studio 9.0/VC/bin/)
> ...
> ...
> ! Component: 'openssl' found in E:\OPENSSL\98\INCLUDE
> ...
> ...
> ! REVISION: 14178M
> ...
> ...
> cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 -EHs-c- -DHB_LEGACY_TYPES_OFF  -IE:\OPENSSL\98\INCLUDE -DOPENSSL_OPT_WINDLL -DUNICODE  -Fossl.obj -c ../../../ssl.c
> ssl.c
> ../../../ssl.c(1381) : error C2059: syntax error : ')'
> ../../../ssl.c(1408) : error C2059: syntax error : ')'
> 
> ---------------- END LOG -------------
> 
> Atte.,
> 
> Lautaro Moreira
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Mar 16 19:14:13 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 16 19:14:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14177] trunk/harbour
In-Reply-To: <4B9FFE66.20207@dbtopas.lt>
References: <E1NrWJs-0006ob-9M@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B9FFE66.20207@dbtopas.lt>
Message-ID: <1AA5773C-CF26-46C3-ACF2-3BA63021CB32@syenar.hu>

I'll fix it.

On 2010 Mar 16, at 22:55, Mindaugas Kavaliauskas wrote:

> Hi,
> 
> 
>>         HB_BZ2_UNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
>>                  -> <nUnCompressedDataLen> or 0 on error
> 
> I guess 0 can be also a valid result, if empty string was compressed.
> So, we'll always need to check nResult, to check for error. -1 fits
> better to indicate error condition.
> 
> Perhaps the problem was HB_SIZE type which is unsigned, but we can solve
> it in C level to always check iResult and return -1 to .prg level if
> necessary.
> 
> I'm unable to test if empty string can be compressed using bzip2,
> because a simple test code tries to work as bzip utillity???!!! :-/
> I have a feeling that another main() function exists in bzip library, or something like that...
> 
> C:\cawi32\sample\test>cat test198.prg
> PROC Main()
> LOCAL cI, cJ, nErr
>  cI := "Hello"
>  cJ := HB_BZ2_COMPRESS(cI,, @nErr)
>  ? nErr, LEN(cJ), HB_STRTOHEX(cJ)
> RETURN
> 
> C:\cawi32\sample\test>test198.exe
> test198.exe: I won't write compressed data to a terminal.
> test198.exe: For help, type: `test198.exe --help'.
> 
> C:\cawi32\sample\test>test198.exe --help
> bzip2, a block-sorting file compressor.  Version 1.0.5, 10-Dec-2007.
> 
>   usage: test198.exe [flags and input files in any order]
> 
>   -h --help           print this message
>   -d --decompress     force decompression
>   -z --compress       force compression
>   -k --keep           keep (don't delete) input files
>   -f --force          overwrite existing output files
>   -t --test           test compressed file integrity
>   -c --stdout         output to standard out
>   -q --quiet          suppress noncritical error messages
>   -v --verbose        be verbose (a 2nd -v gives more)
>   -L --license        display software version & license
>   -V --version        display software version & license
>   -s --small          use less memory (at most 2500k)
>   -1 .. -9            set block size to 100k .. 900k
>   --fast              alias for -1
>   --best              alias for -9
> 
>   If invoked as `bzip2', default action is to compress.
>              as `bunzip2',  default action is to decompress.
>              as `bzcat', default action is to decompress to stdout.
> 
>   If no file names are given, bzip2 compresses or decompresses
>   from standard input to standard output.  You can combine
>   short flags, so `-v -4' means the same as -v4 or -4v, &c.
> 
> 
> Regards,
> Mindaugas
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Mar 16 19:34:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 16 19:34:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14179] trunk/harbour
Message-ID: <E1NrgHe-0006j0-R2@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14179
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14179&view=rev
Author:   vszakats
Date:     2010-03-16 23:34:33 +0000 (Tue, 16 Mar 2010)

Log Message:
-----------
2010-03-17 00:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added bzip2 information. (not fully complete, it also 
      needs to be added to .spec files like zlib)

  - external/bzip2/bzip2.dif
  - external/bzip2/bzip2.c
  * external/bzip2/cnv_hb2o.bat
  * external/bzip2/cnv_o2hb.bat
  * external/bzip2/Makefile
    - Deleted accindentally included bzip2 tool.

  + contrib/hbbzip2/tests
  + contrib/hbbzip2/tests/hbmk.hbm
  + contrib/hbbzip2/tests/test.prg
    + Added little test code.

  + contrib/hbbzip2/hbbzip2.hbc
    + Added .hbc file.

  * contrib/hbbzip2/hbbzip2.ch
    + Added 'it's also used by C code' comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbbzip2/hbbzip2.ch
    trunk/harbour/external/bzip2/Makefile
    trunk/harbour/external/bzip2/cnv_hb2o.bat
    trunk/harbour/external/bzip2/cnv_o2hb.bat

Added Paths:
-----------
    trunk/harbour/contrib/hbbzip2/hbbzip2.hbc
    trunk/harbour/contrib/hbbzip2/tests/
    trunk/harbour/contrib/hbbzip2/tests/hbmk.hbm
    trunk/harbour/contrib/hbbzip2/tests/test.prg

Removed Paths:
-------------
    trunk/harbour/external/bzip2/bzip2.c
    trunk/harbour/external/bzip2/bzip2.dif


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar 16 19:38:33 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 16 19:38:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14180] trunk/harbour
Message-ID: <E1NrgLJ-0006nK-BS@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14180
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14180&view=rev
Author:   vszakats
Date:     2010-03-16 23:38:32 +0000 (Tue, 16 Mar 2010)

Log Message:
-----------
2010-03-17 00:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    ! Typo in prev.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Wed Mar 17 07:52:32 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Mar 17 07:52:38 2010
Subject: [Harbour] Decimal Arithmetic
In-Reply-To: <4B9FA557.2060705@libero.it>
References: <4B9F910C.1000403@mweb.co.za> <4B9FA44D.7070502@libero.it>
	<4B9FA557.2060705@libero.it>
Message-ID: <4BA0C280.9060801@mweb.co.za>

Maurilio Longo wrote:

> here attachment with only my code, it is supposed to be put inside a folder
> with decNumber source code.
>
> BTW, I've found your link points to the same library :) It just changes domain
> name.

That is a very nice piece of code. Thank you.

To all

Is there any interest in adding decimal as a type to xHarbour?

Regards
Alex

From harbour.01 at syenar.hu  Wed Mar 17 08:13:17 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 17 08:13:27 2010
Subject: [Harbour] Decimal Arithmetic
In-Reply-To: <4BA0C280.9060801@mweb.co.za>
References: <4B9F910C.1000403@mweb.co.za> <4B9FA44D.7070502@libero.it>
	<4B9FA557.2060705@libero.it> <4BA0C280.9060801@mweb.co.za>
Message-ID: <A7738F60-3350-414B-BB28-602B0FE32F90@syenar.hu>

>> here attachment with only my code, it is supposed to be put inside a folder
>> with decNumber source code.
>> 
>> BTW, I've found your link points to the same library :) It just changes domain
>> name.
> 
> That is a very nice piece of code. Thank you.
> 
> To all
> 
> Is there any interest in adding decimal as a type to xHarbour?

Needs quite a lot of work to make it Harbour-ready, 
and I won't have time to do it.

Brgds,
Viktor

From pete_westg at yahoo.gr  Wed Mar 17 11:52:18 2010
From: pete_westg at yahoo.gr (pete_westg)
Date: Wed Mar 17 11:52:49 2010
Subject: [Harbour] What about hard-coded make directives?
Message-ID: <hnqtri$d4f$1@dough.gmane.org>

Hi,

I don't know if it is technically easy or even possible to implemented, 
but i think it might be very handy to have inside main .prg one (or 
more) make-time directive(s) instructing hbmk2, about desired compiler 
options and/or libraries inclusion.

Something like:

#makeoption "/switch1", "/switch2", ... "/switchN"
and
#libinclude "libhb1", "libhb2", ... "libhbN"
or
#using "/switch1", "/switch2", "libhb1", "libhb2", ... "libhbN"

It could save us (the commandliners particularly) some time and 
stress-full typing of hard to remember switches and lib names. Just a 
thought..

---
Pete



From fperillo at gmail.com  Wed Mar 17 12:04:57 2010
From: fperillo at gmail.com (francesco perillo)
Date: Wed Mar 17 12:05:06 2010
Subject: [Harbour] What about hard-coded make directives?
In-Reply-To: <hnqtri$d4f$1@dough.gmane.org>
References: <hnqtri$d4f$1@dough.gmane.org>
Message-ID: <6943770e1003170904l3fb45fa5r405c453a0747bf23@mail.gmail.com>

I believe this is what hbc file is for...

On Wed, Mar 17, 2010 at 4:52 PM, pete_westg <pete_westg@yahoo.gr> wrote:
> Hi,
>
> I don't know if it is technically easy or even possible to implemented, but
> i think it might be very handy to have inside main .prg one (or more)
> make-time directive(s) instructing hbmk2, about desired compiler options
> and/or libraries inclusion.
>
> Something like:
>
> #makeoption "/switch1", "/switch2", ... "/switchN"
> and
> #libinclude "libhb1", "libhb2", ... "libhbN"
> or
> #using "/switch1", "/switch2", "libhb1", "libhb2", ... "libhbN"
>
> It could save us (the commandliners particularly) some time and stress-full
> typing of hard to remember switches and lib names. Just a thought..
>
> ---
> Pete
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Wed Mar 17 12:18:27 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar 17 12:18:40 2010
Subject: [Harbour] What about hard-coded make directives?
In-Reply-To: <hnqtri$d4f$1@dough.gmane.org>
References: <hnqtri$d4f$1@dough.gmane.org>
Message-ID: <E7255DE3-9A2B-4780-B539-9D296013ADCB@syenar.hu>

Hi,

> I don't know if it is technically easy or even possible to implemented, but i think it might be very handy to have inside main .prg one (or more) make-time directive(s) instructing hbmk2, about desired compiler options and/or libraries inclusion.

Harbour compiler options can be controlled using #pragmas 
inside source code.

The rest would need hbmk2 to parse all source files for 
make options, which would in turn have a rather huge speed 
penalty. Plus it'd need a 3rd kind of option syntax to 
maintain (above existing .hbp and .hbc).

It would also be very easy to create ambiguous configurations 
this way, since each source file might contains contradicting 
options meant to control the whole build.

The only part which could IMO make sense is autodetection 
of package dependencies, f.e. based on header usage, or 
special #pragma. Here the problem to deal with is the need 
for a central repository of available packages, and maybe 
a new .hbc variable to specify "trigger" header names (or 
even this could be made automatic with even more speed penalty, 
by scanning package header dirs first). Once we solve the 
.hbc "repository" problem in a multiplatform way (I still 
cannot see who this can be done properly on *nix systems), 
this can be solved.

This logic would require to parse all source files even 
in non-incremental mode, plus extend/implement source 
parsing for the rest of the -head modes, causing further 
drop in build-speed. So unless someone has a good idea 
to avoid that, this feature will have to be off by default.

So for me the whole complication and extra development 
requirements don't seem to be justified by the benefits.

> Something like:
> 
> #makeoption "/switch1", "/switch2", ... "/switchN"
> and
> #libinclude "libhb1", "libhb2", ... "libhbN"
> or
> #using "/switch1", "/switch2", "libhb1", "libhb2", ... "libhbN"
> It could save us (the commandliners particularly) some time and stress-full typing of hard to remember switches and lib names. Just a thought..

We have .hbp and .hbc files for this purpose. With 
optimal usage of these files, build configuration can 
be rather easy, almost "no-conf", or at least 
"configure-once".

Brgds,
Viktor

From pete_westg at yahoo.gr  Wed Mar 17 13:05:30 2010
From: pete_westg at yahoo.gr (pete_westg)
Date: Wed Mar 17 13:07:09 2010
Subject: [Harbour] Re: What about hard-coded make directives?
In-Reply-To: <E7255DE3-9A2B-4780-B539-9D296013ADCB@syenar.hu>
References: <hnqtri$d4f$1@dough.gmane.org>
	<E7255DE3-9A2B-4780-B539-9D296013ADCB@syenar.hu>
Message-ID: <hnr24q$v1$1@dough.gmane.org>

???? 17/03/2010 18:18, O/H Viktor Szak?ts ??????:
>
> The rest would need hbmk2 to parse all source files for
> make options, which would in turn have a rather huge speed
> penalty. Plus it'd need a 3rd kind of option syntax to
> maintain (above existing .hbp and .hbc).

No, in no way I did mean to parse all source files. And i fully agree 
that  that should be a very good "chance" of troubles like those you are 
  describe.
My thought was of a very few or even one line *on top of main.prg only* 
in the form :

#using "this lib list", "/and that switch list".

I can think some good reasons for implementing this feature 
(readability, flexibility, testability, security,  etc.) but if it's so 
much and complex work to be done then we can forget it. -no doubt, you 
are the chief-programmer here! ;-)


regards,

---
Pete

From bedipritpal at hotmail.com  Wed Mar 17 20:07:57 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 17 20:08:07 2010
Subject: [Harbour] Re: hbMK2 - Uniform token to announce output file
In-Reply-To: <9263D2E3-1DC7-49DC-AF16-FC8D5885FC31@syenar.hu>
References: <1268600889078-4733528.post@n2.nabble.com>
	<9263D2E3-1DC7-49DC-AF16-FC8D5885FC31@syenar.hu>
Message-ID: <1268870877814-4753813.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> If you make such output parsing, make sure to always 
> use '-lang=en' option when calling hbmk2, otherwise 
> it won't work in localized (Portuguese and Hungarian 
> currently) environments.
> 
> I've added -width= option, so if you now use it also 
> when calling hbmk2 ('-width=999' f.e.), it won't 
> split long lines, so you can simply look for LF char 
> to find the end of the output filename, instead of 
> looking for .exe. .exe is not good, because it's 
> platform dependent.
> 

Okay.



> '-out=' option parsing cannot reliably work, so I'd 
> suggest to delete it:
> 

Okay.



> ---
>   IF ::lLaunch
>      cTmp := ::oOutputResult:oWidget:toPlainText()
>      cExe := ""
>      IF empty( cExe )
>         cTkn := "hbmk2: Linking... "
>         IF ( n := at( cTkn, cTmp ) ) > 0
>            n1   := hb_at( Chr( 10 ), cTmp, n + len( cTkn ) )
>            cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 1
> )
>         ENDIF
>      ENDIF
>      IF empty( cExe )
>         cTkn := "hbmk2: Target up to date: "
>         IF ( n := at( cTkn, cTmp ) ) > 0
>            n1   := hb_at( Chr( 10 ), cTmp, n + len( cTkn ) )
>            cExe := substr( cTmp, n + len( cTkn ), n1 - n - len( cTkn ) + 1
> )
>         ENDIF
>      ENDIF
>   ENDIF
> ---
> 

I made experiments with above settings and code,
but I could never pullout the executable. To be on the simpler
side and to avoid any ambiquity are guessing, hbMK2 should 
provide a token itself : hbmk2: target path...
[C:\_the_output_file_with_path] .

BTW -width=999 is not working:

C:\dev_projects\harbour\cachemgr>set HB_COMPILER=bcc 
C:\dev_projects\harbour\cachemgr>set
PATH=C:\harbour_dev;C:\harbour_dev\bcc\bin;C:\harbour_dev\harbour\bcc\bin; 
C:\dev_projects\harbour\cachemgr>set
HB_INSTALL_PREFIX=C:\harbour_dev\harbour\bcc 
hbmk2: Processing environment options: -compiler=bcc
hbmk2: Autodetected platform: win
hbmk2: Using Harbour: C:\harbour_dev\harbour\bcc\bin
C:\harbour_dev\harbour\bcc\include C:\harbour_dev\harbour\bcc\lib
C:\harbour_dev\harbour\bcc\lib
hbmk2: Using C compiler: C:\harbour_dev\bcc\bin\bcc32.exe
hbmk2: Processing configuration: C:\harbour_dev\harbour\bcc\bin\hbmk.cfg
hbmk2: Compiling Harbour sources...
hbmk2: Harbour compiler command (embedded):
(C:\harbour_dev\harbour\bcc\bin\harbour.exe) -n2
c:\dev_sources\cachemgr\source\MyTable.prg -w3 -gc2 -m -n -a -D__oHARBOUR__
-D__WVT__ -D__xDEV__ -D__STANDALONE__ -D__HOME__ -D__PRIT__ -D__xREMOTE__
-D__MT__ -D__xSTAFF__ -q -width=999 -oc:\dev_objs\bcc\cachemgr\
-iC:\harbour_dev\bcc\Include -iC:\harbour_dev\harbour\bcc\include
-ic:\harbour\include -ic:\dev_sources\cachemgr\include
-ic:\dev_sources\freewin\include -ic:\dev_sources\cacherdd\include
-ic:\harbour\contrib\gtwvg -ic:\harbour\contrib\xhb
Error F0034 Bad command line option 'width=999'

Also the output nowhere shows hbmk2 revision number.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbMK2-Uniform-token-to-announce-output-file-tp4733528p4753813.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Wed Mar 17 20:19:45 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar 17 20:19:55 2010
Subject: [Harbour] Re: hbMK2 - Uniform token to announce output file
In-Reply-To: <1268870877814-4753813.post@n2.nabble.com>
References: <1268600889078-4733528.post@n2.nabble.com>
	<9263D2E3-1DC7-49DC-AF16-FC8D5885FC31@syenar.hu>
	<1268870877814-4753813.post@n2.nabble.com>
Message-ID: <95EF8AC4-82AD-4F56-B733-17C0D7C7F9A3@syenar.hu>

Hi,

>>        ENDIF
>>     ENDIF
>>  ENDIF
>> ---
>> 
> 
> I made experiments with above settings and code,
> but I could never pullout the executable. To be on the simpler

You have ": " before it and some sort of EOL after it.
What was the problem? I can't see any reason why changing 
these to [ and ] would make it any better.

> side and to avoid any ambiquity are guessing, hbMK2 should 
> provide a token itself : hbmk2: target path...
> [C:\_the_output_file_with_path] .

Sorry but this is not a solution, as any filename might 
contain these "token" chars inside them, and this stays 
true no matter what printable char you choose instead 
of [ and ].

> BTW -width=999 is not working:

It is working. It seems you forgot to rebuild hbmk2 
or the hbmk2 you were actually using in this test 
is and older version.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Thu Mar 18 03:03:55 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Mar 18 03:04:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14181] trunk/harbour
Message-ID: <E1Ns9lr-0002cp-Pd@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14181
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14181&view=rev
Author:   vouchcac
Date:     2010-03-18 07:03:54 +0000 (Thu, 18 Mar 2010)

Log Message:
-----------
2010-03-17 23:50 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbptreeview.prg
    ! Added :tooltipText instance variable to manage tooltips.

  * contrib/hbide/hbide.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/resources/docwriter.ui
  * contrib/hbide/resources/docwriter.uic
    
    ! Reworked "Projects" and "Editors" tree.
      Now the indentation is reduced, visual elements are added,
      long paths are shifted inside tooltips, nodes are sorted.
    ! "Editors" tree now displays the panel icon on which this source
      is hosted. A very handy and useful implementation.

      These tree-views will remain stationary for the rest of hbIDE 
      development cycle, i.e., there will bo no change whatsoever 
      on these components.

    ! Many other artifacts corrected while working with the production 
      projects myself. Probably now you may try, at least, for real-time
      use.

    + Setup a dedicated web-presence of hbIDE
        http://hbide.vouch.info/

      Please remain in tough with these pages as contents will keep on 
      posted with every available spare time.      

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/resources/docwriter.ui
    trunk/harbour/contrib/hbide/resources/docwriter.uic
    trunk/harbour/contrib/hbxbp/xbptreeview.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Thu Mar 18 06:38:51 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar 18 06:39:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14179] trunk/harbour
In-Reply-To: <E1NrgHe-0006j0-R2@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NrgHe-0006j0-R2@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <4BA202BB.5000704@dbtopas.lt>

Hi,


vszakats@users.sourceforge.net wrote:
>   - external/bzip2/bzip2.c
>     - Deleted accindentally included bzip2 tool.

Thank, You. Now I'm able to test bzip2 library.

PROC main()
LOCAL nResult
   ? "Len:", HB_BZ2_UNCOMPRESSLEN(HB_BZ2_COMPRESS(""), @nResult)
   ? "nResult:", nResult
RETURN

prints:
Len:          0
nResult:          0

So I suggest change:
          HB_BZ2_UNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
                   -> <nUnCompressedDataLen> or 0 on error
to:
          HB_BZ2_UNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
                   -> <nUnCompressedDataLen> or -1 on error

Any objections?


Regards,
Mindaugas

From itamarlins at gmail.com  Thu Mar 18 06:57:13 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Thu Mar 18 06:57:44 2010
Subject: [Harbour] Same functions not found.
Message-ID: <hnt0u3$4gf$1@dough.gmane.org>

Hi!			
My project now not found this is functions:
DbCopyStruct()
dllcall()
curdrive()

Ps.Changelog 14175 2010-03-15 22:57:312 druzus

Best regards,
Itamar M. Lins Jr.

From vszakats at users.sourceforge.net  Thu Mar 18 08:30:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 18 08:30:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14182] trunk/harbour
Message-ID: <E1NsEsA-0001JI-T3@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14182
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14182&view=rev
Author:   vszakats
Date:     2010-03-18 12:30:42 +0000 (Thu, 18 Mar 2010)

Log Message:
-----------
2010-03-18 13:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    ! Fixed Debian bzip2 package name.

  * external/bzip2/Makefile
  * contrib/hbbzip2/hbbzip2.hbc
    * Changed local bzip2 lib name to match regular name used on *nix systems.

  * external/zlib/Makefile
    * Formatting.

  * contrib/hbmzip/Makefile
    ! Minor fix.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbbzip2/hbbzip2.hbc
    trunk/harbour/contrib/hbmzip/Makefile
    trunk/harbour/external/bzip2/Makefile
    trunk/harbour/external/zlib/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Mar 18 08:46:43 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar 18 08:46:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14179] trunk/harbour
In-Reply-To: <4BA202BB.5000704@dbtopas.lt>
References: <E1NrgHe-0006j0-R2@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BA202BB.5000704@dbtopas.lt>
Message-ID: <20100318124643.GA28586@linux-4bod.home.aster.pl>

On Thu, 18 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> PROC main()
> LOCAL nResult
>   ? "Len:", HB_BZ2_UNCOMPRESSLEN(HB_BZ2_COMPRESS(""), @nResult)
>   ? "nResult:", nResult
> RETURN
> prints:
> Len:          0
> nResult:          0
> So I suggest change:
>          HB_BZ2_UNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
>                   -> <nUnCompressedDataLen> or 0 on error
> to:
>          HB_BZ2_UNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
>                   -> <nUnCompressedDataLen> or -1 on error
> Any objections?

Few notes:
1. HB_BZ2_COMPRESS("") returns empty string and HB_BZ2_UNCOMPRES("")
   accepts empty string without any errors and also return empty string.
   In the same way are working corresponding ZLIB functions:
   HB_ZCOMPRESS() and HB_ZUNCOMPRESS()
2. We probably have to add RTE when 1-st parameter is not string
3. HB_ZUNCOMPRESSLEN() should also be updated to return compatible results.

I'll commit such modifications soon.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Mar 18 09:10:18 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 18 09:10:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14183] trunk/harbour
Message-ID: <E1NsFUQ-00038S-Pc@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14183
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14183&view=rev
Author:   druzus
Date:     2010-03-18 13:10:17 +0000 (Thu, 18 Mar 2010)

Log Message:
-----------
2010-03-18 14:10 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/axcore.c
    * use hb_parstr_u16() instead of hb_mbtowc(hb_parc(n))

  * harbour/src/rtl/hbzlib.c
    * modified HB_ZUNCOMPRESSLEN(), current syntax is:
         HB_ZUNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
               -> <nUnCompressedDataLen> or -1 on error

  * harbour/contrib/hbbzip2/hbbzip2.c
    * modified HB_BZ2_UNCOMPRESSLEN(), current syntax is:
         HB_BZ2_UNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
               -> <nUnCompressedDataLen> or -1 on error

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbzip2/hbbzip2.c
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/src/rtl/hbzlib.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Mar 18 11:13:06 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 18 11:13:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14184] trunk/harbour
Message-ID: <E1NsHPG-0000lV-PR@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14184
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14184&view=rev
Author:   druzus
Date:     2010-03-18 15:13:05 +0000 (Thu, 18 Mar 2010)

Log Message:
-----------
2010-03-18 16:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbzlib.c
  * harbour/contrib/hbbzip2/hbbzip2.c
    ! fixed typo (reverted return value) in recent modification

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbzip2/hbbzip2.c
    trunk/harbour/src/rtl/hbzlib.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Mar 18 18:05:57 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Mar 18 18:06:05 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14185] trunk/harbour
Message-ID: <E1NsNqn-00039R-7A@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14185
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14185&view=rev
Author:   vouchcac
Date:     2010-03-18 22:05:47 +0000 (Thu, 18 Mar 2010)

Log Message:
-----------
2010-03-18 15:02 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/idesaveload.prg
  * contrib/hbide/idethemes.prg
    + Unified hbide.ini and idewindow.ini.
      Now hbIDE uses standards .ini format.

      Please delete your hbide.ini.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/idethemes.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Mar 18 19:33:02 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 18 19:33:09 2010
Subject: [Harbour] hbIDE - Application Icon
Message-ID: <1268955182070-4760039.post@n2.nabble.com>


Hi All,

What is the best way to place an icon for resulting
eexcutable ?

I know it for Windows, but do not have anu clue for *nixes.

For matter of hbIDE distribution I need it to be presented with an 
icon. is it ok to place .ico into the repository ?

If not, what methodology I should adopt to build exe with 
icon, _always_ ?

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Application-Icon-tp4760039p4760039.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Fri Mar 19 00:10:37 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar 19 00:10:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14186] trunk/harbour
Message-ID: <E1NsTXh-0001bQ-1J@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14186
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14186&view=rev
Author:   vouchcac
Date:     2010-03-19 04:10:35 +0000 (Fri, 19 Mar 2010)

Log Message:
-----------
2010-03-18 20:49 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/ideobject.prg
  + contrib/hbide/ideskeletons.prg
    + Reworked and greatly enhanced "snippets->skeletons" management.
      
      How it works:
      =============
      1. Creating of skelton is as before with same interface.

      2. In addition, the selected text in the current editor 
         can be saved as a skeleton via "Save as Skeleton..."
         option in right-click context menu. A "Name" will be 
         asked via a modal input edit dialog.

      3. A new "Skeletons" tree-view is implemented at the Left-hand 
         docking area which displays all skeletons by name. 

      4. Hovering cursor over the name node shows up the body of 
         skeleton as a tooltip, very handy.

      5. Double-click on the node in tree-view will insert the 
         skeleton text at the current cursor position.

      6. Alternatively, as before, menu can be activated via CTRL+K.

      7. Skeletons body now supports meta data as follows:
         ---
         DO WHILE .T. 
            IF cVar == "<-PROMPT>"
               xVar := <-DtoC( Date() )>
            ENDIF 
            <-CUR>
            EXIT
         ENDDO
         ---

         You can see there are 3 occurances of <-*> token.

         <-PROMPT> will execute an input dialog and the resultant 
         string will be inserted here.

         <-DtoC( Date() )> will evaluate the expression, which in 
         this case, - "03/18/2010" - will be inserted. This means 
         any valid Harbour expression which returns a string 
         can be designated as meta-expression.

         <-CUR> will position the cursor at this place.

         This is what I thought it should behave.
         Please let me know it anything else can make it more productive.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/ideobject.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/ideskeletons.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Mar 19 00:17:04 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar 19 00:17:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14187] trunk/harbour
Message-ID: <E1NsTdw-0001ik-Bg@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14187
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14187&view=rev
Author:   vouchcac
Date:     2010-03-19 04:17:03 +0000 (Fri, 19 Mar 2010)

Log Message:
-----------
2010-03-18 21:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.hbp
    ! Deleted .rc entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Fri Mar 19 02:46:40 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Mar 19 02:46:49 2010
Subject: [Harbour] About NoSQL Cassandra
Message-ID: <9257026e1003182346m61a21d9eke737184c836e5457@mail.gmail.com>

http://cassandra.apache.org/

What do you think about it?

best regards,
Lorenzo
From fperillo at gmail.com  Fri Mar 19 04:50:11 2010
From: fperillo at gmail.com (francesco perillo)
Date: Fri Mar 19 04:50:19 2010
Subject: [Harbour] About NoSQL Cassandra
In-Reply-To: <9257026e1003182346m61a21d9eke737184c836e5457@mail.gmail.com>
References: <9257026e1003182346m61a21d9eke737184c836e5457@mail.gmail.com>
Message-ID: <6943770e1003190150s4f23e98cr7c5037365328f10d@mail.gmail.com>

I was about to post about MongoDB, another NoSQL database.

With MongoDB you can have different column names for each record
giving the programmer maximum flexibility!
You can do searches but can't do joins. It supports replication and
sharding. It also support server-side operators... something like
$incr counter
instead of
REPLACE counter WITH counter+1

It already has drivers for several languages and I believe it shoudn't
be very difficult to use it.

For more infos: www.mongo.db
From vouchcac at users.sourceforge.net  Fri Mar 19 04:50:46 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar 19 04:50:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14188] trunk/harbour
Message-ID: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14188
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14188&view=rev
Author:   vouchcac
Date:     2010-03-19 08:50:45 +0000 (Fri, 19 Mar 2010)

Log Message:
-----------
2010-03-19 01:40 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideskeletons.prg
    ! Meta concept enhanced further.
        <-NAME=PROMPT> ; then NAME will be the meta and string 
      returned by PROMPT dialog will be assigned to <-NAME>
      for next occurances. The assignment is done only with 
      <-PROMPT> meta.

      This feature is especially useful when skeleton is built
      defining a class:

      --- SKELETON ---

      #include "common.ch"
      
      /*------------------------------*/
      
      CLASS <-NAME=PROMPT> INHERIT IdeObject
         
         DATA  oUI
      
         METHOD new( oIde )
         METHOD create( oIde )
         METHOD destroy()
      
         ENDCLASS
      
      /*------------------------------*/
      
      METHOD <-NAME>:new( oIde )
      
         ::oIde := oIde
      
         RETURN Self
      
      /*------------------------------*/
      
      METHOD <-NAME>:create( oIde )
      
         DEFAULT oIde TO ::oIde
         ::oIde := oIde
      
         RETURN Self
      
      /*------------------------------*/  
            


      --- INSERTION ( after input "MyNewClass" in the dialog ) ---

      #include "common.ch"
      
      /*------------------------------*/
      
      CLASS MyNewClass INHERIT IdeObject
         
         DATA  oUI
      
         METHOD new( oIde )
         METHOD create( oIde )
         METHOD destroy()
      
         ENDCLASS
      
      /*------------------------------*/
      
      METHOD MyNewClass:new( oIde )
      
         ::oIde := oIde
      
         RETURN Self
      
      /*------------------------------*/
      
      METHOD MyNewClass:create( oIde )
      
         DEFAULT oIde TO ::oIde
         ::oIde := oIde
      
         RETURN Self
      
      /*------------------------------*/

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideskeletons.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcobra.ubuntu at gmail.com  Fri Mar 19 06:00:37 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Mar 19 06:00:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14188] trunk/harbour
In-Reply-To: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1003190300u321982ecrd0ae82dbab6baf3d@mail.gmail.com>

Ubuntu 9.10 32 bits Harbour built from svn.

hbide recompiled with

hbmk2 hbide.hbp -rebuild

running hbide when i try to open a source .prg file i get this dialog error:

Error BASE/1005 Message not found: XBPTREEVIEWITEM:_TOOLTIPTEXT

Called from __ERRRT_SBASE(0)

Called from XBPTREEVIEWITEM:ERROR(0)

Called from (b)HBOBJECT(0)

Called from XBPTREEVIEWITEM:MSGNOTFOUND(0)

Called from XBPTREEVIEWITEM:_TOOLTIPTEXT(0)

Called from IDEEDITSMANAGER:ADDSOURCEINTREE(276)

Called from IDEEDITOR:CREATE(1077)

Called from IDEEDITSMANAGER:BUILDEDITOR(304)

Called from IDESOURCESMANAGER:EDITSOURCE(234)

Called from IDESOURCESMANAGER:OPENSOURCE(413)

Called from HBIDE:EXECSOURCEACTION(804)

Called from HBIDE:EXECACTION(581)

Called from (b)IDEACTIONS_BUILDMAINMENU(413)

Called from XBPMENU:EXEBLOCK(0)

Called from (b)XBPMENUBAR_PLACEITEM(0)

Called from QT_QEVENTLOOP_PROCESSEVENTS(0)

Called from QEVENTLOOP:PROCESSEVENTS(0)

Called from APPEVENT(0)

Called from HBIDE:CREATE(492)

Called from MAIN(117)



>From terminal i read this output:


** (<unknown>:28275): CRITICAL **: atk_object_set_name: assertion `name !=
NULL' failed

idemisc.prg:925:HBIDE_DBG(): HB_TR_ALWAYS NIL

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockProjectTree", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockEditorTabs", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFuncList", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockSkltnsTree", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget "dockHelp",
which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockSkeleton", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFindInFiles", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockThemes", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockProperties", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockEnvironments", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockCompileResults", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockLinkResults", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockOutputResults", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockDocViewer", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockDocWriter", which already has a layout

QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFunctions", which already has a layout

xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    begin

xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    end


Unrecoverable error 6005: Exception SIGSEGV at address 0x4



Best regards

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100319/00c135cc/attachment-0001.html
From harbour.01 at syenar.hu  Fri Mar 19 06:19:42 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 19 06:19:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14188] trunk/harbour
In-Reply-To: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <B629DFC2-106E-4696-9434-EAFD0A7B8275@syenar.hu>

Hi Pritpal,

I'd like to suggest to start a doc file inside hbide 
dir and add hbide related documentation in there, 
instead of using ChangeLog entries for this purpose.

Brgds,
Viktor

On 2010 Mar 19, at 09:50, vouchcac@users.sourceforge.net wrote:

> Revision: 14188
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14188&view=rev
> Author:   vouchcac
> Date:     2010-03-19 08:50:45 +0000 (Fri, 19 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-19 01:40 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbide/ideskeletons.prg
>    ! Meta concept enhanced further.
>        <-NAME=PROMPT> ; then NAME will be the meta and string 
>      returned by PROMPT dialog will be assigned to <-NAME>
>      for next occurances. The assignment is done only with 
>      <-PROMPT> meta.
> 
>      This feature is especially useful when skeleton is built
>      defining a class:
> 
>      --- SKELETON ---
> 
>      #include "common.ch"
> 
>      /*------------------------------*/
> 
>      CLASS <-NAME=PROMPT> INHERIT IdeObject
> 
>         DATA  oUI
> 
>         METHOD new( oIde )
>         METHOD create( oIde )
>         METHOD destroy()
> 
>         ENDCLASS
> 
>      /*------------------------------*/
> 
>      METHOD <-NAME>:new( oIde )
> 
>         ::oIde := oIde
> 
>         RETURN Self
> 
>      /*------------------------------*/
> 
>      METHOD <-NAME>:create( oIde )
> 
>         DEFAULT oIde TO ::oIde
>         ::oIde := oIde
> 
>         RETURN Self
> 
>      /*------------------------------*/  
> 
> 
> 
>      --- INSERTION ( after input "MyNewClass" in the dialog ) ---
> 
>      #include "common.ch"
> 
>      /*------------------------------*/
> 
>      CLASS MyNewClass INHERIT IdeObject
> 
>         DATA  oUI
> 
>         METHOD new( oIde )
>         METHOD create( oIde )
>         METHOD destroy()
> 
>         ENDCLASS
> 
>      /*------------------------------*/
> 
>      METHOD MyNewClass:new( oIde )
> 
>         ::oIde := oIde
> 
>         RETURN Self
> 
>      /*------------------------------*/
> 
>      METHOD MyNewClass:create( oIde )
> 
>         DEFAULT oIde TO ::oIde
>         ::oIde := oIde
> 
>         RETURN Self
> 
>      /*------------------------------*/
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/ideskeletons.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Fri Mar 19 08:14:21 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 19 08:14:50 2010
Subject: [Harbour] Hbide is at xmate level for harbour user
Message-ID: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com>

Hi Pritpal
I am using xmate to editing my harbour project and i am very
productive thanks to your project

Can you publish  your todo of hbide?

This is my ordered wishlist and sorry if same are know
Project mapping and user menu (because i use for integrate harbour
developer language with winapi)
Autosave
Command line to load project or single prg
Easy creation of project
Capability of Using also  xharbour/clipper
Project function lookup is very good but little complex to use: is
possible Define a hbide project flag who automatically open tag so
balance need of fast load  with easy to use
Gui Debugger
Dotprompt

Look and ispiration area
  -Color and look must find a way to be more professional
  -Having all toolbar feature in also menu because tree toolbar are a
lot and little unusual
  -we need reduce complexity
  -give a extensibility for allow the creation of plugin

Still thanks for hbide
-- 
Massimo Belgrano
From suporte at tribalbrasil.com  Fri Mar 19 08:32:50 2010
From: suporte at tribalbrasil.com (Qatan)
Date: Fri Mar 19 08:33:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14188] trunk/harbour
References: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>
	<B629DFC2-106E-4696-9434-EAFD0A7B8275@syenar.hu>
Message-ID: <34E484EE16DC479BA47D68E2B305BF94@SUPPORTS>

Hi,

    I humblely agree since HBIde is a tool and it is not the "language" so 
it should have a separate documentation to avoid overstuffing the Changelog.
    Also, this would help anyone interested in using this nice and 
impressive tool to find concentrate information in one place.
    I may be wrong... please correct me.

Qatan

----- Original Message ----- 
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, March 19, 2010 7:19 AM
Subject: Re: [Harbour] SF.net SVN: harbour-project:[14188] trunk/harbour


Hi Pritpal,

I'd like to suggest to start a doc file inside hbide
dir and add hbide related documentation in there,
instead of using ChangeLog entries for this purpose.

Brgds,
Viktor

On 2010 Mar 19, at 09:50, vouchcac@users.sourceforge.net wrote:

> Revision: 14188
> 
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14188&view=rev
> Author:   vouchcac
> Date:     2010-03-19 08:50:45 +0000 (Fri, 19 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-19 01:40 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbide/ideskeletons.prg
>    ! Meta concept enhanced further.
>        <-NAME=PROMPT> ; then NAME will be the meta and string
>      returned by PROMPT dialog will be assigned to <-NAME>
>      for next occurances. The assignment is done only with
>      <-PROMPT> meta.
>
>      This feature is especially useful when skeleton is built
>      defining a class:
>
>      --- SKELETON ---
>
>      #include "common.ch"
>
>      /*------------------------------*/
>
>      CLASS <-NAME=PROMPT> INHERIT IdeObject
>
>         DATA  oUI
>
>         METHOD new( oIde )
>         METHOD create( oIde )
>         METHOD destroy()
>
>         ENDCLASS
>
>      /*------------------------------*/
>
>      METHOD <-NAME>:new( oIde )
>
>         ::oIde := oIde
>
>         RETURN Self
>
>      /*------------------------------*/
>
>      METHOD <-NAME>:create( oIde )
>
>         DEFAULT oIde TO ::oIde
>         ::oIde := oIde
>
>         RETURN Self
>
>      /*------------------------------*/
>
>
>
>      --- INSERTION ( after input "MyNewClass" in the dialog ) ---
>
>      #include "common.ch"
>
>      /*------------------------------*/
>
>      CLASS MyNewClass INHERIT IdeObject
>
>         DATA  oUI
>
>         METHOD new( oIde )
>         METHOD create( oIde )
>         METHOD destroy()
>
>         ENDCLASS
>
>      /*------------------------------*/
>
>      METHOD MyNewClass:new( oIde )
>
>         ::oIde := oIde
>
>         RETURN Self
>
>      /*------------------------------*/
>
>      METHOD MyNewClass:create( oIde )
>
>         DEFAULT oIde TO ::oIde
>         ::oIde := oIde
>
>         RETURN Self
>
>      /*------------------------------*/
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/ideskeletons.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, 
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour 

From dbtopas at dbtopas.lt  Fri Mar 19 09:03:31 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Mar 19 09:03:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14183] trunk/harbour
In-Reply-To: <E1NsFUQ-00038S-Pc@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NsFUQ-00038S-Pc@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <4BA37623.2070609@dbtopas.lt>

druzus@users.sourceforge.net wrote:
>   * harbour/src/rtl/hbzlib.c
>     * modified HB_ZUNCOMPRESSLEN(), current syntax is:
>          HB_ZUNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
>                -> <nUnCompressedDataLen> or -1 on error
>   * harbour/contrib/hbbzip2/hbbzip2.c
>     * modified HB_BZ2_UNCOMPRESSLEN(), current syntax is:
>          HB_BZ2_UNCOMPRESSLEN( <cCompressedData>, [<@nResult>] )
>                -> <nUnCompressedDataLen> or -1 on error


Thank, You.


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Fri Mar 19 09:12:00 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 19 09:12:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14189] trunk/harbour
Message-ID: <E1Nsbzc-0002c0-Ak@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14189
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14189&view=rev
Author:   vszakats
Date:     2010-03-19 13:11:59 +0000 (Fri, 19 Mar 2010)

Log Message:
-----------
2010-03-19 14:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbverdsp.c
    * Deleted an empty line in build information.

  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.h
  * contrib/gtwvg/wvgcore.c
    - Deleted local (and unmaintained) hacks to make OLE work.
    * .c source changed to use hbwinole.h instead.

  * contrib/gtwvg/wvgcore.c
    ! Fixed to build properly in mingw C++ mode.
      (build errors found with mingw64 4.5.0)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/src/common/hbverdsp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Mar 19 10:10:51 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 19 10:11:04 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
Message-ID: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>

Hi All,

In summary with 4.5 there is a 7-8% speed increase 
compared to 4.4.4 in 64-bit mode and C++ doesn't 
give any speed advantage here. Binary sizes are 
similar, sometimes a big larger sometimes a bit 
smaller.

I've included BCC55 for comparison. It's running 
at half the overall speed compared to 4.5 64-bit.

---
2010.03.19 Windows 7 6.1.7600
THREADS: 0
N_LOOPS: 1000000

[1] Harbour 2.1.0dev (Rev. 14188) MinGW GNU C 4.5 (64-bit) x86-64
[2] Harbour 2.1.0dev (Rev. 14189) MinGW GNU C++ 4.5 (64-bit) x86-64
[3] Harbour 2.1.0dev (Rev. 14130) MinGW GNU C 4.4.4 (64-bit) x86-64
[4] Harbour 2.1.0dev (Rev. 14178) Borland C++ 5.5.1 (32-bit) x86

                                                                 [1]    [2]    [3]    [4]
[ T000: empty loop overhead ]...................................0.02 ..0.02 ..0.02 ..0.05
==================================================================== ====== ====== ======
[ T001: x := L_C ]..............................................0.02 ..0.02 ..0.03 ..0.02
[ T002: x := L_N ]..............................................0.00 ..0.02 ..0.02 ..0.02
[ T003: x := L_D ]..............................................0.00 ..0.00 ..0.00 ..0.02
[ T004: x := S_C ]..............................................0.02 ..0.03 ..0.03 ..0.05
[ T005: x := S_N ]..............................................0.03 ..0.02 ..0.05 ..0.03
[ T006: x := S_D ]..............................................0.02 ..0.03 ..0.02 ..0.03
[ T007: x := M->M_C ]...........................................0.02 ..0.02 ..0.03 ..0.05
[ T008: x := M->M_N ]...........................................0.03 ..0.03 ..0.05 ..0.05
[ T009: x := M->M_D ]...........................................0.02 ..0.02 ..0.03 ..0.03
[ T010: x := M->P_C ]...........................................0.03 ..0.03 ..0.03 ..0.05
[ T011: x := M->P_N ]...........................................0.03 ..0.02 ..0.03 ..0.03
[ T012: x := M->P_D ]...........................................0.02 ..0.02 ..0.03 ..0.05
[ T013: x := F_C ]..............................................0.09 ..0.09 ..0.11 ..0.14
[ T014: x := F_N ]..............................................0.14 ..0.11 ..0.11 ..0.17
[ T015: x := F_D ]..............................................0.06 ..0.05 ..0.06 ..0.09
[ T016: x := o:Args ]...........................................0.08 ..0.08 ..0.09 ..0.14
[ T017: x := o[2] ].............................................0.03 ..0.05 ..0.05 ..0.09
[ T018: round( i / 1000, 2 ) ]..................................0.09 ..0.11 ..0.11 ..0.17
[ T019: str( i / 1000 ) ].......................................0.27 ..0.22 ..0.23 ..0.55
[ T020: val( s ) ]..............................................0.11 ..0.11 ..0.11 ..0.22
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.17 ..0.16 ..0.19 ..0.38
[ T022: dtos( d - i % 10000 ) ].................................0.16 ..0.17 ..0.19 ..0.33
[ T023: eval( { || i % 16 } ) ].................................0.20 ..0.22 ..0.23 ..0.30
[ T024: eval( bc := { || i % 16 } ) ]...........................0.11 ..0.14 ..0.13 ..0.20
[ T025: eval( { |x| x % 16 }, i ) ].............................0.16 ..0.17 ..0.17 ..0.27
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.11 ..0.13 ..0.14 ..0.22
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.22 ..0.20 ..0.23 ..0.33
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.16 ..0.14 ..0.19 ..0.28
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.17 ..0.19 ..0.19 ..0.28
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.34 ..1.41 ..1.33 ..2.42
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................1.58 ..1.66 ..1.55 ..3.08
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.17 ..0.17 ..0.22 ..0.34
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.30 ..0.30 ..0.33 ..0.64
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.11 ..0.11 ..0.13 ..0.23
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.13 ..0.11 ..0.13 ..0.27
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.13 ..0.13 ..0.14 ..0.27
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.13 ..0.13 ..0.14 ..0.27
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.13 ..0.13 ..0.14 ..0.27
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.13 ..0.11 ..0.14 ..0.27
[ T040: ascan( a, i % 16 ) ]....................................0.16 ..0.16 ..0.16 ..0.25
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.23 ..1.28 ..1.41 ..2.34
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.36 ..0.36 ..0.44 ..0.72
[ T043: x := a ]................................................0.02 ..0.02 ..0.02 ..0.05
[ T044: x := {} ]...............................................0.05 ..0.05 ..0.06 ..0.09
[ T045: f0() ]..................................................0.03 ..0.03 ..0.05 ..0.03
[ T046: f1( i ) ]...............................................0.06 ..0.06 ..0.08 ..0.09
[ T047: f2( c[1...8] ) ]........................................0.05 ..0.05 ..0.06 ..0.08
[ T048: f2( c[1...40000] ) ]....................................0.05 ..0.05 ..0.05 ..0.08
[ T049: f2( @c[1...40000] ) ]...................................0.03 ..0.03 ..0.06 ..0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.06 ..0.05 ..0.08 ..0.09
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.16 ..0.16 ..0.20 ..0.34
[ T052: f2( a ) ]...............................................0.05 ..0.03 ..0.06 ..0.08
[ T053: x := f4() ].............................................0.34 ..0.33 ..0.38 ..0.64
[ T054: x := f5() ].............................................0.11 ..0.13 ..0.14 ..0.19
[ T055: x := space(16) ]........................................0.06 ..0.08 ..0.11 ..0.14
[ T056: f_prv( c ) ]............................................0.16 ..0.16 ..0.17 ..0.28
==================================================================== ====== ====== ======
[ total application time: ]....................................10.55 .10.70 .11.52 .20.88
[ total real time: ]...........................................11.25 .11.20 .11.83 .21.37
---

Brgds,
Viktor

From bedipritpal at hotmail.com  Fri Mar 19 10:32:47 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 19 10:32:55 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14188] trunk/harbour
In-Reply-To: <fd76479f1003190300u321982ecrd0ae82dbab6baf3d@mail.gmail.com>
References: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>
	<fd76479f1003190300u321982ecrd0ae82dbab6baf3d@mail.gmail.com>
Message-ID: <1269009167999-4763241.post@n2.nabble.com>



marco bra wrote:
> 
> Error BASE/1005 Message not found: XBPTREEVIEWITEM:_TOOLTIPTEXT
> 

Compile hbXBP also.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14188-trunk-harbour-tp4761738p4763241.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Mar 19 10:34:49 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 19 10:34:56 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14188] trunk/harbour
In-Reply-To: <B629DFC2-106E-4696-9434-EAFD0A7B8275@syenar.hu>
References: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>
	<B629DFC2-106E-4696-9434-EAFD0A7B8275@syenar.hu>
Message-ID: <1269009289461-4763263.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> I'd like to suggest to start a doc file inside hbide 
> dir and add hbide related documentation in there, 
> instead of using ChangeLog entries for this purpose.
> 

Ok. This is logical.
A short entry in ChangeLog should follow or not ?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14188-trunk-harbour-tp4761738p4763263.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Fri Mar 19 10:58:42 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 19 10:58:52 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14188] trunk/harbour
In-Reply-To: <1269009289461-4763263.post@n2.nabble.com>
References: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>
	<B629DFC2-106E-4696-9434-EAFD0A7B8275@syenar.hu>
	<1269009289461-4763263.post@n2.nabble.com>
Message-ID: <F9093370-CD24-4BB1-93D7-EBBA4E093F50@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> I'd like to suggest to start a doc file inside hbide 
>> dir and add hbide related documentation in there, 
>> instead of using ChangeLog entries for this purpose.
>> 
> 
> Ok. This is logical.
> A short entry in ChangeLog should follow or not ?

Depends no what you mean by 'short', IMO ChangeLog 
should only have a pointer to HBIDE documentation:

F.e.:
   "For usage see HBIDE documentation/help/[link]/etc"

[ Even this can be removed once this will become obvious. ]

Brgds,
Viktor

From bedipritpal at hotmail.com  Fri Mar 19 11:08:08 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 19 11:08:14 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14188] trunk/harbour
In-Reply-To: <F9093370-CD24-4BB1-93D7-EBBA4E093F50@syenar.hu>
References: <E1NsXuo-000673-ME@sfp-svn-3.v30.ch3.sourceforge.com>
	<B629DFC2-106E-4696-9434-EAFD0A7B8275@syenar.hu>
	<1269009289461-4763263.post@n2.nabble.com>
	<F9093370-CD24-4BB1-93D7-EBBA4E093F50@syenar.hu>
Message-ID: <1269011288064-4763532.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
>> Viktor Szak?ts wrote:
>>> 
>>> I'd like to suggest to start a doc file inside hbide 
>>> dir and add hbide related documentation in there, 
>>> instead of using ChangeLog entries for this purpose.
>>> 
>> 
>> Ok. This is logical.
>> A short entry in ChangeLog should follow or not ?
> 
> Depends no what you mean by 'short', IMO ChangeLog 
> should only have a pointer to HBIDE documentation:
> 
> F.e.:
>    "For usage see HBIDE documentation/help/[link]/etc"
> 
> [ Even this can be removed once this will become obvious. ]
> 

Ah, ok, now I understand.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14188-trunk-harbour-tp4761738p4763532.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From dbtopas at dbtopas.lt  Fri Mar 19 11:09:12 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Mar 19 11:09:43 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
Message-ID: <4BA39398.9030307@dbtopas.lt>

Viktor Szak?ts wrote:
> I've included BCC55 for comparison. It's running 
> at half the overall speed compared to 4.5 64-bit.

Echhhh... I'm still using BCC, because... it compiles f.e. 
\external\sqlite3 in 2.74 s, and MGW compiles it in 3 minutes 3.25 s, 
i.e. 67 times slower...


Regards,
Mindaugas

From harbour.01 at syenar.hu  Fri Mar 19 11:16:22 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 19 11:16:35 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <4BA39398.9030307@dbtopas.lt>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
	<4BA39398.9030307@dbtopas.lt>
Message-ID: <EBF98AC7-C9B6-4CAD-BCFB-8BFAB7BB3A5C@syenar.hu>

> Viktor Szak?ts wrote:
>> I've included BCC55 for comparison. It's running at half the overall speed compared to 4.5 64-bit.
> 
> Echhhh... I'm still using BCC, because... it compiles f.e. \external\sqlite3 in 2.74 s, and MGW compiles it in 3 minutes 3.25 s, i.e. 67 times slower...

Yes, it's good for "draft" builds.

Though at least for live builds used by real users 
IMO it's worth to take the pain of a longer build 
to offer a faster working application. It's a one 
time overhead on developer's side and and permanent 
and noticeable gain on the users' side.

Brgds,
Viktor

From maurilio.longo at libero.it  Fri Mar 19 12:12:14 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Mar 19 12:12:28 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <EBF98AC7-C9B6-4CAD-BCFB-8BFAB7BB3A5C@syenar.hu>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>	<4BA39398.9030307@dbtopas.lt>
	<EBF98AC7-C9B6-4CAD-BCFB-8BFAB7BB3A5C@syenar.hu>
Message-ID: <4BA3A25E.3070901@libero.it>

Viktor,

for real code, doing I/O on a network share, the difference could be lower,
though.

Maurilio.

Viktor Szak?ts wrote:
>> Viktor Szak?ts wrote:
>>> I've included BCC55 for comparison. It's running at half the overall speed compared to 4.5 64-bit.
>> Echhhh... I'm still using BCC, because... it compiles f.e. \external\sqlite3 in 2.74 s, and MGW compiles it in 3 minutes 3.25 s, i.e. 67 times slower...
> 
> Yes, it's good for "draft" builds.
> 
> Though at least for live builds used by real users 
> IMO it's worth to take the pain of a longer build 
> to offer a faster working application. It's a one 
> time overhead on developer's side and and permanent 
> and noticeable gain on the users' side.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From abe.buch at att.net  Fri Mar 19 12:30:34 2010
From: abe.buch at att.net (AbeB)
Date: Fri Mar 19 12:30:41 2010
Subject: [Harbour] Wince + QT
Message-ID: <010601cac781$76b3bd80$641b3880$@buch@att.net>


Hi All,

 

Is anybody using Qt on Wince

Any guidance will be greatly is appreciated.

 

Thanks,

Abe


-- 
View this message in context: http://n2.nabble.com/Wince-QT-tp4764079p4764079.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Fri Mar 19 12:39:29 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 19 12:39:41 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <4BA3A25E.3070901@libero.it>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>	<4BA39398.9030307@dbtopas.lt>
	<EBF98AC7-C9B6-4CAD-BCFB-8BFAB7BB3A5C@syenar.hu>
	<4BA3A25E.3070901@libero.it>
Message-ID: <45370410-6872-4285-A563-4BFD38883906@syenar.hu>

Hi Maurilio,

> Viktor,
> 
> for real code, doing I/O on a network share, the difference could be lower,
> though.

Yes, of course speedtst is not the one-and-only 
ultimate bench, though it still shows big difference 
in a lot of important places, f.e. a table upgrade 
or reindexing on server. Double the speed is big 
difference. 

BTW I can feel much smaller difference even with 
procedural CUI app, and this is pbly much noticeable 
in OOP and/or GUI apps where much more .prg code is 
pumped trough the HVM/CPU. Fast execution can most 
probably make these apps to behave "snappier" and 
thus user experience better.

It's IMO also important to actually exploit the 
possibilities of hardware and not waste the cycles 
/ wattage / users' time, nerves / etc.

BTW, it'd be interesting exercise to see how faster 
gcc/mingw gets with lower optimization levels and how 
execution speed drops.

Brgds,
Viktor

From fperillo at gmail.com  Fri Mar 19 13:20:27 2010
From: fperillo at gmail.com (francesco perillo)
Date: Fri Mar 19 13:20:34 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <EBF98AC7-C9B6-4CAD-BCFB-8BFAB7BB3A5C@syenar.hu>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
	<4BA39398.9030307@dbtopas.lt>
	<EBF98AC7-C9B6-4CAD-BCFB-8BFAB7BB3A5C@syenar.hu>
Message-ID: <6943770e1003191020q62366da2t8854c17ee9587c79@mail.gmail.com>

> Though at least for live builds used by real users
> IMO it's worth to take the pain of a longer build
> to offer a faster working application. It's a one
> time overhead on developer's side and and permanent
> and noticeable gain on the users' side.

No problem for a loooooooong one-time compiler build.... but I believe
that also prg compilation is slower... hbmk2 incremental helps a lot
but it is anyway a longer edit-compile-debug cycle....
From suporte at tribalbrasil.com  Fri Mar 19 13:45:43 2010
From: suporte at tribalbrasil.com (Qatan)
Date: Fri Mar 19 13:46:34 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu><4BA39398.9030307@dbtopas.lt><EBF98AC7-C9B6-4CAD-BCFB-8BFAB7BB3A5C@syenar.hu>
	<6943770e1003191020q62366da2t8854c17ee9587c79@mail.gmail.com>
Message-ID: <5DB8254792084D38B8FA4E0B8C05B6CA@SUPPORTS>

Hello Francesco,

    Just to mention: Did you try the hbmk2 "-jobs=<n>" option.
    This option starts <n> compilaton threads (multiprocess plataforms 
only).
    It works very well for me and reduces the compilation time.

Qatan

----- Original Message ----- 
From: "francesco perillo" <fperillo@gmail.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, March 19, 2010 2:20 PM
Subject: Re: [Harbour] mingw 4.5.0 benchmarks


>> Though at least for live builds used by real users
>> IMO it's worth to take the pain of a longer build
>> to offer a faster working application. It's a one
>> time overhead on developer's side and and permanent
>> and noticeable gain on the users' side.
>
> No problem for a loooooooong one-time compiler build.... but I believe
> that also prg compilation is slower... hbmk2 incremental helps a lot
> but it is anyway a longer edit-compile-debug cycle....
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From harbour.01 at syenar.hu  Fri Mar 19 14:22:37 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 19 14:22:47 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <6943770e1003191020q62366da2t8854c17ee9587c79@mail.gmail.com>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
	<4BA39398.9030307@dbtopas.lt>
	<EBF98AC7-C9B6-4CAD-BCFB-8BFAB7BB3A5C@syenar.hu>
	<6943770e1003191020q62366da2t8854c17ee9587c79@mail.gmail.com>
Message-ID: <10EA699D-4B9C-402F-A0F1-D47945C45ADE@syenar.hu>

Compilation process is obviously slower than for 
a non-optimizing compiler, also for .prg since 
it's also compiled by C compiler.

Here it should be noted that plain -gc2 built 
.c files can just be compiled using any C compiler 
option (ie. without optimization), since it cannot 
be optimized anyway. [ maybe such optimization can 
be added to hbmk2, to turn off C compiler optimization 
in this scenario. But it can be done manually as well, 
for those who use default <= -gc2 options. ]

[ In -gc3 mode the situation is different, but 
-gc3 isn't very good for app level code in general. ]

Anyway for interim / local / developer's build it's 
fine to use C compiler without optimizations (and 
maybe with enabled debugging option), and for final 
build use the "slow", but optimal settings. That's 
the whole idea of "release" vs "debug" builds.

With Harbour/hbmk2 it's quite easy to switch 
compilers, or toggle optimizations.

Brgds,
Viktor

On 2010 Mar 19, at 18:20, francesco perillo wrote:

>> Though at least for live builds used by real users
>> IMO it's worth to take the pain of a longer build
>> to offer a faster working application. It's a one
>> time overhead on developer's side and and permanent
>> and noticeable gain on the users' side.
> 
> No problem for a loooooooong one-time compiler build.... but I believe
> that also prg compilation is slower... hbmk2 incremental helps a lot
> but it is anyway a longer edit-compile-debug cycle....
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Sat Mar 20 01:35:29 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 20 01:35:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14190] trunk/harbour
Message-ID: <E1NsrLN-0001IQ-IT@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14190
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14190&view=rev
Author:   vouchcac
Date:     2010-03-20 05:35:28 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-19 22:22 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/idesaveload.prg
    + Reworked command-line parameters.
      Now hbIDE can be invoked with either of the combination,
      .ini .hbp .prg .c .cpp. Following algorithm is followed:
        1 .ini has the precedance over .hbp.
        2 if both are passed then .hbp will be added to the project tree,
          after loading components from .ini. 
        3 if only .hbp is passed, then no attempt is made to save the settings.
        4 if only sources are passed then all will be opened "Main" panel, 
          which will also be the startup panel, no project tree will be 
          displayed.

          c:\harbour\contrib\hbide>hbide.exe hbide.hbp
          c:\harbour\contrib\hbide>hbide.exe idemisc.prg idethemes.prg 
          c:\harbour\contrib\hbide>hbide.exe C:\dev_hbmk\hbide.ini hbide.hbp

      Regression is possible, please inform any incompatibilities. 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/idesaveload.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Mar 20 03:34:04 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Mar 20 03:34:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14190] trunk/harbour
In-Reply-To: <E1NsrLN-0001IQ-IT@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NsrLN-0001IQ-IT@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <609353e71003200034g66e2b1d1je6cbcbde07cea963@mail.gmail.com>

Thanks!

2010/3/20  <vouchcac@users.sourceforge.net>:
> Revision: 14190
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14190&view=rev
> Author: ? vouchcac
> Date: ? ? 2010-03-20 05:35:28 +0000 (Sat, 20 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-19 22:22 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbide/hbide.ch
> ?* contrib/hbide/hbide.prg
> ?* contrib/hbide/idemisc.prg
> ?* contrib/hbide/idesaveload.prg
> ? ?+ Reworked command-line parameters.
> ? ? ?Now hbIDE can be invoked with either of the combination,
> ? ? ?.ini .hbp .prg .c .cpp. Following algorithm is followed:
> ? ? ? ?1 .ini has the precedance over .hbp.
> ? ? ? ?2 if both are passed then .hbp will be added to the project tree,
> ? ? ? ? ?after loading components from .ini.
> ? ? ? ?3 if only .hbp is passed, then no attempt is made to save the settings.
> ? ? ? ?4 if only sources are passed then all will be opened "Main" panel,
> ? ? ? ? ?which will also be the startup panel, no project tree will be
> ? ? ? ? ?displayed.
>
> ? ? ? ? ?c:\harbour\contrib\hbide>hbide.exe hbide.hbp
> ? ? ? ? ?c:\harbour\contrib\hbide>hbide.exe idemisc.prg idethemes.prg
> ? ? ? ? ?c:\harbour\contrib\hbide>hbide.exe C:\dev_hbmk\hbide.ini hbide.hbp
>
> ? ? ?Regression is possible, please inform any incompatibilities.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/hbide/hbide.ch
> ? ?trunk/harbour/contrib/hbide/hbide.prg
> ? ?trunk/harbour/contrib/hbide/idemisc.prg
> ? ?trunk/harbour/contrib/hbide/idesaveload.prg
>
>

-- 
Massimo Belgrano
From labitas at gmail.com  Sat Mar 20 04:45:21 2010
From: labitas at gmail.com (Saulius Zrelskis)
Date: Sat Mar 20 04:45:29 2010
Subject: [Harbour] About message WM_CREATE in gtwvt.c
Message-ID: <2386af1b1003200145i13e0aedeha54fc4e8ccb0847e@mail.gmail.com>

Hi, All

Before returning, CreateWindow sends a WM_CREATE message to the window
procedure.
So this message _never_ processed in hb_gt_wvt_WndProc, because window handle
is still unknown for hb_gt_wvt_Find.
This also appends to messages WM_GETMINMAXINFO, WM_NCCREATE and WM_NCCALCSIZE.

Any hint how to resolve this?

Best regards,
Saulius
From petr_ch at users.sourceforge.net  Sat Mar 20 05:03:47 2010
From: petr_ch at users.sourceforge.net (petr_ch@users.sourceforge.net)
Date: Sat Mar 20 05:03:55 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14191] trunk/harbour
Message-ID: <E1Nsuax-0006MK-J8@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14191
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14191&view=rev
Author:   petr_ch
Date:     2010-03-20 09:03:45 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2009-11-28 11:00 UTC+0200 Petr Chornyj (myorg63 at mail.ru)
  * harbour/bin/postinst.bat 
    * Minor change to respect HB_BUILD_SHARED

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Mar 20 05:29:46 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 20 05:29:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14191] trunk/harbour
In-Reply-To: <E1Nsuax-0006MK-J8@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1Nsuax-0006MK-J8@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <ECD990E2-8DD5-4D0F-A2B0-C205504843C0@syenar.hu>

Hi,

It broke creation of shared binaries in my regular release builds.

Brgds,
Viktor

On 2010 Mar 20, at 10:03, petr_ch@users.sourceforge.net wrote:

> Revision: 14191
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14191&view=rev
> Author:   petr_ch
> Date:     2010-03-20 09:03:45 +0000 (Sat, 20 Mar 2010)
> 
> Log Message:
> -----------
> 2009-11-28 11:00 UTC+0200 Petr Chornyj (myorg63 at mail.ru)
>  * harbour/bin/postinst.bat 
>    * Minor change to respect HB_BUILD_SHARED
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/bin/postinst.bat
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Mar 20 05:39:54 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 20 05:40:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14192] trunk/harbour
Message-ID: <E1Nsv9u-0006xY-Tc@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14192
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14192&view=rev
Author:   vszakats
Date:     2010-03-20 09:39:53 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 10:38 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
    ! Fixed recent change. 'HB_BUILD_SHARED=yes' means to create
      _default_ binaries (hbtest.exe, hbrun.exe, etc) in shared
      mode, so the correct behavior here is to _not_ create separate
      shared versions in this case.
      I didn't retest every aspect of this, so it's possible even
      this is wrong and the whole change has to be rethought or reverted.
    ! Fixed indentation after recent change.
      Please do respect formatting when editing files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 20 05:43:05 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 20 05:43:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14193] trunk/harbour
Message-ID: <E1NsvCz-00071i-Sj@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14193
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14193&view=rev
Author:   vszakats
Date:     2010-03-20 09:43:04 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 10:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - contrib/hbbzip2
  + contrib/hbbz2
  * contrib/Makefile
  * contrib/hbbz2/hbbzip2.hbc
    * Renaming hbbzip2 to hbbz2 (pass 1/2)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/hbbz2/hbbzip2.hbc

Added Paths:
-----------
    trunk/harbour/contrib/hbbz2/

Removed Paths:
-------------
    trunk/harbour/contrib/hbbzip2/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 20 05:50:14 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 20 05:50:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14194] trunk/harbour
Message-ID: <E1NsvJu-000788-72@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14194
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14194&view=rev
Author:   vszakats
Date:     2010-03-20 09:50:12 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 10:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbbz2/Makefile
  - contrib/hbbz2/hbbzip2.ch
  + contrib/hbbz2/hbbz2.ch
  - contrib/hbbz2/hbbzip2.c
  + contrib/hbbz2/hbbz2.c
  - contrib/hbbz2/hbbzip2.hbc
  + contrib/hbbz2/hbbz2.hbc
  * contrib/hbbz2/tests/hbmk.hbm
    * Renaming hbbzip2 to hbbz2 (pass 2/2)

  * utils/hbmk2/examples/contribf.hbc
    * Updated.

  - utils/hbmk2/examples/hmg.hbc
  - utils/hbmk2/examples/minigui.hbc
    - Deleted these example since they are now maintained in 
      HMG/MiniGui projects (Thanks!).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbz2/Makefile
    trunk/harbour/contrib/hbbz2/tests/hbmk.hbm
    trunk/harbour/utils/hbmk2/examples/contribf.hbc

Added Paths:
-----------
    trunk/harbour/contrib/hbbz2/hbbz2.c
    trunk/harbour/contrib/hbbz2/hbbz2.ch
    trunk/harbour/contrib/hbbz2/hbbz2.hbc

Removed Paths:
-------------
    trunk/harbour/contrib/hbbz2/hbbzip2.c
    trunk/harbour/contrib/hbbz2/hbbzip2.ch
    trunk/harbour/contrib/hbbz2/hbbzip2.hbc
    trunk/harbour/utils/hbmk2/examples/hmg.hbc
    trunk/harbour/utils/hbmk2/examples/minigui.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Mar 20 07:32:54 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Mar 20 07:33:03 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <4BA39398.9030307@dbtopas.lt>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
	<4BA39398.9030307@dbtopas.lt>
Message-ID: <20100320113254.GA1721@linux-4bod.home.aster.pl>

On Fri, 19 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> >I've included BCC55 for comparison. It's running at half the
> >overall speed compared to 4.5 64-bit.
> Echhhh... I'm still using BCC, because... it compiles f.e.
> \external\sqlite3 in 2.74 s, and MGW compiles it in 3 minutes 3.25
> s, i.e. 67 times slower...

It's important only if you have to often recompile very big C files
which can be hardly optimized. So you can use BCC when you are working
on such files and MinGW to create final binaries.
You can also try to reduce the optimization level, i.e. you can use -Os
in MinGW flags. It should reduce the compilation time and final binaries
will be slower then the one created by BCC though still faster.

best regards,
Przemek
From dbtopas at dbtopas.lt  Sat Mar 20 07:33:21 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Mar 20 07:33:46 2010
Subject: [Harbour] About message WM_CREATE in gtwvt.c
In-Reply-To: <2386af1b1003200145i13e0aedeha54fc4e8ccb0847e@mail.gmail.com>
References: <2386af1b1003200145i13e0aedeha54fc4e8ccb0847e@mail.gmail.com>
Message-ID: <4BA4B281.2000302@dbtopas.lt>

Saulius Zrelskis wrote:
> Before returning, CreateWindow sends a WM_CREATE message to the window
> procedure.
> So this message _never_ processed in hb_gt_wvt_WndProc, because window handle
> is still unknown for hb_gt_wvt_Find.
> This also appends to messages WM_GETMINMAXINFO, WM_NCCREATE and WM_NCCALCSIZE.
> 
> Any hint how to resolve this?

Hi,


Warning: I do not know anything about WVT, so, my answer will be more 
generic, but could not fit in case of WVT.

I understand the main problem is binding the hWnd to some internal 
window structure/object representing hWnd in application. Before 
CreateWindow returns (and hWnd is obtained and bound), event handler 
receives some messages and it is unable to locate window structure.

I use the following method: before CreateWindow() call I put structure 
pointer into static variable. After first (any) message is received I do 
hWnd and structure binding, and forward message to real handler.

To isolate this binding functionality and avoid situation then message 
for a different (not the one that was just created) window will be 
dequeued, I use a separate window procedure for binding purpose. After 
hWnd and structure is bound, I set the real window handler using 
SetWindowLong(hWnd, GWL_WNDPROC, ...) and forward event to real handler.

Is it clear?


Regards,
Mindaugas

From druzus at acn.waw.pl  Sat Mar 20 07:43:10 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Mar 20 07:43:18 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <4BA3A25E.3070901@libero.it>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
	<4BA39398.9030307@dbtopas.lt>
	<EBF98AC7-C9B6-4CAD-BCFB-8BFAB7BB3A5C@syenar.hu>
	<4BA3A25E.3070901@libero.it>
Message-ID: <20100320114310.GB1721@linux-4bod.home.aster.pl>

On Fri, 19 Mar 2010, Maurilio Longo wrote:

Hi,

> for real code, doing I/O on a network share, the difference could be lower,
> though.

Network IO operations are extremely expensive so they will consume most
of time anyhow in local IO operations are not such significant and there
are time consuming operations which can be done locally, i.e. reindexing.
Please also note that usually *nix applications are executed remotely
on the server side only so the execution speed is not reduced by network
overhead at all.

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Mar 20 08:07:47 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Mar 20 08:07:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14195] trunk/harbour
Message-ID: <E1NsxT1-00015z-Qm@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14195
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14195&view=rev
Author:   druzus
Date:     2010-03-20 12:07:46 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 13:07 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/wapi_winuser.c
    * cleaned some code to use wapi_par_*() and wapi_ret_*() macros
    + added WAPI_*() functions to create and manipolate menus (HMENU)
    + added WAPI_CREATEACCELERATORTABLE( <aAccels> ) -> <hAccel>
      and WAPI_DESTROYACCELERATORTABLE( <hAccel> )

  * harbour/contrib/hbwin/hbwin.ch
    + added new constant values for WAPI manu functions
      (WIN_MF_* and WIN_TPM_*)

  * harbour/contrib/hbwin/hbwapi.h
    + added few new wapi_par_*() and wapi_ret_*() macros
    ! fixed wapi_ret_UINT() and wapi_ret_DWORD() macros to not make
      conversion which can create negative values

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwapi.h
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/wapi_winuser.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Mar 20 08:08:20 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Mar 20 08:08:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14194] trunk/harbour
In-Reply-To: <E1NsvJu-000788-72@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NsvJu-000788-72@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <20100320120820.GA9704@linux-4bod.home.aster.pl>

On Sat, 20 Mar 2010, vszakats@users.sourceforge.net wrote:

Hi,

> -----------
> 2010-03-20 10:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbbz2/Makefile
>   - contrib/hbbz2/hbbzip2.ch
>   + contrib/hbbz2/hbbz2.ch
>   - contrib/hbbz2/hbbzip2.c
>   + contrib/hbbz2/hbbz2.c
>   - contrib/hbbz2/hbbzip2.hbc
>   + contrib/hbbz2/hbbz2.hbc
>   * contrib/hbbz2/tests/hbmk.hbm
>     * Renaming hbbzip2 to hbbz2 (pass 2/2)

Thank you very much.

best regards,
Przemek
From vszakats at users.sourceforge.net  Sat Mar 20 08:26:55 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 20 08:27:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14196] trunk/harbour
Message-ID: <E1NsxlW-0007PC-W4@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14196
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14196&view=rev
Author:   vszakats
Date:     2010-03-20 12:26:53 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 13:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.ch
    + Added WIN_LR_* flag constants for WAPI_LOADIMAGE().

  * contrib/hbwin/win_shell.c
  * contrib/hbwin/hbwin.ch
    + WIN_SHELLNOTIFYICON(): Added support for balloon notifications.

  * contrib/hbwin/wapi_commctrl.c
    ! Fixed functions to be defined regardless of _WIN32_IE value
      and to return permanent errors if not.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/win_shell.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Sat Mar 20 08:51:40 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Mar 20 08:51:53 2010
Subject: [Harbour] OS/2: Harbour 14189, hbqt
Message-ID: <4BA4C4DC.6070201@mail.udg.mx>

Pritpal:

Tests with Harbour fresh checkout:
  * $Id: ChangeLog 14189 2010-03-19 13:11:59Z vszakats $
  2010-03-19 14:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)


os2qt development has moved to Qt462
Current tests with os2qt462 r701

so we have a newer Harbour and newer os2Qt462

With our 4 specific error cases
- one has been fixed (a)
- one changed behaviour (c)
- two remain with same behaviour (b, d)


a) demoqt.prg
  Case: QT_QWIDGET_RESIZE(0)
        PMMERGE 3:0007f6f8
  Fixed
  For first time in history I see demoqt.exe running on OS/2


b) demoqt.prg, MsgInfo( "Testing" ) added
  Case: Object destruction
        LIBC063 0:000669ca
  Remain
  Question: Is this a common problem in hbqt in rest of platforms, or
exist only in OS/2 ?

This is (1,2) output:

------------------------------------

demoqt.prg:127:MAIN(): HB_TR_ALWAYS
demoqt.prg:128:MAIN(): HB_TR_ALWAYS -----------------b-----------------

Exception c0000005 at address 0x1de369ca

     Exception Code:C0000005
     Exception Address:1DE369CA
     EAX:00000001  EBX:0290FC8C  ECX:0290FC94  EDX:00000001
     ESI:00000000  EDI:00000000  EBP:0030FB68
     CS:EIP:005B:1DE369CA  SS:ESP:0053:0030FB50
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from MSGINFO(605) in demoqt.prg
Called from MAIN(131) in demoqt.prg

Killed by SIGSEGV
pid=0x45d1 ppid=0x459d tid=0x0001 slot=0x00a4 pri=0x0200 mc=0x0001
E:\HARBOUR103C\HARBOUR\CONTRIB\HBQT\TESTS\DEMOQT.EXE
LIBC063 0:000669ca
cs:eip=005b:1de369ca      ss:esp=0053:0030fb50      ebp=0030fb68
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=0290fc8c ecx=0290fc94 edx=00000001 edi=00000000
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.

------------------------------------


c) hbide project
  Case: hbide crash at startup
        LIBC063 0:000669ca
  Changed behaviour

My description was, for previous behaviour:
-----------------------------
New failure

When run, show logo, build window with content and CRASH in 5 seconds
without human intervention. Tested many times and same behaviour

Something changed in hbqt*, hbide. With 13976 was running with some
failures, but do not crash in 5 seconds
Initial window size is different in both versions
-----------------------------


In current behaviour, show logo and never build window, then crash

This is (1,2) output:

------------------------------------

idemisc.prg:925:HBIDE_DBG(): HB_TR_ALWAYS NIL
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockProjectTree", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockEditorTabs", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFuncList", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockSkltnsTree", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockHelp", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockSkeleton", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFindInFiles", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockThemes", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockProperties", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockEnvironments", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockCompileResults", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockLinkResults", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockOutputResults", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockDocViewer", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockDocWriter", which already has a layout
QWidget::setLayout: Attempting to set QLayout "" on QDockWidget
"dockFunctions", which already has a layout

Exception c0000005 at address 0x1de369ca

     Exception Code:C0000005
     Exception Address:1DE369CA
     EAX:00000001  EBX:02C00F6C  ECX:02C00F74  EDX:00000001
     ESI:00000000  EDI:02C00F9C  EBP:005CFCE8
     CS:EIP:005B:1DE369CA  SS:ESP:0053:005CFCD0
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from HBIDE:CREATE(487) in hbide.prg
Called from MAIN(117) in hbide.prg

Killed by SIGSEGV
pid=0x45f7 ppid=0x459d tid=0x0001 slot=0x00a2 pri=0x0200 mc=0x0001
E:\HARBOUR103C\HARBOUR\CONTRIB\HBIDE\HBIDE.EXE
LIBC063 0:000669ca
cs:eip=005b:1de369ca      ss:esp=0053:005cfcd0      ebp=005cfce8
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=02c00f6c ecx=02c00f74 edx=00000001 edi=02c00f9c
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
------------------------------------


d) demoxbp.prg
  Case: QPIXMAP:SCALED(0)
        LIBC063 0:000669ca
  Remain

This is (1,2) output:

------------------------------------

Exception c0000005 at address 0x1de369ca

     Exception Code:C0000005
     Exception Address:1DE369CA
     EAX:00000001  EBX:02A9D15C  ECX:02A9D164  EDX:00000001
     ESI:00000000  EDI:02A9D124  EBP:0039F728
     CS:EIP:005B:1DE369CA  SS:ESP:0053:0039F710
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from QPIXMAP:SCALED(0) in ../../../TQPixmap.prg
Called from XBPSTATUSBAR:SETPOINTER(0) in ../../../xbpwindow.prg
Called from BUILD_STATUSBAR(531) in demoxbp.prg
Called from BUILDADIALOG(168) in demoxbp.prg
Called from _BUILDADIALOG(107) in demoxbp.prg
Called from MAIN(98) in demoxbp.prg

Killed by SIGSEGV
pid=0x4612 ppid=0x459d tid=0x0001 slot=0x0096 pri=0x0200 mc=0x0001
E:\HARBOUR103C\HARBOUR\CONTRIB\HBXBP\TESTS\DEMOXBP.EXE
LIBC063 0:000669ca
cs:eip=005b:1de369ca      ss:esp=0053:0039f710      ebp=0039f728
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=02a9d15c ecx=02a9d164 edx=00000001 edi=02a9d124
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
------------------------------------


Previously I reported cases to NetLabs/osqt development

Below are included last response from Dmitry, his "general thoughts" may
be useful

David Macias


David Macias wrote:

> ... coming from Ticket 133 "API_FPU_CW_Wrappers.h errors"
>
> We have our firsts Harbour+os2gcc442+hbqt+qt461 applications running, 
but with
> errors still
> Many crashes with "Killed by SIGSEGV"

I'm not familiar with Harbour, so the information you provide here
doesn't give
me enough detail to say what can cause the crashes you have.

First of all, you need to build a debug version of Qt and a debug
version of
Harbour and then try to reproduce your crashes using these debug builds
-- I
don't know about Harbour, but Qt may print some useful messages to the
console
that can give us a hint.

Next, if the above doesn't help, you will need to get an OS/2 debugger
and run
the debug build from there. Using the debugger, we will be able to get
the call
stack at a time of the crash and therefore locate the exact place in the
source
code responsible for this.

Ask me if you need more details on how to get all this debug stuff.

Now, here are some general thoughts on the problems you mentioned.

Regarding broken classes. Of course, there may still be some
OS/2-specific bugs
in our port of Qt, but all key classes generally "behave properly", at
least in
a hundred Qt applications me and other people tried and tested -- you
can see it
yourself if you install the demos and examples package and try to run
applications out there.

Regarding the order of size events, I must say that Qt for OS/2 indeed
may (and
sometimes will) generate events in a different order compared to other
platforms: this often depends on the Presentation Manager and there is
nothing
we can do about it. In general, application should not rely on the
particular
event order because it is not guaranteed by the design of Qt.

Regarding the object destruction in Qt. I don't know if this is relevant
or not,
but Qt uses a lot of global and local static objects (in terms of C++)
that get
automatically constructed at program startup and destroyed at
termination. In
C++, the order in which these objects are constructed and destructed, is
not
guaranteed. I found one bug related to this issue in Qt itself (see r599
in the
SVN) but there may be more.



From labitas at gmail.com  Sat Mar 20 09:08:37 2010
From: labitas at gmail.com (Saulius Zrelskis)
Date: Sat Mar 20 09:08:46 2010
Subject: [Harbour] About message WM_CREATE in gtwvt.c
In-Reply-To: <4BA4B281.2000302@dbtopas.lt>
References: <2386af1b1003200145i13e0aedeha54fc4e8ccb0847e@mail.gmail.com>
	<4BA4B281.2000302@dbtopas.lt>
Message-ID: <2386af1b1003200608s5eb5009cw15a08e5ba1e9b5c5@mail.gmail.com>

Hi,

> Is it clear?

Yes, clear and robust solution. Thank you very much.

I try to use CreateWindow(Ex) parameter LPVOID lpParam.
There can be address of memory or any value
  ( LPVOID ) 0x12345678
and messages WM_NCCREATE, WM_CREATE receives in lParam
structure CREATESTRUCT address, where member lpCreateParams
have value passed through lpParam in CreateWindow(Ex).

Have you experience on this?

Best regards,
Saulius
From dbtopas at dbtopas.lt  Sat Mar 20 09:19:51 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Mar 20 09:20:15 2010
Subject: [Harbour] About message WM_CREATE in gtwvt.c
In-Reply-To: <2386af1b1003200608s5eb5009cw15a08e5ba1e9b5c5@mail.gmail.com>
References: <2386af1b1003200145i13e0aedeha54fc4e8ccb0847e@mail.gmail.com>	<4BA4B281.2000302@dbtopas.lt>
	<2386af1b1003200608s5eb5009cw15a08e5ba1e9b5c5@mail.gmail.com>
Message-ID: <4BA4CB77.7080003@dbtopas.lt>

Saulius Zrelskis wrote:
  > I try to use CreateWindow(Ex) parameter LPVOID lpParam.
> There can be address of memory or any value
>   ( LPVOID ) 0x12345678
> and messages WM_NCCREATE, WM_CREATE receives in lParam
> structure CREATESTRUCT address, where member lpCreateParams
> have value passed through lpParam in CreateWindow(Ex).
> 
> Have you experience on this?

lpCreateParams can be used to pass windows structure/object, but this 
does not help if you want to have hWnd and windows structure binding in 
  WM_GETMINMAXINFO, since this message does not have CREATESTRUCT 
parameter. WM_GETMINMAXINFO processing could be useful if window size 
should depend on its child controls size and you want to avoid flicker 
caused by multiple resize.


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Sat Mar 20 09:33:11 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 20 09:33:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14197] trunk/harbour
Message-ID: <E1Nsynf-0002dX-Gp@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14197
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14197&view=rev
Author:   vszakats
Date:     2010-03-20 13:33:10 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 14:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_shell.c
    ! Inevitable tweaking for Windows API header / compiler 
      idiocy.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_shell.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at gmail.com  Sat Mar 20 09:52:24 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Mar 20 09:53:08 2010
Subject: [Harbour] Request feature win_prn.
Message-ID: <ho2jup$qnv$1@dough.gmane.org>

Hi!
Please add possibility vertical print caracters.

Best regards,
Itamar M. Lins Jr.

From labitas at gmail.com  Sat Mar 20 10:03:54 2010
From: labitas at gmail.com (Saulius Zrelskis)
Date: Sat Mar 20 10:04:02 2010
Subject: [Harbour] About message WM_CREATE in gtwvt.c
In-Reply-To: <4BA4CB77.7080003@dbtopas.lt>
References: <2386af1b1003200145i13e0aedeha54fc4e8ccb0847e@mail.gmail.com>
	<4BA4B281.2000302@dbtopas.lt>
	<2386af1b1003200608s5eb5009cw15a08e5ba1e9b5c5@mail.gmail.com>
	<4BA4CB77.7080003@dbtopas.lt>
Message-ID: <2386af1b1003200703h35da7415q475e984d0004f47f@mail.gmail.com>

> Mindaugas Kavaliauskas wrote:
> lpCreateParams can be used to pass windows structure/object, but this does
> not help if you want to have hWnd and windows structure binding in
> ?WM_GETMINMAXINFO, since this message does not have CREATESTRUCT parameter.
> WM_GETMINMAXINFO processing could be useful if window size should depend on
> its child controls size and you want to avoid flicker caused by multiple
> resize.

Yes, WM_GETMINMAXINFO is the only message which appears before WM_NCCREATE.
But you can recall it with MoveWindow, SetWindowPos calls.
To avoid flicker turn on window visibility after all readiness.
Or I am mistaken?

Best regards,
Saulius
From vouchcac at users.sourceforge.net  Sat Mar 20 10:59:18 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 20 10:59:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14198] trunk/harbour
Message-ID: <E1Nt090-0001qX-Ke@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14198
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14198&view=rev
Author:   vouchcac
Date:     2010-03-20 14:59:17 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 07:53 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.hbp
    + Added idewizard.prg

  * contrib/hbide/hbide.prg
    ! Postponed destruction of QSplashScreen(),
      always producing GPF on OS2, to take care of by Qt itself.

  * contrib/hbide/idedocks.prg
    ! Fix to *nixs warning 
        QWidget::setLayout: Attempting to set QLayout "" on QDockWidget 
        "dockHelp", which already has a layout 
      and family.

  + contrib/hbide/idewizard.prg
    + Preparations for globalization of hbIDE for Xbase world.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idewizard.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Mar 20 11:14:26 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 20 11:14:33 2010
Subject: [Harbour] Re: OS/2: Harbour 14189, hbqt
In-Reply-To: <4BA4C4DC.6070201@mail.udg.mx>
References: <4BA4C4DC.6070201@mail.udg.mx>
Message-ID: <1269098066441-4768762.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
> Tests with Harbour fresh checkout:
>   * $Id: ChangeLog 14189 2010-03-19 13:11:59Z vszakats $
>   2010-03-19 14:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> 
> os2qt development has moved to Qt462
> Current tests with os2qt462 r701
> 
> so we have a newer Harbour and newer os2Qt462
> 

Thanks for your constant efforts, someday we will reach a solution, for
sure.



> With our 4 specific error cases
> - one has been fixed (a)
> - one changed behaviour (c)
> - two remain with same behaviour (b, d)
> 
> 
> a) demoqt.prg
>   Case: QT_QWIDGET_RESIZE(0)
>         PMMERGE 3:0007f6f8
>   Fixed
>   For first time in history I see demoqt.exe running on OS/2
> 


All the good.




> b) demoqt.prg, MsgInfo( "Testing" ) added
>   Case: Object destruction
>         LIBC063 0:000669ca
>   Remain
>   Question: Is this a common problem in hbqt in rest of platforms, or
> exist only in OS/2 ?
> 


This is the behavior of GC and Qt's destruction mechanism, see below.




> c) hbide project
>   Case: hbide crash at startup
>         LIBC063 0:000669ca
>   Changed behaviour
> 
> In current behaviour, show logo and never build window, then crash
> 


Probably fixed in r14198, please test.
It is again a "destruction of object" issue.



> d) demoxbp.prg
>   Case: QPIXMAP:SCALED(0)
>         LIBC063 0:000669ca
>   Remain
> 
> Called from QPIXMAP:SCALED(0) in ../../../TQPixmap.prg
> 


This is bug in OS Qt in QPixmap() class.
Tell Dmitry specifically pointing to this issue only.




> Regarding the object destruction in Qt. I don't know if this is relevant
> or not,
> but Qt uses a lot of global and local static objects (in terms of C++)
> that get
> automatically constructed at program startup and destroyed at
> termination. In
> C++, the order in which these objects are constructed and destructed, is
> not
> guaranteed. I found one bug related to this issue in Qt itself (see r599
> in the
> SVN) but there may be more.
> 


The above reply portrays the snapshot of our GC way of destruction
and how Qt handles them, all timing problem.  This is one factor I always
struggle about. If we do away with GC pointers, everything goes OK
but then application keeps on eating memory unless we reuse 
the objects, that was the case with first few months of development.

I am writing an artical on Harbour-Qt implementation focusing 
on object creation and destruction mechanism. Once that is in place,
we can request netlabs to look into it deeply and suggest us 
what should be our strategy.

Thank you for constant efforts.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-14189-hbqt-tp4768265p4768762.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mbelgrano at deltain.it  Sat Mar 20 11:44:44 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Mar 20 11:45:13 2010
Subject: [Harbour] Re: OS/2: Harbour 14189, hbqt
In-Reply-To: <1269098066441-4768762.post@n2.nabble.com>
References: <4BA4C4DC.6070201@mail.udg.mx>
	<1269098066441-4768762.post@n2.nabble.com>
Message-ID: <609353e71003200844x49a6c9bey742f23ef375c41fd@mail.gmail.com>

Will be good if possible  if sameboy [like Pritpal] found a way in
hbide,hbqt.hbxbp that when a compoment not work the application will
continue also without this part,
this be  usefull for platform like os2,ubuntu,mobile platform with
partial support
SET INGNORE ERROR
Better partial that nothing


2010/3/20 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
> David Arturo Macias Corona wrote:
>>
>> Tests with Harbour fresh checkout:
>> ? * $Id: ChangeLog 14189 2010-03-19 13:11:59Z vszakats $
>> ? 2010-03-19 14:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>
>> os2qt development has moved to Qt462
>> Current tests with os2qt462 r701
>>
>> so we have a newer Harbour and newer os2Qt462
>>
>
> Thanks for your constant efforts, someday we will reach a solution, for
> sure.
>
>
>
>> With our 4 specific error cases
>> - one has been fixed (a)
>> - one changed behaviour (c)
>> - two remain with same behaviour (b, d)
>>
>>
>> a) demoqt.prg
>> ? Case: QT_QWIDGET_RESIZE(0)
>> ? ? ? ? PMMERGE 3:0007f6f8
>> ? Fixed
>> ? For first time in history I see demoqt.exe running on OS/2
>>
>
>
> All the good.
>
>
>
>
>> b) demoqt.prg, MsgInfo( "Testing" ) added
>> ? Case: Object destruction
>> ? ? ? ? LIBC063 0:000669ca
>> ? Remain
>> ? Question: Is this a common problem in hbqt in rest of platforms, or
>> exist only in OS/2 ?
>>
>
>
> This is the behavior of GC and Qt's destruction mechanism, see below.
>
>
>
>
>> c) hbide project
>> ? Case: hbide crash at startup
>> ? ? ? ? LIBC063 0:000669ca
>> ? Changed behaviour
>>
>> In current behaviour, show logo and never build window, then crash
>>
>
>
> Probably fixed in r14198, please test.
> It is again a "destruction of object" issue.
>
>
>
>> d) demoxbp.prg
>> ? Case: QPIXMAP:SCALED(0)
>> ? ? ? ? LIBC063 0:000669ca
>> ? Remain
>>
>> Called from QPIXMAP:SCALED(0) in ../../../TQPixmap.prg
>>
>
>
> This is bug in OS Qt in QPixmap() class.
> Tell Dmitry specifically pointing to this issue only.
>
>
>
>
>> Regarding the object destruction in Qt. I don't know if this is relevant
>> or not,
>> but Qt uses a lot of global and local static objects (in terms of C++)
>> that get
>> automatically constructed at program startup and destroyed at
>> termination. In
>> C++, the order in which these objects are constructed and destructed, is
>> not
>> guaranteed. I found one bug related to this issue in Qt itself (see r599
>> in the
>> SVN) but there may be more.
>>
>
>
> The above reply portrays the snapshot of our GC way of destruction
> and how Qt handles them, all timing problem. ?This is one factor I always
> struggle about. If we do away with GC pointers, everything goes OK
> but then application keeps on eating memory unless we reuse
> the objects, that was the case with first few months of development.
>
> I am writing an artical on Harbour-Qt implementation focusing
> on object creation and destruction mechanism. Once that is in place,
> we can request netlabs to look into it deeply and suggest us
> what should be our strategy.
>
> Thank you for constant efforts.
>
>
> -----
> ? ? ? ? ? ? ? ? enjoy hbIDEing...
> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/OS-2-Harbour-14189-hbqt-tp4768265p4768762.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From petr_ch at users.sourceforge.net  Sat Mar 20 12:26:57 2010
From: petr_ch at users.sourceforge.net (petr_ch@users.sourceforge.net)
Date: Sat Mar 20 12:27:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14199] trunk/harbour
Message-ID: <E1Nt1Vp-00024p-1X@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14199
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14199&view=rev
Author:   petr_ch
Date:     2010-03-20 16:26:55 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 18:00 UTC+0200 Petr Chornyj (myorg63 at mail.ru)
  * harbour/bin/postinst.bat
    ! fixed to not override hbrun if HB_BUILD_SHARED == "yes"
  * harbour/ChangeLog
    ! fixed date
  * harbour/contrib/hbsqlit3/hbsqlit3.c
    ! fixed usage hb_fsNameConv in SQLITE3_TEMP_DIRECTORY

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From petr_ch at users.sourceforge.net  Sat Mar 20 12:35:34 2010
From: petr_ch at users.sourceforge.net (petr_ch@users.sourceforge.net)
Date: Sat Mar 20 12:35:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14200]
	trunk/harbour/ChangeLog
Message-ID: <E1Nt1eA-0002Cy-6N@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14200
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14200&view=rev
Author:   petr_ch
Date:     2010-03-20 16:35:33 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 18:30 UTC+0200 Petr Chornyj (myorg63 at mail.ru)
  * harbour/ChangeLog
    ! fixed typo my previous commit. Sorry..

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Mar 20 13:17:18 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 20 13:17:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14201] trunk/harbour
Message-ID: <E1Nt2IY-0003dw-Qd@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14201
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14201&view=rev
Author:   vouchcac
Date:     2010-03-20 17:17:14 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 10:12 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idesources.prg
    + Implemented: auto-save the project's source(s) at "build" time, 
      if some are modified.

      This is implemented by default, no options.
      Regression is possible, please report.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idesources.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Mar 20 13:47:42 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 20 13:47:51 2010
Subject: [Harbour] Re: Hbide is at xmate level for harbour user
In-Reply-To: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com>
References: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com>
Message-ID: <1269107262671-4769344.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Autosave
> 


Done. r14201.




> Command line to load project or single prg
> Easy creation of project
> 


Done. r14198.




> Project function lookup is very good but little complex to use: is
> possible Define a hbide project flag who automatically open tag so
> balance need of fast load  with easy to use
> 


It is easy. But let me find a better way.




> Project mapping and user menu (because i use for integrate harbour
> developer language with winapi)
> 


On TODO list.




> Capability of Using also  xharbour/clipper
> 


Started.




> Gui Debugger
> 


Still not thought of, I need be more educated in this field.




> Dotprompt
> 


A part of the "Tools" menu. Probably by this weekend.




>   -Color and look must find a way to be more professional
> 


Where do you find hbIDE does not look professional ?
Single out the areas and suggest what should be different.
We removed the gradients because of obivious reasons,
that is what you are pointing out ?




>   -Having all toolbar feature in also menu because tree toolbar are a
> lot and little unusual
>   -we need reduce complexity
> 


Here I am totally disagree with you at all.
How do you consider a menu is better than a toolbar.
In this case you are refering to tree-views, right ?
Note that complex nature of some data need different 
presentation methodology.




>   -give a extensibility for allow the creation of plugin
> 


"pligin" concept is proprietory to Qt itself, and cannot be 
replicated through Harbour wrappers.

BTW which "plugins" you are talking about?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-is-at-xmate-level-for-harbour-user-tp4762452p4769344.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sat Mar 20 13:53:33 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 20 13:53:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14202] trunk/harbour
Message-ID: <E1Nt2rd-0004DG-Cu@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14202
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14202&view=rev
Author:   vszakats
Date:     2010-03-20 17:53:29 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 18:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
    ! Fixed/cleaned latest modification, removed redundancy.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Mar 20 14:28:57 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 20 14:29:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14203] trunk/harbour
Message-ID: <E1Nt3Pt-00084j-VV@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14203
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14203&view=rev
Author:   vouchcac
Date:     2010-03-20 18:28:56 +0000 (Sat, 20 Mar 2010)

Log Message:
-----------
2010-03-20 11:25 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/idefunctions.prg
  * contrib/hbide/idesaveload.prg
    + Implemented: auto-loading the last "Re-tagged" functions
      prototype. It may take some time but it is done at the 
      background, so user will never experience the difference.
      You can start working on any other aspect of hbIDE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idefunctions.prg
    trunk/harbour/contrib/hbide/idesaveload.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Mar 20 14:31:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 20 14:31:21 2010
Subject: [Harbour] Re: Hbide is at xmate level for harbour user
In-Reply-To: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com>
References: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com>
Message-ID: <1269109874325-4769494.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Project function lookup is very good but little complex to use: is
> possible Define a hbide project flag who automatically open tag so
> balance need of fast load  with easy to use
> 

Done. r14203.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-is-at-xmate-level-for-harbour-user-tp4762452p4769494.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mbelgrano at deltain.it  Sat Mar 20 15:22:34 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Mar 20 15:23:03 2010
Subject: [Harbour] Re: Hbide is at xmate level for harbour user
In-Reply-To: <1269107262671-4769344.post@n2.nabble.com>
References: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com> 
	<1269107262671-4769344.post@n2.nabble.com>
Message-ID: <609353e71003201222q1b462dafsa1aadd0e1b6c56ef@mail.gmail.com>

>> Project mapping and user menu (because i use for integrate harbour
>> developer language with winapi)
> On TODO list.
Very good!

>> Gui Debugger
> Still not thought of, I need be more educated in this field.
basic function of prg level debug are exec steep by step your prg and
show value of variable
MultiThread give more difficult debug http://www.allinea.com/?page=86
c level need solution like Valgrind
Can somebody share here intresting experiences in different language?

>> ? -Color and look must find a way to be more professional
>>
>
>
> Where do you find hbIDE does not look professional ?
> Single out the areas and suggest what should be different.
> We removed the gradients because of obivious reasons,
> that is what you are pointing out ?
in follow lin same screeen shoot of Vistual studio 2010 all
icon,element are blue colored
qt similar look green
In color area Vailton Renato have made a very good work with Harbour website
Can Vailton Help here?

Anybody can contribute here with wich are  good look and feel for Modern Gui
Web 2.0 Colour


http://blogs.lessthandot.com/index.php/DesktopDev/MSTech/visual-studio-2010-screenshots
http://community.visual-basic.it/alessandro/archive/2009/10/20/26741.aspx
http://blogs.devleap.com/articolidevleap/archive/2008/11/30/visual-studio-2010-primo-contatto-parte-3.aspx



>> ? -Having all toolbar feature in also menu because tree toolbar are a
>> lot and little unusual
>> ? -we need reduce complexity
> Here I am totally disagree with you at all.
> How do you consider a menu is better than a toolbar.
> In this case you are refering to tree-views, right ?
> Note that complex nature of some data need different
> presentation methodology.
No sorry i bad explain
if you  give either way of do a Thing, can be used for user that
habitually use menu or toolbar or righclick
for example i use menu and user menu for discover choice offered from a program
then want define my preferred customised  icon toolbar

>
>> ? -give a extensibility for allow the creation of plugin
> "pligin" concept is proprietory to Qt itself, and cannot be
> replicated through Harbour wrappers.
> BTW which "plugins" you are talking about?
still sorry for my bad english
I think a plugin for hbide,
FOr example if a write a program and want use in hbide
Kind of program may be like...
-customised file compare
-Another file search function
-Binary editor
-Support a different language in hbide

>




-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Sat Mar 20 15:24:41 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 20 15:24:48 2010
Subject: [Harbour] hbIDE - Autosave a Source
Message-ID: <1269113081663-4769695.post@n2.nabble.com>


Hi All

I am almost there to implement autosave a modified 
source after a fixed interval of time.

My worry - is it worth ?

Opinions?

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Autosave-a-Source-tp4769695p4769695.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Mar 20 15:39:13 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 20 15:39:20 2010
Subject: [Harbour] Re: Hbide is at xmate level for harbour user
In-Reply-To: <609353e71003201222q1b462dafsa1aadd0e1b6c56ef@mail.gmail.com>
References: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com>
	<1269107262671-4769344.post@n2.nabble.com>
	<609353e71003201222q1b462dafsa1aadd0e1b6c56ef@mail.gmail.com>
Message-ID: <1269113953183-4769743.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
>>> Gui Debugger
>> Still not thought of, I need be more educated in this field.
> basic function of prg level debug are exec steep by step your prg and
> show value of variable
> MultiThread give more difficult debug http://www.allinea.com/?page=86
> c level need solution like Valgrind
> Can somebody share here intresting experiences in different language?
> 

Perhaps someone else has to jump in.
I think I am not going this direct anytime soon.



> if you  give either way of do a Thing, can be used for user that
> habitually use menu or toolbar or righclick
> for example i use menu and user menu for discover choice offered from a
> program
> then want define my preferred customised  icon toolbar
> 

This is the proprietroy aspect of an application.
Later I will see what can go like this, at the end when
almost all basic aspects will be get implemented.
This is not a show stopper.




> I think a plugin for hbide,
> FOr example if a write a program and want use in hbide
> Kind of program may be like...
> -customised file compare
> -Another file search function
> -Binary editor
> -Support a different language in hbide
> 

So, again these are candidates of "Tools" option,
almost ready.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-is-at-xmate-level-for-harbour-user-tp4762452p4769743.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From fperillo at gmail.com  Sat Mar 20 16:48:04 2010
From: fperillo at gmail.com (francesco perillo)
Date: Sat Mar 20 16:48:12 2010
Subject: [Harbour] hbIDE - Autosave a Source
In-Reply-To: <1269113081663-4769695.post@n2.nabble.com>
References: <1269113081663-4769695.post@n2.nabble.com>
Message-ID: <6943770e1003201348g4caa98eeta734ebe49a2ee84d@mail.gmail.com>

yes, but only IF:
- it is an option not enabled by default
OR
- autosaves to a different file to not overwrite the file on disk....

imagine you have your editor open and you go to have a drink, your cat
jumps over the keyboard and deletes some lines of code....

Infact both "vi" editor and ms word autosave to a temporary file with
a different (but similar) name... if the program crashes and you run
it again, the program recognizes that an "autosave" file is present
and ask you to recover it...


So, again, YES, it is an important feature, but it must be properly
implemented....

Francesco
From alxokhotnikov at gmail.com  Sat Mar 20 18:06:28 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sat Mar 20 18:06:39 2010
Subject: [Harbour] field->&("name") in a macro
Message-ID: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>

Hi,

How can I compile (and run) this code in a macro:

field->&("name")

example:

func xxx( name )
local b := &( "{|| field->&('" + name + "') }" )
return eval( b )

Error BASE/1449  Syntax error: &

PS in *.hrb the exact same error
PPS Alaska XBase++: compiles without errors
(I convert the code from XBase++)

-- 
Alexandr
From amigosam at adinet.com.uy  Sat Mar 20 19:01:57 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sat Mar 20 19:02:16 2010
Subject: [Harbour] Re: field->&("name") in a macro
In-Reply-To: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
Message-ID: <ho3k4u$oq$1@dough.gmane.org>

xVar := (cAlias)->(FieldGet(FieldPos('name')))

HTH
Angel

From alxokhotnikov at gmail.com  Sat Mar 20 19:23:32 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sat Mar 20 19:23:39 2010
Subject: [Harbour] Re: field->&("name") in a macro
In-Reply-To: <ho3k4u$oq$1@dough.gmane.org>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<ho3k4u$oq$1@dough.gmane.org>
Message-ID: <d6fa31441003201623g4e547b26red109c14f157603a@mail.gmail.com>

Hi

And since change in more than 800 files?

there is a simpler solution?
In PRG everything compiles and runs fine


2010/3/21 Angel Pais <amigosam@adinet.com.uy>:
> xVar := (cAlias)->(FieldGet(FieldPos('name')))
>
> HTH
> Angel
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From fperillo at gmail.com  Sat Mar 20 20:46:36 2010
From: fperillo at gmail.com (francesco perillo)
Date: Sat Mar 20 20:46:44 2010
Subject: [Harbour] Re: field->&("name") in a macro
In-Reply-To: <d6fa31441003201623g4e547b26red109c14f157603a@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<ho3k4u$oq$1@dough.gmane.org>
	<d6fa31441003201623g4e547b26red109c14f157603a@mail.gmail.com>
Message-ID: <6943770e1003201746t7b2825cbm962fb623b1d46f32@mail.gmail.com>

> And since change in more than 800 files?

I don't know your source code but you wrote:
func xxx( name )
local b := &( "{|| field->&('" + name + "') }" )
return eval( b )

so I understand that in your 800 files there are several calls like:
bGet = xxx( "surname" )

It this is the actual situation, you may try something like:

func xxx( name )
local b := &( "{|| FieldGet(FieldPos('" + name + "'))}" )
return eval( b )

but it only looks in current workarea

If you have FIELD definition for different workareas you may try:

local b := &( "{|| field->FieldGet(FieldPos('" + name + "'))}" )
From jarabal at gmail.com  Sat Mar 20 23:49:06 2010
From: jarabal at gmail.com (Xavi)
Date: Sat Mar 20 23:49:18 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
Message-ID: <4BA59732.5070707@gmail.com>

Harbour has the same behavior as Clipper .-

proc main()
   PUBLIC VAR := 'Hello'

   ? M->&("VAR")   // Ok
   ? xxx( "VAR" )  // Ok
   ? Eval( &('{|| M->'+"VAR"+'}') )  // Ok

   ? Eval( &('{|| M->&("VAR") }') )  // Error BASE/1449  Syntax error: &
return

func xxx( name )
//  b := &( "{|| field->" + name + " }" )
local b := &( "{|| M->" + name + " }" )
return eval( b )

PS At least with this. :)
HTH
-- 
Xavi

El 20/03/2010 23:06, Alexandr Okhotnikov escribi?:
> Hi,
>
> How can I compile (and run) this code in a macro:
>
> field->&("name")
>
> example:
>
> func xxx( name )
> local b :=&( "{|| field->&('" + name + "') }" )
> return eval( b )
>
> Error BASE/1449  Syntax error:&
>
> PS in *.hrb the exact same error
> PPS Alaska XBase++: compiles without errors
> (I convert the code from XBase++)
>
From francek.prijatelj at siol.net  Sun Mar 21 03:57:38 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Sun Mar 21 03:57:45 2010
Subject: [Harbour] Re: hbIDE - Autosave a Source
In-Reply-To: <6943770e1003201348g4caa98eeta734ebe49a2ee84d@mail.gmail.com>
References: <1269113081663-4769695.post@n2.nabble.com>
	<6943770e1003201348g4caa98eeta734ebe49a2ee84d@mail.gmail.com>
Message-ID: <1269158258020-4771797.post@n2.nabble.com>


Hi


francesco perillo wrote:
> 
> 
> imagine you have your editor open and you go to have a drink, your cat
> jumps over the keyboard and deletes some lines of code....
> 
> 

There is another solution.
Teach your cat Harbour and C++, and when you come back you will be
amazed,  how he solved a lot of your bugs and created
some amazing applications.  ;)

BRGDS
Francek

-----
brgs
Fran?ek Prijatelj
-- 
View this message in context: http://n2.nabble.com/hbIDE-Autosave-a-Source-tp4769695p4771797.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From alxokhotnikov at gmail.com  Sun Mar 21 06:28:29 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sun Mar 21 06:28:39 2010
Subject: [Harbour] Re: field->&("name") in a macro
In-Reply-To: <6943770e1003201746t7b2825cbm962fb623b1d46f32@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<ho3k4u$oq$1@dough.gmane.org>
	<d6fa31441003201623g4e547b26red109c14f157603a@mail.gmail.com>
	<6943770e1003201746t7b2825cbm962fb623b1d46f32@mail.gmail.com>
Message-ID: <d6fa31441003210328x51363cbclf003312f05ae1fb4@mail.gmail.com>

Hi


2010/3/21 francesco perillo <fperillo@gmail.com>:
>> And since change in more than 800 files?
>
> I don't know your source code but you wrote:
> func xxx( name )
> local b := &( "{|| field->&('" + name + "') }" )
> return eval( b )
>
> so I understand that in your 800 files there are several calls like:
> bGet = xxx( "surname" )

Function was used as an example for a quick check...


> It this is the actual situation, you may try something like:
>
> func xxx( name )
> local b := &( "{|| FieldGet(FieldPos('" + name + "'))}" )
> return eval( b )
>
> but it only looks in current workarea
>
> If you have FIELD definition for different workareas you may try:
>
> local b := &( "{|| field->FieldGet(FieldPos('" + name + "'))}" )

A typical example of a macro:
...
FOR nI: = 1 TO 10
  IF FIELD-> & ( "TYPE" + ALLTRIM (STR (nI)))
     / / Something
  ENDIF
NEXT
...

and so on in many places

Replace with FieldGet (FieldPos ()) and not be mistaken (800 files!!!)

--
Alexandr
From harbour.01 at syenar.hu  Sun Mar 21 06:37:21 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 06:37:32 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
Message-ID: <B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>

Hi,

This is very twisted and inefficient syntax.

If this is used in thousands of places it's probably 
worth to write a little application which goes through 
the whole app and swaps it with the efficient solution.

Brgds,
Viktor

On 2010 Mar 20, at 23:06, Alexandr Okhotnikov wrote:

> Hi,
> 
> How can I compile (and run) this code in a macro:
> 
> field->&("name")
> 
> example:
> 
> func xxx( name )
> local b := &( "{|| field->&('" + name + "') }" )
> return eval( b )
> 
> Error BASE/1449  Syntax error: &
> 
> PS in *.hrb the exact same error
> PPS Alaska XBase++: compiles without errors
> (I convert the code from XBase++)
> 
> -- 
> Alexandr
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Mar 21 07:01:32 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 21 07:01:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14204] trunk/harbour
Message-ID: <E1NtIuS-0005LY-My@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14204
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14204&view=rev
Author:   vszakats
Date:     2010-03-21 11:01:31 +0000 (Sun, 21 Mar 2010)

Log Message:
-----------
2010-03-21 12:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + bin/hb-mkimp.prg
    + Added .prg rewrite for implib generation. This highly
      reduces redundancy, drops WinNT and GNU Sed tool
      requirement, further lowers the amount of non-portable
      batch sources in SVN. It also opens the door to add
      automatic implib generation in tools like hbmk2.
      Not yet tested.

  * bin/postinst.bat
    % Minor cleanup.

  * bin/hb-mkimp.bat
    * Rearrangement.

  * utils/hbmk2/hbmk2.prg
    ! Typo on comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/bin/postinst.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/bin/hb-mkimp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alxokhotnikov at gmail.com  Sun Mar 21 07:06:55 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sun Mar 21 07:07:05 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
Message-ID: <d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>

Hi

Can an example of effective solutions?
And why this decision is not effective?

FieldGet (fieldnum ()) - a very cumbersome
example:
1. ALIAS1-> & ( "NAME1") + = ALIAS2-> & ( "NAME2")
2. ALIAS1-> (FIELDPUT (FIELDNUM ( "NAME1"), FIELDGET (FIELDNUM (
"NAME1") + ALIAS2-> (FIELDGET (FIELDNUM ( "NAME2"))))
(easily be mistaken with brackets)

2010/3/21 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi,
>
> This is very twisted and inefficient syntax.
>
> If this is used in thousands of places it's probably
> worth to write a little application which goes through
> the whole app and swaps it with the efficient solution.

--
Alexandr
From vszakats at users.sourceforge.net  Sun Mar 21 07:31:54 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 21 07:32:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14205] trunk/harbour
Message-ID: <E1NtJNq-0001sP-Nn@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14205
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14205&view=rev
Author:   vszakats
Date:     2010-03-21 11:31:52 +0000 (Sun, 21 Mar 2010)

Log Message:
-----------
2010-03-21 12:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkimp.prg
    + Finished, tested. This version also adds pocc64 support.
      It also gives proper feedback.

  * INSTALL
  * bin/postinst.bat
  - bin/hb-mkimp.bat
  * package/winuni/mpkg_win_uni_extra_copy.bat
  * package/winuni/mpkg_win_uni.bat
  * package/winuni/mpkg_win_uni.nsi
    + Switched to use hb-mkimp.prg instead of .bat.
      25KB less of non-portable .bat file in Harbour SVN.
      Remains only ~100 lines of .bat stuff in core parts.
    + Deleted GNU Sed requirement.
    + Lifted Windows NT requirement for implib creation.
    + Lifted NT shell requirement for implib creation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkimp.prg
    trunk/harbour/bin/postinst.bat
    trunk/harbour/package/winuni/mpkg_win_uni.bat
    trunk/harbour/package/winuni/mpkg_win_uni.nsi
    trunk/harbour/package/winuni/mpkg_win_uni_extra_copy.bat

Removed Paths:
-------------
    trunk/harbour/bin/hb-mkimp.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Mar 21 07:40:49 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 07:40:59 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
Message-ID: <6BC4DFC9-E916-4FE1-8F61-B7E422F3CF81@syenar.hu>

> Hi
> 
> Can an example of effective solutions?
> And why this decision is not effective?
> 
> FieldGet (fieldnum ()) - a very cumbersome
> example:
> 1. ALIAS1-> & ( "NAME1") + = ALIAS2-> & ( "NAME2")
> 2. ALIAS1-> (FIELDPUT (FIELDNUM ( "NAME1"), FIELDGET (FIELDNUM (
> "NAME1") + ALIAS2-> (FIELDGET (FIELDNUM ( "NAME2"))))
> (easily be mistaken with brackets)

Macro expansion is always expensive, so it's 
inefficient. This fact was realized by Clipper 
5 dev team and that's why they introduced FIELDGET() 
and friends.

In your case, there is seemingly a double 
macro expansion done, finally to a codeblock, 
which codeblock is then EVAL()-ed. This is 
probably the slowest way a field value can be 
extracted, since all operations are expensive: 
macro eval (2x), codeblock creation, codeblock 
evaluation.

This was suggested:

EVAL( &( "{|| field->&('" + name + "') }" ) )
->
RETURN FIELDGET( FIELDPOS( name ) )

To my eyes the second is much cleaner, simpler, 
and much more typo-proof.

You can even create a simple macro:

   #xtranslate FIELDGETBYNAME( <name> ) => FIELDGET( FIELDPOS( <name> ) )

and use:

   RETURN FIELDGETBYNAME( name )

Brgds,
Viktor

From dbtopas at dbtopas.lt  Sun Mar 21 08:10:10 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Mar 21 08:10:34 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
Message-ID: <4BA60CA2.4070605@dbtopas.lt>

Alexandr Okhotnikov wrote:
> Can an example of effective solutions?
> And why this decision is not effective?
> 
> FieldGet (fieldnum ()) - a very cumbersome
> example:
> 1. ALIAS1-> & ( "NAME1") + = ALIAS2-> & ( "NAME2")
> 2. ALIAS1-> (FIELDPUT (FIELDNUM ( "NAME1"), FIELDGET (FIELDNUM (
> "NAME1") + ALIAS2-> (FIELDGET (FIELDNUM ( "NAME2"))))
> (easily be mistaken with brackets)

Hi,

These are more clear without & :
1) alias1->NAME1 += alias2->NAME2
2) alias1->(NAME1 := NAME1 + alias2->NAME2)
(I assumed FIELDNUM() means FIELDPOS())

Regards,
Mindaugas


P.S. homework test the speed of 1) and 2) in proposed syntax above and 
with macro compiler syntax in a loop FOR nI := 1 TO 10000000 and compare 
execution time.
From mbelgrano at deltain.it  Sun Mar 21 08:42:38 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 21 08:43:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14203] trunk/harbour
In-Reply-To: <E1Nt3Pt-00084j-VV@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1Nt3Pt-00084j-VV@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <609353e71003210542t738b1d7eo3bea0ab053ed8534@mail.gmail.com>

Sorry but i can't udestrand (maj be that i must delete same element?)
How can works from USER point of View?

Now we have double list of function?
Funcion of single prgr, function of entire project
2010/3/20  <vouchcac@users.sourceforge.net>:
> Revision: 14203
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14203&view=rev
> Author: ? vouchcac
> Date: ? ? 2010-03-20 18:28:56 +0000 (Sat, 20 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-20 11:25 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbide/hbide.ch
> ?* contrib/hbide/hbide.prg
> ?* contrib/hbide/idefunctions.prg
> ?* contrib/hbide/idesaveload.prg
> ? ?+ Implemented: auto-loading the last "Re-tagged" functions
> ? ? ?prototype. It may take some time but it is done at the
> ? ? ?background, so user will never experience the difference.
> ? ? ?You can start working on any other aspect of hbIDE.
>
>

-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Sun Mar 21 09:22:04 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 21 09:22:12 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14204] trunk/harbour
In-Reply-To: <E1NtIuS-0005LY-My@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NtIuS-0005LY-My@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <1269177724453-4772718.post@n2.nabble.com>



vszakats wrote:
> 
> 2010-03-21 12:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   + bin/hb-mkimp.prg
>     + Added .prg rewrite for implib generation. This highly
>       reduces redundancy, drops WinNT and GNU Sed tool
>       requirement, further lowers the amount of non-portable
>       batch sources in SVN. It also opens the door to add
>       automatic implib generation in tools like hbmk2.
>       Not yet tested.
> 

Wow, great piece of implementation.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14204-trunk-harbour-tp4772203p4772718.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Mar 21 09:29:22 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 21 09:29:29 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14203] trunk/harbour
In-Reply-To: <609353e71003210542t738b1d7eo3bea0ab053ed8534@mail.gmail.com>
References: <E1Nt3Pt-00084j-VV@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71003210542t738b1d7eo3bea0ab053ed8534@mail.gmail.com>
Message-ID: <1269178162553-4772755.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Sorry but i can't udestrand (maj be that i must delete same element?)
> How can works from USER point of View?
> 
> Now we have double list of function?
> Funcion of single prgr, function of entire project
> 

1. You "Re-Tag" the projects you want .
2. Exit hbIDE.
3. Reenter and tiu can see all tags are loaded.
   You do not need to "Load" or "Re-tag".

What is the issue actually?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14203-trunk-harbour-tp4769487p4772755.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Mar 21 09:31:20 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 21 09:31:27 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14203] trunk/harbour
In-Reply-To: <609353e71003210542t738b1d7eo3bea0ab053ed8534@mail.gmail.com>
References: <E1Nt3Pt-00084j-VV@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71003210542t738b1d7eo3bea0ab053ed8534@mail.gmail.com>
Message-ID: <1269178280830-4772767.post@n2.nabble.com>


OR

You are referring to:

If a project already has <projectname>.tag then 
it be loaded if that project is a part of current .ini ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14203-trunk-harbour-tp4769487p4772767.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From clipper at wssk.wroc.pl  Sun Mar 21 10:10:09 2010
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Sun Mar 21 10:11:05 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <4B9E554E.10405@dbtopas.lt>
References: <905448238.20100310190423@yahoo.com.ar> <4B9E554E.10405@dbtopas.lt>
Message-ID: <55100211454.20100321151009@wssk.wroc.pl>

Hello Mindaugas,

Monday, March 15, 2010, 4:42:06 PM, you wrote:

MK> Hi,
MK> Luis R. Stach wrote:
>> Error SDDFB/1903 Prepare statement failed: SELECT * FROM agenda (DOS Error 335544569)
>> What I do is this:
>> 
>> ANNOUNCE RDDSYS
>> REQUEST SQLMIX, SDDFB
>> RDDSETDEFAULT( "SQLMIX" )
>> 
>> hConn := RDDINFO( RDDI_CONNECT, { "FIREBIRD",, "SYSDBA", "masterkey", "192.168.0.1:d:\data\agenda.fdb" } )
>> MsgInfo( hConn )  //Return 1
>> DBUSEAREA( .T.,, "SELECT * FROM agenda" )     //Line error
>> 
>> I use Firebird 2.1.3.18185
>> Someone can help me

MK> I was offline for some time, but I'm going to check this issue together 
MK> with other RDDSQL fixes in the nearest future (perhaps end of this week).
MK> Regards,
MK> Mindaugas

Any chance for it on this weekend ??

-- 
Best regards,

 Jacek Kubica


From alxokhotnikov at gmail.com  Sun Mar 21 10:34:48 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sun Mar 21 10:34:56 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <4BA60CA2.4070605@dbtopas.lt>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
Message-ID: <d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>

Hi

2010/3/21 Viktor Szak?ts <harbour.01@syenar.hu>:

>> 1. ALIAS1-> & ( "NAME1") + = ALIAS2-> & ( "NAME2")
>> 2. ALIAS1-> (FIELDPUT (FIELDNUM ( "NAME1"), FIELDGET (FIELDNUM (
>> "NAME1") + ALIAS2-> (FIELDGET (FIELDNUM ( "NAME2"))))

> You can even create a simple macro:
>
> ? #xtranslate FIELDGETBYNAME( <name> ) => FIELDGET( FIELDPOS( <name> ) )
>
> and use:
>
> ? RETURN FIELDGETBYNAME( name )

Compare the ease of writing and understanding:

1. ALIAS1->&("NAME1") + = ALIAS2->&("NAME2") + something
2. ALIAS1->(FIELDPUTBYNAME( "NAME1", FIELDGETBYNAME("NAME1") +
ALIAS2->(FIELDGETBYNAME( "NAME2")) + something ))

IMO first version is still better
speed of execution in this case - a secondary factor (a very small
operation with running infrequently and not in the loop), is more
important than understanding and ease of coding
Where required speed of execution - used functions or # xtranslate

The issue arose from the fact that it works in the PRG, but in the
macro and the HRB does not work (although the HRB compile as usual
PRG)

2010/3/21 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:

> These are more clear without & :
> 1) alias1->NAME1 += alias2->NAME2
> 2) alias1->(NAME1 := NAME1 + alias2->NAME2)
> (I assumed FIELDNUM() means FIELDPOS())

NAME1 - is a variable, not a field name
therefore, this example is invalid

-- 
Alexandr
From mbelgrano at deltain.it  Sun Mar 21 10:56:01 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 21 10:56:31 2010
Subject: [Harbour] Re: Hbide is at xmate level for harbour user
In-Reply-To: <1269113953183-4769743.post@n2.nabble.com>
References: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com> 
	<1269107262671-4769344.post@n2.nabble.com>
	<609353e71003201222q1b462dafsa1aadd0e1b6c56ef@mail.gmail.com> 
	<1269113953183-4769743.post@n2.nabble.com>
Message-ID: <609353e71003210756n47d526acrc859432ef25f83ee@mail.gmail.com>

We can found a easy way for having a debugger
follow i my link about this argument

- Eric Pynton ide, is what web need base on PyQt, QScintilla and give
The Debugger  http://eric-ide.python-projects.org/index.html
- Ecere Cross Platform SDK   http://www.ecere.com/technologies.html
- Qt-Creator includes integration with a debugger. (gdb on linux and
cdb on windows)
- NetBean include a Multi language debugger
http://netbeans.org/features/java/debugger.html
- Scintilla  have same debbugger http://www.scintilla.org/ScintillaRelated.html
- GPS helps construct reliable code while providing the same interface
and behavior across a variety of platforms.
http://libre.adacore.com/libre/tools/gps/
- How write a eclipse debuggeer
http://www.eclipse.org/articles/Article-Debugger/how-to.html
  Eclipse for dynamic languages
http://www.eclipse.org/org/langsymp/Eclipse%20and%20Dynamic%20Languages.pdf


2010/3/20 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
> Massimo Belgrano wrote:
>>
>>>> Gui Debugger
>>> Still not thought of, I need be more educated in this field.
>> basic function of prg level debug are exec steep by step your prg and
>> show value of variable
>> MultiThread give more difficult debug http://www.allinea.com/?page=86
>> c level need solution like Valgrind
>> Can somebody share here intresting experiences in different language?
>>
>
> Perhaps someone else has to jump in.
> I think I am not going this direct anytime soon.
>


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Sun Mar 21 10:58:31 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 21 10:58:59 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14203] trunk/harbour
In-Reply-To: <1269178162553-4772755.post@n2.nabble.com>
References: <E1Nt3Pt-00084j-VV@sfp-svn-6.v30.ch3.sourceforge.com> 
	<609353e71003210542t738b1d7eo3bea0ab053ed8534@mail.gmail.com> 
	<1269178162553-4772755.post@n2.nabble.com>
Message-ID: <609353e71003210758g49fe642em6693ccce3915f2e6@mail.gmail.com>

I not made first tag
Possible have tag function (also) in project properties?

2010/3/21 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
>
> 1. You "Re-Tag" the projects you want .
> 2. Exit hbIDE.
> 3. Reenter and tiu can see all tags are loaded.
> ? You do not need to "Load" or "Re-tag".
>
> What is the issue actually?
>


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Sun Mar 21 11:03:15 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 21 11:03:43 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <4B9E554E.10405@dbtopas.lt>
References: <905448238.20100310190423@yahoo.com.ar> <4B9E554E.10405@dbtopas.lt>
Message-ID: <609353e71003210803o30d4597cs8cebb6ffc0d8cf28@mail.gmail.com>

Hello Mindaugas
What dou you think of integrate a ORM mapper to allow programm written
using sqlmix to be indipendent from sql string


2010/3/15 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi,
>
>
> Luis R. Stach wrote:
>>
>> Error SDDFB/1903 Prepare statement failed: SELECT * FROM agenda (DOS Error
>> 335544569)
>> What I do is this:
>>
>> ANNOUNCE RDDSYS
>> REQUEST SQLMIX, SDDFB
>> RDDSETDEFAULT( "SQLMIX" )
>>
>> hConn := RDDINFO( RDDI_CONNECT, { "FIREBIRD",, "SYSDBA", "masterkey",
>> "192.168.0.1:d:\data\agenda.fdb" } )
>> MsgInfo( hConn ) ?//Return 1
>> DBUSEAREA( .T.,, "SELECT * FROM agenda" ) ? ? //Line error
>>
>> I use Firebird 2.1.3.18185
>> Someone can help me
>
> I was offline for some time, but I'm going to check this issue together with
> other RDDSQL fixes in the nearest future (perhaps end of this week).
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From myorg63 at mail.ru  Sun Mar 21 13:09:16 2010
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sun Mar 21 13:09:23 2010
Subject: [Harbour] About HB_HVM_ALL
Message-ID: <27977002.post@talk.nabble.com>


>From the "old" days, I use HB_HVM_ALL = yes to build the binary Harbor. But
today I got this result.
I'm surprised. It is expected results?

2010.03.21 16:18:55 Windows XP 5.1.2600 Service Pack 3
Harbour 2.1.0dev (Rev. 14203) (MT)+ Microsoft Visual C++ 15.0.30729 (32-bit)
x86
THREADS: 2
N_LOOPS: 1000000

with HB_HVM_ALL=yes

[ T000: empty loop overhead ]...................................0.22
====================================================================
[ T001: x := L_C ]..............................................0.59
[ T002: x := L_N ]..............................................0.47
[ T003: x := L_D ]..............................................0.45
[ T004: x := S_C ]..............................................0.58
[ T005: x := S_N ]..............................................0.42
[ T006: x := S_D ]..............................................0.45
[ T007: x := M->M_C ]...........................................0.63
[ T008: x := M->M_N ]...........................................0.47
[ T009: x := M->M_D ]...........................................0.50
[ T010: x := M->P_C ]...........................................0.63
[ T011: x := M->P_N ]...........................................0.47
[ T012: x := M->P_D ]...........................................0.50
[ T013: x := F_C ]..............................................1.00
[ T014: x := F_N ]..............................................0.88
[ T015: x := F_D ]..............................................0.69
[ T016: x := o:Args ]...........................................1.41
[ T017: x := o[2] ].............................................0.78
[ T018: round( i / 1000, 2 ) ]..................................1.61
[ T019: str( i / 1000 ) ].......................................2.39
[ T020: val( s ) ]..............................................1.48
[ T021: val( a [ i % 16 + 1 ] ) ]...............................2.44
[ T022: dtos( d - i % 10000 ) ].................................2.22
[ T023: eval( { || i % 16 } ) ].................................2.70
[ T024: eval( bc := { || i % 16 } ) ]...........................2.03
[ T025: eval( { |x| x % 16 }, i ) ].............................2.67
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................2.20
[ T027: eval( { |x| f1( x ) }, i ) ]............................3.44
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................3.06
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................2.84
[ T030: x := &( "f1(" + str(i) + ")" ) ].......................10.44
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............11.44
[ T032: x := valtype( x ) +  valtype( i ) ].....................2.75
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........3.95
[ T034: x := a[ i % 16 + 1 ] == s ].............................2.02
[ T035: x := a[ i % 16 + 1 ] = s ]..............................2.09
[ T036: x := a[ i % 16 + 1 ] >= s ].............................2.08
[ T037: x := a[ i % 16 + 1 ] <= s ].............................2.08
[ T038: x := a[ i % 16 + 1 ] < s ]..............................2.09
[ T039: x := a[ i % 16 + 1 ] > s ]..............................2.06
[ T040: ascan( a, i % 16 ) ]....................................1.94
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................18.45
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....5.31
[ T043: x := a ]................................................0.59
[ T044: x := {} ]...............................................1.16
[ T045: f0() ]..................................................1.09
[ T046: f1( i ) ]...............................................1.34
[ T047: f2( c[1...8] ) ]........................................1.47
[ T048: f2( c[1...40000] ) ]....................................1.47
[ T049: f2( @c[1...40000] ) ]...................................1.56
[ T050: f2( @c[1...40000] ), c2 := c ]..........................1.92
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................3.20
[ T052: f2( a ) ]...............................................1.44
[ T053: x := f4() ].............................................2.80
[ T054: x := f5() ].............................................2.19
[ T055: x := space(16) ]........................................1.44
[ T056: f_prv( c ) ]............................................2.00
====================================================================
[ total application time: ]....................................72.16
[ total real time: ]...........................................37.16


with HB_HVM_ALL=no
[ T000: empty loop overhead ]...................................0.13
====================================================================
[ T001: x := L_C ]..............................................0.38
[ T002: x := L_N ]..............................................0.31
[ T003: x := L_D ]..............................................0.28
[ T004: x := S_C ]..............................................0.36
[ T005: x := S_N ]..............................................0.30
[ T006: x := S_D ]..............................................0.28
[ T007: x := M->M_C ]...........................................0.34
[ T008: x := M->M_N ]...........................................0.28
[ T009: x := M->M_D ]...........................................0.31
[ T010: x := M->P_C ]...........................................0.38
[ T011: x := M->P_N ]...........................................0.31
[ T012: x := M->P_D ]...........................................0.31
[ T013: x := F_C ]..............................................0.75
[ T014: x := F_N ]..............................................0.70
[ T015: x := F_D ]..............................................0.48
[ T016: x := o:Args ]...........................................0.80
[ T017: x := o[2] ].............................................0.58
[ T018: round( i / 1000, 2 ) ]..................................1.08
[ T019: str( i / 1000 ) ].......................................1.97
[ T020: val( s ) ]..............................................0.98
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.83
[ T022: dtos( d - i % 10000 ) ].................................1.67
[ T023: eval( { || i % 16 } ) ].................................2.47
[ T024: eval( bc := { || i % 16 } ) ]...........................1.36
[ T025: eval( { |x| x % 16 }, i ) ].............................2.13
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.33
[ T027: eval( { |x| f1( x ) }, i ) ]............................2.16
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.84
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.69
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................9.27
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................9.63
[ T032: x := valtype( x ) +  valtype( i ) ].....................1.83
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.94
[ T034: x := a[ i % 16 + 1 ] == s ].............................1.31
[ T035: x := a[ i % 16 + 1 ] = s ]..............................1.41
[ T036: x := a[ i % 16 + 1 ] >= s ].............................1.41
[ T037: x := a[ i % 16 + 1 ] <= s ].............................1.41
[ T038: x := a[ i % 16 + 1 ] < s ]..............................1.44
[ T039: x := a[ i % 16 + 1 ] > s ]..............................1.41
[ T040: ascan( a, i % 16 ) ]....................................1.42
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................12.47
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....4.13
[ T043: x := a ]................................................0.41
[ T044: x := {} ]...............................................0.95
[ T045: f0() ]..................................................0.66
[ T046: f1( i ) ]...............................................0.84
[ T047: f2( c[1...8] ) ]........................................0.81
[ T048: f2( c[1...40000] ) ]....................................0.84
[ T049: f2( @c[1...40000] ) ]...................................0.78
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.98
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.73
[ T052: f2( a ) ]...............................................0.84
[ T053: x := f4() ].............................................2.03
[ T054: x := f5() ].............................................1.41
[ T055: x := space(16) ]........................................0.97
[ T056: f_prv( c ) ]............................................1.52
====================================================================
[ total application time: ]....................................50.17
[ total real time: ]...........................................25.86

Regards,
Petr




-- 
View this message in context: http://old.nabble.com/About-HB_HVM_ALL-tp27977002p27977002.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Mar 21 13:20:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 13:20:45 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
Message-ID: <30B6AA38-738F-401E-AE62-B918FFAB1A97@syenar.hu>

Hi,

>> You can even create a simple macro:
>> 
>>   #xtranslate FIELDGETBYNAME( <name> ) => FIELDGET( FIELDPOS( <name> ) )
>> 
>> and use:
>> 
>>   RETURN FIELDGETBYNAME( name )
> 
> Compare the ease of writing and understanding:
> 
> 1. ALIAS1->&("NAME1") + = ALIAS2->&("NAME2") + something
> 2. ALIAS1->(FIELDPUTBYNAME( "NAME1", FIELDGETBYNAME("NAME1") +
> ALIAS2->(FIELDGETBYNAME( "NAME2")) + something ))
> 
> IMO first version is still better

Aside from subjective matters: First version is less 
efficient. If you don't mind it, it's fine.

Though in your first example you cited a quite 
different situation (and that was the actual point 
of your question), so I'm not sure what you really 
want to achieve.

> The issue arose from the fact that it works in the PRG, but in the
> macro and the HRB does not work (although the HRB compile as usual
> PRG)

Okay, so there is another disadvantage of macro 
expansion.

Me personally never use macro expansion except 
very few selected places (indexes and custom 
filter assembly).

Anyway as someone pointed, what you want is not 
Clipper compatible. I'm almost sure the double 
macro expansion + codeblock creation and 
evaluation is unnecessary, so IMO you just have 
to clean it and it will work.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Mar 21 13:22:15 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 13:22:26 2010
Subject: [Harbour] About HB_HVM_ALL
In-Reply-To: <27977002.post@talk.nabble.com>
References: <27977002.post@talk.nabble.com>
Message-ID: <427D3CA3-E763-4FC1-8619-A7C187E24776@syenar.hu>

From the huge difference between app time and real 
time, these look false measurements to me.

Brgds,
Viktor

On 2010 Mar 21, at 18:09, Petr Chornyj wrote:

> 
>> From the "old" days, I use HB_HVM_ALL = yes to build the binary Harbor. But
> today I got this result.
> I'm surprised. It is expected results?
> 
> 2010.03.21 16:18:55 Windows XP 5.1.2600 Service Pack 3
> Harbour 2.1.0dev (Rev. 14203) (MT)+ Microsoft Visual C++ 15.0.30729 (32-bit)
> x86
> THREADS: 2
> N_LOOPS: 1000000
> 
> with HB_HVM_ALL=yes
> 
> [ T000: empty loop overhead ]...................................0.22
> ====================================================================
> [ T001: x := L_C ]..............................................0.59
> [ T002: x := L_N ]..............................................0.47
> [ T003: x := L_D ]..............................................0.45
> [ T004: x := S_C ]..............................................0.58
> [ T005: x := S_N ]..............................................0.42
> [ T006: x := S_D ]..............................................0.45
> [ T007: x := M->M_C ]...........................................0.63
> [ T008: x := M->M_N ]...........................................0.47
> [ T009: x := M->M_D ]...........................................0.50
> [ T010: x := M->P_C ]...........................................0.63
> [ T011: x := M->P_N ]...........................................0.47
> [ T012: x := M->P_D ]...........................................0.50
> [ T013: x := F_C ]..............................................1.00
> [ T014: x := F_N ]..............................................0.88
> [ T015: x := F_D ]..............................................0.69
> [ T016: x := o:Args ]...........................................1.41
> [ T017: x := o[2] ].............................................0.78
> [ T018: round( i / 1000, 2 ) ]..................................1.61
> [ T019: str( i / 1000 ) ].......................................2.39
> [ T020: val( s ) ]..............................................1.48
> [ T021: val( a [ i % 16 + 1 ] ) ]...............................2.44
> [ T022: dtos( d - i % 10000 ) ].................................2.22
> [ T023: eval( { || i % 16 } ) ].................................2.70
> [ T024: eval( bc := { || i % 16 } ) ]...........................2.03
> [ T025: eval( { |x| x % 16 }, i ) ].............................2.67
> [ T026: eval( bc := { |x| x % 16 }, i ) ].......................2.20
> [ T027: eval( { |x| f1( x ) }, i ) ]............................3.44
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]......................3.06
> [ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................2.84
> [ T030: x := &( "f1(" + str(i) + ")" ) ].......................10.44
> [ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............11.44
> [ T032: x := valtype( x ) +  valtype( i ) ].....................2.75
> [ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........3.95
> [ T034: x := a[ i % 16 + 1 ] == s ].............................2.02
> [ T035: x := a[ i % 16 + 1 ] = s ]..............................2.09
> [ T036: x := a[ i % 16 + 1 ] >= s ].............................2.08
> [ T037: x := a[ i % 16 + 1 ] <= s ].............................2.08
> [ T038: x := a[ i % 16 + 1 ] < s ]..............................2.09
> [ T039: x := a[ i % 16 + 1 ] > s ]..............................2.06
> [ T040: ascan( a, i % 16 ) ]....................................1.94
> [ T041: ascan( a, { |x| x == i % 16 } ) ]......................18.45
> [ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....5.31
> [ T043: x := a ]................................................0.59
> [ T044: x := {} ]...............................................1.16
> [ T045: f0() ]..................................................1.09
> [ T046: f1( i ) ]...............................................1.34
> [ T047: f2( c[1...8] ) ]........................................1.47
> [ T048: f2( c[1...40000] ) ]....................................1.47
> [ T049: f2( @c[1...40000] ) ]...................................1.56
> [ T050: f2( @c[1...40000] ), c2 := c ]..........................1.92
> [ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................3.20
> [ T052: f2( a ) ]...............................................1.44
> [ T053: x := f4() ].............................................2.80
> [ T054: x := f5() ].............................................2.19
> [ T055: x := space(16) ]........................................1.44
> [ T056: f_prv( c ) ]............................................2.00
> ====================================================================
> [ total application time: ]....................................72.16
> [ total real time: ]...........................................37.16
> 
> 
> with HB_HVM_ALL=no
> [ T000: empty loop overhead ]...................................0.13
> ====================================================================
> [ T001: x := L_C ]..............................................0.38
> [ T002: x := L_N ]..............................................0.31
> [ T003: x := L_D ]..............................................0.28
> [ T004: x := S_C ]..............................................0.36
> [ T005: x := S_N ]..............................................0.30
> [ T006: x := S_D ]..............................................0.28
> [ T007: x := M->M_C ]...........................................0.34
> [ T008: x := M->M_N ]...........................................0.28
> [ T009: x := M->M_D ]...........................................0.31
> [ T010: x := M->P_C ]...........................................0.38
> [ T011: x := M->P_N ]...........................................0.31
> [ T012: x := M->P_D ]...........................................0.31
> [ T013: x := F_C ]..............................................0.75
> [ T014: x := F_N ]..............................................0.70
> [ T015: x := F_D ]..............................................0.48
> [ T016: x := o:Args ]...........................................0.80
> [ T017: x := o[2] ].............................................0.58
> [ T018: round( i / 1000, 2 ) ]..................................1.08
> [ T019: str( i / 1000 ) ].......................................1.97
> [ T020: val( s ) ]..............................................0.98
> [ T021: val( a [ i % 16 + 1 ] ) ]...............................1.83
> [ T022: dtos( d - i % 10000 ) ].................................1.67
> [ T023: eval( { || i % 16 } ) ].................................2.47
> [ T024: eval( bc := { || i % 16 } ) ]...........................1.36
> [ T025: eval( { |x| x % 16 }, i ) ].............................2.13
> [ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.33
> [ T027: eval( { |x| f1( x ) }, i ) ]............................2.16
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.84
> [ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.69
> [ T030: x := &( "f1(" + str(i) + ")" ) ]........................9.27
> [ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................9.63
> [ T032: x := valtype( x ) +  valtype( i ) ].....................1.83
> [ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.94
> [ T034: x := a[ i % 16 + 1 ] == s ].............................1.31
> [ T035: x := a[ i % 16 + 1 ] = s ]..............................1.41
> [ T036: x := a[ i % 16 + 1 ] >= s ].............................1.41
> [ T037: x := a[ i % 16 + 1 ] <= s ].............................1.41
> [ T038: x := a[ i % 16 + 1 ] < s ]..............................1.44
> [ T039: x := a[ i % 16 + 1 ] > s ]..............................1.41
> [ T040: ascan( a, i % 16 ) ]....................................1.42
> [ T041: ascan( a, { |x| x == i % 16 } ) ]......................12.47
> [ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....4.13
> [ T043: x := a ]................................................0.41
> [ T044: x := {} ]...............................................0.95
> [ T045: f0() ]..................................................0.66
> [ T046: f1( i ) ]...............................................0.84
> [ T047: f2( c[1...8] ) ]........................................0.81
> [ T048: f2( c[1...40000] ) ]....................................0.84
> [ T049: f2( @c[1...40000] ) ]...................................0.78
> [ T050: f2( @c[1...40000] ), c2 := c ]..........................0.98
> [ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.73
> [ T052: f2( a ) ]...............................................0.84
> [ T053: x := f4() ].............................................2.03
> [ T054: x := f5() ].............................................1.41
> [ T055: x := space(16) ]........................................0.97
> [ T056: f_prv( c ) ]............................................1.52
> ====================================================================
> [ total application time: ]....................................50.17
> [ total real time: ]...........................................25.86
> 
> Regards,
> Petr
> 
> 
> 
> 
> -- 
> View this message in context: http://old.nabble.com/About-HB_HVM_ALL-tp27977002p27977002.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Sun Mar 21 13:23:36 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar 21 13:23:45 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
Message-ID: <20100321172336.GA25065@linux-4bod.home.aster.pl>

On Sun, 21 Mar 2010, Alexandr Okhotnikov wrote:

Hi,

> IMO first version is still better

But it's not Clipper compatible. Clipper does not support
   <alias> -> &( <exp> )
in macro compiler. Anyhow we can add such extension.
It's enough to add 1 line macro.y.
We already added many extensions to our macrocompiler eliminating
Clipper macrocompiler limits which do not exist in compiler. As long
as such differences between compiler and macrocompiler are not results
of some other conditions then they are semi bugs for me.
So if no one has sth against then I'll commit modification which
enable support for above syntax.

> The issue arose from the fact that it works in the PRG, but in the
> macro and the HRB does not work (although the HRB compile as usual
> PRG)

Sorry but it's impossible and above is completely false information.
There is absolutely no difference between compiling to .HRB file and
compiling to .c file and then compiling them to .o or .obj. In both
cases exactly the same PCODE is generate. Please verify such things
before you send message to public forum. Otherwise you only confuse
other users.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Mar 21 13:30:13 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 13:30:25 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14204] trunk/harbour
In-Reply-To: <1269177724453-4772718.post@n2.nabble.com>
References: <E1NtIuS-0005LY-My@sfp-svn-5.v30.ch3.sourceforge.com>
	<1269177724453-4772718.post@n2.nabble.com>
Message-ID: <A7FE393B-D241-4747-890A-E8A340B0431A@syenar.hu>

Thank you. I was thinking about it since, and next step 
could be to always generate the implibs dynamically from 
.dll to make it fully generic and thus easing the setup 
and lowering required knowledge about 3rd party tools.

BCC is again the black sheep here, because of the totally 
idiotic way implib and Borland name mangling works, so 
BCC probably won't be able to have such support. Not to 
mention implib bugs.

For MINGW, this whole trick is not needed, as .dll 
can just simply be copied to .a file. (which makes 
MINGW the best tool to work with in regards of .dlls 
- in contrary to some beliefs)

Brgds,
Viktor

On 2010 Mar 21, at 14:22, Pritpal Bedi wrote:

> 
> 
> vszakats wrote:
>> 
>> 2010-03-21 12:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  + bin/hb-mkimp.prg
>>    + Added .prg rewrite for implib generation. This highly
>>      reduces redundancy, drops WinNT and GNU Sed tool
>>      requirement, further lowers the amount of non-portable
>>      batch sources in SVN. It also opens the door to add
>>      automatic implib generation in tools like hbmk2.
>>      Not yet tested.
>> 
> 
> Wow, great piece of implementation.
> 
> 
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14204-trunk-harbour-tp4772203p4772718.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Mar 21 13:32:39 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 13:32:51 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <20100321172336.GA25065@linux-4bod.home.aster.pl>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
Message-ID: <9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>

Hi,

>> IMO first version is still better
> 
> But it's not Clipper compatible. Clipper does not support
>   <alias> -> &( <exp> )
> in macro compiler. Anyhow we can add such extension.
> It's enough to add 1 line macro.y.
> We already added many extensions to our macrocompiler eliminating
> Clipper macrocompiler limits which do not exist in compiler. As long
> as such differences between compiler and macrocompiler are not results
> of some other conditions then they are semi bugs for me.
> So if no one has sth against then I'll commit modification which
> enable support for above syntax.

If it doesn't have any bad side effects, it's IMO okay.

BTW, maybe it would be also useful to add 
HB_FIELDPUT()/HB_FIELDGET() which would also 
accept field _name_ as parameter.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Mar 21 13:41:20 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar 21 13:41:31 2010
Subject: [Harbour] Re: Hbide is at xmate level for harbour user
In-Reply-To: <609353e71003201222q1b462dafsa1aadd0e1b6c56ef@mail.gmail.com>
References: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com>
	<1269107262671-4769344.post@n2.nabble.com>
	<609353e71003201222q1b462dafsa1aadd0e1b6c56ef@mail.gmail.com>
Message-ID: <FBABD907-C497-4CED-A25A-5217CAA75344@syenar.hu>

Guys, if gradient is a requirement to be "modern", just 
do it, but don't overdo it or IOW do it lightly like these 
tools do.

I didn't test MSVS and other "modern" tools in terminal 
server (or VM with not fully accelerated video) situations, 
but I can imagine these visual fluffs are (or can be) 
disabled when running in such environment.

In any case, maybe it would be good to make it an option 
in HBIDE. Visual fluff is nice for the first 10 days, but 
if it makes work any slower or require any more resources 
than absolutely necessary it becomes an annoyance over time, 
and here we're talking about months and years of daily 
work with these visual dev tools.

Brgds,
Viktor

On 2010 Mar 20, at 20:22, Massimo Belgrano wrote:

>>> Project mapping and user menu (because i use for integrate harbour
>>> developer language with winapi)
>> On TODO list.
> Very good!
> 
>>> Gui Debugger
>> Still not thought of, I need be more educated in this field.
> basic function of prg level debug are exec steep by step your prg and
> show value of variable
> MultiThread give more difficult debug http://www.allinea.com/?page=86
> c level need solution like Valgrind
> Can somebody share here intresting experiences in different language?
> 
>>>   -Color and look must find a way to be more professional
>>> 
>> 
>> 
>> Where do you find hbIDE does not look professional ?
>> Single out the areas and suggest what should be different.
>> We removed the gradients because of obivious reasons,
>> that is what you are pointing out ?
> in follow lin same screeen shoot of Vistual studio 2010 all
> icon,element are blue colored
> qt similar look green
> In color area Vailton Renato have made a very good work with Harbour website
> Can Vailton Help here?
> 
> Anybody can contribute here with wich are  good look and feel for Modern Gui
> Web 2.0 Colour
> 
> 
> http://blogs.lessthandot.com/index.php/DesktopDev/MSTech/visual-studio-2010-screenshots
> http://community.visual-basic.it/alessandro/archive/2009/10/20/26741.aspx
> http://blogs.devleap.com/articolidevleap/archive/2008/11/30/visual-studio-2010-primo-contatto-parte-3.aspx
> 
> 
> 
>>>   -Having all toolbar feature in also menu because tree toolbar are a
>>> lot and little unusual
>>>   -we need reduce complexity
>> Here I am totally disagree with you at all.
>> How do you consider a menu is better than a toolbar.
>> In this case you are refering to tree-views, right ?
>> Note that complex nature of some data need different
>> presentation methodology.
> No sorry i bad explain
> if you  give either way of do a Thing, can be used for user that
> habitually use menu or toolbar or righclick
> for example i use menu and user menu for discover choice offered from a program
> then want define my preferred customised  icon toolbar
> 
>> 
>>>   -give a extensibility for allow the creation of plugin
>> "pligin" concept is proprietory to Qt itself, and cannot be
>> replicated through Harbour wrappers.
>> BTW which "plugins" you are talking about?
> still sorry for my bad english
> I think a plugin for hbide,
> FOr example if a write a program and want use in hbide
> Kind of program may be like...
> -customised file compare
> -Another file search function
> -Binary editor
> -Support a different language in hbide
> 
>> 
> 
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From alxokhotnikov at gmail.com  Sun Mar 21 13:42:54 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sun Mar 21 13:43:03 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <20100321172336.GA25065@linux-4bod.home.aster.pl>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
Message-ID: <d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>

Hi

2010/3/21 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Sun, 21 Mar 2010, Alexandr Okhotnikov wrote:
> So if no one has sth against then I'll commit modification which
> enable support for above syntax.

Please add this

>> The issue arose from the fact that it works in the PRG, but in the
>> macro and the HRB does not work (although the HRB compile as usual
>> PRG)
>
> Sorry but it's impossible and above is completely false information.
> There is absolutely no difference between compiling to .HRB file and
> compiling to .c file and then compiling them to .o or .obj. In both
> cases exactly the same PCODE is generate. Please verify such things
> before you send message to public forum. Otherwise you only confuse
> other users.

Example!

FUNC MAIN()

DBCREATE( "aa.dbf", { { "DACC", "C", 10, 0 } } )

use aa.dbf alias aa new
DBAPPEND()
aa->DACC := "hello"
? "aa->DACC :", aa->DACC
? 'aa->&("DACC") :', aa->&("DACC")

RETURN 0
From harbour.01 at syenar.hu  Sun Mar 21 13:48:35 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 13:48:47 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
Message-ID: <5161E9EF-4755-4982-B75B-419248C3C64F@syenar.hu>

> Example!
> 
> FUNC MAIN()
> 
> DBCREATE( "aa.dbf", { { "DACC", "C", 10, 0 } } )
> 
> use aa.dbf alias aa new
> DBAPPEND()
> aa->DACC := "hello"
> ? "aa->DACC :", aa->DACC
> ? 'aa->&("DACC") :', aa->&("DACC")

It works here in all combinations.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sun Mar 21 13:59:15 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Mar 21 13:59:23 2010
Subject: [Harbour] What about release 2.1
Message-ID: <9257026e1003211059kfad390fsceb59d5d6b97665a@mail.gmail.com>

Clearly this is a very personal POV but to me actual svn seems stable
and highly compatible with 2.0.0 ( beside tipencoderurl_xyz ).

Also there is no much activity, which is not negative, it could be
also a sign that there are few bugs to fix, so it seems a good time to
freeze and release.

best regards,
Lorenzo
From druzus at acn.waw.pl  Sun Mar 21 14:19:19 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar 21 14:19:27 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>
Message-ID: <20100321181919.GA25793@linux-4bod.home.aster.pl>

On Sun, 21 Mar 2010, Szak?ts Viktor wrote:

Hi,

> > But it's not Clipper compatible. Clipper does not support
> >   <alias> -> &( <exp> )
> > in macro compiler. Anyhow we can add such extension.
> > It's enough to add 1 line macro.y.
> > We already added many extensions to our macrocompiler eliminating
> > Clipper macrocompiler limits which do not exist in compiler. As long
> > as such differences between compiler and macrocompiler are not results
> > of some other conditions then they are semi bugs for me.
> > So if no one has sth against then I'll commit modification which
> > enable support for above syntax.
> If it doesn't have any bad side effects, it's IMO okay.

I do not see any.

> BTW, maybe it would be also useful to add 
> HB_FIELDPUT()/HB_FIELDGET() which would also 
> accept field _name_ as parameter.

Interesting proposition though it will make the same job as
FIELDGET( FIELDPOS( <name> ) ) / FIELDPUT( FIELDPOS( <name> ), <xVal> )
so I do not know if it's really necessary. Anyhow if table has field
names which are not valid Clipper identifiers then accessing by name
with above functions is the only one method to get/set field value so
we should rather think about efficient method to access such fields
in expressions, i.e. we can add support for FIELD->'<fieldName>'
   FIELD->'FIRST NAME' := "Phil"
We can also use functions like proposed by you HB_FIELDPUT()/HB_FIELDGET()
but in such case they should generate RTE on wrong field names and of
course functions are not such flexible as native syntax.

best regards,
Przemek
From alxokhotnikov at gmail.com  Sun Mar 21 14:21:48 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sun Mar 21 14:21:56 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <5161E9EF-4755-4982-B75B-419248C3C64F@syenar.hu>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
	<5161E9EF-4755-4982-B75B-419248C3C64F@syenar.hu>
Message-ID: <d6fa31441003211121s57915f18k1307de847dcf8702@mail.gmail.com>

Hi

2010/3/21 Viktor Szak?ts <harbour.01@syenar.hu>:
>>
>> FUNC MAIN()
>>
>> DBCREATE( "aa.dbf", { { "DACC", "C", 10, 0 } } )
>>
>> use aa.dbf alias aa new
>> DBAPPEND()
>> aa->DACC := "hello"
>> ? "aa->DACC :", aa->DACC
>> ? 'aa->&("DACC") :', aa->&("DACC")
>
> It works here in all combinations.

Yes works if compiled with "bin/hbmk2"
Before that I compiled with "bin/harbour" - did not work (missed what
the parameters of the compilation?)
But the macro does not work anyway

--
Alexandr
From druzus at acn.waw.pl  Sun Mar 21 14:31:58 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar 21 14:32:06 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
Message-ID: <20100321183158.GB25793@linux-4bod.home.aster.pl>

On Sun, 21 Mar 2010, Alexandr Okhotnikov wrote:

Hi

> Example!
> 
> FUNC MAIN()
> DBCREATE( "aa.dbf", { { "DACC", "C", 10, 0 } } )
> use aa.dbf alias aa new
> DBAPPEND()
> aa->DACC := "hello"
> ? "aa->DACC :", aa->DACC
> ? 'aa->&("DACC") :', aa->&("DACC")
> 
> RETURN 0

Have you tested it?

   druzus:/tmp# hbrun tst.prg

   aa->DACC : hello
   aa->&("DACC") : hello

   druzus:/tmp#

   druzus:/tmp# harbour -n -gh tst.prg
   Harbour 2.1.0dev (Rev. 14184)
   Copyright (c) 1999-2010, http://www.harbour-project.org/
   Compiling 'tst.prg'...
   Lines 11, Functions/Procedures 1
   Generating Harbour Portable Object source output to 'tst.hrb'... Done.
   druzus:/tmp# hbrun tst.hrb

   aa->DACC : hello
   aa->&("DACC") : hello

   druzus:/tmp#

So it _confirms_ that you information about different in compiler when
HRB files are generated was completely wrong !!!
BTW technically such difference is impossible because compiler internally
generates _ONLY_ .HRB files which is native raw format for Harbour and
when -gc[N] switch is used then generated code is translated to .c code
as PCODE encapsulated in C functions (-gc[0-2]) or as C code directly
calling HVM functions (-gc3)

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Mar 21 14:33:50 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 14:34:02 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <20100321181919.GA25793@linux-4bod.home.aster.pl>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>
	<20100321181919.GA25793@linux-4bod.home.aster.pl>
Message-ID: <1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>

>> BTW, maybe it would be also useful to add 
>> HB_FIELDPUT()/HB_FIELDGET() which would also 
>> accept field _name_ as parameter.
> 
> Interesting proposition though it will make the same job as
> FIELDGET( FIELDPOS( <name> ) ) / FIELDPUT( FIELDPOS( <name> ), <xVal> )
> so I do not know if it's really necessary. Anyhow if table has field
> names which are not valid Clipper identifiers then accessing by name
> with above functions is the only one method to get/set field value so
> we should rather think about efficient method to access such fields
> in expressions, i.e. we can add support for FIELD->'<fieldName>'
>   FIELD->'FIRST NAME' := "Phil"

It's a much more "hidden" kind of extension, so 
at first sight I don't like it too much.

I'm proposing HB_FIELDGET() because many times 
FIELDGET( FIELDPOS( n ) ) combination is used 
(sometimes in time-critical loops), and proposed 
solution could make this more compact and faster.

> We can also use functions like proposed by you HB_FIELDPUT()/HB_FIELDGET()
> but in such case they should generate RTE on wrong field names and of
> course functions are not such flexible as native syntax.

IMO HB_FIELDGET() should return NIL if the name 
doesn't exist, just like FIELDGET() returns NIL 
if the field position doesn't exist. Similarly, 
HB_FIELDPUT() should return logical value just 
like FIELDPUT().

There is existing FIELDPOS() to find out if a name 
exist.

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Mar 21 14:34:14 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar 21 14:34:22 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003211121s57915f18k1307de847dcf8702@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
	<5161E9EF-4755-4982-B75B-419248C3C64F@syenar.hu>
	<d6fa31441003211121s57915f18k1307de847dcf8702@mail.gmail.com>
Message-ID: <20100321183414.GA26627@linux-4bod.home.aster.pl>

On Sun, 21 Mar 2010, Alexandr Okhotnikov wrote:

Hi

> > It works here in all combinations.
> Yes works if compiled with "bin/hbmk2"
> Before that I compiled with "bin/harbour" - did not work (missed what
> the parameters of the compilation?)

Please stop to confuse user.
It was always working in all Harbour versions.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Mar 21 14:34:53 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 14:35:03 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003211121s57915f18k1307de847dcf8702@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
	<5161E9EF-4755-4982-B75B-419248C3C64F@syenar.hu>
	<d6fa31441003211121s57915f18k1307de847dcf8702@mail.gmail.com>
Message-ID: <96EE21C2-F3CF-4027-8A27-C09DAC24DEF2@syenar.hu>

> 2010/3/21 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> 
>>> FUNC MAIN()
>>> 
>>> DBCREATE( "aa.dbf", { { "DACC", "C", 10, 0 } } )
>>> 
>>> use aa.dbf alias aa new
>>> DBAPPEND()
>>> aa->DACC := "hello"
>>> ? "aa->DACC :", aa->DACC
>>> ? 'aa->&("DACC") :', aa->&("DACC")
>> 
>> It works here in all combinations.
> 
> Yes works if compiled with "bin/hbmk2"
> Before that I compiled with "bin/harbour" - did not work (missed what
> the parameters of the compilation?)
> But the macro does not work anyway

Here I'm getting 'hello', 'hello' output, 
and I only used hbmk2 for .exe version, 
for the rest I used plain harbour.exe and 
hbrun.exe to run it (in both .prg and .hrb 
form).

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Mar 21 14:43:22 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Mar 21 14:43:29 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>
	<20100321181919.GA25793@linux-4bod.home.aster.pl>
	<1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
Message-ID: <20100321184322.GA26690@linux-4bod.home.aster.pl>

On Sun, 21 Mar 2010, Szak?ts Viktor wrote:

Hi,

> IMO HB_FIELDGET() should return NIL if the name 
> doesn't exist, just like FIELDGET() returns NIL 
> if the field position doesn't exist. Similarly, 
> HB_FIELDPUT() should return logical value just 
> like FIELDPUT().

RTE greatly helps to locate and fix bugs in code.

> There is existing FIELDPOS() to find out if a name 
> exist.

But it does not give any compile time field name verification
when -w compiler option is used.
Small question.
Why such compile time verification is extremely important for
you when we are talking about OOP code and method names but
for field names you prefer code which cannot be verified by
compiler?

best regards,
Przemek
From druzus at users.sourceforge.net  Sun Mar 21 15:01:53 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar 21 15:02:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14206] trunk/harbour
Message-ID: <E1NtQPJ-0007Zp-B3@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14206
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14206&view=rev
Author:   druzus
Date:     2010-03-21 19:01:46 +0000 (Sun, 21 Mar 2010)

Log Message:
-----------
2010-03-21 20:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/macro/macro.y
    + added support for
         <alias> -> &( <exp> )
      in macrocompiler

  * harbour/src/macro/macro.yyc
    * regenerated for new grammar rules

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/macro/macro.y
    trunk/harbour/src/macro/macro.yyc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alxokhotnikov at gmail.com  Sun Mar 21 15:07:07 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sun Mar 21 15:07:15 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <20100321183414.GA26627@linux-4bod.home.aster.pl>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
	<5161E9EF-4755-4982-B75B-419248C3C64F@syenar.hu>
	<d6fa31441003211121s57915f18k1307de847dcf8702@mail.gmail.com>
	<20100321183414.GA26627@linux-4bod.home.aster.pl>
Message-ID: <d6fa31441003211207t4e9134bevc940ded0f10924a4@mail.gmail.com>

HI

2010/3/21 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Sun, 21 Mar 2010, Alexandr Okhotnikov wrote:

> It was always working in all Harbour versions.

Sorry
Too much work. That a result of checking the other thing
(where the error occurred on another occasion: MEMVAR-> & ( "name"))

But macro!
Anyway really want to see <field->&("name")> in the macro

--
Best regards
Alexandr
From mbelgrano at deltain.it  Sun Mar 21 15:07:55 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 21 15:08:23 2010
Subject: [Harbour] Re: Hbide is at xmate level for harbour user
In-Reply-To: <FBABD907-C497-4CED-A25A-5217CAA75344@syenar.hu>
References: <609353e71003190514r7d759b23r55fc7d663ccc7fd6@mail.gmail.com> 
	<1269107262671-4769344.post@n2.nabble.com>
	<609353e71003201222q1b462dafsa1aadd0e1b6c56ef@mail.gmail.com> 
	<FBABD907-C497-4CED-A25A-5217CAA75344@syenar.hu>
Message-ID: <609353e71003211207p36ba097du436ed4f4920c63c@mail.gmail.com>

Imo also the learning curve is better with hbide

2010/3/21 Viktor Szak?ts <harbour.01@syenar.hu>:
> Guys, if gradient is a requirement to be "modern", just
> do it, but don't overdo it or IOW do it lightly like these
> tools do.
>
> I didn't test MSVS and other "modern" tools in terminal
> server (or VM with not fully accelerated video) situations,
> but I can imagine these visual fluffs are (or can be)
> disabled when running in such environment.
>
> In any case, maybe it would be good to make it an option
> in HBIDE. Visual fluff is nice for the first 10 days, but
> if it makes work any slower or require any more resources
> than absolutely necessary it becomes an annoyance over time,
> and here we're talking about months and years of daily
> work with these visual dev tools.
>
> Brgds,
> Viktor
>
> On 2010 Mar 20, at 20:22, Massimo Belgrano wrote:
>
>>>> Project mapping and user menu (because i use for integrate harbour
>>>> developer language with winapi)
>>> On TODO list.
>> Very good!
>>
>>>> Gui Debugger
>>> Still not thought of, I need be more educated in this field.
>> basic function of prg level debug are exec steep by step your prg and
>> show value of variable
>> MultiThread give more difficult debug http://www.allinea.com/?page=86
>> c level need solution like Valgrind
>> Can somebody share here intresting experiences in different language?
>>
>>>> ? -Color and look must find a way to be more professional
>>>>
>>>
>>>
>>> Where do you find hbIDE does not look professional ?
>>> Single out the areas and suggest what should be different.
>>> We removed the gradients because of obivious reasons,
>>> that is what you are pointing out ?
>> in follow lin same screeen shoot of Vistual studio 2010 all
>> icon,element are blue colored
>> qt similar look green
>> In color area Vailton Renato have made a very good work with Harbour website
>> Can Vailton Help here?
>>
>> Anybody can contribute here with wich are ?good look and feel for Modern Gui
>> Web 2.0 Colour
>>
>>
>> http://blogs.lessthandot.com/index.php/DesktopDev/MSTech/visual-studio-2010-screenshots
>> http://community.visual-basic.it/alessandro/archive/2009/10/20/26741.aspx
>> http://blogs.devleap.com/articolidevleap/archive/2008/11/30/visual-studio-2010-primo-contatto-parte-3.aspx
>>
>>
>>
>>>> ? -Having all toolbar feature in also menu because tree toolbar are a
>>>> lot and little unusual
>>>> ? -we need reduce complexity
>>> Here I am totally disagree with you at all.
>>> How do you consider a menu is better than a toolbar.
>>> In this case you are refering to tree-views, right ?
>>> Note that complex nature of some data need different
>>> presentation methodology.
>> No sorry i bad explain
>> if you ?give either way of do a Thing, can be used for user that
>> habitually use menu or toolbar or righclick
>> for example i use menu and user menu for discover choice offered from a program
>> then want define my preferred customised ?icon toolbar
>>
>>>
>>>> ? -give a extensibility for allow the creation of plugin
>>> "pligin" concept is proprietory to Qt itself, and cannot be
>>> replicated through Harbour wrappers.
>>> BTW which "plugins" you are talking about?
>> still sorry for my bad english
>> I think a plugin for hbide,
>> FOr example if a write a program and want use in hbide
>> Kind of program may be like...
>> -customised file compare
>> -Another file search function
>> -Binary editor
>> -Support a different language in hbide
>>
>>>
>>
>>
>>
>>
>> --
>> Massimo Belgrano


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sun Mar 21 15:12:26 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 15:12:36 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <20100321184322.GA26690@linux-4bod.home.aster.pl>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>
	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>
	<20100321181919.GA25793@linux-4bod.home.aster.pl>
	<1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
	<20100321184322.GA26690@linux-4bod.home.aster.pl>
Message-ID: <CFA01C87-14C4-4873-9386-124FBC7CF881@syenar.hu>

>> IMO HB_FIELDGET() should return NIL if the name 
>> doesn't exist, just like FIELDGET() returns NIL 
>> if the field position doesn't exist. Similarly, 
>> HB_FIELDPUT() should return logical value just 
>> like FIELDPUT().
> 
> RTE greatly helps to locate and fix bugs in code.

But it breaks with the behavior of already known 
functions with similar purpose.

I didn't recheck all places, but quick review 
shows that my code actually relies on this Clipper 
feature, so adding RTE would require to rethink 
some lower level functions (IOW it wouldn't be a 
plugin replacement with better performance), 
plus it would probably make it useless in some 
or more places and risky to use it general.

>> There is existing FIELDPOS() to find out if a name 
>> exist.
> 
> But it does not give any compile time field name verification
> when -w compiler option is used.

Perhaps I lost track here, but none of the solutions 
we're discussing give a compile-time warning.
In fact there isn't compile-time warning even for 
simple FIELD->NAME access, unless I'm declaring all 
the field names (which I personally don't do), and 
even in this case the verification is pretty lose, 
as the verification is global, not per table.

I assume that folks using FIELD*() function know 
what they are doing, and either explicitly check 
for error case, or not (for speed) if situation 
doesn't need it, f.e. when copying common fields 
from one table to another with different structure.

IOW if the goal is to offer a better performing 
plugin alternative for FIELDGET/PUT( FIELDPOS() ), 
adding an RTE would just nil this goal.

> Small question.
> Why such compile time verification is extremely important for
> you when we are talking about OOP code and method names but
> for field names you prefer code which cannot be verified by
> compiler?

Probably because database access is usually well 
isolated in an application and by past experience 
it's easy to test it well enough to not cause 
problems in live code. For OOP code, such error 
cases will be possible _everywhere_ in code and 
thus would require to create test code which goes 
through all possible code paths, and redo these 
tests after each app modifications.

Shortly, I had many problems due to mistyped 
OOP var/method access (most of them in Harbour 
itself BTW), but very rarely any field name 
related problem. Of course this is only personal 
experience and greatly depends on actual usage 
pattern.

Finally I can hardly imagine yet a system that 
guarantees all or most current freedom in 
alias/field access usage while giving full 
coverage for compile-time field name checking.
For this, Harbour would require to know the 
exact structure of all tables at build-time.

But, still I cannot see how this is related 
to HB_FIELDGET()/HB_FIELDPUT() RTE behavior.

Brgds,
Viktor

From mbelgrano at deltain.it  Sun Mar 21 15:21:30 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 21 15:21:57 2010
Subject: [Harbour] What about release 2.1
In-Reply-To: <9257026e1003211059kfad390fsceb59d5d6b97665a@mail.gmail.com>
References: <9257026e1003211059kfad390fsceb59d5d6b97665a@mail.gmail.com>
Message-ID: <609353e71003211221i56f9084chbe2776b152653fb3@mail.gmail.com>

+1
I Remember same wait for sqlmix fix
will be a Good situation for show high level for hbide after few month

Or Prezmek have same news regarding GTNET?

2010/3/21 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>:
> Clearly this is a very personal POV but to me actual svn seems stable
> and highly compatible with 2.0.0 ( beside tipencoderurl_xyz ).
>
> Also there is no much activity, which is not negative, it could be
> also a sign that there are few bugs to fix, so it seems a good time to
> freeze and release.
>
> best regards,
> Lorenzo
> _______________________________________________
-- 
Massimo Belgrano
From jarabal at users.sourceforge.net  Sun Mar 21 15:32:51 2010
From: jarabal at users.sourceforge.net (jarabal@users.sourceforge.net)
Date: Sun Mar 21 15:32:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14207] trunk/harbour
Message-ID: <E1NtQtH-0006YW-Lx@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14207
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14207&view=rev
Author:   jarabal
Date:     2010-03-21 19:32:50 +0000 (Sun, 21 Mar 2010)

Log Message:
-----------
2010-03-21 20:30 UTC+0100 Xavi (jarabal/at/gmail.com)
  * harbour/src/rtl/teditor.prg
    ! Fixing MemoEdit parameter calculation: nTextBuffRow, nWindowColumn.

      Procedure Main()
         Cls
         // Put 5 in the 5 position and next BS to change.
         ? MemoEdit( "123",,, MaxRow(), MaxCol(),,,,,, 5 )
         Wait

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/teditor.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Mar 21 15:56:30 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 21 15:56:58 2010
Subject: [Harbour] Re: What about hard-coded make directives?
In-Reply-To: <hnr24q$v1$1@dough.gmane.org>
References: <hnqtri$d4f$1@dough.gmane.org>
	<E7255DE3-9A2B-4780-B539-9D296013ADCB@syenar.hu> 
	<hnr24q$v1$1@dough.gmane.org>
Message-ID: <609353e71003211256s79611bb7gea3258b2a4eb5ef5@mail.gmail.com>

i agree with pete point of view
It describe a real problem for occasional harbour developer

I add to my list on this argument also the xbase++   preprocessor
directive:  #pragma library ("mylib.lib")
Unfortunately due to portability such feature cannot be added to
Harbour because it may work only with some subset of supported by
Harbour C
compilers and practice shows that such non portable features create
much more troubles then resolve problems
http://www.mail-archive.com/harbour@harbour-project.org/msg20832.html

Hi hope that evolution of c compiler will support this feature



2010/3/17 pete_westg <pete_westg@yahoo.gr>:
> ???? 17/03/2010 18:18, O/H Viktor Szak?ts ??????:
>>
>> The rest would need hbmk2 to parse all source files for
>> make options, which would in turn have a rather huge speed
>> penalty. Plus it'd need a 3rd kind of option syntax to
>> maintain (above existing .hbp and .hbc).
>
> No, in no way I did mean to parse all source files. And i fully agree that
> ?that should be a very good "chance" of troubles like those you are
> ?describe.
> My thought was of a very few or even one line *on top of main.prg only* in
> the form :
>
> #using "this lib list", "/and that switch list".
>
> I can think some good reasons for implementing this feature (readability,
> flexibility, testability, security, ?etc.) but if it's so much and complex
> work to be done then we can forget it. -no doubt, you are the
> chief-programmer here! ;-)
>
>
> regards,
>
> ---
> Pete
>
>

-- 
Massimo Belgrano
From alxokhotnikov at gmail.com  Sun Mar 21 15:57:58 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sun Mar 21 15:58:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14206] trunk/harbour
In-Reply-To: <E1NtQPJ-0007Zp-B3@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NtQPJ-0007Zp-B3@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <d6fa31441003211257v1ee9fd9fp1e33df4e506f032a@mail.gmail.com>

Hi

Thank you very much

2010/3/21  <druzus@users.sourceforge.net>:
> Revision: 14206
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14206&view=rev
> Author: ? druzus
> Date: ? ? 2010-03-21 19:01:46 +0000 (Sun, 21 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-21 20:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> ?* harbour/src/macro/macro.y
> ? ?+ added support for
> ? ? ? ? <alias> -> &( <exp> )
> ? ? ?in macrocompiler
>
From harbour.01 at syenar.hu  Sun Mar 21 16:27:51 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 16:28:02 2010
Subject: [Harbour] Re: What about hard-coded make directives?
In-Reply-To: <609353e71003211256s79611bb7gea3258b2a4eb5ef5@mail.gmail.com>
References: <hnqtri$d4f$1@dough.gmane.org>
	<E7255DE3-9A2B-4780-B539-9D296013ADCB@syenar.hu>
	<hnr24q$v1$1@dough.gmane.org>
	<609353e71003211256s79611bb7gea3258b2a4eb5ef5@mail.gmail.com>
Message-ID: <2B1CC269-9601-42B6-B113-8DB5B5EAD763@syenar.hu>

I don't plan to add such feature. Simply nothing 
shows that the minimal benefit it gives can outweigh 
the many and severe problems with any of the current 
implementations I can see at the moment.

'#pragma library' works on the linker level, and 
it's very limited (= dumb) solution. First it cannot 
be used in an environment where there is no linker, 
second there are packages which consist of multiple 
physical libs, not to mention headers, special package 
options and whatnot, and with such pragma you only 
control a small subset of settings in a limited way 
(f.e. user will still have to take care about -I 
option and -gui, just to give two common option), 
so it's much convenient to use .hbc file.

If it doesn't work on the linker level, hbmk2 
will need to step forward as a source code parser, 
which breaks layering, introduces yet another control 
syntax, gets performance hit and gets several other 
deeper complications as a consequence of the former.

In the future we may introduce new concept 
   '#package "hbct"' (or '#using "hbct"')
   (where "hbct" refers to an .hbc file)
which could solve the whole problem domain 
in a modern, simple and elegant way, but 
this needs much closer interaction between 
compiler and build tool.

For now, exploit the power of .hbc files first 
to achieve almost the same effect, and revisit 
this path if some real problem still persist.

Brgds,
Viktor

On 2010 Mar 21, at 20:56, Massimo Belgrano wrote:

> i agree with pete point of view
> It describe a real problem for occasional harbour developer
> 
> I add to my list on this argument also the xbase++   preprocessor
> directive:  #pragma library ("mylib.lib")
> Unfortunately due to portability such feature cannot be added to
> Harbour because it may work only with some subset of supported by
> Harbour C
> compilers and practice shows that such non portable features create
> much more troubles then resolve problems
> http://www.mail-archive.com/harbour@harbour-project.org/msg20832.html
> 
> Hi hope that evolution of c compiler will support this feature
> 
> 
> 
> 2010/3/17 pete_westg <pete_westg@yahoo.gr>:
>> ???? 17/03/2010 18:18, O/H Viktor Szak?ts ??????:
>>> 
>>> The rest would need hbmk2 to parse all source files for
>>> make options, which would in turn have a rather huge speed
>>> penalty. Plus it'd need a 3rd kind of option syntax to
>>> maintain (above existing .hbp and .hbc).
>> 
>> No, in no way I did mean to parse all source files. And i fully agree that
>>  that should be a very good "chance" of troubles like those you are
>>  describe.
>> My thought was of a very few or even one line *on top of main.prg only* in
>> the form :
>> 
>> #using "this lib list", "/and that switch list".
>> 
>> I can think some good reasons for implementing this feature (readability,
>> flexibility, testability, security,  etc.) but if it's so much and complex
>> work to be done then we can forget it. -no doubt, you are the
>> chief-programmer here! ;-)
>> 
>> 
>> regards,
>> 
>> ---
>> Pete
>> 
>> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Mar 21 19:44:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 21 19:44:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14208] trunk/harbour
Message-ID: <E1NtUoc-00018a-35@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14208
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14208&view=rev
Author:   vszakats
Date:     2010-03-21 23:44:16 +0000 (Sun, 21 Mar 2010)

Log Message:
-----------
2010-03-22 00:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added experimental -mkimplib= option to "convert" .dll
      files into import libraries. Syntax tentative.
    ; TODO: Support for idiotic -a Borland C implib option.
            If anyone has an idea how to detect when to use
            -a and when not, I will implement it. If not,
            I will most probably drop maintaining -a option
            for bcc and leave it off. This leaves implibs
            working for most .dlls we currently use, but will
            break some (blat, curl, cairo, pq, alleg from
            contrib).

  * config/win/xcc.mk
  * utils/hbmk2/hbmk2.prg
    ! Fixed to use case-correct filenames for xcc tools.

  * bin/hb-mkimp.prg
    + Added msvcia64, msvcarm, xcc support.
    ! Fixed few library specs for msvc*.
    * FS_ERROR -> F_ERROR
    ! Fixed handling spaces inside dll name for msvc*.
    ! Fixed handling non .dll extension for msvc*.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.prg
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar 21 20:04:48 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 21 20:04:55 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14209] trunk/harbour
Message-ID: <E1NtV8S-0003Yd-6L@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14209
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14209&view=rev
Author:   vszakats
Date:     2010-03-22 00:04:46 +0000 (Mon, 22 Mar 2010)

Log Message:
-----------
2010-03-22 01:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Finishing touches to -mkimplib option:
      - Automatic "dressing" of target library name with extension, lib prefix.
      - More detailed feedback.

  * bin/postinst.bat
    + Added hb-mkimp.prg replacement logic based on hbmk2.
      (not yet enabled)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Sun Mar 21 20:20:38 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Mar 21 20:21:01 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <55100211454.20100321151009@wssk.wroc.pl>
References: <905448238.20100310190423@yahoo.com.ar> <4B9E554E.10405@dbtopas.lt>
	<55100211454.20100321151009@wssk.wroc.pl>
Message-ID: <4BA6B7D6.1070603@dbtopas.lt>

Jacek Kubica wrote:
> Any chance for it on this weekend ??

Almost finished. Compiles without error, but have not tested any SQL 
backed yet.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Sun Mar 21 20:29:11 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Mar 21 20:29:32 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
Message-ID: <4BA6B9D7.7000804@dbtopas.lt>

Alexandr Okhotnikov wrote:
>> These are more clear without & :
>> 1) alias1->NAME1 += alias2->NAME2
>> 2) alias1->(NAME1 := NAME1 + alias2->NAME2)
>> (I assumed FIELDNUM() means FIELDPOS())
> 
> NAME1 - is a variable, not a field name
> therefore, this example is invalid

So, all discussion about ALIAS2-> (FIELDGET (FIELDNUM ( "NAME2"))) is 
also invalid, because it will return value of field NAME2.


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Sun Mar 21 20:34:29 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 21 20:34:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14210] trunk/harbour
Message-ID: <E1NtVbB-00045K-If@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14210
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14210&view=rev
Author:   vszakats
Date:     2010-03-22 00:34:28 +0000 (Mon, 22 Mar 2010)

Log Message:
-----------
2010-03-22 01:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added undocumented '-mkimplibms' option to allow for users
      to make bcc implib happy for some .dlls (translated to
      -a implib.exe option). Ugly solution, needed because bcc 
      chose not to follow standards.

  * bin/postinst.bat
    + Some adjustments to hbmk2-based implib generation cmdlines.
    + Added exception to use static ocilibs with mingw.

  * bin/postinst.bat
  - bin/hb-mkimp.prg
  * package/winuni/mpkg_win_uni_extra_copy.bat
  * package/winuni/mpkg_win_uni.bat
  * package/winuni/mpkg_win_uni.nsi
    + Switched HB_BUILD_IMPLIB build option to use hbmk2
      to create implibs instead of local solution (hb-mkimp.prg).
      Note, this means that implibs will now always be
      created dynamically from .dll, even when a package
      offers pre-built .lib for the compiler. This will
      in practice cause a change msvc and pocc compilers.
      This also means that from now on it's enough to have
      the .dll to create implibs.
      It's also easier for users to create implibs using
      hbmk2 any time, so it's possible that HB_BUILD_IMPLIB
      build-time option will be deleted in the future.
    ; Not tested yet.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/package/winuni/mpkg_win_uni.bat
    trunk/harbour/package/winuni/mpkg_win_uni.nsi
    trunk/harbour/package/winuni/mpkg_win_uni_extra_copy.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/bin/hb-mkimp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Sun Mar 21 20:41:13 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Mar 21 20:41:36 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <609353e71003210803o30d4597cs8cebb6ffc0d8cf28@mail.gmail.com>
References: <905448238.20100310190423@yahoo.com.ar> <4B9E554E.10405@dbtopas.lt>
	<609353e71003210803o30d4597cs8cebb6ffc0d8cf28@mail.gmail.com>
Message-ID: <4BA6BCA9.6030405@dbtopas.lt>

Massimo Belgrano wrote:
> Hello Mindaugas
> What dou you think of integrate a ORM mapper to allow programm written
> using sqlmix to be indipendent from sql string

Hi,


I suggest you to write down your idea in C or PRG code and share it on 
mailing list.


Regards,
Mindaugas
From mbelgrano at deltain.it  Sun Mar 21 20:50:48 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 21 20:51:17 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <4BA6BCA9.6030405@dbtopas.lt>
References: <905448238.20100310190423@yahoo.com.ar>
	<4B9E554E.10405@dbtopas.lt> 
	<609353e71003210803o30d4597cs8cebb6ffc0d8cf28@mail.gmail.com> 
	<4BA6BCA9.6030405@dbtopas.lt>
Message-ID: <609353e71003211750l3a786de4u9687bea186bdcf9b@mail.gmail.com>

New generation languages (Python, Ruby etc. and even Java) have shifted focus to
using ORMs rather than SQL directly. Now instead of explicit SQL
statements, ActiveRecord (Ruby's Object Relational Mapper) uses
something like

emp=Employee.new
emp.name = "Emp1"
emp.basic = 4500
emp.designation = "Programmer"
emp.save

This syntax closely resembles the tight integration between the
language and database for the xBase languages. A comparable Clipper
syntax was

Employee->name = "Emp1"

The advantage of ORM is that programmers can write database code that
are not specific to the back-end engine. This is also strikingly
similar to the Clipper concept of RDDs

http://article.gmane.org/gmane.comp.lang.harbour.user/437
http://news.gmane.org/gmane.comp.lang.harbour.user
http://article.gmane.org/gmane.comp.lang.harbour.user/453

2010/3/22 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Massimo Belgrano wrote:
>>
>> Hello Mindaugas
>> What dou you think of integrate a ORM mapper to allow programm written
>> using sqlmix to be indipendent from sql string
>
> Hi,
>
>
> I suggest you to write down your idea in C or PRG code and share it on
> mailing list.
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sun Mar 21 21:02:39 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar 21 21:02:49 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <609353e71003211750l3a786de4u9687bea186bdcf9b@mail.gmail.com>
References: <905448238.20100310190423@yahoo.com.ar> <4B9E554E.10405@dbtopas.lt>
	<609353e71003210803o30d4597cs8cebb6ffc0d8cf28@mail.gmail.com>
	<4BA6BCA9.6030405@dbtopas.lt>
	<609353e71003211750l3a786de4u9687bea186bdcf9b@mail.gmail.com>
Message-ID: <3D597850-C181-4A6D-8739-EF1151489B3E@syenar.hu>

> New generation languages (Python, Ruby etc. and even Java) have shifted focus to
> using ORMs rather than SQL directly. Now instead of explicit SQL
> statements, ActiveRecord (Ruby's Object Relational Mapper) uses
> something like
> 
> emp=Employee.new
> emp.name = "Emp1"
> emp.basic = 4500
> emp.designation = "Programmer"
> emp.save

I guess you're talking about this:
   http://en.wikipedia.org/wiki/Object-relational_mapping

Well, above example just doesn't even scratch 
the surface. And it's in fact an example which 
makes thing just much less efficient than it 
normally is in Harbour. IOW it's adding extra 
complexity without any benefit. This is how 
it's done in Harbour:

Employee->(dbAppend())
Employee->name := "Emp1"
Employee->basic := 4500
Employee->designation := "programmer"
Employee->(dbCommit())

> The advantage of ORM is that programmers can write database code that
> are not specific to the back-end engine. This is also strikingly
> similar to the Clipper concept of RDDs

So for me it's hard to understand why to reinvent 
it, if we already have it by the name "RDD".

If we want to go beyond this and implement the whole 
"ORM" buzzword, it's a whole separate project, 
not just some extra lines of code in sqlmix.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Mar 21 21:07:44 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 21 21:07:53 2010
Subject: [Harbour] Deletion from /examples
Message-ID: <5EE144FD-74BA-400F-9862-4534C2F6FA96@syenar.hu>

Hi All,

I'd like to delete these subdirs from 
/examples:

- hbdoc
- hbmsql

If there are no objections, I'll delete 
them later today.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Sun Mar 21 21:16:18 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Mar 21 21:16:40 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>	<4BA60CA2.4070605@dbtopas.lt>	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>	<20100321172336.GA25065@linux-4bod.home.aster.pl>	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>	<20100321181919.GA25793@linux-4bod.home.aster.pl>
	<1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
Message-ID: <4BA6C4E2.4090804@dbtopas.lt>

Viktor Szak?ts wrote:
> IMO HB_FIELDGET() should return NIL if the name 
> doesn't exist, just like FIELDGET() returns NIL 
> if the field position doesn't exist. 

> I didn't recheck all places, but quick review 
> shows that my code actually relies on this Clipper 
> feature, so adding RTE would require to rethink 
> some lower level functions

Hi,

I do not use any FIELDGET(), FIELDPUT() on fields that do not exists, 
so, I also like the idea of RTE, that helps find bug more quick. But I'm 
interested in what cases do you use (rely on) the Clippers behavior of 
"do nothing" field access/assignment using:
   FIELDPUT(FIELDPOS("i_do_not_exist"), value)


Regards,
Mindaugas


P.S. just brain storming... The main difference between 
FIELDGET(FIELDPOS("NAME")) and FIELD->NAME is that NAME is "solved" to 
symbol at compile time. This do part of the job and also saves some 
memory (two bytes of symbol number in PCODE instead of push string). 
Some functions do not have possibility to use advantage of solving name 
to symbol at compile time. F.e., DBSELECTAREA("alias") accepts a string 
only, but theoretically it is possible to compile "alias" to symbol. 
Unfortunately there is no way to do: DBSELECTAREA(@alias()). I remember 
I've wrote some hacky function in Clipper:
   alias->(DBSELECTAREASYMBOL())
that manipulates stack to not restore the original area, thus giving 
functionality of area change using symbol.
From harbour.01 at syenar.hu  Sun Mar 21 21:47:03 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar 21 21:47:14 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <4BA6C4E2.4090804@dbtopas.lt>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>	<4BA60CA2.4070605@dbtopas.lt>	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>	<20100321172336.GA25065@linux-4bod.home.aster.pl>	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>	<20100321181919.GA25793@linux-4bod.home.aster.pl>
	<1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
	<4BA6C4E2.4090804@dbtopas.lt>
Message-ID: <1748A740-F5C5-414B-98D5-8F661118B1EE@syenar.hu>

Hi,

>> I didn't recheck all places, but quick review shows that my code actually relies on this Clipper feature, so adding RTE would require to rethink some lower level functions
> 
> Hi,
> 
> I do not use any FIELDGET(), FIELDPUT() on fields that do not exists, so, I also like the idea of RTE, that helps find bug more quick. But I'm interested in what cases do you use (rely on) the Clippers behavior of "do nothing" field access/assignment using:
>  FIELDPUT(FIELDPOS("i_do_not_exist"), value)

Two places:

- Transferring records from one table to another, 
  with overlapping set of fields but different structure.
  (to/from temp tables f.e. for quick browsing or editing 
  sub-tables)
- Upgrading tables to new structure.

And this pretty much sums up all the places where 
FIELDGET(FIELDPOS()) dual-calls are made. All of above 
is speed critical, especially the second. As far as I 
checked quickly the second is safe, the first not 
necessarily.

[ Anyway regardless of my actual (or general) usage 
patterns, it's IMO bothersome to introduce RTE here, 
since it bends the original functions in the same domain 
in unexpected way. Or maybe we should form a general 
concept as to when to throw RTEs and when not, in 
extended (HB_*) core functions. ]

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Mar 21 21:53:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 21 21:53:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14211] trunk/harbour
Message-ID: <E1NtWpP-0000eM-5d@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14211
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14211&view=rev
Author:   vszakats
Date:     2010-03-22 01:53:11 +0000 (Mon, 22 Mar 2010)

Log Message:
-----------
2010-03-22 02:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - tests/bnch_win.bat
    - Deleted benchmarking aid.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Removed Paths:
-------------
    trunk/harbour/tests/bnch_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Mar 22 04:38:28 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 22 04:38:43 2010
Subject: [Harbour] Deletion from /examples
In-Reply-To: <5EE144FD-74BA-400F-9862-4534C2F6FA96@syenar.hu>
References: <5EE144FD-74BA-400F-9862-4534C2F6FA96@syenar.hu>
Message-ID: <4BA72C84.2070600@libero.it>

Hi Viktor,

mSql was one of my first contributions, so long ago! Sniff! :,(

Anyway, things have to move on...

Maurilio.


Viktor Szak?ts wrote:
> Hi All,
> 
> I'd like to delete these subdirs from 
> /examples:
> 
> - hbdoc
> - hbmsql
> 
> If there are no objections, I'll delete 
> them later today.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Mar 22 04:57:50 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 22 04:58:01 2010
Subject: [Harbour] Deletion from /examples
In-Reply-To: <4BA72C84.2070600@libero.it>
References: <5EE144FD-74BA-400F-9862-4534C2F6FA96@syenar.hu>
	<4BA72C84.2070600@libero.it>
Message-ID: <080FC438-6E3D-4D96-9F31-3C1BE92BEEAA@syenar.hu>

Hi Maurilio,

> mSql was one of my first contributions, so long ago! Sniff! :,(
> 
> Anyway, things have to move on...

Unfortunately the msql version required by hbmsql 
doesn't seem to be available anymore, so I couldn't 
make any successful tests with it in last 3-4 years.

Your work (this part of it that is) continues to 
live in hbmysql, which seems to be rooted from 
hbmsql, so it's by far not lost effort.

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Mar 22 05:11:34 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 22 05:11:44 2010
Subject: [Harbour] Deletion from /examples
In-Reply-To: <080FC438-6E3D-4D96-9F31-3C1BE92BEEAA@syenar.hu>
References: <5EE144FD-74BA-400F-9862-4534C2F6FA96@syenar.hu>	<4BA72C84.2070600@libero.it>
	<080FC438-6E3D-4D96-9F31-3C1BE92BEEAA@syenar.hu>
Message-ID: <4BA73446.5050106@libero.it>

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> Your work (this part of it that is) continues to 
> live in hbmysql, which seems to be rooted from 
> hbmsql, so it's by far not lost effort.
> 
Yes, I wrote mySql just after mSql when I saw that miniSql had a lot of
limitations.

miniSql maybe has been discontinued, I really don't know.

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Mon Mar 22 05:37:40 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 22 05:37:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14212] trunk/harbour
Message-ID: <E1Nte4q-0003lR-2O@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14212
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14212&view=rev
Author:   vszakats
Date:     2010-03-22 09:37:36 +0000 (Mon, 22 Mar 2010)

Log Message:
-----------
2010-03-22 10:36 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added -trace support to -mkimplib option.
    * Variables renamed in new code.

  - examples/hbdoc
  - examples/hbmsql
    - Deleted two obsolete components:
      - hbmsql is not available freely anymore and was not tested
        or update since many years. Check hbmysql and hbsqlit3 for
        alternatives.
      - hbdoc was superceded by hbdoc2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/examples/hbdoc/
    trunk/harbour/examples/hbmsql/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Mar 22 05:59:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 22 05:59:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14213] trunk/harbour
Message-ID: <E1NteQE-0004yL-9Z@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14213
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14213&view=rev
Author:   vszakats
Date:     2010-03-22 09:59:45 +0000 (Mon, 22 Mar 2010)

Log Message:
-----------
2010-03-22 10:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed implib internal flag handling for msvc targets.
    ! Fixed path format conversion in implib parameters.
    + Added support for filters, macros for implib creation parameters.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Mar 22 07:54:49 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 22 07:54:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14214] trunk/harbour
Message-ID: <E1NtgDZ-00063j-K8@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14214
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14214&view=rev
Author:   druzus
Date:     2010-03-22 11:54:48 +0000 (Mon, 22 Mar 2010)

Log Message:
-----------
2010-03-22 12:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
    + added HB_SIZE_MAX macro

  * harbour/src/vm/hvm.c
  * harbour/src/vm/arrays.c
    * use HB_SIZE_MAX instead of ULONG_MAX

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h
    trunk/harbour/src/vm/arrays.c
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar 22 08:29:59 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 22 08:30:07 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <1748A740-F5C5-414B-98D5-8F661118B1EE@syenar.hu>
References: <B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>
	<20100321181919.GA25793@linux-4bod.home.aster.pl>
	<1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
	<4BA6C4E2.4090804@dbtopas.lt>
	<1748A740-F5C5-414B-98D5-8F661118B1EE@syenar.hu>
Message-ID: <20100322122959.GA2057@linux-4bod.home.aster.pl>

On Mon, 22 Mar 2010, Szak?ts Viktor wrote:

Hi,

> - Transferring records from one table to another, 
>   with overlapping set of fields but different structure.
>   (to/from temp tables f.e. for quick browsing or editing 
>   sub-tables)
> - Upgrading tables to new structure.
> And this pretty much sums up all the places where 
> FIELDGET(FIELDPOS()) dual-calls are made. All of above 
> is speed critical, especially the second. As far as I 
> checked quickly the second is safe, the first not 
> necessarily.

I do not agree with your conclusion.
If it's speed critical in your code then you should eliminate
any field accessing by name which is the most expensive part
of field access/assign operations and use only field indexes.
I.e. at atartup you can create array with indexes which should
be translated between areas:

   select( nSrc )
   aTrans := {}
   for i := 1 to fcount()
      cField := fieldName( i )
      if ( j := ( nDst )->( fieldPos( cField ) ) ) != 0
         aadd( aTrans, { i, j } )
      endif
   next
   dbGotTop()
   select( nDst )
   while ! ( nSrc )->( eof() )
      dbAppend()
      for each aField in aTrans
         fieldPut( aField[ 2 ], ( nSrc )->fieldGet( aField[ 1 ] ) )
      next
      ( nSrc )->( dbSkip() )
   enddo

For tables which have very big number of fields the speed
improvement should be huge. Accessing fields by name is
relatively very slow operation and all RDD methods which
transfer records between workareas use such translation
table with indexes to eliminate it.

And you can use RDD directly for such operation, i.e.:

   select( nSrc )
   aTrans := {}
   for i := 1 to fcount()
      cField := fieldName( i )
      if ( nDst )->( fieldPos( cField ) ) != 0
         aadd( aTrans, cField )
      endif
   next
   __dbTrans( nDst, aTrans )

Functionally it makes exactly the same job as the first code
but in C code eliminating and .prg code overhead. Additionally
some remote RDDs can move the whole operation to the server
side. The second code should work also with Clipper.

> [ Anyway regardless of my actual (or general) usage 
> patterns, it's IMO bothersome to introduce RTE here, 
> since it bends the original functions in the same domain 
> in unexpected way. Or maybe we should form a general 
> concept as to when to throw RTEs and when not, in 
> extended (HB_*) core functions. ]

I do not think that we can generalize generating RTE depending
on HB_ prefix in function name.

best regards,
Przemek
From maurilio.longo at libero.it  Mon Mar 22 08:56:51 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 22 08:57:05 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <20100322122959.GA2057@linux-4bod.home.aster.pl>
References: <B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>	<4BA60CA2.4070605@dbtopas.lt>	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>	<20100321172336.GA25065@linux-4bod.home.aster.pl>	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>	<20100321181919.GA25793@linux-4bod.home.aster.pl>	<1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>	<4BA6C4E2.4090804@dbtopas.lt>	<1748A740-F5C5-414B-98D5-8F661118B1EE@syenar.hu>
	<20100322122959.GA2057@linux-4bod.home.aster.pl>
Message-ID: <4BA76913.9040103@libero.it>

Przemys?aw Czerpak wrote:
> On Mon, 22 Mar 2010, Szak?ts Viktor wrote:

> For tables which have very big number of fields the speed
> improvement should be huge. Accessing fields by name is
> relatively very slow operation and all RDD methods which
> transfer records between workareas use such translation
> table with indexes to eliminate it.
> 

Przemyslaw, sorry if my question is a dumb one, but could the HVM+RDDs use
such translation table for the normal code?

I have, I think we all have, plenty of code doing

alias->name :=

or

var := alias->name

in loops as well, so If this could be made faster at runtime, when the
position of fields cannot change between every dbUseArea()/dbCloseArea() pair,
this could be a speed boost which gives some noticeable result.

Maybe this cannot be done, but maybe every alias->field could be compiled into
a lookup table indexed expression and the lookup table be compiled by dbUseArea().

What do you think?

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at users.sourceforge.net  Mon Mar 22 09:23:19 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 22 09:23:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14215] trunk/harbour
Message-ID: <E1NthbD-000737-6w@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14215
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14215&view=rev
Author:   druzus
Date:     2010-03-22 13:23:18 +0000 (Mon, 22 Mar 2010)

Log Message:
-----------
2010-03-22 14:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/wafunc.c
    ! added protection against possible GPF when wrong array with field
      names is passed to __dbTrans() or relative functions

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/wafunc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar 22 10:23:04 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 22 10:23:12 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <4BA76913.9040103@libero.it>
References: <4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>
	<20100321181919.GA25793@linux-4bod.home.aster.pl>
	<1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
	<4BA6C4E2.4090804@dbtopas.lt>
	<1748A740-F5C5-414B-98D5-8F661118B1EE@syenar.hu>
	<20100322122959.GA2057@linux-4bod.home.aster.pl>
	<4BA76913.9040103@libero.it>
Message-ID: <20100322142304.GA3166@linux-4bod.home.aster.pl>

On Mon, 22 Mar 2010, Maurilio Longo wrote:

Hi,

> > For tables which have very big number of fields the speed
> > improvement should be huge. Accessing fields by name is
> > relatively very slow operation and all RDD methods which
> > transfer records between workareas use such translation
> > table with indexes to eliminate it.
> Przemyslaw, sorry if my question is a dumb one, but could the HVM+RDDs use
> such translation table for the normal code?
> I have, I think we all have, plenty of code doing
> alias->name :=
> or
> var := alias->name
> in loops as well, so If this could be made faster at runtime, when the
> position of fields cannot change between every dbUseArea()/dbCloseArea() pair,
> this could be a speed boost which gives some noticeable result.
> Maybe this cannot be done, but maybe every alias->field could be compiled into
> a lookup table indexed expression and the lookup table be compiled by dbUseArea().
> What do you think?

In code which uses field names explicitly by symbols, i.e.
   alias->name
then name is replaced by reference to global symbol table (PHB_DYNS)
and then address of PHB_DYNS is used to access the field. This eliminates
str[i]cmp() in code which scan fields in workarea for field index. Only
PHB_DYNS addresses are compared so it faster then using pure name to detect
field index.
The improvement you are asking for can be implemented but it needs deeper
modifications in compiler, HVM and RDD code. It will be necessary to
introduce to HVM for each alias used in the code arrays with field symbols
and their indexes. Such arrays have to be created at applications startup
code and then updated inside RDD open/close operation and also in some other
ones like HB_DBDETACH()/HB_DBREQUEST() or proposed by Mindaugas alias rename.
The field symbols in symbol table will have to be marked by Harbour compiler
in special way using HB_FS_*() flags so at application startup they can be
recognized by code which registers symbols in HVM. At the beginning they
should contain in 'value' union index to alias symbol and registration
code should check if such field name exists in table of field names bound
with given alias and if not then it should add it. Finally it should take
the index of the field in this table and store it in 'value' union inside
field symbol. Then at runtime HVM will use this index to retrieve field
index from array with field names bound with active workarea.
It should work with some cost of additional memory necessary to create
the tables with field names but only with code which explicitly uses field
names and aliases.
It's also possible to make some farther improvement for code using
   alias->name
by adding new PCODE which will replace two ones generated by current
compiler code. Now we have:
   HB_P_PUSHSYM, 0, 1,              /* ALIAS */
   HB_P_PUSHALIASEDFIELD, 2, 0,     /* NAME */
and then we will have:
   HB_P_PUSHALIASFIELD, 0, 1, 2, 0, /* ALIAS->NAME */
It will help to simplify a little bit code used for such dedicated PCODE.
Such improvement can be done even without introducing described above
tables with aliases. Anyhow number of PCODEs we can use is limited so
I do not know if such modification is important enough to add new PCODE.
For sure we can add it without any problems for -gc3 code because here
we are not limited by number of PCODEs.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Mar 22 13:24:15 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 22 13:24:31 2010
Subject: [Harbour] To move sdd* contribs to contrib root
Message-ID: <C07A037A-F62B-4A9B-99AE-FB7058B3B258@syenar.hu>

Hi All,

I'd like to move contrib/rddsql/sdd* libs to 
/contrib/sdd* dirs, thus flattening the contrib 
tree and removing this only exception in the 
contrib tree. Current solution requires me to 
maintain some special tricks to deal with it 
in package creation and hbmk2 configuration.

Any objection?

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Mar 22 13:58:16 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 22 13:58:24 2010
Subject: [Harbour] To move sdd* contribs to contrib root
In-Reply-To: <C07A037A-F62B-4A9B-99AE-FB7058B3B258@syenar.hu>
References: <C07A037A-F62B-4A9B-99AE-FB7058B3B258@syenar.hu>
Message-ID: <20100322175816.GA18818@linux-4bod.home.aster.pl>

On Mon, 22 Mar 2010, Szak?ts Viktor wrote:

Hi,

> I'd like to move contrib/rddsql/sdd* libs to 
> /contrib/sdd* dirs, thus flattening the contrib 
> tree and removing this only exception in the 
> contrib tree. Current solution requires me to 
> maintain some special tricks to deal with it 
> in package creation and hbmk2 configuration.

Can you describe what are the exact problem with
current directory structure?
It allows to keep SQLRDD code in one directory tree
what seems to be clean solution for me better then
dividing it into few directories in contrib dir.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Mar 22 14:12:14 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 22 14:12:30 2010
Subject: [Harbour] To move sdd* contribs to contrib root
In-Reply-To: <20100322175816.GA18818@linux-4bod.home.aster.pl>
References: <C07A037A-F62B-4A9B-99AE-FB7058B3B258@syenar.hu>
	<20100322175816.GA18818@linux-4bod.home.aster.pl>
Message-ID: <FFDBE83F-16A6-4735-A4D4-78052B94E316@syenar.hu>

>> I'd like to move contrib/rddsql/sdd* libs to 
>> /contrib/sdd* dirs, thus flattening the contrib 
>> tree and removing this only exception in the 
>> contrib tree. Current solution requires me to 
>> maintain some special tricks to deal with it 
>> in package creation and hbmk2 configuration.
> 
> Can you describe what are the exact problem with
> current directory structure?
> It allows to keep SQLRDD code in one directory tree
> what seems to be clean solution for me better then
> dividing it into few directories in contrib dir.

I have to maintain rddsql specific hacks in 
postinst.prg and packaging in winuni dir.
'Maintain' means: Do it manually, develop script 
for it, test it, all this just for the sake of 
this exception. I especially don't like to 
hard-wire contrib names in any non-contrib parts 
of Harbour, but this is currently impossible.

Current solution also requires special chaining 
of .hbc files, which makes them impossible to 
move like the other .hbc files, it also requires 
special logic for rddsql header inclusion as 
opposed to standard HB_INC_DEPEND method. I could 
go on.

[ I could also mention the amount of time I've wasted 
with this issue alone, when doing the past releases. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Mar 22 15:51:21 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 22 15:51:33 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <20100322122959.GA2057@linux-4bod.home.aster.pl>
References: <B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>
	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>
	<4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>
	<20100321181919.GA25793@linux-4bod.home.aster.pl>
	<1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
	<4BA6C4E2.4090804@dbtopas.lt>
	<1748A740-F5C5-414B-98D5-8F661118B1EE@syenar.hu>
	<20100322122959.GA2057@linux-4bod.home.aster.pl>
Message-ID: <1894271D-F742-4A92-BB75-FC5F89091983@syenar.hu>

Hi Przemek, I've reviewed this old (but highly 
critical) code of mine, and could optimize out 
FieldPos() calls altogether from the table upgrade 
functionality, speed almost doubled and still 
working on optimizations. The rest of cases don't 
seem to be real a bottleneck.

So it looks like there is no need for HB_FIELDGET/PUT 
which accept names in my case.

BTW does __DBTRANS( d, a ) copy one record at 
a time?

Brgds,
Viktor

On 2010 Mar 22, at 13:29, Przemys?aw Czerpak wrote:

> On Mon, 22 Mar 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> - Transferring records from one table to another, 
>>  with overlapping set of fields but different structure.
>>  (to/from temp tables f.e. for quick browsing or editing 
>>  sub-tables)
>> - Upgrading tables to new structure.
>> And this pretty much sums up all the places where 
>> FIELDGET(FIELDPOS()) dual-calls are made. All of above 
>> is speed critical, especially the second. As far as I 
>> checked quickly the second is safe, the first not 
>> necessarily.
> 
> I do not agree with your conclusion.
> If it's speed critical in your code then you should eliminate
> any field accessing by name which is the most expensive part
> of field access/assign operations and use only field indexes.
> I.e. at atartup you can create array with indexes which should
> be translated between areas:
> 
>   select( nSrc )
>   aTrans := {}
>   for i := 1 to fcount()
>      cField := fieldName( i )
>      if ( j := ( nDst )->( fieldPos( cField ) ) ) != 0
>         aadd( aTrans, { i, j } )
>      endif
>   next
>   dbGotTop()
>   select( nDst )
>   while ! ( nSrc )->( eof() )
>      dbAppend()
>      for each aField in aTrans
>         fieldPut( aField[ 2 ], ( nSrc )->fieldGet( aField[ 1 ] ) )
>      next
>      ( nSrc )->( dbSkip() )
>   enddo
> 
> For tables which have very big number of fields the speed
> improvement should be huge. Accessing fields by name is
> relatively very slow operation and all RDD methods which
> transfer records between workareas use such translation
> table with indexes to eliminate it.
> 
> And you can use RDD directly for such operation, i.e.:
> 
>   select( nSrc )
>   aTrans := {}
>   for i := 1 to fcount()
>      cField := fieldName( i )
>      if ( nDst )->( fieldPos( cField ) ) != 0
>         aadd( aTrans, cField )
>      endif
>   next
>   __dbTrans( nDst, aTrans )
> 
> Functionally it makes exactly the same job as the first code
> but in C code eliminating and .prg code overhead. Additionally
> some remote RDDs can move the whole operation to the server
> side. The second code should work also with Clipper.
> 
>> [ Anyway regardless of my actual (or general) usage 
>> patterns, it's IMO bothersome to introduce RTE here, 
>> since it bends the original functions in the same domain 
>> in unexpected way. Or maybe we should form a general 
>> concept as to when to throw RTEs and when not, in 
>> extended (HB_*) core functions. ]
> 
> I do not think that we can generalize generating RTE depending
> on HB_ prefix in function name.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Mon Mar 22 17:37:58 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Mar 22 17:38:05 2010
Subject: [Harbour] Question about -> character
Message-ID: <674e4ddd1003221437k4eacb201r509360e6d6ca2a25@mail.gmail.com>

Hi there,

Not sure if this mailing list supports the lower ascii, but we're having a
lot of problems getting the ? character to show up in Win32 apps on Windows.

On the very same computer, sometimes it shows the box character (anyone
who's used notepad and it cannot display a char correctly knows what I
mean).  Other times, it shows the arrow key character perfectly!

I believe these keys have something to do with the ESC key, or are near it
on the ASCII table.

My question:  Simply put, can I just make it alwasys show the cute
character?

If nothing can be done, perhaps I can get it by enabling Unicode on Harbour
and doing something like CHR(unicode val for arrow).

But for Win98 users, would that mean I would have to include unicows.dll in
the Harbour-generated .EXE path?

*confused*

Thanks



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100322/adf19520/attachment.html
From smujohnson at gmail.com  Mon Mar 22 18:09:48 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Mar 22 18:09:56 2010
Subject: [Harbour] Re: Question about -> character
In-Reply-To: <674e4ddd1003221437k4eacb201r509360e6d6ca2a25@mail.gmail.com>
References: <674e4ddd1003221437k4eacb201r509360e6d6ca2a25@mail.gmail.com>
Message-ID: <674e4ddd1003221509u283aced9wfba316c7c0257d00@mail.gmail.com>

Seems that it's not as simple as just dropping a .DLL in there.  :(


On Mon, Mar 22, 2010 at 2:37 PM, smu johnson <smujohnson@gmail.com> wrote:

>
> But for Win98 users, would that mean I would have to include unicows.dll in
> the Harbour-generated .EXE path?
>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100322/421428ca/attachment.html
From druzus at acn.waw.pl  Mon Mar 22 18:50:26 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 22 18:50:34 2010
Subject: [Harbour] field->&("name") in a macro
In-Reply-To: <1894271D-F742-4A92-BB75-FC5F89091983@syenar.hu>
References: <4BA60CA2.4070605@dbtopas.lt>
	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>
	<20100321172336.GA25065@linux-4bod.home.aster.pl>
	<9319AE14-020F-4F46-9516-3ABE6C83C479@syenar.hu>
	<20100321181919.GA25793@linux-4bod.home.aster.pl>
	<1F449EEB-0630-4CA8-823E-6C22392AEEA1@syenar.hu>
	<4BA6C4E2.4090804@dbtopas.lt>
	<1748A740-F5C5-414B-98D5-8F661118B1EE@syenar.hu>
	<20100322122959.GA2057@linux-4bod.home.aster.pl>
	<1894271D-F742-4A92-BB75-FC5F89091983@syenar.hu>
Message-ID: <20100322225026.GA21263@linux-4bod.home.aster.pl>

On Mon, 22 Mar 2010, Szak?ts Viktor wrote:

Hi,

> BTW does __DBTRANS( d, a ) copy one record at 
> a time?

__dbTrans() is undocumented Clipper function. Current Harbour
implementation accepts the following parameters:

   __dbTrans( <nDstArea>, <aFields>, <bFor>, <bWhile>, ;
              <nNext>, <nRecord>, <lRest> )

so it can be used to transfer any number of records.
See __dbDelim() function in src/rdd/dbdelim.prg. The code
covered by HB_CLP_STRICT macro illustrates how it can be
used. Please note that <aFields> array can contain field
names or array with field structures.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar 22 19:10:18 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 22 19:10:26 2010
Subject: [Harbour] To move sdd* contribs to contrib root
In-Reply-To: <FFDBE83F-16A6-4735-A4D4-78052B94E316@syenar.hu>
References: <C07A037A-F62B-4A9B-99AE-FB7058B3B258@syenar.hu>
	<20100322175816.GA18818@linux-4bod.home.aster.pl>
	<FFDBE83F-16A6-4735-A4D4-78052B94E316@syenar.hu>
Message-ID: <20100322231018.GB21263@linux-4bod.home.aster.pl>

On Mon, 22 Mar 2010, Szak?ts Viktor wrote:

Hi Viktor,

> > Can you describe what are the exact problem with
> > current directory structure?
> > It allows to keep SQLRDD code in one directory tree
> > what seems to be clean solution for me better then
> > dividing it into few directories in contrib dir.
> I have to maintain rddsql specific hacks in 
> postinst.prg and packaging in winuni dir.
> 'Maintain' means: Do it manually, develop script 
> for it, test it, all this just for the sake of 
> this exception. I especially don't like to 
> hard-wire contrib names in any non-contrib parts 
> of Harbour, but this is currently impossible.
> Current solution also requires special chaining 
> of .hbc files, which makes them impossible to 
> move like the other .hbc files, it also requires 
> special logic for rddsql header inclusion as 
> opposed to standard HB_INC_DEPEND method. I could 
> go on.

As I can see postinst.prg creates hbmk.cfg file which
contains the following lines:

   libpaths=../contrib/%{hb_name}
   libpaths=../contrib/rddsql/%{hb_name}
   libpaths=../addons/%{hb_name}
   libpaths=../examples/%{hb_name}

so I guess you want to remove the second one.
But can you explain what above lines does?
I was always wondering why I have it in hbmk.cfg
when I do not have any of above directories in
my Harbour installation.

rddsql string is also used inside
package/winuni/mpkg_win_uni_extra_copy.bat
It's used to copy 'test' subdirectories and *.hbc files
to some F:\hb\hb20\. I do not know what this code does
and why it uses hardcoded F:\hb\hb20\. I only guess
that it's bound in some way with generated hbmk.cfg.

Maybe if you explain what hbmk.cfg does and why it
uses such hardcoded directory structure then I will
understand what you are trying to do. It should help
all of us in adding new directories to SVN code.
Now seems that we have some undocumented conditions
which we should respect.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Mar 22 19:41:06 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 22 19:41:18 2010
Subject: [Harbour] To move sdd* contribs to contrib root
In-Reply-To: <20100322231018.GB21263@linux-4bod.home.aster.pl>
References: <C07A037A-F62B-4A9B-99AE-FB7058B3B258@syenar.hu>
	<20100322175816.GA18818@linux-4bod.home.aster.pl>
	<FFDBE83F-16A6-4735-A4D4-78052B94E316@syenar.hu>
	<20100322231018.GB21263@linux-4bod.home.aster.pl>
Message-ID: <AFCEDF89-A441-4C5F-9426-368990180435@syenar.hu>

Hi,

>>> Can you describe what are the exact problem with
>>> current directory structure?
>>> It allows to keep SQLRDD code in one directory tree
>>> what seems to be clean solution for me better then
>>> dividing it into few directories in contrib dir.
>> I have to maintain rddsql specific hacks in 
>> postinst.prg and packaging in winuni dir.
>> 'Maintain' means: Do it manually, develop script 
>> for it, test it, all this just for the sake of 
>> this exception. I especially don't like to 
>> hard-wire contrib names in any non-contrib parts 
>> of Harbour, but this is currently impossible.
>> Current solution also requires special chaining 
>> of .hbc files, which makes them impossible to 
>> move like the other .hbc files, it also requires 
>> special logic for rddsql header inclusion as 
>> opposed to standard HB_INC_DEPEND method. I could 
>> go on.
> 
> As I can see postinst.prg creates hbmk.cfg file which
> contains the following lines:
> 
>   libpaths=../contrib/%{hb_name}
>   libpaths=../contrib/rddsql/%{hb_name}
>   libpaths=../addons/%{hb_name}
>   libpaths=../examples/%{hb_name}
> 
> so I guess you want to remove the second one.
> But can you explain what above lines does?
> I was always wondering why I have it in hbmk.cfg
> when I do not have any of above directories in
> my Harbour installation.

It's a pending issue/question. Above will define 
search path for .hbc files, so they are found 
automatically without speccing full dir for them 
in app-level make files.

I just have no idea how to solve that for *nix 
systems. For non-*nix it's easy and already 
working with above method.

> rddsql string is also used inside
> package/winuni/mpkg_win_uni_extra_copy.bat
> It's used to copy 'test' subdirectories and *.hbc files
> to some F:\hb\hb20\. I do not know what this code does
> and why it uses hardcoded F:\hb\hb20\. I only guess
> that it's bound in some way with generated hbmk.cfg.
> 
> Maybe if you explain what hbmk.cfg does and why it
> uses such hardcoded directory structure then I will
> understand what you are trying to do. It should help
> all of us in adding new directories to SVN code.
> Now seems that we have some undocumented conditions
> which we should respect.

Partially related to hbmk.cfg above. The other 
part is copying test and other stuff that comes 
with contribs to winuni distribution.

This .bat file is not meant to be a "one-click" 
winuni creator (as the included comments make it 
obvious), it needs manual steps and adjustments 
before usage. Anyhow this is irrelevant regarding 
rddsql issue, I had/have to spend a large 
amount of extra time and effort with such exceptions 
either this file is on or off SVN. (you can now 
see the simplified end-result of a longer struggle)

My time is finite and I hate to waste it on 
such exceptions when there is no real reason 
or benefit in them. In case of sdd*, they are 
clearly separated by libname, so there is no 
loss at all by moving them to main contrib 
dir. They are simple libs depending on another 
lib, no need to add extra complication by layering 
the dirs as well.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Mar 22 20:00:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 22 20:00:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14216] trunk/harbour
Message-ID: <E1NtrXb-0005CX-4W@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14216
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14216&view=rev
Author:   vszakats
Date:     2010-03-23 00:00:13 +0000 (Tue, 23 Mar 2010)

Log Message:
-----------
2010-03-23 00:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/Makefile
  + contrib/hbwin/wapi_mmsystem.c
    + Added WAPI_PLAYSOUND() function.

  * bin/postinst.prg
  * package/winuni/mpkg_win_uni_extra_copy.bat
    - Deleted hacks dealing with sub-contribs inside contribs.
      (this breaks .hbc autofind for sdd* libs and
      won't anymore include sdd tests and .hbc files in
      windows unified distro)

  * contrib/rddsql/sddmy/sddmy.c
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddsqlt3/sddsqlt3.c
  * contrib/rddsql/sddsqlt3/Makefile
  * contrib/rddsql/sddpg/sddpg.c
  * contrib/rddsql/sddpg/Makefile
  * contrib/rddsql/sddfb/sddfb.c
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddodbc/sddodbc.c
  * contrib/rddsql/sddodbc/Makefile
  * contrib/rddsql/sddoci/sddoci.c
  * contrib/rddsql/sddoci/Makefile
    ! Fixed to use standard method to refer to dependent
      rddsql lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.prg
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddfb/sddfb.c
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddmy/sddmy.c
    trunk/harbour/contrib/rddsql/sddoci/Makefile
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/contrib/rddsql/sddpg/sddpg.c
    trunk/harbour/contrib/rddsql/sddsqlt3/Makefile
    trunk/harbour/contrib/rddsql/sddsqlt3/sddsqlt3.c
    trunk/harbour/package/winuni/mpkg_win_uni_extra_copy.bat

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/wapi_mmsystem.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Mar 22 20:02:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 22 20:02:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14217] trunk/harbour
Message-ID: <E1Ntra2-0005G5-UT@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14217
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14217&view=rev
Author:   vszakats
Date:     2010-03-23 00:02:45 +0000 (Tue, 23 Mar 2010)

Log Message:
-----------
2010-03-23 01:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.prg
    - Deleted hb-mkimp.bat reference. This file is no more.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tech at 2dinfo.com.br  Mon Mar 22 22:56:16 2010
From: tech at 2dinfo.com.br (Leandro Damasio - 2D Info)
Date: Mon Mar 22 22:56:44 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <3D597850-C181-4A6D-8739-EF1151489B3E@syenar.hu>
References: <905448238.20100310190423@yahoo.com.ar>
	<4B9E554E.10405@dbtopas.lt><609353e71003210803o30d4597cs8cebb6ffc0d8cf28@mail.gmail.com><4BA6BCA9.6030405@dbtopas.lt><609353e71003211750l3a786de4u9687bea186bdcf9b@mail.gmail.com>
	<3D597850-C181-4A6D-8739-EF1151489B3E@syenar.hu>
Message-ID: <92DC68B25B074509BC6DB8B4D9D0342A@NOTELEO>

> So for me it's hard to understand why to reinvent
> it, if we already have it by the name "RDD".
>
> If we want to go beyond this and implement the whole
> "ORM" buzzword, it's a whole separate project,
> not just some extra lines of code in sqlmix.

ORM is defined as Object Relational Mapping at wikipedia, but there is 
another meaning for that, that is Object Role Modeling acording to 
www.orm.net.
Maybe the example pointed by Massimo is more related to Object Persistence. 
Wikipedia moved/renamed Object Persistence page to System Prevalence 
(http://en.wikipedia.org/wiki/System_Prevalence) and acording to it, the 
advantage of this aproach is "Simply keeping system state in memory in its 
normal, natural, language-specific format is both orders of magnitude faster 
and more programmer-friendly than the multiple conversions that are needed 
when it is stored and retrieved from a DBMS."
One case of use is that objects can be collected in an array, so once they 
are loaded it is much faster to access ascan form them than using searching 
in a disk file.
Brgds
Leandro

--------------------------------------------------
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
Sent: Sunday, March 21, 2010 10:02 PM
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Subject: Re: [Harbour] Error in SDDFB

>> New generation languages (Python, Ruby etc. and even Java) have shifted 
>> focus to
>> using ORMs rather than SQL directly. Now instead of explicit SQL
>> statements, ActiveRecord (Ruby's Object Relational Mapper) uses
>> something like
>>
>> emp=Employee.new
>> emp.name = "Emp1"
>> emp.basic = 4500
>> emp.designation = "Programmer"
>> emp.save
>
> I guess you're talking about this:
>   http://en.wikipedia.org/wiki/Object-relational_mapping
>
> Well, above example just doesn't even scratch
> the surface. And it's in fact an example which
> makes thing just much less efficient than it
> normally is in Harbour. IOW it's adding extra
> complexity without any benefit. This is how
> it's done in Harbour:
>
> Employee->(dbAppend())
> Employee->name := "Emp1"
> Employee->basic := 4500
> Employee->designation := "programmer"
> Employee->(dbCommit())
>
>> The advantage of ORM is that programmers can write database code that
>> are not specific to the back-end engine. This is also strikingly
>> similar to the Clipper concept of RDDs
>
> So for me it's hard to understand why to reinvent
> it, if we already have it by the name "RDD".
>
> If we want to go beyond this and implement the whole
> "ORM" buzzword, it's a whole separate project,
> not just some extra lines of code in sqlmix.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From amigosam at adinet.com.uy  Mon Mar 22 23:45:13 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 22 23:45:40 2010
Subject: [Harbour] Re: Error in SDDFB
In-Reply-To: <92DC68B25B074509BC6DB8B4D9D0342A@NOTELEO>
References: <905448238.20100310190423@yahoo.com.ar>	<4B9E554E.10405@dbtopas.lt><609353e71003210803o30d4597cs8cebb6ffc0d8cf28@mail.gmail.com><4BA6BCA9.6030405@dbtopas.lt><609353e71003211750l3a786de4u9687bea186bdcf9b@mail.gmail.com>	<3D597850-C181-4A6D-8739-EF1151489B3E@syenar.hu>
	<92DC68B25B074509BC6DB8B4D9D0342A@NOTELEO>
Message-ID: <ho9dga$t8c$1@dough.gmane.org>

You have MEMIO for that. So ?

From harbour.01 at syenar.hu  Tue Mar 23 02:46:21 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 23 02:46:33 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <92DC68B25B074509BC6DB8B4D9D0342A@NOTELEO>
References: <905448238.20100310190423@yahoo.com.ar>
	<4B9E554E.10405@dbtopas.lt><609353e71003210803o30d4597cs8cebb6ffc0d8cf28@mail.gmail.com><4BA6BCA9.6030405@dbtopas.lt><609353e71003211750l3a786de4u9687bea186bdcf9b@mail.gmail.com>
	<3D597850-C181-4A6D-8739-EF1151489B3E@syenar.hu>
	<92DC68B25B074509BC6DB8B4D9D0342A@NOTELEO>
Message-ID: <75F83379-3076-432E-8CD8-5CCEC4EAF041@syenar.hu>

>> So for me it's hard to understand why to reinvent
>> it, if we already have it by the name "RDD".
>> 
>> If we want to go beyond this and implement the whole
>> "ORM" buzzword, it's a whole separate project,
>> not just some extra lines of code in sqlmix.
> 
> ORM is defined as Object Relational Mapping at wikipedia, but there is another meaning for that, that is Object Role Modeling acording to www.orm.net.
> Maybe the example pointed by Massimo is more related to Object Persistence. Wikipedia moved/renamed Object Persistence page to System Prevalence (http://en.wikipedia.org/wiki/System_Prevalence) and acording to it, the advantage of this aproach is "Simply

Wow :) Actually I wanted to find the intended 
meaning of "ORM" in recent discussions based on 
context (but had a hard time), and above perfectly 
shows the whole confusion above these three-letter 
buzzwords.

>  keeping system state in memory in its normal, natural, language-specific format is both orders of magnitude faster and more programmer-friendly than the multiple conversions that are needed when it is stored and retrieved from a DBMS."
> One case of use is that objects can be collected in an array, so once they are loaded it is much faster to access ascan form them than using searching in a disk file.

Maybe I'm wrong, but above description seems 
to cover the database access concept implemented 
in all dBase-like languages. Except that the 
"array" is present on RDD level, so you don't 
really make separate disk accesses by each 
FIELD->x reference (but I'm not 100% sure on 
that in current Harbour implementation).

So, if that's all "ORM" means, we already have 
it, and that was one of the features that made 
dBase so popular versus other "database" languages.

Brgds,
Viktor

From sscc at mweb.co.za  Tue Mar 23 03:00:53 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Mar 23 03:01:04 2010
Subject: [Harbour] Error in SDDFB
In-Reply-To: <75F83379-3076-432E-8CD8-5CCEC4EAF041@syenar.hu>
References: <905448238.20100310190423@yahoo.com.ar>	<4B9E554E.10405@dbtopas.lt><609353e71003210803o30d4597cs8cebb6ffc0d8cf28@mail.gmail.com><4BA6BCA9.6030405@dbtopas.lt><609353e71003211750l3a786de4u9687bea186bdcf9b@mail.gmail.com>	<3D597850-C181-4A6D-8739-EF1151489B3E@syenar.hu>	<92DC68B25B074509BC6DB8B4D9D0342A@NOTELEO>
	<75F83379-3076-432E-8CD8-5CCEC4EAF041@syenar.hu>
Message-ID: <4BA86725.8060802@mweb.co.za>

Viktor Szak?ts wrote:

> So, if that's all "ORM" means, we already have
> it, and that was one of the features that made
> dBase so popular versus other "database" languages.

My understanding is that there is a "disconnect" between the programmers object 
based view of the data and the DBMS's relational view of the data. ORM's seek to 
"mend" this disconnect. Of course they do other things such as make CRUD easy 
and provide factory methods to create data classes.

I would not say dBase addressed this issue in any significant way, but I am not 
convinced that it needs to either.

Regards
Alex
From vszakats at users.sourceforge.net  Tue Mar 23 03:38:30 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 23 03:38:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14218] trunk/harbour
Message-ID: <E1Ntyh4-0003RH-8M@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14218
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14218&view=rev
Author:   vszakats
Date:     2010-03-23 07:38:29 +0000 (Tue, 23 Mar 2010)

Log Message:
-----------
2010-03-23 08:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    * Minor (non-functional) corrections to latest additions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Tue Mar 23 05:01:00 2010
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar 23 05:01:11 2010
Subject: [Harbour] To move sdd* contribs to contrib root
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CF9@Mail-yoq.SYNEL-COMPANY.LTD>

>> so I guess you want to remove the second one.
>> But can you explain what above lines does?
>> I was always wondering why I have it in hbmk.cfg
>> when I do not have any of above directories in
>> my Harbour installation.

> It's a pending issue/question. Above will define
> search path for .hbc files, so they are found
> automatically without speccing full dir for them
> in app-level make files.

Maybe there could be a way to do it recursively like GNU make?
Given a hbc|cfg|... file on a directory that can have instruction
about sub-dir processing. This can make it generic solution for
hbmk2

As for packaging, maybe a section could be added to the GNU Makefiles?
(clear, install, packaging, ...) that would take care of special anomalies if
needed.

Just an idea

  Chen.
From harbour.01 at syenar.hu  Tue Mar 23 06:33:59 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 23 06:34:27 2010
Subject: [Harbour] To move sdd* contribs to contrib root
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CF9@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CF9@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <D8B39AD4-B538-4AA3-A5FA-95E76CB3A526@syenar.hu>

Hi,

>> It's a pending issue/question. Above will define
>> search path for .hbc files, so they are found
>> automatically without speccing full dir for them
>> in app-level make files.
> 
> Maybe there could be a way to do it recursively like GNU make?
> Given a hbc|cfg|... file on a directory that can have instruction
> about sub-dir processing. This can make it generic solution for
> hbmk2

It'd be generic but very slow to parse potentially 
infinite or deep dir structures routinely, just to 
find some matching .hbc files.

> As for packaging, maybe a section could be added to the GNU Makefiles?
> (clear, install, packaging, ...) that would take care of special anomalies if
> needed.

Maybe, and it could potentially be better, since 
it would work regardless of packaging, I don't 
know who will do it though. It would also need to 
maintain a large number of additional Makefile, 
so just for the sake of winuni packaging, the 
work seems overkill.

Off: They just stole my car, damn it.

Brgds,
Viktor

From snaiperis at users.sourceforge.net  Tue Mar 23 06:57:12 2010
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Tue Mar 23 06:57:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14219] trunk/harbour
Message-ID: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14219
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14219&view=rev
Author:   snaiperis
Date:     2010-03-23 10:57:11 +0000 (Tue, 23 Mar 2010)

Log Message:
-----------
2010-03-23 12:55 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddsql/hbrddsql.h
  * harbour/contrib/rddsql/sqlbase.c
  * harbour/contrib/rddsql/sddfb/sddfb.c
  * harbour/contrib/rddsql/sddmy/sddmy.c
  * harbour/contrib/rddsql/sddoci/sddoci.c
  * harbour/contrib/rddsql/sddodbc/sddodbc.c
  * harbour/contrib/rddsql/sddpg/sddpg.c
  * harbour/contrib/rddsql/sddsqlt3/sddsqlt3.c
    * moved SDD backed specific data from SQLCONNECTION and SQLAREA
      to a separate SDDCONN and SDDDATA structures. This helps to 
      avoid fake type casting and warinings like "break 
      strict-aliasing rules".
    * 1 -> HB_TRUE
    * formatting, style
    ! connection array is now array of connection pointers. This 
      fixes GPF if many connections are created and connection 
      table has to be reallocated

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/hbrddsql.h
    trunk/harbour/contrib/rddsql/sddfb/sddfb.c
    trunk/harbour/contrib/rddsql/sddmy/sddmy.c
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/contrib/rddsql/sddpg/sddpg.c
    trunk/harbour/contrib/rddsql/sddsqlt3/sddsqlt3.c
    trunk/harbour/contrib/rddsql/sqlbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Tue Mar 23 07:05:05 2010
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar 23 07:05:14 2010
Subject: [Harbour] To move sdd* contribs to contrib root
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CF9@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CF9@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CFC@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> It'd be generic but very slow to parse potentially
> infinite or deep dir structures routinely, just to
> find some matching .hbc files.

Maybe "recursive" was not the right word. What I meant
was that you set up some cfg file to look at dir1, dir2 and dir3
(like you do it today). and the in dir2 there is another file that
can tell you to look at dir2\sub1, dir2\sub2, ... and so on

So you just look at places someone tell you, but in each place
there is an option to add more places to scan (usually a sub dir).

This way your top level cfg file (or equivalent) does not need to
know about structure of contrib/3rd party tree.

>> As for packaging, maybe a section could be added to the GNU Makefiles?
>> (clear, install, packaging, ...) that would take care of special anomalies if
>> needed.

> Maybe, and it could potentially be better, since
> it would work regardless of packaging, I don't
> know who will do it though. It would also need to
> maintain a large number of additional Makefile,
> so just for the sake of winuni packaging, the
> work seems overkill.

Can't it be part of INSTALL section? you already copy all bunch
of files to some destination directories. Or just add new PACKAGING
section to current Makefile(s) that are relevant?

I don't know the actual impelemtation so these are just abstact ideas.

> Off: They just stole my car, damn it.

Auuch!

  Chen.

________________________________________
From: Chen Kedem
Sent: 23 March 2010 11:01
To: Harbour mail-list
Subject: Re: [Harbour] To move sdd* contribs to contrib root

>> so I guess you want to remove the second one.
>> But can you explain what above lines does?
>> I was always wondering why I have it in hbmk.cfg
>> when I do not have any of above directories in
>> my Harbour installation.

> It's a pending issue/question. Above will define
> search path for .hbc files, so they are found
> automatically without speccing full dir for them
> in app-level make files.

Maybe there could be a way to do it recursively like GNU make?
Given a hbc|cfg|... file on a directory that can have instruction
about sub-dir processing. This can make it generic solution for
hbmk2

As for packaging, maybe a section could be added to the GNU Makefiles?
(clear, install, packaging, ...) that would take care of special anomalies if
needed.

Just an idea

  Chen.
From dbtopas at dbtopas.lt  Tue Mar 23 07:06:24 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar 23 07:06:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14219] trunk/harbour
In-Reply-To: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <4BA8A0B0.6030001@dbtopas.lt>

Hi,


snaiperis@users.sourceforge.net wrote:
> 2010-03-23 12:55 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>   * harbour/contrib/rddsql/sddfb/sddfb.c

I've committed, but some requested things does not work, i.e. sddfb.

    isc_start_transaction( status, &hTrans, 1, &hDb, 0, NULL ) returns 
error and does not create transaction handle, though, value of hTrans is 
changed. status array has number in status[0] that is not equal to any 
error code and are different on different function calls, status[1] is 
equal 0. In case of real error reporting firebird status[0] is equal 1, 
and status[1] contains error code. I've spend half of a day trying to 
find a reason yesterday, but without any success.

Perhaps, I'll try to reinstall new version of FB, unless someone more 
familiar with FB will solve the issue.


Regards,
Mindaugas

From druzus at users.sourceforge.net  Tue Mar 23 10:20:37 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 23 10:20:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14220] trunk/harbour
Message-ID: <E1Nu4yD-0005jW-QU@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14220
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14220&view=rev
Author:   druzus
Date:     2010-03-23 14:20:25 +0000 (Tue, 23 Mar 2010)

Log Message:
-----------
2010-03-23 15:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbxvm.h
  * harbour/src/vm/hvm.c
    + added hb_xvmPushAliasedFieldExt() and hb_xvmPopAliasedFieldExt()

  * harbour/src/compiler/gencc.c
    % use hb_xvmPushAliasedFieldExt() and hb_xvmPopAliasedFieldExt()
      to optimize code generated for <alias> -> <name> expressions
      in -gc3 mode

  * harbour/include/hbsetup.h
    + added _HB_INLINE_ macro

  * harbour/include/hbatomic.h
    + added HB_SPINLOCK_TRY(l)
    + added support for recursive spin locks

  * harbour/src/vm/fm.c
    * use _HB_INLINE_

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/include/hbxvm.h
    trunk/harbour/src/compiler/gencc.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 23 10:44:06 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 23 10:44:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14220] trunk/harbour
In-Reply-To: <E1Nu4yD-0005jW-QU@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1Nu4yD-0005jW-QU@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <54932EA7-E611-43DB-9CA9-7F67E737EE89@syenar.hu>

Thanks Przemek.

I think it's fine to "waste" one pcode for this 
purpose also for -gc0-2 modes, it's a very common 
kind of expression, and mostly found in app level 
code, where -gc3 is usually not the most optimal 
option.

Brgds,
Viktor

On 2010 Mar 23, at 15:20, druzus@users.sourceforge.net wrote:

> Revision: 14220
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14220&view=rev
> Author:   druzus
> Date:     2010-03-23 14:20:25 +0000 (Tue, 23 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-23 15:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbxvm.h
>  * harbour/src/vm/hvm.c
>    + added hb_xvmPushAliasedFieldExt() and hb_xvmPopAliasedFieldExt()
> 
>  * harbour/src/compiler/gencc.c
>    % use hb_xvmPushAliasedFieldExt() and hb_xvmPopAliasedFieldExt()
>      to optimize code generated for <alias> -> <name> expressions
>      in -gc3 mode
> 
>  * harbour/include/hbsetup.h
>    + added _HB_INLINE_ macro
> 
>  * harbour/include/hbatomic.h
>    + added HB_SPINLOCK_TRY(l)
>    + added support for recursive spin locks
> 
>  * harbour/src/vm/fm.c
>    * use _HB_INLINE_
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbatomic.h
>    trunk/harbour/include/hbsetup.h
>    trunk/harbour/include/hbxvm.h
>    trunk/harbour/src/compiler/gencc.c
>    trunk/harbour/src/vm/fm.c
>    trunk/harbour/src/vm/hvm.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Mar 23 10:51:12 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 23 10:51:24 2010
Subject: [Harbour] To move sdd* contribs to contrib root
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CFC@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D90CF8CF9@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D90CF8CFC@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <C977365C-CED0-40F7-A4E2-FB55FF6882BA@syenar.hu>

> Maybe "recursive" was not the right word. What I meant
> was that you set up some cfg file to look at dir1, dir2 and dir3
> (like you do it today). and the in dir2 there is another file that
> can tell you to look at dir2\sub1, dir2\sub2, ... and so on
> 
> So you just look at places someone tell you, but in each place
> there is an option to add more places to scan (usually a sub dir).

There is option to do this, it just won't be generic.
(I just deleted such solution yesterday)

>>> As for packaging, maybe a section could be added to the GNU Makefiles?
>>> (clear, install, packaging, ...) that would take care of special anomalies if
>>> needed.
> 
>> Maybe, and it could potentially be better, since
>> it would work regardless of packaging, I don't
>> know who will do it though. It would also need to
>> maintain a large number of additional Makefile,
>> so just for the sake of winuni packaging, the
>> work seems overkill.
> 
> Can't it be part of INSTALL section? you already copy all bunch
> of files to some destination directories. Or just add new PACKAGING
> section to current Makefile(s) that are relevant?
> 
> I don't know the actual impelemtation so these are just abstact ideas.

Even installing 'doc' dir is full of ugly hacks, so 
I'm not sure how to create such system for misc files 
spanning to arbitrary dirs, while keeping it maintainable.

Brgds,
Viktor

From clipper at wssk.wroc.pl  Tue Mar 23 10:58:31 2010
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Tue Mar 23 10:59:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14219] trunk/harbour
In-Reply-To: <4BA8A0B0.6030001@dbtopas.lt>
References: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BA8A0B0.6030001@dbtopas.lt>
Message-ID: <187275916238.20100323155831@wssk.wroc.pl>

Hello Mindaugas,

Tuesday, March 23, 2010, 12:06:24 PM, you wrote:

MK> Hi,
MK> snaiperis@users.sourceforge.net wrote:
>> 2010-03-23 12:55 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>>   * harbour/contrib/rddsql/sddfb/sddfb.c

MK> I've committed, but some requested things does not work, i.e. sddfb.

MK>     isc_start_transaction( status, &hTrans, 1, &hDb, 0, NULL ) returns 
MK> error and does not create transaction handle, though, value of hTrans is 
MK> changed. status array has number in status[0] that is not equal to any 
MK> error code and are different on different function calls, status[1] is 
MK> equal 0. In case of real error reporting firebird status[0] is equal 1, 
MK> and status[1] contains error code. I've spend half of a day trying to 
MK> find a reason yesterday, but without any success.

MK> Perhaps, I'll try to reinstall new version of FB, unless someone more 
MK> familiar with FB will solve the issue.

I can only confirm ;-( persistent problems with sddfb and returned
problem with "neverending loop" after error, some days ago fixed by Viktor
(AFAIR)

I can only help with FB Api Guide at
http://www.firebirdsql.org/manual/ufb-cs-clientlib.html

We can see some differences with guide and also between previous version
from fbirddd.c regarding do sddfb.c and API guide

for example:

[guide]
Setting up an error status vector
Most API functions return status information that indicates success or failure. The
information returned is derived from the second array element of the error status vector,
where InterBase reports error conditions. The error status vector is declared in
applications as an array of 20 long integers, using the following syntax:
#include <ibase.h>
. . .
ISC_STATUS status_vector[20];
ISC_STATUS is a #define in ibase.h provided for programing convenience and platform
.....

[fbirddd.c]
static HB_ERRCODE fbConnect( SQLDDCONNECTION * pConnection, PHB_ITEM pItem )
{
   ISC_STATUS       status[ 5 ];//<-- only 5 ??

 
[sddfb.c]
static HB_ERRCODE fbConnect( SQLDDCONNECTION * pConnection, PHB_ITEM pItem )
{
   ISC_STATUS_ARRAY status;   // but not ISC_STATUS

   
.. but I`m not sure if this is a reason of troubles ...


 
-- 
Best regards,
 Jacek                            mailto:clipper@wssk.wroc.pl


From harbour.01 at syenar.hu  Tue Mar 23 11:09:56 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 23 11:10:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14219] trunk/harbour
In-Reply-To: <187275916238.20100323155831@wssk.wroc.pl>
References: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BA8A0B0.6030001@dbtopas.lt>
	<187275916238.20100323155831@wssk.wroc.pl>
Message-ID: <4072A3C6-CB42-4351-B83C-79A3AD2CFAF2@syenar.hu>

From ibase.h:
---
#define ISC_STATUS_LENGTH       20
typedef ISC_STATUS ISC_STATUS_ARRAY[ISC_STATUS_LENGTH];
---

IOW, ISC_STATUS_ARRAY is nothing more than an array 
of ISC_STATUSes predefined to required by FB API length.

Can you test if hbfbird works with similar SQL command?
They are using the same API, so if that one works, it's 
only a matter of finding the difference.

Brgds,
Viktor

On 2010 Mar 23, at 15:58, Jacek Kubica wrote:

> Hello Mindaugas,
> 
> Tuesday, March 23, 2010, 12:06:24 PM, you wrote:
> 
> MK> Hi,
> MK> snaiperis@users.sourceforge.net wrote:
>>> 2010-03-23 12:55 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>>>  * harbour/contrib/rddsql/sddfb/sddfb.c
> 
> MK> I've committed, but some requested things does not work, i.e. sddfb.
> 
> MK>     isc_start_transaction( status, &hTrans, 1, &hDb, 0, NULL ) returns 
> MK> error and does not create transaction handle, though, value of hTrans is 
> MK> changed. status array has number in status[0] that is not equal to any 
> MK> error code and are different on different function calls, status[1] is 
> MK> equal 0. In case of real error reporting firebird status[0] is equal 1, 
> MK> and status[1] contains error code. I've spend half of a day trying to 
> MK> find a reason yesterday, but without any success.
> 
> MK> Perhaps, I'll try to reinstall new version of FB, unless someone more 
> MK> familiar with FB will solve the issue.
> 
> I can only confirm ;-( persistent problems with sddfb and returned
> problem with "neverending loop" after error, some days ago fixed by Viktor
> (AFAIR)
> 
> I can only help with FB Api Guide at
> http://www.firebirdsql.org/manual/ufb-cs-clientlib.html
> 
> We can see some differences with guide and also between previous version
> from fbirddd.c regarding do sddfb.c and API guide
> 
> for example:
> 
> [guide]
> Setting up an error status vector
> Most API functions return status information that indicates success or failure. The
> information returned is derived from the second array element of the error status vector,
> where InterBase reports error conditions. The error status vector is declared in
> applications as an array of 20 long integers, using the following syntax:
> #include <ibase.h>
> . . .
> ISC_STATUS status_vector[20];
> ISC_STATUS is a #define in ibase.h provided for programing convenience and platform
> .....
> 
> [fbirddd.c]
> static HB_ERRCODE fbConnect( SQLDDCONNECTION * pConnection, PHB_ITEM pItem )
> {
>   ISC_STATUS       status[ 5 ];//<-- only 5 ??
> 
> 
> [sddfb.c]
> static HB_ERRCODE fbConnect( SQLDDCONNECTION * pConnection, PHB_ITEM pItem )
> {
>   ISC_STATUS_ARRAY status;   // but not ISC_STATUS
> 
> 
> .. but I`m not sure if this is a reason of troubles ...
> 
> 
> 
> -- 
> Best regards,
> Jacek                            mailto:clipper@wssk.wroc.pl
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Tue Mar 23 12:55:45 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar 23 12:56:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14219] trunk/harbour
In-Reply-To: <187275916238.20100323155831@wssk.wroc.pl>
References: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>	<4BA8A0B0.6030001@dbtopas.lt>
	<187275916238.20100323155831@wssk.wroc.pl>
Message-ID: <4BA8F291.40507@dbtopas.lt>

Hi,


Jacek Kubica wrote:
> I can only confirm ;-( persistent problems with sddfb and returned
> problem with "neverending loop" after error, some days ago fixed by Viktor
> (AFAIR)

Can you tell me more details about "neverending loop"?


Regards,
Mindaugas
From clipper at wssk.wroc.pl  Tue Mar 23 13:22:56 2010
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Tue Mar 23 13:23:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14219] trunk/harbour
In-Reply-To: <4BA8F291.40507@dbtopas.lt>
References: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BA8A0B0.6030001@dbtopas.lt>
	<187275916238.20100323155831@wssk.wroc.pl>
	<4BA8F291.40507@dbtopas.lt>
Message-ID: <119284581579.20100323182256@wssk.wroc.pl>

Hello Mindaugas,

Tuesday, March 23, 2010, 5:55:45 PM, you wrote:

MK> Hi,
MK> Jacek Kubica wrote:
>> I can only confirm ;-( persistent problems with sddfb and returned
>> problem with "neverending loop" after error, some days ago fixed by Viktor
>> (AFAIR)

MK> Can you tell me more details about "neverending loop"?

After error  program don`t stop (do not exit to command prompt),
but on stdout (and in hb_log) we can see repeated (neverending) something like:

Application Internal Error - c:\Harbour\contrib\rddsql\sddfb\tests\test1.exe
Terminated at: 2010.03.23 13:46:22
Unrecoverable error 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:10019E1C
    EAX:00000001  EBX:0012FED0  ECX:0012FED0  EDX:00000001
    ESI:0012FED0  EDI:004C71C8  EBP:0012FF20
    CS:EIP:001B:10019E1C  SS:ESP:0023:0012FE64
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010202
    CS:EIP: 8B 08 51 E8 0C D2 FF FF 8B F8 83 C4 04 85 FF 0F
    SS:ESP: 004C71C8 004B8858 002DAAC4 004CD1FC 00000358 002D10EC 0000000F 002F0034 0012FE94 0012FEAC 0012FEA0 0041AF49 002D706C 004B8C70 002F000C 0012FEC0

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
    10019E1C 0012FF20   0012FF34 00402C7C 002DAAC4 00000000 00000000
    00402C7C 0012FF34   0012FF54 00498D39 002D9ABC 00000000 004B819C 7FFD6000 00405BEC 00430290
    00498D39 0012FF54   0012FF80 004B5B82 00000001 002D0148 002D0A48 00000000 00000000 7FFD6000 7FFD6000 0012FFC4
    004B5B82 0012FF80   0012FF94 00000000 004B819C 7587D0E9 7FFD6000
    00000000 0012FF94   0012FFD4 76FD19BB 7FFD6000 78EF4258 00000000 00000000 7FFD6000 00000000 00000000 00000000
    76FD19BB 0012FFD4   0012FFEC 76FD198E 00401000 7FFD6000 00000000 00000000


Modules:
0x00400000 0x000DE000 c:\Harbour\contrib\rddsql\sddfb\tests\test1.exe
0x76F90000 0x00127000 C:\Windows\system32\ntdll.dll
0x75830000 0x000DC000 C:\Windows\system32\kernel32.dll
0x10000000 0x00065000 c:\Harbour\contrib\rddsql\sddfb\tests\FBCLIENT.DLL
0x75FA0000 0x0002D000 C:\Windows\system32\WS2_32.dll
0x75E20000 0x000AA000 C:\Windows\system32\msvcrt.dll
0x76D80000 0x000C6000 C:\Windows\system32\ADVAPI32.dll
0x75ED0000 0x000C3000 C:\Windows\system32\RPCRT4.dll
0x770D0000 0x00006000 C:\Windows\system32\NSI.dll
0x74F50000 0x00014000 C:\Windows\system32\MPR.dll
0x75C50000 0x0009D000 C:\Windows\system32\USER32.dll
0x77100000 0x0004B000 C:\Windows\system32\GDI32.dll
0x7C340000 0x00056000 C:\Windows\system32\MSVCR71.dll
0x71B70000 0x0001E000 C:\Windows\system32\ShimEng.dll
0x75470000 0x0002C000 C:\Windows\system32\apphelp.dll
0x716B0000 0x00088000 C:\Windows\AppPatch\AcLayers.DLL
0x76270000 0x00B10000 C:\Windows\system32\SHELL32.dll
0x75DC0000 0x00059000 C:\Windows\system32\SHLWAPI.dll
0x75990000 0x00145000 C:\Windows\system32\ole32.dll
0x77160000 0x0008D000 C:\Windows\system32\OLEAUT32.dll
0x754F0000 0x0001E000 C:\Windows\system32\USERENV.dll
0x754D0000 0x00014000 C:\Windows\system32\Secur32.dll
0x72800000 0x00042000 C:\Windows\system32\WINSPOOL.DRV
0x770E0000 0x0001E000 C:\Windows\system32\IMM32.DLL
0x75CF0000 0x000C8000 C:\Windows\system32\MSCTF.dll
0x770C0000 0x00009000 C:\Windows\system32\LPK.DLL
0x75BD0000 0x0007D000 C:\Windows\system32\USP10.dll
0x6C1B0000 0x00005000 C:\Windows\system32\avgrsstx.dll
0x743E0000 0x0019E000 C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_6.0.6002.18005_none_5cb72f96088b0de0\comctl32.dll
0x75130000 0x00021000 C:\Windows\system32\NTMARTA.DLL
0x76000000 0x00049000 C:\Windows\system32\WLDAP32.dll
0x755A0000 0x00007000 C:\Windows\system32\PSAPI.DLL
0x75110000 0x00011000 C:\Windows\system32\SAMLIB.dll

------------------------------------------------------------------------
Application Internal Error - c:\Harbour\contrib\rddsql\sddfb\tests\test1.exe
Terminated at: 2010.03.23 13:46:22
Unrecoverable error 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:10019E1C
    EAX:00000001  EBX:0012FED0  ECX:0012FED0  EDX:00000001
    ESI:0012FED0  EDI:004C71C8  EBP:0012FF20
    CS:EIP:001B:10019E1C  SS:ESP:0023:0012FE64
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010202
    CS:EIP: 8B 08 51 E8 0C D2 FF FF 8B F8 83 C4 04 85 FF 0F
    SS:ESP: 004C71C8 004B8858 002DAAC4 004CD1FC 00000358 002D10EC 0000000F 002F0034 0012FE94 0012FEAC 0012FEA0 0041AF49 002D706C 004B8C70 002F000C 0012FEC0

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
    10019E1C 0012FF20   0012FF34 00402C7C 002DAAC4 00000000 00000000
    00402C7C 0012FF34   0012FF54 00498D39 002D9ABC 00000000 004B819C 7FFD6000 00405BEC 00430290
    00498D39 0012FF54   0012FF80 004B5B82 00000001 002D0148 002D0A48 00000000 00000000 7FFD6000 7FFD6000 0012FFC4
    004B5B82 0012FF80   0012FF94 00000000 004B819C 7587D0E9 7FFD6000
    00000000 0012FF94   0012FFD4 76FD19BB 7FFD6000 78EF4258 00000000 00000000 7FFD6000 00000000 00000000 00000000
    76FD19BB 0012FFD4   0012FFEC 76FD198E 00401000 7FFD6000 00000000 00000000


Modules:
0x00400000 0x000DE000 c:\Harbour\contrib\rddsql\sddfb\tests\test1.exe
0x76F90000 0x00127000 C:\Windows\system32\ntdll.dll
0x75830000 0x000DC000 C:\Windows\system32\kernel32.dll
0x10000000 0x00065000 c:\Harbour\contrib\rddsql\sddfb\tests\FBCLIENT.DLL
0x75FA0000 0x0002D000 C:\Windows\system32\WS2_32.dll
0x75E20000 0x000AA000 C:\Windows\system32\msvcrt.dll
0x76D80000 0x000C6000 C:\Windows\system32\ADVAPI32.dll
0x75ED0000 0x000C3000 C:\Windows\system32\RPCRT4.dll
0x770D0000 0x00006000 C:\Windows\system32\NSI.dll
0x74F50000 0x00014000 C:\Windows\system32\MPR.dll
0x75C50000 0x0009D000 C:\Windows\system32\USER32.dll
0x77100000 0x0004B000 C:\Windows\system32\GDI32.dll
0x7C340000 0x00056000 C:\Windows\system32\MSVCR71.dll
0x71B70000 0x0001E000 C:\Windows\system32\ShimEng.dll
0x75470000 0x0002C000 C:\Windows\system32\apphelp.dll
0x716B0000 0x00088000 C:\Windows\AppPatch\AcLayers.DLL
0x76270000 0x00B10000 C:\Windows\system32\SHELL32.dll
0x75DC0000 0x00059000 C:\Windows\system32\SHLWAPI.dll
0x75990000 0x00145000 C:\Windows\system32\ole32.dll
0x77160000 0x0008D000 C:\Windows\system32\OLEAUT32.dll
0x754F0000 0x0001E000 C:\Windows\system32\USERENV.dll
0x754D0000 0x00014000 C:\Windows\system32\Secur32.dll
0x72800000 0x00042000 C:\Windows\system32\WINSPOOL.DRV
0x770E0000 0x0001E000 C:\Windows\system32\IMM32.DLL
0x75CF0000 0x000C8000 C:\Windows\system32\MSCTF.dll
0x770C0000 0x00009000 C:\Windows\system32\LPK.DLL
0x75BD0000 0x0007D000 C:\Windows\system32\USP10.dll
0x6C1B0000 0x00005000 C:\Windows\system32\avgrsstx.dll
0x743E0000 0x0019E000 C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_6.0.6002.18005_none_5cb72f96088b0de0\comctl32.dll
0x75130000 0x00021000 C:\Windows\system32\NTMARTA.DLL
0x76000000 0x00049000 C:\Windows\system32\WLDAP32.dll
0x755A0000 0x00007000 C:\Windows\system32\PSAPI.DLL
0x75110000 0x00011000 C:\Windows\system32\SAMLIB.dll


and so on ....

Only closing console window can stopt it.

 I'm not 100% sure, but as far I remember it was fixed
 after:

2010-03-11 23:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddfb/sddfb.c
    ! Few cleanups in the FB RDDSQL interface (macro and type usage).
    ; It's not an attempt to fix recently reported bugs on the list.
 
-- 
Best regards,

 Jacek Kubica


From dbtopas at dbtopas.lt  Tue Mar 23 13:23:58 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar 23 13:24:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14219] trunk/harbour
In-Reply-To: <4072A3C6-CB42-4351-B83C-79A3AD2CFAF2@syenar.hu>
References: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>	<4BA8A0B0.6030001@dbtopas.lt>	<187275916238.20100323155831@wssk.wroc.pl>
	<4072A3C6-CB42-4351-B83C-79A3AD2CFAF2@syenar.hu>
Message-ID: <4BA8F92E.6080908@dbtopas.lt>

Viktor Szak?ts wrote:
> Can you test if hbfbird works with similar SQL command?
> They are using the same API, so if that one works, it's 
> only a matter of finding the difference.

Hi,


I have not noticed we have one more firebird contrib. Samples of hbfbird 
do not work for me.

---------------
C:\harbour\contrib\hbfbird\tests>simple.exe

       -904
Connecting...
can't format message 13:98 -- message file 
C:\harbour\contrib\hbfbird\firebird.msg not found
---------------
C:\harbour\contrib\hbfbird\tests>test.exe

       -904 can't format message 13:96 -- message file 
C:\harbour\contrib\hbfbird\firebird.msg not fo
und
Error:       -902 can't format message 13:98 -- message file 
C:\harbour\contrib\hbfbird\firebird.msg
  not found
---------------

Please, tell is anyone can run it without error - I'll try reinstall FB.


BTW, the following commit
2010-03-11 23:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/rddsql/sddfb/sddfb.c
     ! Few cleanups in the FB RDDSQL interface (macro and type usage).

was not a macro/type cleanup only, but also changed error codes.
Of cause, usage of status[1] looks a little ugly, but these errors are 
defined in firebird/include/iberror.h and are much more informative. 
See, http://www.firebirdsql.org/doc/contrib/fb_1_5_errorcodes.pdf
one SQL error code returned by isc_sqlcode() corresponds to many 
firebird error codes.

So, I'm going to revert this, but put error code processing into 
separate function, to keep code clear and be easy updateable.

[ In case isc_start_transaction() these error codes do not help, because 
error returned in status does not follow the "standard way" errors are 
returned. isc_sqlcode() returns -999, which actually means something 
like "unknown error". ]


Regards,
Mindaugas
From harbour.01 at syenar.hu  Tue Mar 23 13:37:13 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 23 13:37:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14219] trunk/harbour
In-Reply-To: <119284581579.20100323182256@wssk.wroc.pl>
References: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BA8A0B0.6030001@dbtopas.lt>
	<187275916238.20100323155831@wssk.wroc.pl>
	<4BA8F291.40507@dbtopas.lt>
	<119284581579.20100323182256@wssk.wroc.pl>
Message-ID: <623FB337-7FF0-42CC-BE22-77854A686942@syenar.hu>

Just to make it clear, my mentioned fix didn't target 
to fix anything like that. I didn't experience such 
loop. In fact I only cleaned some API calls along the 
experiences with hbfbird.

Brgds,
Viktor

On 2010 Mar 23, at 18:22, Jacek Kubica wrote:

> Hello Mindaugas,
> 
> Tuesday, March 23, 2010, 5:55:45 PM, you wrote:
> 
> MK> Hi,
> MK> Jacek Kubica wrote:
>>> I can only confirm ;-( persistent problems with sddfb and returned
>>> problem with "neverending loop" after error, some days ago fixed by Viktor
>>> (AFAIR)
> 
> MK> Can you tell me more details about "neverending loop"?
> 
> After error  program don`t stop (do not exit to command prompt),
> but on stdout (and in hb_log) we can see repeated (neverending) something like:
> 
> Application Internal Error - c:\Harbour\contrib\rddsql\sddfb\tests\test1.exe
> Terminated at: 2010.03.23 13:46:22
> Unrecoverable error 6005: Exception error: 
> 
>    Exception Code:C0000005
>    Exception Address:10019E1C
>    EAX:00000001  EBX:0012FED0  ECX:0012FED0  EDX:00000001
>    ESI:0012FED0  EDI:004C71C8  EBP:0012FF20
>    CS:EIP:001B:10019E1C  SS:ESP:0023:0012FE64
>    DS:0023  ES:0023  FS:003B  GS:0000
>    Flags:00010202
>    CS:EIP: 8B 08 51 E8 0C D2 FF FF 8B F8 83 C4 04 85 FF 0F
>    SS:ESP: 004C71C8 004B8858 002DAAC4 004CD1FC 00000358 002D10EC 0000000F 002F0034 0012FE94 0012FEAC 0012FEA0 0041AF49 002D706C 004B8C70 002F000C 0012FEC0
> 
>    C stack:
>    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
>    10019E1C 0012FF20   0012FF34 00402C7C 002DAAC4 00000000 00000000
>    00402C7C 0012FF34   0012FF54 00498D39 002D9ABC 00000000 004B819C 7FFD6000 00405BEC 00430290
>    00498D39 0012FF54   0012FF80 004B5B82 00000001 002D0148 002D0A48 00000000 00000000 7FFD6000 7FFD6000 0012FFC4
>    004B5B82 0012FF80   0012FF94 00000000 004B819C 7587D0E9 7FFD6000
>    00000000 0012FF94   0012FFD4 76FD19BB 7FFD6000 78EF4258 00000000 00000000 7FFD6000 00000000 00000000 00000000
>    76FD19BB 0012FFD4   0012FFEC 76FD198E 00401000 7FFD6000 00000000 00000000
> 
> 
> Modules:
> 0x00400000 0x000DE000 c:\Harbour\contrib\rddsql\sddfb\tests\test1.exe
> 0x76F90000 0x00127000 C:\Windows\system32\ntdll.dll
> 0x75830000 0x000DC000 C:\Windows\system32\kernel32.dll
> 0x10000000 0x00065000 c:\Harbour\contrib\rddsql\sddfb\tests\FBCLIENT.DLL
> 0x75FA0000 0x0002D000 C:\Windows\system32\WS2_32.dll
> 0x75E20000 0x000AA000 C:\Windows\system32\msvcrt.dll
> 0x76D80000 0x000C6000 C:\Windows\system32\ADVAPI32.dll
> 0x75ED0000 0x000C3000 C:\Windows\system32\RPCRT4.dll
> 0x770D0000 0x00006000 C:\Windows\system32\NSI.dll
> 0x74F50000 0x00014000 C:\Windows\system32\MPR.dll
> 0x75C50000 0x0009D000 C:\Windows\system32\USER32.dll
> 0x77100000 0x0004B000 C:\Windows\system32\GDI32.dll
> 0x7C340000 0x00056000 C:\Windows\system32\MSVCR71.dll
> 0x71B70000 0x0001E000 C:\Windows\system32\ShimEng.dll
> 0x75470000 0x0002C000 C:\Windows\system32\apphelp.dll
> 0x716B0000 0x00088000 C:\Windows\AppPatch\AcLayers.DLL
> 0x76270000 0x00B10000 C:\Windows\system32\SHELL32.dll
> 0x75DC0000 0x00059000 C:\Windows\system32\SHLWAPI.dll
> 0x75990000 0x00145000 C:\Windows\system32\ole32.dll
> 0x77160000 0x0008D000 C:\Windows\system32\OLEAUT32.dll
> 0x754F0000 0x0001E000 C:\Windows\system32\USERENV.dll
> 0x754D0000 0x00014000 C:\Windows\system32\Secur32.dll
> 0x72800000 0x00042000 C:\Windows\system32\WINSPOOL.DRV
> 0x770E0000 0x0001E000 C:\Windows\system32\IMM32.DLL
> 0x75CF0000 0x000C8000 C:\Windows\system32\MSCTF.dll
> 0x770C0000 0x00009000 C:\Windows\system32\LPK.DLL
> 0x75BD0000 0x0007D000 C:\Windows\system32\USP10.dll
> 0x6C1B0000 0x00005000 C:\Windows\system32\avgrsstx.dll
> 0x743E0000 0x0019E000 C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_6.0.6002.18005_none_5cb72f96088b0de0\comctl32.dll
> 0x75130000 0x00021000 C:\Windows\system32\NTMARTA.DLL
> 0x76000000 0x00049000 C:\Windows\system32\WLDAP32.dll
> 0x755A0000 0x00007000 C:\Windows\system32\PSAPI.DLL
> 0x75110000 0x00011000 C:\Windows\system32\SAMLIB.dll
> 
> ------------------------------------------------------------------------
> Application Internal Error - c:\Harbour\contrib\rddsql\sddfb\tests\test1.exe
> Terminated at: 2010.03.23 13:46:22
> Unrecoverable error 6005: Exception error: 
> 
>    Exception Code:C0000005
>    Exception Address:10019E1C
>    EAX:00000001  EBX:0012FED0  ECX:0012FED0  EDX:00000001
>    ESI:0012FED0  EDI:004C71C8  EBP:0012FF20
>    CS:EIP:001B:10019E1C  SS:ESP:0023:0012FE64
>    DS:0023  ES:0023  FS:003B  GS:0000
>    Flags:00010202
>    CS:EIP: 8B 08 51 E8 0C D2 FF FF 8B F8 83 C4 04 85 FF 0F
>    SS:ESP: 004C71C8 004B8858 002DAAC4 004CD1FC 00000358 002D10EC 0000000F 002F0034 0012FE94 0012FEAC 0012FEA0 0041AF49 002D706C 004B8C70 002F000C 0012FEC0
> 
>    C stack:
>    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
>    10019E1C 0012FF20   0012FF34 00402C7C 002DAAC4 00000000 00000000
>    00402C7C 0012FF34   0012FF54 00498D39 002D9ABC 00000000 004B819C 7FFD6000 00405BEC 00430290
>    00498D39 0012FF54   0012FF80 004B5B82 00000001 002D0148 002D0A48 00000000 00000000 7FFD6000 7FFD6000 0012FFC4
>    004B5B82 0012FF80   0012FF94 00000000 004B819C 7587D0E9 7FFD6000
>    00000000 0012FF94   0012FFD4 76FD19BB 7FFD6000 78EF4258 00000000 00000000 7FFD6000 00000000 00000000 00000000
>    76FD19BB 0012FFD4   0012FFEC 76FD198E 00401000 7FFD6000 00000000 00000000
> 
> 
> Modules:
> 0x00400000 0x000DE000 c:\Harbour\contrib\rddsql\sddfb\tests\test1.exe
> 0x76F90000 0x00127000 C:\Windows\system32\ntdll.dll
> 0x75830000 0x000DC000 C:\Windows\system32\kernel32.dll
> 0x10000000 0x00065000 c:\Harbour\contrib\rddsql\sddfb\tests\FBCLIENT.DLL
> 0x75FA0000 0x0002D000 C:\Windows\system32\WS2_32.dll
> 0x75E20000 0x000AA000 C:\Windows\system32\msvcrt.dll
> 0x76D80000 0x000C6000 C:\Windows\system32\ADVAPI32.dll
> 0x75ED0000 0x000C3000 C:\Windows\system32\RPCRT4.dll
> 0x770D0000 0x00006000 C:\Windows\system32\NSI.dll
> 0x74F50000 0x00014000 C:\Windows\system32\MPR.dll
> 0x75C50000 0x0009D000 C:\Windows\system32\USER32.dll
> 0x77100000 0x0004B000 C:\Windows\system32\GDI32.dll
> 0x7C340000 0x00056000 C:\Windows\system32\MSVCR71.dll
> 0x71B70000 0x0001E000 C:\Windows\system32\ShimEng.dll
> 0x75470000 0x0002C000 C:\Windows\system32\apphelp.dll
> 0x716B0000 0x00088000 C:\Windows\AppPatch\AcLayers.DLL
> 0x76270000 0x00B10000 C:\Windows\system32\SHELL32.dll
> 0x75DC0000 0x00059000 C:\Windows\system32\SHLWAPI.dll
> 0x75990000 0x00145000 C:\Windows\system32\ole32.dll
> 0x77160000 0x0008D000 C:\Windows\system32\OLEAUT32.dll
> 0x754F0000 0x0001E000 C:\Windows\system32\USERENV.dll
> 0x754D0000 0x00014000 C:\Windows\system32\Secur32.dll
> 0x72800000 0x00042000 C:\Windows\system32\WINSPOOL.DRV
> 0x770E0000 0x0001E000 C:\Windows\system32\IMM32.DLL
> 0x75CF0000 0x000C8000 C:\Windows\system32\MSCTF.dll
> 0x770C0000 0x00009000 C:\Windows\system32\LPK.DLL
> 0x75BD0000 0x0007D000 C:\Windows\system32\USP10.dll
> 0x6C1B0000 0x00005000 C:\Windows\system32\avgrsstx.dll
> 0x743E0000 0x0019E000 C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_6.0.6002.18005_none_5cb72f96088b0de0\comctl32.dll
> 0x75130000 0x00021000 C:\Windows\system32\NTMARTA.DLL
> 0x76000000 0x00049000 C:\Windows\system32\WLDAP32.dll
> 0x755A0000 0x00007000 C:\Windows\system32\PSAPI.DLL
> 0x75110000 0x00011000 C:\Windows\system32\SAMLIB.dll
> 
> 
> and so on ....
> 
> Only closing console window can stopt it.
> 
> I'm not 100% sure, but as far I remember it was fixed
> after:
> 
> 2010-03-11 23:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/rddsql/sddfb/sddfb.c
>    ! Few cleanups in the FB RDDSQL interface (macro and type usage).
>    ; It's not an attempt to fix recently reported bugs on the list.
> 
> -- 
> Best regards,
> 
> Jacek Kubica
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Mar 23 13:38:29 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 23 13:38:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14219] trunk/harbour
In-Reply-To: <4BA8F92E.6080908@dbtopas.lt>
References: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>	<4BA8A0B0.6030001@dbtopas.lt>	<187275916238.20100323155831@wssk.wroc.pl>
	<4072A3C6-CB42-4351-B83C-79A3AD2CFAF2@syenar.hu>
	<4BA8F92E.6080908@dbtopas.lt>
Message-ID: <ED3DF951-FD75-4763-AD7C-89FF9B89D7C4@syenar.hu>

> C:\harbour\contrib\hbfbird\tests>simple.exe
> 
>      -904
> Connecting...
> can't format message 13:98 -- message file C:\harbour\contrib\hbfbird\firebird.msg not found
> ---------------
> C:\harbour\contrib\hbfbird\tests>test.exe
> 
>      -904 can't format message 13:96 -- message file C:\harbour\contrib\hbfbird\firebird.msg not fo
> und
> Error:       -902 can't format message 13:98 -- message file C:\harbour\contrib\hbfbird\firebird.msg
> not found
> ---------------
> 
> Please, tell is anyone can run it without error - I'll try reinstall FB.

Above is result of fb configuration error, the .dll needs 
some extra files to display the real error description.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Tue Mar 23 13:39:06 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar 23 13:39:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14220] trunk/harbour
In-Reply-To: <E1Nu4yD-0005jW-QU@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1Nu4yD-0005jW-QU@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <4BA8FCBA.1020102@dbtopas.lt>

> 2010-03-23 15:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/include/hbatomic.h
>     + added HB_SPINLOCK_TRY(l)
>     + added support for recursive spin locks

Hi,


I'm interested why sl parameter in hb_spinlock_try_r() (hbatomic.h#486) 
is used in brackets. It's a function, it's not the macro define. Is it 
just copy-paste typo, or has some meaning?


Regards,
Mindaugas
From druzus at acn.waw.pl  Tue Mar 23 15:48:53 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 23 15:49:00 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14220] trunk/harbour
In-Reply-To: <54932EA7-E611-43DB-9CA9-7F67E737EE89@syenar.hu>
References: <E1Nu4yD-0005jW-QU@sfp-svn-3.v30.ch3.sourceforge.com>
	<54932EA7-E611-43DB-9CA9-7F67E737EE89@syenar.hu>
Message-ID: <20100323194853.GA9135@linux-4bod.home.aster.pl>

On Tue, 23 Mar 2010, Szak?ts Viktor wrote:

Hi Viktor,

> I think it's fine to "waste" one pcode for this 
> purpose also for -gc0-2 modes, it's a very common 
> kind of expression, and mostly found in app level 
> code, where -gc3 is usually not the most optimal 
> option.

We will need two PCODES for PUSH and POP operations.
I'll add them but probably with few other ones so
I want to group such modifications in one commit.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Mar 23 15:49:20 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 23 15:59:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14220] trunk/harbour
In-Reply-To: <4BA8FCBA.1020102@dbtopas.lt>
References: <E1Nu4yD-0005jW-QU@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BA8FCBA.1020102@dbtopas.lt>
Message-ID: <20100323194920.GA9035@linux-4bod.home.aster.pl>

On Tue, 23 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> >2010-03-23 15:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >  * harbour/include/hbatomic.h
> >    + added HB_SPINLOCK_TRY(l)
> >    + added support for recursive spin locks
> I'm interested why sl parameter in hb_spinlock_try_r()
> (hbatomic.h#486) is used in brackets. It's a function, it's not the
> macro define. Is it just copy-paste typo, or has some meaning?

It's not a typo. This code is correct but the redundant parenthesis
in (sl) are results of workarounds for BCC. This compiler was not
able to inline this functions:

   static _HB_INLINE_ int hb_spinlock_try_r( struct hb_spinlock_r * sl )
   {
      HB_SPINLOCK_T * l = &sl->lock;
      if( *l != HB_SPINLOCK_INIT )
      {
         if( sl->thid == HB_THREAD_SELF() )
         {
            sl->count++;
            return 1;
         }
      }
      else if( HB_SPINLOCK_TRY( l ) )
      {
         sl->thid = HB_THREAD_SELF();
         sl->count = 1;
         return 1;
      }
      return 0;
   }

and was generating warning about it. The same was with
hb_spinlock_acquire_r(). Finally I converted the second
one to macro and introduced additional variable 'r' to
pacify the warnings. Anyhow maybe I'll change it to macro
to in the future so I left parenthesis encapsulating 'sl'
parameter.
BTW what pragma allows to disable this BCC warnings?
I do not like that I have to introduce such hacks so
I'd prefer to simply disable warnings in BCC builds.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar 23 17:13:40 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 23 17:14:10 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14220] trunk/harbour
In-Reply-To: <20100323194920.GA9035@linux-4bod.home.aster.pl>
References: <E1Nu4yD-0005jW-QU@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BA8FCBA.1020102@dbtopas.lt>
	<20100323194920.GA9035@linux-4bod.home.aster.pl>
Message-ID: <CC7D62C4-4E0F-40AD-94A7-54E8A30AEA1E@syenar.hu>

Hi,

> and was generating warning about it. The same was with
> hb_spinlock_acquire_r(). Finally I converted the second
> one to macro and introduced additional variable 'r' to
> pacify the warnings. Anyhow maybe I'll change it to macro
> to in the future so I left parenthesis encapsulating 'sl'
> parameter.
> BTW what pragma allows to disable this BCC warnings?
> I do not like that I have to introduce such hacks so
> I'd prefer to simply disable warnings in BCC builds.

Here is the full list of warning control options:

Option	Number (Alias)	Warning Message

-w-ali	-w-8086	Incorrect use of #pragma alias ?aliasName? = ?substitutename? (Default ON)
-wamb	-w8000	Ambiguous operators need parentheses (Default OFF)
-wamp	-w8001	Superfluous & with function (Default OFF)
-w-asc	-w-8002	Restarting compile using assembly (Default ON)
-wasm	-w8003	Unknown assembler instruction (Default OFF)
-w-aus	-w-8004	'identifier' is assigned a value that is never used (Default ON)

-wbbf	-w8005	Bit fields must be signed or unsigned int (Default OFF)
-w-bei	-w-8006	Initializing 'identifier' with 'identifier' (Default ON)
-w-big	-w-8007	Hexadecimal value contains more than three digits (Default ON)
-w-ccc	-w-8008	Condition is always true OR Condition is always false (Default ON)
-wcln	-w8009	Constant is long (Default OFF)
-w-cod	-w-8093	Incorrect use of #pragma codeseg (Default ON)

-w-com	-w-8010	Continuation character \ found in // comment (Default ON)
-w-cpt	-w-8011	Nonportable pointer comparison (Default ON)
-w-csu	-w-8012	Comparing signed and unsigned values (Default ON)
-wdef	-w8013	Possible use of 'identifier' before definition (Default OFF)
-w-dig	-w-8014	Declaration ignored (Default ON)
-w-dpu	-w-8015	Declare 'type' prior to use in prototype (Default ON)

-w-dsz	-w-8016	Array size for 'delete' ignored (Default ON)
-w-dup	-w-8017	Redefinition of 'macro' is not identical (Default ON)
-w-eas	-w-8018	Assigning ?type? to ?enum?  (Default ON)
-w-eff	-w-8019	Code has no effect (Default ON)
-w-ext	-w-8020	'identifier' is declared as both external and static (Default ON)
-w-hch	-w-8021	Handler for 'type1' Hidden by Previous Handler for 'type2' (Default ON)

-w-hid	-w-8022	'function1' hides virtual function 'function2' (Default ON)
-w-ias	-w-8023	Array variable 'identifier' is near (Default ON)
-w-ibc	-w-8024	Base class 'class1' is also a base class of 'class2' (Default ON)
-w-ifr	-w-8085	Function 'function' redefined as non-inline (Default ON)
-w-ill	-w-8025	Ill-formed pragma (Default ON)
-w-inl	-w-8026	Functions containing certain constructs are not expanded inline (Default ON)

-w-inl	-w-8027	Functions containing reserved words are not expanded inline (Default ON)
-w-lin	-w-8028	Temporary used to initialize 'identifier' (Default ON)
-w-lvc	-w-8029	Temporary used for parameter 'parameter' (Default ON)
-w-lvc	-w-8030	Temporary used for parameter 'parameter' in call to 'function' (Default ON)
-w-lvc	-w-8031	Temporary used for parameter number (Default ON)

-w-lvc	-w-8032	Temporary used for parameter number in call to 'function' (Default ON)
-w-mcs	-w-8096	Incorrect use of #pragma code_seg (Default ON)
-w-mes	-w-8095	Incorrect use of #pragma message (Default ON)
-w-mpc	-w-8033	Conversion to ?type? fails for members of virtual base ?base? (Default ON)
-w-mpd	-w-8034	Maximum precision used for member pointer type ?type? (Default ON)

-w-msg	-w-8035	User-defined warnings (Default ON)
-wnak	-w8036	Non-ANSI Keyword Used: 'keyword' (Default OFF)
(Note: Use of this option is required for ANSI conformance)
-w-ncf	-w-8037	Non-const function ?function? called for const object (Default ON)
-w-nci	-w-8038	Constant member 'identifier' is not initialized (Default ON)
-w-ncl	-w-8039	Constructor initializer list ignored (Default ON)

-w-nfd	-w-8040	Function body ignored (Default ON)
-w-ngu	-w-8041	Negating unsigned value (Default ON)
-w-nin	-w-8042	Initializer for object 'identifier' ignored (Default ON)
-w-nma	-w-8043	Macro definition ignored (Default ON)
-w-nmu	-w-8044	#undef directive ignored (Default ON)
-wnod	-w8045	No declaration for function 'function' (Default OFF)
-w-nop	-w-8046	Pragma option pop with no matching option push (Default ON)

-w-npp	-w-8083	Pragma pack pop with no matching pack push (Default ON)
-w-nsf	-w-8047	Declaration of static function 'function(...)' ignored (Default ON)
-w-nst	-w-8048	Use qualified name to access nested type 'type' (Default ON)
-w-ntd	-w-8049	Use '> >' for nested templates instead of '>>' (Default ON)
-w-nto	-w-8050	No type OBJ file present. Disabling external types option. (Default ON)

-w-nvf	-w-8051	Non-volatile function ?function? called for volatile object (Default ON)
-w-obi	-w-8052	Base initialization without a class name is now obsolete (Default ON)
-w-obs	-w-8053	'identifier' is obsolete (Default ON)
-w-ofp	-w-8054	Style of function definition is now obsolete (Default ON)
-w-onr	-w-8097	Not all options can be restored at this time (Default ON)
-w-osh	-w-8055	Possible overflow in shift operation (Default ON)

-w-ovf	-w-8056	Integer arithmetic overflow (Default ON)
-w-par	-w-8057	Parameter 'parameter' is never used (Default ON)
-w-pch	-w-8058	Cannot create pre-compiled header: ?header? (Default ON)
-w-pck	-w-8059	Structure packing size has changed (Default ON)
-w-pcm	-w-8094	Incorrect use of #pragma comment (Default ON)
-w-pia	-w-8060	Possibly incorrect assignment (Default ON)

-wpin	-w8061	Initialization is only partially bracketed (Default OFF)
-w-pow	-w-8062	Previous options and warnings not restored (Default ON)
-w-prc	-w-8084	Suggest parentheses to clarify precedence (Default OFF)
-w-pre	-w-8063	Overloaded prefix operator 'operator' used as a postfix operator (Default ON)
-w-pro	-w-8064	Call to function 'function' with no prototype (Default ON)
-w-pro	-w-8065	Call to function 'function' with no prototype (Default ON)

-w-rch	-w-8066	Unreachable code (Default ON)
-w-ret	-w-8067	Both return and return of a value used (Default ON)
-w-rng	-w-8068	Constant out of range in comparison (Default ON)
-w-rpt	-w-8069	Nonportable pointer conversion (Default ON)
-w-rvl	-w-8070	Function should return a value (Default ON)
-wsig	-w8071	Conversion may lose significant digits (Default OFF)
-w-spa	-w-8072	Suspicious pointer arithmetic (Default ON)

-w-stl	-w-8087	?operator==? must be publicly visible to be contained by a ?name? (Default OFF)
-w-stl	-w-8089	?operator<? must be publicly visible to be contained by a ?name? (Default OFF)
-w-stl	-w-8090	?operator<? must be publicly visible to be used by a ?name? (Default OFF)
-w-stl	-w-8091	?type? argument ?argument? passed to ?function? is a ?type? iterator. ?type? iterator required (Default OFF)
-w-stl	-w-8092	?type? argument ?argument? passed to ?function? is not an iterator. ?type? iterator required (Default OFF)

-wstu	-w8073	Undefined structure 'structure' (Default OFF)
-wstv	-w8074	Structure passed by value (Default OFF)
-w-sus	-w-8075	Suspicious pointer conversion (Default ON)
-w-tai	-w-8076	Template instance 'instance' is already instantiated (Default ON)
-w-tes	-w-8077	Explicitly specializing an explicitly specialized class member makes no sense (Default ON)
-w-thr	-w-8078	Throw expression violates exception specification (Default ON)

-wucp	-w8079	Mixing pointers to different 'char' types (Default OFF)
-wuse	-w8080	'identifier' declared but never used (Default OFF)
-w-voi	-w-8081	void functions may not return a value (Default ON)
-w-zdi	-w-8082	Division by zero (Default ON)

Brgds,
Viktor

From dougf at people.net.au  Tue Mar 23 18:25:29 2010
From: dougf at people.net.au (dougf@people.net.au)
Date: Tue Mar 23 18:24:42 2010
Subject: [Harbour] Suggest we consolidate discussions concerning ORM concept
Message-ID: <20637.1269383129@people.net.au>

 Hi all

 This topic seems to have separate discussions going on in the harbour and
harbour-users lists and the two seem rather disconnected.? I suggest that
we might all get a lot further if we consolidate the discussion into one
of the two lists.? At this stage the most important questions probably
relate to what users may or may not want, so on that basis I would suggest
the harbour-users list but I would be happy either way.

 If we were to develop an "ORM" or "OODBMS" or whatever you want to call
such a thing it shouldn't require any change to the xBase language as
currently implemented.

 I am no software theorist but I have played with an OO database - is that
an ORM? - and in my opinion such an approach does provide advantages over
what is already implemented in the xBase language.? These presumably
include:

 application client receives data in a more readily usable format
 "scatter gather" (I think that is what people call it) happens
automatically
 automate much of the process of persistence (eg object id / primary key
allocation)
 application can make a single request to persist an object that contains
other objects (cf multiple SQL statements if using an SQL based data
server)
 depending on how the server stores the data more flexibility in the
structure of what you store

 Regards
 Doug
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100323/03a4e0a5/attachment.html
From druzus at acn.waw.pl  Wed Mar 24 05:23:55 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 24 05:24:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14220] trunk/harbour
In-Reply-To: <CC7D62C4-4E0F-40AD-94A7-54E8A30AEA1E@syenar.hu>
References: <E1Nu4yD-0005jW-QU@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BA8FCBA.1020102@dbtopas.lt>
	<20100323194920.GA9035@linux-4bod.home.aster.pl>
	<CC7D62C4-4E0F-40AD-94A7-54E8A30AEA1E@syenar.hu>
Message-ID: <20100324092355.GA16027@linux-4bod.home.aster.pl>

On Tue, 23 Mar 2010, Szak?ts Viktor wrote:

Hi,

> > BTW what pragma allows to disable this BCC warnings?
> > I do not like that I have to introduce such hacks so
> > I'd prefer to simply disable warnings in BCC builds.
> Here is the full list of warning control options:

Thank you very much.
This is what I was looking for.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Mar 24 05:25:30 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 24 05:25:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14221] trunk/harbour
Message-ID: <E1NuMqA-0001CD-RR@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14221
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14221&view=rev
Author:   vszakats
Date:     2010-03-24 09:25:29 +0000 (Wed, 24 Mar 2010)

Log Message:
-----------
2010-03-24 10:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/Makefile
  * contrib/rddsql/Makefile
  - contrib/rddsql/sddmy
  + contrib/sddmy
  * contrib/sddmy/Makefile
  * contrib/sddmy/sddmy.hbc
  - contrib/rddsql/sddfb
  + contrib/sddfb
  * contrib/sddfb/Makefile
  * contrib/sddfb/sddfb.hbc
  - contrib/rddsql/sddpg
  + contrib/sddpg
  * contrib/sddpg/Makefile
  * contrib/sddpg/sddpg.hbc
  - contrib/rddsql/sddsqlt3
  + contrib/sddsqlt3
  * contrib/sddsqlt3/Makefile
  * contrib/sddsqlt3/sddsqlt3.hbc
  - contrib/rddsql/sddoci
  + contrib/sddoci
  * contrib/sddoci/sddoci.hbc
  * contrib/sddoci/Makefile
    * Flattened dir structure.

  * contrib/sddfb/sddfb.c
  * contrib/sddsqlt3/sddsqlt3.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/rddsql/Makefile
    trunk/harbour/contrib/sddfb/Makefile
    trunk/harbour/contrib/sddfb/sddfb.c
    trunk/harbour/contrib/sddfb/sddfb.hbc
    trunk/harbour/contrib/sddmy/Makefile
    trunk/harbour/contrib/sddmy/sddmy.hbc
    trunk/harbour/contrib/sddoci/Makefile
    trunk/harbour/contrib/sddoci/sddoci.hbc
    trunk/harbour/contrib/sddpg/Makefile
    trunk/harbour/contrib/sddpg/sddpg.hbc
    trunk/harbour/contrib/sddsqlt3/Makefile
    trunk/harbour/contrib/sddsqlt3/sddsqlt3.c
    trunk/harbour/contrib/sddsqlt3/sddsqlt3.hbc

Added Paths:
-----------
    trunk/harbour/contrib/sddfb/
    trunk/harbour/contrib/sddmy/
    trunk/harbour/contrib/sddoci/
    trunk/harbour/contrib/sddpg/
    trunk/harbour/contrib/sddsqlt3/

Removed Paths:
-------------
    trunk/harbour/contrib/rddsql/sddfb/
    trunk/harbour/contrib/rddsql/sddmy/
    trunk/harbour/contrib/rddsql/sddoci/
    trunk/harbour/contrib/rddsql/sddpg/
    trunk/harbour/contrib/rddsql/sddsqlt3/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Mar 24 05:33:59 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 24 05:34:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14222] trunk/harbour
Message-ID: <E1NuMyN-0001Ma-Li@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14222
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14222&view=rev
Author:   vszakats
Date:     2010-03-24 09:33:58 +0000 (Wed, 24 Mar 2010)

Log Message:
-----------
2010-03-24 10:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/sddmy/tests/hbmk.hbm
  + contrib/sddfb/tests
  + contrib/sddfb/tests/hbmk.hbm
  + contrib/sddpg/tests
  + contrib/sddpg/tests/hbmk.hbm
  * contrib/sddsqlt3/tests/hbmk.hbm
  * contrib/sddoci/tests/hbmk.hbm
    + Added missing tests dirs. It would be great to add some
      test.prg's otherwise it's pretty hard to test these
      libs.
    ! Sync tests dir .hbm option with rest of contribs.

  * contrib/sddmy/tests/test1.prg
    ! Fixed warning to compile with now std strict make options.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/sddmy/tests/hbmk.hbm
    trunk/harbour/contrib/sddmy/tests/test1.prg
    trunk/harbour/contrib/sddoci/tests/hbmk.hbm
    trunk/harbour/contrib/sddsqlt3/tests/hbmk.hbm

Added Paths:
-----------
    trunk/harbour/contrib/sddfb/tests/
    trunk/harbour/contrib/sddfb/tests/hbmk.hbm
    trunk/harbour/contrib/sddpg/tests/
    trunk/harbour/contrib/sddpg/tests/hbmk.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From pete_westg at yahoo.gr  Wed Mar 24 05:44:04 2010
From: pete_westg at yahoo.gr (pete_westg)
Date: Wed Mar 24 05:44:33 2010
Subject: [Harbour] Re: field->&("name") in a macro
In-Reply-To: <20100321183158.GB25793@linux-4bod.home.aster.pl>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>	<4BA60CA2.4070605@dbtopas.lt>	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>	<20100321172336.GA25065@linux-4bod.home.aster.pl>	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
	<20100321183158.GB25793@linux-4bod.home.aster.pl>
Message-ID: <hocmt8$e5e$1@dough.gmane.org>

???? 21/03/2010 20:31, O/H Przemys?aw Czerpak ??????:
> On Sun, 21 Mar 2010, Alexandr Okhotnikov wrote:
>
> Hi
>
>> Example!
>>
>> FUNC MAIN()
>> DBCREATE( "aa.dbf", { { "DACC", "C", 10, 0 } } )
>> use aa.dbf alias aa new
>> DBAPPEND()
>> aa->DACC := "hello"
>> ? "aa->DACC :", aa->DACC
>> ? 'aa->&("DACC") :', aa->&("DACC")
>>
>> RETURN 0
>
> Have you tested it?
>
>     druzus:/tmp# hbrun tst.prg
>
>     aa->DACC : hello
>     aa->&("DACC") : hello
>
>     druzus:/tmp#
>
>     druzus:/tmp# harbour -n -gh tst.prg
>     Harbour 2.1.0dev (Rev. 14184)
>     Copyright (c) 1999-2010, http://www.harbour-project.org/
>     Compiling 'tst.prg'...
>     Lines 11, Functions/Procedures 1
>     Generating Harbour Portable Object source output to 'tst.hrb'... Done.
>     druzus:/tmp# hbrun tst.hrb
>
>     aa->DACC : hello
>     aa->&("DACC") : hello
>
>     druzus:/tmp#
>
> So it _confirms_ that you information about different in compiler when
> HRB files are generated was completely wrong !!!
> BTW technically such difference is impossible because compiler internally
> generates _ONLY_ .HRB files which is native raw format for Harbour and
> when -gc[N] switch is used then generated code is translated to .c code
> as PCODE encapsulated in C functions (-gc[0-2]) or as C code directly
> calling HVM functions (-gc3)
>
> best regards,
> Przemek


Hbrun tst.prg does work.
Compiled version does NOT!

(please see below tests)

WORKING -------------------------------------
C:\DEV\Harbour\Mytests>hbrun tst.prg

aa->DACC : hello
aa->&("DACC") : hello
Press any key to continue...
C:\DEV\Harbour\Mytests>

NOT WORKING -------------------------------------
C:\DEV\Harbour\Mytests>hbmk2 tst.prg
hbmk2: Processing configuration: C:\Harbour\bin\hbmk.cfg
Harbour 2.1.0dev (Rev. 14220)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'tst.prg'...
Lines 13, Functions/Procedures 1
Generating C source output to 'E:\WIN_TEMP\tst.c'... Done.

C:\DEV\Harbour\Mytests>tst

aa->DACC : hello
Error BASE/1449  Syntax error: &
Called from MAIN(9)
C:\DEV\Harbour\Mytests>
----------------------------------------------------------------------

Exactly the same error generates the line:

  Public &mVar. := Len(_HMG_SYSDATA [  66 ]) + 1



regards,

---
Pete



From harbour.01 at syenar.hu  Wed Mar 24 06:01:32 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar 24 06:01:50 2010
Subject: [Harbour] Re: field->&("name") in a macro
In-Reply-To: <hocmt8$e5e$1@dough.gmane.org>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>	<4BA60CA2.4070605@dbtopas.lt>	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>	<20100321172336.GA25065@linux-4bod.home.aster.pl>	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>
	<20100321183158.GB25793@linux-4bod.home.aster.pl>
	<hocmt8$e5e$1@dough.gmane.org>
Message-ID: <3DEE8F95-0B93-4F85-9EC1-FD64F051F994@syenar.hu>

> WORKING -------------------------------------
> C:\DEV\Harbour\Mytests>hbrun tst.prg
> 
> aa->DACC : hello
> aa->&("DACC") : hello
> Press any key to continue...
> C:\DEV\Harbour\Mytests>
> 
> NOT WORKING -------------------------------------
> C:\DEV\Harbour\Mytests>hbmk2 tst.prg
> hbmk2: Processing configuration: C:\Harbour\bin\hbmk.cfg
> Harbour 2.1.0dev (Rev. 14220)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'tst.prg'...
> Lines 13, Functions/Procedures 1
> Generating C source output to 'E:\WIN_TEMP\tst.c'... Done.
> 
> C:\DEV\Harbour\Mytests>tst
> 
> aa->DACC : hello
> Error BASE/1449  Syntax error: &
> Called from MAIN(9)
> C:\DEV\Harbour\Mytests>
> ----------------------------------------------------------------------
> 
> Exactly the same error generates the line:
> 
> Public &mVar. := Len(_HMG_SYSDATA [  66 ]) + 1

Very interesting. Here they both compile cleanly 
(and first one also works) alright even with latest SVN.

Here is tested code (unaltered):
---
DBCREATE( "aa.dbf", { { "DACC", "C", 10, 0 } } )

use aa.dbf alias aa new
DBAPPEND()
aa->DACC := "hello"
? "aa->DACC :", aa->DACC
? 'aa->&("DACC") :', aa->&("DACC")
---

---
LOCAL _HMG_SYSDATA
Public &mVar. := Len(_HMG_SYSDATA [  66 ]) + 1
---

Double check your environment and test .prg, 
because it's almost sure there is something 
wrong with it.

Brgds,
Viktor

From niki at synel.co.il  Wed Mar 24 06:06:34 2010
From: niki at synel.co.il (Chen Kedem)
Date: Wed Mar 24 06:10:12 2010
Subject: [Harbour] FW: SourceForge.net - Scheduled site maintenance window
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D90CF8D00@Mail-yoq.SYNEL-COMPANY.LTD>

Got the following scheduled downtime notification from SF:

-------
From: SourceForge.net Team [noreply@sourceforge.net]
Sent: 23 March 2010 21:23

Hello folks,

Geeknet Network Operations will be performing routine maintenance on the
network infrastructure that powers Thinkgeek, SourceForge.net, Slashdot,
Geeknet, Freshmeat and Ohloh; as well as Geeknet corporate servers.

Outages during the scheduled maintenance windows may be sporadic. We don't
anticipate that all sites will be down for the entire window. There will be
some amount of down time for these sites.

Our scheduled maintenance windows are:
 * 2010-04-17 05:00 - 13:00 UTC Primary Downtime Window
 * 2010-04-18 05:00 - 13:00 UTC Optional Backup Downtime Window

Our web services shall display a downtime notice during any outages.  As is
always our goal, downtime will be minimized.  Our current expectation is
four hours of total downtime within the maintenance windows.

Questions or concerns regarding this maintenance window may be directed to
our Support team as per http://sourceforge.net/support

Sincerely,

Uriah Welcome, Sr. Director of Network Operations, Geeknet
Jacob Moorman, Sr. Director of Site Operations, Geeknet
Jay Seirmarco, CTO, Geeknet
-------

  Chen.
From dougf at people.net.au  Wed Mar 24 06:12:14 2010
From: dougf at people.net.au (dougf@people.net.au)
Date: Wed Mar 24 06:11:25 2010
Subject: [Harbour] ORM / OODBMS Discussion
Message-ID: <18609.1269425534@people.net.au>

 Hi all

 I note that there has been a fair bit of discussion about what an ORM is.

 That's all well and good but at the end of the day what counts is what
people want / need regardless of what it is called.? And then is it
feasible to implement and is there sufficient demand to make it worth the
effort to develop it.

 Those of us who use OO techniques in our xBase code would I think mostly
appreciate a way of persisting our objects without abandoning the object
concept.

 We will probably end up deriving our single item type classes from a base
class that might, for example, be called TPersistableObject, which might
include methods such as Read(), Write(), GetOID() etc

 I am assuming that the back end will utilise client server architecture /
IP sockets.

 Regards

 Doug
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100324/14b36af3/attachment.html
From pete_westg at yahoo.gr  Wed Mar 24 06:51:40 2010
From: pete_westg at yahoo.gr (pete_westg)
Date: Wed Mar 24 06:52:17 2010
Subject: [Harbour] Re: field->&("name") in a macro
In-Reply-To: <3DEE8F95-0B93-4F85-9EC1-FD64F051F994@syenar.hu>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>	<4BA60CA2.4070605@dbtopas.lt>	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>	<20100321172336.GA25065@linux-4bod.home.aster.pl>	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>	<20100321183158.GB25793@linux-4bod.home.aster.pl>	<hocmt8$e5e$1@dough.gmane.org>
	<3DEE8F95-0B93-4F85-9EC1-FD64F051F994@syenar.hu>
Message-ID: <hocqs1$s6b$1@dough.gmane.org>

???? 24/03/2010 12:01, O/H Viktor Szak?ts ??????:
>> WORKING -------------------------------------
>> C:\DEV\Harbour\Mytests>hbrun tst.prg
>>
>> aa->DACC : hello
>> aa->&("DACC") : hello
>> Press any key to continue...
>> C:\DEV\Harbour\Mytests>
>>
>> NOT WORKING -------------------------------------
>> C:\DEV\Harbour\Mytests>hbmk2 tst.prg
>> hbmk2: Processing configuration: C:\Harbour\bin\hbmk.cfg
>> Harbour 2.1.0dev (Rev. 14220)
>> Copyright (c) 1999-2010, http://www.harbour-project.org/
>> Compiling 'tst.prg'...
>> Lines 13, Functions/Procedures 1
>> Generating C source output to 'E:\WIN_TEMP\tst.c'... Done.
>>
>> C:\DEV\Harbour\Mytests>tst
>>
>> aa->DACC : hello
>> Error BASE/1449  Syntax error:&
>> Called from MAIN(9)
>> C:\DEV\Harbour\Mytests>
>> ----------------------------------------------------------------------
>>
>> Exactly the same error generates the line:
>>
>> Public&mVar. := Len(_HMG_SYSDATA [  66 ]) + 1
>
> Very interesting. Here they both compile cleanly
> (and first one also works) alright even with latest SVN.
>
> Here is tested code (unaltered):
> ---
> DBCREATE( "aa.dbf", { { "DACC", "C", 10, 0 } } )
>
> use aa.dbf alias aa new
> DBAPPEND()
> aa->DACC := "hello"
> ? "aa->DACC :", aa->DACC
> ? 'aa->&("DACC") :', aa->&("DACC")
> ---
>
> ---
> LOCAL _HMG_SYSDATA
> Public&mVar. := Len(_HMG_SYSDATA [  66 ]) + 1
> ---
>
> Double check your environment and test .prg,
> because it's almost sure there is something
> wrong with it.
>
> Brgds,
> Viktor
>

Ok, I will try to check my env. (although i'm not sure what exactly 
should I look for, since everything looks simple & clean. -I am just 
setting  paths and let the hbmk2 do the rest.)
BTW, is there any possibility to be the problem O/S related?
I 'm getting the error(s) on my every-day-use WIN2K box. On a WinXPPRO 
machine (where I make clean harbour's builds) everything works w/o prob. 
However binaries (exes and libs) on WIN2K box are copy/pasted from WinXPPRO.


regards,

---
Pete











From harbour.01 at syenar.hu  Wed Mar 24 07:01:04 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Mar 24 07:01:15 2010
Subject: [Harbour] Re: field->&("name") in a macro
In-Reply-To: <hocqs1$s6b$1@dough.gmane.org>
References: <d6fa31441003201506o2946b12em6295e6b630b7e6d2@mail.gmail.com>	<B1527D63-BAF3-471E-A2BD-39B5BE8BFFEB@syenar.hu>	<d6fa31441003210406o72940da3mb4de63bd76677a06@mail.gmail.com>	<4BA60CA2.4070605@dbtopas.lt>	<d6fa31441003210734q3b5b48a6ic3c4332b25b1459f@mail.gmail.com>	<20100321172336.GA25065@linux-4bod.home.aster.pl>	<d6fa31441003211042s4b619a93r68bc138761255bd0@mail.gmail.com>	<20100321183158.GB25793@linux-4bod.home.aster.pl>	<hocmt8$e5e$1@dough.gmane.org>
	<3DEE8F95-0B93-4F85-9EC1-FD64F051F994@syenar.hu>
	<hocqs1$s6b$1@dough.gmane.org>
Message-ID: <6DB4D64A-AFC8-488F-B324-2083DA738442@syenar.hu>

>> ---
>> DBCREATE( "aa.dbf", { { "DACC", "C", 10, 0 } } )
>> 
>> use aa.dbf alias aa new
>> DBAPPEND()
>> aa->DACC := "hello"
>> ? "aa->DACC :", aa->DACC
>> ? 'aa->&("DACC") :', aa->&("DACC")
>> ---
>> 
>> ---
>> LOCAL _HMG_SYSDATA
>> Public&mVar. := Len(_HMG_SYSDATA [  66 ]) + 1
>> ---
>> 
>> Double check your environment and test .prg,
>> because it's almost sure there is something
>> wrong with it.
>> 
>> Brgds,
>> Viktor
>> 
> 
> Ok, I will try to check my env. (although i'm not sure what exactly should I look for, since everything looks simple & clean. -I am just setting  paths and let the hbmk2 do the rest.)
> BTW, is there any possibility to be the problem O/S related?
> I 'm getting the error(s) on my every-day-use WIN2K box. On a WinXPPRO machine (where I make clean harbour's builds) everything works w/o prob. However binaries (exes and libs) on WIN2K box are copy/pasted from WinXPPRO.

I don't know, but could be cut & paste problem from 
you mailer to your editor. Just an idea. Such syntax 
things should not depend on anything else than content 
of input files passed to compiler.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Mar 24 10:54:10 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 24 10:54:44 2010
Subject: [Harbour] Harbour application will run under Window Azure?
Message-ID: <609353e71003240754i42dc00c3tc49ab9cf05f2849b@mail.gmail.com>

Microsoft's?Windows Azure Platform?is a?cloud platform?offering that
"provides a wide range of Internet services that can be consumed from
both on-premises environments or the Internet
http://en.wikipedia.org/wiki/Azure_Services_Platform


--
Massimo Belgrano
From abe.buch at att.net  Wed Mar 24 12:02:59 2010
From: abe.buch at att.net (AbeB)
Date: Wed Mar 24 12:03:06 2010
Subject: [Harbour] Urgent Help! wce + netio
Message-ID: <010601cacb6b$70b88300$52298900$@buch@att.net>


Hi All,

 

I developed an Application to run on wince using netio. 

I first wrote the app & compiled for w32 and it runs very well.

Then I compiled it for wce. Now if the handheld is connected via the Active
Sync cable ( so it gets some kind of internal IP adddress) is work fine too.

But if the handheld is connected wirelessly the app will hang after a few
I/Os. It will start working, ( connect, open some DBFs, seeks) but it will
hang very soon. (the same happens with the test prg in hbnetio\tests)

 

Please if anybody  can work with me on this, I'm ready to compensate for it.
( Since this is very urgent for me).

 

Thank All

Abe

 


-- 
View this message in context: http://n2.nabble.com/Urgent-Help-wce-netio-tp4791964p4791964.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mbelgrano at deltain.it  Wed Mar 24 12:24:24 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 24 12:24:52 2010
Subject: [Harbour] Urgent Help! wce + netio
In-Reply-To: <7759136544766682644@unknownmsgid>
References: <7759136544766682644@unknownmsgid>
Message-ID: <609353e71003240924h79f504aame40aa6bc50183656@mail.gmail.com>

Wich are the device?
also with wifi device have a ip address?
disconnection in wifi will be due to signal low
Change the Communication channel wifi
Try a using a different wifi access point (better mimo with multi channel)
Connection problem may be related also use same device like neo that
create rumor in 2.4 GHz frequences area
so try isolate your device

Use skype on your ce device to verify the problem
start a call with skype  and wait
if sype disconnect your problem is wifi

IMO problem is not in your software
also if you must remember that window ce in not able tu run multiple
application in same time....if you use activesync


2010/3/24 AbeB <abe.buch@att.net>:
>
> Hi All,
>
>
>
> I developed an Application to run on wince using netio.
>
> I first wrote the app & compiled for w32 and it runs very well.
>
> Then I compiled it for wce. Now if the handheld is connected via the Active
> Sync cable ( so it gets some kind of internal IP adddress) is work fine too.
>
> But if the handheld is connected wirelessly the app will hang after a few
> I/Os. It will start working, ( connect, open some DBFs, seeks) but it will
> hang very soon. (the same happens with the test prg in hbnetio\tests)
>
>
>
> Please if anybody ?can work with me on this, I'm ready to compensate for it.
> ( Since this is very urgent for me).
>
>
>
> Thank All
>
> Abe
>
>
>
>
> --
> View this message in context: http://n2.nabble.com/Urgent-Help-wce-netio-tp4791964p4791964.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From abe.buch at att.net  Wed Mar 24 13:55:52 2010
From: abe.buch at att.net (AbeB)
Date: Wed Mar 24 13:55:58 2010
Subject: [Harbour] Re: Urgent Help! wce + netio
In-Reply-To: <609353e71003240924h79f504aame40aa6bc50183656@mail.gmail.com>
References: <010601cacb6b$70b88300$52298900$@buch@att.net>
	<609353e71003240924h79f504aame40aa6bc50183656@mail.gmail.com>
Message-ID: <1269453352314-4792686.post@n2.nabble.com>


>>Wich are the device?

Handheld Products, Windows mobile 6

>>also with wifi device have a ip address?
Yes Sure.

>>disconnection in wifi will be due to signal low
100 % signal

>>Change the Communication channel wifi

>>Try a using a different wifi access point (better mimo with multi channel)
>>Connection problem may be related also use same device like neo that
>>create rumor in 2.4 GHz frequences area
>>so try isolate your device

i tried pinging & it keeps on going ok. i tried browsing files on my laptop
and it's working too.


>>IMO problem is not in your software
my software is not timing out, although i specified a time out on
netio_connect function.


>>also if you must remember that window ce in not able tu run multiple
>>application in same time....if you use activesync

With activesync it runs fine.




-- 
View this message in context: http://n2.nabble.com/Urgent-Help-wce-netio-tp4791964p4792686.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From amigosam at adinet.com.uy  Wed Mar 24 13:58:49 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Wed Mar 24 13:59:21 2010
Subject: [Harbour] Re: Urgent Help! wce + netio
In-Reply-To: <44808.9889753193$1269446595@news.gmane.org>
References: <44808.9889753193$1269446595@news.gmane.org>
Message-ID: <hodjso$2ls$1@dough.gmane.org>

Question: What happens if you ping the server (eg. write something to a 
dummy file) every n seconds ?
Wireless connections tend to shutdown to save energy/bandwidth when not 
in use.

HTH
Angel

P.D. Later I tell you where to send the check :P

From mbelgrano at deltain.it  Wed Mar 24 14:29:42 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 24 14:36:25 2010
Subject: [Harbour] Re: Urgent Help! wce + netio
In-Reply-To: <1269453352314-4792686.post@n2.nabble.com>
References: <609353e71003240924h79f504aame40aa6bc50183656@mail.gmail.com> 
	<1269453352314-4792686.post@n2.nabble.com>
Message-ID: <609353e71003241129k711b3899la61304b99a1e1a5c@mail.gmail.com>

>>>disconnection in wifi will be due to signal low
> 100 % signal
In my experiences a lot of  problem with occur also with 100% signal

>>>Change the Communication channel wifi
>>>Try a using a different wifi access point (better mimo with multi channel)
>>>Connection problem may be related also use same device like neo that
>>>create rumor in 2.4 GHz frequences area
>>>so try isolate your device
>
> i tried pinging & it keeps on going ok. i tried browsing files on my laptop
> and it's working too.
Browsing and ping is not a real time activity
so if your connection is lost you can reconnect at next request
Can you try with skype?
http://share.skype.com/sites/en/2009/03/skype_30_beta_for_windows_mobi.html

>
>
>>>IMO problem is not in your software
> my software is not timing out, although i specified a time out on
> netio_connect function.
of net io you have control in your source so you can manage
intermittent connection
but the problem appen also with sample netio


>
>
>>>also if you must remember that window ce in not able tu run multiple
>>>application in same time....if you use activesync
>
> With activesync it runs fine.
What ?
or With usb/ethernet run fine?


-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Wed Mar 24 16:42:45 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 24 16:42:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14223] trunk/harbour
Message-ID: <E1NuXPZ-0001y3-Q7@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14223
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14223&view=rev
Author:   vszakats
Date:     2010-03-24 20:42:44 +0000 (Wed, 24 Mar 2010)

Log Message:
-----------
2010-03-24 21:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/Makefile
    + sdd libs ordered alphabetically like other contribs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Wed Mar 24 17:29:25 2010
From: abe.buch at att.net (AbeB)
Date: Wed Mar 24 17:29:31 2010
Subject: [Harbour] Re: Urgent Help! wce + netio
In-Reply-To: <hodjso$2ls$1@dough.gmane.org>
References: <010601cacb6b$70b88300$52298900$@buch@att.net>
	<hodjso$2ls$1@dough.gmane.org>
Message-ID: <1269466165240-4794008.post@n2.nabble.com>


>>Question: What happens if you ping the server (eg. write something to a 
>>dummy file) every n seconds ?
>>Wireless connections tend to shutdown to save energy/bandwidth when not 
>>in use.

It just keeps on getting replies.

>>P.D. Later I tell you where to send the check :P
I would send it now if this would solve it. it really bogs me down.



-- 
View this message in context: http://n2.nabble.com/Urgent-Help-wce-netio-tp4791964p4794008.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at users.sourceforge.net  Wed Mar 24 19:14:32 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 24 19:14:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14224] trunk/harbour
Message-ID: <E1NuZmS-00071G-2E@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14224
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14224&view=rev
Author:   druzus
Date:     2010-03-24 23:14:30 +0000 (Wed, 24 Mar 2010)

Log Message:
-----------
2010-03-25 00:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbatomic.h
    * removed unnecessary parenthesis
    * renamed HB_SPINLOCK_INIT_R macro to HB_SPINLOCK_INITVAL_R
    + added HB_SPINLOCK_INIT_R(l) macro

  * harbour/src/vm/fm.c
  * harbour/src/vm/dlmalloc.c
    + updated to DLMALLOC 2.8.4
    * added OS2 support from our previous DLMALLOC version
    + updated to use our own recursive locks when available
    * disabled hack which breaks strict aliasing
    ! added some fixes to new DLMALLOC code
    TODO: Test it with MSVC win and wince builds and add _MSC_VER
          based protection for __forceinline usage (I do not know
          in which MSVC version it was added).
          Test it with OS2 GCC and OpenWatcom builds.
          Test it Darwin and some other *nixes.

  * harbour/contrib/sddfb/sddfb.c
    ! fixed missing reference operator in isc_detach_database()
    ! fixed NULL used to clear connection handles
    * keep references to connection handlers passed to isc_*() functions
    * minor formatting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/sddfb/sddfb.c
    trunk/harbour/include/hbatomic.h
    trunk/harbour/src/vm/dlmalloc.c
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Mar 24 19:15:52 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 24 19:21:17 2010
Subject: [Harbour] Re: Urgent Help! wce + netio
In-Reply-To: <1269466165240-4794008.post@n2.nabble.com>
References: <hodjso$2ls$1@dough.gmane.org>
	<1269466165240-4794008.post@n2.nabble.com>
Message-ID: <609353e71003241615y6ae12455ydd458786e67fbe2b@mail.gmail.com>

Publish (or send me) source and binary of who hang
not your entire application but only a little part
server side and Client side
I will try with datalogic product and htc phone over wifi
a very sample application who read a barcode and write mov


2010/3/24 AbeB <abe.buch@att.net>

>
> >>Question: What happens if you ping the server (eg. write something to a
> >>dummy file) every n seconds ?
> >>Wireless connections tend to shutdown to save energy/bandwidth when not
> >>in use.
>
> It just keeps on getting replies.
>
> >>P.D. Later I tell you where to send the check :P
> I would send it now if this would solve it. it really bogs me down.
>
>
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100325/862f8992/attachment.html
From druzus at acn.waw.pl  Wed Mar 24 19:44:30 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Mar 24 19:44:39 2010
Subject: [Harbour] Urgent Help! wce + netio
In-Reply-To: <010601cacb6b$70b88300$52298900$@buch@att.net>
References: <010601cacb6b$70b88300$52298900$@buch@att.net>
Message-ID: <20100324234430.GA30963@linux-4bod.home.aster.pl>

On Wed, 24 Mar 2010, AbeB wrote:

Hi,

> I developed an Application to run on wince using netio. 
> I first wrote the app & compiled for w32 and it runs very well.
> 
> Then I compiled it for wce. Now if the handheld is connected via the Active
> Sync cable ( so it gets some kind of internal IP adddress) is work fine too.
> 
> But if the handheld is connected wirelessly the app will hang after a few
> I/Os. It will start working, ( connect, open some DBFs, seeks) but it will
> hang very soon. (the same happens with the test prg in hbnetio\tests)
> 
> Please if anybody  can work with me on this, I'm ready to compensate for it.
> ( Since this is very urgent for me).

It looks like a problem with transport layer.
TCP should always deliver packages if it's possible.
It should detect lost packages, wrong control sums, etc and
repeat transmission until success.
So 1-st you should check why the connections are lost.
Adding our own code which will try to make deliver verification
inside TCP stream technically is very bad idea. It can make
things only worse. Such verification can be done using UDP but
if TCP does not work (technically TCP is sth like UDP with additional
deliver verification code) then there is a big chance that our own
implementation will not work for exactly the same reasons (of course
if problem is not caused by some bugs in TCP implementation in drivers
used by your hardware).
In summary I cannot help you too much in HBNETIO code.
Probably the only one thing I can do is adding some more verbose
connection error reporting which maybe help you to locate the real
reason of problem. Seems that it's problem with some drivers in
your WinCE system and it may be hard to find workaround which can
be hardcoded inside HBNETIO code. But we can try.
I.e. you can start with modified netiocli.c replacing two loops
with the ones below.

best regards,
Przemek

   [...] s_fileRecvAll()

   while( lRead < len )
   {
      if( conn->zstream )
         l = hb_znetRead( conn->zstream, conn->sd, ptr + lRead, len - lRead, NETIO_TIMEOUT );
      else
         l = hb_socketRecv( conn->sd, ptr + lRead, len - lRead, 0, NETIO_TIMEOUT );
      if( l <= 0 )
      {
         if( hb_socketGetError() != HB_SOCKET_ERR_TIMEOUT ||
             hb_vmRequestQuery() != 0 )
            break;
      }
      lRead += l;
   }

   [...] s_fileSendMsg()

   while( lSent < len )
   {
      if( conn->zstream )
         l = hb_znetWrite( conn->zstream, conn->sd, msg + lSent, len - lSent, NETIO_TIMEOUT, &lLast );
      else
         l = lLast = hb_socketSend( conn->sd, msg + lSent, len - lSent, 0, NETIO_TIMEOUT );
      if( l > 0 )
         lSent += l;
      if( lLast <= 0 )
      {
         if( hb_socketGetError() != HB_SOCKET_ERR_TIMEOUT ||
             hb_vmRequestQuery() != 0 )
            break;
      }
   }
From harbour.01 at syenar.hu  Thu Mar 25 03:01:01 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 25 03:01:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <E1NuZmS-00071G-2E@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NuZmS-00071G-2E@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <23B39D5B-6A6D-4B6C-8422-16DEDAADBDD7@syenar.hu>

Hi,

msvc 2008, msvc 2008 64-bit, old msvcarm (1201), darwin clang 
and darwin gcc build cleanly.

Good change.

Brgds,
Viktor

On 2010 Mar 25, at 00:14, druzus@users.sourceforge.net wrote:

> Revision: 14224
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14224&view=rev
> Author:   druzus
> Date:     2010-03-24 23:14:30 +0000 (Wed, 24 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-25 00:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbatomic.h
>    * removed unnecessary parenthesis
>    * renamed HB_SPINLOCK_INIT_R macro to HB_SPINLOCK_INITVAL_R
>    + added HB_SPINLOCK_INIT_R(l) macro
> 
>  * harbour/src/vm/fm.c
>  * harbour/src/vm/dlmalloc.c
>    + updated to DLMALLOC 2.8.4
>    * added OS2 support from our previous DLMALLOC version
>    + updated to use our own recursive locks when available
>    * disabled hack which breaks strict aliasing
>    ! added some fixes to new DLMALLOC code
>    TODO: Test it with MSVC win and wince builds and add _MSC_VER
>          based protection for __forceinline usage (I do not know
>          in which MSVC version it was added).
>          Test it with OS2 GCC and OpenWatcom builds.
>          Test it Darwin and some other *nixes.
> 
>  * harbour/contrib/sddfb/sddfb.c
>    ! fixed missing reference operator in isc_detach_database()
>    ! fixed NULL used to clear connection handles
>    * keep references to connection handlers passed to isc_*() functions
>    * minor formatting
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/sddfb/sddfb.c
>    trunk/harbour/include/hbatomic.h
>    trunk/harbour/src/vm/dlmalloc.c
>    trunk/harbour/src/vm/fm.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From robert_skowronek at o2.pl  Thu Mar 25 03:28:11 2010
From: robert_skowronek at o2.pl (Robert Skowronek(o2))
Date: Thu Mar 25 03:28:39 2010
Subject: [Harbour] Printer Status Functions
Message-ID: <856FF89267DB46DCAB58B3CA0CB99EA2@NBSKOWRONEK>

Hi,

 

In my application I want to check whether LPT printer is available or not before I send document to it.

 

In DOS application I used to use PrintReady() function successfully with numerical input  1 or 2 for LPT1 and LPT2 respectively but in Harbour that function always return "False" even if the printer is available.

 

PrintReady(1) => always false

PrintReady(2) => always false

 

I also did some test for IsPrinter() and HB_IsPrinter() and both get strange output for LPT1 only (by the way what is a difference between them?). 

 

IsPrinter("LPT1")         => always return "True" also when printer not connected to that port

HB_IsPrinter("LPT1")  => always return "True" also when printer not connected to that port

 

IsPrinter("LPT2")         => output correct corresponds with the port status

HB_IsPrinter("LPT2")  => output correct corresponds with the port status

 

 

Kindly advice.

 

Best regards

Robert Skowronek
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100325/54254463/attachment.html
From harbour.01 at syenar.hu  Thu Mar 25 03:49:50 2010
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 25 03:50:01 2010
Subject: [Harbour] Printer Status Functions
In-Reply-To: <856FF89267DB46DCAB58B3CA0CB99EA2@NBSKOWRONEK>
References: <856FF89267DB46DCAB58B3CA0CB99EA2@NBSKOWRONEK>
Message-ID: <E6099EC9-7FBE-48FB-BC19-9444FB8B2031@syenar.hu>

Hi,

On 2010 Mar 25, at 08:28, Robert Skowronek(o2) wrote:

> In my application I want to check whether LPT printer is available or not before I send document to it.
>  
> In DOS application I used to use PrintReady() function successfully with numerical input  1 or 2 for LPT1 and LPT2 respectively but in Harbour that function always return ?False? even if the printer is available.
>  
> PrintReady(1) => always false
> PrintReady(2) => always false

PRINTREADY() is only implemented for MS-DOS platform 
in Harbour yet. I'll rewrite it, but I cannot test it.

> I also did some test for IsPrinter() and HB_IsPrinter() and both get strange output for LPT1 only (by the way what is a difference between them?).

ISPRINTER() doesn't accept a parameter, like in Clipper it
always checks "LPT1". HB_ISPRINTER() does accept a parameter.

> IsPrinter(?LPT1?)         => always return ?True? also when printer not connected to that port
> HB_IsPrinter(?LPT1?)  => always return ?True? also when printer not connected to that port
>  
> IsPrinter(?LPT2?)         => output correct corresponds with the port status

Are you sure in this result? This contradicts the first two tests, 
since this one tests for LPT1.

> HB_IsPrinter(?LPT2?)  => output correct corresponds with the port status

Brgds,
Viktor

From druzus at users.sourceforge.net  Thu Mar 25 04:10:44 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 25 04:10:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14225] trunk/harbour
Message-ID: <E1Nui9M-0006Mz-2S@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14225
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14225&view=rev
Author:   druzus
Date:     2010-03-25 08:10:42 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-25 09:10 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbbz2/hbbz2.c
    * use hb_xalloc()/hb_xfree() inside BZIP2 code to allocate/free memory
    ! added protection against 32-bit memory buffer overflow.
      It also fixed warnings on platforms where HB_SIZE is 32bit value.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbz2/hbbz2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From robert_skowronek at o2.pl  Thu Mar 25 04:15:02 2010
From: robert_skowronek at o2.pl (Robert Skowronek(o2))
Date: Thu Mar 25 04:15:22 2010
Subject: [Harbour] Printer Status Functions
References: <856FF89267DB46DCAB58B3CA0CB99EA2@NBSKOWRONEK>
	<E6099EC9-7FBE-48FB-BC19-9444FB8B2031@syenar.hu>
Message-ID: <9751D76A1ACA46ED87D127159672999A@NBSKOWRONEK>

Dear Viktor,
  ----- Original Message ----- 
  From: Viktor Szak?ts 
  To: Harbour Project Main Developer List. 
  Sent: Thursday, March 25, 2010 11:49 AM
  Subject: Re: [Harbour] Printer Status Functions


  Hi,

  On 2010 Mar 25, at 08:28, Robert Skowronek(o2) wrote:

  > In my application I want to check whether LPT printer is available or not before I send document to it.
  >  
  > In DOS application I used to use PrintReady() function successfully with numerical input  1 or 2 for LPT1 and LPT2 respectively but in Harbour that function always return ?False? even if the printer is available.
  >  
  > PrintReady(1) => always false
  > PrintReady(2) => always false

  PRINTREADY() is only implemented for MS-DOS platform 
  in Harbour yet. I'll rewrite it, but I cannot test it.

  > I also did some test for IsPrinter() and HB_IsPrinter() and both get strange output for LPT1 only (by the way what is a difference between them?).

  ISPRINTER() doesn't accept a parameter, like in Clipper it
  always checks "LPT1". HB_ISPRINTER() does accept a parameter.

  > IsPrinter(?LPT1?)         => always return ?True? also when printer not connected to that port
  > HB_IsPrinter(?LPT1?)  => always return ?True? also when printer not connected to that port
  >  
  > IsPrinter(?LPT2?)         => output correct corresponds with the port status

  Are you sure in this result? This contradicts the first two tests, 
  since this one tests for LPT1.

  > HB_IsPrinter(?LPT2?)  => output correct corresponds with the port status

  Brgds,
  Viktor

Yes, you are right. I checked it again and I see I did mistake in my previous email. Because IsPrinter() serves only LPT1, naturally it always returns true in my tests.


But my question is still open. Why LPT1 status is not recognized properly by either, IsPrinter() or HB_IsPrinter('LPT1')? Always true, whatever port status was.

Kindly advice.

Best regards
Robert Skowornek
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100325/7c34ac47/attachment.html
From harbour.01 at syenar.hu  Thu Mar 25 04:25:35 2010
From: harbour.01 at syenar.hu (=?windows-1250?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 25 04:25:45 2010
Subject: [Harbour] Printer Status Functions
In-Reply-To: <9751D76A1ACA46ED87D127159672999A@NBSKOWRONEK>
References: <856FF89267DB46DCAB58B3CA0CB99EA2@NBSKOWRONEK>
	<E6099EC9-7FBE-48FB-BC19-9444FB8B2031@syenar.hu>
	<9751D76A1ACA46ED87D127159672999A@NBSKOWRONEK>
Message-ID: <190FE6ED-A4E3-4D03-9FAC-F204AFB9DD57@syenar.hu>

> > IsPrinter(?LPT1?)         => always return ?True? also when printer not connected to that port
> > HB_IsPrinter(?LPT1?)  => always return ?True? also when printer not connected to that port
> >  
> > IsPrinter(?LPT2?)         => output correct corresponds with the port status
> 
> Are you sure in this result? This contradicts the first two tests, 
> since this one tests for LPT1.
> 
> > HB_IsPrinter(?LPT2?)  => output correct corresponds with the port status
> 
> Brgds,
> Viktor
> Yes, you are right. I checked it again and I see I did mistake in my previous email. Because IsPrinter() serves only LPT1, naturally it always returns true in my tests.
>  
>  
> But my question is still open. Why LPT1 status is not recognized properly by either, IsPrinter() or HB_IsPrinter('LPT1')? Always true, whatever port status was.

I don't know.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Mar 25 04:30:19 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 25 04:30:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14226] trunk/harbour
Message-ID: <E1NuiSJ-0007BK-K1@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14226
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14226&view=rev
Author:   vszakats
Date:     2010-03-25 08:30:18 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-25 09:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbapirdd.h
    ! Typos in comments.

  * contrib/hbct/print.c
    + Rewritten PRINTREADY() to work on all platforms the core 
      supports.

  * contrib/sddoci/sddoci.c
    + Added 'nullable' flag support. By the name it's right, 
      but it's foggy which flag constants belong to which 
      structure and rdd code suggest this flag does something 
      else depsite the name. Pls look at it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/print.c
    trunk/harbour/contrib/sddoci/sddoci.c
    trunk/harbour/include/hbapirdd.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Mar 25 04:49:03 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar 25 04:49:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <23B39D5B-6A6D-4B6C-8422-16DEDAADBDD7@syenar.hu>
References: <E1NuZmS-00071G-2E@sfp-svn-2.v30.ch3.sourceforge.com>
	<23B39D5B-6A6D-4B6C-8422-16DEDAADBDD7@syenar.hu>
Message-ID: <20100325084903.GA9732@linux-4bod.home.aster.pl>

On Thu, 25 Mar 2010, Szak?ts Viktor wrote:

Hi,

> msvc 2008, msvc 2008 64-bit, old msvcarm (1201), darwin clang 
> and darwin gcc build cleanly.

Thank you very much.

BTW do you know _MSC_VER we can use to chose between __forceinline
and __inline?

WINE uses this:

   #ifndef FORCEINLINE
   # if defined(_MSC_VER) && (_MSC_VER >= 1200)
   #  define FORCEINLINE __forceinline
   # elif defined(__GNUC__) && ((__GNUC__ > 3) || \
                                ((__GNUC__ == 3) && (__GNUC_MINOR__ >= 2)))
   #  define FORCEINLINE __attribute__((always_inline))
   # else
   #  define FORCEINLINE inline
   # endif
   #endif

so I'll probably use the same condition.
It does not use always_inline in GCC 3.1 maybe due some problems with
this GCC version so I'll also replicate it.

best regards,
Przemek
From robert_skowronek at o2.pl  Thu Mar 25 05:08:39 2010
From: robert_skowronek at o2.pl (Robert Skowronek(o2))
Date: Thu Mar 25 05:08:59 2010
Subject: [Harbour] Printer Status Functions
References: <856FF89267DB46DCAB58B3CA0CB99EA2@NBSKOWRONEK><E6099EC9-7FBE-48FB-BC19-9444FB8B2031@syenar.hu><9751D76A1ACA46ED87D127159672999A@NBSKOWRONEK>
	<190FE6ED-A4E3-4D03-9FAC-F204AFB9DD57@syenar.hu>
Message-ID: <B3A780C21A2843248DCC679DB764B11C@NBSKOWRONEK>

Hi,

Thanks a lot for PRINTREADY() patch. It is working fine, however, I get the same output for LPT1 like in HB_ISPRINTER() and ISPRINTER() cases. 

Does anybody have any idea why?

Best regards
Robert Skowronek
  ----- Original Message ----- 
  From: Viktor Szak?ts 
  To: Harbour Project Main Developer List. 
  Sent: Thursday, March 25, 2010 12:25 PM
  Subject: Re: [Harbour] Printer Status Functions


  > > IsPrinter(?LPT1?)         => always return ?True? also when printer not connected to that port
  > > HB_IsPrinter(?LPT1?)  => always return ?True? also when printer not connected to that port
  > >  
  > > IsPrinter(?LPT2?)         => output correct corresponds with the port status
  > 
  > Are you sure in this result? This contradicts the first two tests, 
  > since this one tests for LPT1.
  > 
  > > HB_IsPrinter(?LPT2?)  => output correct corresponds with the port status
  > 
  > Brgds,
  > Viktor
  > Yes, you are right. I checked it again and I see I did mistake in my previous email. Because IsPrinter() serves only LPT1, naturally it always returns true in my tests.
  >  
  >  
  > But my question is still open. Why LPT1 status is not recognized properly by either, IsPrinter() or HB_IsPrinter('LPT1')? Always true, whatever port status was.

  I don't know.

  Brgds,
  Viktor

  _______________________________________________
  Harbour mailing list (attachment size limit: 40KB)
  Harbour@harbour-project.org
  http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100325/6d7d398b/attachment.html
From mhsabado at gmail.com  Thu Mar 25 05:24:54 2010
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Thu Mar 25 05:25:06 2010
Subject: [Harbour] @...GET LISTBOX Problem
Message-ID: <4BAB2BE6.4020001@gmail.com>

Hi,

 From below test, I can't pass through the VALID statement even though I 
selected a value from level_list.  Any suggestion?

Thanks,
Mario

************************
function listboxtest
local level_list:={"A","B","C"}
local user_level:=space(1)
local getlist:={}
@ 1 ,1,6,5 get user_level listbox level_list dropdown valid 
!empty(user_level)
read
inkey(0)
return nil
From druzus at users.sourceforge.net  Thu Mar 25 05:38:29 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 25 05:38:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14227] trunk/harbour
Message-ID: <E1NujWH-00083u-2o@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14227
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14227&view=rev
Author:   druzus
Date:     2010-03-25 09:38:27 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-25 10:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbsetup.h
    + added HB_FORCEINLINE macro

  * harbour/include/hbatomic.h
    * use HB_FORCEINLINE instead of _HB_INLINE_

  * harbour/src/vm/fm.c
    * define for DLMALLOC FORCEINLINE macro as HB_FORCEINLINE

  * harbour/src/vm/dlmalloc.c
    * removed some cleanup in FORCEINLINE declaration and _HB_INLINE_
      usage reducing number of local Harbour modifications.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/src/vm/dlmalloc.c
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Thu Mar 25 06:44:58 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Mar 25 06:45:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <20100325084903.GA9732@linux-4bod.home.aster.pl>
References: <E1NuZmS-00071G-2E@sfp-svn-2.v30.ch3.sourceforge.com>	<23B39D5B-6A6D-4B6C-8422-16DEDAADBDD7@syenar.hu>
	<20100325084903.GA9732@linux-4bod.home.aster.pl>
Message-ID: <4BAB3EAA.7080900@libero.it>

Przemyslaw,

compiled cleanly on OS/2 with gcc, I attach speedtst output as a test to dlmalloc.

Best regards and thanks.

Maurilio.

Przemys?aw Czerpak wrote:
> On Thu, 25 Mar 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> msvc 2008, msvc 2008 64-bit, old msvcarm (1201), darwin clang 
>> and darwin gcc build cleanly.
> 
> Thank you very much.
> 
> BTW do you know _MSC_VER we can use to chose between __forceinline
> and __inline?
> 
> WINE uses this:
> 
>    #ifndef FORCEINLINE
>    # if defined(_MSC_VER) && (_MSC_VER >= 1200)
>    #  define FORCEINLINE __forceinline
>    # elif defined(__GNUC__) && ((__GNUC__ > 3) || \
>                                 ((__GNUC__ == 3) && (__GNUC_MINOR__ >= 2)))
>    #  define FORCEINLINE __attribute__((always_inline))
>    # else
>    #  define FORCEINLINE inline
>    # endif
>    #endif
> 
> so I'll probably use the same condition.
> It does not use always_inline in GCC 3.1 maybe due some problems with
> this GCC version so I'll also replicate it.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------

2010.03.25 11:40:48 OS/2 4.50
Harbour 2.1.0dev (Rev. 14225) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.52
[ T002: x := L_N ]..............................................0.42
[ T003: x := L_D ]..............................................0.42
[ T004: x := S_C ]..............................................0.55
[ T005: x := S_N ]..............................................0.42
[ T006: x := S_D ]..............................................0.39
[ T007: x := M->M_C ]...........................................0.55
[ T008: x := M->M_N ]...........................................0.45
[ T009: x := M->M_D ]...........................................0.45
[ T010: x := M->P_C ]...........................................0.55
[ T011: x := M->P_N ]...........................................0.45
[ T012: x := M->P_D ]...........................................0.42
[ T013: x := F_C ]..............................................0.87
[ T014: x := F_N ]..............................................0.65
[ T015: x := F_D ]..............................................0.55
[ T016: x := o:Args ]...........................................0.90
[ T017: x := o[2] ].............................................0.74
[ T018: round( i / 1000, 2 ) ]..................................0.90
[ T019: str( i / 1000 ) ].......................................3.84
[ T020: val( s ) ]..............................................0.94
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.61
[ T022: dtos( d - i % 10000 ) ].................................1.58
[ T023: eval( { || i % 16 } ) ].................................2.19
[ T024: eval( bc := { || i % 16 } ) ]...........................1.16
[ T025: eval( { |x| x % 16 }, i ) ].............................1.87
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.32
[ T027: eval( { |x| f1( x ) }, i ) ]............................2.32
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.65
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.03
[ T030: x := &( "f1(" + str(i) + ")" ) ].......................14.03
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............14.10
[ T032: x := valtype( x ) +  valtype( i ) ].....................1.42
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........4.26
[ T034: x := a[ i % 16 + 1 ] == s ].............................1.32
[ T035: x := a[ i % 16 + 1 ] = s ]..............................1.45
[ T036: x := a[ i % 16 + 1 ] >= s ].............................1.55
[ T037: x := a[ i % 16 + 1 ] <= s ].............................1.65
[ T038: x := a[ i % 16 + 1 ] < s ]..............................1.61
[ T039: x := a[ i % 16 + 1 ] > s ]..............................1.61
[ T040: ascan( a, i % 16 ) ]....................................1.29
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................11.35
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....3.68
[ T043: x := a ]................................................0.52
[ T044: x := {} ]...............................................0.90
[ T045: f0() ]..................................................0.61
[ T046: f1( i ) ]...............................................0.77
[ T047: f2( c[1...8] ) ]........................................0.84
[ T048: f2( c[1...40000] ) ]....................................0.81
[ T049: f2( @c[1...40000] ) ]...................................0.77
[ T050: f2( @c[1...40000] ), c2 := c ]..........................1.03
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................2.03
[ T052: f2( a ) ]...............................................0.90
[ T053: x := f4() ].............................................2.71
[ T054: x := f5() ].............................................1.06
[ T055: x := space(16) ]........................................0.81
[ T056: f_prv( c ) ]............................................0.00
====================================================================
[ total application time: ].....................................0.00
[ total real time: ]...........................................53.31
From druzus at users.sourceforge.net  Thu Mar 25 07:20:46 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 25 07:20:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14228] trunk/harbour
Message-ID: <E1Nul7G-0004ag-IX@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14228
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14228&view=rev
Author:   druzus
Date:     2010-03-25 11:20:45 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-25 12:20 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbsetup.h
    + use FORCEINLINE defined in compiler header files

  * harbour/src/vm/fm.c
    * do not redefine FORCEINLINE if it's already defined in compiler
      header files

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbsetup.h
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Mar 25 07:40:19 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar 25 07:40:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <4BAB3EAA.7080900@libero.it>
References: <E1NuZmS-00071G-2E@sfp-svn-2.v30.ch3.sourceforge.com>
	<23B39D5B-6A6D-4B6C-8422-16DEDAADBDD7@syenar.hu>
	<20100325084903.GA9732@linux-4bod.home.aster.pl>
	<4BAB3EAA.7080900@libero.it>
Message-ID: <20100325114019.GA7656@linux-4bod.home.aster.pl>

On Thu, 25 Mar 2010, Maurilio Longo wrote:

Hi,

> compiled cleanly on OS/2 with gcc,
> I attach speedtst output as a test to dlmalloc.

Thank you very much.
BTW In speedtst you can try --thread parameter without specifying number
of threads. In such version for each test separate thread is created so
it's more agresive test.
You can also try
   --thread=<n> --scale
In such version each test is executed <n> times by one thread and then
simultaneously once by <n> threads. It means that it exploits the worst
possible cases in synchronization and scalability. It should also quite
well test spinlocks on multi CPU machines.

BTW have you tested the speed difference between _gettid() and _hb_gettid()
in OS2 GCC builds? Or maybe GCC _gettid() makes exactly the same job as our
_hb_gettid()?

best regards,
Przemek
From maurilio.longo at libero.it  Thu Mar 25 08:14:22 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Mar 25 08:14:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <20100325114019.GA7656@linux-4bod.home.aster.pl>
References: <E1NuZmS-00071G-2E@sfp-svn-2.v30.ch3.sourceforge.com>	<23B39D5B-6A6D-4B6C-8422-16DEDAADBDD7@syenar.hu>	<20100325084903.GA9732@linux-4bod.home.aster.pl>	<4BAB3EAA.7080900@libero.it>
	<20100325114019.GA7656@linux-4bod.home.aster.pl>
Message-ID: <4BAB539E.1080807@libero.it>

Przemyslaw,
> You can also try
>    --thread=<n> --scale
> In such version each test is executed <n> times by one thread and then
> simultaneously once by <n> threads. It means that it exploits the worst
> possible cases in synchronization and scalability. It should also quite
> well test spinlocks on multi CPU machines.
> 
I've attached this test, with thread=2, this is on a PIV HT, so no real dual core.

> BTW have you tested the speed difference between _gettid() and _hb_gettid()
> in OS2 GCC builds? Or maybe GCC _gettid() makes exactly the same job as our
> _hb_gettid()?
> 
No speed test done, but I think there is only one way to have this info on
OS/2, that is, going through the Dos... API.

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------

2010.03.25 13:07:35 OS/2 4.50
Harbour 2.1.0dev (Rev. 14225) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.53   2.15 ->  0.25
[ T002: x := L_N ]____________________________________  0.39   1.80 ->  0.22
[ T003: x := L_D ]____________________________________  0.37   0.60 ->  0.62
[ T004: x := S_C ]____________________________________  0.50   0.61 ->  0.82
[ T005: x := S_N ]____________________________________  0.37   0.57 ->  0.65
[ T006: x := S_D ]____________________________________  0.36   0.57 ->  0.63
[ T007: x := M->M_C ]_________________________________  0.55   0.65 ->  0.85
[ T008: x := M->M_N ]_________________________________  0.43   2.26 ->  0.19
[ T009: x := M->M_D ]_________________________________  0.42   0.61 ->  0.68
[ T010: x := M->P_C ]_________________________________  0.49   0.63 ->  0.78
[ T011: x := M->P_N ]_________________________________  0.41   0.64 ->  0.65
[ T012: x := M->P_D ]_________________________________  0.42   0.64 ->  0.65
[ T013: x := F_C ]____________________________________  1.20   0.98 ->  1.23
[ T014: x := F_N ]____________________________________  0.95   0.77 ->  1.24
[ T015: x := F_D ]____________________________________  0.60   0.66 ->  0.91
[ T016: x := o:Args ]_________________________________  0.91   1.86 ->  0.49
[ T017: x := o[2] ]___________________________________  0.76   0.79 ->  0.97
[ T018: round( i / 1000, 2 ) ]________________________  1.20   1.26 ->  0.95
[ T019: str( i / 1000 ) ]_____________________________  6.25   4.37 ->  1.43
[ T020: val( s ) ]____________________________________  1.26   1.09 ->  1.16
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  2.22   1.97 ->  1.13
[ T022: dtos( d - i % 10000 ) ]_______________________  2.07   1.88 ->  1.10
[ T023: eval( { || i % 16 } ) ]_______________________  2.45   2.94 ->  0.83
[ T024: eval( bc := { || i % 16 } ) ]_________________  1.21   1.49 ->  0.82
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.76   2.57 ->  0.68
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.26   1.52 ->  0.83
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.94   2.30 ->  0.84
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  1.40   1.90 ->  0.74
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  1.41   1.78 ->  0.79
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 16.38  13.05 ->  1.25
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 17.77  14.72 ->  1.21
[ T032: x := valtype( x ) +  valtype( i ) ]___________  2.09   2.44 ->  0.86
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  6.02   4.61 ->  1.30
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.83   1.70 ->  1.07
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.91   1.79 ->  1.07
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.91   1.76 ->  1.08
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.91   1.78 ->  1.08
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.91   1.80 ->  1.06
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.90   1.78 ->  1.07
[ T040: ascan( a, i % 16 ) ]__________________________  1.63   1.48 ->  1.10
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 11.64  11.32 ->  1.03
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  4.43   4.08 ->  1.09
[ T043: x := a ]______________________________________  0.56   0.69 ->  0.81
[ T044: x := {} ]_____________________________________  1.07   1.02 ->  1.05
[ T045: f0() ]________________________________________  0.53   0.88 ->  0.61
[ T046: f1( i ) ]_____________________________________  0.70   1.00 ->  0.71
[ T047: f2( c[1...8] ) ]______________________________  0.83   1.09 ->  0.76
[ T048: f2( c[1...40000] ) ]__________________________  0.83   1.09 ->  0.77
[ T049: f2( @c[1...40000] ) ]_________________________  0.68   1.09 ->  0.62
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.97   1.39 ->  0.70
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  2.14   2.17 ->  0.99
[ T052: f2( a ) ]_____________________________________  0.86   1.10 ->  0.79
[ T053: x := f4() ]___________________________________  3.80   2.70 ->  1.41
[ T054: x := f5() ]___________________________________  1.46   1.46 ->  1.00
[ T055: x := space(16) ]______________________________  1.19   1.19 ->  1.00
[ T056: f_prv( c ) ]__________________________________  2.28   2.26 ->  1.01
============================================================================
[   TOTAL   ]_________________________________________123.30 123.27 ->  1.00
============================================================================
[ total application time: ].....................................1.55
[ total real time: ]..........................................246.57
From maurilio.longo at libero.it  Thu Mar 25 08:17:22 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Mar 25 08:17:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <4BAB539E.1080807@libero.it>
References: <E1NuZmS-00071G-2E@sfp-svn-2.v30.ch3.sourceforge.com>	<23B39D5B-6A6D-4B6C-8422-16DEDAADBDD7@syenar.hu>	<20100325084903.GA9732@linux-4bod.home.aster.pl>	<4BAB3EAA.7080900@libero.it>	<20100325114019.GA7656@linux-4bod.home.aster.pl>
	<4BAB539E.1080807@libero.it>
Message-ID: <4BAB5452.6030205@libero.it>

BTW,

on OS/2 used CPU time of a thread is not available after a thread has ended,
so right now cumulative times shown are wrong.

Best regards.

Maurilio.

Maurilio Longo wrote:
> Przemyslaw,
>> You can also try
>>    --thread=<n> --scale
>> In such version each test is executed <n> times by one thread and then
>> simultaneously once by <n> threads. It means that it exploits the worst
>> possible cases in synchronization and scalability. It should also quite
>> well test spinlocks on multi CPU machines.
>>
> I've attached this test, with thread=2, this is on a PIV HT, so no real dual core.
> 
>> BTW have you tested the speed difference between _gettid() and _hb_gettid()
>> in OS2 GCC builds? Or maybe GCC _gettid() makes exactly the same job as our
>> _hb_gettid()?
>>
> No speed test done, but I think there is only one way to have this info on
> OS/2, that is, going through the Dos... API.
> 
> Best regards.
> 
> Maurilio.
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dbtopas at dbtopas.lt  Thu Mar 25 08:21:01 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar 25 08:21:15 2010
Subject: [Harbour] Timestamp compile time optimisation bug
Message-ID: <4BAB552D.6020602@dbtopas.lt>

Hi,


PROC main()
LOCAL t
   SET(4, "YYYY-MM-DD")
   /* Trying to generate timestamp with time part only */
   ? HB_NTOT(0.12345)  // OK
   ? HB_DTOT(CTOD("")) + 0.12345 // OK
   ? t"0000-00-00" + 0.12345 // Wrong: no time part printed
   ? VALTYPE(t"0000-00-00") // Prints "T". OK
   ? VALTYPE(t"0000-00-00" + 0.12345) // Prints "D"  :(
   /* Try to avoid compile time optimisation */
   t := t"0000-00-00"
   ? t + 0.12345 // Bingo
RETURN


Regards,
Mindaugas
From druzus at users.sourceforge.net  Thu Mar 25 08:53:10 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 25 08:53:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14229] trunk/harbour
Message-ID: <E1NumYg-0003dr-O2@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14229
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14229&view=rev
Author:   druzus
Date:     2010-03-25 12:53:09 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-25 13:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/common/expropt2.c
    ! fixed stupid c&p typo in timestamp optimization,
      many thanks to Mindaugas for the information about the bug.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/expropt2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Mar 25 11:22:54 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Mar 25 11:23:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14230] trunk/harbour
Message-ID: <E1Nuota-0000Xj-CF@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14230
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14230&view=rev
Author:   vouchcac
Date:     2010-03-25 15:22:47 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-25 08:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/panel_8.png
  + contrib/hbide/resources/toolsutilities.ui
  + contrib/hbide/resources/toolsutilities.uic
    + Added one more dialog to interface "Tools & Utilities" implementation.

  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/idedocwriter.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideharbourhelp.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/idesaveload.prg
  * contrib/hbide/ideskeletons.prg
  * contrib/hbide/idesources.prg
  * contrib/hbide/idestylesheets.prg
  * contrib/hbide/idethemes.prg
  * contrib/hbide/idetools.prg

    + Implemented: "Tools & Utilities" option.
      It can be invoked via a new top-toolbar icon with two components,
      1) Click the icon itself to define a tool,
      2) Select from icon's drop-down list to execute.
         The execution is also available from within its interface <Execute> button.
    
    ! Reworked: "Panels" interface. Now it is a toolbar icon with drop-down menu.
      This interface is much-more elegant and effective in operations.

    + Implemented: auto-saving a source in the background.
      Legend: after every minute the contents of the source are inspected,
              if the source is modified, it is saved with ".tmp" extension
                concating after its original name. c:\x\my.prg => c:\x\my.prg.tmp
              if application exits normally, theis temp file is deleted,
              the same is done with every "SAve" invocation.
              if at next run, this file is detected, it is asked to replace the 
                original one.

    + Introduced: again, the animated controls, i.e., gradients on the menus, toolbars, etc,
      but are controlled via "Toggle Animation" option in the "View" sub-menu of main menu.
      This implementation is not made persistent, need to hera from you.

    ! Removed: "Always_On_Top" flag of Harbour Splash Screen. It was causing that in case 
      of startup error, or info rendering, user was unable to view the same.
    
    . Back to the pavilion, after a tiring outing. So I could not compile 
      all the changes I did before leaving, so please be patient if something goes weired.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/idedocwriter.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/ideskeletons.prg
    trunk/harbour/contrib/hbide/idesources.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbide/resources/panel_8.png

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idetools.prg
    trunk/harbour/contrib/hbide/resources/toolsutilities.ui
    trunk/harbour/contrib/hbide/resources/toolsutilities.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Mar 25 11:34:48 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 25 11:34:56 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14230] trunk/harbour
In-Reply-To: <E1Nuota-0000Xj-CF@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1Nuota-0000Xj-CF@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <1269531288601-4798315.post@n2.nabble.com>



vouchcac wrote:
> 
> Revision: 14230
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14230&view=rev
> Author:   vouchcac
> Date:     2010-03-25 15:22:47 +0000 (Thu, 25 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-25 08:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> 

In continuation:  

   + Implemented: a project's sources are saved if some are in 
      "Modified" state before building the project.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14230-trunk-harbour-tp4798235p4798315.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Mar 25 11:54:52 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 25 11:55:05 2010
Subject: [Harbour] mingw MT mode performance
Message-ID: <5AC46A01-AD4A-4B0A-9F27-3F98EA9B9379@syenar.hu>

Hi All,

Is it reasonable result that in mingw MT mode, I'm getting 
21-22s result in 32-bit builds and 24-25s in 64-bit builds 
vs. 10-11s in ST mode?

IOW it looks to run half the speed in MT mode.

('-gc3 -kmo [-mt]' were the hbmk2 options)

Brgds,
Viktor

From marcobra.ubuntu at gmail.com  Thu Mar 25 12:38:07 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Mar 25 12:38:19 2010
Subject: [Harbour] @...GET LISTBOX Problem
In-Reply-To: <4BAB2BE6.4020001@gmail.com>
References: <4BAB2BE6.4020001@gmail.com>
Message-ID: <fd76479f1003250938i58cdd67fq62a3ff2c683877bd@mail.gmail.com>

Same here on Ubuntu 32 bits and Harbour build
the return key doesn't validate the codeblock and don't skyp to the next
read i must to press esc to get codeblock evaluation and next field read
access.

Here the p.prg code that i test compiled with " hbmk2 -lgpm p.prg -rebuild
"

Many thanks and best regards.

Marco

#include "inkey.ch"

function main
*local a_opt_list:= {{"AAAAA","A"},{"BBBBB","B"},{"CCCCC","C"}}
local a_opt_list :=  {" ","A","B","C"}
local getlist    := {}
local r, c
local msele      := " "

SET( _SET_EVENTMASK, INKEY_ALL )
MSETCURSOR( .T. )
CLS

do while .t.

        @ 1, 1 say "Press ESC to exit..."

        cCaption := '&Please choose from list :'
        r     := 2
        c     := 1 + len(cCaption)

        @ r, c, r + len(a_opt_list)+2, c + 5  GET mSele LISTBOX a_opt_list
CAPTION cCaption DROPDOWN COLOR "W/N,B/W+,W/N,W+/B,W/N,N/W*,G/W*,N/G" valid
!empty(mSele)

        read

        @ 10, 1 say "User choose :" + mSele
        inkey(1)

        cCaption := '&Please choose from list :'
        r     := 3
        c     := 1 + len(cCaption)

        @ r, c, r + len(a_opt_list)+2, c + 5  GET mSele LISTBOX a_opt_list
CAPTION cCaption DROPDOWN COLOR "W/N,B/W+,W/N,W+/B,W/N,N/W*,G/W*,N/G" valid
{ || len(trim(mSele))>0 }

        read
        if lastkey()==27
           return
        endif

        @ 10, 1 say "User choose :" + mSele
        inkey(1)
enddo

/*
http://www.itlnet.net/Programming/Program/Reference/c53g01c/ngb388e.html
   @ <nTop>, <nLeft>, <nBottom>, <nRight>
        GET <nVar|cVar>
        LISTBOX <aList>
           [CAPTION<cCaption>]
           [MESSAGE <cMessage>]
           [WHEN <lPreExpression>]
           [VALID <lPostExpression>]
           [COLOR <cColorString>]
           [FOCUS <fblock>]
           [STATE <bBlock>]
           [DROPDOWN]
           [SCROLLBAR]
           [SEND <msg>]
           [GUISEND <guimsg>]
           [BITMAP <cBitmap>]
*/



return nil
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100325/26ff79f0/attachment.html
From harbour.01 at syenar.hu  Thu Mar 25 12:41:35 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 25 12:41:47 2010
Subject: [Harbour] @...GET LISTBOX Problem
In-Reply-To: <fd76479f1003250938i58cdd67fq62a3ff2c683877bd@mail.gmail.com>
References: <4BAB2BE6.4020001@gmail.com>
	<fd76479f1003250938i58cdd67fq62a3ff2c683877bd@mail.gmail.com>
Message-ID: <D3EE9F44-6196-4CA1-97FF-4F4B852AD7BB@syenar.hu>

Did you compare it with Clipper 5.3 behavior?

Brgds,
Viktor

On 2010 Mar 25, at 17:38, marco bra wrote:

> Same here on Ubuntu 32 bits and Harbour build 
> the return key doesn't validate the codeblock and don't skyp to the next read i must to press esc to get codeblock evaluation and next field read access.
> 
> Here the p.prg code that i test compiled with " hbmk2 -lgpm p.prg -rebuild " 
> 
> Many thanks and best regards.
> 
> Marco
> 
> #include "inkey.ch"
> 
> function main
> *local a_opt_list:= {{"AAAAA","A"},{"BBBBB","B"},{"CCCCC","C"}}
> local a_opt_list :=  {" ","A","B","C"}
> local getlist    := {}
> local r, c
> local msele      := " "
> 
> SET( _SET_EVENTMASK, INKEY_ALL )
> MSETCURSOR( .T. )
> CLS
> 
> do while .t.
> 
>         @ 1, 1 say "Press ESC to exit..."
> 
>         cCaption := '&Please choose from list :'
>         r     := 2
>         c     := 1 + len(cCaption)
> 
>         @ r, c, r + len(a_opt_list)+2, c + 5  GET mSele LISTBOX a_opt_list CAPTION cCaption DROPDOWN COLOR "W/N,B/W+,W/N,W+/B,W/N,N/W*,G/W*,N/G" valid !empty(mSele)
> 
>         read
> 
>         @ 10, 1 say "User choose :" + mSele
>         inkey(1)
> 
>         cCaption := '&Please choose from list :'
>         r     := 3
>         c     := 1 + len(cCaption)
> 
>         @ r, c, r + len(a_opt_list)+2, c + 5  GET mSele LISTBOX a_opt_list CAPTION cCaption DROPDOWN COLOR "W/N,B/W+,W/N,W+/B,W/N,N/W*,G/W*,N/G" valid { || len(trim(mSele))>0 }
> 
>         read
>         if lastkey()==27
>            return
>         endif
> 
>         @ 10, 1 say "User choose :" + mSele
>         inkey(1)
> enddo
> 
> /*
> http://www.itlnet.net/Programming/Program/Reference/c53g01c/ngb388e.html
>    @ <nTop>, <nLeft>, <nBottom>, <nRight>
>         GET <nVar|cVar>
>         LISTBOX <aList>
>            [CAPTION<cCaption>]
>            [MESSAGE <cMessage>]
>            [WHEN <lPreExpression>]
>            [VALID <lPostExpression>]
>            [COLOR <cColorString>]
>            [FOCUS <fblock>]
>            [STATE <bBlock>]
>            [DROPDOWN]
>            [SCROLLBAR]
>            [SEND <msg>]
>            [GUISEND <guimsg>]
>            [BITMAP <cBitmap>]
> */
> 
> 
> 
> return nil
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From abe.buch at att.net  Thu Mar 25 13:02:42 2010
From: abe.buch at att.net (AbeB)
Date: Thu Mar 25 13:02:49 2010
Subject: [Harbour] RE: Urgent Help! wce + netio
In-Reply-To: <20100324234430.GA30963@linux-4bod.home.aster.pl>
References: <010601cacb6b$70b88300$52298900$@buch@att.net>
	<20100324234430.GA30963@linux-4bod.home.aster.pl>
Message-ID: <006b01cacc3c$f138dc60$d3aa9520$@buch@att.net>


Hi,

 

 

[...] s_fileRecvAll() 

   while( lRead < len ) 
   { 
      if( conn->zstream ) 
         l = hb_znetRead( conn->zstream, conn->sd, ptr + lRead, len - lRead,
NETIO_TIMEOUT ); 
      else 
         l = hb_socketRecv( conn->sd, ptr + lRead, len - lRead, 0,
NETIO_TIMEOUT ); 
      if( l <= 0 ) 
      { 
         if( hb_socketGetError() != HB_SOCKET_ERR_TIMEOUT || 
             hb_vmRequestQuery() != 0 ) 
            break; 
      } 
^^^^^^^^^^^^^^^^

      lRead += l; 
   } 



 

Is there an 'else' missing between these 2 lines?

 

I don't think this is a  NETIO issue but maby a socket issue. Let me past
here a capture list.

192.168.1.101 is the server

192.168.1.3 is the wince device. 

 

Can you see anything here?

 

 

    489 1.659557    192.168.1.3           1100     192.168.1.101
2941     TCP      60      mctp > sm-pas-4 [ACK] Seq=4363 Ack=56464 Win=33476
Len=0

    490 1.661029    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4363 Ack=56464
Win=33476 Len=24

    491 1.661082    192.168.1.101         2941     192.168.1.3
1100     TCP      1102    sm-pas-4 > mctp [PSH, ACK] Seq=56464 Ack=4387
Win=36141 Len=1048

    492 1.665499    192.168.1.3           1100     192.168.1.101
2941     TCP      60      mctp > sm-pas-4 [ACK] Seq=4387 Ack=57512 Win=32428
Len=0

    493 1.666939    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4387 Ack=57512
Win=32428 Len=24

    494 1.667039    192.168.1.101         2941     192.168.1.3
1100     TCP      78      sm-pas-4 > mctp [PSH, ACK] Seq=57512 Ack=4411
Win=36135 Len=24

    495 1.672840    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4411 Ack=57536
Win=32404 Len=24

    496 1.672912    192.168.1.101         2941     192.168.1.3
1100     TCP      1102    sm-pas-4 > mctp [PSH, ACK] Seq=57536 Ack=4435
Win=36500 Len=1048

    497 1.677349    192.168.1.3           1100     192.168.1.101
2941     TCP      60      mctp > sm-pas-4 [ACK] Seq=4435 Ack=58584 Win=31356
Len=0

    498 1.678490    192.168.1.3           1100     192.168.1.101
2941     TCP      60      [TCP Window Update] mctp > sm-pas-4 [ACK] Seq=4435
Ack=58584 Win=33580 Len=0

    499 1.679991    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4435 Ack=58584
Win=33580 Len=24

    500 1.680048    192.168.1.101         2941     192.168.1.3
1100     TCP      590     sm-pas-4 > mctp [PSH, ACK] Seq=58584 Ack=4459
Win=36494 Len=536

    501 1.683758    192.168.1.3           1100     192.168.1.101
2941     TCP      60      mctp > sm-pas-4 [ACK] Seq=4459 Ack=59120 Win=33044
Len=0

    502 1.685233    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4459 Ack=59120
Win=33044 Len=24

    503 1.685286    192.168.1.101         2941     192.168.1.3
1100     TCP      1102    sm-pas-4 > mctp [PSH, ACK] Seq=59120 Ack=4483
Win=36488 Len=1048

    504 1.689584    192.168.1.3           1100     192.168.1.101
2941     TCP      60      mctp > sm-pas-4 [ACK] Seq=4483 Ack=60168 Win=31996
Len=0

    505 1.690781    192.168.1.3           1100     192.168.1.101
2941     TCP      60      [TCP Window Update] mctp > sm-pas-4 [ACK] Seq=4483
Ack=60168 Win=33580 Len=0

    506 1.692242    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4483 Ack=60168
Win=33580 Len=24

    507 1.692290    192.168.1.101         2941     192.168.1.3
1100     TCP      78      sm-pas-4 > mctp [PSH, ACK] Seq=60168 Ack=4507
Win=36482 Len=24

    508 1.696626    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4507 Ack=60192
Win=33556 Len=24

    509 1.696671    192.168.1.101         2941     192.168.1.3
1100     TCP      1102    sm-pas-4 > mctp [PSH, ACK] Seq=60192 Ack=4531
Win=36476 Len=1048

    510 1.701395    192.168.1.3           1100     192.168.1.101
2941     TCP      60      mctp > sm-pas-4 [ACK] Seq=4531 Ack=61240 Win=32508
Len=0

    511 1.703172    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4531 Ack=61240
Win=32508 Len=24

    512 1.703209    192.168.1.101         2941     192.168.1.3
1100     TCP      78      sm-pas-4 > mctp [PSH, ACK] Seq=61240 Ack=4555
Win=36470 Len=24

    513 1.708203    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4555 Ack=61264
Win=32484 Len=24

    514 1.708290    192.168.1.101         2941     192.168.1.3
1100     TCP      78      sm-pas-4 > mctp [PSH, ACK] Seq=61264 Ack=4579
Win=36464 Len=24

    515 1.709841    192.168.1.3           1100     192.168.1.101
2941     TCP      78      mctp > sm-pas-4 [PSH, ACK] Seq=4579 Ack=61264
Win=32484 Len=24

    516 1.709888    192.168.1.101         2941     192.168.1.3
1100     TCP      78      sm-pas-4 > mctp [PSH, ACK] Seq=61288 Ack=4603
Win=36458 Len=24

    517 1.946024    192.168.1.3           1100     192.168.1.101
2941     TCP      60      mctp > sm-pas-4 [ACK] Seq=4603 Ack=61288 Win=32460
Len=0

    518 2.088787    192.168.1.3           1100     192.168.1.101
2941     TCP      78      [TCP Retransmission] mctp > sm-pas-4 [PSH, ACK]
Seq=4579 Ack=61288 Win=32460 Len=24

    519 2.088830    192.168.1.101         2941     192.168.1.3
1100     TCP      54      [TCP Dup ACK 516#1] sm-pas-4 > mctp [ACK]
Seq=61312 Ack=4603 Win=36458 Len=0

    520 2.512779    192.168.1.101         2941     192.168.1.3
1100     TCP      78      [TCP Retransmission] sm-pas-4 > mctp [PSH, ACK]
Seq=61288 Ack=4603 Win=36458 Len=24

    521 3.719860    192.168.1.101         2941     192.168.1.3
1100     TCP      78      [TCP Retransmission] sm-pas-4 > mctp [PSH, ACK]
Seq=61288 Ack=4603 Win=36458 Len=24

    522 6.134014    192.168.1.101         2941     192.168.1.3
1100     TCP      78      [TCP Retransmission] sm-pas-4 > mctp [PSH, ACK]
Seq=61288 Ack=4603 Win=36458 Len=24

    523 10.962330   192.168.1.101         2941     192.168.1.3
1100     TCP      78      [TCP Retransmission] sm-pas-4 > mctp [PSH, ACK]
Seq=61288 Ack=4603 Win=36458 Len=24

 

 


-- 
View this message in context: http://n2.nabble.com/Urgent-Help-wce-netio-tp4791964p4798890.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From marcobra.ubuntu at gmail.com  Thu Mar 25 13:29:45 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Mar 25 13:29:53 2010
Subject: [Harbour] @...GET LISTBOX Problem
In-Reply-To: <D3EE9F44-6196-4CA1-97FF-4F4B852AD7BB@syenar.hu>
References: <4BAB2BE6.4020001@gmail.com>
	<fd76479f1003250938i58cdd67fq62a3ff2c683877bd@mail.gmail.com>
	<D3EE9F44-6196-4CA1-97FF-4F4B852AD7BB@syenar.hu>
Message-ID: <fd76479f1003251029n686fc11fh46888047d83cb4e7@mail.gmail.com>

Sorry i cannot compare i have only Harbour on Ubuntu 32 bits i don't have
any Windows or Dos here...

The only reference i have follow was
http://www.itlnet.net/Programming/Program/Reference/c53g01c/ngb388e.html

I'm testing the Mario H. Sabado code here
http://thread.gmane.org/gmane.comp.lang.harbour.devel/28546

Thank you.

BTW the code below is working good, but i was testing the previous sent code
sample with listbox and valid, is this a clipper behavior or something
else...? :

#include "inkey.ch"

function main
local getlist    := {}
local r, c
local msele      := " "

do while .t.
        clear screen

        @ 1, 1 say "Press ESC to exit..."
        @ 2, 1 say "Please insert a not empty one char value  " get mSele
 valid !empty(mSele)

        read

        if lastkey()==27
           clear screen
           return
        endif

        @ 10, 1 say "User choose :" + mSele
        inkey(2)
enddo

return nil
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100325/895e4b24/attachment.html
From harbour.01 at syenar.hu  Thu Mar 25 13:40:39 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 25 13:40:50 2010
Subject: [Harbour] @...GET LISTBOX Problem
In-Reply-To: <fd76479f1003251029n686fc11fh46888047d83cb4e7@mail.gmail.com>
References: <4BAB2BE6.4020001@gmail.com>
	<fd76479f1003250938i58cdd67fq62a3ff2c683877bd@mail.gmail.com>
	<D3EE9F44-6196-4CA1-97FF-4F4B852AD7BB@syenar.hu>
	<fd76479f1003251029n686fc11fh46888047d83cb4e7@mail.gmail.com>
Message-ID: <52D8BB86-30BB-45E9-8318-DDE97960DAD0@syenar.hu>

I don't know, I never used LISTBOX or C5.3, someone should try 
this with Clipper to see if this is a real error.

BTW, dosemu works well on Ubuntu 32-bit.

Brgds,
Viktor

On 2010 Mar 25, at 18:29, marco bra wrote:

> Sorry i cannot compare i have only Harbour on Ubuntu 32 bits i don't have any Windows or Dos here...
> 
> The only reference i have follow was http://www.itlnet.net/Programming/Program/Reference/c53g01c/ngb388e.html
> 
> I'm testing the Mario H. Sabado code here http://thread.gmane.org/gmane.comp.lang.harbour.devel/28546
> 
> Thank you.
> 
> BTW the code below is working good, but i was testing the previous sent code sample with listbox and valid, is this a clipper behavior or something else...? :
> 
> #include "inkey.ch"
> 
> function main
> local getlist    := {}
> local r, c
> local msele      := " "
> 
> do while .t.
>         clear screen
> 
>         @ 1, 1 say "Press ESC to exit..."
>         @ 2, 1 say "Please insert a not empty one char value  " get mSele  valid !empty(mSele)
> 
>         read
> 
>         if lastkey()==27
>            clear screen
>            return
>         endif
> 
>         @ 10, 1 say "User choose :" + mSele
>         inkey(2)
> enddo
> 
> return nil
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Mar 25 14:16:39 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 25 14:16:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <20100325084903.GA9732@linux-4bod.home.aster.pl>
References: <E1NuZmS-00071G-2E@sfp-svn-2.v30.ch3.sourceforge.com>
	<23B39D5B-6A6D-4B6C-8422-16DEDAADBDD7@syenar.hu>
	<20100325084903.GA9732@linux-4bod.home.aster.pl>
Message-ID: <5DE0C75D-2CBE-499E-AC39-1E860B3C20B2@syenar.hu>

> Thank you very much.
> 
> BTW do you know _MSC_VER we can use to chose between __forceinline
> and __inline?
> 
> WINE uses this:
> 
>   #ifndef FORCEINLINE
>   # if defined(_MSC_VER) && (_MSC_VER >= 1200)
>   #  define FORCEINLINE __forceinline
>   # elif defined(__GNUC__) && ((__GNUC__ > 3) || \
>                                ((__GNUC__ == 3) && (__GNUC_MINOR__ >= 2)))
>   #  define FORCEINLINE __attribute__((always_inline))
>   # else
>   #  define FORCEINLINE inline
>   # endif
>   #endif
> 
> so I'll probably use the same condition.

It seems fine for msvc, though I have no very 
old msvc to actually test it.

[ forgot to press [Send] on this one. ]

Brgds,
Viktor

From druzus at users.sourceforge.net  Thu Mar 25 16:37:41 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 25 16:37:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14231] trunk/harbour
Message-ID: <E1NutoD-0008Vu-Ns@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14231
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14231&view=rev
Author:   druzus
Date:     2010-03-25 20:37:39 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-25 21:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvmall.c
    ! added missing HB_STACK_PRELOAD - the performance of MT HVM
      on C compilers/platforms which do not support C thread local
      variables was hardly reduce due to missing above macro, i.e.
      MinGW builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/hvmall.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Mar 25 16:44:42 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar 25 16:44:50 2010
Subject: [Harbour] mingw MT mode performance
In-Reply-To: <5AC46A01-AD4A-4B0A-9F27-3F98EA9B9379@syenar.hu>
References: <5AC46A01-AD4A-4B0A-9F27-3F98EA9B9379@syenar.hu>
Message-ID: <20100325204442.GA32689@linux-4bod.home.aster.pl>

On Thu, 25 Mar 2010, Szak?ts Viktor wrote:

Hi,

> Is it reasonable result that in mingw MT mode, I'm getting 
> 21-22s result in 32-bit builds and 24-25s in 64-bit builds 
> vs. 10-11s in ST mode?

No, it isn't reasonable ;)

MinGW builds do not use native TLS and we disabled ASM inline
functions used to retrieve HVM stack pointer because it was not
working on Win9x so it hardly depends on HB_STACK_PRELOAD optimization
and this macro was not set in hvmall.c
I've just added it so please repeat your tests with current SVN
code and send your final results.

BTW it will be also good to check how works native thread local
variables in current MinGW builds. My last test are quite old and
it's highly possible that now the situation is much better.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 25 17:07:11 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 25 17:07:23 2010
Subject: [Harbour] mingw MT mode performance
In-Reply-To: <20100325204442.GA32689@linux-4bod.home.aster.pl>
References: <5AC46A01-AD4A-4B0A-9F27-3F98EA9B9379@syenar.hu>
	<20100325204442.GA32689@linux-4bod.home.aster.pl>
Message-ID: <7E6418C0-60B8-40F7-A26B-79F71AA85A86@syenar.hu>

Hi Przemek,

>> Is it reasonable result that in mingw MT mode, I'm getting 
>> 21-22s result in 32-bit builds and 24-25s in 64-bit builds 
>> vs. 10-11s in ST mode?
> 
> No, it isn't reasonable ;)

What I suspected.

> MinGW builds do not use native TLS and we disabled ASM inline
> functions used to retrieve HVM stack pointer because it was not
> working on Win9x so it hardly depends on HB_STACK_PRELOAD optimization
> and this macro was not set in hvmall.c
> I've just added it so please repeat your tests with current SVN
> code and send your final results.

With rebuilt hbvmmt, the 25s went down to 17s, which 
seems okay on win platform.

Is there a way to turn inline ASM stuff on?
(sacrificing Win9x compatibility)

I'd make a test with it to see the diff.

> BTW it will be also good to check how works native thread local
> variables in current MinGW builds. My last test are quite old and
> it's highly possible that now the situation is much better.

How to check this?

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Mar 25 18:05:43 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar 25 18:05:52 2010
Subject: [Harbour] mingw MT mode performance
In-Reply-To: <7E6418C0-60B8-40F7-A26B-79F71AA85A86@syenar.hu>
References: <5AC46A01-AD4A-4B0A-9F27-3F98EA9B9379@syenar.hu>
	<20100325204442.GA32689@linux-4bod.home.aster.pl>
	<7E6418C0-60B8-40F7-A26B-79F71AA85A86@syenar.hu>
Message-ID: <20100325220543.GA930@linux-4bod.home.aster.pl>

On Thu, 25 Mar 2010, Szak?ts Viktor wrote:

Hi Viktor,

> With rebuilt hbvmmt, the 25s went down to 17s, which 
> seems okay on win platform.

Better though still the difference is quite huge.
In my Linux box it's
ST:
   [ total application time: ]....................................14.69
MT:
   [ total application time: ]....................................18.42

(GCC4.4)

I also tested MinGW/GCC 3.4.5 with WINE and
ST:
   [ total application time: ]....................................18.68
MT:
   [ total application time: ]....................................26.31

> Is there a way to turn inline ASM stuff on?
> (sacrificing Win9x compatibility)
> I'd make a test with it to see the diff.

I also do not now it they will work with Win64. Probably not though
we can update then for 64 bit mode (here Win9x is not a problem at all :))
I'll commit small cleanup and build time macro to make such tests ASAP.
Anyhow when HB_STACK_PRELOAD is enabled the difference is not such huge.
In my test above MinGW build with stack ASM inline function and
HB_STACK_PRELOAD macro enabled together gives for MT mode:
   [ total application time: ]....................................23.95
and such difference is close the results in Linux builds.

> > BTW it will be also good to check how works native thread local
> > variables in current MinGW builds. My last test are quite old and
> > it's highly possible that now the situation is much better.
> How to check this?

Try to recompile Harbour with HB_USER_CFLAGS=-DHB_USE_TLS and check
the results. Maybe I will not have to touch this ASM code at all :)

best regards,
Przemek
From vszakats at users.sourceforge.net  Thu Mar 25 18:20:20 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 25 18:20:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14232] trunk/harbour
Message-ID: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14232
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14232&view=rev
Author:   vszakats
Date:     2010-03-25 22:20:19 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-25 23:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  ! bin/postinst.bat
    Fixed to not make unnecessary hbmk2 calls and warnings for
    unset external components when HB_BUILD_IMPLIB=yes.
    sf.bet bug #2976700

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 25 18:31:02 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 25 18:31:14 2010
Subject: [Harbour] mingw MT mode performance
In-Reply-To: <20100325220543.GA930@linux-4bod.home.aster.pl>
References: <5AC46A01-AD4A-4B0A-9F27-3F98EA9B9379@syenar.hu>
	<20100325204442.GA32689@linux-4bod.home.aster.pl>
	<7E6418C0-60B8-40F7-A26B-79F71AA85A86@syenar.hu>
	<20100325220543.GA930@linux-4bod.home.aster.pl>
Message-ID: <AB7FB0D0-1769-40B5-9A20-BE2A99CCCF7A@syenar.hu>

Hi Przemek,

>> With rebuilt hbvmmt, the 25s went down to 17s, which 
>> seems okay on win platform.
> 
> Better though still the difference is quite huge.
> In my Linux box it's
> ST:
>   [ total application time: ]....................................14.69
> MT:
>   [ total application time: ]....................................18.42
> 
> (GCC4.4)
> 
> I also tested MinGW/GCC 3.4.5 with WINE and
> ST:
>   [ total application time: ]....................................18.68
> MT:
>   [ total application time: ]....................................26.31

That's somewhat better than I get, maybe AMD is better 
here than C2D. (or my VM influences it)

>> Is there a way to turn inline ASM stuff on?
>> (sacrificing Win9x compatibility)
>> I'd make a test with it to see the diff.
> 
> I also do not now it they will work with Win64. Probably not though
> we can update then for 64 bit mode (here Win9x is not a problem at all :))

That's right, I forgot it for an instant :)

BTW, we can also enable it for MSVC 2008 and upper (32-bit), 
since they don't support Win9x anymore.

> I'll commit small cleanup and build time macro to make such tests ASAP.
> Anyhow when HB_STACK_PRELOAD is enabled the difference is not such huge.
> In my test above MinGW build with stack ASM inline function and
> HB_STACK_PRELOAD macro enabled together gives for MT mode:
>   [ total application time: ]....................................23.95
> and such difference is close the results in Linux builds.
> 
>>> BTW it will be also good to check how works native thread local
>>> variables in current MinGW builds. My last test are quite old and
>>> it's highly possible that now the situation is much better.
>> How to check this?
> 
> Try to recompile Harbour with HB_USER_CFLAGS=-DHB_USE_TLS and check
> the results. Maybe I will not have to touch this ASM code at all :)

Tried it with mingw 4.5.0 and got 33s, so the speed halved.
Strange to me.

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Mar 25 19:04:07 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Mar 25 19:04:14 2010
Subject: [Harbour] mingw MT mode performance
In-Reply-To: <AB7FB0D0-1769-40B5-9A20-BE2A99CCCF7A@syenar.hu>
References: <5AC46A01-AD4A-4B0A-9F27-3F98EA9B9379@syenar.hu>
	<20100325204442.GA32689@linux-4bod.home.aster.pl>
	<7E6418C0-60B8-40F7-A26B-79F71AA85A86@syenar.hu>
	<20100325220543.GA930@linux-4bod.home.aster.pl>
	<AB7FB0D0-1769-40B5-9A20-BE2A99CCCF7A@syenar.hu>
Message-ID: <20100325230407.GA5001@linux-4bod.home.aster.pl>

On Thu, 25 Mar 2010, Szak?ts Viktor wrote:

Hi,

> >> Is there a way to turn inline ASM stuff on?
> >> (sacrificing Win9x compatibility)
> >> I'd make a test with it to see the diff.
> > I also do not now it they will work with Win64. Probably not though
> > we can update then for 64 bit mode (here Win9x is not a problem at all :))
> That's right, I forgot it for an instant :)
> BTW, we can also enable it for MSVC 2008 and upper (32-bit), 
> since they don't support Win9x anymore.

I suggest to start with small test to check the code produced by
MS for thread local variables. Knowing MS I will not be very surprised
if it's already well tuned code which does not call internally TlsGetValue()
at all so there is not place for noticeable improvement.
I think that we need Mindaugas help here. In the past he checked
code generated by BCC and created ASM inline macros for BCC builds.
The MinGW inline ASM function I added later is only translation of
initial Mindaugas code.
Mindaugas any chance that you can check the code generated by MSVC
which access thread local variables for WinXP@32 and Win64?

> > Try to recompile Harbour with HB_USER_CFLAGS=-DHB_USE_TLS and check
> > the results. Maybe I will not have to touch this ASM code at all :)
> Tried it with mingw 4.5.0 and got 33s, so the speed halved.
> Strange to me.

Similar to my old tests :(
It means that this part is still not improved in MinGW.
The results are not such amazing. MinGW GCC was using for thread
local variables calls to TlsGetValue() without any optimization
or inlined code and probably internal optimization logic was not
updated to mark access to such variables as very expensive.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Mar 25 19:12:29 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 25 19:12:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14233] trunk/harbour
Message-ID: <E1NuwE1-00073J-5q@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14233
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14233&view=rev
Author:   druzus
Date:     2010-03-25 23:12:28 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-26 00:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvmall.c
  * harbour/include/hbstack.h
    * reactivated for tests inline ASM code which can be used to access
      HVM stack pointer in MT HVM builds. It can be enabled in 32bit
      desktop windows Harbour builds by setting HB_ASM_TLS build time macro.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbstack.h
    trunk/harbour/src/vm/hvmall.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Mar 25 19:44:12 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 25 19:44:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14234] trunk/harbour
Message-ID: <E1Nuwii-0007xD-2L@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14234
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14234&view=rev
Author:   druzus
Date:     2010-03-25 23:44:10 +0000 (Thu, 25 Mar 2010)

Log Message:
-----------
2010-03-26 00:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvmall.c
    ! fixed typo in last commit

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/hvmall.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 25 20:08:16 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Mar 25 20:08:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14233] trunk/harbour
In-Reply-To: <E1NuwE1-00073J-5q@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NuwE1-00073J-5q@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <87E4523B-E583-499B-A974-0CB0E205EF20@syenar.hu>

> 2010-03-26 00:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/vm/hvmall.c
>  * harbour/include/hbstack.h
>    * reactivated for tests inline ASM code which can be used to access
>      HVM stack pointer in MT HVM builds. It can be enabled in 32bit
>      desktop windows Harbour builds by setting HB_ASM_TLS build time macro.

For mingw 4.4.1 it went from 21.72 to 18.92 (ST: 13.78).
For msvc 2008 it went from 21.38 to 23.80 (ST: 13.86).

So, it's good as is, and MT users not concerned about 
Win9x are better to enable for mingw.

[ Question how can mingw be such much better than msvc with 
this option? ]

Brgds,
Viktor

From jarabal at users.sourceforge.net  Fri Mar 26 00:05:41 2010
From: jarabal at users.sourceforge.net (jarabal@users.sourceforge.net)
Date: Fri Mar 26 00:05:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14235] trunk/harbour
Message-ID: <E1Nv0nl-0007Z5-9c@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14235
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14235&view=rev
Author:   jarabal
Date:     2010-03-26 04:05:40 +0000 (Fri, 26 Mar 2010)

Log Message:
-----------
2010-03-26 05:05 UTC+0100 Xavi (jarabal/at/gmail.com)
  * harbour/src/rtl/teditor.prg
    ! Fixing MemoEdit K_PGDN / K_PGUP calculation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/teditor.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Fri Mar 26 02:23:12 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Mar 26 02:23:24 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14224] trunk/harbour
Message-ID: <4BAC52D0.9090703@mail.udg.mx>

Przemek:

>2010-03-25 00:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/vm/dlmalloc.c
>    + updated to DLMALLOC 2.8.4
>    * added OS2 support from our previous DLMALLOC version
>    + updated to use our own recursive locks when available
>    * disabled hack which breaks strict aliasing
>    ! added some fixes to new DLMALLOC code
>    TODO: Test it with MSVC win and wince builds and add _MSC_VER
>          based protection for __forceinline usage (I do not know
>          in which MSVC version it was added).
>          Test it with OS2 GCC and OpenWatcom builds.
>          Test it Darwin and some other *nixes.

Tested with:

- * $Id: ChangeLog 14234 2010-03-25 23:44:10Z druzus $
  2010-03-26 00:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
- OpenWatcom 1.8 for OS/2

on a computer with Core2Duo E8400 3 Ghz

Summary results for:
ST
==
  speedtst
[ total application time: ]....................................18.39
[ total real time: ]...........................................18.38

MT
==
  speedtst
[ total application time: ]....................................26.58
[ total real time: ]...........................................26.70

  speedtst --thread
[ total application time: ].....................................0.26
[ total real time: ]...........................................26.48

  speedtst --thread=2 --scale
[ total application time: ].....................................0.23
[ total real time: ]..........................................105.04


speedtst.txt content included below



Few hours later, same tests with older Harbour 14189:

ST
==
  speedtst
[ total application time: ]....................................18.61
[ total real time: ]...........................................18.67

MT
==
  speedtst
[ total application time: ]....................................26.87
[ total real time: ]...........................................26.85

  speedtst --thread
[ total application time: ].....................................0.26
[ total real time: ]...........................................26.79

  speedtst --thread=2 --scale
[ total application time: ].....................................0.16
[ total real time: ]..........................................107.76

David Macias


2010.03.25 19:49:23 OS/2 4.50
Harbour 2.1.0dev (Rev. 14234) Open Watcom C 12.80 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.06
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.00
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.03
[ T008: x := M->M_N ]...........................................0.00
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.03
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.00
[ T013: x := F_C ]..............................................0.10
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.06
[ T016: x := o:Args ]...........................................0.10
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.39
[ T020: val( s ) ]..............................................0.13
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.29
[ T022: dtos( d - i % 10000 ) ].................................0.29
[ T023: eval( { || i % 16 } ) ].................................0.23
[ T024: eval( bc := { || i % 16 } ) ]...........................0.13
[ T025: eval( { |x| x % 16 }, i ) ].............................0.23
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.16
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.32
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.23
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.26
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.74
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.23
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.29
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.52
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.19
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.23
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.19
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.23
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.19
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.23
[ T040: ascan( a, i % 16 ) ]....................................0.19
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.87
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.65
[ T043: x := a ]................................................0.00
[ T044: x := {} ]...............................................0.03
[ T045: f0() ]..................................................0.03
[ T046: f1( i ) ]...............................................0.13
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.39
[ T052: f2( a ) ]...............................................0.10
[ T053: x := f4() ].............................................0.65
[ T054: x := f5() ].............................................0.19
[ T055: x := space(16) ]........................................0.10
[ T056: f_prv( c ) ]............................................0.32
====================================================================
[ total application time: ]....................................18.39
[ total real time: ]...........................................18.38

2010.03.25 19:50:01 OS/2 4.50
Harbour 2.1.0dev (Rev. 14234) (MT) Open Watcom C 12.80 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.10
[ T002: x := L_N ]..............................................0.10
[ T003: x := L_D ]..............................................0.10
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.06
[ T006: x := S_D ]..............................................0.10
[ T007: x := M->M_C ]...........................................0.10
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.10
[ T010: x := M->P_C ]...........................................0.13
[ T011: x := M->P_N ]...........................................0.06
[ T012: x := M->P_D ]...........................................0.10
[ T013: x := F_C ]..............................................0.23
[ T014: x := F_N ]..............................................0.16
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.19
[ T017: x := o[2] ].............................................0.16
[ T018: round( i / 1000, 2 ) ]..................................0.29
[ T019: str( i / 1000 ) ].......................................0.55
[ T020: val( s ) ]..............................................0.26
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.42
[ T022: dtos( d - i % 10000 ) ].................................0.45
[ T023: eval( { || i % 16 } ) ].................................0.52
[ T024: eval( bc := { || i % 16 } ) ]...........................0.23
[ T025: eval( { |x| x % 16 }, i ) ].............................0.39
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.26
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.52
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.39
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.39
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.16
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.45
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.48
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.81
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.35
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.39
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.35
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.35
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.39
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.35
[ T040: ascan( a, i % 16 ) ]....................................0.32
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.52
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.03
[ T043: x := a ]................................................0.10
[ T044: x := {} ]...............................................0.19
[ T045: f0() ]..................................................0.13
[ T046: f1( i ) ]...............................................0.16
[ T047: f2( c[1...8] ) ]........................................0.16
[ T048: f2( c[1...40000] ) ]....................................0.19
[ T049: f2( @c[1...40000] ) ]...................................0.13
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.19
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.52
[ T052: f2( a ) ]...............................................0.19
[ T053: x := f4() ].............................................0.77
[ T054: x := f5() ].............................................0.35
[ T055: x := space(16) ]........................................0.26
[ T056: f_prv( c ) ]............................................0.58
====================================================================
[ total application time: ]....................................26.58
[ total real time: ]...........................................26.70

2010.03.25 19:50:39 OS/2 4.50
Harbour 2.1.0dev (Rev. 14234) (MT)+ Open Watcom C 12.80 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.23
[ T002: x := L_N ]..............................................0.10
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.16
[ T005: x := S_N ]..............................................0.16
[ T006: x := S_D ]..............................................0.10
[ T007: x := M->M_C ]...........................................0.00
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.00
[ T011: x := M->P_N ]...........................................0.10
[ T012: x := M->P_D ]...........................................0.00
[ T013: x := F_C ]..............................................0.71
[ T014: x := F_N ]..............................................0.68
[ T015: x := F_D ]..............................................0.65
[ T016: x := o:Args ]...........................................0.68
[ T017: x := o[2] ].............................................0.26
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................1.58
[ T020: val( s ) ]..............................................0.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.77
[ T022: dtos( d - i % 10000 ) ].................................1.58
[ T023: eval( { || i % 16 } ) ].................................1.39
[ T024: eval( bc := { || i % 16 } ) ]...........................1.23
[ T025: eval( { |x| x % 16 }, i ) ].............................0.52
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.94
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.13
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................4.23
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................1.45
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.00
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.39
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.55
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.52
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.00
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.00
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.00
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.23
[ T040: ascan( a, i % 16 ) ]....................................0.16
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.94
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.19
[ T043: x := a ]................................................0.35
[ T044: x := {} ]...............................................0.84
[ T045: f0() ]..................................................0.39
[ T046: f1( i ) ]...............................................0.42
[ T047: f2( c[1...8] ) ]........................................0.39
[ T048: f2( c[1...40000] ) ]....................................0.00
[ T049: f2( @c[1...40000] ) ]...................................0.00
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.48
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.29
[ T052: f2( a ) ]...............................................0.77
[ T053: x := f4() ].............................................0.00
[ T054: x := f5() ].............................................0.94
[ T055: x := space(16) ]........................................0.77
[ T056: f_prv( c ) ]............................................0.00
====================================================================
[ total application time: ].....................................0.26
[ total real time: ]...........................................26.48

2010.03.25 19:51:14 OS/2 4.50
Harbour 2.1.0dev (Rev. 14234) (MT)+ Open Watcom C 12.80 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.24   0.24 ->  1.00
[ T002: x := L_N ]____________________________________  0.22   0.23 ->  0.96
[ T003: x := L_D ]____________________________________  0.23   0.22 ->  1.05
[ T004: x := S_C ]____________________________________  0.22   0.23 ->  0.96
[ T005: x := S_N ]____________________________________  0.21   0.21 ->  1.00
[ T006: x := S_D ]____________________________________  0.22   0.21 ->  1.05
[ T007: x := M->M_C ]_________________________________  0.27   0.26 ->  1.04
[ T008: x := M->M_N ]_________________________________  0.21   0.21 ->  1.00
[ T009: x := M->M_D ]_________________________________  0.21   0.21 ->  1.00
[ T010: x := M->P_C ]_________________________________  0.24   0.23 ->  1.04
[ T011: x := M->P_N ]_________________________________  0.21   0.21 ->  1.00
[ T012: x := M->P_D ]_________________________________  0.20   0.22 ->  0.91
[ T013: x := F_C ]____________________________________  0.50   0.52 ->  0.96
[ T014: x := F_N ]____________________________________  0.44   0.44 ->  1.00
[ T015: x := F_D ]____________________________________  0.27   0.28 ->  0.96
[ T016: x := o:Args ]_________________________________  0.44   0.44 ->  1.00
[ T017: x := o[2] ]___________________________________  0.38   0.38 ->  1.00
[ T018: round( i / 1000, 2 ) ]________________________  0.57   0.56 ->  1.02
[ T019: str( i / 1000 ) ]_____________________________  1.16   1.15 ->  1.01
[ T020: val( s ) ]____________________________________  0.52   0.53 ->  0.98
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.90   0.90 ->  1.00
[ T022: dtos( d - i % 10000 ) ]_______________________  0.95   0.95 ->  1.00
[ T023: eval( { || i % 16 } ) ]_______________________  1.03   1.01 ->  1.02
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.47   0.48 ->  0.98
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.79   0.80 ->  0.99
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.55   0.55 ->  1.00
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.02   1.07 ->  0.95
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.81   0.80 ->  1.01
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.74   0.76 ->  0.97
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  6.42   6.78 ->  0.95
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  7.17   7.81 ->  0.92
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.10   1.07 ->  1.03
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.66   1.62 ->  1.02
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.75   0.75 ->  1.00
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.78   0.79 ->  0.99
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.78   0.79 ->  0.99
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.78   0.78 ->  1.00
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.78   0.78 ->  1.00
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.78   0.78 ->  1.00
[ T040: ascan( a, i % 16 ) ]__________________________  0.69   0.71 ->  0.97
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  5.07   5.04 ->  1.01
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  2.11   2.12 ->  1.00
[ T043: x := a ]______________________________________  0.28   0.29 ->  0.97
[ T044: x := {} ]_____________________________________  0.50   0.50 ->  1.00
[ T045: f0() ]________________________________________  0.28   0.29 ->  0.97
[ T046: f1( i ) ]_____________________________________  0.42   0.43 ->  0.98
[ T047: f2( c[1...8] ) ]______________________________  0.43   0.43 ->  1.00
[ T048: f2( c[1...40000] ) ]__________________________  0.43   0.44 ->  0.98
[ T049: f2( @c[1...40000] ) ]_________________________  0.34   0.34 ->  1.00
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.47   0.46 ->  1.02
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.06   1.07 ->  0.99
[ T052: f2( a ) ]_____________________________________  0.47   0.47 ->  1.00
[ T053: x := f4() ]___________________________________  1.65   1.65 ->  1.00
[ T054: x := f5() ]___________________________________  0.77   0.77 ->  1.00
[ T055: x := space(16) ]______________________________  0.51   0.52 ->  0.98
[ T056: f_prv( c ) ]__________________________________  1.18   1.16 ->  1.02
============================================================================
[   TOTAL   ]_________________________________________ 51.88  52.94 ->  0.98
============================================================================
[ total application time: ].....................................0.23
[ total real time: ]..........................................105.04


From druzus at acn.waw.pl  Fri Mar 26 04:11:39 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 26 04:11:47 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <4BAC52D0.9090703@mail.udg.mx>
References: <4BAC52D0.9090703@mail.udg.mx>
Message-ID: <20100326081139.GA22685@linux-4bod.home.aster.pl>

On Fri, 26 Mar 2010, David Arturo Macias Corona wrote:

Hi,

> Tested with:
> - * $Id: ChangeLog 14234 2010-03-25 23:44:10Z druzus $
>  2010-03-26 00:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> - OpenWatcom 1.8 for OS/2
> on a computer with Core2Duo E8400 3 Ghz
> Summary results for:
> ST
> ==
>  speedtst
> [ total application time: ]....................................18.39
> [ total real time: ]...........................................18.38
> 
> MT
> ==
>  speedtst
> [ total application time: ]....................................26.58
> [ total real time: ]...........................................26.70
> 
>  speedtst --thread
> [ total application time: ].....................................0.26
> [ total real time: ]...........................................26.48
> 
>  speedtst --thread=2 --scale
> [ total application time: ].....................................0.23
> [ total real time: ]..........................................105.04
> 
> speedtst.txt content included below
> 
> Few hours later, same tests with older Harbour 14189:
> ST
> ==
>  speedtst
> [ total application time: ]....................................18.61
> [ total real time: ]...........................................18.67
> 
> MT
> ==
>  speedtst
> [ total application time: ]....................................26.87
> [ total real time: ]...........................................26.85
> 
>  speedtst --thread
> [ total application time: ].....................................0.26
> [ total real time: ]...........................................26.79
> 
>  speedtst --thread=2 --scale
> [ total application time: ].....................................0.16
> [ total real time: ]..........................................107.76

Thank you very much for your tests.

Looks that new code is a little bit faster though the recursive spinlocks
introduce some small but noticeable speed overhead. Probably due to cost
of _hb_gettid(). Maybe we will find some workaround for it in the future.
Now it's important that it works.
BTW it looks that your system is not configured to use 2CPUs and everything
is executed using only one. Do you used SMP OS2 release? If not then
scalar factor will always be close to 1.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 26 04:19:36 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 26 04:19:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14233] trunk/harbour
In-Reply-To: <87E4523B-E583-499B-A974-0CB0E205EF20@syenar.hu>
References: <E1NuwE1-00073J-5q@sfp-svn-2.v30.ch3.sourceforge.com>
	<87E4523B-E583-499B-A974-0CB0E205EF20@syenar.hu>
Message-ID: <20100326081936.GB22685@linux-4bod.home.aster.pl>

On Fri, 26 Mar 2010, Szak?ts Viktor wrote:

Hi,

> > 2010-03-26 00:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >  * harbour/src/vm/hvmall.c
> >  * harbour/include/hbstack.h
> >    * reactivated for tests inline ASM code which can be used to access
> >      HVM stack pointer in MT HVM builds. It can be enabled in 32bit
> >      desktop windows Harbour builds by setting HB_ASM_TLS build time macro.
> For mingw 4.4.1 it went from 21.72 to 18.92 (ST: 13.78).

It should give some speed improvement so this is expected. I guess you
tested 32 bit builds.

> For msvc 2008 it went from 21.38 to 23.80 (ST: 13.86).

And this is strange. It should not change MSVC results at all.
The ASM stack inline functions are available only for BCC and MinGW
builds and are used only when native TLS support is not enabled.

> So, it's good as is, and MT users not concerned about 
> Win9x are better to enable for mingw.

Yes though it may not work also with some future windows version.
In fact we do not know what MS plan to do.
It means that checking real code generated by modern MSVC versions
can help us to chose "safe" version which will follow MS plans.

> [ Question how can mingw be such much better than msvc with 
> this option? ]

This option should not effect MSVC builds so I guess different
results are caused by some mistakes or some external events which
strongly change the test conditions.

best regards,
Przemek
From maurilio.longo at libero.it  Fri Mar 26 04:49:39 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Mar 26 04:49:54 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <20100326081139.GA22685@linux-4bod.home.aster.pl>
References: <4BAC52D0.9090703@mail.udg.mx>
	<20100326081139.GA22685@linux-4bod.home.aster.pl>
Message-ID: <4BAC7523.4010607@libero.it>

Przemyslaw,

if we have a thread object and/or a thread local storage area we could call
_gettid() on thread start and save this value which never changes during
thread life.

This saves us a Dos... call every time we need the thread id.

Does this make sense?

Maurilio.

PS. We could also have space for user/cpu times in that area so that we can
write there on thread end and they would be available even after thread end
when the Dos... api call cannot find the thread id anymore.

Przemys?aw Czerpak wrote:
> On Fri, 26 Mar 2010, David Arturo Macias Corona wrote:
> 
> Hi,
> 
>> Tested with:
>> - * $Id: ChangeLog 14234 2010-03-25 23:44:10Z druzus $
>>  2010-03-26 00:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>> - OpenWatcom 1.8 for OS/2
>> on a computer with Core2Duo E8400 3 Ghz
>> Summary results for:
>> ST
>> ==
>>  speedtst
>> [ total application time: ]....................................18.39
>> [ total real time: ]...........................................18.38
>>
>> MT
>> ==
>>  speedtst
>> [ total application time: ]....................................26.58
>> [ total real time: ]...........................................26.70
>>
>>  speedtst --thread
>> [ total application time: ].....................................0.26
>> [ total real time: ]...........................................26.48
>>
>>  speedtst --thread=2 --scale
>> [ total application time: ].....................................0.23
>> [ total real time: ]..........................................105.04
>>
>> speedtst.txt content included below
>>
>> Few hours later, same tests with older Harbour 14189:
>> ST
>> ==
>>  speedtst
>> [ total application time: ]....................................18.61
>> [ total real time: ]...........................................18.67
>>
>> MT
>> ==
>>  speedtst
>> [ total application time: ]....................................26.87
>> [ total real time: ]...........................................26.85
>>
>>  speedtst --thread
>> [ total application time: ].....................................0.26
>> [ total real time: ]...........................................26.79
>>
>>  speedtst --thread=2 --scale
>> [ total application time: ].....................................0.16
>> [ total real time: ]..........................................107.76
> 
> Thank you very much for your tests.
> 
> Looks that new code is a little bit faster though the recursive spinlocks
> introduce some small but noticeable speed overhead. Probably due to cost
> of _hb_gettid(). Maybe we will find some workaround for it in the future.
> Now it's important that it works.
> BTW it looks that your system is not configured to use 2CPUs and everything
> is executed using only one. Do you used SMP OS2 release? If not then
> scalar factor will always be close to 1.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Fri Mar 26 04:59:09 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 26 04:59:18 2010
Subject: [Harbour] Warnings in current code
Message-ID: <20100326085909.GA23150@linux-4bod.home.aster.pl>

Hi,

This warning is generated for hbpgsql library:

../../../postgres.c: In function ?HB_FUN_PQESCAPEBYTEA?:
../../../postgres.c:816: warning: dereferencing type-punned pointer will break strict-aliasing rules

This is real bug and definitely has to be fixed, it passes pointer
to HB_SIZE casted to pointer to size_t. On platforms like Win64 it's
buffer overflow bug.
Can someone familiar with this code fix it?
i.e. it may looks like:

HB_FUNC( PQESCAPEBYTEA ) /* deprecated */
{
   size_t from_length = ( size_t ) hb_parclen( 1 );
   size_t to_length = from_length * 5 + 1;
   unsigned char * to = PQescapeBytea( ( const unsigned char * ) hb_parcx( 1 ),
                                         from_length, &to_length );
   hb_retclen( ( char * ) to, to_length );
   PQfreemem( to );
}

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar 26 05:10:33 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 26 05:10:48 2010
Subject: [Harbour] gtwvg break harbour again
Message-ID: <071EBF4F-D17F-45D8-B277-0BD2268C3156@syenar.hu>

Hi All,

-----
cl.exe -I../../../../../contrib/hbwin  -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 -EHs-c- -DHB_LEGACY_TYPES_OFF  -DUNICODE  -Fowvgcore.obj -c ../../.
./wvgcore.c
wvgcore.c
C:\Program Files\Microsoft SDKs\Windows\v7.0\include\shobjidl.h(32807) : error C2787: 'IShellLibrary' : no GUID has been associated with this object
C:\Program Files\Microsoft SDKs\Windows\v7.0\include\shobjidl.h(32810) : error C2039: 'LoadLibraryFromItem' : is not a member of 'IShellLibrary'
        C:\Program Files\Microsoft SDKs\Windows\v7.0\include\shobjidl.h(32237) : see declaration of 'IShellLibrary'
C:\Program Files\Microsoft SDKs\Windows\v7.0\include\shobjidl.h(32813) : error C2039: 'QueryInterface' : is not a member of 'IShellLibrary'
        C:\Program Files\Microsoft SDKs\Windows\v7.0\include\shobjidl.h(32237) : see declaration of 'IShellLibrary'
-----

Can someone pls finally clean GTWVG OLE code to work for all 
compilers? I've tried but can't allocate more weeks for this 
contribs. Now it breaks simple msvc build.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Mar 26 05:13:29 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 26 05:13:39 2010
Subject: [Harbour] Warnings in current code
In-Reply-To: <20100326085909.GA23150@linux-4bod.home.aster.pl>
References: <20100326085909.GA23150@linux-4bod.home.aster.pl>
Message-ID: <A455CBE9-B423-4572-B7E2-1F5EF436E141@syenar.hu>

Hi,

> This warning is generated for hbpgsql library:
> 
> ../../../postgres.c: In function ?HB_FUN_PQESCAPEBYTEA?:
> ../../../postgres.c:816: warning: dereferencing type-punned pointer will break strict-aliasing rules
> 
> This is real bug and definitely has to be fixed, it passes pointer
> to HB_SIZE casted to pointer to size_t. On platforms like Win64 it's
> buffer overflow bug.
> Can someone familiar with this code fix it?
> i.e. it may looks like:
> 
> HB_FUNC( PQESCAPEBYTEA ) /* deprecated */
> {
>   size_t from_length = ( size_t ) hb_parclen( 1 );
>   size_t to_length = from_length * 5 + 1;
>   unsigned char * to = PQescapeBytea( ( const unsigned char * ) hb_parcx( 1 ),
>                                         from_length, &to_length );
>   hb_retclen( ( char * ) to, to_length );
>   PQfreemem( to );
> }

Pls just delete this function, the low-level API 
is deprecated (I assume since long years), so it's 
not worth to spend much time on it, and maybe it 
cannot even be fixed since the API may just be 
wrongly designed.

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Mar 26 05:21:24 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 26 05:21:32 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <4BAC7523.4010607@libero.it>
References: <4BAC52D0.9090703@mail.udg.mx>
	<20100326081139.GA22685@linux-4bod.home.aster.pl>
	<4BAC7523.4010607@libero.it>
Message-ID: <20100326092124.GA23264@linux-4bod.home.aster.pl>

On Fri, 26 Mar 2010, Maurilio Longo wrote:

Hi,

> if we have a thread object and/or a thread local storage area we could call
> _gettid() on thread start and save this value which never changes during
> thread life.
> This saves us a Dos... call every time we need the thread id.
> Does this make sense?

Yes and I thought about it.
Anyhow because we may want to make some Harbour VM functions available
for non HVM threads then we should have code which will make such
TLS initialization online if necesary, i.e. current _hb_gettid():

   ULONG _hb_gettid( void )
   {
      ULONG tid = 0;
      PTIB  ptib = NULL;

      if( DosGetInfoBlocks( &ptib, NULL ) == NO_ERROR )
         tid = ptib->tib_ptib2->tib2_ultid;

      return tid;
   }

should be replaced by sth like:

   ULONG _hb_gettid( void )
   {
      static PULONG s_pThID = NULL;

      if( !s_pThID )
      {
         DosAllocThreadLocalMemory( 1, &s_pThID );
         *s_pThID = 0;
      }
      if( ! *s_pThID )
      {
         PTIB  ptib = NULL;
         if( DosGetInfoBlocks( &ptib, NULL ) == NO_ERROR )
            *s_pThID = ptib->tib_ptib2->tib2_ultid;
      }
      return *s_pThID;
   }

But before I'll make any modifications in core code I would like to see
real test results. It's possible that DosAllocThreadLocalMemory() is
already highly optimized by compiler.

Can you check the performance of above functions in some simple loop?

> PS. We could also have space for user/cpu times in that area so that we can
> write there on thread end and they would be available even after thread end
> when the Dos... api call cannot find the thread id anymore.

When threads ends then it's TLS area is freed so such information will be
lost in a while.
Anyhow we can try to add the terminated thread time to some normal
global variable and then use this value in some special functions
returning total CPU time consumed by application. Still not perfect
because it will not count running thread time but for tests like
speedtst.prg should be enough.
Anyhow here we may also want to make different modification and if
possible introduce code which will count total thread time only
like in OS2 also for other platforms and the update speedtst to
use it. The final results of './speedtst --thread' will be much
more clear in such version.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 26 05:23:46 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Mar 26 05:23:53 2010
Subject: [Harbour] Warnings in current code
In-Reply-To: <A455CBE9-B423-4572-B7E2-1F5EF436E141@syenar.hu>
References: <20100326085909.GA23150@linux-4bod.home.aster.pl>
	<A455CBE9-B423-4572-B7E2-1F5EF436E141@syenar.hu>
Message-ID: <20100326092346.GA25930@linux-4bod.home.aster.pl>

On Fri, 26 Mar 2010, Szak?ts Viktor wrote:

Hi,

> Pls just delete this function, the low-level API 
> is deprecated (I assume since long years), so it's 
> not worth to spend much time on it, and maybe it 
> cannot even be fixed since the API may just be 
> wrongly designed.

OK, thank you for the info.
I'll do that in next commit.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar 26 05:34:29 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 26 05:34:41 2010
Subject: [Harbour] Warnings in current code
In-Reply-To: <20100326092346.GA25930@linux-4bod.home.aster.pl>
References: <20100326085909.GA23150@linux-4bod.home.aster.pl>
	<A455CBE9-B423-4572-B7E2-1F5EF436E141@syenar.hu>
	<20100326092346.GA25930@linux-4bod.home.aster.pl>
Message-ID: <37C86C4B-028C-45C4-B90F-6257E1D4D878@syenar.hu>

>> Pls just delete this function, the low-level API 
>> is deprecated (I assume since long years), so it's 
>> not worth to spend much time on it, and maybe it 
>> cannot even be fixed since the API may just be 
>> wrongly designed.
> 
> OK, thank you for the info.
> I'll do that in next commit.

Thank you. Here's the header snippet with some 
possible replacement functions, maybe it's useful:

---
/* Quoting strings before inclusion in queries. */
extern size_t PQescapeStringConn(PGconn *conn,
				   char *to, const char *from, size_t length,
				   int *error);
extern unsigned char *PQescapeByteaConn(PGconn *conn,
				  const unsigned char *from, size_t from_length,
				  size_t *to_length);
extern unsigned char *PQunescapeBytea(const unsigned char *strtext,
				size_t *retbuflen);

/* These forms are deprecated! */
extern size_t PQescapeString(char *to, const char *from, size_t length);
extern unsigned char *PQescapeBytea(const unsigned char *from, size_t from_length,
			  size_t *to_length);
---

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Mar 26 05:52:48 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 26 05:52:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14236] trunk/harbour
Message-ID: <E1Nv6Dg-0001fY-Pi@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14236
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14236&view=rev
Author:   vszakats
Date:     2010-03-26 09:52:47 +0000 (Fri, 26 Mar 2010)

Log Message:
-----------
2010-03-26 10:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvgcuig.c
  * contrib/gtwvg/wvggui.h
    ! Further cleanup to OLE usage and related headers.
    ! Deleted some unnecessary headers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvgcuig.c
    trunk/harbour/contrib/gtwvg/wvggui.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Fri Mar 26 06:27:35 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Mar 26 06:27:51 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <20100326092124.GA23264@linux-4bod.home.aster.pl>
References: <4BAC52D0.9090703@mail.udg.mx>	<20100326081139.GA22685@linux-4bod.home.aster.pl>	<4BAC7523.4010607@libero.it>
	<20100326092124.GA23264@linux-4bod.home.aster.pl>
Message-ID: <4BAC8C17.2080309@libero.it>

Przemyslaw,

Przemys?aw Czerpak wrote:
> But before I'll make any modifications in core code I would like to see
> real test results. It's possible that DosAllocThreadLocalMemory() is
> already highly optimized by compiler.
> 
> Can you check the performance of above functions in some simple loop?
> 
See attached code, it gives these results on my PC when compiled with

gcc -O3 -Wall -o gettid.exe gettid.c

(E:\harbour\test)gettid
Time _hb_gettid() 688
Time _gettid() 1787

The numers are in milliseconds for a 100 million times loop.

> When threads ends then it's TLS area is freed so such information will be
> lost in a while.

Yes, but if we have an object on HVM, this object could have those numbers and
they'll stay there until the object is disposed.

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: gettid.c
Type: image/x-xbitmap
Size: 1352 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100326/ac3c3f33/gettid-0001.xbm
From dbtopas at dbtopas.lt  Fri Mar 26 07:59:48 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Mar 26 08:00:22 2010
Subject: [Harbour] mingw MT mode performance
In-Reply-To: <20100325230407.GA5001@linux-4bod.home.aster.pl>
References: <5AC46A01-AD4A-4B0A-9F27-3F98EA9B9379@syenar.hu>	<20100325204442.GA32689@linux-4bod.home.aster.pl>	<7E6418C0-60B8-40F7-A26B-79F71AA85A86@syenar.hu>	<20100325220543.GA930@linux-4bod.home.aster.pl>	<AB7FB0D0-1769-40B5-9A20-BE2A99CCCF7A@syenar.hu>
	<20100325230407.GA5001@linux-4bod.home.aster.pl>
Message-ID: <4BACA1B4.7020304@dbtopas.lt>

Hi,


> I suggest to start with small test to check the code produced by
> MS for thread local variables. Knowing MS I will not be very surprised
> if it's already well tuned code which does not call internally TlsGetValue()
> at all so there is not place for noticeable improvement.
> I think that we need Mindaugas help here. In the past he checked
> code generated by BCC and created ASM inline macros for BCC builds.
> The MinGW inline ASM function I added later is only translation of
> initial Mindaugas code.
> Mindaugas any chance that you can check the code generated by MSVC
> which access thread local variables for WinXP@32 and Win64?

I do not have any Win64 disassembler, but I think I can do some reverse 
engineering by hand (and brain) :)

Regards,
Mindaugas

From harbour.01 at syenar.hu  Fri Mar 26 08:06:21 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 26 08:06:35 2010
Subject: [Harbour] mingw MT mode performance
In-Reply-To: <4BACA1B4.7020304@dbtopas.lt>
References: <5AC46A01-AD4A-4B0A-9F27-3F98EA9B9379@syenar.hu>	<20100325204442.GA32689@linux-4bod.home.aster.pl>	<7E6418C0-60B8-40F7-A26B-79F71AA85A86@syenar.hu>	<20100325220543.GA930@linux-4bod.home.aster.pl>	<AB7FB0D0-1769-40B5-9A20-BE2A99CCCF7A@syenar.hu>
	<20100325230407.GA5001@linux-4bod.home.aster.pl>
	<4BACA1B4.7020304@dbtopas.lt>
Message-ID: <7CF6EA63-A086-4B31-8604-80DDB60BD47C@syenar.hu>

>> I suggest to start with small test to check the code produced by
>> MS for thread local variables. Knowing MS I will not be very surprised
>> if it's already well tuned code which does not call internally TlsGetValue()
>> at all so there is not place for noticeable improvement.
>> I think that we need Mindaugas help here. In the past he checked
>> code generated by BCC and created ASM inline macros for BCC builds.
>> The MinGW inline ASM function I added later is only translation of
>> initial Mindaugas code.
>> Mindaugas any chance that you can check the code generated by MSVC
>> which access thread local variables for WinXP@32 and Win64?
> 
> I do not have any Win64 disassembler, but I think I can do some reverse engineering by hand (and brain) :)

Download objconv from this link:
   http://www.agner.org/optimize/

BTW, the papers are also very interesting.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Mar 26 08:34:22 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 26 08:34:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14237] trunk/harbour
Message-ID: <E1Nv8k2-0004H7-Gt@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14237
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14237&view=rev
Author:   vszakats
Date:     2010-03-26 12:34:21 +0000 (Fri, 26 Mar 2010)

Log Message:
-----------
2010-03-26 13:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbssl/ssl.c
  * contrib/hbssl/x509.c
  * contrib/hbssl/sslctx.c
    ! Attempt to fix compilation error using 0.9.8m and 1.0.0betas.

  * config/detect.mk
    + Enabled OpenSSL for bcc. I'm not exactly sure what is the factor here,
      it used to work once, then it didn't, now it works again. Maybe related
      to OpenSSL version. Now tested with 0.9.8m.
    + Enabled OpenSSL for watcom. Same as above, maybe 1.8 fixed it, maybe
      new OpenSSL version. Maybe someone will invest time to find out.
    ! Disabled OpenSSL for wce platform. Again, the exact circumstances
      are shady, but even 0.9.8m needs errno.h, which is not present
      in C compilers targeting WinCE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detect.mk
    trunk/harbour/contrib/hbssl/ssl.c
    trunk/harbour/contrib/hbssl/sslctx.c
    trunk/harbour/contrib/hbssl/x509.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Fri Mar 26 08:47:53 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Mar 26 08:48:25 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14224] trunk/harbour
Message-ID: <4BACACF9.6050407@mail.udg.mx>

Przemek:

 >BTW it looks that your system is not configured to use 2CPUs and
 >everything is executed using only one. Do you used SMP OS2 release? If
 >not then scalar factor will always be close to 1.

When I installed this version of OS/2 ( eComStation 2.0rc6a ) I tested 
with multi-core enabled, but behaviour was erratic and with freezes, so 
I left in safe-side disabling multi-core

I am not so lucky as Maurilio with his eComStation 2.0 Silver  :-)

David Macias


From dmacias at mail.udg.mx  Fri Mar 26 08:54:37 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Mar 26 08:54:46 2010
Subject: [Harbour] Re: OS/2: Harbour 14189, hbqt
Message-ID: <4BACAE8D.9040408@mail.udg.mx>

Pritpal:

 >Probably fixed in r14198, please test.
 >It is again a "destruction of object" issue.

Yes, it is fixed and hbide.exe is working, but with failure in closing 
any dialog

David Macias

From wcshum88 at hotmail.com  Fri Mar 26 09:29:22 2010
From: wcshum88 at hotmail.com (Shum)
Date: Fri Mar 26 09:29:29 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
Message-ID: <1269610162158-4803834.post@n2.nabble.com>


Hi Harbour developers,

I would like to ask the Str2Pointer(cStr) and Pointer2Pointer(pPtr) function
...

Something like in xHarbour HB_String2Pointer(cStr) and (
HB_Pointer2Str(pPtr,nByte) or Stringof() in C langurage ...)


Shum
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4803834.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From itamarlins at gmail.com  Fri Mar 26 09:52:56 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Mar 26 09:53:14 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <hoie7h$o36$1@dough.gmane.org>

Hi!
My envar is:
HB_WITH_PGSQL=C:\Arquivos de programas\PostgreSQL\8.4\include
HB_BUILD_IMPLIB=yes

C:\harbour\trunk\harbour>win_make clean install
...
! 'sddpg' library skipped ('postgresql' not found. Configure with 
HB_WITH_PGSQL.
)
! Making hbrun with application icon...
hbmk2: Processing environment options: -platform=win -compiler=mingw
hbmk2: Warning: Source dynamic library not found: C:/Arquivos de
        programas/PostgreSQL/8.4/include../lib/libpq.dll

Best regards,
Itamar M. Lins jr.


Em 25/3/2010 19:20, 
vszakats@users.sourceforge.net escreveu:
> Revision: 14232
>            http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14232&view=rev
> Author:   vszakats
> Date:     2010-03-25 22:20:19 +0000 (Thu, 25 Mar 2010)
>
> Log Message:
> -----------
> 2010-03-25 23:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>    ! bin/postinst.bat
>      Fixed to not make unnecessary hbmk2 calls and warnings for
>      unset external components when HB_BUILD_IMPLIB=yes.
>      sf.bet bug #2976700
>
> Modified Paths:
> --------------
>      trunk/harbour/ChangeLog
>      trunk/harbour/bin/postinst.bat
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.


From harbour.01 at syenar.hu  Fri Mar 26 09:57:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 26 09:57:48 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <hoie7h$o36$1@dough.gmane.org>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>
	<hoie7h$o36$1@dough.gmane.org>
Message-ID: <FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>

From INSTALL:
---
4. HOW TO ENABLE OPTIONAL COMPONENTS BEFORE BUILD
=================================================
[...]
          - Spaces in directory names aren't currently supported.
---

Brgds,
Viktor

On 2010 Mar 26, at 14:52, Itamar Lins wrote:

> Hi!
> My envar is:
> HB_WITH_PGSQL=C:\Arquivos de programas\PostgreSQL\8.4\include
> HB_BUILD_IMPLIB=yes
> 
> C:\harbour\trunk\harbour>win_make clean install
> ...
> ! 'sddpg' library skipped ('postgresql' not found. Configure with HB_WITH_PGSQL.
> )
> ! Making hbrun with application icon...
> hbmk2: Processing environment options: -platform=win -compiler=mingw
> hbmk2: Warning: Source dynamic library not found: C:/Arquivos de
>       programas/PostgreSQL/8.4/include../lib/libpq.dll
> 
> Best regards,
> Itamar M. Lins jr.
> 
> 
> Em 25/3/2010 19:20, vszakats@users.sourceforge.net escreveu:
>> Revision: 14232
>>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14232&view=rev
>> Author:   vszakats
>> Date:     2010-03-25 22:20:19 +0000 (Thu, 25 Mar 2010)
>> 
>> Log Message:
>> -----------
>> 2010-03-25 23:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>   ! bin/postinst.bat
>>     Fixed to not make unnecessary hbmk2 calls and warnings for
>>     unset external components when HB_BUILD_IMPLIB=yes.
>>     sf.bet bug #2976700
>> 
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/bin/postinst.bat
>> 
>> 
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From itamarlins at gmail.com  Fri Mar 26 10:04:59 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Mar 26 10:05:15 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>
	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>
Message-ID: <hoieu2$q85$1@dough.gmane.org>

Hi!
unfortunately the default installation of any program in Windows uses 
this folder

Best regards,
Itamar M. Lins Jr.

Em 26/3/2010 10:57, Viktor Szak?ts escreveu:
>  From INSTALL:
> ---
> 4. HOW TO ENABLE OPTIONAL COMPONENTS BEFORE BUILD
> =================================================
> [...]
>            - Spaces in directory names aren't currently supported.
> ---
>
> Brgds,
> Viktor
>
> On 2010 Mar 26, at 14:52, Itamar Lins wrote:
>
>> Hi!
>> My envar is:
>> HB_WITH_PGSQL=C:\Arquivos de programas\PostgreSQL\8.4\include
>> HB_BUILD_IMPLIB=yes
>>
>> C:\harbour\trunk\harbour>win_make clean install
>> ...
>> ! 'sddpg' library skipped ('postgresql' not found. Configure with HB_WITH_PGSQL.
>> )
>> ! Making hbrun with application icon...
>> hbmk2: Processing environment options: -platform=win -compiler=mingw
>> hbmk2: Warning: Source dynamic library not found: C:/Arquivos de
>>        programas/PostgreSQL/8.4/include../lib/libpq.dll
>>
>> Best regards,
>> Itamar M. Lins jr.
>>
>>
>> Em 25/3/2010 19:20, vszakats@users.sourceforge.net escreveu:
>>> Revision: 14232
>>>            http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14232&view=rev
>>> Author:   vszakats
>>> Date:     2010-03-25 22:20:19 +0000 (Thu, 25 Mar 2010)
>>>
>>> Log Message:
>>> -----------
>>> 2010-03-25 23:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>>    ! bin/postinst.bat
>>>      Fixed to not make unnecessary hbmk2 calls and warnings for
>>>      unset external components when HB_BUILD_IMPLIB=yes.
>>>      sf.bet bug #2976700
>>>
>>> Modified Paths:
>>> --------------
>>>      trunk/harbour/ChangeLog
>>>      trunk/harbour/bin/postinst.bat
>>>
>>>
>>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>


From vszakats at users.sourceforge.net  Fri Mar 26 10:06:04 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 26 10:06:13 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14238] trunk/harbour
Message-ID: <E1NvAAm-000589-C2@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14238
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14238&view=rev
Author:   vszakats
Date:     2010-03-26 14:06:03 +0000 (Fri, 26 Mar 2010)

Log Message:
-----------
2010-03-26 15:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    * Minor cleanup to use native pathseps in hb_FileExists() call.

  * bin/postinst.bat
    ! Fixed missing '\' when forming PGSQL .dll path.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Mar 26 10:12:26 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 26 10:12:40 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <hoieu2$q85$1@dough.gmane.org>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>
	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>
	<hoieu2$q85$1@dough.gmane.org>
Message-ID: <D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>

> Hi!
> unfortunately the default installation of any program in Windows uses this folder

I can't do anything about it. [ BTW hbmk2 supports such 
paths, the problematic part if GNU Make. ]

I have all existing external components configured for Harbour 
and none of them use such locations, so it's possible to 
avoid it.

Brgds,
Viktor

From itamarlins at gmail.com  Fri Mar 26 10:33:24 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Mar 26 10:33:48 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>	<hoieu2$q85$1@dough.gmane.org>
	<D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>
Message-ID: <hoigjc$2eh$1@dough.gmane.org>

With new update SVN, ChangeLog 14238

-----------------------
! Making C:\DEV\HARBOUR\bin\hbmk.cfg...
.\bin\postinst.bat
! Making shared version of Harbour binaries...
! Making hbrun with application icon...
hbmk2: Processing environment options: -platform=win -compiler=mingw
hbmk2: Created import library: C:/DEV/HARBOUR/lib/win/mingw/libpq <=
        C:/Arquivos de programas/PostgreSQL/8.4/include/../lib/libpq.dll

O sistema n?o pode encontrar o caminho especificado.
O sistema n?o pode encontrar o caminho especificado.
O sistema n?o pode encontrar o caminho especificado.

C:\harbour\trunk\harbour>
--------------------------

These three messages on error:
"O sistema n?o pode encontrar o caminho especificado"
Translation of google. The system can not find the path specified.

It also created the file libpg without the extension. ".a"

Best regards,
Itamar M. Lins Jr.


Em 26/3/2010 11:12, Viktor Szak?ts escreveu:
>> Hi!
>> unfortunately the default installation of any program in Windows uses this folder
>
> I can't do anything about it. [ BTW hbmk2 supports such
> paths, the problematic part if GNU Make. ]
>
> I have all existing external components configured for Harbour
> and none of them use such locations, so it's possible to
> avoid it.
>
> Brgds,
> Viktor
>


From harbour.01 at syenar.hu  Fri Mar 26 10:43:09 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Mar 26 10:43:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14233] trunk/harbour
In-Reply-To: <20100326081936.GB22685@linux-4bod.home.aster.pl>
References: <E1NuwE1-00073J-5q@sfp-svn-2.v30.ch3.sourceforge.com>
	<87E4523B-E583-499B-A974-0CB0E205EF20@syenar.hu>
	<20100326081936.GB22685@linux-4bod.home.aster.pl>
Message-ID: <F60BC486-0E69-4238-9C50-4917862D58EE@syenar.hu>

Hi Przemek,

Yes, my bad with the report for msvc. Results are identical.

Brgds,
Viktor

On 2010 Mar 26, at 09:19, Przemys?aw Czerpak wrote:

> On Fri, 26 Mar 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>>> 2010-03-26 00:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>>> * harbour/src/vm/hvmall.c
>>> * harbour/include/hbstack.h
>>>   * reactivated for tests inline ASM code which can be used to access
>>>     HVM stack pointer in MT HVM builds. It can be enabled in 32bit
>>>     desktop windows Harbour builds by setting HB_ASM_TLS build time macro.
>> For mingw 4.4.1 it went from 21.72 to 18.92 (ST: 13.78).
> 
> It should give some speed improvement so this is expected. I guess you
> tested 32 bit builds.
> 
>> For msvc 2008 it went from 21.38 to 23.80 (ST: 13.86).
> 
> And this is strange. It should not change MSVC results at all.
> The ASM stack inline functions are available only for BCC and MinGW
> builds and are used only when native TLS support is not enabled.
> 
>> So, it's good as is, and MT users not concerned about 
>> Win9x are better to enable for mingw.
> 
> Yes though it may not work also with some future windows version.
> In fact we do not know what MS plan to do.
> It means that checking real code generated by modern MSVC versions
> can help us to chose "safe" version which will follow MS plans.
> 
>> [ Question how can mingw be such much better than msvc with 
>> this option? ]
> 
> This option should not effect MSVC builds so I guess different
> results are caused by some mistakes or some external events which
> strongly change the test conditions.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Mar 26 10:44:55 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 26 10:45:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14239] trunk/harbour
Message-ID: <E1NvAmN-0004Al-LO@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14239
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14239&view=rev
Author:   vszakats
Date:     2010-03-26 14:44:54 +0000 (Fri, 26 Mar 2010)

Log Message:
-----------
2010-03-26 15:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed decorating implib name in -mkimplib option if the name 
      contained dir component.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Mar 26 10:47:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 26 10:47:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14240] trunk/harbour
Message-ID: <E1NvAod-0004FM-SO@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14240
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14240&view=rev
Author:   vszakats
Date:     2010-03-26 14:47:14 +0000 (Fri, 26 Mar 2010)

Log Message:
-----------
2010-03-26 15:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
    ! Correction to ocilib "implib" generation exception.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Fri Mar 26 10:49:03 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Mar 26 10:49:28 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <hoieu2$q85$1@dough.gmane.org>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>
	<hoieu2$q85$1@dough.gmane.org>
Message-ID: <4BACC95F.8020401@gmail.com>

Try to use short path name .-

dir c:\*.* /X

Use ARQUIV~1

HTH
-- 
Xavi

El 26/03/2010 15:04, Itamar Lins escribi?:
> Hi!
> unfortunately the default installation of any program in Windows uses
> this folder
>
> Best regards,
> Itamar M. Lins Jr.
>
> Em 26/3/2010 10:57, Viktor Szak?ts escreveu:
>> From INSTALL:
>> ---
>> 4. HOW TO ENABLE OPTIONAL COMPONENTS BEFORE BUILD
>> =================================================
>> [...]
>> - Spaces in directory names aren't currently supported.
>> ---
>>
>> Brgds,
>> Viktor
>>
>> On 2010 Mar 26, at 14:52, Itamar Lins wrote:
>>
>>> Hi!
>>> My envar is:
>>> HB_WITH_PGSQL=C:\Arquivos de programas\PostgreSQL\8.4\include
>>> HB_BUILD_IMPLIB=yes
>>>
>>> C:\harbour\trunk\harbour>win_make clean install
>>> ...
>>> ! 'sddpg' library skipped ('postgresql' not found. Configure with
>>> HB_WITH_PGSQL.
>>> )
>>> ! Making hbrun with application icon...
>>> hbmk2: Processing environment options: -platform=win -compiler=mingw
>>> hbmk2: Warning: Source dynamic library not found: C:/Arquivos de
>>> programas/PostgreSQL/8.4/include../lib/libpq.dll
>>>
>>> Best regards,
>>> Itamar M. Lins jr.
>>>
>>>
>>> Em 25/3/2010 19:20, vszakats@users.sourceforge.net escreveu:
>>>> Revision: 14232
>>>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14232&view=rev
>>>>
>>>> Author: vszakats
>>>> Date: 2010-03-25 22:20:19 +0000 (Thu, 25 Mar 2010)
>>>>
>>>> Log Message:
>>>> -----------
>>>> 2010-03-25 23:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>>> ! bin/postinst.bat
>>>> Fixed to not make unnecessary hbmk2 calls and warnings for
>>>> unset external components when HB_BUILD_IMPLIB=yes.
>>>> sf.bet bug #2976700
>>>>
>>>> Modified Paths:
>>>> --------------
>>>> trunk/harbour/ChangeLog
>>>> trunk/harbour/bin/postinst.bat
>>>>
>>>>
>>>> This was sent by the SourceForge.net collaborative development
>>>> platform, the world's largest Open Source development site.
>>>
From itamarlins at gmail.com  Fri Mar 26 10:57:14 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Mar 26 10:57:33 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>	<hoieu2$q85$1@dough.gmane.org>
	<D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>
Message-ID: <hoii02$81s$1@dough.gmane.org>

Thanks!
With ChangeLog 14240 works fine!

Best regards,
Itamar M. Lins Jr.

From itamarlins at gmail.com  Fri Mar 26 11:07:48 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Mar 26 11:08:20 2010
Subject: [Harbour] pgrdd problem
Message-ID: <hoiijt$b0d$1@dough.gmane.org>

Hi!
C:\harbour\trunk\harbour\contrib\hbpgsql>hbmk2 pgrdd.prg
hbmk2: Processando arquivo de configura??o: C:\DEV\HARBOUR\bin\hbmk.cfg
hbmk2: Processando: hbpgsql.hbc
Harbour 2.1.0dev (Rev. 14236)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'pgrdd.prg'...
Lines 1224, Functions/Procedures 24
Generating C source output to 
'C:\DOCUME~1\ADMINI~1\CONFIG~1\Temp\pgrdd.c'... Do
ne.
c:/mingw/bin/../lib/gcc/mingw32/4.4.1/../../../../mingw32/bin/ld.exe: 
cannot find -lhbpgsql
collect2: ld returned 1 exit status

How to create hbpgsql lib ?

Best regards,
Itamar M. Lins Jr.

From itamarlins at gmail.com  Fri Mar 26 11:58:49 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Mar 26 11:59:19 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <hoii02$81s$1@dough.gmane.org>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>	<hoieu2$q85$1@dough.gmane.org>	<D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>
	<hoii02$81s$1@dough.gmane.org>
Message-ID: <hoiljq$ncs$1@dough.gmane.org>

oops!
The problem is name of file LIBLIBPQ.A
and if I am configured envar:
HB_WITH_PGSQL=C:\Arquivos de programas\PostgreSQL\8.4\include
This is message is wrong ?
! 'sddpg' library skipped ('postgresql' not found. Configure with 
HB_WITH_PGSQL.
And not creating lib contrib files of hbpgsql

Best regards,
Itamar M. Lins Jr.


---------------------------------------
! 'sddpg' library skipped ('postgresql' not found. Configure with 
HB_WITH_PGSQL.
)
win-make.exe[3]: `../../../../../lib/win/mingw/libsddsqlt3.a' is up to date.
         1 arquivo(s) copiado(s).
win-make.exe[3]: `../../../../../lib/win/mingw/libhbxbp.a' is up to date.
         1 arquivo(s) copiado(s).
         1 arquivo(s) copiado(s).
         1 arquivo(s) copiado(s).
         1 arquivo(s) copiado(s).
         1 arquivo(s) copiado(s).
./bin/win/mingw/hbrun.exe --hb:gtcgi ./bin/postinst.prg
! Making C:\DEV\HARBOUR\bin\hbmk.cfg...
.\bin\postinst.bat
! Making shared version of Harbour binaries...
! Making hbrun with application icon...
hbmk2: Processing environment options: -platform=win -compiler=mingw
hbmk2: Created import library: C:/DEV/HARBOUR/lib/win/mingw/liblibpq.a <=
        C:/Arquivos de programas/PostgreSQL/8.4/include/../lib/libpq.dll

C:\harbour\trunk\harbour>
------------------------------------------------

From harbour.01 at syenar.hu  Fri Mar 26 12:02:44 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 26 12:02:56 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <hoiljq$ncs$1@dough.gmane.org>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>	<hoieu2$q85$1@dough.gmane.org>	<D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>
	<hoii02$81s$1@dough.gmane.org> <hoiljq$ncs$1@dough.gmane.org>
Message-ID: <CBB3062A-EEEC-496D-AE04-9FFB7712FEEA@syenar.hu>

I think you should read the answers you're getting 
to your questions. Or just read INSTALL.

Brgds,
Viktor

On 2010 Mar 26, at 16:58, Itamar Lins wrote:

> oops!
> The problem is name of file LIBLIBPQ.A
> and if I am configured envar:
> HB_WITH_PGSQL=C:\Arquivos de programas\PostgreSQL\8.4\include
> This is message is wrong ?
> ! 'sddpg' library skipped ('postgresql' not found. Configure with HB_WITH_PGSQL.
> And not creating lib contrib files of hbpgsql
> 
> Best regards,
> Itamar M. Lins Jr.
> 
> 
> ---------------------------------------
> ! 'sddpg' library skipped ('postgresql' not found. Configure with HB_WITH_PGSQL.
> )
> win-make.exe[3]: `../../../../../lib/win/mingw/libsddsqlt3.a' is up to date.
>        1 arquivo(s) copiado(s).
> win-make.exe[3]: `../../../../../lib/win/mingw/libhbxbp.a' is up to date.
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
> ./bin/win/mingw/hbrun.exe --hb:gtcgi ./bin/postinst.prg
> ! Making C:\DEV\HARBOUR\bin\hbmk.cfg...
> .\bin\postinst.bat
> ! Making shared version of Harbour binaries...
> ! Making hbrun with application icon...
> hbmk2: Processing environment options: -platform=win -compiler=mingw
> hbmk2: Created import library: C:/DEV/HARBOUR/lib/win/mingw/liblibpq.a <=
>       C:/Arquivos de programas/PostgreSQL/8.4/include/../lib/libpq.dll
> 
> C:\harbour\trunk\harbour>
> ------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Mar 26 12:34:49 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 26 12:34:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14241] trunk/harbour
Message-ID: <E1NvCUj-0002tV-HS@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14241
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14241&view=rev
Author:   vszakats
Date:     2010-03-26 16:34:48 +0000 (Fri, 26 Mar 2010)

Log Message:
-----------
2010-03-26 17:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/postgres.c
    ! PQESCAPEBYTEA(): Fixed wrong size casts.
    ! PQESCAPEBYTEA(): Fixed to return string with correct length.
    + PQESCAPEBYTEA(), PQUNESCAPEBYTEA(): Will now RTE if parameter is not string.
      (to be in sync with PQESCAPEBYTEACONN())
    ! PQESCAPEBYTEACONN(): Fixed to return string with correct length.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/postgres.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at gmail.com  Fri Mar 26 13:34:59 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Mar 26 13:35:27 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <CBB3062A-EEEC-496D-AE04-9FFB7712FEEA@syenar.hu>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>	<hoieu2$q85$1@dough.gmane.org>	<D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>	<hoii02$81s$1@dough.gmane.org>
	<hoiljq$ncs$1@dough.gmane.org>
	<CBB3062A-EEEC-496D-AE04-9FFB7712FEEA@syenar.hu>
Message-ID: <hoir84$hso$1@dough.gmane.org>

Hi!
But i found problem with name of lib.
Is correct name liblibpq.a ?
should not be libpq.a
and another problem is:
How to make hbpgsql rdd?
Because I create file hbpgsql.hbp into
directory C:\harbour\trunk\harbour\contrib\hbpgsql>

------------cut---
-inc
-w3
-iC:\Arquiv~1\PostgreSQL\8.4\include
-hblib
-ohbpgsql

pgrdd.prg
tpostgre.prg
postgres.c
----------------cut-----

and thus able to create the file
libhbpgsql.a

Best regards,
Itamar M. Lins Jr.

Em 26/3/2010 13:02, Viktor Szak?ts escreveu:
> I think you should read the answers you're getting
> to your questions. Or just read INSTALL.
>
> Brgds,
> Viktor
>
> On 2010 Mar 26, at 16:58, Itamar Lins wrote:
>

From harbour.01 at syenar.hu  Fri Mar 26 13:42:41 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 26 13:42:52 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <hoir84$hso$1@dough.gmane.org>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>	<hoieu2$q85$1@dough.gmane.org>	<D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>	<hoii02$81s$1@dough.gmane.org>
	<hoiljq$ncs$1@dough.gmane.org>
	<CBB3062A-EEEC-496D-AE04-9FFB7712FEEA@syenar.hu>
	<hoir84$hso$1@dough.gmane.org>
Message-ID: <A3C1C799-18C4-4681-8946-72E5790941F1@syenar.hu>

> But i found problem with name of lib.
> Is correct name liblibpq.a ?
> should not be libpq.a

No, you didn't find any problem.

> and another problem is:
> How to make hbpgsql rdd?

Read INSTALL/answers and type 'make'

> Because I create file hbpgsql.hbp into
> directory C:\harbour\trunk\harbour\contrib\hbpgsql>
> 
> ------------cut---
> -inc
> -w3
> -iC:\Arquiv~1\PostgreSQL\8.4\include
> -hblib
> -ohbpgsql
> 
> pgrdd.prg
> tpostgre.prg
> postgres.c
> ----------------cut-----
> 
> and thus able to create the file
> libhbpgsql.a

You're overcomplicating it.

Brgds,
Viktor

From itamarlins at gmail.com  Fri Mar 26 13:51:45 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Mar 26 13:52:16 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14232] trunk/harbour
In-Reply-To: <A3C1C799-18C4-4681-8946-72E5790941F1@syenar.hu>
References: <E1NuvPY-0007B3-TV@sfp-svn-1.v30.ch3.sourceforge.com>	<hoie7h$o36$1@dough.gmane.org>	<FA8B7C66-37C7-48F6-9D5C-F82C20743FB3@syenar.hu>	<hoieu2$q85$1@dough.gmane.org>	<D70314FF-751B-420A-AED9-6E817B58E1E8@syenar.hu>	<hoii02$81s$1@dough.gmane.org>	<hoiljq$ncs$1@dough.gmane.org>	<CBB3062A-EEEC-496D-AE04-9FFB7712FEEA@syenar.hu>	<hoir84$hso$1@dough.gmane.org>
	<A3C1C799-18C4-4681-8946-72E5790941F1@syenar.hu>
Message-ID: <hois7i$lrr$1@dough.gmane.org>

Em 26/3/2010 14:42, Viktor Szak?ts escreveu:
> ...
> You're overcomplicating it.
>
> Brgds,
> Viktor
>

Yes, now I understand.
The Solution Xavi works fine:
Set HB_WITH_PGSQL = C:\Arquiv~1\PostgreSQL\8.4\include

P.S.I'm sorry for abusing your patience.

Best regards,
Itamar M. Lins Jr.

From dbtopas at dbtopas.lt  Fri Mar 26 14:03:58 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Mar 26 14:04:32 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <20100320113254.GA1721@linux-4bod.home.aster.pl>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>	<4BA39398.9030307@dbtopas.lt>
	<20100320113254.GA1721@linux-4bod.home.aster.pl>
Message-ID: <4BACF70E.6030408@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> It's important only if you have to often recompile very big C files
> which can be hardly optimized.

It happens if you develop and compile Harbour itself, but not the final 
application only.

> You can also try to reduce the optimization level, i.e. you can use -Os
> in MinGW flags. It should reduce the compilation time and final binaries
> will be slower then the one created by BCC though still faster.

I'm trying another approach :) Upgrading from Celeron to Core i5. It 
should help a little. :) Though, many "new features" of Win 7 is 
annoying. Trying to switch of everything. Does anyone know how to remove 
Favorites and Libraries entries form navigation panel of Explorer. I 
also want to remove this "Organize/Include in library/Share with/New 
folder" toolbar line. Any suggestions?

Classic style start menu seems to be gone forever...


Regards,
Mindaugas
From clipper at wssk.wroc.pl  Fri Mar 26 14:14:04 2010
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Fri Mar 26 14:15:02 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14219] trunk/harbour
In-Reply-To: <4BA8F92E.6080908@dbtopas.lt>
References: <E1Nu1nM-0002OW-Io@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BA8A0B0.6030001@dbtopas.lt>
	<187275916238.20100323155831@wssk.wroc.pl>
	<4072A3C6-CB42-4351-B83C-79A3AD2CFAF2@syenar.hu>
	<4BA8F92E.6080908@dbtopas.lt>
Message-ID: <16438359709.20100326191404@wssk.wroc.pl>

Hello Mindaugas,

Tuesday, March 23, 2010, 6:23:58 PM, you wrote:

MK> Viktor Szak?ts wrote:
>> Can you test if hbfbird works with similar SQL command?
>> They are using the same API, so if that one works, it's 
>> only a matter of finding the difference.

MK> Hi,


MK> I have not noticed we have one more firebird contrib. Samples of hbfbird 
MK> do not work for me.

MK> ---------------
MK> C:\harbour\contrib\hbfbird\tests>simple.exe

MK>        -904
MK> Connecting...
MK> can't format message 13:98 -- message file 
MK> C:\harbour\contrib\hbfbird\firebird.msg not found
MK> ---------------
MK> C:\harbour\contrib\hbfbird\tests>test.exe

MK>        -904 can't format message 13:96 -- message file 
MK> C:\harbour\contrib\hbfbird\firebird.msg not fo
MK> und
MK> Error:       -902 can't format message 13:98 -- message file 
MK> C:\harbour\contrib\hbfbird\firebird.msg
MK>   not found
MK> ---------------

MK> Please, tell is anyone can run it without error - I'll try reinstall FB.

Yes, I can run it, but IMHO you have
to run this test (test.exe) with argument

C:\harbour\contrib\hbfbird\tests>test.exe <somebasename>

Using hbfbird I can create new database or connecting to existing
database and execute SELECT , CREATE DROP statements.

So, maybe (as Viktor said) it is a good start point to verify
buggy sddfb, which,  even after Przemek`s last commits,
still not work i.e connection is created, but any DBUSEAREA probe fail
with Error SDDFB/1909  Fetch error (DOS Error 335544569)

if table COUNTRY is created manualy
(using thirdparty tool - Flamerobin)

or

Error SDDFB/1903  Prepare statement failed: SELECT * FROM country (DOS Error -204)
Called from DBUSEAREA(0)
Called from MAIN(40)
Abnormal program termination

otherwise

what is important such operations like
  RDDINFO(RDDI_EXECUTE, "DROP TABLE country")
  RDDINFO(RDDI_EXECUTE, "COMMIT")
  RDDINFO(RDDI_EXECUTE, "CREATE TABLE country (CODE char(3), NAME char(50), RESIDENTS int(11))")
  RDDINFO(RDDI_EXECUTE, "COMMIT")
  RDDINFO(RDDI_EXECUTE, "INSERT INTO country ...

returns always  .T.

but nothing is doing ...

-- 
Best regards,

 Jacek Kubica


From itamarlins at gmail.com  Fri Mar 26 14:34:39 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Mar 26 14:35:05 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14230] trunk/harbour
In-Reply-To: <E1Nuota-0000Xj-CF@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1Nuota-0000Xj-CF@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <hoiuo0$vql$1@dough.gmane.org>

Hi!
Now when open THEME MANAGER show this is error:

Error BASE/1132 Bound error: array access
Called from HBQTUI:Q_COMBOTHEMES(0)
Called from (b)IDETHEMES_SHOW(519)
Called from eval(0)
...

Best regards,
Itamar M. Lins Jr.


From harbour-list at cxxl.de  Fri Mar 26 14:39:15 2010
From: harbour-list at cxxl.de (harbour-list@cxxl.de)
Date: Fri Mar 26 14:39:42 2010
Subject: [Harbour] harbour: fantastic software!
Message-ID: <238730614.20100326193915@cxxl.de>

dear list,

i am an old clipper summer 87 hacker and still actively maintain
one application in it (some 30k lines of code, for 13 years now...).
in the past i had to find solutions for different of its limitations
and so i looked into some alternatives just for fun this monday.

i found harbour and i'm simply BLOWN AWAY!  this is so much better
than i had imagined!

it took me only some hours to fix the missing externals in my existing
source code.  we had written some stuff ourselves, some of it in
assembler, most of it in clipper, some in C. 

after it linked and i did some tests, i was amazed that almost
everything worked just like that.  harbour is incredibly compatible, i
only had to change the "set filter to" and "set relation to" commands
(missing "database->"). 

of course, there were other little things to do, but i think that
after maybe 20 hours of work, the application could be considered
working again.  i'm still very impressed with your work, both compiler
and libs. 

so, thank you again for your terrific work!  this mail is only for
praise.  though i have some tech questions, i will post them
independently, to ease discussion.

i would like to know: where can i send some money to support harbour
development?  it will save me a lot of time in the future and that's
worth some euros!  is there some coordinated fund?

thanks,

-- 
/chris/

From harbour-list at cxxl.de  Fri Mar 26 14:50:22 2010
From: harbour-list at cxxl.de (harbour-list@cxxl.de)
Date: Fri Mar 26 14:51:49 2010
Subject: [Harbour] inkey(0) and set key to
Message-ID: <666836587.20100326195022@cxxl.de>

hi,

inkey(0) does not honour "set key to" settings.  i guess that is by
design, at least it was the same in clipper S87.  we had found some
assembler way around that, but that won't do for harbour.

is there any way to enable the key mappings with an inkey(0) like
function?  any other function to wait for a single keypress and still
honour the set key to settings?

i'm using win32 and compile a simple console app, no GUI, no -GT.

any help is appreciated,

-- 
/chris/

From smujohnson at gmail.com  Fri Mar 26 15:05:54 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Mar 26 15:06:06 2010
Subject: [Harbour] harbour: fantastic software!
In-Reply-To: <238730614.20100326193915@cxxl.de>
References: <238730614.20100326193915@cxxl.de>
Message-ID: <674e4ddd1003261205w269d40a0q6e5f2b2a860fd9dd@mail.gmail.com>

We did the same thing 2 months ago.  I would recommend downloading the
nightly source .zip file and compiling it with TDM Mingw (
http://www.tdragon.net/recentgcc/ ), because we had to get 100,000 lines of
Clipper code to compile with Harbour.  And the dev's (very nicely and
quickly) here made many changes to the compiler in order to get my thing
working, which are not present in the STABLE branch of Harbour.

Glad you found out about the project too!  As far as donations, you have to
go to the staff page on the Harbour Project site in order to find which devs
are most helpful to you etc, and try and see if a donate button is on their
page.

On Fri, Mar 26, 2010 at 11:39 AM, <harbour-list@cxxl.de> wrote:

> dear list,
>
> i am an old clipper summer 87 hacker and still actively maintain
> one application in it (some 30k lines of code, for 13 years now...).
> in the past i had to find solutions for different of its limitations
> and so i looked into some alternatives just for fun this monday.
>
> i found harbour and i'm simply BLOWN AWAY!  this is so much better
> than i had imagined!
>
> it took me only some hours to fix the missing externals in my existing
> source code.  we had written some stuff ourselves, some of it in
> assembler, most of it in clipper, some in C.
>
> after it linked and i did some tests, i was amazed that almost
> everything worked just like that.  harbour is incredibly compatible, i
> only had to change the "set filter to" and "set relation to" commands
> (missing "database->").
>
> of course, there were other little things to do, but i think that
> after maybe 20 hours of work, the application could be considered
> working again.  i'm still very impressed with your work, both compiler
> and libs.
>
> so, thank you again for your terrific work!  this mail is only for
> praise.  though i have some tech questions, i will post them
> independently, to ease discussion.
>
> i would like to know: where can i send some money to support harbour
> development?  it will save me a lot of time in the future and that's
> worth some euros!  is there some coordinated fund?
>
> thanks,
>
> --
> /chris/
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100326/d09c64aa/attachment.html
From fperillo at gmail.com  Fri Mar 26 15:07:58 2010
From: fperillo at gmail.com (francesco perillo)
Date: Fri Mar 26 15:08:06 2010
Subject: [Harbour] inkey(0) and set key to
In-Reply-To: <666836587.20100326195022@cxxl.de>
References: <666836587.20100326195022@cxxl.de>
Message-ID: <6943770e1003261207o1c2907e1i95dced6738fc9ec7@mail.gmail.com>

You can use setkey with one parameter ( the inkey(0) return value) to
check if a codeblock is associated and then invoke it with correct
parameters...


something like this

nCode := inkey( 0 )
(check nCode)
cBlock := setkey ( nCode )
if cBlock
  Eval( cBlock, procfile(1), procname(1), procline(1)  )
endif


if you put the code in a function, like myInkey() 1 should became 2... or 3...
From suporte at tribalbrasil.com  Fri Mar 26 15:20:03 2010
From: suporte at tribalbrasil.com (Qatan)
Date: Fri Mar 26 15:20:54 2010
Subject: [Harbour] inkey(0) and set key to
References: <666836587.20100326195022@cxxl.de>
	<6943770e1003261207o1c2907e1i95dced6738fc9ec7@mail.gmail.com>
Message-ID: <0DD34EF0C4734BD29F887C5B21ADA757@SUPPORTS>

Hello,


    I use like this:

<CODE>

nKey := Inkey(0)
if nKey = K_ESC
   exit
elseif nKey = K_ENTER
   ...
else
    HB_SetKeyCheck( lastkey() )  // Tests SET KEY events
endif

<ENDCODE>

Works for me althrough "maybe" it isn't the best way.


Qatan

----- Original Message ----- 
From: "francesco perillo" <fperillo@gmail.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, 26 de March de 2010 16:07
Subject: Re: [Harbour] inkey(0) and set key to


> You can use setkey with one parameter ( the inkey(0) return value) to
> check if a codeblock is associated and then invoke it with correct
> parameters...
>
>
> something like this
>
> nCode := inkey( 0 )
> (check nCode)
> cBlock := setkey ( nCode )
> if cBlock
>  Eval( cBlock, procfile(1), procname(1), procline(1)  )
> endif
>
>
> if you put the code in a function, like myInkey() 1 should became 2... or 
> 3...
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From suporte at tribalbrasil.com  Fri Mar 26 15:28:22 2010
From: suporte at tribalbrasil.com (Qatan)
Date: Fri Mar 26 15:29:13 2010
Subject: [Harbour] harbour: fantastic software!
References: <238730614.20100326193915@cxxl.de>
Message-ID: <77B619000B2947FB8EF76C2049296636@SUPPORTS>

Hello,

    Me too, I am amazed.
    The developers are worth of it. They are almost full time dedicating 
themselves to make this project something really impressive.

Qatan

----- Original Message ----- 
From: <harbour-list@cxxl.de>
To: <harbour@harbour-project.org>
Sent: Friday, 26 de March de 2010 15:39
Subject: [Harbour] harbour: fantastic software!


dear list,

i am an old clipper summer 87 hacker and still actively maintain
one application in it (some 30k lines of code, for 13 years now...).
in the past i had to find solutions for different of its limitations
and so i looked into some alternatives just for fun this monday.

i found harbour and i'm simply BLOWN AWAY!  this is so much better
than i had imagined!

it took me only some hours to fix the missing externals in my existing
source code.  we had written some stuff ourselves, some of it in
assembler, most of it in clipper, some in C.

after it linked and i did some tests, i was amazed that almost
everything worked just like that.  harbour is incredibly compatible, i
only had to change the "set filter to" and "set relation to" commands
(missing "database->").

of course, there were other little things to do, but i think that
after maybe 20 hours of work, the application could be considered
working again.  i'm still very impressed with your work, both compiler
and libs.

so, thank you again for your terrific work!  this mail is only for
praise.  though i have some tech questions, i will post them
independently, to ease discussion.

i would like to know: where can i send some money to support harbour
development?  it will save me a lot of time in the future and that's
worth some euros!  is there some coordinated fund?

thanks,

-- 
/chris/

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour 

From vouchcac at users.sourceforge.net  Fri Mar 26 16:21:41 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar 26 16:21:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14242] trunk/harbour
Message-ID: <E1NvG2H-0002Fo-TJ@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14242
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14242&view=rev
Author:   vouchcac
Date:     2010-03-26 20:21:40 +0000 (Fri, 26 Mar 2010)

Log Message:
-----------
2010-03-26 13:24 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.ch
    ! Included missing constant.
      Strange, nobody reported. It seems nobody is trying hbIDE, right?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Mar 26 16:22:46 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 26 16:22:54 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14230] trunk/harbour
In-Reply-To: <hoiuo0$vql$1@dough.gmane.org>
References: <E1Nuota-0000Xj-CF@sfp-svn-1.v30.ch3.sourceforge.com>
	<hoiuo0$vql$1@dough.gmane.org>
Message-ID: <1269634966213-4806180.post@n2.nabble.com>



Itamar Lins-2 wrote:
> 
> Now when open THEME MANAGER show this is error:
> 
> Error BASE/1132 Bound error: array access
> Called from HBQTUI:Q_COMBOTHEMES(0)
> Called from (b)IDETHEMES_SHOW(519)
> Called from eval(0)
> ...
> 

You are using older code with latest .uic's.
Delete all .prg's in contrib/hbide and update afresh.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14230-trunk-harbour-tp4798235p4806180.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Mar 26 16:25:58 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 26 16:26:04 2010
Subject: [Harbour] Re: OS/2: Harbour 14189, hbqt
In-Reply-To: <4BACAE8D.9040408@mail.udg.mx>
References: <4BA4C4DC.6070201@mail.udg.mx> <4BACAE8D.9040408@mail.udg.mx>
Message-ID: <1269635158305-4806206.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
> Yes, it is fixed and hbide.exe is working, but with failure in closing 
> any dialog
> 

So ultimately it is destruction by Qt vs GC issue, :-((.

Ok, as a work-around, I am updating hbIDE to contain only 
persistent objects which will be destroyed at the exit point only.
This will make hbIDE usage in OS2 environments.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-14189-hbqt-tp4768265p4806206.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Fri Mar 26 17:02:50 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 26 17:02:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14243] trunk/harbour
Message-ID: <E1NvGg6-0004vb-9s@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14243
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14243&view=rev
Author:   vszakats
Date:     2010-03-26 21:02:49 +0000 (Fri, 26 Mar 2010)

Log Message:
-----------

2010-03-26 22:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/Makefile
  + contrib/hbmisc/blinker.prg
    + Added Blinker compatible functions.
      Not tested functionally. Many of the functions are dummies, since
      many of them is highly MS-DOS specific, but they should help
      porting Clipper apps.
    + Added extra functions to control link-time burn in of some
      values in original Blinker. In Harbour they can be set using
      these function calls, f.e. called from an INIT PROC:
        HB_BLIVERNUM( cString )
        HB_BLIDEMDTE( dDate )
        HB_BLIDEMMIN( nValue )

  * include/hbmemory.ch
    ! Typo in comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmisc/Makefile
    trunk/harbour/include/hbmemory.ch

Added Paths:
-----------
    trunk/harbour/contrib/hbmisc/blinker.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Fri Mar 26 17:17:52 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Mar 26 17:18:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14243] trunk/harbour
In-Reply-To: <E1NvGg6-0004vb-9s@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NvGg6-0004vb-9s@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <674e4ddd1003261417o2a02ff08ua98d11d21745bbb8@mail.gmail.com>

+1 for Viktor!  keep up the good work

On Fri, Mar 26, 2010 at 2:02 PM, <vszakats@users.sourceforge.net> wrote:

> Revision: 14243
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14243&view=rev
> Author:   vszakats
> Date:     2010-03-26 21:02:49 +0000 (Fri, 26 Mar 2010)
>
> Log Message:
> -----------
>
> 2010-03-26 22:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbmisc/Makefile
>  + contrib/hbmisc/blinker.prg
>    + Added Blinker compatible functions.
>      Not tested functionally. Many of the functions are dummies, since
>      many of them is highly MS-DOS specific, but they should help
>      porting Clipper apps.
>    + Added extra functions to control link-time burn in of some
>      values in original Blinker. In Harbour they can be set using
>      these function calls, f.e. called from an INIT PROC:
>        HB_BLIVERNUM( cString )
>        HB_BLIDEMDTE( dDate )
>        HB_BLIDEMMIN( nValue )
>
>  * include/hbmemory.ch
>    ! Typo in comment.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbmisc/Makefile
>    trunk/harbour/include/hbmemory.ch
>
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbmisc/blinker.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100326/9d5f4884/attachment-0001.html
From m.lacecilia at gmail.com  Fri Mar 26 19:14:55 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Mar 26 19:15:09 2010
Subject: [Harbour] GTWVT and HB_INKEY_EXTENDED
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAALVyi0gcQ1pKpuFkG9tDAkEBAAAAAA==@gmail.com>

I'm searching for a way to leave the standard Ctrl-C, Ctrl-X and Ctrl-V keys
for triggering the clipboard features in my Harbour app using GTWVT as GT
driver.
The problem is that Ctrl-V has the same keycode of Ins key, interfering with
the insert/overstrike mode toggle, and Ctlr-X has the same keycode of the
down arrow key, interfering with the cursor down function.

I used a workaround, enabling the HB_INKEY_EXTENDED mode in _SET_EVENT
setting and changing the keycodes in getsys to hbinkey.ch. This way i could
distinguish between Ins and Ctrl-V as scancodes are different and same could
happen for Ctrl-X and CursorDown.

Result: the Inkey() don't reacts to key presses and only Alt-C causes the
exit from the application.
Now i'm thinking that the HB_INKET_EXTENDED isn't supported by GTWVT driver.
It's true or the problem is in other part of my implementation?
TIA.
Best regards. 
 
Maurizio la Cecilia               
                           

From wcshum88 at hotmail.com  Sat Mar 27 00:25:42 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 00:25:49 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <1269610162158-4803834.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
Message-ID: <1269663942105-4807876.post@n2.nabble.com>


hi All,

I can find hb_ItemGetCPtr(..)  in C level function call....

However, I cannot call the hb_ItemGetCPtr() directly within prg level ....

Hope somebody can point me in the right direction to call the C Level
function within harbour ...

Thanks inadvanced !

Shum
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4807876.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From wcshum88 at hotmail.com  Sat Mar 27 02:14:39 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 02:14:47 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14161] trunk/harbour
In-Reply-To: <E1NqeJ2-00044l-Md@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NqeJ2-00044l-Md@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <1269670479718-4808126.post@n2.nabble.com>


Hi Pritpal Bedi,


Would you please also add  the GraInitMaterix()

However,  I cannot find document of GraInitMaterix() directly,

It return a 3D array  and the array will pass into many Gra...  funxtion 

such as Graotate(), GraTranslate(), GraScale() ....


Shum
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14161-trunk-harbour-tp4730266p4808126.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Mar 27 03:19:50 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 27 03:20:02 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair
	....
In-Reply-To: <1269663942105-4807876.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<1269663942105-4807876.post@n2.nabble.com>
Message-ID: <2E8A3188-793C-41A9-910C-4528949CB3CC@syenar.hu>

Hi,

Harbour is a high level language, so it will 
never support such concepts are direct 
pointer / buffer manipulation. It's also not 
safe, not portable and can easily cause GPF 
in various different ways.

If these are not important factors for you, 
you can create such functions in C.

Brgds,
Viktor

On 2010 Mar 27, at 05:25, Shum wrote:

> 
> hi All,
> 
> I can find hb_ItemGetCPtr(..)  in C level function call....
> 
> However, I cannot call the hb_ItemGetCPtr() directly within prg level ....
> 
> Hope somebody can point me in the right direction to call the C Level
> function within harbour ...
> 
> Thanks inadvanced !
> 
> Shum
> -- 
> View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4807876.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From wcshum88 at hotmail.com  Sat Mar 27 07:57:08 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 07:57:16 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <2E8A3188-793C-41A9-910C-4528949CB3CC@syenar.hu>
References: <1269610162158-4803834.post@n2.nabble.com>
	<1269663942105-4807876.post@n2.nabble.com>
	<2E8A3188-793C-41A9-910C-4528949CB3CC@syenar.hu>
Message-ID: <1269691028514-4808872.post@n2.nabble.com>


Hi Viktor, 

I often ask some function which I need here dueto I am not a C programer,
I cannot write C (low level) function for myseft within harbour as I like.

However,  I follow the C and Harbour style ... and try to write the
StrngOf(nPtr) function aas follow:
Please point me if it is correct or not ....



    #pragma begindump
      #include "hbwapi.h"
      #include "hbapiitm.h"

      HB_FUNC( STRINGOF )
      {
        PHB_ITEM pTemp = hb_itemNew( NULL );
        pTemp = hb_parni(1);
        HB_RETSTR( hb_itemGetCPtr( pTemp ) );
        hb_itemRelease( pTemp );
      }

    #pragma enddump


However, I donot know if hb_parni(1)  is right or not ...or please point out
anything wrong ?


Shum
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4808872.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Mar 27 08:07:46 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 27 08:07:57 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair
	....
In-Reply-To: <1269691028514-4808872.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<1269663942105-4807876.post@n2.nabble.com>
	<2E8A3188-793C-41A9-910C-4528949CB3CC@syenar.hu>
	<1269691028514-4808872.post@n2.nabble.com>
Message-ID: <C06FF0EA-B3BD-4A6E-AC43-2C900FF7FEDF@syenar.hu>

My suggestion is not use such function at all.

Brgds,
Viktor

On 2010 Mar 27, at 12:57, Shum wrote:

> 
> Hi Viktor, 
> 
> I often ask some function which I need here dueto I am not a C programer,
> I cannot write C (low level) function for myseft within harbour as I like.
> 
> However,  I follow the C and Harbour style ... and try to write the
> StrngOf(nPtr) function aas follow:
> Please point me if it is correct or not ....
> 
> 
> 
>    #pragma begindump
>      #include "hbwapi.h"
>      #include "hbapiitm.h"
> 
>      HB_FUNC( STRINGOF )
>      {
>        PHB_ITEM pTemp = hb_itemNew( NULL );
>        pTemp = hb_parni(1);
>        HB_RETSTR( hb_itemGetCPtr( pTemp ) );
>        hb_itemRelease( pTemp );
>      }
> 
>    #pragma enddump
> 
> 
> However, I donot know if hb_parni(1)  is right or not ...or please point out
> anything wrong ?
> 
> 
> Shum
> -- 
> View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4808872.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Mar 27 08:27:11 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 27 08:27:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14244] trunk/harbour
Message-ID: <E1NvV6d-0001HG-IF@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14244
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14244&view=rev
Author:   vszakats
Date:     2010-03-27 12:27:08 +0000 (Sat, 27 Mar 2010)

Log Message:
-----------
2010-03-27 13:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/Makefile
  * contrib/hbmisc/blinker.prg
  + contrib/hbmisc/blinker.ch
    ! Fixed BLICPUREL().
    + Added blinker.ch header. This contains some stuff missing
      from original Blinker and some runtime mockup/emulation for
      following linker commands:
         BLINKER EXECUTABLE SERIAL <"String"> /* Harbour needs double quotes around the string */
         BLINKER DEMONSTRATION DATE <YYYYDDMM>
         BLINKER DEMONSTRATION MINUTES <minute>

  * src/rtl/tgetlist.prg
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmisc/Makefile
    trunk/harbour/contrib/hbmisc/blinker.prg
    trunk/harbour/src/rtl/tgetlist.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbmisc/blinker.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 27 08:44:54 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 27 08:45:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14245] trunk/harbour
Message-ID: <E1NvVNm-0001Yf-Mz@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14245
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14245&view=rev
Author:   vszakats
Date:     2010-03-27 12:44:42 +0000 (Sat, 27 Mar 2010)

Log Message:
-----------
2010-03-27 13:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/hbmisc.hbc
    + Added now needed incpaths= option.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmisc/hbmisc.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at gmail.com  Sat Mar 27 09:50:11 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Mar 27 09:50:40 2010
Subject: [Harbour] hbmk2 log error
Message-ID: <hol2ei$ovi$1@dough.gmane.org>

Hi!
how to direct the output of errors to a file ?

Best regards,
Itamar M. Lins Jr.

From teo at windtelsoft.com  Sat Mar 27 10:15:20 2010
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sat Mar 27 10:15:37 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <1269610162158-4803834.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
Message-ID: <955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>

Hello Shum,

On Mar 26, 2010, at 7:29 AM, Shum wrote:

> 
> Hi Harbour developers,
> 
> I would like to ask the Str2Pointer(cStr) and Pointer2Pointer(pPtr) function
> ...
> 
> Something like in xHarbour HB_String2Pointer(cStr) and (
> HB_Pointer2Str(pPtr,nByte) or Stringof() in C langurage ...)

May I ask you why do you need such functions ?


best regards,

Teo

From wcshum88 at hotmail.com  Sat Mar 27 11:16:06 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 11:16:15 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
Message-ID: <1269702966385-4809522.post@n2.nabble.com>


Hi Teo,

I am converting my Xbase++ application into Harbour...

Within my Xbase++ Application, I use BAP lib which are function for calling
C function within Xbase++
and it has a function called Stringof() same as Pointer2Str() ....

Without the Stringof() or similiar function .... I had to do much effort
....

So I have the Stringof() or Pointer2Str() function in hand ...It can speed
up my Xbase++ to Harbour convertion...

Shum



-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4809522.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From wcshum88 at hotmail.com  Sat Mar 27 11:17:41 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 11:17:47 2010
Subject: [Harbour] Re: hbmk2 log error
In-Reply-To: <hol2ei$ovi$1@dough.gmane.org>
References: <hol2ei$ovi$1@dough.gmane.org>
Message-ID: <1269703061178-4809529.post@n2.nabble.com>


Hi,

try:

hbmk2  test.hbp >t.log  2>&1


Shum 
-- 
View this message in context: http://n2.nabble.com/hbmk2-log-error-tp4809362p4809529.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From myorg63 at mail.ru  Sat Mar 27 11:39:48 2010
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sat Mar 27 11:39:55 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <1269702966385-4809522.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
Message-ID: <28053187.post@talk.nabble.com>


Hi Shum,

If I remember correctly, you can find these functions in the library xhb (I
mean HB_String2Pointer and HB_Pointer2Str)

Regards,
Petr
-- 
View this message in context: http://old.nabble.com/Ask-Str2Poniter%28%29-and-Pointer2Str%28%29-function-pair-....-tp28042446p28053187.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From wcshum88 at hotmail.com  Sat Mar 27 11:44:15 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 11:44:21 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <28053187.post@talk.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<28053187.post@talk.nabble.com>
Message-ID: <1269704655081-4809635.post@n2.nabble.com>


Hi  Petr,

Yes,  I find it and I will try it 

Thanks 

Shum
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4809635.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sat Mar 27 12:02:07 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 27 12:02:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14246] trunk/harbour
Message-ID: <E1NvYSd-0008J4-3T@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14246
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14246&view=rev
Author:   vszakats
Date:     2010-03-27 16:02:05 +0000 (Sat, 27 Mar 2010)

Log Message:
-----------
2010-03-27 17:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    * Very small cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 27 12:43:24 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 27 12:43:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14247] trunk/harbour
Message-ID: <E1NvZ6a-0007vM-RM@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14247
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14247&view=rev
Author:   vszakats
Date:     2010-03-27 16:43:23 +0000 (Sat, 27 Mar 2010)

Log Message:
-----------
2010-03-27 17:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
  * bin/postinst.prg
    + Moved implib generation logic from .bat to .prg. You may
      recall this has happened recently, and you're right, but
      this time it's based on hbmk2 calls. This change means
      that implib generation is now available for all shells
      (f.e. msys and cross-build scenarios).
      (best would be to move to GNU Makefile level though)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Sat Mar 27 13:01:22 2010
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sat Mar 27 13:01:44 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair
	....
In-Reply-To: <1269702966385-4809522.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
Message-ID: <0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>

Hello Shum,

On Mar 27, 2010, at 9:16 AM, Shum wrote:

> 
> Hi Teo,
> 
> I am converting my Xbase++ application into Harbour...
> 
> Within my Xbase++ Application, I use BAP lib which are function for calling
> C function within Xbase++
> and it has a function called Stringof() same as Pointer2Str() ....
> 
> Without the Stringof() or similiar function .... I had to do much effort
> ....
> 
> So I have the Stringof() or Pointer2Str() function in hand ...It can speed
> up my Xbase++ to Harbour convertion...

Please take in mind the Viktor's advice. It's very dangerous to deal with
pointers at prg Harbour level, you can easily break things badly.

Bellow you'll find the String2Pointer/Pointer2String. Just keep in mind
that for safety, the function Pointer2String returns a new PHB_ITEM
with the copy of the pointers buffer.

<prg>

#pragma begindump

#include "hbapi.h"

HB_FUNC( STRING2POINTER )
{
	PHB_ITEM s = hb_param( 1, HB_IT_STRING );
	
	if( s )
		hb_retptr( (void *) hb_itemGetCPtr( s ) );
}

HB_FUNC( POINTER2STRING )
{
	PHB_ITEM p = hb_param( 1, HB_IT_POINTER );
	PHB_ITEM n = hb_param( 2, HB_IT_NUMERIC );

	if( p && n )
	{
		PHB_ITEM s = hb_itemNew( NULL );
		hb_itemPutCL( s, hb_itemGetPtr( p ), hb_itemGetNI( n ) );
		hb_itemReturnRelease( s );
	}

}
#pragma enddump

</prg>


best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100327/789be7b1/attachment.html
From wcshum88 at hotmail.com  Sat Mar 27 13:05:56 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 13:06:04 2010
Subject: [Harbour] RE: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
Message-ID: <COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>



Hi Teo,

 

>Please take in mind the Viktor's advice. It's very dangerous to deal with
>pointers at prg Harbour level, you can easily break things badly.
 
I just use the function during Xbase++ to Harbour converting ...
After that, I will re-think and re-write those part ....
 
Thanks !
 
Shum
 

Date: Sat, 27 Mar 2010 09:02:11 -0800
From: ml-node+4809931-358327461-334476@n2.nabble.com
To: wcshum88@hotmail.com
Subject: Re: Ask Str2Poniter() and Pointer2Str() function pair ....

Hello Shum,



On Mar 27, 2010, at 9:16 AM, Shum wrote:


Hi Teo,

I am converting my Xbase++ application into Harbour...

Within my Xbase++ Application, I use BAP lib which are function for calling
C function within Xbase++
and it has a function called Stringof() same as Pointer2Str() ....

Without the Stringof() or similiar function .... I had to do much effort
....

So I have the Stringof() or Pointer2Str() function in hand ...It can speed
up my Xbase++ to Harbour convertion...



Please take in mind the Viktor's advice. It's very dangerous to deal with
pointers at prg Harbour level, you can easily break things badly.


Bellow you'll find the String2Pointer/Pointer2String. Just keep in mind
that for safety, the function Pointer2String returns a new PHB_ITEM
with the copy of the pointers buffer.


<prg>



#pragma begindump


#include "hbapi.h"


HB_FUNC( STRING2POINTER )
{
PHB_ITEM s = hb_param( 1, HB_IT_STRING );

if( s )
hb_retptr( (void *) hb_itemGetCPtr( s ) );
}


HB_FUNC( POINTER2STRING )
{
PHB_ITEM p = hb_param( 1, HB_IT_POINTER );
PHB_ITEM n = hb_param( 2, HB_IT_NUMERIC );


if( p && n )
{
PHB_ITEM s = hb_itemNew( NULL );
hb_itemPutCL( s, hb_itemGetPtr( p ), hb_itemGetNI( n ) );
hb_itemReturnRelease( s );
}


}
#pragma enddump


</prg>




best regards,


Teo


_______________________________________________ 
Harbour mailing list (attachment size limit: 40KB) 
[hidden email] 
http://lists.harbour-project.org/mailman/listinfo/harbour





View message @ http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4809931.html 
To unsubscribe from Re: Ask Str2Poniter() and Pointer2Str() function pair ...., click here. 
 		 	   		  
_________________________________________________________________
Hotmail ? Microsoft ?????????????????
https://signup.live.com/signup.aspx?id=60969
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4809944.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Mar 27 13:11:38 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 27 13:11:45 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14161] trunk/harbour
In-Reply-To: <1269670479718-4808126.post@n2.nabble.com>
References: <E1NqeJ2-00044l-Md@sfp-svn-2.v30.ch3.sourceforge.com>
	<1269670479718-4808126.post@n2.nabble.com>
Message-ID: <1269709898218-4809968.post@n2.nabble.com>



Shum wrote:
> 
> Would you please also add  the GraInitMaterix()
> 
> However,  I cannot find document of GraInitMaterix() directly,
> 
> It return a 3D array  and the array will pass into many Gra...  funxtion 
> 
> such as Graotate(), GraTranslate(), GraScale() ....
> 

This function is not part of Xbase++ 1.9 release probably,
so it skipped. 

It will be in SVN shortly.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14161-trunk-harbour-tp4730266p4809968.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sat Mar 27 13:15:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 27 13:15:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14248] trunk/harbour
Message-ID: <E1NvZbS-0001Hu-Iu@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14248
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14248&view=rev
Author:   vszakats
Date:     2010-03-27 17:15:17 +0000 (Sat, 27 Mar 2010)

Log Message:
-----------
2010-03-27 18:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
  * bin/postinst.prg
    + Moved shared Harbour tools generation from .bat to .prg.
      So now it should work on OS/2, cross-builds and all shells 
      in general. (some cmdline tweaks may be required for *nix)
    + Changed hbrun regeneration (with icon) to better take into account
      build settings.
    ; This leaves about 50 (!) total lines of DOS batch code in
      Harbour, which is quite good for a project of this size.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Mar 27 13:17:38 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 27 13:17:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14249] trunk/harbour
Message-ID: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14249
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14249&view=rev
Author:   vouchcac
Date:     2010-03-27 17:17:37 +0000 (Sat, 27 Mar 2010)

Log Message:
-----------
2010-03-27 10:12 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpgra.prg
    + GraInitMaterix(...) Xbase++ compatible dummy function.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpgra.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Mar 27 13:21:31 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 27 13:21:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14249] trunk/harbour
In-Reply-To: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>

> Log Message:
> -----------
> 2010-03-27 10:12 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbxbp/xbpgra.prg
>    + GraInitMaterix(...) Xbase++ compatible dummy function.

It should be GraInitMatrix() without the 'e'.

Brgds,
Viktor

From bedipritpal at hotmail.com  Sat Mar 27 13:26:21 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 27 13:26:28 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14249] trunk/harbour
In-Reply-To: <F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
Message-ID: <1269710781265-4810022.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> It should be GraInitMatrix() without the 'e'.
> 

Yep, and I was suseptible also.
Then I searched it in Xbase documentation and could not find.
Then I copy/pasted Shum's message chunk just to be sure
that I am not mistaking. Let us hear from Shum.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14249-trunk-harbour-tp4810000p4810022.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From wcshum88 at hotmail.com  Sat Mar 27 13:38:46 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 13:38:52 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14249] trunk/harbour
In-Reply-To: <1269710781265-4810022.post@n2.nabble.com>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
	<1269710781265-4810022.post@n2.nabble.com>
Message-ID: <1269711526128-4810063.post@n2.nabble.com>


Hi Pritpal Bedi,

Vitkor is correct,

It should be GraInitMatrix() ...

Sorry for my mistake ...

Shum
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14249-trunk-harbour-tp4810000p4810063.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Mar 27 13:39:09 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 27 13:39:22 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14249] trunk/harbour
In-Reply-To: <1269710781265-4810022.post@n2.nabble.com>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
	<1269710781265-4810022.post@n2.nabble.com>
Message-ID: <CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> It should be GraInitMatrix() without the 'e'.
>> 
> 
> Yep, and I was suseptible also.
> Then I searched it in Xbase documentation and could not find.
> Then I copy/pasted Shum's message chunk just to be sure
> that I am not mistaking. Let us hear from Shum.

Google it.

"Materix" also doesn't makes sense and it's obvious 
typing by pronunciation error.

As usual you don't trust me.

Brgds,
Viktor

From bedipritpal at hotmail.com  Sat Mar 27 13:45:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 27 13:45:21 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14249] trunk/harbour
In-Reply-To: <CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
	<1269710781265-4810022.post@n2.nabble.com>
	<CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
Message-ID: <1269711914568-4810076.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> As usual you don't trust me.
> 

A very ridiculous statement...


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14249-trunk-harbour-tp4810000p4810076.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Mar 27 13:45:18 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 27 13:45:30 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14249] trunk/harbour
In-Reply-To: <CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
	<1269710781265-4810022.post@n2.nabble.com>
	<CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
Message-ID: <B965CB42-044E-4959-9E9A-B36729ADB7A1@syenar.hu>

BTW, by googling it I've found that very few 
Xbase++ developers even know about Harbour, 
and even those who know totally confuse it with 
xHarbour, which is a pretty large mistake to make 
for multiple reasons.

Dunno how to change that, but current situation 
is not very good for us and for Harbour in 
general.

Maybe existing users should do something to 
spread the word.

Brgds,
Viktor


On 2010 Mar 27, at 18:39, Viktor Szak?ts wrote:

>> Viktor Szak?ts wrote:
>>> 
>>> It should be GraInitMatrix() without the 'e'.
>>> 
>> 
>> Yep, and I was suseptible also.
>> Then I searched it in Xbase documentation and could not find.
>> Then I copy/pasted Shum's message chunk just to be sure
>> that I am not mistaking. Let us hear from Shum.
> 
> Google it.
> 
> "Materix" also doesn't makes sense and it's obvious 
> typing by pronunciation error.
> 
> As usual you don't trust me.
> 
> Brgds,
> Viktor
> 

From vouchcac at users.sourceforge.net  Sat Mar 27 13:49:47 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 27 13:49:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14250] trunk/harbour
Message-ID: <E1Nva8p-0004jD-6I@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14250
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14250&view=rev
Author:   vouchcac
Date:     2010-03-27 17:49:40 +0000 (Sat, 27 Mar 2010)

Log Message:
-----------
2010-03-27 10:46 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpgra.prg
    ! GraInitMaterix(...) => GraInitMatrix(...)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpgra.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From m.lacecilia at gmail.com  Sat Mar 27 14:07:15 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Sat Mar 27 14:07:53 2010
Subject: [Harbour] R: GTWVT and HB_INKEY_EXTENDED
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAP2K6q4axPtMq0Jts8WLP6EBAAAAAA==@gmail.com>

I confirm same behaviour also using GTWIN as driver.
So, could be my misunderstood in using extended keycodes?

Maurizio la Cecilia               
 

> -----Messaggio originale-----
> Da: Maurizio la Cecilia [mailto:m.lacecilia@gmail.com] 
> Inviato: sabato 27 marzo 2010 0.15
> A: 'harbour@harbour-project.org'
> Oggetto: GTWVT and HB_INKEY_EXTENDED
> 
> I'm searching for a way to leave the standard Ctrl-C, Ctrl-X 
> and Ctrl-V keys for triggering the clipboard features in my 
> Harbour app using GTWVT as GT driver.
> The problem is that Ctrl-V has the same keycode of Ins key, 
> interfering with the insert/overstrike mode toggle, and 
> Ctlr-X has the same keycode of the down arrow key, 
> interfering with the cursor down function.
> 
> I used a workaround, enabling the HB_INKEY_EXTENDED mode in 
> _SET_EVENT setting and changing the keycodes in getsys to 
> hbinkey.ch. This way i could distinguish between Ins and 
> Ctrl-V as scancodes are different and same could happen for 
> Ctrl-X and CursorDown.
> 
> Result: the Inkey() don't reacts to key presses and only 
> Alt-C causes the exit from the application.
> Now i'm thinking that the HB_INKET_EXTENDED isn't supported 
> by GTWVT driver.
> It's true or the problem is in other part of my implementation?
> TIA.
> Best regards. 
>  
> Maurizio la Cecilia               
>                            
> 

From teo at windtelsoft.com  Sat Mar 27 16:23:50 2010
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sat Mar 27 16:24:00 2010
Subject: [Harbour] RE: Ask Str2Poniter() and Pointer2Str() function pair
	....
In-Reply-To: <COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
Message-ID: <8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>

Hello Shum,

On Mar 27, 2010, at 11:05 AM, Shum wrote:

> 
> 
> Hi Teo,
> 
> 
> 
>> Please take in mind the Viktor's advice. It's very dangerous to deal with
>> pointers at prg Harbour level, you can easily break things badly.
> 
> I just use the function during Xbase++ to Harbour converting ...
> After that, I will re-think and re-write those part ....

I'm still curios for knowing why do you need to pass/recover
pointers to strings. :)


best regards,

Teo

From bedipritpal at hotmail.com  Sat Mar 27 16:37:44 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 27 16:37:52 2010
Subject: [Harbour] RE: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
Message-ID: <1269722264828-4810619.post@n2.nabble.com>



Shum wrote:
> 
> I just use the function during Xbase++ to Harbour converting ...
> After that, I will re-think and re-write those part ....
> 

Keep notes of all the facts you considered while porting from 
Xbase++ to Harbour, every detail if possible. 

It will help others during the same exercise if someone will 
do so in future.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4810619.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Mar 27 16:40:19 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 27 16:40:25 2010
Subject: [Harbour] RE: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
	<8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>
Message-ID: <1269722419249-4810627.post@n2.nabble.com>



tfonrouge wrote:
> 
> I'm still curios for knowing why do you need to pass/recover
> pointers to strings. :)
> 

If I am not mistaken, it has been a long time since 
I wrote something in Xbase++, that this compiler had no
direct interface with BAP library and there had been no way
to pass structures directly as arguments.

Shum, Angel, set me right.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4810627.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From amigosam at adinet.com.uy  Sat Mar 27 16:59:01 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sat Mar 27 16:59:20 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <1269722419249-4810627.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>	<1269702966385-4809522.post@n2.nabble.com>	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>	<8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>
	<1269722419249-4810627.post@n2.nabble.com>
Message-ID: <holrie$8qr$1@dough.gmane.org>

That's right.
One way of handle structures in Xbase++ is treat them as a string.
BAP is a kind of translation lib to manage structures without having to 
use C.
Mr Shum is a gentelman and a very good programmer who work for the metro 
of Hong Kong and needs to interface xbase programs with ticket spending 
machines.
Those machines offer c structures as mean of retrieving information.
Shum correct me if I'm wrong...

Best Regards
Angel


El 27/03/2010 17:40, Pritpal Bedi escribi?:
>
>
> tfonrouge wrote:
>>
>> I'm still curios for knowing why do you need to pass/recover
>> pointers to strings. :)
>>
>
> If I am not mistaken, it has been a long time since
> I wrote something in Xbase++, that this compiler had no
> direct interface with BAP library and there had been no way
> to pass structures directly as arguments.
>
> Shum, Angel, set me right.
>
>
> -----
>                   enjoy hbIDEing...
>                      Pritpal Bedi
> _a_student_of_software_analysis_&_design_


From amigosam at adinet.com.uy  Sat Mar 27 17:16:40 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sat Mar 27 17:17:00 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14249] trunk/harbour
In-Reply-To: <B965CB42-044E-4959-9E9A-B36729ADB7A1@syenar.hu>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>	<1269710781265-4810022.post@n2.nabble.com>	<CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
	<B965CB42-044E-4959-9E9A-B36729ADB7A1@syenar.hu>
Message-ID: <holsji$c1j$1@dough.gmane.org>

Beleive me, I've tried.
I brought here Pablo Botella but he is very bussy with work and actually 
only lurking. He is one of the best C++ programmers I know and has a 
deep knowledge of the Windows API. He could give us a lot in fields like 
OLE and inter-process communications.
James Loughner tried harbour but couldn`t compile harbour on his SUSE 9 
system with an old QT lib installation.
The most common barrier for Xbase++ programmers to come here is the 
total lack of documentation and a GUI.
You can say: well if there is not documentation then do it and share.
One thing you have to understand of this kind of users is that they 
value their time and prefer to pay for something than wasting hours they 
don`t have. Money is not an issue for them.
They also think that if they pay for something then they adquire the 
right to ask for what they need, and .
Harbour is almost there but not yet.
In the long term it will prevale due its amazing development pace.
BTW what is the state of those programs to generate documentation ?

Regards
Angel

From bedipritpal at hotmail.com  Sat Mar 27 18:22:44 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 27 18:22:50 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14249] trunk/harbour
In-Reply-To: <holsji$c1j$1@dough.gmane.org>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
	<1269710781265-4810022.post@n2.nabble.com>
	<CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
	<B965CB42-044E-4959-9E9A-B36729ADB7A1@syenar.hu>
	<holsji$c1j$1@dough.gmane.org>
Message-ID: <1269728564014-4810972.post@n2.nabble.com>



Angel Pais wrote:
> 
> Harbour is almost there but not yet.
> In the long term it will prevale due its amazing development pace.
> 

You are right, but still, we need more hands, which in general are missing.



> BTW what is the state of those programs to generate documentation ?
> 

I have provided the writing interface in hbIDE but none has come 
forward. Before this, everybody was complaining about the interface,
and when provided, nobody seems to care in that direction.
Many were showing a jest to do something but none actually came 
forward. A pity on our parts...



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14249-trunk-harbour-tp4810000p4810972.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Mar 27 21:42:44 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Mar 27 21:42:58 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14249] trunk/harbour
In-Reply-To: <holsji$c1j$1@dough.gmane.org>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>	<1269710781265-4810022.post@n2.nabble.com>	<CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
	<B965CB42-044E-4959-9E9A-B36729ADB7A1@syenar.hu>
	<holsji$c1j$1@dough.gmane.org>
Message-ID: <1AB0F1DD-0330-4143-963C-8D6E28E3AD54@syenar.hu>

We talked about the documentation a lot, but no one 
did actually write any documentation. We don't need 
_any_ tool to generate documentation, it can be 
written using something as simple as Notepad. It will 
never come from thin air.

BTW as far as I could read form the messages there is 
no documentation for xhb GUI either, yet they are 
spending money on it and burying both xHarbour and 
Harbour based on their bad impressions.

Brgds,
Viktor

On 2010 Mar 27, at 22:16, Angel Pais wrote:

> Beleive me, I've tried.
> I brought here Pablo Botella but he is very bussy with work and actually only lurking. He is one of the best C++ programmers I know and has a deep knowledge of the Windows API. He could give us a lot in fields like OLE and inter-process communications.
> James Loughner tried harbour but couldn`t compile harbour on his SUSE 9 system with an old QT lib installation.
> The most common barrier for Xbase++ programmers to come here is the total lack of documentation and a GUI.
> You can say: well if there is not documentation then do it and share.
> One thing you have to understand of this kind of users is that they value their time and prefer to pay for something than wasting hours they don`t have. Money is not an issue for them.
> They also think that if they pay for something then they adquire the right to ask for what they need, and .
> Harbour is almost there but not yet.
> In the long term it will prevale due its amazing development pace.
> BTW what is the state of those programs to generate documentation ?
> 
> Regards
> Angel
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From wcshum88 at hotmail.com  Sat Mar 27 21:51:55 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 21:52:01 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <holrie$8qr$1@dough.gmane.org>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
	<8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>
	<1269722419249-4810627.post@n2.nabble.com>
	<holrie$8qr$1@dough.gmane.org>
Message-ID: <1269741115168-4811550.post@n2.nabble.com>


Hi Angel,


> work for the metro of Hong Kong and needs to interface xbase programs with
> ticket spending 
machines. 

The project has been end-up already.

Now I am converting my All systems (POS, Account, Payroll...)  into Harbour
dueto Harbour is MultiPalform and more powerful ... and free ..... 

During Xbase++ to Harbour converting,  I found that Harbour can help me find
out some mistake ...
those Xbase++ just let it pass ...So I know Harbour is very powerful

Even Xbase++ and Harbour are similar,  And I aslo seldem use 3rd party libs,
convertion is still not a easy thing !. 






-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4811550.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Mar 27 22:45:40 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 27 22:45:46 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <1269741115168-4811550.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
	<8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>
	<1269722419249-4810627.post@n2.nabble.com>
	<holrie$8qr$1@dough.gmane.org>
	<1269741115168-4811550.post@n2.nabble.com>
Message-ID: <1269744340122-4811653.post@n2.nabble.com>



Shum wrote:
> 
> Now I am converting my All systems (POS, Account, Payroll...)  into
> Harbour dueto Harbour is MultiPalform and more powerful ... and free ..... 
> 
> During Xbase++ to Harbour converting,  I found that Harbour can help me
> find out some mistake ...
> those Xbase++ just let it pass ...So I know Harbour is very powerful
> 
> Even Xbase++ and Harbour are similar,  And I aslo seldem use 3rd party
> libs, convertion is still not a easy thing !. 
> 

In this context can you update the list how Qt fits your overall conversion
strategy ?

I think a lot will be eager to hear you.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4811653.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From wcshum88 at hotmail.com  Sat Mar 27 23:33:18 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sat Mar 27 23:33:25 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <1269744340122-4811653.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
	<8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>
	<1269722419249-4810627.post@n2.nabble.com>
	<holrie$8qr$1@dough.gmane.org>
	<1269741115168-4811550.post@n2.nabble.com>
	<1269744340122-4811653.post@n2.nabble.com>
Message-ID: <1269747198884-4811749.post@n2.nabble.com>


Hi Pritpal Bedi,

Without hbxbp (which depends on hbqt), it seems the only GUI (some syntx)
and greate for the Xbase++ to Harbour convertion.


For my Application (one source code for POS, Account, Payroll ...) with
following dlls:
mybas1, mybas2, myinit, myweb0, mygui0, myinet, myxlnk ... (convertion
finished compiled error free)
mygui1, mywmon, mywrpt, myxsys ... (under converting )

for mygui0 and mygui1 are the main GUI dlls (now depends on hbxbp + hbqt in
Harbour)

and mywmon, mywrpt, myxsys also depends on (mygui0 and mygui1) as well


Now only lack of:
1.) DBPosition() (which exist in Xbase++ but not in Harbour) function 
2.) Some windows dlls call function (need tobe re-write under Harbour syntx)
3.) There exist some function (my owned function) that I need to isolate
them avoid intra-called  

After complied error free convertion, I will start the Y-Coor. (Xbase++ and
hbxbp (hbqt)) convertion


Following are important part for convertion:
- Both Harbour and Xbase++ with clipper compitable 
- Harbour has Xbase++ compitable GUI which is hbxbp (which depends on hbqt)
- MultiThread Compitable
- CT lib (beside com-232 function I just use few CT function)  (now I use
hbtpathy functon)
- Xbase++ ODBC DBE (SQL) and Harbour RDDSQL with same style of SQL statement
handling
  (my Application is already using ODBC DBE for access SQL for many years)

Shum
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4811749.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From wcshum88 at hotmail.com  Sun Mar 28 00:16:06 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sun Mar 28 00:16:14 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <1269747198884-4811749.post@n2.nabble.com>
References: <955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
	<8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>
	<1269722419249-4810627.post@n2.nabble.com>
	<holrie$8qr$1@dough.gmane.org>
	<1269741115168-4811550.post@n2.nabble.com>
	<1269744340122-4811653.post@n2.nabble.com>
	<1269747198884-4811749.post@n2.nabble.com>
Message-ID: <1269749766889-4811852.post@n2.nabble.com>


Hi All,

>1.) DBPosition() (which exist in Xbase++ but not in Harbour) function 

Should be DBGoPosition()   ...

Please add this function DBGoPosition() into Harbour  for Xbase++ compitable 

Thanks !

Shum
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4811852.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From wcshum88 at hotmail.com  Sun Mar 28 01:05:50 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sun Mar 28 01:05:58 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
Message-ID: <1269752750985-4811973.post@n2.nabble.com>


Hi Teo,

>HB_FUNC( POINTER2STRING )
>{
>	PHB_ITEM p = hb_param( 1, HB_IT_POINTER );
>	PHB_ITEM n = hb_param( 2, HB_IT_NUMERIC );
>
>	if( p && n )
>	{
>		PHB_ITEM s = hb_itemNew( NULL );
>		hb_itemPutCL( s, hb_itemGetPtr( p ), hb_itemGetNI( n ) );
>		hb_itemReturnRelease( s );
>	}
>}

It seems that POINTER2STRING had to pass 2 parameters.
Because i donot know the length of the return string....
Can I pass NIL to the 2nd parameter? and just obtain the string ?


Shum


-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4811973.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Mar 28 01:26:55 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 28 01:27:02 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <1269747198884-4811749.post@n2.nabble.com>
References: <955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
	<8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>
	<1269722419249-4810627.post@n2.nabble.com>
	<holrie$8qr$1@dough.gmane.org>
	<1269741115168-4811550.post@n2.nabble.com>
	<1269744340122-4811653.post@n2.nabble.com>
	<1269747198884-4811749.post@n2.nabble.com>
Message-ID: <1269754015067-4812015.post@n2.nabble.com>



Shum wrote:
> 
> Without hbxbp (which depends on hbqt), it seems the only GUI (some syntx)
> and greate for the Xbase++ to Harbour convertion.
> 

It is _not_ the only GUI for Xbase++ to Harbour conversion.
The other, but Windows only, implementation exists in Harbour under 
the name of GTWVG, though with different namespace. In GTWVG all 
Xbp*() are called with Wvg*() prefix. A simple .ch with 
#xtranslate XbpDialog( => WvgDialog( directive can do the job.
The only issue with Wvt*() implementation is that it will be unlikely 
that I could be able to implement all classes, for example, and of formost
importance, XbpBrowse(). 

It is just to update you, but surely I can do much more in hbXBP and hbQT 
than in GTWVG, so you are encouraged to look for hbXBP only instead of 
GTWVG. If you have Windows only solution be your ultimate goal, you can
try GTWVG also.



> 2.) Some windows dlls call function (need tobe re-write under Harbour
> syntx)
> 

No, this is not the right explanation.

If your application is built for Windows only, and you have to port to this 
platform only, then writing the code for Windows only dlls make sense, in
which 
case you will be writing WINAPI wrappers. But if you have multi-platform 
vision in mind, then you may need another alternatives.

As per current goals, Harbour bindings for Qt are targetted at GUI framework
only.
But you can explore the ways if some other classes of Qt fits your needs, if
same
cannot be done under Harbour core. Just let me know. 



> After complied error free convertion, I will start the Y-Coor. (Xbase++
> and hbxbp (hbqt)) convertion
> 

This should be easy. Try to find a way to hook it into hbXBP itself instead
of 
changing your application logic.



> Following are important part for convertion:
> - Both Harbour and Xbase++ with clipper compitable 
> - Harbour has Xbase++ compitable GUI which is hbxbp (which depends on
> hbqt)
> - MultiThread Compitable
> - CT lib (beside com-232 function I just use few CT function)  (now I use
> hbtpathy functon)
> - Xbase++ ODBC DBE (SQL) and Harbour RDDSQL with same style of SQL
> statement handling
>   (my Application is already using ODBC DBE for access SQL for many years)
> 

Thank you for the internal vision. I hope many will benefit from it.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4812015.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Mar 28 03:07:49 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 28 03:08:02 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair
	....
In-Reply-To: <1269747198884-4811749.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<COL122-W395BC920E819F0BB00E0A8D8220@phx.gbl>
	<8FE363E9-8CB3-49EF-B78A-FBB49D5FDD19@windtelsoft.com>
	<1269722419249-4810627.post@n2.nabble.com>
	<holrie$8qr$1@dough.gmane.org>
	<1269741115168-4811550.post@n2.nabble.com>
	<1269744340122-4811653.post@n2.nabble.com>
	<1269747198884-4811749.post@n2.nabble.com>
Message-ID: <5A0EB763-0813-4EF7-B881-67CC35F33AC5@syenar.hu>

> Now only lack of:
[...]
> 2.) Some windows dlls call function (need tobe re-write under Harbour syntx)

Harbour is supposed to have Xbase++ .dll handling 
syntax, so it would be interesting to see what needs 
to be rewritten still. Can you describe the details?

Brgds,
Viktor

From teo at windtelsoft.com  Sun Mar 28 03:23:13 2010
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Mar 28 03:23:26 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair
	....
In-Reply-To: <1269752750985-4811973.post@n2.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
Message-ID: <C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>

Hello Shum,

On Mar 27, 2010, at 11:05 PM, Shum wrote:

> 
> Hi Teo,
> 
>> HB_FUNC( POINTER2STRING )
>> {
>> 	PHB_ITEM p = hb_param( 1, HB_IT_POINTER );
>> 	PHB_ITEM n = hb_param( 2, HB_IT_NUMERIC );
>> 
>> 	if( p && n )
>> 	{
>> 		PHB_ITEM s = hb_itemNew( NULL );
>> 		hb_itemPutCL( s, hb_itemGetPtr( p ), hb_itemGetNI( n ) );
>> 		hb_itemReturnRelease( s );
>> 	}
>> }
> 
> It seems that POINTER2STRING had to pass 2 parameters.
> Because i donot know the length of the return string....
> Can I pass NIL to the 2nd parameter? and just obtain the string ?

<prg>
HB_FUNC( POINTER2STRING )
{
	PHB_ITEM p = hb_param( 1, HB_IT_POINTER );
	
	if( p )
	{
		PHB_ITEM s = hb_itemNew( NULL );
		hb_itemPutCL( s, hb_itemGetPtr( p ), hb_pcount() > 1 ? hb_itemGetNI( hb_param( 2, HB_IT_NUMERIC ) ) : strlen( hb_itemGetPtr( p ) ) );
		hb_itemReturnRelease( s );
	}

}
</prg>


best regards,

Teo



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100328/1c03fec8/attachment.html
From bedipritpal at hotmail.com  Sun Mar 28 03:49:47 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 28 03:49:54 2010
Subject: [Harbour] hbIDE - On-line documentation-cum-distro update
Message-ID: <1269762587057-4812225.post@n2.nabble.com>


Hello Everybody

Please visit http://hbide.vouch.info/ and suggest me the 
ways it can be made more intuitive and useful for end-user.

Only first few topics are filled with contents and have done it 
fast without caring about the professional look and feel.

<Downloads> section contains ready-to-use hbIDE setup for 
Windows and and will be updated with every major commit.
Present revision no is 14249.

In the coming few days I hope to complete more pages. 
Infact, this is the right time to start documentation as well,
and jot-down every detail before it is too late to remember.

Thank you for your support.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-On-line-documentation-cum-distro-update-tp4812225p4812225.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From teo at windtelsoft.com  Sun Mar 28 04:17:54 2010
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Mar 28 04:18:07 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair
	....
In-Reply-To: <C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
Message-ID: <56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>

Hello Shum,

On Mar 28, 2010, at 1:23 AM, Teo Fonrouge wrote:

> Hello Shum,
> 
> On Mar 27, 2010, at 11:05 PM, Shum wrote:
> 
>> 
>> Hi Teo,
>> 
>>> HB_FUNC( POINTER2STRING )
>>> {
>>> 	PHB_ITEM p = hb_param( 1, HB_IT_POINTER );
>>> 	PHB_ITEM n = hb_param( 2, HB_IT_NUMERIC );
>>> 
>>> 	if( p && n )
>>> 	{
>>> 		PHB_ITEM s = hb_itemNew( NULL );
>>> 		hb_itemPutCL( s, hb_itemGetPtr( p ), hb_itemGetNI( n ) );
>>> 		hb_itemReturnRelease( s );
>>> 	}
>>> }
>> 
>> It seems that POINTER2STRING had to pass 2 parameters.
>> Because i donot know the length of the return string....
>> Can I pass NIL to the 2nd parameter? and just obtain the string ?
> 
> <prg>
> HB_FUNC( POINTER2STRING )
> {
> 	PHB_ITEM p = hb_param( 1, HB_IT_POINTER );
> 	
> 	if( p )
> 	{
> 		PHB_ITEM s = hb_itemNew( NULL );
> 		hb_itemPutCL( s, hb_itemGetPtr( p ), hb_pcount() > 1 ? hb_itemGetNI( hb_param( 2, HB_IT_NUMERIC ) ) : strlen( hb_itemGetPtr( p ) ) );
> 		hb_itemReturnRelease( s );
> 	}
> 
> }
> </prg>


This is a better one ( having a good time with beer & friends ) accepts 
2nd parameter only if it is numeric:

HB_FUNC( POINTER2STRING )
{
	PHB_ITEM p = hb_param( 1, HB_IT_POINTER );
	
	if( p )
	{
		PHB_ITEM s = hb_itemNew( NULL );
		PHB_ITEM n = hb_param( 2, HB_IT_NUMERIC );
		hb_itemPutCL( s, hb_itemGetPtr( p ), n ? hb_itemGetNI( n ) : strlen( hb_itemGetPtr( p ) ) );
		hb_itemReturnRelease( s );
	}

}


best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100328/5229525e/attachment.html
From vszakats at users.sourceforge.net  Sun Mar 28 05:18:28 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 28 05:18:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14251] trunk/harbour
Message-ID: <E1NvodY-0006aF-GT@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14251
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14251&view=rev
Author:   vszakats
Date:     2010-03-28 09:18:27 +0000 (Sun, 28 Mar 2010)

Log Message:
-----------
2010-03-28 11:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * config/rules.mk
  + config/res.mk
  * config/bin.mk
  * config/wce/global.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/common/watcom.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/cygwin.mk
  * config/win/global.mk
  * config/win/msvc.mk
  * config/os2/watcom.mk
  * config/os2/gcc.mk
  * config/os2/global.mk
    + Added support to GNU Make system to compile and link resources
      on win, wce and os2 platforms.

  * bin/postinst.bat
    + Deleted requirements from local comment. These are
      documented in INSTALL.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/bin.mk
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/os2/global.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/wce/global.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/global.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk

Added Paths:
-----------
    trunk/harbour/config/res.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar 28 05:43:42 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 28 05:43:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14252] trunk/harbour
Message-ID: <E1Nvp1y-0003Yi-CB@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14252
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14252&view=rev
Author:   vszakats
Date:     2010-03-28 09:43:41 +0000 (Sun, 28 Mar 2010)

Log Message:
-----------
2010-03-28 11:38 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/mingwarm.mk
  * config/win/mingw.mk
  * config/win/cygwin.mk
  * config/os2/gcc.mk
    ! Fixed resource compiler binary name to honor CCPREFIX and friends.

  * utils/hbrun/Makefile
  + utils/hbrun/hbrun.rc
    + Added resource file to include icon.
    ; TOFIX: The .ico file path is hard-wired and will break if HB_BUILD_NAME
             contains subdirs.

  * bin/postinst.bat
    - Deleted no more necessary hack to build hbrun with icon using hbmk2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/utils/hbrun/Makefile

Added Paths:
-----------
    trunk/harbour/utils/hbrun/hbrun.rc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar 28 06:15:41 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 28 06:15:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14253] trunk/harbour
Message-ID: <E1NvpWv-000570-0T@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14253
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14253&view=rev
Author:   vszakats
Date:     2010-03-28 10:15:39 +0000 (Sun, 28 Mar 2010)

Log Message:
-----------
2010-03-28 12:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - bin/postinst.bat
  * bin/postinst.prg
  * INSTALL
    * Moved remaining .bat to .prg. This means that HB_BUILD_PKG now
      should work with all shells and (cross) build situations. I didn't 
      test these (pls do so), but it's now easy to make necessary
      tweaks for these platforms in case it's necessary.
    ; Harbour doesn't use a single line of .bat anymore in the build process.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.prg

Removed Paths:
-------------
    trunk/harbour/bin/postinst.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From wcshum88 at hotmail.com  Sun Mar 28 06:59:20 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sun Mar 28 06:59:27 2010
Subject: [Harbour] Re: Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
Message-ID: <1269773960842-4812543.post@n2.nabble.com>


Hi Teo,

Many thanks again!

Shum
-- 
View this message in context: http://n2.nabble.com/Ask-Str2Poniter-and-Pointer2Str-function-pair-tp4803834p4812543.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From wcshum88 at hotmail.com  Sun Mar 28 07:11:04 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sun Mar 28 07:11:10 2010
Subject: [Harbour] Ask Xbase++ dBPosition() and dBGoPosition() function in
	Harbour...
Message-ID: <1269774664694-4812569.post@n2.nabble.com>


Hi Viktor, and Harbour developer,

>Harbour is supposed to have Xbase++ .dll handling 
>syntax, so it would be interesting to see what needs 
>to be rewritten still. Can you describe the details? 

Need function with Xbase++ compitable:

Hope you can add the following function:

1.) DBPosition()  
2.) DBGoPosition()

3.) IsMemVar()
4.) Isfunction()
5.) IsMethhod()
6.) IsMemberVar()
7.) SetLocale()
:
:

And I try to implement the DacSession of Xbase++
But not yet finish... Hope other can help to finished it ...

  //TODO
  Function DbSession( uTAls )                                     //
mybas2:dbclass.prg
  Return( NIL )

  CLASS DacSession                                                //
mybas2:dbclass.prg
      DATA nDBConnection
      DATA cConnectionStr
      DATA cDSN

      METHOD init
//    METHOD getDefault
//    METHOD querySession
//    METHOD sessionList

      METHOD connect
      METHOD disconnect
//    METHOD getConnectionHanlde
//    METHOD getConnectionString
      METHOD isConnected

//    METHOD isUsed
//    METHOD isCompound
//    METHOD isDefault
      METHOD setDefault
      METHOD setProperty

      METHOD beginTransaction
      METHOD commitTransaction
//    METHOD inTransaction
      METHOD rollbackTransaction

  ENDClass

  METHOD DacSession:init( cConnectionStr, lDefault )
      If lDefault==NIL
          lDefault := .T.
      Endif
      ::nDBConnection := 0
      ::cConnectionStr := IIF(cConnectionStr==NIL, "", cConnectionStr)
      If AT( UPPER(cConnectionStr), "DSN") > 0
          ::cDSN := cConnectionStr
      Else
          ::cDSN := ""
      Endif
      // TODO
      // If lDefault
      // Endif
  Return( self )

  METHOD DacSession:connect()
      If ::cConnectionStr<>""
          ::nDBConnection := RDDINFO( RDDI_CONNECTION, ::cConnectionStr )
      Endif
  Return( self )

  METHOD DacSession:setDefault( lSet )
      If lSet==NIL
          lSet := .T.
      Endif
      If lSet
          If ::nDBConnection > 0
              RDDINFO( RDDI_CONNECTION, ::nDBConnection )
          Endif
      Endif
  Return( self )

  METHOD DacSession:isConnected()
      Local lRet:=.F.
      If ::nDBConnection > 0
          lRet := .T.
      Endif
  Return( lRet )

  METHOD DacSession:disconnect()
      Local lRet:=.F.
      If ::nDBConnection > 0
          RDDINFO( RDDI_DISCONNECTION, ::nDBConnection )
          ::nDBConnection := 0
          lRet := .T.
      Endif
  Return( lRet )

  // TODO
  METHOD DacSession:setProperty( nDefinde, xValue )
      Local uRet:=NIL
  Return( uRet )

  // TODO
  METHOD DacSession:beginTransaction( )
      Local lRet:=.F.
  Return( lRet )
  // TODO
  METHOD DacSession:commitTransaction()
      Local lRet:=.F.
  Return( lRet )
  // TODO
  METHOD DacSession:rollbackTransaction()
      Local lRet:=.F.
  Return( lRet )


Shum







-- 
View this message in context: http://n2.nabble.com/Ask-Xbase-dBPosition-and-dBGoPosition-function-in-Harbour-tp4812569p4812569.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sun Mar 28 07:45:45 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 28 07:45:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14254] trunk/harbour
Message-ID: <E1Nvqw5-0000DB-Ne@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14254
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14254&view=rev
Author:   vszakats
Date:     2010-03-28 11:45:44 +0000 (Sun, 28 Mar 2010)

Log Message:
-----------
2010-03-28 13:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/rules.mk
    ! Added hack to make it build hbpp after latest change.
      Again hbpp, I couldn't find out what was the real problem,
      so there may be a better fix.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Sun Mar 28 12:48:59 2010
From: abe.buch at att.net (AbeB)
Date: Sun Mar 28 12:49:06 2010
Subject: [Harbour] (no subject)
Message-ID: <000201cace96$8d00b310$a7021930$@buch@att.net>


Hi Viktor,

 

Looks like it's adding double slashes.

 

My environment is

 

HB_ARCHITECTURE=win

HB_BUILD_IMPLIB=yes

HB_COMPILER=mingw

HB_CONTRIB_ADDONS=yes

HB_INSTALL_PREFIX=C:\Harbour\mingw

HB_WITH_ADS=c:\harbour\ACESDK.7

HB_WITH_QT=C:\Qt\4.5.3\include

 

hbmk2: Processing environment options: -platform=win -compiler=mingw

hbmk2: Warning: Source dynamic library not found:

       c:/harbour/ACESDK.7//Redistribute/ace32.dll

hbmk2: Processing environment options: -platform=win -compiler=mingw

hbmk2: Created import library: C:/Harbour/mingw/lib/win/mingw/libace32.a <=

       c:/harbour/ACESDK.7//ace32.dll

hbmk2: Processing environment options: -platform=win -compiler=mingw

hbmk2: Warning: Source dynamic library not found:

       c:/harbour/ACESDK.7//32bit/ace32.dll

! Making shared version of Harbour binaries...

 

Thanks

Abe.


-- 
View this message in context: http://n2.nabble.com/no-subject-tp4813750p4813750.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sun Mar 28 13:23:10 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 28 13:23:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14255] trunk/harbour
Message-ID: <E1NvwCc-0003V3-0U@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14255
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14255&view=rev
Author:   vszakats
Date:     2010-03-28 17:23:00 +0000 (Sun, 28 Mar 2010)

Log Message:
-----------
2010-03-28 19:22 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.prg
    * Corrected double pathseps in one place.

  * ChangeLog
    + Marked TODO's as DONE.
    ! Fixed timezone for today.

  * utils/hbrun/hbrun.rc
    + Added support for OS/2. Can someone test it?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.prg
    trunk/harbour/utils/hbrun/hbrun.rc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From amigosam at adinet.com.uy  Sun Mar 28 14:50:28 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 28 14:50:48 2010
Subject: [Harbour] Re: hbIDE - On-line documentation-cum-distro update
In-Reply-To: <1269762587057-4812225.post@n2.nabble.com>
References: <1269762587057-4812225.post@n2.nabble.com>
Message-ID: <hoo8dc$hcl$1@dough.gmane.org>

Nice work Pritpal !
I like it very much.

Regards
Angel

From guy.roussin at teledetection.fr  Sun Mar 28 16:03:52 2010
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sun Mar 28 16:04:01 2010
Subject: [Harbour] hbIDE - On-line documentation-cum-distro update
In-Reply-To: <1269762587057-4812225.post@n2.nabble.com>
References: <1269762587057-4812225.post@n2.nabble.com>
Message-ID: <4BAFB628.9070200@teledetection.fr>

Hi Pritpal,

I try hbide on my debian sid, it compiles fine but i get some errors
when running, i report them here :

=>  Error when applying a theme
$ ./hbide

Unrecoverable error 6005: Exception SIGSEGV at address 0x61
Called from HBQTUI:_QOBJ(0)
Called from HBQTUI:DESTROY(0) in ../../../THbQtUI.prg
Called from IDETHEMES:SELECTTHEME(716) in idethemes.prg
Called from IDEEDITOR:APPLYTHEME(1359) in ideeditor.prg
Called from IDEEDIT:EXECEVENT(1632) in ideeditor.prg
Called from (b)IDEEDIT_CONNECTEDITSIGNALS(1580) in ideeditor.prg
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
Called from APPEVENT(0) in ../../../xbpgeneric.prg
Called from HBIDE:CREATE(517) in hbide.prg
Called from MAIN(115) in hbide.prg

=>  Incorrect syntax coloration when a comment is like this :
//****************************


=>  When i create a new project, if i click save button i get this error :

Error BASE/1132  Bound error: array access
Called from IDEHOME:ADDPROJECTSINFO(358)
Called from IDEHOME:REFRESH(316)
Called from IDEPROJMANAGER:SAVE(554)
Called from (b)IDEPROJMANAGER_BUILDINTERFACE(702)
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0)
Called from APPEVENT(0)
Called from HBIDE:CREATE(517)
Called from MAIN(115)

Thank you for the great job.

-- 
Guy

From bedipritpal at hotmail.com  Sun Mar 28 18:43:42 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 28 18:43:50 2010
Subject: [Harbour] Re: hbIDE - On-line documentation-cum-distro update
In-Reply-To: <4BAFB628.9070200@teledetection.fr>
References: <1269762587057-4812225.post@n2.nabble.com>
	<4BAFB628.9070200@teledetection.fr>
Message-ID: <1269816222205-4815222.post@n2.nabble.com>



Guy Roussin wrote:
> 
> I try hbide on my debian sid, it compiles fine but i get some errors
> when running, i report them here :
> 

The same unresolved, old issue of object destruction.



> =>  Error when applying a theme
> $ ./hbide
> 
> Unrecoverable error 6005: Exception SIGSEGV at address 0x61
> Called from HBQTUI:_QOBJ(0)
> Called from HBQTUI:DESTROY(0) in ../../../THbQtUI.prg
> 

Fixed but not commited yet. 
In the sense that now it is a persistent dialog and is destroyed on exit.



> =>  Incorrect syntax coloration when a comment is like this :
> //****************************
> 

This is a "single line => //" as well as "multi-line /*" comment in one.
I do not know how to tell Qt about this scenario. Any tip is welcome.



> =>  When i create a new project, if i click save button i get this error :
> 
> Error BASE/1132  Bound error: array access
> Called from IDEHOME:ADDPROJECTSINFO(358)
> Called from IDEHOME:REFRESH(316)
> Called from IDEPROJMANAGER:SAVE(554)
> 

I think you are using some old SVN. 
Called from IDEPROJMANAGER:SAVE(554)   shoould be   562
Can you download afresh and test it again?



> Thank you for the great job.
> 

You are welcome.

Thank you for input.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-On-line-documentation-cum-distro-update-tp4812225p4815222.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Mar 28 20:12:03 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 28 20:12:15 2010
Subject: [Harbour] Re: hbIDE - On-line documentation-cum-distro update
In-Reply-To: <1269816222205-4815222.post@n2.nabble.com>
References: <1269762587057-4812225.post@n2.nabble.com>
	<4BAFB628.9070200@teledetection.fr>
	<1269816222205-4815222.post@n2.nabble.com>
Message-ID: <9BEAE116-2CDF-46E1-A4C1-C0858CE8811C@syenar.hu>

Hi,

> 
> The same unresolved, old issue of object destruction.
> 
> 
> 
>> =>  Error when applying a theme
>> $ ./hbide
>> 
>> Unrecoverable error 6005: Exception SIGSEGV at address 0x61
>> Called from HBQTUI:_QOBJ(0)
>> Called from HBQTUI:DESTROY(0) in ../../../THbQtUI.prg
>> 
> 
> Fixed but not commited yet. 
> In the sense that now it is a persistent dialog and is destroyed on exit.

IOW you are replacing crashes with leaks.

IMO it would be simpler to just never delete any objects...

Now all these intentional leaks ("persistent objects") 
will have to be refixed one by one once ever HBQT gets 
fixed in the proper place. This means another (even 
lengthier) chain of fixes in the future. Unless all of 
these current hacks are clearly marked as such in source.

Brgds,
Viktor

From bedipritpal at hotmail.com  Sun Mar 28 20:22:24 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 28 20:22:31 2010
Subject: [Harbour] Re: hbIDE - On-line documentation-cum-distro update
In-Reply-To: <9BEAE116-2CDF-46E1-A4C1-C0858CE8811C@syenar.hu>
References: <1269762587057-4812225.post@n2.nabble.com>
	<4BAFB628.9070200@teledetection.fr>
	<1269816222205-4815222.post@n2.nabble.com>
	<9BEAE116-2CDF-46E1-A4C1-C0858CE8811C@syenar.hu>
Message-ID: <1269822144945-4815574.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> IOW you are replacing crashes with leaks.
> 
> IMO it would be simpler to just never delete any objects...
> 
> Now all these intentional leaks ("persistent objects") 
> will have to be refixed one by one once ever HBQT gets 
> fixed in the proper place. This means another (even 
> lengthier) chain of fixes in the future. Unless all of 
> these current hacks are clearly marked as such in source.
> 

This is exactly what I am doing, locals to class variable.
OR am I missing something from your message?

If I leave them "as is", next time a new object will be 
created and will consume another chunk of memory.
If an object is created once and reused, no harms, 
even if we fix the root issue. This also prevents memory
fregmentation.

BTW there are only couple of dialogs are left which 
are constructed on locals.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-On-line-documentation-cum-distro-update-tp4812225p4815574.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Mar 28 20:30:04 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 28 20:30:11 2010
Subject: [Harbour] Re: hbIDE - On-line documentation-cum-distro update
In-Reply-To: <1269762587057-4812225.post@n2.nabble.com>
References: <1269762587057-4812225.post@n2.nabble.com>
Message-ID: <1269822604181-4815601.post@n2.nabble.com>


Hi All

A few more pages are uploaded at 

http://hbide.vouch.info/

Can someone look at them and suggest recommended
course of actions ?

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-On-line-documentation-cum-distro-update-tp4812225p4815601.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Mar 28 20:43:08 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Mar 28 20:43:20 2010
Subject: [Harbour] Re: hbIDE - On-line documentation-cum-distro update
In-Reply-To: <1269822144945-4815574.post@n2.nabble.com>
References: <1269762587057-4812225.post@n2.nabble.com>
	<4BAFB628.9070200@teledetection.fr>
	<1269816222205-4815222.post@n2.nabble.com>
	<9BEAE116-2CDF-46E1-A4C1-C0858CE8811C@syenar.hu>
	<1269822144945-4815574.post@n2.nabble.com>
Message-ID: <02C40E36-348D-45C3-A1B6-420F2BA4C0DB@syenar.hu>

>> IOW you are replacing crashes with leaks.
>> 
>> IMO it would be simpler to just never delete any objects...
>> 
>> Now all these intentional leaks ("persistent objects") 
>> will have to be refixed one by one once ever HBQT gets 
>> fixed in the proper place. This means another (even 
>> lengthier) chain of fixes in the future. Unless all of 
>> these current hacks are clearly marked as such in source.
>> 
> 
> This is exactly what I am doing, locals to class variable.
> OR am I missing something from your message?

You're fixing low-level crashes by introducing 
unnecessary memory consumption, and/or by solving 
"reference counting" manually on the high level.

Both are wrong solutions. They are masking/hiding 
the real problem by introducing unnecessary and/or 
wrong logic in high-level code. Plus they create 
impossible to document and follow high-level 
programming requirements for any HBQT programs.

> If I leave them "as is", next time a new object will be 
> created and will consume another chunk of memory.
> If an object is created once and reused, no harms, 
> even if we fix the root issue. This also prevents memory
> fregmentation.

In this sense the best way to avoid memory fragmentation 
is to never release any memory. In this sense your 
reasoning is right.

All I'm seeing is huge and endless efforts to hide 
very serious low-level errors on the high-level.

I've written about this dozens of times, Przemek 
wrote about it, but the phenomena just continues.

Probably it would be more fruitful method to start 
experimenting with and understanding the basic 
memory/object handling concept of QT using some 
_small_ and _representative_ examples, and create 
a clean wrapper design for these. Then apply this 
logic for all objects covered by HBQT.

[ I understand HBQT is so heavy by now, that such 
experimenting is not very practical on it, hence 
this suggestion. ]

Brgds,
Viktor

From wcshum88 at hotmail.com  Mon Mar 29 00:52:08 2010
From: wcshum88 at hotmail.com (Shum)
Date: Mon Mar 29 00:52:18 2010
Subject: [Harbour] Ask help for run time error ...
Message-ID: <1269838328528-4816267.post@n2.nabble.com>


Hi All,

C compiler is the builtin mingw of latest Haubour SVN 

I just finish error free compiled and generate my harbour application...
After execute the application .... error comes out with hb_out.log as
follow:

Called from _LMSGBOX(0)
Called from MAIN(90) in mysys.prg

the _LMSGBOX() is a function which is in the mybas1.dll

it seems that the function in other dlls cannot be called ?
Please point me out whats wrong ?

mybas1.hbp as follow
-------------------------------------------------------------
#
# $Id$
#

-mt
-b
-inc
-shared
-workdir=r:\temp

#-hblib
-hbdyn
-implib

-od:/10/hprg/mybas1
-lhbxpp
-lhbct
-lhbwin

-ld:/10/hprg/myxbp.dll

-id:/10/hprg/include

errorsys.prg
#dllfnc.prg
_myvar.prg
myvar.prg
locks.prg
mybase.prg
wini.prg
xmlio.prg
dfunc.prg
mylang.prg
mygbio.prg
mydata.prg
myfunc.prg
ufunc.prg
wmybas1.prg
----------------------------------------------------------------------------


mysys.hbp  as follow:
----------------------------------------------------------------------
#
# $Id$
#

-mt
-b

-hbexe
-gui
-omysys
-id:/10/hprg/include

-lhbxpp
-lrddsql

-ld:/10/hprg/myxbp.dll
-ld:/10/hprg/mybas1.dll
-ld:/10/hprg/mybas2.dll
-ld:/10/hprg/myinit.dll
-ld:/10/hprg/mygui0.dll
-ld:/10/hprg/myinet.dll
-ld:/10/hprg/myspool.dll
-ld:/10/hprg/myweb0.dll
-ld:/10/hprg/myxlnk.dll
-ld:/10/hprg/mygui1.dll
-ld:/10/hprg/mywrpt.dll
-ld:/10/hprg/myxsys.dll

-ldflag={msvc}-nodefaultlib:msvcrt.lib
-ldflag={msvc}-defaultlib:libcmt.lib

d:/hb20/contrib/hbxbp/hbxbp.hbc
-Ld:/qt/4.5.3/lib

mysys.prg
----------------------------------------------------------------------




http://n2.nabble.com/file/n4816267/hb_out.log hb_out.log 


-- 
View this message in context: http://n2.nabble.com/Ask-help-for-run-time-error-tp4816267p4816267.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From wcshum88 at hotmail.com  Mon Mar 29 01:42:51 2010
From: wcshum88 at hotmail.com (Shum)
Date: Mon Mar 29 01:42:57 2010
Subject: [Harbour] How to go insde debuger ?
Message-ID: <1269841371163-4816375.post@n2.nabble.com>


Hi All,

under the tests dir

hbmk2 tstcolor.prg -b

tstcolor.exe is generated but "run" it  does not go into the debuger ?

Please point me to right direction ....thanks !

Shum

-- 
View this message in context: http://n2.nabble.com/How-to-go-insde-debuger-tp4816375p4816375.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From kadziola at tlen.pl  Mon Mar 29 02:00:14 2010
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Mon Mar 29 02:00:22 2010
Subject: [Harbour] How to go insde debuger ?
In-Reply-To: <1269841371163-4816375.post@n2.nabble.com>
References: <1269841371163-4816375.post@n2.nabble.com>
Message-ID: <33800080.20100329080014@tlen.pl>

Hi Shum ,

S> under the tests dir
S> hbmk2 tstcolor.prg -b
S> tstcolor.exe is generated but "run" it  does not go into the debuger ?
S> Please point me to right direction ....thanks !

Command AltD() in tstcolor.prg ??


-- 
Regards,
 Jaroslaw Kadziola

From wcshum88 at hotmail.com  Mon Mar 29 02:03:33 2010
From: wcshum88 at hotmail.com (Shum)
Date: Mon Mar 29 02:03:40 2010
Subject: [Harbour] Re: How to go insde debuger ?
In-Reply-To: <33800080.20100329080014@tlen.pl>
References: <1269841371163-4816375.post@n2.nabble.com>
	<33800080.20100329080014@tlen.pl>
Message-ID: <1269842613455-4816404.post@n2.nabble.com>


Hi Jaroslaw Kadziola ,

Thanks !  It work fine now ...

Shum
-- 
View this message in context: http://n2.nabble.com/How-to-go-insde-debuger-tp4816375p4816404.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Mon Mar 29 03:54:13 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 29 03:54:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14256] trunk/harbour
Message-ID: <E1Nw9nZ-0002OJ-Jb@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14256
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14256&view=rev
Author:   vszakats
Date:     2010-03-29 07:54:12 +0000 (Mon, 29 Mar 2010)

Log Message:
-----------
2010-03-29 09:52 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * Makefile
  - bin/postinst.prg
  + config/postinst.prg
    * Moved postinst.prg from bin to config dir.

  * config/postinst.prg
    + Changed to automatically build all tools found in /utils,
      thus dropping hard-wired tool names from postinst.
    * Minor cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/Makefile

Added Paths:
-----------
    trunk/harbour/config/postinst.prg

Removed Paths:
-------------
    trunk/harbour/bin/postinst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Mon Mar 29 04:09:42 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Mon Mar 29 04:09:50 2010
Subject: [Harbour] Re: hbIDE - On-line documentation-cum-distro update
In-Reply-To: <02C40E36-348D-45C3-A1B6-420F2BA4C0DB@syenar.hu>
References: <1269762587057-4812225.post@n2.nabble.com>
	<4BAFB628.9070200@teledetection.fr>
	<1269816222205-4815222.post@n2.nabble.com>
	<9BEAE116-2CDF-46E1-A4C1-C0858CE8811C@syenar.hu>
	<1269822144945-4815574.post@n2.nabble.com>
	<02C40E36-348D-45C3-A1B6-420F2BA4C0DB@syenar.hu>
Message-ID: <1269850182086-4816757.post@n2.nabble.com>


Hi

HbQt is a binding of Qt for Harbor.
It shares many problems and solutions with other C++ and Qt bindings.
There is pyside project (http://www.pyside.org/) , which is a binding for
Python.

Here is exract from Pyside presentation:
(http://www.pyside.org/2010/03/pyside-talk-on-bossa-conference-2010/)

Shiboken is the binding generator used to create
the PySide bindings. It can generate bindings not only for Qt, but for
any C++ library.


Things one must take care in the binding business:
? C++ object to Python wrapper association
? Inheritance
? Multiple inheritance and casting pointers
? Implicit type conversions
? Methods with multiple signatures
? Protected methods
? Function arguments that return values
? Virtual method overrides
? Object ownership

Harbour and Python are both dynamic interpreted GC languages.
IMHO we should take the same steps (maybe adapt some Shiboken
code, which is writen in C++).
We need hb_cppappi in Harbour , which can be used
for different C++ bindings (Qt,wxWidgets,...). 

BRGDS
 

-----
brgs
Fran?ek Prijatelj
-- 
View this message in context: http://n2.nabble.com/hbIDE-On-line-documentation-cum-distro-update-tp4812225p4816757.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From maurilio.longo at libero.it  Mon Mar 29 04:15:15 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 04:15:33 2010
Subject: [Harbour] 14255 error on build
Message-ID: <4BB06193.7030601@libero.it>

Hi,

I get this on OS/2 + GCC


../../../../../bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg
-i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
-odbgbrwsr.o -c dbgbrwsr.c
ar    -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbdebug.a &
..\..\..\..\..\config\os2rm -f __lib__.tmp
gcc  -shared -L../../../../../lib/os2/gcc  -o
../../../../../bin/os2/gcc/harbour.dll -Wl,@__dyn__.tmp __dyn__.def -lsocket -s
emximp -o ../../../../../lib/os2/gcc/harbour.a
../../../../../bin/os2/gcc/harbour.dll
gcc  -shared -L../../../../../../lib/os2/gcc  -o
../../../../../../bin/os2/gcc/harbourm.dll -Wl,@__dyn__.tmp __dyn__.def
-lsocket -s
emximp -o ../../../../../../lib/os2/gcc/harbourm.a
../../../../../../bin/os2/gcc/harbourm.dll
../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg
-i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
-ohbrun.o -c hbrun.c
windres -O coff   -o hbrun.res ../../../hbrun.rc
windres: ../../../hbrun.rc:6: parse error
make[3]: *** [hbrun.res] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbrun] Error 2
make: *** [utils] Error 2


Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Mar 29 04:19:25 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 04:19:38 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <4BB06193.7030601@libero.it>
References: <4BB06193.7030601@libero.it>
Message-ID: <39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>

Hi,

Pls help finding out what is the proper .rc format 
to include an icon in OS/2.

I copied current logic from hbmk2, but it's possible 
nobody tried it even there, so it was wrong.

(Worth to try with single backslashes first.)

Brgds,
Viktor

On 2010 Mar 29, at 10:15, Maurilio Longo wrote:

> Hi,
> 
> I get this on OS/2 + GCC
> 
> 
> ../../../../../bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg
> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
> -odbgbrwsr.o -c dbgbrwsr.c
> ar    -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbdebug.a &
> ..\..\..\..\..\config\os2rm -f __lib__.tmp
> gcc  -shared -L../../../../../lib/os2/gcc  -o
> ../../../../../bin/os2/gcc/harbour.dll -Wl,@__dyn__.tmp __dyn__.def -lsocket -s
> emximp -o ../../../../../lib/os2/gcc/harbour.a
> ../../../../../bin/os2/gcc/harbour.dll
> gcc  -shared -L../../../../../../lib/os2/gcc  -o
> ../../../../../../bin/os2/gcc/harbourm.dll -Wl,@__dyn__.tmp __dyn__.def
> -lsocket -s
> emximp -o ../../../../../../lib/os2/gcc/harbourm.a
> ../../../../../../bin/os2/gcc/harbourm.dll
> ../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg
> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
> -ohbrun.o -c hbrun.c
> windres -O coff   -o hbrun.res ../../../hbrun.rc
> windres: ../../../hbrun.rc:6: parse error
> make[3]: *** [hbrun.res] Error 1
> make[2]: *** [descend] Error 2
> make[1]: *** [hbrun] Error 2
> make: *** [utils] Error 2
> 
> 
> Maurilio.
> 
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Mon Mar 29 04:47:11 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 04:47:25 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>
References: <4BB06193.7030601@libero.it>
	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>
Message-ID: <4BB0690F.6040604@libero.it>

Viktor,

----------8<-----------------------
Syntax:

  ICON icon-id  [load-option] [ mem-option] [codepage] filename


This form of the ICON statement defines an icon resource for an application.
An icon resource, typically created by using Icon Editor, is a bit map
defining the shape of the icon to be used for a given application. The ICON
statement copies the icon resource from the file specified in the filename
field and adds it to the application's other resources. An icon resource can
be loaded when creating a window by using the WinCreateStdWindow function with
the FS_ICON style.

You can provide any number of ICON statements in a resource script file, but
each statement must specify a unique icon-id value.

icon-id Specifies the icon-resource identifier. This value must be an unsigned
integer in the range of 1 through 65535, a simple expression that evaluates to
a value in these ranges, or a character string. An icon-id of 1 has a special
meaning; for details, see the "Comment" section.
load-option Specifies when the system loads the resource from the executable
file into memory. This value must be one of the following:
PRELOAD System loads the resource when the application starts.
LOADONCALL System loads the resource when the application calls the
WinCreateStdWindow function. This is the default option.
mem-option Specifies how the system manages the resource when it is in memory.
This value must be one or more of the following:
FIXED System keeps the resource at a fixed memory location.
MOVEABLE System moves the resource as necessary to compact memory.
DISCARDABLE System discards the resource if it is no longer needed. The
default setting is MOVEABLE and DISCARDABLE.
codepage Specifies a code page value. For a list of valid code pages see
CODEPAGE Statement.
filename Specifies the name of the file containing the icon resource. If the
file is not in the current directory, filename must be preceded by a full path.

Comments

An icon with an icon-id of 1 is the default icon. The RC program writes the
icon not only to the resources in your executable file, but also as the .ICON
extended attribute. File Manager will display this icon next to the name of
the executable file.

Example

This example defines an icon whose icon identifier is 11. The icon resource is
copied from the file custom.ico.

ICON 11 custom.ico
-------->8-----------------

Now I'll try to remove double slashes.

Maurilio.


Viktor Szak?ts wrote:
> Hi,
> 
> Pls help finding out what is the proper .rc format 
> to include an icon in OS/2.
> 
> I copied current logic from hbmk2, but it's possible 
> nobody tried it even there, so it was wrong.
> 
> (Worth to try with single backslashes first.)
> 
> Brgds,
> Viktor
> 
> On 2010 Mar 29, at 10:15, Maurilio Longo wrote:
> 
>> Hi,
>>
>> I get this on OS/2 + GCC
>>
>>
>> ../../../../../bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg
>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
>> -odbgbrwsr.o -c dbgbrwsr.c
>> ar    -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbdebug.a &
>> ..\..\..\..\..\config\os2rm -f __lib__.tmp
>> gcc  -shared -L../../../../../lib/os2/gcc  -o
>> ../../../../../bin/os2/gcc/harbour.dll -Wl,@__dyn__.tmp __dyn__.def -lsocket -s
>> emximp -o ../../../../../lib/os2/gcc/harbour.a
>> ../../../../../bin/os2/gcc/harbour.dll
>> gcc  -shared -L../../../../../../lib/os2/gcc  -o
>> ../../../../../../bin/os2/gcc/harbourm.dll -Wl,@__dyn__.tmp __dyn__.def
>> -lsocket -s
>> emximp -o ../../../../../../lib/os2/gcc/harbourm.a
>> ../../../../../../bin/os2/gcc/harbourm.dll
>> ../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg
>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
>> -ohbrun.o -c hbrun.c
>> windres -O coff   -o hbrun.res ../../../hbrun.rc
>> windres: ../../../hbrun.rc:6: parse error
>> make[3]: *** [hbrun.res] Error 1
>> make[2]: *** [descend] Error 2
>> make[1]: *** [hbrun] Error 2
>> make: *** [utils] Error 2
>>
>>
>> Maurilio.
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Mar 29 05:05:18 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 05:05:31 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>
References: <4BB06193.7030601@libero.it>
	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>
Message-ID: <4BB06D4E.70401@libero.it>

Viktor,

Using RC.EXE I can compile attached .rc file this way


(E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)rc -r -DOS2 ..\..\..\hbrun.rc
Operating System/2 Resource Compiler
Version 4.00.011 Oct 10 2000
(C) Copyright IBM Corporation 1988-2000
(C) Copyright Microsoft Corp. 1985-2000
All rights reserved.


Creating binary resource file ..\..\..\hbrun.RES
RC:  RCPP -E -D RC_INVOKED -D OS2 -W4 -f ..\..\..\hbrun.rc -ef D:\OS2\RCPP.ERR

..\..\..\hbrun.rc



I see you're calling windres, which I never knew it even exists .)

Anyway, it fails with a parse error, I don't know why.

Still investigating, though.

Maurilio.

Viktor Szak?ts wrote:
> Hi,
> 
> Pls help finding out what is the proper .rc format 
> to include an icon in OS/2.
> 
> I copied current logic from hbmk2, but it's possible 
> nobody tried it even there, so it was wrong.
> 
> (Worth to try with single backslashes first.)
> 
> Brgds,
> Viktor
> 
> On 2010 Mar 29, at 10:15, Maurilio Longo wrote:
> 
>> Hi,
>>
>> I get this on OS/2 + GCC
>>
>>
>> ../../../../../bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg
>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
>> -odbgbrwsr.o -c dbgbrwsr.c
>> ar    -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbdebug.a &
>> ..\..\..\..\..\config\os2rm -f __lib__.tmp
>> gcc  -shared -L../../../../../lib/os2/gcc  -o
>> ../../../../../bin/os2/gcc/harbour.dll -Wl,@__dyn__.tmp __dyn__.def -lsocket -s
>> emximp -o ../../../../../lib/os2/gcc/harbour.a
>> ../../../../../bin/os2/gcc/harbour.dll
>> gcc  -shared -L../../../../../../lib/os2/gcc  -o
>> ../../../../../../bin/os2/gcc/harbourm.dll -Wl,@__dyn__.tmp __dyn__.def
>> -lsocket -s
>> emximp -o ../../../../../../lib/os2/gcc/harbourm.a
>> ../../../../../../bin/os2/gcc/harbourm.dll
>> ../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg
>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
>> -ohbrun.o -c hbrun.c
>> windres -O coff   -o hbrun.res ../../../hbrun.rc
>> windres: ../../../hbrun.rc:6: parse error
>> make[3]: *** [hbrun.res] Error 1
>> make[2]: *** [descend] Error 2
>> make[1]: *** [hbrun] Error 2
>> make: *** [utils] Error 2
>>
>>
>> Maurilio.
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------
/*
 * $Id: hbrun.rc 14255 2010-03-28 17:23:00Z vszakats $
 */

#if defined( OS2 )
ICON 1 DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
#endif
From harbour.01 at syenar.hu  Mon Mar 29 05:11:40 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 05:11:51 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <4BB06D4E.70401@libero.it>
References: <4BB06193.7030601@libero.it>
	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>
	<4BB06D4E.70401@libero.it>
Message-ID: <0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>

Hi,

> Using RC.EXE I can compile attached .rc file this way
> 
> 
> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)rc -r -DOS2 ..\..\..\hbrun.rc
> Operating System/2 Resource Compiler
> Version 4.00.011 Oct 10 2000
> (C) Copyright IBM Corporation 1988-2000
> (C) Copyright Microsoft Corp. 1985-2000
> All rights reserved.
> 
> 
> Creating binary resource file ..\..\..\hbrun.RES
> RC:  RCPP -E -D RC_INVOKED -D OS2 -W4 -f ..\..\..\hbrun.rc -ef D:\OS2\RCPP.ERR
> 
> ..\..\..\hbrun.rc

One question is if it can be linked by gcc.

Plus from here I can't tell what other limitation 
this system tool might have compared to windres.

Other question is with watcom. It's would good to 
define what is a generally accepted OS/2 .rc format 
understood and usable with all OS/2 compilers.

> I see you're calling windres, which I never knew it even exists .)
> 
> Anyway, it fails with a parse error, I don't know why.
> 
> Still investigating, though.

Okay.

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Mar 29 05:16:00 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 05:16:13 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>
	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>
Message-ID: <4BB06FD0.2080904@libero.it>

Viktor,

windres has a different syntax from rc, see attached file which I can compile with

(E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -r -DOS2 ..\..\..\hbrun.rc

Output goes to stdout, so you need a -o also.

Maurilio.



Viktor Szak?ts wrote:
> Hi,
> 
>> Using RC.EXE I can compile attached .rc file this way
>>
>>
>> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)rc -r -DOS2 ..\..\..\hbrun.rc
>> Operating System/2 Resource Compiler
>> Version 4.00.011 Oct 10 2000
>> (C) Copyright IBM Corporation 1988-2000
>> (C) Copyright Microsoft Corp. 1985-2000
>> All rights reserved.
>>
>>
>> Creating binary resource file ..\..\..\hbrun.RES
>> RC:  RCPP -E -D RC_INVOKED -D OS2 -W4 -f ..\..\..\hbrun.rc -ef D:\OS2\RCPP.ERR
>>
>> ..\..\..\hbrun.rc
> 
> One question is if it can be linked by gcc.
> 
> Plus from here I can't tell what other limitation 
> this system tool might have compared to windres.
> 
> Other question is with watcom. It's would good to 
> define what is a generally accepted OS/2 .rc format 
> understood and usable with all OS/2 compilers.
> 
>> I see you're calling windres, which I never knew it even exists .)
>>
>> Anyway, it fails with a parse error, I don't know why.
>>
>> Still investigating, though.
> 
> Okay.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------
/*
 * $Id: hbrun.rc 14255 2010-03-28 17:23:00Z vszakats $
 */

#if defined( OS2 )
1 ICON  DISCARDABLE  "..\\..\\..\\..\\..\\package\\harbour.ico"
#endif
From maurilio.longo at libero.it  Mon Mar 29 05:18:07 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 05:18:20 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <4BB06FD0.2080904@libero.it>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>
	<4BB06FD0.2080904@libero.it>
Message-ID: <4BB0704F.6050808@libero.it>

Viktor,

see this

http://www.cygwin.com/cygwin-ug-net/windres.html

Maurilio.


Maurilio Longo wrote:
> Viktor,
> 
> windres has a different syntax from rc, see attached file which I can compile with
> 
> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -r -DOS2 ..\..\..\hbrun.rc
> 
> Output goes to stdout, so you need a -o also.
> 
> Maurilio.
> 
> 
> 
> Viktor Szak?ts wrote:
>> Hi,
>>
>>> Using RC.EXE I can compile attached .rc file this way
>>>
>>>
>>> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)rc -r -DOS2 ..\..\..\hbrun.rc
>>> Operating System/2 Resource Compiler
>>> Version 4.00.011 Oct 10 2000
>>> (C) Copyright IBM Corporation 1988-2000
>>> (C) Copyright Microsoft Corp. 1985-2000
>>> All rights reserved.
>>>
>>>
>>> Creating binary resource file ..\..\..\hbrun.RES
>>> RC:  RCPP -E -D RC_INVOKED -D OS2 -W4 -f ..\..\..\hbrun.rc -ef D:\OS2\RCPP.ERR
>>>
>>> ..\..\..\hbrun.rc
>> One question is if it can be linked by gcc.
>>
>> Plus from here I can't tell what other limitation 
>> this system tool might have compared to windres.
>>
>> Other question is with watcom. It's would good to 
>> define what is a generally accepted OS/2 .rc format 
>> understood and usable with all OS/2 compilers.
>>
>>> I see you're calling windres, which I never knew it even exists .)
>>>
>>> Anyway, it fails with a parse error, I don't know why.
>>>
>>> Still investigating, though.
>> Okay.
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From wcshum88 at hotmail.com  Mon Mar 29 05:34:52 2010
From: wcshum88 at hotmail.com (Shum)
Date: Mon Mar 29 05:35:00 2010
Subject: [Harbour] Re: Ask help for run time error ...
In-Reply-To: <1269838328528-4816267.post@n2.nabble.com>
References: <1269838328528-4816267.post@n2.nabble.com>
Message-ID: <1269855292521-4816993.post@n2.nabble.com>


Hi All,

Solved !

Now... facing other kind of error


Shum
-- 
View this message in context: http://n2.nabble.com/Ask-help-for-run-time-error-tp4816267p4816993.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Mon Mar 29 05:54:02 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 05:54:13 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <4BB06FD0.2080904@libero.it>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>
	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>
	<4BB06FD0.2080904@libero.it>
Message-ID: <E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>

> windres has a different syntax from rc, see attached file which I can compile with
> 
> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -r -DOS2 ..\..\..\hbrun.rc

Can you try two things with included .rc file:
1. Does it work with standard windres command-line?
    windres -O [omf|coff] -o hbrun.res hbrun.rc
2. Does this .rc format work with watcom?

--- hbrun.rc
#if defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 )
#if defined( __GNUC__ )
/* os2/gcc */
1 ICON DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
#else
/* os2/watom */
ICON 1 DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
#endif
#elif defined( __BORLANDC__ )
/* win/bcc */
ICON1 ICON DISCARDABLE "..\..\..\..\..\package\harbour.ico"
#else
/* win */
ICON1 ICON DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
#endif
---

[ Quite nicely standardized format. not. ]

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Mar 29 06:03:23 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 06:03:37 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>
	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
Message-ID: <4BB07AEB.6000606@libero.it>

Viktor,

Viktor Szak?ts wrote:
> Can you try two things with included .rc file:
> 1. Does it work with standard windres command-line?
>     windres -O [omf|coff] -o hbrun.res hbrun.rc

Without -O it works, otherwise I get an error:

(E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -o hbrun.res
..\..\..\hbrun.rc

(E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)dir

The volume label in drive E is Dati.
The Volume Serial Number is 812E:D5C2.
Directory of E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc

29/03/10 12:00          <DIR>    124 ----  .
29/03/10 10:10          <DIR>    124 ----  ..
29/03/10 10:10         15.390    124 a---  hbrun.c
29/03/10 10:10          8.211    124 a---  hbrun.o
29/03/10 12:00          9.344    124 a---  hbrun.res
        5 file(s)      32.945 bytes used
                  179.062.521 K bytes free

(E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -Oomf -o hbrun.res
..\..\..\hbrun.rc
windres: unknown format type `omf'
windres: supported formats: rc res coff

(E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -Ocoff -o hbrun.res
..\..\..\hbrun.rc
windres: can't get BFD_RELOC_RVA relocation type: Error 0

> 2. Does this .rc format work with watcom?
> 

I don't have it installed and working, I hope David can do this test.


Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Mar 29 06:03:48 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 29 06:04:00 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>
	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>
	<4BB06FD0.2080904@libero.it>
	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
Message-ID: <5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>

Trying to lessen the mess, can you try this one?:

---
/*
 * $Id: hbrun.rc 14255 2010-03-28 17:23:00Z vszakats $
 */

#if ( defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 ) ) && ! defined( __GNUC__ )
/* os2/watcom */
      ICON DISCARDABLE "../../../../../package/harbour.ico"
#else
ICON1 ICON DISCARDABLE "../../../../../package/harbour.ico"
#endif
---

Also if the icon is indeed visible as app icon.

Brgds,
Viktor

On 2010 Mar 29, at 11:54, Viktor Szak?ts wrote:

>> windres has a different syntax from rc, see attached file which I can compile with
>> 
>> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -r -DOS2 ..\..\..\hbrun.rc
> 
> Can you try two things with included .rc file:
> 1. Does it work with standard windres command-line?
>    windres -O [omf|coff] -o hbrun.res hbrun.rc
> 2. Does this .rc format work with watcom?
> 
> --- hbrun.rc
> #if defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 )
> #if defined( __GNUC__ )
> /* os2/gcc */
> 1 ICON DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
> #else
> /* os2/watom */
> ICON 1 DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
> #endif
> #elif defined( __BORLANDC__ )
> /* win/bcc */
> ICON1 ICON DISCARDABLE "..\..\..\..\..\package\harbour.ico"
> #else
> /* win */
> ICON1 ICON DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
> #endif
> ---
> 
> [ Quite nicely standardized format. not. ]
> 
> Brgds,
> Viktor
> 

From mbelgrano at deltain.it  Mon Mar 29 06:13:22 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 29 06:13:53 2010
Subject: [Harbour] Re: How can i Print BMP?
In-Reply-To: <609353e71003080702v32ab5334m62b43f62cf547069@mail.gmail.com>
References: <609353e71003010832p10f7e5dfldf6f874618204993@mail.gmail.com> 
	<609353e71003080702v32ab5334m62b43f62cf547069@mail.gmail.com>
Message-ID: <609353e71003290313s678e1e1w61189fb584715d5a@mail.gmail.com>

Imagemagick wikk read, convert and write images in a 100 formas with
interface with same programming language.
Anybody know if exist an harbour wrapper for
http://www.imagemagick.org/script/index.php


Resolved  with follow copy function ..Here all seem work fine

<http://www.imagemagick.org/script/index.php>
      Log_Handle := fopen(x_prnfile,0)
      cStr=space(1000)
      x_letti := Fread(Log_Handle,@cStr,1000)
     if left(cStr,2)=CHR(27)+"E"
         cstr=substr(cstr,3,998)
      endif
    x_fileprint=x_fileprint + cstr
      x_letti=1000
      do while x_letti=1000
        cStr=space(1000)
        x_letti := Fread(Log_Handle,@cStr,1000)
        if x_letti<>1000
           // ALTD()
           if substr(cStr,x_letti-1,2)=CHR(27)+"E"
              cstr=substr(cstr,1,x_letti-2)
           endif
        endif
        x_fileprint=x_fileprint + cstr
      ENDDO
      fclose(log_handle)



2010/3/8 Massimo Belgrano <mbelgrano@deltain.it>

> I try resolve with imagemagik using command line convert (via shell)
> convert "G:\myimage.bmp" -rotate 180 -resize 400x250 -density 300x300
> "c:\aa.pcl"
>      ?  ?? chr(K_ESC) ......
>      x_prnfile="g:\clip52\lavori\massimo\arca\AA.pcl"
>      TYPE &X_PRNFILE to print
> The image break during printing and page eject
> may be that type is not able find end of file (26)
>
>
>
> 2010/3/1 Massimo Belgrano <mbelgrano@deltain.it>:
> > I need the capability print a bmp inside a harbour application
> > who print plc . is a old clipper application
> >
> > I Have found a routine who Print .PCX To Laserjet, but need BMP
> >
> >
> > I search a conversion BMP2PCX or printing BMP in pcl
> > (I need also rotate image)
> >
> >
> > http://www.karland.com/code/clipper/
> > function LoadPCX(cFile)
> >
> >
> //----------------------------------------------------------------------------
> >   // AUTHOR:     Denis A. Sarrazin (Tue 10-11-1994)
> >   // PURPOSE:    to load the PCX into a special array
> >   // PARAMETERS: cFile <-- the name of the PCX file to load
> >   // RETURNS:    array (see list of #define in MINIPCX.CH and format
> below)
> >   // NOTES:      Format of a .PCX header shown below:
> >   //
> >   //        Byte  Item            Size Description/Comments
> >   //        ----  --------------- ----
> > -----------------------------------------
> >   //        0     Manufacturer      1  Constant Flag  10 = ZSoft .PCX
> >   //        1     Version           1  Version information:
> >   //                                     0 = Version 2.5
> >   //                                     2 = Version 2.8 w/palette
> information
> >   //                                     3 = Version 2.8 w/o palette
> > information
> >   //                                     5 = Version 3.0
> >   //        2     Encoding          1  1 = .PCX run length encoding
> >   //        3     Bits per pixel    1  Number of bits/pixel per plane
> >   //        4     Window            8  Picture Dimensions
> >   //                                     (Xmin, Ymin) - (Xmax - Ymax)
> >   //                                     in pixels, inclusive
> >   //        12    HRes              2  Horizontal Resolution of creating
> device
> >   //        14    VRes              2  Vertical Resolution of creating
> device
> >   //        16    Colormap         48  Color palette setting, see text
> >   //        64    Reserved          1
> >   //        65    NPlanes           1  Number of color planes
> >   //        66    Bytes per Line    2  Number of bytes per scan line per
> >   //                                     color plane (always even for
> > .PCX files)
> >   //        68    Palette Info      2  How to interpret palette - 1 =
> color/BW,
> >   //                                                              2 =
> grayscale
> >   //        70    Filler           58  blank to fill out 128 byte header
> >   //
> >   //        IMPORTANT:
> >   //          All sizes are measured in BYTES.
> >   //          All variables of size 2 are integers.
> >   //
> >
> //----------------------------------------------------------------------------
> >   local aPCX
> >   local cBuffer
> >   local hPCX
> >   local nRead
> >   local nFileLength
> >
> >   if !file(cFile)
> >
> >      aPCX := {}
> >
> >   else
> >
> >      aPCX        := array(PCX_LENGTH)
> >      hPCX        := fopen(cFile)
> >      nFileLength := FLEN(hPCX)
> >
> >      cBuffer := space(HEADER_SIZE)
> >      nRead   := fread(hPCX,@cBuffer,HEADER_SIZE)           // load PCX
> header
> >
> >      aPCX[ PCX_MANUFACTURER ]   := asc(substr(cBuffer,1,1))
> >      aPCX[ PCX_VERSION ]        := asc(substr(cBuffer,2,1))
> >      aPCX[ PCX_ENCODING ]       := asc(substr(cBuffer,3,1))
> >      aPCX[ PCX_BITS_PER_PIXEL ] := asc(substr(cBuffer,4,1))
> >      aPCX[ PCX_WINDOW ]         := {bin2i(substr(cBuffer,5,2)),;
> >                                          bin2i(substr(cBuffer,7,2)),;
> >                                          bin2i(substr(cBuffer,9,2)),;
> >                                          bin2i(substr(cBuffer,11,2))}
> >      aPCX[ PCX_HRES ]           := bin2i(substr(cBuffer,13,2))
> >      aPCX[ PCX_VRES ]           := bin2i(substr(cBuffer,15,2))
> >      aPCX[ PCX_COLORMAP ]       := substr(cbuffer,17,48)
> >      aPCX[ PCX_RESERVED ]       := asc(substr(cBuffer,65,1))
> >      aPCX[ PCX_NPLANES ]        := asc(substr(cBuffer,66,1))
> >      aPCX[ PCX_BYTES_PER_LINE ] := bin2i(substr(cBuffer,67,2))
> >      aPCX[ PCX_PALETTE_INFO ]   := bin2i(substr(cBuffer,69,2))
> >      aPCX[ PCX_FILLER ]         := substr(cBuffer,71,58)
> >
> >      cBuffer := space(nFileLength - HEADER_SIZE)
> >      nRead   := fread(hPCX,@cBuffer,nFileLength - HEADER_SIZE)
> >      if (nRead != (nFileLength - HEADER_SIZE))
> >         messaggio("Attenzione  File TROPPO GRANDE","T")
> >      endif
> >
> >      aPCX[ PCX_PIXELS ] := cBuffer
> >
> >      fclose(hPCX)
> >
> >   endif
> >
> > return (aPCX)
> >
> >
> >
> > procedure PrintPCX(nRow,nCol,aPCX)
> >
> //----------------------------------------------------------------------------
> >   // AUTHOR:     Denis A. Sarrazin (Tue 10-11-1994)
> >   // PURPOSE:
> >   // PARAMETERS:
> >   // RETURNS:
> >   // EXAMPLES:
> >
> //----------------------------------------------------------------------------
> >   local nNumCol     := aPCX[PCX_WINDOW,3] - aPCX[PCX_WINDOW,1]+1
> >   local nTotalBytes := aPCX[PCX_NPLANES] * aPCX[PCX_BYTES_PER_LINE]
> >   local nStartCol
> >   local cRasterData := ""
> >   local nCount
> >   local nNumBytes
> >   local cByte
> >   local nBytePos
> >   local nPixel
> >   local nDiff
> >   nRow      := int(nRow * 300)
> >   nCol      := int(nCol * 300)
> >   nStartCol := nCol
> >   //   X_graph=""
> >   if SetPrinter()  // set the proper codes depending on type of printer
> >      //  PrnGrSet( nRow, nCol ) // cGrSet ; PrnGrMove( <r>, <c> )C
> >      //    X_graph=X_graph+CHR(K_ESC)+"*t300R" + ;  // raster
> > graphics at 300 dpi
> >      //        CHR(K_ESC)+"*r1A" +;       // start graphics at current
> position
> >      //                CHR(K_ESC)+"*p"+Cnum(nRow)+"Y"+;
> >      //                CHR(K_ESC)+"*p"+Cnum(nStartCol)+"X"
> >      ?? chr(K_ESC)+"*t300R"            // raster graphics at 300 dpi
> >      ? chr(K_ESC)+"*p"+cNUM(nRow)+"Y"
> >      ?? chr(K_ESC)+"*p"+cNUM(nCol)+"X"
> >      ?? chr(K_ESC)+"*r1A"              // start graphics at current
> position
> >
> >      ? chr(K_ESC)+"*p"+cNUM(nRow)+"Y"
> >      ??
> >      ?? chr(K_ESC)+"*p"+cNUM(nCol)+"X"
> >      ??
> >      nBytePos  := 1
> >      nNumBytes := 1
> >      while (nBytePos < len(aPCX[PCX_PIXELS]))
> >         cByte := BYTE2BIN(subst(aPCX[PCX_PIXELS],nBytePos,1))
> >         if (left(cByte,2) == "11")
> >            nCount := BIN2NUM("00"+substr(cByte,3))
> >            nBytePos ++
> >            cByte := BYTE2BIN(subst(aPCX[PCX_PIXELS],nBytePos,1))
> >         else
> >            nCount := 1
> >         endif
> >         while (nCount > 0)
> >            // display all bits in byte (or parts thereof)
> >            if ((nCol+8) > (nNumCol+nStartCol - 1))         // chop
> > off the excess
> >               nDiff := (nCol+8) - (nNumCol+nStartCol - 1) - 1
> >               cByte := padr(left(cByte,8 - nDiff),8,"1")   // clear any
> at end
> >            endif
> >            cRasterData += chr(XOR(BIN2NUM(cByte),255))     // invert
> > '1's and '0's
> >            nCol        += 8
> >            if (nNumBytes >= nTotalBytes)
> >               //
>  X_graph=X_graph+CHR(K_ESC)+"*p"+cNUM(nRow)+"Y"+;
> >               //
> +CHR(K_ESC)+"*p"+cNUM(nStartCol)+"X"+;
> >               //
> > +CHR(K_ESC)+"*b"+cNUM(LEN(cRasterData))+"W"+cRasterData
> >               ? chr(K_ESC)+"*p"+cNUM(nRow)+"Y"
> >               ??
> >               ?? chr(K_ESC)+"*p"+cNUM(nStartCol)+"X"
> >               ??
> >               ?? chr(K_ESC)+"*b"+cNUM(len(cRasterData))+"W"+cRasterData
> >               ??
> >               // PrnGrMove( nRow, nStartCol )
> >               // PrnGrLine( cRasterData )
> >               cRasterData := ""
> >               nNumBytes   := 0
> >               nCol        := nStartCol
> >               nRow ++
> >            endif
> >            nNumBytes ++
> >            nCount --
> >         end
> >         nBytePos ++
> >      end
> >      ? chr(K_ESC)+"*rB"+;              // end raster graphics
> >                 chr(K_ESC)+"&a0R"+;    // move to text row 1
> >                 chr(K_ESC)+"&a0C"      // move to text column 1
> >   endif
> >
> > return
> >
> >
> >
> > --
> > Massimo Belgrano
> >
>
>
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100329/6d0198ed/attachment-0001.html
From druzus at acn.waw.pl  Mon Mar 29 06:20:20 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 29 06:20:29 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <4BAC8C17.2080309@libero.it>
References: <4BAC52D0.9090703@mail.udg.mx>
	<20100326081139.GA22685@linux-4bod.home.aster.pl>
	<4BAC7523.4010607@libero.it>
	<20100326092124.GA23264@linux-4bod.home.aster.pl>
	<4BAC8C17.2080309@libero.it>
Message-ID: <20100329102020.GA6992@linux-4bod.home.aster.pl>

On Fri, 26 Mar 2010, Maurilio Longo wrote:

Hi,

> > Can you check the performance of above functions in some simple loop?
> See attached code, it gives these results on my PC when compiled with
> gcc -O3 -Wall -o gettid.exe gettid.c
> 
> (E:\harbour\test)gettid
> Time _hb_gettid() 688
> Time _gettid() 1787
> The numers are in milliseconds for a 100 million times loop.

Thank you very much.
Such results can be a little bit change by autoinlining when -O3 is used
so it would be nice if you can also test this function:

   ULONG _hb_gettid2( void )
   {
      ULONG tid = 0;
      PTIB  ptib = NULL;

      if( DosGetInfoBlocks( &ptib, NULL ) == NO_ERROR )
         tid = ptib->tib_ptib2->tib2_ultid;

      return tid;
   }

in your code. Just for information about real cost of DosGetInfoBlocks().
Maybe it's not such big and it internally makes exactly the same operations.

> > When threads ends then it's TLS area is freed so such information will be
> > lost in a while.
> Yes, but if we have an object on HVM, this object could have those numbers
> and they'll stay there until the object is disposed.

Yes it is and it's good place to store such information but it's not TLS
area :-)

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Mar 29 06:25:37 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 06:25:48 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <4BB07AEB.6000606@libero.it>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>
	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
	<4BB07AEB.6000606@libero.it>
Message-ID: <984EE6A0-1E85-4281-A738-381066AB37B3@syenar.hu>

>> Can you try two things with included .rc file:
>> 1. Does it work with standard windres command-line?
>>    windres -O [omf|coff] -o hbrun.res hbrun.rc
> 
> Without -O it works, otherwise I get an error:
> 
> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -o hbrun.res
> ..\..\..\hbrun.rc
> 
> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)dir
> 
> The volume label in drive E is Dati.
> The Volume Serial Number is 812E:D5C2.
> Directory of E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc
> 
> 29/03/10 12:00          <DIR>    124 ----  .
> 29/03/10 10:10          <DIR>    124 ----  ..
> 29/03/10 10:10         15.390    124 a---  hbrun.c
> 29/03/10 10:10          8.211    124 a---  hbrun.o
> 29/03/10 12:00          9.344    124 a---  hbrun.res
>        5 file(s)      32.945 bytes used
>                  179.062.521 K bytes free
> 
> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -Oomf -o hbrun.res
> ..\..\..\hbrun.rc
> windres: unknown format type `omf'
> windres: supported formats: rc res coff
> 
> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -Ocoff -o hbrun.res
> ..\..\..\hbrun.rc
> windres: can't get BFD_RELOC_RVA relocation type: Error 0

'-O coff' should be the right option for your gcc version, 
it seems supported, but yet it gives this error? Can it be that 
the space is missing in your test?

'-O omf' is for gccomf.

Brgds,
Viktor

From harbour-list at cxxl.de  Mon Mar 29 06:44:29 2010
From: harbour-list at cxxl.de (chris lueders)
Date: Mon Mar 29 06:45:01 2010
Subject: [Harbour] increase harbour popularity: wiki?
In-Reply-To: <B965CB42-044E-4959-9E9A-B36729ADB7A1@syenar.hu>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
	<1269710781265-4810022.post@n2.nabble.com>
	<CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
	<B965CB42-044E-4959-9E9A-B36729ADB7A1@syenar.hu>
Message-ID: <252038241.20100329124429@cxxl.de>

hi,

Saturday, March 27, 2010, 19:45:18, "Viktor Szak?ts" wrote:

> BTW, by googling it I've found that very few 
> Xbase++ developers even know about Harbour, 
> and even those who know totally confuse it with 
> xHarbour, which is a pretty large mistake to make 
> for multiple reasons.

> Dunno how to change that, but current situation 
> is not very good for us and for Harbour in 
> general.

> Maybe existing users should do something to 
> spread the word.

i'm new to harbour, but even though the project is a great help for me
i find the web presence and especially the documentation not very
complete.  my usual way of helping myself is to grep .lib files, the
harbour source code and googling.  but this is not a good solution for
the uninitiated.

what i would like to see is a wiki where everyone can enter all
harbour/clipper/xbase info, functions, commands, compatibility with
different versions, etc.

i don't know of any such site on the net.  if we would launch such a
thing, maybe in time we could make it the #1 source of xbase infos
with a strong link to and presence of harbour.  that should increase
knowledge and popularity for harbour.

i think it's important that it is a wiki, since the beauty of a wiki
is that everyone can enter information very easily.  it takes more
interest to checkout the svn repos, understand the doc format/whatever
and finally write some of it yourself.  that might be a too much of an
obstacle for many contributors.  plus, we could draw contributors from
other xbase lingos (xharbour, clipper 5.x, flagship) as well even
though they are not interested in harbour at all.

...or is that a typical idea of a newcomer to the project? :)

-- 
/chris/

From mbelgrano at deltain.it  Mon Mar 29 06:58:11 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 29 06:58:40 2010
Subject: [Harbour] increase harbour popularity: wiki?
In-Reply-To: <252038241.20100329124429@cxxl.de>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com> 
	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
	<1269710781265-4810022.post@n2.nabble.com> 
	<CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
	<B965CB42-044E-4959-9E9A-B36729ADB7A1@syenar.hu> 
	<252038241.20100329124429@cxxl.de>
Message-ID: <609353e71003290358p7b140563od75dfd96acfef656@mail.gmail.com>

Now Harbour have with hbide the tool for made documentation
HARBOUR SEARCH y<http://harbourlanguage.blogspot.com/2009/02/harbour-search-collaboration.html>
ou!
I invite to collaborate anyone who is interested in harbour language and is
able to make a contribution. We are looking for  developer,documentation
writer, sponsors, sympathizers and friends. Any kind of collaboration is
welcome. Possibly you may have some suggestions, we will be glad to hear
from you.
For now we offer a good professional experiences .

http://harbourlanguage.blogspot.com/
<http://harbourlanguage.blogspot.com/>
bidirectional wiki integration will be a way but also launchpad offer very
intresting feature


2010/3/29 chris lueders <harbour-list@cxxl.de>

> hi,
>
> Saturday, March 27, 2010, 19:45:18, "Viktor Szak?ts" wrote:
>
> > BTW, by googling it I've found that very few
> > Xbase++ developers even know about Harbour,
> > and even those who know totally confuse it with
> > xHarbour, which is a pretty large mistake to make
> > for multiple reasons.
>
> > Dunno how to change that, but current situation
> > is not very good for us and for Harbour in
> > general.
>
> > Maybe existing users should do something to
> > spread the word.
>
> i'm new to harbour, but even though the project is a great help for me
> i find the web presence and especially the documentation not very
> complete.  my usual way of helping myself is to grep .lib files, the
> harbour source code and googling.  but this is not a good solution for
> the uninitiated.
>
> what i would like to see is a wiki where everyone can enter all
> harbour/clipper/xbase info, functions, commands, compatibility with
> different versions, etc.
>
> i don't know of any such site on the net.  if we would launch such a
> thing, maybe in time we could make it the #1 source of xbase infos
> with a strong link to and presence of harbour.  that should increase
> knowledge and popularity for harbour.
>
> i think it's important that it is a wiki, since the beauty of a wiki
> is that everyone can enter information very easily.  it takes more
> interest to checkout the svn repos, understand the doc format/whatever
> and finally write some of it yourself.  that might be a too much of an
> obstacle for many contributors.  plus, we could draw contributors from
> other xbase lingos (xharbour, clipper 5.x, flagship) as well even
> though they are not interested in harbour at all.
>
> ...or is that a typical idea of a newcomer to the project? :)
>
> --
> /chris/
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100329/d410eb38/attachment.html
From harbour.01 at syenar.hu  Mon Mar 29 07:01:16 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 29 07:01:28 2010
Subject: [Harbour] increase harbour popularity: wiki?
In-Reply-To: <252038241.20100329124429@cxxl.de>
References: <E1NvZdi-0001M3-5n@sfp-svn-5.v30.ch3.sourceforge.com>
	<F27E3DE1-D55F-4D02-BA74-49A881010C2D@syenar.hu>
	<1269710781265-4810022.post@n2.nabble.com>
	<CD138C0C-85D0-4C50-929C-71339F8BEB02@syenar.hu>
	<B965CB42-044E-4959-9E9A-B36729ADB7A1@syenar.hu>
	<252038241.20100329124429@cxxl.de>
Message-ID: <BC329585-5876-47E8-B518-2669442DE7F8@syenar.hu>

Hi,

> i'm new to harbour, but even though the project is a great help for me
> i find the web presence and especially the documentation not very
> complete.  my usual way of helping myself is to grep .lib files, the
> harbour source code and googling.  but this is not a good solution for
> the uninitiated.
> 
> what i would like to see is a wiki where everyone can enter all
> harbour/clipper/xbase info, functions, commands, compatibility with
> different versions, etc.
> 
> i don't know of any such site on the net.  if we would launch such a
> thing, maybe in time we could make it the #1 source of xbase infos
> with a strong link to and presence of harbour.  that should increase
> knowledge and popularity for harbour.
> 
> i think it's important that it is a wiki, since the beauty of a wiki
> is that everyone can enter information very easily.  it takes more
> interest to checkout the svn repos, understand the doc format/whatever
> and finally write some of it yourself.  that might be a too much of an
> obstacle for many contributors.  plus, we could draw contributors from
> other xbase lingos (xharbour, clipper 5.x, flagship) as well even
> though they are not interested in harbour at all.
> 
> ...or is that a typical idea of a newcomer to the project? :)

We have/had several wikis since years. Just nobody cares 
to update them.

For a start we have a quite shameful IMO wikipedia entry:
   http://en.wikipedia.org/wiki/Harbour_(software)

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Mar 29 07:39:31 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 07:39:49 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <984EE6A0-1E85-4281-A738-381066AB37B3@syenar.hu>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>	<4BB07AEB.6000606@libero.it>
	<984EE6A0-1E85-4281-A738-381066AB37B3@syenar.hu>
Message-ID: <4BB09173.6000705@libero.it>

Viktor,

no, same error:

(E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -O coff -o hbrun.res
..\..\..\hbrun.rc
windres: can't get BFD_RELOC_RVA relocation type: Error 0


Maurilio.

Viktor Szak?ts wrote:
>>> Can you try two things with included .rc file:
>>> 1. Does it work with standard windres command-line?
>>>    windres -O [omf|coff] -o hbrun.res hbrun.rc
>> Without -O it works, otherwise I get an error:
>>
>> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -o hbrun.res
>> ..\..\..\hbrun.rc
>>
>> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)dir
>>
>> The volume label in drive E is Dati.
>> The Volume Serial Number is 812E:D5C2.
>> Directory of E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc
>>
>> 29/03/10 12:00          <DIR>    124 ----  .
>> 29/03/10 10:10          <DIR>    124 ----  ..
>> 29/03/10 10:10         15.390    124 a---  hbrun.c
>> 29/03/10 10:10          8.211    124 a---  hbrun.o
>> 29/03/10 12:00          9.344    124 a---  hbrun.res
>>        5 file(s)      32.945 bytes used
>>                  179.062.521 K bytes free
>>
>> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -Oomf -o hbrun.res
>> ..\..\..\hbrun.rc
>> windres: unknown format type `omf'
>> windres: supported formats: rc res coff
>>
>> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -Ocoff -o hbrun.res
>> ..\..\..\hbrun.rc
>> windres: can't get BFD_RELOC_RVA relocation type: Error 0
> 
> '-O coff' should be the right option for your gcc version, 
> it seems supported, but yet it gives this error? Can it be that 
> the space is missing in your test?
> 
> '-O omf' is for gccomf.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Mar 29 07:41:37 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 07:41:49 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>
Message-ID: <4BB091F1.2050100@libero.it>

Viktor.

> ---
> /*
>  * $Id: hbrun.rc 14255 2010-03-28 17:23:00Z vszakats $
>  */
> 
> #if ( defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 ) ) && ! defined( __GNUC__ )
> /* os2/watcom */
>       ICON DISCARDABLE "../../../../../package/harbour.ico"
> #else
> ICON1 ICON DISCARDABLE "../../../../../package/harbour.ico"
> #endif
> ---
> 

without icon ID for the os2/watcom line?

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Mar 29 07:42:53 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 07:43:04 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>
Message-ID: <4BB0923D.8030007@libero.it>

No way:

! Component: 'zlib' found in E:/REPOSITORY/HARBOUR/external/zlib (local)
! Component: 'pcre' found in E:/REPOSITORY/HARBOUR/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on os2 platform
! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg  -i../../../../../incl
ude -n1 -q0 -w3 -es2 -kmo -i- -l
gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
-ohbrun.o -c hbrun.c
windres -O coff   -o hbrun.res ../../../hbrun.rc
windres: can't get BFD_RELOC_RVA relocation type: No such file or directory
make[1]: *** [hbrun.res] Error 1
make: *** [descend] Error 2

Maurilio.

Viktor Szak?ts wrote:
> Trying to lessen the mess, can you try this one?:
> 
> ---
> /*
>  * $Id: hbrun.rc 14255 2010-03-28 17:23:00Z vszakats $
>  */
> 
> #if ( defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 ) ) && ! defined( __GNUC__ )
> /* os2/watcom */
>       ICON DISCARDABLE "../../../../../package/harbour.ico"
> #else
> ICON1 ICON DISCARDABLE "../../../../../package/harbour.ico"
> #endif
> ---
> 
> Also if the icon is indeed visible as app icon.
> 
> Brgds,
> Viktor
> 
> On 2010 Mar 29, at 11:54, Viktor Szak?ts wrote:
> 
>>> windres has a different syntax from rc, see attached file which I can compile with
>>>
>>> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)windres -r -DOS2 ..\..\..\hbrun.rc
>> Can you try two things with included .rc file:
>> 1. Does it work with standard windres command-line?
>>    windres -O [omf|coff] -o hbrun.res hbrun.rc
>> 2. Does this .rc format work with watcom?
>>
>> --- hbrun.rc
>> #if defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 )
>> #if defined( __GNUC__ )
>> /* os2/gcc */
>> 1 ICON DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
>> #else
>> /* os2/watom */
>> ICON 1 DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
>> #endif
>> #elif defined( __BORLANDC__ )
>> /* win/bcc */
>> ICON1 ICON DISCARDABLE "..\..\..\..\..\package\harbour.ico"
>> #else
>> /* win */
>> ICON1 ICON DISCARDABLE "..\\..\\..\\..\\..\\package\\harbour.ico"
>> #endif
>> ---
>>
>> [ Quite nicely standardized format. not. ]
>>
>> Brgds,
>> Viktor
>>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Mar 29 07:47:56 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 29 07:48:08 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <4BB091F1.2050100@libero.it>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>
	<4BB091F1.2050100@libero.it>
Message-ID: <AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>

>> ---
>> /*
>> * $Id: hbrun.rc 14255 2010-03-28 17:23:00Z vszakats $
>> */
>> 
>> #if ( defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 ) ) && ! defined( __GNUC__ )
>> /* os2/watcom */
>>      ICON DISCARDABLE "../../../../../package/harbour.ico"
>> #else
>> ICON1 ICON DISCARDABLE "../../../../../package/harbour.ico"
>> #endif
>> ---
>> 
> 
> without icon ID for the os2/watcom line?

Yes.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Mar 29 07:51:44 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 29 07:51:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14257] trunk/harbour
Message-ID: <E1NwDVQ-00067g-11@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14257
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14257&view=rev
Author:   vszakats
Date:     2010-03-29 11:51:42 +0000 (Mon, 29 Mar 2010)

Log Message:
-----------
2010-03-29 13:50 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/os2/gcc.mk
    ! Fixed to not use '-O coff'. It generates strange error.
      '-O omf' is still used, pls test it.

  * utils/hbrun/hbrun.rc
    * Trying to make it work for OS/2 and at the same time
      lessen the chaos (f.e. using forward slashes in filenames).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbrun/hbrun.rc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Mar 29 07:57:53 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 07:58:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14257] trunk/harbour
In-Reply-To: <E1NwDVQ-00067g-11@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NwDVQ-00067g-11@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <4BB095C1.601@libero.it>

Viktor,

it doesn't work either:

! HB_COMPILER: gcc
! Component: 'zlib' found in E:/REPOSITORY/HARBOUR/external/zlib (local)
! Component: 'pcre' found in E:/REPOSITORY/HARBOUR/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on os2 platform
! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg
-i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
-ohbrun.o -c hbrun.c
windres -O omf   -o hbrun.res ../../../hbrun.rc
windres: unknown format type `omf'
windres: supported formats: rc res coff
make[1]: *** [hbrun.res] Error 1
make: *** [descend] Error 2

Maurilio.

vszakats@users.sourceforge.net wrote:
> Revision: 14257
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14257&view=rev
> Author:   vszakats
> Date:     2010-03-29 11:51:42 +0000 (Mon, 29 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-29 13:50 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>   * config/os2/gcc.mk
>     ! Fixed to not use '-O coff'. It generates strange error.
>       '-O omf' is still used, pls test it.
> 
>   * utils/hbrun/hbrun.rc
>     * Trying to make it work for OS/2 and at the same time
>       lessen the chaos (f.e. using forward slashes in filenames).
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/config/os2/gcc.mk
>     trunk/harbour/utils/hbmk2/hbmk2.prg
>     trunk/harbour/utils/hbrun/hbrun.rc
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Mar 29 08:15:10 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 29 08:15:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14257] trunk/harbour
In-Reply-To: <4BB095C1.601@libero.it>
References: <E1NwDVQ-00067g-11@sfp-svn-6.v30.ch3.sourceforge.com>
	<4BB095C1.601@libero.it>
Message-ID: <5250FD13-013F-43CD-B9F8-BBD5B2E81C1D@syenar.hu>

Hi,

> ! HB_COMPILER: gcc
> ! Component: 'zlib' found in E:/REPOSITORY/HARBOUR/external/zlib (local)
> ! Component: 'pcre' found in E:/REPOSITORY/HARBOUR/external/pcre (local)
> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
> ! Component: 'gpm' not supported on os2 platform
> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
> ! Component: 'curses' not supported on os2 platform
> ! Component: 'x11' not found. Configure with HB_WITH_X11.
> ! Component: 'wattcp/watt-32' not supported on os2 platform
> ! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
> ../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg
> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
> -ohbrun.o -c hbrun.c
> windres -O omf   -o hbrun.res ../../../hbrun.rc
> windres: unknown format type `omf'
> windres: supported formats: rc res coff

I don't understand this scenario. '-O omf' 
is only used in gccomf mode, and you're using 
gcc here.

Could be typo on my part, but it looks alright 
in config/os2/gcc.mk.

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Mar 29 08:50:56 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 08:51:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14257] trunk/harbour
In-Reply-To: <5250FD13-013F-43CD-B9F8-BBD5B2E81C1D@syenar.hu>
References: <E1NwDVQ-00067g-11@sfp-svn-6.v30.ch3.sourceforge.com>	<4BB095C1.601@libero.it>
	<5250FD13-013F-43CD-B9F8-BBD5B2E81C1D@syenar.hu>
Message-ID: <4BB0A230.3010402@libero.it>

Viktor,

I'm not using OMF mode, I'm using .a out mode. Maybe the issue is this.

Maurilio.


Viktor Szak?ts wrote:
> Hi,
> 
>> ! HB_COMPILER: gcc
>> ! Component: 'zlib' found in E:/REPOSITORY/HARBOUR/external/zlib (local)
>> ! Component: 'pcre' found in E:/REPOSITORY/HARBOUR/external/pcre (local)
>> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
>> ! Component: 'gpm' not supported on os2 platform
>> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
>> ! Component: 'curses' not supported on os2 platform
>> ! Component: 'x11' not found. Configure with HB_WITH_X11.
>> ! Component: 'wattcp/watt-32' not supported on os2 platform
>> ! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
>> ../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg
>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
>> -ohbrun.o -c hbrun.c
>> windres -O omf   -o hbrun.res ../../../hbrun.rc
>> windres: unknown format type `omf'
>> windres: supported formats: rc res coff
> 
> I don't understand this scenario. '-O omf' 
> is only used in gccomf mode, and you're using 
> gcc here.
> 
> Could be typo on my part, but it looks alright 
> in config/os2/gcc.mk.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Mar 29 09:01:00 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 09:01:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14257] trunk/harbour
In-Reply-To: <5250FD13-013F-43CD-B9F8-BBD5B2E81C1D@syenar.hu>
References: <E1NwDVQ-00067g-11@sfp-svn-6.v30.ch3.sourceforge.com>	<4BB095C1.601@libero.it>
	<5250FD13-013F-43CD-B9F8-BBD5B2E81C1D@syenar.hu>
Message-ID: <4BB0A48C.2000808@libero.it>

Viktor,

I was not at latest svn commit, here it is after latest upgrade:

! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on os2 platform
! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg  -i../../../../../incl
ude -n1 -q0 -w3 -es2 -kmo -i- -l
gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
-ohbrun.o -c hbrun.c
windres    -o hbrun.res ../../../hbrun.rc
gcc  -L../../../../../lib/os2/gcc   -o ..\..\..\..\..\bin\os2\gcc\hbrun.exe
hbrun.o hbrun.res -lhbcplr -lhbpp -lhbcommon -lhbcplr -lhbdebug -lhbmainstd
-lharbour -s
emxbind: invalid binary resource file
E:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/bin/ld.exe: emxbind failed

make[1]: *** [hbrun.exe] Error 1
make: *** [descend] Error 2


Not working, anyway.

Maurilio.



Viktor Szak?ts wrote:
> Hi,
> 
>> ! HB_COMPILER: gcc
>> ! Component: 'zlib' found in E:/REPOSITORY/HARBOUR/external/zlib (local)
>> ! Component: 'pcre' found in E:/REPOSITORY/HARBOUR/external/pcre (local)
>> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
>> ! Component: 'gpm' not supported on os2 platform
>> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
>> ! Component: 'curses' not supported on os2 platform
>> ! Component: 'x11' not found. Configure with HB_WITH_X11.
>> ! Component: 'wattcp/watt-32' not supported on os2 platform
>> ! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
>> ../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg
>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
>> -ohbrun.o -c hbrun.c
>> windres -O omf   -o hbrun.res ../../../hbrun.rc
>> windres: unknown format type `omf'
>> windres: supported formats: rc res coff
> 
> I don't understand this scenario. '-O omf' 
> is only used in gccomf mode, and you're using 
> gcc here.
> 
> Could be typo on my part, but it looks alright 
> in config/os2/gcc.mk.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Mar 29 09:25:38 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 09:25:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14257] trunk/harbour
In-Reply-To: <4BB0A48C.2000808@libero.it>
References: <E1NwDVQ-00067g-11@sfp-svn-6.v30.ch3.sourceforge.com>	<4BB095C1.601@libero.it>
	<5250FD13-013F-43CD-B9F8-BBD5B2E81C1D@syenar.hu>
	<4BB0A48C.2000808@libero.it>
Message-ID: <DFFCBA55-0A68-46ED-BC9B-221D468867E9@syenar.hu>

> Viktor,
> 
> I was not at latest svn commit, here it is after latest upgrade:
> 
> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
> ! Component: 'gpm' not supported on os2 platform
> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
> ! Component: 'curses' not supported on os2 platform
> ! Component: 'x11' not found. Configure with HB_WITH_X11.
> ! Component: 'wattcp/watt-32' not supported on os2 platform
> ! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
> ../../../../../bin/os2/gcc/harbour.exe ../../../hbrun.prg  -i../../../../../incl
> ude -n1 -q0 -w3 -es2 -kmo -i- -l
> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
> -ohbrun.o -c hbrun.c
> windres    -o hbrun.res ../../../hbrun.rc
> gcc  -L../../../../../lib/os2/gcc   -o ..\..\..\..\..\bin\os2\gcc\hbrun.exe
> hbrun.o hbrun.res -lhbcplr -lhbpp -lhbcommon -lhbcplr -lhbdebug -lhbmainstd
> -lharbour -s
> emxbind: invalid binary resource file
> E:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/bin/ld.exe: emxbind failed
> 
> make[1]: *** [hbrun.exe] Error 1
> make: *** [descend] Error 2

goto 10. So -o coff is required, but it doesn't work.

Maybe this should be fixed in the environment?:
  windres: can't get BFD_RELOC_RVA relocation type: No such file or directory

Doesn't look like a normal output for a correct 
cmdline :/

Anyhow I'm out of guesses.

Brgds,
Viktor

From itamarlins at gmail.com  Mon Mar 29 09:41:31 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Mar 29 09:41:55 2010
Subject: [Harbour] WVW
Message-ID: <hoqam8$mfl$1@dough.gmane.org>

Hi!
Many Brazilians are expecting or have not moved to the harbour because 
the wvw is not fully functional in the harbour.
Testing the file wvwtest9 is not possible to open the browse dbf.
More than 100 people waiting likely.

Best regards,
Itamar M. Lins Jr.

From dbtopas at dbtopas.lt  Mon Mar 29 09:49:56 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 29 09:50:05 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <4BACF70E.6030408@dbtopas.lt>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>	<4BA39398.9030307@dbtopas.lt>	<20100320113254.GA1721@linux-4bod.home.aster.pl>
	<4BACF70E.6030408@dbtopas.lt>
Message-ID: <4BB0B004.4020403@dbtopas.lt>

>> You can also try to reduce the optimization level, i.e. you can use -Os
>> in MinGW flags. It should reduce the compilation time and final binaries
>> will be slower then the one created by BCC though still faster.
> 
> I'm trying another approach :) Upgrading from Celeron to Core i5. It 
> should help a little. :)


Hi,


in ChangeLog I found some -j<n> option for parallel compile jobs. How 
can it use it?

I'm trying:
   win-make.exe -j4
but I see no compile speed improvement.


Regards,
Mindaugas

From maurilio.longo at libero.it  Mon Mar 29 09:52:31 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Mar 29 09:52:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14257] trunk/harbour
In-Reply-To: <DFFCBA55-0A68-46ED-BC9B-221D468867E9@syenar.hu>
References: <E1NwDVQ-00067g-11@sfp-svn-6.v30.ch3.sourceforge.com>	<4BB095C1.601@libero.it>	<5250FD13-013F-43CD-B9F8-BBD5B2E81C1D@syenar.hu>	<4BB0A48C.2000808@libero.it>
	<DFFCBA55-0A68-46ED-BC9B-221D468867E9@syenar.hu>
Message-ID: <4BB0B09F.7010308@libero.it>

Viktor,

> goto 10. So -o coff is required, but it doesn't work.
> 
> Maybe this should be fixed in the environment?:
>   windres: can't get BFD_RELOC_RVA relocation type: No such file or directory
> 
Looking for this error on google it seems a problem of windres on certain
platforms.

> Doesn't look like a normal output for a correct 
> cmdline :/
> 
> Anyhow I'm out of guesses.
> 

Me too, I don't even know whether using RC.EXE is enough to be able to link
the .res to the .exe.

Maurilio.

> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Mar 29 10:01:46 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 10:01:59 2010
Subject: [Harbour] WVW
In-Reply-To: <hoqam8$mfl$1@dough.gmane.org>
References: <hoqam8$mfl$1@dough.gmane.org>
Message-ID: <9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>

> Many Brazilians are expecting or have not moved to the harbour because the wvw is not fully functional in the harbour.
> Testing the file wvwtest9 is not possible to open the browse dbf.
> More than 100 people waiting likely.

That's good because maybe from those 100 users, 
there is a higher chance that someone will be 
able to fix the problems.

If this request was targeted to me, I'm sorry 
but I cannot help more. Wasted too much time 
with stuff just for the sake of making Harbour 
look better. Was too much being the red cross.

So, ppl, jump on it and fix it.

Brgds,
Viktor

From qiinfo at ig.com.br  Mon Mar 29 10:04:56 2010
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar 29 10:05:03 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair
	....
In-Reply-To: <56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
Message-ID: <28069776.post@talk.nabble.com>


Hi,

I'm trying to use the function of you and me errors occur below:

[CODE]
function Main

      LOCAL pFunc := ( @Test() )

      cls

      ? Valtype( pFunc )

      ? POINTER2STRING( pFunc )

return NIL

function Test

   ? "hello word"

return NIL

#pragma begindump

#include "hbapi.h"

HB_FUNC( STRING2POINTER )
{
   PHB_ITEM s = hb_param( 1, HB_IT_STRING );
   if( s )
       hb_retptr( (void *) hb_itemGetCPtr( s ) );
} 

HB_FUNC( POINTER2STRING )
{
   PHB_ITEM p = hb_param( 1, HB_IT_POINTER );

   if( p )
     {
        PHB_ITEM s = hb_itemNew( NULL );
        PHB_ITEM n = hb_param( 2, HB_IT_NUMERIC );
        hb_itemPutCL( s, hb_itemGetPtr( p ), n ? hb_itemGetNI( n ) : strlen(
hb_itemGetPtr( p ) ) );
        hb_itemReturnRelease( s );
     }
}

#pragma enddump
[/CODE]

[ERROR]

hbmk2: Processando op??es do ambiente: -compiler=bcc
hbmk2: Plataforma detectada: win
hbmk2: Usando Harbour: c:\hrb_bcc\bin c:\hrb_bcc\include c:\hrb_bcc\lib
       c:\hrb_bcc\lib
hbmk2: Usando compilador C: c:\bcc55\bin\bcc32.exe
hbmk2: Processando arquivo de configura??o: c:\hrb_bcc\bin\hbmk.cfg
hbmk2: Linha de comando do compilador Harbour: (interno)
(c:\hrb_bcc\bin\harbour.exe) -n2 point1.prg -n -D__BCC__ -oC:\TMP\
-ic:\hrb_bcc\
hbmk2: Comando do compilador C/C++:
bcc32.exe -c -q -tWM -d -6 -O2 -OS -Ov -Oi -Oc -DHB_GC_AUTO
-DHB_FM_STATISTIC  -
C:\TMP\point1.c:
Warning W8065 point1.prg 27: Call to function 'hb_itemGetCPtr' with no
prototype
Warning W8065 point1.prg 36: Call to function 'hb_itemNew' with no prototype
in
Warning W8069 point1.prg 36: Nonportable pointer conversion in function
HB_FUN_P
Warning W8065 point1.prg 38: Call to function 'hb_itemGetPtr' with no
prototype
Warning W8065 point1.prg 38: Call to function 'hb_itemGetNI' with no
prototype i
Warning W8065 point1.prg 38: Call to function 'hb_itemGetPtr' with no
prototype
Error E2342 point1.prg 38: Type mismatch in parameter '__s' (wanted 'const
signe
Warning W8065 point1.prg 38: Call to function 'hb_itemPutCL' with no
prototype i
Warning W8065 point1.prg 39: Call to function 'hb_itemReturnRelease' with no
pro
*** 1 errors in Compile ***
[/ERROR]

I need to do for the above example work ?

Best Regards,

Rossine.


-- 
View this message in context: http://old.nabble.com/Ask-Str2Poniter%28%29-and-Pointer2Str%28%29-function-pair-....-tp28042446p28069776.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From itamarlins at gmail.com  Mon Mar 29 10:11:00 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Mar 29 10:11:24 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>
References: <hoqam8$mfl$1@dough.gmane.org>
	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>
Message-ID: <hoqcdh$tlr$1@dough.gmane.org>

Em 29/3/2010 11:01, Viktor Szak?ts escreveu:
> That's good because maybe from those 100 users,
> there is a higher chance that someone will be
> able to fix the problems.
>
> If this request was targeted to me, I'm sorry
> but I cannot help more. Wasted too much time
> with stuff just for the sake of making Harbour
> look better. Was too much being the red cross.
>
> So, ppl, jump on it and fix it.
Hi!
I understand your situation, the users were the Brazilians who made the 
fix for the xHarbour 1.2.1.
So here is this newsletter. The staff starting with the WVW and then 
merges or changes to Hwgui or Mnigui, Fivewin...

Best regards,
Itamar M. Lins Jr.


From vailtom at gmail.com  Mon Mar 29 10:21:39 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar 29 10:22:06 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair 
	....
In-Reply-To: <28069776.post@talk.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com> 
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com> 
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com> 
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
Message-ID: <531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com>

Hi!

The code does not compile because it contains errors. What is the
purpose of these functions? I really could not understand it.
= (

[code]
FUNCTION Main
     LOCAL pFunc := ( @Test() )

     cls
     ? Valtype( pFunc )
     ? POINTER2STRING( pFunc )
     ?
   RETURN NIL

function Test

  ? "hello word"

return NIL

#pragma begindump

#include "hbapi.h"
#include "hbapiitm.h"

HB_FUNC( STRING2POINTER )
{
  PHB_ITEM s = hb_param( 1, HB_IT_STRING );
  if( s )
      hb_retptr( (void *) hb_itemGetCPtr( s ) );
}

HB_FUNC( POINTER2STRING )
{
  PHB_ITEM p = hb_param( 1, HB_IT_POINTER );

  if( p )
    {
       PHB_ITEM s = hb_itemNew( NULL );
       PHB_ITEM n = hb_param( 2, HB_IT_NUMERIC );
       hb_itemPutCL( s, hb_itemGetPtr( p ), n ? hb_itemGetNI( n ) : strlen(
hb_itemGetPtr( p ) ) );
       hb_itemReturnRelease( s );
    }
}

#pragma enddump
[/code]

Regards,
Vailton Renato
From harbour.01 at syenar.hu  Mon Mar 29 10:27:09 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 10:27:19 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com>
Message-ID: <D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>

> The code does not compile because it contains errors. What is the
> purpose of these functions? I really could not understand it.
> = (

It's a pretty bad notion from recent days, and I'd still strongly 
suggest everyone to not use such functions unless the goal is to 
create random crashes and HVM corruption.

Harbour's built-in .dll call support doesn't need such tricks 
to pass strings or binary structures to low-level code. They 
can and should be passed directly or by reference.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Mar 29 10:33:43 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 29 10:34:13 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <hoqcdh$tlr$1@dough.gmane.org>
References: <hoqam8$mfl$1@dough.gmane.org>
	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu> 
	<hoqcdh$tlr$1@dough.gmane.org>
Message-ID: <609353e71003290733w44527decm3837c88669e5e693@mail.gmail.com>

as you seen gtwvw is not in contrib but in examples because have A Rudimentary
port
C:\harbour\examples\gtwvw
seem also Incompatible with hbwin
where is updated last gtwvw source in xharbour?

I suggest you see as alternative at GTWVG
Another way is emulate gtwvw in  gtwvt/gtwvg/XWC /gtqtc
IMO either gtwvg and gtqtc will allow this
follow is my incomplete idea for made easy the conversion

// Experiment for Emulating *gtwvw* with gtwvt/gtwvg/XWC /gtqtc
#IFDEF __PLATFORM__WINDOWS
  REQUEST HB_GT_WVT_DEFAULT
  #DEFINE THREAD_GT "WVT"
#ELSE
  REQUEST HB_GT_STD_DEFAULT
  #DEFINE THREAD_GT "XWC"
#ENDIF
#COMMAND DEFAULT <v1> TO <x1> [, <vN> TO <xN> ]=>
IF((<v1>)=NIL,<v1>:=<x1>,NIL) [; IF((<vN>)=NIL,<vN>:=<xN>,NIL)]
STATIC S_Ocrt:={}
STATIC S_setmaincoord:=.f.
#XTRANSLATE setpos(   => setpos2(

FUNCTION main
   local X_Number:=9
   cls
   wvw_setmaincoord(.t.)
   WINDO=WVW_nOpenWindow("", 5, 5, 7, 40)
   @ 5,5 ,7,40 box ""
   @ 6,6 SAY "Number" get number
   READ
   WVW_lCloseWindow(WINDO)
RETURN

FUNCTION  WVW_nOpenWindow(X_title,x_top,x_left,x_bottom,x_right)
   local ocrt
   x_ocrt := hb_gtCreate( THREAD_GT )

   setmode(x_bottom-x_top+1,x_right-x_left+1)
//    ? x_bottom-x_top,x_right-x_left
   x_oCrt := hb_gtSelect()
   aadd(s_ocrt,{x_ocrt,X_title,x_top,x_left,x_bottom,x_right})
   x_ret=len(s_ocrt)
   RETURN x_ret

FUNCTION WVW_lCloseWindow(x_pos)
    default x_pos to len(s_ocrt)
       s_ocrt[x_pos,1]=nil
       adel(s_ocrt,x_pos,.t.)
   RETURN

FUNCTION wvw_setmaincoord(x_coord)
   s_setmaincoord:=x_coord
   RETURN

#XUNTRANSLATE setpos(   =>
FUNCTION SetPos2( x_row, x_col )
   local x_pos:=len(s_ocrt)
   // altd()
   if s_setmaincoord
      setpos(x_row-s_ocrt[x_pos,3],x_col-s_ocrt[x_pos,5])
   else
      setpos(x_row,x_col)
   endif
   RETURN



2010/3/29 Itamar Lins <itamarlins@gmail.com>

> Em 29/3/2010 11:01, Viktor Szak?ts escreveu:
>
>  That's good because maybe from those 100 users,
>> there is a higher chance that someone will be
>> able to fix the problems.
>>
>> If this request was targeted to me, I'm sorry
>> but I cannot help more. Wasted too much time
>> with stuff just for the sake of making Harbour
>> look better. Was too much being the red cross.
>>
>> So, ppl, jump on it and fix it.
>>
> Hi!
> I understand your situation, the users were the Brazilians who made the fix
> for the xHarbour 1.2.1.
> So here is this newsletter. The staff starting with the WVW and then merges
> or changes to Hwgui or Mnigui, Fivewin...
>
>
> Best regards,
> Itamar M. Lins Jr.
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100329/b51ba400/attachment-0001.html
From harbour.01 at syenar.hu  Mon Mar 29 10:36:06 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 10:36:20 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <hoqcdh$tlr$1@dough.gmane.org>
References: <hoqam8$mfl$1@dough.gmane.org>
	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>
	<hoqcdh$tlr$1@dough.gmane.org>
Message-ID: <F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>

Hi Itamar,

>> If this request was targeted to me, I'm sorry
>> but I cannot help more. Wasted too much time
>> with stuff just for the sake of making Harbour
>> look better. Was too much being the red cross.
>> 
>> So, ppl, jump on it and fix it.
> Hi!
> I understand your situation, the users were the Brazilians who made the fix for the xHarbour 1.2.1.

It's not a situation, it's a decision.

> So here is this newsletter. The staff starting with the WVW and then merges or changes to Hwgui or Mnigui, Fivewin...

Sorry, I don't understand. I've made 
the porting work with GTWVW so that it at 
least builds with Harbour and demos more 
or less run, but rest of steps have to be 
done by those who need these features.

Keyboard handling uses some strange xhb 
method which don't seem to be present in 
Harbour, but the rest is pretty mechanical 
bugfixing and applying usual cleaning/fixing 
steps we used to have in Harbour-quality code.
The code is quite large so it needs time if 
someone wants to take the job seriously.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Mar 29 10:54:11 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 29 10:54:19 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <4BB0B004.4020403@dbtopas.lt>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
	<4BA39398.9030307@dbtopas.lt>
	<20100320113254.GA1721@linux-4bod.home.aster.pl>
	<4BACF70E.6030408@dbtopas.lt> <4BB0B004.4020403@dbtopas.lt>
Message-ID: <20100329145411.GA9199@linux-4bod.home.aster.pl>

On Mon, 29 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> in ChangeLog I found some -j<n> option for parallel compile jobs.
> How can it use it?
> I'm trying:
>   win-make.exe -j4
> but I see no compile speed improvement.

This option enables simultaneous compilation of different files.
It means that it will not change the compilation of single file
at all but when many files have to be compiled and -j<n> is passed
as GNU make parameter then it creates upto <n> processes and each
of them is used to compile different files. So the total compilation
time of is greatly reduced on multi CPU machine.
Personally I'm using -j4 or -j5 on my 3 CPU machine and it reduces
total Harbour compilation time about 3 times.

best regards,
Przemek
From dbtopas at dbtopas.lt  Mon Mar 29 11:01:48 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar 29 11:01:57 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <20100329145411.GA9199@linux-4bod.home.aster.pl>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>	<4BA39398.9030307@dbtopas.lt>	<20100320113254.GA1721@linux-4bod.home.aster.pl>	<4BACF70E.6030408@dbtopas.lt>
	<4BB0B004.4020403@dbtopas.lt>
	<20100329145411.GA9199@linux-4bod.home.aster.pl>
Message-ID: <4BB0C0DC.7080606@dbtopas.lt>

Przemys?aw Czerpak wrote:
> This option enables simultaneous compilation of different files.
> It means that it will not change the compilation of single file
> at all but when many files have to be compiled and -j<n> is passed
> as GNU make parameter then it creates upto <n> processes and each
> of them is used to compile different files. So the total compilation
> time of is greatly reduced on multi CPU machine.
> Personally I'm using -j4 or -j5 on my 3 CPU machine and it reduces
> total Harbour compilation time about 3 times.

Hi,


I'm trying to compile the whole Harbour on Core i5 (2 cores + 
hyper-threading, so, 4 virtual CPU are visible to the system). But I see 
no speed improvement of -j4 using:
   win-make.exe -j4
Is this correct way to pass -j4 option? I though, that maybe I need to 
pass in a different way:
   set HB_MAKE_OPTIONS=-j4
or something like that, to make -j work....


Regards,
Mindaugas
From vailtom at gmail.com  Mon Mar 29 11:19:36 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar 29 11:20:05 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com> 
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com> 
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com> 
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com> 
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com> 
	<D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
Message-ID: <531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com>

Hi!

I agree with Viktor that this type of access is not recommended
because it represents a great risk to system stability. But just to
illustrate, if you want to get the memory address of a particular
variable (I do not see much use in it but ..) this is an example:

[TEST.PRG]
#include "simpleio.ch"

FUNCTION Main
     LOCAL a, b, c, d, e, f, g

     a := b := "A single text"
     h := 'Other text'

     c := d := {}
     e := ( @qqout() )
     f := e
     g := @date()

     cls
     ? 'string ....:', _GETADDRESS(a), _GETADDRESS(b), _GETADDRESS(h)
     ?
     ? 'arrays ....:',_GETADDRESS(c), _GETADDRESS(d)
     ?
     ? 'pointer (1):', _GETADDRESS(e), _GETADDRESS(f)
     ?
     ? 'pointer (2):', _GETADDRESS(g), _GETADDRESS( @date() )
     ?
   RETURN NIL
// end of file

[GETADDRESS.C]
#include "hbvmopt.h"
#include "hbapi.h"
#include "hbapiitm.h"
#include "hbstack.h"

HB_FUNC( _GETADDRESS )
{
   PHB_ITEM pItem = hb_param( 1, HB_IT_ANY );
   char buffer[ 16 ];

   memset( buffer, 0, sizeof( buffer ) );

   switch( hb_itemType( pItem ) )
   {
      case HB_IT_ARRAY:
         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
)->item.asArray.value );
         break;

      case HB_IT_STRING:
      case HB_IT_MEMO:
         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
)->item.asString.value );
         break;

      case HB_IT_SYMBOL:
         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
)->item.asSymbol.value->value.pFunPtr );
         break;

      case HB_IT_POINTER:
         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
)->item.asPointer.value );
         break;

      default:
         hb_snprintf( buffer, sizeof( buffer ), "%p", 0 );
         break;
   }

   hb_retc( buffer );
}
// end of file
From bedipritpal at hotmail.com  Mon Mar 29 11:22:07 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar 29 11:22:14 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <hoqcdh$tlr$1@dough.gmane.org>
References: <hoqam8$mfl$1@dough.gmane.org>
	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>
	<hoqcdh$tlr$1@dough.gmane.org>
Message-ID: <1269876127625-4818597.post@n2.nabble.com>



Itamar Lins-2 wrote:
> 
> I understand your situation, the users were the Brazilians who made the 
> fix for the xHarbour 1.2.1.
> 

How ill-informed I remained so long.

I was under the impression that "they" were "Clipper heads" who fixed
but infact they were "Brazilians"...




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/WVW-tp4817934p4818597.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Mon Mar 29 12:02:26 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 29 12:02:35 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
References: <hoqam8$mfl$1@dough.gmane.org>
	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>
	<hoqcdh$tlr$1@dough.gmane.org>
	<F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
Message-ID: <20100329160226.GA9798@linux-4bod.home.aster.pl>

On Mon, 29 Mar 2010, Szak?ts Viktor wrote:

Hi,

> Keyboard handling uses some strange xhb 
> method which don't seem to be present in 
> Harbour, but the rest is pretty mechanical 
> bugfixing and applying usual cleaning/fixing 
> steps we used to have in Harbour-quality code.
> The code is quite large so it needs time if 
> someone wants to take the job seriously.

I'm afraid it's not such simple.
This code either in Harbour or xHarbour ports has
bugs which have to be fixed to make it production
ready. In most of cases these are the same errors
in both projects because the code in Harbour SVN is
in practice the same as in xHarbour CVS and Viktor
only updated it to compile cleanly with Harbour API
and cleaned some small part of this code removing
redundant constructions.
But it does not mean that it will work correctly with
Harbour or that it works correctly with xHarbour.
In both cases it's broken, i.e. things like s_iCursorStyle
cannot work properly when more then one window is created.
Many methods should not be overloaded at at all (in general
this code does not try to benefit from new GT API at all.
Ne GT API allows to greatly simplify it and probably remove
about 50% of the core WVW code.
Some things in this library looks like copy and past from
different project and the author didn't understand what
exactly the code he collected does, i.e.
      TEXT( (char*) hb_parvcx( 1,11 ) )
is complete technical nonsense and this probably causes
that non of use wants to touch it at all because to change
sth it's necessary to check each line which can be broken
and it's a to big risk that one fix will exploit new bugs.
IMO it's much easier to write new GT driver with similar
functionality from scratch then start updating this code
which in current state it's not production ready. It doesn't
matter you are using Harbour or xHarbour.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar 29 12:09:44 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 29 12:09:51 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <4BB0C0DC.7080606@dbtopas.lt>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
	<4BA39398.9030307@dbtopas.lt>
	<20100320113254.GA1721@linux-4bod.home.aster.pl>
	<4BACF70E.6030408@dbtopas.lt> <4BB0B004.4020403@dbtopas.lt>
	<20100329145411.GA9199@linux-4bod.home.aster.pl>
	<4BB0C0DC.7080606@dbtopas.lt>
Message-ID: <20100329160943.GA11244@linux-4bod.home.aster.pl>

On Mon, 29 Mar 2010, Mindaugas Kavaliauskas wrote:

Hi,

> I'm trying to compile the whole Harbour on Core i5 (2 cores +
> hyper-threading, so, 4 virtual CPU are visible to the system). But I
> see no speed improvement of -j4 using:
>   win-make.exe -j4
> Is this correct way to pass -j4 option? I though, that maybe I need

For me it's enough. I'm using:
   make -j5
I even tested MinGW cross build and it works very nice
but maybe this win-make.exe does not support it.

> to pass in a different way:
>   set HB_MAKE_OPTIONS=-j4
> or something like that, to make -j work....

I do not know about it. Maybe Viktor can help.

best regards,
Przemek
From fperillo at gmail.com  Mon Mar 29 12:14:20 2010
From: fperillo at gmail.com (francesco perillo)
Date: Mon Mar 29 12:14:28 2010
Subject: [Harbour] Re: hbIDE - On-line documentation-cum-distro update
In-Reply-To: <1269822604181-4815601.post@n2.nabble.com>
References: <1269762587057-4812225.post@n2.nabble.com>
	<1269822604181-4815601.post@n2.nabble.com>
Message-ID: <6943770e1003290914s35bdee08ld1e26854efaf6203@mail.gmail.com>

Pritpal,
can you please spend some time trying to write some documentation on
the internals of the interface to Qt ?


It would give others a quick start ...

Francesco
From bedipritpal at hotmail.com  Mon Mar 29 12:37:09 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar 29 12:37:23 2010
Subject: [Harbour] Re: hbIDE - On-line documentation-cum-distro update
In-Reply-To: <6943770e1003290914s35bdee08ld1e26854efaf6203@mail.gmail.com>
References: <1269762587057-4812225.post@n2.nabble.com>
	<1269822604181-4815601.post@n2.nabble.com>
	<6943770e1003290914s35bdee08ld1e26854efaf6203@mail.gmail.com>
Message-ID: <1269880629929-4819176.post@n2.nabble.com>



francesco perillo wrote:
> 
> can you please spend some time trying to write some documentation on
> the internals of the interface to Qt ?
> 

One such document is under topic "hbQT - GC - Qt Object Destruction"
at http://hbide.vouch.info/.

This is not the best way to express what I wanted but still...

Przemek, can you look at this topic ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-On-line-documentation-cum-distro-update-tp4812225p4819176.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From qiinfo at ig.com.br  Mon Mar 29 13:23:44 2010
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar 29 13:23:52 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com>
	<D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
	<531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com>
Message-ID: <28072444.post@talk.nabble.com>


Hello Vailton,

It?s works fine :)

Many thank?s,

Rossine.


Vailton Renato wrote:
> 
> Hi!
> 
> I agree with Viktor that this type of access is not recommended
> because it represents a great risk to system stability. But just to
> illustrate, if you want to get the memory address of a particular
> variable (I do not see much use in it but ..) this is an example:
> 
> [TEST.PRG]
> #include "simpleio.ch"
> 
> FUNCTION Main
>      LOCAL a, b, c, d, e, f, g
> 
>      a := b := "A single text"
>      h := 'Other text'
> 
>      c := d := {}
>      e := ( @qqout() )
>      f := e
>      g := @date()
> 
>      cls
>      ? 'string ....:', _GETADDRESS(a), _GETADDRESS(b), _GETADDRESS(h)
>      ?
>      ? 'arrays ....:',_GETADDRESS(c), _GETADDRESS(d)
>      ?
>      ? 'pointer (1):', _GETADDRESS(e), _GETADDRESS(f)
>      ?
>      ? 'pointer (2):', _GETADDRESS(g), _GETADDRESS( @date() )
>      ?
>    RETURN NIL
> // end of file
> 
> [GETADDRESS.C]
> #include "hbvmopt.h"
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbstack.h"
> 
> HB_FUNC( _GETADDRESS )
> {
>    PHB_ITEM pItem = hb_param( 1, HB_IT_ANY );
>    char buffer[ 16 ];
> 
>    memset( buffer, 0, sizeof( buffer ) );
> 
>    switch( hb_itemType( pItem ) )
>    {
>       case HB_IT_ARRAY:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asArray.value );
>          break;
> 
>       case HB_IT_STRING:
>       case HB_IT_MEMO:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asString.value );
>          break;
> 
>       case HB_IT_SYMBOL:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asSymbol.value->value.pFunPtr );
>          break;
> 
>       case HB_IT_POINTER:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asPointer.value );
>          break;
> 
>       default:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", 0 );
>          break;
>    }
> 
>    hb_retc( buffer );
> }
> 

-- 
View this message in context: http://old.nabble.com/Ask-Str2Poniter%28%29-and-Pointer2Str%28%29-function-pair-....-tp28042446p28072444.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From itamarlins at gmail.com  Mon Mar 29 13:49:25 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Mar 29 13:49:52 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <1269876127625-4818597.post@n2.nabble.com>
References: <hoqam8$mfl$1@dough.gmane.org>	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>	<hoqcdh$tlr$1@dough.gmane.org>
	<1269876127625-4818597.post@n2.nabble.com>
Message-ID: <hoqp71$iuo$1@dough.gmane.org>

Em 29/3/2010 12:22, Pritpal Bedi escreveu:
>
>
> Itamar Lins-2 wrote:
>>
>> I understand your situation, the users were the Brazilians who made the
>> fix for the xHarbour 1.2.1.
>>
>
> How ill-informed I remained so long.
>
> I was under the impression that "they" were "Clipper heads" who fixed
> but infact they were "Brazilians"...
>
>
>
>
> -----
>                   enjoy hbIDEing...
>                      Pritpal Bedi
> _a_student_of_software_analysis_&_design_
The update was made by the Brazilian:
Cristiam Azambuja.

cristiamazambuja@gmail.com

Best regards,
Itamar M. Lins Jr.

From harbour.01 at syenar.hu  Mon Mar 29 14:03:09 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 29 14:03:23 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <20100329160943.GA11244@linux-4bod.home.aster.pl>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>
	<4BA39398.9030307@dbtopas.lt>
	<20100320113254.GA1721@linux-4bod.home.aster.pl>
	<4BACF70E.6030408@dbtopas.lt> <4BB0B004.4020403@dbtopas.lt>
	<20100329145411.GA9199@linux-4bod.home.aster.pl>
	<4BB0C0DC.7080606@dbtopas.lt>
	<20100329160943.GA11244@linux-4bod.home.aster.pl>
Message-ID: <5AF24840-85A6-47E7-9347-01812CB8FB1F@syenar.hu>

>> I'm trying to compile the whole Harbour on Core i5 (2 cores +
>> hyper-threading, so, 4 virtual CPU are visible to the system). But I
>> see no speed improvement of -j4 using:
>>  win-make.exe -j4
>> Is this correct way to pass -j4 option? I though, that maybe I need
> 
> For me it's enough. I'm using:
>   make -j5
> I even tested MinGW cross build and it works very nice
> but maybe this win-make.exe does not support it.

It should support it. It's standard 3.81 build.

>> to pass in a different way:
>>  set HB_MAKE_OPTIONS=-j4
>> or something like that, to make -j work....
> 
> I do not know about it. Maybe Viktor can help.

No such trick is needed.

Brgds,
Viktor

From itamarlins at gmail.com  Mon Mar 29 14:10:35 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Mar 29 14:10:57 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
References: <hoqam8$mfl$1@dough.gmane.org>	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>	<hoqcdh$tlr$1@dough.gmane.org>
	<F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
Message-ID: <hoqqen$o6u$1@dough.gmane.org>

Em 29/3/2010 11:36, Viktor Szak?ts escreveu:
> Hi Itamar,
>
>>> If this request was targeted to me, I'm sorry
>>> but I cannot help more. Wasted too much time
>>> with stuff just for the sake of making Harbour
>>> look better. Was too much being the red cross.
>>>
>>> So, ppl, jump on it and fix it.
>> Hi!
>> I understand your situation, the users were the Brazilians who made the fix for the xHarbour 1.2.1.
>
> It's not a situation, it's a decision.
>
>> So here is this newsletter. The staff starting with the WVW and then merges or changes to Hwgui or Mnigui, Fivewin...
>
> Sorry, I don't understand. I've made
> the porting work with GTWVW so that it at
> least builds with Harbour and demos more
> or less run, but rest of steps have to be
> done by those who need these features.
>
> Keyboard handling uses some strange xhb
> method which don't seem to be present in
> Harbour, but the rest is pretty mechanical
> bugfixing and applying usual cleaning/fixing
> steps we used to have in Harbour-quality code.
> The code is quite large so it needs time if
> someone wants to take the job seriously.
>
> Brgds,
> Viktor
>
Hi! I am not user of WVW.
It's hard for me sometimes to bridge the gap between the real users.

Best regards,
Itamar M. Lins Jr.

From harbour.01 at syenar.hu  Mon Mar 29 14:09:52 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 29 14:11:49 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <20100329160226.GA9798@linux-4bod.home.aster.pl>
References: <hoqam8$mfl$1@dough.gmane.org>
	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>
	<hoqcdh$tlr$1@dough.gmane.org>
	<F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
	<20100329160226.GA9798@linux-4bod.home.aster.pl>
Message-ID: <CA65A2D1-FB47-4AB3-8C13-94DA31A6E56F@syenar.hu>

>> Keyboard handling uses some strange xhb 
>> method which don't seem to be present in 
>> Harbour, but the rest is pretty mechanical 
>> bugfixing and applying usual cleaning/fixing 
>> steps we used to have in Harbour-quality code.
>> The code is quite large so it needs time if 
>> someone wants to take the job seriously.
> 
> I'm afraid it's not such simple.
> This code either in Harbour or xHarbour ports has
> bugs which have to be fixed to make it production
> ready. In most of cases these are the same errors
> in both projects because the code in Harbour SVN is
> in practice the same as in xHarbour CVS and Viktor
> only updated it to compile cleanly with Harbour API
> and cleaned some small part of this code removing
> redundant constructions.
> But it does not mean that it will work correctly with
> Harbour or that it works correctly with xHarbour.
> In both cases it's broken, i.e. things like s_iCursorStyle
> cannot work properly when more then one window is created.
> Many methods should not be overloaded at at all (in general
> this code does not try to benefit from new GT API at all.
> Ne GT API allows to greatly simplify it and probably remove
> about 50% of the core WVW code.
> Some things in this library looks like copy and past from
> different project and the author didn't understand what
> exactly the code he collected does, i.e.
>      TEXT( (char*) hb_parvcx( 1,11 ) )
> is complete technical nonsense and this probably causes
> that non of use wants to touch it at all because to change
> sth it's necessary to check each line which can be broken
> and it's a to big risk that one fix will exploit new bugs.
> IMO it's much easier to write new GT driver with similar
> functionality from scratch then start updating this code
> which in current state it's not production ready. It doesn't
> matter you are using Harbour or xHarbour.

That sums it up pretty nicely. To me it's also a 
big wonder how users can use such clumsy code in 
real applications, and not even a single one cares 
enough to fix at least the bigger bugs.

F.e. in case of GTWVW, it's enough to turn on 
warnings to reveal a huge amount of problems to fix.

Anyway, it's not my problem.

Brgds,
Viktor

From vailtom at gmail.com  Mon Mar 29 15:15:33 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar 29 15:16:00 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <28072444.post@talk.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com> 
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com> 
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com> 
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com> 
	<D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
	<531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com> 
	<28072444.post@talk.nabble.com>
Message-ID: <531d7a751003291215j2d32be7dje2868d31eaaa6c02@mail.gmail.com>

Hi!

To support MT need this:

[GETADDRESS.C]
#include "hbvmopt.h"
#include "hbapi.h"
#include "hbapiitm.h"
#include "hbstack.h"

HB_FUNC( _GETADDRESS )
{
   PHB_ITEM pItem   = hb_param( 1, HB_IT_ANY );
   PHB_ITEM pResult = hb_itemNew( NULL );
   char buffer[ 16 ];

   memset( buffer, 0, sizeof( buffer ) );

   switch( hb_itemType( pItem ) )
   {
      case HB_IT_ARRAY:
         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
)->item.asArray.value );
         break;

      case HB_IT_STRING:
      case HB_IT_MEMO:
         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
)->item.asString.value );
         break;

      case HB_IT_SYMBOL:
         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
)->item.asSymbol.value->value.pFunPtr );
         break;

      case HB_IT_POINTER:
         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
)->item.asPointer.value );
         break;

      default:
         hb_snprintf( buffer, sizeof( buffer ), "%p", 0 );
         break;
   }

   hb_itemPutC( pResult, buffer );
   hb_itemReturnRelease( pResult );
}
// end of file
From qiinfo at ig.com.br  Mon Mar 29 15:43:45 2010
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar 29 15:43:53 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <531d7a751003291215j2d32be7dje2868d31eaaa6c02@mail.gmail.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com>
	<D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
	<531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com>
	<28072444.post@talk.nabble.com>
	<531d7a751003291215j2d32be7dje2868d31eaaa6c02@mail.gmail.com>
Message-ID: <28074185.post@talk.nabble.com>


Hi Vailton,

Great :)

Many, many thanks :)

Rossine.


Vailton Renato wrote:
> 
> Hi!
> 
> To support MT need this:
> 
> [GETADDRESS.C]
> #include "hbvmopt.h"
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbstack.h"
> 
> HB_FUNC( _GETADDRESS )
> {
>    PHB_ITEM pItem   = hb_param( 1, HB_IT_ANY );
>    PHB_ITEM pResult = hb_itemNew( NULL );
>    char buffer[ 16 ];
> 
>    memset( buffer, 0, sizeof( buffer ) );
> 
>    switch( hb_itemType( pItem ) )
>    {
>       case HB_IT_ARRAY:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asArray.value );
>          break;
> 
>       case HB_IT_STRING:
>       case HB_IT_MEMO:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asString.value );
>          break;
> 
>       case HB_IT_SYMBOL:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asSymbol.value->value.pFunPtr );
>          break;
> 
>       case HB_IT_POINTER:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asPointer.value );
>          break;
> 
>       default:
>          hb_snprintf( buffer, sizeof( buffer ), "%p", 0 );
>          break;
>    }
> 
>    hb_itemPutC( pResult, buffer );
>    hb_itemReturnRelease( pResult );
> }
> // end of file
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/Ask-Str2Poniter%28%29-and-Pointer2Str%28%29-function-pair-....-tp28042446p28074185.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Mar 29 15:49:09 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 15:49:23 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <531d7a751003291215j2d32be7dje2868d31eaaa6c02@mail.gmail.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com>
	<D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
	<531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com>
	<28072444.post@talk.nabble.com>
	<531d7a751003291215j2d32be7dje2868d31eaaa6c02@mail.gmail.com>
Message-ID: <3B20F0EA-192F-4FF3-B1EA-D51A93EBB826@syenar.hu>

This code uses internals, which it a total no-no, 
for user code.

Brgds,
Viktor

On 2010 Mar 29, at 21:15, Vailton Renato wrote:

> Hi!
> 
> To support MT need this:
> 
> [GETADDRESS.C]
> #include "hbvmopt.h"
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbstack.h"
> 
> HB_FUNC( _GETADDRESS )
> {
>   PHB_ITEM pItem   = hb_param( 1, HB_IT_ANY );
>   PHB_ITEM pResult = hb_itemNew( NULL );
>   char buffer[ 16 ];
> 
>   memset( buffer, 0, sizeof( buffer ) );
> 
>   switch( hb_itemType( pItem ) )
>   {
>      case HB_IT_ARRAY:
>         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asArray.value );
>         break;
> 
>      case HB_IT_STRING:
>      case HB_IT_MEMO:
>         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asString.value );
>         break;
> 
>      case HB_IT_SYMBOL:
>         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asSymbol.value->value.pFunPtr );
>         break;
> 
>      case HB_IT_POINTER:
>         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
> )->item.asPointer.value );
>         break;
> 
>      default:
>         hb_snprintf( buffer, sizeof( buffer ), "%p", 0 );
>         break;
>   }
> 
>   hb_itemPutC( pResult, buffer );
>   hb_itemReturnRelease( pResult );
> }
> // end of file
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Mar 29 15:49:32 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 29 15:49:38 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <28074185.post@talk.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com>
	<D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
	<531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com>
	<28072444.post@talk.nabble.com>
	<531d7a751003291215j2d32be7dje2868d31eaaa6c02@mail.gmail.com>
	<28074185.post@talk.nabble.com>
Message-ID: <9C0DFB30-AB96-4B2F-9994-E3EF5DF26486@syenar.hu>

Looks like we're starting to resemble xhb.

Brgds,
Viktor

On 2010 Mar 29, at 21:43, Rossine wrote:

> 
> Hi Vailton,
> 
> Great :)
> 
> Many, many thanks :)
> 
> Rossine.
> 
> 
> Vailton Renato wrote:
>> 
>> Hi!
>> 
>> To support MT need this:
>> 
>> [GETADDRESS.C]
>> #include "hbvmopt.h"
>> #include "hbapi.h"
>> #include "hbapiitm.h"
>> #include "hbstack.h"
>> 
>> HB_FUNC( _GETADDRESS )
>> {
>>   PHB_ITEM pItem   = hb_param( 1, HB_IT_ANY );
>>   PHB_ITEM pResult = hb_itemNew( NULL );
>>   char buffer[ 16 ];
>> 
>>   memset( buffer, 0, sizeof( buffer ) );
>> 
>>   switch( hb_itemType( pItem ) )
>>   {
>>      case HB_IT_ARRAY:
>>         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
>> )->item.asArray.value );
>>         break;
>> 
>>      case HB_IT_STRING:
>>      case HB_IT_MEMO:
>>         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
>> )->item.asString.value );
>>         break;
>> 
>>      case HB_IT_SYMBOL:
>>         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
>> )->item.asSymbol.value->value.pFunPtr );
>>         break;
>> 
>>      case HB_IT_POINTER:
>>         hb_snprintf( buffer, sizeof( buffer ), "%p", ( pItem
>> )->item.asPointer.value );
>>         break;
>> 
>>      default:
>>         hb_snprintf( buffer, sizeof( buffer ), "%p", 0 );
>>         break;
>>   }
>> 
>>   hb_itemPutC( pResult, buffer );
>>   hb_itemReturnRelease( pResult );
>> }
>> // end of file
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 
> -- 
> View this message in context: http://old.nabble.com/Ask-Str2Poniter%28%29-and-Pointer2Str%28%29-function-pair-....-tp28042446p28074185.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Mar 29 15:53:23 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 29 15:53:31 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>
References: <4BB06193.7030601@libero.it>
	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>
	<4BB06D4E.70401@libero.it>
	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>
	<4BB06FD0.2080904@libero.it>
	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>
	<4BB091F1.2050100@libero.it>
	<AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>
Message-ID: <20100329195323.GA25962@linux-4bod.home.aster.pl>

On Mon, 29 Mar 2010, Szak?ts Viktor wrote:

Hi,

> >> /*
> >> * $Id: hbrun.rc 14255 2010-03-28 17:23:00Z vszakats $
> >> */
> >> #if ( defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 ) ) && ! defined( __GNUC__ )
> >> /* os2/watcom */
> >>      ICON DISCARDABLE "../../../../../package/harbour.ico"
> >> #else
> >> ICON1 ICON DISCARDABLE "../../../../../package/harbour.ico"
> >> #endif
> >> ---
> > without icon ID for the os2/watcom line?
> Yes.

OS2 OW resource compiler (wrc) accepts only numeric IDs which have to be
given explicitly or indirectly by #define macros. It also uses a little
bit different syntax and it needs resource type at the beginning of
definition instead of resource ID, i.e.:

   ICON   1 DISCARDABLE "icon1.ico"
   ICON   2 DISCARDABLE "icon2.ico"
   BITMAP 1 DISCARDABLE "bitmap1.bmp"
   BITMAP 2 DISCARDABLE "bitmap2.bmp"

so the correct definition should look like:

   ICON 1 DISCARDABLE "../../../../../package/harbour.ico"

You can use also:

   #define ICON1  1
   ICON ICON1 DISCARDABLE "../../../../../package/harbour.ico"

It should be more readable for windows users and allow to easy extract
IDs used in resource file, i.e. they can be moved to some .h or .ch file
which is included from the source code and .rc file.

I have no idea what means:

   ICON DISCARDABLE "../../../../../package/harbour.ico"

Maybe DISCARDABLE is preprocessed by wrc to some numeric value which
is later used as icon ID?

best regards
Przemek
From harbour.01 at syenar.hu  Mon Mar 29 16:32:37 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Mar 29 16:32:50 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <20100329195323.GA25962@linux-4bod.home.aster.pl>
References: <4BB06193.7030601@libero.it>
	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>
	<4BB06D4E.70401@libero.it>
	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>
	<4BB06FD0.2080904@libero.it>
	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>
	<4BB091F1.2050100@libero.it>
	<AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>
	<20100329195323.GA25962@linux-4bod.home.aster.pl>
Message-ID: <006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>

Hi Przemek,

>>>> * $Id: hbrun.rc 14255 2010-03-28 17:23:00Z vszakats $
>>>> */
>>>> #if ( defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 ) ) && ! defined( __GNUC__ )
>>>> /* os2/watcom */
>>>>     ICON DISCARDABLE "../../../../../package/harbour.ico"
>>>> #else
>>>> ICON1 ICON DISCARDABLE "../../../../../package/harbour.ico"
>>>> #endif
>>>> ---
>>> without icon ID for the os2/watcom line?
>> Yes.
> 
> OS2 OW resource compiler (wrc) accepts only numeric IDs which have to be
> given explicitly or indirectly by #define macros. It also uses a little
> bit different syntax and it needs resource type at the beginning of
> definition instead of resource ID, i.e.:
> 
>   ICON   1 DISCARDABLE "icon1.ico"
>   ICON   2 DISCARDABLE "icon2.ico"
>   BITMAP 1 DISCARDABLE "bitmap1.bmp"
>   BITMAP 2 DISCARDABLE "bitmap2.bmp"
> 
> so the correct definition should look like:
> 
>   ICON 1 DISCARDABLE "../../../../../package/harbour.ico"
> 
> You can use also:
> 
>   #define ICON1  1
>   ICON ICON1 DISCARDABLE "../../../../../package/harbour.ico"
> 
> It should be more readable for windows users and allow to easy extract
> IDs used in resource file, i.e. they can be moved to some .h or .ch file
> which is included from the source code and .rc file.
> 
> I have no idea what means:
> 
>   ICON DISCARDABLE "../../../../../package/harbour.ico"
> 
> Maybe DISCARDABLE is preprocessed by wrc to some numeric value which
> is later used as icon ID?

Can be, I don't know. For sure, after your suggestions now 
I'm back to original commit for OS/2 (which matches hbmk2), 
with the only difference that forwards slashes are used.

This was reported by Maurilio to fail with gcc, but maybe 
it was the slashes. I'll commit it and we will see.

This is current version:
---
#if defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 )
ICON 1 DISCARDABLE "../../../../../package/harbour.ico"
#else
ICON1 ICON DISCARDABLE "../../../../../package/harbour.ico"
#endif
---

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Mar 29 16:36:09 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 29 16:36:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14258] trunk/harbour
Message-ID: <E1NwLgv-0003uo-Bz@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14258
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14258&view=rev
Author:   vszakats
Date:     2010-03-29 20:36:08 +0000 (Mon, 29 Mar 2010)

Log Message:
-----------
2010-03-29 22:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed to always convert pathseps in icon filename to forward 
      slashes.

  * utils/hbrun/hbrun.rc
    * Cleaned. Now back to original commit with purely forward 
      slashes. Should see if this works with OS/2 GCC windres.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbrun/hbrun.rc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar 29 16:36:38 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Mar 29 16:36:46 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <9C0DFB30-AB96-4B2F-9994-E3EF5DF26486@syenar.hu>
References: <C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com>
	<D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
	<531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com>
	<28072444.post@talk.nabble.com>
	<531d7a751003291215j2d32be7dje2868d31eaaa6c02@mail.gmail.com>
	<28074185.post@talk.nabble.com>
	<9C0DFB30-AB96-4B2F-9994-E3EF5DF26486@syenar.hu>
Message-ID: <20100329203638.GA16417@linux-4bod.home.aster.pl>

On Mon, 29 Mar 2010, Szak?ts Viktor wrote:

Hi,

> Looks like we're starting to resemble xhb.

I hope not.
xHarbour reach the level where core developers have serious
problems to control the code and understand/know all hacks
inside and all internal dependencies created by direct accessing
of HVM structures.

I hope that sth like that will not happen with Harbour.
It's very important to use only documented API (BTW this code example
can be written using only document API functions)

In the worst case we will have to create list of users using such
hacks to ignore any bug reports from them.
I do not plan to wast my time looking for GPF or any other problems
if they can be caused by none core code accessing HVM internals.
I still remember how I was working on xHarbour core code and I'm very
happy that now I do not have to spend most of my devel time looking
for the any interactions with any other code accessing HVM internals
when I wanted to change sth or looking for reasons of some GPFs or
or other unexpected problems reported by users.
Current Harbour core code is still not perfect but for sure much much
better then xHarbour one so working on core code is much more efficient.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Mar 29 16:43:04 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 29 16:43:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14259] trunk/harbour
Message-ID: <E1NwLnc-0002Uf-GX@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14259
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14259&view=rev
Author:   druzus
Date:     2010-03-29 20:43:03 +0000 (Mon, 29 Mar 2010)

Log Message:
-----------
2010-03-29 22:42 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbthread.h
  * harbour/src/vm/thread.c
    % use thread local memory to optimize _hb_gettid()
    % use _hb_gettid() instead of _gettid() in OS2 GCC builds

  * harbour/src/vm/hvm.c
    % minor speed improvement

  * harbour/src/vm/memvars.c
    ! cleaned local vars detaching code

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbthread.h
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/memvars.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Mar 29 16:54:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 29 16:54:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14260] trunk/harbour
Message-ID: <E1NwLyR-0004DD-1m@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14260
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14260&view=rev
Author:   vszakats
Date:     2010-03-29 20:54:13 +0000 (Mon, 29 Mar 2010)

Log Message:
-----------
2010-03-29 22:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/os2/gcc.mk
    + Readded OS/2 windres call in coff mode. Commented the whole 
      thing with NOTE. Seems like windres bug.
      I left gccomf branch active, maybe they fixed it in those 
      more recent versions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Mon Mar 29 17:12:12 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar 29 17:12:40 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <9C0DFB30-AB96-4B2F-9994-E3EF5DF26486@syenar.hu>
References: <1269610162158-4803834.post@n2.nabble.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com> 
	<28069776.post@talk.nabble.com>
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com> 
	<D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
	<531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com> 
	<28072444.post@talk.nabble.com>
	<531d7a751003291215j2d32be7dje2868d31eaaa6c02@mail.gmail.com> 
	<28074185.post@talk.nabble.com>
	<9C0DFB30-AB96-4B2F-9994-E3EF5DF26486@syenar.hu>
Message-ID: <531d7a751003291412u78860b87i15f06f142793aa4c@mail.gmail.com>

Hi,

I myself would not use on a daily basis something like this, but I do
not know for sure to which particular need it would be useful. It's
just an example and as I mentioned above, I agree with Viktor that
something of this kind is strongly discouraged.

Regards,
Vailton Renato
From harbour.01 at syenar.hu  Mon Mar 29 17:34:00 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 29 17:34:12 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <531d7a751003291412u78860b87i15f06f142793aa4c@mail.gmail.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
	<531d7a751003290721m3efea176i5e790a671450819e@mail.gmail.com>
	<D1270235-FD7A-45E0-9F02-66B05AD5A925@syenar.hu>
	<531d7a751003290819k29f7b6fcm50ff1338eaa20e77@mail.gmail.com>
	<28072444.post@talk.nabble.com>
	<531d7a751003291215j2d32be7dje2868d31eaaa6c02@mail.gmail.com>
	<28074185.post@talk.nabble.com>
	<9C0DFB30-AB96-4B2F-9994-E3EF5DF26486@syenar.hu>
	<531d7a751003291412u78860b87i15f06f142793aa4c@mail.gmail.com>
Message-ID: <A8F566C8-2F33-4343-A4EF-F2230D8D0535@syenar.hu>

Hi,

> I myself would not use on a daily basis something like this, but I do
> not know for sure to which particular need it would be useful. It's
> just an example and as I mentioned above, I agree with Viktor that
> something of this kind is strongly discouraged.

In such case it may be better solution to first ask what 
the intention/goal of the poster is. This way we can 
present proper solution and effectively discourage such 
bad examples leaking to users.

I'm almost certain that such dangerous hacks are not 
necessary for any normal Harbour application. Or if they 
are for some reason, we may try to develop something proper 
to address it. We will never know now.

[ F.e. nobody even cared to try or explore recently 
rewritten .dll handling. But since we don't know the 
goal, maybe it's not the solution anyway. ]

[ BTW, someone falsely stated somewhere that .dll calls 
is Windows only solution in Harbour. This is false, they 
are now part of core and portable. ]

Brgds,
Viktor

From smujohnson at gmail.com  Mon Mar 29 18:58:13 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Mar 29 18:58:24 2010
Subject: [Harbour] Harbour-made Win9x .EXE's running slow?
Message-ID: <674e4ddd1003291558v37a6818dka2034bf3f5f92c3d@mail.gmail.com>

Hi,

We have a little benchmarking section in a Clipper program we wrote that
gives a percentage of how fast it's running overall.  I believe it is doing
500 SIXCDX row creates etc...

For Win98 programs, are 32-bit .EXE's compiled with Harbour + TDM Mingw have
around 25% on that list, whereas when they are around 200%+ when compiled as
16-bit with cl52e.

This problem doesn't happen with XP and above.

So, I'm wondering if for Win98, the Harbour-made .EXEs... have to emulate
some 32-bit mode?  Or maybe the processors in most Win98 machines are 16-bit
CPUs?  I really have no idea... I wish I knew more about this... but in a
nutshell, our test is running WAY slower than cl52e + Win98.

Thank you for reading.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100329/b0a26a82/attachment.html
From itamarlins at gmail.com  Mon Mar 29 19:08:23 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Mar 29 19:08:44 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
References: <hoqam8$mfl$1@dough.gmane.org>	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>	<hoqcdh$tlr$1@dough.gmane.org>
	<F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
Message-ID: <horbt4$st7$1@dough.gmane.org>

Hi!

The fact is that many people are waiting, changes in xHarbour, which in 
my opinion is already a dying project.
Through forums Brazilians can see that only the WVW and RDDSQL 
xHarbour.com hold some of Brazilian users with the xHarbour persists.
Because since the departure of Mr Przmek, there were no significant 
changes in the code.
We are currently looking for more examples and documentation for using 
the fb.
This simple code shows a problem with the WVW + HBCT in harbour

#include   'common.ch'
PROCEDURE Main

     WVW_SetMainCoord( .t. )
     WVW_SetCodePage(,255)
     SETMODE(25, 80)
     nWin := WOPEN( 2, 10, 22, 70, .T. )
     WSelect(nWin)
     @ 1, 1 SAY "TESTE..." //Should draw on the coordinates of wopen
     INKEY(0)
     WAClose()
     INKEY(0)

     RETURN NIL


Best regards,
Itamar M. Lins Jr.

From bruno.luciani at gmail.com  Mon Mar 29 19:30:29 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Mar 29 19:30:41 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <horbt4$st7$1@dough.gmane.org>
References: <hoqam8$mfl$1@dough.gmane.org>
	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>
	<hoqcdh$tlr$1@dough.gmane.org>
	<F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
	<horbt4$st7$1@dough.gmane.org>
Message-ID: <133778361003291630l3b6fa245q32bc117a743fa397@mail.gmail.com>

This is an only windows library

Is that wright ?

Bruno

2010/3/29 Itamar Lins <itamarlins@gmail.com>

> Hi!
>
> The fact is that many people are waiting, changes in xHarbour, which in my
> opinion is already a dying project.
> Through forums Brazilians can see that only the WVW and RDDSQL xHarbour.com
> hold some of Brazilian users with the xHarbour persists.
> Because since the departure of Mr Przmek, there were no significant changes
> in the code.
> We are currently looking for more examples and documentation for using the
> fb.
> This simple code shows a problem with the WVW + HBCT in harbour
>
> #include   'common.ch'
> PROCEDURE Main
>
>    WVW_SetMainCoord( .t. )
>    WVW_SetCodePage(,255)
>    SETMODE(25, 80)
>    nWin := WOPEN( 2, 10, 22, 70, .T. )
>    WSelect(nWin)
>    @ 1, 1 SAY "TESTE..." //Should draw on the coordinates of wopen
>    INKEY(0)
>    WAClose()
>    INKEY(0)
>
>    RETURN NIL
>
>
>
> Best regards,
> Itamar M. Lins Jr.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100329/01ebb17b/attachment.html
From itamarlins at gmail.com  Mon Mar 29 19:37:08 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Mar 29 19:37:33 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <133778361003291630l3b6fa245q32bc117a743fa397@mail.gmail.com>
References: <hoqam8$mfl$1@dough.gmane.org>	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>	<hoqcdh$tlr$1@dough.gmane.org>	<F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>	<horbt4$st7$1@dough.gmane.org>
	<133778361003291630l3b6fa245q32bc117a743fa397@mail.gmail.com>
Message-ID: <hordj2$1q2$1@dough.gmane.org>

Em 29/3/2010 20:30, Bruno Luciani escreveu:
> This is an only windows library
>
> Is that wright ?
>
> Bruno
Yes. Unfortunately there are many systems done with it.

Best regards,
Itamar M. Lins Jr.

From joe_bernardes at yahoo.com.br  Mon Mar 29 20:49:27 2010
From: joe_bernardes at yahoo.com.br (JOEL - YAHOO)
Date: Mon Mar 29 20:49:48 2010
Subject: [Harbour] LIB hbmysql
Message-ID: <4BB14A97.5030208@yahoo.com.br>

Skipped content of type multipart/alternative-------------- next part --------------
LIBRARY     LIBMYSQL.DLL

EXPORTS
    _dig_vec_lower                 @1   ; _dig_vec_lower
    _dig_vec_upper                 @2   ; _dig_vec_upper
    bmove_upp                      @3   ; bmove_upp
    client_errors                  @4   ; client_errors
    delete_dynamic                 @5   ; delete_dynamic
    free_defaults                  @6   ; free_defaults
    get_defaults_options           @7   ; get_defaults_options
    getopt_compare_strings         @8   ; getopt_compare_strings
    getopt_ull_limit_value         @9   ; getopt_ull_limit_value
    handle_options                 @10  ; handle_options
    init_dynamic_array             @11  ; init_dynamic_array
    insert_dynamic                 @12  ; insert_dynamic
    int2str                        @13  ; int2str
    is_prefix                      @14  ; is_prefix
    list_add                       @15  ; list_add
    list_delete                    @16  ; list_delete
    load_defaults                  @17  ; load_defaults
    modify_defaults_file           @18  ; modify_defaults_file
    my_end                         @19  ; my_end
    my_getopt_print_errors         @20  ; my_getopt_print_errors
    my_init                        @21  ; my_init
    my_malloc                      @22  ; my_malloc
    my_memdup                      @23  ; my_memdup
    my_no_flags_free               @24  ; my_no_flags_free
    my_path                        @25  ; my_path
    my_print_help                  @26  ; my_print_help
    my_print_variables             @27  ; my_print_variables
    my_realloc                     @28  ; my_realloc
    my_strdup                      @29  ; my_strdup
    myodbc_remove_escape           @30  ; myodbc_remove_escape
    mysql_affected_rows            @31  ; mysql_affected_rows
    mysql_autocommit               @32  ; mysql_autocommit
    mysql_change_user              @33  ; mysql_change_user
    mysql_character_set_name       @34  ; mysql_character_set_name
    mysql_close                    @35  ; mysql_close
    mysql_commit                   @36  ; mysql_commit
    mysql_data_seek                @37  ; mysql_data_seek
    mysql_debug                    @38  ; mysql_debug
    mysql_disable_reads_from_master @39  ; mysql_disable_reads_from_master
    mysql_disable_rpl_parse        @40  ; mysql_disable_rpl_parse
    mysql_dump_debug_info          @41  ; mysql_dump_debug_info
    mysql_embedded                 @42  ; mysql_embedded
    mysql_enable_reads_from_master @43  ; mysql_enable_reads_from_master
    mysql_enable_rpl_parse         @44  ; mysql_enable_rpl_parse
    mysql_eof                      @45  ; mysql_eof
    mysql_errno                    @46  ; mysql_errno
    mysql_error                    @47  ; mysql_error
    mysql_escape_string            @48  ; mysql_escape_string
    mysql_fetch_field              @49  ; mysql_fetch_field
    mysql_fetch_field_direct       @50  ; mysql_fetch_field_direct
    mysql_fetch_fields             @51  ; mysql_fetch_fields
    mysql_fetch_lengths            @52  ; mysql_fetch_lengths
    mysql_fetch_row                @53  ; mysql_fetch_row
    mysql_field_count              @54  ; mysql_field_count
    mysql_field_seek               @55  ; mysql_field_seek
    mysql_field_tell               @56  ; mysql_field_tell
    mysql_free_result              @57  ; mysql_free_result
    mysql_get_character_set_info   @58  ; mysql_get_character_set_info
    mysql_get_client_info          @59  ; mysql_get_client_info
    mysql_get_client_version       @60  ; mysql_get_client_version
    mysql_get_host_info            @61  ; mysql_get_host_info
    mysql_get_parameters           @62  ; mysql_get_parameters
    mysql_get_proto_info           @63  ; mysql_get_proto_info
    mysql_get_server_info          @64  ; mysql_get_server_info
    mysql_get_server_version       @65  ; mysql_get_server_version
    mysql_get_ssl_cipher           @66  ; mysql_get_ssl_cipher
    mysql_hex_string               @67  ; mysql_hex_string
    mysql_info                     @68  ; mysql_info
    mysql_init                     @69  ; mysql_init
    mysql_insert_id                @70  ; mysql_insert_id
    mysql_kill                     @71  ; mysql_kill
    mysql_list_dbs                 @72  ; mysql_list_dbs
    mysql_list_fields              @73  ; mysql_list_fields
    mysql_list_processes           @74  ; mysql_list_processes
    mysql_list_tables              @75  ; mysql_list_tables
    mysql_master_query             @76  ; mysql_master_query
    mysql_more_results             @77  ; mysql_more_results
    mysql_next_result              @78  ; mysql_next_result
    mysql_num_fields               @79  ; mysql_num_fields
    mysql_num_rows                 @80  ; mysql_num_rows
    mysql_odbc_escape_string       @81  ; mysql_odbc_escape_string
    mysql_options                  @82  ; mysql_options
    mysql_ping                     @83  ; mysql_ping
    mysql_query                    @84  ; mysql_query
    mysql_read_query_result        @85  ; mysql_read_query_result
    mysql_real_connect             @86  ; mysql_real_connect
    mysql_real_escape_string       @87  ; mysql_real_escape_string
    mysql_real_query               @88  ; mysql_real_query
    mysql_refresh                  @89  ; mysql_refresh
    mysql_rollback                 @90  ; mysql_rollback
    mysql_row_seek                 @91  ; mysql_row_seek
    mysql_row_tell                 @92  ; mysql_row_tell
    mysql_rpl_parse_enabled        @93  ; mysql_rpl_parse_enabled
    mysql_rpl_probe                @94  ; mysql_rpl_probe
    mysql_rpl_query_type           @95  ; mysql_rpl_query_type
    mysql_select_db                @96  ; mysql_select_db
    mysql_send_query               @97  ; mysql_send_query
    mysql_server_end               @98  ; mysql_server_end
    mysql_server_init              @99  ; mysql_server_init
    mysql_set_character_set        @100 ; mysql_set_character_set
    mysql_set_local_infile_default @101 ; mysql_set_local_infile_default
    mysql_set_local_infile_handler @102 ; mysql_set_local_infile_handler
    mysql_set_server_option        @103 ; mysql_set_server_option
    mysql_shutdown                 @104 ; mysql_shutdown
    mysql_slave_query              @105 ; mysql_slave_query
    mysql_sqlstate                 @106 ; mysql_sqlstate
    mysql_ssl_set                  @107 ; mysql_ssl_set
    mysql_stat                     @108 ; mysql_stat
    mysql_stmt_affected_rows       @109 ; mysql_stmt_affected_rows
    mysql_stmt_attr_get            @110 ; mysql_stmt_attr_get
    mysql_stmt_attr_set            @111 ; mysql_stmt_attr_set
    mysql_stmt_bind_param          @112 ; mysql_stmt_bind_param
    mysql_stmt_bind_result         @113 ; mysql_stmt_bind_result
    mysql_stmt_close               @114 ; mysql_stmt_close
    mysql_stmt_data_seek           @115 ; mysql_stmt_data_seek
    mysql_stmt_errno               @116 ; mysql_stmt_errno
    mysql_stmt_error               @117 ; mysql_stmt_error
    mysql_stmt_execute             @118 ; mysql_stmt_execute
    mysql_stmt_fetch               @119 ; mysql_stmt_fetch
    mysql_stmt_fetch_column        @120 ; mysql_stmt_fetch_column
    mysql_stmt_field_count         @121 ; mysql_stmt_field_count
    mysql_stmt_free_result         @122 ; mysql_stmt_free_result
    mysql_stmt_init                @123 ; mysql_stmt_init
    mysql_stmt_insert_id           @124 ; mysql_stmt_insert_id
    mysql_stmt_num_rows            @125 ; mysql_stmt_num_rows
    mysql_stmt_param_count         @126 ; mysql_stmt_param_count
    mysql_stmt_param_metadata      @127 ; mysql_stmt_param_metadata
    mysql_stmt_prepare             @128 ; mysql_stmt_prepare
    mysql_stmt_reset               @129 ; mysql_stmt_reset
    mysql_stmt_result_metadata     @130 ; mysql_stmt_result_metadata
    mysql_stmt_row_seek            @131 ; mysql_stmt_row_seek
    mysql_stmt_row_tell            @132 ; mysql_stmt_row_tell
    mysql_stmt_send_long_data      @133 ; mysql_stmt_send_long_data
    mysql_stmt_sqlstate            @134 ; mysql_stmt_sqlstate
    mysql_stmt_store_result        @135 ; mysql_stmt_store_result
    mysql_store_result             @136 ; mysql_store_result
    mysql_thread_end               @137 ; mysql_thread_end
    mysql_thread_id                @138 ; mysql_thread_id
    mysql_thread_init              @139 ; mysql_thread_init
    mysql_thread_safe              @140 ; mysql_thread_safe
    mysql_use_result               @141 ; mysql_use_result
    mysql_warning_count            @142 ; mysql_warning_count
    set_dynamic                    @143 ; set_dynamic
    strcend                        @144 ; strcend
    strcont                        @145 ; strcont
    strdup_root                    @146 ; strdup_root
    strfill                        @147 ; strfill
    strinstr                       @148 ; strinstr
    strmake                        @149 ; strmake
    strmov                         @150 ; strmov
    strxmov                        @151 ; strxmov
From teo at windtelsoft.com  Mon Mar 29 20:57:39 2010
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Mar 29 20:57:51 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <28069776.post@talk.nabble.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
Message-ID: <ADCF20B7-38C9-4BE5-B054-9ECC77B12D2A@windtelsoft.com>

Hello Rossine,

This functions are for a special need for Shum, and in no way
are required in a normal Harbour programming session.

Bellow you'll find a sample that illustrates of what they do.

On Mar 29, 2010, at 8:04 AM, Rossine wrote:

> 
> Hi,
> 
> I'm trying to use the function of you and me errors occur below:

My fault, a missed header ("hbapiitm.h").

> 
> [CODE]


[snip]


<prg>

FUNCTION Main()
	LOCAL s
	LOCAL p
	
	s := "a simple string..."
	
	p := String2Pointer( s )
	
	? "string:", s
	
	? "pointer:", p
	
	? "String from pointer:", Pointer2String( p )
	
	WAIT
	
RETURN NIL

#pragma begindump

#include "hbapi.h"
#include "hbapiitm.h"

HB_FUNC( STRING2POINTER )
{
	PHB_ITEM s = hb_param( 1, HB_IT_STRING );
	
	if( s )
		hb_retptr( (void *) hb_itemGetCPtr( s ) );
}

HB_FUNC( POINTER2STRING )
{
	PHB_ITEM p = hb_param( 1, HB_IT_POINTER );
	
	if( p )
	{
		PHB_ITEM s = hb_itemNew( NULL );
		PHB_ITEM n = hb_param( 2, HB_IT_NUMERIC );
		hb_itemPutCL( s, hb_itemGetPtr( p ), n ? hb_itemGetNI( n ) : strlen( hb_itemGetPtr( p ) ) );
		hb_itemReturnRelease( s );
	}

}

#pragma enddump
<prg>


best regards,

Teo



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100329/876be339/attachment.html
From smujohnson at gmail.com  Mon Mar 29 20:57:44 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Mar 29 20:58:02 2010
Subject: [Harbour] Re: Harbour-made Win9x .EXE's running slow?
In-Reply-To: <674e4ddd1003291558v37a6818dka2034bf3f5f92c3d@mail.gmail.com>
References: <674e4ddd1003291558v37a6818dka2034bf3f5f92c3d@mail.gmail.com>
Message-ID: <674e4ddd1003291757q12211c64m8feb0cd73ce2ed60@mail.gmail.com>

Update:  I am running on a hunch, then when you use DEVOUT to print integers
to a screen in something like a 1 to 300 count, it is that printing to the
screen that is holding everything up... and cl52e is winning this race.  I
will try to prove it with a hello world example to see if this theory is
correct...

But making it display to modulus 50 instead of every single integer improved
the speed by about 3 times in this test on Win98.

On Mon, Mar 29, 2010 at 3:58 PM, smu johnson <smujohnson@gmail.com> wrote:

> Hi,
>
> We have a little benchmarking section in a Clipper program we wrote that
> gives a percentage of how fast it's running overall.  I believe it is doing
> 500 SIXCDX row creates etc...
>
> For Win98 programs, are 32-bit .EXE's compiled with Harbour + TDM Mingw
> have around 25% on that list, whereas when they are around 200%+ when
> compiled as 16-bit with cl52e.
>
> This problem doesn't happen with XP and above.
>
> So, I'm wondering if for Win98, the Harbour-made .EXEs... have to emulate
> some 32-bit mode?  Or maybe the processors in most Win98 machines are 16-bit
> CPUs?  I really have no idea... I wish I knew more about this... but in a
> nutshell, our test is running WAY slower than cl52e + Win98.
>
> Thank you for reading.
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100329/fb76a6db/attachment.html
From jarabal at users.sourceforge.net  Mon Mar 29 23:18:19 2010
From: jarabal at users.sourceforge.net (jarabal@users.sourceforge.net)
Date: Mon Mar 29 23:18:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14261] trunk/harbour
Message-ID: <E1NwRy7-0000fP-9b@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14261
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14261&view=rev
Author:   jarabal
Date:     2010-03-30 03:18:17 +0000 (Tue, 30 Mar 2010)

Log Message:
-----------
2010-03-30 05:17 UTC+0200 Xavi (jarabal/at/gmail.com)
  * harbour/src/rtl/teditor.prg
    ! Fixed typo in K_CTRL_PGDN.

  * harbour/src/rtl/memoedit.prg
    % Adjust nLineLength, SCOREBOAR to present as Clipper.

      PROCEDURE MAIN
         CLEAR SCREEN
         @ 1,0 TO 5,11
         SET SCOREBOARD ON
         MemoEdit( "12345678901", 2, 1, 4, 10, .T. )
      RETURN

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/memoedit.prg
    trunk/harbour/src/rtl/teditor.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Mon Mar 29 23:28:23 2010
From: jarabal at gmail.com (Xavi)
Date: Mon Mar 29 23:28:42 2010
Subject: [Harbour] Ghost cursor with GTWVT
Message-ID: <4BB16FD7.3050909@gmail.com>

Hi all,

Sometimes GTWVT leaves the previous mark of cursor. Attached picture to illustrate the issue.
This happens because the pre-cursor position not is marked with InvalidateRect (RedrawDiff not find differences) getting knocked 
out of WM_PAINT.

In GTWVG not happen because overwrite PutChar and for each character insert call TouchCell and force RedrawDiff to find 
differences although they are the same characters and atributes.

IMHO is more effective in Windows marking only the previous cursor position.
I would like to commit the following patch to the repository.

Index: gtwvt.c
===================================================================
--- gtwvt.c	(revision 14260)
+++ gtwvt.c	(working copy)
@@ -1683,15 +1683,19 @@

          case WM_QUERYENDSESSION: /* Closing down computer */
             hb_vmRequestQuit();
-         return 0;
+         break;   /* DefWindowProc return TRUE [jarabal] */

          case WM_CLOSE:  /* Clicked 'X' on system menu */
-         if( hb_gt_wvt_FireEvent( pWVT, HB_GTE_CLOSE ) == 0 )
             {
+#        if 0 /* Avoid irregular shutdown if SetCancel( .F. ) [jarabal] */
+            if( hb_setGetCancel() )
+               hb_vmRequestCancel();
+#        else
                PHB_ITEM pItem = hb_itemPutL( NULL, HB_TRUE );
                hb_setSetItem( HB_SET_CANCEL, pItem );
                hb_itemRelease( pItem );
                hb_vmRequestCancel();
+#        endif
             }
             return 0;

@@ -2939,7 +2943,20 @@
    }

    /* ********************************************************************** */
+/* Avoid the possible remnant mark of cursor in some cases [jarabal] */
+static void hb_gt_wvt_SetPos( PHB_GT pGT, int iRow, int iCol )
+{
+   PHB_GTWVT pWVT = HB_GTWVT_GET( pGT );

+   if( pWVT && pWVT->CaretExist && !pWVT->CaretHidden )
+      HB_GTSELF_REDRAW( pGT, pGT->iRow, pGT->iCol, 1 );
+
+   pGT->iRow = iRow;
+   pGT->iCol = iCol;
+}
+
+/* ********************************************************************** */
+
    static HB_BOOL hb_gt_wvt_SetDispCP( PHB_GT pGT, const char * pszTermCDP, const char * pszHostCDP, HB_BOOL fBox )
    {
       HB_GTSUPER_SETDISPCP( pGT, pszTermCDP, pszHostCDP, fBox );
@@ -3046,6 +3063,7 @@
       pFuncTable->SetMode              = hb_gt_wvt_SetMode;
       pFuncTable->Redraw               = hb_gt_wvt_Redraw;
       pFuncTable->Refresh              = hb_gt_wvt_Refresh;
+   pFuncTable->SetPos               = hb_gt_wvt_SetPos;
       pFuncTable->Version              = hb_gt_wvt_Version;
       pFuncTable->Tone                 = hb_gt_wvt_Tone;
       pFuncTable->Info                 = hb_gt_wvt_Info;

-- 
Xavi

-------------- next part --------------
A non-text attachment was scrubbed...
Name: MemoEdit.jpg
Type: image/jpeg
Size: 22199 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/f0e9e6e3/MemoEdit-0001.jpg
From harbour.01 at syenar.hu  Tue Mar 30 00:27:48 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 00:28:01 2010
Subject: [Harbour] Ghost cursor with GTWVT
In-Reply-To: <4BB16FD7.3050909@gmail.com>
References: <4BB16FD7.3050909@gmail.com>
Message-ID: <72B105CC-AEB6-4219-A71D-231D66FC0EAE@syenar.hu>

Hi Xavi,

My only comment is that some sort of "setcancel" patch 
is mixed into your attached patches, which should definitely 
be deleted.

Brgds,
Viktor

On 2010 Mar 30, at 05:28, Xavi wrote:

> Hi all,
> 
> Sometimes GTWVT leaves the previous mark of cursor. Attached picture to illustrate the issue.
> This happens because the pre-cursor position not is marked with InvalidateRect (RedrawDiff not find differences) getting knocked out of WM_PAINT.
> 
> In GTWVG not happen because overwrite PutChar and for each character insert call TouchCell and force RedrawDiff to find differences although they are the same characters and atributes.
> 
> IMHO is more effective in Windows marking only the previous cursor position.
> I would like to commit the following patch to the repository.
> 
> Index: gtwvt.c
> ===================================================================
> --- gtwvt.c	(revision 14260)
> +++ gtwvt.c	(working copy)
> @@ -1683,15 +1683,19 @@
> 
>         case WM_QUERYENDSESSION: /* Closing down computer */
>            hb_vmRequestQuit();
> -         return 0;
> +         break;   /* DefWindowProc return TRUE [jarabal] */
> 
>         case WM_CLOSE:  /* Clicked 'X' on system menu */
> -         if( hb_gt_wvt_FireEvent( pWVT, HB_GTE_CLOSE ) == 0 )
>            {
> +#        if 0 /* Avoid irregular shutdown if SetCancel( .F. ) [jarabal] */
> +            if( hb_setGetCancel() )
> +               hb_vmRequestCancel();
> +#        else
>               PHB_ITEM pItem = hb_itemPutL( NULL, HB_TRUE );
>               hb_setSetItem( HB_SET_CANCEL, pItem );
>               hb_itemRelease( pItem );
>               hb_vmRequestCancel();
> +#        endif
>            }
>            return 0;
> 
> @@ -2939,7 +2943,20 @@
>   }
> 
>   /* ********************************************************************** */
> +/* Avoid the possible remnant mark of cursor in some cases [jarabal] */
> +static void hb_gt_wvt_SetPos( PHB_GT pGT, int iRow, int iCol )
> +{
> +   PHB_GTWVT pWVT = HB_GTWVT_GET( pGT );
> 
> +   if( pWVT && pWVT->CaretExist && !pWVT->CaretHidden )
> +      HB_GTSELF_REDRAW( pGT, pGT->iRow, pGT->iCol, 1 );
> +
> +   pGT->iRow = iRow;
> +   pGT->iCol = iCol;
> +}
> +
> +/* ********************************************************************** */
> +
>   static HB_BOOL hb_gt_wvt_SetDispCP( PHB_GT pGT, const char * pszTermCDP, const char * pszHostCDP, HB_BOOL fBox )
>   {
>      HB_GTSUPER_SETDISPCP( pGT, pszTermCDP, pszHostCDP, fBox );
> @@ -3046,6 +3063,7 @@
>      pFuncTable->SetMode              = hb_gt_wvt_SetMode;
>      pFuncTable->Redraw               = hb_gt_wvt_Redraw;
>      pFuncTable->Refresh              = hb_gt_wvt_Refresh;
> +   pFuncTable->SetPos               = hb_gt_wvt_SetPos;
>      pFuncTable->Version              = hb_gt_wvt_Version;
>      pFuncTable->Tone                 = hb_gt_wvt_Tone;
>      pFuncTable->Info                 = hb_gt_wvt_Info;
> 
> -- 
> Xavi
> 
> <MemoEdit.jpg>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Mar 30 00:32:45 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 30 00:32:57 2010
Subject: [Harbour] Ask Str2Poniter() and Pointer2Str() function pair ....
In-Reply-To: <ADCF20B7-38C9-4BE5-B054-9ECC77B12D2A@windtelsoft.com>
References: <1269610162158-4803834.post@n2.nabble.com>
	<955CF649-05B9-447A-B068-C5F861B1E231@windtelsoft.com>
	<1269702966385-4809522.post@n2.nabble.com>
	<0268B213-814A-4080-835C-956B46BDBDF9@windtelsoft.com>
	<1269752750985-4811973.post@n2.nabble.com>
	<C2D09E79-D7A0-45CE-B956-673A4F371CB7@windtelsoft.com>
	<56B40FA0-70AF-453B-8DA8-296E175D2D52@windtelsoft.com>
	<28069776.post@talk.nabble.com>
	<ADCF20B7-38C9-4BE5-B054-9ECC77B12D2A@windtelsoft.com>
Message-ID: <F1F742AD-ECDF-4FA0-AC99-16CF1B6BB22F@syenar.hu>

> Hello Rossine,
> 
> This functions are for a special need for Shum, and in no way

As per Shum he only needs it to make Xbase++ program _link_.

So I believe he could just use these simple dummies until the 
code is fixed properly:

FUNCTION String2Pointer()
  RETURN 0

FUNCTION Pointer2String()
  RETURN ""

Brgds,
Viktor

From robert_skowronek at o2.pl  Tue Mar 30 01:18:12 2010
From: robert_skowronek at o2.pl (Robert Skowronek(o2))
Date: Tue Mar 30 01:18:43 2010
Subject: [Harbour] UPX for ADS
Message-ID: <BC63E1B40AD34A449274D19775D05405@NBSKOWRONEK>

Hi,

Is UPX compression (-compr) allowed for ADS applications? 

 

In my case compression causes exe file corruption with following error


"The application failed to initialize properly (0*c0000005). Click on Ok to terminate the application"

Best regards
Robert Skowronek
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/07e9b169/attachment.html
From harbour.01 at syenar.hu  Tue Mar 30 01:20:14 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 01:20:26 2010
Subject: [Harbour] LIB hbmysql
In-Reply-To: <4BB14A97.5030208@yahoo.com.br>
References: <4BB14A97.5030208@yahoo.com.br>
Message-ID: <13D90BD4-91C6-4066-9245-4364C46691D0@syenar.hu>

Hi,

Use HB_BUILD_IMPLIB=yes at build time (or hbmk2 -mkimplib anytime) 
to create working implibs.

Brgds,
Viktor

On 2010 Mar 30, at 02:49, JOEL - YAHOO wrote:

> Hi
> Please, give me some information.
> The LIB hbmysql is available for version 5.0.89?
> I'm trying to write a small application with MinGW32 and I'm having the carriage return below.
> Attached the header of imported LIB command -->> "dlltool-D libmysql.dll libmysql.def-d-l-k libmysql.a "
> 
> 
> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0xa4): undefined reference to
> `mysql_escape_string@12'
> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x115): undefined reference to
>  `mysql_escape_string@12'
> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x156): undefined reference to
>  `mysql_close@4'
> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x199): undefined reference to
>  `mysql_close@4'
> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x1c6): undefined reference to
>  `mysql_free_result@4'
> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x209): undefined reference to
>  `mysql_free_result@4'
> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x2be): undefined reference to
>  `mysql_init@4'
> ...
> 
> Best Regards
> Joel Bernardes
> 
> <libmysql.def>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Tue Mar 30 03:24:58 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 30 03:25:11 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <4BB0B004.4020403@dbtopas.lt>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>	<4BA39398.9030307@dbtopas.lt>	<20100320113254.GA1721@linux-4bod.home.aster.pl>	<4BACF70E.6030408@dbtopas.lt>
	<4BB0B004.4020403@dbtopas.lt>
Message-ID: <4BB1A74A.8010305@libero.it>

Mindaugas,

as I wrote earlier I did not see any difference as well unless i just call it
with -j  (without number), in this case I see both of my cores doing work.

I'm using the dragon media flavor of mingw.

Maurilio.


Mindaugas Kavaliauskas wrote:
>>> You can also try to reduce the optimization level, i.e. you can use -Os
>>> in MinGW flags. It should reduce the compilation time and final binaries
>>> will be slower then the one created by BCC though still faster.
>>
>> I'm trying another approach :) Upgrading from Celeron to Core i5. It
>> should help a little. :)
> 
> 
> Hi,
> 
> 
> in ChangeLog I found some -j<n> option for parallel compile jobs. How
> can it use it?
> 
> I'm trying:
>   win-make.exe -j4
> but I see no compile speed improvement.
> 
> 
> Regards,
> Mindaugas
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Mar 30 03:31:44 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 30 03:31:57 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <20100329102020.GA6992@linux-4bod.home.aster.pl>
References: <4BAC52D0.9090703@mail.udg.mx>	<20100326081139.GA22685@linux-4bod.home.aster.pl>	<4BAC7523.4010607@libero.it>	<20100326092124.GA23264@linux-4bod.home.aster.pl>	<4BAC8C17.2080309@libero.it>
	<20100329102020.GA6992@linux-4bod.home.aster.pl>
Message-ID: <4BB1A8E0.30004@libero.it>

Przemyslaw,

Przemys?aw Czerpak wrote:
> Such results can be a little bit change by autoinlining when -O3 is used
> so it would be nice if you can also test this function:
> 
>    ULONG _hb_gettid2( void )
>    {
>       ULONG tid = 0;
>       PTIB  ptib = NULL;
> 
>       if( DosGetInfoBlocks( &ptib, NULL ) == NO_ERROR )
>          tid = ptib->tib_ptib2->tib2_ultid;
> 
>       return tid;
>    }
> 

Here it is:

(E:\harbour\test)gettid
Time _hb_gettid() 693
Time _gettid() 1787
Time _hb_gettid2() 2952

> Yes it is and it's good place to store such information but it's not TLS
> area :-)

Ok, but bear in mind that on OS/2 TLS area is a very limited resource:

--------8<---------------
When a process is started, a small block of memory is set aside to be used as
a thread-local memory area. This memory is at the same virtual address for
each thread, but is backed by different physical memory. This permits each
thread to have a small block of memory that is unique, or local, to that thread.

The thread-local memory area consists of 32 DWORDs (128 bytes), each DWORD
being 4 bytes in size. Up to 8 DWORDs (32 bytes) can be requested each time
this function is called. If you want to allocate more than 8 DWORDs, you must
call this function more than once.

Allocation is by DWORD only. If you want to store a BYTE in the thread-local
memory area, you would still allocate a DWORD, then store the BYTE in it.


Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Mar 30 04:10:50 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 30 04:10:57 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14224] trunk/harbour
In-Reply-To: <4BB1A8E0.30004@libero.it>
References: <4BAC52D0.9090703@mail.udg.mx>
	<20100326081139.GA22685@linux-4bod.home.aster.pl>
	<4BAC7523.4010607@libero.it>
	<20100326092124.GA23264@linux-4bod.home.aster.pl>
	<4BAC8C17.2080309@libero.it>
	<20100329102020.GA6992@linux-4bod.home.aster.pl>
	<4BB1A8E0.30004@libero.it>
Message-ID: <20100330081049.GA16117@linux-4bod.home.aster.pl>

On Tue, 30 Mar 2010, Maurilio Longo wrote:

Hi,

> Here it is:
> (E:\harbour\test)gettid
> Time _hb_gettid() 693
> Time _gettid() 1787
> Time _hb_gettid2() 2952

Thank you very much.
The results suggests that _gettid() is also optimized in OS2 builds.

> > Yes it is and it's good place to store such information but it's not TLS
> > area :-)
> Ok, but bear in mind that on OS/2 TLS area is a very limited resource:

I know and I do not plan to use it anymore.

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Tue Mar 30 04:26:16 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Mar 30 04:26:28 2010
Subject: [Harbour] MemoEdit
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502FBA61D@PINK.zycie.pzu>

I have tested now testprof.prg from tests folder in version :

Harbour 2.0.1dev (Rev. 13492)                           

And MemoEdit isn't worked. Can anybody confirm this ?

 

Regards,

Marek Horodyski

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/3e81a49d/attachment-0001.html
From maurilio.longo at libero.it  Tue Mar 30 04:39:26 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 30 04:39:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14258] trunk/harbour
In-Reply-To: <E1NwLgv-0003uo-Bz@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NwLgv-0003uo-Bz@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <4BB1B8BE.2080302@libero.it>

Viktor,

with these rules inside os2\gcc.mk it build a .res file using rc.exe

RC := $(HB_CCPATH)$(HB_CCPREFIX)rc
RC_OUT := -DOS2 -r
RC_RULE = $(RC) $(RCFLAGS) $(HB_RCFLAGS) $(HB_USER_RESFLAGS) $(RC_OUT) $<

BUT, it builds the .res file at the same dir level of hbrun.rc and, even
moving it inside obj\os2\gcc the final .exe has not the icon, here I fear this
could be caused by the fact that hbrun.exe is a console app, but I'm not sure
about this issue.

So, can you tell me how to build the correct path to hbrun.res, I mean, how to
add obj\os2\gcc to the clean hbrun.rc file name?

$<

contains the full upward path to hbrun.rc so I have to strip all those
..\..\.. and add obj\$compiler\$arch or something like that.

Maurilio.


vszakats@users.sourceforge.net wrote:
> Revision: 14258
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14258&view=rev
> Author:   vszakats
> Date:     2010-03-29 20:36:08 +0000 (Mon, 29 Mar 2010)
> 
> Log Message:
> -----------
> 2010-03-29 22:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     ! Fixed to always convert pathseps in icon filename to forward 
>       slashes.
> 
>   * utils/hbrun/hbrun.rc
>     * Cleaned. Now back to original commit with purely forward 
>       slashes. Should see if this works with OS/2 GCC windres.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/utils/hbmk2/hbmk2.prg
>     trunk/harbour/utils/hbrun/hbrun.rc
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Mar 30 05:15:55 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 30 05:16:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14258] trunk/harbour
In-Reply-To: <4BB1B8BE.2080302@libero.it>
References: <E1NwLgv-0003uo-Bz@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BB1B8BE.2080302@libero.it>
Message-ID: <4BB1C14B.4020809@libero.it>

Ok,

this is it

RC_RULE = $(RC) $(RCFLAGS) $(HB_RCFLAGS) $(HB_USER_RESFLAGS) $(RC_OUT) $< $@

so, .res file gets made into obj\os2\gcc subfolder.

Now, lets see how to make it show when browsing a folder containing hbrun.exe

Maurilio.


Maurilio Longo wrote:
> Viktor,
> 
> with these rules inside os2\gcc.mk it build a .res file using rc.exe
> 
> RC := $(HB_CCPATH)$(HB_CCPREFIX)rc
> RC_OUT := -DOS2 -r
> RC_RULE = $(RC) $(RCFLAGS) $(HB_RCFLAGS) $(HB_USER_RESFLAGS) $(RC_OUT) $<
> 
> BUT, it builds the .res file at the same dir level of hbrun.rc and, even
> moving it inside obj\os2\gcc the final .exe has not the icon, here I fear this
> could be caused by the fact that hbrun.exe is a console app, but I'm not sure
> about this issue.
> 
> So, can you tell me how to build the correct path to hbrun.res, I mean, how to
> add obj\os2\gcc to the clean hbrun.rc file name?
> 
> $<
> 
> contains the full upward path to hbrun.rc so I have to strip all those
> ..\..\.. and add obj\$compiler\$arch or something like that.
> 
> Maurilio.
> 
> 
> vszakats@users.sourceforge.net wrote:
>> Revision: 14258
>>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14258&view=rev
>> Author:   vszakats
>> Date:     2010-03-29 20:36:08 +0000 (Mon, 29 Mar 2010)
>>
>> Log Message:
>> -----------
>> 2010-03-29 22:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>   * utils/hbmk2/hbmk2.prg
>>     ! Fixed to always convert pathseps in icon filename to forward 
>>       slashes.
>>
>>   * utils/hbrun/hbrun.rc
>>     * Cleaned. Now back to original commit with purely forward 
>>       slashes. Should see if this works with OS/2 GCC windres.
>>
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/utils/hbmk2/hbmk2.prg
>>     trunk/harbour/utils/hbrun/hbrun.rc
>>
>>
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Mar 30 05:24:02 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 30 05:24:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14258] trunk/harbour
In-Reply-To: <4BB1B8BE.2080302@libero.it>
References: <E1NwLgv-0003uo-Bz@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BB1B8BE.2080302@libero.it>
Message-ID: <0002798E-E9CD-441E-9E5F-17148616262C@syenar.hu>

Hi Maurilio,

> RC := $(HB_CCPATH)$(HB_CCPREFIX)rc
> RC_OUT := -DOS2 -r
> RC_RULE = $(RC) $(RCFLAGS) $(HB_RCFLAGS) $(HB_USER_RESFLAGS) $(RC_OUT) $<
> BUT, it builds the .res file at the same dir level of hbrun.rc and, even
> moving it inside obj\os2\gcc the final .exe has not the icon, here I fear this
> could be caused by the fact that hbrun.exe is a console app, but I'm not sure
> about this issue.
> 
> So, can you tell me how to build the correct path to hbrun.res, I mean, how to
> add obj\os2\gcc to the clean hbrun.rc file name?
> 
> $<
> 
> contains the full upward path to hbrun.rc so I have to strip all those
> ..\..\.. and add obj\$compiler\$arch or something like that.

The most important thing to check is whether gcc's linker 
can link the .res file created by rc.exe. You can verify 
this outside of our make system using a small example.

If yes, we should try to avoid -DOS2, which is a manual 
hack and should be used only if all other options are out.
For this, we need to find out what is the official way to 
detect OS/2 in .rc files.

Finally we should try to find a way to specify output file 
and avoid making local redefine of RC_RULE.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Mar 30 05:27:33 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 30 05:27:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14258] trunk/harbour
In-Reply-To: <4BB1C14B.4020809@libero.it>
References: <E1NwLgv-0003uo-Bz@sfp-svn-3.v30.ch3.sourceforge.com>
	<4BB1B8BE.2080302@libero.it> <4BB1C14B.4020809@libero.it>
Message-ID: <F02E9DBC-54F6-435F-8A9D-310012281244@syenar.hu>

> RC_RULE = $(RC) $(RCFLAGS) $(HB_RCFLAGS) $(HB_USER_RESFLAGS) $(RC_OUT) $< $@

Good. In this case can you check with this solution to 
use mainstream method only:

---
RC := rc.exe
RC_OUT := 
RCFLAGS := -DOS2 -r
---

If this doesn't work pls post here the command executed with your 
special rules and the command executed by my method above. Thanks.

Brgds,
Viktor

From vatzct at polly.com.ua  Tue Mar 30 05:40:01 2010
From: vatzct at polly.com.ua (vatzct)
Date: Tue Mar 30 05:34:27 2010
Subject: [Harbour] MemoEdit
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502FBA61D@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502FBA61D@PINK.zycie.pzu>
Message-ID: <4BB1C6F1.3070107@polly.com.ua>

30.03.2010 11:26, Horodyski Marek (PZUZ) ???????(??):
>
> I have tested now testprof.prg from tests folder in version :
>
> Harbour 2.0.1dev (Rev. 13492)
>
> And MemoEdit isn't worked. Can anybody confirm this ?
>
> Regards,
>
> Marek Horodyski
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>    
I got the next error:

Error BASE/1132  Bound error: array access
Called from HBPROFILEREPORTTOTBROWSE:CURRENTENTITY(0)
Called from (b)HBPROFILEREPORTTOTBROWSE_ADDCOLUMNS(0)
Called from TBROWSE:DOCONFIGURE(0)
Called from TBROWSE:STABILIZE(0)
Called from TBROWSE:FORCESTABLE(0)
Called from BROWSER(81)
Called from MAIN(48)

C:\dev\harbour_svn\tests\>harbour -build
Harbour 2.1.0dev (Rev. 14235)
Copyright (c) 1999-2010, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.1.0dev (Rev. 14235)
Compiler: MinGW GNU C 3.4.5 (32-bit)
Platform: Windows XP 5.1.2600 Service Pack 1
PCode version: 0.3
ChangeLog last entry: 2010-03-26 05:05 UTC+0100 Xavi (jarabal/at/gmail.com)
ChangeLog ID: ChangeLog 14235 2010-03-26 04:05:40Z jarabal
Built on: Mar 26 2010 09:29:14
Build options: (Clipper 5.3b) (Clipper 5.x undoc) (UNICODE)
---------------------------

Regards,
Alexey Myronenko
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/d02750f5/attachment.html
From maurilio.longo at libero.it  Tue Mar 30 05:52:38 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 30 05:52:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14258] trunk/harbour
In-Reply-To: <0002798E-E9CD-441E-9E5F-17148616262C@syenar.hu>
References: <E1NwLgv-0003uo-Bz@sfp-svn-3.v30.ch3.sourceforge.com>	<4BB1B8BE.2080302@libero.it>
	<0002798E-E9CD-441E-9E5F-17148616262C@syenar.hu>
Message-ID: <4BB1C9E6.7010008@libero.it>

Viktor,

there is another problem, the .ico file is a win32 one, not an OS/2 one, so
I've converted it but:

1) you don't see the ico until after you mark the .exe as a PM one
(presentation managers, that is GUI).
2) the .exe file, not marked as PM, does not run if built adding the generated
.res one even if GCC does not complain.

So, I keep reinforcing my memory that console programs on OS/2 cannot have
resources added to them during build time.

You can change the default icon from OS/2 interface, though.

I'll keep searching.

Maurilio.

PS. rc.exe, by default, creates the .res file in the same dir where the .rc
source resides. So, you need to specify a full output file name.

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> RC := $(HB_CCPATH)$(HB_CCPREFIX)rc
>> RC_OUT := -DOS2 -r
>> RC_RULE = $(RC) $(RCFLAGS) $(HB_RCFLAGS) $(HB_USER_RESFLAGS) $(RC_OUT) $<
>> BUT, it builds the .res file at the same dir level of hbrun.rc and, even
>> moving it inside obj\os2\gcc the final .exe has not the icon, here I fear this
>> could be caused by the fact that hbrun.exe is a console app, but I'm not sure
>> about this issue.
>>
>> So, can you tell me how to build the correct path to hbrun.res, I mean, how to
>> add obj\os2\gcc to the clean hbrun.rc file name?
>>
>> $<
>>
>> contains the full upward path to hbrun.rc so I have to strip all those
>> ..\..\.. and add obj\$compiler\$arch or something like that.
> 
> The most important thing to check is whether gcc's linker 
> can link the .res file created by rc.exe. You can verify 
> this outside of our make system using a small example.
> 
> If yes, we should try to avoid -DOS2, which is a manual 
> hack and should be used only if all other options are out.
> For this, we need to find out what is the official way to 
> detect OS/2 in .rc files.
> 
> Finally we should try to find a way to specify output file 
> and avoid making local redefine of RC_RULE.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From smujohnson at gmail.com  Tue Mar 30 05:53:58 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 05:54:07 2010
Subject: [Harbour] Drastic DEVOUT / screen printing lag on Windows 98,
	and less slow but still slow on XP+.
Message-ID: <674e4ddd1003300253o1bf28e5cufdf1d590d24e26b4@mail.gmail.com>

Hi,

I made a hello world program that demonstrates that in Harbour, printing
30000 devouts to the screen in a fixed location takes way longer than
Clipper, in different circumstances.

I was wondering if any devs could help isolate the issue, whether it's some
inefficiency in Harbour code, or Windows.

To sum up, on Windows 98, cl52e vs Harbour 2.1.0dev, Clipper was around 139
times faster running the same code.

In Windows XP, Clipper was around 14.6 times faster.

The reason this is a problem for us is that Win98 users who use the software
are complaining that it's WAY slower than the old 16-bit clipper ones, doing
all sorts of tests.  My theory is that it is simply because the tests take
too long to print integers to the screen during for loops.

Results txt:
http://209.97.219.2/sjohnson/major_harbour_bug/printing_numbers/devout-test.txt
Source code test:
http://209.97.219.2/sjohnson/major_harbour_bug/printing_numbers/hello.prg

Thank you for reading.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/ffd6292b/attachment-0001.html
From druzus at acn.waw.pl  Tue Mar 30 06:03:13 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 30 06:03:20 2010
Subject: [Harbour] Ghost cursor with GTWVT
In-Reply-To: <4BB16FD7.3050909@gmail.com>
References: <4BB16FD7.3050909@gmail.com>
Message-ID: <20100330100313.GA16515@linux-4bod.home.aster.pl>

On Tue, 30 Mar 2010, Xavi wrote:

Hi,

> Sometimes GTWVT leaves the previous mark of cursor. Attached picture
> to illustrate the issue.
> This happens because the pre-cursor position not is marked with
> InvalidateRect (RedrawDiff not find differences) getting knocked out
> of WM_PAINT.

So it means that windows sometimes does not clean previous caret when
it's moved to new position. It would be nice to check when it can
happen. Maybe it's result of some other problems in the code, i.e.
it may happen due to wrong focus switching.

> In GTWVG not happen because overwrite PutChar and for each character
> insert call TouchCell and force RedrawDiff to find differences
> although they are the same characters and atributes.
> 
> IMHO is more effective in Windows marking only the previous cursor position.

Yes of course it is more effective.

> I would like to commit the following patch to the repository.

Sorry but it's wrong solution. You talked about efficient solution
and you chose not very good one. This modification causes that
each cursor movement activates screen redrawing without respecting
set cursor off, dispbegin()/dispend() what may strongly reduce the
performance in some applications. It also calls REDRAW() method
just to execute InvalidateRect() but without any preamble/postamble
code which is inside RFRESH()/REDRAWDIFF() methods so it may confuse
some upper level GTs which may inherit from GTWVT.
The last bad side effect of this modification I can see is disabling
late console window activation because now any call to SETPOS() method
will unconditionally force creating new window on next REFRESH() method.

If you want to force overwriting the cursor position then you should
add code to store previous caret position just after ShowCaret().
It would be nice if this saved position can be used to eliminate
unnecessary calls to SetCaretPos(). Then it's enough to add
InvalidateRect() for given character cell position just before
HideCaret(), DestroyCaret() and SetCaretPos(). Instead of using
REDRAW() method you should create your own function, i.e.:

   static void hb_gt_wvt_invalidateChar( PHB_GT pGT, int iRow, int iCol )
   {
      RECT rect;

      rect.top = rect.bottom = iRow;
      rect.left = rect.right = iCol;
      rect = hb_gt_wvt_GetXYFromColRowRect( pWVT, rect );
      InvalidateRect( pWVT->hWnd, &rect, FALSE );
   }

Anyhow I always prefer to detect real reason of problem first to
check if such modification is really necessary and the problem is
not side effect of some other code or bugs.
Otherwise each of us will add some new peaces of code which only
mask real bugs making the whole code hard to understand and extend.

If you want then I can add code which will make caret SetCaretPos()/
ShowCaret() optimization and maybe it will help you to find when the
cursor is wrongly refreshed.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Mar 30 06:23:53 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 30 06:24:01 2010
Subject: [Harbour] Drastic DEVOUT / screen printing lag on Windows 98,
	and less slow but still slow on XP+.
In-Reply-To: <674e4ddd1003300253o1bf28e5cufdf1d590d24e26b4@mail.gmail.com>
References: <674e4ddd1003300253o1bf28e5cufdf1d590d24e26b4@mail.gmail.com>
Message-ID: <20100330102353.GA16928@linux-4bod.home.aster.pl>

On Tue, 30 Mar 2010, smu johnson wrote:

Hi,

> I made a hello world program that demonstrates that in Harbour, printing
> 30000 devouts to the screen in a fixed location takes way longer than
> Clipper, in different circumstances.
[...]

It's an old well known bug in MS-Windows consoles in Win9x
which causes horrible delay in some functions. It affects
all Win32 (not DOS) programs using console window in these
systems.
Inside GTWIN we eliminated all functions which are slow down
by this bug except two ones used to set cursor position and
shape and to read keyboard input because they do not have any
replacement :(

In some application greatly helps SET CURSOR OFF which disables
one of "slow" functions. Of course if it can be used in give context.
Alternatively you can drop GTWIN and switch to GTWVT.

AFAIK MS has never released patches for Win9X console so you
will have to leave with it. The problem is known from 1995
so it's much older then Harbour.

best regards,
Przemek
From maurilio.longo at libero.it  Tue Mar 30 06:43:31 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 30 06:43:43 2010
Subject: [Harbour] hbrun broken since a few days at least
Message-ID: <4BB1D5D3.1090703@libero.it>

Hi Viktor,

I was looking into hbrun issue with the icon when I've found out that an hbrun
I have dated 25 march does not run as well.

I get this error:

03-30-2010  12:36:17  SYS2070  PID 4e34  TID 0001  Slot 00a5
E:\HARBOUR\BIN\HBRUN.EXE
HBRUN->HARBOUR._hb_retclen_buffer
127


Which should mean that it does not find _hb_retclen_buffer inside harbour.dll,
hbmk2 from same date runs ok.

What can it be?

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From jarabal at gmail.com  Tue Mar 30 07:32:06 2010
From: jarabal at gmail.com (Xavi)
Date: Tue Mar 30 07:32:24 2010
Subject: [Harbour] Ghost cursor with GTWVT
In-Reply-To: <20100330100313.GA16515@linux-4bod.home.aster.pl>
References: <4BB16FD7.3050909@gmail.com>
	<20100330100313.GA16515@linux-4bod.home.aster.pl>
Message-ID: <4BB1E136.90808@gmail.com>

Hi Przemek,

>
> [...]
>
> Anyhow I always prefer to detect real reason of problem first to
> check if such modification is really necessary and the problem is
> not side effect of some other code or bugs.
> Otherwise each of us will add some new peaces of code which only
> mask real bugs making the whole code hard to understand and extend.
>

I agree with this.

> If you want then I can add code which will make caret SetCaretPos()/
> ShowCaret() optimization and maybe it will help you to find when the
> cursor is wrongly refreshed.
>

Please do it. I can look more in depth.

Best regards,
Xavi
From maurilio.longo at libero.it  Tue Mar 30 07:36:39 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 30 07:36:53 2010
Subject: [Harbour] hbrun broken since a few days at least
In-Reply-To: <4BB1D5D3.1090703@libero.it>
References: <4BB1D5D3.1090703@libero.it>
Message-ID: <4BB1E247.7030201@libero.it>

No,

there is something more, every .exe in bin fails apart from hbmk2 ???


03-30-2010  13:22:58  SYS2070  PID 75c6  TID 0001  Slot 00b0
E:\REPOSITORY\HARBOUR\BIN\OS2\GCC\HBTEST.EXE
HBTEST->HARBOUR._hb_parvnl
127
------------------------------------------------------------

03-30-2010  13:26:36  SYS2070  PID 75c7  TID 0001  Slot 00b0
E:\REPOSITORY\HARBOUR\BIN\OS2\GCC\HBRUN.EXE
HBRUN->HARBOUR._hb_retclen_buffer
127
------------------------------------------------------------

03-30-2010  13:35:23  SYS2070  PID 75c8  TID 0001  Slot 0094
E:\REPOSITORY\HARBOUR\BIN\OS2\GCC\HBI18N.EXE
HBI18N->HARBOUR._HB_FUN_HB_ADEL
127


Maurilio.


Maurilio Longo wrote:
> Hi Viktor,
> 
> I was looking into hbrun issue with the icon when I've found out that an hbrun
> I have dated 25 march does not run as well.
> 
> I get this error:
> 
> 03-30-2010  12:36:17  SYS2070  PID 4e34  TID 0001  Slot 00a5
> E:\HARBOUR\BIN\HBRUN.EXE
> HBRUN->HARBOUR._hb_retclen_buffer
> 127
> 
> 
> Which should mean that it does not find _hb_retclen_buffer inside harbour.dll,
> hbmk2 from same date runs ok.
> 
> What can it be?
> 
> Maurilio.
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dbtopas at dbtopas.lt  Tue Mar 30 07:47:12 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar 30 07:47:18 2010
Subject: [Harbour] mingw 4.5.0 benchmarks
In-Reply-To: <4BB1A74A.8010305@libero.it>
References: <EA545DD1-375F-41F1-BDD1-7E5843AAAD65@syenar.hu>	<4BA39398.9030307@dbtopas.lt>	<20100320113254.GA1721@linux-4bod.home.aster.pl>	<4BACF70E.6030408@dbtopas.lt>	<4BB0B004.4020403@dbtopas.lt>
	<4BB1A74A.8010305@libero.it>
Message-ID: <4BB1E4C0.1000002@dbtopas.lt>

Maurilio Longo wrote:
> as I wrote earlier I did not see any difference as well unless i just call it
> with -j  (without number), in this case I see both of my cores doing work.

Hi,


thank You. That helps in my case also. -j4, -j5, -j99 do nothing, but -j 
makes build harbour more than twice faster. Task manager shows a lot (50 
or more) gcc.exe processes - perhaps all library modules are compiled 
simultaneously.


Regards,
Mindaugas
From bruno.luciani at gmail.com  Tue Mar 30 07:57:25 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar 30 07:57:34 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <hordj2$1q2$1@dough.gmane.org>
References: <hoqam8$mfl$1@dough.gmane.org>
	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>
	<hoqcdh$tlr$1@dough.gmane.org>
	<F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
	<horbt4$st7$1@dough.gmane.org>
	<133778361003291630l3b6fa245q32bc117a743fa397@mail.gmail.com>
	<hordj2$1q2$1@dough.gmane.org>
Message-ID: <133778361003300457k3527da5co7ca0788ebc57b711@mail.gmail.com>

which library i need to link to run your sample ?

Bruno

2010/3/29 Itamar Lins <itamarlins@gmail.com>

> Em 29/3/2010 20:30, Bruno Luciani escreveu:
>
>  This is an only windows library
>>
>> Is that wright ?
>>
>> Bruno
>>
> Yes. Unfortunately there are many systems done with it.
>
>
> Best regards,
> Itamar M. Lins Jr.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/75f6ea77/attachment.html
From itamarlins at gmail.com  Tue Mar 30 08:19:20 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Tue Mar 30 08:19:42 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <133778361003300457k3527da5co7ca0788ebc57b711@mail.gmail.com>
References: <hoqam8$mfl$1@dough.gmane.org>	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>	<hoqcdh$tlr$1@dough.gmane.org>	<F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>	<horbt4$st7$1@dough.gmane.org>	<133778361003291630l3b6fa245q32bc117a743fa397@mail.gmail.com>	<hordj2$1q2$1@dough.gmane.org>
	<133778361003300457k3527da5co7ca0788ebc57b711@mail.gmail.com>
Message-ID: <hosq83$34d$1@dough.gmane.org>

Em 30/3/2010 08:57, Bruno Luciani escreveu:
> which library i need to link to run your sample ?
>
> Bruno
>
> 2010/3/29 Itamar Lins
> <itamarlins@gmail.com
> <mailto:itamarlins@gmail.com>>
>
>     Em 29/3/2010 20:30, Bruno Luciani escreveu:
>
>         This is an only windows library
>
>         Is that wright ?
>
>         Bruno
>
>     Yes. Unfortunately there are many systems done with it.
>
>
>     Best regards,
>     Itamar M. Lins Jr.
>
>     _______________________________________________
>     Harbour mailing list (attachment size limit: 40KB)
>     Harbour@harbour-project.org
>     <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
gtwvw and hbct.

Best regards,
Itamar M. Lins Jr.

From maurilio.longo at libero.it  Tue Mar 30 10:07:15 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 30 10:07:31 2010
Subject: [Harbour] hbrun broken since a few days at least
In-Reply-To: <4BB1E247.7030201@libero.it>
References: <4BB1D5D3.1090703@libero.it> <4BB1E247.7030201@libero.it>
Message-ID: <4BB20593.6090409@libero.it>

Going back at 14230 works ok,

now I'm rebuilding each one commit from here on, even if reading the ChangeLog
I don't see changes which could explain my problems.

I'll let everybody know what I find out.

Maurilio.


Maurilio Longo wrote:
> No,
> 
> there is something more, every .exe in bin fails apart from hbmk2 ???
> 
> 
> 03-30-2010  13:22:58  SYS2070  PID 75c6  TID 0001  Slot 00b0
> E:\REPOSITORY\HARBOUR\BIN\OS2\GCC\HBTEST.EXE
> HBTEST->HARBOUR._hb_parvnl
> 127
> ------------------------------------------------------------
> 
> 03-30-2010  13:26:36  SYS2070  PID 75c7  TID 0001  Slot 00b0
> E:\REPOSITORY\HARBOUR\BIN\OS2\GCC\HBRUN.EXE
> HBRUN->HARBOUR._hb_retclen_buffer
> 127
> ------------------------------------------------------------
> 
> 03-30-2010  13:35:23  SYS2070  PID 75c8  TID 0001  Slot 0094
> E:\REPOSITORY\HARBOUR\BIN\OS2\GCC\HBI18N.EXE
> HBI18N->HARBOUR._HB_FUN_HB_ADEL
> 127
> 
> 
> Maurilio.
> 
> 
> Maurilio Longo wrote:
>> Hi Viktor,
>>
>> I was looking into hbrun issue with the icon when I've found out that an hbrun
>> I have dated 25 march does not run as well.
>>
>> I get this error:
>>
>> 03-30-2010  12:36:17  SYS2070  PID 4e34  TID 0001  Slot 00a5
>> E:\HARBOUR\BIN\HBRUN.EXE
>> HBRUN->HARBOUR._hb_retclen_buffer
>> 127
>>
>>
>> Which should mean that it does not find _hb_retclen_buffer inside harbour.dll,
>> hbmk2 from same date runs ok.
>>
>> What can it be?
>>
>> Maurilio.
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Mar 30 10:32:13 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 30 10:32:21 2010
Subject: [Harbour] hbrun broken since a few days at least
In-Reply-To: <4BB20593.6090409@libero.it>
References: <4BB1D5D3.1090703@libero.it> <4BB1E247.7030201@libero.it>
	<4BB20593.6090409@libero.it>
Message-ID: <20100330143213.GA18890@linux-4bod.home.aster.pl>

On Tue, 30 Mar 2010, Maurilio Longo wrote:

Hi,

> Going back at 14230 works ok,
> now I'm rebuilding each one commit from here on, even if reading the ChangeLog
> I don't see changes which could explain my problems.
> I'll let everybody know what I find out.

Check if it's not caused by shared builds.
Maybe only binaries using harbour.dll do not work and the problem
is caused by wrong harbour.dll version.

best regards,
Przemek
From maurilio.longo at libero.it  Tue Mar 30 11:06:07 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar 30 11:06:20 2010
Subject: [Harbour] hbrun broken since a few days at least
In-Reply-To: <20100330143213.GA18890@linux-4bod.home.aster.pl>
References: <4BB1D5D3.1090703@libero.it>
	<4BB1E247.7030201@libero.it>	<4BB20593.6090409@libero.it>
	<20100330143213.GA18890@linux-4bod.home.aster.pl>
Message-ID: <4BB2135F.6000701@libero.it>

Przemyslaw,

at 14236 it is still working... maybe a wrong harbour.dll in my path, but I've
double-checked and I did not find it and I always do a

make clean

before every rebuild.

I don't know, I'll keep upgrading/rebuilding until I reach current code and
I'll let you know.

Maurilio.

PS. Maybe a copy of it still loaded, since a .dll gets loaded only once and
then shared between the requesting processes; maybe the system was in an
internal inconsistent state, I've also restarted it to be sure :/

Przemys?aw Czerpak wrote:
> On Tue, 30 Mar 2010, Maurilio Longo wrote:
> 
> Hi,
> 
>> Going back at 14230 works ok,
>> now I'm rebuilding each one commit from here on, even if reading the ChangeLog
>> I don't see changes which could explain my problems.
>> I'll let everybody know what I find out.
> 
> Check if it's not caused by shared builds.
> Maybe only binaries using harbour.dll do not work and the problem
> is caused by wrong harbour.dll version.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From itamarlins at gmail.com  Tue Mar 30 11:06:39 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Tue Mar 30 11:07:06 2010
Subject: [Harbour] hbblat with MingW.
Message-ID: <hot41v$btv$1@dough.gmane.org>

Hi!

I get this is error:
C:/DEV/HARBOUR/lib/win/mingw/libhbblat.a(blatwrp.o):blatwrp.c:(.text+0x2c): 
undefined reference to `cSend'
collect2: ld returned 1 exit status

ChangeLog 14243,Xp-SP3

With MSVC express works fine.

Best regards,
Itamar M. Lins Jr.


From jarabal at gmail.com  Tue Mar 30 11:20:40 2010
From: jarabal at gmail.com (Xavi)
Date: Tue Mar 30 11:20:58 2010
Subject: [Harbour] Ghost cursor with GTWVT
In-Reply-To: <20100330100313.GA16515@linux-4bod.home.aster.pl>
References: <4BB16FD7.3050909@gmail.com>
	<20100330100313.GA16515@linux-4bod.home.aster.pl>
Message-ID: <4BB216C8.9070401@gmail.com>

Hi Przemek,

> ShowCaret() optimization and maybe it will help you to find when the
> cursor is wrongly refreshed.

I think I've found the root of the issue.
Please don't nothing about it. Let me do some checking, ...tonight.

Best regards,
Xavi
From itamarlins at gmail.com  Tue Mar 30 11:21:25 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Tue Mar 30 11:21:54 2010
Subject: [Harbour] Re: hbblat with MingW.
In-Reply-To: <hot41v$btv$1@dough.gmane.org>
References: <hot41v$btv$1@dough.gmane.org>
Message-ID: <hot4tm$fjb$1@dough.gmane.org>

My Fault.
Forgot
    HB_WITH_BLAT=C:\blat\full\source

best regards,
Itamar m. Lins jr.

From harbour.01 at syenar.hu  Tue Mar 30 11:24:42 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 11:24:53 2010
Subject: [Harbour] hbblat with MingW.
In-Reply-To: <hot41v$btv$1@dough.gmane.org>
References: <hot41v$btv$1@dough.gmane.org>
Message-ID: <68298F67-A146-4922-9EFF-43F97F875E10@syenar.hu>

Hi,

It works here with current SVN.

Brgds,
Viktor

On 2010 Mar 30, at 17:06, Itamar Lins wrote:

> Hi!
> 
> I get this is error:
> C:/DEV/HARBOUR/lib/win/mingw/libhbblat.a(blatwrp.o):blatwrp.c:(.text+0x2c): undefined reference to `cSend'
> collect2: ld returned 1 exit status
> 
> ChangeLog 14243,Xp-SP3
> 
> With MSVC express works fine.
> 
> Best regards,
> Itamar M. Lins Jr.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Tue Mar 30 11:36:59 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Mar 30 11:37:07 2010
Subject: [Harbour] Re: WVW
In-Reply-To: <hosq83$34d$1@dough.gmane.org>
References: <hoqam8$mfl$1@dough.gmane.org>
	<9CC2F6FF-8BA2-45EC-8F83-AD36642027AE@syenar.hu>
	<hoqcdh$tlr$1@dough.gmane.org>
	<F2E9F596-C3D4-4480-8E47-24288E8795F3@syenar.hu>
	<horbt4$st7$1@dough.gmane.org>
	<133778361003291630l3b6fa245q32bc117a743fa397@mail.gmail.com>
	<hordj2$1q2$1@dough.gmane.org>
	<133778361003300457k3527da5co7ca0788ebc57b711@mail.gmail.com>
	<hosq83$34d$1@dough.gmane.org>
Message-ID: <133778361003300836s7db0c084gd250dfdab77574c6@mail.gmail.com>

I don't have it , it is a contrib ?

Bruno

2010/3/30 Itamar Lins <itamarlins@gmail.com>

> Em 30/3/2010 08:57, Bruno Luciani escreveu:
>
>> which library i need to link to run your sample ?
>>
>> Bruno
>>
>> 2010/3/29 Itamar Lins
>> <itamarlins@gmail.com
>> <mailto:itamarlins@gmail.com>>
>>
>>
>>    Em 29/3/2010 20:30, Bruno Luciani escreveu:
>>
>>        This is an only windows library
>>
>>        Is that wright ?
>>
>>        Bruno
>>
>>    Yes. Unfortunately there are many systems done with it.
>>
>>
>>    Best regards,
>>    Itamar M. Lins Jr.
>>
>>    _______________________________________________
>>    Harbour mailing list (attachment size limit: 40KB)
>>    Harbour@harbour-project.org
>>    <mailto:Harbour@harbour-project.org>
>>
>>    http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>  gtwvw and hbct.
>
>
> Best regards,
> Itamar M. Lins Jr.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/b003a575/attachment.html
From druzus at acn.waw.pl  Tue Mar 30 11:48:32 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 30 11:48:39 2010
Subject: [Harbour] Ghost cursor with GTWVT
In-Reply-To: <4BB216C8.9070401@gmail.com>
References: <4BB16FD7.3050909@gmail.com>
	<20100330100313.GA16515@linux-4bod.home.aster.pl>
	<4BB216C8.9070401@gmail.com>
Message-ID: <20100330154832.GA19705@linux-4bod.home.aster.pl>

On Tue, 30 Mar 2010, Xavi wrote:

Hi,

> >ShowCaret() optimization and maybe it will help you to find when the
> >cursor is wrongly refreshed.
> I think I've found the root of the issue.
> Please don't nothing about it. Let me do some checking, ...tonight.

OK and thank you.

best regards,
Przemek
From fperillo at gmail.com  Tue Mar 30 11:58:44 2010
From: fperillo at gmail.com (francesco perillo)
Date: Tue Mar 30 11:58:52 2010
Subject: [Harbour] hbrun broken since a few days at least
In-Reply-To: <4BB2135F.6000701@libero.it>
References: <4BB1D5D3.1090703@libero.it> <4BB1E247.7030201@libero.it>
	<4BB20593.6090409@libero.it>
	<20100330143213.GA18890@linux-4bod.home.aster.pl>
	<4BB2135F.6000701@libero.it>
Message-ID: <6943770e1003300858oa520f8av39bdd8699ec5ca01@mail.gmail.com>

Maurilio,
use the "bisect" method... if revision X is ok and revision X+100 is
bad, start checking revision X+50 and you will split the number of
tests by half. Suppose that X+50 is ok, then test X+25... and so on...

Mercurial had a bisect functionality just for this scope...

Francesco

On Tue, Mar 30, 2010 at 5:06 PM, Maurilio Longo
<maurilio.longo@libero.it> wrote:
> Przemyslaw,
>
> at 14236 it is still working... maybe a wrong harbour.dll in my path, but I've
> double-checked and I did not find it and I always do a
>
> make clean
>
> before every rebuild.
>
> I don't know, I'll keep upgrading/rebuilding until I reach current code and
> I'll let you know.
>
> Maurilio.
>
> PS. Maybe a copy of it still loaded, since a .dll gets loaded only once and
> then shared between the requesting processes; maybe the system was in an
> internal inconsistent state, I've also restarted it to be sure :/
>
> Przemys?aw Czerpak wrote:
>> On Tue, 30 Mar 2010, Maurilio Longo wrote:
>>
>> Hi,
>>
>>> Going back at 14230 works ok,
>>> now I'm rebuilding each one commit from here on, even if reading the ChangeLog
>>> I don't see changes which could explain my problems.
>>> I'll let everybody know what I find out.
>>
>> Check if it's not caused by shared builds.
>> Maybe only binaries using harbour.dll do not work and the problem
>> is caused by wrong harbour.dll version.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> --
> ?__________
> | ?| ?| |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From qiinfo at ig.com.br  Tue Mar 30 12:38:20 2010
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar 30 12:38:27 2010
Subject: [Harbour] WMF to PDF
Message-ID: <28085070.post@talk.nabble.com>


Hello,

Is possible converter wmf to pdf through the harbour ?

Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/WMF-to-PDF-tp28085070p28085070.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From zen25000 at zen.co.uk  Tue Mar 30 12:57:00 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Mar 30 12:57:08 2010
Subject: [Harbour] rpm build fail - current SVN
Message-ID: <4BB22D5C.7080801@zen.co.uk>

RPM build errors:
     File not found: 
/home/baz/rpm/BUILDROOT/harbour-2.1.0-devmdv20100.i386/usr/lib/harbour/libsddsqlt3.a
[baz@localhost harbour]$

Any ideas?
Thanks,
Barry
From dbtopas at dbtopas.lt  Tue Mar 30 13:26:40 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Mar 30 13:26:48 2010
Subject: [Harbour] WMF to PDF
In-Reply-To: <28085070.post@talk.nabble.com>
References: <28085070.post@talk.nabble.com>
Message-ID: <4BB23450.6020101@dbtopas.lt>

Rossine wrote:
> Is possible converter wmf to pdf through the harbour ?

Hi,


Two ways comes to my mind, though non of it is directly related to 
harbour and requires more or less C knowledge:

1) You can try to play metafile on PDFCreator printing device (perhaps 
can be done in Harbour or a few Win API wrapper functions are required).

2) if you need a complete solution (without separate product 
installation), you can try to use hbcairo library. You'll need to write 
wmf file record enumerator and convert each record from wmf to cairo 
call. This seems to be a longer way, than 1).


Regards,
Mindaugas
From fernando_athayde at yahoo.com.br  Tue Mar 30 14:06:01 2010
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Tue Mar 30 14:06:08 2010
Subject: [Harbour] set printer to ( problem with network)
Message-ID: <358608.47701.qm@web52208.mail.re2.yahoo.com>

Error TERM/2014  Create error: \\caixa2\Epson LX-300.prn (DOS Error 67)
Called from ->SET(0)

with xharbour runs well, but with harbour don?t run
i?ve migrated all my whole application for harbour, i?ll need to print in network and in lx300 usb

can someone help me?


Best regards,
Fernando Athayde



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/7114fa07/attachment.html
From vailtom at gmail.com  Tue Mar 30 14:17:49 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Mar 30 14:18:16 2010
Subject: [Harbour] set printer to ( problem with network)
In-Reply-To: <358608.47701.qm@web52208.mail.re2.yahoo.com>
References: <358608.47701.qm@web52208.mail.re2.yahoo.com>
Message-ID: <531d7a751003301117i6cf85bd0t60176e9bf16c08bf@mail.gmail.com>

Try:

SET PRINTER TO \\caixa2\Epson LX-300.

Regards,
Vailton Renato
From lautaro.moreira at gmail.com  Tue Mar 30 14:34:44 2010
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Tue Mar 30 14:34:57 2010
Subject: [Harbour] WMF to PDF
In-Reply-To: <28085070.post@talk.nabble.com>
References: <28085070.post@talk.nabble.com>
Message-ID: <4BB24444.6040203@gmail.com>

Hello,

You can use pdfcreator and com ( ole ) interfaz and play wmf in 
pdfcreator printer.

Atte.,

Lautaro Moreira
PD: Sorry for my bad english.

El 30/03/2010 13:38, Rossine escribi?:
> Hello,
>
> Is possible converter wmf to pdf through the harbour ?
>
> Regards,
>
> Rossine.
>
>    

From qiinfo at ig.com.br  Tue Mar 30 14:50:47 2010
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar 30 14:50:54 2010
Subject: [Harbour] WMF to PDF
In-Reply-To: <4BB24444.6040203@gmail.com>
References: <28085070.post@talk.nabble.com> <4BB24444.6040203@gmail.com>
Message-ID: <28086837.post@talk.nabble.com>


Hello Lautaro,

Is possible a sample with harbour + pdfcreator ? :)

Regards,

Rossine.


Lautaro Moreira wrote:
> 
> Hello,
> 
> You can use pdfcreator and com ( ole ) interfaz and play wmf in 
> pdfcreator printer.
> 
> Atte.,
> 
> Lautaro Moreira
> PD: Sorry for my bad english.
> 
> El 30/03/2010 13:38, Rossine escribi?:
>> Hello,
>>
>> Is possible converter wmf to pdf through the harbour ?
>>
>> Regards,
>>
>> Rossine.
>>
>>    
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/WMF-to-PDF-tp28085070p28086837.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Tue Mar 30 14:52:37 2010
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar 30 14:52:44 2010
Subject: [Harbour] WMF to PDF
In-Reply-To: <4BB23450.6020101@dbtopas.lt>
References: <28085070.post@talk.nabble.com> <4BB23450.6020101@dbtopas.lt>
Message-ID: <28086860.post@talk.nabble.com>


Hi Mindaugas,

I try PDFCreator :)

Regards,

Rossine.


Mindaugas Kavaliauskas wrote:
> 
> Rossine wrote:
>> Is possible converter wmf to pdf through the harbour ?
> 
> Hi,
> 
> 
> Two ways comes to my mind, though non of it is directly related to 
> harbour and requires more or less C knowledge:
> 
> 1) You can try to play metafile on PDFCreator printing device (perhaps 
> can be done in Harbour or a few Win API wrapper functions are required).
> 
> 2) if you need a complete solution (without separate product 
> installation), you can try to use hbcairo library. You'll need to write 
> wmf file record enumerator and convert each record from wmf to cairo 
> call. This seems to be a longer way, than 1).
> 
> 
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/WMF-to-PDF-tp28085070p28086860.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fernando_athayde at yahoo.com.br  Tue Mar 30 15:22:02 2010
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Tue Mar 30 15:22:10 2010
Subject: Res: [Harbour] set printer to ( problem with network)
In-Reply-To: <531d7a751003301117i6cf85bd0t60176e9bf16c08bf@mail.gmail.com>
References: <358608.47701.qm@web52208.mail.re2.yahoo.com>
	<531d7a751003301117i6cf85bd0t60176e9bf16c08bf@mail.gmail.com>
Message-ID: <910999.16701.qm@web52201.mail.re2.yahoo.com>

the command set printer increases by it selt ".prn"

Regards,
Fernando Athayde




________________________________
De: Vailton Renato <vailtom@gmail.com>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Ter?a-feira, 30 de Mar?o de 2010 15:17:49
Assunto: Re: [Harbour] set printer to ( problem with network)

Try:

SET PRINTER TO \\caixa2\Epson LX-300.

Regards,
Vailton Renato
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/a8b24066/attachment.html
From harbour.01 at syenar.hu  Tue Mar 30 15:29:58 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 15:30:09 2010
Subject: Res: [Harbour] set printer to ( problem with network)
In-Reply-To: <910999.16701.qm@web52201.mail.re2.yahoo.com>
References: <358608.47701.qm@web52208.mail.re2.yahoo.com>
	<531d7a751003301117i6cf85bd0t60176e9bf16c08bf@mail.gmail.com>
	<910999.16701.qm@web52201.mail.re2.yahoo.com>
Message-ID: <85296C29-5CC9-49EA-995B-0170CC61CD40@syenar.hu>

Hi,

l := Set( _SET_DEFEXTENSIONS, .F. )
... print ...
Set( _SET_DEFEXTENSIONS, l )

Brgds,
Viktor

On 2010 Mar 30, at 21:22, Fernando Athayde wrote:

> the command set printer increases by it selt ".prn"
> 
> Regards,
> Fernando Athayde
> 
> De: Vailton Renato <vailtom@gmail.com>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Ter?a-feira, 30 de Mar?o de 2010 15:17:49
> Assunto: Re: [Harbour] set printer to ( problem with network)
> 
> Try:
> 
> SET PRINTER TO \\caixa2\Epson LX-300.
> 
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades -M?sica - Esportes_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Tue Mar 30 15:33:57 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 15:34:04 2010
Subject: [Harbour] Compiler question in INSTALL text file
Message-ID: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>

Hi,

I tried using Open Watcom and found that my applications and .EXE sizes are
600k smaller than TDM MinGW, and run way faster.

But it says that it's kind of experimental or that it might not be 100%
supported in the INSTALL file under the heading "Also supported, some
features may be missing:".  I was wondering if this still applies to this
day.

Also, I tried compiling Harbour with MSVC C++ 6, and it didnt work... if
that version isn't supported, could line 514 be updated to reflect the min
version required?

Thank you.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/63ef8c5f/attachment.html
From lautaro.moreira at gmail.com  Tue Mar 30 15:35:40 2010
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Tue Mar 30 15:35:52 2010
Subject: [Harbour] WMF to PDF
In-Reply-To: <28086837.post@talk.nabble.com>
References: <28085070.post@talk.nabble.com> <4BB24444.6040203@gmail.com>
	<28086837.post@talk.nabble.com>
Message-ID: <4BB2528C.1010006@gmail.com>

Hello Rossine,

I'm can try but i'm using harbour+fwh in a modified printpreview class 
from fwh and is hard extract pdfcreator + harbour only part.

In theory you use Com interfaz of pdfcreator for configure options for 
your pdf file and print in the pdfcreator name printer in normal way.

Best regards,

Lautaro Moreira

PD: Again, sorry for my bad english

El 30/03/2010 15:50, Rossine escribi?:
> Hello Lautaro,
>
> Is possible a sample with harbour + pdfcreator ? :)
>
> Regards,
>
> Rossine.
>
>
> Lautaro Moreira wrote:
>    
>> Hello,
>>
>> You can use pdfcreator and com ( ole ) interfaz and play wmf in
>> pdfcreator printer.
>>
>> Atte.,
>>
>> Lautaro Moreira
>> PD: Sorry for my bad english.
>>
>> El 30/03/2010 13:38, Rossine escribi?:
>>      
>>> Hello,
>>>
>>> Is possible converter wmf to pdf through the harbour ?
>>>
>>> Regards,
>>>
>>> Rossine.
>>>
>>>
>>>        
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>      
>    

From fernando_athayde at yahoo.com.br  Tue Mar 30 15:43:02 2010
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Tue Mar 30 15:43:10 2010
Subject: Res: Res: [Harbour] set printer to ( problem with network)
In-Reply-To: <85296C29-5CC9-49EA-995B-0170CC61CD40@syenar.hu>
References: <358608.47701.qm@web52208.mail.re2.yahoo.com>
	<531d7a751003301117i6cf85bd0t60176e9bf16c08bf@mail.gmail.com>
	<910999.16701.qm@web52201.mail.re2.yahoo.com>
	<85296C29-5CC9-49EA-995B-0170CC61CD40@syenar.hu>
Message-ID: <744044.32616.qm@web52204.mail.re2.yahoo.com>

extension .prn gone, but the problem continue
Error TERM/2014  Create error: \\caixa2\Epson LX-300 (DOS Error 67)
Called from ->SET(0)

Regards,
Fernando Athayde




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Ter?a-feira, 30 de Mar?o de 2010 16:29:58
Assunto: Re: Res: [Harbour] set printer to ( problem with network)

Hi,

l := Set( _SET_DEFEXTENSIONS, .F. )
... print ...
Set( _SET_DEFEXTENSIONS, l )

Brgds,
Viktor

On 2010 Mar 30, at 21:22, Fernando Athayde wrote:

> the command set printer increases by it selt ".prn"
> 
> Regards,
> Fernando Athayde
> 
> De: Vailton Renato <vailtom@gmail.com>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Ter?a-feira, 30 de Mar?o de 2010 15:17:49
> Assunto: Re: [Harbour] set printer to ( problem with network)
> 
> Try:
> 
> SET PRINTER TO \\caixa2\Epson LX-300.
> 
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades -M?sica - Esportes_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/e7dad921/attachment.html
From harbour.01 at syenar.hu  Tue Mar 30 15:50:02 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 15:50:13 2010
Subject: [Harbour] Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
Message-ID: <7ABC8755-C84E-45C3-9432-CD7797789447@syenar.hu>

Hi Smu,

> I tried using Open Watcom and found that my applications and .EXE sizes are 600k smaller than TDM MinGW, and run way faster.

That's interesting result because "on paper" (using speedtst) 
watcom is much behind mingw, although better than bcc/pocc.

> But it says that it's kind of experimental or that it might not be 100% supported in the INSTALL file under the heading "Also supported, some features may be missing:".  I was wondering if this still applies to this day.

Yes.

> Also, I tried compiling Harbour with MSVC C++ 6, and it didnt work... if that version isn't supported, could line 514 be updated to reflect the min version required?

It should be supported, so if there is a problem, pls 
report the details. Anyhow for real work I recommend 
MSVC 2005 or 2008, even free Express Edition will do.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Mar 30 15:50:30 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 30 15:50:38 2010
Subject: [Harbour] set printer to ( problem with network)
In-Reply-To: <358608.47701.qm@web52208.mail.re2.yahoo.com>
References: <358608.47701.qm@web52208.mail.re2.yahoo.com>
Message-ID: <20100330195030.GA10704@linux-4bod.home.aster.pl>

On Tue, 30 Mar 2010, Fernando Athayde wrote:

Hi,

> Error TERM/2014  Create error: \\caixa2\Epson LX-300.prn (DOS Error 67)
> Called from ->SET(0)
> with xharbour runs well, but with harbour don?t run
> i?ve migrated all my whole application for harbour, i?ll need to print in network and in lx300 usb
> can someone help me?

   PROCEDURE my_setPrinterTo( cPrinter, lAdditive )
      LOCAL lDefExt := SET( _SET_DEFEXTENSIONS, .F. )
      SET( _SET_PRINTFILE, cPrinter, lAdditive )
      SET( _SET_DEFEXTENSIONS, lDefExt )
   RETURN

and if you still want to use SET PRINTER TO ... command then:

   #command SET PRINTER TO <(file)> [<add: ADDITIVE>]    => ;
                  my_setPrinterTo( <(file)>, <.add.> )

best regards,
Przemek
From smujohnson at gmail.com  Tue Mar 30 15:51:17 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 15:51:27 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
Message-ID: <674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>

To update, I couldn't get MSVC 2008 SP1 Express to compile it either, with
the same error that version 6 from the old days presented:  It seems to
interpret -nologo as -ologo or something....

The file cannot be copied onto itself.
        0 file(s) copied.
win-make[3]: [install] Error 1 (ignored)
The file cannot be copied onto itself.
        0 file(s) copied.
win-make[2]: [install] Error 1 (ignored)
../../../../../bin/win/msvc/harbour.exe ../../../hbrun.prg
-i../../../../../inc
lude -n1 -q0 -w3 -es2 -kmo -i- -l
cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 -EHs-c-
-DH
B_LEGACY_TYPES_OFF   -Fohbrun.obj -c hbrun.c
hbrun.c
rc.exe  -nologo   -fo hbrun.res ../../../hbrun.rc
fatal error RC1106: invalid option: -ologo
win-make[3]: *** [hbrun.res] Error 1
win-make[2]: *** [descend] Error 2
win-make[1]: *** [hbrun.inst] Error 2
win-make: *** [utils.inst] Error 2


On Tue, Mar 30, 2010 at 12:33 PM, smu johnson <smujohnson@gmail.com> wrote:

> Hi,
>
> I tried using Open Watcom and found that my applications and .EXE sizes are
> 600k smaller than TDM MinGW, and run way faster.
>
> But it says that it's kind of experimental or that it might not be 100%
> supported in the INSTALL file under the heading "Also supported, some
> features may be missing:".  I was wondering if this still applies to this
> day.
>
> Also, I tried compiling Harbour with MSVC C++ 6, and it didnt work... if
> that version isn't supported, could line 514 be updated to reflect the min
> version required?
>
> Thank you.
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/c191cf47/attachment-0001.html
From druzus at acn.waw.pl  Tue Mar 30 15:54:25 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Mar 30 15:54:33 2010
Subject: Res: Res: [Harbour] set printer to ( problem with network)
In-Reply-To: <744044.32616.qm@web52204.mail.re2.yahoo.com>
References: <358608.47701.qm@web52208.mail.re2.yahoo.com>
	<531d7a751003301117i6cf85bd0t60176e9bf16c08bf@mail.gmail.com>
	<910999.16701.qm@web52201.mail.re2.yahoo.com>
	<85296C29-5CC9-49EA-995B-0170CC61CD40@syenar.hu>
	<744044.32616.qm@web52204.mail.re2.yahoo.com>
Message-ID: <20100330195425.GA10917@linux-4bod.home.aster.pl>

On Tue, 30 Mar 2010, Fernando Athayde wrote:

Hi,

> extension .prn gone, but the problem continue
> Error TERM/2014  Create error: \\caixa2\Epson LX-300 (DOS Error 67)
> Called from ->SET(0)

winerror.h:
   #define ERROR_BAD_NET_NAME 67L

Verify the server and printer names. Maybe the network transport layer
in your windows installation do not like spaces in the names anyhow it's
not Harbour problem.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Mar 30 15:55:53 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 30 15:56:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14262] trunk/harbour
Message-ID: <E1NwhXV-0000F8-Fl@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14262
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14262&view=rev
Author:   druzus
Date:     2010-03-30 19:55:52 +0000 (Tue, 30 Mar 2010)

Log Message:
-----------
2010-03-30 21:55 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/gtwvg.h
    ! fixed compilation with XCC

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 30 15:56:14 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 15:56:25 2010
Subject: Res: Res: [Harbour] set printer to ( problem with network)
In-Reply-To: <744044.32616.qm@web52204.mail.re2.yahoo.com>
References: <358608.47701.qm@web52208.mail.re2.yahoo.com>
	<531d7a751003301117i6cf85bd0t60176e9bf16c08bf@mail.gmail.com>
	<910999.16701.qm@web52201.mail.re2.yahoo.com>
	<85296C29-5CC9-49EA-995B-0170CC61CD40@syenar.hu>
	<744044.32616.qm@web52204.mail.re2.yahoo.com>
Message-ID: <EDB667F0-F53A-47A3-B998-2E25A4415D68@syenar.hu>

> extension .prn gone, but the problem continue
> Error TERM/2014  Create error: \\caixa2\Epson LX-300 (DOS Error 67)
> Called from ->SET(0)

If this is a printer name (as opposed to share name) 
it won't work in Harbour.

Use hbwin lib functions to push data into printer names:
   win_PrintFileRaw( win_PrinterGetDefault(), cTempFileName )

Brgds,
Viktor

From smujohnson at gmail.com  Tue Mar 30 16:04:11 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 16:04:19 2010
Subject: [Harbour] Drastic DEVOUT / screen printing lag on Windows 98, and 
	less slow but still slow on XP+.
In-Reply-To: <20100330102353.GA16928@linux-4bod.home.aster.pl>
References: <674e4ddd1003300253o1bf28e5cufdf1d590d24e26b4@mail.gmail.com>
	<20100330102353.GA16928@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1003301304y322f0ed0n9f270e5f156b86c3@mail.gmail.com>

Przemek,

Thanks a million.  The SET CURSOR thing solved probably 90% of this problem,
maybe even 95% or 100%... it is hard for me to say, but it is much better
now with it off.

BTW, I am wondering if you accept donations.  Since is the only place I can
seem to reach you, I was wondering if you could email me if you are
interested or not.  username:  smujohnson,  email domain:  gmail.com

If you aren't interested, please let me know as well so I won't bother
bugging you anymore.

Thank you

2010/3/30 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Tue, 30 Mar 2010, smu johnson wrote:
>
> Hi,
>
> > I made a hello world program that demonstrates that in Harbour, printing
> > 30000 devouts to the screen in a fixed location takes way longer than
> > Clipper, in different circumstances.
> [...]
>
> It's an old well known bug in MS-Windows consoles in Win9x
> which causes horrible delay in some functions. It affects
> all Win32 (not DOS) programs using console window in these
> systems.
> Inside GTWIN we eliminated all functions which are slow down
> by this bug except two ones used to set cursor position and
> shape and to read keyboard input because they do not have any
> replacement :(
>
> In some application greatly helps SET CURSOR OFF which disables
> one of "slow" functions. Of course if it can be used in give context.
> Alternatively you can drop GTWIN and switch to GTWVT.
>
> AFAIK MS has never released patches for Win9X console so you
> will have to leave with it. The problem is known from 1995
> so it's much older then Harbour.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/4e6928c8/attachment.html
From harbour.01 at syenar.hu  Tue Mar 30 16:06:01 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 16:06:12 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
Message-ID: <9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>

Can you post the beginning of your build with 
all the autodetection info?

On 2010 Mar 30, at 21:51, smu johnson wrote:

> To update, I couldn't get MSVC 2008 SP1 Express to compile it either, with the same error that version 6 from the old days presented:  It seems to interpret -nologo as -ologo or something....
> 
> The file cannot be copied onto itself.
>         0 file(s) copied.
> win-make[3]: [install] Error 1 (ignored)
> The file cannot be copied onto itself.
>         0 file(s) copied.
> win-make[2]: [install] Error 1 (ignored)
> ../../../../../bin/win/msvc/harbour.exe ../../../hbrun.prg  -i../../../../../inc
> lude -n1 -q0 -w3 -es2 -kmo -i- -l
> cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 -EHs-c- -DH
> B_LEGACY_TYPES_OFF   -Fohbrun.obj -c hbrun.c
> hbrun.c
> rc.exe  -nologo   -fo hbrun.res ../../../hbrun.rc
> fatal error RC1106: invalid option: -ologo
> win-make[3]: *** [hbrun.res] Error 1
> win-make[2]: *** [descend] Error 2
> win-make[1]: *** [hbrun.inst] Error 2
> win-make: *** [utils.inst] Error 2
> 
> 
> On Tue, Mar 30, 2010 at 12:33 PM, smu johnson <smujohnson@gmail.com> wrote:
> Hi,
> 
> I tried using Open Watcom and found that my applications and .EXE sizes are 600k smaller than TDM MinGW, and run way faster.
> 
> But it says that it's kind of experimental or that it might not be 100% supported in the INSTALL file under the heading "Also supported, some features may be missing:".  I was wondering if this still applies to this day.
> 
> Also, I tried compiling Harbour with MSVC C++ 6, and it didnt work... if that version isn't supported, could line 514 be updated to reflect the min version required?
> 
> Thank you.
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Tue Mar 30 16:26:11 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 16:26:20 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
Message-ID: <674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>

For you!

Note:  Because I have TDM MinGW still in PATH I manually set the compiler
thingy.  Also, this error didn't happen when using Open Watcom.

Commands run:
============

1.  call "%ProgramFiles(x86)%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
(maybe INSTALL file should include x86 % var for easy copy and pasting for
64-bit win users?)

2.  G:\harbour>win-make HB_BUILD_UNICODE=no HB_COMPILER=msvc install | tee
mscv2008.log

Results:
======

http://209.97.219.2/sjohnson/misc/mscv2008-comp.zip


On Tue, Mar 30, 2010 at 1:06 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Can you post the beginning of your build with
> all the autodetection info?
>
> On 2010 Mar 30, at 21:51, smu johnson wrote:
>
> > To update, I couldn't get MSVC 2008 SP1 Express to compile it either,
> with the same error that version 6 from the old days presented:  It seems to
> interpret -nologo as -ologo or something....
> >
> > The file cannot be copied onto itself.
> >         0 file(s) copied.
> > win-make[3]: [install] Error 1 (ignored)
> > The file cannot be copied onto itself.
> >         0 file(s) copied.
> > win-make[2]: [install] Error 1 (ignored)
> > ../../../../../bin/win/msvc/harbour.exe ../../../hbrun.prg
>  -i../../../../../inc
> > lude -n1 -q0 -w3 -es2 -kmo -i- -l
> > cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1
> -EHs-c- -DH
> > B_LEGACY_TYPES_OFF   -Fohbrun.obj -c hbrun.c
> > hbrun.c
> > rc.exe  -nologo   -fo hbrun.res ../../../hbrun.rc
> > fatal error RC1106: invalid option: -ologo
> > win-make[3]: *** [hbrun.res] Error 1
> > win-make[2]: *** [descend] Error 2
> > win-make[1]: *** [hbrun.inst] Error 2
> > win-make: *** [utils.inst] Error 2
> >
> >
> > On Tue, Mar 30, 2010 at 12:33 PM, smu johnson <smujohnson@gmail.com>
> wrote:
> > Hi,
> >
> > I tried using Open Watcom and found that my applications and .EXE sizes
> are 600k smaller than TDM MinGW, and run way faster.
> >
> > But it says that it's kind of experimental or that it might not be 100%
> supported in the INSTALL file under the heading "Also supported, some
> features may be missing:".  I was wondering if this still applies to this
> day.
> >
> > Also, I tried compiling Harbour with MSVC C++ 6, and it didnt work... if
> that version isn't supported, could line 514 be updated to reflect the min
> version required?
> >
> > Thank you.
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/39935c41/attachment.html
From harbour.01 at syenar.hu  Tue Mar 30 16:36:04 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 16:36:16 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
Message-ID: <6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>

> Note:  Because I have TDM MinGW still in PATH I manually set the compiler thingy.  Also, this error didn't happen when using Open Watcom.

So that's the reason. Make system cannot find out 
MSVC version in this case, so it gets it wrong, 
causing the error you reported.

Use 'set HB_COMPILER_VER=900' to work this around 
manually.

> 1.  call "%ProgramFiles(x86)%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"  (maybe INSTALL file should include x86 % var for easy copy and pasting for 64-bit win users?)

It's there under 'for Windows x64 (x86-64) hosts'

Brgds,
Viktor

From smujohnson at gmail.com  Tue Mar 30 16:50:02 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 16:50:09 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
Message-ID: <674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>

Well, the same exact error happened on MSVC 6, on a computer that did not
have TDM MinGW installed....  Just simply MSVC as a C compiler installed.
It found cl.exe okay, but same error.  *sad face*.

On Tue, Mar 30, 2010 at 1:36 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> > Note:  Because I have TDM MinGW still in PATH I manually set the compiler
> thingy.  Also, this error didn't happen when using Open Watcom.
>
> So that's the reason. Make system cannot find out
> MSVC version in this case, so it gets it wrong,
> causing the error you reported.
>
> Use 'set HB_COMPILER_VER=900' to work this around
> manually.
>
> > 1.  call "%ProgramFiles(x86)%\Microsoft Visual Studio
> 9.0\VC\vcvarsall.bat"  (maybe INSTALL file should include x86 % var for easy
> copy and pasting for 64-bit win users?)
>
> It's there under 'for Windows x64 (x86-64) hosts'
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/e923df61/attachment.html
From smujohnson at gmail.com  Tue Mar 30 18:08:36 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 18:08:43 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
Message-ID: <674e4ddd1003301508o520df0e4g99214dc03fad789a@mail.gmail.com>

Viktor,

Your suggestion worked, and I wrote a dummy prime number generator to test
the compilers... and found MSVC 2008 fastest, followed by Mingw, then Open
Watcom.  You were correct!

Nice small .EXE sizes.  One question about MSVC Express Edition:

On Tue, Mar 30, 2010 at 1:50 PM, smu johnson <smujohnson@gmail.com> wrote:

> Well, the same exact error happened on MSVC 6, on a computer that did not
> have TDM MinGW installed....  Just simply MSVC as a C compiler installed.
> It found cl.exe okay, but same error.  *sad face*.
>
>
> On Tue, Mar 30, 2010 at 1:36 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:
>
>> > Note:  Because I have TDM MinGW still in PATH I manually set the
>> compiler thingy.  Also, this error didn't happen when using Open Watcom.
>>
>> So that's the reason. Make system cannot find out
>> MSVC version in this case, so it gets it wrong,
>> causing the error you reported.
>>
>> Use 'set HB_COMPILER_VER=900' to work this around
>> manually.
>>
>> > 1.  call "%ProgramFiles(x86)%\Microsoft Visual Studio
>> 9.0\VC\vcvarsall.bat"  (maybe INSTALL file should include x86 % var for easy
>> copy and pasting for 64-bit win users?)
>>
>> It's there under 'for Windows x64 (x86-64) hosts'
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/bc6dfaf7/attachment.html
From smujohnson at gmail.com  Tue Mar 30 18:09:22 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 18:09:31 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301508o520df0e4g99214dc03fad789a@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<674e4ddd1003301508o520df0e4g99214dc03fad789a@mail.gmail.com>
Message-ID: <674e4ddd1003301509ga369a82sbec7b016b7a7c305@mail.gmail.com>

Oops, forgot my Express Edition question.  Was wondering if there's any
stupid 30-day expiry on the .EXE's that it generates, that microsoft put in
place to get you to pay for it that you know of.

On Tue, Mar 30, 2010 at 3:08 PM, smu johnson <smujohnson@gmail.com> wrote:

> Viktor,
>
> Your suggestion worked, and I wrote a dummy prime number generator to test
> the compilers... and found MSVC 2008 fastest, followed by Mingw, then Open
> Watcom.  You were correct!
>
> Nice small .EXE sizes.  One question about MSVC Express Edition:
>
> On Tue, Mar 30, 2010 at 1:50 PM, smu johnson <smujohnson@gmail.com> wrote:
>
>> Well, the same exact error happened on MSVC 6, on a computer that did not
>> have TDM MinGW installed....  Just simply MSVC as a C compiler installed.
>> It found cl.exe okay, but same error.  *sad face*.
>>
>>
>> On Tue, Mar 30, 2010 at 1:36 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:
>>
>>> > Note:  Because I have TDM MinGW still in PATH I manually set the
>>> compiler thingy.  Also, this error didn't happen when using Open Watcom.
>>>
>>> So that's the reason. Make system cannot find out
>>> MSVC version in this case, so it gets it wrong,
>>> causing the error you reported.
>>>
>>> Use 'set HB_COMPILER_VER=900' to work this around
>>> manually.
>>>
>>> > 1.  call "%ProgramFiles(x86)%\Microsoft Visual Studio
>>> 9.0\VC\vcvarsall.bat"  (maybe INSTALL file should include x86 % var for easy
>>> copy and pasting for 64-bit win users?)
>>>
>>> It's there under 'for Windows x64 (x86-64) hosts'
>>>
>>> Brgds,
>>> Viktor
>>>
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> smu johnson <smujohnson@gmail.com>
>>
>>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/7d47a3c7/attachment.html
From harbour.01 at syenar.hu  Tue Mar 30 18:12:33 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 18:12:46 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
Message-ID: <55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>

> Well, the same exact error happened on MSVC 6, on a computer that did not have TDM MinGW installed....  Just simply MSVC as a C compiler installed.  It found cl.exe okay, but same error.  *sad face*.

I can't guess, pls post the first 20-30 lines of the build to 
be able to tell anything.

Brgds,
Viktor

From smujohnson at gmail.com  Tue Mar 30 18:14:32 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 18:14:43 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>
Message-ID: <674e4ddd1003301514r750a6507q891d2761cba890c@mail.gmail.com>

I will post some results soon regarding MSVC 6.

One thing you should know, is that that Win9x will NOT run the .exe's
generated by my MSVC 2008 SP1 Express Edition.  It tells me to upgrade
Windows.  Perhaps that should be noted in the INSTALL doc?  I personally
think it's a money grab from Microsoft to get you to upgrade....

On Tue, Mar 30, 2010 at 3:12 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> > Well, the same exact error happened on MSVC 6, on a computer that did not
> have TDM MinGW installed....  Just simply MSVC as a C compiler installed.
>  It found cl.exe okay, but same error.  *sad face*.
>
> I can't guess, pls post the first 20-30 lines of the build to
> be able to tell anything.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/720531cb/attachment-0001.html
From harbour.01 at syenar.hu  Tue Mar 30 18:14:59 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 18:15:09 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301509ga369a82sbec7b016b7a7c305@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<674e4ddd1003301508o520df0e4g99214dc03fad789a@mail.gmail.com>
	<674e4ddd1003301509ga369a82sbec7b016b7a7c305@mail.gmail.com>
Message-ID: <ECB94CC9-2747-4226-813F-5748AC7B3F67@syenar.hu>

> Oops, forgot my Express Edition question.  Was wondering if there's any stupid 30-day expiry on the .EXE's that it generates, that microsoft put in place to get you to pay for it that you know of.

No, nothing like that. It's unlimited and you are 
allowed to create commercial programs with it.

BTW, there is also a totally free MSVC edition 
(even for x64) included in Win 7 SDK. Only 
cmdline tools, but therefore much slimmer package.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Mar 30 18:20:29 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 18:20:40 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301514r750a6507q891d2761cba890c@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>
	<674e4ddd1003301514r750a6507q891d2761cba890c@mail.gmail.com>
Message-ID: <0996B28F-B2CA-4596-A110-CF6DCC743343@syenar.hu>

> I will post some results soon regarding MSVC 6.

Pls just paste relevant lines to the mail body.

> One thing you should know, is that that Win9x will NOT run the .exe's generated by my MSVC 2008 SP1 Express Edition.  It tells me to upgrade Windows.  Perhaps

Yes, I documented this many many times here.
Also MSVC 2005 is just partially supporting Win9x, 
but it remained unclear what "partially" means.

>  that should be noted in the INSTALL doc?  I personally think it's a money grab from Microsoft to get you to upgrade....

I will leave that to Microsoft. [ and yes of course it is. 
especially since their stubs and CRTL still uses ANSI 
calls as well. ]

Brgds,
Viktor

From zen25000 at zen.co.uk  Tue Mar 30 18:23:12 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Mar 30 18:23:20 2010
Subject: [Harbour] rpm build fail - current SVN
In-Reply-To: <4BB22D5C.7080801@zen.co.uk>
References: <4BB22D5C.7080801@zen.co.uk>
Message-ID: <4BB279D0.9020607@zen.co.uk>

On 30/03/10 17:57, Barry Jackson wrote:
> RPM build errors:
> File not found:
> /home/baz/rpm/BUILDROOT/harbour-2.1.0-devmdv20100.i386/usr/lib/harbour/libsddsqlt3.a
>
> [baz@localhost harbour]$
>
> Any ideas?
> Thanks,
> Barry
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
Digging deeper it seems that sqlite3 is skipped in the build:-

! 'sqlite3' library skipped (unused)

but is included in the harbour.spec - files section:-

%{_libdir}/%{name}/libsddsqlt3.a
From smujohnson at gmail.com  Tue Mar 30 18:46:08 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 18:46:22 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <0996B28F-B2CA-4596-A110-CF6DCC743343@syenar.hu>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>
	<674e4ddd1003301514r750a6507q891d2761cba890c@mail.gmail.com>
	<0996B28F-B2CA-4596-A110-CF6DCC743343@syenar.hu>
Message-ID: <674e4ddd1003301546o48c082a4nf1f2f3e66845d82c@mail.gmail.com>

Viktor, thank you for all the help.  I apologize for making you have to
repeat yourself multiple times on this issue.  :[

Looks like I will probably stick with Gnu C.  One last question if I may...
is getting MSVC C++ 6 a bad idea for building some apps customers will use,
instead of relying on MinGW?  I might just stuck with MinGW, but I'm very
curious about using msvc 6 to try it... maybe just because I'm interested in
this kind of thing, even as a hobby.

Anyways, it looks as though MSVC 6 detected this time automagically...  but
came up with an error (in the zip below)

Perfect autodetection results:
======================

! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
! MAKE: win-make 3.81 sh.exe install
! HB_BUILD_UNICODE: no
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: msvc (v600) (autodetected: C:/Program Files/Microsoft Visual
Studio/VC98/bin/


Errors:
=====

http://209.97.219.2/sjohnson/misc/msvc6-errors.zip  ... sorry, I felt
compelled to provide you with the whole log in case you wanted it again...
no trouble for me!



On Tue, Mar 30, 2010 at 3:20 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> > I will post some results soon regarding MSVC 6.
>
> Pls just paste relevant lines to the mail body.
>
> > One thing you should know, is that that Win9x will NOT run the .exe's
> generated by my MSVC 2008 SP1 Express Edition.  It tells me to upgrade
> Windows.  Perhaps
>
> Yes, I documented this many many times here.
> Also MSVC 2005 is just partially supporting Win9x,
> but it remained unclear what "partially" means.
>
> >  that should be noted in the INSTALL doc?  I personally think it's a
> money grab from Microsoft to get you to upgrade....
>
> I will leave that to Microsoft. [ and yes of course it is.
> especially since their stubs and CRTL still uses ANSI
> calls as well. ]
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/ac1a228d/attachment.html
From joe_bernardes at yahoo.com.br  Tue Mar 30 19:28:41 2010
From: joe_bernardes at yahoo.com.br (JOEL - YAHOO)
Date: Tue Mar 30 19:30:04 2010
Subject: [Harbour] LIB hbmysql
In-Reply-To: <13D90BD4-91C6-4066-9245-4364C46691D0@syenar.hu>
References: <4BB14A97.5030208@yahoo.com.br>
	<13D90BD4-91C6-4066-9245-4364C46691D0@syenar.hu>
Message-ID: <4BB28929.4040000@yahoo.com.br>

Em 30/03/2010 02:20, Viktor Szak?ts escreveu:
> Hi,
>
> Use HB_BUILD_IMPLIB=yes at build time (or hbmk2 -mkimplib anytime)
> to create working implibs.
>
> Brgds,
> Viktor
>
> On 2010 Mar 30, at 02:49, JOEL - YAHOO wrote:
>
>    
>> Hi
>> Please, give me some information.
>> The LIB hbmysql is available for version 5.0.89?
>> I'm trying to write a small application with MinGW32 and I'm having the carriage return below.
>> Attached the header of imported LIB command -->>  "dlltool-D libmysql.dll libmysql.def-d-l-k libmysql.a"
>>
>>
>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0xa4): undefined reference to
>> `mysql_escape_string@12'
>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x115): undefined reference to
>>   `mysql_escape_string@12'
>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x156): undefined reference to
>>   `mysql_close@4'
>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x199): undefined reference to
>>   `mysql_close@4'
>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x1c6): undefined reference to
>>   `mysql_free_result@4'
>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x209): undefined reference to
>>   `mysql_free_result@4'
>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x2be): undefined reference to
>>   `mysql_init@4'
>> ...
>>
>> Best Regards
>> Joel Bernardes
>>
>> <libmysql.def>_______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>      
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>    
Hello Viktor, thanks for the help.
But that was not enough. This option (hbmk2-mkimplib) generated only one 
copy of the DLL (hbmk2-mkimplib = libmysql.a libmysql.dll).
I decided to set the functions manually.
eg: mysql_init to mysql_init @ 4. . .
So the problem is resolved.

Best regards
Joel Bernardes
__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From harbour.01 at syenar.hu  Tue Mar 30 19:32:32 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 19:32:43 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301546o48c082a4nf1f2f3e66845d82c@mail.gmail.com>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<674e4ddd1003301251w657ad377ie476cf6bd594d138@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>
	<674e4ddd1003301514r750a6507q891d2761cba890c@mail.gmail.com>
	<0996B28F-B2CA-4596-A110-CF6DCC743343@syenar.hu>
	<674e4ddd1003301546o48c082a4nf1f2f3e66845d82c@mail.gmail.com>
Message-ID: <CA6D3984-03A5-4120-B7DC-2210CAFD6597@syenar.hu>

> Viktor, thank you for all the help.  I apologize for making you have to repeat yourself multiple times on this issue.  :[
> 
> Looks like I will probably stick with Gnu C.  One last question if I may... is getting MSVC C++ 6 a bad idea for building some apps customers will use, instead of relying on MinGW?  I might just stuck with MinGW, but I'm very curious about using msvc 6 to try it... maybe just because I'm interested in this kind of thing, even as a hobby.

MSVC 6 is very old, so besides the hobby/fun part, 
I see no single reason to use it, even if you bought 
it back then. [ The only factor is if you need to 
interface with binaries using the same version, or 
to satisfy some contractual requirements, if such may 
exist nowadays. ]

> Anyways, it looks as though MSVC 6 detected this time automagically...  but came up with an error (in the zip below)

It just saves me some time if you only include the 'error' lines, in 
99.99% of cases the very beginning and the very end of output is 
relevant.

> Errors:
> =====
> 
> http://209.97.219.2/sjohnson/misc/msvc6-errors.zip  ... sorry, I felt compelled to provide you with the whole log in case you wanted it again... no trouble for me!

Some problem with old ODBC headers. There is multiple 
fixes for this, but I don't know which is the best 
by looking at the errors, anyone?

--- from attached .log:
cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ogt2yb1p -GX- -G6 -MT -DHB_LEGACY_TYPES_OFF  -I.  -Foodbc.obj -c ../../../odbc.c
odbc.c
../../../odbc.c(240) : error C2065: 'SQLLEN' : undeclared identifier
../../../odbc.c(240) : error C2146: syntax error : missing ';' before identifier 'lLen'
../../../odbc.c(240) : error C2065: 'lLen' : undeclared identifier
../../../odbc.c(240) : error C2065: 'lInitBuff' : undeclared identifier
../../../odbc.c(240) : error C2065: 'lBuffLen' : undeclared identifier
../../../odbc.c(250) : error C2146: syntax error : missing ';' before identifier 'hb_parnint'
../../../odbc.c(265) : error C2146: syntax error : missing ')' before identifier 'lLen'
../../../odbc.c(266) : error C2059: syntax error : ')'
../../../odbc.c(324) : error C2065: 'SQLULEN' : undeclared identifier
../../../odbc.c(324) : error C2146: syntax error : missing ';' before identifier 'wColSize'
../../../odbc.c(324) : error C2065: 'wColSize' : undeclared identifier
../../../odbc.c(324) : error C2146: syntax error : missing ';' before identifier 'hb_parnint'
../../../odbc.c(336) : error C2059: syntax error : ')'
../../../odbc.c(360) : error C2146: syntax error : missing ';' before identifier 'wNumPtr'
../../../odbc.c(360) : error C2065: 'wNumPtr' : undeclared identifier
../../../odbc.c(360) : error C2146: syntax error : missing ';' before identifier 'hb_parnint'
../../../odbc.c(367) : error C2059: syntax error : ')'
../../../odbc.c(401) : error C2146: syntax error : missing ';' before identifier 'uiRowCountPtr'
../../../odbc.c(401) : error C2065: 'uiRowCountPtr' : undeclared identifier
../../../odbc.c(401) : error C2146: syntax error : missing ';' before identifier 'hb_parnint'
../../../odbc.c(404) : error C2146: syntax error : missing ')' before identifier 'hb_parnint'
../../../odbc.c(406) : error C2059: syntax error : ')'
../../../odbc.c(423) : error C2146: syntax error : missing ')' before identifier 'hb_parnint'
../../../odbc.c(423) : error C2059: syntax error : ')'
../../../odbc.c(451) : error C2146: syntax error : missing ';' before identifier 'iRowCountPtr'
../../../odbc.c(451) : error C2065: 'iRowCountPtr' : undeclared identifier
../../../odbc.c(451) : error C2146: syntax error : missing ';' before identifier 'hb_parnint'
../../../odbc.c(453) : error C2059: syntax error : ')'
../../../odbc.c(595) : error C2146: syntax error : missing ';' before identifier 'lLen'
../../../odbc.c(600) : error C2143: syntax error : missing ')' before 'sizeof'
../../../odbc.c(601) : error C2059: syntax error : ')'
../../../odbc.c(619) : error C2146: syntax error : missing ';' before identifier 'lLen'
../../../odbc.c(619) : warning C4244: '=' : conversion from '__int64' to 'int', possible loss of data
../../../odbc.c(625) : error C2146: syntax error : missing ')' before identifier 'hb_parnint'
../../../odbc.c(629) : error C2059: syntax error : ')'
---

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Mar 30 19:38:15 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 30 19:38:29 2010
Subject: [Harbour] LIB hbmysql
In-Reply-To: <4BB28929.4040000@yahoo.com.br>
References: <4BB14A97.5030208@yahoo.com.br>
	<13D90BD4-91C6-4066-9245-4364C46691D0@syenar.hu>
	<4BB28929.4040000@yahoo.com.br>
Message-ID: <3D0B3BE2-2C01-4F7C-BE42-7126A7F0F037@syenar.hu>

>>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0xa4): undefined reference to
>>> `mysql_escape_string@12'
>>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x115): undefined reference to
>>>  `mysql_escape_string@12'
>>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x156): undefined reference to
>>>  `mysql_close@4'
>>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x199): undefined reference to
>>>  `mysql_close@4'
>>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x1c6): undefined reference to
>>>  `mysql_free_result@4'
>>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x209): undefined reference to
>>>  `mysql_free_result@4'
>>> /harbour/lib/libhbmysql.a(mysql.o):mysql.c:(.text+0x2be): undefined reference to
>>>  `mysql_init@4'
>>> ...
>>> 
>>> Best Regards
>>> Joel Bernardes
>>> 
>>> <libmysql.def>_______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>     
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>>   
> Hello Viktor, thanks for the help.
> But that was not enough. This option (hbmk2-mkimplib) generated only one copy of the DLL (hbmk2-mkimplib = libmysql.a libmysql.dll).
> I decided to set the functions manually.
> eg: mysql_init to mysql_init @ 4. . .
> So the problem is resolved.

Yes, looks that sometimes copying *.dll to lib*.a is not 
adequate for mingw. Too bad, but I don't know a good 
universal solution to cover this case. If someone suggests 
one, I can replace current method with it in hbmk2.

[ anyhow even this is sad, because direct .dll input is 
the most effective, as far as I know. ]

Brgds,
Viktor

From smujohnson at gmail.com  Tue Mar 30 19:46:09 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 19:46:16 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <CA6D3984-03A5-4120-B7DC-2210CAFD6597@syenar.hu>
References: <674e4ddd1003301233m1df6ba9g463c0d51b7792c41@mail.gmail.com>
	<9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>
	<674e4ddd1003301514r750a6507q891d2761cba890c@mail.gmail.com>
	<0996B28F-B2CA-4596-A110-CF6DCC743343@syenar.hu>
	<674e4ddd1003301546o48c082a4nf1f2f3e66845d82c@mail.gmail.com>
	<CA6D3984-03A5-4120-B7DC-2210CAFD6597@syenar.hu>
Message-ID: <674e4ddd1003301646r65188573je5f60610546ad265@mail.gmail.com>

Thanks Viktor,

Next time I'll only paste the relevant lines.  Based on what you said, it is
now obvious to me that sticking with MinGW is the easiest and best way to
just have everything work.

Keep up the great work!

On Tue, Mar 30, 2010 at 4:32 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> > Viktor, thank you for all the help.  I apologize for making you have to
> repeat yourself multiple times on this issue.  :[
> >
> > Looks like I will probably stick with Gnu C.  One last question if I
> may... is getting MSVC C++ 6 a bad idea for building some apps customers
> will use, instead of relying on MinGW?  I might just stuck with MinGW, but
> I'm very curious about using msvc 6 to try it... maybe just because I'm
> interested in this kind of thing, even as a hobby.
>
> MSVC 6 is very old, so besides the hobby/fun part,
> I see no single reason to use it, even if you bought
> it back then. [ The only factor is if you need to
> interface with binaries using the same version, or
> to satisfy some contractual requirements, if such may
> exist nowadays. ]
>
> > Anyways, it looks as though MSVC 6 detected this time automagically...
>  but came up with an error (in the zip below)
>
> It just saves me some time if you only include the 'error' lines, in
> 99.99% of cases the very beginning and the very end of output is
> relevant.
>
> > Errors:
> > =====
> >
> > http://209.97.219.2/sjohnson/misc/msvc6-errors.zip  ... sorry, I felt
> compelled to provide you with the whole log in case you wanted it again...
> no trouble for me!
>
> Some problem with old ODBC headers. There is multiple
> fixes for this, but I don't know which is the best
> by looking at the errors, anyone?
>
> --- from attached .log:
> cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ogt2yb1p
> -GX- -G6 -MT -DHB_LEGACY_TYPES_OFF  -I.  -Foodbc.obj -c ../../../odbc.c
> odbc.c
> ../../../odbc.c(240) : error C2065: 'SQLLEN' : undeclared identifier
> ../../../odbc.c(240) : error C2146: syntax error : missing ';' before
> identifier 'lLen'
> ../../../odbc.c(240) : error C2065: 'lLen' : undeclared identifier
> ../../../odbc.c(240) : error C2065: 'lInitBuff' : undeclared identifier
> ../../../odbc.c(240) : error C2065: 'lBuffLen' : undeclared identifier
> ../../../odbc.c(250) : error C2146: syntax error : missing ';' before
> identifier 'hb_parnint'
> ../../../odbc.c(265) : error C2146: syntax error : missing ')' before
> identifier 'lLen'
> ../../../odbc.c(266) : error C2059: syntax error : ')'
> ../../../odbc.c(324) : error C2065: 'SQLULEN' : undeclared identifier
> ../../../odbc.c(324) : error C2146: syntax error : missing ';' before
> identifier 'wColSize'
> ../../../odbc.c(324) : error C2065: 'wColSize' : undeclared identifier
> ../../../odbc.c(324) : error C2146: syntax error : missing ';' before
> identifier 'hb_parnint'
> ../../../odbc.c(336) : error C2059: syntax error : ')'
> ../../../odbc.c(360) : error C2146: syntax error : missing ';' before
> identifier 'wNumPtr'
> ../../../odbc.c(360) : error C2065: 'wNumPtr' : undeclared identifier
> ../../../odbc.c(360) : error C2146: syntax error : missing ';' before
> identifier 'hb_parnint'
> ../../../odbc.c(367) : error C2059: syntax error : ')'
> ../../../odbc.c(401) : error C2146: syntax error : missing ';' before
> identifier 'uiRowCountPtr'
> ../../../odbc.c(401) : error C2065: 'uiRowCountPtr' : undeclared identifier
> ../../../odbc.c(401) : error C2146: syntax error : missing ';' before
> identifier 'hb_parnint'
> ../../../odbc.c(404) : error C2146: syntax error : missing ')' before
> identifier 'hb_parnint'
> ../../../odbc.c(406) : error C2059: syntax error : ')'
> ../../../odbc.c(423) : error C2146: syntax error : missing ')' before
> identifier 'hb_parnint'
> ../../../odbc.c(423) : error C2059: syntax error : ')'
> ../../../odbc.c(451) : error C2146: syntax error : missing ';' before
> identifier 'iRowCountPtr'
> ../../../odbc.c(451) : error C2065: 'iRowCountPtr' : undeclared identifier
> ../../../odbc.c(451) : error C2146: syntax error : missing ';' before
> identifier 'hb_parnint'
> ../../../odbc.c(453) : error C2059: syntax error : ')'
> ../../../odbc.c(595) : error C2146: syntax error : missing ';' before
> identifier 'lLen'
> ../../../odbc.c(600) : error C2143: syntax error : missing ')' before
> 'sizeof'
> ../../../odbc.c(601) : error C2059: syntax error : ')'
> ../../../odbc.c(619) : error C2146: syntax error : missing ';' before
> identifier 'lLen'
> ../../../odbc.c(619) : warning C4244: '=' : conversion from '__int64' to
> 'int', possible loss of data
> ../../../odbc.c(625) : error C2146: syntax error : missing ')' before
> identifier 'hb_parnint'
> ../../../odbc.c(629) : error C2059: syntax error : ')'
> ---
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/9f65a7f5/attachment.html
From joe_bernardes at yahoo.com.br  Tue Mar 30 20:02:01 2010
From: joe_bernardes at yahoo.com.br (JOEL - YAHOO)
Date: Tue Mar 30 20:02:19 2010
Subject: [Harbour] LIB hbmysql
In-Reply-To: <3D0B3BE2-2C01-4F7C-BE42-7126A7F0F037@syenar.hu>
References: <4BB14A97.5030208@yahoo.com.br>	<13D90BD4-91C6-4066-9245-4364C46691D0@syenar.hu>	<4BB28929.4040000@yahoo.com.br>
	<3D0B3BE2-2C01-4F7C-BE42-7126A7F0F037@syenar.hu>
Message-ID: <4BB290F9.6040304@yahoo.com.br>


>> Hello Viktor, thanks for the help.
>> But that was not enough. This option (hbmk2-mkimplib) generated only one copy of the DLL (hbmk2-mkimplib = libmysql.a libmysql.dll).
>> I decided to set the functions manually.
>> eg: mysql_init to mysql_init @ 4. . .
>> So the problem is resolved.
>>      
> Yes, looks that sometimes copying *.dll to lib*.a is not
> adequate for mingw. Too bad, but I don't know a good
> universal solution to cover this case. If someone suggests
> one, I can replace current method with it in hbmk2.
>
> [ anyhow even this is sad, because direct .dll input is
> the most effective, as far as I know. ]
>    
A universal solution to attach the tool hbmk2 would be a great idea.
Even the tools (dlltool and pexports) generate the results I got and not solved.
I actually had to write the function header.

Best regards,
Joel Bernardes


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/34489bd7/attachment.html
From bedipritpal at hotmail.com  Tue Mar 30 20:13:59 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 30 20:14:08 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <674e4ddd1003301646r65188573je5f60610546ad265@mail.gmail.com>
References: <9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>
	<674e4ddd1003301514r750a6507q891d2761cba890c@mail.gmail.com>
	<0996B28F-B2CA-4596-A110-CF6DCC743343@syenar.hu>
	<674e4ddd1003301546o48c082a4nf1f2f3e66845d82c@mail.gmail.com>
	<CA6D3984-03A5-4120-B7DC-2210CAFD6597@syenar.hu>
	<674e4ddd1003301646r65188573je5f60610546ad265@mail.gmail.com>
Message-ID: <1269994439631-4828167.post@n2.nabble.com>



smu johnson wrote:
> 
> Next time I'll only paste the relevant lines.  Based on what you said, it
> is
> now obvious to me that sticking with MinGW is the easiest and best way to
> just have everything work.
> 

Can you please instruct your mail account not to attach message body, 
to which you are replying ? It certainly distract to understand the contents 
of your messages.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Compiler-question-in-INSTALL-text-file-tp4826703p4828167.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Tue Mar 30 20:19:41 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Mar 30 20:19:52 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <1269994439631-4828167.post@n2.nabble.com>
References: <9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<674e4ddd1003301326m4fe179a8tacb846c691fcc5f1@mail.gmail.com>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>
	<674e4ddd1003301514r750a6507q891d2761cba890c@mail.gmail.com>
	<0996B28F-B2CA-4596-A110-CF6DCC743343@syenar.hu>
	<674e4ddd1003301546o48c082a4nf1f2f3e66845d82c@mail.gmail.com>
	<CA6D3984-03A5-4120-B7DC-2210CAFD6597@syenar.hu>
	<674e4ddd1003301646r65188573je5f60610546ad265@mail.gmail.com>
	<1269994439631-4828167.post@n2.nabble.com>
Message-ID: <AE84655B-04B3-4785-95E3-22B2B9011A46@syenar.hu>

> smu johnson wrote:
>> 
>> Next time I'll only paste the relevant lines.  Based on what you said, it
>> is
>> now obvious to me that sticking with MinGW is the easiest and best way to
>> just have everything work.
>> 
> 
> Can you please instruct your mail account not to attach message body, 
> to which you are replying ? It certainly distract to understand the contents 
> of your messages.

To be more precise: Only attach what's relevant to stay 
in context. Some ppl cut the whole original message, 
which makes it impossible to tell what is he reacting to. 
I've seen such several times yesterday.

Brgds,
Viktor

From smujohnson at gmail.com  Tue Mar 30 20:52:43 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Mar 30 20:52:52 2010
Subject: [Harbour] Re: Compiler question in INSTALL text file
In-Reply-To: <1269994439631-4828167.post@n2.nabble.com>
References: <9A05706C-F7FE-4D33-837F-C53798B464A5@syenar.hu>
	<6DCDBDA3-B231-4459-BE93-EF60CD70017E@syenar.hu>
	<674e4ddd1003301350n2d3c3ba9y36e5e7d298cd2808@mail.gmail.com>
	<55653D88-FDC9-4A95-AA43-5AD09C922455@syenar.hu>
	<674e4ddd1003301514r750a6507q891d2761cba890c@mail.gmail.com>
	<0996B28F-B2CA-4596-A110-CF6DCC743343@syenar.hu>
	<674e4ddd1003301546o48c082a4nf1f2f3e66845d82c@mail.gmail.com>
	<CA6D3984-03A5-4120-B7DC-2210CAFD6597@syenar.hu>
	<674e4ddd1003301646r65188573je5f60610546ad265@mail.gmail.com>
	<1269994439631-4828167.post@n2.nabble.com>
Message-ID: <674e4ddd1003301752ke41e633p8a54a53499868ae8@mail.gmail.com>

On Tue, Mar 30, 2010 at 5:13 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> Can you please instruct your mail account not to attach message body,
> to which you are replying ? It certainly distract to understand the
> contents
> of your messages.
>

Sorry, I didn't realize it was a problem.  Instead I'll just reply to the
questions as the other devs do from now on.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/9a422d0c/attachment-0001.html
From fernando_athayde at yahoo.com.br  Tue Mar 30 23:03:24 2010
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Tue Mar 30 23:03:30 2010
Subject: [Harbour] how to use libpng
Message-ID: <622715.27933.qm@web52206.mail.re2.yahoo.com>

how to use?

i?m thinking about introduce libpng in hwgui

Best Regards,
Fernando Athayde


      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100330/7b659804/attachment.html
From maurilio.longo at libero.it  Wed Mar 31 04:15:24 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 31 04:15:40 2010
Subject: [Harbour] hbrun broken since a few days at least
In-Reply-To: <4BB2135F.6000701@libero.it>
References: <4BB1D5D3.1090703@libero.it>	<4BB1E247.7030201@libero.it>	<4BB20593.6090409@libero.it>	<20100330143213.GA18890@linux-4bod.home.aster.pl>
	<4BB2135F.6000701@libero.it>
Message-ID: <4BB3049C.4080306@libero.it>

Ok,

it was my system which was "broken" I don't know how, anyway, sorry for the
false report of problems.

Best regards.

Maurilio.


Maurilio Longo wrote:
> Przemyslaw,
> 
> at 14236 it is still working... maybe a wrong harbour.dll in my path, but I've
> double-checked and I did not find it and I always do a
> 
> make clean
> 
> before every rebuild.
> 
> I don't know, I'll keep upgrading/rebuilding until I reach current code and
> I'll let you know.
> 
> Maurilio.
> 
> PS. Maybe a copy of it still loaded, since a .dll gets loaded only once and
> then shared between the requesting processes; maybe the system was in an
> internal inconsistent state, I've also restarted it to be sure :/
> 
> Przemys?aw Czerpak wrote:
>> On Tue, 30 Mar 2010, Maurilio Longo wrote:
>>
>> Hi,
>>
>>> Going back at 14230 works ok,
>>> now I'm rebuilding each one commit from here on, even if reading the ChangeLog
>>> I don't see changes which could explain my problems.
>>> I'll let everybody know what I find out.
>> Check if it's not caused by shared builds.
>> Maybe only binaries using harbour.dll do not work and the problem
>> is caused by wrong harbour.dll version.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Wed Mar 31 05:06:29 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 31 05:06:46 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>	<4BB091F1.2050100@libero.it>	<AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>	<20100329195323.GA25962@linux-4bod.home.aster.pl>
	<006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>
Message-ID: <4BB31095.2070902@libero.it>

Viktor,

it seems the problem was in adding the win32 .ico to hbrun the cause of the
problems reported yesterday. I'm not 100% sure, though, since I've done a
thousands different tests.

Now, with attached hbrun.rc, harbos2.ico and this command, which, as you can
see, I execute from within obj\os2\gcc of hbrun I can attach OS/2 .ico and it
shows inside OS/2 gui and even when I start hbrun.exe, the title-bar icon gets
changed to the correct one.


(E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)rc -DOS2 -p ..\..\..\hbrun.rc
..\..\..\..\..\bin\os2\gcc\hbrun.exe

Operating System/2 Resource Compiler
Version 4.00.011 Oct 10 2000
(C) Copyright IBM Corporation 1988-2000
(C) Copyright Microsoft Corp. 1985-2000
All rights reserved.

Creating binary resource file ..\..\..\hbrun.RES
RC:  RCPP -E -D RC_INVOKED -D OS2 -W4 -f ..\..\..\hbrun.rc -ef D:\OS2\RCPP.ERR

..\..\..\hbrun.rc
Writing resources to OS/2 v2.0 Linear .EXE file
Writing 1 DEMAND resource object(s)
  Writing:  3428 bytes in 1 page(s)
    1.1 (3428 bytes)
Writing Extended Attributes:  Default Icon
Writing Extended Attributes:  Checksum


It creates a hbrun.res inside utils\hbrun, which should be deleted somehow and
the gcc.mk should be changed to call rc with the above syntax, which I don't
know how to do, since as it is now the .mk files add the .res file to the
.exe, while rc can do this task, and most important, write the extended
attribute of the file with a copy of the .ico, so that it shows inside the
OS/2 gui.

Let me know.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: harbos2.ico
Type: image/x-icon
Size: 3428 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100331/95d7e3b9/harbos2.bin
-------------- next part --------------
/*
 * $Id: hbrun.rc 14258 2010-03-29 20:36:08Z vszakats $
 */

#if defined( OS2 ) || defined( __OS2__ ) || defined( OS_2 )
ICON 1 DISCARDABLE "../../../../../package/harbos2.ico"
#else
ICON1 ICON DISCARDABLE "../../../../../package/harbour.ico"
#endif
From harbour.01 at syenar.hu  Wed Mar 31 05:36:45 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 31 05:36:56 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <4BB31095.2070902@libero.it>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>	<4BB091F1.2050100@libero.it>	<AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>	<20100329195323.GA25962@linux-4bod.home.aster.pl>
	<006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>
	<4BB31095.2070902@libero.it>
Message-ID: <B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>


On 2010 Mar 31, at 11:06, Maurilio Longo wrote:

> Viktor,
> 
> it seems the problem was in adding the win32 .ico to hbrun the cause of the
> problems reported yesterday. I'm not 100% sure, though, since I've done a
> thousands different tests.
> 
> Now, with attached hbrun.rc, harbos2.ico and this command, which, as you can
> see, I execute from within obj\os2\gcc of hbrun I can attach OS/2 .ico and it
> shows inside OS/2 gui and even when I start hbrun.exe, the title-bar icon gets
> changed to the correct one.
> 
> 
> (E:\REPOSITORY\HARBOUR\utils\hbrun\obj\os2\gcc)rc -DOS2 -p ..\..\..\hbrun.rc
> ..\..\..\..\..\bin\os2\gcc\hbrun.exe
> 
> Operating System/2 Resource Compiler
> Version 4.00.011 Oct 10 2000
> (C) Copyright IBM Corporation 1988-2000
> (C) Copyright Microsoft Corp. 1985-2000
> All rights reserved.
> 
> Creating binary resource file ..\..\..\hbrun.RES
> RC:  RCPP -E -D RC_INVOKED -D OS2 -W4 -f ..\..\..\hbrun.rc -ef D:\OS2\RCPP.ERR
> 
> ..\..\..\hbrun.rc
> Writing resources to OS/2 v2.0 Linear .EXE file
> Writing 1 DEMAND resource object(s)
>  Writing:  3428 bytes in 1 page(s)
>    1.1 (3428 bytes)
> Writing Extended Attributes:  Default Icon
> Writing Extended Attributes:  Checksum
> 
> 
> It creates a hbrun.res inside utils\hbrun, which should be deleted somehow and
> the gcc.mk should be changed to call rc with the above syntax, which I don't
> know how to do, since as it is now the .mk files add the .res file to the
> .exe, while rc can do this task, and most important, write the extended
> attribute of the file with a copy of the .ico, so that it shows inside the
> OS/2 gui.
> 
> Let me know.

Many thanks for you research. Nevertheless I'd like to 
propose to drop this whole feature for OS/2, as it needs 
too many irregular hacks and I just don't feel confident 
to add deep change for such things in GNU Make system :(

rc.exe looks like a seriously bare/limited tool.

After all it's just hbrun.exe's icon, which is not 
such an important feature to justify all this.

We can still try adding support to hbmk2, but here 
again comes the limitation of rc.exe in the way. 
It'd be crucial to control the output filename.

Last thing to check is whether they fixed windres.exe 
in recent (4.x?) gcc versions.

Brgds,
Viktor

From maurilio.longo at libero.it  Wed Mar 31 05:40:37 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 31 05:40:50 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>	<4BB091F1.2050100@libero.it>	<AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>	<20100329195323.GA25962@linux-4bod.home.aster.pl>	<006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>	<4BB31095.2070902@libero.it>
	<B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>
Message-ID: <4BB31895.70009@libero.it>

Viktor Szak?ts wrote:
> Many thanks for you research. Nevertheless I'd like to 
> propose to drop this whole feature for OS/2, as it needs 
> too many irregular hacks and I just don't feel confident 
> to add deep change for such things in GNU Make system :(
> 
Ok, I agree.

> rc.exe looks like a seriously bare/limited tool.
> 
It can create a .res in a particular folder, give we pass the path to it,
anyway, I agree it'a a limited tool.

> Last thing to check is whether they fixed windres.exe 
> in recent (4.x?) gcc versions.
> 
I leave this to David, but, anyway, you need the OS/2 format .ico, since the
win32 is not shown at all.

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Wed Mar 31 06:42:35 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 31 06:42:48 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <4BB31895.70009@libero.it>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>	<4BB091F1.2050100@libero.it>	<AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>	<20100329195323.GA25962@linux-4bod.home.aster.pl>	<006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>	<4BB31095.2070902@libero.it>
	<B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>
	<4BB31895.70009@libero.it>
Message-ID: <BC8346D3-AC24-457E-A10B-5AAA0736E0B1@syenar.hu>

>> rc.exe looks like a seriously bare/limited tool.
>> 
> It can create a .res in a particular folder, give we pass the path to it,
> anyway, I agree it'a a limited tool.
> 
>> Last thing to check is whether they fixed windres.exe 
>> in recent (4.x?) gcc versions.
>> 
> I leave this to David, but, anyway, you need the OS/2 format .ico, since the
> win32 is not shown at all.

That's the other thing. We can store and OS/2 .ico in 
SVN, no problem, but who will maintain it, if it changes?

(plus it only has a point if it can be used by gcc)

Well, not a huge loss anyway. The main driving force for 
Windows .ico was to give a better look when installed 
using .exe installer and added to Start Menu. For OS/2 
we don't have an installer, so it's not huge problem.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Mar 31 07:06:21 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 31 07:06:51 2010
Subject: [Harbour] @...GET LISTBOX Problem
In-Reply-To: <52D8BB86-30BB-45E9-8318-DDE97960DAD0@syenar.hu>
References: <4BAB2BE6.4020001@gmail.com>
	<fd76479f1003250938i58cdd67fq62a3ff2c683877bd@mail.gmail.com> 
	<D3EE9F44-6196-4CA1-97FF-4F4B852AD7BB@syenar.hu>
	<fd76479f1003251029n686fc11fh46888047d83cb4e7@mail.gmail.com> 
	<52D8BB86-30BB-45E9-8318-DDE97960DAD0@syenar.hu>
Message-ID: <v2q609353e71003310406m4cd67809v6d1bd61eae49826f@mail.gmail.com>

I not found my clipper 5.3 (only 5.2e)
so i can't try but  here seem resolved
http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/36556dd58edda799#


2010/3/25 Viktor Szak?ts <harbour.01@syenar.hu>:
> I don't know, I never used LISTBOX or C5.3, someone should try
> this with Clipper to see if this is a real error.
>
> BTW, dosemu works well on Ubuntu 32-bit.
>
> Brgds,
> Viktor
>
> On 2010 Mar 25, at 18:29, marco bra wrote:
>
>> Sorry i cannot compare i have only Harbour on Ubuntu 32 bits i don't have
any Windows or Dos here...
>>
>> The only reference i have follow was
http://www.itlnet.net/Programming/Program/Reference/c53g01c/ngb388e.html
>>
>> I'm testing the Mario H. Sabado code here
http://thread.gmane.org/gmane.comp.lang.harbour.devel/28546
>>
>> Thank you.
>>
>> BTW the code below is working good, but i was testing the previous sent
code sample with listbox and valid, is this a clipper behavior or something
else...? :
>>
>> #include "inkey.ch"
>>
>> function main
>> local getlist    := {}
>> local r, c
>> local msele      := " "
>>
>> do while .t.
>>         clear screen
>>
>>         @ 1, 1 say "Press ESC to exit..."
>>         @ 2, 1 say "Please insert a not empty one char value  " get mSele
 valid !empty(mSele)
>>
>>         read
>>
>>         if lastkey()==27
>>            clear screen
>>            return
>>         endif
>>
>>         @ 10, 1 say "User choose :" + mSele
>>         inkey(2)
>> enddo
>>
>> return nil


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100331/67f42231/attachment-0001.html
From harbour.01 at syenar.hu  Wed Mar 31 07:14:06 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 31 07:14:18 2010
Subject: [Harbour] @...GET LISTBOX Problem
In-Reply-To: <v2q609353e71003310406m4cd67809v6d1bd61eae49826f@mail.gmail.com>
References: <4BAB2BE6.4020001@gmail.com>
	<fd76479f1003250938i58cdd67fq62a3ff2c683877bd@mail.gmail.com>
	<D3EE9F44-6196-4CA1-97FF-4F4B852AD7BB@syenar.hu>
	<fd76479f1003251029n686fc11fh46888047d83cb4e7@mail.gmail.com>
	<52D8BB86-30BB-45E9-8318-DDE97960DAD0@syenar.hu>
	<v2q609353e71003310406m4cd67809v6d1bd61eae49826f@mail.gmail.com>
Message-ID: <5DB45211-3C94-4410-834C-E766BC610403@syenar.hu>

> I not found my clipper 5.3 (only 5.2e)
> so i can't try but  here seem resolved
> http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/36556dd58edda799#

It will be resolved if someone confirms this is 
Clipper compatible behavior. As far as I can see 
it is not, but I've only looked at the code.

Brgds,
Viktor

From fernando_athayde at yahoo.com.br  Wed Mar 31 07:26:54 2010
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Mar 31 07:27:01 2010
Subject: Res: Res: Res: [Harbour] set printer to ( problem with network)
In-Reply-To: <EDB667F0-F53A-47A3-B998-2E25A4415D68@syenar.hu>
References: <358608.47701.qm@web52208.mail.re2.yahoo.com>
	<531d7a751003301117i6cf85bd0t60176e9bf16c08bf@mail.gmail.com>
	<910999.16701.qm@web52201.mail.re2.yahoo.com>
	<85296C29-5CC9-49EA-995B-0170CC61CD40@syenar.hu>
	<744044.32616.qm@web52204.mail.re2.yahoo.com>
	<EDB667F0-F53A-47A3-B998-2E25A4415D68@syenar.hu>
Message-ID: <754695.71892.qm@web52207.mail.re2.yahoo.com>

with win_PrintFileRaw runs perfectly
Thanks very much

Best Regards,
Fernando Athayde




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Ter?a-feira, 30 de Mar?o de 2010 16:56:14
Assunto: Re: Res: Res: [Harbour] set printer to ( problem with network)

> extension .prn gone, but the problem continue
> Error TERM/2014  Create error: \\caixa2\Epson LX-300 (DOS Error 67)
> Called from ->SET(0)

If this is a printer name (as opposed to share name) 
it won't work in Harbour.

Use hbwin lib functions to push data into printer names:
   win_PrintFileRaw( win_PrinterGetDefault(), cTempFileName )

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100331/029e33c1/attachment.html
From maurilio.longo at libero.it  Wed Mar 31 09:28:30 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar 31 09:28:44 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <BC8346D3-AC24-457E-A10B-5AAA0736E0B1@syenar.hu>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>	<4BB091F1.2050100@libero.it>	<AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>	<20100329195323.GA25962@linux-4bod.home.aster.pl>	<006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>	<4BB31095.2070902@libero.it>	<B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>	<4BB31895.70009@libero.it>
	<BC8346D3-AC24-457E-A10B-5AAA0736E0B1@syenar.hu>
Message-ID: <4BB34DFE.5090102@libero.it>

Viktor,

Viktor Szak?ts wrote:
> That's the other thing. We can store and OS/2 .ico in 
> SVN, no problem, but who will maintain it, if it changes?
> 
Anyone, a lot of graphical programs can output OS/2 variant of .ico files.

> (plus it only has a point if it can be used by gcc)
> 
I've tested windres with OS/2 ico and windres says there's no .ico inside the
file :) So, it is broken.

> Well, not a huge loss anyway. The main driving force for 
> Windows .ico was to give a better look when installed 
> using .exe installer and added to Start Menu. For OS/2 
> we don't have an installer, so it's not huge problem.
> 

Yes, OS/2 has installers as well, of course, but harbour on OS/2 just requires
to be put in a folder and mostly works :) so I've saved the time to setup an
installer, till now, at least.

BTW, installing GCC could be a lot more of work than install harbour itself.

Best regards.

> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Wed Mar 31 10:25:11 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 31 10:25:41 2010
Subject: [Harbour] run without see command prompt
Message-ID: <j2g609353e71003310725m2c402333vebf9e0cbab91359f@mail.gmail.com>

Is Possible execute a command to exe with parameter without see command
prompt?

PROCEDURE Main
   LOCAL cCommand := "convert.exe files.jpg files.pcl"
    CLS
    RUN (cCommand)
 RETURN
convert.exe is from imagemagik

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100331/ba150a81/attachment.html
From cvc at oohg.org  Wed Mar 31 10:46:36 2010
From: cvc at oohg.org (Ciro Vargas C)
Date: Wed Mar 31 10:46:48 2010
Subject: [Harbour] run without see command prompt
In-Reply-To: <j2g609353e71003310725m2c402333vebf9e0cbab91359f@mail.gmail.com>
References: <j2g609353e71003310725m2c402333vebf9e0cbab91359f@mail.gmail.com>
Message-ID: <u2td6500b451003310746r90218af3qe694bf2f910c5224@mail.gmail.com>

i think that you can do it with waitrun() command or with shellexecute
in hiden mode.

best regards
Ciro


2010/3/31 Massimo Belgrano <mbelgrano@deltain.it>:
> Is Possible execute a command to exe with parameter without see command
> prompt?
> PROCEDURE Main
> ?? LOCAL cCommand := "convert.exe files.jpg files.pcl"
> ?? ?CLS
> ?? ?RUN (cCommand)
> ?RETURN
> convert.exe is from imagemagik
>
> --
> Massimo Belgrano
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
http://www.oohg.org
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From harbour.01 at syenar.hu  Wed Mar 31 10:49:20 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 31 10:49:33 2010
Subject: [Harbour] 14255 error on build
In-Reply-To: <4BB34DFE.5090102@libero.it>
References: <4BB06193.7030601@libero.it>	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>	<4BB06D4E.70401@libero.it>	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>	<4BB06FD0.2080904@libero.it>	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>	<4BB091F1.2050100@libero.it>	<AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>	<20100329195323.GA25962@linux-4bod.home.aster.pl>	<006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>	<4BB31095.2070902@libero.it>	<B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>	<4BB31895.70009@libero.it>
	<BC8346D3-AC24-457E-A10B-5AAA0736E0B1@syenar.hu>
	<4BB34DFE.5090102@libero.it>
Message-ID: <C02F0759-0483-4139-9297-FD9BF4B966C6@syenar.hu>

> Anyone, a lot of graphical programs can output OS/2 variant of .ico files.
> 
>> (plus it only has a point if it can be used by gcc)
>> 
> I've tested windres with OS/2 ico and windres says there's no .ico inside the
> file :) So, it is broken.

I'm not sure I understand why they had put this tool 
there at all :)

>> Well, not a huge loss anyway. The main driving force for 
>> Windows .ico was to give a better look when installed 
>> using .exe installer and added to Start Menu. For OS/2 
>> we don't have an installer, so it's not huge problem.
>> 
> 
> Yes, OS/2 has installers as well, of course, but harbour on OS/2 just requires
> to be put in a folder and mostly works :) so I've saved the time to setup an
> installer, till now, at least.
> 
> BTW, installing GCC could be a lot more of work than install harbour itself.

No problem, I personally hate installers on Windows (and even OS X), 
and prefer simple .zip instead, so I fully understand. Windows 
users tend to LOVE installers though, as the number of downloads 
shows (well, okay the .exe is made the default, which may be part 
of the reason).

Brgds,
Viktor


From randy at palmas.com  Wed Mar 31 10:55:37 2010
From: randy at palmas.com (Randy)
Date: Wed Mar 31 10:55:52 2010
Subject: [Harbour] Report writer for Harbour
In-Reply-To: <C02F0759-0483-4139-9297-FD9BF4B966C6@syenar.hu>
References: <4BB06193.7030601@libero.it>
	<39ABDD0C-3213-449D-807E-B91D57AAA034@syenar.hu>
	<4BB06D4E.70401@libero.it>
	<0B4AC9F0-5D68-4E0C-9AF8-BA6CE331128B@syenar.hu>
	<4BB06FD0.2080904@libero.it>
	<E5006653-8A32-46A1-8BB8-DA9C75C89545@syenar.hu>
	<5F98BC94-D5D9-4E69-AF24-AA77E4CA647B@syenar.hu>
	<4BB091F1.2050100@libero.it>
	<AECA8A2D-778E-47F7-B290-75A915D809CE@syenar.hu>
	<20100329195323.GA25962@linux-4bod.home.aster.pl>
	<006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>
	<4BB31095.2070902@libero.it>
	<B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>
	<4BB31895.70009@libero.it>
	<BC8346D3-AC24-457E-A10B-5AAA0736E0B1@syenar.hu>
	<4BB34DFE.5090102@libero.it>
	<C02F0759-0483-4139-9297-FD9BF4B966C6@syenar.hu>
Message-ID: <20100331145544.C50EF33E4A1@smtp-auth05.pathcom.com>

Hi all,

Is there a report writer of choice for use with Harbour?

Ideally, I would like a report writer that allows my app to create 
the print handle (ie. hPrintDC) and pass it to the report writer 
instead of the report writer creating its own so that I can combine 
multiple reports in a single print job.

If you know of any report writers that work well with Harbour, please 
let me know.

TIA.

Regards,
Randy.

From mbelgrano at deltain.it  Wed Mar 31 12:12:14 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 31 12:12:44 2010
Subject: [Harbour] Report writer for Harbour
In-Reply-To: <20100331145544.C50EF33E4A1@smtp-auth05.pathcom.com>
References: <4BB06193.7030601@libero.it>
	<20100329195323.GA25962@linux-4bod.home.aster.pl> 
	<006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>
	<4BB31095.2070902@libero.it> 
	<B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>
	<4BB31895.70009@libero.it> 
	<BC8346D3-AC24-457E-A10B-5AAA0736E0B1@syenar.hu>
	<4BB34DFE.5090102@libero.it> 
	<C02F0759-0483-4139-9297-FD9BF4B966C6@syenar.hu>
	<20100331145544.C50EF33E4A1@smtp-auth05.pathcom.com>
Message-ID: <p2y609353e71003310912r93f9a26cr78cf6d4e489a4a01@mail.gmail.com>

Hi Randy

Follow is untested sample with crystal report using gtwvg may be
adapted to hbxtq
basically using  xbp instead wvg
Function MyCrystalViewer()
   LOCAL oCrystal := CREATEOBJECT( "CrystalRuntime.Application" )
   LOCAL oReport  := oCrystal:OpenReport( "PROVA.RPT" )
   LOCAL oDlg, oActvX
  oDlg := WvgDialog():New():Create( , ,  { 20,20 }, { 600,400 }, , .t. )
  oActvX:= WvgActiveXControl():New( oDlg:drawingArea )
  oActvX:CLSID := "CRViewer9.CRViewer"
  oActvX:create( , , {0,0}, oDlg:currentSize(), .t. )
  oActvX:ReportSource := oReport
  oActvX:Do( "ViewReport" )
  oActvX:resize := {||  oActvX:setPosAndSize( {0,0},
oDlg:currentSize(), .t. )  }
  do while .t.
     if inkey() == 27
        exit
     endif
  enddo
  oDlg:destroy()
  Return nil


as other possible soultion exaro is free report engine similar to
Jasper or Crystal Reports.
eXaro can be embedded any Qt application but you not have any wrapper
for harbour
http://qt-apps.org/content/show.php/eXaro?content=78870

As commercial application
Fast report for harbour at http://www.paritetsoft.ru/frh.htm





2010/3/31 Randy <randy@palmas.com>:
> Hi all,
>
> Is there a report writer of choice for use with Harbour?
>
> Ideally, I would like a report writer that allows my app to create the print
> handle (ie. hPrintDC) and pass it to the report writer instead of the report
> writer creating its own so that I can combine multiple reports in a single
> print job.
>
> If you know of any report writers that work well with Harbour, please let me
> know.
>
> TIA.
>
> Regards,
> Randy.
>


-- 
Massimo Belgrano
From bruno.luciani at gmail.com  Wed Mar 31 12:37:42 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Mar 31 12:37:50 2010
Subject: [Harbour] Report writer for Harbour
In-Reply-To: <p2y609353e71003310912r93f9a26cr78cf6d4e489a4a01@mail.gmail.com>
References: <4BB06193.7030601@libero.it>
	<006E5C28-73E8-473F-9A05-3AAD7C833886@syenar.hu>
	<4BB31095.2070902@libero.it>
	<B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>
	<4BB31895.70009@libero.it>
	<BC8346D3-AC24-457E-A10B-5AAA0736E0B1@syenar.hu>
	<4BB34DFE.5090102@libero.it>
	<C02F0759-0483-4139-9297-FD9BF4B966C6@syenar.hu>
	<20100331145544.C50EF33E4A1@smtp-auth05.pathcom.com>
	<p2y609353e71003310912r93f9a26cr78cf6d4e489a4a01@mail.gmail.com>
Message-ID: <n2n133778361003310937h51ce8e43n2b77a36292204715@mail.gmail.com>

A wrapper  to exaro and ZINT may a be a good idea Massimo

Bruno

2010/3/31 Massimo Belgrano <mbelgrano@deltain.it>

> Hi Randy
>
> Follow is untested sample with crystal report using gtwvg may be
> adapted to hbxtq
> basically using  xbp instead wvg
> Function MyCrystalViewer()
>   LOCAL oCrystal := CREATEOBJECT( "CrystalRuntime.Application" )
>   LOCAL oReport  := oCrystal:OpenReport( "PROVA.RPT" )
>   LOCAL oDlg, oActvX
>  oDlg := WvgDialog():New():Create( , ,  { 20,20 }, { 600,400 }, , .t. )
>  oActvX:= WvgActiveXControl():New( oDlg:drawingArea )
>  oActvX:CLSID := "CRViewer9.CRViewer"
>  oActvX:create( , , {0,0}, oDlg:currentSize(), .t. )
>  oActvX:ReportSource := oReport
>  oActvX:Do( "ViewReport" )
>  oActvX:resize := {||  oActvX:setPosAndSize( {0,0},
> oDlg:currentSize(), .t. )  }
>  do while .t.
>     if inkey() == 27
>        exit
>     endif
>  enddo
>  oDlg:destroy()
>  Return nil
>
>
> as other possible soultion exaro is free report engine similar to
> Jasper or Crystal Reports.
> eXaro can be embedded any Qt application but you not have any wrapper
> for harbour
> http://qt-apps.org/content/show.php/eXaro?content=78870
>
> As commercial application
> Fast report for harbour at http://www.paritetsoft.ru/frh.htm
>
>
>
>
>
> 2010/3/31 Randy <randy@palmas.com>:
> > Hi all,
> >
> > Is there a report writer of choice for use with Harbour?
> >
> > Ideally, I would like a report writer that allows my app to create the
> print
> > handle (ie. hPrintDC) and pass it to the report writer instead of the
> report
> > writer creating its own so that I can combine multiple reports in a
> single
> > print job.
> >
> > If you know of any report writers that work well with Harbour, please let
> me
> > know.
> >
> > TIA.
> >
> > Regards,
> > Randy.
> >
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100331/dba0c184/attachment.html
From mbelgrano at deltain.it  Wed Mar 31 13:11:57 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 31 13:18:25 2010
Subject: [Harbour] Report writer for Harbour
In-Reply-To: <n2n133778361003310937h51ce8e43n2b77a36292204715@mail.gmail.com>
References: <4BB06193.7030601@libero.it> <4BB31095.2070902@libero.it> 
	<B4AA9DE0-0CE5-4D94-973A-DB08472728B5@syenar.hu>
	<4BB31895.70009@libero.it> 
	<BC8346D3-AC24-457E-A10B-5AAA0736E0B1@syenar.hu>
	<4BB34DFE.5090102@libero.it> 
	<C02F0759-0483-4139-9297-FD9BF4B966C6@syenar.hu>
	<20100331145544.C50EF33E4A1@smtp-auth05.pathcom.com> 
	<p2y609353e71003310912r93f9a26cr78cf6d4e489a4a01@mail.gmail.com> 
	<n2n133778361003310937h51ce8e43n2b77a36292204715@mail.gmail.com>
Message-ID: <y2j609353e71003311011vcd2a7a0ep8c98a55d279598af@mail.gmail.com>

For Visual Fox pro comparison harbour need
- Reporting system (integrated with rdd)
- Form editor like qtdesigner but dboriented
- Database  query & Modelling (gui superdbu+uml integrated with rdd)

The harbour architecture will allow create very powerful application



2010/3/31 Bruno Luciani <bruno.luciani@gmail.com>:
> A wrapper? to exaro and ZINT may a be a good idea Massimo
>
> Bruno
>
> 2010/3/31 Massimo Belgrano <mbelgrano@deltain.it>
>>
>> Hi Randy
>>
>> Follow is untested sample with crystal report using gtwvg may be
>> adapted to hbxtq
>> basically using ?xbp instead wvg
>> Function MyCrystalViewer()
>> ? LOCAL oCrystal := CREATEOBJECT( "CrystalRuntime.Application" )
>> ? LOCAL oReport ?:= oCrystal:OpenReport( "PROVA.RPT" )
>> ? LOCAL oDlg, oActvX
>> ?oDlg := WvgDialog():New():Create( , , ?{ 20,20 }, { 600,400 }, , .t. )
>> ?oActvX:= WvgActiveXControl():New( oDlg:drawingArea )
>> ?oActvX:CLSID := "CRViewer9.CRViewer"
>> ?oActvX:create( , , {0,0}, oDlg:currentSize(), .t. )
>> ?oActvX:ReportSource := oReport
>> ?oActvX:Do( "ViewReport" )
>> ?oActvX:resize := {|| ?oActvX:setPosAndSize( {0,0},
>> oDlg:currentSize(), .t. ) ?}
>> ?do while .t.
>> ? ? if inkey() == 27
>> ? ? ? ?exit
>> ? ? endif
>> ?enddo
>> ?oDlg:destroy()
>> ?Return nil
>>
>>
>> as other possible soultion exaro is free report engine similar to
>> Jasper or Crystal Reports.
>> eXaro can be embedded any Qt application but you not have any wrapper
>> for harbour
>> http://qt-apps.org/content/show.php/eXaro?content=78870
>>
>> As commercial application
>> Fast report for harbour at http://www.paritetsoft.ru/frh.htm
>>
>>
>>
>>
>>
>> 2010/3/31 Randy <randy@palmas.com>:
>> > Hi all,
>> >
>> > Is there a report writer of choice for use with Harbour?
>> >
>> > Ideally, I would like a report writer that allows my app to create the
>> > print
>> > handle (ie. hPrintDC) and pass it to the report writer instead of the
>> > report
>> > writer creating its own so that I can combine multiple reports in a
>> > single
>> > print job.
>> >
>> > If you know of any report writers that work well with Harbour, please
>> > let me
>> > know.
>> >
>> > TIA.
>> >
>> > Regards,
>> > Randy.
>> >
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>



-- 
Massimo Belgrano
From vatzct at polly.com.ua  Wed Mar 31 17:24:11 2010
From: vatzct at polly.com.ua (vatzct@polly.com.ua)
Date: Wed Mar 31 17:20:49 2010
Subject: [Harbour] lang_ua(ru) - different output to console and to fil
	e
Message-ID: <f47f57e.bafb5f70c9a2d278c3bf4cf4c0d6e7ee@webm.polly.com.ua>

Hi!

func main()
set alternate to cmonth.txt additive
set alternate on
set date to german
REQUEST HB_LANG_UA866
HB_LangSELECT( "UA866" )
?hb_langname()
for i := 1 to 12
?cmonth(ctod("01/"+alltrim(str(i))+"/2010"))
next
return nil

in console:
Harbour Language: UA866 Ukrainian (o?a????a)
???N??
i????
uN?N?N??
eo??N??
??aoN??
uN?oN??
i?>N??
?N?>N??
eN?N?N??
a<o?N??
i???<>an
a??nN??

in file:
Harbour Language: UA866 Ukrainian (??????????)
??????
?????
????????
???????
???????
???????
??????
???????
????????
???????
????????
???????

Can anyone confirm that?

Regards,
Alexey Myronenko

From bruno.luciani at gmail.com  Wed Mar 31 22:14:27 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Mar 31 22:14:36 2010
Subject: [Harbour] Unrecoverable error 6005
Message-ID: <v2p133778361003311914t9f2e9359y14688d080e8f8400@mail.gmail.com>

I get this error in a HBQT little aplicattion

any idea what is happening ? , it was working ok a few days ago
and I didn't find major changes for HBQT in Changelog

----------------------------------------------------------------------------------------------------

Unrecoverable error 6005: Exception SIGSEGV at address 0x810000
Called from QT_QAPPLICATION_EXEC(0)
Called from QAPPLICATION:EXEC(0) in ../../../TQApplication.prg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100331/383f683a/attachment.html
From bruno.luciani at gmail.com  Wed Mar 31 22:16:14 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Mar 31 22:16:22 2010
Subject: [Harbour] RTL classes samples
Message-ID: <p2y133778361003311916j9bf9788dv5914a684b9cdffba@mail.gmail.com>

Anybody have samples for Teditor ,Tget , Tgetlist , Tlabel , Tpopup

etc etc etc


Thanks in advance


Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100331/cf3830e5/attachment.html
From hbergen at ops.phl.ca  Wed Mar 31 22:52:53 2010
From: hbergen at ops.phl.ca (Heinz V. Bergen)
Date: Wed Mar 31 22:53:02 2010
Subject: [Harbour] Clipper NTX Index Corruption
Message-ID: <627E4F70B3044D498A1B6D9668DD2AEB0E5858239D@wpgex02>

Harbour compiled program is corrupting Cl*pper NTX  Indexes.
Discovered cause was with Indexes containing STR(RECNO()) in its key.
Clipper will return a string length of 7, while Harbour returns a length of 10.
Checked the Harbour Docs and it indicates that Str(Recno()) should also return a string length of 7.
Using latest SVN with MINGW32  Am I missing something?

As it is I do have access the Cl*pper Index keys, they are stored in a DBF file which is used to recreate the indexes and I will change all references of Str(Recno()) to Str(Recno(),7,0) or will Str(Recno(),7) suffice? I will then recreate all indexes to solve my corruption problem. But if I didn't have access to change the Cl*pper NTX keys this would be an issue when a Harbour program accesses and updates.

Regards, Heinz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100331/ebd47917/attachment-0001.html

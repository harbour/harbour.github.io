From marcobra.ubuntu at gmail.com  Mon Feb  1 02:58:46 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb  1 02:58:54 2010
Subject: [Harbour] Re: hbide startup error...
In-Reply-To: <1264785075476-4481154.post@n2.nabble.com>
References: <fd76479f1001290108k66b40535tbdf8bfd9277739e@mail.gmail.com>
	<1264779081546-4480542.post@n2.nabble.com>
	<hjv2dl$1ri$1@ger.gmane.org>
	<1264785075476-4481154.post@n2.nabble.com>
Message-ID: <fd76479f1001312358t32887b19xdcd09b18fd1435d8@mail.gmail.com>

This solve the issue
http://article.gmane.org/gmane.comp.lang.harbour.devel/25952

Hth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100201/691e4c38/attachment.html
From harbour.01 at syenar.hu  Mon Feb  1 05:56:16 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  1 05:56:30 2010
Subject: [Harbour] 24 hour wait loop in telephaty
In-Reply-To: <1264984252804-4491844.post@n2.nabble.com>
References: <1264984252804-4491844.post@n2.nabble.com>
Message-ID: <B96AE427-92FE-4974-BEA0-ACFF484FE4D2@syenar.hu>

Handling zero timeout as a special case looks strange to me, 
but the only sure way to tell what to implement is to check 
how exactly telepathy works.

I'll let someone else deal with this. 

Brgds,
Viktor

On 2010 Feb 1, at 01:30, AbeB wrote:

> 
> One more tweak needed.
> 
> IF TimeOut = 0 the loops wont be executed. (it should be executed once )
> 
> 
> ABeb
> 
> 
> -- 
> View this message in context: http://n2.nabble.com/24-hour-wait-loop-in-telephaty-tp4491844p4491844.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From M.Horodyski at pzuzycie.com.pl  Mon Feb  1 07:47:31 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Feb  1 07:47:56 2010
Subject: [Harbour] New trouble with type from  MS Sql
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu>

Mindaugas, I have new error from SQL Serwer :

oErr:severity_____         2
oErr:osCode_______     65531
oErr:subsystem()__SDDODBC
oErr:subCode______      1902
oErr:description__Invalid field type
oErr:filename_____
oErr:operation____


Where/how can I try improve it (in odbcdd.c) ? :


      switch( iDataType )
      {
         case SQL_CHAR:
         case SQL_VARCHAR:
         case SQL_LONGVARCHAR:
         case SQL_WCHAR:
         // case -8:
         // case -9:
         case SQL_WVARCHAR:
         case SQL_WLONGVARCHAR:
           pFieldInfo.uiType = HB_FT_STRING;
           break;

         case SQL_TINYINT:
         case SQL_SMALLINT:
         case SQL_INTEGER:
           pFieldInfo.uiType = HB_FT_INTEGER;
           break;

         case SQL_DECIMAL:
           pFieldInfo.uiType = HB_FT_LONG;
           break;

         case SQL_REAL:
         case SQL_FLOAT:
         case SQL_DOUBLE:
           pFieldInfo.uiType = HB_FT_DOUBLE;
           break;

         case SQL_BIT:
           pFieldInfo.uiType = HB_FT_LOGICAL;
           break;

         case SQL_DATE:
         case SQL_TYPE_DATE:
           pFieldInfo.uiType = HB_FT_DATE;
           break;

         case SQL_TIME:
         case SQL_TYPE_TIME:
           pFieldInfo.uiType = HB_FT_DATE;
           break;

         /*  SQL_DATETIME = SQL_DATE = 9 */
         case SQL_TIMESTAMP:
         case SQL_TYPE_TIMESTAMP:
           pFieldInfo.uiType = HB_FT_TIMESTAMP;
           break;

         default:
           /* HB_TRACE( HB_TR_ALWAYS, ("new sql type=%d", iDataType) );
*/
           bError = TRUE;
           errCode = ( HB_ERRCODE ) iDataType;
           pFieldInfo.uiType = 0;
           pFieldInfo.uiType = HB_FT_STRING;
           break;
      }




Regards,
Marek Horodyski
From jarabal at gmail.com  Mon Feb  1 08:38:01 2010
From: jarabal at gmail.com (Xavi)
Date: Mon Feb  1 08:38:37 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
Message-ID: <4B66D939.20307@gmail.com>

Hi April,

HB_TRACEFM(), with my next commit. I'm waiting for Przemek and others are ready. ;)

> Is there a macro I can use to identify this sub-function? I could leave
> it in the code wrapped conditional code for debug only.

Yes if you have a C99 compiler, just have to redefine the macro in your code .-

#ifdef HB_TRACEFM
#  undef  HB_TRACEFM
#  define HB_TRACEFM( x )  hb_fm_xInfoEx( #x, __FILE__, __LINE__, __func__ ); x
#endif

Best regards,
Xavi

El 01/02/2010 4:00, April White escribi?:
> When my C level code does not release memory, the fm statistics reports
> this but gives the public function though in some cases the allocation
> occured in a sub-function.
>
> Is there a macro I can use to identify this sub-function? I could leave
> it in the code wrapped conditional code for debug only.
>
> April
>
From harbour.01 at syenar.hu  Mon Feb  1 08:45:23 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  1 08:45:33 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <4B66D939.20307@gmail.com>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
	<4B66D939.20307@gmail.com>
Message-ID: <9C280316-4A17-4FF0-934B-41F2053B5FA0@syenar.hu>

Hi,

> HB_TRACEFM(), with my next commit. I'm waiting for Przemek and others are ready. ;)
> 
>> Is there a macro I can use to identify this sub-function? I could leave
>> it in the code wrapped conditional code for debug only.
> 
> Yes if you have a C99 compiler, just have to redefine the macro in your code .-
> 
> #ifdef HB_TRACEFM
> #  undef  HB_TRACEFM
> #  define HB_TRACEFM( x )  hb_fm_xInfoEx( #x, __FILE__, __LINE__, __func__ ); x
> #endif

Sorry, I still don't like it in its current form, 
pls could post the complete patch for review if possible.

Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Feb  1 08:48:06 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb  1 08:48:31 2010
Subject: [Harbour] Re: USE error ?
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <4B66DB96.1020500@mail.udg.mx>

Przemek:

Something has changed for this case since Aug 2007 ?

"It mean that (in Linux) Harbour and xHarbour can not share dbf files ?"

Your last message included below

I do not found some reference for this difference between 
Harbour-xHarbour in doc\xhb-diff.txt

David Macias


On Thu, 02 Aug 2007, David Arturo Macias Corona wrote:
 > >The application which was working in background keeping dbf file open
 > >was compiled by Harbour and blocked only other Harbour processes because
 > >Harbour and xHarbour use different methods to emulate DOS/Windows DENY
 > >flags in POSIX systems.
 > It mean that (in Linux) Harbour and xHarbour can not share dbf files ?

Now. It means that POSIX systems do not have EXCLUSIVE mode.
Everything is open in SHARED mode. I added emulation for DENY
flags but it's only emulation and I created two versions for
such emulation. Harbour has both - xHarbour only one.
But if user needs real portability then he has to create code
working in SHARED mode only or sooner or later he will make
sth what breaks POSIX locks semantic, f.e. he open and close
already open file what clears all FCNTL locks set on this
file by the same process using different file handle because
kernel recognize them as pair: PID+INODE and both will be the
same.
I do not have time now for detail POSIX locks description and
what are the differences between DOS/Windows and rest of normal ;-)
world. Few years ago I sent such description to xHarbour.news
and it should be in some archive.
Probably sooner or later someone will add DOS DENY flag emulation
directly to Linux kernels for easier implementation things like SAMBA
server and in such case I'll also add it core code. Maybe it's already
happened - I haven't time to trace kernel modification in last two
years.

best regards,
Przemek



From abe.buch at att.net  Mon Feb  1 08:49:15 2010
From: abe.buch at att.net (AbeB)
Date: Mon Feb  1 08:49:22 2010
Subject: [Harbour] Re: 24 hour wait loop in telephaty
In-Reply-To: <B96AE427-92FE-4974-BEA0-ACFF484FE4D2@syenar.hu>
References: <1264984252804-4491844.post@n2.nabble.com>
	<B96AE427-92FE-4974-BEA0-ACFF484FE4D2@syenar.hu>
Message-ID: <1265032155259-4494447.post@n2.nabble.com>


Hi Viktor,

Just replace  lines comparing nTimeout to < 0 to <=0

           ( nTimeout < 0 .OR. ( hb_milliSeconds() - nStartTime ) < nTimeout
) 
to
           ( nTimeout <= 0 .OR. ( hb_milliSeconds() - nStartTime ) <
nTimeout )


and add at the end of the loop, just before the EndDo

if nTimeout = 0
    exit
endif

it's in 
tp_recv
tp_send
tp_recvto
tp_flush


Thanks
AbeB
-- 
View this message in context: http://n2.nabble.com/24-hour-wait-loop-in-telephaty-tp4491844p4494447.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From M.Horodyski at pzuzycie.com.pl  Mon Feb  1 09:14:55 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Feb  1 09:15:11 2010
Subject: [Harbour] New trouble with type from  MS Sql
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D2807F@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Monday, February 01, 2010 1:48 PM
>To: Harbour Project Main Developer List.
>Subject: [Harbour] New trouble with type from MS Sql
>
>Mindaugas, I have new error from SQL Serwer :
>
>oErr:severity_____         2
>oErr:osCode_______     65531
>oErr:subsystem()__SDDODBC
>oErr:subCode______      1902
>oErr:description__Invalid field type
>oErr:filename_____
>oErr:operation____

Here are datatypes from this table :

ID_PODMIOT, bigint
ID_UBEZPIECZAJACY, bigint
NIP, nvarchar(10)
REGON, nvarchar(14)
NAZWA, nvarchar(255)
ID_SYSTEM_ZRODLOWY, nvarchar(8)
NJS, nvarchar(7)

I think the problem is bigint.
which add to \harbour\contrib\rddsql\sddodbc\odbcdd.c :

...
         case SQL_TINYINT:
         case SQL_SMALLINT:
         case SQL_INTEGER:
           pFieldInfo.uiType = HB_FT_INTEGER;
           break;

         case SQL_DECIMAL:
           pFieldInfo.uiType = HB_FT_LONG;
           break;

         case SQL_REAL:
         case SQL_FLOAT:
         case SQL_DOUBLE:
           pFieldInfo.uiType = HB_FT_DOUBLE;
           break;
...

????

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Mon Feb  1 09:18:41 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  1 09:18:51 2010
Subject: [Harbour] Re: USE error ?
In-Reply-To: <4B66DB96.1020500@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<4B66DB96.1020500@mail.udg.mx>
Message-ID: <CD5882FB-940E-48F0-9266-85B2207D0A4F@syenar.hu>

Hi,

Related to this: My app doesn't need exclusive mode, 
but there are still a few typical places where it is 
used: pack and reindex (and structure change) operations.
 
If POSIX doesn't support exclusive access, what is the 
recommended way to open a table for above operations 
if I want to avoid issues in multiuser scenarios?

Brgds,
Viktor

On 2010 Feb 1, at 14:48, David Arturo Macias Corona wrote:

> Przemek:
> 
> Something has changed for this case since Aug 2007 ?
> 
> "It mean that (in Linux) Harbour and xHarbour can not share dbf files ?"
> 
> Your last message included below
> 
> I do not found some reference for this difference between Harbour-xHarbour in doc\xhb-diff.txt
> 
> David Macias
> 
> 
> On Thu, 02 Aug 2007, David Arturo Macias Corona wrote:
> > >The application which was working in background keeping dbf file open
> > >was compiled by Harbour and blocked only other Harbour processes because
> > >Harbour and xHarbour use different methods to emulate DOS/Windows DENY
> > >flags in POSIX systems.
> > It mean that (in Linux) Harbour and xHarbour can not share dbf files ?
> 
> Now. It means that POSIX systems do not have EXCLUSIVE mode.
> Everything is open in SHARED mode. I added emulation for DENY
> flags but it's only emulation and I created two versions for
> such emulation. Harbour has both - xHarbour only one.
> But if user needs real portability then he has to create code
> working in SHARED mode only or sooner or later he will make
> sth what breaks POSIX locks semantic, f.e. he open and close
> already open file what clears all FCNTL locks set on this
> file by the same process using different file handle because
> kernel recognize them as pair: PID+INODE and both will be the
> same.
> I do not have time now for detail POSIX locks description and
> what are the differences between DOS/Windows and rest of normal ;-)
> world. Few years ago I sent such description to xHarbour.news
> and it should be in some archive.
> Probably sooner or later someone will add DOS DENY flag emulation
> directly to Linux kernels for easier implementation things like SAMBA
> server and in such case I'll also add it core code. Maybe it's already
> happened - I haven't time to trace kernel modification in last two
> years.
> 
> best regards,
> Przemek
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Feb  1 09:21:10 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  1 09:21:19 2010
Subject: [Harbour] Re: 24 hour wait loop in telephaty
In-Reply-To: <1265032155259-4494447.post@n2.nabble.com>
References: <1264984252804-4491844.post@n2.nabble.com>
	<B96AE427-92FE-4974-BEA0-ACFF484FE4D2@syenar.hu>
	<1265032155259-4494447.post@n2.nabble.com>
Message-ID: <CA336ABC-0E99-41A9-A9BB-E70D1D4011C0@syenar.hu>

Sorry, due to non-Harbour things, I can't do this now, 
not to mention testing or any sort of deeper involvement.

Brgds,
Viktor

On 2010 Feb 1, at 14:49, AbeB wrote:

> 
> Hi Viktor,
> 
> Just replace  lines comparing nTimeout to < 0 to <=0
> 
>           ( nTimeout < 0 .OR. ( hb_milliSeconds() - nStartTime ) < nTimeout
> ) 
> to
>           ( nTimeout <= 0 .OR. ( hb_milliSeconds() - nStartTime ) <
> nTimeout )
> 
> 
> and add at the end of the loop, just before the EndDo
> 
> if nTimeout = 0
>    exit
> endif
> 
> it's in 
> tp_recv
> tp_send
> tp_recvto
> tp_flush
> 
> 
> Thanks
> AbeB
> -- 
> View this message in context: http://n2.nabble.com/24-hour-wait-loop-in-telephaty-tp4491844p4494447.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vailtom at gmail.com  Mon Feb  1 09:25:44 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Feb  1 09:26:11 2010
Subject: [Harbour] hbct FILEATTR() function not working.
In-Reply-To: <609353e71001300944h456e20abmdcce67c983018aba@mail.gmail.com>
References: <674e4ddd1001300119h4d38de75o3b5fb5d6892b52dc@mail.gmail.com> 
	<E2EDBE65-D079-4690-B0D4-86DC9A3055F9@syenar.hu>
	<SNT102-W44231FC5F0A3E97F46125AD55A0@phx.gbl> 
	<C62A6BD8-FA68-422F-8DB9-2286FD8BA3AB@syenar.hu>
	<674e4ddd1001300708s420add02xbd9b0183c5d43ade@mail.gmail.com> 
	<96560735-FB79-44DC-81C8-A3E16936BF36@syenar.hu>
	<609353e71001300902n58d6aa3cva97f94f2abcbf1dd@mail.gmail.com> 
	<A02726E8-A5B4-48B5-834B-0DF0CB53CB46@syenar.hu>
	<609353e71001300944h456e20abmdcce67c983018aba@mail.gmail.com>
Message-ID: <531d7a751002010625v10c1b326sbb6dcd1492928c51@mail.gmail.com>

Hi!

I've been working on the documentation of the functions of HB based on
the latest changes made by April White hbdoc2. At this stage, I am
reformulating the main site to add  an online search like as
php.net... But still documented a few routines to help me in reviewing
the site.

If the documentation project following the steps of hbdoc/hbdoc2 my
work can be upgraded to help this direction.

Regards,
Vailton Renato
From dbtopas at dbtopas.lt  Mon Feb  1 09:28:13 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Feb  1 09:30:17 2010
Subject: [Harbour] New trouble with type from  MS Sql
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu>
Message-ID: <4B66E4FD.6050901@dbtopas.lt>

Hi,


Horodyski Marek (PZUZ) wrote:
> Mindaugas, I have new error from SQL Serwer :
> oErr:osCode_______     65531

65531 ~ -5
It is SQL_BIGINT.


> Where/how can I try improve it (in odbcdd.c) ? :
> ...
>          case SQL_TINYINT:
>          case SQL_SMALLINT:
>          case SQL_INTEGER:
>            pFieldInfo.uiType = HB_FT_INTEGER;
>            break;

Try to add the fourth case sentence:
    case SQL_BIGINT:

But I do not know how big is this "bigint" value. Please, try uncomment 
debug line:
    HB_TRACE( HB_TR_ALWAYS, ("field: name=%s type=%d len=%d dec=%d 
null=%d", pFieldInfo.atomName, iDataType, uiSize, iDec, iNull ) );
and report result for bigint filed type.

Testing of "big" values (larger that +/- 2^32) is also required to make 
support for bigint complete. Perhaps we will need to adjust code:

    case HB_FT_INTEGER:
    {
       long int  val = 0;
       if( SQL_SUCCEEDED( res = SQLGetData( hStmt, ui, SQL_C_LONG, &val, 
sizeof( val ), &iLen ) ) )
       {
          pItem = hb_itemPutNLLen( NULL, val, pField->uiLen );
       }
       break;
    }

to support all range of bigint values.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Feb  1 10:10:00 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  1 10:10:11 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
Message-ID: <22A4351D-D89E-4014-AB63-F73EB196AC4D@syenar.hu>

Hi April,

Under Ubuntu you can use valgrind to find out the exact locations 
of leaked allocations. Check the debugging section in INSTALL.

Brgds,
Viktor

On 2010 Feb 1, at 04:00, April White wrote:

> When my C level code does not release memory, the fm statistics reports this but gives the public function though in some cases the allocation occured in a sub-function.  
> 
> Is there a macro I can use to identify this sub-function?  I could leave it in the code wrapped conditional code for debug only.  
> 
> April
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Mon Feb  1 11:36:12 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Feb  1 11:36:19 2010
Subject: [Harbour] Help with segfaults with MT and hb_hrbload
Message-ID: <9257026e1002010836l5773bd47m18c4025e579fed62@mail.gmail.com>

I'm trying to move an ST http embedded server to MT.
The ST version work since years  and it mainly load and execute HRBs.

The problem began if I ask for a multiple request.

What I mean is that:

ab -n30 -c1 http://localhost:8089/test.hrb OK
ab -n30 -c2 http://localhost:8089/test.hrb ERRORS like:

Unrecoverable error 6005: Exception SIGSEGV at address 0x20202020
Called from HRBMAIN(62) in pcode.hrb
Called from PROCESSCALL(617) in ../dbl/httpsrvm.prg

Unrecoverable error 9014: Unsupported VM opcode
Called from HRBMAIN(106) in pcode.hrb
Called from PROCESSCALL(617) in ../dbl/httpsrvm.prg

Unrecoverable error 6005: Exception SIGSEGV at address (nil)
Called from HRBMAIN(106) in pcode.hrb
Called from PROCESSCALL(617) in ../dbl/httpsrvm.prg

Unrecoverable error 6005: Exception SIGSEGV at address 0xd
Called from __MVPUBLIC(0)
Called from PROCESSCALL(453) in ../dbl/httpsrvm.prg

Am I missing sth?

The code is like:

...
   elseif cExt == ".hrb"
      cBinFile := oServer:cBinRoot + cName + cExt
      if !file( cBinFile )
         oResponse:Flush( 404, "Not found", "text/html", "404 File: "
+ cBinFile + " not found" )
      else
         begin sequence with { |e| LogError( e, oResponse, cBinFile ) }
            if !empty( pHRB := hb_hrbload( cBinFile ) )
               xResult := hrbmain()
               if ISCHARACTER( xResult )
                  oResponse:Flush( 200, "OK",, xResult )
               endif
            endif
         always
            if !empty( pHRB )
               hb_hrbunload( pHRB )
            endif
         endsequence
      endif
...

best regards,
Lorenzo
From M.Horodyski at pzuzycie.com.pl  Mon Feb  1 12:26:58 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Feb  1 12:27:13 2010
Subject: [Harbour] New trouble with type from  MS Sql
In-Reply-To: <4B66E4FD.6050901@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu>
	<4B66E4FD.6050901@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D280F5@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Monday, February 01, 2010 3:28 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] New trouble with type from MS Sql
>
>Hi,
>
>
>Horodyski Marek (PZUZ) wrote:
>> Mindaugas, I have new error from SQL Serwer :
>> oErr:osCode_______     65531
>
>65531 ~ -5
>It is SQL_BIGINT.
>
>
>> Where/how can I try improve it (in odbcdd.c) ? :
>> ...
>>          case SQL_TINYINT:
>>          case SQL_SMALLINT:
>>          case SQL_INTEGER:
>>            pFieldInfo.uiType = HB_FT_INTEGER;
>>            break;
>
>Try to add the fourth case sentence:
>    case SQL_BIGINT:

After this dbStruct is returned :

{
...
{"NJS", "C", 7, 0}, {"POK", "C", 4, 0}, 
{"ODDZIAL", "C", 4, 0}, 
{"DATA_ZAWARCIA", "@", 23, 3}, 
{"DATA_ZAKONCZENIA", "@", 23, 3},
{"ID_UBEZPIECZAJACY", "I", 19, 0},   // <== this field was BIGINT
...
}


>But I do not know how big is this "bigint" value. Please, try 
>uncomment debug line:
>    HB_TRACE( HB_TR_ALWAYS, ("field: name=%s type=%d len=%d 
>dec=%d null=%d", pFieldInfo.atomName, iDataType, uiSize, iDec, 
>iNull ) ); and report result for bigint filed type.

Afther this I don't see any new file.
I can read selects from MS SQL RDBMS :)
Big thanks !

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Mon Feb  1 12:31:56 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  1 12:32:06 2010
Subject: [Harbour] New trouble with type from  MS Sql
In-Reply-To: <4B66E4FD.6050901@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu>
	<4B66E4FD.6050901@dbtopas.lt>
Message-ID: <FD606C64-F469-413E-81D5-D285DE9B9240@syenar.hu>

> Try to add the fourth case sentence:
>   case SQL_BIGINT:
> 
> But I do not know how big is this "bigint" value. Please, try uncomment debug line:
>   HB_TRACE( HB_TR_ALWAYS, ("field: name=%s type=%d len=%d dec=%d null=%d", pFieldInfo.atomName, iDataType, uiSize, iDec, iNull ) );
> and report result for bigint filed type.
> 
> Testing of "big" values (larger that +/- 2^32) is also required to make support for bigint complete. Perhaps we will need to adjust code:
> 
>   case HB_FT_INTEGER:
>   {
>      long int  val = 0;
>      if( SQL_SUCCEEDED( res = SQLGetData( hStmt, ui, SQL_C_LONG, &val, sizeof( val ), &iLen ) ) )
>      {
>         pItem = hb_itemPutNLLen( NULL, val, pField->uiLen );
>      }
>      break;
>   }
> 
> to support all range of bigint values.

It's 64-bit signed integer. (confirmed from multiple sources)

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Mon Feb  1 12:45:54 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Feb  1 12:46:05 2010
Subject: [Harbour] New trouble with type from  MS Sql
In-Reply-To: <4B66E4FD.6050901@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu>
	<4B66E4FD.6050901@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D280F8@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Monday, February 01, 2010 3:28 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] New trouble with type from MS Sql
>
>Hi,
>
>
>Horodyski Marek (PZUZ) wrote:
>> Mindaugas, I have new error from SQL Serwer :
>> oErr:osCode_______     65531
>
>65531 ~ -5
>It is SQL_BIGINT.
>
>
>> Where/how can I try improve it (in odbcdd.c) ? :
>> ...
>>          case SQL_TINYINT:
>>          case SQL_SMALLINT:
>>          case SQL_INTEGER:
>>            pFieldInfo.uiType = HB_FT_INTEGER;
>>            break;
>
>Try to add the fourth case sentence:
>    case SQL_BIGINT:

Now (after this change), when I close this select (anther is quit without error), have I :


--------------------------------------------------------------------------------------------
Application Internal Error - c:\noweprod\exe\homar_cbki.exe
Terminated at: 2010.02.01 18:32:04
Nienaprawialny b??d nr 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:0046BF51
    EAX:7FBE000C  EBX:00000000  ECX:00000000  EDX:7EF6000C
    ESI:014A09C4  EDI:00000000  EBP:014A09C4
    CS:EIP:001B:0046BF51  SS:ESP:0023:0022F600
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010246
    CS:EIP: F6 04 18 02 74 EB 8B 04 9A 43 89 04 24 E8 FD EB
    SS:ESP: 014A09C4 00000000 7E3A396F 014A09C4 00000002 014A09C4 00000002 00467D4C 014A09C4 0123AA94 00000001 0040C203 0022F704 00852B0C 00852B0C 0067E76E

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x00463000 c:\noweprod\exe\homar_cbki.exe
0x7C900000 0x000B4000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000FD000 C:\WINDOWS\system32\kernel32.dll
0x77DC0000 0x000AC000 C:\WINDOWS\system32\ADVAPI32.DLL
0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll
0x5D520000 0x0009A000 C:\WINDOWS\system32\COMCTL32.DLL
0x77F10000 0x00049000 C:\WINDOWS\system32\GDI32.dll
0x7E360000 0x00091000 C:\WINDOWS\system32\USER32.dll
0x77C00000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x74600000 0x0003D000 C:\WINDOWS\system32\ODBC32.dll
0x76380000 0x00049000 C:\WINDOWS\system32\comdlg32.dll
0x7C9C0000 0x0081E000 C:\WINDOWS\system32\SHELL32.dll
0x77F60000 0x00076000 C:\WINDOWS\system32\SHLWAPI.dll
0x774D0000 0x0013D000 C:\WINDOWS\system32\OLE32.dll
0x77110000 0x0008B000 C:\WINDOWS\system32\OLEAUT32.DLL
0x72F90000 0x00026000 C:\WINDOWS\system32\WINSPOOL.DRV
0x76360000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x773C0000 0x00103000 C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.2600.5512_x-ww_35d4ce83\comctl32.dll
0x1F840000 0x00018000 C:\WINDOWS\system32\odbcint.dll
0x76350000 0x00005000 C:\WINDOWS\system32\msimg32.dll
0x5B1D0000 0x00038000 C:\WINDOWS\system32\uxtheme.dll
0x746D0000 0x0004C000 C:\WINDOWS\system32\MSCTF.dll
0x75180000 0x0002E000 C:\WINDOWS\system32\msctfime.ime
0x10000000 0x00008000 C:\Program Files\Gadu-Gadu\ggwhook.dll
0x4E4A0000 0x0006C000 C:\WINDOWS\System32\SQLSRV32.dll
0x6FF40000 0x00055000 C:\WINDOWS\System32\NETAPI32.dll
0x5C620000 0x0002D000 C:\WINDOWS\System32\SQLUNIRL.dll
0x77BF0000 0x00008000 C:\WINDOWS\system32\VERSION.dll
0x75910000 0x00008000 C:\WINDOWS\system32\NDDEAPI.DLL
0x1FA30000 0x00017000 C:\WINDOWS\System32\sqlsrv32.rll
0x5E3E0000 0x0001B000 C:\WINDOWS\system32\odbccp32.dll
0x6DA30000 0x0001B000 C:\WINDOWS\system32\DBNETLIB.DLL
0x71A70000 0x0000A000 C:\WINDOWS\system32\WSOCK32.dll
0x71A50000 0x00017000 C:\WINDOWS\system32\WS2_32.dll
0x71A40000 0x00008000 C:\WINDOWS\system32\WS2HELP.dll
0x71F30000 0x00004000 C:\WINDOWS\system32\security.dll
0x77C60000 0x00025000 C:\WINDOWS\system32\msv1_0.dll
0x76770000 0x0000C000 C:\WINDOWS\system32\cryptdll.dll
0x76D50000 0x00019000 C:\WINDOWS\system32\iphlpapi.dll
0x76780000 0x00013000 C:\WINDOWS\system32\ntdsapi.dll
0x76F10000 0x00027000 C:\WINDOWS\system32\DNSAPI.dll
0x76F50000 0x0002D000 C:\WINDOWS\system32\WLDAP32.dll
0x77A70000 0x00096000 C:\WINDOWS\system32\crypt32.dll
0x77B10000 0x00012000 C:\WINDOWS\system32\MSASN1.dll
0x55600000 0x0001D000 C:\Program Files\Microsoft Firewall Client\wspwsp.dll
0x719F0000 0x00040000 C:\WINDOWS\system32\mswsock.dll
0x66780000 0x00058000 C:\WINDOWS\system32\hnetcfg.dll
0x71A30000 0x00008000 C:\WINDOWS\System32\wshtcpip.dll
0x76FA0000 0x00008000 C:\WINDOWS\System32\winrnr.dll
0x66210000 0x00009000 C:\WINDOWS\system32\netware\NWWS2NDS.DLL
0x50D50000 0x00047000 C:\WINDOWS\system32\NETWIN32.DLL
0x50D00000 0x00015000 C:\WINDOWS\system32\CLNWIN32.DLL
0x50DF0000 0x00020000 C:\WINDOWS\system32\LOCWIN32.DLL
0x50DB0000 0x0002B000 C:\WINDOWS\system32\NCPWIN32.dll
0x66220000 0x0000C000 C:\WINDOWS\system32\netware\NWWS2SLP.DLL
0x1C000000 0x00007000 C:\WINDOWS\system32\NWSRVLOC.dll
0x16080000 0x00025000 C:\Program Files\Bonjour\mdnsNSP.dll
0x76FB0000 0x00006000 C:\WINDOWS\system32\rasadhlp.dll
0x767D0000 0x00028000 C:\WINDOWS\system32\schannel.dll
0x769A0000 0x000B5000 C:\WINDOWS\system32\USERENV.dll
0x68000000 0x00036000 C:\WINDOWS\system32\rsaenh.dll
0x68100000 0x00026000 C:\WINDOWS\system32\dssenh.dll

Called from DBCLOSEALL(0)
Called from (b)KOMPILATOR(349) in kompilat.prg
Called from BOSS(143) in boss.prg
Called from (b)KOMPILATOR(349) in kompilat.prg
Called from BOSS(143) in boss.prg
Called from KODKLAW(0) in KODKLAW.PRG
Called from OPCJA(0) in OPCJA.PRG
Called from (b)KOMPILATOR(349) in kompilat.prg
Called from BOSS(143) in boss.prg
Called from MAIN(269) in homar.prg
------------------------------------------------------------------------

Regards,
Marek Horodyski
From april_white at sympatico.ca  Mon Feb  1 13:40:01 2010
From: april_white at sympatico.ca (April White)
Date: Mon Feb  1 13:40:08 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <22A4351D-D89E-4014-AB63-F73EB196AC4D@syenar.hu>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>,
	<22A4351D-D89E-4014-AB63-F73EB196AC4D@syenar.hu>
Message-ID: <SNT109-W6521BEE4D843ACFB0789C9EF580@phx.gbl>


You may recall my email from about a week ago about my Ubuntu machine.  I'm (re)installed 9.10 with the same results that it does not boot.  I do not know enough about linux / ubuntu to know whether it is a bug or a hardware failure.  Because the installation has no failures it says to me it is a bug not hardware.

Thank you!

April

p.s.  I've found a work around for the runtime error in the btree code, but I do not know 'why' is it happening.  More work to do.


> Subject: Re: [Harbour] Debugging c code
> From: harbour.01@syenar.hu
> Date: Mon, 1 Feb 2010 16:10:00 +0100
> To: harbour@harbour-project.org
> 
> Hi April,
> 
> Under Ubuntu you can use valgrind to find out the exact locations 
> of leaked allocations. Check the debugging section in INSTALL.

> On 2010 Feb 1, at 04:00, April White wrote:
> 
> > When my C level code does not release memory, the fm statistics reports this but gives the public function though in some cases the allocation occured in a sub-function.  
> > 
> > Is there a macro I can use to identify this sub-function?  I could leave it in the code wrapped conditional code for debug only.  
> > 
> > April
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100201/ad2aa40d/attachment.html
From lorenzo.fiorini at gmail.com  Mon Feb  1 14:04:15 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Feb  1 14:04:23 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
Message-ID: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>

Continuing in my MT path this is what I get from code that work since years ST:

double free or corruption (!prev): 0x0a05bd48 ***
======= Backtrace: =========
/lib/tls/i686/cmov/libc.so.6[0xb7a89604]
/lib/tls/i686/cmov/libc.so.6(cfree+0x96)[0xb7a8b5b6]
/usr/lib/libpq.so.5(PQclear+0x30)[0xb7b88420]
/usr/lib/libpq.so.5[0xb7b8849c]
/usr/lib/libpq.so.5[0xb7b8ae52]
/usr/lib/libpq.so.5[0xb7b932dd]
/usr/lib/libpq.so.5[0xb7b89288]
/usr/lib/libpq.so.5(PQgetResult+0xb1)[0xb7b8af51]
/usr/lib/libpq.so.5[0xb7b8b163]
/opt/harbour/lib/libhbpgsql.so(HB_FUN_PQEXEC+0x70)[0xb7ba5120]
/opt/harbour/lib/libharbourmt.so(hb_vmProc+0x4a)[0xb7d4ae3a]
/opt/harbour/lib/libharbourmt.so(hb_vmExecute+0x2626)[0xb7d1cdd6]
/opt/harbour/lib/libhbpgsql.so[0xb7ba2c4a]
/opt/harbour/lib/libharbourmt.so(hb_vmSend+0x82)[0xb7d20082]

Where should I start to look?

best regards,
Lorenzo
From tech at 2dinfo.com.br  Mon Feb  1 20:03:45 2010
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Mon Feb  1 20:04:19 2010
Subject: [Harbour] How to avoid terminal window using hbide/hbmk2 under
	windows
Message-ID: <23A659C78C92492DBB68D4E6E190A66D@NoteLeo>

Hello,
I'm working on a new Win32 gui lib for Harbour and when I link an aplication using hbide (hbmk2) it calls a empty black terminal window behind my main window.
How do I avoid it?
Thanks 
Leandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100201/7d35fa1b/attachment.html
From maurilio.longo at libero.it  Tue Feb  2 02:50:31 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb  2 02:50:42 2010
Subject: [Harbour] hb_QWith()/with object inside macro compiler
Message-ID: <4B67D947.3000704@libero.it>

Hi,

I'm trying to rebuild a project of mine with harbour (it was developed with
xharbour) but I'm facing a problem, it seems that an object I'm accessing with
 a "with object xxx" does not work inside macro compiler.

Example:

with object MyObject

    &( "{|| x := :MyMethod() }" )

end

It gives a syntax error &

This is code which has been working for years, so maybe I'm overlooking
something, but before I start digging deeper I'd like to know better about
this issue.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From alcisoft at arrakis.es  Tue Feb  2 03:33:29 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Tue Feb  2 03:37:32 2010
Subject: [Harbour] Re: How to avoid terminal window using hbide/hbmk2
	underwindows
References: <23A659C78C92492DBB68D4E6E190A66D@NoteLeo>
Message-ID: <hk8o6g$bv1$1@ger.gmane.org>

On borland linker use -aa linker option.
Leandro Damasio escribi? en mensaje <23A659C78C92492DBB68D4E6E190A66D@NoteLeo>...
    Hello,
    I'm working on a new Win32 gui lib for Harbour and when I link an aplication using hbide (hbmk2) it calls a empty black terminal window behind my main window.
    How do I avoid it?
    Thanks 
    Leandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100202/f8eead76/attachment-0001.html
From harbour.01 at syenar.hu  Tue Feb  2 03:49:28 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  2 03:49:41 2010
Subject: [Harbour] How to avoid terminal window using hbide/hbmk2 under
	windows
In-Reply-To: <23A659C78C92492DBB68D4E6E190A66D@NoteLeo>
References: <23A659C78C92492DBB68D4E6E190A66D@NoteLeo>
Message-ID: <676FEEEB-A65F-4A6F-84C0-9D569E06551D@syenar.hu>

It's enough to copy the solution from any existing 
win32 gui lib; the option needed is -gtgui (or gt=gtgui 
setting for .hbc files).

Brgds,
Viktor

On 2010 Feb 2, at 02:03, Leandro Damasio wrote:

> Hello,
> I'm working on a new Win32 gui lib for Harbour and when I link an aplication using hbide (hbmk2) it calls a empty black terminal window behind my main window.
> How do I avoid it?
> Thanks
> Leandro
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From M.Horodyski at pzuzycie.com.pl  Tue Feb  2 04:17:33 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Feb  2 04:17:50 2010
Subject: [Harbour] New trouble with type from  MS Sql
In-Reply-To: <FD606C64-F469-413E-81D5-D285DE9B9240@syenar.hu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu><4B66E4FD.6050901@dbtopas.lt>
	<FD606C64-F469-413E-81D5-D285DE9B9240@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D281AF@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Monday, February 01, 2010 6:32 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] New trouble with type from MS Sql
>
>> Try to add the fourth case sentence:
>>   case SQL_BIGINT:
>> 
>> But I do not know how big is this "bigint" value. Please, 
>try uncomment debug line:
>>   HB_TRACE( HB_TR_ALWAYS, ("field: name=%s type=%d len=%d dec=%d 
>> null=%d", pFieldInfo.atomName, iDataType, uiSize, iDec, 
>iNull ) ); and report result for bigint filed type.
>> 
>> Testing of "big" values (larger that +/- 2^32) is also 
>required to make support for bigint complete. Perhaps we will 
>need to adjust code:
>> 
>>   case HB_FT_INTEGER:
>>   {
>>      long int  val = 0;
>>      if( SQL_SUCCEEDED( res = SQLGetData( hStmt, ui, 
>SQL_C_LONG, &val, sizeof( val ), &iLen ) ) )
>>      {
>>         pItem = hb_itemPutNLLen( NULL, val, pField->uiLen );
>>      }
>>      break;
>>   }
>> 
>> to support all range of bigint values.
>
>It's 64-bit signed integer. (confirmed from multiple sources)

I do not know how to properly do so should this amendment.
Meanwhile, I have an error when closing the query.

Regards,
Marek Horodyski
From maurilio.longo at libero.it  Tue Feb  2 05:08:04 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb  2 05:08:18 2010
Subject: [Harbour] hb_QWith()/with object inside macro compiler
In-Reply-To: <4B67D947.3000704@libero.it>
References: <4B67D947.3000704@libero.it>
Message-ID: <4B67F984.1010506@libero.it>

Hi,

here a little test sample, I've built it from the logic of my app, but it
should be enough.

----------8<----------------
#include "hbclass.ch"

class test
   method New()
   method Num()
endclass

method new() class test
return self

method num() class test
return 1


function main()

   private oT := Test():New()
   private x := 0

    with object oT
      &( "x := :Num()" )
    end

    ? x

return
------------>8----------------

Adding hb_QWith() before :Num() it works, xharbour does not require this and
it comes really handy, I'm using this with an interpreter to have a dynamic
web page where .prg code is mixed with html and can output code calling a
method of an object which abstracts the CGI interface like in

:cgiOut( "...." )

or get an envvar with

myvar := :Server_Name

and so on.

Is it possible to have such capability inside harbour macro compiler?

Maurilio.

Maurilio Longo wrote:
> Hi,
> 
> I'm trying to rebuild a project of mine with harbour (it was developed with
> xharbour) but I'm facing a problem, it seems that an object I'm accessing with
>  a "with object xxx" does not work inside macro compiler.
> 
> Example:
> 
> with object MyObject
> 
>     &( "{|| x := :MyMethod() }" )
> 
> end
> 
> It gives a syntax error &
> 
> This is code which has been working for years, so maybe I'm overlooking
> something, but before I start digging deeper I'd like to know better about
> this issue.
> 
> Maurilio.
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From sscc at mweb.co.za  Tue Feb  2 05:37:12 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Feb  2 05:37:17 2010
Subject: [Harbour] DBF encryption
In-Reply-To: <20100129080638.GB30236@linux-4bod.home.aster.pl>
References: <4B56ED2F.4020105@mweb.co.za>
	<20100129080638.GB30236@linux-4bod.home.aster.pl>
Message-ID: <4B680058.9080604@mweb.co.za>

Przemys?aw Czerpak wrote:

> If you want to change password then you have to decrypt the table
> and then encrypt it again with new password.

What do you think of issuing a RTE if you try and encrypt an encrypted database, 
it seems better than a silent fail?

Similarly, what do you think of a RTE when using APPEND FROM with databases that 
are not encrypted/decrypted in synch?

Regards
Alex



From tech at 2dinfo.com.br  Tue Feb  2 06:55:49 2010
From: tech at 2dinfo.com.br (2D Info)
Date: Tue Feb  2 05:56:29 2010
Subject: [Harbour] How to avoid terminal window using hbide/hbmk2
	underwindows
In-Reply-To: <676FEEEB-A65F-4A6F-84C0-9D569E06551D@syenar.hu>
References: <23A659C78C92492DBB68D4E6E190A66D@NoteLeo>
	<676FEEEB-A65F-4A6F-84C0-9D569E06551D@syenar.hu>
Message-ID: <53C05E13B4A945369DD3F5947DF83DDC@deskleo>

Solved!
Thank you !
Brgds
Leandro
--------------------------------------------------
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
Sent: Tuesday, February 02, 2010 5:49 AM
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Subject: Re: [Harbour] How to avoid terminal window using hbide/hbmk2 
underwindows

> It's enough to copy the solution from any existing
> win32 gui lib; the option needed is -gtgui (or gt=gtgui
> setting for .hbc files).
>
> Brgds,
> Viktor
>
> On 2010 Feb 2, at 02:03, Leandro Damasio wrote:
>
>> Hello,
>> I'm working on a new Win32 gui lib for Harbour and when I link an 
>> aplication using hbide (hbmk2) it calls a empty black terminal window 
>> behind my main window.
>> How do I avoid it?
>> Thanks
>> Leandro
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From dbtopas at dbtopas.lt  Tue Feb  2 06:00:23 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Feb  2 06:02:25 2010
Subject: [Harbour] New trouble with type from  MS Sql
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D281AF@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu><4B66E4FD.6050901@dbtopas.lt>	<FD606C64-F469-413E-81D5-D285DE9B9240@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502D281AF@PINK.zycie.pzu>
Message-ID: <4B6805C7.50805@dbtopas.lt>

Hi, Marek,


Horodyski Marek (PZUZ) wrote:
>> It's 64-bit signed integer. (confirmed from multiple sources)
> 
> I do not know how to properly do so should this amendment.
> Meanwhile, I have an error when closing the query.

For sure code should be fixed to obtain large values if this is 64-bit 
int type, but I see no reason to GPF on area close. GPF should not be 
related to bigint. I guess different versions of harbour/rddsql code is 
mixed. Can you comment case SQL_BIGINT: and test if area closes with 
error? Or do not use bigint type in table and check area close.


Regards,
Mindaugas

From M.Horodyski at pzuzycie.com.pl  Tue Feb  2 06:53:17 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Feb  2 06:53:33 2010
Subject: [Harbour] New trouble with type from  MS Sql
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D280F8@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu><4B66E4FD.6050901@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502D280F8@PINK.zycie.pzu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D8C78E@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Monday, February 01, 2010 6:46 PM
>To: Harbour Project Main Developer List.
>Subject: RE: [Harbour] New trouble with type from MS Sql
>
>>-----Original Message-----
>>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt]

...

>>>          case SQL_TINYINT:
>>>          case SQL_SMALLINT:
>>>          case SQL_INTEGER:
>>>            pFieldInfo.uiType = HB_FT_INTEGER;
>>>            break;
>>
>>Try to add the fourth case sentence:
>>    case SQL_BIGINT:
>
>Now (after this change), when I close this select (anther is 
>quit without error), have I :
>
>
>---------------------------------------------------------------
>-----------------------------
>Application Internal Error - c:\noweprod\exe\homar_cbki.exe 
>Terminated at: 2010.02.01 18:32:04 Nienaprawialny b??d nr 
>6005: Exception error: 
>
>    Exception Code:C0000005
>    Exception Address:0046BF51
>    EAX:7FBE000C  EBX:00000000  ECX:00000000  EDX:7EF6000C
>    ESI:014A09C4  EDI:00000000  EBP:014A09C4
>    CS:EIP:001B:0046BF51  SS:ESP:0023:0022F600
>    DS:0023  ES:0023  FS:003B  GS:0000
>    Flags:00010246
>    CS:EIP: F6 04 18 02 74 EB 8B 04 9A 43 89 04 24 E8 FD EB
>    SS:ESP: 014A09C4 00000000 7E3A396F 014A09C4 00000002 
>014A09C4 00000002 00467D4C 014A09C4 0123AA94 00000001 0040C203 
>0022F704 00852B0C 00852B0C 0067E76E
>
>    C stack:
>    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
>
>
>Modules:
>0x00400000 0x00463000 c:\noweprod\exe\homar_cbki.exe 
[...]
>
>Called from DBCLOSEALL(0)
>Called from (b)KOMPILATOR(349) in kompilat.prg Called from 
>BOSS(143) in boss.prg Called from (b)KOMPILATOR(349) in 
>kompilat.prg Called from BOSS(143) in boss.prg Called from 
>KODKLAW(0) in KODKLAW.PRG Called from OPCJA(0) in OPCJA.PRG 
>Called from (b)KOMPILATOR(349) in kompilat.prg Called from 
>BOSS(143) in boss.prg Called from MAIN(269) in homar.prg
>---------------------------------------------------------------

Strangely, today dbCloseAll(), already 2 times without error - and yesterday, every time.
Query has hundreds of thousands records, and everything works ok. :)

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Tue Feb  2 10:25:46 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 10:25:53 2010
Subject: [Harbour] hb_QWith()/with object inside macro compiler
In-Reply-To: <4B67D947.3000704@libero.it>
References: <4B67D947.3000704@libero.it>
Message-ID: <20100202152545.GA10503@linux-4bod.home.aster.pl>

On Tue, 02 Feb 2010, Maurilio Longo wrote:

Hi,

> I'm trying to rebuild a project of mine with harbour (it was developed with
> xharbour) but I'm facing a problem, it seems that an object I'm accessing with
>  a "with object xxx" does not work inside macro compiler.
> Example:
> with object MyObject
>     &( "{|| x := :MyMethod() }" )
> end
> It gives a syntax error &

Yes, it is. It's intentional.

> This is code which has been working for years, so maybe I'm overlooking
> something, but before I start digging deeper I'd like to know better about
> this issue.

It works only with xHarbour. I can make it working with Harbour too
but in fact it will seriously limit farther extension.
To be precise I should even block current code which allows to use
such syntax in clodeblocks because it's possible to create GPF.
In next commit I'll add only protection for such GPF (it will work
like in xHarbour) and we can try to talk about the future of WITH OBJECT.
Here is the code which illustrates the problem:
   proc main()
      local cb
      with object .F.
         with object 0
            cb := {|| :className }
            ? eval( cb )            // NUMERIC
         end
         ? eval( cb )               // LOGICAL
      end
      ? eval( cb )                  // GPF or NIL after incomming commit.
   return

As you can see codeblock is created inside 'with object 0' statement but
can be used outside this statement when the given object does not longer
exist so it does not confirm WITH OBJECT specification and has to be fixed.
We have two choices:
   1) detach WITH OBJECT variable lust like local variables
      and add code which will resolve references in each :<msg> code.
      It will cause some small speed overhead but it will work
   2) forbid using :<msg> in nested code blocks at compile time.
If we want to add support for macrocompiler then we can chose only
method one.
But method one except some small speed overhead has yet another drawback.
It needs to keep current code which uses additional HVM stack register
(lWithObject) to store offset of WITH OBJECT value. Such implementation
needs additional code to update lWithObject register at the beginning and
end of WITH OBJECT statement (additional speed overhead which can be
eliminated and reduces this feature to only single WITH OBJECT variable
and this is sth what I would like to eliminate in the future.

WITH OBJECT statement make only one thing. Semantically it introduces
temporary variables. Instead of:

   LOCAL _tmp
   [...]
   _tmp := errorNew()
      _tmp:cargo := "ABC"
      ? _tmp:cargo
   _tmp := NIL

you can write:

   WITH OBJECT errorNew()
      :cargo := "ABC"
      ? :cargo
   ENDWITH

In xHarbour implementation WITH OBJECT is visible for macrocompiler so
semantically it works like with _tmp declared as PRIVATE instead of LOCAL
variable.

As long as we operate only on local variables then we can easy extend
such functionality adding support for new variables and we can make
very extensive optimization at compile time calculating all HVM stack
offsets and eliminating lWithObject HVM stack register. If we add support
for accessing this value from macrocompiler then we lost such possibilities
so if you need such extenssion then you have to give me good reason to
implement it.

BTW Personally I'd even prefer to replace current WITH OBJECT by new
syntax, i.e.

   WITH VAR <varname> [ := <value> ]
      [...]
   ENDWITH

because support for current
   :<msg>
syntax breaks Clipper compatibility and it's necessary to introduce
hacks to PP code so some Clipper compatible code cannot be compiled by
Harbour and xHarbour. I.e. this code:

   proc main
      local xVar, get
      @ 0, 0 SAY xVar PICTURE get:pict
   return

cannot be compiled by xHarbour at all. It can be compiled by Harbour but
only due to hack which checks for leading spaces before ':' so this code:

   proc main
      local xVar, get
      @ 0, 0 SAY xVar PICTURE get : pict
   return

will not work too. Just simply like IN, HAS and LIKE xHarbour extensions
also WITH OBJECT breaks valid Clipper syntax in PP but in this case we
adopted xHarbour syntax for code compatibility and I'm still not sure it
was good idea.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  2 10:46:37 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  2 10:46:49 2010
Subject: [Harbour] hb_QWith()/with object inside macro compiler
In-Reply-To: <20100202152545.GA10503@linux-4bod.home.aster.pl>
References: <4B67D947.3000704@libero.it>
	<20100202152545.GA10503@linux-4bod.home.aster.pl>
Message-ID: <E9ED5480-58A4-4DF9-B981-F593E5F3A8C6@syenar.hu>

Hi,

> We have two choices:
>   1) detach WITH OBJECT variable lust like local variables
>      and add code which will resolve references in each :<msg> code.
>      It will cause some small speed overhead but it will work
>   2) forbid using :<msg> in nested code blocks at compile time.
> If we want to add support for macrocompiler then we can chose only
> method one.
> needs additional code to update lWithObject register at the beginning and
> end of WITH OBJECT statement (additional speed overhead which can be
> eliminated and reduces this feature to only single WITH OBJECT variable
> and this is sth what I would like to eliminate in the future.

This would be nice.

> In xHarbour implementation WITH OBJECT is visible for macrocompiler so
> semantically it works like with _tmp declared as PRIVATE instead of LOCAL
> variable.
> 
> As long as we operate only on local variables then we can easy extend
> such functionality adding support for new variables and we can make
> very extensive optimization at compile time calculating all HVM stack
> offsets and eliminating lWithObject HVM stack register. If we add support
> for accessing this value from macrocompiler then we lost such possibilities
> so if you need such extenssion then you have to give me good reason to
> implement it.
> 
> BTW Personally I'd even prefer to replace current WITH OBJECT by new
> syntax, i.e.
> 
>   WITH VAR <varname> [ := <value> ]
>      [...]
>   ENDWITH
> 
> because support for current
>   :<msg>
> syntax breaks Clipper compatibility and it's necessary to introduce
> hacks to PP code so some Clipper compatible code cannot be compiled by
> Harbour and xHarbour. I.e. this code:
> ...
> will not work too. Just simply like IN, HAS and LIKE xHarbour extensions
> also WITH OBJECT breaks valid Clipper syntax in PP but in this case we
> adopted xHarbour syntax for code compatibility and I'm still not sure it
> was good idea.

I'd vote for the clean way. Namely option 2) and WITH VAR and leaving 
WITH OBJECT optional for compatibility. BTW 'WITH OBJECT' is very seldom
used in current Harbour code, and one part of the reason is above 
ambiguity with it.

It would be nice to see a small code example with 'WITH VAR', I'm not 
I fully oversee how it would replace current method in practice.

Brgds,
Viktor

From abe.buch at att.net  Tue Feb  2 10:52:21 2010
From: abe.buch at att.net (AbeB)
Date: Tue Feb  2 10:52:29 2010
Subject: [Harbour] hb_idleSleep( ntimeOut )  & DST
Message-ID: <1265125941721-4501573.post@n2.nabble.com>


Hi All,

Will hb_idleSleep( ntimeOut )  wait for an extra hour if the clock is
adjusted just in that moment with an hour back (like in DST)?

Thanks
Abe.
-- 
View this message in context: http://n2.nabble.com/hb-idleSleep-ntimeOut-DST-tp4501573p4501573.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From M.Horodyski at pzuzycie.com.pl  Tue Feb  2 11:06:45 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Feb  2 11:07:03 2010
Subject: [Harbour] New trouble with type from  MS Sql
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D281AF@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D28005@PINK.zycie.pzu><4B66E4FD.6050901@dbtopas.lt><FD606C64-F469-413E-81D5-D285DE9B9240@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502D281AF@PINK.zycie.pzu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D8C8A4@PINK.zycie.pzu>

 

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Tuesday, February 02, 2010 10:18 AM
>To: Harbour Project Main Developer List.
>Subject: RE: [Harbour] New trouble with type from MS Sql
>
>>-----Original Message-----
>>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
>>Sent: Monday, February 01, 2010 6:32 PM
...
>>> to support all range of bigint values.
>>
>>It's 64-bit signed integer. (confirmed from multiple sources)
>
>I do not know how to properly do so should this amendment.
>Meanwhile, I have an error when closing the query.

This information is now obsolete. Today I did not have a single error. It adds nothing - just resolved itself. In tables are still fields of BIGINT type.

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Tue Feb  2 11:24:27 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 11:24:35 2010
Subject: [Harbour] Re: USE error ?
In-Reply-To: <4B66DB96.1020500@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<4B66DB96.1020500@mail.udg.mx>
Message-ID: <20100202162427.GA22680@linux-4bod.home.aster.pl>

On Mon, 01 Feb 2010, David Arturo Macias Corona wrote:

Hi,

> Something has changed for this case since Aug 2007 ?
> "It mean that (in Linux) Harbour and xHarbour can not share dbf files ?"

I created new code for MT mode which also can use BSD or POSIX locks
for deny flags emulation so now it works between aliased work areas
even in single process.
This code were copied from Harbour repository to xHarbour CVS by:
   2008-10-22 10:30 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net>
even with my original ChangeLog notes but without even single word that
these were my modifications :-(
So this code is present in xHarbour. I haven't checked if it was ported
correctly or not. Few times in last years my code from Harbour was copied
without necessary updates to work correctly with xHarbour internal
structures so you should ask about details xHarbour developers.

> Your last message included below
> I do not found some reference for this difference between
> Harbour-xHarbour in doc\xhb-diff.txt

Code is present but I do not have time to test current xHarbour CVS
locate the bugs and document them. The are bugs I reported four or more
years ago to xHarbour devel list and never fixed though some of them are
even registered at xHarbour bug track so I think it's waste of time.

best regards,
Przemek
From marcobra.ubuntu at gmail.com  Tue Feb  2 11:28:19 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Tue Feb  2 11:28:27 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <SNT109-W6521BEE4D843ACFB0789C9EF580@phx.gbl>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
	<22A4351D-D89E-4014-AB63-F73EB196AC4D@syenar.hu>
	<SNT109-W6521BEE4D843ACFB0789C9EF580@phx.gbl>
Message-ID: <fd76479f1002020828r7bd8ce02ja23cf6ce797b51c4@mail.gmail.com>

To get the support (or to report bug) about your Ubuntu issue please refer
to the main  https://launchpad.net/ubuntu Ubuntu site, be free to ask any
kind of question here: https://answers.launchpad.net/ubuntu

Hth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100202/591753c2/attachment.html
From druzus at acn.waw.pl  Tue Feb  2 11:39:50 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 11:39:59 2010
Subject: [Harbour] Re: USE error ?
In-Reply-To: <CD5882FB-940E-48F0-9266-85B2207D0A4F@syenar.hu>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<4B66DB96.1020500@mail.udg.mx>
	<CD5882FB-940E-48F0-9266-85B2207D0A4F@syenar.hu>
Message-ID: <20100202163950.GB22680@linux-4bod.home.aster.pl>

On Mon, 01 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Related to this: My app doesn't need exclusive mode, 
> but there are still a few typical places where it is 
> used: pack and reindex (and structure change) operations.
> If POSIX doesn't support exclusive access, what is the 
> recommended way to open a table for above operations 
> if I want to avoid issues in multiuser scenarios?

In POSIX systems EXCLUSIVE mode is emulated by Harbour so it
allow to sync different applications and threads if each of
them uses compatible emulation.
The fact that POSIX does not support EXCLUSIVE mode only means
that nothing stops other applications which do not respect our
emulation against opening the same files. This is also true for
file servers like SAMBA. If SAMBA does not use compatible
EXCLUSIVE mode emulation (and it really doesn't) then it means
that both native and remote MS-Windows application can open
the same file in EXCLUSIVE mode simultaneously. If application
needs EXCLUSIVE mode to synchronize some RDD operations between
native POSIX applications executed locally and some remote
applications then it should use for remote access HBNETIO.
It's not necessary to use HBNETIO for local access.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Feb  2 11:46:03 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 11:46:11 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
Message-ID: <20100202164603.GA23226@linux-4bod.home.aster.pl>

On Mon, 01 Feb 2010, Lorenzo Fiorini wrote:

Hi,

> Continuing in my MT path this is what I get from code that work since years ST:
> double free or corruption (!prev): 0x0a05bd48 ***
> ======= Backtrace: =========
> /lib/tls/i686/cmov/libc.so.6[0xb7a89604]
> /lib/tls/i686/cmov/libc.so.6(cfree+0x96)[0xb7a8b5b6]
> /usr/lib/libpq.so.5(PQclear+0x30)[0xb7b88420]
[...]
> Where should I start to look?

Check if libpq is fully MT safe.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  2 11:49:58 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  2 11:50:09 2010
Subject: [Harbour] Re: USE error ?
In-Reply-To: <20100202163950.GB22680@linux-4bod.home.aster.pl>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<4B66DB96.1020500@mail.udg.mx>
	<CD5882FB-940E-48F0-9266-85B2207D0A4F@syenar.hu>
	<20100202163950.GB22680@linux-4bod.home.aster.pl>
Message-ID: <C3F12F87-6489-4C3E-971B-E6049FF2D119@syenar.hu>

Hi,

> Hi,
> 
>> Related to this: My app doesn't need exclusive mode, 
>> but there are still a few typical places where it is 
>> used: pack and reindex (and structure change) operations.
>> If POSIX doesn't support exclusive access, what is the 
>> recommended way to open a table for above operations 
>> if I want to avoid issues in multiuser scenarios?
> 
> In POSIX systems EXCLUSIVE mode is emulated by Harbour so it
> allow to sync different applications and threads if each of
> them uses compatible emulation.
> The fact that POSIX does not support EXCLUSIVE mode only means
> that nothing stops other applications which do not respect our
> emulation against opening the same files. This is also true for
> file servers like SAMBA. If SAMBA does not use compatible
> EXCLUSIVE mode emulation (and it really doesn't) then it means
> that both native and remote MS-Windows application can open
> the same file in EXCLUSIVE mode simultaneously. If application
> needs EXCLUSIVE mode to synchronize some RDD operations between
> native POSIX applications executed locally and some remote
> applications then it should use for remote access HBNETIO.
> It's not necessary to use HBNETIO for local access.

Okay, situation is clear now, thanks a lot for clarifying.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Feb  2 11:50:16 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 11:50:24 2010
Subject: [Harbour] DBF encryption
In-Reply-To: <4B680058.9080604@mweb.co.za>
References: <4B56ED2F.4020105@mweb.co.za>
	<20100129080638.GB30236@linux-4bod.home.aster.pl>
	<4B680058.9080604@mweb.co.za>
Message-ID: <20100202165016.GB23226@linux-4bod.home.aster.pl>

On Tue, 02 Feb 2010, Alex Strickland wrote:

Hi,

> >If you want to change password then you have to decrypt the table
> >and then encrypt it again with new password.
> What do you think of issuing a RTE if you try and encrypt an
> encrypted database, it seems better than a silent fail?
> Similarly, what do you think of a RTE when using APPEND FROM with
> databases that are not encrypted/decrypted in synch?

All such modifications will effect SIX3 compatibility.
To touch it will have to repeat some tests with SIX3 and
document differences and it will be time consuming process
due to bugs in SIX3 library. I do not have time for it now,
sorry.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Feb  2 11:59:14 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb  2 11:59:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13744] trunk/harbour
Message-ID: <E1NcM5q-0000nQ-0l@d5vjzd1.ch3.sourceforge.com>

Revision: 13744
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13744&view=rev
Author:   druzus
Date:     2010-02-02 16:59:07 +0000 (Tue, 02 Feb 2010)

Log Message:
-----------
2010-02-02 17:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/direct.c
    ! do not strip other attributes when "V" is set - it's neither
      DOS not Clipper compatible behavior
      Clipper passes attributes to OS and then OS decides about
      their interpretation, i.e. FreeDOS replicates hardcoded
      in our previous DIRECTORY() code behavior but MS-DOS doesn't.
    % small simplification

  * harbour/src/common/hbffind.c
    ! fixed emulation of DOS volum attribute in MS-Windows builds of
      hb_fsFindFirst()/hb_fsFindNext().
      It also fixes problem in HBCT FILEATTR() function in MS-Windows
      builds.
      This is still not full DOS emulation. Exact emulation should
      automatically add trailing \ to given path, detect drive letter
      and resolve their current directories. If some windows users
      think it's important then they can extend this emulation.
      Now it can be done as local modifications only.
      Please test with real MS-Windows.
    ! fixed error code setting in UNICODE MS-Windows builds of
      hb_fsFindFirst()/hb_fsFindNext().

  * harbour/contrib/hbct/files.c
    * removed old hack which is not longer necessary for current code.

  * harbour/include/hbapifs.h
    * small modifications to make HB_FNAME structure alignment independent

  * harbour/src/vm/hvm.c
    ! fixed GPF when WITH OBJECT reference is used inside codeblock
      evaluated outside WITH OBJECT / ENDWITH structure
      TODO: forbid using WITH OBJECT references in nested codeblocks

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/include/hbapifs.h
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/rtl/direct.c
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Tue Feb  2 12:04:52 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb  2 12:05:01 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <20100202164603.GA23226@linux-4bod.home.aster.pl>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>

2010/2/2 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> Check if libpq is fully MT safe.

Thanks for the answer. This is what I've found in
http://www.enterprisedb.com/documentation/libpq-concepts.html:

...

29.4.16. Behavior in Threaded Programs

libpq is reentrant and thread-safe if the configure command-line
option --enable-thread-safety was used when the EnterpriseDB
distribution was built. In addition, you might need to use additional
compiler command-line options when you compile your application code.
Refer to your system's documentation for information about how to
build thread-enabled applications, or look in src/Makefile.global for
PTHREAD_CFLAGS and PTHREAD_LIBS. This function allows the querying of
libpq's thread-safe status:

Returns 1 if the libpq is thread-safe and 0 if it is not.

One thread restriction is that no two threads attempt to manipulate
the same PGconn object at the same time. In particular, you cannot
issue concurrent commands from different threads through the same
connection object. (If you need to run concurrent commands, use
multiple connections.)

PGresult objects are read-only after creation, and so can be passed
around freely between threads.

The deprecated functions PQrequestCancel and PQoidStatus are not
thread-safe and should not be used in multithread programs.
PQrequestCancel can be replaced by PQcancel. PQoidStatus can be
replaced by PQoidValue.

If you are using Kerberos inside your application (in addition to
inside libpq), you will need to do locking around Kerberos calls
because Kerberos functions are not thread-safe. See function
PQregisterThreadLock in the libpq source code for a way to do
cooperative locking between libpq and your application.

If you experience problems with threaded applications, run the program
in src/tools/thread to see if your platform has thread-unsafe
functions. This program is run by configure, but for binary
distributions your library might not match the library used to build
the binaries.
...

Do you think I can found not thread-safe libpq in distros like Centos,
Fedora, Ubuntu?

best regards,
Lorenzo
From druzus at acn.waw.pl  Tue Feb  2 12:23:47 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 12:24:18 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
Message-ID: <20100202172347.GA23937@linux-4bod.home.aster.pl>

On Tue, 02 Feb 2010, Lorenzo Fiorini wrote:
> Thanks for the answer. This is what I've found in
> http://www.enterprisedb.com/documentation/libpq-concepts.html:
[...]
> Do you think I can found not thread-safe libpq in distros like Centos,
> Fedora, Ubuntu?

Add Harbour wrapper to function which returns thread safe status
and check it. And of course check if you are using new separate
concatenation in each thread in your own code.

BTW someone should update contrib/hbpgsql/postgres.c to use
GC pointers for PGcancel* and PGresult* like for PGconn* and
add RTE when wrong parameters are passed to functions.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Tue Feb  2 13:18:19 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb  2 13:18:27 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <20100202172347.GA23937@linux-4bod.home.aster.pl>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>

2010/2/2 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> Add Harbour wrapper to function which returns thread safe status
> and check it. And of course check if you are using new separate
> concatenation in each thread in your own code.

Ok, I'll check it.

> BTW someone should update contrib/hbpgsql/postgres.c to use
> GC pointers for PGcancel* and PGresult* like for PGconn* and
> add RTE when wrong parameters are passed to functions.

I'll try to do it.

BTW did you see my msg "Help with segfaults with MT and hb_hrbload?"
I've created a test with pure prg code but I still get random errors.

Any suggestion?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Feb  2 13:25:07 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  2 13:25:17 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
Message-ID: <7A890FB8-9B63-4B75-9772-18A420CF2738@syenar.hu>

>> Add Harbour wrapper to function which returns thread safe status
>> and check it. And of course check if you are using new separate
>> concatenation in each thread in your own code.
> 
> Ok, I'll check it.
> 
>> BTW someone should update contrib/hbpgsql/postgres.c to use
>> GC pointers for PGcancel* and PGresult* like for PGconn* and
>> add RTE when wrong parameters are passed to functions.
> 
> I'll try to do it.

Ops, I've already started it.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Feb  2 13:33:51 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 13:33:59 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <4B66D939.20307@gmail.com>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
	<4B66D939.20307@gmail.com>
Message-ID: <20100202183351.GA24204@linux-4bod.home.aster.pl>

On Mon, 01 Feb 2010, Xavi wrote:

Hi,

> HB_TRACEFM(), with my next commit. I'm waiting for Przemek and others
> are ready. ;)

Can you send .diff file here so we can check what exactly this
modification does?

> >Is there a macro I can use to identify this sub-function? I could leave
> >it in the code wrapped conditional code for debug only.
> Yes if you have a C99 compiler, just have to redefine the macro in your code .-
> #ifdef HB_TRACEFM
> #  undef  HB_TRACEFM
> #  define HB_TRACEFM( x )  hb_fm_xInfoEx( #x, __FILE__, __LINE__, __func__ ); x
> #endif

We do not have hb_fm_xInfoEx() in our code so I guess it's part of
modifications you want to commit. __func__ is C99 macro. It makes
log more readable but __FILE__ + __LINE__ is enough to detect exact
place and function name if you have source code so it's not critical
information. For current unmodified code requested functionality
(without function name) can be reached by:
   extern HB_EXPORT void * hb_xgrab_fm( ULONG ulSize,
                                        const char * szFile, int iLine );
   [...]
   void * hb_xgrab_fm( ULONG ulSize, const char * szFile, int iLine )
   {
      hb_tr_file_ = szFile;
      hb_tr_line_ = iLine;
      return hb_xgrab( szFile );
   }

   #if HB_TR_LEVEL >= HB_TR_DEBUG
      #define HB_XGRABFM( n )    hb_xgrab_fm( n, __FILE__, __SIZE__ )
   #else
      #define HB_XGRABFM( n )    hb_xgrab( n )
   #endif

with most of C compilers the same effect can be reached using only
macros without hb_xgrab_fm() function, i.e.:

   #if HB_TR_LEVEL >= HB_TR_DEBUG
      #define HB_XGRABFM( n )    ( hb_tr_file_ = __FILE__, \
                                   hb_tr_line_ = __LINE__, \
                                   hb_xgrab( n ) )
   #else
      #define HB_XGRABFM( n )    hb_xgrab( n )
   #endif

If user wants does not want to set HB_TR_LEVEL=DEBUG then the
above macro can be extend to dynamically change and restore
debug level, i.e.:

   #if HB_TR_LEVEL >= HB_TR_DEBUG
      #define HB_XGRABFM( n )    { int iLevel = hb_tracelevel( HB_TR_DEBUG ); \
                                   void * ptr; \
                                   hb_tr_file_ = __FILE__; \
                                   hb_tr_line_ = __LINE__; \
                                   ptr = hb_xgrab( n ); \
                                   hb_tracelevel( iLevel ); \
                                   ( void ) ptr; }
   #else
      #define HB_XGRABFM( n )    hb_xgrab( n )
   #endif

anyhow such version can be compiled only by few C compilers, i.e. by GCC.
To make it simpler we can change a little bit fm.c and HB_TRACE_STEALTH()
macro so user can use the first version independently to HB_TR_LEVEL setting.
BTW such modifications in HB_TRACE_STEALTH() macro should be done also to
fix yet another problem in current code so I'll commit them ASAP.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Tue Feb  2 13:40:49 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb  2 13:40:57 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <7A890FB8-9B63-4B75-9772-18A420CF2738@syenar.hu>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<7A890FB8-9B63-4B75-9772-18A420CF2738@syenar.hu>
Message-ID: <9257026e1002021040h49fe01b0j77af56b3d2060024@mail.gmail.com>

On Tue, Feb 2, 2010 at 7:25 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Ops, I've already started it.

No problem, you can surely do it better.

Many thanks.

best regards,
Lorenzo
From druzus at acn.waw.pl  Tue Feb  2 13:44:15 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 13:44:22 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
Message-ID: <20100202184415.GA26667@linux-4bod.home.aster.pl>

On Tue, 02 Feb 2010, Lorenzo Fiorini wrote:
> BTW did you see my msg "Help with segfaults with MT and hb_hrbload?"
> I've created a test with pure prg code but I still get random errors.
> Any suggestion?

Use valgrind to locate the problem.
Such random GPFs can be results of memory corruptions by some other
errors, i.e. buffer overflows or using some uninitialized memory.
Valgrind should precisely show where the problem is:

   valgrind --tool=memcheck --leak-check=yes --num-callers=16 -v \
            ./myapp 2> myapp.log

If you want to see information about source file names and line numbers
then just like for GDB do not strip final binaries and compile Harbour
code with -g GCC flag.

best regards,
Przemek
From jarabal at gmail.com  Tue Feb  2 15:09:12 2010
From: jarabal at gmail.com (Xavi)
Date: Tue Feb  2 15:09:54 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <20100202183351.GA24204@linux-4bod.home.aster.pl>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>	<4B66D939.20307@gmail.com>
	<20100202183351.GA24204@linux-4bod.home.aster.pl>
Message-ID: <4B688668.9080209@gmail.com>

Hi,

Thank you Przemek. It's not so easy because these solutions don't work with C++ new operator.

Attache files ready for committed, I've taken care to preserve intact the largest existing code as possible.
Please, you can review especially in MT mode. I've tried it with success in a large multi-threaded application without conflict 
or deadlock but maybe I missed something and I don't know force the error.

I have two questions .-
hb_xinit() is not protected by mutex, I understand when there is just the start only exist the main process.
hb_threadReleaseCPU() in Windows is Sleep( 20 ), well ok but in other OS: let live to other thread?
Thanks again Przemek.

Please Viktor,

> Sorry, I still don't like it in its current form

What is do you dislike?
I've only explained to April how to do a particular solution in the case of having a C99 compiler.
IMHO this system gives much play in local/private applications.

Best regards,
Xavi

-------------- next part --------------
A non-text attachment was scrubbed...
Name: tracefm.zip
Type: application/zip
Size: 11464 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100202/6e799d1d/tracefm-0001.zip
From vszakats at users.sourceforge.net  Tue Feb  2 15:46:07 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  2 15:46:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13745] trunk/harbour
Message-ID: <E1NcPdP-0004zQ-A8@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13745
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13745&view=rev
Author:   vszakats
Date:     2010-02-02 20:45:51 +0000 (Tue, 02 Feb 2010)

Log Message:
-----------
2010-02-02 21:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/postgres.c
    + Added GC support for all remaining pointer types (result/cancel/FILE).
    + Added RTE when wrong pointer or wrong number of parameter is passed
      to functions.
      This means that behavior is now INCOMPATIBLE when wrong parameters
      are encountered in these functions.
    ; Destructor functions PQFREECANCEL(), PQCLOSE(), PQCLEAR() marked 
      as 'deprecated'.
      These are not needed, it's enough to assign NIL to their holder
      variables on .prg level.
    % Cleanups along the way.
    ; TODO: Fix sloppy parameter checking which only check number of
            parameters instead of enforcing expected type.
    ; Please test.

  * contrib/hbpgsql/tests/async.prg
  * contrib/hbpgsql/tests/test.prg
  * contrib/hbpgsql/tests/cache.prg
  * contrib/hbpgsql/tests/stress.prg
    % Replaced deprecated destructor functions with '<var> := NIL'.

  * utils/hbmk2/hbmk2.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/contrib/hbpgsql/tests/async.prg
    trunk/harbour/contrib/hbpgsql/tests/cache.prg
    trunk/harbour/contrib/hbpgsql/tests/stress.prg
    trunk/harbour/contrib/hbpgsql/tests/test.prg
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb  2 15:52:40 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  2 15:52:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13746] trunk/harbour
Message-ID: <E1NcPjj-00056X-V6@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13746
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13746&view=rev
Author:   vszakats
Date:     2010-02-02 20:52:22 +0000 (Tue, 02 Feb 2010)

Log Message:
-----------
2010-02-02 21:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/postgres.c
  * contrib/hbpgsql/tests/test.prg
    * Destructor PQCLOSETRACE() marked as deprecated, replaced in
      test app with NIL assignment.
    ! Fixes to FILE object type.
    ; All this is only relevant if built with NODLL flag.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/contrib/hbpgsql/tests/test.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb  2 16:24:34 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  2 16:24:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13747] trunk/harbour
Message-ID: <E1NcQEc-0005Ws-Tr@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13747
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13747&view=rev
Author:   vszakats
Date:     2010-02-02 21:24:33 +0000 (Tue, 02 Feb 2010)

Log Message:
-----------
2010-02-02 22:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/postgres.c
    ! PQEXECPARAMS() fixed to not GPF when non-array is passed as 3rd parameter.
    ! PQESCAPEBYTEACONN() fixed to not GPF when non-string is passed as 2nd parameter.
    ! PQFNUMBER() fixed GPF (after prev commit)
    % Deleted hb_pcount() checks. This served no useful purpose. It's better to
      check for HB_IS*() is we want to enforce some parameters.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/postgres.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Tue Feb  2 16:24:53 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Feb  2 16:25:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13745] trunk/harbour
In-Reply-To: <E1NcPdP-0004zQ-A8@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NcPdP-0004zQ-A8@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <9257026e1002021324o4d8d91daq9c442a46f93c527a@mail.gmail.com>

On Tue, Feb 2, 2010 at 9:46 PM,  <vszakats@users.sourceforge.net> wrote:

> ?* contrib/hbpgsql/postgres.c
> ...
> ? ?; TODO: Fix sloppy parameter checking which only check number of
> ? ? ? ? ? ?parameters instead of enforcing expected type.
> ? ?; Please test.

Many thanks, I'll test it tomorrow.

best regards,
Lorenzo
From druzus at acn.waw.pl  Tue Feb  2 17:27:06 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 17:27:14 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <4B688668.9080209@gmail.com>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
	<4B66D939.20307@gmail.com>
	<20100202183351.GA24204@linux-4bod.home.aster.pl>
	<4B688668.9080209@gmail.com>
Message-ID: <20100202222706.GA15589@linux-4bod.home.aster.pl>

On Tue, 02 Feb 2010, Xavi wrote:

Hi,

> Thank you Przemek. It's not so easy because these solutions don't
> work with C++ new operator.

If you want to include memory allocated by C++ code to FM static
then it's necessary to overload new and delete operators and redirect
them to hb_xgrab()/hb_xfree(). hbmk2 has an option to enable such
overloading. Anyhow C preprocessor is too week to automatically insert
instruction which can safe __FILE__ and __LINE__ values so it cannot
be cleanly done. Using macros like HB_TRACEFM( x ) you send is not
solution too because in C++ code NEW/DELETE operators can be executed
indirectly. I.e.:
   {
      my_type x;
      f( &x );
   }
can activate code constructor and destructors which executes indirectly
some other code which can allocated new memory. To correctly set file
and line information in such code you will have to make sth like:
   {
      HB_TRACEFM( my_type x );      // this code is illegal in ANSI C mode !!!
      HB_TRACEFM( f( &x ) );
      HB_TRACEFM( )  // dummy call to set valid line and file info for
                     // destructors which also can allocate some memory
   }

In fact for real C++ code using extensively constructors and destructors
you will have to enclose nearly _each_ line of code inside HB_TRACEFM()
so for me HB_TRACEFM() isn't reasonable solution, too.

Please also note that:
      HB_TRACEFM( my_type x );
just like:
      HB_TRACEFM( void * ptr = hb_xgrab( 100 ) );
generates in hidden way code which is not ANSI C compatible what creates
yet another problem.

Instead of using such HB_TRACEFM() macro I suggest to simply define
macro which will set file and line number for FM module, i.e.:

   #define HB_TR_SET_CREATE(l)      do { \
                                       hb_tr_level_ = l; \
                                       hb_tr_file_ = __FILE__; \
                                       hb_tr_line_ = __LINE__; \
                                    } while( 0 )

   #if HB_TR_LEVEL >= HB_TR_DEBUG
      #define HB_TR_SET_HB_TR_DEBUG()     HB_TR_SET_CREATE(HB_TR_DEBUG)
   #else
      #define HB_TR_SET_HB_TR_DEBUG()
   #endif
   [...]
   #if 1  /* always! */
      #define HB_TR_SET_HB_TR_ALWAYS()    HB_TR_SET_CREATE(HB_TR_ALWAYS)
   #else
      #define HB_TR_SET_HB_TR_ALWAYS()
   #endif

   #define HB_TR_SET(l)       HB_TR_SET_##l()

so user can mark any place in his code before calling hb_xgrab()
or activating any other code which may allocates new memory by simple
adding HB_TR_SET( HB_TR_DEBUG ); i.e.

   HB_TR_SET( HB_TR_DEBUG );  // code marker, store file and line info
   ptr = hb_xgrab( 100 );

In such version it's explicitly visible for users what such macros does
and which lines will be reported by FM statistic module.
And if you still prefer HB_TRACEFM() then you can simply define in your
code:
   HB_TRACEFM( x )      HB_TR_SET( HB_TR_ALWAYS ); x

In the code you created you are storing with each memory block also
the code inside HB_TRACEFM() macro ( #x ) in the 264 bytes buffer
attached to each memory block. For me it seems to be redundant. Having
file name and line number is enough to check the exact code so it does
not give any new functionality but increase the overhead created by
FM statistic module reducing the speed and increasing total memory
usage. I agree that final FM log looks nicer with such feature but
personally I do not think that such reason is important enough. Anyhow
this are only my personal feelings so it should be rather group
decision. If other developers things that it's important to attach
text with source code inside HB_TRACEFM() macro to each memory block
allocated by FM statistic module to report such lines in fm.log file
and agree to accept slowness and additional memory overhead because
information about source file name and line number is not enough
then we can add it.

> Attache files ready for committed, I've taken care to preserve intact
> the largest existing code as possible.
> Please, you can review especially in MT mode. I've tried it with
> success in a large multi-threaded application without conflict or
> deadlock but maybe I missed something and I don't know force the
> error.

I see that you used TSD structure allocated on HVM stack to make it
MT safe. But it creates one serious problem. It means that it's
not possible to activate this code before HVM stack is created
by application startup code and it's not possible to use hb_xgrab()
by non HVM threads. I only guess that this trick with s_pInfoEx
which makes it much more complicated then necessary is workaround
for GPF at application startup caused by accessing TSD before HVM
stack is initialized. It seems to work though it can be greatly
simplified and of course the GPF in startup code and non HVM threads
has to be fixed.

In general whole HB_TRACE() module should be fixed to be MT safe.
Unfortunately it can be cleanly done without any TSD/TLS variables
only using C99 macros :-(.
Anyhow it systematically begins to be bigger problems so I'll update
it ASAP for HVM threads. Non HVM threads will work like so far overwriting
line and number information.

> I have two questions .-
> hb_xinit() is not protected by mutex, I understand when there is just the start only exist the main process.

It's called by startup code before any thread can be created so it's
does not need any protection.

> hb_threadReleaseCPU() in Windows is Sleep( 20 ), well ok but in other
> OS: let live to other thread?

In all OS-es hb_threadReleaseCPU() will switch to other thread just after
freezing the current thread for some period of time (usually 10-20
milliseconds). If you want to switch to other thread without sleeping
freezing current one then you can use HB_SCHED_YIELD() macro.

best regards,
Przemek
From smujohnson at gmail.com  Tue Feb  2 17:31:18 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Feb  2 17:31:26 2010
Subject: [Harbour] Przemek Q: SIX "FOR" clause Clipper/Harbour difference
Message-ID: <674e4ddd1002021431ke9040dan4b0f80548ebc3d95@mail.gmail.com>

The senior Clipper programmer here wanted me to ask someone this question.
I couldn't think of a better person to ask than you! :)

Question:
-------------

When a table's index file is re-opened (it was previously created), does it
have to evaluate the FOR clause, or can it wait to do that only when a value
in the table row changes?

In SIX, it does not check the FOR expression when it opens an index file.
In Harbour, when you open the index file it will evaluate the FOR
expression, and if any variables or functions in that expression are not
visible, the system will crash (undefined variable/function).

eg. Index on iif(x=3,"a","b") tag "temp" of test.cdx
When the index is opened (set index to...) if X is not visible, Harbour will
crash. In Clipper, it will only crash if a row in the table  changes value
and the index needs to be updated.

Unfortunately, my code has lots of specialized temporary indexes that are
created and then used within a specific function. This does not present a
problem until a timer event fires, which needs to close files to do
"something". Upon reopening those file before RETURNing back the original
function, the system crashes because the FOR in the index has variables out
of scope.

I can rewrite these but I will probably have to use Private variables and
non-Static functions.

Many thanks in advance

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100202/10e7912e/attachment.html
From itamarlins at bol.com.br  Tue Feb  2 17:44:48 2010
From: itamarlins at bol.com.br (Itamar Lins)
Date: Tue Feb  2 17:48:33 2010
Subject: [Harbour] Binaries for Suse
Message-ID: <hkaa2o$t7j$1@ger.gmane.org>

Hi!
URL to download of Harbour 2.0?

Best regards.
Itamar M. Lins Jr. 



From harbour.01 at syenar.hu  Tue Feb  2 18:09:24 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  2 18:09:34 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <20100202222706.GA15589@linux-4bod.home.aster.pl>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
	<4B66D939.20307@gmail.com>
	<20100202183351.GA24204@linux-4bod.home.aster.pl>
	<4B688668.9080209@gmail.com>
	<20100202222706.GA15589@linux-4bod.home.aster.pl>
Message-ID: <C3623457-4A0A-450D-ABFA-9723BD38C48C@syenar.hu>

To Xavi and All,

>> Thank you Przemek. It's not so easy because these solutions don't
>> work with C++ new operator.
> 
> If you want to include memory allocated by C++ code to FM static
> then it's necessary to overload new and delete operators and redirect
> them to hb_xgrab()/hb_xfree(). hbmk2 has an option to enable such
> overloading. Anyhow C preprocessor is too week to automatically insert
> instruction which can safe __FILE__ and __LINE__ values so it cannot
> be cleanly done. Using macros like HB_TRACEFM( x ) you send is not
> solution too because in C++ code NEW/DELETE operators can be executed
> indirectly. I.e.:
>   {
>      my_type x;
>      f( &x );
>   }
> can activate code constructor and destructors which executes indirectly
> some other code which can allocated new memory. To correctly set file
> and line information in such code you will have to make sth like:
>   {
>      HB_TRACEFM( my_type x );      // this code is illegal in ANSI C mode !!!
>      HB_TRACEFM( f( &x ) );
>      HB_TRACEFM( )  // dummy call to set valid line and file info for
>                     // destructors which also can allocate some memory
>   }
> 
> In fact for real C++ code using extensively constructors and destructors
> you will have to enclose nearly _each_ line of code inside HB_TRACEFM()
> so for me HB_TRACEFM() isn't reasonable solution, too.
> 
> Please also note that:
>      HB_TRACEFM( my_type x );
> just like:
>      HB_TRACEFM( void * ptr = hb_xgrab( 100 ) );
...
> generates in hidden way code which is not ANSI C compatible what creates
> yet another problem.
> 
> Instead of using such HB_TRACEFM() macro I suggest to simply define
> macro which will set file and line number for FM module, i.e.:
> 
>   #define HB_TR_SET_CREATE(l)      do { \
>                                       hb_tr_level_ = l; \
>                                       hb_tr_file_ = __FILE__; \
>                                       hb_tr_line_ = __LINE__; \
>                                    } while( 0 )
> 
>   #if HB_TR_LEVEL >= HB_TR_DEBUG
>      #define HB_TR_SET_HB_TR_DEBUG()     HB_TR_SET_CREATE(HB_TR_DEBUG)
>   #else
>      #define HB_TR_SET_HB_TR_DEBUG()
>   #endif
>   [...]
>   #if 1  /* always! */
>      #define HB_TR_SET_HB_TR_ALWAYS()    HB_TR_SET_CREATE(HB_TR_ALWAYS)
>   #else
>      #define HB_TR_SET_HB_TR_ALWAYS()
>   #endif
> 
>   #define HB_TR_SET(l)       HB_TR_SET_##l()
> 
> so user can mark any place in his code before calling hb_xgrab()
> or activating any other code which may allocates new memory by simple
> adding HB_TR_SET( HB_TR_DEBUG ); i.e.
> 
>   HB_TR_SET( HB_TR_DEBUG );  // code marker, store file and line info
>   ptr = hb_xgrab( 100 );
> 
> In such version it's explicitly visible for users what such macros does
> and which lines will be reported by FM statistic module.
> And if you still prefer HB_TRACEFM() then you can simply define in your
> code:
>   HB_TRACEFM( x )      HB_TR_SET( HB_TR_ALWAYS ); x
> 
> In the code you created you are storing with each memory block also
> the code inside HB_TRACEFM() macro ( #x ) in the 264 bytes buffer
> attached to each memory block. For me it seems to be redundant. Having
> file name and line number is enough to check the exact code so it does
> not give any new functionality but increase the overhead created by
> FM statistic module reducing the speed and increasing total memory
> usage. I agree that final FM log looks nicer with such feature but
> personally I do not think that such reason is important enough. Anyhow
> this are only my personal feelings so it should be rather group
> decision. If other developers things that it's important to attach
> text with source code inside HB_TRACEFM() macro to each memory block
> allocated by FM statistic module to report such lines in fm.log file
> and agree to accept slowness and additional memory overhead because
> information about source file name and line number is not enough
> then we can add it.
> 
>> Attache files ready for committed, I've taken care to preserve intact
>> the largest existing code as possible.
>> Please, you can review especially in MT mode. I've tried it with
>> success in a large multi-threaded application without conflict or
>> deadlock but maybe I missed something and I don't know force the
>> error.
> 
> I see that you used TSD structure allocated on HVM stack to make it
> MT safe. But it creates one serious problem. It means that it's
> not possible to activate this code before HVM stack is created
> by application startup code and it's not possible to use hb_xgrab()
> by non HVM threads. I only guess that this trick with s_pInfoEx
> which makes it much more complicated then necessary is workaround
> for GPF at application startup caused by accessing TSD before HVM
> stack is initialized. It seems to work though it can be greatly
> simplified and of course the GPF in startup code and non HVM threads
> has to be fixed.

That pretty much sums up what I didn't like about the 
implementation without even knowing the exact details 
(I'd have bet that MT mode had problems f.e.)

And while I liked Przemek's HB_XGRABFM() alternative 
to the problem, what I don't understand is why are we 
trying to solve these problems (like the C++ variation) 
at all on the Harbour core level?

First of all our goal is not to create a full-blown 
memory analyzer. Secondly it's not trivial task and 
has its risks since it resides in the very core of 
Harbour.

IMO, however hard we try we will never even reach 
existing memory tracing tools.

BTW Valgrind does its just pretty well, and it does 
much more than detecting leaks. Unfortunately it 
cannot run on all Harbour platforms, but since Harbour 
is portable, most of its parts can be tested in 
Valgrind given a free VirtualBox with a free Linux 
in it. The whole dev environment can be installed 
in 1-2 hours.

Or, we could also look around for Windows-compatible 
solution from this list:
   http://en.wikipedia.org/wiki/Memory_debugger
or elsewhere.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Feb  2 18:41:45 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  2 18:41:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13748] trunk/harbour
Message-ID: <E1NcSNN-0006RR-Nd@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13748
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13748&view=rev
Author:   vszakats
Date:     2010-02-02 23:41:42 +0000 (Tue, 02 Feb 2010)

Log Message:
-----------
2010-02-03 00:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/postgres.c
    % Optimizations.

  * contrib/hbpgsql/postgres.c
  * contrib/hbgd/gdwrp.c
  * contrib/hbbmcdx/bmdbfcdx.c
    % 'hb_itemRelease( hb_itemReturnForward( p ) )' -> 'hb_itemReturnRelease( p )'

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbgd/gdwrp.c
    trunk/harbour/contrib/hbpgsql/postgres.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Tue Feb  2 19:39:53 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Feb  2 19:40:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13749] trunk/harbour
Message-ID: <E1NcTHd-0005DJ-EZ@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13749
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13749&view=rev
Author:   vouchcac
Date:     2010-02-03 00:39:51 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-02 16:24 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/iderequests.prg
  * contrib/hbide/idethemes.prg

  * contrib/hbide/resources/projectproperties.ui

  + contrib/hbide/resources/finddialog.uic
  + contrib/hbide/resources/findinfiles.uic
  + contrib/hbide/resources/findsource.uic
  + contrib/hbide/resources/mainwindow.uic
  + contrib/hbide/resources/projectproperties.uic
  + contrib/hbide/resources/selectionlist.uic
  + contrib/hbide/resources/selectproject.uic
  + contrib/hbide/resources/themes.uic

  * contrib/hbqt/hbqt.ch
  * contrib/hbqt/qtgui/QLabel.cpp
  * contrib/hbqt/qtgui/QSizePolicy.cpp
  * contrib/hbqt/qtgui/QSpacerItem.cpp
  * contrib/hbqt/qth/QLabel.qth
  * contrib/hbqt/qth/QSizePolicy.qth
  * contrib/hbqt/qth/QSpacerItem.qth

  * contrib/hbqt/THbQtUI.prg

  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpwindow.prg

    + This commit implements .uic files generated 
      via uic.exe of Qt distribution given a .ui file.
      And hence eliminated the wooping cargo of QtUiTools.lib
      which consumes arount 23+ MB over and above of application load.
      All the dialogs/windows used in hbIDE are fully functional.

      This implementation is in parallel of previous one and 
      either can be used. The difference in syntax is ( and as used in hbIDE )

         #ifdef HBIDE_USE_UIC
            oDlg := HbQtUI():new( ::oIDE:resPath + "selectproject.uic", ::oDlg:oWidget ):build()
         #else
            oDlg := HbQtUI():new( ::oIDE:resPath + "selectproject.ui", ::oDlg:oWidget ):create()
         #endif
      
      To take advantage of this feature you need to compile hbIDE 
      with -dHBIDE_USE_UIC. You can examine the task manager for memory
      usage, with and without -dHBIDE_USE_UIC.

      Please note that this implementation is not 100% complete.
      I could synchronize the dialogs of hbIDE only. Though most of the 
      code is good for daily-use widgets still we need to add some 
      more functionality into the code. But it is simple. Mainly 
      we be needing more constants included in hash to convert 
      string defines to numeric representation.

      Please test and report any issues.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/iderequests.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbide/resources/projectproperties.ui
    trunk/harbour/contrib/hbqt/THbQtUI.prg
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qth/QLabel.qth
    trunk/harbour/contrib/hbqt/qth/QSizePolicy.qth
    trunk/harbour/contrib/hbqt/qth/QSpacerItem.qth
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/finddialog.uic
    trunk/harbour/contrib/hbide/resources/findinfiles.uic
    trunk/harbour/contrib/hbide/resources/findsource.uic
    trunk/harbour/contrib/hbide/resources/mainwindow.uic
    trunk/harbour/contrib/hbide/resources/projectproperties.uic
    trunk/harbour/contrib/hbide/resources/selectionlist.uic
    trunk/harbour/contrib/hbide/resources/selectproject.uic
    trunk/harbour/contrib/hbide/resources/themes.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Tue Feb  2 20:31:04 2010
From: itamarlins at bol.com.br (Itamar Lins)
Date: Tue Feb  2 20:34:46 2010
Subject: [Harbour] Re: Go Programming Language vs Harbour Programming
	Languages
References: <609353e70911111015x412cadc0x3cf3d6656fee3b57@mail.gmail.com>
Message-ID: <hkajqg$olu$1@ger.gmane.org>

	I am pleased to announce that the GCC Steering Committee has
accepted the contribution of the gccgo front-end and gcc-specific runtime
for the Go language with Ian Taylor appointed maintainer.  The GCC
Release Managers will decide the details about the timing of the merge and
inclusion in GCC 4.5 or later.

	Please join me in congratulating and thanking Ian and the Go
language developers.  Please update your listing in the MAINTAINERS file.

Happy hacking!
David

http://article.gmane.org/gmane.comp.gcc.devel/111603

Best regards,
Itamar M. Lins Jr. 



From april_white at sympatico.ca  Tue Feb  2 20:51:52 2010
From: april_white at sympatico.ca (April White)
Date: Tue Feb  2 20:52:04 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <20100202183351.GA24204@linux-4bod.home.aster.pl>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>	<4B66D939.20307@gmail.com>
	<20100202183351.GA24204@linux-4bod.home.aster.pl>
Message-ID: <BLU0-SMTP9360888EF5D937B5572A3DEF560@phx.gbl>

Thank you Przemek.  I've tried your suggestion but my implementation 
does not work as expected, the stats output is:

    fm.c:1134: HB_TR_ERROR Block 1 (size 40) HB_BTREEINSERT(0), 
"F8A454004001550058D
    C4B00010001001000000000000000000000000000F03F0A00020000000000"

But I know the memory allocation is in a sub-function.

My implementation is different from yours but keeps the spirit.  I added 
some debug code not shown below so I know it is compiling this code and 
executing it.  My system is:

WinXP SP2
MinGW32 from Qt installer
HB_USER_CFLAGS to compile harbour:
    -O3 -Wall -Wunused-variable -Wpointer-arith -DHB_FM_STATISTICS
HB_USER_CFLAGS to compile this project:
    -O3 -Wall -Wunused-variable -Wpointer-arith -DHB_FM_STATISTICS 
-DHB_TR_LEVEL=5

My existing code already uses a local function to memory allocation, a 
wrapper for hb_xgrab() or hb_xrealloc().

#if HB_TR_LEVEL >= HB_TR_DEBUG

#define BufferAlloc(n)      hb_xgrab_fm( NULL, (n), __FILE__, __LINE__ )
#define BufferRealloc(p,n)  hb_xgrab_fm( (p), (n), __FILE__, __LINE__ )

extern HB_EXPORT void * hb_xgrab_fm( void *buffer, ULONG ulSize, const 
char * szFile, int iLine )
{
   void *tmpBuffer;
   hb_tr_file_ = szFile;
   hb_tr_line_ = iLine;
   tmpBuffer = buffer ? hb_xrealloc( buffer, ulSize ) : hb_xgrab( ulSize );
   return tmpBuffer;
}

#else
...
#endif






-- 
Without facts, the decision cannot be made logically. You must rely on your human intuition.
- Spock, 'Assignment: Earth', stardate unknown

From druzus at acn.waw.pl  Tue Feb  2 21:23:53 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  2 21:24:00 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <BLU0-SMTP9360888EF5D937B5572A3DEF560@phx.gbl>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
	<4B66D939.20307@gmail.com>
	<20100202183351.GA24204@linux-4bod.home.aster.pl>
	<BLU0-SMTP9360888EF5D937B5572A3DEF560@phx.gbl>
Message-ID: <20100203022350.GA23247@linux-4bod.home.aster.pl>

On Tue, 02 Feb 2010, April White wrote:

Hi,

> Thank you Przemek.  I've tried your suggestion but my implementation
> does not work as expected, the stats output is:
>    fm.c:1134: HB_TR_ERROR Block 1 (size 40) HB_BTREEINSERT(0),
> "F8A454004001550058D
>    C4B00010001001000000000000000000000000000F03F0A00020000000000"
> But I know the memory allocation is in a sub-function.

You haven't set DEBUG tracing level. You can do that setting
HB_TR_LEVEL envvar, i.e.:
   export HB_TR_LEVEL=HB_TR_DEBUG
or in DOS/Windows:
   set HB_TR_LEVEL=HB_TR_DEBUG

Just try.

I'll commit in a while modifications which allow to eliminate
setting HB_TR_LEVEL using HB_TR_FM message level.
You will have to modify your code to:

   void * hb_xgrab_fm( void *buffer, ULONG ulSize,
                       const char * szFile, int iLine )
   {
      hb_traceset( HB_TR_FM, szFile, iLine, NULL );
      return hb_xrealloc( buffer, ulSize );
   }

You can use hb_xrealloc( NULL, ulSize ) to allocate memory so you do not
need additional condition in hb_xgrab_fm() function.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Feb  2 21:45:33 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb  2 21:45:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13750] trunk/harbour
Message-ID: <E1NcVFF-00073X-P4@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13750
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13750&view=rev
Author:   druzus
Date:     2010-02-03 02:45:32 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 03:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvm.c
  * harbour/src/vm/itemapi.c
  * harbour/src/rtl/errapi.c
  * harbour/contrib/xhb/cstructc.c
    * changed HB_TRACE_STEALTH() to HB_TRACE()

  * harbour/include/hbtrace.h
  * harbour/include/hbstack.h
  * harbour/src/vm/estack.c
  * harbour/src/nortl/nortl.c
    + added hb_traceset() and hb_traceinfo()

  * harbour/include/hbtrace.h
  * harbour/src/common/hbtrace.c
    * use hb_traceset()/hb_traceinfo() instead of hb_tr_file_, hb_tr_line_,
      hb_tr_level_
    - removed hb_tr_file_, hb_tr_line_, hb_tr_level_
    + added hb_tr_stealth() function and modified HB_TRACE_STEALTH()
      macro to not touch any of hb_tr_*_ global variables
    + added HB_TR_FM macro which can be used to infrom FM statistic
      module that it should take filename and line number from hb_tr_*_
      global variables

  * harbour/src/vm/fm.c
    - removed dummy code with HB_TR_LEVEL setting - HB_TR_LEVEL is
      always defined by hbtrace.h
    * use hb_traceset()/hb_traceinfo() instead of hb_tr_file_, hb_tr_line_,
      hb_tr_level_
    * respect HB_TR_FM

  * harbour/src/rtl/gttrm/gttrm.c
    * formatting

  * harbour/src/vm/itemapi.c
  * harbour/src/vm/extend.c
  * harbour/src/rtl/descend.c
  * harbour/src/rtl/hbgtcore.c
  * harbour/src/rtl/mtran.c
  * harbour/src/rtl/samples.c
  * harbour/src/common/hbstr.c
  * harbour/src/common/hbdate.c
    ! fixed possible GPF traps in HB_TRACE() messages caused by %s used
      for not \0 terminated strings or uninitialized buffers

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/cstructc.c
    trunk/harbour/include/hbstack.h
    trunk/harbour/include/hbtrace.h
    trunk/harbour/src/common/hbdate.c
    trunk/harbour/src/common/hbstr.c
    trunk/harbour/src/common/hbtrace.c
    trunk/harbour/src/nortl/nortl.c
    trunk/harbour/src/rtl/descend.c
    trunk/harbour/src/rtl/errapi.c
    trunk/harbour/src/rtl/gttrm/gttrm.c
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/rtl/mtran.c
    trunk/harbour/src/rtl/samples.c
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/extend.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/itemapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Tue Feb  2 21:51:46 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Feb  2 21:51:56 2010
Subject: [Harbour] -z switch seems to be overly anti-lazy
In-Reply-To: <674e4ddd1001280342h67bd8622na4f3b09b5115ede5@mail.gmail.com>
References: <674e4ddd1001280145j14a80aal1beb7b3438e0727d@mail.gmail.com>
	<20100128112057.GA21289@linux-4bod.home.aster.pl>
	<674e4ddd1001280342h67bd8622na4f3b09b5115ede5@mail.gmail.com>
Message-ID: <674e4ddd1002021851o29934a68r66323b291a9d8dac@mail.gmail.com>

I have the test which has been proven with our Clipper 5.2e running on DOS
of a difference in Harbour.... below is an explanation I received by e-mail:

====== start here

If eval({||devout("hello"),.f.)}) .or. .t.
endif

In Clipper the eval() will process (even though it appears redundant because
.t. will make the IF statement always return .t.

Harbour does not process the eval()

Unfortunately, my code could be scattered with situations where I have used
the Clipper behaviour to do something intentional (as in my search routine).
I will need to look for other places (or more likely wait for things to
break) and change the logic to get around this unless Harbour is interested
in making this fully compatible.

======

Any thoughts?  Is it because the guy who showed me this line of code relied
too much on Clipper bugs when programming?

Thanks Przemek


On Thu, Jan 28, 2010 at 3:42 AM, smu johnson <smujohnson@gmail.com> wrote:

> Thanks for the reply.
>
> As far as I can tell, I have found a difference in Clipper and Harbour in
> terms of these evaluations.  But as I said earlier, I could be completely
> mistaken.  I have done a lot of little tests to check the -z flag but
> unfortunately I'm not that good at Clipper as one of my friends is.  (I'm
> better at Perl, etc).  But if I can demonstrate the problem in a small Hello
> World type example, I will post it, to try to figure out what is happening,
> with your help.  :)  The only reason I bring this up, is because I am trying
> to compile an old DOS16 app and it is behaving differently on these .or.
> lines.
>
> Thanks again for reading!!!  I have read your informative reply, and will
> test what you said out for myself to try to figure out what is going on.
>
>
> 2010/1/28 Przemys?aw Czerpak <druzus@acn.waw.pl>
>
>> On Thu, 28 Jan 2010, smu johnson wrote:
>>
>>
>> Hi!
>>
>> > I noticed the -z switch allows to stop using shortcuts for .and. and
>> .or.
>> > Clipper conditions.
>> > Without -z, if I do:
>> > eval(something) .or. .t. // will recognize that it's already true, and
>> not
>> > make the eval
>> > When -z is enabled:
>> > .f. .and. eval(something) // will try to eval 'something', despite the
>> fact
>> > that .f. already failed.
>>
>> Exactly just like in Clipper.
>>
>> > ... If what I said is actually true, is there any sort of secondary -z
>> > switch that can be done to make it simply not be lazy, yet fail on first
>> > condition?
>>
>> It's default behavior. Just simply do not use -z or better use the same
>> switches as in Clipper.
>>
>> > ... If what I said is complete nonsense and complete BS, I will have to
>> go
>> > through the code I'm trying to compile that someone else wrote and see
>> > what's up.  By the way, I realize that the above examples are not the
>> best
>> > way to do things... and I sure as heck wouldn't do it that way myself.
>>  Just
>> > trying to get some existing Clipper functioning code to behave the same
>> way
>> > in Harbour.
>>
>> You mixed two different things which confuse you:
>>   1. compile time optimizations
>>   2. lazy boolean expression evaluation
>>
>> Both Harbour and Clipper support -z switch to control lazy expression
>> evaluation. It works in the same way. This code illustrate it:
>>
>>   proc main()
>>      local f:=.F., t:=.T.
>>      ?; ?? .t. .or.  f()
>>      ?; ?? .f. .and. f()
>>      ?; ?? f() .or.  .t.
>>      ?; ?? f() .and. .f.
>>      ?
>>      ?; ??  t  .or.  f()
>>      ?; ??  f  .and. f()
>>      ?; ?? f() .or.   t
>>      ?; ?? f() .and.  f
>>      ?
>>   return
>>   func f()
>>      ?? "[F()] "
>>   return .T.
>>
>> compile it with and without -z switch using Harbour and Clipper and
>> compare results. Please note that when -z is not used then first 4
>> expressions are optimized at compile time and next 4 ones are optimized
>> at runtime. Compile time optimization calculates final result and
>> replace the code with simple .F. or .T. so F() function is never
>> execute. It's also Clipper compatible behavior.
>> Anyhow Clipper does not optimize all expressions (i.e. it does not
>> optimize <exp> if message is send to it: <exp>:msg()) and cannot strip
>> parenthesis in optimization process. Harbour does not make any exceptions
>> here and optimize all end everywhere if it's possible what seems to be
>> correct behavior. You can add these lines to above test to see the
>> difference:
>>
>>   ?; ?? (.t.) .or.  f()
>>   ?; ?? (.f.) .and. f()
>>   ?; ?? f() .or.  (.t.)
>>   ?; ?? f() .and. (.f.)
>>   ?
>>   ?; ?? ( .t. .or.  f() ):classname
>>   ?; ?? ( .f. .and. f() ):classname
>>   ?; ?? ( f() .or.  .t. ):classname
>>   ?; ?? ( f() .and. .f. ):classname
>>   ?
>>
>> compile it without -z switch and compare Clipper and Harbour results.
>> If you want to replicate also this Clipper behavior then you can use
>> -kc switch which disables all Harbour extensions though I cannot promise
>> that we located all places were Clipper does not make compile time
>> optimization and added necessary protection for -kc switch. If you will
>> find sth then please inform us. We try to cover it by -kc switch or
>> document the difference. Such missing optimizations in chosen places
>> for me are bugs which should be eliminated to not create some hidden
>> and not understandable for users exception so I've never tried to make
>> precise test to detect all such Clipper anomalies.
>> If you want to read more about compile time optimizations then read
>> docs/cmpopt.txt
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100202/977a2a68/attachment-0001.html
From jarabal at gmail.com  Tue Feb  2 21:56:37 2010
From: jarabal at gmail.com (Xavi)
Date: Tue Feb  2 21:57:17 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <C3623457-4A0A-450D-ABFA-9723BD38C48C@syenar.hu>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>	<4B66D939.20307@gmail.com>	<20100202183351.GA24204@linux-4bod.home.aster.pl>	<4B688668.9080209@gmail.com>	<20100202222706.GA15589@linux-4bod.home.aster.pl>
	<C3623457-4A0A-450D-ABFA-9723BD38C48C@syenar.hu>
Message-ID: <4B68E5E5.2010500@gmail.com>

To Viktor,

El 03/02/2010 0:09, Viktor Szak?ts escribi?:
>> for GPF at application startup caused by accessing TSD before HVM
>> stack is initialized. It seems to work though it can be greatly
>> simplified and of course the GPF in startup code and non HVM threads
>> has to be fixed.
> That pretty much sums up what I didn't like about the
> implementation without even knowing the exact details
> (I'd have bet that MT mode had problems f.e.)

That's great!. No Comments. :-)

Best regards,
Xavi
From smujohnson at gmail.com  Tue Feb  2 22:22:42 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Feb  2 22:22:53 2010
Subject: [Harbour] Alert() / print buffer Clipper -> Harbour difference
Message-ID: <674e4ddd1002021922s170572b9vfe24f011ff8707ef@mail.gmail.com>

Hi,

I found a problem that is very noticeable when using the ALERT() func.  If
your MS Windows buffer size setting (
http://209.97.219.2/sjohnson/misc/alert_problem_buffer500-set.png ) is to >
25, position screws up.  This is not a problem with Clipper 5.2e (using
Blinker).

The alert box shows up like this:
http://209.97.219.2/sjohnson/misc/alert_problem_buffer500.png ... but like I
said, this difference does not show up if you keep the buffer height set to
25.  But since Clipper does not have this problem, no matter what the value
is set to, I thought I'd ask here.

Thanks for reading.  What can I do?

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100202/26b8abf5/attachment.html
From amigosam at adinet.com.uy  Tue Feb  2 22:32:12 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Feb  2 22:32:45 2010
Subject: [Harbour] Re: Alert() / print buffer Clipper -> Harbour difference
In-Reply-To: <674e4ddd1002021922s170572b9vfe24f011ff8707ef@mail.gmail.com>
References: <674e4ddd1002021922s170572b9vfe24f011ff8707ef@mail.gmail.com>
Message-ID: <hkaqnh$849$1@ger.gmane.org>

El 03/02/2010 1:22, smu johnson escribi?:
> Hi,
>
> I found a problem that is very noticeable when using the ALERT() func.
> If your MS Windows buffer size setting (
> http://209.97.219.2/sjohnson/misc/alert_problem_buffer500-set.png ) is
> to > 25, position screws up.  This is not a problem with Clipper 5.2e
> (using Blinker).
>
> The alert box shows up like this:
> http://209.97.219.2/sjohnson/misc/alert_problem_buffer500.png ... but
> like I said, this difference does not show up if you keep the buffer
> height set to 25.  But since Clipper does not have this problem, no
> matter what the value is set to, I thought I'd ask here.
>
> Thanks for reading.  What can I do?
>
> --
> smu johnson <smujohnson@gmail.com
> <mailto:smujohnson@gmail.com>>
>

You must put at the beggining of your main.prg:  SetMode(25,80)

HTH
Angel

From bedipritpal at hotmail.com  Wed Feb  3 00:32:24 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 00:32:32 2010
Subject: [Harbour] hbide_pathProc() - Merging Paths - Clarification
Message-ID: <1265175144736-4505657.post@n2.nabble.com>


Hello Viktor

This is the changelog entry:

  * contrib/hbide/idemisc.prg
    + hbide_PathProc()
      This function can combine relative paths together so it's
      the key to avoid macros dealing with placing paths to their
      intended location. It can replace current method of
      <IdeSrc> = hb_dirBase(). F.e.:
          hbide_PathProc( "src/mysource_in_project.prg", "projects_dir/" )
->
                  "projects_dir/src/mysource_in_project.prg"
          hbide_PathProc( "projects/myproject.hbi", hb_dirBase() ) ->
                  "C:/harbour/contrib/hbide/projects/myproject.hbi"
      Please use it.

And I was experimenting with it. But I could not got the desired results.

This is what I tried:
                             filename_to_be_stored              
project_location
      hbide_pathProc( "C:\dev_sources\vouch\abc.prg",
"C:\harbour\contrib\hbide\projects\hbide.hbi" )
and received:
      C:\dev_sources\vouch\abc.prg
whereas I was expecting something like:
      ../../../../dev_sources/vouch/abc.prg
this way only I can retain the relative paths in .hbi which will be
transferable to 
any system and drive. Drive letter or root path is assumed the same.

Or I am making a mistake ?





-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-pathProc-Merging-Paths-Clarification-tp4505657p4505657.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From sscc at mweb.co.za  Wed Feb  3 01:28:31 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Feb  3 01:28:37 2010
Subject: [Harbour] DBF encryption
In-Reply-To: <20100202165016.GB23226@linux-4bod.home.aster.pl>
References: <4B56ED2F.4020105@mweb.co.za>	<20100129080638.GB30236@linux-4bod.home.aster.pl>	<4B680058.9080604@mweb.co.za>
	<20100202165016.GB23226@linux-4bod.home.aster.pl>
Message-ID: <4B69178F.6090503@mweb.co.za>

Przemys?aw Czerpak wrote:

> All such modifications will effect SIX3 compatibility.
> To touch it will have to repeat some tests with SIX3 and
> document differences and it will be time consuming process
> due to bugs in SIX3 library. I do not have time for it now,
> sorry.

No problem, thanks for the response.

Regards
Alex

From maurilio.longo at libero.it  Wed Feb  3 03:35:07 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb  3 03:35:20 2010
Subject: [Harbour] hb_QWith()/with object inside macro compiler
In-Reply-To: <E9ED5480-58A4-4DF9-B981-F593E5F3A8C6@syenar.hu>
References: <4B67D947.3000704@libero.it>	<20100202152545.GA10503@linux-4bod.home.aster.pl>
	<E9ED5480-58A4-4DF9-B981-F593E5F3A8C6@syenar.hu>
Message-ID: <4B69353B.2020103@libero.it>

Viktor, Przemyslaw,

I'd like to see a sample of code which uses with var as well.

Right now, with object enables me to write dynamic html pages via an
interpreter which uses &() to evaluate source code and to hide to this
interpreted code whether it is being run as a CGI or as a fast CGI (sort of,
it is xitami lrwp protocol).

I try to explain more in detail so that you can grasp what I'm looking for and
tell me if it is feasible or not with harbour (and following harbour rules).

My web server has an association between .prg files and a cgi program called
hscript (like the old contrib one from which I borrowed several ideas).

When a request comes in for a page with .prg extension the web server calls
hscript which 'executes' the source code like a cgi program and, before
returning, starts another instance of itself which attaches to the webserver
via the lrwp protocol so that all following requests for the same page are an
order of magnitude faster.

Inside hscript I have code like this:

// interpreted
with object oCGI
	Interprete( .... )
end

// fast cgi
with object oLRWP
	Interprete( ... )
end

Dynamic html pages contain code like this:

for i := 1 to Len( aPri )
         %>
         <option value='<% :cgiOut( aPri[ i ][ 1 ] ) %>' <% :cgiOut( iif(
aPri[ i ][ 1 ] == nSelected, " selected", "" ) ) %> > <% :cgiOut( aPri[ i ][ 2
] ) %> </option>
         <%
next

where <% and %> delimit clipper code which calls the oCGI/oLRWP methods to do
its work, output things, or access oCGI/oLRWP iVARs like :Sever_Name or
:Query_String.

So, if with var works with &() it is perfect for me, I don't mind having to
change a few with object statements.

with var oCGI
	Interprete( ... )
end

I'm really not able to give you more valid reasons to have such a capability,
because I'm using it just for this kind of code (my employer web site, for
example, is completely written this way).

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Wed Feb  3 03:43:54 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 03:44:07 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <4B68E5E5.2010500@gmail.com>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>	<4B66D939.20307@gmail.com>	<20100202183351.GA24204@linux-4bod.home.aster.pl>	<4B688668.9080209@gmail.com>	<20100202222706.GA15589@linux-4bod.home.aster.pl>
	<C3623457-4A0A-450D-ABFA-9723BD38C48C@syenar.hu>
	<4B68E5E5.2010500@gmail.com>
Message-ID: <B77F78AE-4375-4864-9873-B03283ECBD81@syenar.hu>


On 2010 Feb 3, at 03:56, Xavi wrote:

> To Viktor,
> 
> El 03/02/2010 0:09, Viktor Szak?ts escribi?:
>>> for GPF at application startup caused by accessing TSD before HVM
>>> stack is initialized. It seems to work though it can be greatly
>>> simplified and of course the GPF in startup code and non HVM threads
>>> has to be fixed.
>> That pretty much sums up what I didn't like about the
>> implementation without even knowing the exact details
>> (I'd have bet that MT mode had problems f.e.)
> 
> That's great!. No Comments. :-)

Next time maybe you should post your patch instead of 
hiding it, so no guessing is required based on past work!

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Feb  3 04:10:52 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb  3 04:11:01 2010
Subject: [Harbour] -z switch seems to be overly anti-lazy
In-Reply-To: <674e4ddd1002021851o29934a68r66323b291a9d8dac@mail.gmail.com>
References: <674e4ddd1001280145j14a80aal1beb7b3438e0727d@mail.gmail.com>
	<20100128112057.GA21289@linux-4bod.home.aster.pl>
	<674e4ddd1001280342h67bd8622na4f3b09b5115ede5@mail.gmail.com>
	<674e4ddd1002021851o29934a68r66323b291a9d8dac@mail.gmail.com>
Message-ID: <20100203091052.GA5007@linux-4bod.home.aster.pl>

On Tue, 02 Feb 2010, smu johnson wrote:

Hi,

> I have the test which has been proven with our Clipper 5.2e running on DOS
> of a difference in Harbour.... below is an explanation I received by e-mail:
> ====== start here
> If eval({||devout("hello"),.f.)}) .or. .t.
> endif
> In Clipper the eval() will process (even though it appears redundant because
> .t. will make the IF statement always return .t.
> Harbour does not process the eval()

The above is not true.
Both Clipper (5.2 and 5.3) and Harbour execute above code in exactly
the same way:
iF -z compile time switch is used then "hello" is printed otherwise not.

Please compile your example with Clipper and check results.

> Unfortunately, my code could be scattered with situations where I have used
> the Clipper behaviour to do something intentional (as in my search routine).
> I will need to look for other places (or more likely wait for things to
> break) and change the logic to get around this unless Harbour is interested
> in making this fully compatible.

If you need help then you have to show us the difference.
Otherwise we do not know what is the problem.

> ======
> Any thoughts?  Is it because the guy who showed me this line of code relied
> too much on Clipper bugs when programming?

Without real code example I cannot help you.
Maybe you are not talking about normal code but about macrocompiler?
Clipper does not have compile time optimizations in macrocompiler so
it may give different results for the same code compiled directly and
by macrocompiler. This is self contain exmaple which illustrates the
difference:

   ? eval({||qout("hello"),.f.}) .or. .t.
   ? &('eval({||qout("WORLD"),.f.}) .or. .t.')

If you show me the _exact_ code which creates problems for you then
I can try to help you to resolve it or find workaround but I have to
know what it is.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb  3 04:16:22 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb  3 04:16:33 2010
Subject: [Harbour] hbide_pathProc() - Merging Paths - Clarification
In-Reply-To: <1265175144736-4505657.post@n2.nabble.com>
References: <1265175144736-4505657.post@n2.nabble.com>
Message-ID: <DD44109F-BAB1-4D6F-86F1-BB14FD9F65E1@syenar.hu>

Hi,

> This is the changelog entry:
> 
>  * contrib/hbide/idemisc.prg
>    + hbide_PathProc()
>      This function can combine relative paths together so it's
>      the key to avoid macros dealing with placing paths to their
>      intended location. It can replace current method of
>      <IdeSrc> = hb_dirBase(). F.e.:
>          hbide_PathProc( "src/mysource_in_project.prg", "projects_dir/" )
> ->
>                  "projects_dir/src/mysource_in_project.prg"
>          hbide_PathProc( "projects/myproject.hbi", hb_dirBase() ) ->
>                  "C:/harbour/contrib/hbide/projects/myproject.hbi"
>      Please use it.
> 
> And I was experimenting with it. But I could not got the desired results.
> 
> This is what I tried:
>                             filename_to_be_stored              
> project_location
>      hbide_pathProc( "C:\dev_sources\vouch\abc.prg",
> "C:\harbour\contrib\hbide\projects\hbide.hbi" )
> and received:
>      C:\dev_sources\vouch\abc.prg
> whereas I was expecting something like:
>      ../../../../dev_sources/vouch/abc.prg
> this way only I can retain the relative paths in .hbi which will be
> transferable to 
> any system and drive. Drive letter or root path is assumed the same.
> 
> Or I am making a mistake ?

Probably you misunderstood the function. This function is 
useful to create full path for a file, from a _base 
dir spec_ which is usually an absolute one, and file/dir spec, 
which is usually a relative one. Notice that it's possible 
that base dir is a relative dir and it's also possible 
that file spec is an absolute one, but this should not be 
a problem for us. If the file/dir spec is an absolute one, 
it will simply override the base dir.

Some examples:
   BASE-absolute + FILE-relative: 'C:\apps\' + 'data.txt' -> 'C:\apps\data.txt'
   BASE-relative + FILE-relative: 'myprojects' + 'data.txt' -> 'myprojects\data.txt'
   BASE-relative + FILE-absolute: 'myprojects' + 'C:\files\myfile' -> 'C:\files\data.txt'
   BASE-absolute + FILE-absolute: 'C:\apps\' + 'C:\files\myfile' -> 'C:\files\data.txt'

The general idea is that an application should never be 
dependent on where it or its settings/data/other files 
reside on a machine, and it should find these file even when 
the app is not started from the executables base directory, 
or moved away to a different location. 
This means it should not store absolute paths in its settings, 
or inside the code (except for known system locations (f.e. 
autoexec.bat), or when the user specifically selected some files, 
f.e. history of opened projects). Instead, it should use relative 
ones in each of these places. And it should rebase all these 
relative paths to a known base before using it in a file operation. 
My function does this rebasing.

To rebase your must choose a base dir for each situation.
Base dir can be based the location of executable (hb_dirbase()), 
or location of any other known path (f.e. the base file for 
a multifile 'document', like a parent/root .hbp file).

It's important to never store these rebased paths on disk.

So for example to open a database which is stored in 
<app>/data/test.dbf, you do this in code:
   opendbf( hbide_pathproc( hb_dirbase(), "data/test.dbf" ) )
it will open:
   <app>/data/testdbf

To open a .prg which belongs to a project stored under 
a project directory you do this:
   openfile( hbide_pathproc( cProjectFileName, "mysource.prg" ) )
it will open:
   <projectdir>/mysource.prg
Notice that it doesn't matter whether cProjectFileName is 
an absolute or relative dir, it will work in all cases.

You can find many examples for above in hbmk2 source code.

I hope that clarifies somehow.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Feb  3 04:32:32 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb  3 04:32:46 2010
Subject: [Harbour] hbide_pathProc() - Merging Paths - Clarification
In-Reply-To: <1265175144736-4505657.post@n2.nabble.com>
References: <1265175144736-4505657.post@n2.nabble.com>
Message-ID: <E3DDC359-26D4-444F-A3FA-4BEE8F02D1E5@syenar.hu>

> This is what I tried:
>                             filename_to_be_stored              
> project_location
>      hbide_pathProc( "C:\dev_sources\vouch\abc.prg",
> "C:\harbour\contrib\hbide\projects\hbide.hbi" )
> and received:
>      C:\dev_sources\vouch\abc.prg
> whereas I was expecting something like:
>      ../../../../dev_sources/vouch/abc.prg

Back to this example and to put it shortly:

What you get is expected. In this case an absolute path was 
forced for the .prg file, which will be respected by this logic.

Whilst you expect my function to convert an absolute path 
to a relative one. This is never a good idea and doesn't 
have any point anyway, since you'd be in the same trouble 
in case you had moved your base dir (in this case hbide 
location).

In this case the IMO best solution is to move the .hbp (.hbi) 
file to C:\dev_sources\vouch\vouch.hbp and store "abc.prg" 
(without any path) in the .hbp file.

To open this .hbp file, you must specify (or visually select) 
it, and at this point we got to know the base directory, thus 
we also know the complete dir for each referenced source file.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Feb  3 04:35:31 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 04:35:39 2010
Subject: [Harbour] -z switch seems to be overly anti-lazy
In-Reply-To: <20100203091052.GA5007@linux-4bod.home.aster.pl>
References: <674e4ddd1001280145j14a80aal1beb7b3438e0727d@mail.gmail.com>
	<20100128112057.GA21289@linux-4bod.home.aster.pl>
	<674e4ddd1001280342h67bd8622na4f3b09b5115ede5@mail.gmail.com>
	<674e4ddd1002021851o29934a68r66323b291a9d8dac@mail.gmail.com>
	<20100203091052.GA5007@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002030135h20200936idf16c38cd72d00ad@mail.gmail.com>

Przemek,

I will try to take a video of the behaviour and figure it out.  I swear to
you, that I am not making this up.  If it helps, we are using Clipper 5.2e
and Blinker.  I will take screenshots of the behavioru to prove what I am
saying is the case, and hopefully, with your Clipper knowledge :)  we can
figure it out. Thanks for replying !


2010/2/3 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Tue, 02 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > I have the test which has been proven with our Clipper 5.2e running on
> DOS
> > of a difference in Harbour.... below is an explanation I received by
> e-mail:
> > ====== start here
> > If eval({||devout("hello"),.f.)}) .or. .t.
> > endif
> > In Clipper the eval() will process (even though it appears redundant
> because
> > .t. will make the IF statement always return .t.
> > Harbour does not process the eval()
>
> The above is not true.
> Both Clipper (5.2 and 5.3) and Harbour execute above code in exactly
> the same way:
> iF -z compile time switch is used then "hello" is printed otherwise not.
>
> Please compile your example with Clipper and check results.
>
> > Unfortunately, my code could be scattered with situations where I have
> used
> > the Clipper behaviour to do something intentional (as in my search
> routine).
> > I will need to look for other places (or more likely wait for things to
> > break) and change the logic to get around this unless Harbour is
> interested
> > in making this fully compatible.
>
> If you need help then you have to show us the difference.
> Otherwise we do not know what is the problem.
>
> > ======
> > Any thoughts?  Is it because the guy who showed me this line of code
> relied
> > too much on Clipper bugs when programming?
>
> Without real code example I cannot help you.
> Maybe you are not talking about normal code but about macrocompiler?
> Clipper does not have compile time optimizations in macrocompiler so
> it may give different results for the same code compiled directly and
> by macrocompiler. This is self contain exmaple which illustrates the
> difference:
>
>   ? eval({||qout("hello"),.f.}) .or. .t.
>   ? &('eval({||qout("WORLD"),.f.}) .or. .t.')
>
> If you show me the _exact_ code which creates problems for you then
> I can try to help you to resolve it or find workaround but I have to
> know what it is.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/eb7cd82d/attachment.html
From fperillo at gmail.com  Wed Feb  3 04:42:51 2010
From: fperillo at gmail.com (francesco perillo)
Date: Wed Feb  3 04:42:59 2010
Subject: [Harbour] Binaries for Suse
In-Reply-To: <hkaa2o$t7j$1@ger.gmane.org>
References: <hkaa2o$t7j$1@ger.gmane.org>
Message-ID: <6943770e1002030142t15ea9350p589297a294db7c9c@mail.gmail.com>

I can provide rpm for some suse releases... which one do you need ?
And which optional components do you need (since some of these servers
are production servers I can't install too much stuff on them....)

Francesco
From Jaroslav.Janik at siemens.com  Wed Feb  3 05:09:58 2010
From: Jaroslav.Janik at siemens.com (Janik, Jaroslav)
Date: Wed Feb  3 05:10:27 2010
Subject: [Harbour] Hbide fails
In-Reply-To: <1264971472176-4491053.post@n2.nabble.com>
References: <1264817528468-4483724.post@n2.nabble.com>
	<1264971472176-4491053.post@n2.nabble.com>
Message-ID: <D372649F61577F4AA917D493CA06ECBD01817561@btss020a.ww300.siemens.net>

Please check this hbide behaviour:

1, I have created project in hbide and opened my test2.prg. 
2, Then I closed hbide. The hbide.ini contains this information.

------------------------------------------------------------------------
---------------------
[FILES]

D:/MINI_PRG/CRYPT/test2.prg,64,0,0,Bare Minimum,

[FIND]


[REPLACE]


[RECENTFILES]

d:/mini_prg/crypt/test2.prg

[RECENTPROJECTS]
------------------------------------------------------------------------
---------------------

3, I deleted (moved) my test2.prg
4, I run hbide. After several dialogs it fails.

Thanks
Jaro
From druzus at acn.waw.pl  Wed Feb  3 05:14:35 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb  3 05:14:42 2010
Subject: [Harbour] Przemek Q: SIX "FOR" clause Clipper/Harbour difference
In-Reply-To: <674e4ddd1002021431ke9040dan4b0f80548ebc3d95@mail.gmail.com>
References: <674e4ddd1002021431ke9040dan4b0f80548ebc3d95@mail.gmail.com>
Message-ID: <20100203101435.GB5007@linux-4bod.home.aster.pl>

On Tue, 02 Feb 2010, smu johnson wrote:

Hi,

> When a table's index file is re-opened (it was previously created), does it
> have to evaluate the FOR clause, or can it wait to do that only when a value
> in the table row changes?

It does not need to be evaluated and can wait but it has to be valid
expression which can be compiled by macrocompiler.
Anyhow few times people asked to make such test evaluation to detect
some potential problems like missing functions, incompatible aliases
or not logical results as fast as possible and report RTE before
executed code will start some operations which cannot be finished.
Just like someone asked to delay all such tests as long as possible
because he only wanted to skip using the index created by foreign
application with unknown UDFs in KEY and FOR expressions.
In clipper this behavior depends on used RDD and different RDDs
evaluates KEY and FOR expressions first time in different places.
Similar situation is in xHarbour.

> In SIX, it does not check the FOR expression when it opens an index file.
> In Harbour, when you open the index file it will evaluate the FOR
> expression, and if any variables or functions in that expression are not
> visible, the system will crash (undefined variable/function).

Not crash but generates RTE. You can catch RT errors using BEGIN SEQUENCE
statement.You are right about FOR expression. Harbour DBFCDX evaluates
index KEY and FOR expressions to test their results just after opening
index file. It's CL5.3 DBFCDX / COMIX behavior but CL5.2 DBFCDX / SIXCDX
evaluates only KEY expression when index is open and FOR is evaluated only
when index is updated.

> eg. Index on iif(x=3,"a","b") tag "temp" of test.cdx
> When the index is opened (set index to...) if X is not visible, Harbour will
> crash. In Clipper, it will only crash if a row in the table  changes value
> and the index needs to be updated.

Yes but please use more precise description. RTE is not a crash but
exception which can be fully controlled by programmer. Some important
Clipper features are implemented using RTE, i.e. NETERR() or division
by 0.

> Unfortunately, my code has lots of specialized temporary indexes that are
> created and then used within a specific function. This does not present a
> problem until a timer event fires, which needs to close files to do
> "something". Upon reopening those file before RETURNing back the original
> function, the system crashes because the FOR in the index has variables out
> of scope.
> I can rewrite these but I will probably have to use Private variables and
> non-Static functions.

I'll change early expression evaluation in Harbour SIXCDX driver only
so Harbour SIXCDX will work like CL52 DBFCDX / SIX3 SIXCDX and
Harbour DBFCDX will work like CL53 DBFCDX / COMIX verifying both KEY
and FOR expressions when index is opening.

I'll commit it in a while. You should take current Harbour SVN and
rebuild the compiler binaries.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Feb  3 05:16:08 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb  3 05:16:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13751] trunk/harbour
Message-ID: <E1NccHI-0005eJ-84@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13751
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13751&view=rev
Author:   druzus
Date:     2010-02-03 10:16:06 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 11:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
    ! do not verify FOR expression just after loading new index file
      in SIXCDX RDD. It's CL52 DBFCDX / SIX3 SIXCDX compatible behavior
      but Harbour DBFCDX and CL53 DBFCDX / COMIX verifies both KEY and
      FOR expressions when index is loaded.
    ! fixed RTE numbers to be CL53 compatible when index with wrong
      (returning wrong results) KEY or FOR expression is loaded.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb  3 05:29:46 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb  3 05:29:53 2010
Subject: [Harbour] -z switch seems to be overly anti-lazy
In-Reply-To: <674e4ddd1002030135h20200936idf16c38cd72d00ad@mail.gmail.com>
References: <674e4ddd1001280145j14a80aal1beb7b3438e0727d@mail.gmail.com>
	<20100128112057.GA21289@linux-4bod.home.aster.pl>
	<674e4ddd1001280342h67bd8622na4f3b09b5115ede5@mail.gmail.com>
	<674e4ddd1002021851o29934a68r66323b291a9d8dac@mail.gmail.com>
	<20100203091052.GA5007@linux-4bod.home.aster.pl>
	<674e4ddd1002030135h20200936idf16c38cd72d00ad@mail.gmail.com>
Message-ID: <20100203102945.GA9256@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, smu johnson wrote:

Hi,

> I will try to take a video of the behaviour and figure it out.  I swear to
> you, that I am not making this up.  If it helps, we are using Clipper 5.2e
> and Blinker.  I will take screenshots of the behavioru to prove what I am
> saying is the case, and hopefully, with your Clipper knowledge :)  we can
> figure it out. Thanks for replying !

I also have CL5.2e and BLINKER and before I replayed I had verified
the results. I do not need any video, screen shots or antyhing like
that. I need only code example. The one you sent works in the same
way in CL5.2e and Harbour (after fixing typo which breaks compilation
so I guess it was not real code but you typed it by hand for that
message only). If you try to create real .prg code example and compile
it using Clipper and Harbour (linker is unimportant here, you can use
also RTLINK, i.e. with cl.bat) then you should find the exact reason
of problem. If it will not be enough for you to resolve it then please
send the code example here with descrption about the difference and
I'll try to help you. Such example should be as small as possible,
i.e. this code illustrates in 1-st line the the at compile time
Clipper and Harbour gives _EXACTLY_ the same results when used with
and without -z switch and the 2-nd line shows that Clipper does
not optimize expressions in macrocompiler so code generated by
macrocompiler is different then code generated by compiler. In
Harbour it's the same.

   ? eval({||qout("hello"),.f.}) .or. .t.
   ? &('eval({||qout("WORLD"),.f.}) .or. .t.')

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Feb  3 05:44:00 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  3 05:44:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13752] trunk/harbour
Message-ID: <E1NcciG-0002PZ-CS@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13752
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13752&view=rev
Author:   vszakats
Date:     2010-02-03 10:43:46 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 11:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/pgrdd.prg
    ! Fixed to not call ALERT().

  * contrib/hbpgsql/pgrdd.prg
  * contrib/hbpgsql/tpostgre.prg
    + Changed to not call deprecated destructor functions.

  * contrib/hbpgsql/postgres.ch
    ! Added copyright header.

  * contrib/hbpgsql/postgres.c
    - Minor in comments.

  * contrib/hbide/hbide.hbp
    - Deleted commented options. Use cmdline instead of
      temp edits in SVN files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbpgsql/pgrdd.prg
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/contrib/hbpgsql/postgres.ch
    trunk/harbour/contrib/hbpgsql/tpostgre.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at gmail.com  Wed Feb  3 06:31:50 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Wed Feb  3 06:32:21 2010
Subject: [Harbour] Re: Binaries for Suse
In-Reply-To: <6943770e1002030142t15ea9350p589297a294db7c9c@mail.gmail.com>
References: <hkaa2o$t7j$1@ger.gmane.org>
	<6943770e1002030142t15ea9350p589297a294db7c9c@mail.gmail.com>
Message-ID: <hkbmqv$jac$1@ger.gmane.org>

francesco perillo escreveu:
> I can provide rpm for some suse releases... which one do you need ?
> And which optional components do you need (since some of these servers
> are production servers I can't install too much stuff on them....)
> 
> Francesco
Hi,
Not is for me, but to many brazilian users.
I am looking for url
http://sourceforge.net/projects/harbour-project/files/ but not found.
I found just for 1.X

Best regards,
Itaar M. Lins Jr.

From maurilio.longo at libero.it  Wed Feb  3 06:37:57 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb  3 06:38:09 2010
Subject: [Harbour] .hbp/.hbm
Message-ID: <4B696015.7070202@libero.it>

Hi Viktor,

is there somewhere a doc which details .hbp/.hbm file syntax?

Thanks.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Wed Feb  3 06:48:19 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  3 06:48:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13753] trunk/harbour
Message-ID: <E1NcdiV-0002QV-2G@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13753
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13753&view=rev
Author:   vszakats
Date:     2010-02-03 11:48:17 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 12:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbpgsql/tpostgre.prg
    + Formatted.
    ! Indented.
    % Optimized to use SWITCH/CASE.
    % Optimized to avoid ASize() and AAdd() in a few places.
    + Using constants for structure array positions.

  * contrib/hbpgsql/tpostgre.prg
  * contrib/hbpgsql/postgres.ch
  * contrib/hbpgsql/postgres.c
    + Added and using HBPG_META_* constants.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/contrib/hbpgsql/postgres.ch
    trunk/harbour/contrib/hbpgsql/tpostgre.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb  3 06:49:06 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 06:49:16 2010
Subject: [Harbour] .hbp/.hbm
In-Reply-To: <4B696015.7070202@libero.it>
References: <4B696015.7070202@libero.it>
Message-ID: <76FD671D-340A-4F44-81D3-4537120373E9@syenar.hu>

Hi Maurilio,

On 2010 Feb 3, at 12:37, Maurilio Longo wrote:

> Hi Viktor,
> 
> is there somewhere a doc which details .hbp/.hbm file syntax?

Yes, it's 'hbmk2 --help'. The format is the exact 
same as for the command-line options.

Brgds,
Viktor

From maurilio.longo at libero.it  Wed Feb  3 08:21:20 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb  3 08:21:32 2010
Subject: [Harbour] .hbp/.hbm
In-Reply-To: <76FD671D-340A-4F44-81D3-4537120373E9@syenar.hu>
References: <4B696015.7070202@libero.it>
	<76FD671D-340A-4F44-81D3-4537120373E9@syenar.hu>
Message-ID: <4B697850.70105@libero.it>

Viktor,

sorry, but which should I use? I mean, .hbp is for options, so I'd say that
-mt or -gui have to go there.

.hbm is for source files, but how do I state dependencies or the like?

Given a bunch of .prg, .ch, .c and .h files, is there some syntax to follow to
write them inside a .hbm file?

And a .hbc file what should it contain? Where do I state needed .a/.lib files,
or paths and so on?

I'm a little bit confused :)

Maurilio.

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> On 2010 Feb 3, at 12:37, Maurilio Longo wrote:
> 
>> Hi Viktor,
>>
>> is there somewhere a doc which details .hbp/.hbm file syntax?
> 
> Yes, it's 'hbmk2 --help'. The format is the exact 
> same as for the command-line options.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Wed Feb  3 08:24:29 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  3 08:24:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13754] trunk/harbour
Message-ID: <E1NcfDZ-0008W6-HF@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13754
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13754&view=rev
Author:   vszakats
Date:     2010-02-03 13:24:28 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 14:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbfbird/tfirebrd.prg
    + Formatted.
    ! Indented.
    % Optimized to use SWITCH/CASE.
    % Optimized to avoid ASize() and AAdd() in a few places.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfbird/tfirebrd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb  3 08:42:48 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 08:43:00 2010
Subject: [Harbour] .hbp/.hbm
In-Reply-To: <4B697850.70105@libero.it>
References: <4B696015.7070202@libero.it>
	<76FD671D-340A-4F44-81D3-4537120373E9@syenar.hu>
	<4B697850.70105@libero.it>
Message-ID: <854691C6-84A1-41A5-87DF-85CE12F9CC8A@syenar.hu>

Hi,

> Viktor,
> 
> sorry, but which should I use? I mean, .hbp is for options, so I'd say that
> -mt or -gui have to go there.

.hbp and .hbm uses exactly the same format.

To keep it simple, forget .hbm for now and use one 
.hbp file per project (target).

> .hbm is for source files, but how do I state dependencies or the like?

Dependencies are found automatically if you enable -inc mode.
No need to explicitly list dependencies.

[ You can list dependencies using .d files, but lets keep 
it simple for now. ]

> Given a bunch of .prg, .ch, .c and .h files, is there some syntax to follow to
> write them inside a .hbm file?

Just list them, whitespace separated.
Except for headers which should not be included.

> And a .hbc file what should it contain? Where do I state needed .a/.lib files,
> or paths and so on?

.hbp = project file. Content is just like command line, but here you can use 
       multiple lines without command line limitation and undisturbed from shell features.
.hbm = exact same format as .hbp, you can use it to store common project properties.
       It's simply parsed as 'script file' by hbmk2, it's equivalent to '@anyfile.ext', 
       where '@' means simple script file with additional options.
.hbc = config file for libraries. The format is different from .hbp/.hbm and it's 
       described in --help and in many examples.
       It's optional, and if you have one, it makes it simpler to add libraries 
       to executable projects, since it's enough to point to .hbc files to config 
       header dir, lib dependencies, list of lib file, special lib specific options, etc.

Given my explanation skills, I'd rather recommend peaking into 
any such files inside our contrib area for live examples. You'll 
probably understand it much faster.

Check f.e.:
  examples\superlib\superlib.hbp
  examples\superlib\superlib.hbc
or
  examples\rddado\rddado.hbp
  examples\rddado\rddado.hbc

Typically you need one .hbp file per project plus optionally 
and additional .hbc file.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Feb  3 08:56:27 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  3 08:56:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13755] trunk/harbour
Message-ID: <E1NcfiV-0004l3-9E@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13755
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13755&view=rev
Author:   vszakats
Date:     2010-02-03 13:56:25 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 14:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    + Added some details on <script> usage. Most probably it's still 
      confusing, I you know a better way, tell.

  * contrib/hbfimage/fi_winfu.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Feb  3 09:01:57 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb  3 09:02:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13756] trunk/harbour
Message-ID: <E1Ncfnp-0000dO-4R@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13756
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13756&view=rev
Author:   druzus
Date:     2010-02-03 14:01:55 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 15:01 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbct/video.c
    * pacified DJGPP warning

  * harbour/external/jpeg/Makefile
    * define HAVE_STDLIB_H - it's necessary for exit() function used in
      jerror.c

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/video.c
    trunk/harbour/external/jpeg/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Wed Feb  3 09:25:59 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb  3 09:26:11 2010
Subject: [Harbour] .hbp/.hbm
In-Reply-To: <854691C6-84A1-41A5-87DF-85CE12F9CC8A@syenar.hu>
References: <4B696015.7070202@libero.it>	<76FD671D-340A-4F44-81D3-4537120373E9@syenar.hu>	<4B697850.70105@libero.it>
	<854691C6-84A1-41A5-87DF-85CE12F9CC8A@syenar.hu>
Message-ID: <4B698777.2040405@libero.it>

Viktor,

thanks, it is a lot more clear now :)

Maurilio.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From lorenzo.fiorini at gmail.com  Wed Feb  3 09:38:24 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb  3 09:38:33 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <20100202184415.GA26667@linux-4bod.home.aster.pl>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>

2010/2/2 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> If you want to see information about source file names and line numbers
> then just like for GDB do not strip final binaries and compile Harbour
> code with -g GCC flag.

Sorry probably I miss sth.
I've rebuilt Harbour (  13750 ) with -g and I did a make clean make install
Than I've rebuilt my apps using hb* scripts and added -nostrip to the
hblnk that creates the binary.

I've the error but gdb says:

(gdb) run
Starting program: /opt/teamwork/bin/ths.exe
[Thread debugging using libthread_db enabled]
[New Thread 0xb6e356e0 (LWP 29410)]
[New Thread 0xb6e34b90 (LWP 29418)]
[New Thread 0xb6633b90 (LWP 29419)]
[New Thread 0xb5cffb90 (LWP 29420)]
[New Thread 0xb54feb90 (LWP 29421)]
[Thread 0xb6633b90 (LWP 29419) exited]
[New Thread 0xb6633b90 (LWP 29422)]
[Thread 0xb6e34b90 (LWP 29418) exited]
[Thread 0xb54feb90 (LWP 29421) exited]
[New Thread 0xb54feb90 (LWP 29423)]
[New Thread 0xb6e34b90 (LWP 29424)]
[Thread 0xb5cffb90 (LWP 29420) exited]
[New Thread 0xb5cffb90 (LWP 29425)]
[Thread 0xb6633b90 (LWP 29422) exited]
[New Thread 0xb6633b90 (LWP 29426)]
[New Thread 0xb4affb90 (LWP 29427)]
[Thread 0xb6e34b90 (LWP 29424) exited]
[Thread 0xb5cffb90 (LWP 29425) exited]
[New Thread 0xb6e34b90 (LWP 29428)]
[New Thread 0xb5cffb90 (LWP 29429)]
[Thread 0xb4affb90 (LWP 29427) exited]
[Thread 0xb54feb90 (LWP 29423) exited]

Unrecoverable error 9014: Unsupported VM opcode
Called from HRBMAIN(7) in pcode.hrb
Called from PROCESSCALL(533) in ../dbl/httpsrv.prg

Program exited with code 01.
(gdb) bt
No stack.
(gdb)

Any suggestion.

best regards,
Lorenzo
From dbtopas at dbtopas.lt  Wed Feb  3 09:46:20 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Feb  3 09:48:20 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>	<20100202164603.GA23226@linux-4bod.home.aster.pl>	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>	<20100202172347.GA23937@linux-4bod.home.aster.pl>	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
Message-ID: <4B698C3C.6040403@dbtopas.lt>

Hi,


Lorenzo Fiorini wrote:
>> If you want to see information about source file names and line numbers
>> then just like for GDB do not strip final binaries and compile Harbour
>> code with -g GCC flag.
> 
> Sorry probably I miss sth.
> I've rebuilt Harbour (  13750 ) with -g and I did a make clean make install
> Than I've rebuilt my apps using hb* scripts and added -nostrip to the
> hblnk that creates the binary.
>  ...
> Unrecoverable error 9014: Unsupported VM opcode
> Called from HRBMAIN(7) in pcode.hrb
> Called from PROCESSCALL(533) in ../dbl/httpsrv.prg


I think this your problem is related to another one:


> I'm trying to move an ST http embedded server to MT.
> The ST version work since years  and it mainly load and execute HRBs.
> The problem began if I ask for a multiple request.
> What I mean is that:
> ab -n30 -c1 http://localhost:8089/test.hrb OK
> ab -n30 -c2 http://localhost:8089/test.hrb ERRORS like:
> 
> Unrecoverable error 6005: Exception SIGSEGV at address 0x20202020
> Called from HRBMAIN(62) in pcode.hrb
> Called from PROCESSCALL(617) in ../dbl/httpsrvm.prg
> 
> Unrecoverable error 9014: Unsupported VM opcode
> Called from HRBMAIN(106) in pcode.hrb
> Called from PROCESSCALL(617) in ../dbl/httpsrvm.prg


This address 0x20202020 is because memory is corrupted by some space 
padded string. I guess, the problem, has no relation to httpd or libpq. 
Can you create any self containing MT sample to indicate the problem?

Try to use valgrind instead of GDB to detect memory corruption.


Regards,
Mindaugas
From lorenzo.fiorini at gmail.com  Wed Feb  3 10:00:51 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb  3 10:01:00 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <4B698C3C.6040403@dbtopas.lt>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
	<4B698C3C.6040403@dbtopas.lt>
Message-ID: <9257026e1002030700y717b64e5mebd4c6aa8f397fd0@mail.gmail.com>

On Wed, Feb 3, 2010 at 3:46 PM, Mindaugas Kavaliauskas
<dbtopas@dbtopas.lt> wrote:

> This address 0x20202020 is because memory is corrupted by some space padded
> string. I guess, the problem, has no relation to httpd or libpq. Can you
> create any self containing MT sample to indicate the problem?
>
> Try to use valgrind instead of GDB to detect memory corruption.

Attached the valgrind log.

best regards,
Lorenzo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: log.zip
Type: application/zip
Size: 4667 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/23be9aab/log.zip
From bedipritpal at hotmail.com  Wed Feb  3 10:06:18 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 10:06:24 2010
Subject: [Harbour] Re: Hbide fails
In-Reply-To: <D372649F61577F4AA917D493CA06ECBD01817561@btss020a.ww300.siemens.net>
References: <1264817528468-4483724.post@n2.nabble.com>
	<1264971472176-4491053.post@n2.nabble.com>
	<D372649F61577F4AA917D493CA06ECBD01817561@btss020a.ww300.siemens.net>
Message-ID: <1265209578195-4507618.post@n2.nabble.com>



Janik, Jaroslav wrote:
> 
> 4, I run hbide. After several dialogs it fails.
> 

What does this means?
"Several dialogs" ?

I need more detail.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-c-stub-GC-Some-food-for-thoughts-tp4483724p4507618.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From fernando_athayde at yahoo.com.br  Wed Feb  3 10:18:20 2010
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Feb  3 10:23:04 2010
Subject: Res: [Harbour] SF.net SVN: harbour-project:[13754] trunk/harbour
In-Reply-To: <E1NcfDZ-0008W6-HF@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NcfDZ-0008W6-HF@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <381202.50427.qm@web52207.mail.re2.yahoo.com>

Hi, Viktor
this native class for access Firebird is run ok?
i was try in last year, and i was some problems with firebird 2.5

Best Regards,
Fernando Athayde




________________________________
De: "vszakats@users.sourceforge.net" <vszakats@users.sourceforge.net>
Para: harbour@harbour-project.org
Enviadas: Quarta-feira, 3 de Fevereiro de 2010 10:24:29
Assunto: [Harbour] SF.net SVN: harbour-project:[13754] trunk/harbour

Revision: 13754
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13754&view=rev
Author:   vszakats
Date:     2010-02-03 13:24:28 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 14:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbfbird/tfirebrd.prg
    + Formatted.
    ! Indented.
    % Optimized to use SWITCH/CASE.
    % Optimized to avoid ASize() and AAdd() in a few places.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfbird/tfirebrd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/a42d2655/attachment.html
From harbour.01 at syenar.hu  Wed Feb  3 10:31:35 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 10:31:45 2010
Subject: Res: [Harbour] SF.net SVN: harbour-project:[13754] trunk/harbour
In-Reply-To: <381202.50427.qm@web52207.mail.re2.yahoo.com>
References: <E1NcfDZ-0008W6-HF@sfp-svn-5.v30.ch3.sourceforge.com>
	<381202.50427.qm@web52207.mail.re2.yahoo.com>
Message-ID: <812A807D-71A7-4113-A2FD-74D6938A2B79@syenar.hu>

Hi Fernando,

Last time I tried to it with 2.5 beta, 
it didn't even build, and I haven't tried 
it again since then.

If you have some problems, report the details 
here so we can check it.

[ BTW, hbfbird doesn't currently use any GC 
collected pointers, so it falls behind the 
Harbour standard in this respect. ]

Brgds,
Viktor

On 2010 Feb 3, at 16:18, Fernando Athayde wrote:

> Hi, Viktor
> this native class for access Firebird is run ok?
> i was try in last year, and i was some problems with firebird 2.5
> 
> Best Regards,
> Fernando Athayde
> 
> De: "vszakats@users.sourceforge.net" <vszakats@users.sourceforge.net>
> Para: harbour@harbour-project.org
> Enviadas: Quarta-feira, 3 de Fevereiro de 2010 10:24:29
> Assunto: [Harbour] SF.net SVN: harbour-project:[13754] trunk/harbour
> 
> Revision: 13754
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13754&view=rev
> Author:  vszakats
> Date:    2010-02-03 13:24:28 +0000 (Wed, 03 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-03 14:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbfbird/tfirebrd.prg
>     + Formatted.
>     ! Indented.
>     % Optimized to use SWITCH/CASE.
>     % Optimized to avoid ASize() and AAdd() in a few places.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbfbird/tfirebrd.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades -M?sica - Esportes_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Wed Feb  3 10:33:58 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 10:34:05 2010
Subject: [Harbour] .hbp  - Creation of object files in the same folder
Message-ID: <1265211238371-4507796.post@n2.nabble.com>


Hello Viktor

I could see that if -inc mode is not enabled
and -workdir= is not provided, intermediatery files are 
always created in the folder where .hbp resides.
Though these are deleted at the end, but preferable
way should be to create them in under .hbmk/temp 
folder. Can it be done?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbp-Creation-of-object-files-in-the-same-folder-tp4507796p4507796.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From lorenzo.fiorini at gmail.com  Wed Feb  3 10:43:41 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb  3 10:43:51 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <20100202184415.GA26667@linux-4bod.home.aster.pl>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002030743s76bd8d29nbb83cda55e333d41@mail.gmail.com>

2010/2/2 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> If you want to see information about source file names and line numbers
> then just like for GDB do not strip final binaries and compile Harbour
> code with -g GCC flag.

At last I got a bt

(gdb) bt
#0  0xb8096430 in __kernel_vsyscall ()
#1  0xb7a446d0 in raise () from /lib/tls/i686/cmov/libc.so.6
#2  0xb7a46098 in abort () from /lib/tls/i686/cmov/libc.so.6
#3  0xb7a8224d in ?? () from /lib/tls/i686/cmov/libc.so.6
#4  0xb7a88604 in ?? () from /lib/tls/i686/cmov/libc.so.6
#5  0xb7a8c04d in ?? () from /lib/tls/i686/cmov/libc.so.6
#6  0xb7a8cee6 in realloc () from /lib/tls/i686/cmov/libc.so.6
#7  0xb7d0ea3b in hb_xrealloc (pMem=0x87e69ac, ulSize=1024)
    at ../../../../fm.c:843
#8  0xb7d1052b in hb_hashResize (pBaseHash=0xa, ulNewSize=6)
    at ../../../../hashes.c:271
#9  0xb7d32f07 in hb_hashValuePtr (pBaseHash=0x87d8dc4, pKey=0x87e09ec, fAdd=1)
    at ../../../../hashes.c:307
#10 0xb7d330cc in hb_hashGetItemPtr (pHash=0x87ee104, pKey=0x87e09ec, iFlags=2)
    at ../../../../hashes.c:470
#11 0xb7d411d4 in hb_vmArrayPop () at ../../../../hvm.c:5221
#12 0xb7d1c9a3 in hb_vmExecute (pCode=0xb804bb50 "\002$\001\0010^",
    pSymbols=0xb8055f20) at ../../../../hvm.c:1576
...

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Feb  3 10:57:45 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb  3 10:57:55 2010
Subject: [Harbour] .hbp  - Creation of object files in the same folder
In-Reply-To: <1265211238371-4507796.post@n2.nabble.com>
References: <1265211238371-4507796.post@n2.nabble.com>
Message-ID: <661FA8F5-7520-4D3F-822F-3FC61DA87BB1@syenar.hu>

Hi,

> Hello Viktor
> 
> I could see that if -inc mode is not enabled
> and -workdir= is not provided, intermediatery files are 
> always created in the folder where .hbp resides.
> Though these are deleted at the end, but preferable
> way should be to create them in under .hbmk/temp 
> folder. Can it be done?

I don't see a strong reason to enable this 
by default, and I try to make the less impact 
to the environment in default case. An option 
would be to create a temp dir, work in it, and 
delete it at the end, but besides exercising 
the file system and requiring more than absolutely 
required file access rights, it could also have 
an adverse effect on parallel hbmk2 runs.

I understand current default behavior can only 
have bad side effect if a user have .prg and .c 
sources with the same name. But this case have 
other very bad side effects too (object name 
collision), so a temp dir would only solve it, 
if those common names would belong to different 
projects inside the same dir. Seems rather rare 
to protect against it by default.

Users who need specific work dir, should simply 
use -workdir option, f.e. -workdir=.hbmk2/temp 
to get the effect you need.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Feb  3 11:01:35 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb  3 11:01:48 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <9257026e1002030743s76bd8d29nbb83cda55e333d41@mail.gmail.com>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030743s76bd8d29nbb83cda55e333d41@mail.gmail.com>
Message-ID: <645A1A04-9821-40C3-8201-3A9BCE09DEE5@syenar.hu>

I think we'd need a self-contained example here.

I tried to check the valgrind log, but the code 
running is non-Harbour .c code, so it not very easy 
to draw any conclusions, it could basically be 
anything corrupting internals.

Brgds,
Viktor

On 2010 Feb 3, at 16:43, Lorenzo Fiorini wrote:

> 2010/2/2 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> 
>> If you want to see information about source file names and line numbers
>> then just like for GDB do not strip final binaries and compile Harbour
>> code with -g GCC flag.
> 
> At last I got a bt
> 
> (gdb) bt
> #0  0xb8096430 in __kernel_vsyscall ()
> #1  0xb7a446d0 in raise () from /lib/tls/i686/cmov/libc.so.6
> #2  0xb7a46098 in abort () from /lib/tls/i686/cmov/libc.so.6
> #3  0xb7a8224d in ?? () from /lib/tls/i686/cmov/libc.so.6
> #4  0xb7a88604 in ?? () from /lib/tls/i686/cmov/libc.so.6
> #5  0xb7a8c04d in ?? () from /lib/tls/i686/cmov/libc.so.6
> #6  0xb7a8cee6 in realloc () from /lib/tls/i686/cmov/libc.so.6
> #7  0xb7d0ea3b in hb_xrealloc (pMem=0x87e69ac, ulSize=1024)
>    at ../../../../fm.c:843
> #8  0xb7d1052b in hb_hashResize (pBaseHash=0xa, ulNewSize=6)
>    at ../../../../hashes.c:271
> #9  0xb7d32f07 in hb_hashValuePtr (pBaseHash=0x87d8dc4, pKey=0x87e09ec, fAdd=1)
>    at ../../../../hashes.c:307
> #10 0xb7d330cc in hb_hashGetItemPtr (pHash=0x87ee104, pKey=0x87e09ec, iFlags=2)
>    at ../../../../hashes.c:470
> #11 0xb7d411d4 in hb_vmArrayPop () at ../../../../hvm.c:5221
> #12 0xb7d1c9a3 in hb_vmExecute (pCode=0xb804bb50 "\002$\001\0010^",
>    pSymbols=0xb8055f20) at ../../../../hvm.c:1576
> ...
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Wed Feb  3 11:10:38 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb  3 11:10:46 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <9257026e1002030700y717b64e5mebd4c6aa8f397fd0@mail.gmail.com>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
	<4B698C3C.6040403@dbtopas.lt>
	<9257026e1002030700y717b64e5mebd4c6aa8f397fd0@mail.gmail.com>
Message-ID: <20100203161038.GA16332@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, Lorenzo Fiorini wrote:

Hi,

> > Try to use valgrind instead of GDB to detect memory corruption.
> Attached the valgrind log.

==30772== Invalid read of size 1
==30772==    at 0x41A7121: hb_vmExecute (hvm.c:1231)
[...]
==30772==  Address 0x52794e3 is 35 bytes inside a block of size 41 free'd
==30772==    at 0x4025DFA: free (vg_replace_malloc.c:323)
==30772==    by 0x419B3D3: hb_xfree (fm.c:900)
==30772==    by 0x41909B0: hb_hrbUnLoad (runner.c:291)
==30772==    by 0x41D76D9: hb_vmProc (hvm.c:5744)
==30772==    by 0x41A953B: hb_vmExecute (hvm.c:1617)

You are freeing directly or indirectly HRB module which is currently
executed. HRB modules are unloaded automatically when all references to
pHRB variable returned by hb_hrbLoad() are cleared.
Fix you code to keep HRB module alive as long as it is used.

best regards,
Przemek
From abe.buch at att.net  Wed Feb  3 11:22:47 2010
From: abe.buch at att.net (AbeB)
Date: Wed Feb  3 11:22:54 2010
Subject: [Harbour] Re: Wince + Tone() or PlaySound()
In-Reply-To: <20091126191646.GB14608@linux-4bod.home.aster.pl>
References: <1259259295232-4072493.post@n2.nabble.com>
	<20091126191646.GB14608@linux-4bod.home.aster.pl>
Message-ID: <1265214167335-4508100.post@n2.nabble.com>


Hi Przemys?aw,

I tesed it on WinXP and it dosn't seem to work.




Przemys?aw Czerpak wrote:
> 
> 
> On Thu, 26 Nov 2009, AbeB wrote:
>> Does TONE() work on WinCE for anyone? (dosn't work for me)
> 
> TONE() is implemented by GT subsystem so the most important question
> is which GT you are using in your applications.
> 
> In WinCE builds Beep() WIN API function is used for Harbour TONE()
> function
> in the following GTs: GTWIN, GTWVT, GTGUI.
> If it works or not depends on used hardware and system.
> 
>> how about PlaySound()
>> this is what i have  in test.prg
>> -----------------------
>> Proc main()
>> PLAYSOUND( ".\SOUND_OK.WAV")
>> #PRAGMA BEGINDUMP
>> #include <windows.h>
>> #include <mmsystem.h>
>> #include <hbapi.h>
>> HB_FUNC( PLAYSOUND )
>> {
>>    hb_retl( PlaySound( hb_parc(1), NULL,SND_ASYNC | SND_FILENAME ) );
>> }
>> #PRAGMA ENDDUMP
>> ----------------------
>> warning: passing argument 1 of 'PlaySound' from incompatible pointer type
> 
> Very good warning - this code really uses incompatible pointer.
> It should be fixed for all windows builds to be compatible with UNICODE
> WIN API. In WinCE only UNICODE API exists.
> Here is modified version which should work with all windows version.
> It needs current SVN code.
> 
>    #include <windows.h>
>    #include <mmsystem.h>
>    #include "hbapistr.h"
>    #include "hbset.h"
> 
>    #ifdef UNICODE
>       #define HB_PARSTR( n, s, l )  \
>                            hb_parstr_u16( n, HB_CDP_ENDIAN_NATIVE, s, l )
>    #else
>       #define HB_PARSTR( n, s, l )  hb_parstr( n, hb_setGetOSCP(), s, l )
>    #endif
> 
>    HB_FUNC( PLAYSOUND )
>    {
>       LPCTSTR lpStr;
>       void * hStr;
> 
>       hStr = HB_PARSTR( 1, &lpStr, NULL );
>       hb_retl( hStr && PlaySound( lpStr, NULL, SND_ASYNC | SND_FILENAME )
> );
>       hb_strfree( hStr );
>    }
> 
> I haven't tested it. Just written.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
-- 
View this message in context: http://n2.nabble.com/Wince-Tone-or-PlaySound-tp4072493p4508100.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From lorenzo.fiorini at gmail.com  Wed Feb  3 11:29:07 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb  3 11:29:15 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <20100203161038.GA16332@linux-4bod.home.aster.pl>
References: <9257026e1002011104k50a15be7lbe42b94ba3d20ef5@mail.gmail.com>
	<20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
	<4B698C3C.6040403@dbtopas.lt>
	<9257026e1002030700y717b64e5mebd4c6aa8f397fd0@mail.gmail.com>
	<20100203161038.GA16332@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002030829p56d3550dme76d9de44694a5ae@mail.gmail.com>

2010/2/3 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> You are freeing directly or indirectly HRB module which is currently
> executed. HRB modules are unloaded automatically when all references to
> pHRB variable returned by hb_hrbLoad() are cleared.
> Fix you code to keep HRB module alive as long as it is used.

Here is the code that run the hrb

...
hb_threadDetach( hb_threadStart( @processcall(), Self, nSocket ) )
...

function processcall( oServer, nSocket )
...
   local pHRB, xResult
...
   elseif cExt == ".hrb"
      cBinFile := oServer:cBinRoot + cName + cExt
      if !file( cBinFile )
         oResponse:Flush( 404, "Not found", "text/html", "404 File: "
+ cBinFile + " not found" )
      else
         begin sequence with { |e| logerror( e, oResponse, cBinFile ) }
            if !empty( pHRB := hb_hrbload( cBinFile ) )
               xResult := hrbmain()
               if ISCHARACTER( xResult )
                  oResponse:Flush( 200, "OK",, xResult )
               endif
            endif
         always
            if !empty( pHRB )
               hb_hrbunload( pHRB )
            endif
         endsequence
      endif
...

Any suggestion?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Feb  3 11:35:07 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 11:35:22 2010
Subject: Res: [Harbour] SF.net SVN: harbour-project:[13754] trunk/harbour
In-Reply-To: <812A807D-71A7-4113-A2FD-74D6938A2B79@syenar.hu>
References: <E1NcfDZ-0008W6-HF@sfp-svn-5.v30.ch3.sourceforge.com>
	<381202.50427.qm@web52207.mail.re2.yahoo.com>
	<812A807D-71A7-4113-A2FD-74D6938A2B79@syenar.hu>
Message-ID: <E95E0A0B-63DD-42C9-AE66-B141A859961C@syenar.hu>

FYI I just tested with latest FB 2.5 RC1, and 
they fixed the problem, so hbfbird builds again.

I didn't make functional tests, so pls keep the 
list posted about the errors you mentioned.

Brgds,
Viktor

On 2010 Feb 3, at 16:31, Viktor Szak?ts wrote:

> Hi Fernando,
> 
> Last time I tried to it with 2.5 beta, 
> it didn't even build, and I haven't tried 
> it again since then.
> 
> If you have some problems, report the details 
> here so we can check it.
> 
> [ BTW, hbfbird doesn't currently use any GC 
> collected pointers, so it falls behind the 
> Harbour standard in this respect. ]
> 
> Brgds,
> Viktor
> 
> On 2010 Feb 3, at 16:18, Fernando Athayde wrote:
> 
>> Hi, Viktor
>> this native class for access Firebird is run ok?
>> i was try in last year, and i was some problems with firebird 2.5
>> 
>> Best Regards,
>> Fernando Athayde
>> 
>> De: "vszakats@users.sourceforge.net" <vszakats@users.sourceforge.net>
>> Para: harbour@harbour-project.org
>> Enviadas: Quarta-feira, 3 de Fevereiro de 2010 10:24:29
>> Assunto: [Harbour] SF.net SVN: harbour-project:[13754] trunk/harbour
>> 
>> Revision: 13754
>>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13754&view=rev
>> Author:  vszakats
>> Date:    2010-02-03 13:24:28 +0000 (Wed, 03 Feb 2010)
>> 
>> Log Message:
>> -----------
>> 2010-02-03 14:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/hbfbird/tfirebrd.prg
>>    + Formatted.
>>    ! Indented.
>>    % Optimized to use SWITCH/CASE.
>>    % Optimized to avoid ASize() and AAdd() in a few places.
>> 
>> Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>    trunk/harbour/contrib/hbfbird/tfirebrd.prg
>> 
>> 
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades -M?sica - Esportes_______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From smujohnson at gmail.com  Wed Feb  3 12:02:51 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 12:03:04 2010
Subject: [Harbour] Re: Alert() / print buffer Clipper -> Harbour 
	difference
In-Reply-To: <hkaqnh$849$1@ger.gmane.org>
References: <674e4ddd1002021922s170572b9vfe24f011ff8707ef@mail.gmail.com>
	<hkaqnh$849$1@ger.gmane.org>
Message-ID: <674e4ddd1002030902m1128d51sb36e09cafb579960@mail.gmail.com>

Thanks Angel !!!

On Tue, Feb 2, 2010 at 7:32 PM, Angel Pais <amigosam@adinet.com.uy> wrote:

> El 03/02/2010 1:22, smu johnson escribi?:
>
>> Hi,
>>
>> I found a problem that is very noticeable when using the ALERT() func.
>> If your MS Windows buffer size setting (
>> http://209.97.219.2/sjohnson/misc/alert_problem_buffer500-set.png ) is
>> to > 25, position screws up.  This is not a problem with Clipper 5.2e
>> (using Blinker).
>>
>> The alert box shows up like this:
>> http://209.97.219.2/sjohnson/misc/alert_problem_buffer500.png ... but
>> like I said, this difference does not show up if you keep the buffer
>> height set to 25.  But since Clipper does not have this problem, no
>> matter what the value is set to, I thought I'd ask here.
>>
>> Thanks for reading.  What can I do?
>>
>> --
>> smu johnson <smujohnson@gmail.com
>> <mailto:smujohnson@gmail.com>>
>>
>>
> You must put at the beggining of your main.prg:  SetMode(25,80)
>
> HTH
> Angel
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/e4fbe53e/attachment.html
From druzus at acn.waw.pl  Wed Feb  3 12:42:52 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb  3 12:43:00 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <9257026e1002030829p56d3550dme76d9de44694a5ae@mail.gmail.com>
References: <20100202164603.GA23226@linux-4bod.home.aster.pl>
	<9257026e1002020904o48a1e37dw3f20b28d3c90a682@mail.gmail.com>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
	<4B698C3C.6040403@dbtopas.lt>
	<9257026e1002030700y717b64e5mebd4c6aa8f397fd0@mail.gmail.com>
	<20100203161038.GA16332@linux-4bod.home.aster.pl>
	<9257026e1002030829p56d3550dme76d9de44694a5ae@mail.gmail.com>
Message-ID: <20100203174251.GA17719@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, Lorenzo Fiorini wrote:
> > You are freeing directly or indirectly HRB module which is currently
> > executed. HRB modules are unloaded automatically when all references to
> > pHRB variable returned by hb_hrbLoad() are cleared.
> > Fix you code to keep HRB module alive as long as it is used.
> Here is the code that run the hrb
[...]
> hb_threadDetach( hb_threadStart( @processcall(), Self, nSocket ) )
[...]
> function processcall( oServer, nSocket )
>             if !empty( pHRB := hb_hrbload( cBinFile ) )
>                xResult := hrbmain()
[...]

I guess you loading public function hrbmain() from different threads
simultaneously without any protection. Only _one_ public function with
the same name can exist. You do not have any protection so it's possible
that:

   xResult := hrbmain()

begins to execute HRB code loaded by other thread and before it finish
the other threads unloads the HRB module.
Look at hbhrb.ch and <nOptions> in:

   HB_HRBLOAD( [ <nOptions>, ] <cHrb> [, <xparams,...> ] ) -> <pHrb>

and read related ChangeLog entires, i.e.:

   2009-06-19 18:38 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
   2009-06-19 14:09 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

or simply migrate to static functions only. You can use

   HB_HRBGETFUNSYM( <pHRB>, <cFuncName> ) -> <sFuncSym>

to extract function symbol from HRB module, i.e.:

   if !empty( sFunc := hb_hrbGetFunSym( pHRB, "HRBMAIN" ) )
      xResult := sFunc:exec()
   endif

HB_HRB_BIND_FORCELOCAL converts automatically all functions to static ones
when HBR module is loaded.

>          always
>             if !empty( pHRB )
>                hb_hrbunload( pHRB )
>             endif

This is not necessary for current code so you can remove these lines.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Feb  3 13:08:33 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb  3 13:08:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13757] trunk/harbour
Message-ID: <E1NcjeT-0001hg-3i@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13757
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13757&view=rev
Author:   druzus
Date:     2010-02-03 18:08:32 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 19:08 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbvm.h
  * harbour/src/vm/hvm.c
    * covered hb_vmPushState() and hb_vmPopState() functions by
      HB_LEGACY_LEVEL3 macro. These functions are depreciated,
      hb_vmRequestReenter()/hb_vmRequestRestore() should be used
      instead.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbvm.h
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb  3 13:09:36 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb  3 13:09:56 2010
Subject: [Harbour] .hbp  - Creation of object files in the same folder
In-Reply-To: <661FA8F5-7520-4D3F-822F-3FC61DA87BB1@syenar.hu>
References: <1265211238371-4507796.post@n2.nabble.com>
	<661FA8F5-7520-4D3F-822F-3FC61DA87BB1@syenar.hu>
Message-ID: <C442F9FA-C27F-4EBF-85F4-4E5C1F71B5AA@syenar.hu>

I've just realized that -workdir doesn't work in 
non-incremental mode. I'll check what can be done.

If this is solved, maybe it'll be possible to set 
it by default to system temp dir (instead of current 
dir). I'll check it too.

Brgds,
Viktor

On 2010 Feb 3, at 16:57, Viktor Szak?ts wrote:

> Hi,
> 
>> Hello Viktor
>> 
>> I could see that if -inc mode is not enabled
>> and -workdir= is not provided, intermediatery files are 
>> always created in the folder where .hbp resides.
>> Though these are deleted at the end, but preferable
>> way should be to create them in under .hbmk/temp 
>> folder. Can it be done?
> 
> I don't see a strong reason to enable this 
> by default, and I try to make the less impact 
> to the environment in default case. An option 
> would be to create a temp dir, work in it, and 
> delete it at the end, but besides exercising 
> the file system and requiring more than absolutely 
> required file access rights, it could also have 
> an adverse effect on parallel hbmk2 runs.
> 
> I understand current default behavior can only 
> have bad side effect if a user have .prg and .c 
> sources with the same name. But this case have 
> other very bad side effects too (object name 
> collision), so a temp dir would only solve it, 
> if those common names would belong to different 
> projects inside the same dir. Seems rather rare 
> to protect against it by default.
> 
> Users who need specific work dir, should simply 
> use -workdir option, f.e. -workdir=.hbmk2/temp 
> to get the effect you need.
> 
> Brgds,
> Viktor
> 

From lorenzo.fiorini at gmail.com  Wed Feb  3 13:18:46 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb  3 13:18:55 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <20100203174251.GA17719@linux-4bod.home.aster.pl>
References: <20100202164603.GA23226@linux-4bod.home.aster.pl>
	<20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
	<4B698C3C.6040403@dbtopas.lt>
	<9257026e1002030700y717b64e5mebd4c6aa8f397fd0@mail.gmail.com>
	<20100203161038.GA16332@linux-4bod.home.aster.pl>
	<9257026e1002030829p56d3550dme76d9de44694a5ae@mail.gmail.com>
	<20100203174251.GA17719@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002031018j16ef0de0p61c164f3b1a28706@mail.gmail.com>

2010/2/3 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> or simply migrate to static functions only. You can use

I can do it since all the HRBs have the same func name and I can change it.

Here is the final code:

         begin sequence with { |e| logerror( e, oResponse, cBinFile ) }
            if !empty( pHRB := hb_hrbload( cBinFile ) )
               if !empty( sFunc := hb_hrbGetFunSym( pHRB, "HRBMAIN" ) )
                  xResult := sFunc:exec()
               endif
               if ISCHARACTER( xResult )
                  oResponse:Flush( 200, "OK",, xResult )
               endif
            endif
         endsequence

and here is the test.prg:

static function hrbmain()
return nil

Note that I define some publics inside the processcall that I need to
manipulate request and response in the hrb.
Could it be the source of the problem?

best regards,
Lorenzo
From bedipritpal at hotmail.com  Wed Feb  3 13:49:37 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 13:49:44 2010
Subject: [Harbour] Re: .hbp  - Creation of object files in the same folder
In-Reply-To: <C442F9FA-C27F-4EBF-85F4-4E5C1F71B5AA@syenar.hu>
References: <1265211238371-4507796.post@n2.nabble.com>
	<661FA8F5-7520-4D3F-822F-3FC61DA87BB1@syenar.hu>
	<C442F9FA-C27F-4EBF-85F4-4E5C1F71B5AA@syenar.hu>
Message-ID: <1265222977904-4508982.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> I've just realized that -workdir doesn't work in 
> non-incremental mode. I'll check what can be done.
> 
> If this is solved, maybe it'll be possible to set 
> it by default to system temp dir (instead of current 
> dir). I'll check it too.
> 

I had expected the behavior you outlined as above.

Thanks.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbp-Creation-of-object-files-in-the-same-folder-tp4507796p4508982.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Wed Feb  3 13:57:14 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 13:57:23 2010
Subject: [Harbour] Przemek Q: SIX "FOR" clause Clipper/Harbour difference
In-Reply-To: <20100203101435.GB5007@linux-4bod.home.aster.pl>
References: <674e4ddd1002021431ke9040dan4b0f80548ebc3d95@mail.gmail.com>
	<20100203101435.GB5007@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002031057s73bf663eye03870cc605a41b9@mail.gmail.com>

Thanks Przemek.

Could you post back here when I should get the SVN etc?

Thank you for your hard work

2010/2/3 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Tue, 02 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > When a table's index file is re-opened (it was previously created), does
> it
> > have to evaluate the FOR clause, or can it wait to do that only when a
> value
> > in the table row changes?
>
> It does not need to be evaluated and can wait but it has to be valid
> expression which can be compiled by macrocompiler.
> Anyhow few times people asked to make such test evaluation to detect
> some potential problems like missing functions, incompatible aliases
> or not logical results as fast as possible and report RTE before
> executed code will start some operations which cannot be finished.
> Just like someone asked to delay all such tests as long as possible
> because he only wanted to skip using the index created by foreign
> application with unknown UDFs in KEY and FOR expressions.
> In clipper this behavior depends on used RDD and different RDDs
> evaluates KEY and FOR expressions first time in different places.
> Similar situation is in xHarbour.
>
> > In SIX, it does not check the FOR expression when it opens an index file.
> > In Harbour, when you open the index file it will evaluate the FOR
> > expression, and if any variables or functions in that expression are not
> > visible, the system will crash (undefined variable/function).
>
> Not crash but generates RTE. You can catch RT errors using BEGIN SEQUENCE
> statement.You are right about FOR expression. Harbour DBFCDX evaluates
> index KEY and FOR expressions to test their results just after opening
> index file. It's CL5.3 DBFCDX / COMIX behavior but CL5.2 DBFCDX / SIXCDX
> evaluates only KEY expression when index is open and FOR is evaluated only
> when index is updated.
>
> > eg. Index on iif(x=3,"a","b") tag "temp" of test.cdx
> > When the index is opened (set index to...) if X is not visible, Harbour
> will
> > crash. In Clipper, it will only crash if a row in the table  changes
> value
> > and the index needs to be updated.
>
> Yes but please use more precise description. RTE is not a crash but
> exception which can be fully controlled by programmer. Some important
> Clipper features are implemented using RTE, i.e. NETERR() or division
> by 0.
>
> > Unfortunately, my code has lots of specialized temporary indexes that are
> > created and then used within a specific function. This does not present a
> > problem until a timer event fires, which needs to close files to do
> > "something". Upon reopening those file before RETURNing back the original
> > function, the system crashes because the FOR in the index has variables
> out
> > of scope.
> > I can rewrite these but I will probably have to use Private variables and
> > non-Static functions.
>
> I'll change early expression evaluation in Harbour SIXCDX driver only
> so Harbour SIXCDX will work like CL52 DBFCDX / SIX3 SIXCDX and
> Harbour DBFCDX will work like CL53 DBFCDX / COMIX verifying both KEY
> and FOR expressions when index is opening.
>
> I'll commit it in a while. You should take current Harbour SVN and
> rebuild the compiler binaries.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/4631899b/attachment-0001.html
From vailtom at gmail.com  Wed Feb  3 14:04:40 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Feb  3 14:05:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13749] trunk/harbour
In-Reply-To: <E1NcTHd-0005DJ-EZ@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NcTHd-0005DJ-EZ@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <531d7a751002031104q366f90b2q32d60bcbc81122a1@mail.gmail.com>

Hi!

Pritpal, in order to continue sending contributions properly to hbIDE,
the next new dialogs should be make using .ui or .uic? What do you
recommend?

Regards,
Vailton Renato

2010/2/2  <vouchcac@users.sourceforge.net>:
> Revision: 13749
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13749&view=rev
> Author: ? vouchcac
> Date: ? ? 2010-02-03 00:39:51 +0000 (Wed, 03 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-02 16:24 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbide/hbide.hbp
> ?* contrib/hbide/hbide.prg
> ?* contrib/hbide/idedocks.prg
> ?* contrib/hbide/idefindreplace.prg
> ?* contrib/hbide/idemisc.prg
> ?* contrib/hbide/ideprojmanager.prg
> ?* contrib/hbide/iderequests.prg
> ?* contrib/hbide/idethemes.prg
>
> ?* contrib/hbide/resources/projectproperties.ui
>
> ?+ contrib/hbide/resources/finddialog.uic
> ?+ contrib/hbide/resources/findinfiles.uic
> ?+ contrib/hbide/resources/findsource.uic
> ?+ contrib/hbide/resources/mainwindow.uic
> ?+ contrib/hbide/resources/projectproperties.uic
> ?+ contrib/hbide/resources/selectionlist.uic
> ?+ contrib/hbide/resources/selectproject.uic
> ?+ contrib/hbide/resources/themes.uic
>
> ?* contrib/hbqt/hbqt.ch
> ?* contrib/hbqt/qtgui/QLabel.cpp
> ?* contrib/hbqt/qtgui/QSizePolicy.cpp
> ?* contrib/hbqt/qtgui/QSpacerItem.cpp
> ?* contrib/hbqt/qth/QLabel.qth
> ?* contrib/hbqt/qth/QSizePolicy.qth
> ?* contrib/hbqt/qth/QSpacerItem.qth
>
> ?* contrib/hbqt/THbQtUI.prg
>
> ?* contrib/hbxbp/xbpdialog.prg
> ?* contrib/hbxbp/xbpwindow.prg
>
> ? ?+ This commit implements .uic files generated
> ? ? ?via uic.exe of Qt distribution given a .ui file.
> ? ? ?And hence eliminated the wooping cargo of QtUiTools.lib
> ? ? ?which consumes arount 23+ MB over and above of application load.
> ? ? ?All the dialogs/windows used in hbIDE are fully functional.
>
> ? ? ?This implementation is in parallel of previous one and
> ? ? ?either can be used. The difference in syntax is ( and as used in hbIDE )
>
> ? ? ? ? #ifdef HBIDE_USE_UIC
> ? ? ? ? ? ?oDlg := HbQtUI():new( ::oIDE:resPath + "selectproject.uic", ::oDlg:oWidget ):build()
> ? ? ? ? #else
> ? ? ? ? ? ?oDlg := HbQtUI():new( ::oIDE:resPath + "selectproject.ui", ::oDlg:oWidget ):create()
> ? ? ? ? #endif
>
> ? ? ?To take advantage of this feature you need to compile hbIDE
> ? ? ?with -dHBIDE_USE_UIC. You can examine the task manager for memory
> ? ? ?usage, with and without -dHBIDE_USE_UIC.
>
> ? ? ?Please note that this implementation is not 100% complete.
> ? ? ?I could synchronize the dialogs of hbIDE only. Though most of the
> ? ? ?code is good for daily-use widgets still we need to add some
> ? ? ?more functionality into the code. But it is simple. Mainly
> ? ? ?we be needing more constants included in hash to convert
> ? ? ?string defines to numeric representation.
>
> ? ? ?Please test and report any issues.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/hbide/hbide.hbp
> ? ?trunk/harbour/contrib/hbide/hbide.prg
> ? ?trunk/harbour/contrib/hbide/idedocks.prg
> ? ?trunk/harbour/contrib/hbide/idefindreplace.prg
> ? ?trunk/harbour/contrib/hbide/idemisc.prg
> ? ?trunk/harbour/contrib/hbide/ideprojmanager.prg
> ? ?trunk/harbour/contrib/hbide/iderequests.prg
> ? ?trunk/harbour/contrib/hbide/idethemes.prg
> ? ?trunk/harbour/contrib/hbide/resources/projectproperties.ui
> ? ?trunk/harbour/contrib/hbqt/THbQtUI.prg
> ? ?trunk/harbour/contrib/hbqt/hbqt.ch
> ? ?trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
> ? ?trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
> ? ?trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
> ? ?trunk/harbour/contrib/hbqt/qth/QLabel.qth
> ? ?trunk/harbour/contrib/hbqt/qth/QSizePolicy.qth
> ? ?trunk/harbour/contrib/hbqt/qth/QSpacerItem.qth
> ? ?trunk/harbour/contrib/hbxbp/xbpdialog.prg
> ? ?trunk/harbour/contrib/hbxbp/xbpwindow.prg
>
> Added Paths:
> -----------
> ? ?trunk/harbour/contrib/hbide/resources/finddialog.uic
> ? ?trunk/harbour/contrib/hbide/resources/findinfiles.uic
> ? ?trunk/harbour/contrib/hbide/resources/findsource.uic
> ? ?trunk/harbour/contrib/hbide/resources/mainwindow.uic
> ? ?trunk/harbour/contrib/hbide/resources/projectproperties.uic
> ? ?trunk/harbour/contrib/hbide/resources/selectionlist.uic
> ? ?trunk/harbour/contrib/hbide/resources/selectproject.uic
> ? ?trunk/harbour/contrib/hbide/resources/themes.uic
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From bedipritpal at hotmail.com  Wed Feb  3 14:10:57 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 14:11:05 2010
Subject: [Harbour] Find / Replace in files - optimum approach
Message-ID: <1265224257559-4509122.post@n2.nabble.com>


Hello everybody

I am about to implement find/replace in files/projects/folders 
option in hbIDE. Before starting the real-work I would like to 
hear from the group experience about what could be the 
optimum approach, and how the results should be presented.

I am done with the interface part.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Find-Replace-in-files-optimum-approach-tp4509122p4509122.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Wed Feb  3 14:16:22 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 14:16:36 2010
Subject: [Harbour] -z switch seems to be overly anti-lazy
In-Reply-To: <20100203102945.GA9256@linux-4bod.home.aster.pl>
References: <674e4ddd1001280145j14a80aal1beb7b3438e0727d@mail.gmail.com>
	<20100128112057.GA21289@linux-4bod.home.aster.pl>
	<674e4ddd1001280342h67bd8622na4f3b09b5115ede5@mail.gmail.com>
	<674e4ddd1002021851o29934a68r66323b291a9d8dac@mail.gmail.com>
	<20100203091052.GA5007@linux-4bod.home.aster.pl>
	<674e4ddd1002030135h20200936idf16c38cd72d00ad@mail.gmail.com>
	<20100203102945.GA9256@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002031116x1fba8805u909a16516d309887@mail.gmail.com>

Hi again,

I have the code here that I have tested on both Clipper 5.2e and Harbour.
This is the first time I have seen with my own eyes what I was being told
earlier, so I can verify that I have witnessed a difference with my own two
eyes.  If you cannot replicate it, perhaps I will need to send you my
Blinker .LNK file, in case something is being switched on in there.

Anyways, Clipper will write "hello" at the top of the screen after "test",
and Harbour will not.

FUNC MAIN()
  do while lastkey()#27
    clear
    x:= "test"
    @ 2,0 get x ;
    valid eval( {||devout("hello"), .f.} ) .or. .t.
    read
    ? "test complete...press enter to do it again"
    wait
  enddo
RETURN

// Thanks Przemek


2010/2/3 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Wed, 03 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > I will try to take a video of the behaviour and figure it out.  I swear
> to
> > you, that I am not making this up.  If it helps, we are using Clipper
> 5.2e
> > and Blinker.  I will take screenshots of the behavioru to prove what I am
> > saying is the case, and hopefully, with your Clipper knowledge :)  we can
> > figure it out. Thanks for replying !
>
> I also have CL5.2e and BLINKER and before I replayed I had verified
> the results. I do not need any video, screen shots or antyhing like
> that. I need only code example. The one you sent works in the same
> way in CL5.2e and Harbour (after fixing typo which breaks compilation
> so I guess it was not real code but you typed it by hand for that
> message only). If you try to create real .prg code example and compile
> it using Clipper and Harbour (linker is unimportant here, you can use
> also RTLINK, i.e. with cl.bat) then you should find the exact reason
> of problem. If it will not be enough for you to resolve it then please
> send the code example here with descrption about the difference and
> I'll try to help you. Such example should be as small as possible,
> i.e. this code illustrates in 1-st line the the at compile time
> Clipper and Harbour gives _EXACTLY_ the same results when used with
> and without -z switch and the 2-nd line shows that Clipper does
> not optimize expressions in macrocompiler so code generated by
> macrocompiler is different then code generated by compiler. In
> Harbour it's the same.
>
>   ? eval({||qout("hello"),.f.}) .or. .t.
>   ? &('eval({||qout("WORLD"),.f.}) .or. .t.')
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/a929f089/attachment.html
From druzus at acn.waw.pl  Wed Feb  3 14:24:17 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb  3 14:24:25 2010
Subject: [Harbour] Przemek Q: SIX "FOR" clause Clipper/Harbour difference
In-Reply-To: <674e4ddd1002031057s73bf663eye03870cc605a41b9@mail.gmail.com>
References: <674e4ddd1002021431ke9040dan4b0f80548ebc3d95@mail.gmail.com>
	<20100203101435.GB5007@linux-4bod.home.aster.pl>
	<674e4ddd1002031057s73bf663eye03870cc605a41b9@mail.gmail.com>
Message-ID: <20100203192417.GA19197@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, smu johnson wrote:

Hi,

> Thanks Przemek.
> Could you post back here when I should get the SVN etc?

It's already ready in SVN.
I committed it few minutes after I sent you the message.
Look at the ChangeLog:

   2010-02-03 11:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
     * harbour/src/rdd/dbfcdx/dbfcdx1.c
       ! do not verify FOR expression just after loading new index file
         in SIXCDX RDD. It's CL52 DBFCDX / SIX3 SIXCDX compatible behavior
         but Harbour DBFCDX and CL53 DBFCDX / COMIX verifies both KEY and
         FOR expressions when index is loaded.
       ! fixed RTE numbers to be CL53 compatible when index with wrong
         (returning wrong results) KEY or FOR expression is loaded.

also the problem with FILEATTR() is already fixed:
   2010-02-02 17:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

anyhow you may want to look at:

    HB_FGETATTR( <cFileName>, @<nAttr> ) -> <lSuccess>
    HB_FSETATTR( <cFileName>, <nAttr> ) -> <lSuccess>

and maybe:

   HB_FSETDATETIME( <cFileName>, [<dDate>], [<cTime HH:MM:SS>] ) -> <lSuccess>
   HB_FSETDATETIME( <cFileName>, [<tTimeStamp>] ) -> <lSuccess>

   HB_FGETDATETIME( <cFileName>, @<tTimeStamp> ) -> <lSuccess>
   HB_FGETDATETIME( <cFileName>, @<dDate>, @<cTime> ) -> <lSuccess>

Harbour support timestamp values. You can find more information about
timestamp and other Harbour extensions in doc/xhb-diff.txt

best regards,
Przemek
From druzus at acn.waw.pl  Wed Feb  3 14:32:46 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb  3 14:32:54 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <9257026e1002031018j16ef0de0p61c164f3b1a28706@mail.gmail.com>
References: <20100202172347.GA23937@linux-4bod.home.aster.pl>
	<9257026e1002021018k15b3f103mc430ee400622470c@mail.gmail.com>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
	<4B698C3C.6040403@dbtopas.lt>
	<9257026e1002030700y717b64e5mebd4c6aa8f397fd0@mail.gmail.com>
	<20100203161038.GA16332@linux-4bod.home.aster.pl>
	<9257026e1002030829p56d3550dme76d9de44694a5ae@mail.gmail.com>
	<20100203174251.GA17719@linux-4bod.home.aster.pl>
	<9257026e1002031018j16ef0de0p61c164f3b1a28706@mail.gmail.com>
Message-ID: <20100203193245.GB19197@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, Lorenzo Fiorini wrote:
> Here is the final code:
>          begin sequence with { |e| logerror( e, oResponse, cBinFile ) }
>             if !empty( pHRB := hb_hrbload( cBinFile ) )
>                if !empty( sFunc := hb_hrbGetFunSym( pHRB, "HRBMAIN" ) )
>                   xResult := sFunc:exec()
>                endif
>                if ISCHARACTER( xResult )
>                   oResponse:Flush( 200, "OK",, xResult )
>                endif
>             endif
>          endsequence
> 
> and here is the test.prg:
> 
> static function hrbmain()
> return nil
> 
> Note that I define some publics inside the processcall that I need to
> manipulate request and response in the hrb.
> Could it be the source of the problem?

No. By default all memvars (PUBLIC and PRIVATE) variables are separated
between threads and each threads starts with its own clean set of memvars.
If you want to change it then you can use thread attributes in
hb_threadStart() function. See hbthread.ch and code example in
tests/mt/mttest08.prg if you are interested in it.
See "MULTI THREAD SUPPORT" in doc/xhb-diff.txt. I documented shared
and inherited thread resources in Harbour.

best regards,
Przemek
From bedipritpal at hotmail.com  Wed Feb  3 14:36:38 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 14:36:46 2010
Subject: [Harbour] Re: hbide_pathProc() - Merging Paths - Clarification
In-Reply-To: <E3DDC359-26D4-444F-A3FA-4BEE8F02D1E5@syenar.hu>
References: <1265175144736-4505657.post@n2.nabble.com>
	<E3DDC359-26D4-444F-A3FA-4BEE8F02D1E5@syenar.hu>
Message-ID: <1265225798789-4509284.post@n2.nabble.com>


Hello Viktor

hbide_pathProc() is only effective when 
source tree is beneath its location only. In case 
it is there on some upper level folder, this mechanism 
fails. 

But in real development pattern one has adopted 
since years has to be changed. For example, I keep 
my sources in 
{root}/dev_sources/under_various_subfolders_per_interest
and project contains sources from multiple such subfolders.
Many projects contain same source.
If I keep the .hbps in {root}/dev_sources, only then 
such path synchronization will work. Right?

If it is "yes" then probably we need to devise another 
mechanism to hold the path info .hbi ( scheduled to be 
embedded in .hbp ). I do not want to populate my 
source folder tree with something I never wish to back-up.
What other means can you suggest.

<SrcPath>=folder_source_path meta-mechanism is designed
for such scenario.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-pathProc-Merging-Paths-Clarification-tp4505657p4509284.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Wed Feb  3 14:37:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  3 14:37:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13758] trunk/harbour
Message-ID: <E1Ncl2e-0003NW-UZ@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13758
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13758&view=rev
Author:   vszakats
Date:     2010-02-03 19:37:35 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 20:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/fstemp.c
  * include/hbapifs.h
  * include/hbextern.ch
    + Added HB_DIRTEMP() .prg level function. Returns name of temp dir,
      with closing backslash.
    + Added hb_fsTempDir() .c level function.
    ; Please review, especially MS-DOS, OS/2, which I won't be able
      to test.

  * src/rtl/fstemp.c
    * Cleanup: Deleted hb_fsCreateTempLow(), made layout more clear.
    ; TOFIX: For some builds, MS-DOS, OS/2 and WIN without WIN IO
             the temp directory will be wrongly calculated by checking
             TMPDIR envvar. Such envvar seems *nix specific.
             If new hb_fsTempDir() will be tested, above can be fixed
             by using this new function.

  * package/winuni/RELNOTES
    + Noted update to Firebird 2.5.0rc1

  * contrib/hbpgsql/postgres.c
    + Marked recently deprecated function as HB_LEGACY_LEVEL3.

  * contrib/hbfbird/firebird.c
    * Cleanup for a macro.

  * contrib/hbnetio/utils/netiosrv.prg
    + Using HB_HRB_BIND_FORCELOCAL when loading .hrb.

  * contrib/hbnetio/utils/modules/test.prg
    + Marked function as STATIC.

  * ChangeLog
    * Old TODO marked DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfbird/firebird.c
    trunk/harbour/contrib/hbnetio/utils/modules/test.prg
    trunk/harbour/contrib/hbnetio/utils/netiosrv.prg
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbextern.ch
    trunk/harbour/package/winuni/RELNOTES
    trunk/harbour/src/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Feb  3 14:52:02 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 14:52:10 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13749] trunk/harbour
In-Reply-To: <531d7a751002031104q366f90b2q32d60bcbc81122a1@mail.gmail.com>
References: <E1NcTHd-0005DJ-EZ@sfp-svn-6.v30.ch3.sourceforge.com>
	<531d7a751002031104q366f90b2q32d60bcbc81122a1@mail.gmail.com>
Message-ID: <1265226722782-4509394.post@n2.nabble.com>



Vailton Renato wrote:
> 
> Pritpal, in order to continue sending contributions properly to hbIDE,
> the next new dialogs should be make using .ui or .uic? What do you
> recommend?
> 

Keep both as .uic is the cpp source form of .ui.
.ui is always required to edit and create .uic. 
But compile hbIDE with HBIDE_USE_UIC.

This way .uic engine will get matured.

Generate .uic as 
>uic.exe -o themes.uic themes.ui

In next commit, I will make default to generate dialogs with .uic.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13749-trunk-harbour-tp4504780p4509394.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Wed Feb  3 14:52:09 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 14:52:18 2010
Subject: [Harbour] Przemek Q: SIX "FOR" clause Clipper/Harbour difference
In-Reply-To: <20100203192417.GA19197@linux-4bod.home.aster.pl>
References: <674e4ddd1002021431ke9040dan4b0f80548ebc3d95@mail.gmail.com>
	<20100203101435.GB5007@linux-4bod.home.aster.pl>
	<674e4ddd1002031057s73bf663eye03870cc605a41b9@mail.gmail.com>
	<20100203192417.GA19197@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002031152h24b59716nd741161ff781adc1@mail.gmail.com>

Thanks!

As far as the timestamp stuff...  have found that using FSETDATETIME and
trying to set only one of the options, either DATE, or TIME, results in the
other one getting timestamped to a NOW() type time.  Hence I wrote my cludge
in Clipper get around that...  I tried all sorts of tricks..
HB_FSETDATETIME(file, nil, time),  (file, , time)... etc.. and nothing
seemed to work.

=== code ===

FUNCTION FY_FSETDATE(sFilename, sDate)
  // sets the file date only, leaving time untouched.
  // function emulates FUNCKy's laziness.  Must pass this a string only.

  // HB_FSETDATETIME will timestamp the only other field, so next line keeps
original TIME
  LOCAL sTimeOriginal := FILETIME(sFilename)

  RETURN HB_FSETDATETIME(sFilename, CTOD(sDate), sTimeOriginal)

FUNCTION FY_FSETTIME(sFilename, sTime)
  // sets the file time only, from "HH:MM:SS" string, leaving date
untouched.

  // HB_FSETDATETIME will timestamp the only other field, so next line keeps
original DATE
  LOCAL dDateOriginal := FILEDATE(sFilename)

  RETURN HB_FSETDATETIME(sFilename, dDateOriginal, sTime)



2010/2/3 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Wed, 03 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > Thanks Przemek.
> > Could you post back here when I should get the SVN etc?
>
> It's already ready in SVN.
> I committed it few minutes after I sent you the message.
> Look at the ChangeLog:
>
>   2010-02-03 11:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>     * harbour/src/rdd/dbfcdx/dbfcdx1.c
>       ! do not verify FOR expression just after loading new index file
>         in SIXCDX RDD. It's CL52 DBFCDX / SIX3 SIXCDX compatible behavior
>         but Harbour DBFCDX and CL53 DBFCDX / COMIX verifies both KEY and
>         FOR expressions when index is loaded.
>       ! fixed RTE numbers to be CL53 compatible when index with wrong
>         (returning wrong results) KEY or FOR expression is loaded.
>
> also the problem with FILEATTR() is already fixed:
>   2010-02-02 17:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>
> anyhow you may want to look at:
>
>    HB_FGETATTR( <cFileName>, @<nAttr> ) -> <lSuccess>
>    HB_FSETATTR( <cFileName>, <nAttr> ) -> <lSuccess>
>
> and maybe:
>
>   HB_FSETDATETIME( <cFileName>, [<dDate>], [<cTime HH:MM:SS>] ) ->
> <lSuccess>
>   HB_FSETDATETIME( <cFileName>, [<tTimeStamp>] ) -> <lSuccess>
>
>   HB_FGETDATETIME( <cFileName>, @<tTimeStamp> ) -> <lSuccess>
>   HB_FGETDATETIME( <cFileName>, @<dDate>, @<cTime> ) -> <lSuccess>
>
> Harbour support timestamp values. You can find more information about
> timestamp and other Harbour extensions in doc/xhb-diff.txt
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/46649c68/attachment.html
From harbour.01 at syenar.hu  Wed Feb  3 14:57:57 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb  3 14:58:08 2010
Subject: [Harbour] Re: hbide_pathProc() - Merging Paths - Clarification
In-Reply-To: <1265225798789-4509284.post@n2.nabble.com>
References: <1265175144736-4505657.post@n2.nabble.com>
	<E3DDC359-26D4-444F-A3FA-4BEE8F02D1E5@syenar.hu>
	<1265225798789-4509284.post@n2.nabble.com>
Message-ID: <2ACC758B-E3D2-4AB1-B39F-1F4F10EB6544@syenar.hu>

Hi,

> hbide_pathProc() is only effective when 
> source tree is beneath its location only. In case 
> it is there on some upper level folder, this mechanism 
> fails. 

No it doesn't fail. If it's in an upper level directory, 
the only change is that you will use "..\..\mysource.prg".
If the "upper level directory" is a fixed one, and AFAIK 
this is what you like to use in your personal projects, 
you will use "C:\myfixeddir\mysource.prg"

My function won't fail in any of these case. In first, 
it will merge the base path with relative path and 
give "myprojectroot\..\..\mysource.prg" and find the 
.prg. In second case it will use "C:\myfixeddir\mysource.prg" 
and find the file.

IOW my function will allow also for this option, 
and give the choice to user to use relative or 
absolute paths for any source files.

> But in real development pattern one has adopted 
> since years has to be changed. For example, I keep 
> my sources in 
> {root}/dev_sources/under_various_subfolders_per_interest
> and project contains sources from multiple such subfolders.
> Many projects contain same source.
> If I keep the .hbps in {root}/dev_sources, only then 
> such path synchronization will work. Right?

No.

> If it is "yes" then probably we need to devise another 
> mechanism to hold the path info .hbi ( scheduled to be 
> embedded in .hbp ). I do not want to populate my 
> source folder tree with something I never wish to back-up.
> What other means can you suggest.

Pls read above.

> <SrcPath>=folder_source_path meta-mechanism is designed
> for such scenario.

It's not necessary to find files.

It's only necessary if you want to avoid repeating 
the same long path a lot of times and this long path is 
not devisable from any root paths. For such purpose, 
you can use macros, like you say, and this is supported 
also by hbmk2 ('{MYPATH}\source.prg' and '-env:MYPATH=C:\dev_sources\').

Anyway I don't like such solution, it's much simpler 
and self-contained if you create an .hbm file with 
list of files in your C:\dev_sources\this\that\ folder, 
named C:\dev_sources\this\that\filelist.hbm, and simply 
refer to this file using hbmk2 option: 'C:\dev_sources\this\that\filelist.hbm'
or if you don't like .hbm extension, you can change it 
to anything and use: '@C:\dev_sources\this\that\filelist.ext'
You can embed this option into your .hbp file.
(Even the parser I wrote for hbide can be extended 
to support such embedding (see my notes in comments), 
but I stopped investing time into this.)

The best solution tough is if you simply store you 
.hbp (or .hbi) file inside C:\dev_source\...\myproject.hbi, 
open it, and voila, it will find all the source files, 
without any extra trick.

I don't know your workflow, but if you like to store 
you sources and the make files that belong to them in 
different places, detached from each other, you can 
stick to macros.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Feb  3 15:02:00 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  3 15:02:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13759] trunk/harbour
Message-ID: <E1NclQG-0006vl-2S@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13759
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13759&view=rev
Author:   vszakats
Date:     2010-02-03 20:01:58 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 20:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Enabled -workdir option for non -inc modes.
    * Change default workdir to be the OS temp dir.
      Please test it, especially on non-win OSes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Feb  3 15:44:20 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 15:44:27 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13759] trunk/harbour
In-Reply-To: <E1NclQG-0006vl-2S@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NclQG-0006vl-2S@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <1265229860653-4509679.post@n2.nabble.com>



vszakats wrote:
> 
> 2010-02-03 20:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     + Enabled -workdir option for non -inc modes.
>     * Change default workdir to be the OS temp dir.
>       Please test it, especially on non-win OSes.
> 

This is good, and can be even more, if this directory is 
unique per session in OS temp dir too.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13759-trunk-harbour-tp4509469p4509679.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From lorenzo.fiorini at gmail.com  Wed Feb  3 15:44:29 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb  3 15:44:38 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <20100203193245.GB19197@linux-4bod.home.aster.pl>
References: <20100202172347.GA23937@linux-4bod.home.aster.pl>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
	<4B698C3C.6040403@dbtopas.lt>
	<9257026e1002030700y717b64e5mebd4c6aa8f397fd0@mail.gmail.com>
	<20100203161038.GA16332@linux-4bod.home.aster.pl>
	<9257026e1002030829p56d3550dme76d9de44694a5ae@mail.gmail.com>
	<20100203174251.GA17719@linux-4bod.home.aster.pl>
	<9257026e1002031018j16ef0de0p61c164f3b1a28706@mail.gmail.com>
	<20100203193245.GB19197@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002031244o72b84864g1cd5eff41109b748@mail.gmail.com>

2010/2/3 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> No. By default all memvars (PUBLIC and PRIVATE) variables are separated
> between threads and each threads starts with its own clean set of memvars.
> If you want to change it then you can use thread attributes in
> hb_threadStart() function. See hbthread.ch and code example in
> tests/mt/mttest08.prg if you are interested in it.
> See "MULTI THREAD SUPPORT" in doc/xhb-diff.txt. I documented shared
> and inherited thread resources in Harbour.

Thanks, I wanted only to be sure.

I've simplified all I could but it still segfault here and there when
there are at least 2 concurrent calls.

I'll try to create a self contained test.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Wed Feb  3 16:00:10 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb  3 16:00:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13760] trunk/harbour
Message-ID: <E1NcmKY-0006Rm-BK@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13760
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13760&view=rev
Author:   vszakats
Date:     2010-02-03 20:59:52 +0000 (Wed, 03 Feb 2010)

Log Message:
-----------
2010-02-03 21:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added {HB_TEMPDIR} macro which is replaced with HB_DIRTEMP() value.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb  3 16:09:24 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb  3 16:09:34 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13759] trunk/harbour
In-Reply-To: <1265229860653-4509679.post@n2.nabble.com>
References: <E1NclQG-0006vl-2S@sfp-svn-6.v30.ch3.sourceforge.com>
	<1265229860653-4509679.post@n2.nabble.com>
Message-ID: <129F3E7A-310F-42D4-ADDE-C8FDE6332953@syenar.hu>

> vszakats wrote:
>> 
>> 2010-02-03 20:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * utils/hbmk2/hbmk2.prg
>>    + Enabled -workdir option for non -inc modes.
>>    * Change default workdir to be the OS temp dir.
>>      Please test it, especially on non-win OSes.
>> 
> 
> This is good, and can be even more, if this directory is 
> unique per session in OS temp dir too.

This again involves creating/deleting dirs, which 
I don't want to add for already explained reasons.
Then you have to define what "session" is. For 
sure we have no portable way to get unique IDs for 
processes. It's possible that some OS will give 
you "session" specific temp dirs though. On Windows 
for Windows apps, this is true for user / remote 
terminal sessions. I don't know which ones give you 
process specific temp dirs, if that's what you had 
in mind.

Anyhow I added {HB_TEMPDIR} macro so you can roll your 
own work dir if you append "session" specific dir 
after it using '-workdir={HB_TEMPDIR}/<MY_SESS_ID>'.

Make sure to create this dir before calling hbmk2.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Feb  3 16:14:54 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 16:15:02 2010
Subject: [Harbour] Re: hbide_pathProc() - Merging Paths - Clarification
In-Reply-To: <2ACC758B-E3D2-4AB1-B39F-1F4F10EB6544@syenar.hu>
References: <1265175144736-4505657.post@n2.nabble.com>
	<E3DDC359-26D4-444F-A3FA-4BEE8F02D1E5@syenar.hu>
	<1265225798789-4509284.post@n2.nabble.com>
	<2ACC758B-E3D2-4AB1-B39F-1F4F10EB6544@syenar.hu>
Message-ID: <1265231694293-4509879.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> It's only necessary if you want to avoid repeating 
> the same long path a lot of times and this long path is 
> not devisable from any root paths. For such purpose, 
> you can use macros, like you say, and this is supported 
> also by hbmk2 ('{MYPATH}\source.prg' and '-env:MYPATH=C:\dev_sources\').
> 

Perfect. This is exactly what meta-data concept was all about.
Now the issue is how to fetch these variables from the user?
Because these are needed to be known before visual interaction
starts for fetching/including/removing sources in/from projects.

One idea could be 

{hbMK2-env}MYPATH=C:\dev_sources\
{hbMK2-env}MYPATH_1=C:\dev_sources\common\
{hbMK2-env}MYPATHVOUCH=C:\dev_sources\vouch\

placeholder in hbide.env 

another ?



> Anyway I don't like such solution, it's much simpler 
> and self-contained if you create an .hbm file with 
> list of files in your C:\dev_sources\this\that\ folder, 
> named C:\dev_sources\this\that\filelist.hbm, and simply 
> refer to this file using hbmk2 option:
> 'C:\dev_sources\this\that\filelist.hbm'
> or if you don't like .hbm extension, you can change it 
> to anything and use: '@C:\dev_sources\this\that\filelist.ext'
> You can embed this option into your .hbp file.
> (Even the parser I wrote for hbide can be extended 
> to support such embedding (see my notes in comments), 
> but I stopped investing time into this.)
> 
> The best solution tough is if you simply store you 
> .hbp (or .hbi) file inside C:\dev_source\...\myproject.hbi, 
> open it, and voila, it will find all the source files, 
> without any extra trick.
> 

Yes, this is the simplest one. And hbMK2 will receive 
sources in this format only. The point of discussion is 
how to retain path structures in visual concept.



> I don't know your workflow, but if you like to store 
> you sources and the make files that belong to them in 
> different places, detached from each other, you can 
> stick to macros.
> 

I did not know that concept of macros exists in hbMK2.
that is why I devised meta-data. I will finetune hbIDE to take 
advantage of it. Bust as I said we need a placeholder
to know these values beforehand.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-pathProc-Merging-Paths-Clarification-tp4505657p4509879.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Wed Feb  3 16:21:15 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 16:21:22 2010
Subject: [Harbour] Re: hbide_pathProc() - Merging Paths - Clarification
In-Reply-To: <DD44109F-BAB1-4D6F-86F1-BB14FD9F65E1@syenar.hu>
References: <1265175144736-4505657.post@n2.nabble.com>
	<DD44109F-BAB1-4D6F-86F1-BB14FD9F65E1@syenar.hu>
Message-ID: <1265232075613-4509909.post@n2.nabble.com>


Hi

Analyze this scenario:

I know the location of my project, say

C:\dev_projects\

Some souce is selected with fileopen dialog and it is 

C:\dev_projects\vouch\source\vouch.prg

Now I want to retieve the relative path of this source with 

cRelative := hb_pathProc( "C:\dev_projects\vouch\source\vouch.prg",
"C:\dev_projects\" )

Can this function be extended to honor such scenario.
If yes, then coupled with -workdir= , everything can be fine tuned.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-pathProc-Merging-Paths-Clarification-tp4505657p4509909.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Wed Feb  3 16:31:59 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb  3 16:32:09 2010
Subject: [Harbour] Re: hbide_pathProc() - Merging Paths - Clarification
In-Reply-To: <1265231694293-4509879.post@n2.nabble.com>
References: <1265175144736-4505657.post@n2.nabble.com>
	<E3DDC359-26D4-444F-A3FA-4BEE8F02D1E5@syenar.hu>
	<1265225798789-4509284.post@n2.nabble.com>
	<2ACC758B-E3D2-4AB1-B39F-1F4F10EB6544@syenar.hu>
	<1265231694293-4509879.post@n2.nabble.com>
Message-ID: <A303A254-D76F-49E3-8890-C849620618F2@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> It's only necessary if you want to avoid repeating 
>> the same long path a lot of times and this long path is 
>> not devisable from any root paths. For such purpose, 
>> you can use macros, like you say, and this is supported 
>> also by hbmk2 ('{MYPATH}\source.prg' and '-env:MYPATH=C:\dev_sources\').
>> 
> 
> Perfect. This is exactly what meta-data concept was all about.
> Now the issue is how to fetch these variables from the user?
> Because these are needed to be known before visual interaction
> starts for fetching/including/removing sources in/from projects.
> 
> One idea could be 
> 
> {hbMK2-env}MYPATH=C:\dev_sources\
> {hbMK2-env}MYPATH_1=C:\dev_sources\common\
> {hbMK2-env}MYPATHVOUCH=C:\dev_sources\vouch\
> 
> placeholder in hbide.env 
> 
> another ?

These are simple hbmk2 options: -env:VAR=VALUE
AFAIR there is already a place to put those.

>> The best solution tough is if you simply store you 
>> .hbp (or .hbi) file inside C:\dev_source\...\myproject.hbi, 
>> open it, and voila, it will find all the source files, 
>> without any extra trick.
>> 
> 
> Yes, this is the simplest one. And hbMK2 will receive 
> sources in this format only. The point of discussion is 
> how to retain path structures in visual concept.

Sorry I still totally fail to grasp the "visual 
concept" you're trying to pursue here. I don't 
know what difference does a GUI make in assembling 
a list of files from on-disk config files. F.e. 
hbmk2 also need to know the proper location of each, 
so the problem appears to be the exact same.

Do you need a full-blown .hbp parser which duplicates 
the hbmk2 logic? and which give you the full path for 
each file participating in a project?

If not, what is the actual problem?

>> I don't know your workflow, but if you like to store 
>> you sources and the make files that belong to them in 
>> different places, detached from each other, you can 
>> stick to macros.
>> 
> 
> I did not know that concept of macros exists in hbMK2.
> that is why I devised meta-data. I will finetune hbIDE to take 
> advantage of it. Bust as I said we need a placeholder
> to know these values beforehand.

It's not something overly complicated, and certainly 
not something needed for normal work, or overused. 
Each unknown {macro} is expanded as environment variable, 
that's all.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Feb  3 16:44:07 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 16:44:16 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: 10 char
	variables with SAVE and REST w/ proof of concept
Message-ID: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com>

Hi,

Variables in Harbour can be over 10 characters. In clipper these can be
written as 10+ characters but only the 1st 10 are used at compile time.
When variables are saved to a .mem file only 10 characters are saved,
however when they are restored they are 10 characters, but the code
that references them can be 10+ characters, which causes undefined
variables. I had 60 variables in that situation and had to make several
hundred variable name changes to ensure everything is not more than 10
chars.
As well, an unknown number of other variable references are waiting to
explode
in situations such as:

  Local MyVariable:=10
  ? MyVariableValue // will crash in Harbour but not in Clipper

{obviously, I should have kept them the same but Clipper allowed them to be
used this way, intentionally or accidentally}

___proof___

FUNC MAIN()

  clear
    mylongvariable:="[This is mylongvariable]"
    ? mylongvariable," - long variable name OK"
    save all like my* to test.mem
    release all like my*
    rest from test.mem
    ? mylongvari," - truncated version is ok"

    ?

    ? "After this wait statement, the error will occur in Harbour"
    wait

    // if you can read the following print statement, then you're using
Clipper
    // or some switch in Harbour to fix this incompat.
    ? mylongvariable," - long version should be ok, too."

RETURN


To be compatible, would Harbour make a switch or something to truncate
all variable and field referenced to 10 chars long (and maybe function
names?)


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/3f906e96/attachment.html
From smujohnson at gmail.com  Wed Feb  3 16:45:35 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 16:45:43 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY()
	uppercase w/ proof of concept
Message-ID: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>

Hi,

Filenames are not converted to uppercase by Harbour functions such as
Directory() was in Clipper.


  #include "Directry.ch"

  FUNC MAIN()

    aDirectory := DIRECTORY("*.txt", "D")
    AEVAL( aDirectory, {|aFile| QOUT(aFile[F_NAME])} )

  RETURN

  /*

  __ HARBOUR (02/03/2010  01:18 PM                 5 test.txt)

  C:\hbm>hello

  ---------------------

  __ CLIPPER (02/03/2010  01:15p                  11 test.txt)

  C:\ver8\PRGS>hello.exe

  TEST.TXT

  */


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/70dc1e75/attachment.html
From smujohnson at gmail.com  Wed Feb  3 16:50:18 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 16:50:31 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS() return
	val
Message-ID: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>

Hi,

In Clipper, ? SETPOS(10,4) returns 10.  In Harbour, it returns NIL

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/180b8808/attachment.html
From smujohnson at gmail.com  Wed Feb  3 16:52:22 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 16:52:30 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
Message-ID: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>

Hi!

In Clipper, CURDIR() returns the absolute path, including the drive letter.
In Harbour, it does the same, but omits the drive letter and colon.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/5edc2b82/attachment.html
From ptucker at sympatico.ca  Wed Feb  3 17:02:48 2010
From: ptucker at sympatico.ca (Paul Tucker)
Date: Wed Feb  3 17:02:56 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY()
	uppercase w/ proof of concept
In-Reply-To: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
References: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
Message-ID: <COL117-W4F8F25E36781885D04F64DF560@phx.gbl>


For Directory, I'm quite sure that was a conscious desicion to actually support what the O/S gives you.

 

Paul
 


Date: Wed, 3 Feb 2010 13:45:35 -0800
From: smujohnson@gmail.com
To: harbour@harbour-project.org
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY() uppercase w/ proof of concept

Hi,

Filenames are not converted to uppercase by Harbour functions such as
Directory() was in Clipper.
  

  #include "Directry.ch"

  FUNC MAIN()

    aDirectory := DIRECTORY("*.txt", "D")
    AEVAL( aDirectory, {|aFile| QOUT(aFile[F_NAME])} )

  RETURN

  /*

  __ HARBOUR (02/03/2010  01:18 PM                 5 test.txt)

  C:\hbm>hello

  ---------------------

  __ CLIPPER (02/03/2010  01:15p                  11 test.txt)

  C:\ver8\PRGS>hello.exe

  TEST.TXT

  */
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/930f0ba2/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb  3 17:05:26 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 17:05:44 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: 10 char
	variables with SAVE and REST w/ proof of concept
In-Reply-To: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com>
References: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com>
Message-ID: <B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu>

Hi,

> Variables in Harbour can be over 10 characters. In clipper these can be
> written as 10+ characters but only the 1st 10 are used at compile time.
> When variables are saved to a .mem file only 10 characters are saved,
> however when they are restored they are 10 characters, but the code
> that references them can be 10+ characters, which causes undefined
> variables. I had 60 variables in that situation and had to make several
> hundred variable name changes to ensure everything is not more than 10 chars.
> As well, an unknown number of other variable references are waiting to explode
> in situations such as:
> 
>   Local MyVariable:=10
>   ? MyVariableValue // will crash in Harbour but not in Clipper

It will RTE, not crash. It's not the same, when we read 
'crash', it suggests the it's a Harbour system crash.

This is a known problem, and it's a limitation of the 
.mem file format. It's not possible to solve it without 
breaking CA-Cl*pper compatibility.

Brgds,
Viktor

From ptucker at sympatico.ca  Wed Feb  3 17:05:42 2010
From: ptucker at sympatico.ca (Paul Tucker)
Date: Wed Feb  3 17:05:49 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS()
	return	val
In-Reply-To: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
References: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
Message-ID: <COL117-W39717A65E757E44E2CB367DF560@phx.gbl>


In this case, Clipper Procedures are documented to not return a value, but in actual fact, you get whatever the last value put on the return stack.  Harbour actually sets that value to NIL.

 

IOW, the operation is actually 'undefined' in Clipper - or said another way, do _not_ rely on thsi side effect.

 

Paul
 


Date: Wed, 3 Feb 2010 13:50:18 -0800
From: smujohnson@gmail.com
To: harbour@harbour-project.org
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS() return val

Hi,

In Clipper, ? SETPOS(10,4) returns 10.  In Harbour, it returns NIL
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/247f2aa6/attachment.html
From smujohnson at gmail.com  Wed Feb  3 17:08:12 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 17:08:19 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: ACHOICE() w/
	p.o.c
Message-ID: <674e4ddd1002031408m4b9ac4f1p1a579c87249eefff@mail.gmail.com>

ACHOICE() behaves differently in Harbour than Clipper.  In Clipper, the code
below will not have achoicef() called, as it knows that there is no point to
run it.. probably because the pFNames array is blank.  Harbour however, will
try to run it, causing "array access" error.

--- code ---

func main()

  Priv pFNames:={}    // privates needed by achoice's function

  AChoice(1,0,10,20,pFNames,,"achoicef",1,1)

return nil



Func achoicef(nMode,nItem)

  ? pFNames[nItem]

  wait

return


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/99ba9366/attachment.html
From smujohnson at gmail.com  Wed Feb  3 17:14:48 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 17:14:55 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: 10 char 
	variables with SAVE and REST w/ proof of concept
In-Reply-To: <B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu>
References: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com>
	<B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu>
Message-ID: <674e4ddd1002031414s241a1b53v545438266a8f6960@mail.gmail.com>

Ok.  So I suppose the best solution is to just make .MEM saved vars 1-10
chars long?

Also, sorry about the vague use of "crash".  I'll edit my posts prior to
posting to avoid that in the future.  The good news is, I've never had
Harbour actually crash yet!

On Wed, Feb 3, 2010 at 2:05 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Hi,
>
> > Variables in Harbour can be over 10 characters. In clipper these can be
> > written as 10+ characters but only the 1st 10 are used at compile time.
> > When variables are saved to a .mem file only 10 characters are saved,
> > however when they are restored they are 10 characters, but the code
> > that references them can be 10+ characters, which causes undefined
> > variables. I had 60 variables in that situation and had to make several
> > hundred variable name changes to ensure everything is not more than 10
> chars.
> > As well, an unknown number of other variable references are waiting to
> explode
> > in situations such as:
> >
> >   Local MyVariable:=10
> >   ? MyVariableValue // will crash in Harbour but not in Clipper
>
> It will RTE, not crash. It's not the same, when we read
> 'crash', it suggests the it's a Harbour system crash.
>
> This is a known problem, and it's a limitation of the
> .mem file format. It's not possible to solve it without
> breaking CA-Cl*pper compatibility.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/3dbe94a0/attachment.html
From smujohnson at gmail.com  Wed Feb  3 17:25:32 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 17:25:40 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: 10 char 
	variables with SAVE and REST w/ proof of concept
In-Reply-To: <B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu>
References: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com>
	<B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu>
Message-ID: <674e4ddd1002031425i4abfda78p9d40e0036df77f5@mail.gmail.com>

Viktor,

Was thinking a bit more about this... I suppose there are some things in
Clipper and Harbour that are not compatible.. such as long variable names...

Since this likely won't be changed, as I also prefer long variable names...
but would would be the best way to do to just keep going ahead with porting
our old .PRG's to Harbour?

Thanks

On Wed, Feb 3, 2010 at 2:05 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Hi,
>
> > Variables in Harbour can be over 10 characters. In clipper these can be
> > written as 10+ characters but only the 1st 10 are used at compile time.
> > When variables are saved to a .mem file only 10 characters are saved,
> > however when they are restored they are 10 characters, but the code
> > that references them can be 10+ characters, which causes undefined
> > variables. I had 60 variables in that situation and had to make several
> > hundred variable name changes to ensure everything is not more than 10
> chars.
> > As well, an unknown number of other variable references are waiting to
> explode
> > in situations such as:
> >
> >   Local MyVariable:=10
> >   ? MyVariableValue // will crash in Harbour but not in Clipper
>
> It will RTE, not crash. It's not the same, when we read
> 'crash', it suggests the it's a Harbour system crash.
>
> This is a known problem, and it's a limitation of the
> .mem file format. It's not possible to solve it without
> breaking CA-Cl*pper compatibility.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/b95b26eb/attachment.html
From abe.buch at att.net  Wed Feb  3 17:31:34 2010
From: abe.buch at att.net (AbeB)
Date: Wed Feb  3 17:31:41 2010
Subject: [Harbour] Help Please! Box Characters In WINCE
Message-ID: <1265236294659-4510357.post@n2.nabble.com>


Hi All,

I just can't  get the box characters to show on wince ver 5.00

it does show in the emulator though. what am i missing.

Thanks,
Abeb

-- 
View this message in context: http://n2.nabble.com/Help-Please-Box-Characters-In-WINCE-tp4510357p4510357.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Wed Feb  3 17:39:28 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 17:39:37 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SET() w/ p.o.c.
Message-ID: <674e4ddd1002031439k4b5a2fc9s453d42bbf71c35bb@mail.gmail.com>

FUNC MAIN()

  ? set(24) // Clipper is "", Harbour is LPT1
  set printer to ("junk.txt")
  ? set(24) // junk.txt

  set printer to
  ? set(24) // s/b "", but set to LPT1 again

RETURN

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/de13e32d/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb  3 17:40:04 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb  3 17:40:13 2010
Subject: [Harbour] Re: hbide_pathProc() - Merging Paths - Clarification
In-Reply-To: <1265232075613-4509909.post@n2.nabble.com>
References: <1265175144736-4505657.post@n2.nabble.com>
	<DD44109F-BAB1-4D6F-86F1-BB14FD9F65E1@syenar.hu>
	<1265232075613-4509909.post@n2.nabble.com>
Message-ID: <28223C1A-4712-4A20-B6EF-F8BD7879EBD2@syenar.hu>

> Analyze this scenario:
> 
> I know the location of my project, say
> 
> C:\dev_projects\
> 
> Some souce is selected with fileopen dialog and it is 
> 
> C:\dev_projects\vouch\source\vouch.prg
> 
> Now I want to retieve the relative path of this source with 
> 
> cRelative := hb_pathProc( "C:\dev_projects\vouch\source\vouch.prg",
> "C:\dev_projects\" )
> 
> Can this function be extended to honor such scenario.
> If yes, then coupled with -workdir= , everything can be fine tuned.

No, this function was created for a completely different task, 
it's not a matter of extension.

For above task you'll need the exact opposite of this function, 
ie. to retrieve the relative path from an absolute one, given 
a base/reference dir.

I don't have such function at hand.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Feb  3 17:42:13 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 17:42:34 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
In-Reply-To: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
References: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
Message-ID: <122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>

Please post more information about Clipper version, OS 
and small test problem.

Here CURDIR() returns /DIR/ format, in sync with C5x 
documentation. (C5.2e under Win98)

Brgds,
Viktor

On 2010 Feb 3, at 22:52, smu johnson wrote:

> Hi!
> 
> In Clipper, CURDIR() returns the absolute path, including the drive letter.  In Harbour, it does the same, but omits the drive letter and colon.
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Feb  3 17:39:07 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 17:47:14 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS()
	return val
In-Reply-To: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
References: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
Message-ID: <CBE30044-C26E-4F8E-B999-3D6357ED09AF@syenar.hu>

> Hi,
> 
> In Clipper, ? SETPOS(10,4) returns 10.  In Harbour, it returns NIL

Also DEVPOS(). They should return NIL as per documentation, 
but they return the first parameter, unchanged, even if it's 
invalid. I can't recall past discussions, but it seems like 
a C5.2/5.3 bug.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Feb  3 17:48:01 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 17:48:10 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: 10 char
	variables with SAVE and REST w/ proof of concept
In-Reply-To: <674e4ddd1002031414s241a1b53v545438266a8f6960@mail.gmail.com>
References: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com>
	<B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu>
	<674e4ddd1002031414s241a1b53v545438266a8f6960@mail.gmail.com>
Message-ID: <B22F9EC5-121D-4EBC-A1E1-123989796E62@syenar.hu>

> Ok.  So I suppose the best solution is to just make .MEM saved vars 1-10 chars long?

In case you need to want to keep using .mem files, 
this is the _only_ solution.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Feb  3 17:53:04 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 17:53:13 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: 10 char
	variables with SAVE and REST w/ proof of concept
In-Reply-To: <674e4ddd1002031425i4abfda78p9d40e0036df77f5@mail.gmail.com>
References: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com>
	<B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu>
	<674e4ddd1002031425i4abfda78p9d40e0036df77f5@mail.gmail.com>
Message-ID: <1C9D90F6-6406-4C69-A9BF-1F0B45226C8D@syenar.hu>

> Viktor,
> 
> Was thinking a bit more about this... I suppose there are some things in Clipper and Harbour that are not compatible.. such as long variable names...
> 
> Since this likely won't be changed, as I also prefer long variable names...  but would would be the best way to do to just keep going ahead with porting our old .PRG's to Harbour?

- Avoid using .mem files. Use .ini files, or .dbf, or serialized variables if 
  Clipper compatibility/interoperability is not a concern, etc.
- In Clipper there won't be any problem mistyping variable/function 
  names beyond the 10th char, in Harbour there will, so these have to 
  be corrected.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Feb  3 17:57:09 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 17:57:20 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
In-Reply-To: <122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>
References: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
	<122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>
Message-ID: <674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>

Viktor,

http://209.97.219.2/sjohnson/misc/curdir-diff.png

Please let me know if you need anything else.


On Wed, Feb 3, 2010 at 2:42 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Please post more information about Clipper version, OS
> and small test problem.
>
> Here CURDIR() returns /DIR/ format, in sync with C5x
> documentation. (C5.2e under Win98)
>
> Brgds,
> Viktor
>
> On 2010 Feb 3, at 22:52, smu johnson wrote:
>
> > Hi!
> >
> > In Clipper, CURDIR() returns the absolute path, including the drive
> letter.  In Harbour, it does the same, but omits the drive letter and colon.
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/e645edba/attachment.html
From harbour.01 at syenar.hu  Wed Feb  3 17:58:17 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 17:58:27 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY()
	uppercase w/ proof of concept
In-Reply-To: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
References: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
Message-ID: <6384B7B7-B289-4BF4-9EA8-6768CB69C148@syenar.hu>

Hi,

Clipper doesn't make any conversion on the filename, 
it just returns you what the OS returned.

Harbour does the same, and returns what the OS returns, 
which is in this case the original casing of filenames.

Pls remember you switched OS platform also, not just 
the compiler and certain behavior (like this) is tied to 
the platform, not the compiler itself. For some of the 
differences Harbour offers MS-DOS "emulation", I hope 
someone can help in these (I'm personally not using them), 
look around _SET_FILECASE and friends.

Brgds,
Viktor

On 2010 Feb 3, at 22:45, smu johnson wrote:

> Hi,
> 
> Filenames are not converted to uppercase by Harbour functions such as
> Directory() was in Clipper.
>   
> 
>   #include "Directry.ch"
> 
>   FUNC MAIN()
> 
>     aDirectory := DIRECTORY("*.txt", "D")
>     AEVAL( aDirectory, {|aFile| QOUT(aFile[F_NAME])} )
> 
>   RETURN
> 
>   /*
> 
>   __ HARBOUR (02/03/2010  01:18 PM                 5 test.txt)
> 
>   C:\hbm>hello
> 
>   ---------------------
> 
>   __ CLIPPER (02/03/2010  01:15p                  11 test.txt)
> 
>   C:\ver8\PRGS>hello.exe
> 
>   TEST.TXT
> 
>   */
>   
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Feb  3 18:04:16 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 18:04:26 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
In-Reply-To: <674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>
References: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
	<122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>
	<674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>
Message-ID: <0C724C6E-C185-42DE-8911-D4AA8D32887E@syenar.hu>

> Viktor,
> 
> http://209.97.219.2/sjohnson/misc/curdir-diff.png
> 
> Please let me know if you need anything else.

My only guess is that CURDIR() is overridden by 
some libs. Sorry, but I can't replicate it here 
and can't recall seeing such behavior even on W2K 
either.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Feb  3 18:05:37 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 18:05:46 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
In-Reply-To: <0C724C6E-C185-42DE-8911-D4AA8D32887E@syenar.hu>
References: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
	<122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>
	<674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>
	<0C724C6E-C185-42DE-8911-D4AA8D32887E@syenar.hu>
Message-ID: <674e4ddd1002031505w113b611fu7f82f705ce3f9364@mail.gmail.com>

Is there a way an HB_CURDIR or HB_CWD could be implemented, to always return
the same val, based on it's own system lib thingies?


On Wed, Feb 3, 2010 at 3:04 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> > Viktor,
> >
> > http://209.97.219.2/sjohnson/misc/curdir-diff.png
> >
> > Please let me know if you need anything else.
>
> My only guess is that CURDIR() is overridden by
> some libs. Sorry, but I can't replicate it here
> and can't recall seeing such behavior even on W2K
> either.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/a1f3496d/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb  3 18:12:45 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 18:12:56 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
In-Reply-To: <674e4ddd1002031505w113b611fu7f82f705ce3f9364@mail.gmail.com>
References: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
	<122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>
	<674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>
	<0C724C6E-C185-42DE-8911-D4AA8D32887E@syenar.hu>
	<674e4ddd1002031505w113b611fu7f82f705ce3f9364@mail.gmail.com>
Message-ID: <CE2A78B5-BCBA-474B-9CA4-5280E9BEBD64@syenar.hu>

Try this one:

FUNCTION hb_pwd()
   RETURN CurDrive() + hb_osDriveSeparator() + hb_osPathSeparator() + CurDir()

Brgds,
Viktor

On 2010 Feb 4, at 00:05, smu johnson wrote:

> Is there a way an HB_CURDIR or HB_CWD could be implemented, to always return the same val, based on it's own system lib thingies?
> 
> 
> On Wed, Feb 3, 2010 at 3:04 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> > Viktor,
> >
> > http://209.97.219.2/sjohnson/misc/curdir-diff.png
> >
> > Please let me know if you need anything else.
> 
> My only guess is that CURDIR() is overridden by
> some libs. Sorry, but I can't replicate it here
> and can't recall seeing such behavior even on W2K
> either.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Wed Feb  3 18:17:30 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 18:17:38 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
In-Reply-To: <CE2A78B5-BCBA-474B-9CA4-5280E9BEBD64@syenar.hu>
References: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
	<122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>
	<674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>
	<0C724C6E-C185-42DE-8911-D4AA8D32887E@syenar.hu>
	<674e4ddd1002031505w113b611fu7f82f705ce3f9364@mail.gmail.com>
	<CE2A78B5-BCBA-474B-9CA4-5280E9BEBD64@syenar.hu>
Message-ID: <674e4ddd1002031517h7b6b7313ydf349a54bba0e35f@mail.gmail.com>

hmm.. i suppose i'd have to use some perl-like regex to test that this
doesn't write C:\C:\hbm on other version of windows...


On Wed, Feb 3, 2010 at 3:12 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Try this one:
>
> FUNCTION hb_pwd()
>   RETURN CurDrive() + hb_osDriveSeparator() + hb_osPathSeparator() +
> CurDir()
>
> Brgds,
> Viktor
>
> On 2010 Feb 4, at 00:05, smu johnson wrote:
>
> > Is there a way an HB_CURDIR or HB_CWD could be implemented, to always
> return the same val, based on it's own system lib thingies?
> >
> >
> > On Wed, Feb 3, 2010 at 3:04 PM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
> > > Viktor,
> > >
> > > http://209.97.219.2/sjohnson/misc/curdir-diff.png
> > >
> > > Please let me know if you need anything else.
> >
> > My only guess is that CURDIR() is overridden by
> > some libs. Sorry, but I can't replicate it here
> > and can't recall seeing such behavior even on W2K
> > either.
> >
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/db337896/attachment.html
From harbour.01 at syenar.hu  Wed Feb  3 18:24:28 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb  3 18:24:36 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
In-Reply-To: <674e4ddd1002031517h7b6b7313ydf349a54bba0e35f@mail.gmail.com>
References: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
	<122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>
	<674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>
	<0C724C6E-C185-42DE-8911-D4AA8D32887E@syenar.hu>
	<674e4ddd1002031505w113b611fu7f82f705ce3f9364@mail.gmail.com>
	<CE2A78B5-BCBA-474B-9CA4-5280E9BEBD64@syenar.hu>
	<674e4ddd1002031517h7b6b7313ydf349a54bba0e35f@mail.gmail.com>
Message-ID: <CF8118E9-FD0D-4091-8D73-7FC26943F40F@syenar.hu>

> hmm.. i suppose i'd have to use some perl-like regex to test that this doesn't write C:\C:\hbm on other version of windows...

I don't think you need to make it that complicated.

If CURDIR() returns a drive letter in Harbour, report 
it on this list, as it is a clear bug. I'm confident 
that such bug doesn't exist in Harbour though.

Brgds,
Viktor

From smujohnson at gmail.com  Wed Feb  3 18:27:39 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 18:27:47 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
In-Reply-To: <CF8118E9-FD0D-4091-8D73-7FC26943F40F@syenar.hu>
References: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
	<122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>
	<674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>
	<0C724C6E-C185-42DE-8911-D4AA8D32887E@syenar.hu>
	<674e4ddd1002031505w113b611fu7f82f705ce3f9364@mail.gmail.com>
	<CE2A78B5-BCBA-474B-9CA4-5280E9BEBD64@syenar.hu>
	<674e4ddd1002031517h7b6b7313ydf349a54bba0e35f@mail.gmail.com>
	<CF8118E9-FD0D-4091-8D73-7FC26943F40F@syenar.hu>
Message-ID: <674e4ddd1002031527m42193840kcd39d88a62fde289@mail.gmail.com>

Thanks Viktor.. you have been most helpful!

On Wed, Feb 3, 2010 at 3:24 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> > hmm.. i suppose i'd have to use some perl-like regex to test that this
> doesn't write C:\C:\hbm on other version of windows...
>
> I don't think you need to make it that complicated.
>
> If CURDIR() returns a drive letter in Harbour, report
> it on this list, as it is a clear bug. I'm confident
> that such bug doesn't exist in Harbour though.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/c5320403/attachment.html
From itamarlins at gmail.com  Wed Feb  3 19:37:12 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Wed Feb  3 19:37:40 2010
Subject: [Harbour] dllcall problem
Message-ID: <hkd4rh$h2a$1@ger.gmane.org>

Hi!
I am with a small problem,DLLCALL not working with MINGW, but run fine 
using MSVC express.
Bellow piece of code with Hwgui.


#define DC_CALL_STD 0x0020

Function Grafico(sTemp,lPrint)
Local oMainWindow, oFont, hDll

hDll:=loadlibrary("rmchart.dll")

INIT DIALOG oMainWindow  TITLE "GR?FICO"  Font AT 0,0 SIZE 910,620 ;
On Init {|| Chart(hDll,oMainWindow,sTemp) }

oMainWindow:Activate()
Return nil

Function Chart(hDll,oMainWindow,sTemp)
Local  nRetVal
nRetVal := 
DllCall(hDll,DC_CALL_STD,"RMC_CREATECHARTFROMFILE",oMainWindow:Handle,1001,10,10,0,sTemp)
nRetVal := dllcall(hDll,DC_CALL_STD,"RMC_DRAW",1001)
return nil

See the error:
---------------------------------------------------------
Application Internal Error - C:\FONTES\SCI_WIN\sciwin.exe
Terminated at: 2010.02.03 21:14:54
Erro irrecuper vel 6005: Exception error:

     Exception Code:C0000005
     Exception Address:004373E0
     EAX:00C0F648  EBX:0022DA90  ECX:00000001  EDX:00000400
     ESI:00660352  EDI:00000000  EBP:0326B310
     CS:EIP:001B:004373E0  SS:ESP:0023:0022D990
     DS:0023  ES:0023  FS:003B  GS:0000
     Flags:00010206
     CS:EIP: 8B 45 00 83 C0 03 99 C1 EA 1E 8D 04 02 8B 55 0C
     SS:ESP: 7742E0D2 00660352 000000F7 00000000 3A052463 002697A8 
0022DA04 0022D9B8 773C1E75 0022DA2C 0022DA04 773C1EDF 00000001 773C1EE7 
00000000 002697AA

     C stack:
     EIP:     EBP:       Frame: OldEBP, RetAddr, Params...

Modules:
0x00400000 0x00389000 C:\FONTES\SCI_WIN\sciwin.exe
0x7C900000 0x000B6000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x00100000 C:\WINDOWS\system32\kernel32.dll
0x77F50000 0x000AB000 C:\WINDOWS\system32\ADVAPI32.DLL
0x77DB0000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77F20000 0x00011000 C:\WINDOWS\system32\Secur32.dll
0x773B0000 0x00103000 
C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.2600.5512_x-ww_35d4ce83\COMCTL32.DLL
0x77BF0000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x77E50000 0x00049000 C:\WINDOWS\system32\GDI32.dll
0x7E360000 0x00091000 C:\WINDOWS\system32\USER32.dll
0x77EA0000 0x00076000 C:\WINDOWS\system32\SHLWAPI.dll
0x76380000 0x00048000 C:\WINDOWS\system32\COMDLG32.DLL
0x7C9C0000 0x0081E000 C:\WINDOWS\system32\SHELL32.dll
0x71AE0000 0x00012000 C:\WINDOWS\system32\MPR.DLL
0x774C0000 0x0013D000 C:\WINDOWS\system32\OLE32.dll
0x77100000 0x0008B000 C:\WINDOWS\system32\OLEAUT32.DLL
0x72FB0000 0x00026000 C:\WINDOWS\system32\WINSPOOL.DRV
0x71A70000 0x00017000 C:\WINDOWS\system32\WS2_32.DLL
0x71A60000 0x00008000 C:\WINDOWS\system32\WS2HELP.dll
0x76360000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x5B1C0000 0x00038000 C:\WINDOWS\system32\uxtheme.dll
0x746E0000 0x0004C000 C:\WINDOWS\system32\MSCTF.dll
0x75290000 0x0002E000 C:\WINDOWS\system32\msctfime.ime
0x70E60000 0x00013000 C:\WINDOWS\system32\asycfilt.dll
0x01520000 0x000B7000 C:\WINDOWS\system32\rmchart.dll
0x4EB60000 0x001AB000 
C:\WINDOWS\WinSxS\x86_Microsoft.Windows.GdiPlus_6595b64144ccf1df_1.0.6001.22319_x-ww_f0b4c2df\gdiplus.dll

Called from DLLCALL(0)
Called from CHART(138) in graficos.prg
Called from (b)GRAFICO(177) in graficos.prg
Called from INITMODALDLG(316) in source/hdialog.prg
Called from (b)(_INITSTATICS00003)(0) in source/hdialog.prg
Called from HDIALOG:ONEVENT(232) in source/hdialog.prg
Called from HWG_DLGBOXINDIRECT(0)
Called from HDIALOG:ACTIVATE(185) in source/hdialog.prg
Called from GRAFICO(180) in graficos.prg
Called from GRAFICORECEITASDESPESAS(558) in graficos.prg
Called from (b)CAIXA(110) in caixa.prg
Called from HOWNBUTTON:MUP(381) in source/hownbtn.prg
Called from HOWNBUTTON:ONEVENT(147) in source/hownbtn.prg
Called from HWG_DLGBOXINDIRECT(0)
Called from HDIALOG:ACTIVATE(185) in source/hdialog.prg
Called from CAIXA(158) in caixa.prg
Called from (b)MAIN(197) in sciwin.prg
Called from HOWNBUTTON:MUP(381) in source/hownbtn.prg
Called from HOWNBUTTON:ONEVENT(147) in source/hownbtn.prg
Called from HWG_ACTIVATEMAINWINDOW(0)
Called from HMAINWINDOW:ACTIVATE(346) in source/hwindow.prg
Called from MAIN(331) in sciwin.prg
------------------------------------------------------------------------

From bedipritpal at hotmail.com  Wed Feb  3 21:15:09 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb  3 21:15:16 2010
Subject: [Harbour] Hb_RegEx() - How to determine if an expression is a valid
	one
Message-ID: <1265249709228-4511204.post@n2.nabble.com>


Hi

How it can be determined that an expression is a
valid regex which can be submitted to the engine, 
without generating a RTE ?

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hb-RegEx-How-to-determine-if-an-expression-is-a-valid-one-tp4511204p4511204.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jarabal at gmail.com  Wed Feb  3 22:53:30 2010
From: jarabal at gmail.com (Xavi)
Date: Wed Feb  3 22:54:18 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SET() w/ p.o.c.
In-Reply-To: <674e4ddd1002031439k4b5a2fc9s453d42bbf71c35bb@mail.gmail.com>
References: <674e4ddd1002031439k4b5a2fc9s453d42bbf71c35bb@mail.gmail.com>
Message-ID: <4B6A44BA.6030109@gmail.com>

smu,

>    set printer to
>    ? set(24) // s/b "", but set to LPT1 again

Ok but it's also the default printer.
Printer connected to port LPT1 in WoW and NTVDM DOS PC emulator under Windows.

try .-

FUNC MAIN()

    ? set(24) // Clipper is "", Harbour is LPT1
    set printer to ("junk.txt")
    ? set(24) // junk.txt

    set printer to
    ? set(24) // s/b "", but set to LPT1 again

    // set printer to LPT4
    // set printer to
    set printer on
    ? "Printed on default printer."


RETURN

-- 
Xavi

El 03/02/2010 23:39, smu johnson escribi?:
> FUNC MAIN()
>
>    ? set(24) // Clipper is "", Harbour is LPT1
>    set printer to ("junk.txt")
>    ? set(24) // junk.txt
>
>    set printer to
>    ? set(24) // s/b "", but set to LPT1 again
>
> RETURN
>
> --
> smu johnson <smujohnson@gmail.com <mailto:smujohnson@gmail.com>>
>
From smujohnson at gmail.com  Wed Feb  3 23:15:04 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb  3 23:15:12 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SET() w/ 
	p.o.c.
In-Reply-To: <4B6A44BA.6030109@gmail.com>
References: <674e4ddd1002031439k4b5a2fc9s453d42bbf71c35bb@mail.gmail.com>
	<4B6A44BA.6030109@gmail.com>
Message-ID: <674e4ddd1002032015g4704a683l5459344384940ad3@mail.gmail.com>

Well the program compiled in both Clipper and Harbour behaves differently on
the same machine, same environment, in this case, Vista 32-bit.  Hence an
incompatibility.

On Wed, Feb 3, 2010 at 7:53 PM, Xavi <jarabal@gmail.com> wrote:

> smu,
>
>
>    set printer to
>>   ? set(24) // s/b "", but set to LPT1 again
>>
>
> Ok but it's also the default printer.
> Printer connected to port LPT1 in WoW and NTVDM DOS PC emulator under
> Windows.
>
> try .-
>
>
> FUNC MAIN()
>
>   ? set(24) // Clipper is "", Harbour is LPT1
>   set printer to ("junk.txt")
>   ? set(24) // junk.txt
>
>   set printer to
>   ? set(24) // s/b "", but set to LPT1 again
>
>   // set printer to LPT4
>   // set printer to
>   set printer on
>   ? "Printed on default printer."
>
>
> RETURN
>
> --
> Xavi
>
> El 03/02/2010 23:39, smu johnson escribi?:
>
>> FUNC MAIN()
>>
>>   ? set(24) // Clipper is "", Harbour is LPT1
>>   set printer to ("junk.txt")
>>   ? set(24) // junk.txt
>>
>>   set printer to
>>   ? set(24) // s/b "", but set to LPT1 again
>>
>> RETURN
>>
>> --
>> smu johnson <smujohnson@gmail.com <mailto:smujohnson@gmail.com>>
>>
>>  _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100203/bb2280fc/attachment.html
From jarabal at gmail.com  Wed Feb  3 23:36:29 2010
From: jarabal at gmail.com (Xavi)
Date: Wed Feb  3 23:37:10 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SET() w/ 
	p.o.c.
In-Reply-To: <674e4ddd1002032015g4704a683l5459344384940ad3@mail.gmail.com>
References: <674e4ddd1002031439k4b5a2fc9s453d42bbf71c35bb@mail.gmail.com>	<4B6A44BA.6030109@gmail.com>
	<674e4ddd1002032015g4704a683l5459344384940ad3@mail.gmail.com>
Message-ID: <4B6A4ECD.2030907@gmail.com>

> Well the program compiled in both Clipper and Harbour behaves
> differently on the same machine, same environment, in this case, Vista
> 32-bit.  Hence an incompatibility.

I think that could be changed to "" by default but maybe it's an advantage if you think that Harbour compile for other OS too.

-- 
Xavi

El 04/02/2010 5:15, smu johnson escribi?:
> Well the program compiled in both Clipper and Harbour behaves
> differently on the same machine, same environment, in this case, Vista
> 32-bit.  Hence an incompatibility.
>
> On Wed, Feb 3, 2010 at 7:53 PM, Xavi <jarabal@gmail.com
> <mailto:jarabal@gmail.com>> wrote:
>
>     smu,
>
>
>            set printer to
>            ? set(24) // s/b "", but set to LPT1 again
>
>
>     Ok but it's also the default printer.
>     Printer connected to port LPT1 in WoW and NTVDM DOS PC emulator
>     under Windows.
>
>     try .-
>
>
>     FUNC MAIN()
>
>        ? set(24) // Clipper is "", Harbour is LPT1
>        set printer to ("junk.txt")
>        ? set(24) // junk.txt
>
>        set printer to
>        ? set(24) // s/b "", but set to LPT1 again
>
>        // set printer to LPT4
>        // set printer to
>        set printer on
>        ? "Printed on default printer."
>
>
>     RETURN
>
>     --
>     Xavi
>
>     El 03/02/2010 23:39, smu johnson escribi?:
>
>         FUNC MAIN()
>
>            ? set(24) // Clipper is "", Harbour is LPT1
>            set printer to ("junk.txt")
>            ? set(24) // junk.txt
>
>            set printer to
>            ? set(24) // s/b "", but set to LPT1 again
>
>         RETURN
>
>         --
>         smu johnson <smujohnson@gmail.com <mailto:smujohnson@gmail.com>
>         <mailto:smujohnson@gmail.com <mailto:smujohnson@gmail.com>>>
>
>     _______________________________________________
>     Harbour mailing list (attachment size limit: 40KB)
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>
> --
> smu johnson <smujohnson@gmail.com <mailto:smujohnson@gmail.com>>
>
From niki at synel.co.il  Thu Feb  4 01:27:37 2010
From: niki at synel.co.il (Chen Kedem)
Date: Thu Feb  4 01:27:47 2010
Subject: [Harbour] SF bug tracker#2945728: Wrong usage of console buffer in
	Windows
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8C626C34@Mail-yoq.SYNEL-COMPANY.LTD>

Wilfried Brunken submitted the following bug report:
http://sourceforge.net/tracker/index.php?func=detail&aid=2945728&group_id=681&atid=100681

When the Windows console buffer size does not match window size,
Harbour programs works in a non-consistent way.

It seems that sometimes the screen size is used to determine client size,
and sometimes the buffer size is used.
(see sample ZIP attached to that bug report).

Calling SETMODE() fixed such anomalies by setting both to the same
dimemntions.


  Chen.
From gabor.salai at euroherc.hr  Thu Feb  4 02:43:45 2010
From: gabor.salai at euroherc.hr (sali)
Date: Thu Feb  4 02:40:55 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: 10
	charvariables with SAVE and REST w/ proof of concept
References: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com><B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu><674e4ddd1002031425i4abfda78p9d40e0036df77f5@mail.gmail.com>
	<1C9D90F6-6406-4C69-A9BF-1F0B45226C8D@syenar.hu>
Message-ID: <00e501caa56d$c7ea2670$6600540a@euroherc.ba>

----- Original Message ----- 
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Wednesday, February 03, 2010 11:53 PM
Subject: Re: [Harbour] Harbour / Clipper Incompatibility Issue: 10 
charvariables with SAVE and REST w/ proof of concept

> Was thinking a bit more about this... I suppose there are some things in 
> Clipper and Harbour that are not compatible.. such as long variable 
> names...
>
> Since this likely won't be changed, as I also prefer long variable 
> names...  but would would be the best way to do to just keep going ahead 
> with porting our old .PRG's to Harbour?

- Avoid using .mem files. Use .ini files, or .dbf, or serialized variables 
if

but, wasn't there compiler compat switch, forceing harbour to use just first 
10 chars of var name?
just to help as fast as possible code porting 

From harbour.01 at syenar.hu  Thu Feb  4 02:52:51 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  4 02:53:02 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: 10
	charvariables with SAVE and REST w/ proof of concept
In-Reply-To: <00e501caa56d$c7ea2670$6600540a@euroherc.ba>
References: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com><B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu><674e4ddd1002031425i4abfda78p9d40e0036df77f5@mail.gmail.com>
	<1C9D90F6-6406-4C69-A9BF-1F0B45226C8D@syenar.hu>
	<00e501caa56d$c7ea2670$6600540a@euroherc.ba>
Message-ID: <9AB8A59B-9D8C-42DD-B8A0-AED824821C06@syenar.hu>

> ----- Original Message ----- From: "Viktor Szak?ts" <harbour.01@syenar.hu>
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Sent: Wednesday, February 03, 2010 11:53 PM
> Subject: Re: [Harbour] Harbour / Clipper Incompatibility Issue: 10 charvariables with SAVE and REST w/ proof of concept
> 
>> Was thinking a bit more about this... I suppose there are some things in Clipper and Harbour that are not compatible.. such as long variable names...
>> 
>> Since this likely won't be changed, as I also prefer long variable names...  but would would be the best way to do to just keep going ahead with porting our old .PRG's to Harbour?
> 
> - Avoid using .mem files. Use .ini files, or .dbf, or serialized variables if
> 
> but, wasn't there compiler compat switch, forceing harbour to use just first 10 chars of var name?
> just to help as fast as possible code porting 

We've only discussed it, but it's not possible to solve 
the problem using a compiler switch.

In the past we had a Harbour build-time switch for this 
though, which could have solved the problem, but this 
switch got removed as it was not possible to create 
valid build since long because first 10 chars of many 
Harbour function names used wasn't unique.

IOW it would require to restrict ourselves to crippled 
10 chars functions/variables names to keep the codebase 
compatible with above build-time switch, but practice 
showed that this rule is impossible to enforce and 
would pose too much of a limitation. Also, nobody ever 
tested or needed such builds.

Brgds,
Viktor

From gabor.salai at euroherc.hr  Thu Feb  4 03:16:21 2010
From: gabor.salai at euroherc.hr (sali)
Date: Thu Feb  4 03:13:29 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue:
	10charvariables with SAVE and REST w/ proof of concept
References: <674e4ddd1002031344i2bcae1bbsefbcc4ab65b6eb49@mail.gmail.com><B5D23FA7-20D6-419B-B241-44CB5268E054@syenar.hu><674e4ddd1002031425i4abfda78p9d40e0036df77f5@mail.gmail.com><1C9D90F6-6406-4C69-A9BF-1F0B45226C8D@syenar.hu><00e501caa56d$c7ea2670$6600540a@euroherc.ba>
	<9AB8A59B-9D8C-42DD-B8A0-AED824821C06@syenar.hu>
Message-ID: <00ff01caa572$55dcf800$6600540a@euroherc.ba>

----- Original Message ----- 
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, February 04, 2010 8:52 AM
Subject: Re: [Harbour] Harbour / Clipper Incompatibility Issue: 
10charvariables with SAVE and REST w/ proof of concept


> ----- Original Message ----- From: "Viktor Szak?ts" <harbour.01@syenar.hu>
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Sent: Wednesday, February 03, 2010 11:53 PM
> Subject: Re: [Harbour] Harbour / Clipper Incompatibility Issue: 10 
> charvariables with SAVE and REST w/ proof of concept
>
>> Was thinking a bit more about this... I suppose there are some things in 
>> Clipper and Harbour that are not compatible.. such as long variable 
>> names...

We've only discussed it, but it's not possible to solve
the problem using a compiler switch.


i've personaly allways found .mem somewhere limitating, so never used it, 
but who knows for others

if somebody realy needs .mem, it is easy to make 'wrapper' and include it 
through preprocessor.
the only problem is to collect all [private & public] variable names that 
are so far initialized/declared.

is there some function that may return array consisting of all varnames 
[private & public]?



From labitas at gmail.com  Thu Feb  4 03:15:15 2010
From: labitas at gmail.com (Saulius Zrelskis)
Date: Thu Feb  4 03:15:25 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS() 
	return val
In-Reply-To: <CBE30044-C26E-4F8E-B999-3D6357ED09AF@syenar.hu>
References: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
	<CBE30044-C26E-4F8E-B999-3D6357ED09AF@syenar.hu>
Message-ID: <2386af1b1002040015k65f7a3f7h1476403fb1359389@mail.gmail.com>

>> In Clipper, ? SETPOS(10,4) returns 10. ?In Harbour, it returns NIL
>
> Also DEVPOS(). They should return NIL as per documentation,
> but they return the first parameter, unchanged, even if it's
> invalid. I can't recall past discussions, but it seems like
> a C5.2/5.3 bug.

Be precise! From Clipper guide:
 SETPOS()
 Move the cursor to a new position
??????????????????????????????????????????????????????????????????????????????
 Syntax

     SETPOS(<nRow>, <nCol>) --> <nRow>

 Arguments

     <nRow> and <nCol> define the new screen position of the cursor.
     These values may range from 0, 0 to MAXROW(), MAXCOL().

 Returns

     SETPOS() always returns <nRow>

 Description

     SETPOS() is an environment function that moves the cursor to a new
     position on the screen.  After the cursor is positioned, ROW() and COL()
     are updated accordingly.  To control the shape and visibility of the
     cursor, use the SETCURSOR() function.

 Examples

     ?  This example moves the cursor to a new position then displays
        a string to the screen using a console command, ??:

        SETPOS(1, 1)
        ?? "Hello world"

 Files   Library is CLIPPER.LIB.

Best regards,
Saulius
From sscc at mweb.co.za  Thu Feb  4 03:19:24 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Feb  4 03:19:35 2010
Subject: [Harbour] Hb_RegEx() - How to determine if an expression is a
	valid	one
In-Reply-To: <1265249709228-4511204.post@n2.nabble.com>
References: <1265249709228-4511204.post@n2.nabble.com>
Message-ID: <4B6A830C.4060906@mweb.co.za>

Pritpal Bedi wrote:

> How it can be determined that an expression is a
> valid regex which can be submitted to the engine,
> without generating a RTE ?

Why is a RTE not suitable? BEGIN SEQUENCE is your friend.

Regards
Alex

From harbour.01 at syenar.hu  Thu Feb  4 03:30:51 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb  4 03:31:06 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS()
	return val
In-Reply-To: <2386af1b1002040015k65f7a3f7h1476403fb1359389@mail.gmail.com>
References: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
	<CBE30044-C26E-4F8E-B999-3D6357ED09AF@syenar.hu>
	<2386af1b1002040015k65f7a3f7h1476403fb1359389@mail.gmail.com>
Message-ID: <6461E5CD-F8AB-4362-B61D-09FE127FE9D3@syenar.hu>

Hi,

To be precise pls show that you were pasting from C5.3
guide (you're right in that I didn't check 5.3 guide also 
before posting).

I was checking in _C5.2e_ guide, which is our reference 
in Harbour, and that says:
---
 SETPOS()
 Move the cursor to a new position
??????????????????????????????????????????????????????????????????????????????
 Syntax

     SETPOS(<nRow>, <nCol>) --> NIL

 Arguments

     <nRow> and <nCol> define the new screen position of the cursor.
     These values may range from 0, 0 to MAXROW(), MAXCOL().

 Returns

     SETPOS() always returns NIL.

 Description
[...]
---

---
 DEVPOS()
 Move the cursor or printhead to a new position depending on the current
 device
??????????????????????????????????????????????????????????????????????????????
 Syntax

     DEVPOS(<nRow>, <nCol>) --> NIL

 Arguments

     <nRow> and <nCol> are the new row and column positions of the
     cursor or printhead.

 Returns

     DEVPOS() always returns NIL.
[...]
---

Even then, C5.3 is buggy or sloppy, since it will return 
"<nRow>" even if it's non-numeric.

We could probably implement it with HB_COMPAT_C53 guard, 
though it will unnecessarily add overhead to this very 
often used function.

Brgds,
Viktor

On 2010 Feb 4, at 09:15, Saulius Zrelskis wrote:

>>> In Clipper, ? SETPOS(10,4) returns 10.  In Harbour, it returns NIL
>> 
>> Also DEVPOS(). They should return NIL as per documentation,
>> but they return the first parameter, unchanged, even if it's
>> invalid. I can't recall past discussions, but it seems like
>> a C5.2/5.3 bug.
> 
> Be precise! From Clipper guide:
> SETPOS()
> Move the cursor to a new position
> ??????????????????????????????????????????????????????????????????????????????
> Syntax
> 
>     SETPOS(<nRow>, <nCol>) --> <nRow>
> 
> Arguments
> 
>     <nRow> and <nCol> define the new screen position of the cursor.
>     These values may range from 0, 0 to MAXROW(), MAXCOL().
> 
> Returns
> 
>     SETPOS() always returns <nRow>
> 
> Description
> 
>     SETPOS() is an environment function that moves the cursor to a new
>     position on the screen.  After the cursor is positioned, ROW() and COL()
>     are updated accordingly.  To control the shape and visibility of the
>     cursor, use the SETCURSOR() function.
> 
> Examples
> 
>     ?  This example moves the cursor to a new position then displays
>        a string to the screen using a console command, ??:
> 
>        SETPOS(1, 1)
>        ?? "Hello world"
> 
> Files   Library is CLIPPER.LIB.
> 
> Best regards,
> Saulius
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Feb  4 03:31:34 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb  4 03:31:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13761] trunk/harbour
Message-ID: <E1Ncx7e-00015e-4T@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13761
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13761&view=rev
Author:   vszakats
Date:     2010-02-04 08:31:32 +0000 (Thu, 04 Feb 2010)

Log Message:
-----------
2010-02-04 09:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbfbird/firebird.c
    + Added GC collected object for db connection.
    * Replaced HB_RETNL_FBERROR() with actual code to make
      code flow apparent.
    * Replaced DIALECT constant with Firebird predefined one.
    ! Fixed to use ISC_STATUS_ARRAY instead of status arrays
      with arbitrary sizes like MAX_FIELDS.
    + Throwing RTEs if non-db pointer is passed in places
      where it is required.
    * Adjusted scope of some variables.
    ! Fixed several leaks in FBQUERY().
    % Optimized to use hb_xrealloc() instead of using
      subsequent hb_xfree()/hb_xgrab() calls.
    % Other optimizations.
    + Added TOFIX to more memory leaks.
    ! Fixed FBGETDATA() to not crash when NULL pointer is passed.
    ! Fixed FBGETDATA() to not crash when negative position
      parameter is passed.
    ; TOFIX: Convert remaining memory objects to GC collected
             ones. Unfortunately the code is quite dirty in this
             respect, so it require more serious rewrite in places.
    ; TOFIX: Address TOFIXes in code.
    ; Please test it, I don't use this, and didn't make
      functional tests.

  * contrib/hbfbird/tests/test.prg
    + Displays error on connection failure.
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfbird/firebird.c
    trunk/harbour/contrib/hbfbird/tests/test.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Feb  4 03:41:13 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb  4 03:41:23 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS()
	return val
In-Reply-To: <6461E5CD-F8AB-4362-B61D-09FE127FE9D3@syenar.hu>
References: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
	<CBE30044-C26E-4F8E-B999-3D6357ED09AF@syenar.hu>
	<2386af1b1002040015k65f7a3f7h1476403fb1359389@mail.gmail.com>
	<6461E5CD-F8AB-4362-B61D-09FE127FE9D3@syenar.hu>
Message-ID: <8AC0C68A-205C-4CCC-93C4-D214A7B685B5@syenar.hu>

And BTW, in C5.3 they forgot to update the DEVPOS() 
entry in the NG, which keeps saying it returns NIL, 
while it doesn't.

Brgds,
Viktor

On 2010 Feb 4, at 09:30, Viktor Szak?ts wrote:

> Hi,
> 
> To be precise pls show that you were pasting from C5.3
> guide (you're right in that I didn't check 5.3 guide also 
> before posting).
> 
> I was checking in _C5.2e_ guide, which is our reference 
> in Harbour, and that says:
> ---
> SETPOS()
> Move the cursor to a new position
> ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
> Syntax
> 
>     SETPOS(<nRow>, <nCol>) --> NIL
> 
> Arguments
> 
>     <nRow> and <nCol> define the new screen position of the cursor.
>     These values may range from 0, 0 to MAXROW(), MAXCOL().
> 
> Returns
> 
>     SETPOS() always returns NIL.
> 
> Description
> [...]
> ---
> 
> ---
> DEVPOS()
> Move the cursor or printhead to a new position depending on the current
> device
> ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
> Syntax
> 
>     DEVPOS(<nRow>, <nCol>) --> NIL
> 
> Arguments
> 
>     <nRow> and <nCol> are the new row and column positions of the
>     cursor or printhead.
> 
> Returns
> 
>     DEVPOS() always returns NIL.
> [...]
> ---
> 
> Even then, C5.3 is buggy or sloppy, since it will return 
> "<nRow>" even if it's non-numeric.
> 
> We could probably implement it with HB_COMPAT_C53 guard, 
> though it will unnecessarily add overhead to this very 
> often used function.
> 
> Brgds,
> Viktor
> 
> On 2010 Feb 4, at 09:15, Saulius Zrelskis wrote:
> 
>>>> In Clipper, ? SETPOS(10,4) returns 10.  In Harbour, it returns NIL
>>> 
>>> Also DEVPOS(). They should return NIL as per documentation,
>>> but they return the first parameter, unchanged, even if it's
>>> invalid. I can't recall past discussions, but it seems like
>>> a C5.2/5.3 bug.
>> 
>> Be precise! From Clipper guide:
>> SETPOS()
>> Move the cursor to a new position
>> ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
>> Syntax
>> 
>>    SETPOS(<nRow>, <nCol>) --> <nRow>
>> 
>> Arguments
>> 
>>    <nRow> and <nCol> define the new screen position of the cursor.
>>    These values may range from 0, 0 to MAXROW(), MAXCOL().
>> 
>> Returns
>> 
>>    SETPOS() always returns <nRow>
>> 
>> Description
>> 
>>    SETPOS() is an environment function that moves the cursor to a new
>>    position on the screen.  After the cursor is positioned, ROW() and COL()
>>    are updated accordingly.  To control the shape and visibility of the
>>    cursor, use the SETCURSOR() function.
>> 
>> Examples
>> 
>>    ??  This example moves the cursor to a new position then displays
>>       a string to the screen using a console command, ??:
>> 
>>       SETPOS(1, 1)
>>       ?? "Hello world"
>> 
>> Files   Library is CLIPPER.LIB.
>> 
>> Best regards,
>> Saulius
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From vszakats at users.sourceforge.net  Thu Feb  4 04:17:56 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb  4 04:18:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13762] trunk/harbour
Message-ID: <E1NcxqW-0002MK-Cw@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13762
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13762&view=rev
Author:   vszakats
Date:     2010-02-04 09:17:55 +0000 (Thu, 04 Feb 2010)

Log Message:
-----------
2010-02-04 10:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmysql/mysql.c
    ! Fixed to use GC collected objects.
    + Added RTEs when wrong object is passed.
    ! Fixed to make MYSQL_FIELD_COUNT() available regardless of 
      mysql lib version we're building against. It will return 
      zero if mysql lib doesn't support it.
    ; Deprecated MYSQL_CLOSE() and MYSQL_FREE_RESULT(). It's
      enough to replace them with NIL assigments, or simply
      delete them.
    ; Please test it.

  * contrib/hbmysql/tmysql.prg
    + Changed to not use deprecated functions.

  * src/common/hbffind.c
  * src/rtl/fssize.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/mysql.c
    trunk/harbour/contrib/hbmysql/tmysql.prg
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/rtl/fssize.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Jaroslav.Janik at siemens.com  Thu Feb  4 04:41:03 2010
From: Jaroslav.Janik at siemens.com (Janik, Jaroslav)
Date: Thu Feb  4 04:41:30 2010
Subject: [Harbour] Re: Hbide fails
In-Reply-To: <1265209578195-4507618.post@n2.nabble.com>
References: <1264817528468-4483724.post@n2.nabble.com><1264971472176-4491053.post@n2.nabble.com><D372649F61577F4AA917D493CA06ECBD01817561@btss020a.ww300.siemens.net>
	<1265209578195-4507618.post@n2.nabble.com>
Message-ID: <D372649F61577F4AA917D493CA06ECBD0181786C@btss020a.ww300.siemens.net>


Please see the attachments. There are screenshots of dialog boxes
appearing when the source prg has been moved or has been deleted.
The hbide was compiled with Visual C++ 9.0 Express Edition and QT 4.6.0.

Regards
Jaro
-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Wednesday, February 03, 2010 4:06 PM
To: harbour@harbour-project.org
Subject: [Harbour] Re: Hbide fails



Janik, Jaroslav wrote:
> 
> 4, I run hbide. After several dialogs it fails.
> 

What does this means?
"Several dialogs" ?

I need more detail.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context:
http://n2.nabble.com/hbQT-c-stub-GC-Some-food-for-thoughts-tp4483724p450
7618.html
Sent from the harbour-devel mailing list archive at Nabble.com.
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 1.jpg
Type: image/jpeg
Size: 6781 bytes
Desc: 1.jpg
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/b11ceb47/1-0001.jpg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2.jpg
Type: image/jpeg
Size: 17147 bytes
Desc: 2.jpg
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/b11ceb47/2-0001.jpg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 3.jpg
Type: image/jpeg
Size: 16149 bytes
Desc: 3.jpg
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/b11ceb47/3-0001.jpg
From mhsabado at gmail.com  Thu Feb  4 04:59:49 2010
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Thu Feb  4 05:00:06 2010
Subject: [Harbour] Testing HBFBIRD.LIB with Firebird 2.5
In-Reply-To: <4b6a96ad.1f08c00a.6a62.ffffbd92SMTPIN_ADDED@mx.google.com>
References: <4b6a96ad.1f08c00a.6a62.ffffbd92SMTPIN_ADDED@mx.google.com>
Message-ID: <4B6A9A95.3090605@gmail.com>

Hi Viktor,
> ------------------------------
>
> Message: 2
> Date: Thu, 04 Feb 2010 08:31:34 +0000
> From: vszakats@users.sourceforge.net
> Subject: [Harbour] SF.net SVN: harbour-project:[13761] trunk/harbour
> To: harbour@harbour-project.org
> Message-ID:<E1Ncx7e-00015e-4T@sfp-svn-2.v30.ch3.sourceforge.com>
> Content-Type: text/plain; charset=UTF-8
>
> Revision: 13761
>            http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13761&view=rev
> Author:   vszakats
> Date:     2010-02-04 08:31:32 +0000 (Thu, 04 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-04 09:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>    * contrib/hbfbird/firebird.c
>      + Added GC collected object for db connection.
>      * Replaced HB_RETNL_FBERROR() with actual code to make
>        code flow apparent.
>      * Replaced DIALECT constant with Firebird predefined one.
>      ! Fixed to use ISC_STATUS_ARRAY instead of status arrays
>        with arbitrary sizes like MAX_FIELDS.
>      + Throwing RTEs if non-db pointer is passed in places
>        where it is required.
>      * Adjusted scope of some variables.
>      ! Fixed several leaks in FBQUERY().
>      % Optimized to use hb_xrealloc() instead of using
>        subsequent hb_xfree()/hb_xgrab() calls.
>      % Other optimizations.
>      + Added TOFIX to more memory leaks.
>      ! Fixed FBGETDATA() to not crash when NULL pointer is passed.
>      ! Fixed FBGETDATA() to not crash when negative position
>        parameter is passed.
>      ; TOFIX: Convert remaining memory objects to GC collected
>               ones. Unfortunately the code is quite dirty in this
>               respect, so it require more serious rewrite in places.
>      ; TOFIX: Address TOFIXes in code.
>      ; Please test it, I don't use this, and didn't make
>        functional tests.
>
>    * contrib/hbfbird/tests/test.prg
>      + Displays error on connection failure.
>      * Formatting.
>
> Modified Paths:
> --------------
>      trunk/harbour/ChangeLog
>      trunk/harbour/contrib/hbfbird/firebird.c
>      trunk/harbour/contrib/hbfbird/tests/test.prg
>    
I was able to compile and run only the simple.prg successfully under 
WinXP/BCC58.

Thanks and best regards,
Mario
From harbour.01 at syenar.hu  Thu Feb  4 05:15:47 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  4 05:15:57 2010
Subject: [Harbour] Testing HBFBIRD.LIB with Firebird 2.5
In-Reply-To: <4B6A9A95.3090605@gmail.com>
References: <4b6a96ad.1f08c00a.6a62.ffffbd92SMTPIN_ADDED@mx.google.com>
	<4B6A9A95.3090605@gmail.com>
Message-ID: <1DBBD7C1-E062-4B92-970F-4900679559CE@syenar.hu>

Hi Mario,

>> 2010-02-04 09:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>   * contrib/hbfbird/firebird.c
>>     + Added GC collected object for db connection.
>>     * Replaced HB_RETNL_FBERROR() with actual code to make
>>       code flow apparent.
>>     * Replaced DIALECT constant with Firebird predefined one.
>> ...
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/contrib/hbfbird/firebird.c
>>     trunk/harbour/contrib/hbfbird/tests/test.prg
>>   
> I was able to compile and run only the simple.prg successfully under WinXP/BCC58.

Does it mean that you got errors for the rest?
If yes, what were these?

I'll fix the tests in a next commit, as they contain hard-wired 
paths, so chances are very low that they run as-is.

Brgds,
Viktor

From itamarlins at gmail.com  Thu Feb  4 06:12:35 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Thu Feb  4 06:13:06 2010
Subject: [Harbour] Re: dllcall problem
In-Reply-To: <hkd4rh$h2a$1@ger.gmane.org>
References: <hkd4rh$h2a$1@ger.gmane.org>
Message-ID: <hkea2r$ita$1@ger.gmane.org>

Hi!
The error occurs in the line: 
DllCall(hDll,DC_CALL_STD,"RMC_CREATECHARTFROMFILE",oMainWindow:Handle,1001,10,10,0,sTemp)

Question!
DllCall working fine with MinGW?

Best regards,
ITamar M. Lins Jr.

From itamarlins at gmail.com  Thu Feb  4 06:52:18 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Thu Feb  4 06:52:50 2010
Subject: [Harbour] Re: dllcall problem with MinGW ChangeLog 13762
In-Reply-To: <hkd4rh$h2a$1@ger.gmane.org>
References: <hkd4rh$h2a$1@ger.gmane.org>
Message-ID: <hkecdb$r1f$1@ger.gmane.org>

Hi!
More tests with SVN ChangeLog 13762
Now using file testdll.prg of directory hbwin\tests, see bellow.

C:\harbour\trunk\harbour\contrib\hbwin\tests>hbmk2 testdll.prg
hbmk2: Processando script local: hbmk.hbm
hbmk2: Processando arquivo de configura??o: C:\DEV\HARBOUR\bin\hbmk.cfg
Harbour 2.1.0dev (Rev. 13762)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'testdll.prg'...
Lines 175, Functions/Procedures 1
Generating C source output to 
'C:\DOCUME~1\ADMINI~1\CONFIG~1\Temp\\testdll.c'...
  Done.

C:\harbour\trunk\harbour\contrib\hbwin\tests>testdll.exe



Unrecoverable error 6005: Exception error:

     Exception Code:C0000005
     Exception Address:00000000
     EAX:00000000  EBX:00000000  ECX:00000000  EDX:00A71374
     ESI:00000000  EDI:00000000  EBP:00000000
     CS:EIP:001B:00000000  SS:ESP:0023:0022FAFC
     DS:0023  ES:0023  FS:003B  GS:0000
     Flags:00010206
     CS:EIP:
     SS:ESP: 00401B16 00000007 FFFFFFFF 0022FB58 7C917EF3 0022FBCA 
000002DC 7E360
000 7E364498 7E365008 00000000 00000001 0022FBC8 00000004 00000001 7E360000

     C stack:
     EIP:     EBP:       Frame: OldEBP, RetAddr, Params...

Modules:
0x00400000 0x000F3000 
C:\harbour\trunk\harbour\contrib\hbwin\tests\testdll.exe
0x7C900000 0x000B6000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x00100000 C:\WINDOWS\system32\kernel32.dll
0x77BF0000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x7E360000 0x00091000 C:\WINDOWS\system32\USER32.dll
0x77E50000 0x00049000 C:\WINDOWS\system32\GDI32.dll
0x76360000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x77F50000 0x000AB000 C:\WINDOWS\system32\ADVAPI32.dll
0x77DB0000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77F20000 0x00011000 C:\WINDOWS\system32\Secur32.dll

Called from DLLCALL(0)
Called from MAIN(72) in testdll.prg

C:\harbour\trunk\harbour\contrib\hbwin\tests>testdll.exe


Best regards,
Itamar M. Lins Jr.

From vszakats at users.sourceforge.net  Thu Feb  4 06:56:23 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb  4 06:56:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13763] trunk/harbour
Message-ID: <E1Nd0Jr-0004Fv-8k@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13763
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13763&view=rev
Author:   vszakats
Date:     2010-02-04 11:56:22 +0000 (Thu, 04 Feb 2010)

Log Message:
-----------
2010-02-04 12:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added hbmk2_PathMakeRelative(). The opposite of PathProc().
      Current form is not optimized and only moderately tested:
        hbmk2_PathMakeRelative( "", "" )
        hbmk2_PathMakeRelative( "", "hello.prg" )
        hbmk2_PathMakeRelative( "", "proj\hello.prg" )
        hbmk2_PathMakeRelative( "C:\this", "C:\this\that\proj\" )
        hbmk2_PathMakeRelative( "C:\this", "C:\this\that\proj\hello.prg" )
        hbmk2_PathMakeRelative( "C:\this", "C:\that\that\proj\hello.prg" )
        hbmk2_PathMakeRelative( "C:\this", "C:\that\that\proj\hello.prg", .T. )
        hbmk2_PathMakeRelative( "D:\this", "C:\that\that\proj\hello.prg" )
        hbmk2_PathMakeRelative( "C:\this\test", "C:\this\test\that\proj\hello.prg" )
        hbmk2_PathMakeRelative( "C:\this\test", "C:\that\that\proj\hello.prg" )
        hbmk2_PathMakeRelative( "C:\this\test", "C:\that\that\proj\hello.prg", .T. )
        hbmk2_PathMakeRelative( "D:\this\test", "C:\that\test\that\proj\hello.prg" )

  * contrib/hbfbird/tests/simple.prg
  * contrib/hbfbird/tests/test.prg
  * contrib/hbfbird/tests/stress.prg
    ! Fixed references to absolute paths non-existent on users computer.
    ! Fixed IP address to be 127.0.0.1 instead of previous env specific value.
    * Indented.
    * Some formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfbird/tests/simple.prg
    trunk/harbour/contrib/hbfbird/tests/stress.prg
    trunk/harbour/contrib/hbfbird/tests/test.prg
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb  4 08:02:32 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 08:02:42 2010
Subject: [Harbour] Hb_RegEx() - How to determine if an expression is a
	valid one
In-Reply-To: <1265249709228-4511204.post@n2.nabble.com>
References: <1265249709228-4511204.post@n2.nabble.com>
Message-ID: <20100204130232.GA18079@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, Pritpal Bedi wrote:

Hi,

> How it can be determined that an expression is a
> valid regex which can be submitted to the engine, 
> without generating a RTE ?

HB_ISREGEX()

best regards,
Przemek
From qiinfo at ig.com.br  Thu Feb  4 08:08:47 2010
From: qiinfo at ig.com.br (Rossine)
Date: Thu Feb  4 08:08:53 2010
Subject: [Harbour] Extension <.FPT>
Message-ID: <27452184.post@talk.nabble.com>


Hello,

Is possible change the extension of a file <.FPT> for any other for exemplo
<.XXX>

Best Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Extension-%3C.FPT%3E-tp27452184p27452184.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From clipper at wssk.wroc.pl  Thu Feb  4 09:16:34 2010
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Thu Feb  4 09:19:01 2010
Subject: [Harbour] Testing HBFBIRD.LIB with Firebird 2.5
In-Reply-To: <1DBBD7C1-E062-4B92-970F-4900679559CE@syenar.hu>
References: <4b6a96ad.1f08c00a.6a62.ffffbd92SMTPIN_ADDED@mx.google.com>
	<4B6A9A95.3090605@gmail.com>
	<1DBBD7C1-E062-4B92-970F-4900679559CE@syenar.hu>
Message-ID: <18717724100.20100204151634@wssk.wroc.pl>

Hello Viktor,

Thursday, February 04, 2010, 11:15:47 AM, you wrote:

>>> 2010-02-04 09:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>>   * contrib/hbfbird/firebird.c
>>>     + Added GC collected object for db connection.
>>>     * Replaced HB_RETNL_FBERROR() with actual code to make
>>>       code flow apparent.
>>>     * Replaced DIALECT constant with Firebird predefined one.
>>> ...
>>> Modified Paths:
>>> --------------
>>>     trunk/harbour/ChangeLog
>>>     trunk/harbour/contrib/hbfbird/firebird.c
>>>     trunk/harbour/contrib/hbfbird/tests/test.prg
>>>   
>> I was able to compile and run only the simple.prg successfully under WinXP/BCC58.

VS> Does it mean that you got errors for the rest?
VS> If yes, what were these?

VS> I'll fix the tests in a next commit, as they contain hard-wired 
VS> paths, so chances are very low that they run as-is.

Now

 * $Id: ChangeLog 13763 2010-02-04 11:56:22Z vszakats $


with  hbfbird/tests/test.prg

c:\Harbour\contrib\hbfbird\tests>test

      -902
      -104
         1
Error BASE/2020  Argument error: FBCOMMIT
Called from FBCOMMIT(0)
Called from MAIN(43)
c:\Harbour\contrib\hbfbird\tests>

and with hbfbird/tests/stress.prg :

Connecting...
.T.
.T.
Creating domain for boolean fields...
.T.
Creating test table...
.T.

Inserting values....         1
Error BASE/1132  Bound error: array access
Called from TFBQUERY:GETBLANKROW(0)
Called from (b)TFBQUERY(0)
Called from TFBQUERY:BLANK(0)
Called from MAIN(63)
c:\Harbour\contrib\hbfbird\tests>

only hbfbird/tests/simple.prg
works fine

( Vista/bcc5.5/Firebird 2.0.3 )

Any ideas ??


-- 
Best regards,

 Jacek Kubica


From druzus at acn.waw.pl  Thu Feb  4 09:27:15 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 09:27:35 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY()
	uppercase w/ proof of concept
In-Reply-To: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
References: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
Message-ID: <20100204142715.GA26600@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, smu johnson wrote:

Hi,

> Filenames are not converted to uppercase by Harbour functions such as
> Directory() was in Clipper.

Clipper also does not convert directory names to upper case.
It simply returns what OS returns. It can be seen in some
network redirectors so Harbour is 100% Clipper compatible.
You have problem because you changed the OS and you are not
creating DOS application. DOS Harbour builds returns the same
result as Clipper.

best regards,
Przemek
From bedipritpal at hotmail.com  Thu Feb  4 09:35:06 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb  4 09:35:14 2010
Subject: [Harbour] Re: Hbide fails
In-Reply-To: <D372649F61577F4AA917D493CA06ECBD0181786C@btss020a.ww300.siemens.net>
References: <1264817528468-4483724.post@n2.nabble.com>
	<1264971472176-4491053.post@n2.nabble.com>
	<D372649F61577F4AA917D493CA06ECBD01817561@btss020a.ww300.siemens.net>
	<1265209578195-4507618.post@n2.nabble.com>
	<D372649F61577F4AA917D493CA06ECBD0181786C@btss020a.ww300.siemens.net>
Message-ID: <1265294106585-4513743.post@n2.nabble.com>



Janik, Jaroslav wrote:
> 
> 
> Please see the attachments. There are screenshots of dialog boxes
> appearing when the source prg has been moved or has been deleted.
> The hbide was compiled with Visual C++ 9.0 Express Edition and QT 4.6.0.
> 

Thank you for the feedback.

Fixed.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-c-stub-GC-Some-food-for-thoughts-tp4483724p4513743.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Thu Feb  4 09:36:20 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Feb  4 09:36:29 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY() 
	uppercase w/ proof of concept
In-Reply-To: <20100204142715.GA26600@linux-4bod.home.aster.pl>
References: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
	<20100204142715.GA26600@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002040636i30a6a6bdo6b131994a1917965@mail.gmail.com>

We haven't changed OS's though.  That screenshot was a bad example..
Using the same Windows Vista 32bit OS, clipper 5.2e w/ blinker and Harbour
returned different results, hence how I came across this.

But we can get around it.. but I just wanted to share what I found in case
this was a big deal to the mailing list.  Should I take a screenshot that
doesn't use a different computer?  The only reason I did two different OS's
in that case was because I can't get DOS16 apps to compile on Win7, hence I
went to a Win2k computer cause it was nearby.  But I can show this on my
cute laptop which runs WinXP 32-bit.  I am curious to try.. I will do it in
a few hours.  Thanks!

2010/2/4 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Wed, 03 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > Filenames are not converted to uppercase by Harbour functions such as
> > Directory() was in Clipper.
>
> Clipper also does not convert directory names to upper case.
> It simply returns what OS returns. It can be seen in some
> network redirectors so Harbour is 100% Clipper compatible.
> You have problem because you changed the OS and you are not
> creating DOS application. DOS Harbour builds returns the same
> result as Clipper.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/6b522eac/attachment.html
From bedipritpal at hotmail.com  Thu Feb  4 09:37:01 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb  4 09:37:07 2010
Subject: [Harbour] Re: Hb_RegEx() - How to determine if an expression is a
	valid one
In-Reply-To: <20100204130232.GA18079@linux-4bod.home.aster.pl>
References: <1265249709228-4511204.post@n2.nabble.com>
	<20100204130232.GA18079@linux-4bod.home.aster.pl>
Message-ID: <1265294221306-4513755.post@n2.nabble.com>



Przemys?aw Czerpak wrote:
> 
>> How it can be determined that an expression is a
>> valid regex which can be submitted to the engine, 
>> without generating a RTE ?
> 
> HB_ISREGEX()
> 

Thanks.
I did examine the source file before posting the message, 
probably I missed this function.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hb-RegEx-How-to-determine-if-an-expression-is-a-valid-one-tp4511204p4513755.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Feb  4 09:39:03 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb  4 09:39:12 2010
Subject: [Harbour] Re: Hb_RegEx() - How to determine if an expression is a
	valid	one
In-Reply-To: <4B6A830C.4060906@mweb.co.za>
References: <1265249709228-4511204.post@n2.nabble.com>
	<4B6A830C.4060906@mweb.co.za>
Message-ID: <1265294343098-4513771.post@n2.nabble.com>



Alex Strickland wrote:
> 
>> How it can be determined that an expression is a
>> valid regex which can be submitted to the engine,
>> without generating a RTE ?
> 
> Why is a RTE not suitable? BEGIN SEQUENCE is your friend.
> 

I knew I can achieve it with BEGIN SEQUENCE.
I just wanted to avoid the heavy cargo.
Infact regex is being recognized per letter typed.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hb-RegEx-How-to-determine-if-an-expression-is-a-valid-one-tp4511204p4513771.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Feb  4 09:41:52 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb  4 09:41:59 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13763] trunk/harbour
In-Reply-To: <E1Nd0Jr-0004Fv-8k@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Nd0Jr-0004Fv-8k@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <1265294512795-4513800.post@n2.nabble.com>



vszakats wrote:
> 
> 2010-02-04 12:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     + Added hbmk2_PathMakeRelative(). The opposite of PathProc().
>       Current form is not optimized and only moderately tested:
>         hbmk2_PathMakeRelative( "", "" )
>         hbmk2_PathMakeRelative( "", "hello.prg" )
>         hbmk2_PathMakeRelative( "", "proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this", "C:\this\that\proj\" )
>         hbmk2_PathMakeRelative( "C:\this", "C:\this\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this", "C:\that\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this", "C:\that\that\proj\hello.prg",
> .T. )
>         hbmk2_PathMakeRelative( "D:\this", "C:\that\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this\test",
> "C:\this\test\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this\test",
> "C:\that\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this\test",
> "C:\that\that\proj\hello.prg", .T. )
>         hbmk2_PathMakeRelative( "D:\this\test",
> "C:\that\test\that\proj\hello.prg" )
> 

Thank you.
It will resolve a lot of issues.
I will give it a deep try in this week.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13763-trunk-harbour-tp4513022p4513800.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Thu Feb  4 09:45:07 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Feb  4 09:45:20 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS() 
	return val
In-Reply-To: <8AC0C68A-205C-4CCC-93C4-D214A7B685B5@syenar.hu>
References: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
	<CBE30044-C26E-4F8E-B999-3D6357ED09AF@syenar.hu>
	<2386af1b1002040015k65f7a3f7h1476403fb1359389@mail.gmail.com>
	<6461E5CD-F8AB-4362-B61D-09FE127FE9D3@syenar.hu>
	<8AC0C68A-205C-4CCC-93C4-D214A7B685B5@syenar.hu>
Message-ID: <674e4ddd1002040645s6ca75318na4a06d8f710c6b22@mail.gmail.com>

Hmm... we have a good few lines of code in our .PRGs that expect the first
arg returned, but I suppose it could be worked around without too much fuss
as it's basic... but maybe would be closer to Clipper 5.3 compat?


On Thu, Feb 4, 2010 at 12:41 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> And BTW, in C5.3 they forgot to update the DEVPOS()
> entry in the NG, which keeps saying it returns NIL,
> while it doesn't



>
> Brgds,
> Viktor
>
> On 2010 Feb 4, at 09:30, Viktor Szak?ts wrote:
>
> > Hi,
> >
> > To be precise pls show that you were pasting from C5.3
> > guide (you're right in that I didn't check 5.3 guide also
> > before posting).
> >
> > I was checking in _C5.2e_ guide, which is our reference
> > in Harbour, and that says:
> > ---
> > SETPOS()
> > Move the cursor to a new position
> >
> ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
> > Syntax
> >
> >     SETPOS(<nRow>, <nCol>) --> NIL
> >
> > Arguments
> >
> >     <nRow> and <nCol> define the new screen position of the cursor.
> >     These values may range from 0, 0 to MAXROW(), MAXCOL().
> >
> > Returns
> >
> >     SETPOS() always returns NIL.
> >
> > Description
> > [...]
> > ---
> >
> > ---
> > DEVPOS()
> > Move the cursor or printhead to a new position depending on the current
> > device
> >
> ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
> > Syntax
> >
> >     DEVPOS(<nRow>, <nCol>) --> NIL
> >
> > Arguments
> >
> >     <nRow> and <nCol> are the new row and column positions of the
> >     cursor or printhead.
> >
> > Returns
> >
> >     DEVPOS() always returns NIL.
> > [...]
> > ---
> >
> > Even then, C5.3 is buggy or sloppy, since it will return
> > "<nRow>" even if it's non-numeric.
> >
> > We could probably implement it with HB_COMPAT_C53 guard,
> > though it will unnecessarily add overhead to this very
> > often used function.
> >
> > Brgds,
> > Viktor
> >
> > On 2010 Feb 4, at 09:15, Saulius Zrelskis wrote:
> >
> >>>> In Clipper, ? SETPOS(10,4) returns 10.  In Harbour, it returns NIL
> >>>
> >>> Also DEVPOS(). They should return NIL as per documentation,
> >>> but they return the first parameter, unchanged, even if it's
> >>> invalid. I can't recall past discussions, but it seems like
> >>> a C5.2/5.3 bug.
> >>
> >> Be precise! From Clipper guide:
> >> SETPOS()
> >> Move the cursor to a new position
> >>
> ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
> >> Syntax
> >>
> >>    SETPOS(<nRow>, <nCol>) --> <nRow>
> >>
> >> Arguments
> >>
> >>    <nRow> and <nCol> define the new screen position of the cursor.
> >>    These values may range from 0, 0 to MAXROW(), MAXCOL().
> >>
> >> Returns
> >>
> >>    SETPOS() always returns <nRow>
> >>
> >> Description
> >>
> >>    SETPOS() is an environment function that moves the cursor to a new
> >>    position on the screen.  After the cursor is positioned, ROW() and
> COL()
> >>    are updated accordingly.  To control the shape and visibility of the
> >>    cursor, use the SETCURSOR() function.
> >>
> >> Examples
> >>
> >>    ??  This example moves the cursor to a new position then displays
> >>       a string to the screen using a console command, ??:
> >>
> >>       SETPOS(1, 1)
> >>       ?? "Hello world"
> >>
> >> Files   Library is CLIPPER.LIB.
> >>
> >> Best regards,
> >> Saulius
> >> _______________________________________________
> >> Harbour mailing list (attachment size limit: 40KB)
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/ef4ed704/attachment-0001.html
From druzus at acn.waw.pl  Thu Feb  4 09:47:40 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 09:47:47 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: CURDIR()
In-Reply-To: <674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>
References: <674e4ddd1002031352q4b483e5q322477298f3a9560@mail.gmail.com>
	<122ED445-09B5-49A4-8CAE-7160B0788A72@syenar.hu>
	<674e4ddd1002031457j894a9d0oa20e9ab963af7771@mail.gmail.com>
Message-ID: <20100204144740.GB26600@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, smu johnson wrote:

Hi,

> http://209.97.219.2/sjohnson/misc/curdir-diff.png
> Please let me know if you need anything else.

CURDIR() does not return drive letter.
Clipper 5.2, Clipper 5.3 and Harbour work in the same way.

It's possible that you are using CURDIR() from some 3-rd
party library. To eliminate such problems I suggest to
compile such examples without any extended linker scripts
which may include non Clipper libraries.

CL52 and CL53 have simple batch file to compile and link
single .prg programs which do not use any external libraries,
cl.bat:
   clipper %1 %2 %3 %4 %5
   if not errorlevel 1 RTLINK file %1

Use it to for such tests.
Instead of RTLINK you can use BLINKER or EXOSPACE.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb  4 09:51:52 2010
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  4 09:52:03 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY()
	uppercase w/ proof of concept
In-Reply-To: <674e4ddd1002040636i30a6a6bdo6b131994a1917965@mail.gmail.com>
References: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
	<20100204142715.GA26600@linux-4bod.home.aster.pl>
	<674e4ddd1002040636i30a6a6bdo6b131994a1917965@mail.gmail.com>
Message-ID: <DE86096C-4059-423B-BBC7-2B19950234FE@syenar.hu>

> We haven't changed OS's though.  That screenshot was a bad example..    Using the same Windows Vista 32bit OS, clipper 5.2e w/ blinker and Harbour returned different results, hence how I came across this.

MS-DOS apps run in an emulated MS-DOS environment (NTVDM) 
in NT class OSes, so you did in fact change OS. To view 
from another, more obvious perspective: You also changed 
the target OS of your executable.

If you change to Linux, which Harbour perfectly allows, 
you'll have to face with some more challenges.

IOW, Harbour can't mask, hide or resolve platform 
compatibility and portability problems present on the 
application level. (f.e. on *nix OSes there is no drive 
letter)

Making the app code portable would probably take 
much longer than simply recompiling an app with 
Harbour.

BTW, Harbour also allows to build native MS-DOS apps, 
and in case you tried it with your app, most of these 
platform differences would automatically go away, and 
you'd get the same as in Clipper. Albeit, without 
much of the advantages of f.e. a Windows build.

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Feb  4 09:55:29 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 09:55:36 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS()
	return val
In-Reply-To: <6461E5CD-F8AB-4362-B61D-09FE127FE9D3@syenar.hu>
References: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
	<CBE30044-C26E-4F8E-B999-3D6357ED09AF@syenar.hu>
	<2386af1b1002040015k65f7a3f7h1476403fb1359389@mail.gmail.com>
	<6461E5CD-F8AB-4362-B61D-09FE127FE9D3@syenar.hu>
Message-ID: <20100204145529.GC26600@linux-4bod.home.aster.pl>

On Thu, 04 Feb 2010, Szak?ts Viktor wrote:

Hi,

> We could probably implement it with HB_COMPAT_C53 guard, 
> though it will unnecessarily add overhead to this very 
> often used function.

Both CL52 and CL53 works in such way so if we want to emulate it
then we should guard it by HB_CLP_UNDOC macro.

best regards,
Przemek
From smujohnson at gmail.com  Thu Feb  4 10:04:48 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Feb  4 10:04:56 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY() 
	uppercase w/ proof of concept
In-Reply-To: <DE86096C-4059-423B-BBC7-2B19950234FE@syenar.hu>
References: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
	<20100204142715.GA26600@linux-4bod.home.aster.pl>
	<674e4ddd1002040636i30a6a6bdo6b131994a1917965@mail.gmail.com>
	<DE86096C-4059-423B-BBC7-2B19950234FE@syenar.hu>
Message-ID: <674e4ddd1002040704m47677772rae05e72577b6e01b@mail.gmail.com>

Thanks Viktor.  I see what you now.  Thanks for the HB_ func that returns
the drive letter, as that is good enough for us, and was a huge help

On Thu, Feb 4, 2010 at 6:51 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> > We haven't changed OS's though.  That screenshot was a bad example..
>  Using the same Windows Vista 32bit OS, clipper 5.2e w/ blinker and Harbour
> returned different results, hence how I came across this.
>
> MS-DOS apps run in an emulated MS-DOS environment (NTVDM)
> in NT class OSes, so you did in fact change OS. To view
> from another, more obvious perspective: You also changed
> the target OS of your executable.
>
> If you change to Linux, which Harbour perfectly allows,
> you'll have to face with some more challenges.
>
> IOW, Harbour can't mask, hide or resolve platform
> compatibility and portability problems present on the
> application level. (f.e. on *nix OSes there is no drive
> letter)
>
> Making the app code portable would probably take
> much longer than simply recompiling an app with
> Harbour.
>
> BTW, Harbour also allows to build native MS-DOS apps,
> and in case you tried it with your app, most of these
> platform differences would automatically go away, and
> you'd get the same as in Clipper. Albeit, without
> much of the advantages of f.e. a Windows build.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/3cbdab45/attachment.html
From druzus at acn.waw.pl  Thu Feb  4 10:06:01 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 10:06:08 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SET() w/ p.o.c.
In-Reply-To: <674e4ddd1002031439k4b5a2fc9s453d42bbf71c35bb@mail.gmail.com>
References: <674e4ddd1002031439k4b5a2fc9s453d42bbf71c35bb@mail.gmail.com>
Message-ID: <20100204150600.GD26600@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, smu johnson wrote:

Hi,

> FUNC MAIN()
>   ? set(24) // Clipper is "", Harbour is LPT1
>   set printer to ("junk.txt")
>   ? set(24) // junk.txt
>   set printer to
>   ? set(24) // s/b "", but set to LPT1 again
> RETURN

It's platform dependent issue.
In DOS programs handler 5 is open for each application and points
to "PRN" device.
This is only DOS behavior which does not exist in all other OS-es
which do not give process any special 5 handler and you have to
open connection to given device. In Windows builds we explicitly
set device name to "LPT1" but in *nix builds is "|lpr" what means
PIPE to lpr process.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb  4 10:10:16 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb  4 10:10:41 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: SETPOS()
	return val
In-Reply-To: <20100204145529.GC26600@linux-4bod.home.aster.pl>
References: <674e4ddd1002031350i625af5f4qf1c2f9f6adea16c@mail.gmail.com>
	<CBE30044-C26E-4F8E-B999-3D6357ED09AF@syenar.hu>
	<2386af1b1002040015k65f7a3f7h1476403fb1359389@mail.gmail.com>
	<6461E5CD-F8AB-4362-B61D-09FE127FE9D3@syenar.hu>
	<20100204145529.GC26600@linux-4bod.home.aster.pl>
Message-ID: <3479583D-80BF-4BA5-9778-DF1CDC9E9F61@syenar.hu>

> On Thu, 04 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> We could probably implement it with HB_COMPAT_C53 guard, 
>> though it will unnecessarily add overhead to this very 
>> often used function.
> 
> Both CL52 and CL53 works in such way so if we want to emulate it
> then we should guard it by HB_CLP_UNDOC macro.

Good idea.

Brgds,
Viktor

From jarabal at gmail.com  Thu Feb  4 10:12:12 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Feb  4 10:13:08 2010
Subject: [Harbour] Compiling with harbour -gc3 and -b .
Message-ID: <4B6AE3CC.50008@gmail.com>

Attache least possible changes to avoid .-

warning: deprecated conversion from string constant to 'char*'

Also without ( cast ) but more changes.

-- 
Xavi
From ptucker at sympatico.ca  Thu Feb  4 10:13:11 2010
From: ptucker at sympatico.ca (Paul Tucker)
Date: Thu Feb  4 10:13:45 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY()
	uppercase w/ proof of concept
In-Reply-To: <674e4ddd1002040636i30a6a6bdo6b131994a1917965@mail.gmail.com>
References: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>,
	<20100204142715.GA26600@linux-4bod.home.aster.pl>,
	<674e4ddd1002040636i30a6a6bdo6b131994a1917965@mail.gmail.com>
Message-ID: <COL117-W504D828C113AAF3122BC87DF550@phx.gbl>


Ahh, in that case, the difference you are seeing _is_ a direct result of your current OS emulating the behaviour of DOS via the interrupts that are used by clipper to obtain the directory information.  In the very early days of Harbour there was a mechanism that allowed directory() to return the 8.3 filenames, but that support was moved or removed for some reason.

 

It would not do for the OS to return anything other than 8.3 using the interrupts, as any app wriiten to get directory info that way expects the buffer to only be so big.

 

Paul
 


Date: Thu, 4 Feb 2010 06:36:20 -0800
Subject: Re: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY() uppercase w/ proof of concept
From: smujohnson@gmail.com
To: harbour@harbour-project.org

We haven't changed OS's though.  That screenshot was a bad example..    Using the same Windows Vista 32bit OS, clipper 5.2e w/ blinker and Harbour returned different results, hence how I came across this.

But we can get around it.. but I just wanted to share what I found in case this was a big deal to the mailing list.  Should I take a screenshot that doesn't use a different computer?  The only reason I did two different OS's in that case was because I can't get DOS16 apps to compile on Win7, hence I went to a Win2k computer cause it was nearby.  But I can show this on my cute laptop which runs WinXP 32-bit.  I am curious to try.. I will do it in a few hours.  Thanks!


2010/2/4 Przemys?aw Czerpak <druzus@acn.waw.pl>


On Wed, 03 Feb 2010, smu johnson wrote:

Hi,

> Filenames are not converted to uppercase by Harbour functions such as
> Directory() was in Clipper.

Clipper also does not convert directory names to upper case.
It simply returns what OS returns. It can be seen in some
network redirectors so Harbour is 100% Clipper compatible.
You have problem because you changed the OS and you are not
creating DOS application. DOS Harbour builds returns the same
result as Clipper.
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/00dcfe7a/attachment-0001.html
From druzus at acn.waw.pl  Thu Feb  4 10:19:55 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 10:20:02 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY()
	uppercase w/ proof of concept
In-Reply-To: <674e4ddd1002040636i30a6a6bdo6b131994a1917965@mail.gmail.com>
References: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
	<20100204142715.GA26600@linux-4bod.home.aster.pl>
	<674e4ddd1002040636i30a6a6bdo6b131994a1917965@mail.gmail.com>
Message-ID: <20100204151954.GA1785@linux-4bod.home.aster.pl>

On Thu, 04 Feb 2010, smu johnson wrote:
> We haven't changed OS's though.  That screenshot was a bad example..

You changed. Now you are creating real windows binaries which are
executed natively.
Download Harbour DOS builds to create DOS binaries which are executed
like Clipper programs inside NTVDM DOS emulator.

> Using the same Windows Vista 32bit OS, clipper 5.2e w/ blinker and Harbour
> returned different results, hence how I came across this.

So your Clipper programs are not executed as native windows applications
but inside NT Virtual DOS Machine.
If you compile your program using Harbour DOS build then they will be
also executed in virtual DOS machine and will return the same results.

> But we can get around it.. but I just wanted to share what I found in case
> this was a big deal to the mailing list.  Should I take a screenshot that
> doesn't use a different computer?  The only reason I did two different OS's
> in that case was because I can't get DOS16 apps to compile on Win7, hence I
> went to a Win2k computer cause it was nearby.  But I can show this on my
> cute laptop which runs WinXP 32-bit.  I am curious to try.. I will do it in
> a few hours.  Thanks!

See above. DOS programs are executed inside DOS emulator.
These are not native application.

Harbour does not emulate DOS inside other OS-es like MS-Windows,
WInCE, Linux, MacOSX, *BSD, Solaris, HP-UX, ... and it's not
our goal to reduce the functionality to DOS level :)
We have native Harbour DOS builds where such emulation is not necessary.
You can use it if you need strict DOS compatibility and NTVDM in your
VISTA system will make such emulation just like for all DOS applications.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb  4 10:56:01 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb  4 10:56:14 2010
Subject: [Harbour] Compiling with harbour -gc3 and -b .
In-Reply-To: <4B6AE3CC.50008@gmail.com>
References: <4B6AE3CC.50008@gmail.com>
Message-ID: <A70F1402-E78A-4844-B62E-528CE8C8C792@syenar.hu>

Hi Xavi,

Pls post a .zip .dif file to the list, this makes it possible 
to apply it to current source, and it also much better fits 
inside the 40KB limit. You can create a .dif using 
'svn diff > change.dif'.

Your patch is a good step, though I think also the hb_vm*() 
functions should be switched to 'const' usage to avoid 
unnecessary casts inside HVM code.

Brgds,
Viktor

On 2010 Feb 4, at 16:12, Xavi wrote:

> Attache least possible changes to avoid .-
> 
> warning: deprecated conversion from string constant to 'char*'
> 
> Also without ( cast ) but more changes.
> 
> -- 
> Xavi
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Thu Feb  4 11:00:31 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 11:00:39 2010
Subject: [Harbour] Re: Compiling with harbour -gc3 and -b .
In-Reply-To: <4B6AE3B7.9080206@gmail.com>
References: <4B6AE3B7.9080206@gmail.com>
Message-ID: <20100204160031.GA2227@linux-4bod.home.aster.pl>

On Thu, 04 Feb 2010, Xavi wrote:
> Attache least possible changes to avoid .-
> warning: deprecated conversion from string constant to 'char*'
> Also without ( cast ) but more changes.

Thank you very much.
hb_xvm{Local,Static,Module}Name() should use 'const char *' parameters.
I'll commit it ASAP. Also hb_vm{Local,Static,Module}Name() should be
changed.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb  4 11:03:28 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb  4 11:03:49 2010
Subject: [Harbour] Testing HBFBIRD.LIB with Firebird 2.5
In-Reply-To: <18717724100.20100204151634@wssk.wroc.pl>
References: <4b6a96ad.1f08c00a.6a62.ffffbd92SMTPIN_ADDED@mx.google.com>
	<4B6A9A95.3090605@gmail.com>
	<1DBBD7C1-E062-4B92-970F-4900679559CE@syenar.hu>
	<18717724100.20100204151634@wssk.wroc.pl>
Message-ID: <BD376A1C-1A62-457A-A133-4D2DF0113BFE@syenar.hu>

Hi Jacek,

> with  hbfbird/tests/test.prg
> 
> c:\Harbour\contrib\hbfbird\tests>test
> 
>      -902
>      -104
>         1
> Error BASE/2020  Argument error: FBCOMMIT
> Called from FBCOMMIT(0)
> Called from MAIN(43)
> c:\Harbour\contrib\hbfbird\tests>
> 
> and with hbfbird/tests/stress.prg :
> 
> Connecting...
> .T.
> .T.
> Creating domain for boolean fields...
> .T.
> Creating test table...
> .T.
> 
> Inserting values....         1
> Error BASE/1132  Bound error: array access
> Called from TFBQUERY:GETBLANKROW(0)
> Called from (b)TFBQUERY(0)
> Called from TFBQUERY:BLANK(0)
> Called from MAIN(63)
> c:\Harbour\contrib\hbfbird\tests>
> 
> only hbfbird/tests/simple.prg
> works fine
> 
> ( Vista/bcc5.5/Firebird 2.0.3 )
> 
> Any ideas ??

The first RTE is due to missing error checking 
in test code, and this wasn't apparent before, 
just now that hbfbird better evaluates parameters.
I don't know the root cause though.

The other is difficult to tell.

For sure this libs needs a large cleanup to 
make it usable.

Can you make the same tests with 2.0.0 release 
version?

Brgds,
Viktor

From smujohnson at gmail.com  Thu Feb  4 11:11:03 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Feb  4 11:11:21 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: DIRECTORY() 
	uppercase w/ proof of concept
In-Reply-To: <20100204151954.GA1785@linux-4bod.home.aster.pl>
References: <674e4ddd1002031345v452ff3ccp83d6990966be0af9@mail.gmail.com>
	<20100204142715.GA26600@linux-4bod.home.aster.pl>
	<674e4ddd1002040636i30a6a6bdo6b131994a1917965@mail.gmail.com>
	<20100204151954.GA1785@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002040811r3a23a1c7l5b1e00a51b264d44@mail.gmail.com>

It is okay, it is not an issue.  But I did learn a bit about how DOS
emulation works... from you and Viktor.  We intend to just compile for Win32
and no DOS16 stuff.. so we shouldn't have to worry I don't think.

By the way

2010/2/4 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Thu, 04 Feb 2010, smu johnson wrote:
> > We haven't changed OS's though.  That screenshot was a bad example..
>
> You changed. Now you are creating real windows binaries which are
> executed natively.
> Download Harbour DOS builds to create DOS binaries which are executed
> like Clipper programs inside NTVDM DOS emulator.
>
> > Using the same Windows Vista 32bit OS, clipper 5.2e w/ blinker and
> Harbour
> > returned different results, hence how I came across this.
>
> So your Clipper programs are not executed as native windows applications
> but inside NT Virtual DOS Machine.
> If you compile your program using Harbour DOS build then they will be
> also executed in virtual DOS machine and will return the same results.
>
> > But we can get around it.. but I just wanted to share what I found in
> case
> > this was a big deal to the mailing list.  Should I take a screenshot that
> > doesn't use a different computer?  The only reason I did two different
> OS's
> > in that case was because I can't get DOS16 apps to compile on Win7, hence
> I
> > went to a Win2k computer cause it was nearby.  But I can show this on my
> > cute laptop which runs WinXP 32-bit.  I am curious to try.. I will do it
> in
> > a few hours.  Thanks!
>
> See above. DOS programs are executed inside DOS emulator.
> These are not native application.
>
> Harbour does not emulate DOS inside other OS-es like MS-Windows,
> WInCE, Linux, MacOSX, *BSD, Solaris, HP-UX, ... and it's not
> our goal to reduce the functionality to DOS level :)
> We have native Harbour DOS builds where such emulation is not necessary.
> You can use it if you need strict DOS compatibility and NTVDM in your
> VISTA system will make such emulation just like for all DOS applications.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/6b9004c7/attachment.html
From lorenzo.fiorini at gmail.com  Thu Feb  4 11:15:17 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb  4 11:15:24 2010
Subject: [Harbour] Are there MT issues in contrib/hbpgsql?
In-Reply-To: <20100203193245.GB19197@linux-4bod.home.aster.pl>
References: <20100202172347.GA23937@linux-4bod.home.aster.pl>
	<20100202184415.GA26667@linux-4bod.home.aster.pl>
	<9257026e1002030638n30fac1dcm6cdf0b0d6eed5210@mail.gmail.com>
	<4B698C3C.6040403@dbtopas.lt>
	<9257026e1002030700y717b64e5mebd4c6aa8f397fd0@mail.gmail.com>
	<20100203161038.GA16332@linux-4bod.home.aster.pl>
	<9257026e1002030829p56d3550dme76d9de44694a5ae@mail.gmail.com>
	<20100203174251.GA17719@linux-4bod.home.aster.pl>
	<9257026e1002031018j16ef0de0p61c164f3b1a28706@mail.gmail.com>
	<20100203193245.GB19197@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002040815n17a6ed7dn8ac23e23a622ac11@mail.gmail.com>

2010/2/3 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> See "MULTI THREAD SUPPORT" in doc/xhb-diff.txt. I documented shared
> and inherited thread resources in Harbour.

Many thanks it SOLVED it.

The key part is:

---
In practice the only one not synced automatically element in Harbour
is write access to the same item with complex variable. This part
have to be synced by user and automatic synchronization here will
strongly reduce scalability.
---

in fact carefully checking the code flow, I found some assignment of
shared objects' vars during some classes initialization.
As soon as I protected them with mutexLock/UnLock the main problems went away.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Feb  4 12:06:51 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb  4 12:07:04 2010
Subject: [Harbour] Testing HBFBIRD.LIB with Firebird 2.5
In-Reply-To: <18717724100.20100204151634@wssk.wroc.pl>
References: <4b6a96ad.1f08c00a.6a62.ffffbd92SMTPIN_ADDED@mx.google.com>
	<4B6A9A95.3090605@gmail.com>
	<1DBBD7C1-E062-4B92-970F-4900679559CE@syenar.hu>
	<18717724100.20100204151634@wssk.wroc.pl>
Message-ID: <364658D0-B792-421D-A178-05EC49E4835A@syenar.hu>

Checking test.prg further, is completely rubbish.
It's faulty code, never worked. I'll commit a fixed 
version.

Checking stress.prg further, it's still invalid code, 
though the invalid part was disabled by an early QUIT 
in 2.0.0 release, so now it seems worse.

Unfortunately the problem is deeper somewhere in 
the class wrapper, and I'm afraid I can't tell what's 
the problem with it, but it looks like an old problem.

Brgds,
Viktor

On 2010 Feb 4, at 15:16, Jacek Kubica wrote:

> Hello Viktor,
> 
> Thursday, February 04, 2010, 11:15:47 AM, you wrote:
> 
>>>> 2010-02-04 09:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>>>  * contrib/hbfbird/firebird.c
>>>>    + Added GC collected object for db connection.
>>>>    * Replaced HB_RETNL_FBERROR() with actual code to make
>>>>      code flow apparent.
>>>>    * Replaced DIALECT constant with Firebird predefined one.
>>>> ...
>>>> Modified Paths:
>>>> --------------
>>>>    trunk/harbour/ChangeLog
>>>>    trunk/harbour/contrib/hbfbird/firebird.c
>>>>    trunk/harbour/contrib/hbfbird/tests/test.prg
>>>> 
>>> I was able to compile and run only the simple.prg successfully under WinXP/BCC58.
> 
> VS> Does it mean that you got errors for the rest?
> VS> If yes, what were these?
> 
> VS> I'll fix the tests in a next commit, as they contain hard-wired 
> VS> paths, so chances are very low that they run as-is.
> 
> Now
> 
> * $Id: ChangeLog 13763 2010-02-04 11:56:22Z vszakats $
> 
> 
> with  hbfbird/tests/test.prg
> 
> c:\Harbour\contrib\hbfbird\tests>test
> 
>      -902
>      -104
>         1
> Error BASE/2020  Argument error: FBCOMMIT
> Called from FBCOMMIT(0)
> Called from MAIN(43)
> c:\Harbour\contrib\hbfbird\tests>
> 
> and with hbfbird/tests/stress.prg :
> 
> Connecting...
> .T.
> .T.
> Creating domain for boolean fields...
> .T.
> Creating test table...
> .T.
> 
> Inserting values....         1
> Error BASE/1132  Bound error: array access
> Called from TFBQUERY:GETBLANKROW(0)
> Called from (b)TFBQUERY(0)
> Called from TFBQUERY:BLANK(0)
> Called from MAIN(63)
> c:\Harbour\contrib\hbfbird\tests>
> 
> only hbfbird/tests/simple.prg
> works fine
> 
> ( Vista/bcc5.5/Firebird 2.0.3 )
> 
> Any ideas ??
> 
> 
> -- 
> Best regards,
> 
> Jacek Kubica
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Feb  4 12:12:22 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb  4 12:12:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13764] trunk/harbour
Message-ID: <E1Nd5Fe-0006cA-JC@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13764
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13764&view=rev
Author:   vszakats
Date:     2010-02-04 17:12:21 +0000 (Thu, 04 Feb 2010)

Log Message:
-----------
2010-02-04 18:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbfbird/tests/test.prg
    ! Fixed to work at all. This code was complete nonsense.
    + Added more status display.
    ; Anyhow basic tests shows that recent FB changes are okay, 
      but class wrapper never worked and tests were either 
      dummies or wrong. Please test hbfbird with real life 
      code.

  * contrib/hbfbird/tests/stress.prg
    * Formatting.

  * contrib/hbfbird/tests/testapi.c
    ! Fixed to not refer to env specific IP. The table name is still
      wrong though.

  * contrib/hbfbird/tfirebrd.prg
    + Added TOFIX about very old and very basic problem in the
      FB class wrapper.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfbird/tests/stress.prg
    trunk/harbour/contrib/hbfbird/tests/test.prg
    trunk/harbour/contrib/hbfbird/tests/testapi.c
    trunk/harbour/contrib/hbfbird/tfirebrd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb  4 13:11:36 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 13:11:43 2010
Subject: [Harbour] -z switch seems to be overly anti-lazy
In-Reply-To: <674e4ddd1002031116x1fba8805u909a16516d309887@mail.gmail.com>
References: <674e4ddd1001280145j14a80aal1beb7b3438e0727d@mail.gmail.com>
	<20100128112057.GA21289@linux-4bod.home.aster.pl>
	<674e4ddd1001280342h67bd8622na4f3b09b5115ede5@mail.gmail.com>
	<674e4ddd1002021851o29934a68r66323b291a9d8dac@mail.gmail.com>
	<20100203091052.GA5007@linux-4bod.home.aster.pl>
	<674e4ddd1002030135h20200936idf16c38cd72d00ad@mail.gmail.com>
	<20100203102945.GA9256@linux-4bod.home.aster.pl>
	<674e4ddd1002031116x1fba8805u909a16516d309887@mail.gmail.com>
Message-ID: <20100204181134.GA14879@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, smu johnson wrote:

Hi,

> I have the code here that I have tested on both Clipper 5.2e and Harbour.
> This is the first time I have seen with my own eyes what I was being told
> earlier, so I can verify that I have witnessed a difference with my own two
> eyes.  If you cannot replicate it, perhaps I will need to send you my
> Blinker .LNK file, in case something is being switched on in there.
> Anyways, Clipper will write "hello" at the top of the screen after "test",
> and Harbour will not.
> FUNC MAIN()
>   do while lastkey()#27
>     clear
>     x:= "test"
>     @ 2,0 get x ;
>     valid eval( {||devout("hello"), .f.} ) .or. .t.
>     read
>     ? "test complete...press enter to do it again"
>     wait
>   enddo
> RETURN

This code touches few different things.
1. It works differently in CL52 and CL53. Harbour works like CL53.
   It's caused by preprocessor rules. You can test in .ppo file
   generated by -p switch that for this line
      @ 2,0 get x valid eval( {||devout("hello"), .f.} ) .or. .t.
   CL52 generates:
      SetPos( 2, 0 ) ;  Add( GetList, ;
      _GET_( x, "x",, {|| eval( {||devout("hello"), .F.} ) .OR. .T.}, ):display() )
   but Harbour and CL53
       SetPos( 2, 0 ) ; AAdd( GetList, ;
       _GET_( x, "x",, {|| eval( {||devout("hello"), .F.} ) .OR. .T.}, ) ) ;
       ATail(GetList):Display()
   This is result of extended GET rules in std.ch. You can see them
   in out std.ch[563].
2. As I said before Clipper does not optimize expression used in some
   language constructions and this is the exact case I used as example.
   In code like:
      <exp> : <msg>[( [<params,...>] )]
   the <exp> is not optimized (probably typo in compiler but I only guess)
   and code generated by CL5.2 PP:
      _GET_( x, "x",, {|| eval( {||devout("hello"), .F.} ) .OR. .T.}, ):display() )
   creates exactly such situation where <exp> is:
      _GET_( x, "x",, {|| eval( {||devout("hello"), .F.} ) .OR. .T.}, )
   and this is the source of problem.
3. In Harbour it's possible to disable extensions and optimizations to
   the Clipper level using -kc switch. In most of cases it's enough
   to use -kc if you want to force strict Clipper behavior. So you can
   try to use own std.ch (it's enough to use -ustd.ch compiler switch
   because it will also disable all macros used in #if... expressions
   in std.ch) and it will cause that Harbour PP generate code like CL52
   (check it in .ppo file using -p and -ustd.ch options).
   Anyhow it will not be enough because this example uses expressions
   in codeblock and Harbour optimize all codeblocks regardless of their
   position in the code and -kc switch.
   To make it fully compatible I will have to add to Harbour compiler
   additional code to emulate this Clipper behavior and disable codeblock
   optimization when -kc switch is used. I'll commit it in few minutes so
   please check it using Harbour compiled from new SVN code. You will
   have to use -ustd.ch and -kc switches to force exact CL5.2 behavior.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Feb  4 13:15:09 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb  4 13:15:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13765] trunk/harbour
Message-ID: <E1Nd6EP-0002lV-Aq@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13765
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13765&view=rev
Author:   druzus
Date:     2010-02-04 18:15:07 +0000 (Thu, 04 Feb 2010)

Log Message:
-----------
2010-02-04 19:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapifs.h
  * harbour/src/rtl/filebuf.c
  * harbour/contrib/hbmemio/memio.c
  * harbour/contrib/hbnetio/netiocli.c
    + added new method:
         void Flush( PHB_FILE pFile, HB_BOOL fDirty );
      to replaceable RDD IO structure (HB_FILE)
    + added new function:
         void hb_fileFlush( PHB_FILE pFile, HB_BOOL fDirty );

  * harbour/src/rdd/dbfntx/dbfntx1.c
  * harbour/src/rdd/dbfnsx/dbfnsx1.c
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
  * harbour/src/rdd/dbffpt/dbffpt1.c
    * use hb_fileFlush()

  * harbour/src/vm/hvm.c
  * harbour/include/hbxvm.h
    ! fixed hb_xvm{Local,Static,Module}Name() to use 'const char *'
      instead of 'char *' - modifications by Xavi (jarabal)

  * harbour/include/hbapi.h
  * harbour/include/hbxvm.h
  * harbour/include/hbmacro.h
  * harbour/include/hbcompdf.h
  * harbour/src/vm/hvm.c
  * harbour/src/vm/macro.c
  * harbour/src/vm/memvars.c
    * replaced some 'BYTE' types with 'unsigned char' or 'int' types
    * cleanup some other casting and types to reduce conversions
      between function calls

  * harbour/src/common/expropt1.c
    ; updated comments

  * harbour/include/hbpp.h
  * harbour/include/hbexprop.h
  * harbour/include/hbexpra.c
  * harbour/include/hbexprb.c
    * eliminated HB_EXPR_PCODE?() macros
    ! fixed potential GPF trap during compilation of _GET_() functions
      which can be exploited by strange code using some special expressions
      as get variable.
      TODO: eliminate hb_compExprClone() used in hb_compExprSetGetBlock(),
            our optimization module does not care about shared expressions
            so it can be source of serious problems in the future if someone
            use this functions for non optimized expression which will be
            reduced later.
    * emulate clipper behavior for codeblock optimizations and do
      not optimize all codeblocks if -kc switch is used and codeblocks
      is inside non optimized part of code like (Clipper has such
      places)
    % simplified and optimized some functions like hb_compExprReduceList()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmemio/memio.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbexpra.c
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbexprop.h
    trunk/harbour/include/hbmacro.h
    trunk/harbour/include/hbpp.h
    trunk/harbour/include/hbxvm.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rtl/filebuf.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/macro.c
    trunk/harbour/src/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb  4 13:29:54 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 13:30:10 2010
Subject: [Harbour] Przemek Q: SIX "FOR" clause Clipper/Harbour difference
In-Reply-To: <674e4ddd1002031152h24b59716nd741161ff781adc1@mail.gmail.com>
References: <674e4ddd1002021431ke9040dan4b0f80548ebc3d95@mail.gmail.com>
	<20100203101435.GB5007@linux-4bod.home.aster.pl>
	<674e4ddd1002031057s73bf663eye03870cc605a41b9@mail.gmail.com>
	<20100203192417.GA19197@linux-4bod.home.aster.pl>
	<674e4ddd1002031152h24b59716nd741161ff781adc1@mail.gmail.com>
Message-ID: <20100204182954.GB14879@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, smu johnson wrote:

Hi,

> As far as the timestamp stuff...  have found that using FSETDATETIME and
> trying to set only one of the options, either DATE, or TIME, results in the
> other one getting timestamped to a NOW() type time.  Hence I wrote my cludge
> in Clipper get around that...  I tried all sorts of tricks..
> HB_FSETDATETIME(file, nil, time),  (file, , time)... etc.. and nothing
> seemed to work.

If you do not pass date and/or time then current date and/or current time
is used,
   HB_FSETDATETIME( cFilename, dDate )
works like:
   HB_FSETDATETIME( cFilename, dDate, time() )
and
   HB_FSETDATETIME( cFilename,, cTime )
works like:
   HB_FSETDATETIME( cFilename, date(), cTime )

If you want to change only time or only data then you have to read
current values from the file, i.e.:

   FUNCTION MY_FSETDATE( cFilename, dDate )
      LOCAL date, time
      IF HB_FGETDATETIME( cFilename, @date, @time )
         RETURN HB_FSETDATETIME( cFilename, dDate, time )
      ENDIF
   RETURN .F.

   FUNCTION MY_FSETTIME( cFilename, cTime )
      LOCAL date, time
      IF HB_FGETDATETIME( cFilename, @date, @time )
         RETURN HB_FSETDATETIME( cFilename, date, cTime )
      ENDIF
   RETURN .F.

Please also remember that in modern file systems more then one timestamp
value is bound with file. You may have creation time, access time,
modify time, etc...
Not all of them can be changed by normal user.
Which will be updated depends on used OS and FS.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb  4 13:34:45 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 13:34:53 2010
Subject: [Harbour] SF bug tracker#2945728: Wrong usage of console
	buffer in Windows
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8C626C34@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8C626C34@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20100204183445.GA23228@linux-4bod.home.aster.pl>

On Thu, 04 Feb 2010, Chen Kedem wrote:

Hi,

> Wilfried Brunken submitted the following bug report:
> http://sourceforge.net/tracker/index.php?func=detail&aid=2945728&group_id=681&atid=100681
> 
> When the Windows console buffer size does not match window size,
> Harbour programs works in a non-consistent way.

It is consistent. Just simply Harbour use whole console buffer as
application window. It allows to use by harbour programs bigger
virtual window then the screen size and user can scroll the visible
part.

> Calling SETMODE() fixed such anomalies by setting both to the same
> dimemntions.

SETMODE() sets the same dimensions for the window size and console
buffer size.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb  4 14:20:32 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 14:20:40 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: ACHOICE()
	w/ p.o.c
In-Reply-To: <674e4ddd1002031408m4b9ac4f1p1a579c87249eefff@mail.gmail.com>
References: <674e4ddd1002031408m4b9ac4f1p1a579c87249eefff@mail.gmail.com>
Message-ID: <20100204192032.GB23228@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, smu johnson wrote:

Hi,

> ACHOICE() behaves differently in Harbour than Clipper.  In Clipper, the code
> below will not have achoicef() called, as it knows that there is no point to
> run it.. probably because the pFNames array is blank.  Harbour however, will
> try to run it, causing "array access" error.
> --- code ---
> func main()
>   Priv pFNames:={}    // privates needed by achoice's function
>   AChoice(1,0,10,20,pFNames,,"achoicef",1,1)
> return nil
> Func achoicef(nMode,nItem)
>   ? pFNames[nItem]
>   wait
> return

You touched never ending problem. ACHOICE and MEMOEDIT are peaces of
code which should be rewritten from scratch or at least seriously cleaned.
Unfortunately none of us has motivation to touch this code.
Probably none of core developers use them in hos own programs and do
not want to invest time in detail test of undocumented Clipper behaviors.
In the past we had similar problem with TBROWSE but two years ago I rewrote
it in practice nearly from scratch and seems that it resolved all reported
by user problems. But I needed over two weeks to document Clipper behavior
with great Viktor help and it was more then I needed for coding.
I have no motivation to make the same with ACHOICE. It's .prg code and
many of Harbour users should be able to make detail tests and update this
code. It's not C and does not need any special knowledge. It's enough
to carefully document all side effects of ACHOICE implementation in Clipper
and then create compatible code. Probably much smaller then the current one.

I'll commit fix for your example but for sure it will not address all
potential problems in ACHOICE. Maybe your code will not exploit any
of new incompatibilities so it will be enough for your. Anyhow if you
want to look at it closer then src/rtl/achoice.prg is the source code
of ACHOICE in Harbour.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Feb  4 14:24:14 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb  4 14:24:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13766] trunk/harbour
Message-ID: <E1Nd7JG-00039H-P2@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13766
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13766&view=rev
Author:   druzus
Date:     2010-02-04 19:24:13 +0000 (Thu, 04 Feb 2010)

Log Message:
-----------
2010-02-04 20:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/achoice.prg
    ! exit with 0 without activating user function when empty item array
      is passed - Clipper compatible behavior

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/achoice.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Thu Feb  4 14:27:32 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Feb  4 14:27:41 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: ACHOICE() w/ 
	p.o.c
In-Reply-To: <20100204192032.GB23228@linux-4bod.home.aster.pl>
References: <674e4ddd1002031408m4b9ac4f1p1a579c87249eefff@mail.gmail.com>
	<20100204192032.GB23228@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002041127i2837511bx2ab3dd1e2f1170e0@mail.gmail.com>

Hi Przemek.  Thank you for replying.  We found one more possibly easy fix
(maybe) while you are fixing this minor bug for ACHOICE.  I got this over
MSN, maybe you can figure out what it means better than me.

(11:01:46 AM) MN: Also on the subject of ACHOICE()... In Harbour, achoice()
restores the row() to where it was when achoice() started. In Clipper it
leaves the Row() at wherever achoice() happened to moved it... causing
cursor position disasters in the console-based program.

Thank you again


2010/2/4 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Wed, 03 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > ACHOICE() behaves differently in Harbour than Clipper.  In Clipper, the
> code
> > below will not have achoicef() called, as it knows that there is no point
> to
> > run it.. probably because the pFNames array is blank.  Harbour however,
> will
> > try to run it, causing "array access" error.
> > --- code ---
> > func main()
> >   Priv pFNames:={}    // privates needed by achoice's function
> >   AChoice(1,0,10,20,pFNames,,"achoicef",1,1)
> > return nil
> > Func achoicef(nMode,nItem)
> >   ? pFNames[nItem]
> >   wait
> > return
>
> You touched never ending problem. ACHOICE and MEMOEDIT are peaces of
> code which should be rewritten from scratch or at least seriously cleaned.
> Unfortunately none of us has motivation to touch this code.
> Probably none of core developers use them in hos own programs and do
> not want to invest time in detail test of undocumented Clipper behaviors.
> In the past we had similar problem with TBROWSE but two years ago I rewrote
> it in practice nearly from scratch and seems that it resolved all reported
> by user problems. But I needed over two weeks to document Clipper behavior
> with great Viktor help and it was more then I needed for coding.
> I have no motivation to make the same with ACHOICE. It's .prg code and
> many of Harbour users should be able to make detail tests and update this
> code. It's not C and does not need any special knowledge. It's enough
> to carefully document all side effects of ACHOICE implementation in Clipper
> and then create compatible code. Probably much smaller then the current
> one.
>
> I'll commit fix for your example but for sure it will not address all
> potential problems in ACHOICE. Maybe your code will not exploit any
> of new incompatibilities so it will be enough for your. Anyhow if you
> want to look at it closer then src/rtl/achoice.prg is the source code
> of ACHOICE in Harbour.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/d401fc92/attachment-0001.html
From vszakats at users.sourceforge.net  Thu Feb  4 15:02:26 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb  4 15:02:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13767] trunk/harbour
Message-ID: <E1Nd7uE-00027H-4W@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13767
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13767&view=rev
Author:   vszakats
Date:     2010-02-04 20:02:22 +0000 (Thu, 04 Feb 2010)

Log Message:
-----------
2010-02-04 21:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/console.c
  * src/rtl/shadow.c
    ! Fixed three remaining places where color value was cast to BYTE type.
    ; QUESTION1: What to do with BYTE in hb_fs*Drv() calls?
                 Should it be int or unsigned int?
    ; QUESTION2: What to do with BYTE types in checksum calculations and 
                 low level color storage, is HB_U8 type good?

  * src/rtl/transfrm.c
  * src/rtl/memofile.c
    * BYTE -> char

  * src/rtl/gtkbstat.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/console.c
    trunk/harbour/src/rtl/gtkbstat.c
    trunk/harbour/src/rtl/memofile.c
    trunk/harbour/src/rtl/shadow.c
    trunk/harbour/src/rtl/transfrm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Thu Feb  4 15:16:20 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Feb  4 15:16:30 2010
Subject: [Harbour] -z switch seems to be overly anti-lazy
In-Reply-To: <20100204181134.GA14879@linux-4bod.home.aster.pl>
References: <674e4ddd1001280145j14a80aal1beb7b3438e0727d@mail.gmail.com>
	<20100128112057.GA21289@linux-4bod.home.aster.pl>
	<674e4ddd1001280342h67bd8622na4f3b09b5115ede5@mail.gmail.com>
	<674e4ddd1002021851o29934a68r66323b291a9d8dac@mail.gmail.com>
	<20100203091052.GA5007@linux-4bod.home.aster.pl>
	<674e4ddd1002030135h20200936idf16c38cd72d00ad@mail.gmail.com>
	<20100203102945.GA9256@linux-4bod.home.aster.pl>
	<674e4ddd1002031116x1fba8805u909a16516d309887@mail.gmail.com>
	<20100204181134.GA14879@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002041216j71f8b290m4fd021db7b17b1fd@mail.gmail.com>

Many thank yous to you, Przemek!!!

2010/2/4 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Wed, 03 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > I have the code here that I have tested on both Clipper 5.2e and Harbour.
> > This is the first time I have seen with my own eyes what I was being told
> > earlier, so I can verify that I have witnessed a difference with my own
> two
> > eyes.  If you cannot replicate it, perhaps I will need to send you my
> > Blinker .LNK file, in case something is being switched on in there.
> > Anyways, Clipper will write "hello" at the top of the screen after
> "test",
> > and Harbour will not.
> > FUNC MAIN()
> >   do while lastkey()#27
> >     clear
> >     x:= "test"
> >     @ 2,0 get x ;
> >     valid eval( {||devout("hello"), .f.} ) .or. .t.
> >     read
> >     ? "test complete...press enter to do it again"
> >     wait
> >   enddo
> > RETURN
>
> This code touches few different things.
> 1. It works differently in CL52 and CL53. Harbour works like CL53.
>   It's caused by preprocessor rules. You can test in .ppo file
>   generated by -p switch that for this line
>       @ 2,0 get x valid eval( {||devout("hello"), .f.} ) .or. .t.
>    CL52 generates:
>      SetPos( 2, 0 ) ;  Add( GetList, ;
>      _GET_( x, "x",, {|| eval( {||devout("hello"), .F.} ) .OR. .T.},
> ):display() )
>   but Harbour and CL53
>       SetPos( 2, 0 ) ; AAdd( GetList, ;
>       _GET_( x, "x",, {|| eval( {||devout("hello"), .F.} ) .OR. .T.}, ) ) ;
>       ATail(GetList):Display()
>   This is result of extended GET rules in std.ch. You can see them
>   in out std.ch[563].
> 2. As I said before Clipper does not optimize expression used in some
>   language constructions and this is the exact case I used as example.
>   In code like:
>      <exp> : <msg>[( [<params,...>] )]
>   the <exp> is not optimized (probably typo in compiler but I only guess)
>   and code generated by CL5.2 PP:
>      _GET_( x, "x",, {|| eval( {||devout("hello"), .F.} ) .OR. .T.},
> ):display() )
>   creates exactly such situation where <exp> is:
>      _GET_( x, "x",, {|| eval( {||devout("hello"), .F.} ) .OR. .T.}, )
>   and this is the source of problem.
> 3. In Harbour it's possible to disable extensions and optimizations to
>   the Clipper level using -kc switch. In most of cases it's enough
>   to use -kc if you want to force strict Clipper behavior. So you can
>   try to use own std.ch (it's enough to use -ustd.ch compiler switch
>   because it will also disable all macros used in #if... expressions
>   in std.ch) and it will cause that Harbour PP generate code like CL52
>   (check it in .ppo file using -p and -ustd.ch options).
>   Anyhow it will not be enough because this example uses expressions
>   in codeblock and Harbour optimize all codeblocks regardless of their
>   position in the code and -kc switch.
>   To make it fully compatible I will have to add to Harbour compiler
>   additional code to emulate this Clipper behavior and disable codeblock
>   optimization when -kc switch is used. I'll commit it in few minutes so
>   please check it using Harbour compiled from new SVN code. You will
>   have to use -ustd.ch and -kc switches to force exact CL5.2 behavior.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/23e79c72/attachment.html
From druzus at users.sourceforge.net  Thu Feb  4 16:23:20 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb  4 16:23:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13768] trunk/harbour
Message-ID: <E1Nd9AW-0005H2-OO@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13768
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13768&view=rev
Author:   druzus
Date:     2010-02-04 21:23:19 +0000 (Thu, 04 Feb 2010)

Log Message:
-----------
2010-02-04 22:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/task.c
  * harbour/src/vm/classes.c
  * harbour/src/rtl/strpeek.c
    * updated to use ANSI types

  * harbour/src/rtl/hbmd5.c
    % small optimization (more compiler friendly code due to fixed alignment)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbmd5.c
    trunk/harbour/src/rtl/strpeek.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/task.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb  4 17:42:39 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 17:42:46 2010
Subject: [Harbour] Harbour / Clipper Incompatibility Issue: ACHOICE()
	w/ p.o.c
In-Reply-To: <674e4ddd1002041127i2837511bx2ab3dd1e2f1170e0@mail.gmail.com>
References: <674e4ddd1002031408m4b9ac4f1p1a579c87249eefff@mail.gmail.com>
	<20100204192032.GB23228@linux-4bod.home.aster.pl>
	<674e4ddd1002041127i2837511bx2ab3dd1e2f1170e0@mail.gmail.com>
Message-ID: <20100204224239.GA27024@linux-4bod.home.aster.pl>

On Thu, 04 Feb 2010, smu johnson wrote:

Hi,

> Hi Przemek.  Thank you for replying.  We found one more possibly easy fix
> (maybe) while you are fixing this minor bug for ACHOICE.  I got this over
> MSN, maybe you can figure out what it means better than me.
> (11:01:46 AM) MN: Also on the subject of ACHOICE()... In Harbour, achoice()
> restores the row() to where it was when achoice() started. In Clipper it
> leaves the Row() at wherever achoice() happened to moved it... causing
> cursor position disasters in the console-based program.

To be more precise. Harbour does not touch cursor position at all
and Clipper moves cursor to position corresponding to displayed data.
This code nicely shows it and also some other incompatibilities:

   #include "achoice.ch"
   proc main()
      local nPos, nRow, nCol
      dispbox( 0, 0, maxrow(), maxcol(), repl( "#", 9 ) )
      nPos := AChoice( 1, 2, 10, 20, { "I1", "I2", "I3", "I4" }, ;
                                     { .t., .t., .f., .t. }, "achoicef" )
      nRow := row(); nCol := col()
      setpos( 12, 0 )
      ?? nRow, nCol, nPos
   return
   func achoicef( nMode, nItem )
      local nRow := row(), nCol := col()
      setpos( nRow, 35 )
      ?? nRow, nCol, nMode, nItem
   return AC_CONT

but it's not a problem to find some differences and fix them when
someone reports the problem. In such way it's impossible to create
really good emulation because after some time new fixes breaks some
other things tested before. It can be very well seen in xHarbour's
TBROWSE code. It has been systematically modified for last the last 7
years and still it does not work correctly and it's far to be Clipper
compatible, i.e. test it using tests/tb1.prg.
If you do not want to create such never ending story then it's necessary
to create man difference code examples like above and document exact
ACHOICE behavior for different situations and parameters (also wrong
ones). When you collect complete information about expected behavior
and undocumented side effects then you can create the code. During
tests I strongly suggest to not take any solutions from existing code
because they can be wrong.
ACHOICE is not very complicated thing. If someone really wants to
write good replacement then I think two days is enough for tests
and coding.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb  4 17:58:56 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 17:59:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13767] trunk/harbour
In-Reply-To: <E1Nd7uE-00027H-4W@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1Nd7uE-00027H-4W@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <20100204225856.GB27024@linux-4bod.home.aster.pl>

On Thu, 04 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

>     ; QUESTION1: What to do with BYTE in hb_fs*Drv() calls?
>                  Should it be int or unsigned int?

Change it to 'int'

But maybe it will be good to also change also the meaning of drive numbers.
Now we have:

   /* NOTE: 0 = current drive, 1 = A, 2 = B, 3 = C, etc. */
   const char * hb_fsCurDir( USHORT uiDrive );
   HB_ERRCODE hb_fsCurDirBuff( USHORT uiDrive, char * pszBuffer, HB_SIZE ulSize );

and:

   /* NOTE: 0=A:, 1=B:, 2=C:, 3=D:, ... */
   HB_ERRCODE hb_fsIsDrv( BYTE nDrive )
   HB_ERRCODE hb_fsChDrv( BYTE nDrive )
   BYTE hb_fsCurDrv( void )

Above is strictly compatible with Clipper _fs*() functions but if we are
dropping Clipper types then maybe we should also change the drive number
meaning in above functions and every where use 1 = A, 2 = B, 3 = C, ...
?

>     ; QUESTION2: What to do with BYTE types in checksum calculations and 
>                  low level color storage, is HB_U8 type good?

it will depend on context and internal implementation.
For external API I usually use 'const void *' pointers to not force
any casting.
Harbour does not work on machines which do not use 8bit based types
so it's less important what you will choice. If algorithm is strictly
8bit character cell oriented then you can use HB_U8.

best regards,
Przemek
From snaiperis at users.sourceforge.net  Thu Feb  4 18:31:43 2010
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Thu Feb  4 18:31:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13769] trunk/harbour
Message-ID: <E1NdBAl-0006bQ-DY@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13769
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13769&view=rev
Author:   snaiperis
Date:     2010-02-04 23:31:01 +0000 (Thu, 04 Feb 2010)

Log Message:
-----------
2010-02-05 01:30 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  + harbour/contrib/hbcairo/tests/lightning.prg
    + one more simple image generator sample

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbcairo/tests/lightning.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb  4 19:23:16 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb  4 19:23:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13770] trunk/harbour
Message-ID: <E1NdBye-0005Oz-RB@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13770
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13770&view=rev
Author:   vszakats
Date:     2010-02-05 00:23:15 +0000 (Fri, 05 Feb 2010)

Log Message:
-----------
2010-02-05 01:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/filesys.c
    * UINT -> unsigned int
    * Rename: bRead -> fRead, bResult -> fResult, usError -> nResult, uiResult -> nResult
    * Formatting.

  * include/hbapifs.h
  * src/rtl/filesys.c
  * src/rtl/philes.c
  * src/rtl/philesx.c
  * contrib/hbct/disk.c
  * contrib/xhb/xhbfunc.c
    * Drive letter type change from USHORT/BYTE to int.
    + Extra checks added to enforce positive value.
    % Optimized out fResult from hb_fsCurDirBuff(), plus related cleanups.
    ; Peer-review it please.

  * src/rtl/fstemp.c
    * Pacified warnings.

  * contrib/hbwin/Makefile
  + contrib/hbwin/wapi_wingdi_fontmem.c
    + Added WAPI_ADDFONTRESOURCEEX().
    + Added WAPI_REMOVEFONTRESOURCEEX().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/xhb/xhbfunc.c
    trunk/harbour/include/hbapifs.h
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/fstemp.c
    trunk/harbour/src/rtl/philes.c
    trunk/harbour/src/rtl/philesx.c

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/wapi_wingdi_font.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb  4 20:56:36 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 20:56:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13770] trunk/harbour
In-Reply-To: <E1NdBye-0005Oz-RB@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NdBye-0005Oz-RB@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <20100205015636.GA27957@linux-4bod.home.aster.pl>

On Fri, 05 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-02-05 01:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/rtl/filesys.c
>     * UINT -> unsigned int
>     * Rename: bRead -> fRead, bResult -> fResult, usError -> nResult, uiResult -> nResult
>     * Formatting.
>   * include/hbapifs.h
>   * src/rtl/filesys.c
>   * src/rtl/philes.c
>   * src/rtl/philesx.c
>   * contrib/hbct/disk.c
>   * contrib/xhb/xhbfunc.c
>     * Drive letter type change from USHORT/BYTE to int.
>     + Extra checks added to enforce positive value.
>     % Optimized out fResult from hb_fsCurDirBuff(), plus related cleanups.
>     ; Peer-review it please.

Looks OK, thank you very much.
I think that we should also update HB_FS_[SG]ETDRIVE() macros to
work with 'int' type.
I'll try to do that in a while.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Feb  4 21:06:46 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb  4 21:06:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13771] trunk/harbour
Message-ID: <E1NdDao-0007sh-8L@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13771
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13771&view=rev
Author:   druzus
Date:     2010-02-05 02:06:42 +0000 (Fri, 05 Feb 2010)

Log Message:
-----------
2010-02-05 03:06 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/filesys.c
    * updated HB_FS_[SG]ETDRIVE() macros to operate on 'int' type
    * changed 'unsigned int' to 'int' in code using HB_FS_[SG]ETDRIVE()
      macros

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Thu Feb  4 21:10:46 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Feb  4 21:10:54 2010
Subject: [Harbour] Przemek: .DBT and .FPT file confusion
Message-ID: <674e4ddd1002041810l1f74e070m21f20d48473796cc@mail.gmail.com>

Hi,

1)  We're having a problem with our Harbour compiles not understanding the
.DBT standard, when new .DBF files are created.  I think it is assuming that
when we create Memo fields on a new .DBF table, to assume we want the .FPT
standard.  However, our old DOS code stuff uses .DBT.  Is there a flag to
switch this?

2)  On the topic of .DBT and .FPT files, since Harbour is so nice and
modern, we are wondering which standard we should use.  We used the .DBT
stuff cause that's all there was "back in the day", and wondering if we
should switch to something else.

Thank you, 'o SIX3 database guru.  :)

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/6d13944f/attachment.html
From druzus at acn.waw.pl  Thu Feb  4 21:36:54 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 21:37:01 2010
Subject: [Harbour] Przemek: .DBT and .FPT file confusion
In-Reply-To: <674e4ddd1002041810l1f74e070m21f20d48473796cc@mail.gmail.com>
References: <674e4ddd1002041810l1f74e070m21f20d48473796cc@mail.gmail.com>
Message-ID: <20100205023654.GA5985@linux-4bod.home.aster.pl>

On Thu, 04 Feb 2010, smu johnson wrote:

Hi,

> 1)  We're having a problem with our Harbour compiles not understanding the
> .DBT standard, when new .DBF files are created.  I think it is assuming that
> when we create Memo fields on a new .DBF table, to assume we want the .FPT
> standard.  However, our old DOS code stuff uses .DBT.  Is there a flag to
> switch this?

See rddInfo() function and RDDI_* macros in dbinfo.ch.
I.e. you can set DBT as default MEMO driver in DBFCDX RDD by:
   rddInfo( RDDI_MEMOTYPE, DB_MEMO_DBT, "DBFCDX" )
or SMT in DBFNTX by:
   rddInfo( RDDI_MEMOTYPE, DB_MEMO_SMT, "DBFNTX" )

You can also create your own RDD using HBUSRRDD lib with prefered
memo type.
In /src/rdd/usrrdd/rdds/dbtcdx.prg is simple code which creates new
DBTCDX RDD which inherits from DBFCDX but uses DBT as default memo
type.

The memo type is important only for new files (dbCreate()).
When existing DBF file is open Harbour automatically recognize type of
memo using information from DBF header and enable valid memo driver.
Of course if program which created DBF file set valid memo type signature.

> 2)  On the topic of .DBT and .FPT files, since Harbour is so nice and
> modern, we are wondering which standard we should use.  We used the .DBT
> stuff cause that's all there was "back in the day", and wondering if we
> should switch to something else.

Any you want. DBT allows to store only strings and uses 512 bytes blocks.
FPT allows to store also other data types (numbers, dates, arrays, ...)
and user can set block size (default is 64 bytes) so it's more flexible
and creates smaller files.
It also contains garbage collector which allow to reuse freed regions.
SMT is SIX3 format which have most of FPT features.
All formats are recognized by Harbour. In fact it even recognize different
implementations of FPT formats which can be controlled by:
   rddInfo( RDDI_MEMOVERSION, DB_MEMOEXT_* [, <cRDD>] )

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb  4 21:43:05 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb  4 21:43:11 2010
Subject: [Harbour] Extension <.FPT>
In-Reply-To: <27452184.post@talk.nabble.com>
References: <27452184.post@talk.nabble.com>
Message-ID: <20100205024304.GB5985@linux-4bod.home.aster.pl>

On Thu, 04 Feb 2010, Rossine wrote:

Hi,

> Is possible change the extension of a file <.FPT> for any other for exemplo
> <.XXX>

See in dbinfo.ch RDDI_{TABLE,MEMO,ORDBAG}EXT.
   rddInfo( RDDI_MEMOEXT, <cExt> [, <cRDD>] )
i.e.
   rddInfo( RDDI_MEMOEXT, ".mem", "DBFCDX" )

best regards,
Przemek
From smujohnson at gmail.com  Thu Feb  4 22:14:02 2010
From: smujohnson at gmail.com (smu johnson)
Date: Thu Feb  4 22:14:11 2010
Subject: [Harbour] Przemek: .DBT and .FPT file confusion
In-Reply-To: <20100205023654.GA5985@linux-4bod.home.aster.pl>
References: <674e4ddd1002041810l1f74e070m21f20d48473796cc@mail.gmail.com>
	<20100205023654.GA5985@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002041914o611b0d4cl27cfc0dfda0fef9e@mail.gmail.com>

What I don't understand about these nice commands you've laid out is... does
this interfere with the fact that I am including the ".ch" file for Harbours
SIX implementation?  I will admit, I know about 0.00000001% of what you know
about Clipper and SIX3... so I am unsure if these commands will magically
work with our SIXCDX files.

Hopefully this doesn't sound like a stupid question.  -_-

2010/2/4 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Thu, 04 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > 1)  We're having a problem with our Harbour compiles not understanding
> the
> > .DBT standard, when new .DBF files are created.  I think it is assuming
> that
> > when we create Memo fields on a new .DBF table, to assume we want the
> .FPT
> > standard.  However, our old DOS code stuff uses .DBT.  Is there a flag to
> > switch this?
>
> See rddInfo() function and RDDI_* macros in dbinfo.ch.
> I.e. you can set DBT as default MEMO driver in DBFCDX RDD by:
>   rddInfo( RDDI_MEMOTYPE, DB_MEMO_DBT, "DBFCDX" )
> or SMT in DBFNTX by:
>   rddInfo( RDDI_MEMOTYPE, DB_MEMO_SMT, "DBFNTX" )
>
> You can also create your own RDD using HBUSRRDD lib with prefered
> memo type.
> In /src/rdd/usrrdd/rdds/dbtcdx.prg is simple code which creates new
> DBTCDX RDD which inherits from DBFCDX but uses DBT as default memo
> type.
>
> The memo type is important only for new files (dbCreate()).
> When existing DBF file is open Harbour automatically recognize type of
> memo using information from DBF header and enable valid memo driver.
> Of course if program which created DBF file set valid memo type signature.
>
> > 2)  On the topic of .DBT and .FPT files, since Harbour is so nice and
> > modern, we are wondering which standard we should use.  We used the .DBT
> > stuff cause that's all there was "back in the day", and wondering if we
> > should switch to something else.
>
> Any you want. DBT allows to store only strings and uses 512 bytes blocks.
> FPT allows to store also other data types (numbers, dates, arrays, ...)
> and user can set block size (default is 64 bytes) so it's more flexible
> and creates smaller files.
> It also contains garbage collector which allow to reuse freed regions.
> SMT is SIX3 format which have most of FPT features.
> All formats are recognized by Harbour. In fact it even recognize different
> implementations of FPT formats which can be controlled by:
>   rddInfo( RDDI_MEMOVERSION, DB_MEMOEXT_* [, <cRDD>] )
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100204/31ed81bc/attachment.html
From vszakats at users.sourceforge.net  Thu Feb  4 22:28:01 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb  4 22:28:08 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13772] trunk/harbour
Message-ID: <E1NdErR-0002j2-1t@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13772
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13772&view=rev
Author:   vszakats
Date:     2010-02-05 03:27:59 +0000 (Fri, 05 Feb 2010)

Log Message:
-----------
2010-02-05 04:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/sha1.c
  * src/rtl/sha1.h
  * src/rtl/hbsha1hm.c
  * src/rtl/hbmd5.c
  * src/rtl/hbsha2hm.c
  * src/rtl/sha1hmac.c
  * src/rtl/sha1hmac.h
  * src/rtl/hbsha1.c
  * src/rtl/sha2hmac.c
  * src/rtl/sha2hmac.h
  * src/rtl/hbsha2.c
    * BYTE -> HB_BYTE
    * UINT32 -> HB_U32
    + Added 'const' keyword to low-level SHA2 related functions
      where it was missing.
    % Added static to SHA1_Transform().

  * include/hbgtcore.h
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/src/rtl/hbmd5.c
    trunk/harbour/src/rtl/hbsha1.c
    trunk/harbour/src/rtl/hbsha1hm.c
    trunk/harbour/src/rtl/hbsha2.c
    trunk/harbour/src/rtl/hbsha2hm.c
    trunk/harbour/src/rtl/sha1.c
    trunk/harbour/src/rtl/sha1.h
    trunk/harbour/src/rtl/sha1hmac.c
    trunk/harbour/src/rtl/sha1hmac.h
    trunk/harbour/src/rtl/sha2hmac.c
    trunk/harbour/src/rtl/sha2hmac.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb  4 22:51:43 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb  4 22:51:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13773] trunk/harbour
Message-ID: <E1NdFEN-0005ZY-U3@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13773
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13773&view=rev
Author:   vszakats
Date:     2010-02-05 03:51:42 +0000 (Fri, 05 Feb 2010)

Log Message:
-----------
2010-02-05 04:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/sha1.c
  * src/rtl/sha1.h
  * src/rtl/hbsha1hm.c
  * src/rtl/sha2.c
  * src/rtl/sha2.h
  * src/rtl/hbsha2hm.c
  * src/rtl/sha1hmac.c
  * src/rtl/sha1hmac.h
  * src/rtl/hbsha1.c
  * src/rtl/sha2hmac.c
  * src/rtl/sha2hmac.h
  * src/rtl/hbsha2.c
    + Not using HB_BYTE type anymore.
    + Using 'const void*' type for key/data variables in public functions.
    % Deleted unnecessary casting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbsha1.c
    trunk/harbour/src/rtl/hbsha1hm.c
    trunk/harbour/src/rtl/hbsha2.c
    trunk/harbour/src/rtl/hbsha2hm.c
    trunk/harbour/src/rtl/sha1.c
    trunk/harbour/src/rtl/sha1.h
    trunk/harbour/src/rtl/sha1hmac.c
    trunk/harbour/src/rtl/sha1hmac.h
    trunk/harbour/src/rtl/sha2.c
    trunk/harbour/src/rtl/sha2.h
    trunk/harbour/src/rtl/sha2hmac.c
    trunk/harbour/src/rtl/sha2hmac.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Fri Feb  5 03:25:05 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Feb  5 03:25:15 2010
Subject: [Harbour] SF bug tracker#2945728: Wrong usage of console	buffer
	in Windows
In-Reply-To: <20100204183445.GA23228@linux-4bod.home.aster.pl>
References: <1A07FEDC778C3E4AA417F089511F859C1D8C626C34@Mail-yoq.SYNEL-COMPANY.LTD>
	<20100204183445.GA23228@linux-4bod.home.aster.pl>
Message-ID: <4B6BD5E1.5060805@mweb.co.za>

Przemys?aw Czerpak wrote:

>> Calling SETMODE() fixed such anomalies by setting both to the same
>> dimemntions.
>
> SETMODE() sets the same dimensions for the window size and console
> buffer size.

This has caused so many questions over the years I wonder if it might not just 
be better to run setmode by default? Or perhaps just take the visible window 
height, and use that with setmode. I can't really see someone wanting to use the 
scroll bars with a real app. I tried with the debugger, it's dreadful.

Speaking of the debugger, it was wonderfully easy to get it working with HWGUI 
and the only reason I don't use it is because I have gotten so used to not doing so.

Regards
Alex
From qiinfo at ig.com.br  Fri Feb  5 04:10:53 2010
From: qiinfo at ig.com.br (Rossine)
Date: Fri Feb  5 04:11:02 2010
Subject: [Harbour] Extension <.FPT>
In-Reply-To: <20100205024304.GB5985@linux-4bod.home.aster.pl>
References: <27452184.post@talk.nabble.com>
	<20100205024304.GB5985@linux-4bod.home.aster.pl>
Message-ID: <27465252.post@talk.nabble.com>


Hi Przemek,


Przemys?aw Czerpak wrote:
> 
> See in dbinfo.ch RDDI_{TABLE,MEMO,ORDBAG}EXT.
>    rddInfo( RDDI_MEMOEXT, <cExt> [, <cRDD>] )
> i.e.
>    rddInfo( RDDI_MEMOEXT, ".mem", "DBFCDX" )
> 

Exactly what I need:)

Many thank?s :)

Best regards,

Rossine.


-- 
View this message in context: http://old.nabble.com/Extension-%3C.FPT%3E-tp27452184p27465252.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Fri Feb  5 05:26:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  5 05:26:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13774] trunk/harbour
Message-ID: <E1NdLOB-00033u-8a@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13774
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13774&view=rev
Author:   vszakats
Date:     2010-02-05 10:26:13 +0000 (Fri, 05 Feb 2010)

Log Message:
-----------
2010-02-05 11:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/setpos.c
  * src/rtl/console.c
    ! Fixed SETPOS() and DEVPOS() to return the first parameter 
      unconditionally. For SETPOS() it's protected with 'HB_CLP_UNDOC
      or HB_COMPAT_C53', for DEVPOD() it's protected with 'HB_CLP_UNDOC' 
      only.

  * src/rtl/diskspac.c
    * Using 'int' for drive spec.
    * Minor cleanup.
    ; Please review me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/console.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/setpos.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Fri Feb  5 06:04:20 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb  5 06:04:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13774] trunk/harbour
In-Reply-To: <E1NdLOB-00033u-8a@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NdLOB-00033u-8a@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <674e4ddd1002050304y3553c8dcga58c6c57246f14be@mail.gmail.com>

Viktor,

I took a peek at the setpos.c commit change, and found:'

73 #if defined( HB_COMPAT_C53 ) || defined( HB_CLP_UNDOC )

I am wondering that the "protected by" means.  I am unsure if I have to
enable this HB_COMPAT_C53 setting or something manually if I want to take
advantage of the Cl53 SETPOS() behaviour in Harbour.

Thanks
On Fri, Feb 5, 2010 at 2:26 AM, <vszakats@users.sourceforge.net> wrote:

> Revision: 13774
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13774&view=rev
> Author:   vszakats
> Date:     2010-02-05 10:26:13 +0000 (Fri, 05 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-05 11:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * src/rtl/setpos.c
>  * src/rtl/console.c
>    ! Fixed SETPOS() and DEVPOS() to return the first parameter
>      unconditionally. For SETPOS() it's protected with 'HB_CLP_UNDOC
>      or HB_COMPAT_C53', for DEVPOD() it's protected with 'HB_CLP_UNDOC'
>      only.
>
>  * src/rtl/diskspac.c
>    * Using 'int' for drive spec.
>    * Minor cleanup.
>    ; Please review me.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/rtl/console.c
>    trunk/harbour/src/rtl/diskspac.c
>    trunk/harbour/src/rtl/setpos.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/f01850ee/attachment.html
From harbour.01 at syenar.hu  Fri Feb  5 06:08:44 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  5 06:08:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13774] trunk/harbour
In-Reply-To: <674e4ddd1002050304y3553c8dcga58c6c57246f14be@mail.gmail.com>
References: <E1NdLOB-00033u-8a@sfp-svn-1.v30.ch3.sourceforge.com>
	<674e4ddd1002050304y3553c8dcga58c6c57246f14be@mail.gmail.com>
Message-ID: <2C25CD52-2B31-4A1C-A3C6-284D31CDBAEE@syenar.hu>

Hi,

> Viktor,
> 
> I took a peek at the setpos.c commit change, and found:'
> 
> 73 #if defined( HB_COMPAT_C53 ) || defined( HB_CLP_UNDOC )
> 
> I am wondering that the "protected by" means.  I am unsure if I have to enable this HB_COMPAT_C53 setting or something manually if I want to take advantage of the Cl53 SETPOS() behaviour in Harbour.

Both options are enabled in default Harbour builds.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Feb  5 06:12:18 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb  5 06:12:38 2010
Subject: [Harbour] OFF: PDF417 barcode
Message-ID: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>

Hi All,

Does anyone have source code to generate PDF417 barcodes?
(using .ttf file or graphical shapes if possible)

Brgds,
Viktor

From dbtopas at dbtopas.lt  Fri Feb  5 06:42:49 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb  5 06:43:08 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
Message-ID: <4B6C0439.5020406@dbtopas.lt>

Hi,


> Does anyone have source code to generate PDF417 barcodes?
> (using .ttf file or graphical shapes if possible)

http://sourceforge.net/projects/pdf417lib/


Regards,
Mindaugas
From mbelgrano at deltain.it  Fri Feb  5 06:48:26 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb  5 06:48:55 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
Message-ID: <609353e71002050348i1e4cca37v7f2a22ceb284afac@mail.gmail.com>

One way for printing barcode  PDF417 symbologies  is use font
here you can find a open source solution
http://sourceforge.net/projects/openbarcodes/
 PDF417, EAN13, code128, EAN128, 3 of 9 and 2 of 5  and in future datamatrix



maj be usefull a little wrapper for this lib?
Imo we can use with winprn or xbpprinter class?


Follow is a untested sample for code128 written in visual fox pro for code
*-----------------------------------------------------------
* Conversion VB --> VFP : Emile MAITREJEAN www.emsystems.be
*-----------------------------------------------------------
* Entr?e : lcChaine
*
* Retour : * w_code128 qui, affich?e avec la police CODE128.TTF, donne
le code barre
*          * une chaine vide si param?tre fourni incorrect
code128 = ""
IF LEN(lcChaine) > 0
       * V?rifier si caract?res valides
       FOR lni = 1 TO LEN(lcChaine)
               IF ASC(SUBSTR(lcChaine, lni, 1)) >= 32 AND
ASC(SUBSTR(lcChaine, lni,
1)) <= 126
               ELSE
                       lni = 0
                       EXIT
               ENDIF
       ENDFOR
       * Calculer la chaine de code en optimisant l'usage des tables B et C
       code128 = ""
       tableB = .T.
       IF lni > 0
               lni = 1
&&lni devient l'index sur la chaine
               DO WHILE lni <= LEN(lcChaine)
                       IF tableB
                               * Voir si int?ressant de passer en table C
                               * Oui pour 4 chiffres au d?but ou ? la
fin, sinon pour 6 chiffres
                               minlni = IIF(lni = 1 OR lni + 3 =
LEN(lcChaine), 4, 6)
                               *=============
DO testnum
                               *=============
IF minlni < 0                   && Choix table C
                                       IF lni = 1
&& D?buter sur table C
                                               code128 = CHR(210)
                                       ELSE
&& Commuter sur table C
                                               code128 = code128+CHR(204)
                                       ENDIF
                                       tableB = .F.
                               ELSE
                                       IF lni = 1
                                               code128 = CHR(209) &&
D?buter sur table B
                                       ENDIF
                               ENDIF
                       ENDIF
                       IF NOT tableB Then
                               * On est sur la table C, essayer de
traiter 2 chiffres
                               minlni = 2
                               *=============
DO testnum
                               *=============
IF minlni < 0 && OK pour 2 chiffres, les traiter
                                       dummy = Val(SUBSTR(lcChaine, lni, 2))
                                       dummy = IIF(dummy < 95, dummy +
32, dummy + 100)
                                       code128 = code128+CHR(dummy)
                                       lni = lni + 2
                               ELSE
                        && On n'a pas 2 chiffres, repasser en table B
                                       code128 = code128+CHR(205)
                                       tableB = .T.
                               ENDIF
                       ENDIF
                       IF tableB
                               * Traiter 1 caract?re en table B
                               code128 = code128+SUBSTR(lcChaine, lni, 1)
                               lni = lni + 1
                       ENDIF
               ENDDO
               * Calcul de la cl? de contr?le
               FOR lni = 1 TO LEN(code128)
                       dummy = ASC(SUBSTR(code128, lni, 1))
                       dummy = IIF(dummy < 127, dummy - 32, dummy - 100)
                       IF lni = 1
                               CheckSum = dummy
                       ELSE
                               CheckSum = MOD((CheckSum + (lni - 1) *
dummy),103)
                       ENDIF
               ENDFOR
               * Calcul du code ASCII de la cl?
               CheckSum = IIF(CheckSum < 95, CheckSum + 32, CheckSum + 100)
               * Ajout de la cl? et du STOP
               code128 = code128+CHR(CheckSum)+CHR(211)
       ENDIF
ENDIF
w_code128 = code128
RETURN
FUNCTION testnum
       * si les minlni caract?res ? partir de lni sont num?riques,
alors minlni=0
       minlni = minlni - 1
       IF lni + minlni <= LEN(lcChaine)
               DO WHILE minlni >= 0
                       IF ASC(SUBSTR(lcChaine, lni + minlni, 1)) < 48 OR
ASC(SUBSTR(lcChaine, lni + minlni, 1)) > 57
                               EXIT
                       ENDIF
                       minlni = minlni - 1
               ENDDO
       ENDIF
       ENDFUNC




2010/2/5 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi All,
>
> Does anyone have source code to generate PDF417 barcodes?
> (using .ttf file or graphical shapes if possible)
>
> Brgds,
> Viktor
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Fri Feb  5 06:51:48 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  5 06:51:54 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <4B6C0439.5020406@dbtopas.lt>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
	<4B6C0439.5020406@dbtopas.lt>
Message-ID: <A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>

Thank you. Forgot to mention but I need something in .prg code.

Brgds,
Viktor

On 2010 Feb 5, at 12:42, Mindaugas Kavaliauskas wrote:

> Hi,
> 
> 
>> Does anyone have source code to generate PDF417 barcodes?
>> (using .ttf file or graphical shapes if possible)
> 
> http://sourceforge.net/projects/pdf417lib/
> 
> 
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From itamarlins at bol.com.br  Fri Feb  5 06:54:21 2010
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Feb  5 06:58:21 2010
Subject: [Harbour] Re: SF bug tracker#2945728: Wrong usage of
	console	bufferin Windows
References: <1A07FEDC778C3E4AA417F089511F859C1D8C626C34@Mail-yoq.SYNEL-COMPANY.LTD><20100204183445.GA23228@linux-4bod.home.aster.pl>
	<4B6BD5E1.5060805@mweb.co.za>
Message-ID: <hkh13a$at8$1@ger.gmane.org>

Hi!
Please post small exaple of how to activate debug in Hwgui.

Best regards,
Itamar M. Lins Jr.

"Alex Strickland" <sscc@mweb.co.za> escreveu na 
mensagem news:4B6BD5E1.5060805@mweb.co.za...
> Przemyslaw Czerpak wrote:
>
>>> Calling SETMODE() fixed such anomalies by setting both to the same
>>> dimemntions.
>>
>> SETMODE() sets the same dimensions for the window size and console
>> buffer size.
>
> This has caused so many questions over the years I wonder if it might not 
> just be better to run setmode by default? Or perhaps just take the visible 
> window height, and use that with setmode. I can't really see someone 
> wanting to use the scroll bars with a real app. I tried with the debugger, 
> it's dreadful.
>
> Speaking of the debugger, it was wonderfully easy to get it working with 
> HWGUI and the only reason I don't use it is because I have gotten so used 
> to not doing so.
>
> Regards
> Alex 



From harbour.01 at syenar.hu  Fri Feb  5 07:00:42 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  5 07:00:55 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <609353e71002050348i1e4cca37v7f2a22ceb284afac@mail.gmail.com>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
	<609353e71002050348i1e4cca37v7f2a22ceb284afac@mail.gmail.com>
Message-ID: <5C9226C0-2D60-4146-8D3F-CF9EC5969443@syenar.hu>

Code seems to be missing for PDF417 printing in this package.

Brgds,
Viktor

On 2010 Feb 5, at 12:48, Massimo Belgrano wrote:

> One way for printing barcode  PDF417 symbologies  is use font
> here you can find a open source solution
> http://sourceforge.net/projects/openbarcodes/
> PDF417, EAN13, code128, EAN128, 3 of 9 and 2 of 5  and in future datamatrix
> 
> 
> 
> maj be usefull a little wrapper for this lib?
> Imo we can use with winprn or xbpprinter class?
> 
> 
> Follow is a untested sample for code128 written in visual fox pro for code
> *-----------------------------------------------------------
> * Conversion VB --> VFP : Emile MAITREJEAN www.emsystems.be
> *-----------------------------------------------------------
> * Entr?e : lcChaine
> *
> * Retour : * w_code128 qui, affich?e avec la police CODE128.TTF, donne
> le code barre
> *          * une chaine vide si param?tre fourni incorrect
> code128 = ""
> IF LEN(lcChaine) > 0
>       * V?rifier si caract?res valides
>       FOR lni = 1 TO LEN(lcChaine)
>               IF ASC(SUBSTR(lcChaine, lni, 1)) >= 32 AND
> ASC(SUBSTR(lcChaine, lni,
> 1)) <= 126
>               ELSE
>                       lni = 0
>                       EXIT
>               ENDIF
>       ENDFOR
>       * Calculer la chaine de code en optimisant l'usage des tables B et C
>       code128 = ""
>       tableB = .T.
>       IF lni > 0
>               lni = 1
> &&lni devient l'index sur la chaine
>               DO WHILE lni <= LEN(lcChaine)
>                       IF tableB
>                               * Voir si int?ressant de passer en table C
>                               * Oui pour 4 chiffres au d?but ou ? la
> fin, sinon pour 6 chiffres
>                               minlni = IIF(lni = 1 OR lni + 3 =
> LEN(lcChaine), 4, 6)
>                               *=============
> DO testnum
>                               *=============
> IF minlni < 0                   && Choix table C
>                                       IF lni = 1
> && D?buter sur table C
>                                               code128 = CHR(210)
>                                       ELSE
> && Commuter sur table C
>                                               code128 = code128+CHR(204)
>                                       ENDIF
>                                       tableB = .F.
>                               ELSE
>                                       IF lni = 1
>                                               code128 = CHR(209) &&
> D?buter sur table B
>                                       ENDIF
>                               ENDIF
>                       ENDIF
>                       IF NOT tableB Then
>                               * On est sur la table C, essayer de
> traiter 2 chiffres
>                               minlni = 2
>                               *=============
> DO testnum
>                               *=============
> IF minlni < 0 && OK pour 2 chiffres, les traiter
>                                       dummy = Val(SUBSTR(lcChaine, lni, 2))
>                                       dummy = IIF(dummy < 95, dummy +
> 32, dummy + 100)
>                                       code128 = code128+CHR(dummy)
>                                       lni = lni + 2
>                               ELSE
>                        && On n'a pas 2 chiffres, repasser en table B
>                                       code128 = code128+CHR(205)
>                                       tableB = .T.
>                               ENDIF
>                       ENDIF
>                       IF tableB
>                               * Traiter 1 caract?re en table B
>                               code128 = code128+SUBSTR(lcChaine, lni, 1)
>                               lni = lni + 1
>                       ENDIF
>               ENDDO
>               * Calcul de la cl? de contr?le
>               FOR lni = 1 TO LEN(code128)
>                       dummy = ASC(SUBSTR(code128, lni, 1))
>                       dummy = IIF(dummy < 127, dummy - 32, dummy - 100)
>                       IF lni = 1
>                               CheckSum = dummy
>                       ELSE
>                               CheckSum = MOD((CheckSum + (lni - 1) *
> dummy),103)
>                       ENDIF
>               ENDFOR
>               * Calcul du code ASCII de la cl?
>               CheckSum = IIF(CheckSum < 95, CheckSum + 32, CheckSum + 100)
>               * Ajout de la cl? et du STOP
>               code128 = code128+CHR(CheckSum)+CHR(211)
>       ENDIF
> ENDIF
> w_code128 = code128
> RETURN
> FUNCTION testnum
>       * si les minlni caract?res ? partir de lni sont num?riques,
> alors minlni=0
>       minlni = minlni - 1
>       IF lni + minlni <= LEN(lcChaine)
>               DO WHILE minlni >= 0
>                       IF ASC(SUBSTR(lcChaine, lni + minlni, 1)) < 48 OR
> ASC(SUBSTR(lcChaine, lni + minlni, 1)) > 57
>                               EXIT
>                       ENDIF
>                       minlni = minlni - 1
>               ENDDO
>       ENDIF
>       ENDFUNC
> 
> 
> 
> 
> 2010/2/5 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Hi All,
>> 
>> Does anyone have source code to generate PDF417 barcodes?
>> (using .ttf file or graphical shapes if possible)
>> 
>> Brgds,
>> Viktor
>> 
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Fri Feb  5 07:06:10 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb  5 07:06:24 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>	<4B6C0439.5020406@dbtopas.lt>
	<A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>
Message-ID: <4B6C09B2.1080900@dbtopas.lt>

Hi,

Viktor Szak?ts wrote:
> Thank you. Forgot to mention but I need something in .prg code.
> 
>>> Does anyone have source code to generate PDF417 barcodes?
>>> (using .ttf file or graphical shapes if possible)
>> http://sourceforge.net/projects/pdf417lib/


Simple .prg wrapper could be used. I guess source can also be converted 
to .prg in less than a day.


Regards,
Mindaugas
From mbelgrano at deltain.it  Fri Feb  5 07:07:16 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb  5 07:07:49 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu> 
	<4B6C0439.5020406@dbtopas.lt>
	<A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>
Message-ID: <609353e71002050407g6b1d7bbdp462610335abcd2ea@mail.gmail.com>

Here is visual basic part
good for you  a way like
 oPrn := win_prn():New(GetDefaultPrinter())
 oPrn:SetFont("code128",11,,,,255)  // please try different   value
 oPrn:TextOut(pdf417("ABC"),.t.)
oPrn:NewPage()

or
oPrinter       := xbpPrinter():New():Create(cPrinter, PRN_Q_TEXT )


Private Function pdf417$(Chaine$, Optional ByRef s?cu%, Optional ByRef
nbcol%, Optional ByRef CodeErr%)
  'V 1.5.0
  'Param?tres : Une chaine ? encoder
  '             Le niveau de correction souhait?, -1 = automatique.
  '             Le nombre de colonnes de MC de donn?es souhait?, -1 =
automatique
  '             Une variable qui pourra r?cup?rer un num?ro d'erreur
  'Retour : * une chaine qui, affich?e avec la police PDF417.TTF,
donne le code barre
  '         * une chaine vide si param?tre fourni incorrect
  '         * S?cu% contient le niveau de correction effectif
  '         * NbCol% contient le nombre de colonnes de MC de donn?es effectif
  '         * Codeerr% contient 0 si pas d'erreur, sinon :
  '           0 : Pas d'erreur
  '           1  : Chaine$ est vide
  '           2  : Chaine$ contient trop de donn?es, on d?passe le
nombre de 928 MC.
  '           3  : Nombre de MC par ligne trop faible, on d?passe 90 lignes.
  '           10 : Le niveau de s?curit? a ?t? abaiss? pour ne pas
d?passer les 928 MC.

  'Parameters : The string to encode.
  '             The hoped s?curity level, -1 = automatic.
  '             The hoped number of data MC columns, -1 = automatic.
  '             A variable which will can retrieve an error number.
  'Return : * a string which, printed with the PDF417.TTF font, gives
the bar code.
  '         * an empty string if the given parameters aren't good.
  '         * s?cu% contain le really used s?curity level.
  '         * NbCol% contain the really used number of data CW columns.
  '         * Codeerr% is 0 if no error occured, else :
  '           0  : No error
  '           1  : Chaine$ is empty
  '           2  : Chaine$ contain too many datas, we go beyong the 928 CWs.
  '           3  : Number of CWs per row too small, we go beyong 90 rows.
  '           10 : The s?curity level has being lowers not to exceed
the 928 CWs. (It's not an error, only a warning.)

  'Variables g?n?rales / Global variables
  Dim I%, J%, K%, IndexChaine%, Dummy$, flag As Boolean
  'D?coupage en blocs / Splitting into blocks
  Dim Liste%(), IndexListe%
  'Compactage des donn?es / Data compaction
  Dim Longueur%, ChaineMC$, Total
  'Traitement du mode "texte" / "text" mode processing
  Dim ListeT%(), IndexListeT%, CurTable%, ChaineT$, NewTable%
  'Codes de Reed Solomon / Reed Solomon codes
  Dim MCcorrection%()
  'MC de cot?s gauche et droit / Left and right side CWs
  Dim C1%, C2%, C3%
  'Sous programme QuelMode / Sub routine QuelMode
  Dim Mode%, CodeASCII%
  'Sous programme Modulo / Sub routine Modulo
  Dim ChaineMod$, Diviseur&, ChaineMult$, Nombre&
  'Tables
  Dim ASCII$
  'Cette chaine d?crit le code ASCII pour le mode "texte".
  'ASCII$ contient 95 champs de 4 chiffres correspondant aux car. de
valeur ASCII 32 ? 126. Les champs sont :
  '  2 chiffres indiquant la ou les tables o? se trouvent ce car.
(Tables num?rot?es 1, 2, 4 et 8)
  '  2 chiffres indiquant le N? du car. dans la table
  '  Ex. 0726 en d?but de chaine : le car. de code 32 est dans les
tables 1, 2 et 4 ? la ligne 26
  '
  'This string describe the ASCII code for the "text" mode.
  'ASCII$ contain 95 fields of 4 digits which correspond to char.
ASCII values 32 to 126. These fields are :
  '  2 digits indicating the table(s) (1 or several) where this char.
is located. (Table numbers : 1, 2, 4 and 8)
  '  2 digits indicating the char. number in the table
  '  Sample : 0726 at the beginning of the string : The Char. having
code 32 is in the tables 1, 2 and 4 at row 26
  ASCII$ = "07260810082004151218042104100828082308241222042012131216121712190400040104020403040404050406040704080409121408000801042308020825080301000101010201030104010501060107010801090110011101120113011401150116011701180119012001210122012301240125080408050806042408070808020002010202020302040205020602070208020902100211021202130214021502160217021802190220022102220223022402250826082108270809"
  Dim CoefRS$(8)
  'CoefRS$ contient 8 chaines repr?sentant les coefficients sur 3
chiffres des polynomes de calcul des codes de reed Solomon
  'CoefRS$ contain 8 strings describing the factors of the polynomial
equations for the reed Solomon codes.
  CoefRS$(0) = "027917"
  CoefRS$(1) = "522568723809"
  CoefRS$(2) = "237308436284646653428379"
  CoefRS$(3) = "274562232755599524801132295116442428295042176065"
  CoefRS$(4) = "361575922525176586640321536742677742687284193517273494263147593800571320803133231390685330063410"
  CoefRS$(5) = "539422006093862771453106610287107505733877381612723476462172430609858822543376511400672762283184440035519031460594225535517352605158651201488502648733717083404097280771840629004381843623264543"
  CoefRS$(6) = "521310864547858580296379053779897444400925749415822093217208928244583620246148447631292908490704516258457907594723674292272096684432686606860569193219129186236287192775278173040379712463646776171491297763156732095270447090507048228821808898784663627378382262380602754336089614087432670616157374242726600269375898845454354130814587804034211330539297827865037517834315550086801004108539"
  CoefRS$(7) = "524894075766882857074204082586708250905786138720858194311913275190375850438733194280201280828757710814919089068569011204796605540913801700799137439418592668353859370694325240216257284549209884315070329793490274877162749812684461334376849521307291803712019358399908103511051008517225289470637731066255917269463830730433848585136538906090002290743199655903329049802580355588188462010134628320479130739071263318374601192605142673687234722384177752607640455193689707805641048060732621895544261852655309697755756060231773434421726528503118049795032144500238836394280566319009647550073914342126032681331792620060609441180791893754605383228749760213054297134054834299922191910532609829189020167029872449083402041656505579481173404251688095497555642543307159924558648055497010"
  CoefRS$(8) = "352077373504035599428207409574118498285380350492197265920155914299229643294871306088087193352781846075327520435543203666249346781621640268794534539781408390644102476499290632545037858916552041542289122272383800485098752472761107784860658741290204681407855085099062482180020297451593913142808684287536561076653899729567744390513192516258240518794395768848051610384168190826328596786303570381415641156237151429531207676710089168304402040708575162864229065861841512164477221092358785288357850836827736707094008494114521002499851543152729771095248361578323856797289051684466533820669045902452167342244173035463651051699591452578037124298332552043427119662777475850764364578911283711472420245288594394511327589777699688043408842383721521560644714559062145873663713159672729"
  CoefRS$(8) = CoefRS$(8) &
"624059193417158209563564343693109608563365181772677310248353708410579870617841632860289536035777618586424833077597346269757632695751331247184045787680018066407369054492228613830922437519644905789420305441207300892827141537381662513056252341242797838837720224307631061087560310756665397808851309473795378031647915459806590731425216548249321881699535673782210815905303843922281073469791660162498308155422907817187062016425535336286437375273610296183923116667751353062366691379687842037357720742330005039923311424242749321054669316342299534105667488640672576540316486721610046656447171616464190531297321762752533175134014381433717045111020596284736138646411877669141919045780407164332899165726600325498655357752768223849647063310863251366304282738675410389244031121303263"
  Dim CodageMC$(2)
  'CodageMC$ contient les 3 jeux des 929 MC. Chaque MC est repr?sent?
dans la police PDF417.TTF par 3 lettres composant 3 fois 5 bits. Le
premier bit toujours ? 1
  ' et le dernier toujours ? 0 se trouvent dans le caract?re s?parateur.
  'CodageMC$ contain the 3 sets of the 929 MCs. Each MC is described
in the PDF417.TTF font by 3 char. composing 3 time 5 bits. The first
bit which is always 1
  ' and the last one which is always 0 are into the separator character.
  CodageMC$(0) =
"urAxfsypyunkxdwyozpDAulspBkeBApAseAkprAuvsxhypnkutwxgzfDAplsfBkfrApvsuxyfnkptwuwzflspsyfvspxyftwpwzfxyyrxufkxFwymzonAudsxEyolkucwdBAoksucidAkokgdAcovkuhwxazdnAotsugydlkoswugjdksosidvkoxwuizdtsowydswowjdxwoyzdwydwjofAuFsxCyodkuEwxCjclAocsuEickkocgckcckEcvAohsuayctkogwuajcssogicsgcsacxsoiycwwoijcwicyyoFkuCwxBjcdAoEsuCicckoEguCbcccoEaccEoEDchkoawuDjcgsoaicggoabcgacgDobjcibcFAoCsuBicEkoCguBbcEcoCacEEoCDcECcascagcaacCkuAroBaoBDcCBtfkwpwyezmnAtdswoymlktcwwojFBAmksFAkmvkthwwqzFnAmtstgyFlkmswFksFkgFvkmxwtizFtsmwyFswFsiFxwmyzFwyFyzvfAxpsyuyvdkxowyujqlAvcsxoiqkkvcgxobqkcvcamfAtFswmyqvAmdktEwwmjqtkvgwxqjhlAEkkmcgtEbhkkqsghkcEvAmhstayhvAEtkmgwtajhtkqwwvijhssEsghsgExsmiyhxsEwwmijhwwqyjhwiEyyhyyEyjhyjvFkxmwytjqdAvEsxmiqckvEgxmbqccvEaqcEqcCmFktCwwljqhkmEstCigtAEckvaitCbgskEccmEagscqgamEDEcCEhkmawtDjgxkEgsmaigwsqiimabgwgEgaEgDEiwmbjgywEiigyiEibgybgzjqFAvCsxliqEkvCgxlbqEcvCaqEEvCDqECqEBEFAmCstBighAEEkmCgtBbggkqagvDbggcEEEmCDggEqaDgg"
  CodageMC$(0) = CodageMC$(0) &
"CEasmDigisEagmDbgigqbbgiaEaDgiDgjigjbqCkvBgxkrqCcvBaqCEvBDqCCqCBECkmBgtArgakECcmBagacqDamBDgaEECCgaCECBEDggbggbagbDvAqvAnqBBmAqEBEgDEgDCgDBlfAspsweyldksowClAlcssoiCkklcgCkcCkECvAlhssqyCtklgwsqjCsslgiCsgCsaCxsliyCwwlijCwiCyyCyjtpkwuwyhjndAtoswuincktogwubncctoancEtoDlFksmwwdjnhklEssmiatACcktqismbaskngglEaascCcEasEChklawsnjaxkCgstrjawsniilabawgCgaawaCiwlbjaywCiiayiCibCjjazjvpAxusyxivokxugyxbvocxuavoExuDvoCnFAtmswtirhAnEkxviwtbrgkvqgxvbrgcnEEtmDrgEvqDnEBCFAlCssliahACEklCgslbixAagknagtnbiwkrigvrblCDiwcagEnaDiwECEBCaslDiaisCaglDbiysaignbbiygrjbCaDaiDCbiajiCbbiziajbvmkxtgywrvmcxtavmExtDvmCvmBnCktlgwsrraknCcxtrracvnatlDraEnCCraCnCBraBCCklBgskraakCCclBaiikaacnDalBDiicrbaCCCiiEaaCCCBaaBCDglBrabgCDaijgabaCDDijaabDCDrijrvlcxsqvlExsnvlCvlBnBctkqrDcnBEtknrDEvlnrDCnBBrDBCBclAqaDcCBElAnibcaDEnBnibErDnCBBibCaDBibBaDqibqibnxsfvkltkfnAmnAlCAoaBoiDoCAlaBlkpkBdAkosBckkogsebBcckoaBcEkoDBhkkqwsfjBgskqiBggkqbBgaBgDBiwkrjBiiBibBjjlpAsuswhil"
  CodageMC$(0) = CodageMC$(0) &
"oksuglocsualoEsuDloCBFAkmssdiDhABEksvisdbDgklqgsvbDgcBEEkmDDgElqDBEBBaskniDisBagknbDiglrbDiaBaDBbiDjiBbbDjbtukwxgyirtucwxatuEwxDtuCtuBlmkstgnqklmcstanqctvastDnqElmCnqClmBnqBBCkklgDakBCcstrbikDaclnaklDbicnraBCCbiEDaCBCBDaBBDgklrDbgBDabjgDbaBDDbjaDbDBDrDbrbjrxxcyyqxxEyynxxCxxBttcwwqvvcxxqwwnvvExxnvvCttBvvBllcssqnncllEssnrrcnnEttnrrEvvnllBrrCnnBrrBBBckkqDDcBBEkknbbcDDEllnjjcbbEnnnBBBjjErrnDDBjjCBBqDDqBBnbbqDDnjjqbbnjjnxwoyyfxwmxwltsowwfvtoxwvvtmtslvtllkossfnlolkmrnonlmlklrnmnllrnlBAokkfDBolkvbDoDBmBAljbobDmDBljbmbDljblDBvjbvxwdvsuvstnkurlurltDAubBujDujDtApAAokkegAocAoEAoCAqsAqgAqaAqDAriArbkukkucshakuEshDkuCkuBAmkkdgBqkkvgkdaBqckvaBqEkvDBqCAmBBqBAngkdrBrgkvrBraAnDBrDAnrBrrsxcsxEsxCsxBktclvcsxqsgnlvEsxnlvCktBlvBAlcBncAlEkcnDrcBnEAlCDrEBnCAlBDrCBnBAlqBnqAlnDrqBnnDrnwyowymwylswotxowyvtxmswltxlksosgfltoswvnvoltmkslnvmltlnvlAkokcfBloksvDnoBlmAklbroDnmBllbrmDnlAkvBlvDnvbrvyzeyzdwyexyuwydxytswetwuswdvxutwtvxtkselsuksdntulstrvu"
  CodageMC$(1) =
"ypkzewxdAyoszeixckyogzebxccyoaxcEyoDxcCxhkyqwzfjutAxgsyqiuskxggyqbuscxgausExgDusCuxkxiwyrjptAuwsxiipskuwgxibpscuwapsEuwDpsCpxkuywxjjftApwsuyifskpwguybfscpwafsEpwDfxkpywuzjfwspyifwgpybfwafywpzjfyifybxFAymszdixEkymgzdbxEcymaxEEymDxECxEBuhAxasyniugkxagynbugcxaaugExaDugCugBoxAuisxbiowkuigxbbowcuiaowEuiDowCowBdxAoysujidwkoygujbdwcoyadwEoyDdwCdysozidygozbdyadyDdzidzbxCkylgzcrxCcylaxCEylDxCCxCBuakxDgylruacxDauaExDDuaCuaBoikubgxDroicubaoiEubDoiCoiBcykojgubrcycojacyEojDcyCcyBczgojrczaczDczrxBcykqxBEyknxBCxBBuDcxBquDExBnuDCuDBobcuDqobEuDnobCobBcjcobqcjEobncjCcjBcjqcjnxAoykfxAmxAluBoxAvuBmuBloDouBvoDmoDlcbooDvcbmcblxAexAduAuuAtoBuoBtwpAyeszFiwokyegzFbwocyeawoEyeDwoCwoBthAwqsyfitgkwqgyfbtgcwqatgEwqDtgCtgBmxAtiswrimwktigwrbmwctiamwEtiDmwCmwBFxAmystjiFwkmygtjbFwcmyaFwEmyDFwCFysmziFygmzbFyaFyDFziFzbyukzhghjsyuczhahbwyuEzhDhDyyuCyuBwmkydgzErxqkwmczhrxqcyvaydDxqEwmCxqCwmBxqBtakwngydrviktacwnavicxrawnDviEtaCviCtaBviBmiktbgwnrqykmictb"
  CodageMC$(1) = CodageMC$(1) &
"aqycvjatbDqyEmiCqyCmiBqyBEykmjgtbrhykEycmjahycqzamjDhyEEyChyCEyBEzgmjrhzgEzahzaEzDhzDEzrytczgqgrwytEzgngnyytCglzytBwlcycqxncwlEycnxnEytnxnCwlBxnBtDcwlqvbctDEwlnvbExnnvbCtDBvbBmbctDqqjcmbEtDnqjEvbnqjCmbBqjBEjcmbqgzcEjEmbngzEqjngzCEjBgzBEjqgzqEjngznysozgfgfyysmgdzyslwkoycfxloysvxlmwklxlltBowkvvDotBmvDmtBlvDlmDotBvqbovDvqbmmDlqblEbomDvgjoEbmgjmEblgjlEbvgjvysegFzysdwkexkuwkdxkttAuvButAtvBtmBuqDumBtqDtEDugbuEDtgbtysFwkFxkhtAhvAxmAxqBxwekyFgzCrwecyFaweEyFDweCweBsqkwfgyFrsqcwfasqEwfDsqCsqBliksrgwfrlicsraliEsrDliCliBCykljgsrrCycljaCyEljDCyCCyBCzgljrCzaCzDCzryhczaqarwyhEzananyyhCalzyhBwdcyEqwvcwdEyEnwvEyhnwvCwdBwvBsncwdqtrcsnEwdntrEwvntrCsnBtrBlbcsnqnjclbEsnnnjEtrnnjClbBnjBCjclbqazcCjElbnazEnjnazCCjBazBCjqazqCjnaznzioirsrfyziminwrdzzililyikzygozafafyyxozivivyadzyxmyglitzyxlwcoyEfwtowcmxvoyxvwclxvmwtlxvlslowcvtnoslmvrotnmsllvrmtnlvrllDoslvnbolDmrjonbmlDlrjmnblrjlCbolDvajoCbmizoajmCblizmajlizlCbvajvzieifwrFzzididyiczygeaFzywuy"
  CodageMC$(1) = CodageMC$(1) &
"gdihzywtwcewsuwcdxtuwstxttskutlusktvnutltvntlBunDulBtrbunDtrbtCDuabuCDtijuabtijtziFiFyiEzygFywhwcFwshxsxskhtkxvlxlAxnBxrDxCBxaDxibxiCzwFcyCqwFEyCnwFCwFBsfcwFqsfEwFnsfCsfBkrcsfqkrEsfnkrCkrBBjckrqBjEkrnBjCBjBBjqBjnyaozDfDfyyamDdzyalwEoyCfwhowEmwhmwElwhlsdowEvsvosdmsvmsdlsvlknosdvlroknmlrmknllrlBboknvDjoBbmDjmBblDjlBbvDjvzbebfwnpzzbdbdybczyaeDFzyiuyadbhzyitwEewguwEdwxuwgtwxtscustuscttvustttvtklulnukltnrulntnrtBDuDbuBDtbjuDbtbjtjfsrpyjdwrozjcyjcjzbFbFyzjhjhybEzjgzyaFyihyyxwEFwghwwxxxxschssxttxvvxkkxllxnnxrrxBBxDDxbbxjFwrmzjEyjEjbCzjazjCyjCjjBjwCowCmwClsFowCvsFmsFlkfosFvkfmkflArokfvArmArlArvyDeBpzyDdwCewauwCdwatsEushusEtshtkdukvukdtkvtAnuBruAntBrtzDpDpyDozyDFybhwCFwahwixsEhsgxsxxkcxktxlvxAlxBnxDrxbpwnuzboybojDmzbqzjpsruyjowrujjoijobbmyjqybmjjqjjmwrtjjmijmbbljjnjjlijlbjkrsCusCtkFukFtAfuAftwDhsChsaxkExkhxAdxAvxBuzDuyDujbuwnxjbuibubDtjbvjjusrxijugrxbjuajuDbtijvibtbjvbjtgrwrjtajtDbsrjtrjsqjsnBxjDxiDxbbxgnyrbxabxDDwrbxrbwqbwn"
  CodageMC$(2) =
"pjkurwejApbsunyebkpDwulzeDspByeBwzfcfjkprwzfEfbspnyzfCfDwplzzfBfByyrczfqfrwyrEzfnfnyyrCflzyrBxjcyrqxjEyrnxjCxjBuzcxjquzExjnuzCuzBpzcuzqpzEuznpzCdjAorsufydbkonwudzdDsolydBwokzdAyzdodrsovyzdmdnwotzzdldlydkzynozdvdvyynmdtzynlxboynvxbmxblujoxbvujmujlozoujvozmozlcrkofwuFzcnsodyclwoczckyckjzcucvwohzzctctycszylucxzyltxDuxDtubuubtojuojtcfsoFycdwoEzccyccjzchchycgzykxxBxuDxcFwoCzcEycEjcazcCycCjFjAmrstfyFbkmnwtdzFDsmlyFBwmkzFAyzFoFrsmvyzFmFnwmtzzFlFlyFkzyfozFvFvyyfmFtzyflwroyfvwrmwrltjowrvtjmtjlmzotjvmzmmzlqrkvfwxpzhbAqnsvdyhDkqlwvczhBsqkyhAwqkjhAiErkmfwtFzhrkEnsmdyhnsqtymczhlwEkyhkyEkjhkjzEuEvwmhzzhuzEthvwEtyzhthtyEszhszyduExzyvuydthxzyvtwnuxruwntxrttbuvjutbtvjtmjumjtgrAqfsvFygnkqdwvEzglsqcygkwqcjgkigkbEfsmFygvsEdwmEzgtwqgzgsyEcjgsjzEhEhyzgxgxyEgzgwzycxytxwlxxnxtDxvbxmbxgfkqFwvCzgdsqEygcwqEjgcigcbEFwmCzghwEEyggyEEjggjEazgizgFsqCygEwqCjgEigEbECygayECjgajgCwqBjgCigCbEBjgDjgBigBbCrklfwspzCnsldyClwlczCkyCkjzCuCvwlhzzCtCtyCszyFuCx"
  CodageMC$(2) = CodageMC$(2) &
"zyFtwfuwftsrusrtljuljtarAnfstpyankndwtozalsncyakwncjakiakbCfslFyavsCdwlEzatwngzasyCcjasjzChChyzaxaxyCgzawzyExyhxwdxwvxsnxtrxlbxrfkvpwxuzinArdsvoyilkrcwvojiksrciikgrcbikaafknFwtmzivkadsnEyitsrgynEjiswaciisiacbisbCFwlCzahwCEyixwagyCEjiwyagjiwjCazaiziyzifArFsvmyidkrEwvmjicsrEiicgrEbicaicDaFsnCyihsaEwnCjigwrajigiaEbigbCCyaayCCjiiyaajiijiFkrCwvljiEsrCiiEgrCbiEaiEDaCwnBjiawaCiiaiaCbiabCBjaDjibjiCsrBiiCgrBbiCaiCDaBiiDiaBbiDbiBgrAriBaiBDaAriBriAqiAnBfskpyBdwkozBcyBcjBhyBgzyCxwFxsfxkrxDfklpwsuzDdsloyDcwlojDciDcbBFwkmzDhwBEyDgyBEjDgjBazDizbfAnpstuybdknowtujbcsnoibcgnobbcabcDDFslmybhsDEwlmjbgwDEibgiDEbbgbBCyDayBCjbiyDajbijrpkvuwxxjjdArosvuijckrogvubjccroajcEroDjcCbFknmwttjjhkbEsnmijgsrqinmbjggbEajgabEDjgDDCwlljbawDCijiwbaiDCbjiibabjibBBjDDjbbjjjjjFArmsvtijEkrmgvtbjEcrmajEErmDjECjEBbCsnlijasbCgnlbjagrnbjaabCDjaDDBibDiDBbjbibDbjbbjCkrlgvsrjCcrlajCErlDjCCjCBbBgnkrjDgbBajDabBDjDDDArbBrjDrjBcrkqjBErknjBCjBBbAqjBqbAnjBnjAorkfjAmjAlb"
  CodageMC$(2) = CodageMC$(2) &
"AfjAvApwkezAoyAojAqzBpskuyBowkujBoiBobAmyBqyAmjBqjDpkluwsxjDosluiDoglubDoaDoDBmwktjDqwBmiDqiBmbDqbAljBnjDrjbpAnustxiboknugtxbbocnuaboEnuDboCboBDmsltibqsDmgltbbqgnvbbqaDmDbqDBliDniBlbbriDnbbrbrukvxgxyrrucvxaruEvxDruCruBbmkntgtwrjqkbmcntajqcrvantDjqEbmCjqCbmBjqBDlglsrbngDlajrgbnaDlDjrabnDjrDBkrDlrbnrjrrrtcvwqrtEvwnrtCrtBblcnsqjncblEnsnjnErtnjnCblBjnBDkqblqDknjnqblnjnnrsovwfrsmrslbkonsfjlobkmjlmbkljllDkfbkvjlvrsersdbkejkubkdjktAeyAejAuwkhjAuiAubAdjAvjBuskxiBugkxbBuaBuDAtiBviAtbBvbDuklxgsyrDuclxaDuElxDDuCDuBBtgkwrDvglxrDvaBtDDvDAsrBtrDvrnxctyqnxEtynnxCnxBDtclwqbvcnxqlwnbvEDtCbvCDtBbvBBsqDtqBsnbvqDtnbvnvyoxzfvymvylnwotyfrxonwmrxmnwlrxlDsolwfbtoDsmjvobtmDsljvmbtljvlBsfDsvbtvjvvvyevydnwerwunwdrwtDsebsuDsdjtubstjttvyFnwFrwhDsFbshjsxAhiAhbAxgkirAxaAxDAgrAxrBxckyqBxEkynBxCBxBAwqBxqAwnBxnlyoszflymlylBwokyfDxolyvDxmBwlDxlAwfBwvDxvtzetzdlyenyulydnytBweDwuBwdbxuDwtbxttzFlyFnyhBwFDwhbwxAiqAinAyokjfAymAylAifAyvkzekzdAyeByuAydBytszp"
  CodeErr% = 0
  If Chaine$ = "" Then CodeErr% = 1: Exit Function
  'D?couper la chaine en blocs de caract?re de m?me type : num?rique ,
texte, octet
  'La 1?re colonne du tableau Liste% contient le nombre de caract?res,
la 2?me le commutateur de mode
  'Split the string in character blocks of the same type : numeric , text, byte
  'The first column of the array Liste% contain the char. number, the
second one contain the mode switch
  IndexChaine% = 1
  GoSub QuelMode
  Do
    ReDim Preserve Liste%(1, IndexListe%)
    Liste%(1, IndexListe%) = Mode%
    Do While Liste%(1, IndexListe%) = Mode%
      Liste%(0, IndexListe%) = Liste%(0, IndexListe%) + 1
      IndexChaine% = IndexChaine% + 1
      If IndexChaine% > Len(Chaine$) Then Exit Do
      GoSub QuelMode
    Loop
    IndexListe% = IndexListe% + 1
  Loop Until IndexChaine% > Len(Chaine$)
  'Ne garder le mode num?rique que si c'est "rentable", sinon mode
"texte" voire "octet"
  'Les seuils de rentabilit? ont ?t?s pr?-d?termin?s selon le mode
pr?c?dent et/ou le mode suivant
  'We retain "numeric" mode only if it's earning, else "text" mode or
even "byte" mode
  'The efficiency limits have been pre-defined according to the
previous mode and/or the next mode.
  For I% = 0 To IndexListe% - 1
    If Liste%(1, I%) = 902 Then
      If I% = 0 Then 'C'est le premier bloc / It's the first block
        If IndexListe% > 1 Then 'et il y en a d'autres derri?re / And
there is other blocks behind
          If Liste%(1, I% + 1) = 900 Then
            'Premier bloc et suivi par un bloc de type "texte" / First
block and followed by a "text" type block
            If Liste%(0, I%) < 8 Then Liste%(1, I%) = 900
          ElseIf Liste%(1, I% + 1) = 901 Then
            'Premier bloc et suivi par un bloc de type "octet" / First
block and followed by a "byte" type block
            If Liste%(0, I%) = 1 Then Liste%(1, I%) = 901
          End If
        End If
      Else
        'C'est pas le premier bloc / It's not the first block
        If I% = IndexListe% - 1 Then
          'C'est le dernier / It's the last one
          If Liste%(1, I% - 1) = 900 Then
            'Il est pr?c?d? par un bloc de type "texte" / It's
preceded by a "text" type block
            If Liste%(0, I%) < 7 Then Liste%(1, I%) = 900
          ElseIf Liste%(1, I% - 1) = 901 Then
            'Il est pr?c?d? par un bloc de type "octet" / It's
preceded by a "byte" type block
            If Liste%(0, I%) = 1 Then Liste%(1, I%) = 901
          End If
        Else
          'C'est pas le dernier / It's not the last block
          If Liste%(1, I% - 1) = 901 And Liste%(1, I% + 1) = 901 Then
            'Encadr? par des blocs de type "octet" / Framed by "byte"
type blocks
            If Liste%(0, I%) < 4 Then Liste%(1, I%) = 901
          ElseIf Liste%(1, I% - 1) = 900 And Liste%(1, I% + 1) = 901 Then
            'Pr?c?d? par "texte" et suivi par "octet" (Si l'inverse
jamais int?ressant de changer)
            'Preceded by "text" and followed by "byte" (If the reverse
it's never interesting to change)
            If Liste%(0, I%) < 5 Then Liste%(1, I%) = 900
          ElseIf Liste%(1, I% - 1) = 900 And Liste%(1, I% + 1) = 900 Then
            'Encadr? par des blocs de type "texte" / Framed by "text"
type blocks
            If Liste%(0, I%) < 8 Then Liste%(1, I%) = 900
          End If
        End If
      End If
    End If
  Next
  GoSub Regroupe
  'Ne garder le mode "texte" que si c'est rentable / Maintain "text"
mode only if it's earning
  For I% = 0 To IndexListe% - 1
    If Liste%(1, I%) = 900 And I% > 0 Then
      'C'est pas le premier (Si 1er jamais int?ressant de changer) /
It's not the first (If first, never interesting to change)
      If I% = IndexListe% - 1 Then 'C'est le dernier / It's the last one
        If Liste%(1, I% - 1) = 901 Then
          'Pr?c?d? par un bloc de type "octet" / It's  preceded by a
"byte" type block
          If Liste%(0, I%) = 1 Then Liste%(1, I%) = 901
        End If
      Else
        'C'est pas le dernier / It's not the last one
        If Liste%(1, I% - 1) = 901 And Liste%(1, I% + 1) = 901 Then
          'Encadr? par des blocs de type "octet" / Framed by "byte" type blocks
          If Liste%(0, I%) < 5 Then Liste%(1, I%) = 901
        ElseIf (Liste%(1, I% - 1) = 901 And Liste%(1, I% + 1) <> 901)
Or (Liste%(1, I% - 1) <> 901 And Liste%(1, I% + 1) = 901) Then
          'Un bloc "octet" devant ou derri?re / A "byte" block ahead or behind
          If Liste%(0, I%) < 3 Then Liste%(1, I%) = 901
        End If
      End If
    End If
  Next
  GoSub Regroupe
  'Maintenant on compacte les donn?es dans les MC, les MC sont
stock?es sur 3 car. dans une grande chaine : ChaineMC$
  'Now we compress datas into the MCs, the MCs are stored in 3 char.
in a large string : ChaineMC$
  IndexChaine% = 1
  For I% = 0 To IndexListe% - 1
    'Donc 3 modes de compactage / Thus 3 compaction modes
    Select Case Liste%(1, I%)
    Case 900 'Texte
      ReDim ListeT%(1, Liste%(0, I%))
      'ListeT% contiendra le num?ro de table(s) et la valeur de chaque caract?re
      'Num?ros de table cod?s sur les 4 bits de poids faibles, soit en
d?cimal 1, 2, 4, 8
      'ListeT% will contain the table number(s) (1 ou several) and the
value of each char.
      'Table number encoded in the 4 less weight bits, that is in
decimal 1, 2, 4, 8
      For IndexListeT% = 0 To Liste%(0, I%) - 1
        CodeASCII% = Asc(Mid$(Chaine$, IndexChaine% + IndexListeT%, 1))
        Select Case CodeASCII%
        Case 9 'HT
          ListeT%(0, IndexListeT%) = 12
          ListeT%(1, IndexListeT%) = 12
        Case 10 'LF
          ListeT%(0, IndexListeT%) = 8
          ListeT%(1, IndexListeT%) = 15
        Case 13 'CR
          ListeT%(0, IndexListeT%) = 12
          ListeT%(1, IndexListeT%) = 11
        Case Else
          ListeT%(0, IndexListeT%) = Mid$(ASCII$, CodeASCII% * 4 - 127, 2)
          ListeT%(1, IndexListeT%) = Mid$(ASCII$, CodeASCII% * 4 - 125, 2)
        End Select
      Next
      CurTable% = 1 'Table par d?faut / Default table
      ChaineT$ = ""
      'Les donn?es sont stock?es sur 2 car. dans la chaine TableT$ /
Datas are stored in 2 char. in the string TableT$
      For J% = 0 To Liste%(0, I%) - 1
        If (ListeT%(0, J%) And CurTable%) > 0 Then
          'Le car. est dans la table courante / The char. is in the
current table
          ChaineT$ = ChaineT$ & Format(ListeT%(1, J%), "00")
        Else
          'Faut changer de table / Obliged to change the table
          flag = False 'True si on change de table pour un seul car. /
True if we change the table only for 1 char.
          If J% = Liste%(0, I%) - 1 Then
            flag = True
          Else
            If (ListeT%(0, J%) And ListeT%(0, J% + 1)) = 0 Then flag =
True 'Pas de table commune avec le car. suivant / No common table with
the next char.
          End If
          If flag Then
            'On change de table pour 1 seul car., Chercher un
commutateur fugitif
            'We change only for 1 char., Look for a temporary switch
            If (ListeT%(0, J%) And 1) > 0 And CurTable% = 2 Then
              'Table 2 vers 1 pour 1 car. --> T_MAJ / Table 2 to 1 for
1 char. --> T_UPP
              ChaineT$ = ChaineT$ & "27" & Format(ListeT%(1, J%), "00")
            ElseIf (ListeT%(0, J%) And 8) > 0 Then
              'Table 1 ou 2 ou 4 vers table 8 pour 1 car. --> T_PON /
Table 1 or 2 or 4 to table 8 for 1 char. --> T_PUN
              ChaineT$ = ChaineT$ & "29" & Format(ListeT%(1, J%), "00")
            Else
              'Pas de commutateur fugitif / No temporary switch available
              flag = False
            End If
          End If
          If Not flag Then 'On re-teste flag qui a peut-?tre chang?
ci-dessus ! donc ELSE pas possible / We test again flag which is
perhaps changed ! Impossible tio use ELSE statement
            '
            'On doit utiliser un commutateur ? basculement
            'D?terminer la nouvelle table ? utiliser
            'We must use a bi-state switch
            'Looking for the new table to use
            If J% = Liste%(0, I%) - 1 Then
              NewTable% = ListeT%(0, J%)
            Else
              NewTable% = IIf((ListeT%(0, J%) And ListeT%(0, J% + 1))
= 0, ListeT%(0, J%), ListeT%(0, J%) And ListeT%(0, J% + 1))
            End If
            'Ne garder que la premi?re s'il y en a plusieurs de
possible / Maintain the first if several tables are possible
            Select Case NewTable%
            Case 3, 5, 7, 9, 11, 13, 15
              NewTable% = 1
            Case 6, 10, 14
              NewTable% = 2
            Case 12
              NewTable% = 4
            End Select
            'Choisir le commutateur, parfois il faut 2 commutateurs de
suite / Select the switch, on occasion we must use 2 switchs
consecutively
            Select Case CurTable%
            Case 1
              Select Case NewTable%
              Case 2
                ChaineT$ = ChaineT$ & "27"
              Case 4
                ChaineT$ = ChaineT$ & "28"
              Case 8
                ChaineT$ = ChaineT$ & "2825"
              End Select
            Case 2
              Select Case NewTable%
              Case 1
                ChaineT$ = ChaineT$ & "2828"
              Case 4
                ChaineT$ = ChaineT$ & "28"
              Case 8
                ChaineT$ = ChaineT$ & "2825"
              End Select
            Case 4
              Select Case NewTable%
              Case 1
                ChaineT$ = ChaineT$ & "28"
              Case 2
                ChaineT$ = ChaineT$ & "27"
              Case 8
                ChaineT$ = ChaineT$ & "25"
              End Select
            Case 8
              Select Case NewTable%
              Case 1
                ChaineT$ = ChaineT$ & "29"
              Case 2
                ChaineT$ = ChaineT$ & "2927"
              Case 4
                ChaineT$ = ChaineT$ & "2928"
              End Select
            End Select
            CurTable% = NewTable%
            ChaineT$ = ChaineT$ & Format(ListeT%(1, J%), "00") 'On
ajoute enfin le car. / At last we add the char.
          End If
        End If
      Next
      If Len(ChaineT$) Mod 4 > 0 Then ChaineT$ = ChaineT$ & "29"
'Bourrage si nb de car. impair / Padding if number of char. is odd
      'Maintenant traduire la chaine ChaineT$ en MCs
      'Now translate the string ChaineT$ into CWs
      If I% > 0 Then ChaineMC$ = ChaineMC$ & "900" 'Mettre en place le
commutateur sauf si premier bloc car mode "texte" par d?faut / Set up
the switch exept for the first block because "text" is the default
      For J% = 1 To Len(ChaineT$) Step 4
        ChaineMC$ = ChaineMC$ & Format(Mid$(ChaineT$, J%, 2) * 30 +
Mid$(ChaineT$, J% + 2, 2), "000")
      Next
    Case 901 'Octet
      'Choisir le commutateur parmi les 3 possibles / Select the
switch between the 3 possible
      If Liste%(0, I%) = 1 Then
        '1 seul octet, c'est imm?diat
        ChaineMC$ = ChaineMC$ & "913" & Format(Asc(Mid$(Chaine$,
IndexChaine%, 1)), "000")
      Else
        'Choisir le commutateur selon qu'on a un multiple de 6 octets ou non
        'Select the switch for perfect multiple of 6 bytes or no
        If Liste%(0, I%) Mod 6 = 0 Then
          ChaineMC$ = ChaineMC$ & "924"
        Else
          ChaineMC$ = ChaineMC$ & "901"
        End If
        J% = 0
        Do While J% < Liste%(0, I%)
          Longueur% = Liste%(0, I%) - J%
          If Longueur% >= 6 Then
            'prendre des paquets de 6 /Take groups of 6
            Longueur% = 6
            Total = 0
            For K% = 0 To Longueur% - 1
              Total = Total + (Asc(Mid$(Chaine$, IndexChaine% + J% +
K%, 1)) * 256 ^ (Longueur% - 1 - K%))
            Next
            ChaineMod$ = Format(Total, "general number")
            Dummy$ = ""
            Do
              Diviseur& = 900
              GoSub Modulo
              Dummy$ = Format(Diviseur&, "000") & Dummy$
              ChaineMod$ = ChaineMult$
              If ChaineMult$ = "" Then Exit Do
            Loop
            ChaineMC$ = ChaineMC$ & Dummy$
          Else
            'S'il reste un paquet de moins de 6 octets / If it remain
a group of less than 6 bytes
            For K% = 0 To Longueur% - 1
              ChaineMC$ = ChaineMC$ & Format(Asc(Mid$(Chaine$,
IndexChaine% + J% + K%, 1)), "000")
            Next
          End If
          J% = J% + Longueur%
        Loop
      End If
    Case 902 'Num?rique / Numeric
      ChaineMC$ = ChaineMC$ & "902"
      J% = 0
      Do While J% < Liste%(0, I%)
        Longueur% = Liste%(0, I%) - J%
        If Longueur% > 44 Then Longueur% = 44
        ChaineMod$ = "1" & Mid$(Chaine$, IndexChaine% + J%, Longueur%)
        Dummy$ = ""
        Do
          Diviseur& = 900
          GoSub Modulo
          Dummy$ = Format(Diviseur&, "000") & Dummy$
          ChaineMod$ = ChaineMult$
          If ChaineMult$ = "" Then Exit Do
        Loop
        ChaineMC$ = ChaineMC$ & Dummy$
        J% = J% + Longueur%
      Loop
      Debug.Print ChaineMC
    End Select
    IndexChaine% = IndexChaine% + Liste%(0, I%)
  Next
  'ChaineMC$ contient la liste des MC (sur 3 chiffres) repr?sentant les donn?es
  'On s'occupe maintenant du niveau de correction
  'ChaineMC$ contain the MC list (on 3 digits) depicting the datas
  'Now we take care of the correction level
  Longueur% = Len(ChaineMC$) / 3
  If s?cu% < 0 Then
    'D?termination auto. du niveau de correction en fonction des
recommandations de la norme
    'Fixing auto. the correction level according to the standard recommendations
    If Longueur% < 41 Then
      s?cu% = 2
    ElseIf Longueur% < 161 Then
      s?cu% = 3
    ElseIf Longueur% < 321 Then
      s?cu% = 4
    Else
      s?cu% = 5
    End If
  End If
  'On s'occupe maintenant du nombre de MC par ligne / Now we take care
of the number of CW per row
  Longueur% = Longueur% + 1 + (2 ^ (s?cu% + 1))
  If nbcol% > 30 Then nbcol% = 30
  If nbcol% < 1 Then
    'Avec une police haute de 3 modules, pour obtenir un code-barre "carr?"
    'x = nb. de col. | Largeur en module = 69 + 17x | Hauteur en
module = 3t / x (t ?tant le nb total de MC)
    'On a donc 69 + 17x = 3t/x <=> 17x?+69x-3t=0 - Le discriminant est
69?-4*17*-3t = 4761+204t donc x=SQR(discr.)-69/2*17
    '
    'With a 3 modules high font, for getting a "square" bar code
    'x = nb. of col. | Width by module = 69 + 17x | Height by module =
3t / x (t is the total number of MCs)
    'Thus we have 69 + 17x = 3t/x <=> 17x?+69x-3t=0 - Discriminant is
69?-4*17*-3t = 4761+204t thus x=SQR(discr.)-69/2*17
    nbcol% = (Sqr(204# * Longueur% + 4761) - 69) / (34 / 1.3)   '1.3 =
coeff. de pond?ration d?termin? au pif apr?s essais / 1.3 = balancing
factor determined at a guess after tests
    If nbcol% = 0 Then nbcol% = 1
  End If
  'Si on d?passe 928 MC on essaye de r?duire le niveau de correction
  'If we go beyong 928 CWs we try to reduce the correction level
  Do While s?cu% > 0
    'Calcul du nombre total de MC en tenant compte du rembourrage pour
compl?ter les lignes
    'Calculation of the total number of CW with the padding
    Longueur% = Len(ChaineMC$) / 3 + 1 + (2 ^ (s?cu% + 1))
    Longueur% = (Longueur% \ nbcol% + IIf(Longueur% Mod nbcol% > 0, 1,
0)) * nbcol%
    If Longueur% < 929 Then Exit Do
    'On doit r?duire le niveau de s?curit? pour tout faire rentrer
    'We must reduce security level
    s?cu% = s?cu% - 1
    CodeErr% = 10
  Loop
  If Longueur% > 928 Then CodeErr% = 2: Exit Function
  If Longueur% / nbcol% > 90 Then CodeErr% = 3: Exit Function
  'Calcul du rembourrage / Padding calculation
  Longueur% = Len(ChaineMC$) / 3 + 1 + (2 ^ (s?cu% + 1))
  I% = 0
  If Longueur% \ nbcol% < 3 Then
    I% = nbcol% * 3 - Longueur%   'Il faut au moins 3 lignes dans le
code / A bar code must have at least 3 row
  Else
    If Longueur% Mod nbcol% > 0 Then I% = nbcol% - (Longueur% Mod nbcol%)
  End If
  'On ajoute le rembourrage / We add the padding
  Do While I% > 0
    ChaineMC$ = ChaineMC$ & "900"
    I% = I% - 1
  Loop
  'On ajoute le descripteur de longueur / We add the length descriptor
  ChaineMC$ = Format(Len(ChaineMC$) / 3 + 1, "000") & ChaineMC$
  'On s'occupe maintenant des codes de Reed Solomon / Now we take care
of the Reed Solomon codes
  Longueur% = Len(ChaineMC$) / 3
  K% = 2 ^ (s?cu% + 1)
  ReDim MCcorrection%(K% - 1)
  Total = 0
  For I% = 0 To Longueur% - 1
    Total = (Mid$(ChaineMC$, I% * 3 + 1, 3) + MCcorrection%(K% - 1)) Mod 929
    For J% = K% - 1 To 0 Step -1
      If J% = 0 Then
        MCcorrection%(J%) = (929 - (Total * Mid$(CoefRS$(s?cu%), J% *
3 + 1, 3)) Mod 929) Mod 929
      Else
        MCcorrection%(J%) = (MCcorrection%(J% - 1) + 929 - (Total *
Mid$(CoefRS$(s?cu%), J% * 3 + 1, 3)) Mod 929) Mod 929
      End If
    Next
  Next
  For J% = 0 To K% - 1
    If MCcorrection%(J%) <> 0 Then MCcorrection%(J%) = 929 - MCcorrection%(J%)
  Next
  'On va ajouter les codes de correction ? la chaine / We add theses
codes to the string
  For I% = K% - 1 To 0 Step -1
    ChaineMC$ = ChaineMC$ & Format(MCcorrection%(I%), "000")
  Next
  'La chaine des MC est termin?e
  'Calcul des param?tres pour les MC de cot?s gauche et droit
  'The CW string is finished
  'Calculation of parameters for the left and right side CWs
  C1% = (Len(ChaineMC$) / 3 / nbcol% - 1) \ 3
  C2% = s?cu% * 3 + (Len(ChaineMC$) / 3 / nbcol% - 1) Mod 3
  C3% = nbcol% - 1
  'On encode chaque ligne / We encode each row
  For I% = 0 To Len(ChaineMC$) / 3 / nbcol% - 1
    Dummy$ = Mid$(ChaineMC$, I% * nbcol% * 3 + 1, nbcol% * 3)
    K% = (I% \ 3) * 30
    Select Case I% Mod 3
    Case 0
      Dummy$ = Format(K% + C1%, "000") & Dummy$ & Format(K% + C3%, "000")
    Case 1
      Dummy$ = Format(K% + C2%, "000") & Dummy$ & Format(K% + C1%, "000")
    Case 2
      Dummy$ = Format(K% + C3%, "000") & Dummy$ & Format(K% + C2%, "000")
    End Select
    pdf417$ = pdf417$ & "+*" 'Commencer par car. de start et
s?parateur / Start with a start char. and a separator
    For J% = 0 To Len(Dummy$) / 3 - 1
      pdf417$ = pdf417$ & Mid$(CodageMC$(I% Mod 3), Mid$(Dummy$, J% *
3 + 1, 3) * 3 + 1, 3) & "*"
    Next
    pdf417$ = pdf417$ & "-" & Chr$(13) & Chr$(10) 'Ajouter car. de
stop et CRLF / Add a stop char. and a CRLF
  Next
  Exit Function
Regroupe:
  'Regrouper les blocs de m?me type / Bring together same type blocks
  If IndexListe% > 1 Then
    I% = 1
    Do While I% < IndexListe%
      If Liste%(1, I% - 1) = Liste%(1, I%) Then
        'Regroupement / Bringing together
        Liste%(0, I% - 1) = Liste%(0, I% - 1) + Liste%(0, I%)
        J% = I% + 1
        'R?duction de la liste / Decrease the list
        Do While J% < IndexListe%
          Liste%(0, J% - 1) = Liste%(0, J%)
          Liste%(1, J% - 1) = Liste%(1, J%)
          J% = J% + 1
        Loop
        IndexListe% = IndexListe% - 1
        I% = I% - 1
      End If
      I% = I% + 1
    Loop
  End If
Return
QuelMode:
  CodeASCII% = Asc(Mid$(Chaine$, IndexChaine%, 1))
  Select Case CodeASCII%
  Case 48 To 57
    Mode% = 902
  Case 9, 10, 13, 32 To 126
    Mode% = 900
  Case Else
    Mode% = 901
  End Select
Return
Modulo:
  'ChaineMod$ repr?sente un tr?s grand nombre sur plus de 9 chiffres
  'Diviseur& est le diviseur, contient le r?sultat au retour
  'ChaineMult$ contient au retour le r?sultat de la division enti?re
  '
  'ChaineMod$ depict a very large number having more than 9 digits
  'Diviseur& is the divisor, contain the result after return
  'ChaineMult$ contain after return the result of the integer division
  ChaineMult$ = ""
  Nombre& = 0
  Do While ChaineMod$ <> ""
    Nombre& = Nombre& * 10 + Left$(ChaineMod$, 1) 'Abaisse un chiffre
/ Put down a digit
    ChaineMod$ = Mid$(ChaineMod$, 2)
    If Nombre& < Diviseur& Then
      If ChaineMult$ <> "" Then ChaineMult$ = ChaineMult$ & "0"
    Else
      ChaineMult$ = ChaineMult$ & Nombre& \ Diviseur&
    End If
    Nombre& = Nombre& Mod Diviseur& 'R?cup?re le reste / get the remainder
  Loop
  Diviseur& = Nombre&
Return
End Function


2010/2/5 Viktor Szak?ts <harbour.01@syenar.hu>:
> Thank you. Forgot to mention but I need something in .prg code.
>
> Brgds,
> Viktor
>
> On 2010 Feb 5, at 12:42, Mindaugas Kavaliauskas wrote:
>
>> Hi,
>>
>>
>>> Does anyone have source code to generate PDF417 barcodes?
>>> (using .ttf file or graphical shapes if possible)
>>
>> http://sourceforge.net/projects/pdf417lib/
>>
>>
>> Regards,
>> Mindaugas
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From harbour.01 at syenar.hu  Fri Feb  5 07:12:07 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  5 07:12:17 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <4B6C09B2.1080900@dbtopas.lt>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>	<4B6C0439.5020406@dbtopas.lt>
	<A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>
	<4B6C09B2.1080900@dbtopas.lt>
Message-ID: <6A5ED9C0-2CA6-4D86-93C3-0C5506366FFF@syenar.hu>

> Viktor Szak?ts wrote:
>> Thank you. Forgot to mention but I need something in .prg code.
>>>> Does anyone have source code to generate PDF417 barcodes?
>>>> (using .ttf file or graphical shapes if possible)
>>> http://sourceforge.net/projects/pdf417lib/
> 
> 
> Simple .prg wrapper could be used. I guess source can also be converted to .prg in less than a day.

That's exactly what I wanted to avoid 
hoping that someone has already done it.

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Fri Feb  5 07:13:52 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb  5 07:14:15 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu><4B6C0439.5020406@dbtopas.lt>
	<A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D8CEF7@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Friday, February 05, 2010 12:52 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] OFF: PDF417 barcode
>
>Thank you. Forgot to mention but I need something in .prg code.

This class work too in Clipper.

Regards,
Marek Horodyski
-------------- next part --------------
A non-text attachment was scrubbed...
Name: BLANKIET.ZIP
Type: application/x-zip-compressed
Size: 4299 bytes
Desc: BLANKIET.ZIP
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/f1587009/BLANKIET.bin
From harbour.01 at syenar.hu  Fri Feb  5 07:14:09 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  5 07:14:22 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <609353e71002050407g6b1d7bbdp462610335abcd2ea@mail.gmail.com>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
	<4B6C0439.5020406@dbtopas.lt>
	<A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>
	<609353e71002050407g6b1d7bbdp462610335abcd2ea@mail.gmail.com>
Message-ID: <B67DFBF9-C57D-4792-B613-B4060F42A4A7@syenar.hu>

My bad, thank you, I've found now this code inside the package.

Converting from VB to Harbour is simple s&r for the most part.

Brgds,
Viktor

On 2010 Feb 5, at 13:07, Massimo Belgrano wrote:

> Here is visual basic part
> good for you  a way like
> oPrn := win_prn():New(GetDefaultPrinter())
> oPrn:SetFont("code128",11,,,,255)  // please try different   value
> oPrn:TextOut(pdf417("ABC"),.t.)
> oPrn:NewPage()
> 
> or
> oPrinter       := xbpPrinter():New():Create(cPrinter, PRN_Q_TEXT )
> 
> 
> Private Function pdf417$(Chaine$, Optional ByRef s?cu%, Optional ByRef
> nbcol%, Optional ByRef CodeErr%)
>  'V 1.5.0
>  'Param?tres : Une chaine ? encoder
>  '             Le niveau de correction souhait?, -1 = automatique.
>  '             Le nombre de colonnes de MC de donn?es souhait?, -1 =
> automatique
>  '             Une variable qui pourra r?cup?rer un num?ro d'erreur
>  'Retour : * une chaine qui, affich?e avec la police PDF417.TTF,
> donne le code barre
>  '         * une chaine vide si param?tre fourni incorrect
>  '         * S?cu% contient le niveau de correction effectif
>  '         * NbCol% contient le nombre de colonnes de MC de donn?es effectif
>  '         * Codeerr% contient 0 si pas d'erreur, sinon :
>  '           0 : Pas d'erreur
>  '           1  : Chaine$ est vide
>  '           2  : Chaine$ contient trop de donn?es, on d?passe le
> nombre de 928 MC.
>  '           3  : Nombre de MC par ligne trop faible, on d?passe 90 lignes.
>  '           10 : Le niveau de s?curit? a ?t? abaiss? pour ne pas
> d?passer les 928 MC.
> 
>  'Parameters : The string to encode.
>  '             The hoped s?curity level, -1 = automatic.
>  '             The hoped number of data MC columns, -1 = automatic.
>  '             A variable which will can retrieve an error number.
>  'Return : * a string which, printed with the PDF417.TTF font, gives
> the bar code.
>  '         * an empty string if the given parameters aren't good.
>  '         * s?cu% contain le really used s?curity level.
>  '         * NbCol% contain the really used number of data CW columns.
>  '         * Codeerr% is 0 if no error occured, else :
>  '           0  : No error
>  '           1  : Chaine$ is empty
>  '           2  : Chaine$ contain too many datas, we go beyong the 928 CWs.
>  '           3  : Number of CWs per row too small, we go beyong 90 rows.
>  '           10 : The s?curity level has being lowers not to exceed
> the 928 CWs. (It's not an error, only a warning.)
> 
>  'Variables g?n?rales / Global variables
>  Dim I%, J%, K%, IndexChaine%, Dummy$, flag As Boolean
>  'D?coupage en blocs / Splitting into blocks
>  Dim Liste%(), IndexListe%
>  'Compactage des donn?es / Data compaction
>  Dim Longueur%, ChaineMC$, Total
>  'Traitement du mode "texte" / "text" mode processing
>  Dim ListeT%(), IndexListeT%, CurTable%, ChaineT$, NewTable%
>  'Codes de Reed Solomon / Reed Solomon codes
>  Dim MCcorrection%()
>  'MC de cot?s gauche et droit / Left and right side CWs
>  Dim C1%, C2%, C3%
>  'Sous programme QuelMode / Sub routine QuelMode
>  Dim Mode%, CodeASCII%
>  'Sous programme Modulo / Sub routine Modulo
>  Dim ChaineMod$, Diviseur&, ChaineMult$, Nombre&
>  'Tables
>  Dim ASCII$
>  'Cette chaine d?crit le code ASCII pour le mode "texte".
>  'ASCII$ contient 95 champs de 4 chiffres correspondant aux car. de
> valeur ASCII 32 ? 126. Les champs sont :
>  '  2 chiffres indiquant la ou les tables o? se trouvent ce car.
> (Tables num?rot?es 1, 2, 4 et 8)
>  '  2 chiffres indiquant le N? du car. dans la table
>  '  Ex. 0726 en d?but de chaine : le car. de code 32 est dans les
> tables 1, 2 et 4 ? la ligne 26
>  '
>  'This string describe the ASCII code for the "text" mode.
>  'ASCII$ contain 95 fields of 4 digits which correspond to char.
> ASCII values 32 to 126. These fields are :
>  '  2 digits indicating the table(s) (1 or several) where this char.
> is located. (Table numbers : 1, 2, 4 and 8)
>  '  2 digits indicating the char. number in the table
>  '  Sample : 0726 at the beginning of the string : The Char. having
> code 32 is in the tables 1, 2 and 4 at row 26
>  ASCII$ = "07260810082004151218042104100828082308241222042012131216121712190400040104020403040404050406040704080409121408000801042308020825080301000101010201030104010501060107010801090110011101120113011401150116011701180119012001210122012301240125080408050806042408070808020002010202020302040205020602070208020902100211021202130214021502160217021802190220022102220223022402250826082108270809"
>  Dim CoefRS$(8)
>  'CoefRS$ contient 8 chaines repr?sentant les coefficients sur 3
> chiffres des polynomes de calcul des codes de reed Solomon
>  'CoefRS$ contain 8 strings describing the factors of the polynomial
> equations for the reed Solomon codes.
>  CoefRS$(0) = "027917"
>  CoefRS$(1) = "522568723809"
>  CoefRS$(2) = "237308436284646653428379"
>  CoefRS$(3) = "274562232755599524801132295116442428295042176065"
>  CoefRS$(4) = "361575922525176586640321536742677742687284193517273494263147593800571320803133231390685330063410"
>  CoefRS$(5) = "539422006093862771453106610287107505733877381612723476462172430609858822543376511400672762283184440035519031460594225535517352605158651201488502648733717083404097280771840629004381843623264543"
>  CoefRS$(6) = "521310864547858580296379053779897444400925749415822093217208928244583620246148447631292908490704516258457907594723674292272096684432686606860569193219129186236287192775278173040379712463646776171491297763156732095270447090507048228821808898784663627378382262380602754336089614087432670616157374242726600269375898845454354130814587804034211330539297827865037517834315550086801004108539"
>  CoefRS$(7) = "524894075766882857074204082586708250905786138720858194311913275190375850438733194280201280828757710814919089068569011204796605540913801700799137439418592668353859370694325240216257284549209884315070329793490274877162749812684461334376849521307291803712019358399908103511051008517225289470637731066255917269463830730433848585136538906090002290743199655903329049802580355588188462010134628320479130739071263318374601192605142673687234722384177752607640455193689707805641048060732621895544261852655309697755756060231773434421726528503118049795032144500238836394280566319009647550073914342126032681331792620060609441180791893754605383228749760213054297134054834299922191910532609829189020167029872449083402041656505579481173404251688095497555642543307159924558648055497010"
>  CoefRS$(8) = "352077373504035599428207409574118498285380350492197265920155914299229643294871306088087193352781846075327520435543203666249346781621640268794534539781408390644102476499290632545037858916552041542289122272383800485098752472761107784860658741290204681407855085099062482180020297451593913142808684287536561076653899729567744390513192516258240518794395768848051610384168190826328596786303570381415641156237151429531207676710089168304402040708575162864229065861841512164477221092358785288357850836827736707094008494114521002499851543152729771095248361578323856797289051684466533820669045902452167342244173035463651051699591452578037124298332552043427119662777475850764364578911283711472420245288594394511327589777699688043408842383721521560644714559062145873663713159672729"
>  CoefRS$(8) = CoefRS$(8) &
> "624059193417158209563564343693109608563365181772677310248353708410579870617841632860289536035777618586424833077597346269757632695751331247184045787680018066407369054492228613830922437519644905789420305441207300892827141537381662513056252341242797838837720224307631061087560310756665397808851309473795378031647915459806590731425216548249321881699535673782210815905303843922281073469791660162498308155422907817187062016425535336286437375273610296183923116667751353062366691379687842037357720742330005039923311424242749321054669316342299534105667488640672576540316486721610046656447171616464190531297321762752533175134014381433717045111020596284736138646411877669141919045780407164332899165726600325498655357752768223849647063310863251366304282738675410389244031121303263"
>  Dim CodageMC$(2)
>  'CodageMC$ contient les 3 jeux des 929 MC. Chaque MC est repr?sent?
> dans la police PDF417.TTF par 3 lettres composant 3 fois 5 bits. Le
> premier bit toujours ? 1
>  ' et le dernier toujours ? 0 se trouvent dans le caract?re s?parateur.
>  'CodageMC$ contain the 3 sets of the 929 MCs. Each MC is described
> in the PDF417.TTF font by 3 char. composing 3 time 5 bits. The first
> bit which is always 1
>  ' and the last one which is always 0 are into the separator character.
>  CodageMC$(0) =
> "urAxfsypyunkxdwyozpDAulspBkeBApAseAkprAuvsxhypnkutwxgzfDAplsfBkfrApvsuxyfnkptwuwzflspsyfvspxyftwpwzfxyyrxufkxFwymzonAudsxEyolkucwdBAoksucidAkokgdAcovkuhwxazdnAotsugydlkoswugjdksosidvkoxwuizdtsowydswowjdxwoyzdwydwjofAuFsxCyodkuEwxCjclAocsuEickkocgckcckEcvAohsuayctkogwuajcssogicsgcsacxsoiycwwoijcwicyyoFkuCwxBjcdAoEsuCicckoEguCbcccoEaccEoEDchkoawuDjcgsoaicggoabcgacgDobjcibcFAoCsuBicEkoCguBbcEcoCacEEoCDcECcascagcaacCkuAroBaoBDcCBtfkwpwyezmnAtdswoymlktcwwojFBAmksFAkmvkthwwqzFnAmtstgyFlkmswFksFkgFvkmxwtizFtsmwyFswFsiFxwmyzFwyFyzvfAxpsyuyvdkxowyujqlAvcsxoiqkkvcgxobqkcvcamfAtFswmyqvAmdktEwwmjqtkvgwxqjhlAEkkmcgtEbhkkqsghkcEvAmhstayhvAEtkmgwtajhtkqwwvijhssEsghsgExsmiyhxsEwwmijhwwqyjhwiEyyhyyEyjhyjvFkxmwytjqdAvEsxmiqckvEgxmbqccvEaqcEqcCmFktCwwljqhkmEstCigtAEckvaitCbgskEccmEagscqgamEDEcCEhkmawtDjgxkEgsmaigwsqiimabgwgEgaEgDEiwmbjgywEiigyiEibgybgzjqFAvCsxliqEkvCgxlbqEcvCaqEEvCDqECqEBEFAmCstBighAEEkmCgtBbggkqagvDbggcEEEmCDggEqaDgg"
>  CodageMC$(0) = CodageMC$(0) &
> "CEasmDigisEagmDbgigqbbgiaEaDgiDgjigjbqCkvBgxkrqCcvBaqCEvBDqCCqCBECkmBgtArgakECcmBagacqDamBDgaEECCgaCECBEDggbggbagbDvAqvAnqBBmAqEBEgDEgDCgDBlfAspsweyldksowClAlcssoiCkklcgCkcCkECvAlhssqyCtklgwsqjCsslgiCsgCsaCxsliyCwwlijCwiCyyCyjtpkwuwyhjndAtoswuincktogwubncctoancEtoDlFksmwwdjnhklEssmiatACcktqismbaskngglEaascCcEasEChklawsnjaxkCgstrjawsniilabawgCgaawaCiwlbjaywCiiayiCibCjjazjvpAxusyxivokxugyxbvocxuavoExuDvoCnFAtmswtirhAnEkxviwtbrgkvqgxvbrgcnEEtmDrgEvqDnEBCFAlCssliahACEklCgslbixAagknagtnbiwkrigvrblCDiwcagEnaDiwECEBCaslDiaisCaglDbiysaignbbiygrjbCaDaiDCbiajiCbbiziajbvmkxtgywrvmcxtavmExtDvmCvmBnCktlgwsrraknCcxtrracvnatlDraEnCCraCnCBraBCCklBgskraakCCclBaiikaacnDalBDiicrbaCCCiiEaaCCCBaaBCDglBrabgCDaijgabaCDDijaabDCDrijrvlcxsqvlExsnvlCvlBnBctkqrDcnBEtknrDEvlnrDCnBBrDBCBclAqaDcCBElAnibcaDEnBnibErDnCBBibCaDBibBaDqibqibnxsfvkltkfnAmnAlCAoaBoiDoCAlaBlkpkBdAkosBckkogsebBcckoaBcEkoDBhkkqwsfjBgskqiBggkqbBgaBgDBiwkrjBiiBibBjjlpAsuswhil"
>  CodageMC$(0) = CodageMC$(0) &
> "oksuglocsualoEsuDloCBFAkmssdiDhABEksvisdbDgklqgsvbDgcBEEkmDDgElqDBEBBaskniDisBagknbDiglrbDiaBaDBbiDjiBbbDjbtukwxgyirtucwxatuEwxDtuCtuBlmkstgnqklmcstanqctvastDnqElmCnqClmBnqBBCkklgDakBCcstrbikDaclnaklDbicnraBCCbiEDaCBCBDaBBDgklrDbgBDabjgDbaBDDbjaDbDBDrDbrbjrxxcyyqxxEyynxxCxxBttcwwqvvcxxqwwnvvExxnvvCttBvvBllcssqnncllEssnrrcnnEttnrrEvvnllBrrCnnBrrBBBckkqDDcBBEkknbbcDDEllnjjcbbEnnnBBBjjErrnDDBjjCBBqDDqBBnbbqDDnjjqbbnjjnxwoyyfxwmxwltsowwfvtoxwvvtmtslvtllkossfnlolkmrnonlmlklrnmnllrnlBAokkfDBolkvbDoDBmBAljbobDmDBljbmbDljblDBvjbvxwdvsuvstnkurlurltDAubBujDujDtApAAokkegAocAoEAoCAqsAqgAqaAqDAriArbkukkucshakuEshDkuCkuBAmkkdgBqkkvgkdaBqckvaBqEkvDBqCAmBBqBAngkdrBrgkvrBraAnDBrDAnrBrrsxcsxEsxCsxBktclvcsxqsgnlvEsxnlvCktBlvBAlcBncAlEkcnDrcBnEAlCDrEBnCAlBDrCBnBAlqBnqAlnDrqBnnDrnwyowymwylswotxowyvtxmswltxlksosgfltoswvnvoltmkslnvmltlnvlAkokcfBloksvDnoBlmAklbroDnmBllbrmDnlAkvBlvDnvbrvyzeyzdwyexyuwydxytswetwuswdvxutwtvxtkselsuksdntulstrvu"
>  CodageMC$(1) =
> "ypkzewxdAyoszeixckyogzebxccyoaxcEyoDxcCxhkyqwzfjutAxgsyqiuskxggyqbuscxgausExgDusCuxkxiwyrjptAuwsxiipskuwgxibpscuwapsEuwDpsCpxkuywxjjftApwsuyifskpwguybfscpwafsEpwDfxkpywuzjfwspyifwgpybfwafywpzjfyifybxFAymszdixEkymgzdbxEcymaxEEymDxECxEBuhAxasyniugkxagynbugcxaaugExaDugCugBoxAuisxbiowkuigxbbowcuiaowEuiDowCowBdxAoysujidwkoygujbdwcoyadwEoyDdwCdysozidygozbdyadyDdzidzbxCkylgzcrxCcylaxCEylDxCCxCBuakxDgylruacxDauaExDDuaCuaBoikubgxDroicubaoiEubDoiCoiBcykojgubrcycojacyEojDcyCcyBczgojrczaczDczrxBcykqxBEyknxBCxBBuDcxBquDExBnuDCuDBobcuDqobEuDnobCobBcjcobqcjEobncjCcjBcjqcjnxAoykfxAmxAluBoxAvuBmuBloDouBvoDmoDlcbooDvcbmcblxAexAduAuuAtoBuoBtwpAyeszFiwokyegzFbwocyeawoEyeDwoCwoBthAwqsyfitgkwqgyfbtgcwqatgEwqDtgCtgBmxAtiswrimwktigwrbmwctiamwEtiDmwCmwBFxAmystjiFwkmygtjbFwcmyaFwEmyDFwCFysmziFygmzbFyaFyDFziFzbyukzhghjsyuczhahbwyuEzhDhDyyuCyuBwmkydgzErxqkwmczhrxqcyvaydDxqEwmCxqCwmBxqBtakwngydrviktacwnavicxrawnDviEtaCviCtaBviBmiktbgwnrqykmictb"
>  CodageMC$(1) = CodageMC$(1) &
> "aqycvjatbDqyEmiCqyCmiBqyBEykmjgtbrhykEycmjahycqzamjDhyEEyChyCEyBEzgmjrhzgEzahzaEzDhzDEzrytczgqgrwytEzgngnyytCglzytBwlcycqxncwlEycnxnEytnxnCwlBxnBtDcwlqvbctDEwlnvbExnnvbCtDBvbBmbctDqqjcmbEtDnqjEvbnqjCmbBqjBEjcmbqgzcEjEmbngzEqjngzCEjBgzBEjqgzqEjngznysozgfgfyysmgdzyslwkoycfxloysvxlmwklxlltBowkvvDotBmvDmtBlvDlmDotBvqbovDvqbmmDlqblEbomDvgjoEbmgjmEblgjlEbvgjvysegFzysdwkexkuwkdxkttAuvButAtvBtmBuqDumBtqDtEDugbuEDtgbtysFwkFxkhtAhvAxmAxqBxwekyFgzCrwecyFaweEyFDweCweBsqkwfgyFrsqcwfasqEwfDsqCsqBliksrgwfrlicsraliEsrDliCliBCykljgsrrCycljaCyEljDCyCCyBCzgljrCzaCzDCzryhczaqarwyhEzananyyhCalzyhBwdcyEqwvcwdEyEnwvEyhnwvCwdBwvBsncwdqtrcsnEwdntrEwvntrCsnBtrBlbcsnqnjclbEsnnnjEtrnnjClbBnjBCjclbqazcCjElbnazEnjnazCCjBazBCjqazqCjnaznzioirsrfyziminwrdzzililyikzygozafafyyxozivivyadzyxmyglitzyxlwcoyEfwtowcmxvoyxvwclxvmwtlxvlslowcvtnoslmvrotnmsllvrmtnlvrllDoslvnbolDmrjonbmlDlrjmnblrjlCbolDvajoCbmizoajmCblizmajlizlCbvajvzieifwrFzzididyiczygeaFzywuy"
>  CodageMC$(1) = CodageMC$(1) &
> "gdihzywtwcewsuwcdxtuwstxttskutlusktvnutltvntlBunDulBtrbunDtrbtCDuabuCDtijuabtijtziFiFyiEzygFywhwcFwshxsxskhtkxvlxlAxnBxrDxCBxaDxibxiCzwFcyCqwFEyCnwFCwFBsfcwFqsfEwFnsfCsfBkrcsfqkrEsfnkrCkrBBjckrqBjEkrnBjCBjBBjqBjnyaozDfDfyyamDdzyalwEoyCfwhowEmwhmwElwhlsdowEvsvosdmsvmsdlsvlknosdvlroknmlrmknllrlBboknvDjoBbmDjmBblDjlBbvDjvzbebfwnpzzbdbdybczyaeDFzyiuyadbhzyitwEewguwEdwxuwgtwxtscustuscttvustttvtklulnukltnrulntnrtBDuDbuBDtbjuDbtbjtjfsrpyjdwrozjcyjcjzbFbFyzjhjhybEzjgzyaFyihyyxwEFwghwwxxxxschssxttxvvxkkxllxnnxrrxBBxDDxbbxjFwrmzjEyjEjbCzjazjCyjCjjBjwCowCmwClsFowCvsFmsFlkfosFvkfmkflArokfvArmArlArvyDeBpzyDdwCewauwCdwatsEushusEtshtkdukvukdtkvtAnuBruAntBrtzDpDpyDozyDFybhwCFwahwixsEhsgxsxxkcxktxlvxAlxBnxDrxbpwnuzboybojDmzbqzjpsruyjowrujjoijobbmyjqybmjjqjjmwrtjjmijmbbljjnjjlijlbjkrsCusCtkFukFtAfuAftwDhsChsaxkExkhxAdxAvxBuzDuyDujbuwnxjbuibubDtjbvjjusrxijugrxbjuajuDbtijvibtbjvbjtgrwrjtajtDbsrjtrjsqjsnBxjDxiDxbbxgnyrbxabxDDwrbxrbwqbwn"
>  CodageMC$(2) =
> "pjkurwejApbsunyebkpDwulzeDspByeBwzfcfjkprwzfEfbspnyzfCfDwplzzfBfByyrczfqfrwyrEzfnfnyyrCflzyrBxjcyrqxjEyrnxjCxjBuzcxjquzExjnuzCuzBpzcuzqpzEuznpzCdjAorsufydbkonwudzdDsolydBwokzdAyzdodrsovyzdmdnwotzzdldlydkzynozdvdvyynmdtzynlxboynvxbmxblujoxbvujmujlozoujvozmozlcrkofwuFzcnsodyclwoczckyckjzcucvwohzzctctycszylucxzyltxDuxDtubuubtojuojtcfsoFycdwoEzccyccjzchchycgzykxxBxuDxcFwoCzcEycEjcazcCycCjFjAmrstfyFbkmnwtdzFDsmlyFBwmkzFAyzFoFrsmvyzFmFnwmtzzFlFlyFkzyfozFvFvyyfmFtzyflwroyfvwrmwrltjowrvtjmtjlmzotjvmzmmzlqrkvfwxpzhbAqnsvdyhDkqlwvczhBsqkyhAwqkjhAiErkmfwtFzhrkEnsmdyhnsqtymczhlwEkyhkyEkjhkjzEuEvwmhzzhuzEthvwEtyzhthtyEszhszyduExzyvuydthxzyvtwnuxruwntxrttbuvjutbtvjtmjumjtgrAqfsvFygnkqdwvEzglsqcygkwqcjgkigkbEfsmFygvsEdwmEzgtwqgzgsyEcjgsjzEhEhyzgxgxyEgzgwzycxytxwlxxnxtDxvbxmbxgfkqFwvCzgdsqEygcwqEjgcigcbEFwmCzghwEEyggyEEjggjEazgizgFsqCygEwqCjgEigEbECygayECjgajgCwqBjgCigCbEBjgDjgBigBbCrklfwspzCnsldyClwlczCkyCkjzCuCvwlhzzCtCtyCszyFuCx"
>  CodageMC$(2) = CodageMC$(2) &
> "zyFtwfuwftsrusrtljuljtarAnfstpyankndwtozalsncyakwncjakiakbCfslFyavsCdwlEzatwngzasyCcjasjzChChyzaxaxyCgzawzyExyhxwdxwvxsnxtrxlbxrfkvpwxuzinArdsvoyilkrcwvojiksrciikgrcbikaafknFwtmzivkadsnEyitsrgynEjiswaciisiacbisbCFwlCzahwCEyixwagyCEjiwyagjiwjCazaiziyzifArFsvmyidkrEwvmjicsrEiicgrEbicaicDaFsnCyihsaEwnCjigwrajigiaEbigbCCyaayCCjiiyaajiijiFkrCwvljiEsrCiiEgrCbiEaiEDaCwnBjiawaCiiaiaCbiabCBjaDjibjiCsrBiiCgrBbiCaiCDaBiiDiaBbiDbiBgrAriBaiBDaAriBriAqiAnBfskpyBdwkozBcyBcjBhyBgzyCxwFxsfxkrxDfklpwsuzDdsloyDcwlojDciDcbBFwkmzDhwBEyDgyBEjDgjBazDizbfAnpstuybdknowtujbcsnoibcgnobbcabcDDFslmybhsDEwlmjbgwDEibgiDEbbgbBCyDayBCjbiyDajbijrpkvuwxxjjdArosvuijckrogvubjccroajcEroDjcCbFknmwttjjhkbEsnmijgsrqinmbjggbEajgabEDjgDDCwlljbawDCijiwbaiDCbjiibabjibBBjDDjbbjjjjjFArmsvtijEkrmgvtbjEcrmajEErmDjECjEBbCsnlijasbCgnlbjagrnbjaabCDjaDDBibDiDBbjbibDbjbbjCkrlgvsrjCcrlajCErlDjCCjCBbBgnkrjDgbBajDabBDjDDDArbBrjDrjBcrkqjBErknjBCjBBbAqjBqbAnjBnjAorkfjAmjAlb"
>  CodageMC$(2) = CodageMC$(2) &
> "AfjAvApwkezAoyAojAqzBpskuyBowkujBoiBobAmyBqyAmjBqjDpkluwsxjDosluiDoglubDoaDoDBmwktjDqwBmiDqiBmbDqbAljBnjDrjbpAnustxiboknugtxbbocnuaboEnuDboCboBDmsltibqsDmgltbbqgnvbbqaDmDbqDBliDniBlbbriDnbbrbrukvxgxyrrucvxaruEvxDruCruBbmkntgtwrjqkbmcntajqcrvantDjqEbmCjqCbmBjqBDlglsrbngDlajrgbnaDlDjrabnDjrDBkrDlrbnrjrrrtcvwqrtEvwnrtCrtBblcnsqjncblEnsnjnErtnjnCblBjnBDkqblqDknjnqblnjnnrsovwfrsmrslbkonsfjlobkmjlmbkljllDkfbkvjlvrsersdbkejkubkdjktAeyAejAuwkhjAuiAubAdjAvjBuskxiBugkxbBuaBuDAtiBviAtbBvbDuklxgsyrDuclxaDuElxDDuCDuBBtgkwrDvglxrDvaBtDDvDAsrBtrDvrnxctyqnxEtynnxCnxBDtclwqbvcnxqlwnbvEDtCbvCDtBbvBBsqDtqBsnbvqDtnbvnvyoxzfvymvylnwotyfrxonwmrxmnwlrxlDsolwfbtoDsmjvobtmDsljvmbtljvlBsfDsvbtvjvvvyevydnwerwunwdrwtDsebsuDsdjtubstjttvyFnwFrwhDsFbshjsxAhiAhbAxgkirAxaAxDAgrAxrBxckyqBxEkynBxCBxBAwqBxqAwnBxnlyoszflymlylBwokyfDxolyvDxmBwlDxlAwfBwvDxvtzetzdlyenyulydnytBweDwuBwdbxuDwtbxttzFlyFnyhBwFDwhbwxAiqAinAyokjfAymAylAifAyvkzekzdAyeByuAydBytszp"
>  CodeErr% = 0
>  If Chaine$ = "" Then CodeErr% = 1: Exit Function
>  'D?couper la chaine en blocs de caract?re de m?me type : num?rique ,
> texte, octet
>  'La 1?re colonne du tableau Liste% contient le nombre de caract?res,
> la 2?me le commutateur de mode
>  'Split the string in character blocks of the same type : numeric , text, byte
>  'The first column of the array Liste% contain the char. number, the
> second one contain the mode switch
>  IndexChaine% = 1
>  GoSub QuelMode
>  Do
>    ReDim Preserve Liste%(1, IndexListe%)
>    Liste%(1, IndexListe%) = Mode%
>    Do While Liste%(1, IndexListe%) = Mode%
>      Liste%(0, IndexListe%) = Liste%(0, IndexListe%) + 1
>      IndexChaine% = IndexChaine% + 1
>      If IndexChaine% > Len(Chaine$) Then Exit Do
>      GoSub QuelMode
>    Loop
>    IndexListe% = IndexListe% + 1
>  Loop Until IndexChaine% > Len(Chaine$)
>  'Ne garder le mode num?rique que si c'est "rentable", sinon mode
> "texte" voire "octet"
>  'Les seuils de rentabilit? ont ?t?s pr?-d?termin?s selon le mode
> pr?c?dent et/ou le mode suivant
>  'We retain "numeric" mode only if it's earning, else "text" mode or
> even "byte" mode
>  'The efficiency limits have been pre-defined according to the
> previous mode and/or the next mode.
>  For I% = 0 To IndexListe% - 1
>    If Liste%(1, I%) = 902 Then
>      If I% = 0 Then 'C'est le premier bloc / It's the first block
>        If IndexListe% > 1 Then 'et il y en a d'autres derri?re / And
> there is other blocks behind
>          If Liste%(1, I% + 1) = 900 Then
>            'Premier bloc et suivi par un bloc de type "texte" / First
> block and followed by a "text" type block
>            If Liste%(0, I%) < 8 Then Liste%(1, I%) = 900
>          ElseIf Liste%(1, I% + 1) = 901 Then
>            'Premier bloc et suivi par un bloc de type "octet" / First
> block and followed by a "byte" type block
>            If Liste%(0, I%) = 1 Then Liste%(1, I%) = 901
>          End If
>        End If
>      Else
>        'C'est pas le premier bloc / It's not the first block
>        If I% = IndexListe% - 1 Then
>          'C'est le dernier / It's the last one
>          If Liste%(1, I% - 1) = 900 Then
>            'Il est pr?c?d? par un bloc de type "texte" / It's
> preceded by a "text" type block
>            If Liste%(0, I%) < 7 Then Liste%(1, I%) = 900
>          ElseIf Liste%(1, I% - 1) = 901 Then
>            'Il est pr?c?d? par un bloc de type "octet" / It's
> preceded by a "byte" type block
>            If Liste%(0, I%) = 1 Then Liste%(1, I%) = 901
>          End If
>        Else
>          'C'est pas le dernier / It's not the last block
>          If Liste%(1, I% - 1) = 901 And Liste%(1, I% + 1) = 901 Then
>            'Encadr? par des blocs de type "octet" / Framed by "byte"
> type blocks
>            If Liste%(0, I%) < 4 Then Liste%(1, I%) = 901
>          ElseIf Liste%(1, I% - 1) = 900 And Liste%(1, I% + 1) = 901 Then
>            'Pr?c?d? par "texte" et suivi par "octet" (Si l'inverse
> jamais int?ressant de changer)
>            'Preceded by "text" and followed by "byte" (If the reverse
> it's never interesting to change)
>            If Liste%(0, I%) < 5 Then Liste%(1, I%) = 900
>          ElseIf Liste%(1, I% - 1) = 900 And Liste%(1, I% + 1) = 900 Then
>            'Encadr? par des blocs de type "texte" / Framed by "text"
> type blocks
>            If Liste%(0, I%) < 8 Then Liste%(1, I%) = 900
>          End If
>        End If
>      End If
>    End If
>  Next
>  GoSub Regroupe
>  'Ne garder le mode "texte" que si c'est rentable / Maintain "text"
> mode only if it's earning
>  For I% = 0 To IndexListe% - 1
>    If Liste%(1, I%) = 900 And I% > 0 Then
>      'C'est pas le premier (Si 1er jamais int?ressant de changer) /
> It's not the first (If first, never interesting to change)
>      If I% = IndexListe% - 1 Then 'C'est le dernier / It's the last one
>        If Liste%(1, I% - 1) = 901 Then
>          'Pr?c?d? par un bloc de type "octet" / It's  preceded by a
> "byte" type block
>          If Liste%(0, I%) = 1 Then Liste%(1, I%) = 901
>        End If
>      Else
>        'C'est pas le dernier / It's not the last one
>        If Liste%(1, I% - 1) = 901 And Liste%(1, I% + 1) = 901 Then
>          'Encadr? par des blocs de type "octet" / Framed by "byte" type blocks
>          If Liste%(0, I%) < 5 Then Liste%(1, I%) = 901
>        ElseIf (Liste%(1, I% - 1) = 901 And Liste%(1, I% + 1) <> 901)
> Or (Liste%(1, I% - 1) <> 901 And Liste%(1, I% + 1) = 901) Then
>          'Un bloc "octet" devant ou derri?re / A "byte" block ahead or behind
>          If Liste%(0, I%) < 3 Then Liste%(1, I%) = 901
>        End If
>      End If
>    End If
>  Next
>  GoSub Regroupe
>  'Maintenant on compacte les donn?es dans les MC, les MC sont
> stock?es sur 3 car. dans une grande chaine : ChaineMC$
>  'Now we compress datas into the MCs, the MCs are stored in 3 char.
> in a large string : ChaineMC$
>  IndexChaine% = 1
>  For I% = 0 To IndexListe% - 1
>    'Donc 3 modes de compactage / Thus 3 compaction modes
>    Select Case Liste%(1, I%)
>    Case 900 'Texte
>      ReDim ListeT%(1, Liste%(0, I%))
>      'ListeT% contiendra le num?ro de table(s) et la valeur de chaque caract?re
>      'Num?ros de table cod?s sur les 4 bits de poids faibles, soit en
> d?cimal 1, 2, 4, 8
>      'ListeT% will contain the table number(s) (1 ou several) and the
> value of each char.
>      'Table number encoded in the 4 less weight bits, that is in
> decimal 1, 2, 4, 8
>      For IndexListeT% = 0 To Liste%(0, I%) - 1
>        CodeASCII% = Asc(Mid$(Chaine$, IndexChaine% + IndexListeT%, 1))
>        Select Case CodeASCII%
>        Case 9 'HT
>          ListeT%(0, IndexListeT%) = 12
>          ListeT%(1, IndexListeT%) = 12
>        Case 10 'LF
>          ListeT%(0, IndexListeT%) = 8
>          ListeT%(1, IndexListeT%) = 15
>        Case 13 'CR
>          ListeT%(0, IndexListeT%) = 12
>          ListeT%(1, IndexListeT%) = 11
>        Case Else
>          ListeT%(0, IndexListeT%) = Mid$(ASCII$, CodeASCII% * 4 - 127, 2)
>          ListeT%(1, IndexListeT%) = Mid$(ASCII$, CodeASCII% * 4 - 125, 2)
>        End Select
>      Next
>      CurTable% = 1 'Table par d?faut / Default table
>      ChaineT$ = ""
>      'Les donn?es sont stock?es sur 2 car. dans la chaine TableT$ /
> Datas are stored in 2 char. in the string TableT$
>      For J% = 0 To Liste%(0, I%) - 1
>        If (ListeT%(0, J%) And CurTable%) > 0 Then
>          'Le car. est dans la table courante / The char. is in the
> current table
>          ChaineT$ = ChaineT$ & Format(ListeT%(1, J%), "00")
>        Else
>          'Faut changer de table / Obliged to change the table
>          flag = False 'True si on change de table pour un seul car. /
> True if we change the table only for 1 char.
>          If J% = Liste%(0, I%) - 1 Then
>            flag = True
>          Else
>            If (ListeT%(0, J%) And ListeT%(0, J% + 1)) = 0 Then flag =
> True 'Pas de table commune avec le car. suivant / No common table with
> the next char.
>          End If
>          If flag Then
>            'On change de table pour 1 seul car., Chercher un
> commutateur fugitif
>            'We change only for 1 char., Look for a temporary switch
>            If (ListeT%(0, J%) And 1) > 0 And CurTable% = 2 Then
>              'Table 2 vers 1 pour 1 car. --> T_MAJ / Table 2 to 1 for
> 1 char. --> T_UPP
>              ChaineT$ = ChaineT$ & "27" & Format(ListeT%(1, J%), "00")
>            ElseIf (ListeT%(0, J%) And 8) > 0 Then
>              'Table 1 ou 2 ou 4 vers table 8 pour 1 car. --> T_PON /
> Table 1 or 2 or 4 to table 8 for 1 char. --> T_PUN
>              ChaineT$ = ChaineT$ & "29" & Format(ListeT%(1, J%), "00")
>            Else
>              'Pas de commutateur fugitif / No temporary switch available
>              flag = False
>            End If
>          End If
>          If Not flag Then 'On re-teste flag qui a peut-?tre chang?
> ci-dessus ! donc ELSE pas possible / We test again flag which is
> perhaps changed ! Impossible tio use ELSE statement
>            '
>            'On doit utiliser un commutateur ? basculement
>            'D?terminer la nouvelle table ? utiliser
>            'We must use a bi-state switch
>            'Looking for the new table to use
>            If J% = Liste%(0, I%) - 1 Then
>              NewTable% = ListeT%(0, J%)
>            Else
>              NewTable% = IIf((ListeT%(0, J%) And ListeT%(0, J% + 1))
> = 0, ListeT%(0, J%), ListeT%(0, J%) And ListeT%(0, J% + 1))
>            End If
>            'Ne garder que la premi?re s'il y en a plusieurs de
> possible / Maintain the first if several tables are possible
>            Select Case NewTable%
>            Case 3, 5, 7, 9, 11, 13, 15
>              NewTable% = 1
>            Case 6, 10, 14
>              NewTable% = 2
>            Case 12
>              NewTable% = 4
>            End Select
>            'Choisir le commutateur, parfois il faut 2 commutateurs de
> suite / Select the switch, on occasion we must use 2 switchs
> consecutively
>            Select Case CurTable%
>            Case 1
>              Select Case NewTable%
>              Case 2
>                ChaineT$ = ChaineT$ & "27"
>              Case 4
>                ChaineT$ = ChaineT$ & "28"
>              Case 8
>                ChaineT$ = ChaineT$ & "2825"
>              End Select
>            Case 2
>              Select Case NewTable%
>              Case 1
>                ChaineT$ = ChaineT$ & "2828"
>              Case 4
>                ChaineT$ = ChaineT$ & "28"
>              Case 8
>                ChaineT$ = ChaineT$ & "2825"
>              End Select
>            Case 4
>              Select Case NewTable%
>              Case 1
>                ChaineT$ = ChaineT$ & "28"
>              Case 2
>                ChaineT$ = ChaineT$ & "27"
>              Case 8
>                ChaineT$ = ChaineT$ & "25"
>              End Select
>            Case 8
>              Select Case NewTable%
>              Case 1
>                ChaineT$ = ChaineT$ & "29"
>              Case 2
>                ChaineT$ = ChaineT$ & "2927"
>              Case 4
>                ChaineT$ = ChaineT$ & "2928"
>              End Select
>            End Select
>            CurTable% = NewTable%
>            ChaineT$ = ChaineT$ & Format(ListeT%(1, J%), "00") 'On
> ajoute enfin le car. / At last we add the char.
>          End If
>        End If
>      Next
>      If Len(ChaineT$) Mod 4 > 0 Then ChaineT$ = ChaineT$ & "29"
> 'Bourrage si nb de car. impair / Padding if number of char. is odd
>      'Maintenant traduire la chaine ChaineT$ en MCs
>      'Now translate the string ChaineT$ into CWs
>      If I% > 0 Then ChaineMC$ = ChaineMC$ & "900" 'Mettre en place le
> commutateur sauf si premier bloc car mode "texte" par d?faut / Set up
> the switch exept for the first block because "text" is the default
>      For J% = 1 To Len(ChaineT$) Step 4
>        ChaineMC$ = ChaineMC$ & Format(Mid$(ChaineT$, J%, 2) * 30 +
> Mid$(ChaineT$, J% + 2, 2), "000")
>      Next
>    Case 901 'Octet
>      'Choisir le commutateur parmi les 3 possibles / Select the
> switch between the 3 possible
>      If Liste%(0, I%) = 1 Then
>        '1 seul octet, c'est imm?diat
>        ChaineMC$ = ChaineMC$ & "913" & Format(Asc(Mid$(Chaine$,
> IndexChaine%, 1)), "000")
>      Else
>        'Choisir le commutateur selon qu'on a un multiple de 6 octets ou non
>        'Select the switch for perfect multiple of 6 bytes or no
>        If Liste%(0, I%) Mod 6 = 0 Then
>          ChaineMC$ = ChaineMC$ & "924"
>        Else
>          ChaineMC$ = ChaineMC$ & "901"
>        End If
>        J% = 0
>        Do While J% < Liste%(0, I%)
>          Longueur% = Liste%(0, I%) - J%
>          If Longueur% >= 6 Then
>            'prendre des paquets de 6 /Take groups of 6
>            Longueur% = 6
>            Total = 0
>            For K% = 0 To Longueur% - 1
>              Total = Total + (Asc(Mid$(Chaine$, IndexChaine% + J% +
> K%, 1)) * 256 ^ (Longueur% - 1 - K%))
>            Next
>            ChaineMod$ = Format(Total, "general number")
>            Dummy$ = ""
>            Do
>              Diviseur& = 900
>              GoSub Modulo
>              Dummy$ = Format(Diviseur&, "000") & Dummy$
>              ChaineMod$ = ChaineMult$
>              If ChaineMult$ = "" Then Exit Do
>            Loop
>            ChaineMC$ = ChaineMC$ & Dummy$
>          Else
>            'S'il reste un paquet de moins de 6 octets / If it remain
> a group of less than 6 bytes
>            For K% = 0 To Longueur% - 1
>              ChaineMC$ = ChaineMC$ & Format(Asc(Mid$(Chaine$,
> IndexChaine% + J% + K%, 1)), "000")
>            Next
>          End If
>          J% = J% + Longueur%
>        Loop
>      End If
>    Case 902 'Num?rique / Numeric
>      ChaineMC$ = ChaineMC$ & "902"
>      J% = 0
>      Do While J% < Liste%(0, I%)
>        Longueur% = Liste%(0, I%) - J%
>        If Longueur% > 44 Then Longueur% = 44
>        ChaineMod$ = "1" & Mid$(Chaine$, IndexChaine% + J%, Longueur%)
>        Dummy$ = ""
>        Do
>          Diviseur& = 900
>          GoSub Modulo
>          Dummy$ = Format(Diviseur&, "000") & Dummy$
>          ChaineMod$ = ChaineMult$
>          If ChaineMult$ = "" Then Exit Do
>        Loop
>        ChaineMC$ = ChaineMC$ & Dummy$
>        J% = J% + Longueur%
>      Loop
>      Debug.Print ChaineMC
>    End Select
>    IndexChaine% = IndexChaine% + Liste%(0, I%)
>  Next
>  'ChaineMC$ contient la liste des MC (sur 3 chiffres) repr?sentant les donn?es
>  'On s'occupe maintenant du niveau de correction
>  'ChaineMC$ contain the MC list (on 3 digits) depicting the datas
>  'Now we take care of the correction level
>  Longueur% = Len(ChaineMC$) / 3
>  If s?cu% < 0 Then
>    'D?termination auto. du niveau de correction en fonction des
> recommandations de la norme
>    'Fixing auto. the correction level according to the standard recommendations
>    If Longueur% < 41 Then
>      s?cu% = 2
>    ElseIf Longueur% < 161 Then
>      s?cu% = 3
>    ElseIf Longueur% < 321 Then
>      s?cu% = 4
>    Else
>      s?cu% = 5
>    End If
>  End If
>  'On s'occupe maintenant du nombre de MC par ligne / Now we take care
> of the number of CW per row
>  Longueur% = Longueur% + 1 + (2 ^ (s?cu% + 1))
>  If nbcol% > 30 Then nbcol% = 30
>  If nbcol% < 1 Then
>    'Avec une police haute de 3 modules, pour obtenir un code-barre "carr?"
>    'x = nb. de col. | Largeur en module = 69 + 17x | Hauteur en
> module = 3t / x (t ?tant le nb total de MC)
>    'On a donc 69 + 17x = 3t/x <=> 17x?+69x-3t=0 - Le discriminant est
> 69?-4*17*-3t = 4761+204t donc x=SQR(discr.)-69/2*17
>    '
>    'With a 3 modules high font, for getting a "square" bar code
>    'x = nb. of col. | Width by module = 69 + 17x | Height by module =
> 3t / x (t is the total number of MCs)
>    'Thus we have 69 + 17x = 3t/x <=> 17x?+69x-3t=0 - Discriminant is
> 69?-4*17*-3t = 4761+204t thus x=SQR(discr.)-69/2*17
>    nbcol% = (Sqr(204# * Longueur% + 4761) - 69) / (34 / 1.3)   '1.3 =
> coeff. de pond?ration d?termin? au pif apr?s essais / 1.3 = balancing
> factor determined at a guess after tests
>    If nbcol% = 0 Then nbcol% = 1
>  End If
>  'Si on d?passe 928 MC on essaye de r?duire le niveau de correction
>  'If we go beyong 928 CWs we try to reduce the correction level
>  Do While s?cu% > 0
>    'Calcul du nombre total de MC en tenant compte du rembourrage pour
> compl?ter les lignes
>    'Calculation of the total number of CW with the padding
>    Longueur% = Len(ChaineMC$) / 3 + 1 + (2 ^ (s?cu% + 1))
>    Longueur% = (Longueur% \ nbcol% + IIf(Longueur% Mod nbcol% > 0, 1,
> 0)) * nbcol%
>    If Longueur% < 929 Then Exit Do
>    'On doit r?duire le niveau de s?curit? pour tout faire rentrer
>    'We must reduce security level
>    s?cu% = s?cu% - 1
>    CodeErr% = 10
>  Loop
>  If Longueur% > 928 Then CodeErr% = 2: Exit Function
>  If Longueur% / nbcol% > 90 Then CodeErr% = 3: Exit Function
>  'Calcul du rembourrage / Padding calculation
>  Longueur% = Len(ChaineMC$) / 3 + 1 + (2 ^ (s?cu% + 1))
>  I% = 0
>  If Longueur% \ nbcol% < 3 Then
>    I% = nbcol% * 3 - Longueur%   'Il faut au moins 3 lignes dans le
> code / A bar code must have at least 3 row
>  Else
>    If Longueur% Mod nbcol% > 0 Then I% = nbcol% - (Longueur% Mod nbcol%)
>  End If
>  'On ajoute le rembourrage / We add the padding
>  Do While I% > 0
>    ChaineMC$ = ChaineMC$ & "900"
>    I% = I% - 1
>  Loop
>  'On ajoute le descripteur de longueur / We add the length descriptor
>  ChaineMC$ = Format(Len(ChaineMC$) / 3 + 1, "000") & ChaineMC$
>  'On s'occupe maintenant des codes de Reed Solomon / Now we take care
> of the Reed Solomon codes
>  Longueur% = Len(ChaineMC$) / 3
>  K% = 2 ^ (s?cu% + 1)
>  ReDim MCcorrection%(K% - 1)
>  Total = 0
>  For I% = 0 To Longueur% - 1
>    Total = (Mid$(ChaineMC$, I% * 3 + 1, 3) + MCcorrection%(K% - 1)) Mod 929
>    For J% = K% - 1 To 0 Step -1
>      If J% = 0 Then
>        MCcorrection%(J%) = (929 - (Total * Mid$(CoefRS$(s?cu%), J% *
> 3 + 1, 3)) Mod 929) Mod 929
>      Else
>        MCcorrection%(J%) = (MCcorrection%(J% - 1) + 929 - (Total *
> Mid$(CoefRS$(s?cu%), J% * 3 + 1, 3)) Mod 929) Mod 929
>      End If
>    Next
>  Next
>  For J% = 0 To K% - 1
>    If MCcorrection%(J%) <> 0 Then MCcorrection%(J%) = 929 - MCcorrection%(J%)
>  Next
>  'On va ajouter les codes de correction ? la chaine / We add theses
> codes to the string
>  For I% = K% - 1 To 0 Step -1
>    ChaineMC$ = ChaineMC$ & Format(MCcorrection%(I%), "000")
>  Next
>  'La chaine des MC est termin?e
>  'Calcul des param?tres pour les MC de cot?s gauche et droit
>  'The CW string is finished
>  'Calculation of parameters for the left and right side CWs
>  C1% = (Len(ChaineMC$) / 3 / nbcol% - 1) \ 3
>  C2% = s?cu% * 3 + (Len(ChaineMC$) / 3 / nbcol% - 1) Mod 3
>  C3% = nbcol% - 1
>  'On encode chaque ligne / We encode each row
>  For I% = 0 To Len(ChaineMC$) / 3 / nbcol% - 1
>    Dummy$ = Mid$(ChaineMC$, I% * nbcol% * 3 + 1, nbcol% * 3)
>    K% = (I% \ 3) * 30
>    Select Case I% Mod 3
>    Case 0
>      Dummy$ = Format(K% + C1%, "000") & Dummy$ & Format(K% + C3%, "000")
>    Case 1
>      Dummy$ = Format(K% + C2%, "000") & Dummy$ & Format(K% + C1%, "000")
>    Case 2
>      Dummy$ = Format(K% + C3%, "000") & Dummy$ & Format(K% + C2%, "000")
>    End Select
>    pdf417$ = pdf417$ & "+*" 'Commencer par car. de start et
> s?parateur / Start with a start char. and a separator
>    For J% = 0 To Len(Dummy$) / 3 - 1
>      pdf417$ = pdf417$ & Mid$(CodageMC$(I% Mod 3), Mid$(Dummy$, J% *
> 3 + 1, 3) * 3 + 1, 3) & "*"
>    Next
>    pdf417$ = pdf417$ & "-" & Chr$(13) & Chr$(10) 'Ajouter car. de
> stop et CRLF / Add a stop char. and a CRLF
>  Next
>  Exit Function
> Regroupe:
>  'Regrouper les blocs de m?me type / Bring together same type blocks
>  If IndexListe% > 1 Then
>    I% = 1
>    Do While I% < IndexListe%
>      If Liste%(1, I% - 1) = Liste%(1, I%) Then
>        'Regroupement / Bringing together
>        Liste%(0, I% - 1) = Liste%(0, I% - 1) + Liste%(0, I%)
>        J% = I% + 1
>        'R?duction de la liste / Decrease the list
>        Do While J% < IndexListe%
>          Liste%(0, J% - 1) = Liste%(0, J%)
>          Liste%(1, J% - 1) = Liste%(1, J%)
>          J% = J% + 1
>        Loop
>        IndexListe% = IndexListe% - 1
>        I% = I% - 1
>      End If
>      I% = I% + 1
>    Loop
>  End If
> Return
> QuelMode:
>  CodeASCII% = Asc(Mid$(Chaine$, IndexChaine%, 1))
>  Select Case CodeASCII%
>  Case 48 To 57
>    Mode% = 902
>  Case 9, 10, 13, 32 To 126
>    Mode% = 900
>  Case Else
>    Mode% = 901
>  End Select
> Return
> Modulo:
>  'ChaineMod$ repr?sente un tr?s grand nombre sur plus de 9 chiffres
>  'Diviseur& est le diviseur, contient le r?sultat au retour
>  'ChaineMult$ contient au retour le r?sultat de la division enti?re
>  '
>  'ChaineMod$ depict a very large number having more than 9 digits
>  'Diviseur& is the divisor, contain the result after return
>  'ChaineMult$ contain after return the result of the integer division
>  ChaineMult$ = ""
>  Nombre& = 0
>  Do While ChaineMod$ <> ""
>    Nombre& = Nombre& * 10 + Left$(ChaineMod$, 1) 'Abaisse un chiffre
> / Put down a digit
>    ChaineMod$ = Mid$(ChaineMod$, 2)
>    If Nombre& < Diviseur& Then
>      If ChaineMult$ <> "" Then ChaineMult$ = ChaineMult$ & "0"
>    Else
>      ChaineMult$ = ChaineMult$ & Nombre& \ Diviseur&
>    End If
>    Nombre& = Nombre& Mod Diviseur& 'R?cup?re le reste / get the remainder
>  Loop
>  Diviseur& = Nombre&
> Return
> End Function
> 
> 
> 2010/2/5 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Thank you. Forgot to mention but I need something in .prg code.
>> 
>> Brgds,
>> Viktor
>> 
>> On 2010 Feb 5, at 12:42, Mindaugas Kavaliauskas wrote:
>> 
>>> Hi,
>>> 
>>> 
>>>> Does anyone have source code to generate PDF417 barcodes?
>>>> (using .ttf file or graphical shapes if possible)
>>> 
>>> http://sourceforge.net/projects/pdf417lib/
>>> 
>>> 
>>> Regards,
>>> Mindaugas
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> 
> 
> -- 
> Massimo Belgrano
> 
> Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
> Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
> Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Fri Feb  5 07:17:59 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb  5 07:18:36 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502D8CEF7@PINK.zycie.pzu>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu><4B6C0439.5020406@dbtopas.lt>	<A213A19F-ECCB-4965-85E2-95DF7A8DF463@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502D8CEF7@PINK.zycie.pzu>
Message-ID: <4B6C0C77.4000209@dbtopas.lt>

Hi,


> This class work too in Clipper.

This is Code 39, not PDF417.


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Fri Feb  5 07:55:26 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb  5 07:55:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13775] trunk/harbour
Message-ID: <E1NdNiY-0004Yi-Od@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13775
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13775&view=rev
Author:   vszakats
Date:     2010-02-05 12:55:25 +0000 (Fri, 05 Feb 2010)

Log Message:
-----------
2010-02-05 13:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gttone.c
    + Using ANSI C types.
    ! ULONG -> DWORD for Windows API calls.

  * src/rtl/direct.c
    ! ULONG -> HB_FATTR

  * src/rtl/itemseri.c
  * include/hbapiitm.h
    * ULONG -> HB_SIZE

  * src/rtl/samples.c
    + Using ANSI C types. This fixes possible
      incompatibilities with original .prg implementation
      in Clipper.

  * contrib/hbhpdf/harupdf.c
    * Conversion to libharu BOOL value cleaned.

  * include/hbapicdp.h
  * utils/hbmk2/hbmk2.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbhpdf/harupdf.c
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/src/rtl/direct.c
    trunk/harbour/src/rtl/gttone.c
    trunk/harbour/src/rtl/itemseri.c
    trunk/harbour/src/rtl/samples.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Fri Feb  5 08:20:19 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Feb  5 08:20:37 2010
Subject: [Harbour] Re: SF bug tracker#2945728: Wrong usage of	console
	bufferin Windows
In-Reply-To: <hkh13a$at8$1@ger.gmane.org>
References: <1A07FEDC778C3E4AA417F089511F859C1D8C626C34@Mail-yoq.SYNEL-COMPANY.LTD><20100204183445.GA23228@linux-4bod.home.aster.pl>	<4B6BD5E1.5060805@mweb.co.za>
	<hkh13a$at8$1@ger.gmane.org>
Message-ID: <4B6C1B13.2020602@mweb.co.za>

Itamar Lins wrote:

> Please post small exaple of how to activate debug in Hwgui.

Here is my hbp file, note below Debugging comment:

# easipos.hbp

${HWGUI_INSTALL_PREFIX}\hwgui.hbc

-oeasipos
# -trace
-inc
-workdir=easipos
-w
-es2
# ***Debugging***
-b
-gtwin

/dECR32 /dECR /dEASIPOS

easipos.res

ecr.prg
ecrapp.prg
ecrtran.prg
...

In my code:

PROCEDURE StartUp()

     ANNOUNCE HB_GTSYS

     REQUEST HB_GT_GUI_DEFAULT
     REQUEST HB_GT_WIN         // ***Debugging***

RETURN


I needed to call ALTD() near the point of interest - I suppose that if you trap 
for the ALT-D key in HWGUI, then you could use it anywhere, but the Harbour code 
will not "see" it unless you do that.

You would need the setmode() call under discussion unless it was your system 
default to have consoles with visible lines equal to buffer lines (I am guessing 
that would work).

I think that was all.

Regards
Alex



From smujohnson at gmail.com  Fri Feb  5 08:21:58 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb  5 08:22:08 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
Message-ID: <674e4ddd1002050521w5d6c76a1te259409edd3294a0@mail.gmail.com>

I don't, but I have a CODE128 barcode generator I wrote from scratch in
Clipper a few days ago, which switches between mode B and C efficiently, in
case that helps.  Probably not as your question is very specific, but maybe
my thing could go in a contrib someday.

On Fri, Feb 5, 2010 at 3:12 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Hi All,
>
> Does anyone have source code to generate PDF417 barcodes?
> (using .ttf file or graphical shapes if possible)
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/6f052b37/attachment.html
From mbelgrano at deltain.it  Fri Feb  5 08:37:17 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb  5 08:37:45 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <674e4ddd1002050521w5d6c76a1te259409edd3294a0@mail.gmail.com>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu> 
	<674e4ddd1002050521w5d6c76a1te259409edd3294a0@mail.gmail.com>
Message-ID: <609353e71002050537s540c4f4dx4d1cac3fb0dc2224@mail.gmail.com>

post your generator
follow is info regarding pdf417
http://grandzebu.net/index.php?page=/informatique/codbar-en/pdf417.htm


2010/2/5 smu johnson <smujohnson@gmail.com>:
> I don't, but I have a CODE128 barcode generator I wrote from scratch in
> Clipper a few days ago, which switches between mode B and C efficiently, in
> case that helps.? Probably not as your question is very specific, but maybe
> my thing could go in a contrib someday.
>
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Fri Feb  5 08:41:02 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb  5 08:41:12 2010
Subject: [Harbour] OFF: PDF417 barcode
In-Reply-To: <674e4ddd1002050521w5d6c76a1te259409edd3294a0@mail.gmail.com>
References: <261306B2-D3E8-46E3-8784-3B2A3A467ED2@syenar.hu>
	<674e4ddd1002050521w5d6c76a1te259409edd3294a0@mail.gmail.com>
Message-ID: <AAA34670-5B49-4137-9F56-76FAD35841ED@syenar.hu>

> I don't, but I have a CODE128 barcode generator I wrote from scratch in Clipper a few days ago, which switches between mode B and C efficiently, in case that helps.  Probably not as your question is very specific, but maybe my thing could go in a contrib someday.

Thank you, I have an encoder for Code128 already.

ATM I'm struggling with getting barcode .ttf fonts to 
work with libharu. This apparently won't work without 
patching the lib.

Brgds,
Viktor

From mbelgrano at deltain.it  Fri Feb  5 10:45:09 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb  5 10:45:40 2010
Subject: [Harbour] Apollo 7.0.12 is aivable
Message-ID: <609353e71002050745n46fc15c5yfd49098d10decf6@mail.gmail.com>

Hello,
Just to inform the group
 Vista Software has updated his data base driver:
http://www.vistasoftware.com/downloads/evals/Apollo7_Embedded_Trial.exe

from an Andi  messages on xharbour ng
-- 
Massimo Belgrano
From bruno.luciani at gmail.com  Fri Feb  5 10:55:52 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Feb  5 10:56:04 2010
Subject: [Harbour] test1 sddmy sample not compiles in linux
Message-ID: <133778361002050755q174f1eb1r6037538eff923462@mail.gmail.com>

I think is an sddmy.hbc problem with library names

I try modifing mysql lib name to hbmysql , but error is grater dan before

wich i need lo link in linux ?

Bruno

///////////////////////////////// Error using standard HBC
file//////////////////////

bruno@notebook:~/harbour_svn/harbour/contrib/rddsql/sddmy/tests$ hbmk2 test1
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
Harbour 2.1.0dev (Rev. 13741)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'test1.prg'...
Lines 631, Functions/Procedures 3
Generating C source output to 'test1.c'... Done.
/usr/bin/ld: cannot find -llibmysql
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc test1.o hbmk_b029sr.o   -Wl,--start-group -lsddmy -llibmysql -lrddsql
-lhbcplr -lhbdebug -lgpm -lharbour  -Wl,--end-group -otest1
-L/usr/local/lib/harbour
bruno@notebook:~/harbour_svn/harbour/contrib/rddsql/sddmy/tests$
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/4c04e1cc/attachment.html
From bruno.luciani at gmail.com  Fri Feb  5 11:11:38 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Feb  5 11:11:48 2010
Subject: [Harbour] mysql test sample either compile in LINUX
Message-ID: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com>

I think same problem than SDDMY


bruno@notebook:~/harbour_svn/harbour/contrib/hbmysql/tests$ hbmk2 test
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg
Harbour 2.1.0dev (Rev. 13741)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'test.prg'...
Lines 205, Functions/Procedures 1
Generating C source output to 'test.c'... Done.
/usr/bin/ld: cannot find -llibmysql
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc test.o hbmk_bx0wx4.o   -Wl,--start-group -lhbmysql -llibmysql -lhbcplr
-lhbdebug -lgpm -lharbour  -Wl,--end-group -otest -L/usr/local/lib/harbour
bruno@notebook:~/harbour_svn/harbour/contrib/hbmysql/tests$
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/195e0cf1/attachment.html
From vouchcac at users.sourceforge.net  Fri Feb  5 12:19:54 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb  5 12:20:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13776] trunk/harbour
Message-ID: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13776
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13776&view=rev
Author:   vouchcac
Date:     2010-02-05 17:19:53 +0000 (Fri, 05 Feb 2010)

Log Message:
-----------
2010-02-05 08:59 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/findinfiles.ui
  * contrib/hbide/resources/findinfiles.uic
  * contrib/hbqt/THbQtUI.prg

  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idesaveload.prg
    
    + Implemented "Search" option activated via "Search" toolbar icon.
      This implementation presents a dialog to select any number of 
      available "Projects", one "Folder", and "Opened Tabs" in any 
      combination". 

      The results are presented in within-the-dialog edit window
      in a nicely colored and formatted way. This editor also provides
      for "Select All", "Copy", "Clear", "Print", "Find...", 
      "Zoom In/Out" and some more ( to be activated ) options. 
      These options are visible in context menu activated with 
      right-clicking inside the "Results" editor.

      This implemetation also facilitates multiple instances of the 
      "Search" dialogs carrying on the operation at the same time.

      Double-click on any line will open an edit-tab in the main editing
      area, cursor will be positioned highlighted on the "Expression" 
      string, keeping the focus in "Results" editor only.

      Normal usage is carrying the expected actions but I must be 
      ignoring something important. Please test. 

      Please forward any suggessions you think will make it more useful.

    ; TODO: Regex implementation.
            Regex for multiple lines.
            Including sub-folders.
            Including sub-projects.
            "Replace" implementation ( I am exploring how it can be safest )

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/resources/findinfiles.ui
    trunk/harbour/contrib/hbide/resources/findinfiles.uic
    trunk/harbour/contrib/hbqt/THbQtUI.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Feb  5 13:13:53 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb  5 13:14:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13777] trunk/harbour
Message-ID: <E1NdSgj-0004Bt-VA@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13777
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13777&view=rev
Author:   vouchcac
Date:     2010-02-05 18:13:49 +0000 (Fri, 05 Feb 2010)

Log Message:
-----------
2010-02-05 10:11 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbslots.cpp
    ! Fixed wrong number of parameters push to hb_vmEvalBlockV().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Feb  5 14:32:09 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb  5 14:32:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13776] trunk/harbour
In-Reply-To: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <609353e71002051132u1d7c695bj3a96494dd9dee102@mail.gmail.com>

Very Nice!
With this feature i start using hbide instead xmate
You give also the possibility go to line number finded opening editor
with double click!

Follow little problem :
After twice execute in Folder contain what i typed in  expression
Search in file is not implemented

Follow is my suggestion:
-remember last search at each open if possible more last search and
more find folder.
-each finded row dispay one row is possible a advanced option to
display more row 3-5?
-group option with "where"  , "What"  label
-Give the possibility of search two expression: for example i serc
myarray  and ,31
serch myarray[1,31] or myarray[ a_pippo ,31]

Very thanks!

2010/2/5  <vouchcac@users.sourceforge.net>:
> Revision: 13776
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13776&view=rev
> Author: ? vouchcac
> Date: ? ? 2010-02-05 17:19:53 +0000 (Fri, 05 Feb 2010)
>
> ? ?+ Implemented "Search" option activated via "Search" toolbar icon.
> ? ? ?This implementation presents a dialog to select any number of
> ? ? ?available "Projects", one "Folder", and "Opened Tabs" in any
> ? ? ?combination".
>
> ? ? ?The results are presented in within-the-dialog edit window
> ? ? ?in a nicely colored and formatted way. This editor also provides
> ? ? ?for "Select All", "Copy", "Clear", "Print", "Find...",
> ? ? ?"Zoom In/Out" and some more ( to be activated ) options.
> ? ? ?These options are visible in context menu activated with
> ? ? ?right-clicking inside the "Results" editor.
>
> ? ? ?This implemetation also facilitates multiple instances of the
> ? ? ?"Search" dialogs carrying on the operation at the same time.
>
> ? ? ?Double-click on any line will open an edit-tab in the main editing
> ? ? ?area, cursor will be positioned highlighted on the "Expression"
> ? ? ?string, keeping the focus in "Results" editor only.
>
> ? ? ?Normal usage is carrying the expected actions but I must be
> ? ? ?ignoring something important. Please test.
>
> ? ? ?Please forward any suggessions you think will make it more useful.
>
> ? ?; TODO: Regex implementation.
> ? ? ? ? ? ?Regex for multiple lines.
> ? ? ? ? ? ?Including sub-folders.
> ? ? ? ? ? ?Including sub-projects.
> ? ? ? ? ? ?"Replace" implementation ( I am exploring how it can be safest )
-- 
Massimo Belgrano
From fperillo at gmail.com  Fri Feb  5 14:52:57 2010
From: fperillo at gmail.com (francesco perillo)
Date: Fri Feb  5 14:53:05 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13776] trunk/harbour
In-Reply-To: <609353e71002051132u1d7c695bj3a96494dd9dee102@mail.gmail.com>
References: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>
	<609353e71002051132u1d7c695bj3a96494dd9dee102@mail.gmail.com>
Message-ID: <6943770e1002051152m33e22fa2s6106963702c10ba8@mail.gmail.com>

> -Give the possibility of search two expression: for example i serc
> myarray ?and ,31
> serch myarray[1,31] or myarray[ a_pippo ,31]

That is a Regex search "myarray.*,31"
Regex is in the TODO list
From itamarlins at bol.com.br  Fri Feb  5 15:19:40 2010
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Feb  5 15:23:27 2010
Subject: [Harbour] HBIDE Run-time Error!
Message-ID: <hkhump$pi2$1@ger.gmane.org>

Hi!
Error BASE/1004 No exported Method:SETMOUSETRACKING
Called from SETMOUSETRACKING(0)
Called from HBQTUI:SETMOUSETRACKING(0)
Called from XBPDIALOG:CREATE(0)
Called from IDEDOCKS:BUILDDIALOG(138)
Called from HBIDE:CREATE(286)
Called from MAIN(102)

The files DLL of  QT were copied of directory c:\qt\2009.04\qt
Using my CPU with MINGW run fine, but while files were copied to notebook 
show the error.

14/08/2009  23:57            18.207 mingwm10.dll
23/10/2009  08:22         2.726.400 QtCore4.dll
29/09/2009  09:00        11.261.952 QtGui4.dll
29/09/2009  08:55         1.382.912 QtNetwork4.dll
               4 arquivo(s)     15.389.471 bytes

ChangeLog 13777 2010-02-05 18:13:49Z vouchcac

Best regards,
Itamar M. Lins Jr. 



From bedipritpal at hotmail.com  Fri Feb  5 15:48:42 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb  5 15:48:51 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13776] trunk/harbour
In-Reply-To: <609353e71002051132u1d7c695bj3a96494dd9dee102@mail.gmail.com>
References: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>
	<609353e71002051132u1d7c695bj3a96494dd9dee102@mail.gmail.com>
Message-ID: <1265402922825-4522112.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Follow little problem :
> After twice execute in Folder contain what i typed in  expression
> Search in file is not implemented
> 

I could not follow you ? 
Can you explain a little more.



> -remember last search at each open if possible 
> 

Sure. Will be available by next commit.



> more last search and more find folder.
> 

"More last search" is already there. Go out of hbIDE and 
reenter. All "Search Expressions" are included in drop-down list. No?
The same is with "Folders" drop-down.

OR 

Are you asking for simultaneous searches for multiple folders ?
If yes, then you do not need it. Just change the folder and click
"Find" again. The results will keep on appending in the same "Results"
editor. So practically you may build "Search" for n number of 
combinations yet keeping results in the same document.

This feature itself renders hbIDE's search engine a very useful 
debugging tool.



> -each finded row dispay one row is possible a advanced option to
> display more row 3-5?
> 

I could not get what exactly you are asking for.
Can you show an example how it should look like in "Results"
taking a current serach snippet and changing it the way 
you want to see?



> -group option with "where"  , "What"  label
> 

What does "where" and "what" represents under "groups" ?
An example will be better to understand what you mean.



> -Give the possibility of search two expression: for example i serc
> myarray  and ,31
> serch myarray[1,31] or myarray[ a_pippo ,31]
> 

Will be automatic after RegEx is implemented.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13776-trunk-harbour-tp4521072p4522112.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Feb  5 15:56:24 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb  5 15:56:30 2010
Subject: [Harbour] Re: HBIDE Run-time Error!
In-Reply-To: <hkhump$pi2$1@ger.gmane.org>
References: <hkhump$pi2$1@ger.gmane.org>
Message-ID: <1265403384027-4522166.post@n2.nabble.com>



Itamar Lins wrote:
> 
> Error BASE/1004 No exported Method:SETMOUSETRACKING
> Called from SETMOUSETRACKING(0)
> Called from HBQTUI:SETMOUSETRACKING(0)
> Called from XBPDIALOG:CREATE(0)
> Called from IDEDOCKS:BUILDDIALOG(138)
> Called from HBIDE:CREATE(286)
> Called from MAIN(102)
> 

Build clean hbqt, hbXBP and hbIDE.
Please report if this error persists.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/HBIDE-Run-time-Error-tp4522003p4522166.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Fri Feb  5 16:14:47 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb  5 16:14:59 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive"
	[Harbour / Clipper difference]
Message-ID: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>

Hi guys,

With Harbour, I am having to through a ton of code in order to convert all
my tag names to uppercase... and I'm wondering if there is a way to make it
so I do not have to do this with SIXCDX...  because I am worried I will then
have to find all the other commands like sx_killtag and make sure their tags
are all uppercase too, etc etc.  Clipper allowed us to be sloppy.

Not saying that this is a good thing, but I am wondering if there is a
switch I can set to prevent this behaviour, which might end up making me do
an hour of work and a ton of mistakes if i screw something up.

Any thoughts?  I tried looking in the dbinfo.ch file but didn't seem to find
anything relevant.

Thank you

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/536d0dd0/attachment.html
From itamarlins at gmail.com  Fri Feb  5 17:27:59 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Fri Feb  5 17:28:31 2010
Subject: [Harbour] Re: HBIDE Run-time Error!
In-Reply-To: <1265403384027-4522166.post@n2.nabble.com>
References: <hkhump$pi2$1@ger.gmane.org>
	<1265403384027-4522166.post@n2.nabble.com>
Message-ID: <hki61d$gtn$1@ger.gmane.org>

Yes same error.
But, why working in CPU with MinGW?
Is very confusing for me. Is problem with DLL?

Best regards,
Itamar M. lins Jr.

Pritpal Bedi escreveu:
>>
> 
> Build clean hbqt, hbXBP and hbIDE.
> Please report if this error persists.
> 

From bedipritpal at hotmail.com  Fri Feb  5 17:48:50 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb  5 17:48:57 2010
Subject: [Harbour] Re: HBIDE Run-time Error!
In-Reply-To: <hki61d$gtn$1@ger.gmane.org>
References: <hkhump$pi2$1@ger.gmane.org>
	<1265403384027-4522166.post@n2.nabble.com>
	<hki61d$gtn$1@ger.gmane.org>
Message-ID: <1265410130844-4522812.post@n2.nabble.com>



Itamar Lins-2 wrote:
> 
> Yes same error.
> But, why working in CPU with MinGW?
> Is very confusing for me. Is problem with DLL?
> 

No, it is not mingw error.
Ok, let us go another way:

1) Edit hbide/hbide.ch
2) Comment out #define HBIDE_USE_UIC line.
3) Rebuild hbIDE as >hbmk2 hbide.hbp -rebuild
4) Report your findings then.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/HBIDE-Run-time-Error-tp4522003p4522812.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Fri Feb  5 18:34:17 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb  5 18:34:24 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive"
	[Harbour / Clipper difference]
In-Reply-To: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
Message-ID: <20100205233417.GA9490@linux-4bod.home.aster.pl>

On Fri, 05 Feb 2010, smu johnson wrote:

Hi,

> With Harbour, I am having to through a ton of code in order to convert all
> my tag names to uppercase... and I'm wondering if there is a way to make it
> so I do not have to do this with SIXCDX...  because I am worried I will then
> have to find all the other commands like sx_killtag and make sure their tags
> are all uppercase too, etc etc.  Clipper allowed us to be sloppy.

I do not now why you have made such modification.

> Not saying that this is a good thing, but I am wondering if there is a
> switch I can set to prevent this behaviour, which might end up making me do
> an hour of work and a ton of mistakes if i screw something up.
> Any thoughts?  I tried looking in the dbinfo.ch file but didn't seem to find
> anything relevant.

Sorry but as long as you will not explain what exactly you are doing and
why then we cannot help you.

best regards,
Przemek
From smujohnson at gmail.com  Fri Feb  5 18:35:11 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb  5 18:35:20 2010
Subject: [Harbour] HB_SETENV-like function, for HB_RUN child processes?
Message-ID: <674e4ddd1002051535u304bd8d3p637f842f825dcc6c@mail.gmail.com>

Hi,

Viktor mentioned to me that I might have some luck with HB_SETENV to set ENV
vars for child processes, though it would set the ENV's for the current
process too.  I was wondering if a new HB_ Harbour function could be made to
do it for child processes, much like how Blinker's SWPSETENV() /
SWPSETENVBAS() commands do ( http://www.ousob.com/ng/blinker/ng5ade2.php ).
Since this might not be easy to do... perhaps an optional arg added to the
HB_RUN command that allows some way to pass it ENV vars?  Maybe that is too
sloppy, I don't know.

Thanks in advance for reading.

PS:  If anyone is curious, we are trying to change the PROMPT= when our main
.PRG file calls "cmd.exe" to shell out in Windows to display anything we
want, making it obvious to users that they are currently in a SHELL.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/d36bfb35/attachment.html
From smujohnson at gmail.com  Fri Feb  5 18:40:06 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb  5 18:40:18 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive" 
	[Harbour / Clipper difference]
In-Reply-To: <20100205233417.GA9490@linux-4bod.home.aster.pl>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
	<20100205233417.GA9490@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>

Well in the Clipper 5.2e w/ Six3 to Harbour migration, we are finding a ton
of RTE problems because OrdSetFocus() calls and such are failing because
this function seems to be case sensitive in Harbour.  We haven't had any of
these problems in our Clipper stuff.

Sorry for not providing enough information earlier, I am not sure exactly
what to provide.  The senior programmer who wrote all this stuff simply told
me to "go through our code and change all TAG ___'s and OF ___'s to
uppercase so that we don't get any more lowercase / uppercase setordfocus
RTE problems."

Hope this is of some value to you.   As far as me talking about sx_killtag,
I only brought that up because when I was going through the .PRGs I found a
lot of names that were used in my previous changes that my senior requested
me to do, and started to become afraid that I was going to make a huge
mistake... Hence I decided to ask the walking encyclopedia of Six3
knowledge.  :)

Let me know how I can best help you, if this isn't enough information.



2010/2/5 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Fri, 05 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > With Harbour, I am having to through a ton of code in order to convert
> all
> > my tag names to uppercase... and I'm wondering if there is a way to make
> it
> > so I do not have to do this with SIXCDX...  because I am worried I will
> then
> > have to find all the other commands like sx_killtag and make sure their
> tags
> > are all uppercase too, etc etc.  Clipper allowed us to be sloppy.
>
> I do not now why you have made such modification.
>
> > Not saying that this is a good thing, but I am wondering if there is a
> > switch I can set to prevent this behaviour, which might end up making me
> do
> > an hour of work and a ton of mistakes if i screw something up.
> > Any thoughts?  I tried looking in the dbinfo.ch file but didn't seem to
> find
> > anything relevant.
>
> Sorry but as long as you will not explain what exactly you are doing and
> why then we cannot help you.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/ac6710f3/attachment.html
From marcobra.ubuntu at gmail.com  Fri Feb  5 19:18:48 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Feb  5 19:18:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13776] trunk/harbour
In-Reply-To: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1002051618h58c4ec40y793c883a09e3ec59@mail.gmail.com>

Ubuntu 9.10 hbide from svn. Rev. 13777

If i open the hbide then i try to close pressing the "X" on the hbide main
window the close request come in front of me if i answer "No" hbide, hide
the main window and don't show me anymore its interface but it is still
running i must stop it with terminal ctrl+c.
I can close and exit from Hbide as usual using the menu.

Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100206/72fd7d52/attachment.html
From druzus at acn.waw.pl  Fri Feb  5 19:20:36 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb  5 19:20:45 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive"
	[Harbour / Clipper difference]
In-Reply-To: <674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
	<20100205233417.GA9490@linux-4bod.home.aster.pl>
	<674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>
Message-ID: <20100206002036.GA9825@linux-4bod.home.aster.pl>

On Fri, 05 Feb 2010, smu johnson wrote:

Hi,

> Well in the Clipper 5.2e w/ Six3 to Harbour migration, we are finding a ton
> of RTE problems because OrdSetFocus() calls and such are failing because
> this function seems to be case sensitive in Harbour.  We haven't had any of
> these problems in our Clipper stuff.

None of Harbour core RDDs uses cases sensitive tag names so above
conclusion is false.
Maybe you had some problems but they were not related to case sensitive
tag or bag names.


> Sorry for not providing enough information earlier, I am not sure exactly
> what to provide.  The senior programmer who wrote all this stuff simply told
> me to "go through our code and change all TAG ___'s and OF ___'s to
> uppercase so that we don't get any more lowercase / uppercase setordfocus
> RTE problems."

So you made sth absolutely unnecessary and the real problem still exist
somewhere and you do not know where and what it is.
BTW there is small undocumented difference in tag selection between
ordSetFocus() and sx_setTag() but it's not bound with case sensitive
indexes. You can see the difference in /src/rdd/hbsix/sxcompat.prg.
In short words: sx_setTag() accepts bug numbers and when bug is specified
as number or character then tag number is relative to this bug.
in ordSetFocus() when tag number is set the bug is ignored.

> Hope this is of some value to you.   As far as me talking about sx_killtag,
> I only brought that up because when I was going through the .PRGs I found a
> lot of names that were used in my previous changes that my senior requested
> me to do, and started to become afraid that I was going to make a huge
> mistake... Hence I decided to ask the walking encyclopedia of Six3
> knowledge.  :)
> Let me know how I can best help you, if this isn't enough information.

Locate the real reason of problem. For sure in Harbour core RDDs tag
selection is not case sensitive and I haven't heard about any problems
reported by user that it's not.

best regards,
Przemek
From marcobra.ubuntu at gmail.com  Fri Feb  5 19:38:46 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Feb  5 19:38:57 2010
Subject: [Harbour] mysql test sample either compile in LINUX
In-Reply-To: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com>
References: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com>
Message-ID: <fd76479f1002051638q3a5fbc1ewaf908a3cfe559c2d@mail.gmail.com>

Same here on Ubuntu 9.10 32 bits. with

harbour -build
Harbour 2.1.0dev (Rev. 13777)
Copyright (c) 1999-2010, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.1.0dev (Rev. 13777)
Compiler: GNU C 4.4.1 (32-bit)
Platform: Linux 2.6.31-16-generic i686
PCode version: 0.2
ChangeLog last entry: 2010-02-05 10:11 UTC-0800 Pritpal Bedi (
pritpal@vouchcac.com)
ChangeLog ID: ChangeLog 13777 2010-02-05 18:13:49Z vouchcac

Built on: Feb  5 2010 21:38:59
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100206/282533a3/attachment-0001.html
From smujohnson at gmail.com  Fri Feb  5 19:40:44 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb  5 19:40:53 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive" 
	[Harbour / Clipper difference]
In-Reply-To: <20100206002036.GA9825@linux-4bod.home.aster.pl>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
	<20100205233417.GA9490@linux-4bod.home.aster.pl>
	<674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>
	<20100206002036.GA9825@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002051640k77d02d9bqe360fcd4acec30a1@mail.gmail.com>

Hi,

Sorry for the all the confusion.  I sat down with my senior programmer and
finally got the bottom of the confusion.

It is actually two separate issues that I confused as one due to my lack of
Clipper knowledge.

Difference 1)  ordsetfocus() if it cannot find a key you are looking for..
for instance if you run (with a typo) the ordsetfocus("isbnM") (notice the M
typo) twice, when I really was looking for "isbn"... it will return a blank
C string "" the 2nd time, because it cannot find "isbnM".  Clipper instead
does not switch it to "", but retains the previously working key.

Difference 2)  sx_indexname returned CAPS all the time in Clipper.  Also,
with a few more differences.  This is the workaround my senior has created
to deal with this.

***************************
FUNC BM_INDEXNAME(x,lNoPath) // SIMULATES THE SX_INDEXNAME() BUT STRIPS THE
PATH
  // Harbour SX_Indexname() was not compat with SIX
  // Harbour does not covert to uppercase
  // Harbour return NIL instead of "" when no index is found
  LOCAL CDXNAME:=SX_INDEXNAME(X)
  LOCAL NPOS:=RAT("\",CDXNAME)
  If ValType(CDXName)="C"
    CDXName:=Upper(CDXName)
  Endif
  IF Valtype(lNoPath)="L".and.lNoPath .and. NPOS>0
    CDXNAME:=SUBSTR(CDXNAME,NPOS+1)
  ENDIF
RETURN CDXNAME

**********************

I think this will clear up the confusion earlier.  I'm sorry for that. :(
But basically with these two things we are having to do, we are finding a
lot of our .PRGs need to be changed.  If this now makes sense, could you
recommend some steps for us to take?



2010/2/5 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Fri, 05 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > Well in the Clipper 5.2e w/ Six3 to Harbour migration, we are finding a
> ton
> > of RTE problems because OrdSetFocus() calls and such are failing because
> > this function seems to be case sensitive in Harbour.  We haven't had any
> of
> > these problems in our Clipper stuff.
>
> None of Harbour core RDDs uses cases sensitive tag names so above
> conclusion is false.
> Maybe you had some problems but they were not related to case sensitive
> tag or bag names.
>
>
> > Sorry for not providing enough information earlier, I am not sure exactly
> > what to provide.  The senior programmer who wrote all this stuff simply
> told
> > me to "go through our code and change all TAG ___'s and OF ___'s to
> > uppercase so that we don't get any more lowercase / uppercase setordfocus
> > RTE problems."
>
> So you made sth absolutely unnecessary and the real problem still exist
> somewhere and you do not know where and what it is.
> BTW there is small undocumented difference in tag selection between
> ordSetFocus() and sx_setTag() but it's not bound with case sensitive
> indexes. You can see the difference in /src/rdd/hbsix/sxcompat.prg.
> In short words: sx_setTag() accepts bug numbers and when bug is specified
> as number or character then tag number is relative to this bug.
> in ordSetFocus() when tag number is set the bug is ignored.
>
> > Hope this is of some value to you.   As far as me talking about
> sx_killtag,
> > I only brought that up because when I was going through the .PRGs I found
> a
> > lot of names that were used in my previous changes that my senior
> requested
> > me to do, and started to become afraid that I was going to make a huge
> > mistake... Hence I decided to ask the walking encyclopedia of Six3
> > knowledge.  :)
> > Let me know how I can best help you, if this isn't enough information.
>
> Locate the real reason of problem. For sure in Harbour core RDDs tag
> selection is not case sensitive and I haven't heard about any problems
> reported by user that it's not.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/151b24a4/attachment.html
From bedipritpal at hotmail.com  Fri Feb  5 20:00:55 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb  5 20:01:01 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13776] trunk/harbour
In-Reply-To: <fd76479f1002051618h58c4ec40y793c883a09e3ec59@mail.gmail.com>
References: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002051618h58c4ec40y793c883a09e3ec59@mail.gmail.com>
Message-ID: <1265418055018-4523454.post@n2.nabble.com>



marco bra wrote:
> 
> If i open the hbide then i try to close pressing the "X" on the hbide main
> window the close request come in front of me if i answer "No" hbide, hide
> the main window and don't show me anymore its interface but it is still
> running i must stop it with terminal ctrl+c.
> I can close and exit from Hbide as usual using the menu.
> 

Yes I am aware.
It is on my TODO list. Right now concentrating on other points.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13776-trunk-harbour-tp4521072p4523454.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Fri Feb  5 20:43:56 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb  5 20:44:03 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive"
	[Harbour / Clipper difference]
In-Reply-To: <674e4ddd1002051640k77d02d9bqe360fcd4acec30a1@mail.gmail.com>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
	<20100205233417.GA9490@linux-4bod.home.aster.pl>
	<674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>
	<20100206002036.GA9825@linux-4bod.home.aster.pl>
	<674e4ddd1002051640k77d02d9bqe360fcd4acec30a1@mail.gmail.com>
Message-ID: <20100206014356.GA10430@linux-4bod.home.aster.pl>

On Fri, 05 Feb 2010, smu johnson wrote:

Hi,

> Difference 1)  ordsetfocus() if it cannot find a key you are looking for..
> for instance if you run (with a typo) the ordsetfocus("isbnM") (notice the M
> typo) twice, when I really was looking for "isbn"... it will return a blank
> C string "" the 2nd time, because it cannot find "isbnM".  Clipper instead
> does not switch it to "", but retains the previously working key.

Not exactly.
1. The return value depends order set before you call ordSetFocus()
   and it doesn't matter what you specify as parameter. Of course the
   result can be different then you expected but in such case it was
   caused by wrongly selected tag in previous ordSetFocus() call.

2. When you specify wrong (not existing) tag name then the behavior
   depends on used RDD. Also in Clipper.
   In Clipper DBFNTX and SIX3 RDDs do not change the index but
   COMIX based RDDs change it to 0.
   In Harbour decided to use the same behavior in all RDDs and
   I chose COMIX CL53 DBFCDX like behavior because it allows help
   to find and eliminate typos in the code and I left such note
   in DBFNTX and DBFNSX:
      /*
       * In Clipper 5.3 DBFCDX (COMIX) when bad name or order is given
       * tag number is set to 0 (natural record order). CL52 RDDs and
       * SIX3 drivers do not change order in such case.
       * I'd like to keep the same behavior in all native [x]Harbour
       * RDDs and I chosen DBFCDX one as default. [druzus]
       */

And this is the one difference.
The empty string returned by ordSetFocus() is result of some other
typos in previously called ordSetFocus() which switch the order to 0.

My advice. Look for the typos and fix them. Otherwise you will keep
code which make sth like:
   ordSetFocus( "wrongname" )
   [ do sth ]
and above ordSetFocus() is redundant and can be deleted or it fails
but only sometimes when the order set by some other code is different
then expected.
Changing the default behavior I chose does not resolve the problem
but only hides it. Such code has to be fixed even in Clipper programs.
Probably it will be good to add even more strict behavior here and
generate RT error [tag not found] in such case. It should help to
locate such problems in source code quite fast. I.e. you can use
USRRDD and overload UR_ORDLSTFOCUS method to catch all such situations
and report RTE. Then you should be able to find quite fast all typos by
simple runtime code testes. You can even report such problems saving
the information to file and emulating original SIX3 behavior.

> Difference 2)  sx_indexname returned CAPS all the time in Clipper.  Also,
> with a few more differences.  This is the workaround my senior has created
> to deal with this.
> ***************************
> FUNC BM_INDEXNAME(x,lNoPath) // SIMULATES THE SX_INDEXNAME() BUT STRIPS THE
> PATH
>   // Harbour SX_Indexname() was not compat with SIX
>   // Harbour does not covert to uppercase
>   // Harbour return NIL instead of "" when no index is found
>   LOCAL CDXNAME:=SX_INDEXNAME(X)
>   LOCAL NPOS:=RAT("\",CDXNAME)
>   If ValType(CDXName)="C"
>     CDXName:=Upper(CDXName)
>   Endif
>   IF Valtype(lNoPath)="L".and.lNoPath .and. NPOS>0
>     CDXNAME:=SUBSTR(CDXNAME,NPOS+1)
>   ENDIF
> RETURN CDXNAME
> **********************
> I think this will clear up the confusion earlier.  I'm sorry for that. :(
> But basically with these two things we are having to do, we are finding a
> lot of our .PRGs need to be changed.  If this now makes sense, could you
> recommend some steps for us to take?

Harbour works on systems using case sensitive file systems.
Any conversions on file names are bugs for us. In the future you may
want to migrate to some other systems like Linux, MacOSX or any other
POSIX compatible system so I suggest to be really careful with forcing
any upper/lower file names conversions. Otherwise you will ask about
some other problem when:
   dbCreate( "Test", aStruct )
   use test
will not work.
Using such wrappers is quite good solution if you want to force upper
names for comparison only and can be introduced in few minutes by simple
S&R but if such function is used to make some operation on files then
it's hardcoded only to case sensitive FS which in practice exists only
in DOS, MS-Windows and OS2 and even in this OS-es it's possible to
access some other file systems using case sensitive file names and
your programs will not work.

BTW Harbour has HB_FNAMESPLIT() function and Sx_FNameParser()
which seem to be better to implement lNoPath parameter because
they will strip drive letter and also respect '/' as directory
separator: i.e.

   func bm_indexName( x, lNoPath )
   return upper( sx_FNameParser( sx_indexName( x ), ;
                     valType( lNoPath ) != "L" .or. !lNoPath, .T. ) )

best regards,
Przemek
From vouchcac at users.sourceforge.net  Fri Feb  5 20:52:13 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb  5 20:52:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13778] trunk/harbour
Message-ID: <E1NdZqH-00006y-4R@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13778
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13778&view=rev
Author:   vouchcac
Date:     2010-02-06 01:52:11 +0000 (Sat, 06 Feb 2010)

Log Message:
-----------
2010-02-05 17:52 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpdialog.prg
    ! Fixed a long-standing bug where oDlg:close slot was 
      hiding the window instead of passing taking appropriate
      action when user was opting not to close the window
      returning .F. from this codeblock.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpdialog.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Feb  5 20:53:16 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb  5 20:53:22 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13776] trunk/harbour
In-Reply-To: <fd76479f1002051618h58c4ec40y793c883a09e3ec59@mail.gmail.com>
References: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002051618h58c4ec40y793c883a09e3ec59@mail.gmail.com>
Message-ID: <1265421196451-4523612.post@n2.nabble.com>



marco bra wrote:
> 
> If i open the hbide then i try to close pressing the "X" on the hbide main
> window the close request come in front of me if i answer "No" hbide, hide
> the main window and don't show me anymore its interface but it is still
> running i must stop it with terminal ctrl+c.
> I can close and exit from Hbide as usual using the menu.
> 

The bug was present on any platform.

Can you test again after r13778 ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13776-trunk-harbour-tp4521072p4523612.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Fri Feb  5 21:33:16 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb  5 21:33:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13779] trunk/harbour
Message-ID: <E1NdaU0-0004YN-E2@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13779
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13779&view=rev
Author:   vouchcac
Date:     2010-02-06 02:33:13 +0000 (Sat, 06 Feb 2010)

Log Message:
-----------
2010-02-05 18:34 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/idefindreplace.prg
    ! Fixed "Stop" to work as expected in "Find in Files" dialog.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcobra.ubuntu at gmail.com  Fri Feb  5 21:51:59 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Feb  5 21:52:08 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13776] trunk/harbour
In-Reply-To: <1265421196451-4523612.post@n2.nabble.com>
References: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002051618h58c4ec40y793c883a09e3ec59@mail.gmail.com>
	<1265421196451-4523612.post@n2.nabble.com>
Message-ID: <fd76479f1002051851j57b0808chf34aa40d90a1068e@mail.gmail.com>

Harbour r13779 - hbide

Solved...!

Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100206/ea59299a/attachment-0001.html
From smujohnson at gmail.com  Fri Feb  5 22:10:54 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb  5 22:11:03 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive" 
	[Harbour / Clipper difference]
In-Reply-To: <20100206014356.GA10430@linux-4bod.home.aster.pl>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
	<20100205233417.GA9490@linux-4bod.home.aster.pl>
	<674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>
	<20100206002036.GA9825@linux-4bod.home.aster.pl>
	<674e4ddd1002051640k77d02d9bqe360fcd4acec30a1@mail.gmail.com>
	<20100206014356.GA10430@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002051910h4c8aa54t54d1707738e0941d@mail.gmail.com>

Thanks Przemek, this is also what my senior thought.


2010/2/5 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Fri, 05 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > Difference 1)  ordsetfocus() if it cannot find a key you are looking
> for..
> > for instance if you run (with a typo) the ordsetfocus("isbnM") (notice
> the M
> > typo) twice, when I really was looking for "isbn"... it will return a
> blank
> > C string "" the 2nd time, because it cannot find "isbnM".  Clipper
> instead
> > does not switch it to "", but retains the previously working key.
>
> Not exactly.
> 1. The return value depends order set before you call ordSetFocus()
>   and it doesn't matter what you specify as parameter. Of course the
>   result can be different then you expected but in such case it was
>   caused by wrongly selected tag in previous ordSetFocus() call.
>
> 2. When you specify wrong (not existing) tag name then the behavior
>   depends on used RDD. Also in Clipper.
>   In Clipper DBFNTX and SIX3 RDDs do not change the index but
>   COMIX based RDDs change it to 0.
>   In Harbour decided to use the same behavior in all RDDs and
>   I chose COMIX CL53 DBFCDX like behavior because it allows help
>   to find and eliminate typos in the code and I left such note
>   in DBFNTX and DBFNSX:
>      /*
>       * In Clipper 5.3 DBFCDX (COMIX) when bad name or order is given
>       * tag number is set to 0 (natural record order). CL52 RDDs and
>       * SIX3 drivers do not change order in such case.
>       * I'd like to keep the same behavior in all native [x]Harbour
>       * RDDs and I chosen DBFCDX one as default. [druzus]
>       */
>
> And this is the one difference.
> The empty string returned by ordSetFocus() is result of some other
> typos in previously called ordSetFocus() which switch the order to 0.
>
> My advice. Look for the typos and fix them. Otherwise you will keep
> code which make sth like:
>   ordSetFocus( "wrongname" )
>   [ do sth ]
> and above ordSetFocus() is redundant and can be deleted or it fails
> but only sometimes when the order set by some other code is different
> then expected.
> Changing the default behavior I chose does not resolve the problem
> but only hides it. Such code has to be fixed even in Clipper programs.
> Probably it will be good to add even more strict behavior here and
> generate RT error [tag not found] in such case. It should help to
> locate such problems in source code quite fast. I.e. you can use
> USRRDD and overload UR_ORDLSTFOCUS method to catch all such situations
> and report RTE. Then you should be able to find quite fast all typos by
> simple runtime code testes. You can even report such problems saving
> the information to file and emulating original SIX3 behavior.
>
> > Difference 2)  sx_indexname returned CAPS all the time in Clipper.  Also,
> > with a few more differences.  This is the workaround my senior has
> created
> > to deal with this.
> > ***************************
> > FUNC BM_INDEXNAME(x,lNoPath) // SIMULATES THE SX_INDEXNAME() BUT STRIPS
> THE
> > PATH
> >   // Harbour SX_Indexname() was not compat with SIX
> >   // Harbour does not covert to uppercase
> >   // Harbour return NIL instead of "" when no index is found
> >   LOCAL CDXNAME:=SX_INDEXNAME(X)
> >   LOCAL NPOS:=RAT("\",CDXNAME)
> >   If ValType(CDXName)="C"
> >     CDXName:=Upper(CDXName)
> >   Endif
> >   IF Valtype(lNoPath)="L".and.lNoPath .and. NPOS>0
> >     CDXNAME:=SUBSTR(CDXNAME,NPOS+1)
> >   ENDIF
> > RETURN CDXNAME
> > **********************
> > I think this will clear up the confusion earlier.  I'm sorry for that. :(
> > But basically with these two things we are having to do, we are finding a
> > lot of our .PRGs need to be changed.  If this now makes sense, could you
> > recommend some steps for us to take?
>
> Harbour works on systems using case sensitive file systems.
> Any conversions on file names are bugs for us. In the future you may
> want to migrate to some other systems like Linux, MacOSX or any other
> POSIX compatible system so I suggest to be really careful with forcing
> any upper/lower file names conversions. Otherwise you will ask about
> some other problem when:
>   dbCreate( "Test", aStruct )
>   use test
> will not work.
> Using such wrappers is quite good solution if you want to force upper
> names for comparison only and can be introduced in few minutes by simple
> S&R but if such function is used to make some operation on files then
> it's hardcoded only to case sensitive FS which in practice exists only
> in DOS, MS-Windows and OS2 and even in this OS-es it's possible to
> access some other file systems using case sensitive file names and
> your programs will not work.
>
> BTW Harbour has HB_FNAMESPLIT() function and Sx_FNameParser()
> which seem to be better to implement lNoPath parameter because
> they will strip drive letter and also respect '/' as directory
> separator: i.e.
>
>   func bm_indexName( x, lNoPath )
>   return upper( sx_FNameParser( sx_indexName( x ), ;
>                     valType( lNoPath ) != "L" .or. !lNoPath, .T. ) )
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100205/448906ed/attachment.html
From bedipritpal at hotmail.com  Fri Feb  5 23:20:24 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb  5 23:20:31 2010
Subject: [Harbour] hbIDE - Find in Files Dialog - What if presented as
 right-docked window
Message-ID: <1265430024927-4523965.post@n2.nabble.com>


Hello All,

What if find in files window is presented as right-docked window.

+ It will not cover the editor's area.
+ It will give interface a very professional feel.

- Only one instance of the process could be initiated.

I am anxious to form an opinion, please speak out.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Find-in-Files-Dialog-What-if-presented-as-right-docked-window-tp4523965p4523965.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Feb  5 23:24:26 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb  5 23:24:32 2010
Subject: [Harbour] Re: HBIDE Run-time Error!
In-Reply-To: <hki61d$gtn$1@ger.gmane.org>
References: <hkhump$pi2$1@ger.gmane.org>
	<1265403384027-4522166.post@n2.nabble.com>
	<hki61d$gtn$1@ger.gmane.org>
Message-ID: <1265430266478-4523972.post@n2.nabble.com>



Itamar Lins-2 wrote:
> 
> Yes same error.
> But, why working in CPU with MinGW?
> Is very confusing for me. Is problem with DLL?
> 

The other problem could be: 
old or missing   contrib/hbide/reources/*.uic.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/HBIDE-Run-time-Error-tp4522003p4523972.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From francek.prijatelj at siol.net  Sat Feb  6 04:05:02 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Sat Feb  6 04:05:09 2010
Subject: [Harbour] hbIDE - Find in Files Dialog - What if presented as
	right-docked window
In-Reply-To: <1265430024927-4523965.post@n2.nabble.com>
References: <1265430024927-4523965.post@n2.nabble.com>
Message-ID: <27477639.post@talk.nabble.com>


Hi Pritpal


Usualy editors/IDES (Eclipse, notepad++) put find information at the bottom.
Maybe a new tab (Compile results,Link results, Find results,Output
console,...)

BRGS
Fran?ek



Pritpal Bedi wrote:
> 
> 
> Hello All,
> 
> What if find in files window is presented as right-docked window.
> 
> + It will not cover the editor's area.
> + It will give interface a very professional feel.
> 
> - Only one instance of the process could be initiated.
> 
> I am anxious to form an opinion, please speak out.
> 
> -----
>                  enjoy hbIDEing...
>                     Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context:
> http://n2.nabble.com/hbIDE-Find-in-Files-Dialog-What-if-presented-as-right-docked-window-tp4523965p4523965.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/hbIDE---Find-in-Files-Dialog---What-if-presented-as-right-docked-window-tp27476983p27477639.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From francek.prijatelj at siol.net  Sat Feb  6 04:09:12 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Sat Feb  6 04:09:20 2010
Subject: [Harbour] hbIDE - Find in Files Dialog - What if presented as
	right-docked window
In-Reply-To: <1265430024927-4523965.post@n2.nabble.com>
References: <1265430024927-4523965.post@n2.nabble.com>
Message-ID: <27477640.post@talk.nabble.com>


Hi

And by the way.
When you close Function list, Projects or Build info  with top-right X, you
have to click twice on toolbar button to open it again.
(You don't set flags on close).

BRGS
Fran?ek


-- 
View this message in context: http://old.nabble.com/hbIDE---Find-in-Files-Dialog---What-if-presented-as-right-docked-window-tp27476983p27477640.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Feb  6 04:37:58 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb  6 04:38:05 2010
Subject: [Harbour] Re: hbIDE - Find in Files Dialog - What if presented as
 right-docked window
In-Reply-To: <27477640.post@talk.nabble.com>
References: <1265430024927-4523965.post@n2.nabble.com>
	<27477640.post@talk.nabble.com>
Message-ID: <1265449078227-4524634.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> And by the way.
> When you close Function list, Projects or Build info  with top-right X,
> you
> have to click twice on toolbar button to open it again.
> (You don't set flags on close).
> 

Yep. This functionality is still missing.
I will look into it again.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Find-in-Files-Dialog-What-if-presented-as-right-docked-window-tp4523965p4524634.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Feb  6 04:42:02 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb  6 04:42:12 2010
Subject: [Harbour] Re: hbIDE - Find in Files Dialog - What if presented as
 right-docked window
In-Reply-To: <27477639.post@talk.nabble.com>
References: <1265430024927-4523965.post@n2.nabble.com>
	<27477639.post@talk.nabble.com>
Message-ID: <1265449322913-4524644.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> Usualy editors/IDES (Eclipse, notepad++) put find information at the
> bottom.
> Maybe a new tab (Compile results,Link results, Find results,Output
> console,...)
> 

My curisity pertains to the whole dialog.
If I choose to display results (only) in bottom docking widget,
it is easy, but then we loose the possibilities of opening multiple 
instances of this engine. 

After some deep consideration I am convinced that current 
implemetation is better in many respects. No ?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbIDE-Find-in-Files-Dialog-What-if-presented-as-right-docked-window-tp4523965p4524644.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mauriliolongo at users.sourceforge.net  Sat Feb  6 06:13:45 2010
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Sat Feb  6 06:13:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13780] trunk/harbour
Message-ID: <E1Ndibh-0007Gh-0u@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13780
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13780&view=rev
Author:   mauriliolongo
Date:     2010-02-06 11:13:06 +0000 (Sat, 06 Feb 2010)

Log Message:
-----------
2010-02-06 12:10 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * src/rtl/fstemp.c
     + Added OS/2 section to hb_fsTempDir() which uses the
       environment variable "TEMP" to find out the temporary
       directory.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb  6 06:48:45 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb  6 06:48:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13781] trunk/harbour
Message-ID: <E1Ndj9Z-0004Nd-KT@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13781
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13781&view=rev
Author:   vszakats
Date:     2010-02-06 11:48:38 +0000 (Sat, 06 Feb 2010)

Log Message:
-----------
2010-02-06 12:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rdd/dbf1.c
  * src/compiler/hbopt.c
    * SCHAR -> HB_SCHAR

  * external/libhpdf/hpdffdft.c
  * utils/hbmk2/hbmk2.prg
    * Cleaned to not add double ending pathsep to Harbour -o option.

  * contrib/gtalleg/gtalleg.c
  * contrib/gtalleg/ssf.h
  * contrib/gtalleg/ssf.c
    * BYTE -> unsigned short, int, HB_BYTE
    * USHORT -> unsigned short
    * Some types synced between declaration and definition.
    * Formatting, code cleanups.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/gtalleg.c
    trunk/harbour/contrib/gtalleg/ssf.c
    trunk/harbour/contrib/gtalleg/ssf.h
    trunk/harbour/src/compiler/hbopt.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb  6 06:51:01 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb  6 06:51:11 2010
Subject: [Harbour] bug: ACHOICE()
Message-ID: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>

Hi All,

In recent SVN, tests/ac_test.prg shows some problems 
with ACHOICE(). It doesn't initially show to 
selecting and RTEs (Bound Error) after moving 
around.

Brgds,
Viktor

From itamarlins at gmail.com  Sat Feb  6 07:03:40 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Feb  6 07:04:13 2010
Subject: [Harbour] Re: HBIDE Run-time Error!
In-Reply-To: <1265410130844-4522812.post@n2.nabble.com>
References: <hkhump$pi2$1@ger.gmane.org>	<1265403384027-4522166.post@n2.nabble.com>	<hki61d$gtn$1@ger.gmane.org>
	<1265410130844-4522812.post@n2.nabble.com>
Message-ID: <hkjlqq$cmc$1@ger.gmane.org>

Hi!
Problem isolated.
HBIDE if not copy folder resorce,occurs the problem!
I comment out line HBIDE...UIC but same error.
Only copy folder resorce HBIDE working fine.

Best regards,
Itamar M. Lins Jr.

Pritpal Bedi escreveu:
> 
> Itamar Lins-2 wrote:
>> Yes same error.
>> But, why working in CPU with MinGW?
>> Is very confusing for me. Is problem with DLL?
>>
> 
> No, it is not mingw error.
> Ok, let us go another way:
> 
> 1) Edit hbide/hbide.ch
> 2) Comment out #define HBIDE_USE_UIC line.
> 3) Rebuild hbIDE as >hbmk2 hbide.hbp -rebuild
> 4) Report your findings then.
> 
> 
> -----
>                  enjoy hbIDEing...
>                     Pritpal Bedi 
> _a_student_of_software_analysis_&_design_

From itamarlins at gmail.com  Sat Feb  6 07:10:55 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Feb  6 07:11:30 2010
Subject: [Harbour] Re: HBIDE Run-time Error!
In-Reply-To: <hkjlqq$cmc$1@ger.gmane.org>
References: <hkhump$pi2$1@ger.gmane.org>	<1265403384027-4522166.post@n2.nabble.com>	<hki61d$gtn$1@ger.gmane.org>	<1265410130844-4522812.post@n2.nabble.com>
	<hkjlqq$cmc$1@ger.gmane.org>
Message-ID: <hkjm8b$cmc$2@ger.gmane.org>

The correct name of folder is resorces.

From mbelgrano at deltain.it  Sat Feb  6 07:34:25 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb  6 07:34:52 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13776] trunk/harbour
In-Reply-To: <1265402922825-4522112.post@n2.nabble.com>
References: <E1NdRqU-00070N-Vf@sfp-svn-2.v30.ch3.sourceforge.com> 
	<609353e71002051132u1d7c695bj3a96494dd9dee102@mail.gmail.com> 
	<1265402922825-4522112.post@n2.nabble.com>
Message-ID: <609353e71002060434i6e9484e6qf9195e32390d09c2@mail.gmail.com>

2010/2/5 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
> Massimo Belgrano wrote:
>>
>> Follow little problem :
>> After twice execute in Folder contain what i typed in ?expression
>> Search in file is not implemented
> I could not follow you ?
> Can you explain a little more.
type in folder c:\harbour
type in expression search pippo1
start search with button find
type in expression search pippo2
start search with button find
type in expression pippo3
start search with button find
now folder contain pippo3

>> -remember last search at each open if possible
> Sure. Will be available by next commit.
Thanks

>
>> more last search and more find folder.
> "More last search" is already there. Go out of hbIDE and
> reenter. All "Search Expressions" are included in drop-down list. No?
> The same is with "Folders" drop-down.
>
> OR
>
> Are you asking for simultaneous searches for multiple folders ?
> If yes, then you do not need it. Just change the folder and click
> "Find" again. The results will keep on appending in the same "Results"
> editor. So practically you may build "Search" for n number of
> combinations yet keeping results in the same document.
Yes thanks!
sorry for my bad explain



>> -each finded row dispay one row is possible a advanced option to
>> display more row 3-5?
>>
>
> I could not get what exactly you are asking for.
> Can you show an example how it should look like in "Results"
> taking a current serach snippet and changing it the way
> you want to see?
i search "LabelRules" and see follow row:
                           f_name,avail,'LabelRules',;
insteat will be usefull read lollow
      nRpik := achoice(nTop,nLeft,nBottom,nRight,;
                           f_name,avail,'LabelRules',;
                    nElement,nRelative)   // open label of active rule


>> -group option with "where" ?, "What" ?label
> What does "where" and "what" represents under "groups" ?
> An example will be better to understand what you mean.
a box with title that will give a better look

>> -Give the possibility of search two expression: for example i serc
>> myarray ?and ,31
>> serch myarray[1,31] or myarray[ a_pippo ,31]
>>
>
> Will be automatic after RegEx is implemented.
Still thanks


-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Sat Feb  6 08:01:12 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb  6 08:01:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13782] trunk/harbour
Message-ID: <E1NdkHg-0001VA-9I@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13782
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13782&view=rev
Author:   vszakats
Date:     2010-02-06 13:01:10 +0000 (Sat, 06 Feb 2010)

Log Message:
-----------
2010-02-06 14:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/garbage.c
  * src/vm/fm.c
  * src/vm/vm.c
  * include/hbapi.h
    * ULONG -> HB_SIZE in memory allocation functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/src/vm/vm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at gmail.com  Sat Feb  6 08:10:57 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Feb  6 08:11:34 2010
Subject: [Harbour] MinGW dllcall function not run.
Message-ID: <hkjpou$nno$1@ger.gmane.org>

Hi!
sorry to insist on that but there is a possibility to make it work with him.
I need to take MinGW.

Best regards,
Itamar M. Lins Jr.

From mbelgrano at deltain.it  Sat Feb  6 08:13:21 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb  6 08:13:49 2010
Subject: [Harbour] Re: hbIDE - Find in Files Dialog - What if presented as
	right-docked window
In-Reply-To: <1265449322913-4524644.post@n2.nabble.com>
References: <1265430024927-4523965.post@n2.nabble.com>
	<27477639.post@talk.nabble.com> 
	<1265449322913-4524644.post@n2.nabble.com>
Message-ID: <609353e71002060513r5e3f40bfm4b56d0299b920cc9@mail.gmail.com>

Open opening entire "find in fike  dialog" in a tab of source code
editor(if is possible) will allow  multiple instances of this engine.
and give a advanced  look, same will be for "project property"
VIsual studio 2008 for example open project property in a tab as is
possible see here
http://www.nmentor.com/Blog/images/FxCop%20Project%20Properties.jpg
http://www.codeproject.com/KB/dotnet/Visual_Studio_2008/clip_image003.gif

"Find in file"  is and  advanced search because basic search is still present

2010/2/6 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
> Fran?ek Prijatelj wrote:
>>
>> Usualy editors/IDES (Eclipse, notepad++) put find information at the
>> bottom.
>> Maybe a new tab (Compile results,Link results, Find results,Output
>> console,...)
>>
>
> My curisity pertains to the whole dialog.
> If I choose to display results (only) in bottom docking widget,
> it is easy, but then we loose the possibilities of opening multiple
> instances of this engine.
>
> After some deep consideration I am convinced that current
> implemetation is better in many respects. No ?
>
>



-- 
Massimo Belgrano
From fernando_athayde at yahoo.com.br  Sat Feb  6 09:19:07 2010
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Feb  6 09:19:16 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <hkjpou$nno$1@ger.gmane.org>
References: <hkjpou$nno$1@ger.gmane.org>
Message-ID: <699800.60026.qm@web52204.mail.re2.yahoo.com>

really don?t runs causes GPF
i am using 
#include "hbdll.ch"

   hdll:=dllload("EZTW32.DLL")
   dllcall(hdll,DC_CALL_STD,"TWAIN_SelectImageSource",::oFormCadastro:handle,)
   dllcall(hdll,DC_CALL_STD,"TWAIN_AcquireToFilename",::oFormCadastro:handle,"file.bmp")
   freelibrary(hdll)


Best Regards,
Fernando Athayde




________________________________
De: Itamar Lins <itamarlins@gmail.com>
Para: harbour@harbour-project.org
Enviadas: S?bado, 6 de Fevereiro de 2010 10:10:57
Assunto: [Harbour] MinGW dllcall function not run.

Hi!
sorry to insist on that but there is a possibility to make it work with him.
I need to take MinGW.

Best regards,
Itamar M. Lins Jr.

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100206/148959a0/attachment-0001.html
From vszakats at users.sourceforge.net  Sat Feb  6 10:05:06 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb  6 10:05:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13783] trunk/harbour
Message-ID: <E1NdmDa-0003Sg-MB@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13783
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13783&view=rev
Author:   vszakats
Date:     2010-02-06 15:05:04 +0000 (Sat, 06 Feb 2010)

Log Message:
-----------
2010-02-06 16:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/filesys.c
  * src/rtl/philes.c
  * src/rtl/filebuf.c
  * src/rtl/memofile.c
  * src/rdd/dbsql.c
  * src/rdd/hbsix/sxcompr.c
  * doc/en-EN/hb_apifs.txt
  * include/hbapifs.h
  * contrib/hbct/ctstrfil.c
  * contrib/hbsqlit3/hbsqlit3.c
  * contrib/hbmzip/hbmzip.c
  * contrib/hbnf/fttext.c
  * contrib/hbmemio/memio.c
  * contrib/hbnetio/netiocli.c
  * contrib/hbnetio/netiosrv.c
  * contrib/hbgd/gdwrp.c
  * contrib/hbwin/win_bmp.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * examples/gtwvw/gtwvw.c
    * Changed ULONG to HB_SIZE and HB_ISIZ in FS API functions.
    ! hb_fsTell() fixed to return HB_FOFFSET instead of ULONG.

  * contrib/hbmzip/hbmzip.c
    * ULONG -> HB_FATTR, uLong
    * Type cleanups.
    ; QUESTION: Is there any reason why we're not using the hb_fs*() functions
                in hb_zipGetFileInfo()?

  * src/vm/runner.c
    * ULONG -> HB_SIZE for size related variables.

  ; Review me please.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbct/ctstrfil.c
    trunk/harbour/contrib/hbgd/gdwrp.c
    trunk/harbour/contrib/hbmemio/memio.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbnetio/netiosrv.c
    trunk/harbour/contrib/hbnf/fttext.c
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c
    trunk/harbour/contrib/hbwin/win_bmp.c
    trunk/harbour/doc/en-EN/hb_apifs.txt
    trunk/harbour/examples/gtwvw/gtwvw.c
    trunk/harbour/include/hbapifs.h
    trunk/harbour/src/rdd/dbsql.c
    trunk/harbour/src/rdd/hbsix/sxcompr.c
    trunk/harbour/src/rtl/filebuf.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/memofile.c
    trunk/harbour/src/rtl/philes.c
    trunk/harbour/src/vm/runner.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Sat Feb  6 10:22:37 2010
From: smujohnson at gmail.com (smu johnson)
Date: Sat Feb  6 10:22:45 2010
Subject: [Harbour] bug: ACHOICE()
In-Reply-To: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
Message-ID: <674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>

Hi Viktor, see:

http://lists.harbour-project.org/pipermail/harbour/2010-February/031590.html

http://lists.harbour-project.org/pipermail/harbour/2010-February/031661.html

In case you missed them.

On Sat, Feb 6, 2010 at 3:51 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Hi All,
>
> In recent SVN, tests/ac_test.prg shows some problems
> with ACHOICE(). It doesn't initially show to
> selecting and RTEs (Bound Error) after moving
> around.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100206/9a9090ea/attachment.html
From harbour.01 at syenar.hu  Sat Feb  6 10:30:07 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb  6 10:30:17 2010
Subject: [Harbour] bug: ACHOICE()
In-Reply-To: <674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
	<674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>
Message-ID: <8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>

Hi,

I didn't miss them, but what I reported look like new 
errors after recent patches.

Just run ac_test.prg, press <down>, then <up> -> RTE.

It was okay in 2.0.0, but it's not okay in current trunk.

Brgds,
Viktor

On 2010 Feb 6, at 16:22, smu johnson wrote:

> Hi Viktor, see:
> 
> http://lists.harbour-project.org/pipermail/harbour/2010-February/031590.html
> 
> http://lists.harbour-project.org/pipermail/harbour/2010-February/031661.html
> 
> In case you missed them.
> 
> On Sat, Feb 6, 2010 at 3:51 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> Hi All,
> 
> In recent SVN, tests/ac_test.prg shows some problems
> with ACHOICE(). It doesn't initially show to
> selecting and RTEs (Bound Error) after moving
> around.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Sat Feb  6 11:40:06 2010
From: smujohnson at gmail.com (smu johnson)
Date: Sat Feb  6 11:40:16 2010
Subject: [Harbour] bug: ACHOICE()
In-Reply-To: <8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
	<674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>
	<8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>
Message-ID: <674e4ddd1002060840m3ae42420re7843298eb9baae@mail.gmail.com>

I am curious about this ACHOICE stuff.  It sounds as though Przemek thought
it needed to be rewritten from scratch.  Is that a big project to do, or
likely to be done?  I'm starting to think I'd be a lot more useful to the
Harbour Project if I was a good C programmer.

On Sat, Feb 6, 2010 at 7:30 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Hi,
>
> I didn't miss them, but what I reported look like new
> errors after recent patches.
>
> Just run ac_test.prg, press <down>, then <up> -> RTE.
>
> It was okay in 2.0.0, but it's not okay in current trunk.
>
> Brgds,
> Viktor
>
> On 2010 Feb 6, at 16:22, smu johnson wrote:
>
> > Hi Viktor, see:
> >
> >
> http://lists.harbour-project.org/pipermail/harbour/2010-February/031590.html
> >
> >
> http://lists.harbour-project.org/pipermail/harbour/2010-February/031661.html
> >
> > In case you missed them.
> >
> > On Sat, Feb 6, 2010 at 3:51 AM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
> > Hi All,
> >
> > In recent SVN, tests/ac_test.prg shows some problems
> > with ACHOICE(). It doesn't initially show to
> > selecting and RTEs (Bound Error) after moving
> > around.
> >
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100206/3fad90b1/attachment.html
From jarabal at gmail.com  Sat Feb  6 11:41:16 2010
From: jarabal at gmail.com (Xavi)
Date: Sat Feb  6 11:41:33 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <699800.60026.qm@web52204.mail.re2.yahoo.com>
References: <hkjpou$nno$1@ger.gmane.org>
	<699800.60026.qm@web52204.mail.re2.yahoo.com>
Message-ID: <4B6D9BAC.8050306@gmail.com>

Hi,

I guess that is because hbwin is compiled with -fomit-frame-pointer.
Try copy win_dll.c to the folder tests and compiled with .-

hbmk2 testdll.prg win_dll.c -lstdc++ -debug

Ok, I've only tested with gcc-dw2.exe

-- 
Xavi

El 06/02/2010 15:19, Fernando Athayde escribi?:
> really don?t runs causes GPF
> i am using
> #include "hbdll.ch"
>
> hdll:=dllload("EZTW32.DLL")
> dllcall(hdll,DC_CALL_STD,"TWAIN_SelectImageSource",::oFormCadastro:handle,)
> dllcall(hdll,DC_CALL_STD,"TWAIN_AcquireToFilename",::oFormCadastro:handle,"file.bmp")
> freelibrary(hdll)
>
>
> Best Regards,
> Fernando Athayde
>
> *De:* Itamar Lins <itamarlins@gmail.com>
> *Para:* harbour@harbour-project.org
> *Enviadas:* S?bado, 6 de Fevereiro de 2010 10:10:57
> *Assunto:* [Harbour] MinGW dllcall function not run.
>
> Hi!
> sorry to insist on that but there is a possibility to make it work with him.
> I need to take MinGW.
>
> Best regards,
> Itamar M. Lins Jr.
>
From harbour.01 at syenar.hu  Sat Feb  6 12:06:17 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb  6 12:06:27 2010
Subject: [Harbour] bug: ACHOICE()
In-Reply-To: <674e4ddd1002060840m3ae42420re7843298eb9baae@mail.gmail.com>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
	<674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>
	<8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>
	<674e4ddd1002060840m3ae42420re7843298eb9baae@mail.gmail.com>
Message-ID: <4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>

> I am curious about this ACHOICE stuff.  It sounds as though Przemek thought it needed to be rewritten from scratch.  Is that a big project to do, or likely to be done?  I'm starting to think I'd be a lot more useful to the Harbour Project if I was a good C programmer.

ACHOICE() (and also MEMOEDIT()) needs to be rewritten from scratch 
IMO too. Can't tell how much work is ACHOICE(), but to make such 
effort useful, I'd estimate large part of the work to be pure testing 
to trace back what exactly needs to be implemented and how, to be 
perfectly Clipper compatible.

These parts don't need any .c programming skills, it's currently 
written in .prg and it's perfect if any new implementation also use 
.prg code.

Brgds,
Viktor

> On Sat, Feb 6, 2010 at 7:30 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> Hi,
> 
> I didn't miss them, but what I reported look like new
> errors after recent patches.
> 
> Just run ac_test.prg, press <down>, then <up> -> RTE.
> 
> It was okay in 2.0.0, but it's not okay in current trunk.
> 
> Brgds,
> Viktor
> 
> On 2010 Feb 6, at 16:22, smu johnson wrote:
> 
> > Hi Viktor, see:
> >
> > http://lists.harbour-project.org/pipermail/harbour/2010-February/031590.html
> >
> > http://lists.harbour-project.org/pipermail/harbour/2010-February/031661.html
> >
> > In case you missed them.
> >
> > On Sat, Feb 6, 2010 at 3:51 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> > Hi All,
> >
> > In recent SVN, tests/ac_test.prg shows some problems
> > with ACHOICE(). It doesn't initially show to
> > selecting and RTEs (Bound Error) after moving
> > around.
> >
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sat Feb  6 12:20:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb  6 12:20:21 2010
Subject: [Harbour] Re: Testing - New user
In-Reply-To: <1265472126386-4525815.post@n2.nabble.com>
References: <1265472126386-4525815.post@n2.nabble.com>
Message-ID: <1265476814411-4526079.post@n2.nabble.com>


Welcome.

Your test seems to be OK.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Testing-New-user-tp4525815p4526079.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Feb  6 12:32:06 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb  6 12:32:13 2010
Subject: [Harbour] Re: bug: ACHOICE()
In-Reply-To: <4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
	<674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>
	<8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>
	<674e4ddd1002060840m3ae42420re7843298eb9baae@mail.gmail.com>
	<4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>
Message-ID: <1265477526432-4526126.post@n2.nabble.com>


Hi

Below is the ACHoice as class code which I 
wrote years back. Right now I cannot collect why 
I did so as memory has faded. May be this code 
comes handy if someone one wants to give 
it a look. Just let me know if some function 
is missing. It is simply a copy and paste operation.


========================================

//----------------------------------------------------------------------//
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//
//
//                     AChoice()  Class Code
//
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//

#ifdef __HARBOUR__
   #include      'HBClass.ch'
#else
   #include       'classv.ch'
#endif

//----------------------------------------------------------------------//

CREATE CLASS AChoiceNew

#ifndef __HARBOUR__
EXPORT:
#endif
   VAR nTop, nLeft, nBottom, nRight
   VAR acItems
   VAR xSelect
   VAR cUserFunc
   VAR nPos
   VAR nHiLiteRow
   VAR oWin
   VAR cargo_
   VAR nNumCols
   VAR nNumRows
   VAR acCopy
   VAR alSelect
   VAR nNewPos
   VAR lFinished
   VAR nKey
   VAR nMode
   VAR nAtTop
   VAR nAtBtm
   VAR nItems
   VAR bScan
   VAR lUserFunc
   VAR nUserFunc
   VAR bUserFunc
   VAR cLoClr
   VAR cHiClr
   VAR cUnClr
   VAR nFrstItem
   VAR nLastItem
   VAR bAction
   VAR mrc_

   METHOD Init
   METHOD Destroy
   METHOD DispPageNew
   METHOD DispLineNew
   METHOD Up
   METHOD Down
   METHOD PageUp
   METHOD PageDown
   METHOD GoTop
   METHOD GoBottom
   METHOD Top
   METHOD Bottom
   METHOD GoTo
   METHOD Exe
   METHOD DeHilite
   METHOD HiLite
   METHOD DispAtNew

ENDCLASS

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:Destroy()
#else
METHOD Destroy()
#endif

#ifndef __HARBOUR__

::nTop      := NIL
::nLeft     := NIL
::nBottom   := NIL
::nRight    := NIL
::acItems   := NIL
::xSelect   := NIL
::cUserFunc := NIL
::nPos      := NIL
::nHiLiteRow:= NIL
::oWin      := NIL
::cargo_    := NIL

::nNumCols  := NIL
::nNumRows  := NIL
::acCopy    := NIL
::alSelect  := NIL
::nNewPos   := NIL
::lFinished := NIL
::nKey      := NIL
::nMode     := NIL
::nAtTop    := NIL
::nAtBtm    := NIL
::nItems    := NIL
::bScan     := NIL
::lUserFunc := NIL
::nUserFunc := NIL
::bUserFunc := NIL
::cLoClr    := NIL
::cHiClr    := NIL
::cUnClr    := NIL
::nFrstItem := NIL
::nLastItem := NIL
::bAction   := NIL
::mrc_      := NIL

#endif

Return Nil

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:Init( nTop, nLft, nBtm, nRgt, acItems, xSelect, ;
                        cUserFunc, nPos, nHiLiteRow, oWin, nLastKey, cargo_
)
#else
METHOD Init( nTop, nLft, nBtm, nRgt, acItems, xSelect, ;
                        cUserFunc, nPos, nHiLiteRow, oWin, nLastKey, cargo_
)
#endif

Local nCntr

UN_USED( nLastKey )

DEFAULT nTop       TO 0              // The topmost row of the window
DEFAULT nLft       TO 0              // The leftmost column of the window
DEFAULT nBtm       TO maxrow() + 1   // The bottommost row of the windows
DEFAULT nRgt       TO maxcol() + 1   // The rightmost column of the window
DEFAULT acItems    TO {}             // The items from which TO choose
DEFAULT xSelect    TO .T.            // Array or logical, what is selectable
DEFAULT cUserFunc  TO NIL            // Optional function for key exceptions
DEFAULT nPos       TO 1              // The number of the selected item
DEFAULT nHiLiteRow TO 0              // The row to be highlighted

::nTop        := nTop
::nLeft       := nLft
::nBottom     := nBtm
::nRight      := nRgt
::acItems     := acItems
::xSelect     := xSelect
::cUserFunc   := cUserFunc
::nPos        := nPos
::nHiLiteRow  := nHiLiteRow
::oWin        := oWin
::cargo_      := cargo_

::nNumCols    := 0                    // Number of columns in the window
::nNumRows    := 0                    // Number of rows in the window
::acCopy      := {}                   // A padded copy of the items
::alSelect    := {}                   // Select permission
::nNewPos     := 0                    // The next item to be selected
::lFinished   := .F.                  // Is processing finished?
::nKey        := 0                    // The keystroke to be processed
::nMode       := AC_IDLE              // The current operating mode
::nAtTop      := 1                    // The number of the item at the top
::nAtBtm      := 1                    // The number of the item at the
bottom
::nItems      := 0                    // The number of items
::bScan       := { | cX | if( left( cX, 1 ) == upper( chr( ::nKey ) ), .T.,
.F. ) }
::lUserFunc   := ( !empty( ::cUserFunc ) )
::nUserFunc   := 0                    // Return value from user function
::bUserFunc   := { || AC_ABORT }      // Block form of user function
::cLoClr      := Before( ",", setcolor() )
::cHiClr      := Before( ",", After( ",", setcolor() ) )
::cUnClr      := After( ",", After( ",", After( ",", After( ",", setcolor()
) ) ) )
::nFrstItem   := 0
::nLastItem   := 0
::bAction     := nil
::mrc_        := {}

IF ::lUserFunc
   ::bUserFunc := &( "{|nM,nP,nH,nK,aC|" + ::cUserFunc + "(nM,nP,nH,nK,aC)}"
)
endif

IF empty( ::cHiClr )
   ::cHiClr := After( "/", ::cLoClr ) + "/" + Before( "/", ::cLoClr )
endif

IF empty( ::cUnClr )
   ::cUnClr := ::cLoClr
endif

::nNumCols := ::nRight - ::nLeft + 1
::nNumRows := ::nBottom - ::nTop + 1

aeval( ::acItems, { | x | if( valtype( x ) == "C", aadd( ::acCopy, padr( x,
::nNumCols ) ), .F. ) } )
::nItems := len( ::acCopy )

::alSelect := array( ::nItems )

IF valtype( ::xSelect ) == "A"
   afill( ::alSelect, .T. )
   for nCntr := 1 to len( ::xSelect )
      IF nCntr <= ::nItems
         IF valtype( ::xSelect[ nCntr ] ) == "C"
            IF empty( ::xSelect[ nCntr ] )
               ::lFinished := .T.
               ::nPos      := 0
            else
               ::alSelect[ nCntr ] := &( ::xSelect[ nCntr ] )
            endif
         else
            ::alSelect[ nCntr ] := ::xSelect[ nCntr ]
         endif
      else
         nCntr := len( ::xSelect ) + 1
      endif
   next
else
   afill( ::alSelect, ::xSelect )
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:Exe()
#else
METHOD Exe()
#endif

Local nOption, nLastPos

IF !( ::lFinished )
   ::nFrstItem := ascan( ::alSelect, .T. )  // First valid item

   IF ::nFrstItem == 0
      ::nLastItem := 0
      ::nPos      := 0
      ::nMode     := AC_NOITEM
   else
      ::nMode     := AC_IDLE
      ::nLastItem := ::nItems
      do while ( !( ::alSelect[ ::nLastItem ] ) )
         ::nLastItem--
      enddo
   endif

   // Ensure hilighted item can be selected
   ::nPos := BETWEEN( ::nFrstItem, ::nPos, ::nLastItem )
   ::nNewPos := ::nPos
   if !( ::alSelect[ ::nNewPos ] )
      if ::nNewPos == ::nLastItem
         ::nNewPos := ::nFrstItem
      endif
      do while ( !( ::alSelect[ ::nNewPos ] ) )
         ::nNewPos++
      enddo
   endif
   ::nPos := ::nNewPos

   // Force hilighted row to be valid
   //
   ::nHiLiteRow := BETWEEN( 0, ::nHiLiteRow, ::nNumRows - 1 )

   // Force the topmost item to be a valid index of the array
   //
   ::nAtTop := BETWEEN( 1, max( 1, ::nPos - ::nHiLiteRow ), ::nItems )

   // Ensure as much of the selection area as possible is covered
   //
   if ( ::nAtTop + ::nNumRows - 1 ) > ::nItems
      ::nAtTop := max( 1, ::nItems - ::nNumrows + 1 )
   endif

   ::DispPageNew()
endif

#ifdef __XPP__
   ::oWin:SetDisplayFocus( {|| ::DispPageNew() } )
#endif

do while ( !::lFinished )

   IF ::nMode != AC_GOTO .and. ::nMode != AC_NOITEM
      ::nKey  := b_inkey()
      ::nMode := AC_IDLE
      ::mrc_  := mState()
   endif

#ifdef __WVT__
   if nLastPos <> ::nPos
      Wvt_DrawFocusRect( ::nTop + ( ::nPos - ::nAtTop ), ::nLeft, ;
                         ::nTop + ( ::nPos - ::nAtTop ), ::nRight )
      nLastPos := ::nPos
   endif
#endif

#ifdef __XPP__
   do case
   case ::nKey == xbeK_ESC
      ::nKey := K_ESC

   case ::nKey == xbeK_CTRL_ENTER
      ::lFinished := .T.
      keyboard( chr( K_CTRL_ENTER ) )
      exit
      ::nKey := 12121212

   endcase
#endif

   do case
   case ( ::bAction := SetKey( ::nKey ) ) != nil
      eval( ::bAction, ProcName( 1 ), ProcLine( 1 ), '' )

   case ::nKey == K_MOVING
      ::nPos := ::DispAtNew()

#ifdef __WVT__
   case ::nKey == K_MWFORWARD
      ::Up()

   case ::nKey == K_MWBACKWARD
      ::Down()

   case ::nKey == K_LDBLCLK
      ::nPos := ::DispAtNew()
      ::nMode  := AC_SELECT

   case ::nKey == K_RIGHT_DOWN
      nOption := WvtPopup( 1002 )

      do case

      case nOption == K_PGUP
         ::PageUp()
      case nOption == K_PGDN
         ::PageDown()
      case nOption == K_CTRL_PGUP
         ::GoTop()
      case nOption == K_CTRL_PGDN
         ::GoBottom()
      case nOption == K_MWFORWARD
         ::Up()
      case nOption == K_MWBACKWARD
         ::Down()
      case nOption == K_HOME
         ::Top()
      case nOption == K_END
         ::Bottom()
      case nOption == K_CTRL_END
         ::nKey := K_CTRL_END
         ::lFinished := .t.
         Loop
      endcase
      do while inkey()<> 0
      enddo
#endif

   case ::nKey == K_LEFT_DOWN
      if ::mrc_[ 3 ] >= ::nTop  .and. ::mrc_[ 3 ] <= ::nBottom .and. ;
         ::mrc_[ 4 ] >= ::nLeft .and. ::mrc_[ 4 ] <= ::nRight
         keyboard( chr( K_ENTER ) )
      endif

   case ( ( ::nKey == K_ESC ) .or. ( ::nMode == AC_NOITEM ) ) .and. (
!::lUserFunc )
      ::nMode     := AC_ABORT
      ::nPos      := 0
      ::lFinished := .T.

   case ::nKey == K_UP
      ::Up()

   case ::nKey == K_DOWN
      ::Down()

   case ::nKey == K_PGUP
      ::PageUp()

   case ::nKey == K_PGDN
      ::PageDown()

   case ::nKey == K_HOME
      ::Top()

   case ::nKey == K_END
      ::Bottom()

   case ( ::nKey == K_CTRL_HOME .or. ::nKey == K_CTRL_PGUP )
      ::GoTop()

   case ( ::nKey == K_CTRL_END .or. ::nKey == K_CTRL_PGDN )
      ::GoBottom()

   case ( ::nKey == K_ENTER ) .and. ( !::lUserFunc )
      ::nMode     := AC_SELECT
      ::lFinished := .T.

   case ( ::nKey == K_RIGHT ) .and. ( !::lUserFunc )
      ::nPos      := 0
      ::lFinished := .T.

   case ( ::nKey == K_LEFT ) .and. ( !::lUserFunc )
      ::nPos      := 0
      ::lFinished := .T.

   case INRANGE( 32, ::nKey, 255 ) .and. ( ( !::lUserFunc ) .or. ( ::nMode
== AC_GOTO ) )
      ::GoTo()
      ::nMode := AC_IDLE

   case ::nMode == AC_GOTO
      ::nMode := AC_IDLE

   otherwise
      if ::nKey == 0
         ::nMode := AC_IDLE
      else
         ::nMode := AC_EXCEPT
      endif

   endcase

   IF ::lUserFunc
      ::nUserFunc := eval( ::bUserFunc, ::nMode, ::nPos, ;
                           ::nPos - ::nAtTop, ::nKey, ::cargo_ )
      do case
      case ::nUserFunc == AC_ABORT
         ::lFinished := .T.
         ::nPos      := 0

      case ::nUserFunc == AC_SELECT
         ::lFinished := .T.

      case ::nUserFunc == AC_CONT

      case ::nUserFunc == AC_GOTO
         ::nMode := AC_GOTO

      endcase
   endif
enddo

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:DispPageNew()
#else
METHOD DispPageNew()
#endif

local nCntr
local nRow := row()
local nCol := col()
local nRowPos, nPos

DispBegin()

for nCntr := 1 to ::nNumRows
   nRowPos := ::nTop   + nCntr - 1
   nPos    := ::nAtTop + nCntr - 1

   if INRANGE( 1, nPos, ::nItems )
      ::DispLineNew( nPos, nRowPos, nPos == ::nPos )
   else
      DispOutAt( nRowPos, ::nLeft, space( len( ::acCopy[ 1 ] ) ), ::cLoClr,
::oWin )
   endif
next

DispEnd()

SetPos( nRow,nCol )

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:DispLineNew( nPos, nRow, lHiLite )
#else
METHOD DispLineNew( nPos, nRow, lHiLite )
#endif

DispOutAt( nRow, ::nLeft, ::acCopy[ nPos ],;
             if( ::alSelect[ nPos ], ;
               if( lHiLite, ::cHiClr, ::cLoClr ), ::cUnClr ), ::oWin )

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:DeHilite()
#else
METHOD DeHilite()
#endif

::DispLineNew( ::nPos, ::nTop + ( ::nPos - ::nAtTop ), .F. )

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:HiLite()
#else
METHOD HiLite()
#endif

::DispLineNew( ::nPos, ::nTop + ( ::nPos - ::nAtTop ), .T. )

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:Up()
#else
METHOD Up()
#endif

local nScroll

if ::nPos == ::nFrstItem
   ::nMode := AC_HITTOP
   if ::nAtTop > max( 1, ::nPos - ::nNumRows + 1 )
      ::nAtTop := max( 1, ::nPos - ::nNumRows + 1 )
      ::DispPageNew()
   endif
else
   ::nNewPos := ::nPos - 1
   do while !( ::alSelect[ ::nNewPos ] )
      ::nNewPos--
   enddo

   IF INRANGE( ::nAtTop, ::nNewPos, ::nAtTop + ::nNumRows - 1 )
      ::DeHilite()
      ::nPos := ::nNewPos
      ::HiLite()
   else
      DispBegin()

      ::DeHilite()

      nScroll := max( -::nNumRows, ( ::nNewPos - ( ::nAtTop + ::nNumRows - 1
) ) )
      Scroll( ::nTop, ::nLeft, ::nBottom, ::nRight, nScroll )

      ::nAtTop := ::nNewPos
      ::nPos   := max( ::nPos, ::nAtTop + ::nNumRows - 1 )

      do while ( ::nPos > ::nNewPos )
         ::DispLineNew( ::nPos, ::nTop + ( ::nPos - ::nAtTop ), .F. )
         ::nPos--
      enddo

      ::HiLite()

      Dispend()
   endif
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:Down()
#else
METHOD Down()
#endif

local nScroll

IF ::nPos == ::nLastItem
   ::nMode := AC_HITBOTTOM
   IF ::nAtTop < min( ::nPos, ::nItems - ::nNumRows + 1 )
      ::nAtTop := min( ::nPos, ::nItems - ::nNumRows + 1 )
      ::DispPageNew()
   endif
else
   ::nNewPos := ::nPos + 1
   do while !( ::alSelect[ ::nNewPos ] )
      ::nNewPos++
   enddo

   IF INRANGE( ::nAtTop, ::nNewPos, ::nAtTop + ::nNumRows - 1 )
      ::DeHilite()
      ::nPos := ::nNewPos
      ::HiLite()
   else
      Dispbegin()

      ::DeHilite()

      nScroll := min( ::nNumRows, ( ::nNewPos - ( ::nAtTop + ::nNumRows - 1
) ) )
      scroll( ::nTop, ::nLeft, ::nBottom, ::nRight, nScroll )

      ::nAtTop := ::nNewPos - ::nNumRows + 1
      ::nPos   := max( ::nPos, ::nAtTop )
      do while ( ::nPos < ::nNewPos )
         ::DispLineNew( ::nPos, ::nTop + ( ::nPos - ::nAtTop ), .F. )
         ::nPos ++
      enddo

      ::Hilite()

      Dispend()
   endif
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:PageUp()
#else
METHOD PageUp()
#endif

IF ::nPos == ::nFrstItem
   ::nMode := AC_HITTOP
   IF ::nAtTop > max( 1, ::nPos - ::nNumRows + 1 )
      ::nAtTop := max( 1, ::nPos - ::nNumRows + 1 )
      ::DispPageNew()
   endif
else
   IF INRANGE( ::nAtTop, ::nFrstItem, ::nAtTop + ::nNumRows - 1 )
      ::nPos   := ::nFrstItem
      ::nAtTop := max( ::nPos - ::nNumRows + 1, 1 )
      ::DispPageNew()
   else
      if ( ::nPos - ::nNumRows + 1 ) < ::nFrstItem
         ::nPos   := ::nFrstItem
         ::nAtTop := ::nFrstItem
      else
         ::nPos   := max( ::nFrstItem, ::nPos - ::nNumRows + 1 )
         ::nAtTop := max( 1, ::nAtTop - ::nNumRows + 1 )
         do while ( ::nPos > ::nFrstItem ) .and. ( !( ::alSelect[ ::nPos ] )
)
            ::nPos--
            ::nAtTop--
         enddo
         ::nAtTop := max( 1, ::nAtTop )
      endif
      ::DispPageNew()
   endif
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:PageDown()
#else
METHOD PageDown()
#endif

local nGap

IF ::nPos == ::nLastItem
   ::nMode := AC_HITBOTTOM
   if ::nAtTop < min( ::nPos, max( 1, ::nItems - ::nNumRows + 1 ) )
      ::nAtTop := min( ::nPos, max( 1, ::nItems - ::nNumRows + 1 ) )
      ::DispPageNew()
   endif
else
   IF INRANGE( ::nAtTop, ::nLastItem, ::nAtTop + ::nNumRows - 1 )
      ::DeHilite()
      ::nPos := ::nLastItem
      ::Hilite()
   else
      nGap := ::nPos - ::nAtTop
      ::nPos := min( ::nLastItem, ::nPos + ::nNumRows - 1 )
      if ( ::nPos + ::nNumRows - 1 ) > ::nLastItem
         ::nAtTop := ::nLastItem - ::nNumRows + 1
         ::nPos   := min( ::nLastItem, ::nAtTop + nGap )
      else
         ::nAtTop := ::nPos - nGap
      endif

      do while ( ::nPos < ::nLastItem ) .and. !( ::alSelect[ ::nPos ] )
         ::nPos++
         ::nAtTop++
      enddo

      do while ( ::nAtTop + ::nNumRows - 1 ) > ::nItems
         ::nAtTop--
      enddo
      ::DispPageNew()
   endif
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:Top()
#else
METHOD Top()
#endif

IF ::nPos == ::nFrstItem
   IF ::nAtTop == max( 1, ::nPos - ::nNumRows + 1 )
      ::nMode := AC_HITTOP
   else
      ::nAtTop := max( 1, ::nPos - ::nNumRows + 1 )
      ::DispPageNew()
   endif
else
   ::nNewPos := ::nAtTop
   do while !( ::alSelect[ ::nNewPos ] )
      ::nNewPos++
   enddo
   IF ::nNewPos != ::nPos
      ::DeHilite()
      ::nPos := ::nNewPos
      ::HiLite()
   endif
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:Bottom()
#else
METHOD Bottom()
#endif

IF ::nPos == ::nLastItem
   IF ::nAtTop == min( ::nPos, ::nItems - ::nNumRows + 1 )
      ::nMode := AC_HITBOTTOM
   else
      ::nAtTop := min( ::nPos, ::nItems - ::nNumRows + 1 )
      ::DispPageNew()
   endif
else
   ::nNewPos := ::nAtTop + ::nNumRows - 1
   do while !( ::alSelect[ ::nNewPos ] )
      ::nNewPos--
   enddo
   IF ::nNewPos != ::nPos
      ::DeHilite()
      ::nPos := ::nNewPos
      ::HiLite()
   endif
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:GoTop()
#else
METHOD GoTop()
#endif

IF ::nPos == ::nFrstItem
   IF ::nAtTop == max( 1, ::nPos - ::nNumRows + 1 )
      ::nMode := AC_HITTOP
   else
      ::nAtTop := max( 1, ::nPos - ::nNumRows + 1 )
      ::DispPageNew()
   endif
else
   ::nPos   := ::nFrstItem
   ::nAtTop := ::nPos
   ::DispPageNew()
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:GoBottom()
#else
METHOD GoBottom()
#endif

IF ::nPos == ::nLastItem
   IF ::nAtTop == min( ::nLastItem, ::nItems - ::nNumRows + 1 )
      ::nMode := AC_HITBOTTOM
   else
      ::nAtTop := min( ::nLastItem, ::nItems - ::nNumRows + 1 )
      ::DispPageNew()
   endif
else
   IF INRANGE( ::nAtTop, ::nLastItem, ::nAtTop + ::nNumRows - 1 )
      ::DeHilite()
      ::nPos := ::nLastItem
      ::HiLite()
   else
      ::nPos   := ::nLastItem
      ::nAtTop := max( 1, ::nPos - ::nNumRows + 1 )
      ::DispPageNew()
   endif
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:GoTo()
#else
METHOD GoTo()
#endif

::nNewPos := ascan( ::acCopy, ::bScan, ::nPos + 1 )
do while INRANGE( ::nPos, ::nNewPos, ::nLastItem ) .and. !( ::alSelect[
::nNewPos ] )
   ::nNewPos := ascan( ::acCopy, ::bScan, ::nNewPos + 1 )
enddo

IF ::nNewPos == 0
   ::nNewPos := ascan( ::acCopy, ::bScan )
   do while INRANGE( 1, ::nNewPos, ::nLastItem ) .and. !( ::alSelect[
::nNewPos ] )
      ::nNewPos := ascan( ::acCopy, ::bScan, ::nNewPos + 1 )
   enddo
endif

IF INRANGE( ::nFrstItem, ::nNewPos, ::nLastItem ) .and. ::alSelect[
::nNewPos ]
   IF INRANGE( ::nAtTop, ::nNewPos, ::nAtTop + ::nNumRows - 1 )
      ::DeHilite()
      ::nPos := ::nNewPos
      ::HiLite()
   else
      ::nPos   := ::nNewPos
      ::nAtTop := BETWEEN( 1, ::nPos - ::nNumRows + 1, ::nItems )
      ::DispPageNew()
   endif
endif

Return Self

//----------------------------------------------------------------------//

#ifdef __XPP__
METHOD AChoiceNew:DispAtNew()
#else
METHOD DispAtNew()
#endif

local nNewPos

if ::mrc_[ 3 ] >= ::nTop .and. ::mrc_[ 3 ] <= ::nTop + ::nNumRows - 1 ;
                              .and. ;
         ::mrc_[ 4 ] >= ::nLeft .and. ::mrc_[ 4 ] <= ::nRight

   if ( nNewPos := ::nAtTop + ( ::mrc_[ 3 ] - ::nTop ) ) <> ::nPos
      if ::alSelect[ nNewPos ]
         ::DeHilite()
         ::nPos    := nNewPos
         ::nNewPos := ::nPos
         ::HiLite()
/*
         #ifdef __WVT__
            Wvt_DrawFocusRect( ::nTop + ( ::nPos - ::nAtTop ), ::nLeft, ;
                               ::nTop + ( ::nPos - ::nAtTop ), ::nRight )
         #endif
*/
      endif
   endif
endif

Return ::nPos

//----------------------------------------------------------------------//


=========================================================

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/bug-ACHOICE-tp4524977p4526126.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Feb  6 12:34:44 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb  6 12:34:52 2010
Subject: [Harbour] Re: bug: ACHOICE()
In-Reply-To: <1265477526432-4526126.post@n2.nabble.com>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
	<674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>
	<8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>
	<674e4ddd1002060840m3ae42420re7843298eb9baae@mail.gmail.com>
	<4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>
	<1265477526432-4526126.post@n2.nabble.com>
Message-ID: <1265477684325-4526137.post@n2.nabble.com>


Oh sorry

Here is the top of that code:

=========================================================

#include "dev.ch"
#include "INKEY.CH"
#include "SETCURS.CH"
#include "SET.CH"
#include "ACHOICE.CH"
#include "COMMON.CH"
#ifdef __XPP__
   #include 'appEvent.ch'
#endif
#ifdef __WVT__
   #include 'sy_wvt.ch'
#endif

//----------------------------------------------------------------------//

#define  K_MOVING          1001
#define  K_LEFT_DOWN       1002
#define  K_LEFT_DBLCLICK   1006
#define  K_LEFT_UP         1003
#define  K_RIGHT_DOWN      1004
#define  K_RIGHT_DBLCLICK  1007
#define  K_RIGHT_UP        1005

//----------------------------------------------------------------------//

#define INRANGE( xLo, xVal, xHi )  ( ( xVal >= xLo ) .and. ( xVal <= xHi ) )
#define BETWEEN( xLo, xVal, xHi )  min( max( xLo, xVal ), xHi )

//----------------------------------------------------------------------//

function AChoice( nTop, nLft, nBtm, nRgt, acItems, xSelect, cUserFunc, ;
                               nPos, nHiLytRow, oWin, nLastKey, cargo_ )
local nChoice, oChoice
local crs := SetCursor( 0 )

oChoice := AChoiceNew():New( nTop, nLft, nBtm, nRgt, acItems, xSelect, ;
                             cUserFunc, ;
                             nPos, nHiLytRow, oWin, nLastKey, cargo_   )
oChoice:Exe()
nChoice  := oChoice:nPos
nLastKey := oChoice:nKey
oChoice:Destroy()

SetCursor( crs )

return ( nChoice )

//----------------------------------------------------------------------//




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/bug-ACHOICE-tp4524977p4526137.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Feb  6 12:37:25 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb  6 12:37:34 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <4B6D9BAC.8050306@gmail.com>
References: <hkjpou$nno$1@ger.gmane.org>
	<699800.60026.qm@web52204.mail.re2.yahoo.com>
	<4B6D9BAC.8050306@gmail.com>
Message-ID: <E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>

Hi Xavi,

Very good point.

I can add ugly hack to makefiles to always keep frame 
pointers for mingw in hbwin lib to make hb_DynaCall() 
function happy, but I wonder if it's possible to fix this 
function to not be sensitive on this setting.

Any idea?

Brgds,
Viktor

On 2010 Feb 6, at 17:41, Xavi wrote:

> Hi,
> 
> I guess that is because hbwin is compiled with -fomit-frame-pointer.
> Try copy win_dll.c to the folder tests and compiled with .-
> 
> hbmk2 testdll.prg win_dll.c -lstdc++ -debug
> 
> Ok, I've only tested with gcc-dw2.exe
> 
> -- 
> Xavi
> 
> El 06/02/2010 15:19, Fernando Athayde escribi?:
>> really don?t runs causes GPF
>> i am using
>> #include "hbdll.ch"
>> 
>> hdll:=dllload("EZTW32.DLL")
>> dllcall(hdll,DC_CALL_STD,"TWAIN_SelectImageSource",::oFormCadastro:handle,)
>> dllcall(hdll,DC_CALL_STD,"TWAIN_AcquireToFilename",::oFormCadastro:handle,"file.bmp")
>> freelibrary(hdll)
>> 
>> 
>> Best Regards,
>> Fernando Athayde
>> 
>> *De:* Itamar Lins <itamarlins@gmail.com>
>> *Para:* harbour@harbour-project.org
>> *Enviadas:* S?bado, 6 de Fevereiro de 2010 10:10:57
>> *Assunto:* [Harbour] MinGW dllcall function not run.
>> 
>> Hi!
>> sorry to insist on that but there is a possibility to make it work with him.
>> I need to take MinGW.
>> 
>> Best regards,
>> Itamar M. Lins Jr.
>> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Sat Feb  6 12:48:57 2010
From: smujohnson at gmail.com (smu johnson)
Date: Sat Feb  6 12:49:05 2010
Subject: [Harbour] bug: ACHOICE()
In-Reply-To: <4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
	<674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>
	<8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>
	<674e4ddd1002060840m3ae42420re7843298eb9baae@mail.gmail.com>
	<4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>
Message-ID: <674e4ddd1002060948m3c986067wf6a400fd88325740@mail.gmail.com>

In order to do a lot of the other Clipper implementations, did the Harbour
Project reverse engineer Clipper code, or was some source code donated from
the original Clipper company?  In this instance, would you have to just take
an approximate guess as to how ACHOICE functions under any circumstance to
try to be as close as possible to Clipper 5.3?

On Sat, Feb 6, 2010 at 9:06 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> > I am curious about this ACHOICE stuff.  It sounds as though Przemek
> thought it needed to be rewritten from scratch.  Is that a big project to
> do, or likely to be done?  I'm starting to think I'd be a lot more useful to
> the Harbour Project if I was a good C programmer.
>
> ACHOICE() (and also MEMOEDIT()) needs to be rewritten from scratch
> IMO too. Can't tell how much work is ACHOICE(), but to make such
> effort useful, I'd estimate large part of the work to be pure testing
> to trace back what exactly needs to be implemented and how, to be
> perfectly Clipper compatible.
>
> These parts don't need any .c programming skills, it's currently
> written in .prg and it's perfect if any new implementation also use
> .prg code.
>
> Brgds,
> Viktor
>
> > On Sat, Feb 6, 2010 at 7:30 AM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
> > Hi,
> >
> > I didn't miss them, but what I reported look like new
> > errors after recent patches.
> >
> > Just run ac_test.prg, press <down>, then <up> -> RTE.
> >
> > It was okay in 2.0.0, but it's not okay in current trunk.
> >
> > Brgds,
> > Viktor
> >
> > On 2010 Feb 6, at 16:22, smu johnson wrote:
> >
> > > Hi Viktor, see:
> > >
> > >
> http://lists.harbour-project.org/pipermail/harbour/2010-February/031590.html
> > >
> > >
> http://lists.harbour-project.org/pipermail/harbour/2010-February/031661.html
> > >
> > > In case you missed them.
> > >
> > > On Sat, Feb 6, 2010 at 3:51 AM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
> > > Hi All,
> > >
> > > In recent SVN, tests/ac_test.prg shows some problems
> > > with ACHOICE(). It doesn't initially show to
> > > selecting and RTEs (Bound Error) after moving
> > > around.
> > >
> > > Brgds,
> > > Viktor
> > >
> > > _______________________________________________
> > > Harbour mailing list (attachment size limit: 40KB)
> > > Harbour@harbour-project.org
> > > http://lists.harbour-project.org/mailman/listinfo/harbour
> > >
> > >
> > >
> > > --
> > > smu johnson <smujohnson@gmail.com>
> > >
> > > _______________________________________________
> > > Harbour mailing list (attachment size limit: 40KB)
> > > Harbour@harbour-project.org
> > > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100206/8c1a75c0/attachment.html
From dbtopas at dbtopas.lt  Sat Feb  6 12:54:08 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Feb  6 12:54:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13783] trunk/harbour
In-Reply-To: <E1NdmDa-0003Sg-MB@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NdmDa-0003Sg-MB@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <4B6DACC0.6070309@dbtopas.lt>

Hi,


>   * contrib/hbmzip/hbmzip.c
>     ; QUESTION: Is there any reason why we're not using the hb_fs*() functions
>                 in hb_zipGetFileInfo()?

Can not find a reason.


Regards,
Mindaugas
From myorg63 at mail.ru  Sat Feb  6 12:59:45 2010
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sat Feb  6 12:59:51 2010
Subject: [Harbour] Corruption detected
Message-ID: <27481882.post@talk.nabble.com>


Hi, All!

Please test hbrun 
I get

Could not execute:
        quit
Corruption detected
  hb_hrbload(0)

Harbour 2.1.0dev rev.13783


Regards,
Petr
-- 
View this message in context: http://old.nabble.com/Corruption-detected-tp27481882p27481882.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sat Feb  6 13:56:52 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb  6 13:57:00 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13784] trunk/harbour
Message-ID: <E1Ndpps-0005mZ-6l@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13784
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13784&view=rev
Author:   vszakats
Date:     2010-02-06 18:56:50 +0000 (Sat, 06 Feb 2010)

Log Message:
-----------
2010-02-06 19:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/runner.c
    * BYTE -> char

  * contrib/hbct/ctstrfil.c
    * LONG -> HB_ISIZ

  * contrib/hbmzip/hbmzip.c
    * Changed to use FS API instead of C RTL.
    * Using std Harbour method to include windows.h.

  * package/winuni/RELNOTES
    + Added note about downgrade to mingw64 4.4.0, which is
      a more stable release than 4.5.0, and where .dlls also
      work properly.

  * config/wce/mingwarm.mk
  * config/win/mingw.mk
    ! Fixed to not use -fomit-frame-pointer option for debug builds.
    ! Hack added to disable -fomit-frame-pointer for hbwin lib.
    ; TOFIX: Fix hb_Dynacall() to not be sensitive on this option
             in mingw builds. Is it possible?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/contrib/hbct/ctstrfil.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/package/winuni/RELNOTES
    trunk/harbour/src/vm/runner.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tech at 2dinfo.com.br  Sat Feb  6 14:56:14 2010
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Sat Feb  6 14:56:46 2010
Subject: [Harbour] pCode DLL
Message-ID: <9AFF08FFCF2F4795971031D810D771F3@NoteLeo>

Hi
How to build a pcode dll using hbmk2 + mingw?
And once built, is it enought to hb_libload it to call a function in the dll from the exe?
Thanks
Leandro

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100206/75384b30/attachment.html
From mbelgrano at deltain.it  Sat Feb  6 15:04:07 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb  6 15:04:37 2010
Subject: [Harbour] bug: ACHOICE()
In-Reply-To: <4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu> 
	<674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com> 
	<8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>
	<674e4ddd1002060840m3ae42420re7843298eb9baae@mail.gmail.com> 
	<4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>
Message-ID: <609353e71002061204h50bf4ecdg41e670319944fbd1@mail.gmail.com>

Wich other harbour part need be rewritten from scratch?
rewriting will allow also a true and native GUI mode?
think how memoedit seem to windows user for select/copy/past operation

2010/2/6 Viktor Szak?ts <harbour.01@syenar.hu>:
>> I am curious about this ACHOICE stuff. ?It sounds as though Przemek thought it needed to be rewritten from scratch. ?Is that a big project to do, or likely to be done? ?I'm starting to think I'd be a lot more useful to the Harbour Project if I was a good C programmer.
>
> ACHOICE() (and also MEMOEDIT()) needs to be rewritten from scratch
> IMO too. Can't tell how much work is ACHOICE(), but to make such
> effort useful, I'd estimate large part of the work to be pure testing
> to trace back what exactly needs to be implemented and how, to be
> perfectly Clipper compatible.
>
> These parts don't need any .c programming skills, it's currently
> written in .prg and it's perfect if any new implementation also use
> .prg code.
>
> Brgds,
> Viktor
>


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sat Feb  6 15:30:47 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb  6 15:30:59 2010
Subject: [Harbour] bug: ACHOICE()
In-Reply-To: <609353e71002061204h50bf4ecdg41e670319944fbd1@mail.gmail.com>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
	<674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>
	<8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>
	<674e4ddd1002060840m3ae42420re7843298eb9baae@mail.gmail.com>
	<4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>
	<609353e71002061204h50bf4ecdg41e670319944fbd1@mail.gmail.com>
Message-ID: <756C9EB5-89FC-438C-ABA3-41BD2D8F6055@syenar.hu>

> Wich other harbour part need be rewritten from scratch?

I can't think of any other.

> rewriting will allow also a true and native GUI mode?

It has nothing to do with GUI mode. These are 
Clipper functions, and if rewriting them, the only 
one goal is to implement them as close as possible 
to Clipper.

> think how memoedit seem to windows user for select/copy/past operation

It's a Clipper compatibility function.

This shouldn't stop anyone to create above extra 
functionalities, or GUI, or an XML lib, or whatever, 
but all of these are off-topic for this thread.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Feb  6 15:33:29 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb  6 15:33:39 2010
Subject: [Harbour] Corruption detected
In-Reply-To: <27481882.post@talk.nabble.com>
References: <27481882.post@talk.nabble.com>
Message-ID: <AB569463-5CD7-4CCC-9D26-DD0A5AF1B506@syenar.hu>

Hi,

I'd suggest to post more details, like sample .hrb, and 
full error message with error code, and retry after full 
checkout / rebuild.

Brgds,
Viktor

On 2010 Feb 6, at 18:59, Petr Chornyj wrote:

> 
> Hi, All!
> 
> Please test hbrun 
> I get
> 
> Could not execute:
>        quit
> Corruption detected
>  hb_hrbload(0)
> 
> Harbour 2.1.0dev rev.13783
> 
> 
> Regards,
> Petr
> -- 
> View this message in context: http://old.nabble.com/Corruption-detected-tp27481882p27481882.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From myorg63 at mail.ru  Sat Feb  6 16:05:19 2010
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sat Feb  6 16:05:27 2010
Subject: [Harbour] Corruption detected
In-Reply-To: <AB569463-5CD7-4CCC-9D26-DD0A5AF1B506@syenar.hu>
References: <27481882.post@talk.nabble.com>
	<AB569463-5CD7-4CCC-9D26-DD0A5AF1B506@syenar.hu>
Message-ID: <27483318.post@talk.nabble.com>



Viktor Szak?ts wrote:
> 
> I'd suggest to post more details, like sample .hrb, and 
> full error message with error code, and retry after full 
> checkout / rebuild.
> 

Hi,

Viktor, please run hbrun and type in prompt something like QUIT or
QOUT("Hello") and press Enter

Regards,
Petr
-- 
View this message in context: http://old.nabble.com/Corruption-detected-tp27481882p27483318.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Sat Feb  6 16:51:17 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb  6 16:51:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13785] trunk/harbour
Message-ID: <E1NdsYf-0001Y7-Jn@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13785
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13785&view=rev
Author:   vouchcac
Date:     2010-02-06 21:51:16 +0000 (Sat, 06 Feb 2010)

Log Message:
-----------
2010-02-06 13:44 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/findinfiles.ui
  * contrib/hbide/resources/findinfiles.uic

  * contrib/hbqt/qtgui/QSizePolicy.cpp
  * contrib/hbqt/qth/QSizePolicy.qth

  * contrib/hbqt/THbQtUI.prg

  * contrib/hbide/hbide.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideobject.prg

    + Added more info in "Results".
    ! Core normalization.
    + Implemented RegEx search. 
      I am not good at this engine, please test.
    % Changed TODO => DONE in one entry in ChangeLog.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/resources/findinfiles.ui
    trunk/harbour/contrib/hbide/resources/findinfiles.uic
    trunk/harbour/contrib/hbqt/THbQtUI.prg
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qth/QSizePolicy.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb  6 17:33:45 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb  6 17:33:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13783] trunk/harbour
In-Reply-To: <4B6DACC0.6070309@dbtopas.lt>
References: <E1NdmDa-0003Sg-MB@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B6DACC0.6070309@dbtopas.lt>
Message-ID: <F4BDBEE7-20AA-4908-B226-E591339E3E40@syenar.hu>

Thank you!

Brgds,
Viktor

On 2010 Feb 6, at 18:54, Mindaugas Kavaliauskas wrote:

> Hi,
> 
> 
>>  * contrib/hbmzip/hbmzip.c
>>    ; QUESTION: Is there any reason why we're not using the hb_fs*() functions
>>                in hb_zipGetFileInfo()?
> 
> Can not find a reason.
> 
> 
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Sat Feb  6 18:28:02 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb  6 18:28:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13786] trunk/harbour
Message-ID: <E1Ndu4I-0003nH-NQ@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13786
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13786&view=rev
Author:   vouchcac
Date:     2010-02-06 23:27:45 +0000 (Sat, 06 Feb 2010)

Log Message:
-----------
2010-02-06 15:21 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/findinfiles.ui
  * contrib/hbide/resources/findinfiles.uic

  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/idesaveload.prg

    ! Fixed for RegEx to be compiled with case sensivity.
      BTW, hb_regEx( compiledRegExp, cString, lCaseSensitive, ... )
      does not honor <lCaseSensitive> attribute. Only 
      hb_compRegEx() honors.

    + Implemented to remember last find folder and search expression.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/resources/findinfiles.ui
    trunk/harbour/contrib/hbide/resources/findinfiles.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Sat Feb  6 18:43:58 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Feb  6 18:44:07 2010
Subject: [Harbour] mysql test sample either compile in LINUX
In-Reply-To: <fd76479f1002051638q3a5fbc1ewaf908a3cfe559c2d@mail.gmail.com>
References: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com>
	<fd76479f1002051638q3a5fbc1ewaf908a3cfe559c2d@mail.gmail.com>
Message-ID: <133778361002061543i43469f80n5f6a00ca60466849@mail.gmail.com>

Nobody know how to resolve this ?

Bruno

2010/2/5 marco bra <marcobra.ubuntu@gmail.com>

> Same here on Ubuntu 9.10 32 bits. with
>
> harbour -build
> Harbour 2.1.0dev (Rev. 13777)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
>
> Harbour Build Info
> ---------------------------
> Version: Harbour 2.1.0dev (Rev. 13777)
> Compiler: GNU C 4.4.1 (32-bit)
> Platform: Linux 2.6.31-16-generic i686
> PCode version: 0.2
> ChangeLog last entry: 2010-02-05 10:11 UTC-0800 Pritpal Bedi (
> pritpal@vouchcac.com)
> ChangeLog ID: ChangeLog 13777 2010-02-05 18:13:49Z vouchcac
>
> Built on: Feb  5 2010 21:38:59
> Build options:
> Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
>
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100206/7d172837/attachment.html
From harbour.01 at syenar.hu  Sat Feb  6 18:50:52 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb  6 18:51:10 2010
Subject: [Harbour] Corruption detected
In-Reply-To: <27483318.post@talk.nabble.com>
References: <27481882.post@talk.nabble.com>
	<AB569463-5CD7-4CCC-9D26-DD0A5AF1B506@syenar.hu>
	<27483318.post@talk.nabble.com>
Message-ID: <3F2EEC5F-0851-4E2F-A5AB-AD236351F679@syenar.hu>

Thanks. I think I got it.

Brgds,
Viktor

On 2010 Feb 6, at 22:05, Petr Chornyj wrote:

> 
> 
> Viktor Szak?ts wrote:
>> 
>> I'd suggest to post more details, like sample .hrb, and 
>> full error message with error code, and retry after full 
>> checkout / rebuild.
>> 
> 
> Hi,
> 
> Viktor, please run hbrun and type in prompt something like QUIT or
> QOUT("Hello") and press Enter
> 
> Regards,
> Petr
> -- 
> View this message in context: http://old.nabble.com/Corruption-detected-tp27481882p27483318.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Feb  6 19:02:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb  6 19:02:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13787] trunk/harbour
Message-ID: <E1NdubS-0003ki-US@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13787
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13787&view=rev
Author:   vszakats
Date:     2010-02-07 00:02:17 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------

2010-02-07 01:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/runner.c
    ! Fixed error reported by Petr.
      I'm not really sure about the problem, and current code
      is not 100% future proof as a HB_SIZE is passed by reference
      where ULONG ptr is expected.

  * include/hbsetup.h
    + Added HB_DEPRECATED. Can be used as function or variable attribute.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbsetup.h
    trunk/harbour/src/vm/runner.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Feb  7 03:27:52 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb  7 03:28:19 2010
Subject: [Harbour] mysql test sample either compile in LINUX
In-Reply-To: <133778361002061543i43469f80n5f6a00ca60466849@mail.gmail.com>
References: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com> 
	<fd76479f1002051638q3a5fbc1ewaf908a3cfe559c2d@mail.gmail.com> 
	<133778361002061543i43469f80n5f6a00ca60466849@mail.gmail.com>
Message-ID: <609353e71002070027x79da0433o3ea6e35151a4f3ab@mail.gmail.com>

Have you used HB_WITH_MYSQL=/mysql/include


2010/2/7 Bruno Luciani <bruno.luciani@gmail.com>:
> Nobody know how to resolve this ?
>
> Bruno
>
> 2010/2/5 marco bra <marcobra.ubuntu@gmail.com>
>>
>> Same here on Ubuntu 9.10 32 bits. with
>>
>> harbour -build
>> Harbour 2.1.0dev (Rev. 13777)
>> Copyright (c) 1999-2010, http://www.harbour-project.org/
>> Harbour Build Info
>> ---------------------------
>> Version: Harbour 2.1.0dev (Rev. 13777)
>> Compiler: GNU C 4.4.1 (32-bit)
>> Platform: Linux 2.6.31-16-generic i686
>> PCode version: 0.2
>> ChangeLog last entry: 2010-02-05 10:11 UTC-0800 Pritpal Bedi
>> (pritpal@vouchcac.com)
>> ChangeLog ID: ChangeLog 13777 2010-02-05 18:13:49Z vouchcac
>> Built on: Feb ?5 2010 21:38:59
>> Build options:
>> Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
>>
>>
>>
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sun Feb  7 04:03:23 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb  7 04:03:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13787] trunk/harbour
In-Reply-To: <E1NdubS-0003ki-US@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NdubS-0003ki-US@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <9B0B297C-1891-4C95-BC30-8C12E457CAFE@syenar.hu>

> Revision: 13787
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13787&view=rev
> Author:   vszakats
> Date:     2010-02-07 00:02:17 +0000 (Sun, 07 Feb 2010)
> 
> Log Message:
> -----------
> 
> 2010-02-07 01:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * src/vm/runner.c
>    ! Fixed error reported by Petr.
>      I'm not really sure about the problem, and current code

I got it by now :)

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Feb  7 04:57:51 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 04:57:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13788] trunk/harbour
Message-ID: <E1Ne3tn-0008DP-9C@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13788
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13788&view=rev
Author:   vszakats
Date:     2010-02-07 09:57:50 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 10:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbapi.h
  * src/vm/memvars.c
    * ULONG -> HB_SIZE where applicable
    * int -> HB_ISIZ where it was used for size

  * src/vm/macro.c
    ! LONG -> long for date/time.

  * include/hbchksum.h
  * src/rtl/hbadler.c
  * src/rtl/hbcrc.c
  * src/rtl/hbi18n1.c
  * contrib/hbmzip/hbmzip.c
    * ULONG -> HB_U32 for crc32 and adler32
    * ULONG -> HB_U16 for crc16
      (the crc table was also changed to HB_U16, pls speak up if this
      may cause less-optimal performance than previous state.)
    * int -> HB_ISIZ where it was used for size (in adler loop)

  * include/hbapi.h
    * HB_VMHANDLE is now mapped to 'unsigned long' instead of ULONG

  * contrib/hbwin/win_bmp.c
    - Deleted no more necessary cast.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbwin/win_bmp.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbchksum.h
    trunk/harbour/src/rtl/hbadler.c
    trunk/harbour/src/rtl/hbcrc.c
    trunk/harbour/src/rtl/hbi18n1.c
    trunk/harbour/src/vm/macro.c
    trunk/harbour/src/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Feb  7 05:53:35 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb  7 05:53:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13788] trunk/harbour
In-Reply-To: <E1Ne3tn-0008DP-9C@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Ne3tn-0008DP-9C@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <20100207105335.GA16559@linux-4bod.home.aster.pl>

On Sun, 07 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-02-07 10:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/vm/memvars.c
>     * int -> HB_ISIZ where it was used for size

This is wrong and has to be reverted.
iSize is limited by HB_SYMBOL_NAME_LEN and 'int' was used as the
optimal type for most of C compilers/machines.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Feb  7 05:58:47 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb  7 05:58:55 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13784] trunk/harbour
In-Reply-To: <E1Ndpps-0005mZ-6l@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1Ndpps-0005mZ-6l@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <20100207105847.GB16559@linux-4bod.home.aster.pl>

On Sat, 06 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-02-06 19:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/vm/runner.c
>     * BYTE -> char

Now in all places expect runner we are using BYTE for PCODE but in
runner char. Is it possible that you can join such modifications
to make them more consistent?

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Feb  7 06:00:32 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb  7 06:00:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13788] trunk/harbour
In-Reply-To: <20100207105335.GA16559@linux-4bod.home.aster.pl>
References: <E1Ne3tn-0008DP-9C@sfp-svn-2.v30.ch3.sourceforge.com>
	<20100207105335.GA16559@linux-4bod.home.aster.pl>
Message-ID: <2108ED0F-A17A-4D2D-BFD9-F9867CE05121@syenar.hu>

> On Sun, 07 Feb 2010, vszakats@users.sourceforge.net wrote:
> 
> Hi,
> 
>> 2010-02-07 10:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * src/vm/memvars.c
>>    * int -> HB_ISIZ where it was used for size
> 
> This is wrong and has to be reverted.
> iSize is limited by HB_SYMBOL_NAME_LEN and 'int' was used as the
> optimal type for most of C compilers/machines.

Okay, thanks.

Brgds,
Viktor

From druzus at users.sourceforge.net  Sun Feb  7 06:18:17 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Feb  7 06:18:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13789] trunk/harbour
Message-ID: <E1Ne59d-00027E-8c@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13789
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13789&view=rev
Author:   druzus
Date:     2010-02-07 11:18:15 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 12:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
    * minor code cleanup

  * harbour/src/vm/macro.c
    % eliminated memory allocation in macro compiler for object item assign
      operation
    * updated hb_macroGenMessage() to work like hb_compilerGenMessage()

  * harbour/src/vm/memvars.c
    * reverted HB_ISIZ -> int

  * harbour/include/hbmacro.h
  * harbour/include/hbexprop.h
  * harbour/include/hbexpra.c
  * harbour/src/common/expropt1.c
    - eliminated old hb_compExprNewSend()/hb_macroExprNewSend()
    + added common for compiler and macrocompiler functions:
         hb_compExprNewSend(),
         hb_compExprNewMacroSend(),
         hb_compExprNewMethodObject()

  * harbour/include/hbcomp.h
  * harbour/src/compiler/harbour.y
  * harbour/src/compiler/harbour.yyc
  * harbour/src/compiler/harbour.yyh
    * use new functions for send coperator
    % eliminated asMessage structure - it was the biggest one so this
      modification reduce total memory usage by grammar stack
    + added new terminal symbol MacroAny and simplified some rules using it
    + added static function hb_compCheckMethod() used for enumerator
      messages
    - eliminated public function hb_compForEachVarError()

  * harbour/src/macro/macro.y
  * harbour/src/macro/macro.yyc
    * use new functions for send coperator

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbexpra.c
    trunk/harbour/include/hbexprop.h
    trunk/harbour/include/hbmacro.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/harbour.yyh
    trunk/harbour/src/macro/macro.y
    trunk/harbour/src/macro/macro.yyc
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/vm/macro.c
    trunk/harbour/src/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb  7 06:32:23 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb  7 06:32:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13784] trunk/harbour
In-Reply-To: <20100207105847.GB16559@linux-4bod.home.aster.pl>
References: <E1Ndpps-0005mZ-6l@sfp-svn-6.v30.ch3.sourceforge.com>
	<20100207105847.GB16559@linux-4bod.home.aster.pl>
Message-ID: <293F6705-F899-4EB3-9BD0-C4224E58F275@syenar.hu>

Hi,

>> 2010-02-06 19:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * src/vm/runner.c
>>    * BYTE -> char
> 
> Now in all places expect runner we are using BYTE for PCODE but in
> runner char. Is it possible that you can join such modifications
> to make them more consistent?

Shouldn't we add a dedicated type for PCODE? like HB_PCODE?

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Feb  7 07:14:26 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb  7 07:14:35 2010
Subject: [Harbour] hb_QWith()/with object inside macro compiler
In-Reply-To: <4B69353B.2020103@libero.it>
References: <4B67D947.3000704@libero.it>
	<20100202152545.GA10503@linux-4bod.home.aster.pl>
	<E9ED5480-58A4-4DF9-B981-F593E5F3A8C6@syenar.hu>
	<4B69353B.2020103@libero.it>
Message-ID: <20100207121426.GA27677@linux-4bod.home.aster.pl>

On Wed, 03 Feb 2010, Maurilio Longo wrote:

Hi,

> I'd like to see a sample of code which uses with var as well.
> Right now, with object enables me to write dynamic html pages via an
> interpreter which uses &() to evaluate source code and to hide to this
> interpreted code whether it is being run as a CGI or as a fast CGI (sort of,
> it is xitami lrwp protocol).
> 
> I try to explain more in detail so that you can grasp what I'm looking for and
> tell me if it is feasible or not with harbour (and following harbour rules).
> 
> My web server has an association between .prg files and a cgi program called
> hscript (like the old contrib one from which I borrowed several ideas).
> 
> When a request comes in for a page with .prg extension the web server calls
> hscript which 'executes' the source code like a cgi program and, before
> returning, starts another instance of itself which attaches to the webserver
> via the lrwp protocol so that all following requests for the same page are an
> order of magnitude faster.
> 
> Inside hscript I have code like this:
[...]
> // interpreted
> with object oCGI
> 	Interprete( .... )
> end
> // fast cgi
> with object oLRWP
> 	Interprete( ... )
> end
[...]
> where <% and %> delimit clipper code which calls the oCGI/oLRWP methods to do
> its work, output things, or access oCGI/oLRWP iVARs like :Sever_Name or
> :Query_String.
> So, if with var works with &() it is perfect for me, I don't mind having to
> change a few with object statements.
> with var oCGI
> 	Interprete( ... )
> end
> I'm really not able to give you more valid reasons to have such a capability,
> because I'm using it just for this kind of code (my employer web site, for
> example, is completely written this way).

In the above text you haven't presented anything what causes that you
have to use WITH OBJECT at all. In such context you can reach the same
effect using some private variables, i.e. _WITH and make all such code
Clipper compatible so for me it's not the reason to change core code.

If I add such extension and document using :<msg> in macro compiler
then it will be very hard to revert it in the future and it will close
door to optimize code generated for WITH OBJECT because it will be
necessary to keep current implementation which needs additional HVM
stack register <lWithObject> which can be eliminated and by compile
time calculations. In my opinion it's bad idea and I think that most
of users prefer better performance then some seldom use extensions
which are not structural and volatile language semantic (it's possible
to use such macros outside WITH OBJECT / END statement what should be
forbidden). Also HB_QWITH() function comes from XHB library and it's
not Harbour core functions because in the future it's possible that
we will have to eliminate it.
Now WITH OBJECT is in practice compiler only extension. It was added
replicating xHarbour behavior for compatibility but it introduced
series of anomalies like hacked preprocessor (I sent examples in
previous message) or code with more then one meaning, i.e.:
   case : msg()
used inside DO CASE and WITH OBJECT statement can be compiled as:
   case ( :msg() )   // DO CASE condition
or:
   (case):msg()      // 'msg' is sent to object in 'case' variable

Such things should not happen in well designed language so I would
like to eliminate it in the future even with the cost of compatibility
with xHarbour.
As long as current WITH OBJECT is compiler only extension then when
we replace it by some new one users can easy fix their code because
old syntax is reported as error at compile time so it will be simple
process. If we add official support for :<msg>[(<params,...>)] to
macrocompiler then compiler won't report any errors at compile time
making switching to new syntax much harder.
Now probably only few users like you used it in macrocompiler creating
code for xHarbour so such extension will only increase the problem in
the future.

I can understand that you have some xHarbour code and it's serious
problem for you. In last commit I cleaned some grammar code used
to compile messages so you can enable it very easy in your own
personal Harbour builds. It's enough to add this line to macro.y[485]:

            | ':' SendId                  { $$ = $2; }

and regenerate macro.yyc

below is a patch.

HTH and you understand why I do not want to change it in SVN code.

best regards,
Przemek



--- harbour/src/macro/macro.y	(wersja 13789)
+++ harbour/src/macro/macro.y	(kopia robocza)
@@ -482,6 +482,7 @@
 /* Object's instance variable
  */
 ObjectData  : LeftExpression ':' SendId   { $$ = hb_compExprNewMethodObject( $3, $1 ); }
+            | ':' SendId                  { $$ = $2; }
             ;
 
 SendId      : IDENTIFIER     { $$ = hb_compExprNewSend( $1, HB_COMP_PARAM ); }
From vszakats at users.sourceforge.net  Sun Feb  7 07:17:42 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 07:17:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13790] trunk/harbour
Message-ID: <E1Ne658-0003C7-T0@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13790
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13790&view=rev
Author:   vszakats
Date:     2010-02-07 12:17:40 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 13:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/fm.c
  * src/vm/extrap.c
  * src/common/hbarch.c
  * src/nortl/nortl.c
  * src/rtl/binnum.c
  * src/rtl/hbbffnc.c
  * src/rtl/hbznet.c
  * src/rtl/hbbfish.c
  * src/rtl/hbbyte.c
  * src/rtl/binnumx.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/dbf1.c
  * src/rdd/hsx/hsx.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/rdd/hbsix/sxcrypt.c
  * src/compiler/cmdcheck.c
  * include/hbgtcore.h
  * include/hbdefs.h
  * include/hbbfish.h
  * contrib/hbct/bitnum.c
  * contrib/hbct/ctwin.c
  * contrib/xpp/binnumx.c
  * contrib/hbnetio/netiocli.c
  * contrib/hbnetio/netiosrv.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbtree/hb_btree.c
    * UINT16 -> HB_U16
    * UINT32 -> HB_U32
    * UINT64 -> HB_U64
    * INT16  -> HB_I16
    * INT32  -> HB_I32
    * INT64  -> HB_I64

  * contrib/hbct/bitnum.c
    ! Fixed INTNEG(), INTPOS(). Second 'l32bit' 
      parameter was working in reverse.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbct/bitnum.c
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbnetio/netiosrv.c
    trunk/harbour/contrib/xpp/binnumx.c
    trunk/harbour/include/hbbfish.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/src/common/hbarch.c
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/nortl/nortl.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/hbsix/sxcrypt.c
    trunk/harbour/src/rdd/hsx/hsx.c
    trunk/harbour/src/rtl/binnum.c
    trunk/harbour/src/rtl/binnumx.c
    trunk/harbour/src/rtl/hbbffnc.c
    trunk/harbour/src/rtl/hbbfish.c
    trunk/harbour/src/rtl/hbbyte.c
    trunk/harbour/src/rtl/hbznet.c
    trunk/harbour/src/vm/extrap.c
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ale.seribeli at ig.com.br  Sun Feb  7 07:21:12 2010
From: ale.seribeli at ig.com.br (Ale SB)
Date: Sun Feb  7 07:21:19 2010
Subject: [Harbour] Error...SqlMix...
Message-ID: <27488122.post@talk.nabble.com>


Harbour Rev. 13777, Mysql 5.1

During compilation appears this error:

sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_close@4 sin
resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlConnect(struct _SQLDDCONNECTION *,void *)"
(?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_errno@4 sin
resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlConnect(struct _SQLDDCONNECTION *,void *)"
(?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_error@4 sin
resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlConnect(struct _SQLDDCONNECTION *,void *)"
(?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
_mysql_real_connect@32 sin resolver al que se hace referencia en la funci?n
"unsigned int __cdecl mysqlConnect(struct _SQLDDCONNECTION *,void *)"
(?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_init@4 sin
resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlConnect(struct _SQLDDCONNECTION *,void *)"
(?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_insert_id@4
sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlExecute(struct _SQLDDCONNECTION *,void *)"
(?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
_mysql_affected_rows@4 sin resolver al que se hace referencia en la funci?n
"unsigned int __cdecl mysqlExecute(struct _SQLDDCONNECTION *,void *)"
(?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_field_count@4
sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlExecute(struct _SQLDDCONNECTION *,void *)"
(?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_free_result@4
sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlExecute(struct _SQLDDCONNECTION *,void *)"
(?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_num_rows@4
sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlExecute(struct _SQLDDCONNECTION *,void *)"
(?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
_mysql_store_result@4 sin resolver al que se hace referencia en la funci?n
"unsigned int __cdecl mysqlExecute(struct _SQLDDCONNECTION *,void *)"
(?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_real_query@12
sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlExecute(struct _SQLDDCONNECTION *,void *)"
(?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_fetch_row@4
sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlOpen(struct _SQLBASEAREA *)" (?mysqlOpen@@YAIPAU_SQLBASEAREA@@@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_row_tell@4
sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlOpen(struct _SQLBASEAREA *)" (?mysqlOpen@@YAIPAU_SQLBASEAREA@@@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
_mysql_fetch_field_direct@8 sin resolver al que se hace referencia en la
funci?n "unsigned int __cdecl mysqlOpen(struct _SQLBASEAREA *)"
(?mysqlOpen@@YAIPAU_SQLBASEAREA@@@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_num_fields@4
sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlOpen(struct _SQLBASEAREA *)" (?mysqlOpen@@YAIPAU_SQLBASEAREA@@@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
_mysql_fetch_lengths@4 sin resolver al que se hace referencia en la funci?n
"unsigned int __cdecl mysqlGoTo(struct _SQLBASEAREA *,unsigned long)"
(?mysqlGoTo@@YAIPAU_SQLBASEAREA@@K@Z)
sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_row_seek@8
sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
mysqlGoTo(struct _SQLBASEAREA *,unsigned long)"
(?mysqlGoTo@@YAIPAU_SQLBASEAREA@@K@Z)


How to solve this?

Thank
-- 
View this message in context: http://old.nabble.com/Error...SqlMix...-tp27488122p27488122.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Sun Feb  7 07:27:13 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb  7 07:27:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13790] trunk/harbour
In-Reply-To: <E1Ne658-0003C7-T0@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1Ne658-0003C7-T0@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <20100207122713.GA28265@linux-4bod.home.aster.pl>

On Sun, 07 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-02-07 13:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/vm/fm.c
>   * src/vm/extrap.c
>   * src/common/hbarch.c
>   * src/nortl/nortl.c
>   * src/rtl/binnum.c
>   * src/rtl/hbbffnc.c
>   * src/rtl/hbznet.c
>   * src/rtl/hbbfish.c
>   * src/rtl/hbbyte.c
>   * src/rtl/binnumx.c
>   * src/rdd/dbfcdx/dbfcdx1.c
>   * src/rdd/dbf1.c
>   * src/rdd/hsx/hsx.c
>   * src/rdd/dbffpt/dbffpt1.c
>   * src/rdd/hbsix/sxcrypt.c
>   * src/compiler/cmdcheck.c
>   * include/hbgtcore.h
>   * include/hbdefs.h
>   * include/hbbfish.h
>   * contrib/hbct/bitnum.c
>   * contrib/hbct/ctwin.c
>   * contrib/xpp/binnumx.c
>   * contrib/hbnetio/netiocli.c
>   * contrib/hbnetio/netiosrv.c
>   * contrib/hbbmcdx/bmdbfcdx.c
>   * contrib/hbbtree/hb_btree.c
>     * UINT16 -> HB_U16
>     * UINT32 -> HB_U32
>     * UINT64 -> HB_U64
>     * INT16  -> HB_I16
>     * INT32  -> HB_I32
>     * INT64  -> HB_I64

Thank you very much.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Feb  7 07:30:59 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb  7 07:31:08 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13784] trunk/harbour
In-Reply-To: <293F6705-F899-4EB3-9BD0-C4224E58F275@syenar.hu>
References: <E1Ndpps-0005mZ-6l@sfp-svn-6.v30.ch3.sourceforge.com>
	<20100207105847.GB16559@linux-4bod.home.aster.pl>
	<293F6705-F899-4EB3-9BD0-C4224E58F275@syenar.hu>
Message-ID: <20100207123059.GB28265@linux-4bod.home.aster.pl>

On Sun, 07 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Shouldn't we add a dedicated type for PCODE? like HB_PCODE?

We use HB_PCODE as enum type (see hbpcode.h).
Anyhow separate type is good idea.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Feb  7 07:36:31 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb  7 07:36:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13784] trunk/harbour
In-Reply-To: <20100207123059.GB28265@linux-4bod.home.aster.pl>
References: <E1Ndpps-0005mZ-6l@sfp-svn-6.v30.ch3.sourceforge.com>
	<20100207105847.GB16559@linux-4bod.home.aster.pl>
	<293F6705-F899-4EB3-9BD0-C4224E58F275@syenar.hu>
	<20100207123059.GB28265@linux-4bod.home.aster.pl>
Message-ID: <CA349E58-1399-4822-A18E-01BBEA3AE6D9@syenar.hu>

>> Shouldn't we add a dedicated type for PCODE? like HB_PCODE?
> 
> We use HB_PCODE as enum type (see hbpcode.h).
> Anyhow separate type is good idea.

Let's find a name. HB_PCODE_T? (not hugely elegant though)

Brgds,
Viktor

From ale.seribeli at ig.com.br  Sun Feb  7 07:50:53 2010
From: ale.seribeli at ig.com.br (Ale SB)
Date: Sun Feb  7 07:51:01 2010
Subject: [Harbour] Error...SqlMix...
In-Reply-To: <27488122.post@talk.nabble.com>
References: <27488122.post@talk.nabble.com>
Message-ID: <27488310.post@talk.nabble.com>


resolved, I lacked Add a libmysql.lib

Thanks


Ale SB wrote:
> 
> Harbour Rev. 13777, Mysql 5.1
> 
> During compilation appears this error:
> 
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_close@4 sin
> resolver al que se hace referencia en la funci?n "unsigned int __cdecl
> mysqlConnect(struct _SQLDDCONNECTION *,void *)"
> (?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_errno@4 sin
> resolver al que se hace referencia en la funci?n "unsigned int __cdecl
> mysqlConnect(struct _SQLDDCONNECTION *,void *)"
> (?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_error@4 sin
> resolver al que se hace referencia en la funci?n "unsigned int __cdecl
> mysqlConnect(struct _SQLDDCONNECTION *,void *)"
> (?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
> _mysql_real_connect@32 sin resolver al que se hace referencia en la
> funci?n "unsigned int __cdecl mysqlConnect(struct _SQLDDCONNECTION *,void
> *)" (?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_init@4 sin
> resolver al que se hace referencia en la funci?n "unsigned int __cdecl
> mysqlConnect(struct _SQLDDCONNECTION *,void *)"
> (?mysqlConnect@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_insert_id@4
> sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
> mysqlExecute(struct _SQLDDCONNECTION *,void *)"
> (?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
> _mysql_affected_rows@4 sin resolver al que se hace referencia en la
> funci?n "unsigned int __cdecl mysqlExecute(struct _SQLDDCONNECTION *,void
> *)" (?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
> _mysql_field_count@4 sin resolver al que se hace referencia en la funci?n
> "unsigned int __cdecl mysqlExecute(struct _SQLDDCONNECTION *,void *)"
> (?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
> _mysql_free_result@4 sin resolver al que se hace referencia en la funci?n
> "unsigned int __cdecl mysqlExecute(struct _SQLDDCONNECTION *,void *)"
> (?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_num_rows@4
> sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
> mysqlExecute(struct _SQLDDCONNECTION *,void *)"
> (?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
> _mysql_store_result@4 sin resolver al que se hace referencia en la funci?n
> "unsigned int __cdecl mysqlExecute(struct _SQLDDCONNECTION *,void *)"
> (?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
> _mysql_real_query@12 sin resolver al que se hace referencia en la funci?n
> "unsigned int __cdecl mysqlExecute(struct _SQLDDCONNECTION *,void *)"
> (?mysqlExecute@@YAIPAU_SQLDDCONNECTION@@PAX@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_fetch_row@4
> sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
> mysqlOpen(struct _SQLBASEAREA *)" (?mysqlOpen@@YAIPAU_SQLBASEAREA@@@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_row_tell@4
> sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
> mysqlOpen(struct _SQLBASEAREA *)" (?mysqlOpen@@YAIPAU_SQLBASEAREA@@@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
> _mysql_fetch_field_direct@8 sin resolver al que se hace referencia en la
> funci?n "unsigned int __cdecl mysqlOpen(struct _SQLBASEAREA *)"
> (?mysqlOpen@@YAIPAU_SQLBASEAREA@@@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
> _mysql_num_fields@4 sin resolver al que se hace referencia en la funci?n
> "unsigned int __cdecl mysqlOpen(struct _SQLBASEAREA *)"
> (?mysqlOpen@@YAIPAU_SQLBASEAREA@@@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo
> _mysql_fetch_lengths@4 sin resolver al que se hace referencia en la
> funci?n "unsigned int __cdecl mysqlGoTo(struct _SQLBASEAREA *,unsigned
> long)" (?mysqlGoTo@@YAIPAU_SQLBASEAREA@@K@Z)
> sddmy.lib(mysqldd.obj) : error LNK2019: s?mbolo externo _mysql_row_seek@8
> sin resolver al que se hace referencia en la funci?n "unsigned int __cdecl
> mysqlGoTo(struct _SQLBASEAREA *,unsigned long)"
> (?mysqlGoTo@@YAIPAU_SQLBASEAREA@@K@Z)
> 
> 
> How to solve this?
> 
> Thank
> 

-- 
View this message in context: http://old.nabble.com/Error...SqlMix...-tp27488122p27488310.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sun Feb  7 07:58:42 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 07:58:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13791] trunk/harbour
Message-ID: <E1Ne6io-0002PL-OC@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13791
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13791&view=rev
Author:   vszakats
Date:     2010-02-07 12:58:41 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 13:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbct/ctchksum.c
    ! Fixed to not strip const from type.
    * ULONG -> HB_SIZE, HB_U32
    * UCHAR -> HB_UCHAR

  * contrib/hbct/asciisum.c
    * size_t -> HB_SIZE
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/asciisum.c
    trunk/harbour/contrib/hbct/ctchksum.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb  7 08:19:35 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 08:19:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13792] trunk/harbour
Message-ID: <E1Ne731-0002iX-7q@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13792
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13792&view=rev
Author:   vszakats
Date:     2010-02-07 13:19:33 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 14:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/ppcore.c
  * src/vm/itemapi.c
  * src/vm/dynlibhb.c
  * src/vm/set.c
  * src/debug/dbgentry.c
  * src/common/expropt1.c
  * src/common/hbstr.c
  * src/common/expropt2.c
  * src/macro/macro.yyc
  * src/macro/macro.y
  * src/macro/macro.yyh
  * src/rtl/scroll.c
  * src/rtl/gtdos/gtdos.c
  * src/rtl/gtwin/gtwin.c
  * src/rtl/gttrm/gttrm.c
  * src/rtl/transfrm.c
  * src/rtl/dates.c
  * src/rtl/filesys.c
  * src/rtl/chrasc.c
  * src/rtl/cdpapi.c
  * src/rtl/hbi18n1.c
  * src/rtl/itemseri.c
  * src/rtl/hbhex.c
  * src/rtl/cdpapihb.c
  * src/rdd/dbsql.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbf1.c
  * src/rdd/hsx/hsx.c
  * src/rdd/hbsix/sxutil.c
  * src/rdd/hbsix/sxcompr.c
  * src/rdd/hbsix/sxcrypt.c
  * src/compiler/compi18n.c
  * src/compiler/complex.c
  * src/compiler/genc.c
  * src/compiler/harbour.yyc
  * src/compiler/harbour.y
  * src/compiler/harbour.yyh
  * include/hbpp.h
  * include/hbapicdp.h
  * include/hbrddnsx.h
  * include/hbexprb.c
  * ChangeLog
  * contrib/hbct/screen2.c
  * contrib/hbct/pos1.c
  * contrib/hbct/screen1.c
  * contrib/hbct/token1.c
  * contrib/hbct/disk.c
  * contrib/xhb/xhbmsgs.c
  * contrib/hbnf/ftattr.c
    * UCHAR -> HB_UCHAR
    ; NOTE: In cdp subsystem 'unsigned char' is used instead of HB_UCHAR
            in many places, maybe it needs cleanup (I've found 
            one inconsistency in a function declaration).
    ; QUESTION: There is one suspiciously looking usage:
                ftattr.c / iColor = ( HB_UCHAR ) *pAttrib++;
                Is it ok?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbct/pos1.c
    trunk/harbour/contrib/hbct/screen1.c
    trunk/harbour/contrib/hbct/screen2.c
    trunk/harbour/contrib/hbct/token1.c
    trunk/harbour/contrib/hbnf/ftattr.c
    trunk/harbour/contrib/xhb/xhbmsgs.c
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbpp.h
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/common/expropt2.c
    trunk/harbour/src/common/hbstr.c
    trunk/harbour/src/compiler/compi18n.c
    trunk/harbour/src/compiler/complex.c
    trunk/harbour/src/compiler/genc.c
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/harbour.yyh
    trunk/harbour/src/debug/dbgentry.c
    trunk/harbour/src/macro/macro.y
    trunk/harbour/src/macro/macro.yyc
    trunk/harbour/src/macro/macro.yyh
    trunk/harbour/src/pp/ppcore.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbsql.c
    trunk/harbour/src/rdd/hbsix/sxcompr.c
    trunk/harbour/src/rdd/hbsix/sxcrypt.c
    trunk/harbour/src/rdd/hbsix/sxutil.c
    trunk/harbour/src/rdd/hsx/hsx.c
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/src/rtl/cdpapihb.c
    trunk/harbour/src/rtl/chrasc.c
    trunk/harbour/src/rtl/dates.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/gtdos/gtdos.c
    trunk/harbour/src/rtl/gttrm/gttrm.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/hbhex.c
    trunk/harbour/src/rtl/hbi18n1.c
    trunk/harbour/src/rtl/itemseri.c
    trunk/harbour/src/rtl/scroll.c
    trunk/harbour/src/rtl/transfrm.c
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/src/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb  7 08:41:32 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 08:41:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13793] trunk/harbour
Message-ID: <E1Ne7OG-00030i-8P@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13793
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13793&view=rev
Author:   vszakats
Date:     2010-02-07 13:41:30 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 14:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbct/strdiff.c
  * contrib/hbct/token2.c
  * contrib/hbct/charlist.c
  * contrib/hbct/charonly.c
  * contrib/hbct/atadjust.c
  * contrib/hbct/charsort.c
  * contrib/hbct/charmix.c
  * contrib/hbct/charevod.c
  * contrib/hbct/wordrepl.c
  * contrib/hbct/charrepl.c
  * contrib/hbct/strswap.c
  * contrib/hbct/charswap.c
  * contrib/hbct/charop.c
  * contrib/hbct/charone.c
  * contrib/hbct/pos1.c
  * contrib/hbct/ascpos.c
  * contrib/hbct/ctstr.c
  * contrib/hbct/token1.c
  * contrib/hbct/ctstr.h
  * contrib/hbct/charmirr.c
  * contrib/hbct/relation.c
  * contrib/hbct/atnum.c
  * contrib/hbct/count.c
  * contrib/hbct/ctcrypt.c
  * contrib/hbct/posdiff.c
  * contrib/hbct/range.c
  * contrib/hbct/addascii.c
  * contrib/hbct/tab.c
  * contrib/hbct/dattime2.c
  * contrib/hbct/replace.c
  * contrib/hbct/pos2.c
  * contrib/hbct/numat.c
  * contrib/hbct/atrepl.c
  * contrib/hbct/wordtoch.c
  * contrib/hbct/ctpad.c
  * contrib/hbct/justify.c
  * contrib/hbct/remove.c
    * size_t -> HB_SIZE
    % Deleted now unnecessary casts.
    + Added casts to strlen() calls.

  * contrib/hbct/ctcrypt.c
    * ULONG -> HB_SIZE

  * contrib/hbct/dattime2.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/addascii.c
    trunk/harbour/contrib/hbct/ascpos.c
    trunk/harbour/contrib/hbct/atadjust.c
    trunk/harbour/contrib/hbct/atnum.c
    trunk/harbour/contrib/hbct/atrepl.c
    trunk/harbour/contrib/hbct/charevod.c
    trunk/harbour/contrib/hbct/charlist.c
    trunk/harbour/contrib/hbct/charmirr.c
    trunk/harbour/contrib/hbct/charmix.c
    trunk/harbour/contrib/hbct/charone.c
    trunk/harbour/contrib/hbct/charonly.c
    trunk/harbour/contrib/hbct/charop.c
    trunk/harbour/contrib/hbct/charrepl.c
    trunk/harbour/contrib/hbct/charsort.c
    trunk/harbour/contrib/hbct/charswap.c
    trunk/harbour/contrib/hbct/count.c
    trunk/harbour/contrib/hbct/ctcrypt.c
    trunk/harbour/contrib/hbct/ctpad.c
    trunk/harbour/contrib/hbct/ctstr.c
    trunk/harbour/contrib/hbct/ctstr.h
    trunk/harbour/contrib/hbct/dattime2.c
    trunk/harbour/contrib/hbct/justify.c
    trunk/harbour/contrib/hbct/numat.c
    trunk/harbour/contrib/hbct/pos1.c
    trunk/harbour/contrib/hbct/pos2.c
    trunk/harbour/contrib/hbct/posdiff.c
    trunk/harbour/contrib/hbct/range.c
    trunk/harbour/contrib/hbct/relation.c
    trunk/harbour/contrib/hbct/remove.c
    trunk/harbour/contrib/hbct/replace.c
    trunk/harbour/contrib/hbct/strdiff.c
    trunk/harbour/contrib/hbct/strswap.c
    trunk/harbour/contrib/hbct/tab.c
    trunk/harbour/contrib/hbct/token1.c
    trunk/harbour/contrib/hbct/token2.c
    trunk/harbour/contrib/hbct/wordrepl.c
    trunk/harbour/contrib/hbct/wordtoch.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Sun Feb  7 08:45:22 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Feb  7 08:45:31 2010
Subject: [Harbour] mysql test sample either compile in LINUX
In-Reply-To: <609353e71002070027x79da0433o3ea6e35151a4f3ab@mail.gmail.com>
References: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com>
	<fd76479f1002051638q3a5fbc1ewaf908a3cfe559c2d@mail.gmail.com>
	<133778361002061543i43469f80n5f6a00ca60466849@mail.gmail.com>
	<609353e71002070027x79da0433o3ea6e35151a4f3ab@mail.gmail.com>
Message-ID: <133778361002070545qc33eac0k23126c5a5dea1b52@mail.gmail.com>

Is needed in linux ?

Bruno

2010/2/7 Massimo Belgrano <mbelgrano@deltain.it>

> Have you used HB_WITH_MYSQL=/mysql/include
>
>
> 2010/2/7 Bruno Luciani <bruno.luciani@gmail.com>:
> > Nobody know how to resolve this ?
> >
> > Bruno
> >
> > 2010/2/5 marco bra <marcobra.ubuntu@gmail.com>
> >>
> >> Same here on Ubuntu 9.10 32 bits. with
> >>
> >> harbour -build
> >> Harbour 2.1.0dev (Rev. 13777)
> >> Copyright (c) 1999-2010, http://www.harbour-project.org/
> >> Harbour Build Info
> >> ---------------------------
> >> Version: Harbour 2.1.0dev (Rev. 13777)
> >> Compiler: GNU C 4.4.1 (32-bit)
> >> Platform: Linux 2.6.31-16-generic i686
> >> PCode version: 0.2
> >> ChangeLog last entry: 2010-02-05 10:11 UTC-0800 Pritpal Bedi
> >> (pritpal@vouchcac.com)
> >> ChangeLog ID: ChangeLog 13777 2010-02-05 18:13:49Z vouchcac
> >> Built on: Feb  5 2010 21:38:59
> >> Build options:
> >> Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
> >>
> >>
> >>
> >
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100207/1115ab9c/attachment-0001.html
From vszakats at users.sourceforge.net  Sun Feb  7 08:53:37 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 08:53:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13794] trunk/harbour
Message-ID: <E1Ne7Zx-0003Bb-Gv@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13794
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13794&view=rev
Author:   vszakats
Date:     2010-02-07 13:53:35 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 14:53 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/itemapi.c
  * src/vm/hvm.c
  * src/vm/arrays.c
  * src/vm/extend.c
  * src/common/hbstr.c
  * src/common/hbdate.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/compiler/gencc.c
  * tests/bldtest/bldtest.c
  * include/hbxvm.h
  * include/hbdefs.h
  * include/hbapi.h
  * include/hbapiitm.h
  * contrib/hbwin/olecore.c
  * contrib/hbbmcdx/bmdbfcdx.c
    * LONGLONG  -> HB_LONGLONG
    * ULONGLONG -> HB_ULONGLONG

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbxvm.h
    trunk/harbour/src/common/hbdate.c
    trunk/harbour/src/common/hbstr.c
    trunk/harbour/src/compiler/gencc.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/vm/arrays.c
    trunk/harbour/src/vm/extend.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/tests/bldtest/bldtest.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Feb  7 09:11:57 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb  7 09:12:24 2010
Subject: [Harbour] mysql test sample either compile in LINUX
In-Reply-To: <133778361002070545qc33eac0k23126c5a5dea1b52@mail.gmail.com>
References: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com> 
	<fd76479f1002051638q3a5fbc1ewaf908a3cfe559c2d@mail.gmail.com> 
	<133778361002061543i43469f80n5f6a00ca60466849@mail.gmail.com> 
	<609353e71002070027x79da0433o3ea6e35151a4f3ab@mail.gmail.com> 
	<133778361002070545qc33eac0k23126c5a5dea1b52@mail.gmail.com>
Message-ID: <609353e71002070611y7dfa412dt1817035bd6705b10@mail.gmail.com>

I don't know because i have lost my ubuntu virtual machine
when you start make it display
! Component:mysql??

2010/2/7 Bruno Luciani <bruno.luciani@gmail.com>:
> Is needed in linux ?
>
> Bruno
>
> 2010/2/7 Massimo Belgrano <mbelgrano@deltain.it>
>>
>> Have you used HB_WITH_MYSQL=/mysql/include
>>
>>
>
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Sun Feb  7 09:16:14 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 09:16:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13795] trunk/harbour
Message-ID: <E1Ne7vq-0005Hp-U1@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13795
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13795&view=rev
Author:   vszakats
Date:     2010-02-07 14:16:13 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 15:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/dynsym.c
  * src/vm/fm.c
  * src/vm/classes.c
  * src/rtl/transfrm.c
  * src/rtl/filebuf.c
  * src/rdd/wacore.c
  * src/compiler/compi18n.c
  * tests/bldtest/bldtest.c
  * include/hbcomp.h
  * include/hbcompdf.h
  * contrib/xhb/hbserv.c
  * contrib/hbfimage/fi_wrp.c
    * UINT -> HB_UINT, unsigned, HB_SIZE, (unchanged)
      Depending on context.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/contrib/xhb/hbserv.c
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/src/compiler/compi18n.c
    trunk/harbour/src/rdd/wacore.c
    trunk/harbour/src/rtl/filebuf.c
    trunk/harbour/src/rtl/transfrm.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/dynsym.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/tests/bldtest/bldtest.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb  7 09:38:32 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb  7 09:38:41 2010
Subject: [Harbour] Type conversion status
Message-ID: <1124CEFB-A79F-496E-99BE-B819EF574A76@syenar.hu>

Hi All,

Only about 6000 legacy Windows types are left to be 
converted to Harbour ones. (started from 33000).

What remains:
   ULONG (non-size), LONG (non-size), USHORT, SHORT, BYTE

USHORT, SHORT and BYTE are easily convertible 
to HB_USHORT, HB_SHORT, HB_BYTE, and we have 
time to create dedicated types or replace them 
with ANSI types later. For BYTE I'm unsure, but 
some of them can even be converted to HB_UBYTE.

(anyway if there are some case to cover now, I 
can do it.)

What's most important is ULONG and LONG. These 
have to cleaned away completely.

Here comes the question: to what?

LONG can be replaced with 'long' for most cases, 
but I need help. 'LONG' is no longer used for sizes, 
but it's possible it remained in few such less 
obvious places.

For ULONG.. well, most usage is HVM and RDD related, 
and since I don't believe it could be cleaned with 
small effort, I'm now thinking to add a temporary 
type, f.e. HB_UL.

Comments are welcome!

Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Sun Feb  7 09:50:11 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb  7 09:50:20 2010
Subject: [Harbour] Errors in latest SVN
Message-ID: <22BD24964BBF4ABE89EEB13739F80D66@emag>

Error E2257 ../../../../../include\hbdefs.h 608: , expected
Error E2238 ../../../../../include\hbdefs.h 718: Multiple declaration for 
'HB_LONGLONG'
Error E2344 ../../../../../include\hbdefs.h 608: Earlier declaration of 
'HB_LONGLONG'

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vailtom at gmail.com  Sun Feb  7 09:56:54 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb  7 09:57:23 2010
Subject: [Harbour] Errors in latest SVN
Message-ID: <531d7a751002070656y495ea75aq3173339c5152286@mail.gmail.com>

After revision 13795 with clean build I get this:

win-make.exe[3]: `../../../../../lib/win/mingw/libsqlite3.a' is up to date.
        1 arquivo(s) copiado(s).
gcc   -I. -I../../../../../include -O3 -fomit-frame-pointer -march=i586 -mtune=p
entiumpro  -Ic:/harbour/external/zlib -Ic:/harbour/external/libpng  -o_hbhbpdf.o
 -c ../../../_hbhbpdf.c
In file included from ../../../../../include/hbvmpub.h:56,
                 from ../../../../../include/hbapi.h:61,
                 from ../../../_hbhbpdf.c:5:
../../../../../include/hbdefs.h:608: error: expected '=', ',', ';', 'asm' or '__
attribute__' before 'HB_FOFFSET'
win-make.exe[3]: *** [_hbhbpdf.o] Error 1
win-make.exe[2]: *** [descend] Error 2
win-make.exe[1]: *** [libhpdf.inst] Error 2
win-make.exe: *** [external.inst] Error 2

Regards,
Vailton Renato
From vszakats at users.sourceforge.net  Sun Feb  7 10:03:52 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 10:04:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour
Message-ID: <E1Ne8fw-0006KM-GZ@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13796
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13796&view=rev
Author:   vszakats
Date:     2010-02-07 15:03:51 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    ! New Harbour types moved upper in the file to avoid
      errors reported on the list.
    - Deleted HB_I8 and HB_U8 types. Practice shows that
      HB_UCHAR and HB_SCHAR are used instead of these.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sun Feb  7 10:14:15 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb  7 10:14:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour
References: <E1Ne8fw-0006KM-GZ@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <537F9FAD2E1343DA9FA4D979F6070F1C@emag>


-----Messaggio Originale----- 
Da: <vszakats@users.sourceforge.net>
A: <harbour@harbour-project.org>
Data invio: domenica 7 febbraio 2010 16.03
Oggetto: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour

Thank you. Now I get:

Error E2176 ../../../cdpapi.c 1047: Too many types in declaration

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From harbour.01 at syenar.hu  Sun Feb  7 10:23:05 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb  7 10:23:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour
In-Reply-To: <537F9FAD2E1343DA9FA4D979F6070F1C@emag>
References: <E1Ne8fw-0006KM-GZ@sfp-svn-5.v30.ch3.sourceforge.com>
	<537F9FAD2E1343DA9FA4D979F6070F1C@emag>
Message-ID: <B693DCFA-3BA1-457A-BF58-4726F1AC6C31@syenar.hu>

Thank you, it's a typo, just remove 'char' from return 
type until I commit the fix.

Brgds,
Viktor

On 2010 Feb 7, at 16:14, Enrico Maria Giordano wrote:

> 
> -----Messaggio Originale----- Da: <vszakats@users.sourceforge.net>
> A: <harbour@harbour-project.org>
> Data invio: domenica 7 febbraio 2010 16.03
> Oggetto: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour
> 
> Thank you. Now I get:
> 
> Error E2176 ../../../cdpapi.c 1047: Too many types in declaration
> 
> EMG
> 
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Feb  7 10:37:26 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 10:37:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13797] trunk/harbour
Message-ID: <E1Ne9CQ-0006iW-RL@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13797
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13797&view=rev
Author:   vszakats
Date:     2010-02-07 15:37:24 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 16:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/cdpapi.c
    ! Fixed type when manually correcting 'unsigned char' to UCHAR
      to sync with declaration.

  * contrib/gtwvg/gtwvg.c
    ! Fixed wrong casts (HB_LONG instead of long)

  * src/pp/ppcore.c
  * src/vm/macro.c
  * src/vm/hashes.c
  * src/vm/itemapi.c
  * src/vm/hvm.c
  * src/vm/arrays.c
  * src/vm/task.c
  * src/vm/thread.c
  * src/vm/extend.c
  * src/common/hbwince.c
  * src/common/expropt1.c
  * src/common/hbstr.c
  * src/common/expropt2.c
  * src/common/hbdate.c
  * src/macro/macro.yyc
  * src/macro/macro.y
  * src/macro/macro.yyh
  * src/macro/macrolex.c
  * src/rtl/gttrm/gttrm.c
  * src/rtl/hbstrfmt.c
  * src/rtl/hbcrc.c
  * src/rtl/minmax.c
  * src/rtl/hbrandom.c
  * src/rtl/hbsocket.c
  * src/rtl/hbbit.c
  * src/rtl/hbgtcore.c
  * src/rtl/cputime.c
  * src/rtl/idle.c
  * src/rtl/itemseri.c
  * src/rtl/gtsln/gtsln.c
  * src/rtl/gtpca/gtpca.c
  * src/rtl/hbznet.c
  * src/rtl/hbhex.c
  * src/rtl/seconds.c
  * src/rtl/abs.c
  * src/rtl/gtwvt/gtwvt.c
  * src/rtl/hbbyte.c
  * src/rtl/val.c
  * src/rdd/dbfntx/dbfntx1.c
  * src/rdd/dbsql.c
  * src/rdd/sdf1.c
  * src/rdd/delim1.c
  * src/rdd/dbf1.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/compiler/hbmain.c
  * src/compiler/complex.c
  * src/compiler/harbour.yyc
  * src/compiler/harbour.y
  * src/compiler/harbour.yyh
  * include/hbvmpub.h
  * include/hbgtcore.h
  * include/hbthread.h
  * include/hbdefs.h
  * include/hbmacro.h
  * include/hbapi.h
  * include/hbapiitm.h
  * include/hbznet.h
  * include/hbvm.h
  * include/hbcomp.h
  * include/hbcompdf.h
  * include/hbexprop.h
  * include/hbsocket.h
  * include/hbchksum.h
  * include/hbexprb.c
  * include/hbdate.h
  * contrib/hbct/bitnum.c
  * contrib/hbct/dbftools.c
  * contrib/hbct/files.c
  * contrib/hbct/disk.c
  * contrib/xhb/xhbfunc.c
  * contrib/hbcurl/hbcurl.c
  * contrib/hbnetio/netiocli.c
  * contrib/hbnetio/netiosrv.c
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvggui.c
  * contrib/gtwvg/wvgcore.c
  * contrib/rddads/ads1.c
  * contrib/hbwin/olecore.c
    * HB_LONG  -> HB_MAXINT
    * HB_ULONG -> HB_MAXUINT

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/hbct/bitnum.c
    trunk/harbour/contrib/hbct/dbftools.c
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/contrib/hbcurl/hbcurl.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbnetio/netiosrv.c
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/xhb/xhbfunc.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/include/hbchksum.h
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbdate.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbexprop.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/include/hbmacro.h
    trunk/harbour/include/hbsocket.h
    trunk/harbour/include/hbthread.h
    trunk/harbour/include/hbvm.h
    trunk/harbour/include/hbvmpub.h
    trunk/harbour/include/hbznet.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/common/expropt2.c
    trunk/harbour/src/common/hbdate.c
    trunk/harbour/src/common/hbstr.c
    trunk/harbour/src/common/hbwince.c
    trunk/harbour/src/compiler/complex.c
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/harbour.yyh
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/macro/macro.y
    trunk/harbour/src/macro/macro.yyc
    trunk/harbour/src/macro/macro.yyh
    trunk/harbour/src/macro/macrolex.c
    trunk/harbour/src/pp/ppcore.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/dbsql.c
    trunk/harbour/src/rdd/delim1.c
    trunk/harbour/src/rdd/sdf1.c
    trunk/harbour/src/rtl/abs.c
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/src/rtl/cputime.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtsln/gtsln.c
    trunk/harbour/src/rtl/gttrm/gttrm.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/rtl/hbbit.c
    trunk/harbour/src/rtl/hbbyte.c
    trunk/harbour/src/rtl/hbcrc.c
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/rtl/hbhex.c
    trunk/harbour/src/rtl/hbrandom.c
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/src/rtl/hbstrfmt.c
    trunk/harbour/src/rtl/hbznet.c
    trunk/harbour/src/rtl/idle.c
    trunk/harbour/src/rtl/itemseri.c
    trunk/harbour/src/rtl/minmax.c
    trunk/harbour/src/rtl/seconds.c
    trunk/harbour/src/rtl/val.c
    trunk/harbour/src/vm/arrays.c
    trunk/harbour/src/vm/extend.c
    trunk/harbour/src/vm/hashes.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/src/vm/macro.c
    trunk/harbour/src/vm/task.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Feb  7 10:39:26 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb  7 10:39:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13792] trunk/harbour
In-Reply-To: <E1Ne731-0002iX-7q@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Ne731-0002iX-7q@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <20100207153926.GA29931@linux-4bod.home.aster.pl>

On Sun, 07 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

>     ; QUESTION: There is one suspiciously looking usage:
>                 ftattr.c / iColor = ( HB_UCHAR ) *pAttrib++;
>                 Is it ok?

Yes of course.
'char' is usually signed type so values like 0x80 will be translated
to -128 without such casting so it's extremely important have it in
such places.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Feb  7 10:43:08 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb  7 10:43:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour
In-Reply-To: <E1Ne8fw-0006KM-GZ@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1Ne8fw-0006KM-GZ@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <20100207154308.GB29931@linux-4bod.home.aster.pl>

On Sun, 07 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-02-07 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * include/hbdefs.h
>     ! New Harbour types moved upper in the file to avoid
>       errors reported on the list.
>     - Deleted HB_I8 and HB_U8 types. Practice shows that
>       HB_UCHAR and HB_SCHAR are used instead of these.

Does it mean that we decided to definitely drop support for platforms
which do not use 8 bit characters?
I do not plan to make such ports in reasonable time so it's not a problem
for me but maybe someone else will want to port Harbour to some IBM machines.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Feb  7 10:51:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb  7 10:51:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour
In-Reply-To: <20100207154308.GB29931@linux-4bod.home.aster.pl>
References: <E1Ne8fw-0006KM-GZ@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100207154308.GB29931@linux-4bod.home.aster.pl>
Message-ID: <66FACC71-E0F4-40CA-A10B-2B61FC748DF0@syenar.hu>

> On Sun, 07 Feb 2010, vszakats@users.sourceforge.net wrote:
> 
> Hi,
> 
>> 2010-02-07 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * include/hbdefs.h
>>    ! New Harbour types moved upper in the file to avoid
>>      errors reported on the list.
>>    - Deleted HB_I8 and HB_U8 types. Practice shows that
>>      HB_UCHAR and HB_SCHAR are used instead of these.
> 
> Does it mean that we decided to definitely drop support for platforms
> which do not use 8 bit characters?
> I do not plan to make such ports in reasonable time so it's not a problem
> for me but maybe someone else will want to port Harbour to some IBM machines.

No, we can readd it, but this is the least thing to do.

I think the first thing should be to define our existing "char" types:

HB_UCHAR
HB_SCHAR
HB_WCHAR
HB_BYTE / BYTE
char
USHORT

It would be very important to see which means what and when to use 
them to make such port happen more easily.

However closely I check the source and actual usage, I can't find 
out the rules.

Until this is cleared it would not be very good to add more 
"synonyms" to this range of types. Perhaps we could also define 
some rules to convert above existing types to HB_I8 / HB_U8 
where needed.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Feb  7 10:54:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 10:54:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13798] trunk/harbour
Message-ID: <E1Ne9T2-00071k-HX@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13798
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13798&view=rev
Author:   vszakats
Date:     2010-02-07 15:54:35 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 16:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwvt/gtwvt.c
  * contrib/gtwvg/gtwvg.c
  * contrib/hbmisc/hb_f.c
  * contrib/hbwin/win_dll.c
    * SHORT type cleanup. Converted to HB_WCHAR, nothing, USHORT, WORD 
      depending on context.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/hbmisc/hb_f.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sun Feb  7 10:56:15 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Feb  7 10:56:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13799] trunk/harbour
Message-ID: <E1Ne9Ud-00054q-GU@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13799
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13799&view=rev
Author:   vouchcac
Date:     2010-02-07 15:56:14 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 07:46 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h
  * contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
  * contrib/hbqt/qtgui/THBQPlainTextEdit.prg
  * contrib/hbqt/qth/HBQPlainTextEdit.qth

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg

    + Implemented <Delete Line Ctrl+Del> - Current Line
                  <Indent Right Ctrl+Tab> - Selected Lines
                  <Indent Right Shift+Ctrl+Tab> - Selected Lines

      Indenting is exercised on selected lines with "one" column at a time.

      Vailton, can you create icons for above?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb  7 11:10:58 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 11:11:05 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13800] trunk/harbour
Message-ID: <E1Ne9is-0007JF-Gc@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13800
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13800&view=rev
Author:   vszakats
Date:     2010-02-07 16:10:56 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 17:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/hvm.c
  * src/rdd/dbfntx/dbfntx1.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/dbf1.c
  * src/rdd/usrrdd/usrrdd.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/rdd/hbsix/sxcompr.c
  * src/compiler/hbfix.c
  * src/compiler/hbopt.c
  * tests/bldtest/bldtest.c
  * include/hbrddnsx.h
  * include/hbxvm.h
  * include/hbdefs.h
  * include/hbapi.h
  * include/hbrddntx.h
  * include/hbrddcdx.h
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbmcdx/hbbmcdx.h
    * SHORT -> HB_SHORT.
      (in some places 'short' is used, these should be synced, noticed 
      it in RDD)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/include/hbrddntx.h
    trunk/harbour/include/hbxvm.h
    trunk/harbour/src/compiler/hbfix.c
    trunk/harbour/src/compiler/hbopt.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/hbsix/sxcompr.c
    trunk/harbour/src/rdd/usrrdd/usrrdd.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/tests/bldtest/bldtest.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sun Feb  7 11:13:26 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Feb  7 11:13:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour
References: <E1Ne8fw-0006KM-GZ@sfp-svn-5.v30.ch3.sourceforge.com><537F9FAD2E1343DA9FA4D979F6070F1C@emag>
	<B693DCFA-3BA1-457A-BF58-4726F1AC6C31@syenar.hu>
Message-ID: <ED5BD767C0344CD0BDF7B3B4621A90D9@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 7 febbraio 2010 16.23
Oggetto: Re: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour


> Thank you, it's a typo, just remove 'char' from return
> type until I commit the fix.

Thank you, it's ok after your last commit.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vouchcac at users.sourceforge.net  Sun Feb  7 12:01:06 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Feb  7 12:01:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13801] trunk/harbour
Message-ID: <E1NeAVO-0008He-TY@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13801
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13801&view=rev
Author:   vouchcac
Date:     2010-02-07 17:01:05 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 08:56 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h
  * contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
  * contrib/hbqt/qtgui/THBQPlainTextEdit.prg
  * contrib/hbqt/qth/HBQPlainTextEdit.qth

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/ideeditor.prg
    
    + Implemented <Line Move Up>, <Line Move Down> - Current Line
         If the line is already selected, selection is cleared.

    ! Slight change in <Edit> main-menu drop-down.
         <Line...> and <Block...> sub-menus now club the 
         line and block actions.
      ; Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb  7 12:47:40 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 12:47:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13802] trunk/harbour
Message-ID: <E1NeBES-0003Ty-Jq@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13802
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13802&view=rev
Author:   vszakats
Date:     2010-02-07 17:47:39 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 18:36 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Changed types to have our "new" types as primary
      ones, and old types as legacy ones. This also means
      that all old/legacy types are now based on new types.
    + Added HB_LEGACY_TYPES_OFF #define, with which you can
      disable all legacy types for testing purposes.
      This mode will become the default in the future,
      so start to prepare for the new types.
    ; NOTE: Harbour and 3rd party components can't be compiled
      with this switch enabled yet, since there is still some
      type conversions tasks left. For now its purpose
      is to look for remaining legacy types in Harbour code.

  * include/hbvmpub.h
    * BYTE -> HB_BYTE

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbvmpub.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb  7 13:03:02 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 13:03:10 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13803] trunk/harbour
Message-ID: <E1NeBTK-0003iV-A1@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13803
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13803&view=rev
Author:   vszakats
Date:     2010-02-07 18:03:00 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 19:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/classes.c
  * src/rtl/gtdos/gtdos.c
  * src/rtl/gtxwc/gtxwc.c
  * src/rdd/wacore.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/compiler/genobj32.c
  * include/hbinit.h
  * include/hbrddcdx.h
  * contrib/xhb/hbcrypt.c
  * contrib/xhb/freadlin.c
  * contrib/xhb/txtline.c
  * contrib/hbnf/descendn.c
  * contrib/rddsql/sqlmix.c
  * contrib/rddads/adsx.c
  * contrib/hbtip/encmthd.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbmcdx/hbbmcdx.h
    * Formatting. (whitespace only)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h
    trunk/harbour/contrib/hbnf/descendn.c
    trunk/harbour/contrib/hbtip/encmthd.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/contrib/xhb/freadlin.c
    trunk/harbour/contrib/xhb/hbcrypt.c
    trunk/harbour/contrib/xhb/txtline.c
    trunk/harbour/include/hbinit.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/src/compiler/genobj32.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/wacore.c
    trunk/harbour/src/rtl/gtdos/gtdos.c
    trunk/harbour/src/rtl/gtxwc/gtxwc.c
    trunk/harbour/src/vm/classes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb  7 15:22:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 16:09:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13804] trunk/harbour
Message-ID: <E1NeDeY-00063l-9d@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13804
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13804&view=rev
Author:   vszakats
Date:     2010-02-07 20:22:34 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 21:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/clipdefs.h
    + Added Clipper compatible legacy types to Clipper compatibility 
      header. They are enabled when HB_LEGACY_TYPES_OFF is set.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/clipdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb  7 16:36:32 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 16:36:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13805] trunk/harbour
Message-ID: <E1NeEnw-0007JU-UD@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13805
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13805&view=rev
Author:   vszakats
Date:     2010-02-07 21:36:26 +0000 (Sun, 07 Feb 2010)

Log Message:
-----------
2010-02-07 22:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkimp.bat
    + Added support for Apollo 7.

  * utils/hbmk2/hbmk2.prg
    + Accepting '&&' and '||' as 'and' and 'or' operators.

  * examples/hbsqlit2/hbsqlit2.hbp
  * examples/hbapollo/hbapollo.hbp
    + HB_INC_* -> HB_WITH_*

  * examples/hbapollo/apollo.c
  * examples/hbapollo/hbapollo.hbc
    + Added support for Apollo 7.
    + Version 6.1 can now be selected by defining HB_WITH_APOLLO_VER61 envvar.

  * examples/gtwvw/gtwvw.c
    * HB_LONG -> HB_MAXINT

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/examples/gtwvw/gtwvw.c
    trunk/harbour/examples/hbapollo/apollo.c
    trunk/harbour/examples/hbapollo/hbapollo.hbc
    trunk/harbour/examples/hbapollo/hbapollo.hbp
    trunk/harbour/examples/hbsqlit2/hbsqlit2.hbp
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april_white at sympatico.ca  Sun Feb  7 16:38:46 2010
From: april_white at sympatico.ca (April White)
Date: Sun Feb  7 16:38:55 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <20100203022350.GA23247@linux-4bod.home.aster.pl>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
	<4B66D939.20307@gmail.com>
	<20100202183351.GA24204@linux-4bod.home.aster.pl>
	<BLU0-SMTP9360888EF5D937B5572A3DEF560@phx.gbl>
	<20100203022350.GA23247@linux-4bod.home.aster.pl>
Message-ID: <BLU0-SMTP85DC8876A221B6B9996D3AEF520@phx.gbl>

Przemek, I want to confirm something. I'm not yet using the new code you 
wrote, so bear with me here.

If I allocate memory using hb_xgrab_fm() as you suggested before and 
then call p1 = hb_itemNew(p2) if I do not release p1 the line reported 
by FM statistics appears to be where hb_xgrab_fm() is called. This is 
what I believe I am seeing, can you confirm this?

April

-- 
With my last breath I spit at thee...
'The Wrath of Khan'

From harbour.01 at syenar.hu  Sun Feb  7 17:01:43 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb  7 17:01:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13805] trunk/harbour
In-Reply-To: <E1NeEnw-0007JU-UD@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NeEnw-0007JU-UD@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <F70E09C9-AC0D-4BEA-9F1E-A0B2B29676C3@syenar.hu>

Peeking into the header, there wasn't too much done 
to this piece of software in the last 6 years...

Three new APIs, one new constant and no header portability 
bugs fixed.

What a waste... I wish Harbour had the MACH6 engine.

Brgds,
Viktor

On 2010 Feb 7, at 22:36, vszakats@users.sourceforge.net wrote:

> Revision: 13805
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13805&view=rev
> Author:   vszakats
> Date:     2010-02-07 21:36:26 +0000 (Sun, 07 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-07 22:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * bin/hb-mkimp.bat
>    + Added support for Apollo 7.
> 
>  * utils/hbmk2/hbmk2.prg
>    + Accepting '&&' and '||' as 'and' and 'or' operators.
> 
>  * examples/hbsqlit2/hbsqlit2.hbp
>  * examples/hbapollo/hbapollo.hbp
>    + HB_INC_* -> HB_WITH_*
> 
>  * examples/hbapollo/apollo.c
>  * examples/hbapollo/hbapollo.hbc
>    + Added support for Apollo 7.
>    + Version 6.1 can now be selected by defining HB_WITH_APOLLO_VER61 envvar.
> 
>  * examples/gtwvw/gtwvw.c
>    * HB_LONG -> HB_MAXINT
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/bin/hb-mkimp.bat
>    trunk/harbour/examples/gtwvw/gtwvw.c
>    trunk/harbour/examples/hbapollo/apollo.c
>    trunk/harbour/examples/hbapollo/hbapollo.hbc
>    trunk/harbour/examples/hbapollo/hbapollo.hbp
>    trunk/harbour/examples/hbsqlit2/hbsqlit2.hbp
>    trunk/harbour/utils/hbmk2/hbmk2.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Sun Feb  7 17:03:50 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Feb  7 17:03:58 2010
Subject: [Harbour] mysql test sample either compile in LINUX
In-Reply-To: <609353e71002070611y7dfa412dt1817035bd6705b10@mail.gmail.com>
References: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com>
	<fd76479f1002051638q3a5fbc1ewaf908a3cfe559c2d@mail.gmail.com>
	<133778361002061543i43469f80n5f6a00ca60466849@mail.gmail.com>
	<609353e71002070027x79da0433o3ea6e35151a4f3ab@mail.gmail.com>
	<133778361002070545qc33eac0k23126c5a5dea1b52@mail.gmail.com>
	<609353e71002070611y7dfa412dt1817035bd6705b10@mail.gmail.com>
Message-ID: <133778361002071403v35fd0dc6t13b7ae6f272ad804@mail.gmail.com>

Library was created without problems

HBMysql , but hbm file name it as libmysql

I think thats an error or need another library
that i don't know which is

Bruno

2010/2/7 Massimo Belgrano <mbelgrano@deltain.it>

> I don't know because i have lost my ubuntu virtual machine
> when you start make it display
> ! Component:mysql??
>
> 2010/2/7 Bruno Luciani <bruno.luciani@gmail.com>:
> > Is needed in linux ?
> >
> > Bruno
> >
> > 2010/2/7 Massimo Belgrano <mbelgrano@deltain.it>
> >>
> >> Have you used HB_WITH_MYSQL=/mysql/include
> >>
> >>
> >
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100207/39cf41f9/attachment.html
From vszakats at users.sourceforge.net  Sun Feb  7 20:18:49 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb  7 20:18:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13806] trunk/harbour
Message-ID: <E1NeIH3-0002Vq-FS@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13806
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13806&view=rev
Author:   vszakats
Date:     2010-02-08 01:18:46 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-07 02:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/ppcore.c
  * src/vm/macro.c
  * src/vm/runner.c
  * src/vm/codebloc.c
  * src/vm/garbage.c
  * src/vm/hvm.c
  * src/vm/maindllp.c
  * src/vm/fm.c
  * src/vm/extrap.c
  * src/vm/memvars.c
  * src/common/expropt1.c
  * src/common/expropt2.c
  * src/common/hbarch.c
  * src/common/hbmem.c
  * src/nortl/nortl.c
  * src/rtl/gtdos/gtdos.c
  * src/rtl/gtwin/gtwin.c
  * src/rtl/gtxwc/gtxwc.h
  * src/rtl/gtxwc/gtxwc.c
  * src/rtl/gtcrs/gtcrs.c
  * src/rtl/gtstd/gtstd.c
  * src/rtl/gttrm/gttrm.c
  * src/rtl/gtcgi/gtcgi.c
  * src/rtl/gtapi.c
  * src/rtl/gtos2/gtos2.c
  * src/rtl/hbgtcore.c
  * src/rtl/gtsln/gtsln.c
  * src/rtl/gtsln/kbsln.c
  * src/rtl/gtsln/gtsln.h
  * src/rtl/gtpca/gtpca.c
  * src/rtl/gt_tpl/gt_tpl.c
  * src/rtl/gtwvt/gtwvt.h
  * src/rtl/gtwvt/gtwvt.c
  * src/rdd/dbfntx/dbfntx1.c
  * src/rdd/dbsql.c
  * src/rdd/hbdbsort.c
  * src/rdd/workarea.c
  * src/rdd/sdf1.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/delim1.c
  * src/rdd/dbf1.c
  * src/rdd/hsx/hsx.c
  * src/rdd/usrrdd/usrrdd.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/rdd/hbsix/sxsem.c
  * src/rdd/hbsix/sxcompr.c
  * src/compiler/ppcomp.c
  * src/compiler/hbmain.c
  * src/compiler/hbfix.c
  * src/compiler/hbdbginf.c
  * src/compiler/hbpcode.c
  * src/compiler/genhrb.c
  * src/compiler/hbdead.c
  * src/compiler/genobj32.c
  * src/compiler/genc.c
  * src/compiler/hbopt.c
  * src/compiler/gencc.c
  * src/compiler/hbcmplib.c
  * src/compiler/hblbl.c
  * src/compiler/harbour.yyc
  * src/compiler/harbour.y
  * src/compiler/harbour.yyh
  * tests/bldtest/bldtest.c
  * tests/tstgtapi.c
  * include/hbpp.h
  * include/hbrdddbf.h
  * include/hbvmpub.h
  * include/hbrddnsx.h
  * include/hbgtcore.h
  * include/hbxvm.h
  * include/hbdefs.h
  * include/hbmacro.h
  * include/hbtypes.h
  * include/hbrddsdf.h
  * include/hbapi.h
  * include/hbrddntx.h
  * include/hbvm.h
  * include/hbcomp.h
  * include/hbapirdd.h
  * include/hbcompdf.h
  * include/hbrdddel.h
  * include/hbexpra.c
  * include/hbexprop.h
  * include/hbdbf.h
  * include/hbdbsort.h
  * include/hbapigt.h
  * include/hbrddcdx.h
  * include/hbrddfpt.h
  * include/hbexprb.c
  * contrib/gtalleg/gtalleg.c
  * contrib/hbct/ctwin.c
  * contrib/hbct/ascpos.c
  * contrib/hbct/screen1.c
  * contrib/hbct/ctcrypt.c
  * contrib/xhb/hbxml.c
  * contrib/xhb/xhbis.c
  * contrib/xhb/fparse.c
  * contrib/xhb/xhbat.c
  * contrib/xhb/xhbcopyf.c
  * contrib/xhb/cstructc.c
  * contrib/hbqt/gtqtc/gtqtc.cpp
  * contrib/hbqt/gtqtc/gtqtc.h
  * contrib/xpp/philesx.c
  * contrib/hbnf/ftshadow.c
  * contrib/hbnf/ftattr.c
  * contrib/hbnetio/netiocli.c
  * contrib/hbnetio/netiosrv.c
  * contrib/rddsql/sddmy/mysqldd.c
  * contrib/rddsql/sddpg/pgsqldd.c
  * contrib/rddsql/sddfb/fbirddd.c
  * contrib/rddsql/sddodbc/odbcdd.c
  * contrib/rddsql/hbrddsql.h
  * contrib/rddsql/sqlbase.c
  * contrib/rddsql/sqlmix.c
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvggui.c
  * contrib/gtwvg/wvgcore.c
  * contrib/gtwvg/wvgwing.c
  * contrib/rddads/adsx.c
  * contrib/rddads/rddads.h
  * contrib/rddads/ads1.c
  * contrib/hbtip/utils.c
  * contrib/hbwin/win_regc.c
  * contrib/hbwin/win_prn2.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbmcdx/hbbmcdx.h
  * contrib/hbbtree/hb_btree.c
    * BYTE -> HB_BYTE except where BYTE was used in OS-specific context.
    * Some formatting.
    ; I didn't realign structure definitions in hbrdd*.h yet.

  * contrib/hbwin/win_regc.c
    * Minor type cleanup.

  * src/rtl/gt_tpl/gt_tpl.c
    * BYTE -> int for color.

  * examples/hbapollo/apollo.c
    % Deleted MAX_STR_LEN.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/gtalleg.c
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbct/ascpos.c
    trunk/harbour/contrib/hbct/ctcrypt.c
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/contrib/hbct/screen1.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbnetio/netiosrv.c
    trunk/harbour/contrib/hbnf/ftattr.c
    trunk/harbour/contrib/hbnf/ftshadow.c
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.cpp
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.h
    trunk/harbour/contrib/hbtip/utils.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddads/rddads.h
    trunk/harbour/contrib/rddsql/hbrddsql.h
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/contrib/xhb/cstructc.c
    trunk/harbour/contrib/xhb/fparse.c
    trunk/harbour/contrib/xhb/hbxml.c
    trunk/harbour/contrib/xhb/xhbat.c
    trunk/harbour/contrib/xhb/xhbcopyf.c
    trunk/harbour/contrib/xhb/xhbis.c
    trunk/harbour/contrib/xpp/philesx.c
    trunk/harbour/examples/hbapollo/apollo.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapigt.h
    trunk/harbour/include/hbapirdd.h
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbdbf.h
    trunk/harbour/include/hbdbsort.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbexpra.c
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbexprop.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/include/hbmacro.h
    trunk/harbour/include/hbpp.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/include/hbrdddbf.h
    trunk/harbour/include/hbrdddel.h
    trunk/harbour/include/hbrddfpt.h
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/include/hbrddntx.h
    trunk/harbour/include/hbrddsdf.h
    trunk/harbour/include/hbtypes.h
    trunk/harbour/include/hbvm.h
    trunk/harbour/include/hbvmpub.h
    trunk/harbour/include/hbxvm.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/common/expropt2.c
    trunk/harbour/src/common/hbarch.c
    trunk/harbour/src/common/hbmem.c
    trunk/harbour/src/compiler/genc.c
    trunk/harbour/src/compiler/gencc.c
    trunk/harbour/src/compiler/genhrb.c
    trunk/harbour/src/compiler/genobj32.c
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/harbour.yyh
    trunk/harbour/src/compiler/hbcmplib.c
    trunk/harbour/src/compiler/hbdbginf.c
    trunk/harbour/src/compiler/hbdead.c
    trunk/harbour/src/compiler/hbfix.c
    trunk/harbour/src/compiler/hblbl.c
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/compiler/hbopt.c
    trunk/harbour/src/compiler/hbpcode.c
    trunk/harbour/src/compiler/ppcomp.c
    trunk/harbour/src/nortl/nortl.c
    trunk/harbour/src/pp/ppcore.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/dbsql.c
    trunk/harbour/src/rdd/delim1.c
    trunk/harbour/src/rdd/hbdbsort.c
    trunk/harbour/src/rdd/hbsix/sxcompr.c
    trunk/harbour/src/rdd/hbsix/sxsem.c
    trunk/harbour/src/rdd/hsx/hsx.c
    trunk/harbour/src/rdd/sdf1.c
    trunk/harbour/src/rdd/usrrdd/usrrdd.c
    trunk/harbour/src/rdd/workarea.c
    trunk/harbour/src/rtl/gt_tpl/gt_tpl.c
    trunk/harbour/src/rtl/gtapi.c
    trunk/harbour/src/rtl/gtcgi/gtcgi.c
    trunk/harbour/src/rtl/gtcrs/gtcrs.c
    trunk/harbour/src/rtl/gtdos/gtdos.c
    trunk/harbour/src/rtl/gtos2/gtos2.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtsln/gtsln.c
    trunk/harbour/src/rtl/gtsln/gtsln.h
    trunk/harbour/src/rtl/gtsln/kbsln.c
    trunk/harbour/src/rtl/gtstd/gtstd.c
    trunk/harbour/src/rtl/gttrm/gttrm.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.h
    trunk/harbour/src/rtl/gtxwc/gtxwc.c
    trunk/harbour/src/rtl/gtxwc/gtxwc.h
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/vm/codebloc.c
    trunk/harbour/src/vm/extrap.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/macro.c
    trunk/harbour/src/vm/maindllp.c
    trunk/harbour/src/vm/memvars.c
    trunk/harbour/src/vm/runner.c
    trunk/harbour/tests/bldtest/bldtest.c
    trunk/harbour/tests/tstgtapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb  7 20:23:11 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb  7 20:23:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13796] trunk/harbour
In-Reply-To: <66FACC71-E0F4-40CA-A10B-2B61FC748DF0@syenar.hu>
References: <E1Ne8fw-0006KM-GZ@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100207154308.GB29931@linux-4bod.home.aster.pl>
	<66FACC71-E0F4-40CA-A10B-2B61FC748DF0@syenar.hu>
Message-ID: <E797C6CF-C8D0-42AA-9483-E8DD50023791@syenar.hu>

Hi Przemek and All,

> I think the first thing should be to define our existing "char" types:
> 
> HB_UCHAR
> HB_SCHAR
> HB_WCHAR
> HB_BYTE / BYTE
> char
> USHORT

I'm having a try to collect what we know about char/byte types:

- HB_UCHAR: Similar to HB_BYTE. Was introduced to avoid signedness problems 
  when using legacy type BYTE. 
- HB_SCHAR: Used in just a few places, signed HB_UCHAR.
- HB_WCHAR: 16-bit UNICODE char (this is the only one I'm certain of)
- HB_BYTE: Similar to HB_UCHAR, non-textual data streams, PCODEs, data stored on disk.
- BYTE (deprecated): Similar to HB_BYTE but with non-guaranteed signedness.
- char: generic text, 8-bit or UTF-8, PCODEs (wrongly used). Signedness non-guaranteed.
- unsigned char: Similar to HB_UCHAR
- HB_USHORT: Text character in GT API. Maybe used because low level 
  interface may accept 8-16 bit chars. But even then hbapigt.h 
  shouldn't use this type.

- HB_I8: I estimate this won't be used too often in practice.
- HB_U8: Seems to be interchangeable with HB_BYTE/HB_UCHAR, on 
         systems where char is 8 bit, but could be useful 
         for disk structures on systems where it's not.
         This of course needs that we start using those f.e. 
         in RDD code.

Questions:
- Shouldn't we change HB_USHORT to something else in GT API?
- Now that we define our own HB_BYTE, and it's guaranteed to 
  be unsigned, isn't it equivalent to HB_UCHAR? (if not see next)
- What is the difference between HB_BYTE/HB_UCHAR?
  Where should we use which? If they are equivalent, which 
  should be chosen as the "one"?

So far my conclusion is that HB_BYTE is superfluous and 
could be replaced by HB_UCHAR everywhere in code, except 
for disk structures where it should be replaced with HB_U8.
'unsigned char' should also be changed to HB_UCHAR.

Or perhaps the cleanest and simplest way would be to stick 
to HB_BYTE and HB_CHAR (since signedness is now guaranteed) 
for in-memory usage, and HB_U8 for externally stored data, 
and drop HB_UCHAR, HB_SCHAR. BYTE/CHAR are much familiar 
names, and most of or code uses these terms.

Brgds,
Viktor

From jarabal at gmail.com  Sun Feb  7 21:42:37 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb  7 21:43:00 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>
	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>
Message-ID: <4B6F7A1D.9070607@gmail.com>

Hi,

>   ...  I wonder if it's possible to fix this
> function to not be sensitive on this setting.
>
> Any idea?

Yes, of course. ??? :)
I can fix this without ASM, but a bad use of these functions always cause GPF.

-- 
Xavi

El 06/02/2010 18:37, Viktor Szak?ts escribi?:
> Hi Xavi,
>
> Very good point.
>
> I can add ugly hack to makefiles to always keep frame
> pointers for mingw in hbwin lib to make hb_DynaCall()
> function happy, but I wonder if it's possible to fix this
> function to not be sensitive on this setting.
>
> Any idea?
>
> Brgds,
> Viktor
>
> On 2010 Feb 6, at 17:41, Xavi wrote:
>
>> Hi,
>>
>> I guess that is because hbwin is compiled with -fomit-frame-pointer.
>> Try copy win_dll.c to the folder tests and compiled with .-
>>
>> hbmk2 testdll.prg win_dll.c -lstdc++ -debug
>>
>> Ok, I've only tested with gcc-dw2.exe
>>
>> --
>> Xavi
>>
>> El 06/02/2010 15:19, Fernando Athayde escribi?:
>>> really don?t runs causes GPF
>>> i am using
>>> #include "hbdll.ch"
>>>
>>> hdll:=dllload("EZTW32.DLL")
>>> dllcall(hdll,DC_CALL_STD,"TWAIN_SelectImageSource",::oFormCadastro:handle,)
>>> dllcall(hdll,DC_CALL_STD,"TWAIN_AcquireToFilename",::oFormCadastro:handle,"file.bmp")
>>> freelibrary(hdll)
>>>
>>>
>>> Best Regards,
>>> Fernando Athayde
>>>
>>> *De:* Itamar Lins<itamarlins@gmail.com>
>>> *Para:* harbour@harbour-project.org
>>> *Enviadas:* S?bado, 6 de Fevereiro de 2010 10:10:57
>>> *Assunto:* [Harbour] MinGW dllcall function not run.
>>>
>>> Hi!
>>> sorry to insist on that but there is a possibility to make it work with him.
>>> I need to take MinGW.
>>>
>>> Best regards,
>>> Itamar M. Lins Jr.
>>>
From alxokhotnikov at gmail.com  Mon Feb  8 04:13:29 2010
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Mon Feb  8 04:13:38 2010
Subject: [Harbour] Compiling harbour
Message-ID: <d6fa31441002080113m51ca944ata80635ec3d91e985@mail.gmail.com>

Hi All

Ubuntu x64 (ver 9.10)
Harbour rev.13806

in file included from ../../../../../include/hbmacro.h:64,
                 from ../../../../../include/hbcomp.h:65,
                 from ../../../nortl.c:58:
../../../../../include/hbapiitm.h:100: error: expected ?=?, ?,?, ?;?,
?asm? or ?__attribute__? before ?hb_itemGetNInt?
../../../../../include/hbapiitm.h:126: error: expected declaration
specifiers or ?...? before ?HB_MAXINT?
../../../../../include/hbapiitm.h:127: error: expected declaration
specifiers or ?...? before ?HB_MAXINT?
In file included from ../../../../../include/hbmacro.h:67,
                 from ../../../../../include/hbcomp.h:65,
                 from ../../../nortl.c:58:
../../../../../include/hbexprop.h:82: error: expected ?)? before
?HB_COMP_PTR?
../../../../../include/hbexprop.h:165: error: expected ?=?, ?,?, ?;?,
?asm? or ?__attribute__? before ?hb_compExprAsLongNum?
../../../../../include/hbexprop.h:208: error: expected declaration
specifiers or ?...? before ?HB_MAXINT?
In file included from ../../../nortl.c:58:
../../../../../include/hbcomp.h:206: error: expected ?)? before
?lNumber?
../../../../../include/hbcomp.h:212: error: expected declaration
specifiers or ?...? before ?HB_MAXINT?
../../../../../include/hbcomp.h:213: error: expected declaration
specifiers or ?...? before ?HB_MAXINT?

--------------------------------

include/hbdefs.h:

#if defined( HB_CLIPPER_INT_ITEMS )
#  define HB_INT_MAX             SHRT_MAX
#  define HB_INT_MIN             SHRT_MIN
#  define HB_LONG_MAX            LONG_MAX
#  define HB_LONG_MIN            LONG_MIN
#  define HB_ULONG_MAX           ULONG_MAX
   typedef long                  HB_MAXINT;
   typedef unsigned long         HB_MAXUINT;
#  define PFHL                   "l"
#elif !defined( HB_LONG_LONG_OFF ) && ULONG_MAX == UINT_MAX
#  define HB_INT_MAX             INT_MAX
#  define HB_INT_MIN             INT_MIN
#  define HB_LONG_MAX            LONGLONG_MAX
#  define HB_LONG_MIN            LONGLONG_MIN
#  define HB_ULONG_MAX           ULONGLONG_MAX
   typedef HB_LONGLONG           HB_MAXINT;
   typedef HB_ULONGLONG          HB_MAXUINT;
#else
#  define HB_INT_MAX             INT_MAX
#  define HB_INT_MIN             INT_MIN
#  define HB_LONG_MAX            LONG_MAX
#  define HB_LONG_MIN            LONG_MIN
#  define HB_ULONG_MAX           ULONG_MAX
?--->   typedef long                  ??????
?--->   typedef unsigned long    ??????
#  define PFHL                   "l"
#endif


-- 
Okhotnikov Alexandr
From vszakats at users.sourceforge.net  Mon Feb  8 04:32:45 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 04:32:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13807] trunk/harbour
Message-ID: <E1NePz3-0007XH-Bj@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13807
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13807&view=rev
Author:   vszakats
Date:     2010-02-08 09:32:43 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-07 10:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    ! Fixed typo when restructuring types causing no HB_MAXINT 
      type in some cases.

  * contrib/gtalleg/gtalleg.c
    * USHORT -> HB_USHORT

  * contrib/hbct/print.c
  * contrib/hbnf/descendn.c
  * contrib/hbclipsm/gauge.c
    * USHORT -> HB_SIZE

  * contrib/xhb/txtline.c
    * USHORT, int -> HB_SIZE

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/gtalleg.c
    trunk/harbour/contrib/hbclipsm/gauge.c
    trunk/harbour/contrib/hbct/print.c
    trunk/harbour/contrib/hbnf/descendn.c
    trunk/harbour/contrib/xhb/txtline.c
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb  8 04:54:02 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  8 04:54:13 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <4B6F7A1D.9070607@gmail.com>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>
	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>
	<4B6F7A1D.9070607@gmail.com>
Message-ID: <0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>

Hi,

>>  ...  I wonder if it's possible to fix this
>> function to not be sensitive on this setting.
>> 
>> Any idea?
> 
> Yes, of course. ??? :)
> I can fix this without ASM, but a bad use of these functions always cause GPF.

That would be the nicest. I guess protection against 
'bad use' is not entirely possible, as its users job to 
passing parameters according to call specification of 
.dll function.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Feb  8 05:50:45 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 05:50:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13808] trunk/harbour
Message-ID: <E1NeRCX-0005IP-Rg@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13808
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13808&view=rev
Author:   vszakats
Date:     2010-02-08 10:50:44 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-07 11:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wapi_wingdi.c
  * contrib/hbwin/hbwin.ch
    + Added WAPI_EXTTEXTOUT()

  * contrib/hbwin/axcore.c
  * contrib/hbwin/olecore.c
    * USHORT -> HB_USHORT

  * contrib/hbwin/win_prn2.c
    * USHORT -> HB_SIZE plus some changes accordingly.

  * src/rtl/gtwin/gtwin.c
  * src/rtl/gtwvt/gtwvt.c
    * USHORT -> HB_WCHAR, HB_USHORT

  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvggui.c
  * contrib/gtwvg/wvggui.h
  * contrib/gtwvg/wvgwin.c
  * contrib/gtwvg/wvgutils.c
  * contrib/gtwvg/wvgcore.c
  * contrib/gtwvg/wvgsink.c
  * contrib/gtwvg/wvgwing.c
    * USHORT -> HB_WCHAR, HB_USHORT, UINT, int

  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.h
    - Deleted unused structures (using USHORT).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/wapi_wingdi.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb  8 05:56:12 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  8 05:56:22 2010
Subject: [Harbour] bug: ACHOICE()
In-Reply-To: <756C9EB5-89FC-438C-ABA3-41BD2D8F6055@syenar.hu>
References: <D3AC8E5A-2C12-4B55-85A7-16D2A2FF8ABA@syenar.hu>
	<674e4ddd1002060722n39e6ed34n308b783f0b9bb5f5@mail.gmail.com>
	<8DD47C18-41BE-40BB-B3B2-9F5C79C39992@syenar.hu>
	<674e4ddd1002060840m3ae42420re7843298eb9baae@mail.gmail.com>
	<4F041FA9-C197-4CCC-987A-9A924CCEDFAA@syenar.hu>
	<609353e71002061204h50bf4ecdg41e670319944fbd1@mail.gmail.com>
	<756C9EB5-89FC-438C-ABA3-41BD2D8F6055@syenar.hu>
Message-ID: <A38DDD49-8B98-4654-A38C-A4AD7369C18D@syenar.hu>

>> Wich other harbour part need be rewritten from scratch?
> 
> I can't think of any other.

I've found three:

- XML handling in xhb lib, but that rather needs a reimplementation 
  in core.
- .dll support in hbwin. (the x86 part)
- SORT command

( + ACHOICE() and MEMOEDIT() of course)

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Feb  8 06:08:36 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb  8 06:09:05 2010
Subject: [Harbour] Started a blog on harbour language
Message-ID: <609353e71002080308n6ec60b32pf8f27379b24bdae8@mail.gmail.com>

I am excited to announce a blog about harbour language at
http://harbourlanguage.blogspot.com/
I update info about hbide,hbxbp,hbmk2 because a lot of user have made
follow request by mail

Italian version planed be published at http://www.gio22.com/harbour/default.asp

i invite also everyone be part of harbour group on facebook
http://www.facebook.com/group.php?gid=48795263775&ref=ts

-- 
Massimo Belgrano
From tech at 2dinfo.com.br  Mon Feb  8 07:34:18 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Mon Feb  8 06:35:15 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
Message-ID: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>

Hello
I have an aplication based on pCode Dll funcionallity. It was written in xHarbour + BCC55 and now I need to know how to build it hbmk2+MINGW. In xHarbour we could choose between 3 dll entry-points by chosing between maindll.obj, maindllh.obj or maindllp.obj and once linking the dll with maindllp.obj one just had to libload the DLL to make all its symbols be brought to the "host" vm, just like using clipper+blinker DLLs. I see that hbmk2 have and option -hbdyn to build dlls, but how do I tell hbmk2 that I need a pCode DLL and not a self-contained or harbour dll?  
Ahd how about the load procedings? Should it work the same way as in xHarbour (just libload the DLL and its functions will be available) or is there any other formality to fulfill?
We had to threatfully make a few changes on the xHarbour vm to make libload() work properly but they were so few and small that I believe they can have been already solved in Harbour once its vm seems to have a stronger design.
Regards,
Leandro Damasio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100208/4f9c264c/attachment-0001.html
From harbour.01 at syenar.hu  Mon Feb  8 06:42:16 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  8 06:42:25 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
Message-ID: <4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>

Hi Leandro,

Sorry but I know nothing about pcode .dlls, hence 
there is no support for it in hbmk2 (yet?). I can't 
recall anyone doing any tests with this (besides me 
a while back, but without any results)

To do anything in this regard, first I should see 
how pcode .dlls are supposed to work, linked, etc.
I also need to see if this is something Windows 
specific or portable. The latter would certainly 
make it more interesting to deal with.

In the meantime I'd suggest to consider to use 
.hrb files instead. Unless there is the need to 
include .c code in these pcode .dlls, they are 
superior in all aspects, moreover they already work.

Brgds,
Viktor

On 2010 Feb 8, at 13:34, 2D Info - Leandro Damasio wrote:

> Hello
> I have an aplication based on pCode Dll funcionallity. It was written in xHarbour + BCC55 and now I need to know how to build it hbmk2+MINGW. In xHarbour we could choose between 3 dll entry-points by chosing between maindll.obj, maindllh.obj or maindllp.obj and once linking the dll with maindllp.obj one just had to libload the DLL to make all its symbols be brought to the "host" vm, just like using clipper+blinker DLLs. I see that hbmk2 have and option -hbdyn to build dlls, but how do I tell hbmk2 that I need a pCode DLL and not a self-contained or harbour dll?  
> Ahd how about the load procedings? Should it work the same way as in xHarbour (just libload the DLL and its functions will be available) or is there any other formality to fulfill?
> We had to threatfully make a few changes on the xHarbour vm to make libload() work properly but they were so few and small that I believe they can have been already solved in Harbour once its vm seems to have a stronger design.
> Regards,
> Leandro Damasio
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Feb  8 06:51:03 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 06:51:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13809] trunk/harbour
Message-ID: <E1NeS8t-00040Y-Se@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13809
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13809&view=rev
Author:   vszakats
Date:     2010-02-08 11:50:58 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-07 12:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbmcdx/hbbmcdx.h
  * contrib/hbbtree/hb_btree.h
  * contrib/hbbtree/hb_btree.c
  * contrib/hbnetio/netiocli.c
  * contrib/hbnetio/netiosrv.c
  * contrib/rddsql/sddmy/mysqldd.c
  * contrib/rddsql/sddpg/pgsqldd.c
  * contrib/rddsql/sddfb/fbirddd.c
  * contrib/rddsql/sddodbc/odbcdd.c
  * contrib/rddsql/hbrddsql.h
  * contrib/rddsql/sqlbase.c
  * contrib/rddsql/sqlmix.c
  * contrib/rddads/adsx.c
  * contrib/rddads/ads1.c
  * contrib/xhb/bkgtsks.c
  * contrib/xhb/hbcrypt.c
  * contrib/xhb/dbf2txt.c
  * contrib/xhb/xhbcopyf.c
  * contrib/xhb/xhbfunc.c
  * contrib/xpp/philesx.c
  * contrib/hbnf/ftattr.c
    * USHORT -> HB_USHORT

  * contrib/xhb/xhbsave.c
    * USHORT -> int

  * contrib/xhb/filestat.c
    * USHORT -> HB_FATTR

  * contrib/hbmemio/memio.c
    * USHORT -> HB_USHORT
    * USHORT -> HB_ERRCODE

  * contrib/hbqt/gtqtc/gtqtc.cpp
  * contrib/hbqt/gtqtc/gtqtc.h
    * USHORT -> int, HB_USHORT

  * contrib/hbnf/fttext.c
  * contrib/hbmisc/hb_f.c
    + Added "largefile" support. (at least on the low-level)
    * USHORT -> HB_USHORT

  * contrib/hbmisc/tests/testhbf.prg
    - Deleted old comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbbtree/hb_btree.h
    trunk/harbour/contrib/hbmemio/memio.c
    trunk/harbour/contrib/hbmisc/hb_f.c
    trunk/harbour/contrib/hbmisc/tests/testhbf.prg
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbnetio/netiosrv.c
    trunk/harbour/contrib/hbnf/ftattr.c
    trunk/harbour/contrib/hbnf/fttext.c
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.cpp
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.h
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddsql/hbrddsql.h
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/contrib/xhb/bkgtsks.c
    trunk/harbour/contrib/xhb/dbf2txt.c
    trunk/harbour/contrib/xhb/filestat.c
    trunk/harbour/contrib/xhb/hbcrypt.c
    trunk/harbour/contrib/xhb/xhbcopyf.c
    trunk/harbour/contrib/xhb/xhbfunc.c
    trunk/harbour/contrib/xhb/xhbsave.c
    trunk/harbour/contrib/xpp/philesx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Mon Feb  8 08:11:22 2010
From: jarabal at gmail.com (Xavi)
Date: Mon Feb  8 08:11:45 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>
	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>
Message-ID: <4B700D7A.1090109@gmail.com>

Hi all,

>                 ...                  its users job to
> passing parameters according to call specification of
> .dll function.

Yes, but I think it's not only Harbour.
Apply the patch attached to testdll.prg
Could someone test that about xBase++ and/or xHarbour?

-- 
Xavi

El 08/02/2010 10:54, Viktor Szak?ts escribi?:
> Hi,
>
>>>   ...  I wonder if it's possible to fix this
>>> function to not be sensitive on this setting.
>>>
>>> Any idea?
>>
>> Yes, of course. ??? :)
>> I can fix this without ASM, but a bad use of these functions always cause GPF.
>
> That would be the nicest. I guess protection against
> 'bad use' is not entirely possible, as its users job to
> passing parameters according to call specification of
> .dll function.
>
> Brgds,
> Viktor
>
-------------- next part --------------
Index: testdll.prg
===================================================================
--- testdll.prg	(revision 13328)
+++ testdll.prg	(working copy)
@@ -69,7 +69,8 @@
    ? cData
    DllUnload( hDLL )
 
-   ? "MsgBox:", DllCall( "user32.dll", NIL, "MessageBoxA", 0, "Hello world!", "Harbour sez", hb_bitOr( MB_OKCANCEL, MB_ICONEXCLAMATION, MB_HELP ) )
+   /* Cause GPF [jarabal] */
+   ? "MsgBox:", DllCall( "user32.dll", NIL, "MessageBoxA", 0, MB_ICONEXCLAMATION /*"Hello world!"*/, "Harbour sez", hb_bitOr( MB_OKCANCEL, MB_ICONEXCLAMATION, MB_HELP ) )
 
    IF hb_FileExists( "libcurl.dll" )
       hDLL := DllLoad( "libcurl.dll" )
@@ -96,17 +97,20 @@
    hDLL := DllLoad( "shell32.dll" )
    ? "ValType( hDLL ): ", ValType( hDLL )
    cData := Space( MAX_PATH )
+   cData := '' /* Cause GPF [jarabal] */
    ? "CALLDLLBOOL: ", CallDllBool( GetProcAddress( hDLL, "SHGetSpecialFolderPath" ), 0, @cData, CSIDL_APPDATA, 0 )
    ? "@cData: ", cData
    ? "CALLDLL: ", CallDll( GetProcAddress( hDLL, "SHGetFolderPath" ), 0, CSIDL_ADMINTOOLS, 0, 0, cData ) // WRONG
    ? "cData:", cData
    cData := Space( MAX_PATH )
+   cData := '123' /* Cause GPF [jarabal] */
    ? "CALDLL: ", CallDll( GetProcAddress( hDLL, "SHGetFolderPath" ), 0, CSIDL_ADMINTOOLS, 0, 0, @cData )
    ? "@cData: ", cData
    DllUnload( hDLL )
 
    ? "DLLCALL"
    cData := Space( MAX_PATH )
+   cData := 123 /* Cause GPF [jarabal] */
    ? DllCall( "shell32.dll", NIL, "SHGetFolderPath", 0, CSIDL_ADMINTOOLS, 0, 0, @cData )
    ? cData
 
From harbour.01 at syenar.hu  Mon Feb  8 08:34:24 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  8 08:34:34 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <4B700D7A.1090109@gmail.com>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>
	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>
	<4B700D7A.1090109@gmail.com>
Message-ID: <E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>

>>                ...                  its users job to
>> passing parameters according to call specification of
>> .dll function.
> 
> Yes, but I think it's not only Harbour.
> Apply the patch attached to testdll.prg
> Could someone test that about xBase++ and/or xHarbour?

Sorry, I can't see your point. It's a fact 
that GPF can be caused by passing wrongly 
formatted _raw_ parameters to C level functions.

It's not Harbour's job to protect against it.
Harbour's job is to create a working interface 
in pure .c, which makes it possible for users 
to pass these raw parameters from Harbour level 
to .c level. That's all. It's currently tackled 
together using ASM code, and this is the problem, 
because it's non-portable, CPU, compiler and 
compiler-setting dependent.

From this point it's users responsibility to 
pass parameters properly.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Feb  8 08:52:30 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 08:52:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13810] trunk/harbour
Message-ID: <E1NeU2Q-0001SA-Kr@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13810
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13810&view=rev
Author:   vszakats
Date:     2010-02-08 13:52:23 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-07 14:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/ppcore.c
  * src/pp/hbpp.c
  * src/vm/macro.c
  * src/vm/evalhb.c
  * src/vm/runner.c
  * src/vm/estack.c
  * src/vm/codebloc.c
  * src/vm/dynsym.c
  * src/vm/garbage.c
  * src/vm/itemapi.c
  * src/vm/hvm.c
  * src/vm/pvalue.c
  * src/vm/maindllp.c
  * src/vm/arrays.c
  * src/vm/fm.c
  * src/vm/extrap.c
  * src/vm/proc.c
  * src/vm/thread.c
  * src/vm/memvars.c
  * src/vm/vm.c
  * src/vm/eval.c
  * src/vm/dynlibhb.c
  * src/vm/classes.c
  * src/common/hbffind.c
  * src/common/expropt1.c
  * src/common/expropt2.c
  * src/nortl/nortl.c
  * src/rtl/gtdos/gtdos.c
  * src/rtl/fscopy.c
  * src/rtl/gtwin/gtwin.c
  * src/rtl/gtxwc/gtxwc.h
  * src/rtl/gtxwc/gtxwc.c
  * src/rtl/gtcrs/gtcrs.c
  * src/rtl/philesx.c
  * src/rtl/do.c
  * src/rtl/gtstd/gtstd.c
  * src/rtl/gttrm/gttrm.c
  * src/rtl/xhelp.c
  * src/rtl/transfrm.c
  * src/rtl/fserr.c
  * src/rtl/gtcgi/gtcgi.c
  * src/rtl/errapi.c
  * src/rtl/copyfile.c
  * src/rtl/errintlo.c
  * src/rtl/gtapi.c
  * src/rtl/filesys.c
  * src/rtl/console.c
  * src/rtl/spfiles.c
  * src/rtl/gtos2/gtos2.c
  * src/rtl/philes.c
  * src/rtl/hbgtcore.c
  * src/rtl/itemseri.c
  * src/rtl/gtsln/mousesln.c
  * src/rtl/gtsln/gtsln.c
  * src/rtl/gtsln/kbsln.c
  * src/rtl/disksphb.c
  * src/rtl/gtpca/gtpca.c
  * src/rtl/trace.c
  * src/rtl/gt_tpl/gt_tpl.c
  * src/rtl/filebuf.c
  * src/rdd/dbfntx/dbfntx1.c
  * src/rdd/dbsql.c
  * src/rdd/hbdbsort.c
  * src/rdd/workarea.c
  * src/rdd/wacore.c
  * src/rdd/sdf1.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbcmd.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/delim1.c
  * src/rdd/dbf1.c
  * src/rdd/hsx/hsx.c
  * src/rdd/dbcmd53.c
  * src/rdd/usrrdd/usrrdd.c
  * src/rdd/wafunc.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/rdd/hbsix/sxord.c
  * src/rdd/hbsix/sxtable.c
  * src/rdd/hbsix/sxcompr.c
  * src/compiler/hbmain.c
  * src/compiler/hbfix.c
  * src/compiler/hbdead.c
  * src/compiler/genobj32.c
  * src/compiler/genc.c
  * src/compiler/hbopt.c
  * src/compiler/gencc.c
  * src/compiler/harbour.yyc
  * src/compiler/harbour.y
  * include/hbpp.h
  * include/hbrdddbf.h
  * include/hbvmpub.h
  * include/hbrddnsx.h
  * include/hbstack.h
  * include/hbgtcore.h
  * include/hbapifs.h
  * include/hbxvm.h
  * include/hbdefs.h
  * include/hbinit.h
  * include/hbtypes.h
  * include/hbrddsdf.h
  * include/hbapi.h
  * include/hbapiitm.h
  * include/hbrddntx.h
  * include/hbvm.h
  * include/hbcomp.h
  * include/hbapirdd.h
  * include/hbcompdf.h
  * include/hbrdddel.h
  * include/hbexpra.c
  * include/hbexprop.h
  * include/hbdbsort.h
  * include/hbapigt.h
  * include/hbrddcdx.h
  * include/hbapicls.h
  * include/hbapierr.h
  * include/hbrddfpt.h
  * include/hbexprb.c
  * contrib/hbct/bitnum.c
  * contrib/hbct/screen2.c
  * contrib/hbct/strdiff.c
  * contrib/hbct/token2.c
  * contrib/hbct/charonly.c
  * contrib/hbct/atadjust.c
  * contrib/hbct/ctmath.c
  * contrib/hbct/ctwin.c
  * contrib/hbct/charsort.c
  * contrib/hbct/charmix.c
  * contrib/hbct/charevod.c
  * contrib/hbct/wordrepl.c
  * contrib/hbct/charrepl.c
  * contrib/hbct/strswap.c
  * contrib/hbct/trig.c
  * contrib/hbct/charswap.c
  * contrib/hbct/charop.c
  * contrib/hbct/charone.c
  * contrib/hbct/num1.c
  * contrib/hbct/pos1.c
  * contrib/hbct/ascpos.c
  * contrib/hbct/ctstr.c
  * contrib/hbct/screen1.c
  * contrib/hbct/token1.c
  * contrib/hbct/charmirr.c
  * contrib/hbct/ctc.c
  * contrib/hbct/ctwfunc.c
  * contrib/hbct/relation.c
  * contrib/hbct/atnum.c
  * contrib/hbct/count.c
  * contrib/hbct/ctcrypt.c
  * contrib/hbct/posdiff.c
  * contrib/hbct/finan.c
  * contrib/hbct/range.c
  * contrib/hbct/addascii.c
  * contrib/hbct/ctmath2.c
  * contrib/hbct/tab.c
  * contrib/hbct/replace.c
  * contrib/hbct/asciisum.c
  * contrib/hbct/pos2.c
  * contrib/hbct/numat.c
  * contrib/hbct/atrepl.c
  * contrib/hbct/wordtoch.c
  * contrib/hbct/ctpad.c
  * contrib/hbct/print.c
  * contrib/hbct/justify.c
  * contrib/hbct/remove.c
    * USHORT -> HB_USHORT (except where BYTE was used in OS-specific context)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/addascii.c
    trunk/harbour/contrib/hbct/asciisum.c
    trunk/harbour/contrib/hbct/ascpos.c
    trunk/harbour/contrib/hbct/atadjust.c
    trunk/harbour/contrib/hbct/atnum.c
    trunk/harbour/contrib/hbct/atrepl.c
    trunk/harbour/contrib/hbct/bitnum.c
    trunk/harbour/contrib/hbct/charevod.c
    trunk/harbour/contrib/hbct/charmirr.c
    trunk/harbour/contrib/hbct/charmix.c
    trunk/harbour/contrib/hbct/charone.c
    trunk/harbour/contrib/hbct/charonly.c
    trunk/harbour/contrib/hbct/charop.c
    trunk/harbour/contrib/hbct/charrepl.c
    trunk/harbour/contrib/hbct/charsort.c
    trunk/harbour/contrib/hbct/charswap.c
    trunk/harbour/contrib/hbct/count.c
    trunk/harbour/contrib/hbct/ctc.c
    trunk/harbour/contrib/hbct/ctcrypt.c
    trunk/harbour/contrib/hbct/ctmath.c
    trunk/harbour/contrib/hbct/ctmath2.c
    trunk/harbour/contrib/hbct/ctpad.c
    trunk/harbour/contrib/hbct/ctstr.c
    trunk/harbour/contrib/hbct/ctwfunc.c
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/contrib/hbct/finan.c
    trunk/harbour/contrib/hbct/justify.c
    trunk/harbour/contrib/hbct/num1.c
    trunk/harbour/contrib/hbct/numat.c
    trunk/harbour/contrib/hbct/pos1.c
    trunk/harbour/contrib/hbct/pos2.c
    trunk/harbour/contrib/hbct/posdiff.c
    trunk/harbour/contrib/hbct/print.c
    trunk/harbour/contrib/hbct/range.c
    trunk/harbour/contrib/hbct/relation.c
    trunk/harbour/contrib/hbct/remove.c
    trunk/harbour/contrib/hbct/replace.c
    trunk/harbour/contrib/hbct/screen1.c
    trunk/harbour/contrib/hbct/screen2.c
    trunk/harbour/contrib/hbct/strdiff.c
    trunk/harbour/contrib/hbct/strswap.c
    trunk/harbour/contrib/hbct/tab.c
    trunk/harbour/contrib/hbct/token1.c
    trunk/harbour/contrib/hbct/token2.c
    trunk/harbour/contrib/hbct/trig.c
    trunk/harbour/contrib/hbct/wordrepl.c
    trunk/harbour/contrib/hbct/wordtoch.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapicls.h
    trunk/harbour/include/hbapierr.h
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbapigt.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/include/hbapirdd.h
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbdbsort.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbexpra.c
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbexprop.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/include/hbinit.h
    trunk/harbour/include/hbpp.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/include/hbrdddbf.h
    trunk/harbour/include/hbrdddel.h
    trunk/harbour/include/hbrddfpt.h
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/include/hbrddntx.h
    trunk/harbour/include/hbrddsdf.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/include/hbtypes.h
    trunk/harbour/include/hbvm.h
    trunk/harbour/include/hbvmpub.h
    trunk/harbour/include/hbxvm.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/common/expropt2.c
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/compiler/genc.c
    trunk/harbour/src/compiler/gencc.c
    trunk/harbour/src/compiler/genobj32.c
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/hbdead.c
    trunk/harbour/src/compiler/hbfix.c
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/compiler/hbopt.c
    trunk/harbour/src/nortl/nortl.c
    trunk/harbour/src/pp/hbpp.c
    trunk/harbour/src/pp/ppcore.c
    trunk/harbour/src/rdd/dbcmd.c
    trunk/harbour/src/rdd/dbcmd53.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/dbsql.c
    trunk/harbour/src/rdd/delim1.c
    trunk/harbour/src/rdd/hbdbsort.c
    trunk/harbour/src/rdd/hbsix/sxcompr.c
    trunk/harbour/src/rdd/hbsix/sxord.c
    trunk/harbour/src/rdd/hbsix/sxtable.c
    trunk/harbour/src/rdd/hsx/hsx.c
    trunk/harbour/src/rdd/sdf1.c
    trunk/harbour/src/rdd/usrrdd/usrrdd.c
    trunk/harbour/src/rdd/wacore.c
    trunk/harbour/src/rdd/wafunc.c
    trunk/harbour/src/rdd/workarea.c
    trunk/harbour/src/rtl/console.c
    trunk/harbour/src/rtl/copyfile.c
    trunk/harbour/src/rtl/disksphb.c
    trunk/harbour/src/rtl/do.c
    trunk/harbour/src/rtl/errapi.c
    trunk/harbour/src/rtl/errintlo.c
    trunk/harbour/src/rtl/filebuf.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/fscopy.c
    trunk/harbour/src/rtl/fserr.c
    trunk/harbour/src/rtl/gt_tpl/gt_tpl.c
    trunk/harbour/src/rtl/gtapi.c
    trunk/harbour/src/rtl/gtcgi/gtcgi.c
    trunk/harbour/src/rtl/gtcrs/gtcrs.c
    trunk/harbour/src/rtl/gtdos/gtdos.c
    trunk/harbour/src/rtl/gtos2/gtos2.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtsln/gtsln.c
    trunk/harbour/src/rtl/gtsln/kbsln.c
    trunk/harbour/src/rtl/gtsln/mousesln.c
    trunk/harbour/src/rtl/gtstd/gtstd.c
    trunk/harbour/src/rtl/gttrm/gttrm.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/gtxwc/gtxwc.c
    trunk/harbour/src/rtl/gtxwc/gtxwc.h
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/rtl/itemseri.c
    trunk/harbour/src/rtl/philes.c
    trunk/harbour/src/rtl/philesx.c
    trunk/harbour/src/rtl/spfiles.c
    trunk/harbour/src/rtl/trace.c
    trunk/harbour/src/rtl/transfrm.c
    trunk/harbour/src/rtl/xhelp.c
    trunk/harbour/src/vm/arrays.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/codebloc.c
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/dynsym.c
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/eval.c
    trunk/harbour/src/vm/evalhb.c
    trunk/harbour/src/vm/extrap.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/src/vm/macro.c
    trunk/harbour/src/vm/maindllp.c
    trunk/harbour/src/vm/memvars.c
    trunk/harbour/src/vm/proc.c
    trunk/harbour/src/vm/pvalue.c
    trunk/harbour/src/vm/runner.c
    trunk/harbour/src/vm/thread.c
    trunk/harbour/src/vm/vm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb  8 09:03:15 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  8 09:03:24 2010
Subject: [Harbour] HB_LONG / HB_ULONG
Message-ID: <A57174C3-144D-4D39-939A-AE2BE8D4AE1E@syenar.hu>

Hi All,

There is the known problem of HB_LONG, HB_ULONG 
which should be the Harbour type name for former 
LONG / ULONG types, but in the past it has been 
used to denote largest integer type on given 
platform.

Now its superseded by HB_MAXINT, HB_MAXUINT, and 
Harbour codebase has been changed to use it. 
This means no Harbour code use HB_LONG and 
HB_ULONG anymore.

I believe this type was not overused in 
3rd party code (I could only find a few placed 
in LetoDB where it's used), so it's not big job to 
update them where needed, and even by staying 
compatible with older Harbour and even xhb version 
(simply by creating new type HB_MAXINT/HB_MAXUINT).

If we go this route, we may reuse HB_LONG and 
HB_ULONG as replacements for LONG / ULONG.  So 
this would be a small breakage of compatibility, 
but would give us clean and clear type naming 
system. I'd vote to do this.

If not doing this, we have to come up with new 
type names for Harbour LONG and Harbour ULONG, 
or clear Harbour code from these types altogether.

Since they are used in 2500 locations, this would 
be an almost impossible job, at least for ULONG.

Or, use simply 'long' and 'unsigned long', but 
IMO this way we would lose easy way to identify 
these types.

Opinions are welcome!

Brgds,
Viktor

From tech at 2dinfo.com.br  Mon Feb  8 09:56:30 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Mon Feb  8 09:04:15 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
Message-ID: <C087F7E1FDDE430988D9CF9494584C7A@deskleo>

Hi Viktor

> Sorry but I know nothing about pcode .dlls, hence
> there is no support for it in hbmk2 (yet?). I can't
> recall anyone doing any tests with this (besides me
> a while back, but without any results)
>

If you need a tester to this I would be glad to help. I'm working with 
windows + hbmk2 + mingw.

> To do anything in this regard, first I should see
> how pcode .dlls are supposed to work, linked, etc.
> I also need to see if this is something Windows
> specific or portable. The latter would certainly
> make it more interesting to deal with.

I don't know if this is what you are talking about, but I could tell as a 
high-level user what is the expected usage and behaviour if that be the 
case. I just used pcode dlls in windows enviroment, so I don't know much 
about their portability also, but I believe there shouldn't be any plataform 
dependant issues below to hb_libload function in this case. I don't think 
they can be a "build once run everywhere" solution, but they sure can be a 
"code once run everywhere" solution.

> In the meantime I'd suggest to consider to use
> .hrb files instead. Unless there is the need to
> include .c code in these pcode .dlls, they are
> superior in all aspects, moreover they already work.

Yes, that can be very good, but I don't know anything about .hrb modules. 
Are they compiled or interpreted in run-time? What is the usage? Is there 
any limitations on .hrb modules (variable and function scope limitations, 
class declaration limitations, mt limitations) compared to statically linked 
prg modules beyond support to c code? Are there any examples or 
documentation on repository ?

Thank you for answering.

Best regards
Leandro

--------------------------------------------------
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
Sent: Monday, February 08, 2010 8:42 AM
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Subject: Re: [Harbour] How to build and use pCode DLL with hbmk2

> Hi Leandro,
>
> Sorry but I know nothing about pcode .dlls, hence
> there is no support for it in hbmk2 (yet?). I can't
> recall anyone doing any tests with this (besides me
> a while back, but without any results)
>
> To do anything in this regard, first I should see
> how pcode .dlls are supposed to work, linked, etc.
> I also need to see if this is something Windows
> specific or portable. The latter would certainly
> make it more interesting to deal with.
>
> In the meantime I'd suggest to consider to use
> .hrb files instead. Unless there is the need to
> include .c code in these pcode .dlls, they are
> superior in all aspects, moreover they already work.
>
> Brgds,
> Viktor
>
> On 2010 Feb 8, at 13:34, 2D Info - Leandro Damasio wrote:
>
>> Hello
>> I have an aplication based on pCode Dll funcionallity. It was written in 
>> xHarbour + BCC55 and now I need to know how to build it hbmk2+MINGW. In 
>> xHarbour we could choose between 3 dll entry-points by chosing between 
>> maindll.obj, maindllh.obj or maindllp.obj and once linking the dll with 
>> maindllp.obj one just had to libload the DLL to make all its symbols be 
>> brought to the "host" vm, just like using clipper+blinker DLLs. I see 
>> that hbmk2 have and option -hbdyn to build dlls, but how do I tell hbmk2 
>> that I need a pCode DLL and not a self-contained or harbour dll?
>> Ahd how about the load procedings? Should it work the same way as in 
>> xHarbour (just libload the DLL and its functions will be available) or is 
>> there any other formality to fulfill?
>> We had to threatfully make a few changes on the xHarbour vm to make 
>> libload() work properly but they were so few and small that I believe 
>> they can have been already solved in Harbour once its vm seems to have a 
>> stronger design.
>> Regards,
>> Leandro Damasio
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From druzus at acn.waw.pl  Mon Feb  8 09:10:36 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb  8 09:10:43 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
Message-ID: <20100208141036.GA23098@linux-4bod.home.aster.pl>

On Mon, 08 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Sorry but I know nothing about pcode .dlls, hence 
> there is no support for it in hbmk2 (yet?). I can't 
> recall anyone doing any tests with this (besides me 
> a while back, but without any results)

I was creating them without any problems and from time to
time I made such tests together with HRB support.
As long as some of recent modification did not seriously
break sth then it should work without any problem.

The most important rule which users have to always remember:
it's illegal to link PCODE dll and any other DLLs with Harbour
static functions. If you make that then the same code is linked
twice so it may not work as expected, i.e. two independent HVM
stacks. This same is for any other projects and code so it's
rather basic knowledge about using shared libraries in Windows.
It also means that fully functional Harbour distribution should
have shared version of all libraries or at least provide easy
way 

There are two possible methods to create PCODE dll.
1. when final application using PCODE dll is linked in shared mode with
   harbour*.dll.
   In such case it's enough to link the PCODE dll with exactly the same
   harbour*.dll. That's all. No additional operations have to be done.
   Please also note that harbour*.dll exports all Harbour functions marked
   as HB_EXPORT so it's possible to use also C code inside PCODE dll which
   uses full exported Harbour API.
2. when final application using PCODE dll is linked with in static mode.
   It's a little bit more complicated situation because in such case
   it's illegal to link PCODE dll with harbour shared library (harbour*.dll)
   and as I notice above with static libraries too. It's possible to link
   with above libraries but generated binaries will be wrong and can cause
   any unpredictable results so user has to be careful to not create them
   by mistake.
   Compiled PRG code needs two functions from the static part of
   application to wrok: hb_vmExecute() and hb_vmProcessSymbols().
   These functions have to be exported by static part of application
   and the PCODE dll has to be linked with import library having them.
   We already have such import library and it's called hbmaindllp.
   It is written in a way which allows to link it also with PCODE dlls
   which are used by harbour applications linked in shared mode (I see
   that you nicely updated harbour*.dll names but it needs some minor
   cleanup yet to use these names, I'll commit it ASAP).
   So this part is ready and user only need Harbour static libraries
   which export above two functions. AFAIR by default they are not exported
   so it's necessary to recompile harbour exporting them.
   We can resolve this problem enabling symbol exporting also in default
   static builds or by introducing special wrappers in separate library
   which is not part of harbour*.dll. In such case it will be enough to
   link this new library with static part of application (using REQUEST
   mechanism to force linking) and update hbmaindllp to use this wrapped
   functions when original ones are not available (i.e. we can add _dll_
   prefix for such wrapped function names.

PCODE DLLs can be linked with final application or can be loaded
dynamically. To load/unload dynamically any libraries always use
HB_LIBLOAD()/HB_LIBFREE(). Never use WAPI_LOADLIBRARY()/WAPI_FREELIBRARY(),
LOADLIBRARY()/FREELIBRARY(), DLLLOAD()/DLLUNLOAD() because they do
not work correctly with HVM what can cause some very serious problems,
i.e. it's not possible to cleanly unload PCODE dlls, these functions
should be removed or wrapped to HB_LIBLOAD()/HB_LIBFREE())

> To do anything in this regard, first I should see 
> how pcode .dlls are supposed to work, linked, etc.

See above. It should be whole description.

> I also need to see if this is something Windows 
> specific or portable. The latter would certainly 
> make it more interesting to deal with.

In Windows shared libraries cannot be created with late binding
resolved at runtime and it causes that it's necessary to use
import libraries. On most of other systems (but not all) dynamic
runtime linker supports late binding so it's possible to create
shared libraries with insufficient dependencies which are resolved
at application startup or when function is called 1-st time.

> In the meantime I'd suggest to consider to use 
> .hrb files instead. Unless there is the need to 
> include .c code in these pcode .dlls, they are 
> superior in all aspects, moreover they already work.

We still do not support HRL (libraries for HRB files what in
some cases can seriously reduce HRB functionality) anyhow HRB
is portable and always preferred format which has also many
features which are not available for DLLs.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb  8 09:26:13 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  8 09:26:24 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100208141036.GA23098@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
Message-ID: <27046773-D8B5-4FDB-95AA-FAEBB12F046B@syenar.hu>

Hi Przemek,

>> Sorry but I know nothing about pcode .dlls, hence 
>> there is no support for it in hbmk2 (yet?). I can't 
>> recall anyone doing any tests with this (besides me 
>> a while back, but without any results)
> 
> I was creating them without any problems and from time to
> time I made such tests together with HRB support.
> As long as some of recent modification did not seriously
> break sth then it should work without any problem.
[...]
>   So this part is ready and user only need Harbour static libraries
>   which export above two functions. AFAIR by default they are not exported
>   so it's necessary to recompile harbour exporting them.
>   We can resolve this problem enabling symbol exporting also in default
>   static builds or by introducing special wrappers in separate library
>   which is not part of harbour*.dll. In such case it will be enough to
>   link this new library with static part of application (using REQUEST
>   mechanism to force linking) and update hbmaindllp to use this wrapped
>   functions when original ones are not available (i.e. we can add _dll_
>   prefix for such wrapped function names.

Okay and thank you very much. I'm afraid this topic falls 
beyond the threshold of my brain capacity and interest :(

If it works using current tools, it's nice, and we probably 
have to do only those steps you mention to make it easily 
available for users. And document it. F.e. in INSTALL (if 
the end result is elegant or simple), or a separate document 
if the size of the topic deserves it.

> PCODE DLLs can be linked with final application or can be loaded
> dynamically. To load/unload dynamically any libraries always use
> HB_LIBLOAD()/HB_LIBFREE(). Never use WAPI_LOADLIBRARY()/WAPI_FREELIBRARY(),
> LOADLIBRARY()/FREELIBRARY(), DLLLOAD()/DLLUNLOAD() because they do
> not work correctly with HVM what can cause some very serious problems,
> i.e. it's not possible to cleanly unload PCODE dlls, these functions
> should be removed or wrapped to HB_LIBLOAD()/HB_LIBFREE())

Pls remember that hbwin LoadLibrary/FreeLibrary functions 
are also used by other WAPI wrappers and pure (non-pcode) 
.dll support, so IMO we shouldn't remove or hide them, but 
simply document that pcode .dll must always be managed with 
HB_LIB*() functions.

>> I also need to see if this is something Windows 
>> specific or portable. The latter would certainly 
>> make it more interesting to deal with.
> 
> In Windows shared libraries cannot be created with late binding
> resolved at runtime and it causes that it's necessary to use
> import libraries. On most of other systems (but not all) dynamic
> runtime linker supports late binding so it's possible to create
> shared libraries with insufficient dependencies which are resolved
> at application startup or when function is called 1-st time.

Hmm... same applies as above, I'm trying to assemble 
the pieces of puzzle, but until I haven't seen or used these 
in practice, it's very difficult to digest it. I hope 
it better helps Leandro, though.

>> In the meantime I'd suggest to consider to use 
>> .hrb files instead. Unless there is the need to 
>> include .c code in these pcode .dlls, they are 
>> superior in all aspects, moreover they already work.
> 
> We still do not support HRL (libraries for HRB files what in
> some cases can seriously reduce HRB functionality) anyhow HRB
> is portable and always preferred format which has also many
> features which are not available for DLLs.

Amen.

Now the only thing I'm still interested in, is what 
are the advantage of pcode-.dlls over .hrb files?

[ I can only cite inclusion of .c functions. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Feb  8 09:30:51 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  8 09:31:03 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <C087F7E1FDDE430988D9CF9494584C7A@deskleo>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<C087F7E1FDDE430988D9CF9494584C7A@deskleo>
Message-ID: <BD42557F-81DB-4C29-997D-CEF9645349B4@syenar.hu>

Hi,

On 2010 Feb 8, at 15:56, 2D Info - Leandro Damasio wrote:

> Hi Viktor
> 
>> Sorry but I know nothing about pcode .dlls, hence
>> there is no support for it in hbmk2 (yet?). I can't
>> recall anyone doing any tests with this (besides me
>> a while back, but without any results)
>> 
> 
> If you need a tester to this I would be glad to help. I'm working with windows + hbmk2 + mingw.
> 
>> To do anything in this regard, first I should see
>> how pcode .dlls are supposed to work, linked, etc.
>> I also need to see if this is something Windows
>> specific or portable. The latter would certainly
>> make it more interesting to deal with.
> 
> I don't know if this is what you are talking about, but I could tell as a high-level user what is the expected usage and behaviour if that be the case. I just used pcode dlls in windows enviroment, so I don't know much about their portability also, but I believe there shouldn't be any plataform dependant issues below to hb_libload function in this case. I don't think they can be a "build once run everywhere" solution, but they sure can be a "code once run everywhere" solution.
> 
>> In the meantime I'd suggest to consider to use
>> .hrb files instead. Unless there is the need to
>> include .c code in these pcode .dlls, they are
>> superior in all aspects, moreover they already work.
> 
> Yes, that can be very good, but I don't know anything about .hrb modules. Are they compiled or interpreted in run-time? What is the usage? Is there any limitations on .hrb modules (variable and function scope limitations, class declaration limitations, mt limitations) compared to statically linked prg modules beyond support to c code? Are there any examples or documentation on repository ?

I hope someone can answer these, but until then I suggest 
to lookup past messages, there has been _lots_ of detailed 
talk about .hrb files, even recently. You can start by 
looking up HB_HRB*() functions in ChangeLog and find examples 
in source tree.

They are pretty handy and lots of Harbour users / developers 
are actively using them.

[ Also see Przemek's recent message about pcode-dlls, 
though it seems we're both recommending .hrb files. ]

Brgds,
Viktor

From niki at synel.co.il  Mon Feb  8 09:53:28 2010
From: niki at synel.co.il (Chen Kedem)
Date: Mon Feb  8 09:53:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13810] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8C626C4F@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

Thanks for the huge conversion effort.
Just to confirm that Rev. 13810 complied with BCC32 on WinNT
with no errors or warnings, and hbtest show the usual results.

  Chen.
From harbour.01 at syenar.hu  Mon Feb  8 10:07:24 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  8 10:07:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13810] trunk/harbour
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8C626C4F@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8C626C4F@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <955D7383-554B-49FE-A9D4-DA2D5479C957@syenar.hu>

Thanks you very much Chen.

Brgds,
Viktor

On 2010 Feb 8, at 15:53, Chen Kedem wrote:

> Viktor,
> 
> Thanks for the huge conversion effort.
> Just to confirm that Rev. 13810 complied with BCC32 on WinNT
> with no errors or warnings, and hbtest show the usual results.
> 
>  Chen.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From alcisoft at arrakis.es  Mon Feb  8 10:13:29 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Mon Feb  8 10:17:14 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13810] trunk/harbour
References: <1A07FEDC778C3E4AA417F089511F859C1D8C626C4F@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <hkp9so$jm3$1@ger.gmane.org>


> Thanks for the huge conversion effort.

+1




From vszakats at users.sourceforge.net  Mon Feb  8 10:54:40 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 10:54:55 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13811] trunk/harbour
Message-ID: <E1NeVwe-00062T-1m@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13811
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13811&view=rev
Author:   vszakats
Date:     2010-02-08 15:54:38 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-08 16:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Readded HB_U8 and HB_I8. Currently mapped to HB_BYTE/HB_CHAR,
      but it should be used where 8-bitness of a char is a requirement.
      F.e. when writing/reading to/from files.
    + HB_CHAR changed from 'char' to 'signed char'. This is brand
      new type, not yet used in Harbour code, so it's safe.
      For char with non-guaranteed signedness, ANSI type 'char'
      should be used.
    * HB_UCHAR is now a synonym for HB_BYTE. It's now also legacy.
    * HB_SCHAR is now a synonym for HB_CHAR. It's now also legacy.
    ; TODO: Replace all HB_SCHAR with HB_CHAR and HB_UCHAR with HB_BYTE,
            and move the old types to compatibility status.

  * ChangeLog
    ! Fixed date in my today's entries.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb  8 11:11:34 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb  8 11:11:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13811] trunk/harbour
In-Reply-To: <E1NeVwe-00062T-1m@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NeVwe-00062T-1m@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <20100208161134.GA26892@linux-4bod.home.aster.pl>

On Mon, 08 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi Viktor,

>     * HB_UCHAR is now a synonym for HB_BYTE. It's now also legacy.
>     * HB_SCHAR is now a synonym for HB_CHAR. It's now also legacy.
>     ; TODO: Replace all HB_SCHAR with HB_CHAR and HB_UCHAR with HB_BYTE,
>             and move the old types to compatibility status.

Code readability is also important and for people working with platforms
where 'char' is always unsigned using HB_CHAR as synonym of 'signed char'
will be seriously confusing so in my opinion it's bad idea.
HB_CHAR should be synonym of 'char' without any fixed 'signed' or
'unsigned' definition. Otherwise we will have to make explicit casting
between 'HB_CHAR *' types and 'char *' types, i.e. when we are calling
OS functions.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb  8 11:28:52 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  8 11:29:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13811] trunk/harbour
In-Reply-To: <20100208161134.GA26892@linux-4bod.home.aster.pl>
References: <E1NeVwe-00062T-1m@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100208161134.GA26892@linux-4bod.home.aster.pl>
Message-ID: <9BBA7235-390D-4B6D-84C6-E08BFDE77DB9@syenar.hu>

Hi Przemek,

> On Mon, 08 Feb 2010, vszakats@users.sourceforge.net wrote:
> 
> Hi Viktor,
> 
>>    * HB_UCHAR is now a synonym for HB_BYTE. It's now also legacy.
>>    * HB_SCHAR is now a synonym for HB_CHAR. It's now also legacy.
>>    ; TODO: Replace all HB_SCHAR with HB_CHAR and HB_UCHAR with HB_BYTE,
>>            and move the old types to compatibility status.
> 
> Code readability is also important and for people working with platforms
> where 'char' is always unsigned using HB_CHAR as synonym of 'signed char'
> will be seriously confusing so in my opinion it's bad idea.

I thought of that, but IMO the only point in having 
special types is to give something more. In case of 
HB_CHAR being mapped to 'char' there is no point at 
all besides requiring to type more and add one more 
thing to worry about for developers. (Same goes to 
new HB_LONG actually).

> HB_CHAR should be synonym of 'char' without any fixed 'signed' or
> 'unsigned' definition. Otherwise we will have to make explicit casting
> between 'HB_CHAR *' types and 'char *' types, i.e. when we are calling
> OS functions.

In this case, we could simply drop HB_CHAR, and
also drop HB_BYTE and use HB_UCHAR and HB_SCHAR 
as the only types. Though I expect these to be 
less obvious for most users / developers. It took 
me a year to understand it, and while not all users 
are as slow-thinking as me, I'd still think that 
not many users will use HB_[U|S]CHAR because they 
won't easily grasp why/when they are useful. At 
the same time they could look for (and miss) HB_BYTE,
especially since we always had BYTE in the past.

[ Technically both kind of conversion can be done 
at the moment, though HB_BYTE -> HB_UCHAR conversion 
will take another half-day with lots of manual 
reformatting. ]

Or, we can keep HB_BYTE and HB_SCHAR. (and drop 
HB_CHAR and HB_UCHAR)

Any further elaboration?

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Feb  8 11:44:56 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb  8 11:45:04 2010
Subject: [Harbour] HB_LONG / HB_ULONG
In-Reply-To: <A57174C3-144D-4D39-939A-AE2BE8D4AE1E@syenar.hu>
References: <A57174C3-144D-4D39-939A-AE2BE8D4AE1E@syenar.hu>
Message-ID: <20100208164456.GB26892@linux-4bod.home.aster.pl>

On Mon, 08 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> There is the known problem of HB_LONG, HB_ULONG 
> which should be the Harbour type name for former 
> LONG / ULONG types, but in the past it has been 
> used to denote largest integer type on given 
> platform.

To be more precise.
HB_LONG was used for HB_IT_LONG type. It's not largest
integer on given platform but it's largest integer item
used by HVM.

> Now its superseded by HB_MAXINT, HB_MAXUINT, and 
> Harbour codebase has been changed to use it. 

It should be rather HB_VM[U]LONG or HB_VMMAX[U]INT
though the exact meaning depends on context. In few
places it should be HB_MAX[U]INT so it cannot be done
by global S&R. Now it's not critical but when compilers
using wider then 64bit integers will appear we will
have to clean it.
It's also possible to compile Harbour with strict Clipper
HB_IT_INTEGER and HB_IT_LONG mapping and it also exploits
the problem. It should be fixed in hbdefs.h and I'll make
it soon so it's not a problem.

> This means no Harbour code use HB_LONG and 
> HB_ULONG anymore.

Thank you very much for your modifications.

> I believe this type was not overused in 
> 3rd party code (I could only find a few placed 
> in LetoDB where it's used), so it's not big job to 
> update them where needed, and even by staying 
> compatible with older Harbour and even xhb version 
> (simply by creating new type HB_MAXINT/HB_MAXUINT).

Yes, it is.
In current LETO code HB_ULONG is used only for hb_dateMilliSec()
but later casted to 'long' so in all windows builds and other
32bit build it's already stripped to 32bit integer.
HB_LONG is used in context where it can be replaced by HB_MAXINT.

> If we go this route, we may reuse HB_LONG and 
> HB_ULONG as replacements for LONG / ULONG.  So 
> this would be a small breakage of compatibility, 
> but would give us clean and clear type naming 
> system. I'd vote to do this.

For me it's very good choice. In the moment when we
decided to add new types with 'HB_' prefix instead of
using 'hb' (i.e. hbLong, hbInt, ... ) then we created
potential conflicts with existing types using HB_ prefix
like HB_LONG or HB_PCODE and we have to clean them.
My opinion is that we should not leave any old types
which may confuse users.
Last modifications force code updating so let's change
HB_[U]LONG too.
IMO the worse situation is when such modificaitons tooks
too much time and 3-rd party developers have to systematically
update his code.
Anyhow here we should clearly announce that:
   HB_[U]LONG _STOPS_ TO BE 64 BIT INTEGER.
   NOW IT'S 32 BIT INTEGER.
because in this particular case the modification does not
cause compile time errors.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Mon Feb  8 12:03:43 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb  8 12:03:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13812] trunk/harbour
Message-ID: <E1NeX1T-0008FI-Or@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13812
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13812&view=rev
Author:   vouchcac
Date:     2010-02-08 17:03:42 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-08 08:50 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/idesources.prg

  * contrib/hbqt/generator/qt45.qtp

  * contrib/hbqt/hbqt.h

  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h
  * contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
  * contrib/hbqt/hbqt_hbqsyntaxhighlighter.h

  * contrib/hbqt/qtgui/filelist.mk
  * contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
  * contrib/hbqt/qtgui/HBQSyntaxHighlighter.cpp
  + contrib/hbqt/qtgui/QStackedWidget.cpp
  * contrib/hbqt/qtgui/THBQPlainTextEdit.prg
  * contrib/hbqt/qtgui/THBQSyntaxHighlighter.prg
  + contrib/hbqt/qtgui/TQStackedWidget.prg

  * contrib/hbqt/qth/HBQPlainTextEdit.qth
  * contrib/hbqt/qth/HBQSyntaxHighLighter.qth
  + contrib/hbqt/qth/QStackedWidget.qth

    + Added one more class in hbQT.
    + Prepared to present multiple-views of tabbed-editor.
         The term multiple-view is a bit confusing. The concept
         I am thinking of is to present stacked tabs of common interest 
         together switchable from "Editor" tree-presentation or from 
         a combo-box containing such different "views". 
         A better name to this feature is requested.
    % Code shifting, normalization.
    + Started to have block(column)copy and paste operation.
         But appears it is a huge task, probably leading to 
         rewriting the whole HBQPlainTextEdit() class.
         I must confess that the more I try in the direction,
         the more I am in troubles. Reason: Qt does not provide
         any inbuild mechanism to achieve it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/idesources.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
    trunk/harbour/contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqsyntaxhighlighter.h
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/HBQSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/THBQSyntaxHighlighter.prg
    trunk/harbour/contrib/hbqt/qtgui/filelist.mk
    trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth
    trunk/harbour/contrib/hbqt/qth/HBQSyntaxHighLighter.qth

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qtgui/QStackedWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQStackedWidget.prg
    trunk/harbour/contrib/hbqt/qth/QStackedWidget.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb  8 12:09:42 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb  8 12:09:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13811] trunk/harbour
In-Reply-To: <9BBA7235-390D-4B6D-84C6-E08BFDE77DB9@syenar.hu>
References: <E1NeVwe-00062T-1m@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100208161134.GA26892@linux-4bod.home.aster.pl>
	<9BBA7235-390D-4B6D-84C6-E08BFDE77DB9@syenar.hu>
Message-ID: <20100208170942.GC26892@linux-4bod.home.aster.pl>

On Mon, 08 Feb 2010, Szak?ts Viktor wrote:
> > Code readability is also important and for people working with platforms
> > where 'char' is always unsigned using HB_CHAR as synonym of 'signed char'
> > will be seriously confusing so in my opinion it's bad idea.
> I thought of that, but IMO the only point in having 
> special types is to give something more. In case of 
> HB_CHAR being mapped to 'char' there is no point at 
> all besides requiring to type more and add one more 
> thing to worry about for developers. (Same goes to 
> new HB_LONG actually).

and for HB_SHORT, HB_LONG, etc.
If we added new types then they should be easy to use for users
and not confuse them.
When I see HB_SHORT which is mapped to 'short' and then I expect
that HB_CHAR is mapped to 'char'.
Sooner or later someone will use 'HB_CHAR *' instead of 'char *'.

> > HB_CHAR should be synonym of 'char' without any fixed 'signed' or
> > 'unsigned' definition. Otherwise we will have to make explicit casting
> > between 'HB_CHAR *' types and 'char *' types, i.e. when we are calling
> > OS functions.
> In this case, we could simply drop HB_CHAR, and
> also drop HB_BYTE and use HB_UCHAR and HB_SCHAR 
> as the only types. Though I expect these to be 
> less obvious for most users / developers. It took 
> me a year to understand it, and while not all users 
> are as slow-thinking as me, I'd still think that 
> not many users will use HB_[U|S]CHAR because they 
> won't easily grasp why/when they are useful. At 
> the same time they could look for (and miss) HB_BYTE,
> especially since we always had BYTE in the past.

BYTE also exists on some platform and its sign is undefined
so HB_[U|S]CHAR is much more precise definition.
Because we have to use OS API functions and these functions
accepts text strings then we have to use corresponding types.
It means that we need at least three types:

   signed         - when needed signed iteger value storred in one character
   unsigned       - when needed unsigned iteger value storred in one character
   undefined/raw  - when needed text to pass to API function

These are three different things. We can define for text 'char' type
as we currently use in the code but in such case we should not have
HB_CHAR at all because most of people will think it works like 'char'
just like HB_SHORT works like 'short' and  HB_USHORT works like
'unsigned short', etc. Please remember that types like [U]CHAR, [U]SHORT,
[U]LONG, ... are very old types commonly used on different platforms
and now when we redefined all such basic types with HB_ prefix people
will not expect that HB_ prefix gives some special meaning for them
so your proposition is creating exception.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb  8 12:22:41 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  8 12:22:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13811] trunk/harbour
In-Reply-To: <20100208170942.GC26892@linux-4bod.home.aster.pl>
References: <E1NeVwe-00062T-1m@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100208161134.GA26892@linux-4bod.home.aster.pl>
	<9BBA7235-390D-4B6D-84C6-E08BFDE77DB9@syenar.hu>
	<20100208170942.GC26892@linux-4bod.home.aster.pl>
Message-ID: <966206B1-3ECF-42CE-93A3-D875FC33FE3E@syenar.hu>

>>> HB_CHAR should be synonym of 'char' without any fixed 'signed' or
>>> 'unsigned' definition. Otherwise we will have to make explicit casting
>>> between 'HB_CHAR *' types and 'char *' types, i.e. when we are calling
>>> OS functions.
>> In this case, we could simply drop HB_CHAR, and
>> also drop HB_BYTE and use HB_UCHAR and HB_SCHAR 
>> as the only types. Though I expect these to be 
>> less obvious for most users / developers. It took 
>> me a year to understand it, and while not all users 
>> are as slow-thinking as me, I'd still think that 
>> not many users will use HB_[U|S]CHAR because they 
>> won't easily grasp why/when they are useful. At 
>> the same time they could look for (and miss) HB_BYTE,
>> especially since we always had BYTE in the past.
> 
> BYTE also exists on some platform and its sign is undefined
> so HB_[U|S]CHAR is much more precise definition.
> Because we have to use OS API functions and these functions
> accepts text strings then we have to use corresponding types.
> It means that we need at least three types:
> 
>   signed         - when needed signed iteger value storred in one character
>   unsigned       - when needed unsigned iteger value storred in one character
>   undefined/raw  - when needed text to pass to API function

I'd only argue with the last of the three. In this case 
we don't need any Harbour types at all, since the API 
clearly defines the required type either with its own 
type or some ANSI types. IOW we don't need do maintain 
a matching Harbour type for all possibly existing APIs 
we can find.

So we need signed and unsigned, and for 'raw' we 
have ANSI C 'char' or whatever the actual API offers 
(f.e. BYTE or TCHAR in Widows API)

> These are three different things. We can define for text 'char' type
> as we currently use in the code but in such case we should not have
> HB_CHAR at all because most of people will think it works like 'char'
> just like HB_SHORT works like 'short' and  HB_USHORT works like
> 'unsigned short', etc. Please remember that types like [U]CHAR, [U]SHORT,
> [U]LONG, ... are very old types commonly used on different platforms
> and now when we redefined all such basic types with HB_ prefix people
> will not expect that HB_ prefix gives some special meaning for them
> so your proposition is creating exception.

I agree with that. So I conclude we don't need HB_CHAR.

This leaves use with HB_BYTE vs. HB_UCHAR. They seem 
to be fuly equivalent, so which one should we choose?
Or how do we define the difference?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Feb  8 12:35:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 12:35:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13813] trunk/harbour
Message-ID: <E1NeXWK-00021I-UL@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13813
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13813&view=rev
Author:   vszakats
Date:     2010-02-08 17:35:30 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-08 18:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Changed HB_LONG and HB_ULONG to 'long' and 'unsigned long'
      32-bit integer types, the new equivalents of legacy
      types LONG and ULONG.
      WARNING, INCOMPATIBLE: The legacy meaning of these types
                             were 64-bit integers. Existing code
                             should changes these types to HB_VMMAXINT,
                             HB_VMMAXUINT respectively.
      Notice this change is non-delayable and non-togglable, so
      you must update your code now.
    - Deleted HB_CHAR type.
    * HB_UCHAR/HB_BYTE marked with QUESTION.
    - Deleted some commented new types.

  * contrib/hbbmcdx/bmdbfcdx.c
    + Attempt to sync with DBFCDX RDD source.
      Please try to help in this, there are some larger patches
      which I didn't apply.
      I'd be very nice if someone could take this code and convert
      it to a filter RDD instead of current copy+patch approach.
      In such case it could even be moved to core.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb  8 12:40:04 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb  8 12:40:13 2010
Subject: [Harbour] Debugging c code
In-Reply-To: <BLU0-SMTP85DC8876A221B6B9996D3AEF520@phx.gbl>
References: <SNT109-W40ABCFF5C80AF445F23153EF580@phx.gbl>
	<4B66D939.20307@gmail.com>
	<20100202183351.GA24204@linux-4bod.home.aster.pl>
	<BLU0-SMTP9360888EF5D937B5572A3DEF560@phx.gbl>
	<20100203022350.GA23247@linux-4bod.home.aster.pl>
	<BLU0-SMTP85DC8876A221B6B9996D3AEF520@phx.gbl>
Message-ID: <20100208174004.GA29072@linux-4bod.home.aster.pl>

On Sun, 07 Feb 2010, April White wrote:

Hi,

> Przemek, I want to confirm something. I'm not yet using the new code
> you wrote, so bear with me here.
> If I allocate memory using hb_xgrab_fm() as you suggested before and
> then call p1 = hb_itemNew(p2) if I do not release p1 the line
> reported by FM statistics appears to be where hb_xgrab_fm() is
> called. This is what I believe I am seeing, can you confirm this?

It depends on few different things.
By default when HB_TR_LEVEL is not set to HB_TR_DEBUG
   hb_traceset( HB_TR_FM, szFile, iLine, NULL );
set's the information about file and line used by the nearest call
to hb_xgrab()/hb_xalloc() and after using it it's reset so it can
be used only once.
In such case if you make:

   hb_traceset( HB_TR_FM, "MYFILE", 123, NULL );
   ptr = hb_xgrab( 100 );           // use MYFILE:123 set above
   pItem = hb_itemNew( NULL );      // use PROCNAME():PROCLINE()

but if you make:
   hb_traceset( HB_TR_FM, "MYFILE", 123, NULL );
   ptr = hb_xgrab( 100 );           // use MYFILE:123
   hb_traceset( HB_TR_FM, "MYFILE2", 125, NULL );
   pItem = hb_itemNew( NULL );      // use MYFILE2:125

then 1-st memory block allocated by hb_xgrab()/hb_xalloc()
inside hb_itemNew() will use MYFILE2:125 and next ones (if any)
will use PROCNAME():PROCLINE().

If you set HB_TR_LEVEL to HB_TR_DEBUG then hb_traceset() will
set default file and line number for all blocks until next call
to hb_traceset() or HB_TRACE() message in C code because compiled
into final code HB_TRACE() messages (not stripped but C macrocompiler)
overwrite values set by hb_traceset().

So you described situation which happens when core code is compiled
without HB_TRACE() debug messages (default) and you set HB_TR_LEVEL
envvar to HB_TR_DEBUG.

BTW you can define macro HB_FM_MARKER and use it in your code
before functions which allocates memory:

   #ifdef DEBUG
      #define HB_FM_MARKER hb_traceset( HB_TR_FM, __FILE__, __LINE__, NULL );
   #else
      #define HB_FM_MARKER
   #endif

   [...]

   HB_FM_MARKER
   ptr = hb_xgrab( 100 );
   HB_FM_MARKER
   pItem = hb_itemNew( NULL );

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Feb  8 12:41:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 12:41:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13814] trunk/harbour
Message-ID: <E1NeXc8-000294-Q4@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13814
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13814&view=rev
Author:   vszakats
Date:     2010-02-08 17:41:27 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-08 18:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbbmcdx/bmdbfcdx.c
    * Some more syncing.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  8 13:04:29 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 13:04:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13815] trunk/harbour
Message-ID: <E1NeXyH-00040D-Us@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13815
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13815&view=rev
Author:   vszakats
Date:     2010-02-08 18:04:28 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-08 19:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwin/gtwin.c
    * ULONG -> HB_SIZE

  * src/rtl/gtwvt/gtwvt.c
    * LONG -> int
    * ULONG -> HB_SIZE

  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvggui.c
    * LONG -> int
    * ULONG -> HB_SIZE

  * contrib/gtwvg/wvgwin.c
    * ULONG -> HB_ULONG
    * LONG -> long

  * contrib/gtwvg/wvgutils.c
  * contrib/gtwvg/wvgsink.c
  * contrib/gtwvg/wvgwing.c
  * contrib/hbwin/axcore.c
    * LONG -> long

  * contrib/gtwvg/wvgutils.c
    * "" -> NULL

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  8 13:54:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 13:54:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13816] trunk/harbour
Message-ID: <E1NeYkm-0000bi-QE@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13816
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13816&view=rev
Author:   vszakats
Date:     2010-02-08 18:54:32 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-08 19:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/macro.c
  * src/vm/runner.c
  * src/vm/estack.c
  * src/vm/codebloc.c
  * src/vm/debug.c
  * src/vm/hvm.c
  * src/vm/pvalue.c
  * src/vm/arrays.c
  * src/vm/memvars.c
  * src/vm/eval.c
  * src/vm/classes.c
  * src/common/hbffind.c
  * src/rdd/dbfntx/dbfntx1.c
  * src/rdd/workarea.c
  * src/rdd/sdf1.c
  * src/rdd/dbcmdx.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbcmd.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/delim1.c
  * src/rdd/dbf1.c
  * src/rdd/usrrdd/usrrdd.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/rdd/hbsix/sxord.c
  * src/compiler/hbmain.c
  * src/compiler/hbpcode.c
  * src/compiler/genc.c
  * src/compiler/hbopt.c
  * src/compiler/gencc.c
  * src/compiler/hblbl.c
  * tests/bldtest/bldtest.c
  * include/hbstack.h
  * include/hbapifs.h
  * include/hbxvm.h
  * include/hbdefs.h
  * include/hbmacro.h
  * include/hbapi.h
  * include/hbcomp.h
  * include/hbapirdd.h
  * include/hbsxfunc.h
  * include/hbrddcdx.h
  * include/hbexprb.c
  * contrib/hbct/maxline.c
  * contrib/hbct/numcount.c
  * contrib/hbct/addascii.c
  * contrib/xhb/xhbenum.c
  * contrib/xhb/xhbqself.c
  * contrib/xhb/xhbwith.c
  * contrib/xhb/hbcomprs.c
  * contrib/xhb/xhbmsgs.c
  * contrib/hbmzip/hbmzip.c
  * contrib/xpp/dbcmdx.c
  * contrib/hbnetio/netiocli.c
  * contrib/rddsql/sqlbase.c
  * contrib/rddsql/sqlmix.c
  * contrib/rddads/adsx.c
  * contrib/rddads/ads1.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbmcdx/hbbmcdx.h
  * contrib/hbbtree/hb_btree.h
  * contrib/hbbtree/hb_btree.c
    * LONG -> HB_LONG, long (for dates and extend / item API contexts)
      (except for external (OS) API specific usage)

  * src/vm/maindll.c
    * LONG -> void *
    + Added 'const' to char * parameter.

  * contrib/hbct/numline.c
  * contrib/hbct/ctpad.c
    * LONG -> HB_LONG, HB_ISIZ
    * Formatting.

  * contrib/xhb/hbxml.h
    * LONG -> HB_ISIZ

  * contrib/xhb/freadlin.c
    * LONG, int -> HB_ISIZ

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbbtree/hb_btree.h
    trunk/harbour/contrib/hbct/addascii.c
    trunk/harbour/contrib/hbct/ctpad.c
    trunk/harbour/contrib/hbct/maxline.c
    trunk/harbour/contrib/hbct/numcount.c
    trunk/harbour/contrib/hbct/numline.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/contrib/xhb/freadlin.c
    trunk/harbour/contrib/xhb/hbcomprs.c
    trunk/harbour/contrib/xhb/hbxml.h
    trunk/harbour/contrib/xhb/xhbenum.c
    trunk/harbour/contrib/xhb/xhbmsgs.c
    trunk/harbour/contrib/xhb/xhbqself.c
    trunk/harbour/contrib/xhb/xhbwith.c
    trunk/harbour/contrib/xpp/dbcmdx.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbapirdd.h
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbmacro.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/include/hbsxfunc.h
    trunk/harbour/include/hbxvm.h
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/compiler/genc.c
    trunk/harbour/src/compiler/gencc.c
    trunk/harbour/src/compiler/hblbl.c
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/compiler/hbopt.c
    trunk/harbour/src/compiler/hbpcode.c
    trunk/harbour/src/rdd/dbcmd.c
    trunk/harbour/src/rdd/dbcmdx.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/delim1.c
    trunk/harbour/src/rdd/hbsix/sxord.c
    trunk/harbour/src/rdd/sdf1.c
    trunk/harbour/src/rdd/usrrdd/usrrdd.c
    trunk/harbour/src/rdd/workarea.c
    trunk/harbour/src/vm/arrays.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/codebloc.c
    trunk/harbour/src/vm/debug.c
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/eval.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/macro.c
    trunk/harbour/src/vm/maindll.c
    trunk/harbour/src/vm/memvars.c
    trunk/harbour/src/vm/pvalue.c
    trunk/harbour/src/vm/runner.c
    trunk/harbour/tests/bldtest/bldtest.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Feb  8 14:24:23 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb  8 14:24:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13817] trunk/harbour
Message-ID: <E1NeZDb-000182-Lj@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13817
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13817&view=rev
Author:   druzus
Date:     2010-02-08 19:24:22 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-08 20:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapicdp.h
  * harbour/src/rtl/cdpapi.c
    * replaced 'unsigned char' with 'HB_UCHAR'

  * harbour/src/rtl/cdpapihb.c
  * harbour/contrib/hbwin/wapi_shellapi.c
    % minor optimization

  * harbour/src/vm/maindllp.c
    * use already existing HB_MACRO2STRING() macro instead of locally
      defined HB_DLLSTR_()
    * respect defined but not used so far HB_DLL_NAMEMT and HB_DLL_NAMEMT2

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/src/rtl/cdpapihb.c
    trunk/harbour/src/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tech at 2dinfo.com.br  Mon Feb  8 15:25:14 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Mon Feb  8 14:26:29 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100208141036.GA23098@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
Message-ID: <D10B5CBD194247FEBB91A0E58212EA7F@deskleo>

Hi

> I was creating them without any problems and from time to
> time I made such tests together with HRB support.
> As long as some of recent modification did not seriously
> break sth then it should work without any problem.
>
> The most important rule which users have to always remember:
> it's illegal to link PCODE dll and any other DLLs with Harbour
> static functions. If you make that then the same code is linked
> twice so it may not work as expected, i.e. two independent HVM
> stacks. This same is for any other projects and code so it's
> rather basic knowledge about using shared libraries in Windows.
> It also means that fully functional Harbour distribution should
> have shared version of all libraries or at least provide easy
> way
>

I don't know if I reach the point you are talking about, but in the xHarbour 
scenario I mentioned before apparently it wasn't needed to resolve all the 
references to any functions statically linked to the host executable, 
because these references were intended to be resolved in runtime.

Inside hb_vmRegisterSymbols we inserted a hack to resolve the undefined 
references both in the DLL and in the host aplication: if the symbol in the 
DLL had an unresolved pointer (????DEAD address), we searched for its name 
in the host symbol table and replaced the DEAD pointer for a resolved one, 
and when the symbol was resolved in the DLL but not in the host symbol table 
we fixed its address in the host symbol table, replacind the DEAD address 
for the DLL resolved address. IOW, if the same symbol was in the DLL and in 
the host and was undefined in one of them, we fixed it, otherwise, we let 
go.

Does it make sense to you? Does this already apply to Harbour?

It seems to work like this using Blinker, and it offered yet the option to 
replace or not to replace a doubly defined symbol when loading the DLL, but 
we couldn't implement it unfortunatelly.


> There are two possible methods to create PCODE dll.
> 1. when final application using PCODE dll is linked in shared mode with
>   harbour*.dll.
>   In such case it's enough to link the PCODE dll with exactly the same
>   harbour*.dll. That's all. No additional operations have to be done.
>   Please also note that harbour*.dll exports all Harbour functions marked
>   as HB_EXPORT so it's possible to use also C code inside PCODE dll which
>   uses full exported Harbour API.

That is not my case of use - we use harbour self contained executable + 
pCode dll.

> 2. when final application using PCODE dll is linked with in static mode.
>   It's a little bit more complicated situation because in such case
>   it's illegal to link PCODE dll with harbour shared library 
> (harbour*.dll)
>   and as I notice above with static libraries too. It's possible to link
>   with above libraries but generated binaries will be wrong and can cause
>   any unpredictable results so user has to be careful to not create them
>   by mistake.
>   Compiled PRG code needs two functions from the static part of
>   application to wrok: hb_vmExecute() and hb_vmProcessSymbols().
>   These functions have to be exported by static part of application
>   and the PCODE dll has to be linked with import library having them.
>   We already have such import library and it's called hbmaindllp.
>   It is written in a way which allows to link it also with PCODE dlls
>   which are used by harbour applications linked in shared mode (I see
>   that you nicely updated harbour*.dll names but it needs some minor
>   cleanup yet to use these names, I'll commit it ASAP).
>   So this part is ready and user only need Harbour static libraries
>   which export above two functions. AFAIR by default they are not exported
>   so it's necessary to recompile harbour exporting them.

In xHarbour 0.9 it seems that hb_vmProcessSymbols and hb_vmExecute were 
declared inside maindllp.c but just as wrappers to (VM_DLL_EXECUTE) macro. 
Is this part of the same metodology you described?


>   We can resolve this problem enabling symbol exporting also in default
>   static builds or by introducing special wrappers in separate library
>   which is not part of harbour*.dll. In such case it will be enough to
>   link this new library with static part of application (using REQUEST
>   mechanism to force linking) and update hbmaindllp to use this wrapped
>   functions when original ones are not available (i.e. we can add _dll_
>   prefix for such wrapped function names.
>
> PCODE DLLs can be linked with final application or can be loaded
> dynamically. To load/unload dynamically any libraries always use
> HB_LIBLOAD()/HB_LIBFREE(). Never use 
> WAPI_LOADLIBRARY()/WAPI_FREELIBRARY(),
> LOADLIBRARY()/FREELIBRARY(), DLLLOAD()/DLLUNLOAD() because they do
> not work correctly with HVM what can cause some very serious problems,
> i.e. it's not possible to cleanly unload PCODE dlls, these functions
> should be removed or wrapped to HB_LIBLOAD()/HB_LIBFREE())
>
>> To do anything in this regard, first I should see
>> how pcode .dlls are supposed to work, linked, etc.
>
> See above. It should be whole description.
>
>> I also need to see if this is something Windows
>> specific or portable. The latter would certainly
>> make it more interesting to deal with.
>
> In Windows shared libraries cannot be created with late binding
> resolved at runtime and it causes that it's necessary to use
> import libraries. On most of other systems (but not all) dynamic
> runtime linker supports late binding so it's possible to create
> shared libraries with insufficient dependencies which are resolved
> at application startup or when function is called 1-st time.
>
>> In the meantime I'd suggest to consider to use
>> .hrb files instead. Unless there is the need to
>> include .c code in these pcode .dlls, they are
>> superior in all aspects, moreover they already work.
>
> We still do not support HRL (libraries for HRB files what in
> some cases can seriously reduce HRB functionality) anyhow HRB
> is portable and always preferred format which has also many
> features which are not available for DLLs.

This HRL support could eliminate the need to use DLLs in my case. Is it 
planned to be done? How would it reduce HRB funcionality?

Thank you

Regards
Leandro
 

From tech at 2dinfo.com.br  Mon Feb  8 15:43:47 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Mon Feb  8 14:45:12 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <BD42557F-81DB-4C29-997D-CEF9645349B4@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><C087F7E1FDDE430988D9CF9494584C7A@deskleo>
	<BD42557F-81DB-4C29-997D-CEF9645349B4@syenar.hu>
Message-ID: <750A2484C66E486FAB0A29CA92983067@deskleo>

Hello Viktor

> I hope someone can answer these, but until then I suggest
> to lookup past messages, there has been _lots_ of detailed
> talk about .hrb files, even recently. You can start by
> looking up HB_HRB*() functions in ChangeLog and find examples
> in source tree.

Thanks a lot. I'll follow your suggestion for a start.

> They are pretty handy and lots of Harbour users / developers
> are actively using them.
>
> [ Also see Przemek's recent message about pcode-dlls,
> though it seems we're both recommending .hrb files. ]

Sure! If there be another (maybe better) way to solve the same problem 
(dynamically load of prg code) I'll be very satisfied.
HRB funcionality sounds great, but they seem to work as loadable modules, 
not libraries right?
If hrb have no important limitations and performance issues compared to 
statically linked code and If one could manage the load/unload of lots of 
hrb modules at once, it would have definitelly no use for pcode DLLs at all. 
HRB libraries could be a perfect crossplatform solution for many people.

Best regards
Leandro
 

From druzus at acn.waw.pl  Mon Feb  8 14:59:22 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb  8 14:59:30 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <27046773-D8B5-4FDB-95AA-FAEBB12F046B@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<27046773-D8B5-4FDB-95AA-FAEBB12F046B@syenar.hu>
Message-ID: <20100208195922.GA30749@linux-4bod.home.aster.pl>

On Mon, 08 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> If it works using current tools, it's nice, and we probably 
> have to do only those steps you mention to make it easily 
> available for users. And document it. F.e. in INSTALL (if 
> the end result is elegant or simple), or a separate document 
> if the size of the topic deserves it.

I agree though I do not now if I'm right person to describe it
in INSTALL. For shared binaries using harbour*.dll there is
no problem at all and it's enough to link PCODE dll with harbour*.dll.
The problem is only with binaries which have HVM linked with static
part of application. In the previous message I forgot to write that
also functions called in PRG code compiled to PCODE DLL creates
dependencies so programmer should declare them using DYNAMIC clause.
He can generate header file with all functions which are visible
for core part of his application using this code:

   #if 0    // uncomment it for tests */
      proc main()
         genFuncList()
      return
   #endif

   proc genFuncList()
      local aFunc, hFile
      aFunc := getFuncList()
      asort( aFunc )
      hFile := fcreate("dynamic.ch")
      aeval( aFunc, {|x| fwrite( hFile, "DYNAMIC " + x + hb_osNewLine() ) } )
      fclose( hFile )
   return

   func getFuncList()
      local aFunc, nCount := __dynsCount(), nDst:=0, n
      aFunc := array( nCount )
      for n := 1 to nCount
         if __dynsIsFun( n )
            aFunc[ ++nDst ] := __dynsGetName( n )
         endif
      next
      asize( aFunc, nDst )
   return aFunc

and then simply #include it in .prg files compiled and linked into
PCODE dlls.

Probably to make it easier for users we can add small option to hbmk2
which will attach to final code exported wrappers to hb_vmProcessSymbols()
and hb_vmExecute() or single function which can be used to extract
addresses of other functions so later it will be enough to extend
the list of pseudo exported symbols without touching hbmk2 code.
I can create such function.

> > PCODE DLLs can be linked with final application or can be loaded
> > dynamically. To load/unload dynamically any libraries always use
> > HB_LIBLOAD()/HB_LIBFREE(). Never use WAPI_LOADLIBRARY()/WAPI_FREELIBRARY(),
> > LOADLIBRARY()/FREELIBRARY(), DLLLOAD()/DLLUNLOAD() because they do
> > not work correctly with HVM what can cause some very serious problems,
> > i.e. it's not possible to cleanly unload PCODE dlls, these functions
> > should be removed or wrapped to HB_LIBLOAD()/HB_LIBFREE())
> 
> Pls remember that hbwin LoadLibrary/FreeLibrary functions 
> are also used by other WAPI wrappers and pure (non-pcode) 
> .dll support, so IMO we shouldn't remove or hide them, but 
> simply document that pcode .dll must always be managed with 
> HB_LIB*() functions.

Such documentation will not help users who do not know if some 3-rd
party libraries contains PRG code or not so it's useless and IMO makes
thing more complicated then necessary. The only one thing we should
made is redirecting above functions to HB_LIB*() ones which in windows
builds internally use the same WIN API functions and only have additional
code to protect HVM against corruption in MT mode, allow clean unloading
and execute INIT/EXIT PRG functions if any. The returned handles can be
used as any other GC pointer items used by HBWIN code. If necessary
we can add to HVM public function to extract library handle from
PHB_ITEM. Please also note that destructor for HB_LIBLOAD() GC pointer
items does not unload library automatically so it will work as current
functions even if user does not save it somewhere.

> Now the only thing I'm still interested in, is what 
> are the advantage of pcode-.dlls over .hrb files?
> [ I can only cite inclusion of .c functions. ]

Yes, mixed PRG and C code is probably the only one real feature.
Probably it's mostly important for 3-rd party extensions which can
be distributed as single DLL. For .prg code only HRB files seem to
be much better solution though support for HRL files with optional
conversion of all internal bindings to static when HRL is loaded
will make it even more flexible for big projects.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb  8 15:03:47 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  8 15:04:00 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <750A2484C66E486FAB0A29CA92983067@deskleo>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><C087F7E1FDDE430988D9CF9494584C7A@deskleo>
	<BD42557F-81DB-4C29-997D-CEF9645349B4@syenar.hu>
	<750A2484C66E486FAB0A29CA92983067@deskleo>
Message-ID: <5A682321-3A76-4954-A027-5B2EE8602D5C@syenar.hu>

Hi Leandro,

On 2010 Feb 8, at 21:43, 2D Info - Leandro Damasio wrote:

> Hello Viktor
> 
>> I hope someone can answer these, but until then I suggest
>> to lookup past messages, there has been _lots_ of detailed
>> talk about .hrb files, even recently. You can start by
>> looking up HB_HRB*() functions in ChangeLog and find examples
>> in source tree.
> 
> Thanks a lot. I'll follow your suggestion for a start.
> 
>> They are pretty handy and lots of Harbour users / developers
>> are actively using them.
>> 
>> [ Also see Przemek's recent message about pcode-dlls,
>> though it seems we're both recommending .hrb files. ]
> 
> Sure! If there be another (maybe better) way to solve the same problem (dynamically load of prg code) I'll be very satisfied.
> HRB funcionality sounds great, but they seem to work as loadable modules, not libraries right?

From the application POV they look the same, 
you load it by specifying the filename, and 
execute functions from it. You have much finer 
control with .hrb, it's also portable, and .hrb 
files are very simple to generate (either with 
hbmk2 or harbour compiler).

> If hrb have no important limitations and performance issues compared to statically linked code and If one could manage the load/unload of lots of hrb modules at once, it would have definitelly no use for pcode DLLs at all. HRB libraries could be a perfect crossplatform solution for many people.

Perfectly said. I don't know of any limitation. 
I'd suggest you to explore the loading / execution 
options. There may be some extreme situations which 
you need take extra care of (see Lorenzo's recent 
messages). These aspects are not .hrb specific 
limitations, but general issues that need to be dealt 
with when dynamically loading/unloading pcode modules 
via any methods.

In Harbour contrib/hbnetio/utils/netiosrv and 
examples/httpsrv already make use of .hrb files in 
real example.

Brgds,
Viktor

From smujohnson at gmail.com  Mon Feb  8 15:31:51 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb  8 15:32:01 2010
Subject: [Harbour] GETREADER() oGet:postBlock / oGet type functions and
	blocks in Clipper 5.3 / Harbour?
Message-ID: <674e4ddd1002081231g5493ed95u7864787e4d4127bd@mail.gmail.com>

Hi.

After a bit of research, I see in the Norton Guides some reference to a
bunch of objGet / oGet type functions.  In our Clipper 5.2e APP, we have a
GETSYS.PRG which seems to implement a lot of these functions.  My guess is
that Clipper 5.3 decided to make these functions part of the core, instead
of giving you a GETSYS.PRG template?

Anyways, the problem we're having is on line 157 of the following code.  It
hangs when a NIL is returned by the postBlock block.  (I have no idea what /
where the postBlock is even declared, as mentioned in my post to the Users
maillist:
http://lists.harbour-project.org/pipermail/harbour-users/2010-February/000314.html).

To add a bit more confusion, I am not sure in Harbour / Clipper 5.3 you have
to have this "getsys.prg" file.  It seems we need for what we are doing, as
you can see an added line of code on line 152 where my superior added some
cursor modifications.  My first guess would be to simply add some sort of
VALTYPE == "L" check prior to doing the IF statement, but I am not sure if
this is a problem with Harbour, or our own code.  I thought I would ask
here.

If my post makes no sense to the developers, I will try to provide more code
/ info.

Thanks in advance.

135 PROCEDURE GetReader( oGet )
136
137    // Read the GET if the WHEN condition is satisfied
138    IF ( GetPreValidate( oGet ) )
139
140       // Activate the GET for reading
141       oGet:setFocus()
142
143       WHILE ( oGet:exitState == GE_NOEXIT )
144
145          // Check for initial typeout (no editable positions)
146          IF ( oGet:typeOut )
147             oGet:exitState := GE_ENTER
148          ENDIF
149
150          // Apply keystrokes until exit
151          WHILE ( oGet:exitState == GE_NOEXIT )
152             SETCURSOR(IIF( SET(_SET_INSERT),2,1)) // MIKE ADDED TO
CHANGE CURSOR SHAPE
153             GetApplyKey( oGet, inkey( 0 ) )
154          ENDDO
155
156          // Disallow exit if the VALID condition is not satisfied
157          IF ( !GetPostValidate( oGet ) )
158             oGet:exitState := GE_NOEXIT
159          ENDIF
160       ENDDO
161
162       // De-activate the GET
163       oGet:killFocus()
164
165    ENDIF
166
167    RETURN
168

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100208/e7568963/attachment-0001.html
From harbour.01 at syenar.hu  Mon Feb  8 16:48:59 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  8 16:49:11 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100208195922.GA30749@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<27046773-D8B5-4FDB-95AA-FAEBB12F046B@syenar.hu>
	<20100208195922.GA30749@linux-4bod.home.aster.pl>
Message-ID: <F93B457A-9ED7-4BA3-AAF2-2416BF0ABFDD@syenar.hu>

Hi Przemek,

>> If it works using current tools, it's nice, and we probably 
>> have to do only those steps you mention to make it easily 
>> available for users. And document it. F.e. in INSTALL (if 
>> the end result is elegant or simple), or a separate document 
>> if the size of the topic deserves it.
> 
> I agree though I do not now if I'm right person to describe it
> in INSTALL. For shared binaries using harbour*.dll there is
> no problem at all and it's enough to link PCODE dll with harbour*.dll.
> The problem is only with binaries which have HVM linked with static
> part of application. In the previous message I forgot to write that
> also functions called in PRG code compiled to PCODE DLL creates
> dependencies so programmer should declare them using DYNAMIC clause.
> He can generate header file with all functions which are visible
> for core part of his application using this code:
> 
>   #if 0    // uncomment it for tests */
>      proc main()
>         genFuncList()
>      return
>   #endif
> 
>   proc genFuncList()
>      local aFunc, hFile
>      aFunc := getFuncList()
>      asort( aFunc )
>      hFile := fcreate("dynamic.ch")
>      aeval( aFunc, {|x| fwrite( hFile, "DYNAMIC " + x + hb_osNewLine() ) } )
>      fclose( hFile )
>   return
> 
>   func getFuncList()
>      local aFunc, nCount := __dynsCount(), nDst:=0, n
>      aFunc := array( nCount )
>      for n := 1 to nCount
>         if __dynsIsFun( n )
>            aFunc[ ++nDst ] := __dynsGetName( n )
>         endif
>      next
>      asize( aFunc, nDst )
>   return aFunc
> 
> and then simply #include it in .prg files compiled and linked into
> PCODE dlls.
> 
> Probably to make it easier for users we can add small option to hbmk2
> which will attach to final code exported wrappers to hb_vmProcessSymbols()
> and hb_vmExecute() or single function which can be used to extract
> addresses of other functions so later it will be enough to extend
> the list of pseudo exported symbols without touching hbmk2 code.
> I can create such function.

Okay we can do it. I'll also need a name proposal for 
such hbmk2 option. Or maybe a new main switch instead of 
-hbdyn (like -hbdynvm ?) which also turns on this extra 
feature automatically, but a good name would be nice 
even for this case.

>>> PCODE DLLs can be linked with final application or can be loaded
>>> dynamically. To load/unload dynamically any libraries always use
>>> HB_LIBLOAD()/HB_LIBFREE(). Never use WAPI_LOADLIBRARY()/WAPI_FREELIBRARY(),
>>> LOADLIBRARY()/FREELIBRARY(), DLLLOAD()/DLLUNLOAD() because they do
>>> not work correctly with HVM what can cause some very serious problems,
>>> i.e. it's not possible to cleanly unload PCODE dlls, these functions
>>> should be removed or wrapped to HB_LIBLOAD()/HB_LIBFREE())
>> 
>> Pls remember that hbwin LoadLibrary/FreeLibrary functions 
>> are also used by other WAPI wrappers and pure (non-pcode) 
>> .dll support, so IMO we shouldn't remove or hide them, but 
>> simply document that pcode .dll must always be managed with 
>> HB_LIB*() functions.
> 
> Such documentation will not help users who do not know if some 3-rd
> party libraries contains PRG code or not so it's useless and IMO makes
> thing more complicated then necessary. The only one thing we should
> made is redirecting above functions to HB_LIB*() ones which in windows
> builds internally use the same WIN API functions and only have additional
> code to protect HVM against corruption in MT mode, allow clean unloading
> and execute INIT/EXIT PRG functions if any. The returned handles can be
> used as any other GC pointer items used by HBWIN code. If necessary
> we can add to HVM public function to extract library handle from
> PHB_ITEM. Please also note that destructor for HB_LIBLOAD() GC pointer
> items does not unload library automatically so it will work as current
> functions even if user does not save it somewhere.

I see. In case HB_LIB*() is a superset of other hbwin 
specific loaders, I agree to drop those. (convert them 
to stubs). For sure DLLLOAD() is an Xbase++ compatibility 
function so we should keep it as such, and this way we 
could even move it to core.

>> Now the only thing I'm still interested in, is what 
>> are the advantage of pcode-.dlls over .hrb files?
>> [ I can only cite inclusion of .c functions. ]
> 
> Yes, mixed PRG and C code is probably the only one real feature.
> Probably it's mostly important for 3-rd party extensions which can
> be distributed as single DLL. For .prg code only HRB files seem to

Though even this can only be done if said .dll doesn't depend 
on other 3rd party .dlls. So in case the .c code implements 
some wrappers (which is typical), the underlying API needs to be 
linked to the pcode .dll statically. If I see it correctly.

> be much better solution though support for HRL files with optional
> conversion of all internal bindings to static when HRL is loaded
> will make it even more flexible for big projects.

Agreed. I'm not yet live .hrb user, so can't oversee the 
benefits of .hrl, but sounds good nevertheless :)

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Feb  8 16:52:49 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 16:52:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13818] trunk/harbour
Message-ID: <E1NebXF-0004VI-Uh@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13818
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13818&view=rev
Author:   vszakats
Date:     2010-02-08 21:52:47 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-08 22:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/ppcore.c
  * src/pp/hbpp.c
  * src/vm/macro.c
  * src/vm/runner.c
  * src/vm/estack.c
  * src/vm/itemapi.c
  * src/vm/hvm.c
  * src/vm/cmdarg.c
  * src/vm/maindllp.c
  * src/vm/fm.c
  * src/vm/thread.c
  * src/vm/memvars.c
  * src/vm/eval.c
  * src/vm/extend.c
  * src/vm/classes.c
  * src/debug/dbgentry.c
  * src/common/expropt1.c
  * src/common/expropt2.c
  * src/common/hbhash.c
  * src/nortl/nortl.c
  * src/macro/macrolex.c
  * src/rtl/gtxwc/gtxwc.c
  * src/rtl/gtstd/gtstd.c
  * src/rtl/gtcgi/gtcgi.c
  * src/rtl/errapi.c
  * src/rtl/hbprocfn.c
  * src/rtl/hbsocket.c
  * src/rtl/gtpca/gtpca.c
  * src/rtl/filebuf.c
  * src/rtl/hbproces.c
  * src/rdd/dbfntx/dbfntx1.c
  * src/rdd/dbsql.c
  * src/rdd/hbdbsort.c
  * src/rdd/workarea.c
  * src/rdd/wacore.c
  * src/rdd/sdf1.c
  * src/rdd/dbcmdx.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbcmd.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/delim1.c
  * src/rdd/dbf1.c
  * src/rdd/hsx/hsx.c
  * src/rdd/usrrdd/usrrdd.c
  * src/rdd/wafunc.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/rdd/hbsix/sxord.c
  * src/rdd/hbsix/sxfname.c
  * src/rdd/hbsix/sxtable.c
  * src/rdd/hbsix/sxutil.c
  * src/rdd/hbsix/sxcrypt.c
  * src/compiler/ppcomp.c
  * src/compiler/hbmain.c
  * src/compiler/compi18n.c
  * src/compiler/cmdcheck.c
  * src/compiler/hbdbginf.c
  * src/compiler/hbpcode.c
  * src/compiler/genhrb.c
  * src/compiler/hbdead.c
  * src/compiler/complex.c
  * src/compiler/genobj32.c
  * src/compiler/genc.c
  * src/compiler/hbopt.c
  * src/compiler/hbident.c
  * src/compiler/gencc.c
  * src/compiler/hbcmplib.c
  * src/compiler/hblbl.c
  * src/compiler/harbour.yyc
  * src/compiler/harbour.y
  * include/hbpp.h
  * include/hbrdddbf.h
  * include/hbvmpub.h
  * include/hbrddnsx.h
  * include/hbstack.h
  * include/hbgtcore.h
  * include/hbapifs.h
  * include/hbthread.h
  * include/hbdefs.h
  * include/hbmacro.h
  * include/hbinit.h
  * include/hbtypes.h
  * include/hbrddsdf.h
  * include/hbapi.h
  * include/hbapiitm.h
  * include/hbrddntx.h
  * include/hbvm.h
  * include/hbapidbg.h
  * include/hbcomp.h
  * include/hbapirdd.h
  * include/hbcompdf.h
  * include/hbrdddel.h
  * include/hbexpra.c
  * include/hbexprop.h
  * include/hbrddcdx.h
  * include/hbapicls.h
  * include/hbapierr.h
  * include/hbrddfpt.h
  * include/hbhash.h
  * include/hbregex.h
  * include/hbexprb.c
  * contrib/hbct/screen2.c
  * contrib/hbct/token2.c
  * contrib/hbct/dbftools.c
  * contrib/hbct/atadjust.c
  * contrib/hbct/ctwin.c
  * contrib/hbct/files.c
  * contrib/hbct/dattime3.c
  * contrib/hbct/ctstr.c
  * contrib/hbct/screen1.c
  * contrib/hbct/token1.c
  * contrib/hbct/ctc.c
  * contrib/hbct/ct.h
  * contrib/hbct/atnum.c
  * contrib/hbct/asciisum.c
  * contrib/hbct/numat.c
  * contrib/hbct/atrepl.c
  * contrib/xhb/bkgtsks.c
  * contrib/xhb/hbcrypt.c
  * contrib/xhb/fparse.c
  * contrib/xhb/datesxhb.c
  * contrib/xhb/hbnxs.h
  * contrib/hbqt/gtqtc/gtqtc.cpp
  * contrib/xpp/dbcmdx.c
  * contrib/hbnf/dispc.c
  * contrib/hbnf/ftattr.c
  * contrib/hbmemio/memio.c
  * contrib/hbnetio/netiocli.c
  * contrib/rddsql/sddmy/mysqldd.c
  * contrib/rddsql/sddpg/pgsqldd.c
  * contrib/rddsql/sddfb/fbirddd.c
  * contrib/rddsql/sddodbc/odbcdd.c
  * contrib/rddsql/hbrddsql.h
  * contrib/rddsql/sqlbase.c
  * contrib/rddsql/sqlmix.c
  * contrib/rddads/adsx.c
  * contrib/rddads/adsfunc.c
  * contrib/rddads/rddads.h
  * contrib/rddads/ads1.c
  * contrib/rddads/adsmgmnt.c
  * contrib/hbmisc/spd.c
  * contrib/hbtip/utils.c
  * contrib/hbtip/encmthd.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbmcdx/hbbmcdx.h
  * contrib/hbbtree/hb_btree.h
  * contrib/hbbtree/hb_btree.c
    * ULONG -> HB_ULONG, HB_SIZE
      (except for external (OS) API specific usage)
    * Formatting.

    ; NOTE: I converted ULONG to HB_SIZE where I felt it appropriate,
            but didn't touch compiler, codeblock handling, low-level
            RDD (Set/GetVarLen method) and high-level contrib RDDs, so
            this needs to be cleaned.
            Also there may be cases where I didn't change the whole
            call chain to HB_SIZE.

    ; NOTE: It would be probably worthy to add new types for these purposes:
           - line number (HB_USHORT)
           - record number (HB_ULONG)
           - RDD connection (HB_ULONG)
           - parameter count / stack position / class member positions / etc (HB_USHORT, sometimes HB_ULONG)
           - pcode (HB_BYTE and char)
           - flags / modes (HB_USHORT / HB_ULONG)
           - timers (HB_ULONG, HB_MAXINT)
           - GT API character (HB_USHORT)

    ; REQUESTS:
          - Pls don't over-align variable declarations. It makes
            modification much much slower. Sometimes declarations are
            aligned even if there was only one or two of them in a block.
          - Pls always add variable names in declarations, otherwise the purpose
            of the function is very slow to decipher when looking at it.
          - Keep up the nice formatting according to Harbour standards,
            it makes modifications much much easier.

    ; TODO:
          - Verify with grep script
          - Verify with HB_USER_CFLAGS=-DHB_LEGACY_TYPES_OFF
          - Make HB_LEGACY_TYPES_OFF default for Harbour builds.
          - Tie HB_LEGACY_TYPES_OFF to HB_LEGACY_LEVEL3
          - Replace current windows.h inclusion hack with regular method
          - Delete hacks dealing with former type chaos:
               HB_CLIPPER_INT_ITEMS, HB_DONT_DEFINE_BASIC_TYPES, HB_DONT_DEFINE_BOOL, HB_DONT_DEFINE_BYTE, HB_DONT_DEFINE_LONG
          - Retest hbfimage on *nix, delete hacks
          - Normalize HB_BYTE vs. HB_UCHAR usage
          - Type cleanups, f.e. HB_SIZE vs. HB_ULONG
          - Add new special types (see above)
          - Switch HB_SIZE to signed (big project), and delete HB_ISIZ afterwards.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbbtree/hb_btree.h
    trunk/harbour/contrib/hbct/asciisum.c
    trunk/harbour/contrib/hbct/atadjust.c
    trunk/harbour/contrib/hbct/atnum.c
    trunk/harbour/contrib/hbct/atrepl.c
    trunk/harbour/contrib/hbct/ct.h
    trunk/harbour/contrib/hbct/ctc.c
    trunk/harbour/contrib/hbct/ctstr.c
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/contrib/hbct/dattime3.c
    trunk/harbour/contrib/hbct/dbftools.c
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/contrib/hbct/numat.c
    trunk/harbour/contrib/hbct/screen1.c
    trunk/harbour/contrib/hbct/screen2.c
    trunk/harbour/contrib/hbct/token1.c
    trunk/harbour/contrib/hbct/token2.c
    trunk/harbour/contrib/hbmemio/memio.c
    trunk/harbour/contrib/hbmisc/spd.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbnf/dispc.c
    trunk/harbour/contrib/hbnf/ftattr.c
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.cpp
    trunk/harbour/contrib/hbtip/encmthd.c
    trunk/harbour/contrib/hbtip/utils.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/contrib/rddads/adsmgmnt.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddads/rddads.h
    trunk/harbour/contrib/rddsql/hbrddsql.h
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/contrib/xhb/bkgtsks.c
    trunk/harbour/contrib/xhb/datesxhb.c
    trunk/harbour/contrib/xhb/fparse.c
    trunk/harbour/contrib/xhb/hbcrypt.c
    trunk/harbour/contrib/xhb/hbnxs.h
    trunk/harbour/contrib/xpp/dbcmdx.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapicls.h
    trunk/harbour/include/hbapidbg.h
    trunk/harbour/include/hbapierr.h
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/include/hbapirdd.h
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbexpra.c
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbexprop.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/include/hbhash.h
    trunk/harbour/include/hbinit.h
    trunk/harbour/include/hbmacro.h
    trunk/harbour/include/hbpp.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/include/hbrdddbf.h
    trunk/harbour/include/hbrdddel.h
    trunk/harbour/include/hbrddfpt.h
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/include/hbrddntx.h
    trunk/harbour/include/hbrddsdf.h
    trunk/harbour/include/hbregex.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/include/hbthread.h
    trunk/harbour/include/hbtypes.h
    trunk/harbour/include/hbvm.h
    trunk/harbour/include/hbvmpub.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/common/expropt2.c
    trunk/harbour/src/common/hbhash.c
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/compiler/compi18n.c
    trunk/harbour/src/compiler/complex.c
    trunk/harbour/src/compiler/genc.c
    trunk/harbour/src/compiler/gencc.c
    trunk/harbour/src/compiler/genhrb.c
    trunk/harbour/src/compiler/genobj32.c
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/hbcmplib.c
    trunk/harbour/src/compiler/hbdbginf.c
    trunk/harbour/src/compiler/hbdead.c
    trunk/harbour/src/compiler/hbident.c
    trunk/harbour/src/compiler/hblbl.c
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/compiler/hbopt.c
    trunk/harbour/src/compiler/hbpcode.c
    trunk/harbour/src/compiler/ppcomp.c
    trunk/harbour/src/debug/dbgentry.c
    trunk/harbour/src/macro/macrolex.c
    trunk/harbour/src/nortl/nortl.c
    trunk/harbour/src/pp/hbpp.c
    trunk/harbour/src/pp/ppcore.c
    trunk/harbour/src/rdd/dbcmd.c
    trunk/harbour/src/rdd/dbcmdx.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/dbsql.c
    trunk/harbour/src/rdd/delim1.c
    trunk/harbour/src/rdd/hbdbsort.c
    trunk/harbour/src/rdd/hbsix/sxcrypt.c
    trunk/harbour/src/rdd/hbsix/sxfname.c
    trunk/harbour/src/rdd/hbsix/sxord.c
    trunk/harbour/src/rdd/hbsix/sxtable.c
    trunk/harbour/src/rdd/hbsix/sxutil.c
    trunk/harbour/src/rdd/hsx/hsx.c
    trunk/harbour/src/rdd/sdf1.c
    trunk/harbour/src/rdd/usrrdd/usrrdd.c
    trunk/harbour/src/rdd/wacore.c
    trunk/harbour/src/rdd/wafunc.c
    trunk/harbour/src/rdd/workarea.c
    trunk/harbour/src/rtl/errapi.c
    trunk/harbour/src/rtl/filebuf.c
    trunk/harbour/src/rtl/gtcgi/gtcgi.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtstd/gtstd.c
    trunk/harbour/src/rtl/gtxwc/gtxwc.c
    trunk/harbour/src/rtl/hbproces.c
    trunk/harbour/src/rtl/hbprocfn.c
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/cmdarg.c
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/eval.c
    trunk/harbour/src/vm/extend.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/src/vm/macro.c
    trunk/harbour/src/vm/maindllp.c
    trunk/harbour/src/vm/memvars.c
    trunk/harbour/src/vm/runner.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Mon Feb  8 16:55:39 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb  8 16:55:47 2010
Subject: [Harbour] oGet problems solved... because Harbour was Warning me
	for no reason!
Message-ID: <674e4ddd1002081355u559b0e60gccb9105e571376fc@mail.gmail.com>

Dear Harbour,

I have solved the whole oGet problems I was having, referenced by both of
the URLs below of the mailing list.

http://lists.harbour-project.org/pipermail/harbour/2010-February/031851.html
http://lists.harbour-project.org/pipermail/harbour-users/2010-February/000314.html

The problem was Harbour was Warning me about useless vals.

3:28 PM 2/5/2010
GL.PRG(419) Warning W0027  Meaningless use of expression 'String'
GL2.PRG(1460) Warning W0027  Meaningless use of expression 'String'
GL2.PRG(1469) Warning W0027  Meaningless use of expression 'String'
DATPROMO.PRG(10) Warning W0027  Meaningless use of expression 'String'
ORDERS.PRG(794) Warning W0027  Meaningless use of expression 'Logical'
ORDERS.PRG(2034) Warning W0027  Meaningless use of expression 'Logical'
RECONCIL.PRG(1029) Warning W0027  Meaningless use of expression 'String'
RECONCIL.PRG(1035) Warning W0027  Meaningless use of expression 'String'
CRMAIN.PRG(1837) Warning W0027  Meaningless use of expression 'Logical'
CRAUX2.PRG(78) Warning W0027  Meaningless use of expression 'Logical'
CRAUX2.PRG(465) Warning W0027  Meaningless use of expression 'String'
PROCESS.PRG(1497) Warning W0027  Meaningless use of expression 'String'
PROCESS.PRG(1510) Warning W0027  Meaningless use of expression 'String'
Phone.prg(5) Warning W0027  Meaningless use of expression 'String'

Turns out, these were not meaningless.  They were in EVAL lines of code
where the "useless" value was needed to get the oGet stuff to work
properly.  An example of a line of code:

Valid !lGiftCard .and. (lNegPrice .or. !CRPrice<0) .and.
iif(lNew.and.CRPrice#0,Eval({||SpecialPrice:=.t.,SetPrice:=SpecialPrice,.t.}),.t.)

As soon as I take out the "Meaningless" val, the warning stops when
compiling, but our .PRG hangs when the getReader() function is called and
breaks.

Maybe this could be considered a bug in Harbour, where it is warning me for
no reason?

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100208/abf20015/attachment.html
From harbour.01 at syenar.hu  Mon Feb  8 17:03:52 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb  8 17:04:04 2010
Subject: [Harbour] oGet problems solved... because Harbour was Warning me
	for no reason!
In-Reply-To: <674e4ddd1002081355u559b0e60gccb9105e571376fc@mail.gmail.com>
References: <674e4ddd1002081355u559b0e60gccb9105e571376fc@mail.gmail.com>
Message-ID: <FAF491E2-FBB2-4554-98C3-B2CADAB339B0@syenar.hu>

Hi,

I'd suggest to take a look at .ppo file generated, as I'm 
100% sure that the meaningless expression is not wrong. 
Maybe you need to code it differently to avoid it. Or, 
just turn off warnings, if that's not an option.

From personal experience it's sometimes difficult to 
see why compiler warns, but so far it was right on all 
cases.

Brgds,
Viktor

On 2010 Feb 8, at 22:55, smu johnson wrote:

> Dear Harbour,
> 
> I have solved the whole oGet problems I was having, referenced by both of the URLs below of the mailing list.
> 
> http://lists.harbour-project.org/pipermail/harbour/2010-February/031851.html
> http://lists.harbour-project.org/pipermail/harbour-users/2010-February/000314.html
> 
> The problem was Harbour was Warning me about useless vals.
> 
> 3:28 PM 2/5/2010
> GL.PRG(419) Warning W0027  Meaningless use of expression 'String'
> GL2.PRG(1460) Warning W0027  Meaningless use of expression 'String'
> GL2.PRG(1469) Warning W0027  Meaningless use of expression 'String'
> DATPROMO.PRG(10) Warning W0027  Meaningless use of expression 'String'
> ORDERS.PRG(794) Warning W0027  Meaningless use of expression 'Logical'
> ORDERS.PRG(2034) Warning W0027  Meaningless use of expression 'Logical'
> RECONCIL.PRG(1029) Warning W0027  Meaningless use of expression 'String'
> RECONCIL.PRG(1035) Warning W0027  Meaningless use of expression 'String'
> CRMAIN.PRG(1837) Warning W0027  Meaningless use of expression 'Logical'
> CRAUX2.PRG(78) Warning W0027  Meaningless use of expression 'Logical'
> CRAUX2.PRG(465) Warning W0027  Meaningless use of expression 'String'
> PROCESS.PRG(1497) Warning W0027  Meaningless use of expression 'String'
> PROCESS.PRG(1510) Warning W0027  Meaningless use of expression 'String'
> Phone.prg(5) Warning W0027  Meaningless use of expression 'String'
> 
> Turns out, these were not meaningless.  They were in EVAL lines of code where the "useless" value was needed to get the oGet stuff to work properly.  An example of a line of code:
> 
> Valid !lGiftCard .and. (lNegPrice .or. !CRPrice<0) .and. iif(lNew.and.CRPrice#0,Eval({||SpecialPrice:=.t.,SetPrice:=SpecialPrice,.t.}),.t.)
> 
> As soon as I take out the "Meaningless" val, the warning stops when compiling, but our .PRG hangs when the getReader() function is called and breaks.
> 
> Maybe this could be considered a bug in Harbour, where it is warning me for no reason?
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Mon Feb  8 17:12:01 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb  8 17:12:11 2010
Subject: [Harbour] oGet problems solved... because Harbour was Warning me 
	for no reason!
In-Reply-To: <FAF491E2-FBB2-4554-98C3-B2CADAB339B0@syenar.hu>
References: <674e4ddd1002081355u559b0e60gccb9105e571376fc@mail.gmail.com>
	<FAF491E2-FBB2-4554-98C3-B2CADAB339B0@syenar.hu>
Message-ID: <674e4ddd1002081412n6154ecc7jcb210bb08d2419f0@mail.gmail.com>

Well... all I know is that upon making the Warning "come back" we don't get
a conditional BASE/ error.  I just thought I'd pass it along, if anyone
cares to look into it.

The warnings don't really bother us really, so we don't mind seeing them if
nothing needs to be changed in this regard with Harbour warning messages.

Keep up the great work!!

On Mon, Feb 8, 2010 at 2:03 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Hi,
>
> I'd suggest to take a look at .ppo file generated, as I'm
> 100% sure that the meaningless expression is not wrong.
> Maybe you need to code it differently to avoid it. Or,
> just turn off warnings, if that's not an option.
>
> From personal experience it's sometimes difficult to
> see why compiler warns, but so far it was right on all
> cases.
>
> Brgds,
> Viktor
>
> On 2010 Feb 8, at 22:55, smu johnson wrote:
>
> > Dear Harbour,
> >
> > I have solved the whole oGet problems I was having, referenced by both of
> the URLs below of the mailing list.
> >
> >
> http://lists.harbour-project.org/pipermail/harbour/2010-February/031851.html
> >
> http://lists.harbour-project.org/pipermail/harbour-users/2010-February/000314.html
> >
> > The problem was Harbour was Warning me about useless vals.
> >
> > 3:28 PM 2/5/2010
> > GL.PRG(419) Warning W0027  Meaningless use of expression 'String'
> > GL2.PRG(1460) Warning W0027  Meaningless use of expression 'String'
> > GL2.PRG(1469) Warning W0027  Meaningless use of expression 'String'
> > DATPROMO.PRG(10) Warning W0027  Meaningless use of expression 'String'
> > ORDERS.PRG(794) Warning W0027  Meaningless use of expression 'Logical'
> > ORDERS.PRG(2034) Warning W0027  Meaningless use of expression 'Logical'
> > RECONCIL.PRG(1029) Warning W0027  Meaningless use of expression 'String'
> > RECONCIL.PRG(1035) Warning W0027  Meaningless use of expression 'String'
> > CRMAIN.PRG(1837) Warning W0027  Meaningless use of expression 'Logical'
> > CRAUX2.PRG(78) Warning W0027  Meaningless use of expression 'Logical'
> > CRAUX2.PRG(465) Warning W0027  Meaningless use of expression 'String'
> > PROCESS.PRG(1497) Warning W0027  Meaningless use of expression 'String'
> > PROCESS.PRG(1510) Warning W0027  Meaningless use of expression 'String'
> > Phone.prg(5) Warning W0027  Meaningless use of expression 'String'
> >
> > Turns out, these were not meaningless.  They were in EVAL lines of code
> where the "useless" value was needed to get the oGet stuff to work properly.
>  An example of a line of code:
> >
> > Valid !lGiftCard .and. (lNegPrice .or. !CRPrice<0) .and.
> iif(lNew.and.CRPrice#0,Eval({||SpecialPrice:=.t.,SetPrice:=SpecialPrice,.t.}),.t.)
> >
> > As soon as I take out the "Meaningless" val, the warning stops when
> compiling, but our .PRG hangs when the getReader() function is called and
> breaks.
> >
> > Maybe this could be considered a bug in Harbour, where it is warning me
> for no reason?
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100208/06ef6949/attachment.html
From vszakats at users.sourceforge.net  Mon Feb  8 17:19:17 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 17:19:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13819] trunk/harbour
Message-ID: <E1Nebwr-00051W-R9@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13819
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13819&view=rev
Author:   vszakats
Date:     2010-02-08 22:19:16 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-08 23:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwin/gtwin.c
  * include/hbrddcdx.h
  * contrib/hbct/screen2.c
  * contrib/hbct/ct.h
  * contrib/xhb/freadlin.c
  * contrib/gtwvg/gtwvg.h
    ! Cleaned remaining legacy types after verification with grep script.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/hbct/ct.h
    trunk/harbour/contrib/hbct/screen2.c
    trunk/harbour/contrib/xhb/freadlin.c
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Feb  8 17:53:19 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb  8 17:53:27 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
Message-ID: <20100208225319.GA31329@linux-4bod.home.aster.pl>

On Mon, 08 Feb 2010, 2D Info - Leandro Damasio wrote:

Hi,

> I don't know if I reach the point you are talking about, but in the
> xHarbour scenario I mentioned before apparently it wasn't needed to
> resolve all the references to any functions statically linked to the
> host executable, because these references were intended to be
> resolved in runtime.
> Inside hb_vmRegisterSymbols we inserted a hack to resolve the
> undefined references both in the DLL and in the host aplication: if
> the symbol in the DLL had an unresolved pointer (????DEAD address),
> we searched for its name in the host symbol table and replaced the
> DEAD pointer for a resolved one, and when the symbol was resolved in
> the DLL but not in the host symbol table we fixed its address in the
> host symbol table, replacind the DEAD address for the DLL resolved
> address. IOW, if the same symbol was in the DLL and in the host and
> was undefined in one of them, we fixed it, otherwise, we let go.
> 
> Does it make sense to you? Does this already apply to Harbour?

I know what you did and why. The same will work also in Harbour
if you use exactly the same C compiler and linker. Anyhow it's
really dirty hack and the worse thing you could do.
Believe me do if you would know all internal details of such
hack with all possible problems and how many things might break
final binaries then you never used such method.
The clean method to not create such bindings which later you
are trying to overload at link time is using DYNAMIC declaration
in .prg code but before you will use it you should understand how
it really works.

Please forget about everything what you have done so far and start
with clean mind ;-)
BTW xHarbour users can also read it because most of things below
are also valid for this compiler.

Let's consider on MinGW only. Other C compilers are very similar
but they cannot use .DLL libraries directly and need import libraries
so such library have to be created together with PCODE DLLs using
-implib hbmk2 option.

1. Main application is linked in shared mode with harbour*-dll using
   -shared hbmk2 switch. It is suggested method to use PCODE DLL.
   In such case everything is trivial and works out of the box
   without any hacks and modifications in the code. i.e.:

      /*** dllcode.prg ***/
      proc MY_PROC()
         ? PROCNAME() + ": hello !!!"
      return
      init proc start
         ? "INIT PROC", PROCNAME()
      return
      exit proc end
         ? "EXIT PROC", PROCNAME()
      return

      /*** maincode.prg ***/
      proc main()
         ? "start"
         my_proc()
         ? "end"
         ?
      return

   to create PCODE dll simply use:

      hbmk2 -shared -strip -hbdyn dllcode.prg -n -w -es2

   and dllcode.dll is generated, if you are using other then MinGW C
   compiler then you should add -cflag=-DHB_DYNLIB (to force exporting
   public functions inside .prg code - only MinGW supports auto export
   feature) and -implib switches (to create import library - only MinGW
   supports direct DLL usage by linker),
   to compile and link final application use:

      hbmk2 -shared -strip -L. -ldllcode maincode.prg -n -w -es2

   Please note that both DLL and final code are linked with harbour*.dll
   (-shared switch) and to link final application I added -L. and -ldllcode
   so linker was able to find dllcode.dll in current directory and MY_PROC()
   function inside.

   As you can see all works without any problems and you do not need any
   tricks and/or hacks and/or additional code. You do not have to even touch
   original code.

   It's possible because linker was able to cleanly resolve all references
   at link time. No manual hacks which can only cause unexpected crash.
   In this version code inside PCODE DLL can access all Harbour exported
   functions (in case of MinGW all public functions when automatic export
   feature is enabled).

2. Main application is linked in shared mode with harbour*-dll using
   -shared hbmk2 switch but PCODE dll is not linked statically at link
   time but rather loaded dynamically by HB_LIBLOAD().

      /*** dllcode.prg ***/
      DYNAMIC QOUT, PROCNAME  // added to inform compiler and linker that
                              // references to above functions have to be
                              // resolved dynamically at runtime
      proc MY_PROC()
         ? PROCNAME() + ": hello !!!"
      return
      init proc start
         ? "INIT PROC", PROCNAME()
      return
      exit proc end
         ? "EXIT PROC", PROCNAME()
      return

      /*** maincode.prg ***/
      DYNAMIC MY_PROC   // declare functions from dynamically loaded DLLs
                        // as DYNAMIC
      proc main()
         local hLib
         ? "start"
         hLib := hb_libload( "dllcode" )
         if empty( hLib )
            ? "Cannot load library."
         else
            my_proc()
            hb_libfree( hLib )
         endif
         ? "end"
         ?
      return

   to create PCODE dll use:

      hbmk2 -nohblib -strip -hbdyn -lhbmaindllp dllcode.prg -n -w -es2

   please note that I added hbmaindllp which is linked with final PCODE
   DLL binaries and used -nohblib to not link any harbour libraries.
   With this switch I'm sure that I do not link the same core code twice
   with PCODE DLL and with final binaries and if I forget to declare some
   functions as DYNAMIC then I will have link time error so I can easy
   add missing declarations.
   To compile and link final application use:

      hbmk2 -shared -strip maincode.prg -n -w -es2

   Please note that in this version I haven't added -ldllcode because
   now it will be loaded dynamically by hb_libload() and linker does
   not have to know about it.
   And that's all. You can test maincode.exe to see how it works.
   This version needs to declare functions called from external modules
   as DYNAMIC to inform compiler and linker that they are bound dynamically
   at runtime so it should not create any static references and special
   code from hbmaindllp linked with PCODE DLL.
   But as you can see it also does not need any link time hacks.
   All can be compiled and linked cleanly without even single warning.
   If you have big application with a lot of functions in the core
   part and you want to use them in PCODE DLLs then you can make your
   life easier and automatically generate .ch file with all such
   functions using this code in your main application:

      #if 1    // uncomment it for tests */
         proc main()
            genFuncList()
         return
      #endif

      proc genFuncList()
         local aFunc, hFile
         aFunc := getFuncList()
         asort( aFunc )
         hFile := fcreate("dynamic.ch")
         aeval( aFunc, {|x| fwrite( hFile, "DYNAMIC " + x + hb_osNewLine() ) } )
         fclose( hFile )
      return

      func getFuncList()
         local aFunc, nCount := __dynsCount(), nDst:=0, n
         aFunc := array( nCount )
         for n := 1 to nCount
            if __dynsIsFun( n )
               aFunc[ ++nDst ] := __dynsGetName( n )
            endif
         next
         asize( aFunc, nDst )
      return aFunc

   It generates "dynamic.ch" file with DYNAMIC declaration for all
   functions registered in HVM. Then in your .prg files used to create
   PCODE DLLs you can simply add:
      #include "dynamic.ch"
   and you will not have to declare them manually.

3. Main application is linked in static mode with harbour static libraries
   and PCODE DLL is linked statically just like in point 1.
   Such version needs Harbour static libraries compiled with -DHB_DYNLIB
   so if you want to use it then you have to recompile Harbour core code
   using:
      set HB_USER_CFLAGS=-DHB_DYNLIB
   This condition can be eliminated by adding small extenssion to existing
   core code and HBMK2.

   The test code is the same as in point 1 above.

   to create PCODE dll use:

      hbmk2 -nohblib -strip -hbdyn -lhbmaindllp -cflag=-DHB_DYNLIB \
            dllcode.prg -n -w -es2
   Now -cflag=-DHB_DYNLIB is necessary also for MinGW because using
   hbmaindll disables auto export feature in MinGW.
   To compile and link final application use:

      hbmk2 -static -strip -L. -ldllcode maincode.prg -n -w -es2

   and that's all. Please only remember to recompile Harbour to
   create HVM lib which exports hb_vmExecute() and hb_vmPorcessSymbols()
   or the final binaries will not work. You will see only
      start
      end
   messages on the screen.

4. Main application is linked in static mode with harbour static libraries
   but PCODE dll is not linked statically at link time but rather loaded
   dynamically by HB_LIBLOAD() just like in point 2.
   Such version also needs Harbour static libraries compiled with
   -DHB_DYNLIB - see point 3 for above.

   The test code is the same as in point 2.

   to create PCODE dll use:

      hbmk2 -nohblib -strip -hbdyn -lhbmaindllp -cflag=-DHB_DYNLIB \
            dllcode.prg -n -w -es2

   to compile and link final application use:

      hbmk2 -static -strip maincode.prg -n -w -es2

   and that's all.

> It seems to work like this using Blinker, and it offered yet the
> option to replace or not to replace a doubly defined symbol when
> loading the DLL, but we couldn't implement it unfortunatelly.

Forget about link time function overloading. Modern C compilers
can inline code at different levels, i.e. during compilation and
in such case it's not possible to decompile compiled modules,
cleanly extract the code and insert different one in the same
place. In general such operation is forbidden and modern compiler
reports it as link time error.

> That is not my case of use - we use harbour self contained
> executable + pCode dll.

See versions 3 and 4 in above description.

> In xHarbour 0.9 it seems that hb_vmProcessSymbols and hb_vmExecute
> were declared inside maindllp.c but just as wrappers to
> (VM_DLL_EXECUTE) macro. Is this part of the same metodology you
> described?

They are declared in [hb]maindllp in all versions of Harbour and
[x]Harbour but these are only wrappers to real functions. MAINDLLP
is nothing more then manually written import library. It can work
_ONLY_ when corresponding symbols in harbour*.dll or in main EXE file
are exproted so they are visible for GetProcAddress() function.

If you are using statically linked application then it's necessary
to recompile Harbour using with HB_DYNLIB macro to force exporting
hb_vmProcessSymbols() and hb_vmExecute() functions. You can make it
by setting HB_USER_CFLAGS envvar, i.e.:

   set HB_USER_CFLAGS=-DHB_DYNLIB

before compiling harbour code.
As I wrote above it's possible to eliminate this condition by
small modification in HVM library and hbmk2.

In xHarbour it is __EXPORT__ macro and C_USR envvar though in recent
version some symbols are always exported but it disables auto export
functionality so it does not work in xHarbour MinGW builds.

> >We still do not support HRL (libraries for HRB files what in
> >some cases can seriously reduce HRB functionality) anyhow HRB
> >is portable and always preferred format which has also many
> >features which are not available for DLLs.
> This HRL support could eliminate the need to use DLLs in my case. Is
> it planned to be done? How would it reduce HRB funcionality?

It's possible but if you haven't used HRB so far then it's
big chance that you haven't understood me correctly and you
are asking for sth what you do not know how to use. DLL does
not have such functionality so if you lived without it so far
then I do not understand why you need it to migrate from DLL
to HRB. I think that you should try to use HRB files 1-st.

Please note that you can store them anywhere. I.e. in your
own ZIP file or some other compressed file which you can
automatically decompress and load at runtime. I.e. use this
tool to collect all HRB files in current directory into
single mylib.dat file:

   proc main()
      local aFiles, file
      aFiles := directory( "*.hrb" )
      for each file in aFiles
         file := hb_memoread( file[ 1 ] )
      next
      hb_memowrit( "mylib.dat", hb_zCompress( hb_serialize( aFiles ) ) )
   return

and then load it at runtime using this function:

   func loadmylib( cFile )
      local cBody, aHRB, hrb
      cBody := hb_memoread( cFile )
      if !empty( cFile )
         aHRB := hb_deserialize( hb_zUncompress( cBody ) )
         for each hrb in aHRB
            hrb := hb_hrbLoad( hrb )
         next
      endif
   return aHRB

Please remember that it returns array with handles to HRB files.
When this array is destroyed then all loaded HRB files are automatically
unloaded so you should store it some variable as long as you need them
Then it's enough to assign NIL to this variable to force automatic
unloading. Of course you can extend above code and add some error
checking, password encryption, etc. All of the above can be done
in few lines using Harbour core functions.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Feb  8 18:09:57 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb  8 18:10:07 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <F93B457A-9ED7-4BA3-AAF2-2416BF0ABFDD@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<27046773-D8B5-4FDB-95AA-FAEBB12F046B@syenar.hu>
	<20100208195922.GA30749@linux-4bod.home.aster.pl>
	<F93B457A-9ED7-4BA3-AAF2-2416BF0ABFDD@syenar.hu>
Message-ID: <20100208230957.GB31329@linux-4bod.home.aster.pl>

On Mon, 08 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> > Probably to make it easier for users we can add small option to hbmk2
> > which will attach to final code exported wrappers to hb_vmProcessSymbols()
> > and hb_vmExecute() or single function which can be used to extract
> > addresses of other functions so later it will be enough to extend
> > the list of pseudo exported symbols without touching hbmk2 code.
> > I can create such function.
> Okay we can do it. I'll also need a name proposal for 
> such hbmk2 option. Or maybe a new main switch instead of 
> -hbdyn (like -hbdynvm ?) which also turns on this extra 
> feature automatically, but a good name would be nice 
> even for this case.

Well, as usual names are the hardest part of modification.
It will be also good to add switch to replace -cflag=-DHB_DYNLIB
when .prg modules used for PCODE DLLs are compiled. See my other
message where I tried to more precisely describe how to create
and use PCODE DLLs in different combinations with examples.
I hope it makes it more clear for everybody.
It should also help us to agree the modifications in HBMK2 and
core code which allow to use PCODE DLLs with static hbvm library
which does not export any symbols. It will be easier for me to
explain what we should do when you read this text.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Feb  8 18:17:11 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 18:17:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13820] trunk/harbour
Message-ID: <E1Necqt-0000aN-4v@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13820
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13820&view=rev
Author:   vszakats
Date:     2010-02-08 23:17:09 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-09 00:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/pplib.c
  * src/common/hbprintf.c
  * src/rtl/gtclip.c
  * src/rdd/dbfntx/dbfntx1.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/dbffpt/dbffpt1.c
  * src/compiler/hbpcode.c
  * include/hbgtcore.h
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbtree/hb_btree.h
  * contrib/hbbtree/hb_btree.c
    ! Fixed remaining type conversion problems after doing
      live testing on win/bcc.
      Please test it on other platforms.

  * config/rules.mk
    + Enabled HB_LEGACY_TYPES_OFF on default Harbour
      builds. This is required to keep new type usage
      enforced.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbbtree/hb_btree.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/src/common/hbprintf.c
    trunk/harbour/src/compiler/hbpcode.c
    trunk/harbour/src/pp/pplib.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rtl/gtclip.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tech at 2dinfo.com.br  Mon Feb  8 19:25:16 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Mon Feb  8 18:26:10 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100208195922.GA30749@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><20100208141036.GA23098@linux-4bod.home.aster.pl><27046773-D8B5-4FDB-95AA-FAEBB12F046B@syenar.hu>
	<20100208195922.GA30749@linux-4bod.home.aster.pl>
Message-ID: <955DDC2356564EDD9901C6E230C6BB70@deskleo>

Hi Przemek

> I agree though I do not now if I'm right person to describe it
> in INSTALL. For shared binaries using harbour*.dll there is
> no problem at all and it's enough to link PCODE dll with harbour*.dll.
> The problem is only with binaries which have HVM linked with static
> part of application. In the previous message I forgot to write that
> also functions called in PRG code compiled to PCODE DLL creates
> dependencies so programmer should declare them using DYNAMIC clause.
> He can generate header file with all functions which are visible
> for core part of his application using this code:
>
>   #if 0    // uncomment it for tests */
>      proc main()
>         genFuncList()
>      return
>   #endif
>
>   proc genFuncList()
>      local aFunc, hFile
>      aFunc := getFuncList()
>      asort( aFunc )
>      hFile := fcreate("dynamic.ch")
>      aeval( aFunc, {|x| fwrite( hFile, "DYNAMIC " + x + 
> hb_osNewLine() ) } )
>      fclose( hFile )
>   return
>
>   func getFuncList()
>      local aFunc, nCount := __dynsCount(), nDst:=0, n
>      aFunc := array( nCount )
>      for n := 1 to nCount
>         if __dynsIsFun( n )
>            aFunc[ ++nDst ] := __dynsGetName( n )
>         endif
>      next
>      asize( aFunc, nDst )
>   return aFunc
>
> and then simply #include it in .prg files compiled and linked into
> PCODE dlls.

Maybe I misunderstood your tip, but the big problem we have here is that the 
names of the functions that will be called from the DLL are not known by the 
"host" application before run time. We load the DLL, then we call a known 
function (via macro evaluation) to get some info about the content of the 
DLL and based on this info we fill the macros that result in the dll 
functions names. So it's fundamental in this case that the unresolved 
references from dll to the app and vice-versa can be resolved in run time, 
the same way as blinker dlls load to clipper apps, with no need to declare 
the dynamic symbols in the static part prg's.

>> Now the only thing I'm still interested in, is what
>> are the advantage of pcode-.dlls over .hrb files?
>> [ I can only cite inclusion of .c functions. ]
>
> Yes, mixed PRG and C code is probably the only one real feature.
> Probably it's mostly important for 3-rd party extensions which can
> be distributed as single DLL. For .prg code only HRB files seem to
> be much better solution though support for HRL files with optional
> conversion of all internal bindings to static when HRL is loaded
> will make it even more flexible for big projects.

If we could have collections of hrb modules libbed inside one single file 
that could be loaded and unloaded dinamically there would be no need of 
using plataform dependant dlls for harbour code. Tha would be just perfect.

Thanks Przemek

Best regards
Leandro

 

From harbour.01 at syenar.hu  Mon Feb  8 18:27:12 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb  8 18:27:22 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100208225319.GA31329@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
Message-ID: <328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>

Hi Przemek,

>   to create PCODE dll simply use:
> 
>      hbmk2 -shared -strip -hbdyn dllcode.prg -n -w -es2
> 
>   and dllcode.dll is generated, if you are using other then MinGW C
>   compiler then you should add -cflag=-DHB_DYNLIB (to force exporting
>   public functions inside .prg code - only MinGW supports auto export
>   feature) and -implib switches (to create import library - only MinGW
>   supports direct DLL usage by linker),

Minor note: -cflag=-DHB_DYNLIB is automatically enabled for non-mingw 
compilers when -hbdyn is used, so it's not necessary to add it manually.

I believe the rest of this nice description should definitely go into 
doc/pcodedll.txt. You can even commit as is.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Feb  8 18:42:56 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 18:43:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13821] trunk/harbour
Message-ID: <E1NedFo-00010S-Di@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13821
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13821&view=rev
Author:   vszakats
Date:     2010-02-08 23:42:55 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-09 00:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.ch
    + HB_LEGACY_OFF will also enable HB_LEGACY_TYPES_OFF.

  * contrib/hbfimage/Makefile
  * contrib/hbfimage/fi_winfu.c
  * contrib/hbfimage/fi_wrp.c
    + Forcing HB_LEGACY_TYPES_OFF.
    + Switched to new regular kind of windows.h inclusion.
    + Enabled for *nix platforms. Now it should build w/o problems.

    ; New regular windows.h inclusion goes as follows:
      ---
      /* After #include "hbapi.h", write this: */
      #if defined( HB_OS_WIN )
         #include <windows.h> /* or any other Windows API header you may need, in any valid order or combination. */
      #endif
      ---

      Old hacky method can now be safely deleted:
        '#define HB_OS_WIN_USED' and/or
        '#define HB_OS_WIN32_USED'

  * contrib/hbbtree/hb_btree.c
    ! Cleaned '{};' to be '{}' after prev cleanup (';' -> '{};')

  * doc/whatsnew.txt
    + Added section for version 2.1.0.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/include/hbsetup.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  8 18:44:31 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 18:44:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13822] trunk/harbour
Message-ID: <E1NedHL-00011v-VK@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13822
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13822&view=rev
Author:   vszakats
Date:     2010-02-08 23:44:30 +0000 (Mon, 08 Feb 2010)

Log Message:
-----------
2010-02-09 00:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbfimage/Makefile
    - No more relevant comment deleted.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tech at 2dinfo.com.br  Mon Feb  8 20:07:19 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Mon Feb  8 19:08:15 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100208225319.GA31329@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><20100208141036.GA23098@linux-4bod.home.aster.pl><D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
Message-ID: <217C56499B304AB8A6AA547600ACB085@deskleo>

Hi Przemek!

> I know what you did and why. The same will work also in Harbour
> if you use exactly the same C compiler and linker. Anyhow it's
> really dirty hack and the worse thing you could do.
> Believe me do if you would know all internal details of such
> hack with all possible problems and how many things might break
> final binaries then you never used such method.
> The clean method to not create such bindings which later you
> are trying to overload at link time is using DYNAMIC declaration
> in .prg code but before you will use it you should understand how
> it really works.
>
> Please forget about everything what you have done so far and start
> with clean mind ;-)

No problem. AFAIK this aproach uses to give good results!

> BTW xHarbour users can also read it because most of things below
> are also valid for this compiler.
>
> Let's consider on MinGW only. Other C compilers are very similar
> but they cannot use .DLL libraries directly and need import libraries
> so such library have to be created together with PCODE DLLs using
> -implib hbmk2 option.
>
> 1. Main application is linked in shared mode with harbour*-dll using
>   -shared hbmk2 switch. It is suggested method to use PCODE DLL.
>   In such case everything is trivial and works out of the box
>   without any hacks and modifications in the code. i.e.:
>
>      /*** dllcode.prg ***/
>      proc MY_PROC()
>         ? PROCNAME() + ": hello !!!"
>      return
>      init proc start
>         ? "INIT PROC", PROCNAME()
>      return
>      exit proc end
>         ? "EXIT PROC", PROCNAME()
>      return
>
>      /*** maincode.prg ***/
>      proc main()
>         ? "start"
>         my_proc()
>         ? "end"
>         ?
>      return
>
>   to create PCODE dll simply use:
>
>      hbmk2 -shared -strip -hbdyn dllcode.prg -n -w -es2
>
>   and dllcode.dll is generated, if you are using other then MinGW C
>   compiler then you should add -cflag=-DHB_DYNLIB (to force exporting
>   public functions inside .prg code - only MinGW supports auto export
>   feature) and -implib switches (to create import library - only MinGW
>   supports direct DLL usage by linker),
>   to compile and link final application use:
>
>      hbmk2 -shared -strip -L. -ldllcode maincode.prg -n -w -es2
>
>   Please note that both DLL and final code are linked with harbour*.dll
>   (-shared switch) and to link final application I added -L. and -ldllcode
>   so linker was able to find dllcode.dll in current directory and 
> MY_PROC()
>   function inside.
>
>   As you can see all works without any problems and you do not need any
>   tricks and/or hacks and/or additional code. You do not have to even 
> touch
>   original code.
>
>   It's possible because linker was able to cleanly resolve all references
>   at link time. No manual hacks which can only cause unexpected crash.
>   In this version code inside PCODE DLL can access all Harbour exported
>   functions (in case of MinGW all public functions when automatic export
>   feature is enabled).
>
> 2. Main application is linked in shared mode with harbour*-dll using
>   -shared hbmk2 switch but PCODE dll is not linked statically at link
>   time but rather loaded dynamically by HB_LIBLOAD().
>
>      /*** dllcode.prg ***/
>      DYNAMIC QOUT, PROCNAME  // added to inform compiler and linker that
>                              // references to above functions have to be
>                              // resolved dynamically at runtime
>      proc MY_PROC()
>         ? PROCNAME() + ": hello !!!"
>      return
>      init proc start
>         ? "INIT PROC", PROCNAME()
>      return
>      exit proc end
>         ? "EXIT PROC", PROCNAME()
>      return
>
>      /*** maincode.prg ***/
>      DYNAMIC MY_PROC   // declare functions from dynamically loaded DLLs
>                        // as DYNAMIC
>      proc main()
>         local hLib
>         ? "start"
>         hLib := hb_libload( "dllcode" )
>         if empty( hLib )
>            ? "Cannot load library."
>         else
>            my_proc()
>            hb_libfree( hLib )
>         endif
>         ? "end"
>         ?
>      return
>
>   to create PCODE dll use:
>
>      hbmk2 -nohblib -strip -hbdyn -lhbmaindllp dllcode.prg -n -w -es2
>
>   please note that I added hbmaindllp which is linked with final PCODE
>   DLL binaries and used -nohblib to not link any harbour libraries.
>   With this switch I'm sure that I do not link the same core code twice
>   with PCODE DLL and with final binaries and if I forget to declare some
>   functions as DYNAMIC then I will have link time error so I can easy
>   add missing declarations.
>   To compile and link final application use:
>
>      hbmk2 -shared -strip maincode.prg -n -w -es2
>
>   Please note that in this version I haven't added -ldllcode because
>   now it will be loaded dynamically by hb_libload() and linker does
>   not have to know about it.
>   And that's all. You can test maincode.exe to see how it works.
>   This version needs to declare functions called from external modules
>   as DYNAMIC to inform compiler and linker that they are bound dynamically
>   at runtime so it should not create any static references and special
>   code from hbmaindllp linked with PCODE DLL.
>   But as you can see it also does not need any link time hacks.
>   All can be compiled and linked cleanly without even single warning.
>   If you have big application with a lot of functions in the core
>   part and you want to use them in PCODE DLLs then you can make your
>   life easier and automatically generate .ch file with all such
>   functions using this code in your main application:
>
>      #if 1    // uncomment it for tests */
>         proc main()
>            genFuncList()
>         return
>      #endif
>
>      proc genFuncList()
>         local aFunc, hFile
>         aFunc := getFuncList()
>         asort( aFunc )
>         hFile := fcreate("dynamic.ch")
>         aeval( aFunc, {|x| fwrite( hFile, "DYNAMIC " + x + 
> hb_osNewLine() ) } )
>         fclose( hFile )
>      return
>
>      func getFuncList()
>         local aFunc, nCount := __dynsCount(), nDst:=0, n
>         aFunc := array( nCount )
>         for n := 1 to nCount
>            if __dynsIsFun( n )
>               aFunc[ ++nDst ] := __dynsGetName( n )
>            endif
>         next
>         asize( aFunc, nDst )
>      return aFunc
>
>   It generates "dynamic.ch" file with DYNAMIC declaration for all
>   functions registered in HVM. Then in your .prg files used to create
>   PCODE DLLs you can simply add:
>      #include "dynamic.ch"
>   and you will not have to declare them manually.
>
> 3. Main application is linked in static mode with harbour static libraries
>   and PCODE DLL is linked statically just like in point 1.
>   Such version needs Harbour static libraries compiled with -DHB_DYNLIB
>   so if you want to use it then you have to recompile Harbour core code
>   using:
>      set HB_USER_CFLAGS=-DHB_DYNLIB
>   This condition can be eliminated by adding small extenssion to existing
>   core code and HBMK2.
>
>   The test code is the same as in point 1 above.
>
>   to create PCODE dll use:
>
>      hbmk2 -nohblib -strip -hbdyn -lhbmaindllp -cflag=-DHB_DYNLIB \
>            dllcode.prg -n -w -es2
>   Now -cflag=-DHB_DYNLIB is necessary also for MinGW because using
>   hbmaindll disables auto export feature in MinGW.
>   To compile and link final application use:
>
>      hbmk2 -static -strip -L. -ldllcode maincode.prg -n -w -es2
>
>   and that's all. Please only remember to recompile Harbour to
>   create HVM lib which exports hb_vmExecute() and hb_vmPorcessSymbols()
>   or the final binaries will not work. You will see only
>      start
>      end
>   messages on the screen.
>
> 4. Main application is linked in static mode with harbour static libraries
>   but PCODE dll is not linked statically at link time but rather loaded
>   dynamically by HB_LIBLOAD() just like in point 2.
>   Such version also needs Harbour static libraries compiled with
>   -DHB_DYNLIB - see point 3 for above.
>
>   The test code is the same as in point 2.
>
>   to create PCODE dll use:
>
>      hbmk2 -nohblib -strip -hbdyn -lhbmaindllp -cflag=-DHB_DYNLIB \
>            dllcode.prg -n -w -es2
>
>   to compile and link final application use:
>
>      hbmk2 -static -strip maincode.prg -n -w -es2
>
>   and that's all.
>

Yes, that case seems to fit exactly what I need!
I'll surelly try that.

>> It seems to work like this using Blinker, and it offered yet the
>> option to replace or not to replace a doubly defined symbol when
>> loading the DLL, but we couldn't implement it unfortunatelly.
>
> Forget about link time function overloading. Modern C compilers
> can inline code at different levels, i.e. during compilation and
> in such case it's not possible to decompile compiled modules,
> cleanly extract the code and insert different one in the same
> place. In general such operation is forbidden and modern compiler
> reports it as link time error.
>

ok

>> That is not my case of use - we use harbour self contained
>> executable + pCode dll.
>
> See versions 3 and 4 in above description.
>
>> In xHarbour 0.9 it seems that hb_vmProcessSymbols and hb_vmExecute
>> were declared inside maindllp.c but just as wrappers to
>> (VM_DLL_EXECUTE) macro. Is this part of the same metodology you
>> described?
>
> They are declared in [hb]maindllp in all versions of Harbour and
> [x]Harbour but these are only wrappers to real functions. MAINDLLP
> is nothing more then manually written import library. It can work
> _ONLY_ when corresponding symbols in harbour*.dll or in main EXE file
> are exproted so they are visible for GetProcAddress() function.

I see.

> If you are using statically linked application then it's necessary
> to recompile Harbour using with HB_DYNLIB macro to force exporting
> hb_vmProcessSymbols() and hb_vmExecute() functions. You can make it
> by setting HB_USER_CFLAGS envvar, i.e.:
>
>   set HB_USER_CFLAGS=-DHB_DYNLIB
>
> before compiling harbour code.
> As I wrote above it's possible to eliminate this condition by
> small modification in HVM library and hbmk2.
>

ok. I'll do that.

> In xHarbour it is __EXPORT__ macro and C_USR envvar though in recent
> version some symbols are always exported but it disables auto export
> functionality so it does not work in xHarbour MinGW builds.
>
>> >We still do not support HRL (libraries for HRB files what in
>> >some cases can seriously reduce HRB functionality) anyhow HRB
>> >is portable and always preferred format which has also many
>> >features which are not available for DLLs.
>> This HRL support could eliminate the need to use DLLs in my case. Is
>> it planned to be done? How would it reduce HRB funcionality?
>
> It's possible but if you haven't used HRB so far then it's
> big chance that you haven't understood me correctly and you
> are asking for sth what you do not know how to use. DLL does
> not have such functionality so if you lived without it so far
> then I do not understand why you need it to migrate from DLL
> to HRB. I think that you should try to use HRB files 1-st.
>

As you said , I really never used HRB modules and I assumed that HRL files 
would be a loadable library of compiled prg modules. Did I assume wrong?

> Please note that you can store them anywhere. I.e. in your
> own ZIP file or some other compressed file which you can
> automatically decompress and load at runtime. I.e. use this
> tool to collect all HRB files in current directory into
> single mylib.dat file:
>
>   proc main()
>      local aFiles, file
>      aFiles := directory( "*.hrb" )
>      for each file in aFiles
>         file := hb_memoread( file[ 1 ] )
>      next
>      hb_memowrit( "mylib.dat", hb_zCompress( hb_serialize( aFiles ) ) )
>   return
>
> and then load it at runtime using this function:
>
>   func loadmylib( cFile )
>      local cBody, aHRB, hrb
>      cBody := hb_memoread( cFile )
>      if !empty( cFile )
>         aHRB := hb_deserialize( hb_zUncompress( cBody ) )
>         for each hrb in aHRB
>            hrb := hb_hrbLoad( hrb )
>         next
>      endif
>   return aHRB
>

Yes. I think I would need something like that to work with hrb modules.

> Please remember that it returns array with handles to HRB files.
> When this array is destroyed then all loaded HRB files are automatically
> unloaded so you should store it some variable as long as you need them
> Then it's enough to assign NIL to this variable to force automatic
> unloading. Of course you can extend above code and add some error
> checking, password encryption, etc. All of the above can be done
> in few lines using Harbour core functions.

Great!

Thank you very very much Przemek!

Best regards
Leandro

 

From tech at 2dinfo.com.br  Mon Feb  8 20:11:15 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Mon Feb  8 19:12:09 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><20100208141036.GA23098@linux-4bod.home.aster.pl><D10B5CBD194247FEBB91A0E58212EA7F@deskleo><20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
Message-ID: <350B52DE5E78446494898E56E951CE40@deskleo>

Very good Viktor!
This text will be really very helpfull to many people!
Brgds
Leandro



--------------------------------------------------
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
Sent: Monday, February 08, 2010 8:27 PM
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Subject: Re: [Harbour] How to build and use pCode DLL with hbmk2

> Hi Przemek,
>
>>   to create PCODE dll simply use:
>>
>>      hbmk2 -shared -strip -hbdyn dllcode.prg -n -w -es2
>>
>>   and dllcode.dll is generated, if you are using other then MinGW C
>>   compiler then you should add -cflag=-DHB_DYNLIB (to force exporting
>>   public functions inside .prg code - only MinGW supports auto export
>>   feature) and -implib switches (to create import library - only MinGW
>>   supports direct DLL usage by linker),
>
> Minor note: -cflag=-DHB_DYNLIB is automatically enabled for non-mingw
> compilers when -hbdyn is used, so it's not necessary to add it manually.
>
> I believe the rest of this nice description should definitely go into
> doc/pcodedll.txt. You can even commit as is.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From vszakats at users.sourceforge.net  Mon Feb  8 20:13:27 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 20:13:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13823] trunk/harbour
Message-ID: <E1NeefP-00014O-Mt@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13823
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13823&view=rev
Author:   vszakats
Date:     2010-02-09 01:13:25 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-09 02:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/runner.c
  * src/vm/garbage.c
  * src/vm/classes.c
  * src/rtl/cdpapi.c
  * src/rtl/cdpapihb.c
  * src/rdd/dbcmd.c
  * include/hbapicdp.h
  * include/hbapiitm.h
  * include/hbextern.ch
  * include/hbdefs.h
  * include/hbsetup.h
  * include/hbapi.h
    - Deleted code guarded with (previously disabled) HB_LEGACY_LEVEL2

  * include/rdd.api
  * include/clipdefs.h
    + Permanently enabled HB_LEGACY_LEVEL2 related changes.

  * contrib/xhb/bkgtsks.c
    - Deleted HB_OS_WIN_USED. It wasn't used.

  * include/hbapi.h
  * src/vm/cmdarg.c
    * hb_winmainArgGet() changed to not use Windows types.
      This function is declared in hbapi.h and this header
      shouldn't depend on windows.h.

  * include/hbwince.h
  * include/hbsetup.h
    * HB_OS_HAS_DRIVE_LETTER is now configured in central
      place (hbsetup.h) for WinCE platform also.

  * include/hbwince.h
  * include/hbdefs.h
    * Windows (CE and not-CE) specific declarations moved from
      hbwince.h to hbdefs.h.

  * include/hbdefs.h
    % hbwince.h inclusion now better guarded to not include it
      for non WinCE platforms.
    + HB_OS_WIN_USED macro will now autodetected by checking
      whether windows.h was included before this header.
      This is required for hbwince.h. I don't like it, since
      hbapi.h still depends on windows.h for WinCE platform, 
      which still ties us to unnecessary windows.h inclusion 
      rules. Rather, hbwince.h should be included directly
      by .c files when needed and when HB_OS_WIN_CE is defined.
      After all this our little Windows API implementation 
      for compilers which need it.

  * include/hbdefs.h
  * include/hbwmain.c
    + hb_winmainArgInit() declaration moved to hbwmain.c, the
      only place where this is used.
    * Deleted HB_EXPORT from hb_winmainArgInit. Pls speak up if
      this is wrong. It's possible to move this back to hbdefs.h,
      but parameter types should be changed to ANSI ones.

  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.c
  * contrib/gtwvg/wvgcuig.c
  * contrib/gtwvg/wvggui.h
  * contrib/gtwvg/wvgwin.c
  * contrib/gtwvg/wvgutils.c
  * contrib/gtwvg/wvgcore.c
  * contrib/gtwvg/wvgwing.c
    - Deleted HB_OS_WIN_USED. Now it should work without it.
      windows.h was already included in non-official method, so
      it's now okay also.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvgcuig.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/contrib/xhb/bkgtsks.c
    trunk/harbour/include/clipdefs.h
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbextern.ch
    trunk/harbour/include/hbsetup.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/include/hbwmain.c
    trunk/harbour/include/rdd.api
    trunk/harbour/src/rdd/dbcmd.c
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/src/rtl/cdpapihb.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/cmdarg.c
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/src/vm/runner.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Feb  8 20:43:48 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb  8 20:43:55 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13824] trunk/harbour
Message-ID: <E1Nef8m-0001Zy-9y@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13824
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13824&view=rev
Author:   vouchcac
Date:     2010-02-09 01:43:47 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-08 17:16 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbp.ch
  * contrib/hbxbp/xbpparthandler.prg
  * contrib/hbxbp/xbpstatusbar.prg
  * contrib/hbxbp/xbptoolbar.prg
  * contrib/hbxbp/xbpwindow.prg
    ! Fixed a rare parent/child relation issue in XbpStatusBar()
      and XbpToolBar() classes.
    + Implemented Harbour extension:
        Method :hbLayout( HBPLAYOUT_TYPE_* )
           Currently HBPLAYOUT_TYPE_HORZBOX and
                     HBPLAYOUT_TYPE_VERTBOX are supported.
        This is essentially executed after :create().
        When executed class attemps to all children of 
        it to be laid accordingly, if some are already created.
        Any other Xbp part created with "this" object as parent,
        that is also laid appropriately.
       
        This reduces a lot of code writing.
        Example:
          oStatic := XbpStatic():new():create( oDlg,... )
          oStatic:hbLayout := HBPLAYOUT_TYPE_HORZBOX 
          oBtn  := XbpPushButton():new( oStatic ):create( ... )
          oBtn1 := XbpPushButton():new( oStatic ):create( ... )
          oBtn2 := XbpPushButton():new( oStatic ):create( ... )
             Then, these buttons will be nicely placed inside
             oStatic. No need to go for complex calculations.

  * contrib/hbxbp/tests/demoxbp.prg
    + Applied :hbLayout for :drawingArea and tabPages.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbp.ch
    trunk/harbour/contrib/hbxbp/xbpparthandler.prg
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Feb  8 21:45:06 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb  8 21:45:13 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13825] trunk/harbour
Message-ID: <E1Neg66-00044n-Si@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13825
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13825&view=rev
Author:   vouchcac
Date:     2010-02-09 02:45:05 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-08 18:44 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/ideobject.prg
    % More ground cover in preperation of multiple views.
      Just to versionize changes.

      ;NOTE: Unreleased memory blocks have reduced considerably
             after parent/child relations fix in prev commit.
             This implies that in sometime in near future, 
             memory issue is going to be the ghost of past.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/ideobject.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  8 21:58:55 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 21:59:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13826] trunk/harbour
Message-ID: <E1NegJT-0003k1-Nc@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13826
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13826&view=rev
Author:   vszakats
Date:     2010-02-09 02:58:53 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-09 03:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/Makefile
  * src/common/hbwince.c
  + src/common/hbwin.c
    ! Moved Windows UNICODE helper function into new source,
      leaving WinCE API local emulation into separate source file.

  * include/hbwince.h
    + Now automatically includes windows.h. (since it depends on it)

  * include/hbdefs.h
    - Deleted HB_OS_WIN_USED autodetection. Not needed anymore.
    ! Fixed to not include hbwince.h anymore. It should be included
      directly from source files, where needed.

  * include/hbdefs.h
  * contrib/hbodbc/odbc.c
  * contrib/rddsql/sddodbc/odbcdd.c
    + Always defining HB_TCHAR_*() macros. They will be dummies
      in non-Windows or non-UNICODE builds.

  * include/clipdefs.h
    ! Legacy Clipper types moved to the bottom, because it's
      no longer true that hbapi.h defines their dependent types
      (our legacy ones).

  * contrib/hbwin/win_bmpd.c
  * contrib/hbwin/wapi_wingdi.c
  * contrib/hbwin/win_misc.c
  * contrib/hbwin/wapi_winbase.c
  * contrib/hbwin/wapi_alloc.c
  * contrib/hbwin/wapi_winuser.c
  * contrib/hbwin/hbwin.h
  * contrib/hbwin/hbwinole.h
  * contrib/hbwin/mapi.c
  * contrib/hbwin/wapi_wingdi_font.c
  * contrib/hbwin/olecore.c
  * contrib/hbwin/wce_simc.c
  * contrib/hbwin/wapi_winnls.c
  * contrib/hbwin/win_bmp.c
  * contrib/hbwin/win_com.c
  * contrib/hbwin/Makefile
  * contrib/hbwin/win_regc.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_prn3.c
  * contrib/hbwin/wapi_commctrl.c
  * contrib/hbwin/win_osc.c
  * contrib/hbwin/wce_smsc.c
  * contrib/hbwin/wapi_err.c
  * contrib/hbwin/legacycd.c
  * contrib/hbwin/hbwapi.h
  * contrib/hbwin/wapi_shellapi.c
  * contrib/hbwin/win_dlg.c
  * contrib/hbwin/legacyco.c
  * contrib/hbwin/win_dll.c
  * contrib/hbwin/wapi_winbase_mutex.c
    + Reworked the way windows.h is included and headers
      are organized. New types allow complete control and
      flexibility. Finally.

  * src/vm/mainwin.c
  * src/vm/maindll.c
  * src/vm/maindllh.c
  * src/vm/cmdarg.c
  * src/vm/maindllp.c
  * src/vm/task.c
  * src/vm/fm.c
  * src/vm/extrap.c
  * src/vm/thread.c
  * src/vm/hvmall.c
  * src/vm/dynlibhb.c
  * src/common/hbgete.c
  * src/common/hbffind.c
  * src/common/hbver.c
  * src/common/hbtrace.c
  * src/common/hbfsapi.c
  * src/common/hbdate.c
  * src/rtl/gtwin/gtwin.c
  * src/rtl/fstemp.c
  * src/rtl/gttone.c
  * src/rtl/fserr.c
  * src/rtl/filesys.c
  * src/rtl/lang.c
  * src/rtl/diskspac.c
  * src/rtl/console.c
  * src/rtl/cputime.c
  * src/rtl/gtclip.c
  * src/rtl/oemansi.c
  * src/rtl/disksphb.c
  * src/rtl/net.c
  * src/rtl/gtgui/gtgui.c
  * src/rtl/hbproces.c
  * src/rtl/gtwvt/gtwvt.h
  * src/rtl/gtwvt/gtwvt.c
  * src/rtl/gtkbstat.c
  * contrib/hbct/ctnet.c
  * contrib/hbct/dattime3.c
  * contrib/hbct/disk.c
  * contrib/hbodbc/odbc.c
  * contrib/xhb/hboutdbg.c
  * contrib/xhb/xhberrc.c
  * contrib/xhb/filestat.c
  * contrib/xhb/hbserv.c
  * contrib/hbtpathy/tpwin.c
  * contrib/hbmzip/hbmzip.c
  * contrib/hbqt/hbqt_base.cpp
  * contrib/hbnf/getenvrn.c
  * contrib/rddsql/sddodbc/odbcdd.c
  * contrib/rddads/adsx.c
  * contrib/rddads/adsfunc.c
  * contrib/rddads/rddads.h
  * contrib/rddads/ads1.c
  * contrib/rddads/adsmgmnt.c
  * examples/hbapollo/apollo.c
    + HB_OS_WIN_USED trick replaced with direct windows.h
      inclusion, just like we do for all other OSes.
    + Also inclded hbwince.h in source files which required
      it. Please test it.

  * contrib/hbqt/gtqtc/gtqtc.cpp
    - Deleted commented code to not create false grep hits
      all the time.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctnet.c
    trunk/harbour/contrib/hbct/dattime3.c
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbnf/getenvrn.c
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.cpp
    trunk/harbour/contrib/hbqt/hbqt_base.cpp
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/hbwapi.h
    trunk/harbour/contrib/hbwin/hbwin.h
    trunk/harbour/contrib/hbwin/hbwinole.h
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/legacyco.c
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/wapi_alloc.c
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/wapi_err.c
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wapi_winbase_mutex.c
    trunk/harbour/contrib/hbwin/wapi_wingdi.c
    trunk/harbour/contrib/hbwin/wapi_wingdi_font.c
    trunk/harbour/contrib/hbwin/wapi_winnls.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/contrib/hbwin/wce_simc.c
    trunk/harbour/contrib/hbwin/wce_smsc.c
    trunk/harbour/contrib/hbwin/win_bmp.c
    trunk/harbour/contrib/hbwin/win_bmpd.c
    trunk/harbour/contrib/hbwin/win_com.c
    trunk/harbour/contrib/hbwin/win_dlg.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_prn3.c
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/contrib/rddads/adsmgmnt.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddads/rddads.h
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/xhb/filestat.c
    trunk/harbour/contrib/xhb/hboutdbg.c
    trunk/harbour/contrib/xhb/hbserv.c
    trunk/harbour/contrib/xhb/xhberrc.c
    trunk/harbour/examples/hbapollo/apollo.c
    trunk/harbour/include/clipdefs.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/src/common/Makefile
    trunk/harbour/src/common/hbdate.c
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/common/hbfsapi.c
    trunk/harbour/src/common/hbgete.c
    trunk/harbour/src/common/hbtrace.c
    trunk/harbour/src/common/hbver.c
    trunk/harbour/src/common/hbwince.c
    trunk/harbour/src/rtl/console.c
    trunk/harbour/src/rtl/cputime.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/disksphb.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/fserr.c
    trunk/harbour/src/rtl/fstemp.c
    trunk/harbour/src/rtl/gtclip.c
    trunk/harbour/src/rtl/gtgui/gtgui.c
    trunk/harbour/src/rtl/gtkbstat.c
    trunk/harbour/src/rtl/gttone.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.h
    trunk/harbour/src/rtl/hbproces.c
    trunk/harbour/src/rtl/lang.c
    trunk/harbour/src/rtl/net.c
    trunk/harbour/src/rtl/oemansi.c
    trunk/harbour/src/vm/cmdarg.c
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/extrap.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/hvmall.c
    trunk/harbour/src/vm/maindll.c
    trunk/harbour/src/vm/maindllh.c
    trunk/harbour/src/vm/maindllp.c
    trunk/harbour/src/vm/mainwin.c
    trunk/harbour/src/vm/task.c
    trunk/harbour/src/vm/thread.c

Added Paths:
-----------
    trunk/harbour/src/common/hbwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  8 22:30:31 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 22:30:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13827] trunk/harbour
Message-ID: <E1Nego3-0004Eh-Ub@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13827
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13827&view=rev
Author:   vszakats
Date:     2010-02-09 03:30:30 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-09 04:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    ! Fixed remaining 'LONG' type on 64-bit non-Windows systems.
    ! Indentation fixes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Feb  8 22:35:54 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb  8 22:36:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13828] trunk/harbour
Message-ID: <E1NegtG-0004Kh-Qo@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13828
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13828&view=rev
Author:   vszakats
Date:     2010-02-09 03:35:53 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-09 04:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    ! Fixed missing HB_EXTERN_*

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb  9 03:35:39 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  9 03:35:46 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13829] trunk/harbour
Message-ID: <E1NelZL-0007vb-O7@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13829
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13829&view=rev
Author:   vszakats
Date:     2010-02-09 08:35:38 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-09 09:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbfbird/firebird.c
    ! Fixed warning after recent GC conversion on 64-bit non-Windows
      platforms.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfbird/firebird.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Tue Feb  9 07:42:13 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Feb  9 07:42:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13811] trunk/harbour
In-Reply-To: <9BBA7235-390D-4B6D-84C6-E08BFDE77DB9@syenar.hu>
References: <E1NeVwe-00062T-1m@sfp-svn-5.v30.ch3.sourceforge.com>	<20100208161134.GA26892@linux-4bod.home.aster.pl>
	<9BBA7235-390D-4B6D-84C6-E08BFDE77DB9@syenar.hu>
Message-ID: <4B715825.8010103@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> Or, we can keep HB_BYTE and HB_SCHAR. (and drop 
> HB_CHAR and HB_UCHAR)
> 
> Any further elaboration?

I'm a little lost on the whole idea of type name change. I guess we have 
two purposes:
1) drop Windows specific defines, like LONG, ULONG, BYTE, etc.
2) solve some platform limit problems like array limit, string limit 
problems. We are using long type for this, but 64-bit windows uses 
32-bit long values. So, we need to change index to have a size of pointer.

I guess the first problem could be solved just replacing LONG, ULONG, 
SHORT, USORT by long, unsigned long, short, unsigned short. Why do we 
define a new types like HB_LONG, HB_ULONG, HB_SCHAR? Just to have a 
shorter type name?

So solve the second problem, we need to define the expected limits of 
some values, like expected function parameter count, expected dynamic 
symbol table item count, expected array size, expected string size.
F.e., if the decide we need to have strings as big as memory can 
contain, we need string length to have a size of pointer. In most 
platforms long (or unsigned long) is OK, but on 64-bit Win it is to 
small, so we define a new type HB_SIZE and use it address all string, 
array, hash, etc, item count.
If we are satisfied with some existing type we do not need a new harbour 
type. F.e, if int type fits function parameter count (it can be 
negative, because -1 means return value, it is enough width on DOS, 
32-bit, 64-bit platforms), we can use int to store param count/number. 
If we want to have another type like HB_PARAMCOUNT we can have it, but 
it could be a big job to find all variables that stores param count.

I'm not a guru of different OSes, and I do not imaging how character and 
byte types can have width different from 8-bit. So, I have no comments 
on topics like:
>>     - Deleted HB_I8 and HB_U8 types. Practice shows that
>>       HB_UCHAR and HB_SCHAR are used instead of these.
> 
> Does it mean that we decided to definitely drop support for platforms
> which do not use 8 bit characters?



Regards,
Mindaugas


P.S. perhaps I had to start a message from this, but I see Viktor is 
making a huge worik on type name change, and I see Przemek is a little 
sceptical, because he sees some bad sides of this change. I guess we 
should discuss/deside, what do we want to do, and what are the ways to 
reach our goal.


From niki at synel.co.il  Tue Feb  9 07:53:04 2010
From: niki at synel.co.il (Chen Kedem)
Date: Tue Feb  9 07:53:17 2010
Subject: [Harbour] tests/bldtest and BCC
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8C626C56@Mail-yoq.SYNEL-COMPANY.LTD>

BCC does not understand "long long int" and uses "__int64" instead.
So this test program failed (and probably always had) with BCC.

The results are Ok if I do the change.

  Chen.
From harbour.01 at syenar.hu  Tue Feb  9 08:00:39 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  9 08:01:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13811] trunk/harbour
In-Reply-To: <4B715825.8010103@dbtopas.lt>
References: <E1NeVwe-00062T-1m@sfp-svn-5.v30.ch3.sourceforge.com>	<20100208161134.GA26892@linux-4bod.home.aster.pl>
	<9BBA7235-390D-4B6D-84C6-E08BFDE77DB9@syenar.hu>
	<4B715825.8010103@dbtopas.lt>
Message-ID: <31419A80-D07C-4023-89A9-403E18D3063E@syenar.hu>

Hi,

The main goal was to drop legacy types, and to do it 
with the least amount of risk. Secondary goal is to 
clean type names and usage. The first step was introduction 
of HB_SIZE to solve one of the most important type 
problems we have since the beginning. HB_SIZE should 
eventually be converted to signed, for now it's the same 
as HB_ULONG, which eliminates risks until we do this.

Converting to ANSI types would have caused huge amount 
of code reformatting work, and it would have been also 
risky as old type usage by itself might be an information, 
and I didn't want to lose any information along the process.

Now we have a clean state. Next steps can be done 
gradually, one by one, and these are either to switch our 
new Harbour types to ANSI types or new dedicated Harbour 
types (f.e. HB_RECNO). We can do further cleanups to 
enhance consistency and to prepare for internal UNICODE 
supper, non-8-bit byte systems or even 128-bit systems.

Having HB_* types is a convenience (saves typing, makes 
formatting easier) and an important tool to help creating 
consistent code. With ANSI C types, it's very easy to write 
the same thing in dozens of different ways ('signed long' 
vs. 'long' vs 'signed long int'), some of the types 
have different meanings on different compilers ('char') 
and some of them are not clear at all ('signed'), which 
makes it very difficult to review or verify code, sync 
different parts together and at the end ensure top quality.
Having a few, well-defined Harbour types solves the problem 
very nicely.

[ BTW both dropping legacy types and HB_SIZE conversion 
was agreed on and even recommended also by Przemek in the 
past, I believe his reluctance was due to possible risks 
in destabilizing the code. ]

Brgds,
Viktor

On 2010 Feb 9, at 13:42, Mindaugas Kavaliauskas wrote:

> Hi,
> 
> 
> Viktor Szak?ts wrote:
>> Or, we can keep HB_BYTE and HB_SCHAR. (and drop HB_CHAR and HB_UCHAR)
>> Any further elaboration?
> 
> I'm a little lost on the whole idea of type name change. I guess we have two purposes:
> 1) drop Windows specific defines, like LONG, ULONG, BYTE, etc.
> 2) solve some platform limit problems like array limit, string limit problems. We are using long type for this, but 64-bit windows uses 32-bit long values. So, we need to change index to have a size of pointer.
> 
> I guess the first problem could be solved just replacing LONG, ULONG, SHORT, USORT by long, unsigned long, short, unsigned short. Why do we define a new types like HB_LONG, HB_ULONG, HB_SCHAR? Just to have a shorter type name?
> 
> So solve the second problem, we need to define the expected limits of some values, like expected function parameter count, expected dynamic symbol table item count, expected array size, expected string size.
> F.e., if the decide we need to have strings as big as memory can contain, we need string length to have a size of pointer. In most platforms long (or unsigned long) is OK, but on 64-bit Win it is to small, so we define a new type HB_SIZE and use it address all string, array, hash, etc, item count.
> If we are satisfied with some existing type we do not need a new harbour type. F.e, if int type fits function parameter count (it can be negative, because -1 means return value, it is enough width on DOS, 32-bit, 64-bit platforms), we can use int to store param count/number. If we want to have another type like HB_PARAMCOUNT we can have it, but it could be a big job to find all variables that stores param count.
> 
> I'm not a guru of different OSes, and I do not imaging how character and byte types can have width different from 8-bit. So, I have no comments on topics like:
>>>    - Deleted HB_I8 and HB_U8 types. Practice shows that
>>>      HB_UCHAR and HB_SCHAR are used instead of these.
>> Does it mean that we decided to definitely drop support for platforms
>> which do not use 8 bit characters?
> 
> 
> 
> Regards,
> Mindaugas
> 
> 
> P.S. perhaps I had to start a message from this, but I see Viktor is making a huge worik on type name change, and I see Przemek is a little sceptical, because he sees some bad sides of this change. I guess we should discuss/deside, what do we want to do, and what are the ways to reach our goal.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Tue Feb  9 08:06:09 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb  9 08:06:21 2010
Subject: [Harbour] svn 13829 error
Message-ID: <4B715DC1.90007@libero.it>

Hi,

OS/2, GCC, build stops with this error:


gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
-ort_miscc.o -c ../../../rt_miscc.c
In file included from ../../../rt_main.h:53,
                 from ../../../rt_miscc.c:53:
../../../../../include/clipdefs.h:66: warning: redefinition of `BYTE'
E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:219: warning: `BYTE' previously
declared here
../../../../../include/clipdefs.h:75: warning: redefinition of `SHORT'
E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:240: warning: `SHORT' previously
declared here
../../../../../include/clipdefs.h:83: warning: redefinition of `USHORT'
E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:243: warning: `USHORT' previously
declared here
../../../../../include/clipdefs.h:97: warning: redefinition of `LONG'
E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:246: warning: `LONG' previously
declared here
../../../../../include/clipdefs.h:105: warning: redefinition of `ULONG'
E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:249: warning: `ULONG' previously
declared here
../../../../../include/clipdefs.h:118: error: conflicting types for `BOOL'
E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:208: error: previous declaration
of `BOOL'
make[3]: *** [rt_miscc.o] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbtest] Error 2
make: *** [utils] Error 2

Regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Feb  9 08:11:40 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  9 08:12:32 2010
Subject: [Harbour] svn 13829 error
In-Reply-To: <4B715DC1.90007@libero.it>
References: <4B715DC1.90007@libero.it>
Message-ID: <96E11AF8-56D8-46D3-AC5C-BD67FC0158F1@syenar.hu>

Thank you I'll commit the fix ASAP.

Brgds,
Viktor

On 2010 Feb 9, at 14:06, Maurilio Longo wrote:

> Hi,
> 
> OS/2, GCC, build stops with this error:
> 
> 
> gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
> -ort_miscc.o -c ../../../rt_miscc.c
> In file included from ../../../rt_main.h:53,
>                 from ../../../rt_miscc.c:53:
> ../../../../../include/clipdefs.h:66: warning: redefinition of `BYTE'
> E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:219: warning: `BYTE' previously
> declared here
> ../../../../../include/clipdefs.h:75: warning: redefinition of `SHORT'
> E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:240: warning: `SHORT' previously
> declared here
> ../../../../../include/clipdefs.h:83: warning: redefinition of `USHORT'
> E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:243: warning: `USHORT' previously
> declared here
> ../../../../../include/clipdefs.h:97: warning: redefinition of `LONG'
> E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:246: warning: `LONG' previously
> declared here
> ../../../../../include/clipdefs.h:105: warning: redefinition of `ULONG'
> E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:249: warning: `ULONG' previously
> declared here
> ../../../../../include/clipdefs.h:118: error: conflicting types for `BOOL'
> E:/SVILUPPO/GCC/V3.3.5/USR/include/os2emx.h:208: error: previous declaration
> of `BOOL'
> make[3]: *** [rt_miscc.o] Error 1
> make[2]: *** [descend] Error 2
> make[1]: *** [hbtest] Error 2
> make: *** [utils] Error 2
> 
> Regards.
> 
> Maurilio.
> 
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jarabal at gmail.com  Tue Feb  9 08:23:29 2010
From: jarabal at gmail.com (Xavi)
Date: Tue Feb  9 08:23:56 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>
	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>
Message-ID: <4B7161D1.4050002@gmail.com>

Hi all,

>  From this point it's users responsibility to
> pass parameters properly.

Ok. Next topic: coverage of potential C .dll functions.

IMO it's unworkable cover functions of n parameters with n size,
seems reasonable to restrict to 15 the number of parameters.

Currently only covering sizes of 4, 8 bytes in win32 and 8 bytes in win64.
This means that calls to PosibleDLLfunc( WORD wPar, BYTE bPar ) are not possible.
How many types of data have to be supported?
BYTE, WORD, DWORD, PVOID, float, double.

-- 
Xavi

El 08/02/2010 14:34, Viktor Szak?ts escribi?:
>>>                 ...                  its users job to
>>> passing parameters according to call specification of
>>> .dll function.
>>
>> Yes, but I think it's not only Harbour.
>> Apply the patch attached to testdll.prg
>> Could someone test that about xBase++ and/or xHarbour?
>
> Sorry, I can't see your point. It's a fact
> that GPF can be caused by passing wrongly
> formatted _raw_ parameters to C level functions.
>
> It's not Harbour's job to protect against it.
> Harbour's job is to create a working interface
> in pure .c, which makes it possible for users
> to pass these raw parameters from Harbour level
> to .c level. That's all. It's currently tackled
> together using ASM code, and this is the problem,
> because it's non-portable, CPU, compiler and
> compiler-setting dependent.
>
>  From this point it's users responsibility to
> pass parameters properly.
>
> Brgds,
> Viktor
>
From vszakats at users.sourceforge.net  Tue Feb  9 08:27:41 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  9 08:27:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13830] trunk/harbour
Message-ID: <E1Neq7x-0002Hw-6h@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13830
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13830&view=rev
Author:   vszakats
Date:     2010-02-09 13:27:39 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-09 14:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/hbregex.c
    ! Added distinctive error codes to different RTEs.
    % Deleted English strings from error messages.

  * include/clipdefs.h
    ! Fixed for OS/2 after recent changes. (type collision of legacy
      types with OS/2 system types)

  * src/rtl/strxor.c
  * src/rtl/trim.c
  * src/rtl/transfrm.c
  * src/rtl/strzero.c
  * src/rtl/strtran.c
  * src/rtl/strc.c
  * src/rtl/space.c
  * src/rtl/trace.c
  * src/rtl/soundex.c
  * src/rtl/valtostr.c
    * Size variables renamed to have 'n' prefix instead of
      'ul' and 'l'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/clipdefs.h
    trunk/harbour/src/rtl/hbregex.c
    trunk/harbour/src/rtl/soundex.c
    trunk/harbour/src/rtl/space.c
    trunk/harbour/src/rtl/strc.c
    trunk/harbour/src/rtl/strtran.c
    trunk/harbour/src/rtl/strxor.c
    trunk/harbour/src/rtl/strzero.c
    trunk/harbour/src/rtl/trace.c
    trunk/harbour/src/rtl/transfrm.c
    trunk/harbour/src/rtl/trim.c
    trunk/harbour/src/rtl/valtostr.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb  9 08:49:58 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb  9 08:50:13 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <4B7161D1.4050002@gmail.com>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>
	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>
	<4B7161D1.4050002@gmail.com>
Message-ID: <AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>

Hi,

>> From this point it's users responsibility to
>> pass parameters properly.
> 
> Ok. Next topic: coverage of potential C .dll functions.
> 
> IMO it's unworkable cover functions of n parameters with n size,
> seems reasonable to restrict to 15 the number of parameters.

This limit already exists, and it should be enough for 
a start. Anyway, once the scheme is developed, it will be 
easy to extend if it's worth it or required. For vast 
majority of cases 15 is enough.

> Currently only covering sizes of 4, 8 bytes in win32 and 8 bytes in win64.
> This means that calls to PosibleDLLfunc( WORD wPar, BYTE bPar ) are not possible.

4 and 8 byte parameters are enough for all win32 
calling conventions. So it's possible to pass BYTE 
already.

> How many types of data have to be supported?

win32: 4 or 8 for arguments, return value can be 4, 8 bytes or double/float.
       plus each in two variations: cdecl or stdcall (winapi)
win64: 8 for argument, return value is also 8 bytes

> BYTE, WORD, DWORD, PVOID, float, double.

For win64 current solution covers all combinations, as 
there is a much simpler calling convention there, see:
   http://msdn.microsoft.com/en-us/library/ms235286(VS.80).aspx

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Feb  9 09:55:14 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  9 09:55:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13831] trunk/harbour
Message-ID: <E1NerUg-00042A-Pb@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13831
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13831&view=rev
Author:   vszakats
Date:     2010-02-09 14:55:08 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-09 15:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/ppcore.c
  * src/vm/strapi.c
  * src/vm/debug.c
  * src/vm/itemapi.c
  * src/vm/cmdarg.c
  * src/vm/set.c
  * src/debug/dbgentry.c
  * src/common/hbfsapi.c
  * src/common/hbstr.c
  * src/common/strwild.c
  * src/nortl/nortl.c
  * src/rtl/lennum.c
  * src/rtl/strmatch.c
  * src/rtl/gtstd/gtstd.c
  * src/rtl/hbstrfmt.c
  * src/rtl/transfrm.c
  * src/rtl/gtcgi/gtcgi.c
  * src/rtl/filesys.c
  * src/rtl/console.c
  * src/rtl/hbgtcore.c
  * src/rtl/cdpapi.c
  * src/rtl/gtclip.c
  * src/rtl/mlcfunc.c
  * src/rtl/itemseri.c
  * src/rtl/gtpca/gtpca.c
  * src/rtl/samples.c
  * src/rtl/gete.c
  * src/rdd/workarea.c
  * src/rdd/hsx/hsx.c
  * src/rdd/hbsix/sxsem.c
  * src/rdd/hbsix/sxfname.c
  * contrib/xhb/dbf2txt.c
  * contrib/xhb/datesxhb.c
  * contrib/xhb/dbgfxc.c
  * contrib/hbmzip/hbmzip.c
  * contrib/hbmemio/memio.c
  * contrib/hbnetio/netiocli.c
  * contrib/gtwvg/wvgwing.c
  * contrib/hbpgsql/postgres.c
  * contrib/hbclipsm/num.c
  * contrib/rddads/ads1.c
  * contrib/hbfimage/fi_wrp.c
    + Added '( HB_SIZE )' casts to 'strlen()' calls where
      it was converted to HB_SIZE. This pacifies long standing
      win64 warnings.
      Remaining warnings are (among others) useful to spot places where
      non-HB_SIZE is used in Harbour code to store sizes.

  * contrib/hbpgsql/postgres.c
    ! Type cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/contrib/hbclipsm/num.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/contrib/hbmemio/memio.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/xhb/datesxhb.c
    trunk/harbour/contrib/xhb/dbf2txt.c
    trunk/harbour/contrib/xhb/dbgfxc.c
    trunk/harbour/src/common/hbfsapi.c
    trunk/harbour/src/common/hbstr.c
    trunk/harbour/src/common/strwild.c
    trunk/harbour/src/debug/dbgentry.c
    trunk/harbour/src/nortl/nortl.c
    trunk/harbour/src/pp/ppcore.c
    trunk/harbour/src/rdd/hbsix/sxfname.c
    trunk/harbour/src/rdd/hbsix/sxsem.c
    trunk/harbour/src/rdd/hsx/hsx.c
    trunk/harbour/src/rdd/workarea.c
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/src/rtl/console.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/gete.c
    trunk/harbour/src/rtl/gtcgi/gtcgi.c
    trunk/harbour/src/rtl/gtclip.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtstd/gtstd.c
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/rtl/hbstrfmt.c
    trunk/harbour/src/rtl/itemseri.c
    trunk/harbour/src/rtl/lennum.c
    trunk/harbour/src/rtl/mlcfunc.c
    trunk/harbour/src/rtl/samples.c
    trunk/harbour/src/rtl/strmatch.c
    trunk/harbour/src/rtl/transfrm.c
    trunk/harbour/src/vm/cmdarg.c
    trunk/harbour/src/vm/debug.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/src/vm/set.c
    trunk/harbour/src/vm/strapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Feb  9 10:14:21 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  9 10:14:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13831] trunk/harbour
In-Reply-To: <E1NerUg-00042A-Pb@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NerUg-00042A-Pb@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <20100209151420.GA23113@linux-4bod.home.aster.pl>

On Tue, 09 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> 2010-02-09 15:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>     + Added '( HB_SIZE )' casts to 'strlen()' calls where
>       it was converted to HB_SIZE. This pacifies long standing
>       win64 warnings.
>       Remaining warnings are (among others) useful to spot places where
>       non-HB_SIZE is used in Harbour code to store sizes.

This modification was not necessary.
When we complete type modification then we switch HB_SIZE in WIN64 builds
to 64bit integer. It will pacify all such warnings automatically.
And of course will nicely show all places where we have not casted
HB_SIZE -> [U]LONG conversion which we can easy locate and fix.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  9 10:33:30 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 10:33:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13831] trunk/harbour
In-Reply-To: <20100209151420.GA23113@linux-4bod.home.aster.pl>
References: <E1NerUg-00042A-Pb@sfp-svn-1.v30.ch3.sourceforge.com>
	<20100209151420.GA23113@linux-4bod.home.aster.pl>
Message-ID: <1B67BE93-D948-4E0B-A320-B6FD8C192492@syenar.hu>

Hi Przemek,

> On Tue, 09 Feb 2010, vszakats@users.sourceforge.net wrote:
> 
> Hi Viktor,
> 
>> 2010-02-09 15:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>    + Added '( HB_SIZE )' casts to 'strlen()' calls where
>>      it was converted to HB_SIZE. This pacifies long standing
>>      win64 warnings.
>>      Remaining warnings are (among others) useful to spot places where
>>      non-HB_SIZE is used in Harbour code to store sizes.
> 
> This modification was not necessary.
> When we complete type modification then we switch HB_SIZE in WIN64 builds
> to 64bit integer. It will pacify all such warnings automatically.
> And of course will nicely show all places where we have not casted
> HB_SIZE -> [U]LONG conversion which we can easy locate and fix.

No problem, all these locations are easily found 
using 'grep "( HB_SIZE ) strlen("' along with all 
those which were already cast. I had reversion in 
mind, and the above patch was a complete one for 
strlen(), I don't plan to add casts for more 
obscure places. (ops hbmemio/hbnetio has 1-1 
exceptions... I'll revert those in next commit)

Until then, it's easier to focus on warnings showing 
real problems (some code still use size_t, int and 
HB_ULONG, even HB_USHORT to store sizes).

BTW, we've been discussing it, but haven't finally 
decided about HB_SIZE size. Should it be tied to 
platform integer size, or we roll our own. Anyway 
I agree to use what the platform offers.

So, what to finally aim for: HB_SIZE <- HB_MAXINT?

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Feb  9 10:50:30 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  9 10:50:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13831] trunk/harbour
In-Reply-To: <1B67BE93-D948-4E0B-A320-B6FD8C192492@syenar.hu>
References: <E1NerUg-00042A-Pb@sfp-svn-1.v30.ch3.sourceforge.com>
	<20100209151420.GA23113@linux-4bod.home.aster.pl>
	<1B67BE93-D948-4E0B-A320-B6FD8C192492@syenar.hu>
Message-ID: <20100209155030.GA28477@linux-4bod.home.aster.pl>

On Tue, 09 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> BTW, we've been discussing it, but haven't finally 
> decided about HB_SIZE size. Should it be tied to 
> platform integer size, or we roll our own. Anyway 
> I agree to use what the platform offers.
> So, what to finally aim for: HB_SIZE <- HB_MAXINT?

HB_SIZE should have the same size 'void *' otherwise
you will always have warnings in code like:
   HB_SIZE size = ptr1 - ptr2;
It means that in WIN64 it has to be HB_LONGLONG
and on other platform HB_LONG.
It's exactly the same condition as for HB_PTRDIFF
and HB_PTRUINT.

best regards,
Przemek
From bruno.luciani at gmail.com  Tue Feb  9 10:50:59 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Feb  9 10:51:08 2010
Subject: [Harbour] File names in dos/windows and Linux
Message-ID: <133778361002090750p6be05b40k518b24b19cb3dafa@mail.gmail.com>

Hi, there is in Harbour any function to get the DOS short filename (8.3) ?

I'm using an API function but I like to  use and standard Harbour function.


And such problem with long names appears in LINUX ?

I think that not , but I ask the question

Thanks in advance


Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100209/1295297b/attachment.html
From harbour.01 at syenar.hu  Tue Feb  9 11:03:17 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 11:03:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13831] trunk/harbour
In-Reply-To: <20100209151420.GA23113@linux-4bod.home.aster.pl>
References: <E1NerUg-00042A-Pb@sfp-svn-1.v30.ch3.sourceforge.com>
	<20100209151420.GA23113@linux-4bod.home.aster.pl>
Message-ID: <6F5B6FCB-D867-45DF-9C8A-F326A5E28ECE@syenar.hu>

FYI, I've attached current win64 warning list, it has ~470 items, 
which is quite good, 270 of them is in RDD code.

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: win64warnings.zip
Type: application/zip
Size: 3828 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100209/38cf66ef/win64warnings.zip
-------------- next part --------------

On 2010 Feb 9, at 16:14, Przemys?aw Czerpak wrote:

> On Tue, 09 Feb 2010, vszakats@users.sourceforge.net wrote:
> 
> Hi Viktor,
> 
>> 2010-02-09 15:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>    + Added '( HB_SIZE )' casts to 'strlen()' calls where
>>      it was converted to HB_SIZE. This pacifies long standing
>>      win64 warnings.
>>      Remaining warnings are (among others) useful to spot places where
>>      non-HB_SIZE is used in Harbour code to store sizes.
> 
> This modification was not necessary.
> When we complete type modification then we switch HB_SIZE in WIN64 builds
> to 64bit integer. It will pacify all such warnings automatically.
> And of course will nicely show all places where we have not casted
> HB_SIZE -> [U]LONG conversion which we can easy locate and fix.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Feb  9 11:21:35 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 11:21:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13831] trunk/harbour
In-Reply-To: <20100209155030.GA28477@linux-4bod.home.aster.pl>
References: <E1NerUg-00042A-Pb@sfp-svn-1.v30.ch3.sourceforge.com>
	<20100209151420.GA23113@linux-4bod.home.aster.pl>
	<1B67BE93-D948-4E0B-A320-B6FD8C192492@syenar.hu>
	<20100209155030.GA28477@linux-4bod.home.aster.pl>
Message-ID: <C9DF1A8C-6700-4E0F-8401-ECC931AE29C7@syenar.hu>

Hi Przemek,

> Hi Viktor,
> 
>> BTW, we've been discussing it, but haven't finally 
>> decided about HB_SIZE size. Should it be tied to 
>> platform integer size, or we roll our own. Anyway 
>> I agree to use what the platform offers.
>> So, what to finally aim for: HB_SIZE <- HB_MAXINT?
> 
> HB_SIZE should have the same size 'void *' otherwise
> you will always have warnings in code like:
>   HB_SIZE size = ptr1 - ptr2;
> It means that in WIN64 it has to be HB_LONGLONG
> and on other platform HB_LONG.
> It's exactly the same condition as for HB_PTRDIFF
> and HB_PTRUINT.

Perfect.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Feb  9 11:28:36 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 11:28:49 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <F93B457A-9ED7-4BA3-AAF2-2416BF0ABFDD@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<27046773-D8B5-4FDB-95AA-FAEBB12F046B@syenar.hu>
	<20100208195922.GA30749@linux-4bod.home.aster.pl>
	<F93B457A-9ED7-4BA3-AAF2-2416BF0ABFDD@syenar.hu>
Message-ID: <2E621191-7BB0-4BC1-A89F-5EFDE0D9A994@syenar.hu>

>>> Now the only thing I'm still interested in, is what 
>>> are the advantage of pcode-.dlls over .hrb files?
>>> [ I can only cite inclusion of .c functions. ]
>> 
>> Yes, mixed PRG and C code is probably the only one real feature.
>> Probably it's mostly important for 3-rd party extensions which can
>> be distributed as single DLL. For .prg code only HRB files seem to
> 
> Though even this can only be done if said .dll doesn't depend 
> on other 3rd party .dlls. So in case the .c code implements 
> some wrappers (which is typical), the underlying API needs to be 
> linked to the pcode .dll statically. If I see it correctly.

Rereading it with somewhat fresher mind, probably I didn't 
see it correctly and such pcode dll can have other dlls it 
depends on.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Tue Feb  9 12:02:33 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Feb  9 12:02:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13832] trunk/harbour
Message-ID: <E1NetTt-0000il-4u@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13832
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13832&view=rev
Author:   vouchcac
Date:     2010-02-09 17:02:31 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-09 08:38 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/idesaveload.prg
  * contrib/hbide/idesources.prg

    + Implemented multiple views.
      How it works:
        * Select "New..." from drop-down menu of "Views" combo-box in toolbar.
        * An input dialog opens, provide a useful name, 
             keep it "one word" if possible
        * Press <ENTER> or click "Ok", a blank edit area will come-up.
        * Make ususal operations to add/delete/move sources.
        * You must be able to see view's name in the status-bar in blue.
        * Thus created "view" name will appear in the drop-down list.
        * To switch to another view, select it from same drop-down.
        * To verify, come out of the hbIDE and re-enter.
        * Voila, you have the "views" created.
        * "Main" view or say "root" view is always present.

      ;Please report if anything is missing or could be better.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/idesources.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Feb  9 12:05:10 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb  9 12:05:22 2010
Subject: [Harbour] contrib/xpp/tthreadx.prg
Message-ID: <4B7195C6.3000106@libero.it>

Przemyslaw,

I'm using Thread class from xpp compatibility layer, I see two things not
compatible with xpp:

1) when code stops executing :active iVAR should be set back to .F.
2) :atStart and :atEnd code blocks/methods should be called even when
executing the :Execute() method

I don't know whether this is just a little incompatibility of Thread class
which just needs some fixing or there are other issues.

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Feb  9 13:37:09 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  9 13:37:18 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <2E621191-7BB0-4BC1-A89F-5EFDE0D9A994@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<27046773-D8B5-4FDB-95AA-FAEBB12F046B@syenar.hu>
	<20100208195922.GA30749@linux-4bod.home.aster.pl>
	<F93B457A-9ED7-4BA3-AAF2-2416BF0ABFDD@syenar.hu>
	<2E621191-7BB0-4BC1-A89F-5EFDE0D9A994@syenar.hu>
Message-ID: <20100209183709.GA25396@linux-4bod.home.aster.pl>

On Tue, 09 Feb 2010, Szak?ts Viktor wrote:
> Rereading it with somewhat fresher mind, probably I didn't 
> see it correctly and such pcode dll can have other dlls it 
> depends on.

Yes it is. And MinGW can nicely work with it so it's not necessary
to add other libraries to linked library list. It's enough to add
only such DLL.

best regards,
Przemek
From tech at 2dinfo.com.br  Tue Feb  9 14:42:59 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Tue Feb  9 13:45:37 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <217C56499B304AB8A6AA547600ACB085@deskleo>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><20100208141036.GA23098@linux-4bod.home.aster.pl><D10B5CBD194247FEBB91A0E58212EA7F@deskleo><20100208225319.GA31329@linux-4bod.home.aster.pl>
	<217C56499B304AB8A6AA547600ACB085@deskleo>
Message-ID: <3A26D619530744B385DC04F3B559BD6A@deskleo>

Hi Przemek

>> If you are using statically linked application then it's necessary
>> to recompile Harbour using with HB_DYNLIB macro to force exporting
>> hb_vmProcessSymbols() and hb_vmExecute() functions. You can make it
>> by setting HB_USER_CFLAGS envvar, i.e.:
>>
>>   set HB_USER_CFLAGS=-DHB_DYNLIB
>>
>> before compiling harbour code.
>> As I wrote above it's possible to eliminate this condition by
>> small modification in HVM library and hbmk2.
>>
>
> ok. I'll do that.


There is an error when I try to recompile Harbour core with -DHB_DYNLIB.
Apparently the problem is about hbpp.exe

See the error below:

...
gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer -march=i586
 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF  -DHB_DYNLIB -ohbpp.o -c 
../../../hbpp.c
gcc  -L../../../../../lib/win/mingw   -o 
..\..\..\..\..\bin\win\mingw\hbpp.exe h
bpp.o -lhbnortl -lhbcommon -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32
/mingw/lib/libmingw32.a(main.o):main.c:(.text+0xd2): undefined reference to 
`WinMain@16'
collect2: ld returned 1 exit status
mingw32-make[3]: *** [hbpp.exe] Error 1
rm hbpp.o
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp.inst] Error 2
mingw32-make: *** [src.inst] Error 2

Brgds
Leandro 

From druzus at acn.waw.pl  Tue Feb  9 14:01:33 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  9 14:01:41 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
Message-ID: <20100209190133.GB25396@linux-4bod.home.aster.pl>

On Tue, 09 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Minor note: -cflag=-DHB_DYNLIB is automatically enabled for non-mingw 
> compilers when -hbdyn is used, so it's not necessary to add it manually.

Thank you for the information.

> I believe the rest of this nice description should definitely go into 
> doc/pcodedll.txt. You can even commit as is.

I'll try to create it but 1-st I would like to update the code
to describe final version.

I've looked closer at current code and also made some tests using MinGW,
OpenWatcom and BCC55 with HBMK2 in my Linux box.
Here are things I collected.

1. -implib in MinGW and OpenWatcom builds uses "{OI}" as import
   library name. In BCC builds it works OK. I haven't tested other
   builds
2. -hbdyn should automatically disable all static harbour
   libraries (-nohblib) but it should be possible to enable
   shared harbour library using -*shared option.
   I do not see any normal situation when harbour static libraries
   can be linked with PCODE shared library. It's usable only when
   user wants to create his own custom harbour*.dll replacement so
   rather very seldom. In such he can enable static libraries explicitly
   or using -nohblib-. But in all other cases linking static libraries
   will cause that the same code is replicated in PCODE DLL and final
   application with all internal structures like HVM stack so usually
   broken binaries are created.
3. Why have we these lines:
      # always export symbols
      HB_CFLAGS += -DHB_DYNLIB
   in src/vm/maindllp/Makefile? Which C compiler does need it?
   It breaks autoexport functionality in MinGW builds.
   I also do not see any reason to export wrappers to real functions.
4. Why have we these lines:
      # always export symbols
      HB_CFLAGS += -DHB_DYNLIB
   in src/vm/maindllh/Makefile?
5. Why do we keep src/vm/maindll.c?
   IMO it should be removed.
6. It's time to create from scratch new maindllp.c which will work using
   internal HVM function to extract function addresses and will report
   errors if some functions are not available.
   From current code I'll take your macros for harbour*dll names and
   create completely new implementation in src/vm/maindllp/ directory.
   At the beginning I'll add support only for hb_vmProcessSymbols()
   and hb_vmExecute().
   Later we can add wrappers also two other functions, i.e. the ones
   which are present in current maindllp.c (I'll left it as reference
   file for some time).
7. It's necessary to add to HBMK2 link time option which add this
   code to final binaries:
      #include "hbapi.h"
      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
      {
         return hb_vmProcAddress( szFuncName );
      }
   I'll update Harbour header files and add HB_EXPORT_ATTR and
   hb_vmProcAddress() declaration to them.
   We only have to choose name for this new option.
   My propositions: -hasdyn or -usedyn -expdyn
   Sorry but I'm the last person for such jobs but I believe that other
   users can help us.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  9 15:17:35 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 15:17:48 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100209190133.GB25396@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
Message-ID: <B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>

Hi Przemek,

> 2. -hbdyn should automatically disable all static harbour
>   libraries (-nohblib) but it should be possible to enable
>   shared harbour library using -*shared option.
>   I do not see any normal situation when harbour static libraries
>   can be linked with PCODE shared library. It's usable only when
>   user wants to create his own custom harbour*.dll replacement so
>   rather very seldom. In such he can enable static libraries explicitly
>   or using -nohblib-. But in all other cases linking static libraries
>   will cause that the same code is replicated in PCODE DLL and final
>   application with all internal structures like HVM stack so usually
>   broken binaries are created.

I'll make -nohblib default when using -hbdyn, this also 
allows to turn it back on using -nohblib-.

> 3. Why have we these lines:
>      # always export symbols
>      HB_CFLAGS += -DHB_DYNLIB
>   in src/vm/maindllp/Makefile? Which C compiler does need it?
>   It breaks autoexport functionality in MinGW builds.
>   I also do not see any reason to export wrappers to real functions.
> 4. Why have we these lines:
>      # always export symbols
>      HB_CFLAGS += -DHB_DYNLIB
>   in src/vm/maindllh/Makefile?
> 5. Why do we keep src/vm/maindll.c?
>   IMO it should be removed.

You are most probably right. We can remove them.

> 6. It's time to create from scratch new maindllp.c which will work using
>   internal HVM function to extract function addresses and will report
>   errors if some functions are not available.
>   From current code I'll take your macros for harbour*dll names and
>   create completely new implementation in src/vm/maindllp/ directory.
>   At the beginning I'll add support only for hb_vmProcessSymbols()
>   and hb_vmExecute().
>   Later we can add wrappers also two other functions, i.e. the ones
>   which are present in current maindllp.c (I'll left it as reference
>   file for some time).

Okay.

> 7. It's necessary to add to HBMK2 link time option which add this
>   code to final binaries:
>      #include "hbapi.h"
>      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
>      {
>         return hb_vmProcAddress( szFuncName );
>      }
>   I'll update Harbour header files and add HB_EXPORT_ATTR and
>   hb_vmProcAddress() declaration to them.
>   We only have to choose name for this new option.
>   My propositions: -hasdyn or -usedyn -expdyn
>   Sorry but I'm the last person for such jobs but I believe that other
>   users can help us.

What is the exact case when this option is required for users?

Maybe I'm off, but if this is required for all "pcode" .dlls, 
we may just enable it automatically in -hbdyn mode when .prg source 
files are specified. (of course there is the side case, when 
Harbour .objs are also passed, but I'm not sure this is very 
typical case.)

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Feb  9 15:32:35 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  9 15:32:44 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
Message-ID: <20100209203235.GA26505@linux-4bod.home.aster.pl>

On Tue, 09 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> > 2. -hbdyn should automatically disable all static harbour
> >   libraries (-nohblib) but it should be possible to enable
> >   shared harbour library using -*shared option.
[...]
> I'll make -nohblib default when using -hbdyn, this also 
> allows to turn it back on using -nohblib-.

Thank you very much.

> > 7. It's necessary to add to HBMK2 link time option which add this
> >   code to final binaries:
> >      #include "hbapi.h"
> >      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
> >      {
> >         return hb_vmProcAddress( szFuncName );
> >      }
> >   I'll update Harbour header files and add HB_EXPORT_ATTR and
> >   hb_vmProcAddress() declaration to them.
> >   We only have to choose name for this new option.
> >   My propositions: -hasdyn or -usedyn -expdyn
> >   Sorry but I'm the last person for such jobs but I believe that other
> >   users can help us.
> What is the exact case when this option is required for users?
> Maybe I'm off, but if this is required for all "pcode" .dlls, 
> we may just enable it automatically in -hbdyn mode when .prg source 
> files are specified. (of course there is the side case, when 
> Harbour .objs are also passed, but I'm not sure this is very 
> typical case.)

This function is used by PCODE DLLs but it has to be added to the
binaries which loads such PCODE DLLs, i.e. to .EXE file so this
option is not used when dll is created (-hbdyn) but when .exe file
is created (-hbexe).

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  9 15:56:16 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 15:56:30 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100209203235.GA26505@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
Message-ID: <4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>

>>> 7. It's necessary to add to HBMK2 link time option which add this
>>>  code to final binaries:
>>>     #include "hbapi.h"
>>>     HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
>>>     {
>>>        return hb_vmProcAddress( szFuncName );
>>>     }
>>>  I'll update Harbour header files and add HB_EXPORT_ATTR and
>>>  hb_vmProcAddress() declaration to them.
>>>  We only have to choose name for this new option.
>>>  My propositions: -hasdyn or -usedyn -expdyn
>>>  Sorry but I'm the last person for such jobs but I believe that other
>>>  users can help us.
>> What is the exact case when this option is required for users?
>> Maybe I'm off, but if this is required for all "pcode" .dlls, 
>> we may just enable it automatically in -hbdyn mode when .prg source 
>> files are specified. (of course there is the side case, when 
>> Harbour .objs are also passed, but I'm not sure this is very 
>> typical case.)
> 
> This function is used by PCODE DLLs but it has to be added to the
> binaries which loads such PCODE DLLs, i.e. to .EXE file so this
> option is not used when dll is created (-hbdyn) but when .exe file
> is created (-hbexe).

I see. Can't it be added unconditionally for all Windows .exes?
Is there any downside?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Feb  9 15:58:33 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb  9 15:58:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13833] trunk/harbour
Message-ID: <E1NexAH-00057S-BE@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13833
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13833&view=rev
Author:   vszakats
Date:     2010-02-09 20:58:31 +0000 (Tue, 09 Feb 2010)

Log Message:
-----------
2010-02-09 21:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Added more info on HB_SIZE/HB_ISIZ future plans.

  * contrib/hbmemio/memio.c
  * contrib/hbnetio/netiocli.c
    - Deleted ( HB_SIZE ) casts in more obscure places.

  * utils/hbmk2/hbmk2.prg
    + -hbnolib option is now automatically enabled in -hbdyn mode.
      To disable it anyway, -hbnolib- option can be used.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmemio/memio.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/include/hbdefs.h
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Feb  9 16:01:17 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  9 16:01:24 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <3A26D619530744B385DC04F3B559BD6A@deskleo>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<217C56499B304AB8A6AA547600ACB085@deskleo>
	<3A26D619530744B385DC04F3B559BD6A@deskleo>
Message-ID: <20100209210117.GB26505@linux-4bod.home.aster.pl>

On Tue, 09 Feb 2010, 2D Info - Leandro Damasio wrote:

Hi,

> There is an error when I try to recompile Harbour core with -DHB_DYNLIB.
> Apparently the problem is about hbpp.exe
> See the error below:
> ...
> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer -march=i586
> -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF  -DHB_DYNLIB -ohbpp.o -c
> ../../../hbpp.c
> gcc  -L../../../../../lib/win/mingw   -o
> ..\..\..\..\..\bin\win\mingw\hbpp.exe h
> bpp.o -lhbnortl -lhbcommon -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32
> /mingw/lib/libmingw32.a(main.o):main.c:(.text+0xd2): undefined
> reference to `WinMain@16'
> collect2: ld returned 1 exit status
> mingw32-make[3]: *** [hbpp.exe] Error 1

You are right. It's side effect of code added to exclude hbpp_dyn.obj
from DLL. I'll replace it with other solution. Anyhow probably today
we add support for using PCODE DLLs with standard static builds so
you can wait a while for it.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Feb  9 16:23:10 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  9 16:23:18 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
Message-ID: <20100209212310.GC26505@linux-4bod.home.aster.pl>

On Tue, 09 Feb 2010, Szak?ts Viktor wrote:

Hi,

> >>>     #include "hbapi.h"
> >>>     HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
> >>>     {
> >>>        return hb_vmProcAddress( szFuncName );
> >>>     }
> I see. Can't it be added unconditionally for all Windows .exes?
> Is there any downside?

It enables symbol exporting. It will increase final binaries due to
additional runtime code and DLL symbol table. In MinGW it's about 35Kb.
I know that it's not very much for current desktop computers but I do
not like to link unnecessary code. I do not know what if it cause some
noticeable startup speed overhead but I think it's minor.

Alternatively we may not touch HBMK2 at all and users can add to their
main .prg code:

   #pragma begindump
      #include "hbapi.h"
      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
      {
         return hb_vmProcAddress( szFuncName );
      }
   #pragma enddump

I've already implemented the modification I was talking about and used
above code to test them,

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  9 16:57:29 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 16:57:43 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100209212310.GC26505@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
Message-ID: <EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>

>>>>>    #include "hbapi.h"
>>>>>    HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
>>>>>    {
>>>>>       return hb_vmProcAddress( szFuncName );
>>>>>    }
>> I see. Can't it be added unconditionally for all Windows .exes?
>> Is there any downside?
> 
> It enables symbol exporting. It will increase final binaries due to
> additional runtime code and DLL symbol table. In MinGW it's about 35Kb.
> I know that it's not very much for current desktop computers but I do
> not like to link unnecessary code. I do not know what if it cause some
> noticeable startup speed overhead but I think it's minor.
> 
> Alternatively we may not touch HBMK2 at all and users can add to their
> main .prg code:
> 
>   #pragma begindump
>      #include "hbapi.h"
>      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
>      {
>         return hb_vmProcAddress( szFuncName );
>      }
>   #pragma enddump
> 
> I've already implemented the modification I was talking about and used
> above code to test them,

Isn't it a solution if we move HB_LIBLOAD() to a separate 
.c file along with above trigger code, and in this way, 
if an executable uses this functionality, above stub is 
always included?

Brgds,
Viktor

From tech at 2dinfo.com.br  Tue Feb  9 18:00:33 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Tue Feb  9 17:01:38 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100209210117.GB26505@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><20100208141036.GA23098@linux-4bod.home.aster.pl><D10B5CBD194247FEBB91A0E58212EA7F@deskleo><20100208225319.GA31329@linux-4bod.home.aster.pl><217C56499B304AB8A6AA547600ACB085@deskleo><3A26D619530744B385DC04F3B559BD6A@deskleo>
	<20100209210117.GB26505@linux-4bod.home.aster.pl>
Message-ID: <FC6D80846F83479CAFA3CADC29D1EBBD@deskleo>

> You are right. It's side effect of code added to exclude hbpp_dyn.obj
> from DLL. I'll replace it with other solution. Anyhow probably today
> we add support for using PCODE DLLs with standard static builds so
> you can wait a while for it.
> 

Ok Przemek
Thanks
Brgds
Leandro 
From tech at 2dinfo.com.br  Tue Feb  9 18:33:36 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Tue Feb  9 17:34:37 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100209190133.GB25396@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><20100208141036.GA23098@linux-4bod.home.aster.pl><D10B5CBD194247FEBB91A0E58212EA7F@deskleo><20100208225319.GA31329@linux-4bod.home.aster.pl><328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
Message-ID: <2A14F94BDD604B7C8C65E8B0EC1B421B@deskleo>

Hi

>   We only have to choose name for this new option.
>   My propositions: -hasdyn or -usedyn -expdyn
>   Sorry but I'm the last person for such jobs but I believe that other
>   users can help us.

-usedyn sounds the most intuitive for me

Regards
Leandro 
From druzus at acn.waw.pl  Tue Feb  9 18:03:04 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  9 18:03:12 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
References: <20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
Message-ID: <20100209230304.GA3788@linux-4bod.home.aster.pl>

On Tue, 09 Feb 2010, Szak?ts Viktor wrote:
> Isn't it a solution if we move HB_LIBLOAD() to a separate 
> .c file along with above trigger code, and in this way, 
> if an executable uses this functionality, above stub is 
> always included?

No because it will disable autoexport functionality in MinGW
builds.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  9 18:18:33 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 18:18:44 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100209230304.GA3788@linux-4bod.home.aster.pl>
References: <20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
	<20100209230304.GA3788@linux-4bod.home.aster.pl>
Message-ID: <9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>

> On Tue, 09 Feb 2010, Szak?ts Viktor wrote:
>> Isn't it a solution if we move HB_LIBLOAD() to a separate 
>> .c file along with above trigger code, and in this way, 
>> if an executable uses this functionality, above stub is 
>> always included?
> 
> No because it will disable autoexport functionality in MinGW
> builds.

Hm, even if it's not linked, just present in the static lib?

That could have been hugely elegant, I find the switch not 
very much so :(

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Feb  9 19:04:16 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb  9 19:04:24 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
References: <20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
	<20100209230304.GA3788@linux-4bod.home.aster.pl>
	<9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
Message-ID: <20100210000415.GA7462@linux-4bod.home.aster.pl>

On Wed, 10 Feb 2010, Szak?ts Viktor wrote:

Hi,

> >> Isn't it a solution if we move HB_LIBLOAD() to a separate 
> >> .c file along with above trigger code, and in this way, 
> >> if an executable uses this functionality, above stub is 
> >> always included?
> > No because it will disable autoexport functionality in MinGW
> > builds.
> Hm, even if it's not linked, just present in the static lib?

Are you planing to remove HB_LIBLOAD()/HB_LIBFREE() from harbour*.dll?
If yes then it can be done in such case.

> That could have been hugely elegant, I find the switch not 
> very much so :(

OK, I'll document:

   #pragma begindump
      #include "hbapi.h"
      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
      {
         return hb_vmProcAddress( szFuncName );
      }
   #pragma enddump

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb  9 19:29:51 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 19:30:05 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100209212310.GC26505@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
Message-ID: <D220609F-251A-423C-A5E0-8141162ED5CC@syenar.hu>

>>>>>    #include "hbapi.h"
>>>>>    HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
>>>>>    {
>>>>>       return hb_vmProcAddress( szFuncName );
>>>>>    }
>> I see. Can't it be added unconditionally for all Windows .exes?
>> Is there any downside?
> 
> It enables symbol exporting. It will increase final binaries due to
> additional runtime code and DLL symbol table. In MinGW it's about 35Kb.
> I know that it's not very much for current desktop computers but I do
> not like to link unnecessary code. I do not know what if it cause some
> noticeable startup speed overhead but I think it's minor.
> 
> Alternatively we may not touch HBMK2 at all and users can add to their
> main .prg code:
> 
>   #pragma begindump
>      #include "hbapi.h"
>      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
>      {
>         return hb_vmProcAddress( szFuncName );
>      }
>   #pragma enddump
> 
> I've already implemented the modification I was talking about and used
> above code to test them,

I did some tests with mingw32-tdm and majority of the (here 32KB) 
overhead is relocation table. Some compilers add it all the time (bcc), 
for some it's good to turn it on to support address randomization 
(though it's not 100% clear from docs if this is required or not).
It won't affect memory footprint, only disk size.

Truly though, it's too large of an effect to make on all .exes 
for such a niche feature like pcode .dll.

As for the switch name I think it should be -hbexedyn.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Feb  9 19:41:18 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb  9 19:41:28 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100210000415.GA7462@linux-4bod.home.aster.pl>
References: <20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
	<20100209230304.GA3788@linux-4bod.home.aster.pl>
	<9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
	<20100210000415.GA7462@linux-4bod.home.aster.pl>
Message-ID: <BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>

Hi,

>>>> Isn't it a solution if we move HB_LIBLOAD() to a separate 
>>>> .c file along with above trigger code, and in this way, 
>>>> if an executable uses this functionality, above stub is 
>>>> always included?
>>> No because it will disable autoexport functionality in MinGW
>>> builds.
>> Hm, even if it's not linked, just present in the static lib?
> 
> Are you planing to remove HB_LIBLOAD()/HB_LIBFREE() from harbour*.dll?
> If yes then it can be done in such case.

We can do it. Though in this case it won't be possible to 
load pcode .dlls to -shared lib, right? (well, or some other 
meaningful combinations, you oversee this much better.)

>> That could have been hugely elegant, I find the switch not 
>> very much so :(
> 
> OK, I'll document:
> 
>   #pragma begindump
>      #include "hbapi.h"
>      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
>      {
>         return hb_vmProcAddress( szFuncName );
>      }
>   #pragma enddump

I've came up with -hbexedyn switch name idea (which is same as -hbexe, 
but generates this extra code in stub), though if possible it'd still 
be better to make it automatic.

Another idea, and this looks the best so far. Why not introduce 
a symbol which can be REQUESTed from app code, if someone wants 
to enable pcode loading feature?

F.e.
   REQUEST HB_LIB (or HB_LIBDYN...)

This would pull above code from a separate .c file, which .c file 
wouldn't be part of harbour*.dll, only reside in static lib with 
no reference to it from Harbour code code.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Tue Feb  9 21:35:24 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Feb  9 21:35:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
Message-ID: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13834
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13834&view=rev
Author:   vouchcac
Date:     2010-02-10 02:35:23 +0000 (Wed, 10 Feb 2010)

Log Message:
-----------
2010-02-09 18:25 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/docs
  + contrib/hbide/docs/idemainpage.html
  + contrib/hbide/docs/interfaceelements.html
  + contrib/hbide/docs/multiviews.html
    
  * contrib/hbide/resources/help.png

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideobject.prg
    
    + Implemented basics of ib-build help mechanism.
      It is working in a limited manner and is scheduled to be 
      matured in next few days, at-least from operations 
      point-of-view. QtextBrowser() accepts a sub-set of 
      html commands and hence is very limited in appearnce.
      As we have decided against QtWebkit, this implementation
      may not look highly professional, will surely solve 
      our purpose. 

      If someone is willing to extend help in this direction,
      then following are the guidelines how you should design
      html page:
         1. Open Qt Creator
         2. Create a widget in the designer.
         3. Place a QTextBrowser control somewhere.
         4. Double-click within the control.
         5. A rich-text editing box will appear.
         6. Design the page.
         7. Click on the "Source" tab at the bottom.
         8. Select the whole source with Ctrl+A and copy with Ctrl+C.
         9. Create a .html file with notepad, paste the source, and save.

      The process is lengthy, but no other html editor solves our 
      purpose due to limited html tags availability in QTextBrowser.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideobject.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/docs/
    trunk/harbour/contrib/hbide/docs/idemainpage.html
    trunk/harbour/contrib/hbide/docs/interfaceelements.html
    trunk/harbour/contrib/hbide/docs/multiviews.html
    trunk/harbour/contrib/hbide/resources/help.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Wed Feb 10 00:46:46 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Feb 10 00:46:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <27526450.post@talk.nabble.com>


Hi



vouchcac wrote:
> 
> 
>       As we have decided against QtWebkit, this implementation
>       may not look highly professional, will surely solve 
>       our purpose. 
> 
> 

I don't understand, what is the reason for this decision.
I am currently working with Qt 4.6.1 (both MSVC8, and official MINGW 4.0) 
with no problems.
IMHO QtWebkit  is  one of the most important parts of Qt 
(and other toolkits to : WebkitGTK,wxWebkit). 
In the near future:  "DESKTOP==BROWSER & GUI==BROWSER BASED.
There is a lot off evidence: GNOME SHELL,CHROME OS,Qt (QML, SVG, CSS...)
As I understood and as I  hope , it was only a temporary decision .
Today it's easier to develop desktop apps with Qt designer, GLADE or Delphi,
but that is changing rapidly.
The only problem is that there are to many possibilities
(AJAX,XUL,SVG,HTML5) .
Html is standard for documentation for many years now (CHM is html with some
extensions).

I hope that this decision will be reconsidered again.

BRGS
Fran?ek

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13834--trunk-harbour-tp27525434p27526450.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Feb 10 02:22:28 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 10 02:22:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13786] trunk/harbour
In-Reply-To: <E1Ndu4I-0003nH-NQ@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1Ndu4I-0003nH-NQ@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <609353e71002092322x38cd6550x2b7b4adba01e23e5@mail.gmail.com>

Is not implemented find in files

2010/2/7 <vouchcac@users.sourceforge.net>

> Revision: 13786
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13786&view=rev
> Author:   vouchcac
> Date:     2010-02-06 23:27:45 +0000 (Sat, 06 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-06 15:21 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbide/resources/findinfiles.ui
>  * contrib/hbide/resources/findinfiles.uic
>
>  * contrib/hbide/hbide.ch
>  * contrib/hbide/hbide.prg
>  * contrib/hbide/idefindreplace.prg
>  * contrib/hbide/ideobject.prg
>  * contrib/hbide/idesaveload.prg
>
>    ! Fixed for RegEx to be compiled with case sensivity.
>      BTW, hb_regEx( compiledRegExp, cString, lCaseSensitive, ... )
>      does not honor <lCaseSensitive> attribute. Only
>      hb_compRegEx() honors.
>
>    + Implemented to remember last find folder and search expression.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/hbide.ch
>    trunk/harbour/contrib/hbide/hbide.prg
>    trunk/harbour/contrib/hbide/idefindreplace.prg
>    trunk/harbour/contrib/hbide/ideobject.prg
>    trunk/harbour/contrib/hbide/idesaveload.prg
>    trunk/harbour/contrib/hbide/resources/findinfiles.ui
>    trunk/harbour/contrib/hbide/resources/findinfiles.uic
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100210/df2c7a04/attachment.html
From bedipritpal at hotmail.com  Wed Feb 10 02:39:26 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 10 02:39:33 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13786] trunk/harbour
In-Reply-To: <609353e71002092322x38cd6550x2b7b4adba01e23e5@mail.gmail.com>
References: <E1Ndu4I-0003nH-NQ@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71002092322x38cd6550x2b7b4adba01e23e5@mail.gmail.com>
Message-ID: <1265787566376-4546431.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Is not implemented find in files
> 

What you mean by "Is not implemented" ?




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13786-trunk-harbour-tp4527389p4546431.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Wed Feb 10 02:45:00 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 10 02:45:08 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <27526450.post@talk.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
Message-ID: <1265787900248-4546441.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> I don't understand, what is the reason for this decision.
> I am currently working with Qt 4.6.1 (both MSVC8, and official MINGW 4.0) 
> with no problems.
> IMHO QtWebkit  is  one of the most important parts of Qt 
> (and other toolkits to : WebkitGTK,wxWebkit). 
> In the near future:  "DESKTOP==BROWSER & GUI==BROWSER BASED.
> There is a lot off evidence: GNOME SHELL,CHROME OS,Qt (QML, SVG, CSS...)
> As I understood and as I  hope , it was only a temporary decision .
> Today it's easier to develop desktop apps with Qt designer, GLADE or
> Delphi,
> but that is changing rapidly.
> The only problem is that there are to many possibilities
> (AJAX,XUL,SVG,HTML5) .
> Html is standard for documentation for many years now (CHM is html with
> some
> extensions).
> 
> I hope that this decision will be reconsidered again.
> 

The decision was based on two factors:

1. Qt with WebKit was not available on some distributions,
   which ones, I do not remember, someone has to update this.
2. WebKit was too heavy. Appln consumed double the size of normal load.

But for sure QtWebKit will be a must for us. 
Classes are ready and were implemented in hbXBP.
Only group decision is required. I do not know about *nix distros.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13834-trunk-harbour-tp4545547p4546441.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mbelgrano at deltain.it  Wed Feb 10 02:46:00 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 10 02:46:28 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13786] trunk/harbour
In-Reply-To: <1265787566376-4546431.post@n2.nabble.com>
References: <E1Ndu4I-0003nH-NQ@sfp-svn-3.v30.ch3.sourceforge.com> 
	<609353e71002092322x38cd6550x2b7b4adba01e23e5@mail.gmail.com> 
	<1265787566376-4546431.post@n2.nabble.com>
Message-ID: <609353e71002092346l1399eb18t89cf726f5f918bdc@mail.gmail.com>

i search in *.prg c:\harbour (include subdir) the expression "local" and not
found result

2010/2/10 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Massimo Belgrano wrote:
> >
> > Is not implemented find in files
> >
>
> What you mean by "Is not implemented" ?
>
>
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/SF-net-SVN-harbour-project-13786-trunk-harbour-tp4527389p4546431.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia
Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica -
Formazione
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100210/920ccee4/attachment.html
From bedipritpal at hotmail.com  Wed Feb 10 02:58:53 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 10 02:59:01 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13786] trunk/harbour
In-Reply-To: <609353e71002092346l1399eb18t89cf726f5f918bdc@mail.gmail.com>
References: <E1Ndu4I-0003nH-NQ@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71002092322x38cd6550x2b7b4adba01e23e5@mail.gmail.com>
	<1265787566376-4546431.post@n2.nabble.com>
	<609353e71002092346l1399eb18t89cf726f5f918bdc@mail.gmail.com>
Message-ID: <1265788733971-4546479.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> i search in *.prg c:\harbour (include subdir) the expression "local" and
> not
> found result
> 

Oh, you mean "sub-folders" ?
I implement in a while, stay tuned.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13786-trunk-harbour-tp4527389p4546479.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From maurilio.longo at libero.it  Wed Feb 10 03:22:32 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 10 03:22:44 2010
Subject: [Harbour] waiting for multiple "objects"
Message-ID: <4B726CC8.7040803@libero.it>

Hi,

is there a way in harbour to wait for multiple inputs, think about a socket
and a mutex, without polling them regularly?

Thanks.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Wed Feb 10 03:40:54 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 10 03:41:22 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13786] trunk/harbour
In-Reply-To: <1265788733971-4546479.post@n2.nabble.com>
References: <E1Ndu4I-0003nH-NQ@sfp-svn-3.v30.ch3.sourceforge.com> 
	<609353e71002092322x38cd6550x2b7b4adba01e23e5@mail.gmail.com> 
	<1265787566376-4546431.post@n2.nabble.com>
	<609353e71002092346l1399eb18t89cf726f5f918bdc@mail.gmail.com> 
	<1265788733971-4546479.post@n2.nabble.com>
Message-ID: <609353e71002100040k761ef1f4w92e86f159733b7c2@mail.gmail.com>

good
It can be usefull for user who start using harbour and want info about a
function

2010/2/10 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Massimo Belgrano wrote:
> >
> > i search in *.prg c:\harbour (include subdir) the expression "local" and
> > not
> > found result
> >
>
> Oh, you mean "sub-folders" ?
> I implement in a while, stay tuned.
>
> --
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100210/4442f519/attachment.html
From maurilio.longo at libero.it  Wed Feb 10 03:48:35 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 10 03:48:48 2010
Subject: [Harbour] hbinet.c
Message-ID: <4B7272E3.9040601@libero.it>

Hi,

is there a reason for the fact that hbinet.c defines these errors

#define HB_INET_ERR_OK           0
#define HB_INET_ERR_TIMEOUT      ( -1 )
#define HB_INET_ERR_CLOSEDCONN   ( -2 )
#define HB_INET_ERR_BUFFOVERRUN  ( -3 )
#define HB_INET_ERR_CLOSEDSOCKET ( -4 )

which have different values from the ones inside hbsocket.ch ?

For example

#define HB_SOCKET_ERR_TIMEOUT             2
#define HB_INET_ERR_TIMEOUT      ( -1 )

What am I missing?

Maurilio

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Wed Feb 10 03:51:43 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 10 03:51:55 2010
Subject: [Harbour] hb_QWith()/with object inside macro compiler
In-Reply-To: <20100207121426.GA27677@linux-4bod.home.aster.pl>
References: <4B67D947.3000704@libero.it>	<20100202152545.GA10503@linux-4bod.home.aster.pl>	<E9ED5480-58A4-4DF9-B981-F593E5F3A8C6@syenar.hu>	<4B69353B.2020103@libero.it>
	<20100207121426.GA27677@linux-4bod.home.aster.pl>
Message-ID: <4B72739F.5060502@libero.it>

Przemyslaw,

I see your point and thanks for the patch, but I'd rather change my code to
add a private and keep the syntatic sugar of :cgiOut(...) changing it to
__oCGI:cgiOut( ... ) while parsing the page because I don't like having a
personal harbour core.

Thanks a lot.

Maurilio.

Przemys?aw Czerpak wrote:
> On Wed, 03 Feb 2010, Maurilio Longo wrote:
> 
> Hi,
> 
>> I'd like to see a sample of code which uses with var as well.
>> Right now, with object enables me to write dynamic html pages via an
>> interpreter which uses &() to evaluate source code and to hide to this
>> interpreted code whether it is being run as a CGI or as a fast CGI (sort of,
>> it is xitami lrwp protocol).
>>
>> I try to explain more in detail so that you can grasp what I'm looking for and
>> tell me if it is feasible or not with harbour (and following harbour rules).
>>
>> My web server has an association between .prg files and a cgi program called
>> hscript (like the old contrib one from which I borrowed several ideas).
>>
>> When a request comes in for a page with .prg extension the web server calls
>> hscript which 'executes' the source code like a cgi program and, before
>> returning, starts another instance of itself which attaches to the webserver
>> via the lrwp protocol so that all following requests for the same page are an
>> order of magnitude faster.
>>
>> Inside hscript I have code like this:
> [...]
>> // interpreted
>> with object oCGI
>> 	Interprete( .... )
>> end
>> // fast cgi
>> with object oLRWP
>> 	Interprete( ... )
>> end
> [...]
>> where <% and %> delimit clipper code which calls the oCGI/oLRWP methods to do
>> its work, output things, or access oCGI/oLRWP iVARs like :Sever_Name or
>> :Query_String.
>> So, if with var works with &() it is perfect for me, I don't mind having to
>> change a few with object statements.
>> with var oCGI
>> 	Interprete( ... )
>> end
>> I'm really not able to give you more valid reasons to have such a capability,
>> because I'm using it just for this kind of code (my employer web site, for
>> example, is completely written this way).
> 
> In the above text you haven't presented anything what causes that you
> have to use WITH OBJECT at all. In such context you can reach the same
> effect using some private variables, i.e. _WITH and make all such code
> Clipper compatible so for me it's not the reason to change core code.
> 
> If I add such extension and document using :<msg> in macro compiler
> then it will be very hard to revert it in the future and it will close
> door to optimize code generated for WITH OBJECT because it will be
> necessary to keep current implementation which needs additional HVM
> stack register <lWithObject> which can be eliminated and by compile
> time calculations. In my opinion it's bad idea and I think that most
> of users prefer better performance then some seldom use extensions
> which are not structural and volatile language semantic (it's possible
> to use such macros outside WITH OBJECT / END statement what should be
> forbidden). Also HB_QWITH() function comes from XHB library and it's
> not Harbour core functions because in the future it's possible that
> we will have to eliminate it.
> Now WITH OBJECT is in practice compiler only extension. It was added
> replicating xHarbour behavior for compatibility but it introduced
> series of anomalies like hacked preprocessor (I sent examples in
> previous message) or code with more then one meaning, i.e.:
>    case : msg()
> used inside DO CASE and WITH OBJECT statement can be compiled as:
>    case ( :msg() )   // DO CASE condition
> or:
>    (case):msg()      // 'msg' is sent to object in 'case' variable
> 
> Such things should not happen in well designed language so I would
> like to eliminate it in the future even with the cost of compatibility
> with xHarbour.
> As long as current WITH OBJECT is compiler only extension then when
> we replace it by some new one users can easy fix their code because
> old syntax is reported as error at compile time so it will be simple
> process. If we add official support for :<msg>[(<params,...>)] to
> macrocompiler then compiler won't report any errors at compile time
> making switching to new syntax much harder.
> Now probably only few users like you used it in macrocompiler creating
> code for xHarbour so such extension will only increase the problem in
> the future.
> 
> I can understand that you have some xHarbour code and it's serious
> problem for you. In last commit I cleaned some grammar code used
> to compile messages so you can enable it very easy in your own
> personal Harbour builds. It's enough to add this line to macro.y[485]:
> 
>             | ':' SendId                  { $$ = $2; }
> 
> and regenerate macro.yyc
> 
> below is a patch.
> 
> HTH and you understand why I do not want to change it in SVN code.
> 
> best regards,
> Przemek
> 
> 
> 
> --- harbour/src/macro/macro.y	(wersja 13789)
> +++ harbour/src/macro/macro.y	(kopia robocza)
> @@ -482,6 +482,7 @@
>  /* Object's instance variable
>   */
>  ObjectData  : LeftExpression ':' SendId   { $$ = hb_compExprNewMethodObject( $3, $1 ); }
> +            | ':' SendId                  { $$ = $2; }
>              ;
>  
>  SendId      : IDENTIFIER     { $$ = hb_compExprNewSend( $1, HB_COMP_PARAM ); }
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From sscc at mweb.co.za  Wed Feb 10 04:02:02 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Feb 10 04:02:11 2010
Subject: [Harbour] File names in dos/windows and Linux
In-Reply-To: <133778361002090750p6be05b40k518b24b19cb3dafa@mail.gmail.com>
References: <133778361002090750p6be05b40k518b24b19cb3dafa@mail.gmail.com>
Message-ID: <4B72760A.5040200@mweb.co.za>

Bruno Luciani wrote:
> Hi, there is in Harbour any function to get the DOS short filename (8.3) ?
>
> I'm using an API function but I like to  use and standard Harbour function.

No, I didn't find anything. I have made a small change to the Harbour one, which 
you are welcome to look at, but I do see you are using something already.

There is no issue like this under Linux.

Regards
Alex

From harbour.01 at syenar.hu  Wed Feb 10 04:03:18 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 04:03:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <27526450.post@talk.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
Message-ID: <8FC98E0D-AF73-4F6D-8169-5EBFB05638BE@syenar.hu>

Sorry, but I don't understand: QWebKit is an embedded web 
browser component. Why do we need to implement a browser 
in Harbour?

There are _plenty_ of free browsers on the market which 
do the job much better than any local effort in Harbour 
will ever do.

Launch it and us it, that's all.

If someone terribly needs a browser in a local window, 
it should be dead easy to implement it as a 3rd party 
project.

Brgds,
Viktor

On 2010 Feb 10, at 06:46, Fran?ek Prijatelj wrote:

> 
> Hi
> 
> 
> 
> vouchcac wrote:
>> 
>> 
>>      As we have decided against QtWebkit, this implementation
>>      may not look highly professional, will surely solve 
>>      our purpose. 
>> 
>> 
> 
> I don't understand, what is the reason for this decision.
> I am currently working with Qt 4.6.1 (both MSVC8, and official MINGW 4.0) 
> with no problems.
> IMHO QtWebkit  is  one of the most important parts of Qt 
> (and other toolkits to : WebkitGTK,wxWebkit). 
> In the near future:  "DESKTOP==BROWSER & GUI==BROWSER BASED.
> There is a lot off evidence: GNOME SHELL,CHROME OS,Qt (QML, SVG, CSS...)
> As I understood and as I  hope , it was only a temporary decision .
> Today it's easier to develop desktop apps with Qt designer, GLADE or Delphi,
> but that is changing rapidly.
> The only problem is that there are to many possibilities
> (AJAX,XUL,SVG,HTML5) .
> Html is standard for documentation for many years now (CHM is html with some
> extensions).
> 
> I hope that this decision will be reconsidered again.
> 
> BRGS
> Fran?ek
> 
> -- 
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13834--trunk-harbour-tp27525434p27526450.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Wed Feb 10 04:07:41 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 10 04:07:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13835] trunk/harbour
Message-ID: <E1Nf8Xt-0001z9-ET@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13835
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13835&view=rev
Author:   vouchcac
Date:     2010-02-10 09:07:40 +0000 (Wed, 10 Feb 2010)

Log Message:
-----------
2010-02-10 01:00 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/docs/idemainpage.html
  * contrib/hbide/docs/multiviews.html

  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idesources.prg
    + Extended Find-in-files search to sub-folders.
    + Implemented navigation in "hbIDE Help" under context menu.
    % Normalized status-bar panels, added distinct colors where required.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/docs/idemainpage.html
    trunk/harbour/contrib/hbide/docs/multiviews.html
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idesources.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vatzct at polly.com.ua  Wed Feb 10 04:16:20 2010
From: vatzct at polly.com.ua (vatzct)
Date: Wed Feb 10 04:15:37 2010
Subject: [Harbour] DOC for DIRREMOVE incorrect syntax in \doc\en-EN\file.txt
Message-ID: <4B727964.4030502@polly.com.ua>

Hi!

/*  $DOC$
  *  $TEMPLATE$
  *      Function
  *  $NAME$
  *      DIRREMOVE()
  *  $CATEGORY$
  *      API
  *  $SUBCATEGORY$
  *      FileSys
  *  $ONELINER$
  *      Attempt to remove an directory
  *  $SYNTAX$
  *      DIRCHANGE( <cDirectory> ) --> nError

Regards,
Alexey Myronenko

From bedipritpal at hotmail.com  Wed Feb 10 04:23:07 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 10 04:23:16 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <8FC98E0D-AF73-4F6D-8169-5EBFB05638BE@syenar.hu>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<8FC98E0D-AF73-4F6D-8169-5EBFB05638BE@syenar.hu>
Message-ID: <1265793787392-4546782.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Sorry, but I don't understand: QWebKit is an embedded web 
> browser component. Why do we need to implement a browser 
> in Harbour?
> 
> There are _plenty_ of free browsers on the market which 
> do the job much better than any local effort in Harbour 
> will ever do.
> 
> Launch it and us it, that's all.
> 
> If someone terribly needs a browser in a local window, 
> it should be dead easy to implement it as a 3rd party 
> project.
> 

It is ok that we have not to implement it in Harbour.
But this is not ok that the use of QtWebKit is synonymous 
to any web-browser in the market. QtWebKit is begins where 
any web-browser ends. It transfers the control to desktop
application to present and exploit web-contents with 
DBFCDX. No browser gives this flexibility.

To illustrate, you create a window as a web-page, design 
its contents from some table's fields, capture the user-input,
naviage the www as your appln requires and accomplish 
your target in modern environments. This alone opens up a
pandora of extensions.

The only point I disliked is its heavy load. But then, if you 
ever visualized in the task manger, IE also consumes a 
lot of memory.

QtWebKit is not a "browser" by definition, a framework 
to design user-interface, even ReadModal() the WWW way.
It is much more than, to understand better, Alaska's WAA.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13834-trunk-harbour-tp4545547p4546782.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Wed Feb 10 04:27:02 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 10 04:27:09 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13786] trunk/harbour
In-Reply-To: <609353e71002100040k761ef1f4w92e86f159733b7c2@mail.gmail.com>
References: <E1Ndu4I-0003nH-NQ@sfp-svn-3.v30.ch3.sourceforge.com>
	<609353e71002092322x38cd6550x2b7b4adba01e23e5@mail.gmail.com>
	<1265787566376-4546431.post@n2.nabble.com>
	<609353e71002092346l1399eb18t89cf726f5f918bdc@mail.gmail.com>
	<1265788733971-4546479.post@n2.nabble.com>
	<609353e71002100040k761ef1f4w92e86f159733b7c2@mail.gmail.com>
Message-ID: <1265794022335-4546805.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> good
> It can be usefull for user who start using harbour and want info about a
> function
> 

This is not usefu for Harbour only, but in everyday task.

Can you confirm it is working the way you visualize after r13835.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13786-trunk-harbour-tp4527389p4546805.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Wed Feb 10 04:46:42 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 04:46:53 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <1265793787392-4546782.post@n2.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<8FC98E0D-AF73-4F6D-8169-5EBFB05638BE@syenar.hu>
	<1265793787392-4546782.post@n2.nabble.com>
Message-ID: <0841E6B6-39E6-48CA-899B-1C223A0989CF@syenar.hu>

>> Sorry, but I don't understand: QWebKit is an embedded web 
>> browser component. Why do we need to implement a browser 
>> in Harbour?
>> 
>> There are _plenty_ of free browsers on the market which 
>> do the job much better than any local effort in Harbour 
>> will ever do.
>> 
>> Launch it and us it, that's all.
>> 
>> If someone terribly needs a browser in a local window, 
>> it should be dead easy to implement it as a 3rd party 
>> project.
>> 
> 
> It is ok that we have not to implement it in Harbour.
> But this is not ok that the use of QtWebKit is synonymous 
> to any web-browser in the market. QtWebKit is begins where 
> any web-browser ends. It transfers the control to desktop
> application to present and exploit web-contents with 
> DBFCDX. No browser gives this flexibility.
> 
> To illustrate, you create a window as a web-page, design 
> its contents from some table's fields, capture the user-input,
> naviage the www as your appln requires and accomplish 
> your target in modern environments. This alone opens up a
> pandora of extensions.
> 
> The only point I disliked is its heavy load. But then, if you 
> ever visualized in the task manger, IE also consumes a 
> lot of memory.

That is why I don't use IE. Of course other browsers 
also eat a lot of memory (WebKit-based ones too), 
and here I like the choice that I can simply close them 
when I don't need them.

> QtWebKit is not a "browser" by definition, a framework 
> to design user-interface, even ReadModal() the WWW way.
> It is much more than, to understand better, Alaska's WAA.

I also fail to see a point in a non-client-server web GUI, 
but all available documentation indicates that QtWebKit 
module is the WebKit browser engine ported to the Qt 
project. I don't see any notion of user interface 
design. Of course you can internally generate a webpage 
and display it in the same app, but that's not more than 
"smoke and mirrors", not real web UI.

If we want to offer web UI in Harbour, it should be done 
what 99.9% of ppl perceive as web UI: a regular web 
browser client (of user's choice!) with a server backend.

For this we don't need a browser component in Harbour.

Also notice that QtWebKit, like all other browser components 
is full of security problems, and I'm not sure we in Harbour 
need to take this extra worry on our back.

BTW back than nobody told you to remove QtWebKit, all we 
were saying was to _separate/modularize components_ so that 
apps that don't need QtWebKit would not require its .dll 
and all the heavy load with it, plus that hbqt and qt apps 
could be built on platforms that don't have QtWebKit. Since 
you removed it instead of resolving the modularization, 
I guess the latter was impossible, or wasn't important enough. 
Anyhow I think it's a quite bad idea to add 20MB of .dll 
to hbide (loaded into memory on every startup) just to display 
help text. But, hbide is already off the track I would have 
imagined for native Harbour IDE, so for me this doesn't really 
matter anymore, the rest of point stays valid though.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Feb 10 05:53:55 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 10 05:54:09 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>
References: <20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
	<20100209230304.GA3788@linux-4bod.home.aster.pl>
	<9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
	<20100210000415.GA7462@linux-4bod.home.aster.pl>
	<BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>
Message-ID: <20100210105355.GA9997@linux-4bod.home.aster.pl>

On Wed, 10 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Another idea, and this looks the best so far. Why not introduce 
> a symbol which can be REQUESTed from app code, if someone wants 
> to enable pcode loading feature?
> F.e.
>    REQUEST HB_LIB (or HB_LIBDYN...)
> This would pull above code from a separate .c file, which .c file 
> wouldn't be part of harbour*.dll, only reside in static lib with 
> no reference to it from Harbour code code.

Yes, this is a solution.
I though about it but in practice it means that it's necessary to create
separate library which is not included by harbour*.dll or hack make files
to exclude single file from harbour shared library. Personally I do not
like such hacks because sooner or later they are exploited by sth, i.e.
it's not possible to recompile current Harbour code with HB_DYNLIB macro
so I would prefer such library though global filter used to excluded files
from harbour shared library seems to be acceptable.
I'll commit the modifications in a while so you can decide about final
form to include exported version of hb_vmProcAddress() function.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb 10 06:03:16 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 06:03:27 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100210105355.GA9997@linux-4bod.home.aster.pl>
References: <20100209190133.GB25396@linux-4bod.home.aster.pl>
	<B6953E58-51A9-441A-8C60-6CE71BF76B89@syenar.hu>
	<20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
	<20100209230304.GA3788@linux-4bod.home.aster.pl>
	<9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
	<20100210000415.GA7462@linux-4bod.home.aster.pl>
	<BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>
	<20100210105355.GA9997@linux-4bod.home.aster.pl>
Message-ID: <98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu>

Hi,

>> Another idea, and this looks the best so far. Why not introduce 
>> a symbol which can be REQUESTed from app code, if someone wants 
>> to enable pcode loading feature?
>> F.e.
>>   REQUEST HB_LIB (or HB_LIBDYN...)
>> This would pull above code from a separate .c file, which .c file 
>> wouldn't be part of harbour*.dll, only reside in static lib with 
>> no reference to it from Harbour code code.
> 
> Yes, this is a solution.
> I though about it but in practice it means that it's necessary to create
> separate library which is not included by harbour*.dll or hack make files
> to exclude single file from harbour shared library. Personally I do not
> like such hacks because sooner or later they are exploited by sth, i.e.
> it's not possible to recompile current Harbour code with HB_DYNLIB macro

Which should never be necessary in normal situation.
IOW if such is required to access any standard Harbour 
feature, it's a bug by itself to be fixed.

> so I would prefer such library though global filter used to excluded files
> from harbour shared library seems to be acceptable.

I'd certainly be better. We can add such extra library 
f.e. by the name 'maindll'.

> I'll commit the modifications in a while so you can decide about final
> form to include exported version of hb_vmProcAddress() function.

Great.

Brgds,
Viktor

From francek.prijatelj at siol.net  Wed Feb 10 06:24:14 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Feb 10 06:24:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <1265787900248-4546441.post@n2.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
Message-ID: <27529186.post@talk.nabble.com>


Hi 


Pritpal Bedi wrote:
> 
> 
> The decision was based on two factors:
> 
> 1. Qt with WebKit was not available on some distributions,
>    which ones, I do not remember, someone has to update this.
> 2. WebKit was too heavy. Appln consumed double the size of normal load.
> 
> But for sure QtWebKit will be a must for us. 
> Classes are ready and were implemented in hbXBP.
> Only group decision is required. I do not know about *nix distros.
> 
> 

It's available AFAIK on Win,Linux,Symbian.
Win32 /64 is available only on Win platforms, but it's hosted in
contrib\hbwin.
I see that you have everything ready.
Is there any problem to have something like HB_WITH_QT_WEBKIT and 
build it only on supported platforms.

BRGS
Fran?ek

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13834--trunk-harbour-tp27525434p27529186.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Feb 10 06:30:09 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 06:30:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <27529186.post@talk.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
	<27529186.post@talk.nabble.com>
Message-ID: <4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>

> Pritpal Bedi wrote:
>> 
>> 
>> The decision was based on two factors:
>> 
>> 1. Qt with WebKit was not available on some distributions,
>>   which ones, I do not remember, someone has to update this.
>> 2. WebKit was too heavy. Appln consumed double the size of normal load.
>> 
>> But for sure QtWebKit will be a must for us. 
>> Classes are ready and were implemented in hbXBP.
>> Only group decision is required. I do not know about *nix distros.
>> 
>> 
> 
> It's available AFAIK on Win,Linux,Symbian.
> Win32 /64 is available only on Win platforms, but it's hosted in
> contrib\hbwin.
> I see that you have everything ready.
> Is there any problem to have something like HB_WITH_QT_WEBKIT and 
> build it only on supported platforms.

First we should discuss all concerns, if you care, pls 
answer them. BTW, it's supported on _some_ Linux distros. 
HB_WITH_QT_WEBKIT is no solution, but hack. Such setting 
should be resolved automatically.

Or, it's still an option to move the whole QT related 
stuff from Harbour SVN to somewhere else and satisfy 
QT user special requests there.

Brgds,
Viktor

From druzus at users.sourceforge.net  Wed Feb 10 06:34:43 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 10 06:34:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13836] trunk/harbour
Message-ID: <E1NfAqB-0004bL-UT@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13836
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13836&view=rev
Author:   druzus
Date:     2010-02-10 11:34:42 +0000 (Wed, 10 Feb 2010)

Log Message:
-----------
2010-02-10 12:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/pp/Makefile
  * harbour/src/pp/hbpp.c
    ! fixed compilation with HB_DYNLIB macro

  - harbour/src/vm/maindll.c
    - removed unused dummy file

  * harbour/src/vm/Makefile
  * harbour/include/hbapi.h
  + harbour/src/vm/procaddr.c
    + added hb_vmProcAddress() function

  * harbour/include/hbdefs.h
    + added HB_EXPORT_ATTR and HB_IMPORT_ATTR macros - they are always
      defined regardless of HB_DYNLIB macro state

  * harbour/src/vm/maindllh/Makefile
    * disabled HB_DYNLIB

  * harbour/src/vm/maindllp/Makefile
  + harbour/src/vm/maindllp/dllpcode.c
    + added new import library for PCODE DLLs. It contains wrappers for
      hb_vmProcessSymbols() and hb_vmExecute() implemented in a way
      which creates minimal speed overhead.
    + added error reporting (MessageBox()) when redirected functions
      cannot be found.
    + added hb_dllGetProcAddress() C function

  * harbour/include/hbtypes.h
  - harbour/src/vm/maindllp.c
  + harbour/src/vm/maindllp/dllext.c
    * moved old wrappers to some of extended and array API functions
      into separate file
    * updated to use hb_dllGetProcAddress()
    - removed functions which should not be used by user code
    % cleaned, optimized and added error reporting to function wrappers.

    I do not know who chose exported functions but it looks like a
    quite random set which should be extended for real functionality.
    If someone is interested then he can do that. I updated this file
    only for backward compatibility.

   Above modifications allows to use PCODE DLLs with any application
   also static ones using Harbour compiled without exported symbols.
   It's enough to link it with this function:
      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
      {
         return hb_vmProcAddress( szFuncName );
      }
   The official form of including above function to final binaries is not
   defined yet.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbtypes.h
    trunk/harbour/src/pp/Makefile
    trunk/harbour/src/pp/hbpp.c
    trunk/harbour/src/vm/Makefile
    trunk/harbour/src/vm/maindllh/Makefile
    trunk/harbour/src/vm/maindllp/Makefile

Added Paths:
-----------
    trunk/harbour/src/vm/maindllp/dllext.c
    trunk/harbour/src/vm/maindllp/dllpcode.c
    trunk/harbour/src/vm/procaddr.c

Removed Paths:
-------------
    trunk/harbour/src/vm/maindll.c
    trunk/harbour/src/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Wed Feb 10 06:46:17 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Feb 10 06:46:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <8FC98E0D-AF73-4F6D-8169-5EBFB05638BE@syenar.hu>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<8FC98E0D-AF73-4F6D-8169-5EBFB05638BE@syenar.hu>
Message-ID: <27529909.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Sorry, but I don't understand: QWebKit is an embedded web 
> browser component. Why do we need to implement a browser 
> in Harbour?
> 
> There are _plenty_ of free browsers on the market which 
> do the job much better than any local effort in Harbour 
> will ever do.
> 
> Launch it and us it, that's all.
> 
> If someone terribly needs a browser in a local window, 
> it should be dead easy to implement it as a 3rd party 
> project.
> 
> 

Many modern applications (almost all IDES)  use integrated web machine
(GECKO of Firefox, Webkit of Safari,Chrome,Trident of IE) for 
documentation. Qt assistant uses QtWebkit. Ms uses Trident in many places
(Visual studio,..)
As I said, the trend is in replacement of UI with browser based UI.
Many of web based UI toolkits are IMHO even more advanced and have
more controls than "standard" toolkits.
For example : http://demo.qooxdoo.org/current/demobrowser/

BRGS
Fran?ek

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13834--trunk-harbour-tp27525434p27529909.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Feb 10 07:04:29 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 10 07:04:38 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu>
References: <20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
	<20100209230304.GA3788@linux-4bod.home.aster.pl>
	<9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
	<20100210000415.GA7462@linux-4bod.home.aster.pl>
	<BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>
	<20100210105355.GA9997@linux-4bod.home.aster.pl>
	<98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu>
Message-ID: <20100210120429.GA11344@linux-4bod.home.aster.pl>

On Wed, 10 Feb 2010, Szak?ts Viktor wrote:

Hi,

> > I though about it but in practice it means that it's necessary to create
> > separate library which is not included by harbour*.dll or hack make files
> > to exclude single file from harbour shared library. Personally I do not
> > like such hacks because sooner or later they are exploited by sth, i.e.
> > it's not possible to recompile current Harbour code with HB_DYNLIB macro
> Which should never be necessary in normal situation.
> IOW if such is required to access any standard Harbour 
> feature, it's a bug by itself to be fixed.

Interesting, Important for me feature you are calling bug :)
I hope that in the future we will not lost possibilities to
build Harbour with and without exported symbols using some
optional settings.

> > so I would prefer such library though global filter used to excluded files
> > from harbour shared library seems to be acceptable.
> I'd certainly be better. We can add such extra library 
> f.e. by the name 'maindll'.

IMO it should have different name. Such library will be used for
code which should not be included in dynamic/shared library and
above name suggested completely different usage. I'd rather prefer
sth like 'hbstatic'.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Feb 10 07:05:33 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 10 07:05:43 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100209190133.GB25396@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
Message-ID: <20100210120533.GB11344@linux-4bod.home.aster.pl>

On Tue, 09 Feb 2010, Przemys?aw Czerpak wrote:

Hi Viktor,

> 1. -implib in MinGW and OpenWatcom builds uses "{OI}" as import
>    library name. In BCC builds it works OK. I haven't tested other
>    builds

Can you fix it?

best regards,
Przemek
From jarabal at gmail.com  Wed Feb 10 07:06:58 2010
From: jarabal at gmail.com (Xavi)
Date: Wed Feb 10 07:07:25 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>	<4B7161D1.4050002@gmail.com>
	<AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>
Message-ID: <4B72A162.5090802@gmail.com>

Hi Viktor,

To avoid ASM the compiler needs to know the call and sizes at compile time.
Too many combinations for a job that may not be perfect and maybe unused.
It's possible to simplify overwriting the stack with struct of byte array more call more choice but I think with some 
optimizations will have problems: I really don't like either solution.

Otherwise I think that can be used win64 implement also for win32 with some modifications.
What do you think of the patch attached (names are irrelevant)?

Also I would suggest copying items parameters inside HB_WINARG to avoid changes if they are not passed by reference.

Best regards,
Xavi

El 09/02/2010 14:49, Viktor Szak?ts escribi?:
> Hi,
>
>>>  From this point it's users responsibility to
>>> pass parameters properly.
>>
>> Ok. Next topic: coverage of potential C .dll functions.
>>
>> IMO it's unworkable cover functions of n parameters with n size,
>> seems reasonable to restrict to 15 the number of parameters.
>
> This limit already exists, and it should be enough for
> a start. Anyway, once the scheme is developed, it will be
> easy to extend if it's worth it or required. For vast
> majority of cases 15 is enough.
>
>> Currently only covering sizes of 4, 8 bytes in win32 and 8 bytes in win64.
>> This means that calls to PosibleDLLfunc( WORD wPar, BYTE bPar ) are not possible.
>
> 4 and 8 byte parameters are enough for all win32
> calling conventions. So it's possible to pass BYTE
> already.
>
>> How many types of data have to be supported?
>
> win32: 4 or 8 for arguments, return value can be 4, 8 bytes or double/float.
>         plus each in two variations: cdecl or stdcall (winapi)
> win64: 8 for argument, return value is also 8 bytes
>
>> BYTE, WORD, DWORD, PVOID, float, double.
>
> For win64 current solution covers all combinations, as
> there is a much simpler calling convention there, see:
>     http://msdn.microsoft.com/en-us/library/ms235286(VS.80).aspx
>
> Brgds,
> Viktor
>
-------------- next part --------------
Index: win_dll.c
===================================================================
--- win_dll.c	(revision 13835)
+++ win_dll.c	(working copy)
@@ -61,7 +61,7 @@
 #include "hbapiitm.h"
 #include "hbvm.h"
 
-#if !defined( __CYGWIN__ ) && !defined( HB_NO_ASM )
+#if !defined( __CYGWIN__ )
 
 /* ==================================================================
  * DynaCall support comments below
@@ -156,8 +156,14 @@
 
 #pragma pack()
 
+#define HB_OS_WIN_64_32
+
 #if ! defined( HB_OS_WIN_64 )
+#  define HB_U64 HB_U32
+#endif
 
+#if ! defined( HB_OS_WIN_64_32 )
+
 static HB_DYNRETVAL hb_DynaCall( int iFlags, FARPROC lpFunction, int nArgs, HB_DYNPARAM Parm[], void * pRet, int nRetSiz )
 {
    /* Call the specified function with the given parameters. Build a
@@ -384,7 +390,7 @@
 
 #define _DLLEXEC_MAXPARAM   15
 
-#if defined( HB_OS_WIN_64 )
+#if defined( HB_OS_WIN_64_32 )
 
 typedef struct
 {
@@ -554,7 +560,7 @@
    if( iRtype == 0 )
       iRtype = CTYPE_UNSIGNED_LONG;
 
-#if defined( HB_OS_WIN_64 )
+#if defined( HB_OS_WIN_64_32 )
    {
       HB_WINCALL wcall;
 
@@ -575,7 +581,7 @@
             wcall.pArg = NULL;
 
          for( tmp = 0; tmp < iParams; ++tmp )
-            wcall.pArg[ tmp ].bByRef = HB_ISBYREF( iFirst + 1 + tmp );
+            wcall.pArg[ tmp ].bByRef = HB_ISBYREF( iFirst + tmp );
 
          switch( iParams )
          {
@@ -601,7 +607,7 @@
          {
             if( wcall.pArg[ tmp ].bByRef )
             {
-               switch( HB_ITEM_TYPE( hb_param( iFirst + 1 + tmp, HB_IT_ANY ) ) )
+               switch( HB_ITEM_TYPE( hb_param( iFirst + tmp, HB_IT_ANY ) ) )
                {
                   case HB_IT_LOGICAL:
                      hb_storl( wcall.pArg[ tmp ].nValue != 0, tmp );
@@ -900,7 +906,7 @@
    if( pbUNICODE )
       *pbUNICODE = HB_FALSE;
 
-#if defined( HB_OS_WIN_64 ) /* TOFIX: Remove this when UNICODE support gets implemented for non-Win64. */
+#if defined( HB_OS_WIN_64_32 ) /* TOFIX: Remove this when UNICODE support gets implemented for non-Win64. */
 #if defined( UNICODE )
    if( ! lpFunction && szProc ) /* try with WIDE suffix? */
    {
@@ -1074,4 +1080,4 @@
    hb_DllExec( DC_CALL_STDCALL, hb_parni( 2 ), ( FARPROC ) hb_parptr( 1 ), NULL, hb_pcount(), 3 );
 }
 
-#endif /* HB_OS_WIN && && !__CYGWIN__ !HB_NO_ASM */
+#endif /* HB_OS_WIN && && !__CYGWIN__ */
From harbour.01 at syenar.hu  Wed Feb 10 07:12:43 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 07:12:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <27529909.post@talk.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<8FC98E0D-AF73-4F6D-8169-5EBFB05638BE@syenar.hu>
	<27529909.post@talk.nabble.com>
Message-ID: <F3AFC248-2BAE-4FA5-B721-9E1866FE38E7@syenar.hu>

>> Sorry, but I don't understand: QWebKit is an embedded web 
>> browser component. Why do we need to implement a browser 
>> in Harbour?
>> 
>> There are _plenty_ of free browsers on the market which 
>> do the job much better than any local effort in Harbour 
>> will ever do.
>> 
>> Launch it and us it, that's all.
>> 
>> If someone terribly needs a browser in a local window, 
>> it should be dead easy to implement it as a 3rd party 
>> project.
>> 
>> 
> 
> Many modern applications (almost all IDES)  use integrated web machine
> (GECKO of Firefox, Webkit of Safari,Chrome,Trident of IE) for 

Can't see your point, these are web browser applications, 
so obviously they have a browser engine built-in.

> documentation. Qt assistant uses QtWebkit. Ms uses Trident in many places
> (Visual studio,..)

So you say it's worth 20MB and all the security 
risks just to display help text? IMO this is totally 
wrong, even in MSVS. Last time MS tried to integrate 
their browser into anything more widely used, they got 
a large lawsuit as a result. So now they only use 
it in such niche tools like dev IDE.

Besides the lawsuit, it's an ill idea from a technical 
POV also.

> As I said, the trend is in replacement of UI with browser based UI.
> Many of web based UI toolkits are IMHO even more advanced and have

To me the direction rather looks like moving applications 
inside the browser, rather than moving the browser inside 
applications.

> more controls than "standard" toolkits.
> For example : http://demo.qooxdoo.org/current/demobrowser/

So now that we have a half-developed and not very well 
tested GUI, we should start to develop a client-side-only 
GUI based on html? IMO the concept is wrong and the 
execution is wrong as well.

Or as the saying goes: 'All application gets "developed" 
until the point they have an integrated e-mail client'? 
(or a web browser, or feed-reader).

Perfect recipe for bloatware.

Guys, please move out QT from our repository and fulfill 
these dreams, for Harbour Project it's much off topic.

Brgds,
Viktor

From francek.prijatelj at siol.net  Wed Feb 10 07:15:46 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Feb 10 07:15:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
	<27529186.post@talk.nabble.com>
	<4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
Message-ID: <27530300.post@talk.nabble.com>


Hi Viktor


Viktor Szak?ts wrote:
> 
> 
> First we should discuss all concerns, if you care, pls 
> answer them. BTW, it's supported on _some_ Linux distros. 
> HB_WITH_QT_WEBKIT is no solution, but hack. Such setting 
> should be resolved automatically.
> 
> Or, it's still an option to move the whole QT related 
> stuff from Harbour SVN to somewhere else and satisfy 
> QT user special requests there.
> 
> 

You are right. 
As a leading architect of Harbour, you better know
how to make a portable solution for most platforms.
I started with xHarbour, but when i saw a quick advancement
(with very strict rules for quality) in Harbour, i switched.
I  believe that Harbour is a best app platform.
But I also believe (and i have some experience) that
Webkit (or some other HTML5,SVG,AJAX,FLASH,.....) based
technology is a future.
Merging of both is my dream.

BRGS
Fran?ek

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13834--trunk-harbour-tp27525434p27530300.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Feb 10 07:16:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 07:16:45 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100210120429.GA11344@linux-4bod.home.aster.pl>
References: <20100209203235.GA26505@linux-4bod.home.aster.pl>
	<4E76D20D-D05D-44C1-A4B1-4A0B1970ADA5@syenar.hu>
	<20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
	<20100209230304.GA3788@linux-4bod.home.aster.pl>
	<9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
	<20100210000415.GA7462@linux-4bod.home.aster.pl>
	<BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>
	<20100210105355.GA9997@linux-4bod.home.aster.pl>
	<98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu>
	<20100210120429.GA11344@linux-4bod.home.aster.pl>
Message-ID: <C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu>

>>> I though about it but in practice it means that it's necessary to create
>>> separate library which is not included by harbour*.dll or hack make files
>>> to exclude single file from harbour shared library. Personally I do not
>>> like such hacks because sooner or later they are exploited by sth, i.e.
>>> it's not possible to recompile current Harbour code with HB_DYNLIB macro
>> Which should never be necessary in normal situation.
>> IOW if such is required to access any standard Harbour 
>> feature, it's a bug by itself to be fixed.
> 
> Interesting, Important for me feature you are calling bug :)
> I hope that in the future we will not lost possibilities to
> build Harbour with and without exported symbols using some
> optional settings.

I wonder: when could this be useful?

>>> so I would prefer such library though global filter used to excluded files
>>> from harbour shared library seems to be acceptable.
>> I'd certainly be better. We can add such extra library 
>> f.e. by the name 'maindll'.
> 
> IMO it should have different name. Such library will be used for
> code which should not be included in dynamic/shared library and
> above name suggested completely different usage. I'd rather prefer
> sth like 'hbstatic'.

My proposal targeted this purpose only. To have 
a generic lib which keeps all such possible static-only 
components, I agree with 'hbstatic'.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Feb 10 07:17:58 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 10 07:18:30 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13786] trunk/harbour
In-Reply-To: <1265794022335-4546805.post@n2.nabble.com>
References: <E1Ndu4I-0003nH-NQ@sfp-svn-3.v30.ch3.sourceforge.com> 
	<609353e71002092322x38cd6550x2b7b4adba01e23e5@mail.gmail.com> 
	<1265787566376-4546431.post@n2.nabble.com>
	<609353e71002092346l1399eb18t89cf726f5f918bdc@mail.gmail.com> 
	<1265788733971-4546479.post@n2.nabble.com>
	<609353e71002100040k761ef1f4w92e86f159733b7c2@mail.gmail.com> 
	<1265794022335-4546805.post@n2.nabble.com>
Message-ID: <609353e71002100417m799f8a63va397db985ca49abb@mail.gmail.com>

Tried and worsk !
i have search hb_IniRead in c:\harbour
so web can use for help same user find right information in harbour

Folder: c:\harbour

 c:\harbour\examples\httpsrv\uhttpd.prg ( 1 )

   (2372)   LOCAL hIni := hb_IniRead( cConfig, TRUE ) // TRUE = load all
keys in MixedCase, redundant as it is default, but to remember

c:\harbour\src\rdd\hbsix\sxini.prg ( 1 )

   (101)   hIni := hb_IniRead( cFile, .F.,, .F. )

c:\harbour\src\rtl\hbini.prg ( 3 )

   (102)  FUNCTION hb_IniRead( cFileSpec, lKeyCaseSens, cSplitters,
lAutoMain )

   (107)   RETURN hb_IniReadStr( cData, lKeyCaseSens, cSplitters, lAutoMain
)

   (109)  FUNCTION hb_IniReadStr( cData, lKeyCaseSens, cSplitters, lAutoMain
)

c:\harbour\tests\parseini.prg ( 4 )

   (028)   hIni := hb_IniRead( cName )

   (069)   hIni := hb_IniRead( cName, /*default case*/ , /*Default key
indicators */ , .F. )

   (133)   hIni := hb_IniReadStr( cIni, /*default case*/ , /*Default key
indicators */ , .F. )

   (169)   cIni := hb_IniWriteStr( hb_IniRead( cName ) )



after repeat search i have field folter overwritten with content on
expression search
so i have "hb_iniread" in folter
repeat serch changing field type multiples times

2010/2/10 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Massimo Belgrano wrote:
> >
> > good
> > It can be usefull for user who start using harbour and want info about a
> > function
> >
>
> This is not usefu for Harbour only, but in everyday task.
>
> Can you confirm it is working the way you visualize after r13835.
>
>
>
> --
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100210/73776874/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb 10 07:23:46 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 07:24:00 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100210120533.GB11344@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<20100210120533.GB11344@linux-4bod.home.aster.pl>
Message-ID: <B3475672-2073-44EA-B13F-D3A87E04454D@syenar.hu>

Hi Przemek,

> Hi Viktor,
> 
>> 1. -implib in MinGW and OpenWatcom builds uses "{OI}" as import
>>   library name. In BCC builds it works OK. I haven't tested other
>>   builds
> 
> Can you fix it?

Yes, sorry, I missed the fact this was a bug to look at.

BCC works because there the name is generated automatically, 
without {OI} macro. Otherwise it was a cut&paste typo.

I'll commit it.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Feb 10 07:28:58 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 10 07:29:05 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <B3475672-2073-44EA-B13F-D3A87E04454D@syenar.hu>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<328BFE00-3374-49E7-AB80-4DFAF379CFC8@syenar.hu>
	<20100209190133.GB25396@linux-4bod.home.aster.pl>
	<20100210120533.GB11344@linux-4bod.home.aster.pl>
	<B3475672-2073-44EA-B13F-D3A87E04454D@syenar.hu>
Message-ID: <20100210122858.GA12071@linux-4bod.home.aster.pl>

On Wed, 10 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> >> 1. -implib in MinGW and OpenWatcom builds uses "{OI}" as import
> >>   library name. In BCC builds it works OK. I haven't tested other
> >>   builds
> > Can you fix it?
> Yes, sorry, I missed the fact this was a bug to look at.
> BCC works because there the name is generated automatically, 
> without {OI} macro. Otherwise it was a cut&paste typo.
> I'll commit it.

Thank you very much.

best regards,
Przemek
From francek.prijatelj at siol.net  Wed Feb 10 07:31:37 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Feb 10 07:31:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <F3AFC248-2BAE-4FA5-B721-9E1866FE38E7@syenar.hu>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<8FC98E0D-AF73-4F6D-8169-5EBFB05638BE@syenar.hu>
	<27529909.post@talk.nabble.com>
	<F3AFC248-2BAE-4FA5-B721-9E1866FE38E7@syenar.hu>
Message-ID: <27530471.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> 
> To me the direction rather looks like moving applications 
> inside the browser, rather than moving the browser inside 
> applications.
> 
> 

No.
I am  just using browser as a very intelligent terminal.
Some time ago (I am old timer, started with CLIPPER SUMMER 87)
i worked on  VT100 terminals.
I used a lot of escape sequences for some fancy effects as "bold text,...."
Today i see  embeded browser as much more intelligent terminal which
replaced ESC sequences with XML/HTML based technologies.



> So now that we have a half-developed and not very well 
> tested GUI, we should start to develop a client-side-only 
> GUI based on html? IMO the concept is wrong and the 
> execution is wrong as well.
> 

There was no such proposal.
Only a proposal to include a Webkit, which is capable of many things.

BRGS
Fran?ek
-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13834--trunk-harbour-tp27525434p27530471.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Feb 10 07:58:24 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 07:58:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <27530300.post@talk.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
	<27529186.post@talk.nabble.com>
	<4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
	<27530300.post@talk.nabble.com>
Message-ID: <A01F0AA5-7D8B-4C68-BA00-6F329B2A2271@syenar.hu>

Hi Francek,

>> First we should discuss all concerns, if you care, pls 
>> answer them. BTW, it's supported on _some_ Linux distros. 
>> HB_WITH_QT_WEBKIT is no solution, but hack. Such setting 
>> should be resolved automatically.
>> 
>> Or, it's still an option to move the whole QT related 
>> stuff from Harbour SVN to somewhere else and satisfy 
>> QT user special requests there.
>> 
>> 
> 
> You are right. 
> As a leading architect of Harbour, you better know
> how to make a portable solution for most platforms.
> I started with xHarbour, but when i saw a quick advancement
> (with very strict rules for quality) in Harbour, i switched.
> I  believe that Harbour is a best app platform.
> But I also believe (and i have some experience) that
> Webkit (or some other HTML5,SVG,AJAX,FLASH,.....) based
> technology is a future.

WebKit is just an engine to process above standards 
(at least some them), render them, display them, handle 
some related features like caching, history, and maybe 
even doc parsing and creation. QT gives an API and classes 
to access them.

Creation of doc can be useful, but IMO it has no point 
on the client side. And since it's mashed together 
with rendering engine, it's very difficult (and unsafe) 
to use it efficiently on the server side.

So IMO Harbour's place in this scenario is rather the 
server side, to help creating documents complying with 
above standards, server them through an IP stack and 
make them work in standard browsers.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Feb 10 08:02:52 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 08:03:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <27530471.post@talk.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<8FC98E0D-AF73-4F6D-8169-5EBFB05638BE@syenar.hu>
	<27529909.post@talk.nabble.com>
	<F3AFC248-2BAE-4FA5-B721-9E1866FE38E7@syenar.hu>
	<27530471.post@talk.nabble.com>
Message-ID: <E8B41D5F-8841-4E86-9553-930D9499AA62@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> 
>> To me the direction rather looks like moving applications 
>> inside the browser, rather than moving the browser inside 
>> applications.
>> 
>> 
> 
> No.
> I am  just using browser as a very intelligent terminal.
> Some time ago (I am old timer, started with CLIPPER SUMMER 87)
> i worked on  VT100 terminals.
> I used a lot of escape sequences for some fancy effects as "bold text,...."
> Today i see  embeded browser as much more intelligent terminal which
> replaced ESC sequences with XML/HTML based technologies.

Yes, browser is an intelligent terminal (but also dumb 
in some respect), but I fail to see why we need our own 
Harbour wrapped intelligent terminal, since "web standards" 
are supposed to be open standards, so any existing browser 
should do. It would also be a pretty bad thing to create 
Harbour specific client-side browser extensions.

The whole point of the browser, is that it's replaceable, 
available on all platforms, and you don't have to maintain 
your own.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Feb 10 08:14:39 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 10 08:14:46 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13837] trunk/harbour
Message-ID: <E1NfCOt-0007aO-B4@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13837
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13837&view=rev
Author:   vszakats
Date:     2010-02-10 13:14:37 +0000 (Wed, 10 Feb 2010)

Log Message:
-----------
2010-02-10 14:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/binnum.c
  * src/rtl/ampm.c
  * src/rtl/descend.c
  * src/rtl/at.c
  * src/rtl/console.c
  * src/rtl/cdpapi.c
  * src/rtl/accept.c
  * src/rtl/filebuf.c
  * src/rtl/cdpapihb.c
  * src/rtl/ati.c
  * src/rtl/binnumx.c
    * Renamed variables.

  * contrib/hbodbc/odbc.c
  * contrib/rddsql/sddodbc/odbcdd.c
    * Formatting.

  * contrib/hbbmcdx/bmdbfcdx.c
    ! Prefixed static variable with 's_'

  * contrib/hbbmcdx/hbbmcdx.h
    * Synced with include/hbrddcdx.h

  * utils/hbmk2/hbmk2.prg
    ! Fixed problem with generated implib name when using -implib option.
      It only worked as expected with bcc.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/src/rtl/accept.c
    trunk/harbour/src/rtl/ampm.c
    trunk/harbour/src/rtl/at.c
    trunk/harbour/src/rtl/ati.c
    trunk/harbour/src/rtl/binnum.c
    trunk/harbour/src/rtl/binnumx.c
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/src/rtl/cdpapihb.c
    trunk/harbour/src/rtl/console.c
    trunk/harbour/src/rtl/descend.c
    trunk/harbour/src/rtl/filebuf.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Wed Feb 10 08:17:38 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Feb 10 08:17:46 2010
Subject: [Harbour] File names in dos/windows and Linux
In-Reply-To: <4B72760A.5040200@mweb.co.za>
References: <133778361002090750p6be05b40k518b24b19cb3dafa@mail.gmail.com>
	<4B72760A.5040200@mweb.co.za>
Message-ID: <133778361002100517q30746158s194e572f068e7f0c@mail.gmail.com>

Thanks Alex

Which is the function that you say ?

Bruno

2010/2/10 Alex Strickland <sscc@mweb.co.za>

> Bruno Luciani wrote:
>
>> Hi, there is in Harbour any function to get the DOS short filename (8.3) ?
>>
>> I'm using an API function but I like to  use and standard Harbour
>> function.
>>
>
> No, I didn't find anything. I have made a small change to the Harbour one,
> which you are welcome to look at, but I do see you are using something
> already.
>
> There is no issue like this under Linux.
>
> Regards
> Alex
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100210/2b3e2e40/attachment.html
From francek.prijatelj at siol.net  Wed Feb 10 08:29:25 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Feb 10 08:29:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <A01F0AA5-7D8B-4C68-BA00-6F329B2A2271@syenar.hu>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
	<27529186.post@talk.nabble.com>
	<4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
	<27530300.post@talk.nabble.com>
	<A01F0AA5-7D8B-4C68-BA00-6F329B2A2271@syenar.hu>
Message-ID: <27531157.post@talk.nabble.com>


Hi Viktor


Viktor Szak?ts wrote:
> 
> 
> So IMO Harbour's place in this scenario is rather the 
> server side, to help creating documents complying with 
> above standards, server them through an IP stack and 
> make them work in standard browsers.
> 
> 

You are right.

I see harbour as "a server side" platform.
Let me explain it.

1. I think that Harbour based Http server is superior solution to
Apache+some scripting
    Harbour Http server + classic browser == Standard web app

2. Embeded Harbour Http server + Embeded browser == Standard desktop app
   (User knows nothing about server and browser, easy switch beetwen desktop
and web app) 

3. Qt bridge beetwen Webkit and APPI ==  Standard desktop app

4. 1+2+3  == lot of possibilities.

With little changes you can have Web app as well as desktop app.
With embeded web machine you have also multimedia platform.
Html4 was documment oriented. 
Html5 is UI oriented.
It's maybe half-developed , but it's developing very quickly.

BRGS
Fran?ek



 
-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13834--trunk-harbour-tp27525434p27531157.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Feb 10 08:57:47 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 10 08:57:55 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu>
References: <20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
	<20100209230304.GA3788@linux-4bod.home.aster.pl>
	<9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
	<20100210000415.GA7462@linux-4bod.home.aster.pl>
	<BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>
	<20100210105355.GA9997@linux-4bod.home.aster.pl>
	<98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu>
	<20100210120429.GA11344@linux-4bod.home.aster.pl>
	<C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu>
Message-ID: <20100210135747.GA13369@linux-4bod.home.aster.pl>

On Wed, 10 Feb 2010, Szak?ts Viktor wrote:

Hi,

> > Interesting, Important for me feature you are calling bug :)
> > I hope that in the future we will not lost possibilities to
> > build Harbour with and without exported symbols using some
> > optional settings.
> I wonder: when could this be useful?

I.e. to not use 'hbmaindllp' at all. Some linkers like the one in
MinGW allows to create import library for executable files which
later can be used to link PCODE DLLs instead of hbmaindllp.
BTW it would be nice if you added to hbmk2 support for -implib
switch also in -hbexe mode for such usage. With MinGW linker it's
also possible to use --export-all-symbols to force exporting all
public symbols but I do not think that many other linkers have
similar functionality anyhow switch like -implib[force] would be
nice extension too.

> >> f.e. by the name 'maindll'.
> > IMO it should have different name. Such library will be used for
> > code which should not be included in dynamic/shared library and
> > above name suggested completely different usage. I'd rather prefer
> > sth like 'hbstatic'.
> My proposal targeted this purpose only. To have 

Even in such case it's IMO confusing. DllMain is standard startup
DLL function so such library name suggests it should be linked with
DLL. Anyhow it's only my PPOV.

> a generic lib which keeps all such possible static-only 
> components, I agree with 'hbstatic'.

Fine, so I'll add such library.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Feb 10 09:24:31 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 09:24:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <27531157.post@talk.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
	<27529186.post@talk.nabble.com>
	<4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
	<27530300.post@talk.nabble.com>
	<A01F0AA5-7D8B-4C68-BA00-6F329B2A2271@syenar.hu>
	<27531157.post@talk.nabble.com>
Message-ID: <26B50A66-5F84-41BE-BDF8-A547B44F3A7C@syenar.hu>

Hi Francek,

To cut it short: See my previous answer, if QtWebKit 
wrappers are implemented properly, which means QtWebKit 
is an optional and well separated component which is 
not referenced when not used by user, or not available 
on a given environment (with autodetection), it can 
be added. In fact it could have even stayed, but Pritpal 
had opted to delete it.

For me though the whole concept stays off the roadmap 
I'd personally choose or choose as Harbour do-it-all 
IDE/web solution. If someone can prove with actual code, 
that such web UI is easily portable to server side, 
and be used on the desktop, I may change my mind :)

Brgds,
Viktor

On 2010 Feb 10, at 14:29, Fran?ek Prijatelj wrote:

> 
> Hi Viktor
> 
> 
> Viktor Szak?ts wrote:
>> 
>> 
>> So IMO Harbour's place in this scenario is rather the 
>> server side, to help creating documents complying with 
>> above standards, server them through an IP stack and 
>> make them work in standard browsers.
>> 
>> 
> 
> You are right.
> 
> I see harbour as "a server side" platform.
> Let me explain it.
> 
> 1. I think that Harbour based Http server is superior solution to
> Apache+some scripting
>    Harbour Http server + classic browser == Standard web app
> 
> 2. Embeded Harbour Http server + Embeded browser == Standard desktop app
>   (User knows nothing about server and browser, easy switch beetwen desktop
> and web app) 
> 
> 3. Qt bridge beetwen Webkit and APPI ==  Standard desktop app
> 
> 4. 1+2+3  == lot of possibilities.
> 
> With little changes you can have Web app as well as desktop app.
> With embeded web machine you have also multimedia platform.
> Html4 was documment oriented. 
> Html5 is UI oriented.
> It's maybe half-developed , but it's developing very quickly.
> 
> BRGS
> Fran?ek
> 
> 
> 
> 
> -- 
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13834--trunk-harbour-tp27525434p27531157.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Feb 10 09:30:10 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 09:30:25 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100210135747.GA13369@linux-4bod.home.aster.pl>
References: <20100209212310.GC26505@linux-4bod.home.aster.pl>
	<EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu>
	<20100209230304.GA3788@linux-4bod.home.aster.pl>
	<9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
	<20100210000415.GA7462@linux-4bod.home.aster.pl>
	<BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>
	<20100210105355.GA9997@linux-4bod.home.aster.pl>
	<98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu>
	<20100210120429.GA11344@linux-4bod.home.aster.pl>
	<C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu>
	<20100210135747.GA13369@linux-4bod.home.aster.pl>
Message-ID: <00ED658A-CF5E-4640-A910-47F8FB72A941@syenar.hu>

Hi,

>>> Interesting, Important for me feature you are calling bug :)
>>> I hope that in the future we will not lost possibilities to
>>> build Harbour with and without exported symbols using some
>>> optional settings.
>> I wonder: when could this be useful?
> 
> I.e. to not use 'hbmaindllp' at all. Some linkers like the one in
> MinGW allows to create import library for executable files which
> later can be used to link PCODE DLLs instead of hbmaindllp.

Okay, I see now.

> BTW it would be nice if you added to hbmk2 support for -implib
> switch also in -hbexe mode for such usage. With MinGW linker it's
> also possible to use --export-all-symbols to force exporting all
> public symbols but I do not think that many other linkers have
> similar functionality anyhow switch like -implib[force] would be
> nice extension too.

-implib for -hbexe is okay, I'll commit it. For the other, 
I'd prefer to suggest -ldflag=--export-all-symbols until we find 
at least one more target which supports this option.

>>>> f.e. by the name 'maindll'.
>>> IMO it should have different name. Such library will be used for
>>> code which should not be included in dynamic/shared library and
>>> above name suggested completely different usage. I'd rather prefer
>>> sth like 'hbstatic'.
>> My proposal targeted this purpose only. To have 
> 
> Even in such case it's IMO confusing. DllMain is standard startup
> DLL function so such library name suggests it should be linked with
> DLL. Anyhow it's only my PPOV.
> 
>> a generic lib which keeps all such possible static-only 
>> components, I agree with 'hbstatic'.
> 
> Fine, so I'll add such library.

Thank you.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Feb 10 09:40:14 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 09:40:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13836] trunk/harbour
In-Reply-To: <E1NfAqB-0004bL-UT@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NfAqB-0004bL-UT@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <55B369EC-4F6C-4D39-9D9F-D0C05F0A362D@syenar.hu>

Hi Przemek,

I'm getting this when trying to create a win/mingw build:
---
../../../procaddr.c: In function 'hb_vmProcAddress':
../../../procaddr.c:115: error: 'hb_vmProcessDynLibSymbols' undeclared (first use in this function)
../../../procaddr.c:115: error: (Each undeclared identifier is reported only once
../../../procaddr.c:115: error: for each function it appears in.)
../../../procaddr.c:115: warning: missing initializer
../../../procaddr.c:115: warning: (near initialization for 's_funcTable[48].pFuncAddr')
---

Plus another, maybe you missed it, but ac_test.prg 
fails after recent ACHOICE() patches, could you verify it?

Brgds,
Viktor

On 2010 Feb 10, at 12:34, druzus@users.sourceforge.net wrote:

> Revision: 13836
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13836&view=rev
> Author:   druzus
> Date:     2010-02-10 11:34:42 +0000 (Wed, 10 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-10 12:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/pp/Makefile
>  * harbour/src/pp/hbpp.c
>    ! fixed compilation with HB_DYNLIB macro
> 
>  - harbour/src/vm/maindll.c
>    - removed unused dummy file
> 
>  * harbour/src/vm/Makefile
>  * harbour/include/hbapi.h
>  + harbour/src/vm/procaddr.c
>    + added hb_vmProcAddress() function
> 
>  * harbour/include/hbdefs.h
>    + added HB_EXPORT_ATTR and HB_IMPORT_ATTR macros - they are always
>      defined regardless of HB_DYNLIB macro state
> 
>  * harbour/src/vm/maindllh/Makefile
>    * disabled HB_DYNLIB
> 
>  * harbour/src/vm/maindllp/Makefile
>  + harbour/src/vm/maindllp/dllpcode.c
>    + added new import library for PCODE DLLs. It contains wrappers for
>      hb_vmProcessSymbols() and hb_vmExecute() implemented in a way
>      which creates minimal speed overhead.
>    + added error reporting (MessageBox()) when redirected functions
>      cannot be found.
>    + added hb_dllGetProcAddress() C function
> 
>  * harbour/include/hbtypes.h
>  - harbour/src/vm/maindllp.c
>  + harbour/src/vm/maindllp/dllext.c
>    * moved old wrappers to some of extended and array API functions
>      into separate file
>    * updated to use hb_dllGetProcAddress()
>    - removed functions which should not be used by user code
>    % cleaned, optimized and added error reporting to function wrappers.
> 
>    I do not know who chose exported functions but it looks like a
>    quite random set which should be extended for real functionality.
>    If someone is interested then he can do that. I updated this file
>    only for backward compatibility.
> 
>   Above modifications allows to use PCODE DLLs with any application
>   also static ones using Harbour compiled without exported symbols.
>   It's enough to link it with this function:
>      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
>      {
>         return hb_vmProcAddress( szFuncName );
>      }
>   The official form of including above function to final binaries is not
>   defined yet.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbapi.h
>    trunk/harbour/include/hbdefs.h
>    trunk/harbour/include/hbtypes.h
>    trunk/harbour/src/pp/Makefile
>    trunk/harbour/src/pp/hbpp.c
>    trunk/harbour/src/vm/Makefile
>    trunk/harbour/src/vm/maindllh/Makefile
>    trunk/harbour/src/vm/maindllp/Makefile
> 
> Added Paths:
> -----------
>    trunk/harbour/src/vm/maindllp/dllext.c
>    trunk/harbour/src/vm/maindllp/dllpcode.c
>    trunk/harbour/src/vm/procaddr.c
> 
> Removed Paths:
> -------------
>    trunk/harbour/src/vm/maindll.c
>    trunk/harbour/src/vm/maindllp.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Feb 10 09:40:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 10 09:40:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13838] trunk/harbour
Message-ID: <E1NfDkE-0006qH-6y@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13838
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13838&view=rev
Author:   vszakats
Date:     2010-02-10 14:40:44 +0000 (Wed, 10 Feb 2010)

Log Message:
-----------
2010-02-10 15:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Enabled -implib option in -hbexe (default) mode.
      (except for dos/djgpp, pls add it manually)
    + Enabled -map option in -hbdyn mode for some targets where it was missing.
      (except for dos/djgpp, pls review this case)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Wed Feb 10 09:47:35 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Feb 10 09:47:46 2010
Subject: [Harbour] File names in dos/windows and Linux
In-Reply-To: <133778361002100517q30746158s194e572f068e7f0c@mail.gmail.com>
References: <133778361002090750p6be05b40k518b24b19cb3dafa@mail.gmail.com>	<4B72760A.5040200@mweb.co.za>
	<133778361002100517q30746158s194e572f068e7f0c@mail.gmail.com>
Message-ID: <4B72C707.8050701@mweb.co.za>

Bruno Luciani wrote:

> Which is the function that you say ?

I have attached the code. It is a hack of the Harbour DIRECTORY() 
implementation. It may not be up to date with the code in SVN. I hope it helps.

Regards
Alex

-------------- next part --------------
/*
 * $Id: direct.c 11528 2009-06-26 00:33:38Z druzus $
 */

/*
 * Harbour Project source code:
 * DIRECTORY() function
 *
 * Copyright 1999 Leslee Griffith <les.griffith@vantagesystems.ca>
 * www - http://www.harbour-project.org
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

/*
 * Notes from the fringe... <ptucker@sympatico.ca>
 *
 * Clipper is a bit schizoid with the treatment of file attributes, but we've
 * emulated that weirdness here for your viewing amusement.
 *
 * In Clippers' homeworld of DOS, there are 5 basic attributes: 'A'rchive,
 * 'H'idden, 'S'ystem, 'R'eadonly and 'D'irectory.  In addition, a file can
 * have no attributes, and only 1 file per physical partition can have the
 * 'V'olume label.
 *
 * For a given file request, it is implied that the attribute mask includes
 * all attributes except 'H'idden, 'S'ystem, 'D'irectory and 'V'olume.
 * The returned file list will always include (for instance) 'R'eadOnly files
 * unless they also happen to be 'H'idden and that attribute was not requested.
 *
 * "V" is a special case - you will get back the entry that describes the
 * volume label for the drive implied by the filemask.
 *
 * Differences from the 'standard' (where supported):
 * - Filenames will be returned in the same case as they are stored in the
 *   directory.  Clipper (and VO too) will convert the names to upper case
 * - Filenames will be the full filename as supported by the OS in use.
 * - There are a number of additional file attributes returned.
 *   They are:
 *       'I' - DEVICE      File is a device
 *       'T' - TEMPORARY   File is a Temporary file
 *       'P' - SPARSE      File is Sparse
 *       'L' - REPARSE     File/Dir is a reparse point
 *       'C' - COMPRESSED  File/Dir is compressed
 *       'O' - OFFLINE     File/Dir is not online
 *       'X' - NOTINDEXED  Exclude File/Dir from Indexing Service
 *       'E' - ENCRYPTED   File/Dir is Encrypted
 *       'M' - VOLCOMP     Volume Supports Compression
 * - Clipper can sometimes drop the ReadOnly indication of directories.
 *   Harbour detects this correctly.
 *
 * TODO: - check that path support vis stat works on all platforms
 *       - UNC Support? ie: dir \\myserver\root
 *
 */

#include "hbapi.h"
#include "hbapifs.h"
	/* File Find API functions */
	extern HB_EXPORT PHB_FFIND sfn_hb_fsFindFirst( const char * pszFileName, ULONG ulAttrMask, BOOL * bUse );
	extern HB_EXPORT BOOL      sfn_hb_fsFindNext( PHB_FFIND ffind, BOOL * bUse );
	extern HB_EXPORT void      sfn_hb_fsFindClose( PHB_FFIND ffind );
#include "hbapiitm.h"

#include "directry.ch"

/* NOTE: 8.3 support should be added in a separate way, like
         as a function which converts full names to 8.3 names, since
         this issue is very much platform specific, and this is
         not the only place which may need the conversion [vszakats]. */

HB_FUNC( SFN_DIRECTORY )
{
   const char *   szDirSpec = hb_parc( 1 );
   const char *   szAttributes = hb_parc( 2 );
   char *         pszFree = NULL;
   ULONG     ulMask;

   PHB_ITEM  pDir = hb_itemArrayNew( 0 );
   PHB_FFIND ffind;

   BOOL bUse = FALSE;

   /* Get the passed attributes and convert them to Harbour Flags */

   ulMask = HB_FA_ARCHIVE
          | HB_FA_READONLY
          | HB_FA_DEVICE
          | HB_FA_TEMPORARY
          | HB_FA_SPARSE
          | HB_FA_REPARSE
          | HB_FA_COMPRESSED
          | HB_FA_OFFLINE
          | HB_FA_NOTINDEXED
          | HB_FA_ENCRYPTED
          | HB_FA_VOLCOMP;

   if( szAttributes && *szAttributes )
   {
      if( ( ulMask |= hb_fsAttrEncode( szAttributes ) ) & HB_FA_LABEL )
      {
         /* NOTE: This is Clipper Doc compatible. (not operationally) */
         ulMask = HB_FA_LABEL;
      }
   }

   if( szDirSpec && *szDirSpec )
   {
      szDirSpec = hb_fsNameConv( szDirSpec, &pszFree );
      if( ulMask != HB_FA_LABEL )
      {
         if( *szDirSpec )
         {
            /* CA-Cl*pper compatible behavior - add all file mask when
             * last character is directory or drive separator
             */
            int iLen = strlen( szDirSpec ) - 1;
#ifdef HB_OS_HAS_DRIVE_LETTER
            if( szDirSpec[ iLen ] == HB_OS_PATH_DELIM_CHR ||
                szDirSpec[ iLen ] == HB_OS_DRIVE_DELIM_CHR )
#else
            if( szDirSpec[ iLen ] == HB_OS_PATH_DELIM_CHR )
#endif
            {
               if( pszFree )
               {
                  char * pszTemp = hb_xstrcpy( NULL, szDirSpec, HB_OS_ALLFILE_MASK, NULL );
                  hb_xfree( pszFree );
                  szDirSpec = pszFree = pszTemp;
               }
               else
               {
                  szDirSpec = pszFree = hb_xstrcpy( NULL, szDirSpec, HB_OS_ALLFILE_MASK, NULL );
               }
            }
         }
         else
            szDirSpec = HB_OS_ALLFILE_MASK;
      }
   }
   else
      szDirSpec = HB_OS_ALLFILE_MASK;

   /* Get the file list */

   if( ( ffind = sfn_hb_fsFindFirst( szDirSpec, ulMask, &bUse ) ) != NULL )
   {
      PHB_ITEM pSubarray = hb_itemNew( NULL );

      do
      {
         char buffer[ 32 ];

		 if ( bUse )
		 {
            hb_arrayNew( pSubarray, F_LEN );
            hb_arraySetC   ( pSubarray, F_NAME, ffind->szName );
            hb_arraySetNInt( pSubarray, F_SIZE, ffind->size );
            hb_arraySetDL  ( pSubarray, F_DATE, ffind->lDate );
            hb_arraySetC   ( pSubarray, F_TIME, ffind->szTime );
            hb_arraySetC   ( pSubarray, F_ATTR, hb_fsAttrDecode( ffind->attr, buffer ) );

            /* Don't exit when array limit is reached */
            hb_arrayAddForward( pDir, pSubarray );
		 }
		 bUse = FALSE;
      }
      while( sfn_hb_fsFindNext( ffind, &bUse ) );

      hb_itemRelease( pSubarray );

      sfn_hb_fsFindClose( ffind );
   }

   if( pszFree )
      hb_xfree( pszFree );

   hb_itemReturnRelease( pDir );
}
-------------- next part --------------
/*
 * $Id: hbffind.c 12793 2009-10-30 16:56:47Z druzus $
 */

/*
 * Harbour Project source code:
 * Harbour File Find API (C level)
 *
 * Copyright 2001-2002 Luiz Rafael Culik <culik@sl.conex.net>
 *                     Viktor Szakats (harbour.01 syenar.hu)
 *                     Paul Tucker <ptucker@sympatico.ca>
 * www - http://www.harbour-project.org
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#if !defined( _LARGEFILE64_SOURCE )
#  define _LARGEFILE64_SOURCE
#endif

#define INCL_DOSFILEMGR
#define INCL_DOSERRORS
#define HB_OS_WIN_USED

#include "hbapi.h"
#include "hbapifs.h"
	/* File Find API functions */
	extern HB_EXPORT PHB_FFIND sfn_hb_fsFindFirst( const char * pszFileName, ULONG ulAttrMask, BOOL * bUse );
	extern HB_EXPORT BOOL      sfn_hb_fsFindNext( PHB_FFIND ffind, BOOL * bUse );
	extern HB_EXPORT void      sfn_hb_fsFindClose( PHB_FFIND ffind );
#include "hbvm.h"
#include "hbdate.h"
#include "hb_io.h"

/* ------------------------------------------------------------- */

#if defined( HB_OS_DOS )

   #if defined( __DJGPP__ ) || defined( __RSX32__ )
      #include <sys/param.h>
   #endif
   #if defined( __DJGPP__ ) || defined( __RSX32__ ) || defined( __BORLANDC__ )
      #include <sys/stat.h>
   #endif
   #include <dos.h>
#if !defined( __WATCOMC__ )
   #include <dir.h>
#endif
   #include <time.h>

#if defined( __WATCOMC__ )
   typedef struct
   {
      struct find_t    entry;
   } HB_FFIND_INFO, * PHB_FFIND_INFO;

   #define FA_ARCH      _A_ARCH
   #define FA_DIREC     _A_SUBDIR
   #define FA_HIDDEN    _A_HIDDEN
   #define FA_RDONLY    _A_RDONLY
   #define FA_LABEL     _A_VOLID
   #define FA_SYSTEM    _A_SYSTEM

   #define ff_name   name
   #define ff_fsize  size
   #define ff_attrib attrib
#else
   typedef struct
   {
      struct ffblk    entry;
   } HB_FFIND_INFO, * PHB_FFIND_INFO;
#endif

#elif defined( HB_OS_OS2 )

   #include <sys/types.h>
   #include <sys/stat.h>
   #include <time.h>

   typedef struct
   {
      HDIR            hFindFile;
      FILEFINDBUF3    entry;
      ULONG           fileTypes;
      ULONG           findSize;
      ULONG           findCount;
   } HB_FFIND_INFO, * PHB_FFIND_INFO;

#elif defined( HB_OS_WIN )

   typedef struct
   {
      HANDLE            hFindFile;
      WIN32_FIND_DATA   pFindFileData;
      DWORD             dwAttr;
   } HB_FFIND_INFO, * PHB_FFIND_INFO;

   #define HB_WIN_MATCH() \
      ( \
        ( ( info->pFindFileData.dwFileAttributes & ( FILE_ATTRIBUTE_DIRECTORY | FILE_ATTRIBUTE_HIDDEN | FILE_ATTRIBUTE_SYSTEM ) ) == 0 ) || \
        ( ( info->dwAttr & info->pFindFileData.dwFileAttributes & ( FILE_ATTRIBUTE_DIRECTORY | FILE_ATTRIBUTE_HIDDEN | FILE_ATTRIBUTE_SYSTEM ) ) != 0 ) \
      )

#elif defined( HB_OS_UNIX )

   #include <sys/types.h>
   #include <sys/stat.h>
   #include <fcntl.h>
   #include <dirent.h>
   #include <time.h>

   typedef struct
   {
      DIR *           dir;
      struct dirent * entry;
      char            pattern[ HB_PATH_MAX ];
      char            path[ HB_PATH_MAX ];
   } HB_FFIND_INFO, * PHB_FFIND_INFO;

#else

   typedef void HB_FFIND_INFO, * PHB_FFIND_INFO;

#endif

#if !defined( HB_USE_LARGEFILE64 ) && defined( HB_OS_UNIX )
   #if defined( __USE_LARGEFILE64 )
      /*
       * The macro: __USE_LARGEFILE64 is set when _LARGEFILE64_SOURCE is
       * define and efectively enables lseek64/flock64/ftruncate64 functions
       * on 32bit machines.
       */
      #define HB_USE_LARGEFILE64
   #elif defined( HB_OS_UNIX ) && defined( O_LARGEFILE )
      #define HB_USE_LARGEFILE64
   #endif
#endif

/* ------------------------------------------------------------- */
#if defined( THIS_WONT_BE_DEFINED )
ULONG hb_fsAttrFromRaw( ULONG raw_attr )
{
   ULONG ulAttr;

   HB_TRACE(HB_TR_DEBUG, ("hb_fsAttrFromRaw(%lu)", raw_attr));

#if defined( HB_OS_DOS )

   ulAttr = 0;
   if( raw_attr & FA_ARCH )   ulAttr |= HB_FA_ARCHIVE;
   if( raw_attr & FA_DIREC )  ulAttr |= HB_FA_DIRECTORY;
   if( raw_attr & FA_HIDDEN ) ulAttr |= HB_FA_HIDDEN;
   if( raw_attr & FA_RDONLY ) ulAttr |= HB_FA_READONLY;
   if( raw_attr & FA_LABEL )  ulAttr |= HB_FA_LABEL;
   if( raw_attr & FA_SYSTEM ) ulAttr |= HB_FA_SYSTEM;

#elif defined( HB_OS_OS2 )

   ulAttr = 0;
   if( raw_attr & FILE_ARCHIVED )  ulAttr |= HB_FA_ARCHIVE;
   if( raw_attr & FILE_DIRECTORY ) ulAttr |= HB_FA_DIRECTORY;
   if( raw_attr & FILE_HIDDEN )    ulAttr |= HB_FA_HIDDEN;
   if( raw_attr & FILE_READONLY )  ulAttr |= HB_FA_READONLY;
   if( raw_attr & FILE_SYSTEM )    ulAttr |= HB_FA_SYSTEM;

#elif defined( HB_OS_WIN )

   ulAttr = 0;
   if( raw_attr & FILE_ATTRIBUTE_ARCHIVE )   ulAttr |= HB_FA_ARCHIVE;
   if( raw_attr & FILE_ATTRIBUTE_DIRECTORY ) ulAttr |= HB_FA_DIRECTORY;
   if( raw_attr & FILE_ATTRIBUTE_HIDDEN )    ulAttr |= HB_FA_HIDDEN;
   if( raw_attr & FILE_ATTRIBUTE_READONLY )  ulAttr |= HB_FA_READONLY;
   if( raw_attr & FILE_ATTRIBUTE_SYSTEM )    ulAttr |= HB_FA_SYSTEM;
   if( raw_attr & FILE_ATTRIBUTE_NORMAL )    ulAttr |= HB_FA_NORMAL;

   /* Note that FILE_ATTRIBUTE_NORMAL is not needed
      HB_FA_DEVICE not supported
      HB_FA_VOLCOMP needs to be checked */
   if( raw_attr & FILE_ATTRIBUTE_ENCRYPTED )     ulAttr |= HB_FA_ENCRYPTED;
   if( raw_attr & FILE_ATTRIBUTE_TEMPORARY )     ulAttr |= HB_FA_TEMPORARY;
   if( raw_attr & FILE_ATTRIBUTE_SPARSE_FILE )   ulAttr |= HB_FA_SPARSE;
   if( raw_attr & FILE_ATTRIBUTE_REPARSE_POINT ) ulAttr |= HB_FA_REPARSE;
   if( raw_attr & FILE_ATTRIBUTE_COMPRESSED )    ulAttr |= HB_FA_COMPRESSED;
   if( raw_attr & FILE_ATTRIBUTE_OFFLINE )       ulAttr |= HB_FA_OFFLINE;
   /* FILE_ATTRIBUTE_NOT_CONTENT_INDEXED */
   /* not defined in some older winnt.h  */
   if( raw_attr & 0x00002000 )                   ulAttr |= HB_FA_NOTINDEXED;
   if( raw_attr & 0x00008000 )                   ulAttr |= HB_FA_VOLCOMP;

#elif defined( HB_OS_UNIX )

   ulAttr = ( ( raw_attr & S_IXOTH ) ? HB_FA_XOTH : 0 ) |
            ( ( raw_attr & S_IWOTH ) ? HB_FA_WOTH : 0 ) |
            ( ( raw_attr & S_IROTH ) ? HB_FA_ROTH : 0 ) |
            ( ( raw_attr & S_IXGRP ) ? HB_FA_XGRP : 0 ) |
            ( ( raw_attr & S_IWGRP ) ? HB_FA_WGRP : 0 ) |
            ( ( raw_attr & S_IRGRP ) ? HB_FA_RGRP : 0 ) |
            ( ( raw_attr & S_IXUSR ) ? HB_FA_XUSR : 0 ) |
            ( ( raw_attr & S_IWUSR ) ? HB_FA_WUSR : 0 ) |
            ( ( raw_attr & S_IRUSR ) ? HB_FA_RUSR : 0 ) |
            ( ( raw_attr & S_ISVTX ) ? HB_FA_SVTX : 0 ) |
            ( ( raw_attr & S_ISGID ) ? HB_FA_SGID : 0 ) |
            ( ( raw_attr & S_ISUID ) ? HB_FA_SUID : 0 );

   if( S_ISREG( raw_attr ) )  ulAttr |= HB_FA_FILE;
   if( S_ISDIR( raw_attr ) )  ulAttr |= HB_FA_DIRECTORY;
   if( S_ISLNK( raw_attr ) )  ulAttr |= HB_FA_LINK;
   if( S_ISCHR( raw_attr ) )  ulAttr |= HB_FA_CHRDEVICE;
   if( S_ISBLK( raw_attr ) )  ulAttr |= HB_FA_BLKDEVICE;
   if( S_ISFIFO( raw_attr ) ) ulAttr |= HB_FA_FIFO;
   if( S_ISSOCK( raw_attr ) ) ulAttr |= HB_FA_SOCKET;

#else

   HB_SYMBOL_UNUSED( raw_attr );
   ulAttr = 0;

#endif

   return ulAttr;
}

ULONG hb_fsAttrToRaw( ULONG ulAttr )
{
   ULONG raw_attr;

   HB_TRACE(HB_TR_DEBUG, ("hb_fsAttrToRaw(%lu)", ulAttr));

#if defined( HB_OS_DOS )

   raw_attr = 0;
   if( ulAttr & HB_FA_ARCHIVE )   raw_attr |= FA_ARCH;
   if( ulAttr & HB_FA_DIRECTORY ) raw_attr |= FA_DIREC;
   if( ulAttr & HB_FA_HIDDEN )    raw_attr |= FA_HIDDEN;
   if( ulAttr & HB_FA_READONLY )  raw_attr |= FA_RDONLY;
   if( ulAttr & HB_FA_LABEL )     raw_attr |= FA_LABEL;
   if( ulAttr & HB_FA_SYSTEM )    raw_attr |= FA_SYSTEM;

#elif defined( HB_OS_OS2 )

   raw_attr = 0;
   if( ulAttr & HB_FA_ARCHIVE )   raw_attr |= FILE_ARCHIVED;
   if( ulAttr & HB_FA_DIRECTORY ) raw_attr |= FILE_DIRECTORY;
   if( ulAttr & HB_FA_HIDDEN )    raw_attr |= FILE_HIDDEN;
   if( ulAttr & HB_FA_READONLY )  raw_attr |= FILE_READONLY;
   if( ulAttr & HB_FA_SYSTEM )    raw_attr |= FILE_SYSTEM;

#elif defined( HB_OS_WIN )

   raw_attr = 0;

   if( ulAttr & HB_FA_ARCHIVE )   raw_attr |= FILE_ATTRIBUTE_ARCHIVE;
   if( ulAttr & HB_FA_DIRECTORY ) raw_attr |= FILE_ATTRIBUTE_DIRECTORY;
   if( ulAttr & HB_FA_HIDDEN )    raw_attr |= FILE_ATTRIBUTE_HIDDEN;
   if( ulAttr & HB_FA_READONLY )  raw_attr |= FILE_ATTRIBUTE_READONLY;
   if( ulAttr & HB_FA_SYSTEM )    raw_attr |= FILE_ATTRIBUTE_SYSTEM;
   if( ulAttr & HB_FA_NORMAL )    raw_attr |= FILE_ATTRIBUTE_NORMAL;

   /* Note that FILE_ATTRIBUTE_NORMAL is not needed
      HB_FA_DEVICE not supported
      HB_FA_VOLCOMP needs to be checked */
   if( ulAttr & HB_FA_ENCRYPTED )  raw_attr |= FILE_ATTRIBUTE_ENCRYPTED;
   if( ulAttr & HB_FA_TEMPORARY )  raw_attr |= FILE_ATTRIBUTE_TEMPORARY;
   if( ulAttr & HB_FA_SPARSE )     raw_attr |= FILE_ATTRIBUTE_SPARSE_FILE;
   if( ulAttr & HB_FA_REPARSE )    raw_attr |= FILE_ATTRIBUTE_REPARSE_POINT;
   if( ulAttr & HB_FA_COMPRESSED ) raw_attr |= FILE_ATTRIBUTE_COMPRESSED;
   if( ulAttr & HB_FA_OFFLINE )    raw_attr |= FILE_ATTRIBUTE_OFFLINE;
   if( ulAttr & HB_FA_NOTINDEXED ) raw_attr |= 0x00002000; /* FILE_ATTRIBUTE_NOT_CONTENT_INDEXED not defined in some older winnt.h */
   if( ulAttr & HB_FA_VOLCOMP )    raw_attr |= 0x00008000;

#elif defined( HB_OS_UNIX )

   raw_attr = HB_FA_POSIX_ATTR( ulAttr );

   if( ulAttr & HB_FA_FILE )       raw_attr |= S_IFREG;
   if( ulAttr & HB_FA_DIRECTORY )  raw_attr |= S_IFDIR;
   if( ulAttr & HB_FA_LINK )       raw_attr |= S_IFLNK;
   if( ulAttr & HB_FA_CHRDEVICE )  raw_attr |= S_IFCHR;
   if( ulAttr & HB_FA_BLKDEVICE )  raw_attr |= S_IFBLK;
   if( ulAttr & HB_FA_FIFO )       raw_attr |= S_IFIFO;
   if( ulAttr & HB_FA_SOCKET )     raw_attr |= S_IFSOCK;

#else

   HB_SYMBOL_UNUSED( ulAttr );
   raw_attr = 0;

#endif

   return raw_attr;
}

/* Converts a CA-Cl*pper compatible file attribute string
   to the internal reprensentation. */

ULONG hb_fsAttrEncode( const char * szAttr )
{
   const char * pos = szAttr;
   char ch;
   ULONG ulAttr = 0;

   HB_TRACE(HB_TR_DEBUG, ("hb_fsAttrEncode(%p)", szAttr));

   while( ( ch = ( char ) HB_TOUPPER( *pos ) ) != '\0' )
   {
      switch( ch )
      {
         case 'R': ulAttr |= HB_FA_READONLY;   break;
         case 'H': ulAttr |= HB_FA_HIDDEN;     break;
         case 'S': ulAttr |= HB_FA_SYSTEM;     break;
         case 'V': ulAttr |= HB_FA_LABEL;      break;
         case 'D': ulAttr |= HB_FA_DIRECTORY;  break;
         case 'A': ulAttr |= HB_FA_ARCHIVE;    break;
      }

      pos++;
   }

   return ulAttr;
}

/* Converts a file attribute (ffind->attr) to the CA-Cl*pper
   compatible file attribute string format. */

/* NOTE: szAttr buffer must be at least 16 chars long */

char * hb_fsAttrDecode( ULONG ulAttr, char * szAttr )
{
   char * ptr = szAttr;

   HB_TRACE(HB_TR_DEBUG, ("hb_fsAttrDecode(%lu, %p)", ulAttr, szAttr));

   /* Using the same order as CA-Cl*pper did: RHSVDA. */
   if( ulAttr & HB_FA_READONLY   ) *ptr++ = 'R';
   if( ulAttr & HB_FA_HIDDEN     ) *ptr++ = 'H';
   if( ulAttr & HB_FA_SYSTEM     ) *ptr++ = 'S';
   if( ulAttr & HB_FA_LABEL      ) *ptr++ = 'V';
   if( ulAttr & HB_FA_DIRECTORY  ) *ptr++ = 'D';
   if( ulAttr & HB_FA_ARCHIVE    ) *ptr++ = 'A';

   *ptr = '\0';

   return szAttr;
}
#endif

/* Finds the first then the next matching file on
   each call. Does low-level (platform dependent
   filtering if needed. */

static BOOL sfn_hb_fsFindNextLow( PHB_FFIND ffind, BOOL * bUse )
{
   BOOL bFound;

   int iYear = 0;
   int iMonth = 0;
   int iDay = 0;

   int iHour = 0;
   int iMin = 0;
   int iSec = 0;

   ULONG raw_attr = 0;

   /* Set the default values in case some platforms don't
      support some of these, or they may fail on them. */

   ffind->szName[ 0 ] = '\0';
   ffind->size = 0;

   /* Do platform dependant first/next search */

   hb_vmUnlock();

#if defined( HB_OS_DOS )

   {
      PHB_FFIND_INFO info = ( PHB_FFIND_INFO ) ffind->info;

      /* Handling HB_FA_LABEL doesn't need any special tricks
         under the DOS platform. */

      if( ffind->bFirst )
      {
         ffind->bFirst = FALSE;

         /* tzset(); */

#if defined( __WATCOMC__ )
         bFound = ( _dos_findfirst( ffind->pszFileMask, ( USHORT ) hb_fsAttrToRaw( ffind->attrmask ), &info->entry ) == 0 );
#else
         bFound = ( findfirst( ffind->pszFileMask, &info->entry, ( USHORT ) hb_fsAttrToRaw( ffind->attrmask ) ) == 0 );
#endif
      }
      else
      {
#if defined( __WATCOMC__ )
         bFound = ( _dos_findnext( &info->entry ) == 0 );
#else
         bFound = ( findnext( &info->entry ) == 0 );
#endif
      }

      /* Fill Harbour found file info */

      if( bFound )
      {
         hb_strncpy( ffind->szName, info->entry.ff_name, sizeof( ffind->szName ) - 1 );
         ffind->size = info->entry.ff_fsize;

         raw_attr = info->entry.ff_attrib;

         {
            time_t ftime;
            struct tm * ft;
            struct stat sStat;

            stat( info->entry.ff_name, &sStat );

            ftime = sStat.st_mtime;
            ft = localtime( &ftime );

            iYear  = ft->tm_year + 1900;
            iMonth = ft->tm_mon + 1;
            iDay   = ft->tm_mday;

            iHour  = ft->tm_hour;
            iMin   = ft->tm_min;
            iSec   = ft->tm_sec;
         }
      }
      hb_fsSetIOError( bFound, 0 );
   }

#elif defined( HB_OS_OS2 )

   {
      PHB_FFIND_INFO info = ( PHB_FFIND_INFO ) ffind->info;

      /* TODO: HB_FA_LABEL handling */

      if( ffind->bFirst )
      {
         ffind->bFirst = FALSE;

         /* tzset(); */

         info->hFindFile = HDIR_CREATE;
         info->findCount = 1;

         bFound = DosFindFirst( ( PCSZ ) ffind->pszFileMask,
                                &info->hFindFile,
                                ( LONG ) hb_fsAttrToRaw( ffind->attrmask ),
                                &info->entry,
                                sizeof( info->entry ),
                                &info->findCount,
                                FIL_STANDARD ) == NO_ERROR && info->findCount > 0;
      }
      else
         bFound = DosFindNext( info->hFindFile,
                               &info->entry,
                               sizeof( info->entry ),
                               &info->findCount ) == NO_ERROR && info->findCount > 0;

      /* Fill Harbour found file info */

      if( bFound )
      {
         hb_strncpy( ffind->szName, info->entry.achName, sizeof( ffind->szName ) - 1 );
         ffind->size = info->entry.cbFile;
         raw_attr = info->entry.attrFile;

         iYear  = info->entry.fdateLastWrite.year + 1980;
         iMonth = info->entry.fdateLastWrite.month;
         iDay   = info->entry.fdateLastWrite.day;

         iHour  = info->entry.ftimeLastWrite.hours;
         iMin   = info->entry.ftimeLastWrite.minutes;
         iSec   = info->entry.ftimeLastWrite.twosecs;
      }

      hb_fsSetIOError( bFound, 0 );
   }

#elif defined( HB_OS_WIN )

   {
      PHB_FFIND_INFO info = ( PHB_FFIND_INFO ) ffind->info;

      bFound = FALSE;

      if( ffind->attrmask & HB_FA_LABEL )
      {
#if !defined( HB_OS_WIN_CE )
         if( ffind->bFirst )
         {
            LPTSTR lpFileMask = HB_TCHAR_CONVTO( ffind->pszFileMask );
            TCHAR szName[ HB_PATH_MAX ];

            ffind->bFirst = FALSE;
            ffind->szName[ 0 ] = '\0';

            bFound = GetVolumeInformation( lpFileMask, szName, sizeof( szName ), NULL, NULL, NULL, NULL, 0 );

            HB_TCHAR_FREE( lpFileMask );
            HB_TCHAR_GETFROM( ffind->szName, szName, sizeof( ffind->szName ) );
            ffind->szName[ sizeof( ffind->szName ) - 1 ] = '\0';
         }
#endif
      }
      else
      {
         if( ffind->bFirst )
         {
            LPTSTR lpFileMask = HB_TCHAR_CONVTO( ffind->pszFileMask );

            ffind->bFirst = FALSE;

            info->hFindFile = FindFirstFile( lpFileMask, &info->pFindFileData );
            info->dwAttr    = ( DWORD ) hb_fsAttrToRaw( ffind->attrmask );

            if( ( info->hFindFile != INVALID_HANDLE_VALUE ) && HB_WIN_MATCH() )
               bFound = TRUE;

            HB_TCHAR_FREE( lpFileMask );
         }

         if( ! bFound && info->hFindFile != INVALID_HANDLE_VALUE )
         {
            while( FindNextFile( info->hFindFile, &info->pFindFileData ) )
            {
               if( HB_WIN_MATCH() )
               {
                  bFound = TRUE;
                  break;
               }
            }
         }

         /* Fill Harbour found file info */

         if( bFound )
         {
            //HB_TCHAR_GETFROM( ffind->szName, info->pFindFileData.cFileName, sizeof( ffind->szName ) - 1 );
            if ( info->pFindFileData.cAlternateFileName[ 0 ] != '\0' )
            {
                HB_TCHAR_GETFROM( ffind->szName, info->pFindFileData.cAlternateFileName, sizeof( ffind->szName ) - 1 );
				*bUse = TRUE;
            }

            if( info->pFindFileData.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY )
               ffind->size = 0;
            else
            {
#if defined( __XCC__ ) || ( defined( __POCC__ ) && __POCC__ >= 500 )
               /* NOTE: PellesC 5.00.1 will go into an infinite loop if we don't
                        split this into two operations. [vszakats] */
               ffind->size  = ( HB_FOFFSET ) info->pFindFileData.nFileSizeLow;
               ffind->size += ( HB_FOFFSET ) info->pFindFileData.nFileSizeHigh << 32;
#else
               ffind->size = ( HB_FOFFSET ) info->pFindFileData.nFileSizeLow +
                           ( ( HB_FOFFSET ) info->pFindFileData.nFileSizeHigh << 32 );
#endif
            }

            raw_attr = ( ULONG ) info->pFindFileData.dwFileAttributes;

            /* NOTE: One of these may fail when searching on an UNC path, I
                     don't know yet what's the reason. [vszakats] */

            {
               FILETIME ft;
               SYSTEMTIME time;

               if( FileTimeToLocalFileTime( &info->pFindFileData.ftLastWriteTime, &ft ) &&
                   FileTimeToSystemTime( &ft, &time ) )
               {
                  iYear  = time.wYear;
                  iMonth = time.wMonth;
                  iDay   = time.wDay;
                  iHour  = time.wHour;
                  iMin   = time.wMinute;
                  iSec   = time.wSecond;
               }
            }
         }
      }
      hb_fsSetIOError( bFound, 0 );
   }

#elif defined( HB_OS_UNIX )

   {
      PHB_FFIND_INFO info = ( PHB_FFIND_INFO ) ffind->info;

      char dirname[ HB_PATH_MAX ];

      bFound = FALSE;

      /* TODO: HB_FA_LABEL handling */

      if( ffind->bFirst )
      {
         char * pos;

         ffind->bFirst = FALSE;

         hb_strncpy( dirname, ffind->pszFileMask, sizeof( dirname ) - 1 );
         pos = strrchr( dirname, HB_OS_PATH_DELIM_CHR );
         if( pos )
         {
            hb_strncpy( info->pattern, pos + 1, sizeof( info->pattern ) - 1 );
            *( pos + 1 ) = '\0';
         }
         else
         {
            hb_strncpy( info->pattern, dirname, sizeof( info->pattern ) - 1 );
            dirname[ 0 ] = '.';
            dirname[ 1 ] = HB_OS_PATH_DELIM_CHR;
            dirname[ 2 ] = '\0';
         }

         /* tzset(); */

         info->dir = opendir( dirname );
         hb_strncpy( info->path, dirname, sizeof( info->path ) - 1 );
      }

      if( info->dir && info->pattern[ 0 ] != '\0' )
      {
         while( ( info->entry = readdir( info->dir ) ) != NULL )
         {
            if( hb_strMatchFile( info->entry->d_name, info->pattern ) )
            {
               bFound = TRUE;
               break;
            }
         }
      }

      /* Fill Harbour found file info */
      if( bFound )
      {
         hb_strncpy( dirname, info->path, sizeof( dirname ) - 1 );
         hb_strncat( dirname, info->entry->d_name, sizeof( dirname ) - 1 );
         {
            time_t ftime;
            struct tm lt;
#if defined( HB_USE_LARGEFILE64 )
            struct stat64 sStat;
            if( stat64( dirname, &sStat ) == 0 )
#else
            struct stat sStat;
            if( stat( dirname, &sStat ) == 0 )
#endif
            {
               hb_strncpy( ffind->szName, info->entry->d_name, sizeof( ffind->szName ) - 1 );
               ffind->size = sStat.st_size;

               raw_attr = sStat.st_mode;

               ftime = sStat.st_mtime;
#  if defined( HB_HAS_LOCALTIME_R )
               localtime_r( &ftime, &lt );
#  else
               lt = *localtime( &ftime );
#  endif

               iYear  = lt.tm_year + 1900;
               iMonth = lt.tm_mon + 1;
               iDay   = lt.tm_mday;

               iHour  = lt.tm_hour;
               iMin   = lt.tm_min;
               iSec   = lt.tm_sec;
            }
            else
               bFound = FALSE;
         }
      }
      hb_fsSetIOError( bFound, 0 );
   }

#else

   {
      int TODO; /* TODO: for given platform */

      /* HB_SYMBOL_UNUSED( ffind ); */

      HB_SYMBOL_UNUSED( iYear );
      HB_SYMBOL_UNUSED( iMonth );
      HB_SYMBOL_UNUSED( iDay );
      HB_SYMBOL_UNUSED( iHour );
      HB_SYMBOL_UNUSED( iMin );
      HB_SYMBOL_UNUSED( iSec );
      HB_SYMBOL_UNUSED( raw_attr );

      bFound = FALSE;

      hb_fsSetError( ( USHORT ) FS_ERROR );
   }

#endif

   /* Fill common Harbour found file info */

   if( bFound )
   {
      /* Do the conversions common for all platforms */
      ffind->szName[ sizeof( ffind->szName ) - 1 ] = '\0';

      /* Convert from OS codepage */
      {
         char * pszFree = NULL;
         ULONG ulSize = sizeof( ffind->szName );
         const char * pszResult = hb_osDecodeCP( ffind->szName, &pszFree, &ulSize );

         if( pszFree )
         {
            hb_strncpy( ffind->szName, pszResult, sizeof( ffind->szName ) - 1 );
            hb_xfree( pszFree );
         }
      }

      ffind->attr = hb_fsAttrFromRaw( raw_attr );

      ffind->lDate = hb_dateEncode( iYear, iMonth, iDay );
      hb_dateStrPut( ffind->szDate, iYear, iMonth, iDay );
      ffind->szDate[ 8 ] = '\0';

      hb_snprintf( ffind->szTime, sizeof( ffind->szTime ), "%02d:%02d:%02d", iHour, iMin, iSec );
   }
   hb_vmLock();

   return bFound;
}

PHB_FFIND sfn_hb_fsFindFirst( const char * pszFileMask, ULONG attrmask, BOOL * bUse )
{
   PHB_FFIND ffind;

   ffind = ( PHB_FFIND ) hb_xgrab( sizeof( HB_FFIND ) );
   memset( ffind, 0, sizeof( HB_FFIND ) );

   /* Allocate platform dependent file find info storage */
   ffind->info = ( void * ) hb_xgrab( sizeof( HB_FFIND_INFO ) );
   memset( ffind->info, 0, sizeof( HB_FFIND_INFO ) );

   /* Store search parameters */
   ffind->pszFileMask = pszFileMask;
   ffind->attrmask = attrmask;
   ffind->bFirst = TRUE;

   /* Find first/next matching file */

   if( sfn_hb_fsFindNext( ffind, bUse ) )
      return ffind;

   /* If no file found at all, free stuff allocated so far and return NULL. */

   sfn_hb_fsFindClose( ffind );

   return NULL;
}

/* Finds next matching file, and applies a filter which makes
   searching CA-Cl*pper/MS-DOS compatible. */

BOOL sfn_hb_fsFindNext( PHB_FFIND ffind, BOOL * bUse )
{
   while( sfn_hb_fsFindNextLow( ffind, bUse ) )
   {
      /* Filter the result to stay MS-DOS and CA-Cl*pper compatible. */

      if( !( ( ( ffind->attrmask & HB_FA_HIDDEN    ) == 0 && ( ffind->attr & HB_FA_HIDDEN    ) != 0 ) ||
             ( ( ffind->attrmask & HB_FA_SYSTEM    ) == 0 && ( ffind->attr & HB_FA_SYSTEM    ) != 0 ) ||
             ( ( ffind->attrmask & HB_FA_LABEL     ) == 0 && ( ffind->attr & HB_FA_LABEL     ) != 0 ) ||
             ( ( ffind->attrmask & HB_FA_DIRECTORY ) == 0 && ( ffind->attr & HB_FA_DIRECTORY ) != 0 ) ) )
      {
         return TRUE;
      }
   }

   return FALSE;
}

void sfn_hb_fsFindClose( PHB_FFIND ffind )
{
   if( ffind )
   {
      /* Do platform dependant cleanup */

      if( ffind->info )
      {
         PHB_FFIND_INFO info = ( PHB_FFIND_INFO ) ffind->info;

         hb_vmUnlock();

#if defined( HB_OS_DOS )

         #if defined( __DJGPP__ ) || defined( __BORLANDC__ )
         {
            HB_SYMBOL_UNUSED( info );
         }
         #else
         {
#if defined( __WATCOMC__ )
            _dos_findclose( &info->entry );
#else
            findclose( &info->entry );
#endif
         }
         #endif

#elif defined( HB_OS_OS2 )

         {
            DosFindClose( info->hFindFile );
         }

#elif defined( HB_OS_WIN )

         if( info->hFindFile != INVALID_HANDLE_VALUE )
         {
            FindClose( info->hFindFile );
         }

#elif defined( HB_OS_UNIX )

         if( info->dir )
         {
            closedir( info->dir );
         }

#else

         {
            /* Intentionally do nothing */
            int TODO; /* TODO: for given platform */

            HB_SYMBOL_UNUSED( info );
         }

#endif

         hb_vmLock();

         hb_xfree( ( void * ) ffind->info );
      }

      hb_xfree( ( void * ) ffind );
   }
}
From druzus at users.sourceforge.net  Wed Feb 10 09:54:23 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 10 09:54:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13839] trunk/harbour
Message-ID: <E1NfDxP-0002a4-CI@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13839
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13839&view=rev
Author:   druzus
Date:     2010-02-10 14:54:16 +0000 (Wed, 10 Feb 2010)

Log Message:
-----------
2010-02-10 15:53 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/procaddr.c
    ! added missing #include "hbvm.h"

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/procaddr.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Feb 10 09:59:47 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 10 09:59:54 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
	<27529186.post@talk.nabble.com>
	<4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
Message-ID: <1265813987885-4548357.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> First we should discuss all concerns, if you care, pls 
> answer them. BTW, it's supported on _some_ Linux distros. 
> HB_WITH_QT_WEBKIT is no solution, but hack. Such setting 
> should be resolved automatically.
> 

I was expressing the way help can be presented in hbIDE.
In no way I expressed that webkit should be part of hbQT 
and be included in hbIDE. I had pointed out it load factor
which is of prime concern for me. This is the single most reason
that I wrote parser to read .uic files in place of calling QtUiTools
engine. And there is no need and place of such heavy load in hbIDE.

To answer next messages, I would say that, at the point when 
I removed QtWebKit, I was not equipped how to separate that 
component as stand alone. Now probably I think I can do it,
I will exercise another effort.



> Or, it's still an option to move the whole QT related 
> stuff from Harbour SVN to somewhere else and satisfy 
> QT user special requests there.
> 

This is not an option, please...




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13834-trunk-harbour-tp4545547p4548357.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From tech at 2dinfo.com.br  Wed Feb 10 11:16:00 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Wed Feb 10 10:17:00 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <00ED658A-CF5E-4640-A910-47F8FB72A941@syenar.hu>
References: <20100209212310.GC26505@linux-4bod.home.aster.pl><EFE8A5EB-FF09-44F9-8235-4AD38CB1B338@syenar.hu><20100209230304.GA3788@linux-4bod.home.aster.pl><9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu><20100210000415.GA7462@linux-4bod.home.aster.pl><BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu><20100210105355.GA9997@linux-4bod.home.aster.pl><98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu><20100210120429.GA11344@linux-4bod.home.aster.pl><C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu><20100210135747.GA13369@linux-4bod.home.aster.pl>
	<00ED658A-CF5E-4640-A910-47F8FB72A941@syenar.hu>
Message-ID: <B92E20E2ED994B9DA5113E96FFE6AFB0@deskleo>

> -implib for -hbexe is okay, I'll commit it. For the other,
> I'd prefer to suggest -ldflag=--export-all-symbols until we find
> at least one more target which supports this option.

Probably I've lost you, but does this flag (--export-all-symbols) supress 
the need of using DYNAMIC clause on exe program shared functions 
declaration?
Rgds
Leandro


 

From harbour.01 at syenar.hu  Wed Feb 10 10:20:37 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 10:20:48 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <1265813987885-4548357.post@n2.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
	<27529186.post@talk.nabble.com>
	<4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
	<1265813987885-4548357.post@n2.nabble.com>
Message-ID: <B2710528-85FB-4F6F-9025-0B33B0176E59@syenar.hu>

>> First we should discuss all concerns, if you care, pls 
>> answer them. BTW, it's supported on _some_ Linux distros. 
>> HB_WITH_QT_WEBKIT is no solution, but hack. Such setting 
>> should be resolved automatically.
>> 
> 
> I was expressing the way help can be presented in hbIDE.
> In no way I expressed that webkit should be part of hbQT 
> and be included in hbIDE. I had pointed out it load factor
> which is of prime concern for me. This is the single most reason
> that I wrote parser to read .uic files in place of calling QtUiTools
> engine. And there is no need and place of such heavy load in hbIDE.
> 
> To answer next messages, I would say that, at the point when 
> I removed QtWebKit, I was not equipped how to separate that 
> component as stand alone. Now probably I think I can do it,
> I will exercise another effort.

Maybe it went unnoticed, but I've spent a considerate amount 
of time committing changes to help such separation. Aside 
from the base system, it needs continuous attention to avoid 
creating unwanted dependencies, so it's not a one-time task. 
Plus in case of QtWebKit, additional autodetection will have 
to be added to its Makefile.

>> Or, it's still an option to move the whole QT related 
>> stuff from Harbour SVN to somewhere else and satisfy 
>> QT user special requests there.
>> 
> 
> This is not an option, please...

It's still an option. You've chosen to go your own separate 
way with these components, f.e. HBIDE lives in its own little 
"visual" world cut off from any interoperation with so called 
"non-visual" world. Harbour needs to offer more than that, and 
there is no technical reason not to do so. Anyway we're also 
facing a serious bloat by these components now.

Brgds,
Viktor

From bruno.luciani at gmail.com  Wed Feb 10 10:41:03 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Feb 10 10:41:11 2010
Subject: [Harbour] File names in dos/windows and Linux
In-Reply-To: <4B72C707.8050701@mweb.co.za>
References: <133778361002090750p6be05b40k518b24b19cb3dafa@mail.gmail.com>
	<4B72760A.5040200@mweb.co.za>
	<133778361002100517q30746158s194e572f068e7f0c@mail.gmail.com>
	<4B72C707.8050701@mweb.co.za>
Message-ID: <133778361002100741k3500526au70a59519eed0645e@mail.gmail.com>

Thanks Alex

Best Regards

Bruno

2010/2/10 Alex Strickland <sscc@mweb.co.za>

> Bruno Luciani wrote:
>
>  Which is the function that you say ?
>>
>
> I have attached the code. It is a hack of the Harbour DIRECTORY()
> implementation. It may not be up to date with the code in SVN. I hope it
> helps.
>
> Regards
> Alex
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100210/b3ba5a2d/attachment.html
From bedipritpal at hotmail.com  Wed Feb 10 11:03:58 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 10 11:04:06 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13763] trunk/harbour
In-Reply-To: <E1Nd0Jr-0004Fv-8k@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Nd0Jr-0004Fv-8k@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <1265817838888-4548820.post@n2.nabble.com>



vszakats wrote:
> 
>     + Added hbmk2_PathMakeRelative(). The opposite of PathProc().
>       Current form is not optimized and only moderately tested:
>         hbmk2_PathMakeRelative( "", "" )
>         hbmk2_PathMakeRelative( "", "hello.prg" )
>         hbmk2_PathMakeRelative( "", "proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this", "C:\this\that\proj\" )
>         hbmk2_PathMakeRelative( "C:\this", "C:\this\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this", "C:\that\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this", "C:\that\that\proj\hello.prg",
> .T. )
>         hbmk2_PathMakeRelative( "D:\this", "C:\that\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this\test",
> "C:\this\test\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this\test",
> "C:\that\that\proj\hello.prg" )
>         hbmk2_PathMakeRelative( "C:\this\test",
> "C:\that\that\proj\hello.prg", .T. )
>         hbmk2_PathMakeRelative( "D:\this\test",
> "C:\that\test\that\proj\hello.prg" )
> 

I have started reorienting .hbi and if possible to embed .hbi specific info
in .hbp.
I am convinced that single project file is the right way to go.

I may be asking more questions as I know nothing about *nix systems, hope 
you won't mind...

1) hbmk2_PathMakeRelative( "C:\dev_projects",
"C:\dev_sources\vouch\myfile.prg", .f. )
      =>  C:\dev_sources\vouch\myfile.prg   => OK

   hbmk2_PathMakeRelative( "C:\dev_projects",
"C:\dev_sources\vouch\myfile.prg", .t. )
      =>   ..\dev_sources\vouch\myfile.prg   => OK

   hbmk2_PathMakeRelative( "C:/dev_projects",
"C:/dev_sources/vouch/myfile.prg", .t. )
      => ..\C:/dev_sources/vouch/myfile.prg   => Not OK
      => [ expected ] C:\dev_sources\vouch\myfile.prg

   hbmk2_PathMakeRelative( "C:\dev_projects",
"C:/dev_sources/vouch/myfile.prg", .t. )
      => C:/dev_sources/vouch/myfile.prg   => Not OK
      => [ expected ] C:\dev_sources\vouch\myfile.prg

The idea is to retain path information in .hbp file as relative and in
normalized form (forward slash)
as:  ../dev_sources/vouch/myfile.prg,  even on Windows machine, and
converted to 
OS specif path. It will solve a lot of issues.

2) Can I have its reverse function hbmk2_PathMakeAbsolute( cRootPath,
cTargetFile, lForce )
      hbmk2_PathMakeAbsolute( "C:\dev_projects",
"../dev_sources/vouch/myfile.prg", .t. )
      => C:\dev_sources\vouch\myfile.prg

RootPath will always be the absolute path ( os specific ) of .hbp file.

3) Is is normal if info in .hbp is sectionized ? I mean, switches and
sources separation,
   as with you sent the function to parse .hbp. hbIDE needs information in
sectioned way,
   free format cannot be manipulated. Once existing .hbp will be submitted
to hbIDE,
   it will parse its contents, sectionize, and will overwrite the existing
.hbp with 
  added .hbi specific info constructed prefixed with #.

More questions may follow...

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13763-trunk-harbour-tp4513022p4548820.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Wed Feb 10 11:20:33 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 10 11:20:40 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <B2710528-85FB-4F6F-9025-0B33B0176E59@syenar.hu>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
	<27529186.post@talk.nabble.com>
	<4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
	<1265813987885-4548357.post@n2.nabble.com>
	<B2710528-85FB-4F6F-9025-0B33B0176E59@syenar.hu>
Message-ID: <1265818833453-4548926.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Maybe it went unnoticed, but I've spent a considerate amount 
> of time committing changes to help such separation. Aside 
> from the base system, it needs continuous attention to avoid 
> creating unwanted dependencies, so it's not a one-time task. 
> Plus in case of QtWebKit, additional autodetection will have 
> to be added to its Makefile.
> 

The action would be :

1. Re-create contrib/hbqt/qtwebkit folder.
2. Place all the webkit related classes, auto generated, or otherwise, i.e.,
hbqt.h.
3. Contains its own filelist.mk and makefile
4. Create separate lib hbqtwebkit.
5. This library will have dependancy on hbqt, hbqtcore, hbqtgui, hbqtnetwork
    but no other lib must have dependancy on hbqtwebkit.
6. None of the projects in SVN should have dependancy on hbqtwebkit.

Is the above path OK ?



> It's still an option. You've chosen to go your own separate 
> way with these components, f.e. HBIDE lives in its own little 
> "visual" world cut off from any interoperation with so called 
> "non-visual" world. Harbour needs to offer more than that, and 
> there is no technical reason not to do so. Anyway we're also 
> facing a serious bloat by these components now.
> 

No, I do not want to choose my own separate way, which 
will never get matured and will never be realized. Under the main 
banner, the likelyhood of realization are hundreds of time more.

So far I was busy with integrating various visual components
needed to present an effective user-interface. Now I think it has 
reached to some level of acceptance, so I will be focussing on 
bridging the gap between visual and non-visual components for 
the new couple of weeks. You can expect many questions in the process.
One is already posted in another thread.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13834-trunk-harbour-tp4545547p4548926.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Wed Feb 10 11:38:03 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 11:38:13 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13834] trunk/harbour
In-Reply-To: <1265818833453-4548926.post@n2.nabble.com>
References: <E1Nf2QG-0002gA-LW@sfp-svn-6.v30.ch3.sourceforge.com>
	<27526450.post@talk.nabble.com>
	<1265787900248-4546441.post@n2.nabble.com>
	<27529186.post@talk.nabble.com>
	<4D7D18DD-47B6-4FBF-9AFF-FA04C0988B0A@syenar.hu>
	<1265813987885-4548357.post@n2.nabble.com>
	<B2710528-85FB-4F6F-9025-0B33B0176E59@syenar.hu>
	<1265818833453-4548926.post@n2.nabble.com>
Message-ID: <8408115E-BA67-416D-B50D-F742C45DA63A@syenar.hu>

>> Maybe it went unnoticed, but I've spent a considerate amount 
>> of time committing changes to help such separation. Aside 
>> from the base system, it needs continuous attention to avoid 
>> creating unwanted dependencies, so it's not a one-time task. 
>> Plus in case of QtWebKit, additional autodetection will have 
>> to be added to its Makefile.
>> 
> 
> The action would be :
> 
> 1. Re-create contrib/hbqt/qtwebkit folder.
> 2. Place all the webkit related classes, auto generated, or otherwise, i.e.,
> hbqt.h.

If you include QtWebKit related stuff in hbqt.h, 
there won't be guarantee that it's not used, 
so it should have its own local hbqtwebkit.h header.
(this is true even for hbqtnetwork lib, or hbqtgui 
for that matter, so it should also be fixed.)

> 3. Contains its own filelist.mk and makefile
> 4. Create separate lib hbqtwebkit.
> 5. This library will have dependancy on hbqt, hbqtcore, hbqtgui, hbqtnetwork
>    but no other lib must have dependancy on hbqtwebkit.
> 6. None of the projects in SVN should have dependancy on hbqtwebkit.

Technically they could, but the whole chain 
should be independent from core component parts.

> Is the above path OK ?

Yes, and you will also need autodetection to 
avoid failure on platforms how chose not to provide 
qtwebkit.

Using something like this instead of calling central detect.mk:
---
HB_HAS_QT_WEBKIT :=

_DET_DSP_NAME := qt
_DET_VAR_INC_ := HB_INC_QT
_DET_VAR_HAS_ := HB_HAS_QT_WEBKIT
_DET_FLT_PLAT := !dos
_DET_FLT_COMP := !mingw64 !watcom !bcc !pocc !pocc64 !poccarm !msvcia64
_DET_INC_DEFP := /usr/include/qt4 /usr/lib/qt4/include /usr/include /Developer/qt/include
# untested
_DET_INC_HEAD := /QtWebKit/QtWebKit
include $(TOP)$(ROOT)config/detfun.mk

ifeq ($(HB_PLATFORM),darwin)
   ifeq ($(HB_HAS_QT_WEBKIT),)
      _DET_DSP_NAME := qt
      _DET_VAR_INC_ := HB_INC_QT
      _DET_VAR_HAS_ := HB_HAS_QT_WEBKIT
      _DET_INC_DEFP := /Library/Frameworks/QtWebKit.framework/Versions/4/Headers
      _DET_INC_HEAD := /QtWebKit
      include $(TOP)$(ROOT)config/detfun.mk
   endif
endif
---

To do that efficiently moc detection would be better moved 
to separate mocdet.mk file and include that in all Makefiles.

>> It's still an option. You've chosen to go your own separate 
>> way with these components, f.e. HBIDE lives in its own little 
>> "visual" world cut off from any interoperation with so called 
>> "non-visual" world. Harbour needs to offer more than that, and 
>> there is no technical reason not to do so. Anyway we're also 
>> facing a serious bloat by these components now.
>> 
> 
> No, I do not want to choose my own separate way, which 
> will never get matured and will never be realized. Under the main 
> banner, the likelyhood of realization are hundreds of time more.
> 
> So far I was busy with integrating various visual components
> needed to present an effective user-interface. Now I think it has 
> reached to some level of acceptance, so I will be focussing on 
> bridging the gap between visual and non-visual components for 
> the new couple of weeks. You can expect many questions in the process.
> One is already posted in another thread.

Thank you.

I didn't follow how is the memory unreleasing issue now, 
but if possible it would be good find a solution for it.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Feb 10 14:22:03 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 10 14:22:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13836] trunk/harbour
In-Reply-To: <55B369EC-4F6C-4D39-9D9F-D0C05F0A362D@syenar.hu>
References: <E1NfAqB-0004bL-UT@sfp-svn-5.v30.ch3.sourceforge.com>
	<55B369EC-4F6C-4D39-9D9F-D0C05F0A362D@syenar.hu>
Message-ID: <20100210192203.GB30652@linux-4bod.home.aster.pl>

On Wed, 10 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Plus another, maybe you missed it, but ac_test.prg 
> fails after recent ACHOICE() patches, could you verify it?

I've seen it but ac_test.prg and ac_test2.prg show that non
of Harbour ACHOICE versions is Clipper compatible and I hoped
that maybe someone will try to create new implementation from
scratch.
I'll fix the RTE which is result of typo in one of last commit
and yet another problem which can be seen in ac_test2.prg but
I really think we should find someone who will create new ACHOICE
implementation from scratch. Just simply current code it too
complicated and I do not believe that anyone created such
structure in Clipper. IMO real implementation is very trivial
and it should be enough to make precise tests in Clipper to
create compatible algorithm.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Feb 10 14:23:45 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 10 14:23:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13840] trunk/harbour
Message-ID: <E1NfIA5-0003cU-C6@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13840
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13840&view=rev
Author:   druzus
Date:     2010-02-10 19:23:44 +0000 (Wed, 10 Feb 2010)

Log Message:
-----------
2010-02-10 20:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/achoice.prg
    ! fixed typo in one of recent modifications which caused RTE in
      ac_test.prg
    ! fixed yet another typo which removed nMode setting
    ! fixed to not execute user procedure when no item is active at
      startup. This problem was visible in ac_test2.prg

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/achoice.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 10 14:55:24 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 14:55:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13836] trunk/harbour
In-Reply-To: <20100210192203.GB30652@linux-4bod.home.aster.pl>
References: <E1NfAqB-0004bL-UT@sfp-svn-5.v30.ch3.sourceforge.com>
	<55B369EC-4F6C-4D39-9D9F-D0C05F0A362D@syenar.hu>
	<20100210192203.GB30652@linux-4bod.home.aster.pl>
Message-ID: <D4D92E40-A41F-4CF0-ACF9-17EECE5266D6@syenar.hu>

Thanks Przemek. What you say is true, and I can only 
hope someone will offer his help to solve this. Until 
then we have no better choice than using current version. 
(and wait for the next bug report about another incompatible 
little detail ;)

[ BTW I never used ACHIOCE() since it was simpler to 
write a simple clone than to understand how this one 
works. ]

Brgds,
Viktor

On 2010 Feb 10, at 20:22, Przemys?aw Czerpak wrote:

> On Wed, 10 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> Plus another, maybe you missed it, but ac_test.prg 
>> fails after recent ACHOICE() patches, could you verify it?
> 
> I've seen it but ac_test.prg and ac_test2.prg show that non
> of Harbour ACHOICE versions is Clipper compatible and I hoped
> that maybe someone will try to create new implementation from
> scratch.
> I'll fix the RTE which is result of typo in one of last commit
> and yet another problem which can be seen in ac_test2.prg but
> I really think we should find someone who will create new ACHOICE
> implementation from scratch. Just simply current code it too
> complicated and I do not believe that anyone created such
> structure in Clipper. IMO real implementation is very trivial
> and it should be enough to make precise tests in Clipper to
> create compatible algorithm.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Feb 10 14:55:58 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 14:56:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13840] trunk/harbour
In-Reply-To: <E1NfIA5-0003cU-C6@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NfIA5-0003cU-C6@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <CC0BF5A7-F085-4E3D-BC84-7E80A0F41E47@syenar.hu>

Thanks a lot.

Brgds,
Viktor

On 2010 Feb 10, at 20:23, druzus@users.sourceforge.net wrote:

> Revision: 13840
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13840&view=rev
> Author:   druzus
> Date:     2010-02-10 19:23:44 +0000 (Wed, 10 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-10 20:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/rtl/achoice.prg
>    ! fixed typo in one of recent modifications which caused RTE in
>      ac_test.prg
>    ! fixed yet another typo which removed nMode setting
>    ! fixed to not execute user procedure when no item is active at
>      startup. This problem was visible in ac_test2.prg
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/rtl/achoice.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Feb 10 15:01:06 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 15:01:21 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13763] trunk/harbour
In-Reply-To: <1265817838888-4548820.post@n2.nabble.com>
References: <E1Nd0Jr-0004Fv-8k@sfp-svn-2.v30.ch3.sourceforge.com>
	<1265817838888-4548820.post@n2.nabble.com>
Message-ID: <B9FFC815-ECF1-408D-86E2-CBE4884210D6@syenar.hu>

Hi Pritpal,

>>        hbmk2_PathMakeRelative( "C:\this\test",
>> "C:\that\that\proj\hello.prg", .T. )
>>        hbmk2_PathMakeRelative( "D:\this\test",
>> "C:\that\test\that\proj\hello.prg" )
>> 
> 
> I have started reorienting .hbi and if possible to embed .hbi specific info
> in .hbp.
> I am convinced that single project file is the right way to go.
> 
> I may be asking more questions as I know nothing about *nix systems, hope 
> you won't mind...
> 
> 1) hbmk2_PathMakeRelative( "C:\dev_projects",
> "C:\dev_sources\vouch\myfile.prg", .f. )
>      =>  C:\dev_sources\vouch\myfile.prg   => OK
> 
>   hbmk2_PathMakeRelative( "C:\dev_projects",
> "C:\dev_sources\vouch\myfile.prg", .t. )
>      =>   ..\dev_sources\vouch\myfile.prg   => OK
> 
>   hbmk2_PathMakeRelative( "C:/dev_projects",
> "C:/dev_sources/vouch/myfile.prg", .t. )
>      => ..\C:/dev_sources/vouch/myfile.prg   => Not OK
>      => [ expected ] C:\dev_sources\vouch\myfile.prg

This function requires native path separators, 
so to fix this, always convert to native before 
passing them to it.

Here is the function doing this job in hbmk2:
---
FUNCTION PathSepToSelf( cFileName )
#if defined( __PLATFORM__UNIX )
   RETURN StrTran( cFileName, "\", "/" )
#else
   RETURN StrTran( cFileName, "/", "\" )
#endif
---

You can even save back native pathseps to 
file, but you should make sure to convert 
them to native when you load them. This 
way the disk files are platform independent.

>   hbmk2_PathMakeRelative( "C:\dev_projects",
> "C:/dev_sources/vouch/myfile.prg", .t. )
>      => C:/dev_sources/vouch/myfile.prg   => Not OK
>      => [ expected ] C:\dev_sources\vouch\myfile.prg

Same as above.

> The idea is to retain path information in .hbp file as relative and in
> normalized form (forward slash)

You can store it with consistent slash type, 
but since these files can be edited by humans, 
and also hbmk2 is insensitive of the slash format, 
always be prepared to any format when reading 
the files.

> as:  ../dev_sources/vouch/myfile.prg,  even on Windows machine, and
> converted to 
> OS specif path. It will solve a lot of issues.
> 
> 2) Can I have its reverse function hbmk2_PathMakeAbsolute( cRootPath,
> cTargetFile, lForce )
>      hbmk2_PathMakeAbsolute( "C:\dev_projects",
> "../dev_sources/vouch/myfile.prg", .t. )
>      => C:\dev_sources\vouch\myfile.prg
> 
> RootPath will always be the absolute path ( os specific ) of .hbp file.

This is where we started from, just lookup the original 
function. It's called 'PathProc()'.

> 3) Is is normal if info in .hbp is sectionized ? I mean, switches and
> sources separation,
>   as with you sent the function to parse .hbp. hbIDE needs information in
> sectioned way,
>   free format cannot be manipulated. Once existing .hbp will be submitted
> to hbIDE,
>   it will parse its contents, sectionize, and will overwrite the existing
> .hbp with 
>  added .hbi specific info constructed prefixed with #.

I'd suggest to touch it only as absolutely necessary.

As for "sectionizing", I think it's not very good, 
since you need to be able to parse native .hbp files 
anyway, so section can get deleted, or not present at 
all. For pure cosmetic reason you could add them, but 
IMO it's not very polite to add unnecessary information 
to config files.

For a start you can simply write an .hbp file based 
on in-memory information using your own formatting.

F.e. options first, empty line, source files, empty 
line, hbide options.

Later this can be extended to keep track of change 
in-memory and try to replicate original format, with 
original comments, when writing out the file.

To make a little simpler, I'll add a new switch to 
hbmk2, which it will always ignore, so it can used 
to specify hbide (or other 3rd party tool switches), 
I plan to call it -3rd=<string>, so you can add 
hbide specific options, without fiddling with 
comment trick, like this:
   -3rd=-hbide-specialoption
   -3rd=-hbide-projectfriendlyname=Hello

I hope that helps.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Feb 10 17:21:36 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 10 17:21:43 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13763] trunk/harbour
In-Reply-To: <B9FFC815-ECF1-408D-86E2-CBE4884210D6@syenar.hu>
References: <E1Nd0Jr-0004Fv-8k@sfp-svn-2.v30.ch3.sourceforge.com>
	<1265817838888-4548820.post@n2.nabble.com>
	<B9FFC815-ECF1-408D-86E2-CBE4884210D6@syenar.hu>
Message-ID: <1265840496859-4551258.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> This function requires native path separators, 
> so to fix this, always convert to native before 
> passing them to it.
> 

Okay.



> You can even save back native pathseps to 
> file, but you should make sure to convert 
> them to native when you load them. This 
> way the disk files are platform independent.
> 

Yep, this is exactly what I want to achieve.



> You can store it with consistent slash type, 
> but since these files can be edited by humans, 
> and also hbmk2 is insensitive of the slash format, 
> always be prepared to any format when reading 
> the files.
> 

Yep I am aware.



>> RootPath will always be the absolute path ( os specific ) of .hbp file.
> 
> This is where we started from, just lookup the original 
> function. It's called 'PathProc()'.
> 

Oops, forgot about that.



>> 3) Is is normal if info in .hbp is sectionized ? I mean, switches and
>> sources separation,
>>   as with you sent the function to parse .hbp. hbIDE needs information in
>> sectioned way,
>>   free format cannot be manipulated. Once existing .hbp will be submitted
>> to hbIDE,
>>   it will parse its contents, sectionize, and will overwrite the existing
>> .hbp with 
>>  added .hbi specific info constructed prefixed with #.
> 
> I'd suggest to touch it only as absolutely necessary.
> 
> As for "sectionizing", I think it's not very good, 
> since you need to be able to parse native .hbp files 
> anyway, so section can get deleted, or not present at 
> all. For pure cosmetic reason you could add them, but 
> IMO it's not very polite to add unnecessary information 
> to config files.
> 

By 'Sections' I mean ( .hbp parlance ) "Switches" and "Sources"
I am more concerned about "Souces" which user will be "adding/deleting"
the visual way. For that matter I do not want user to open .hbp
in a text editor, rearrange the information and then turn to hbIDE.

How this can be achieved?



> For a start you can simply write an .hbp file based 
> on in-memory information using your own formatting.
> 
> F.e. options first, empty line, source files, empty 
> line, hbide options.
> 
> Later this can be extended to keep track of change 
> in-memory and try to replicate original format, with 
> original comments, when writing out the file.
> 

Here it becomes difficult. If .hbp is tuned to receive 
first swiches then sources, no issues. But if it is a mix
   switch(es) | source(es) | switch...
then probably this cannot be achieved in reasonable way.
Also .hbp parser provides switches first then sources.

hbIDE provides two sections to keep information:
1) Compile/Link flags and 2) Sources.



> To make a little simpler, I'll add a new switch to 
> hbmk2, which it will always ignore, so it can used 
> to specify hbide (or other 3rd party tool switches), 
> I plan to call it -3rd=<string>, so you can add 
> hbide specific options, without fiddling with 
> comment trick, like this:
>    -3rd=-hbide-specialoption
>    -3rd=-hbide-projectfriendlyname=Hello
> 

This feature will be nice but this will only needed for 
couple of places which can be acieved with # at the end or start.

In a nutshell, hbIDE needs sources to be located/deleted/added.
Rest of the part of .hbp can remain intect.

Please keep in mind that we are building a .hbp in visually 
interactive way. Let us push already existing .hbp's at back line
at this moment.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13763-trunk-harbour-tp4513022p4551258.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Wed Feb 10 17:59:02 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 10 17:59:10 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13838] trunk/harbour
In-Reply-To: <E1NfDkE-0006qH-6y@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NfDkE-0006qH-6y@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <20100210225902.GA17732@linux-4bod.home.aster.pl>

On Wed, 10 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-02-10 15:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     + Enabled -implib option in -hbexe (default) mode.
>       (except for dos/djgpp, pls add it manually)
>     + Enabled -map option in -hbdyn mode for some targets where it was missing.
>       (except for dos/djgpp, pls review this case)

Thank you very much.
Small fix is necessary for MinGW yet. 'lib' prefix in import
library name is missing so instead of libtest.a test.a is created.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Feb 10 18:14:19 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 10 18:14:32 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <B92E20E2ED994B9DA5113E96FFE6AFB0@deskleo>
References: <9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu>
	<20100210000415.GA7462@linux-4bod.home.aster.pl>
	<BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>
	<20100210105355.GA9997@linux-4bod.home.aster.pl>
	<98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu>
	<20100210120429.GA11344@linux-4bod.home.aster.pl>
	<C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu>
	<20100210135747.GA13369@linux-4bod.home.aster.pl>
	<00ED658A-CF5E-4640-A910-47F8FB72A941@syenar.hu>
	<B92E20E2ED994B9DA5113E96FFE6AFB0@deskleo>
Message-ID: <20100210231419.GA9744@linux-4bod.home.aster.pl>

On Wed, 10 Feb 2010, 2D Info - Leandro Damasio wrote:

Hi,

> >-implib for -hbexe is okay, I'll commit it. For the other,
> >I'd prefer to suggest -ldflag=--export-all-symbols until we find
> >at least one more target which supports this option.
> Probably I've lost you, but does this flag (--export-all-symbols)
> supress the need of using DYNAMIC clause on exe program shared
> functions declaration?

Not exactly. --export-all-symbols is MinGW linked option which
caused that all public symbols in final executable file and/or
in DLL library are exported. When you are creating your standalone
EXE file you can use it with -implib option to create import
library which will contain wrappers to all public functions in
your EXE file.
Then when you are creating DLLs which are loaded by your program
(remember to use HB_LIBLOAD()/HB_LIBFREE() not some other hbwin
replacement) then you can use this library to link such DLLs.
All public functions inside your EXE file will have references
in import library so you will not have to use DYNAMIC or any
other tricks in your code. Just simply during linking you are
replacing 'hbmaindllp' with import library generated for your
EXE file. Just try. You can distribute such import library to
all programmers writing DLL extensions to your EXE. Using it
they can easy verify which functions are available.
Please only remember  that it's LD option (MinGW linker) so
it should be specified with -Wl, prefix. If you are using
hbmk2 then you should use "-ldflag=-Wl,--export-all-symbols"
and "-implib" as hbmk2 parameter when you are linking your
EXE file.
But in the .prg code used for EXE file when you are calling
functions which do not exist in it and are loaded dynamically
then all such functions should be declared as DYNAMIC otherwise
you will have link time error (function does not exist).

best regards,
Przemek

ps. current HBMK2 does not add 'lib' prefix to generated import
    library name. I hope it will be fixed ASAP. Meanwhile simply
    rename it manually.
    When you are linking DLL or EXE file then you can specify
    all libraries using -l<name> where name does not contain
    'lib' prefix and '.a' extension -L<path> to specify path
    where your libraries are located. By default current path
    is not searched so if you want to use it then you should
    add '-L.' switch.
From tech at 2dinfo.com.br  Wed Feb 10 20:57:22 2010
From: tech at 2dinfo.com.br (2D Info - Leandro Damasio)
Date: Wed Feb 10 19:58:23 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100210231419.GA9744@linux-4bod.home.aster.pl>
References: <9CF98D1B-4F2F-43CE-A87F-033559454180@syenar.hu><20100210000415.GA7462@linux-4bod.home.aster.pl><BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu><20100210105355.GA9997@linux-4bod.home.aster.pl><98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu><20100210120429.GA11344@linux-4bod.home.aster.pl><C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu><20100210135747.GA13369@linux-4bod.home.aster.pl><00ED658A-CF5E-4640-A910-47F8FB72A941@syenar.hu><B92E20E2ED994B9DA5113E96FFE6AFB0@deskleo>
	<20100210231419.GA9744@linux-4bod.home.aster.pl>
Message-ID: <DB91A2386CF54B11B32AFF7CEC5ED740@deskleo>

Hi Przemek

> But in the .prg code used for EXE file when you are calling
> functions which do not exist in it and are loaded dynamically
> then all such functions should be declared as DYNAMIC otherwise
> you will have link time error (function does not exist).

In my case of use the functions in the DLL are called by the EXE via macro 
evaluation (because I don't have their names until I load the DLL) so it is 
not possible/needed declare them as DYNAMIC in the EXE, I guess. Is it going 
to work anyway?

Regards
Leandro
 

From jarabal at users.sourceforge.net  Wed Feb 10 22:26:16 2010
From: jarabal at users.sourceforge.net (jarabal@users.sourceforge.net)
Date: Wed Feb 10 22:26:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13841] trunk/harbour
Message-ID: <E1NfPh2-0001aS-Up@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13841
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13841&view=rev
Author:   jarabal
Date:     2010-02-11 03:26:15 +0000 (Thu, 11 Feb 2010)

Log Message:
-----------
2010-02-11 04:25 UTC+0100 Xavi (jarabal/at/gmail.com)
  * contrib/hbwin/wapi_winbase.c
    + Added wapi_GETSHORTPATHNAME()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Wed Feb 10 22:27:54 2010
From: jarabal at gmail.com (Xavi)
Date: Wed Feb 10 22:28:25 2010
Subject: [Harbour] File names in dos/windows and Linux
In-Reply-To: <4B72C707.8050701@mweb.co.za>
References: <133778361002090750p6be05b40k518b24b19cb3dafa@mail.gmail.com>	<4B72760A.5040200@mweb.co.za>	<133778361002100517q30746158s194e572f068e7f0c@mail.gmail.com>
	<4B72C707.8050701@mweb.co.za>
Message-ID: <4B73793A.1070103@gmail.com>

Alex,

Try with last SVN wapi_GetShortPathName( cLongPath, @cShortPath )

http://msdn.microsoft.com/en-us/library/aa364989%28VS.85%29.aspx

HTH
-- 
Xavi

El 10/02/2010 15:47, Alex Strickland escribi?:
> Bruno Luciani wrote:
>
>> Which is the function that you say ?
>
> I have attached the code. It is a hack of the Harbour DIRECTORY()
> implementation. It may not be up to date with the code in SVN. I hope it
> helps.
>
> Regards
> Alex
>
From harbour.01 at syenar.hu  Wed Feb 10 22:33:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 10 22:33:45 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13763] trunk/harbour
In-Reply-To: <1265840496859-4551258.post@n2.nabble.com>
References: <E1Nd0Jr-0004Fv-8k@sfp-svn-2.v30.ch3.sourceforge.com>
	<1265817838888-4548820.post@n2.nabble.com>
	<B9FFC815-ECF1-408D-86E2-CBE4884210D6@syenar.hu>
	<1265840496859-4551258.post@n2.nabble.com>
Message-ID: <C0B8D6D3-08AB-4B2A-A41F-F2CCE4AAFE29@syenar.hu>

>> I'd suggest to touch it only as absolutely necessary.
>> 
>> As for "sectionizing", I think it's not very good, 
>> since you need to be able to parse native .hbp files 
>> anyway, so section can get deleted, or not present at 
>> all. For pure cosmetic reason you could add them, but 
>> IMO it's not very polite to add unnecessary information 
>> to config files.
>> 
> 
> By 'Sections' I mean ( .hbp parlance ) "Switches" and "Sources"
> I am more concerned about "Souces" which user will be "adding/deleting"
> the visual way. For that matter I do not want user to open .hbp
> in a text editor, rearrange the information and then turn to hbIDE.
> 
> How this can be achieved?

Just create a text file based on in-memory source and option 
arrays. I can't see anything complications with that.

>> For a start you can simply write an .hbp file based 
>> on in-memory information using your own formatting.
>> 
>> F.e. options first, empty line, source files, empty 
>> line, hbide options.
>> 
>> Later this can be extended to keep track of change 
>> in-memory and try to replicate original format, with 
>> original comments, when writing out the file.
>> 
> 
> Here it becomes difficult. If .hbp is tuned to receive 
> first swiches then sources, no issues. But if it is a mix
>   switch(es) | source(es) | switch...
> then probably this cannot be achieved in reasonable way.
> Also .hbp parser provides switches first then sources.

Order doesn't matter, it's completely freeform.
The reader accepts any order, your writer can write 
in any order which you find nicely looking. I proposed: 
options (one per line), newline, sources (one per 
line), but you can do it in any other ways.

> hbIDE provides two sections to keep information:
> 1) Compile/Link flags and 2) Sources.

Just dump them to text file in any order.

>> To make a little simpler, I'll add a new switch to 
>> hbmk2, which it will always ignore, so it can used 
>> to specify hbide (or other 3rd party tool switches), 
>> I plan to call it -3rd=<string>, so you can add 
>> hbide specific options, without fiddling with 
>> comment trick, like this:
>>   -3rd=-hbide-specialoption
>>   -3rd=-hbide-projectfriendlyname=Hello
>> 
> 
> This feature will be nice but this will only needed for 
> couple of places which can be acieved with # at the end or start.

Yes, it's meant to avoid this hack. Either the '#end'/'#start' or 
the '#hbide:<option>' comment hack.

With this switch it stays clean. You only need to go trough 
the option array and find matches for ones that begin with
 "-3rd=hbide". IOW, we can drop the third special array in 
current parser.

> In a nutshell, hbIDE needs sources to be located/deleted/added.
> Rest of the part of .hbp can remain intect.
> 
> Please keep in mind that we are building a .hbp in visually 

Sorry, for me the word "visual" doesn't add to the problem. All 
we are dealing with is reading a text file into arrays from disk 
(I already provided code for that), edit these arrays according 
to "visual" (or whatever else) events (using hb_AAdd()/hb_ADel()), 
and converting these arrays back to text file, and save them 
to disk.

This looks simple, and it's enough for a start.

[ To make it even better, tricks could be added to try to 
keep original formatting and also comment lines when 
modifying/saving these arrays, but let's concentrate on that 
later. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Feb 10 22:50:21 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 10 22:50:33 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <4B72A162.5090802@gmail.com>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>	<4B7161D1.4050002@gmail.com>
	<AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>
	<4B72A162.5090802@gmail.com>
Message-ID: <D354E70A-72AB-46B9-8FE5-77679F8BFB9E@syenar.hu>

Hi Xavi,

Maybe I'm missing something, but it's not exactly clear for me what 
the patch is meant to solve.

You've introduced a new permanently set macro called HB_OS_WIN64_32, 
redefined a Harbour type (which should be avoided by all means) 
and shifted parameter offset by one for reference types, and also 
deleted ASM guard, but no actual ASM code was deleted.

Doing one step back, I don't think you can use the 64-bit method 
for 32-bit as is, as the calling conventions are much more numerous 
and complicated in 32-bit. The concept can be used, but it has to 
cover much more combinations. Maybe the byte array can be a solution.

For sure the number of combinations are large, but maybe it can 
be solved by using a generator program creating the .c source file 
automatically.

Brgds,
Viktor

On 2010 Feb 10, at 13:06, Xavi wrote:

> Hi Viktor,
> 
> To avoid ASM the compiler needs to know the call and sizes at compile time.
> Too many combinations for a job that may not be perfect and maybe unused.
> It's possible to simplify overwriting the stack with struct of byte array more call more choice but I think with some optimizations will have problems: I really don't like either solution.
> 
> Otherwise I think that can be used win64 implement also for win32 with some modifications.
> What do you think of the patch attached (names are irrelevant)?
> 
> Also I would suggest copying items parameters inside HB_WINARG to avoid changes if they are not passed by reference.
> 
> Best regards,
> Xavi
> 
> El 09/02/2010 14:49, Viktor Szak?ts escribi?:
>> Hi,
>> 
>>>> From this point it's users responsibility to
>>>> pass parameters properly.
>>> 
>>> Ok. Next topic: coverage of potential C .dll functions.
>>> 
>>> IMO it's unworkable cover functions of n parameters with n size,
>>> seems reasonable to restrict to 15 the number of parameters.
>> 
>> This limit already exists, and it should be enough for
>> a start. Anyway, once the scheme is developed, it will be
>> easy to extend if it's worth it or required. For vast
>> majority of cases 15 is enough.
>> 
>>> Currently only covering sizes of 4, 8 bytes in win32 and 8 bytes in win64.
>>> This means that calls to PosibleDLLfunc( WORD wPar, BYTE bPar ) are not possible.
>> 
>> 4 and 8 byte parameters are enough for all win32
>> calling conventions. So it's possible to pass BYTE
>> already.
>> 
>>> How many types of data have to be supported?
>> 
>> win32: 4 or 8 for arguments, return value can be 4, 8 bytes or double/float.
>>        plus each in two variations: cdecl or stdcall (winapi)
>> win64: 8 for argument, return value is also 8 bytes
>> 
>>> BYTE, WORD, DWORD, PVOID, float, double.
>> 
>> For win64 current solution covers all combinations, as
>> there is a much simpler calling convention there, see:
>>    http://msdn.microsoft.com/en-us/library/ms235286(VS.80).aspx
>> 
>> Brgds,
>> Viktor
>> 
> <win_dll.patch>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jarabal at gmail.com  Wed Feb 10 23:20:44 2010
From: jarabal at gmail.com (Xavi)
Date: Wed Feb 10 23:21:12 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <D354E70A-72AB-46B9-8FE5-77679F8BFB9E@syenar.hu>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>	<4B7161D1.4050002@gmail.com>	<AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>	<4B72A162.5090802@gmail.com>
	<D354E70A-72AB-46B9-8FE5-77679F8BFB9E@syenar.hu>
Message-ID: <4B73859C.8020008@gmail.com>

Hi Viktor,

> You've introduced a new permanently set macro called HB_OS_WIN64_32,
> redefined a Harbour type (which should be avoided by all means)

Is to work with win64 implementation in win32 with minimal changes.
If the system is win32, not be used HB_U64 used HB_U32 to compile only win_dll.c

> and shifted parameter offset by one for reference types,

It's a bad typo in win64. Try testdll.prg with MinGW in Win32, use CC_FLAGS .-
-Wall -Wextra -march=i586 -mtune=pentiumpro -O3 -fomit-frame-pointer

Sorry, I explain more later... :)

Best regards,
Xavi
From sscc at mweb.co.za  Thu Feb 11 01:15:30 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Feb 11 01:15:47 2010
Subject: [Harbour] File names in dos/windows and Linux
In-Reply-To: <4B73793A.1070103@gmail.com>
References: <133778361002090750p6be05b40k518b24b19cb3dafa@mail.gmail.com>	<4B72760A.5040200@mweb.co.za>	<133778361002100517q30746158s194e572f068e7f0c@mail.gmail.com>	<4B72C707.8050701@mweb.co.za>
	<4B73793A.1070103@gmail.com>
Message-ID: <4B73A082.2080404@mweb.co.za>

Xavi wrote:

> Try with last SVN wapi_GetShortPathName( cLongPath, @cShortPath )
>
> http://msdn.microsoft.com/en-us/library/aa364989%28VS.85%29.aspx

Thanks Xavi, I actually only used it as a one off solution to convert a whole 
bunch of short names to long names, but your solution is much neater and a good 
addition to the wapi library.

Regards
Alex

From druzus at acn.waw.pl  Thu Feb 11 04:23:59 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 04:24:08 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <DB91A2386CF54B11B32AFF7CEC5ED740@deskleo>
References: <BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu>
	<20100210105355.GA9997@linux-4bod.home.aster.pl>
	<98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu>
	<20100210120429.GA11344@linux-4bod.home.aster.pl>
	<C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu>
	<20100210135747.GA13369@linux-4bod.home.aster.pl>
	<00ED658A-CF5E-4640-A910-47F8FB72A941@syenar.hu>
	<B92E20E2ED994B9DA5113E96FFE6AFB0@deskleo>
	<20100210231419.GA9744@linux-4bod.home.aster.pl>
	<DB91A2386CF54B11B32AFF7CEC5ED740@deskleo>
Message-ID: <20100211092359.GA22549@linux-4bod.home.aster.pl>

On Wed, 10 Feb 2010, 2D Info - Leandro Damasio wrote:

Hi,

> >But in the .prg code used for EXE file when you are calling
> >functions which do not exist in it and are loaded dynamically
> >then all such functions should be declared as DYNAMIC otherwise
> >you will have link time error (function does not exist).
> In my case of use the functions in the DLL are called by the EXE via
> macro evaluation (because I don't have their names until I load the
> DLL) so it is not possible/needed declare them as DYNAMIC in the
> EXE, I guess. Is it going to work anyway?

It will work but I do not understand how it's possible to call
function by macro knowing it's name when macro value is created
but in other context you do not know this name. Your above
description does not make any sense or you simply forgot to say
about some important conditions.

best regards,
Przemek
From dmacias at mail.udg.mx  Thu Feb 11 06:25:23 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 06:25:44 2010
Subject: [Harbour] Re: USE error ?
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <4B73E923.7060600@mail.udg.mx>

Przemek:

 >> Something has changed for this case since Aug 2007 ?

 >I created new code for MT mode which also can use BSD or POSIX locks
 >for deny flags emulation so now it works between aliased work areas
 >even in single process.
 >This code were copied from Harbour repository to xHarbour CVS by:
 >   2008-10-22 10:30 UTC+0100 Miguel Angel Marchuet <miguelangel at
 >marchuet.net>
 >even with my original ChangeLog notes but without even single word that
 >these were my modifications :-(
 >So this code is present in xHarbour. I haven't checked if it was ported
 >correctly or not. Few times in last years my code from Harbour was
 >copied without necessary updates to work correctly with xHarbour
 >internal structures so you should ask about details xHarbour
 >developers.

[...]

 >Code is present but I do not have time to test current xHarbour CVS
 >locate the bugs and document them. The are bugs I reported four or more
 >years ago to xHarbour devel list and never fixed though some of them
 >are even registered at xHarbour bug track so I think it's waste of
 >time.

Thanks, with these explanations now is more clear:

- In Linux nothing prevent two applications open file in EXCLUSIVE from 
each side
- Harbour applications can emulate EXCLUSIVE mode if them are build with 
this feature
- Maybe xHarbour have same feature if it was properly copied/implemented
- So EXCLUSIVE may work between Harbour-xHarbour applications if work 
properly in xHarbour
- hbnetio is an alternative in remote environment to properly manage 
EXCLUSIVE, in place of Samba


I found this old subject due I was searching for "locking-scheme" to 
ensure proper implementation.
Until now my conclusions are:
- Two applications, one build with Harbour and other with xHarbour may 
have locking-corruption problems if each one is using a different 
"locking scheme" in same RDD type
So we must to check which is default "locking-scheme" in each compiler 
or force same in both

- Two applications, both build with Harbour may have locking-corruption 
problems if each one is using a different "locking scheme" in same RDD type
So we must to check which is default "locking-scheme" in each build or 
force same in both builds

- Two applications, one build with (x)Harbour and other with other 
compiler (Clipper, FoxPro, ... ) may have locking-corruption problems if 
each one is using a different "locking scheme" in same RDD type
So we must to check which is default "locking-scheme" in each build or 
force same in both builds

I was relying in default "locking scheme" in any build

David Macias
From vszakats at users.sourceforge.net  Thu Feb 11 06:33:12 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 11 06:33:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13842] trunk/harbour
Message-ID: <E1NfXIG-0005IN-At@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13842
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13842&view=rev
Author:   vszakats
Date:     2010-02-11 11:33:10 +0000 (Thu, 11 Feb 2010)

Log Message:
-----------
2010-02-11 12:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/direct.c
    * int -> HB_SIZE

  * contrib/hbwin/wapi_wingdi.c
    ! Fixed return value of WAPI_SELECTOBJECT()

  * contrib/hbwin/tests/testdll.prg
    + Minor.

  * contrib/hbwin/win_dll.c
    ! Fixed typo in byref parameter handling. Thanks to
      Xavi for noticing it.
    * Deleted unused union members from win32 retval support, 
      renamed the rest.

  * utils/hbmk2/hbmk2.prg
    + Added -3rd= option. This is always ignored by hbmk2 and it
      allows to store extra, non-hbmk2 information in hbmk2 make files.
      F.e.: -3rd=-hbide_friendlyname=MyProject

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/wapi_wingdi.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/src/rtl/direct.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb 11 06:37:59 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 11 06:38:06 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13843] trunk/harbour
Message-ID: <E1NfXMt-0005Pd-FT@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13843
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13843&view=rev
Author:   vszakats
Date:     2010-02-11 11:37:58 +0000 (Thu, 11 Feb 2010)

Log Message:
-----------
2010-02-11 12:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wapi_wingdi.c
    ! Fixed return value of WAPI_SELECTOBJECT() again.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_wingdi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Thu Feb 11 06:38:31 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 06:38:51 2010
Subject: [Harbour] Re: Przemek: .DBT and .FPT file confusion
Message-ID: <4B73EC37.9090804@mail.udg.mx>

Przemek:

 >Any you want. DBT allows to store only strings and uses 512 bytes
 >blocks. FPT allows to store also other data types (numbers, dates,
 >arrays, ...) and user can set block size (default is 64 bytes) so it's
 >more flexible and creates smaller files.
 >It also contains garbage collector which allow to reuse freed regions.
 >SMT is SIX3 format which have most of FPT features.
 >All formats are recognized by Harbour. In fact it even recognize
 >different implementations of FPT formats which can be controlled by:
 >   rddInfo( RDDI_MEMOVERSION, DB_MEMOEXT_* [, <cRDD>] )

Some weeks ago I posted a question based on tests:

-----------------------------
? "SET( _SET_MFILEEXT )", SET( _SET_MFILEEXT )
? "SET( _SET_MBLOCKSIZE )", SET( _SET_MBLOCKSIZE )
? "SET( _SET_AUTORDER )", SET( _SET_AUTORDER )
? "SET( _SET_AUTOPEN )", SET( _SET_AUTOPEN )
? "DBINFO( DBI_MEMOBLOCKSIZE )", DBINFO( DBI_MEMOBLOCKSIZE )

e) Results with Clipper 5.3a, as expected (not create/add, just values
and record pointer "movement")

SET( _SET_MFILEEXT )
SET( _SET_MBLOCKSIZE )         64
SET( _SET_AUTORDER )          0
SET( _SET_AUTOPEN ) .T.
DBINFO( DBI_MEMOBLOCKSIZE )         64

f) Results with Harbour
NTFS:
------
SET( _SET_MFILEEXT )
SET( _SET_MBLOCKSIZE )          0
SET( _SET_AUTORDER )          0
SET( _SET_AUTOPEN ) .T.
DBINFO( DBI_MEMOBLOCKSIZE )         64
------


g) Why Clipper and Harbour show different ? :
      SET( _SET_MBLOCKSIZE )         64
      SET( _SET_MBLOCKSIZE )         0
   It must be fixed ?

-----------------------------


If some old (Clipper) application rely on SET( _SET_MBLOCKSIZE ) result, 
then will fail in Harbour behaviour

David Macias


From druzus at acn.waw.pl  Thu Feb 11 06:48:25 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 06:48:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13841] trunk/harbour
In-Reply-To: <E1NfPh2-0001aS-Up@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NfPh2-0001aS-Up@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <20100211114825.GA23469@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, jarabal@users.sourceforge.net wrote:

Hi Xavi,

> 2010-02-11 04:25 UTC+0100 Xavi (jarabal/at/gmail.com)
>   * contrib/hbwin/wapi_winbase.c
>     + Added wapi_GETSHORTPATHNAME()

Thank you very much. Just only few notes.
WAPI_* functions should be as closed to original implementation
as possible. We can introduce some small extensions and parameter
validation (it's even suggested) using additional information we
have due to Harbour item types but we should not change or ignore
valid parameters. In this case passing 0 as 3-rd parameter is ignored
Also the buffer is 1 or 3 in UNICODE mode bytes greater then request
by user. If programmer not precisely check the implementation details
then he can be seriously confused by the results.
If wapi_GETSHORTPATHNAME() supports the following parameters:

   wapi_GETSHORTPATHNAME( <cLongName> [, @<shortName> [, <nMaxSize> ] ] )
         -> < nShortLenght>

then the implementation should follow it.

I also suggest to eliminate double call to GetShortPathName() if possible.
In some cases it can be quite expensive i.e. network volumes.

Below is your code a little bit modified to respect above conditions.

I think that we should add also wapi_GETLONGPATHNAME() and
wapi_GETFULLPATHNAME()
Can you implement them too?

best regards,
Przemek


HB_FUNC( WAPI_GETSHORTPATHNAME )
{
   void * hLongPath;
   DWORD length = 0;
   LPCTSTR lpszLongPath = HB_PARSTR( 1, &hLongPath, NULL );

   if( lpszLongPath )
   {
      if( HB_ISBYREF( 2 ) )
      {
         TCHAR buffer[ HB_PATH_MAX ];
         DWORD cchBuffer = ( DWORD ) HB_SIZEOFARRAY( buffer );
         LPTSTR lpszShortPath = buffer;
         HB_BOOL fSize = HB_ISNUM( 3 );

         if( fSize )    /* the size of buffer is limited by user */
         {
            cchBuffer = ( DWORD ) hb_parnl( 3 );
            if( cchBuffer == 0 )
               lpszShortPath = NULL;
            else if( cchBuffer > ( DWORD ) HB_SIZEOFARRAY( buffer ) )
               lpszShortPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
         }

         length = GetShortPathName( lpszLongPath, lpszShortPath, cchBuffer );
         if( !fSize && length > cchBuffer )  /* default buffer size was too small */
         {
            cchBuffer = length;
            lpszShortPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
            length = GetShortPathName( lpszLongPath, lpszShortPath, cchBuffer );
         }
         hbwapi_SetLastError( GetLastError() );
         HB_STORSTRLEN( lpszShortPath, length > cchBuffer ? 0 : length, 2 );
         if( lpszShortPath && lpszShortPath != buffer )
            hb_xfree( lpszShortPath );
      }
      else
      {
         length = GetShortPathName( lpszLongPath, NULL, 0 );
         hbwapi_SetLastError( GetLastError() );
      }
   }
   hb_retnl( length );
   hb_strfree( hLongPath );
}
From harbour.01 at syenar.hu  Thu Feb 11 06:57:06 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 11 06:57:37 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <4B73859C.8020008@gmail.com>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>	<4B7161D1.4050002@gmail.com>	<AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>	<4B72A162.5090802@gmail.com>
	<D354E70A-72AB-46B9-8FE5-77679F8BFB9E@syenar.hu>
	<4B73859C.8020008@gmail.com>
Message-ID: <C9C7A153-9EB2-4409-8770-386749137C58@syenar.hu>

Hi Xavi,

On 2010 Feb 11, at 05:20, Xavi wrote:

> Hi Viktor,
> 
>> You've introduced a new permanently set macro called HB_OS_WIN64_32,
>> redefined a Harbour type (which should be avoided by all means)
> 
> Is to work with win64 implementation in win32 with minimal changes.
> If the system is win32, not be used HB_U64 used HB_U32 to compile only win_dll.c

That can work, but it means we don't support int64/double 
parameters and int64/double/float/char return values anymore.

Currently we do, so maybe it'd be good to take care of it.

We should also support both cdecl and stdcall versions.

You check what happens by looking at asm output for this source (gcc):
---
_stdcall int hello1( int a, int b ) { return 30; }
_stdcall long hello2( long a, long b ) { return 30; }
_stdcall short hello3( short a, short b ) { return 30; }
_stdcall unsigned char hello4( unsigned char a, unsigned char b ) { return 30; }
_stdcall double hello5( double a, double b ) { return 30; }
_stdcall long long hello6( long long a, long long b ) { return 30; }
_stdcall float hello7( float a, float b ) { return 30; }

_cdecl int hello1c( int a, int b ) { return 30; }
_cdecl long hello2c( long a, long b ) { return 30; }
_cdecl short hello3c( short a, short b ) { return 30; }
_cdecl unsigned char hello4c( unsigned char a, unsigned char b ) { return 30; }
_cdecl double hello5c( double a, double b ) { return 30; }
_cdecl long long hello6c( long long a, long long b ) { return 30; }
_cdecl float hello7c( float a, float b ) { return 30; }

void main( void )
{
   hello1( 100, 200 ); hello1c( 100, 200 );
   hello2( 100, 200 ); hello2c( 100, 200 );
   hello3( 100, 200 ); hello3c( 100, 200 );
   hello4( 100, 200 ); hello4c( 100, 200 );
   hello5( 100, 200 ); hello5c( 100, 200 );
   hello6( 100, 200 ); hello6c( 100, 200 );
}
---

>> and shifted parameter offset by one for reference types,
> 
> It's a bad typo in win64. Try testdll.prg with MinGW in Win32, use CC_FLAGS .-
> -Wall -Wextra -march=i586 -mtune=pentiumpro -O3 -fomit-frame-pointer

Oh it's possible and thank you. I've committed the fix.

Brgds,
Viktor

From dmacias at mail.udg.mx  Thu Feb 11 06:58:55 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 06:59:17 2010
Subject: [Harbour] OS/2: Harbour 13841
Message-ID: <4B73F0FF.3050704@mail.udg.mx>

I made tests with
  * $Id: ChangeLog 13841 2010-02-11 03:26:15Z jarabal $
  2010-02-11 04:25 UTC+0100 Xavi (jarabal/at/gmail.com)

and new os2gcc442

- I saw there are new libraries in Harbour
- So os2gcc reach 32K limit again and harbourm.dll can not build

Except for harbourm.dll build error, Harbour build entirely with 0 
errors and lot of warnings, most of them of new library

Below are summary with known/unknown status

Default Harbour .exe files run fine (hbtest, hbrun, ...)

David Macias


! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
! MAKE: make 3.81 E:\OS2\CMD.EXE  w
! HB_USER_CFLAGS: -DTCPV40HDRS -DHB_FM_STATISTICS_OFF
! HB_USER_LDFLAGS: -Le:\usr\lib\tcpipv4
! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
! HB_PLATFORM: os2 (x86) (autodetected)
! HB_COMPILER: gccomf
! Component: 'zlib' found in E:/harbour102/harbour/external/zlib (local)
! Component: 'pcre' found in E:/harbour102/harbour/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on os2 platform
! HB_INSTALL_PREFIX automatically set to: E:\harbour102\harbour

[known]
../../../sqlite3.c: In function 'sqlite3_os_init':
../../../sqlite3.c:21244: warning: initialization from incompatible 
pointer type

[unknown]
../../../hpdfimap.c: In function 'ReadPngData_Interlaced':
../../../hpdfimap.c:113: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:118: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:119: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:129: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:138: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c: In function 'ReadPngData':
../../../hpdfimap.c:159: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c: In function 'ReadTransparentPaletteData':
../../../hpdfimap.c:186: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:192: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:210: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:211: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:212: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:215: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:222: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c: In function 'ReadTransparentPngData':
../../../hpdfimap.c:248: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:254: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:274: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:275: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:276: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:279: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:289: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:290: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:291: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:294: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:309: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c: In function 'LoadPngData':
../../../hpdfimap.c:451: warning: 'bit_depth' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:639)
../../../hpdfimap.c:461: warning: 'color_type' is deprecated (declared 
at E:/harbour102/harbour/external/libpng/png.h:640)
../../../hpdfimap.c:481: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:482: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:484: warning: 'bit_depth' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:639)
../../../hpdfimap.c:492: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:492: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:506: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:506: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:516: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:517: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:518: warning: 'bit_depth' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:639)
../../../hpdfimap.c:529: warning: 'color_type' is deprecated (declared 
at E:/harbour102/harbour/external/libpng/png.h:640)
../../../hpdfimap.c:542: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:543: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:545: warning: 'bit_depth' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:639)
../../../hpdfimap.c:553: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:553: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:567: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:567: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:576: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:577: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:578: warning: 'bit_depth' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:639)
../../../hpdfimap.c:588: warning: 'color_type' is deprecated (declared 
at E:/harbour102/harbour/external/libpng/png.h:640)
../../../hpdfimap.c:590: warning: 'color_type' is deprecated (declared 
at E:/harbour102/harbour/external/libpng/png.h:640)
../../../hpdfimap.c:616: warning: 'width' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:632)
../../../hpdfimap.c:620: warning: 'height' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:633)
../../../hpdfimap.c:625: warning: 'bit_depth' is deprecated (declared at 
E:/harbour102/harbour/external/libpng/png.h:639)

[known]
../../../gtstd.c: In function 'hb_gt_std_ReadKey':
../../../gtstd.c:410: warning: unused variable 'iTODO'

[known]
Warning! W1058: file ldjseEME.: line(635): protmode option not valid for 
an OS/2 EMX dynamic link library


From druzus at acn.waw.pl  Thu Feb 11 07:05:38 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 07:05:46 2010
Subject: [Harbour] Re: USE error ?
In-Reply-To: <4B73E923.7060600@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<4B73E923.7060600@mail.udg.mx>
Message-ID: <20100211120538.GA23815@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, David Arturo Macias Corona wrote:

Hi,

> Thanks, with these explanations now is more clear:
> - In Linux nothing prevent two applications open file in EXCLUSIVE
> from each side

No. In Linux and other POSIX system there is no EXCLUSIVE mode at all.
Only shared mode exists though some *nixes have kernel side support
to emulated DOS DENY flags usually to implement some file servers for
DOS/Windows machines. It's not standard functionality and we do not use
them.

> - Harbour applications can emulate EXCLUSIVE mode if them are build
> with this feature

It's enabled by default.

> - Maybe xHarbour have same feature if it was properly copied/implemented

Probably yes but I haven't tested it.

> - So EXCLUSIVE may work between Harbour-xHarbour applications if
> work properly in xHarbour

Yes but now there are some other problems in data sharing.
We have fixed CP support so it's not possible to share data
with xHarbour applications which uses incompatible CP implementation.
It will cause index file corruption so it's necessary to precisely
verify if both application uses the same binary collation order.
The same CP in both applications may not be enough.

> - hbnetio is an alternative in remote environment to properly manage
> EXCLUSIVE, in place of Samba

It's an alternative to properly manage all types of synchronization
locks not only EXCLUSIVE mode when files are accessed remotely using
SAMBA, NFS, MARS or any other file server.
It's also an alternative for system or network redirector limitations
like maximum file size, i.e. DOS applications using HBNETIO can work
with 64bit length file IO API if server running HBNETIO supports it.

> I found this old subject due I was searching for "locking-scheme" to
> ensure proper implementation.
> Until now my conclusions are:
> - Two applications, one build with Harbour and other with xHarbour
> may have locking-corruption problems if each one is using a
> different "locking scheme" in same RDD type
> So we must to check which is default "locking-scheme" in each
> compiler or force same in both

Yes.
But it's also true between two Harbour applications.
All of them have to use exactly the same locking schemes.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb 11 07:09:25 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 07:09:34 2010
Subject: [Harbour] Re: Przemek: .DBT and .FPT file confusion
In-Reply-To: <4B73EC37.9090804@mail.udg.mx>
References: <4B73EC37.9090804@mail.udg.mx>
Message-ID: <20100211120925.GB23815@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, David Arturo Macias Corona wrote:

Hi,

> g) Why Clipper and Harbour show different ? :
>      SET( _SET_MBLOCKSIZE )         64
>      SET( _SET_MBLOCKSIZE )         0
>   It must be fixed ?

0 means use RDD default. 64 for FPT and 32 for SMT.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 11 07:11:29 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 11 07:11:38 2010
Subject: [Harbour] OS/2: Harbour 13841
In-Reply-To: <4B73F0FF.3050704@mail.udg.mx>
References: <4B73F0FF.3050704@mail.udg.mx>
Message-ID: <B1720C00-F488-4544-894C-95F96118F2DB@syenar.hu>

Hi David,

On 2010 Feb 11, at 12:58, David Arturo Macias Corona wrote:

> I made tests with
> * $Id: ChangeLog 13841 2010-02-11 03:26:15Z jarabal $
> 2010-02-11 04:25 UTC+0100 Xavi (jarabal/at/gmail.com)
> 
> and new os2gcc442
> 
> - I saw there are new libraries in Harbour
> - So os2gcc reach 32K limit again and harbourm.dll can not build

:( I could be seen in advance. I can't give any solution, 
but I hope someone will.

> Except for harbourm.dll build error, Harbour build entirely with 0 errors and lot of warnings, most of them of new library

The iTODO is obvious (should not be huge work 
for an OS/2 programmer), the rest is in 3rd party code.

I'll suppress the libharu warnings.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Feb 11 07:12:52 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 11 07:13:00 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13844] trunk/harbour
Message-ID: <E1NfXue-00055U-OJ@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13844
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13844&view=rev
Author:   vszakats
Date:     2010-02-11 12:12:51 +0000 (Thu, 11 Feb 2010)

Log Message:
-----------
2010-02-11 13:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/libhpdf/Makefile
    * Suppressing 'deprecated' warnings in libharu code until it
      gets updated for libpng 1.4.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/libhpdf/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tech at 2dinfo.com.br  Thu Feb 11 07:23:51 2010
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Thu Feb 11 07:25:24 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100211092359.GA22549@linux-4bod.home.aster.pl>
References: <BC5C3C9C-E2C6-48DE-93EB-D24791ED0180@syenar.hu><20100210105355.GA9997@linux-4bod.home.aster.pl><98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu><20100210120429.GA11344@linux-4bod.home.aster.pl><C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu><20100210135747.GA13369@linux-4bod.home.aster.pl><00ED658A-CF5E-4640-A910-47F8FB72A941@syenar.hu><B92E20E2ED994B9DA5113E96FFE6AFB0@deskleo><20100210231419.GA9744@linux-4bod.home.aster.pl><DB91A2386CF54B11B32AFF7CEC5ED740@deskleo>
	<20100211092359.GA22549@linux-4bod.home.aster.pl>
Message-ID: <57124B2647554E15BE8B31EF27DBCFA8@NoteLeo>

>> >But in the .prg code used for EXE file when you are calling
>> >functions which do not exist in it and are loaded dynamically
>> >then all such functions should be declared as DYNAMIC otherwise
>> >you will have link time error (function does not exist).
>> In my case of use the functions in the DLL are called by the EXE via
>> macro evaluation (because I don't have their names until I load the
>> DLL) so it is not possible/needed declare them as DYNAMIC in the
>> EXE, I guess. Is it going to work anyway?
>
> It will work but I do not understand how it's possible to call
> function by macro knowing it's name when macro value is created
> but in other context you do not know this name. Your above
> description does not make any sense or you simply forgot to say
> about some important conditions.

Hi Przemek
Below is some code to exemplify what I couldn't explain to you textually. 
Maybe it helps.
Rgds
Leandro


**********************************************
function CarregarDLLs(cFolder)
**********************************************
local aFiles:=Directory(cFolder+"\*.dll"),aVersion
local ddd,hh
local cFunction,cID

for ddd = 1 to len(aFiles)
   hh      := LibLoad( cFolder + aFiles[ddd,1] )
   cID  := substr(afiles[ddd,1],4,2)
   cFunction := "__DLL__" + strtran(aFiles[ddd,1],".DLL","")
   if !FunctionExists(cFunction)  // if the dll doesn't have such function 
we don't need it
      LibFree(hh)
      loop
   endif
   aVersion := & (cFunction + '()')
   oDLL := DLL2D():New(hh,aVersion)
   oDLL :dFile := ListaArq[ddd,2]
   oDLL :cFiletime := ListaArq[ddd,3]
   oDLL :nFileLen := ListaArq[ddd,4]
   LibFree(hh)
next

Return


//----------------------------------------------------------------------------//
//----------------------------------------------------------------------------//
//----------------------------------------------------------------------------//
//----------------------------------------------------------------------------//
CLASS DLL2D

    CLASS VAR aAllDLL INIT {}

    DATA cCode,cName,nVersion,cPrefix,cCompileTime,cFileTime INIT ""
    DATA dCompile,dFile INIT ctod("")
    DATA nFileLen INIT 0
    DATA aList,aTopics INIT {}

    METHOD New()
    ...

ENDCLASS

//----------------------------------------------------------------------------//

METHOD New(vetor) CLASS DLL2D

Local aaa,cFunction,aVersion

::cCode := vetor[ 1]
::cName := vetor[ 3]
::nVersion := vetor[ 4]
::cPrefix := vetor[ 5]
::dCompile := vetor[ 6]
::cCompileTime := vetor[ 7]
::aList := vetor[8]

for aaa = 1 to len(::aList)
   aadd(::aTopics,{::aList[aaa,1],.f.,NIL,len(::aList[aaa])=1})
next

for aaa = 1 to len(::aTopics)
      if ::aTopics[aaa,4]
         cFunction := "__2D_" + ::cPrefix + ::aTopics[aaa,1]
         if FunctionExists(cFunction)
            ::aTopics[aaa,2] := .t.
            if ::aTopics[aaa,1] $ "KT-KR"
               ::aTopics[aaa,3] :=  & (cFunction + '("TDK")')
            else
               ::aTopics[aaa,3] :=  & (cFunction + '(,"TDX")')
            endif
         endif
      else
         ::aTopics[aaa,2] := .t.
      endif
next

aadd(::aAllDLL,Self)

Return Self

 

From dmacias at mail.udg.mx  Thu Feb 11 07:34:15 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 07:34:29 2010
Subject: [Harbour] OS/2: Harbour and os2gcc
Message-ID: <4B73F947.2050107@mail.udg.mx>

As Paul Smedley was releasing os2gcc404, os2gcc432, os2gcc433, os2gcc440 
  I was testing Harbour with them

Later my choice was to use Harbour+os2gcc433 as reference and Harbour 
2.0.0 for OS/2 was released with this version too

Since Dec 2009 are available os2gcc434 and os2gcc442
I tested them with Harbour and reported results

The new "Qt 4.5.1 GA Release (for OS/2)" state:

=============================
Improvements:

* general: Switched the compiler to the GCC 4.4.2 build provided by Paul 
Smeldey. This gives better standard conformance, better code 
optimization and provides more compact DLLs and EXEs whose size is 
greater than ~1M.
=============================

They were using os2gcc335 in OMF type

Some of their words are agree with mine as I said when proposed os2gcc4xx:
  "...better standard conformance, better code optimization..."
together with newest compiler, common in most modern OS, ...

Perhaps I will move to use Harbour+os2gcc442 as reference

What I do not like is the long time to build Harbour

In Dec I requested to Paul, with no answer:
-----------------------------
Since years I have a doubt:
   Why os2gcc is so slow ?

Current Harbour build times are, in a fast Core2Duo E8400 3Ghz:

os2gcc335-OMF      28 minutes
os2gcc433          60 minutes
os2gcc434          60 minutes
os2gcc442          90 minutes
os2-OpenWatcom 1.8  8 minutes
-----------------------------

David Macias


From druzus at acn.waw.pl  Thu Feb 11 07:38:31 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 07:38:39 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <57124B2647554E15BE8B31EF27DBCFA8@NoteLeo>
References: <98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu>
	<20100210120429.GA11344@linux-4bod.home.aster.pl>
	<C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu>
	<20100210135747.GA13369@linux-4bod.home.aster.pl>
	<00ED658A-CF5E-4640-A910-47F8FB72A941@syenar.hu>
	<B92E20E2ED994B9DA5113E96FFE6AFB0@deskleo>
	<20100210231419.GA9744@linux-4bod.home.aster.pl>
	<DB91A2386CF54B11B32AFF7CEC5ED740@deskleo>
	<20100211092359.GA22549@linux-4bod.home.aster.pl>
	<57124B2647554E15BE8B31EF27DBCFA8@NoteLeo>
Message-ID: <20100211123831.GA22612@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, Leandro Damasio wrote:

Hi,

> >It will work but I do not understand how it's possible to call
> >function by macro knowing it's name when macro value is created
> >but in other context you do not know this name. Your above
> >description does not make any sense or you simply forgot to say
> >about some important conditions.
> Below is some code to exemplify what I couldn't explain to you
> textually. Maybe it helps.

It was enough to say that you are using DLL name as part
of name of your DLL entry function :-).
With HRB file it can be implemented easier using static
function with fixed name, i.e. HRBMAIN() in each module
which needs initialization.

BTW LIBLOAD()/LIBFREE() are xHarbour compatible functions.
    I suggest to use hb_libLoad()/hb_libFree().
    Your code will not work for lower case extenssion.
    I suggest to change it to sth like:
       cFunction := "__DLL__" + ;
                    left( aFiles[ddd,1], at( ".", aFiles[ddd,1] ) -1 )

best regards,
Przemek
From dmacias at mail.udg.mx  Thu Feb 11 07:46:45 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 07:46:58 2010
Subject: [Harbour] Re: USE error ?
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <4B73FC35.9010800@mail.udg.mx>

Przemek:

 >Yes but now there are some other problems in data sharing.
 >We have fixed CP support so it's not possible to share data
 >with xHarbour applications which uses incompatible CP implementation.
 >It will cause index file corruption so it's necessary to precisely
 >verify if both application uses the same binary collation order.
 >The same CP in both applications may not be enough.
[...]
 >Yes.
 >But it's also true between two Harbour applications.
 >All of them have to use exactly the same locking schemes.

Thanks

Not only locking-scheme problem but proper CP implementation too

So to share data files between Harbour and xHarbour (or some other 
systems) is a big risk of data corruption
This include different Harbour releases, due to changes in locking 
schemes and CP implementation

The rule seem to be (or has been ever :-)) to change all applications to 
same (x)Harbour release at same time

David Macias


From dmacias at mail.udg.mx  Thu Feb 11 08:00:06 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 08:00:20 2010
Subject: [Harbour] Re: Przemek: .DBT and .FPT file confusion
Message-ID: <4B73FF56.3080409@mail.udg.mx>

Przemek:

 >> g) Why Clipper and Harbour show different ? :
 >>      SET( _SET_MBLOCKSIZE )         64
 >>      SET( _SET_MBLOCKSIZE )         0
 >>   It must be fixed ?

 >0 means use RDD default. 64 for FPT and 32 for SMT.

Along years we know that but reference may vary

For example, in Clipper 5.3 DBFCDX memo block is 32 bytes by default for 
FoxPro compatibility (I am reading from Clipper 5.3 handbook), and later 
in 5.3a, ... moved to 64 bytes to follow FoxPro movement
ADS followed FoxPro and used 64 bytes

But as today SET( _SET_MBLOCKSIZE ) return 64 in Clipper 5.3a and 
return 0 in Harbour

This old Clipper code of my friend does not apply in Harbour:
  IF SET( _SET_MBLOCKSIZE )<> 64
    SET( _SET_MBLOCKSIZE, 64 )


David Macias


From dmacias at mail.udg.mx  Thu Feb 11 08:02:36 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 08:02:51 2010
Subject: [Harbour] OS/2: Harbour 13841
Message-ID: <4B73FFEC.5040403@mail.udg.mx>

Viktor:

 >> - So os2gcc reach 32K limit again and harbourm.dll can not build

 >:( I could be seen in advance. I can't give any solution,
 >but I hope someone will.

As expected, Harbour has grown and can not fit in 32K limit  :-)

 >I'll suppress the libharu warnings.

Thanks

David Macias


From druzus at acn.waw.pl  Thu Feb 11 08:06:23 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 08:06:31 2010
Subject: [Harbour] Re: USE error ?
In-Reply-To: <4B73FC35.9010800@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<4B73FC35.9010800@mail.udg.mx>
Message-ID: <20100211130623.GA24424@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, David Arturo Macias Corona wrote:

Hi,

> Not only locking-scheme problem but proper CP implementation too
> So to share data files between Harbour and xHarbour (or some other
> systems) is a big risk of data corruption

Just like between Harbour and Harbour or Clipper and Clipper.

> This include different Harbour releases, due to changes in locking
> schemes and CP implementation

I do not know about any bugs in locking schemes which had to be fixed
breaking backward compatibility.

> The rule seem to be (or has been ever :-)) to change all
> applications to same (x)Harbour release at same time

It will not help if you do not set in all applications the same
locking scheme and CP or if you do not use network/OS layer which
supports necessary synchronization mechanisms on all client
platforms.
It doesn't matter you are using only Clipper, Harbour, xHarbour,
xbase++, CLIP, FlagsShip, ... or mixed applications to access the
same data. Each of them has to be configured in exactly the same
way.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb 11 08:07:59 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 08:08:06 2010
Subject: [Harbour] Re: Przemek: .DBT and .FPT file confusion
In-Reply-To: <4B73FF56.3080409@mail.udg.mx>
References: <4B73FF56.3080409@mail.udg.mx>
Message-ID: <20100211130759.GA25593@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, David Arturo Macias Corona wrote:
> This old Clipper code of my friend does not apply in Harbour:
>  IF SET( _SET_MBLOCKSIZE )<> 64
>    SET( _SET_MBLOCKSIZE, 64 )

It perfectly works in Harbour forcing 64 bytes block size.

best regards,
Przemek
From tech at 2dinfo.com.br  Thu Feb 11 08:15:43 2010
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Thu Feb 11 08:16:16 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100211123831.GA22612@linux-4bod.home.aster.pl>
References: <98C3FC66-EE90-482C-B9BD-9942B9786650@syenar.hu><20100210120429.GA11344@linux-4bod.home.aster.pl><C0FF44F1-D57B-4E9B-97BA-4DE855CD5D4E@syenar.hu><20100210135747.GA13369@linux-4bod.home.aster.pl><00ED658A-CF5E-4640-A910-47F8FB72A941@syenar.hu><B92E20E2ED994B9DA5113E96FFE6AFB0@deskleo><20100210231419.GA9744@linux-4bod.home.aster.pl><DB91A2386CF54B11B32AFF7CEC5ED740@deskleo><20100211092359.GA22549@linux-4bod.home.aster.pl><57124B2647554E15BE8B31EF27DBCFA8@NoteLeo>
	<20100211123831.GA22612@linux-4bod.home.aster.pl>
Message-ID: <25D5714E8C594D689E70F652C04ECE1C@NoteLeo>

Hello Przemek

>> >It will work but I do not understand how it's possible to call
>> >function by macro knowing it's name when macro value is created
>> >but in other context you do not know this name. Your above
>> >description does not make any sense or you simply forgot to say
>> >about some important conditions.
>> Below is some code to exemplify what I couldn't explain to you
>> textually. Maybe it helps.
>
> It was enough to say that you are using DLL name as part
> of name of your DLL entry function :-).
> With HRB file it can be implemented easier using static
> function with fixed name, i.e. HRBMAIN() in each module
> which needs initialization.

Sorry, but look at DLL2D:New().
The piece of code below is to show "how it's possible to call function by 
macro knowing it's name when macro value is created but in other context you 
do not know this name".
The name of the entry function is known and could be declarated as DYNAMIC 
in the exe, but see the macro below - it depends on the return of what you 
called the dll entry function:

>>...
>>         cFunction := "__2D_" + ::cPrefix + ::aTopics[aaa,1] //This is the 
>> macro I'm talking about: both ::cPrefix and ::aTopics came from the DLL
>>
>>         if FunctionExists(cFunction)
>>            ::aTopics[aaa,2] := .t.
>>            if ::aTopics[aaa,1] $ "KT-KR"
>>               ::aTopics[aaa,3] :=  & (cFunction + '("TDK")')
>>            else
>>               ::aTopics[aaa,3] :=  & (cFunction + '(,"TDX")')
>>            endif
>>         endif
>>...

> BTW LIBLOAD()/LIBFREE() are xHarbour compatible functions.
>    I suggest to use hb_libLoad()/hb_libFree().
>    Your code will not work for lower case extenssion.
>    I suggest to change it to sth like:
>       cFunction := "__DLL__" + ;
>                    left( aFiles[ddd,1], at( ".", aFiles[ddd,1] ) -1 )

okay thanks

Regards
Leandro
 

From dmacias at mail.udg.mx  Thu Feb 11 08:30:11 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 08:30:26 2010
Subject: [Harbour] OS/2: hbqt
Message-ID: <4B740663.7010802@mail.udg.mx>

Pritpal continue "highly focused in hbide" and other people does not 
have hints for this case:

---------------------------
d) hbqt
   List of source files which have errors on OS/2 and detailed flow of tests
Alternatives:
   - Fix source code
   - Perhaps this code does not work on OS/2 - Qt

   But Pritpal is highly focused in hbide now   :-)

   Most errors are of kind:
   'A' is not a member of 'B'
   class 'C' has no member named 'D'
   'E' was not declared in this scope
   expected primary-expression before ')' token
   invalid use of incomplete type 'F'
   incomplete type 'G' used in nested name specifier
   forward declaration of 'H'
   expected type-specifier before 'I'

   I do not know if:
   - Are valid errors which must be fixed on Harbour
   - Other compiler switchs required
   - They are errors related to OS/2-Qt code and not Harbour

---------------------------

So I am still do not know if are errors in Harbour or OS/2-Qt

If they belong to hbqt and are not fixed, then derived tools as hbide 
will not work too


Now are ready new "Qt 4.5.1 GA Release (for OS/2)" but I am unsure if I 
must to test with current Harbour or wait response for previous errors

Notes for Qt 4.5.1 for OS/2:
- First I tried to build Qt451b5 libraries from source code (NetLabs), 
using os2gcc335-OMF type
After some hours it build entirely and final directory reached 819 
Mbytes (yes, 819 Mbytes  :-) ). Qt is a monster
- I tried hbqt with these libraries and reported results
- Then I used pre-compiled Qt451b5 libraries from NetLabs available .wpi 
file. They used around 34 Mbytes
- Repeated hbqt build with these Qt pre-compiled libraries and results 
were same, so was not a problem of my Qt libraries build
- Now for "Qt 4.5.1 GA"
  + I do not want to create Qt libraries from source code  :-)
  + Using Netlabs .wpi for libraries, dev, samples, ... are around 50 Mbytes
  I deleted old \qt451b5 directory and recovered my 819 Mbytes


David Macias


From dbtopas at dbtopas.lt  Thu Feb 11 08:35:06 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Feb 11 08:35:09 2010
Subject: [Harbour] FPT corruption
Message-ID: <4B74078A.1000302@dbtopas.lt>

Hi,


few times per year we find corrupted .fpt files in databeses of our 
customers. The problem is that this corruption is not detected by driver 
and causes strange behavior. For example, application hangs-up, but do 
not GPFs. After some tests we found, that it "hangs-up" because it uses 
a huge amount of memory (ex. >= 1GB) and OS do a lot of disk swap thus 
stops application and system. This memory usage is caused by reading 
some memo value. Total memo file length is not big (1MB), but corrupted 
.ftp blocks contains huge size values. I've wrote some code to test for 
such memofields, but it would be nice to have some corruption detection 
code  in fpt driver.


Regards,
Mindaugas


#include "hbapi.h"
#include "hbrddfpt.h"

HB_FUNC( FPTTESTFIELD )
{
    DBFAREAP pArea = ( DBFAREAP ) hb_rddGetCurrentWorkAreaPointer();
    USHORT   uiField = hb_parni( 1 );
    ULONG    ulBlock, ulSize, ulType;
    BOOL     bDeleted;

    if( !pArea || !uiField || uiField > pArea->uiFieldCount ||
        !pArea->fHasMemo || pArea->bMemoType != DB_MEMO_FPT )
    {
       hb_retl( FALSE );
       return;
    }

    /* Force record read */
    SELF_DELETED( pArea, &bDeleted );

    if( hb_dbfGetMemoData( ( DBFAREAP ) pArea, uiField - 1, &ulBlock, 
&ulSize, &ulType ) != SUCCESS )
    {
       hb_retl( FALSE );
       return;
    }
    if( ulBlock > 0 )
    {
       FPTBLOCK   fptBlock;
       if( hb_fileReadAt( pArea->pMemoFile, ( BYTE * ) &fptBlock, 
sizeof( FPTBLOCK ),
                          ( HB_FOFFSET ) ulBlock * ( HB_FOFFSET ) 
pArea->uiMemoBlockSize ) != sizeof( FPTBLOCK ) )
       {
          hb_retl( FALSE );
          return;
       }
       ulType = HB_GET_BE_UINT32( fptBlock.type );
       ulSize = HB_GET_BE_UINT32( fptBlock.size );

       if( ( ulType > FPTIT_TEXT && ulType < FPTIT_FLEX_GC ) ||
           ulType > FPTIT_FLEX_COMPRCH ||
           ulSize > 1048576 )
       {
          hb_retl( FALSE );
          return;
       }
    }
    hb_retl( TRUE );
}
From sscc at mweb.co.za  Thu Feb 11 08:40:58 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Feb 11 08:41:14 2010
Subject: [Harbour] FPT corruption
In-Reply-To: <4B74078A.1000302@dbtopas.lt>
References: <4B74078A.1000302@dbtopas.lt>
Message-ID: <4B7408EA.2010707@mweb.co.za>

Mindaugas Kavaliauskas wrote:

> USHORT uiField = hb_parni( 1 );
> ULONG ulBlock, ulSize, ulType;
> BOOL bDeleted;

Viktor will kill you if he sees these :)

Cheers
Alex
From harbour.01 at syenar.hu  Thu Feb 11 09:00:47 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 11 09:00:59 2010
Subject: [Harbour] FPT corruption
In-Reply-To: <4B7408EA.2010707@mweb.co.za>
References: <4B74078A.1000302@dbtopas.lt> <4B7408EA.2010707@mweb.co.za>
Message-ID: <298E697E-712F-4CA0-B539-C13913694A91@syenar.hu>

> Mindaugas Kavaliauskas wrote:
> 
>> USHORT uiField = hb_parni( 1 );
>> ULONG ulBlock, ulSize, ulType;
>> BOOL bDeleted;
> 
> Viktor will kill you if he sees these :)

It won't compile, so such harsh action is not necessary ;)

But yes, you are right, and I forgot to send a specific 
message about that:

From now on, only new Harbour types should be used in any 
new code committed to Harbour SVN, the only exception is 
for OS/3rd party package API specific code, this is typically 
Windows or OS/2 parts. Anyhow even in this case developers 
should pay attention to use Harbour types when appropriate, 
here it's easier to miss since compiler won't report an error.

There is still an undecided area about new types, namely 
HB_UCHAR vs. HB_BYTE issue (both can be used now, and they 
are equivalent), but otherwise current state can be 
considered stable.

I recommend following the same rules for 3rd party developers, 
new types can be added for pre-2.1 Harbour and xhb builds 
also. They can test code by using -DHB_LEGACY_TYPES_OFF macro.

This will be the default mode after next major release, 
so it's good to start the preparation.

Here a little help to make the conversion:

HB_ULONG  -> HB_MAXUINT
HB_LONG   -> HB_MAXINT
BOOL      -> HB_BOOL
TRUE      -> HB_TRUE
FALSE     -> HB_FALSE
BYTE      -> HB_BYTE
ULONG     -> HB_ULONG
LONG      -> HB_LONG
UINT      -> HB_UINT
SHORT     -> HB_SHORT
USHORT    -> HB_USHORT
LONGLONG  -> HB_LONGLONG
ULONGLONG -> HB_ULONGLONG
INT16     -> HB_I16
UINT16    -> HB_U16
INT32     -> HB_I32
UINT32    -> HB_U32
INT64     -> HB_I64
UINT64    -> HB_U64
SCHAR     -> HB_SCHAR
UCHAR     -> HB_UCHAR

We use HB_SIZE for every variable denoting string/array 
length or position, so it's recommended to use it in such 
places, instead of ULONG, and to use temporary signed 
size type HB_ISIZ instead of LONG/long/int.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Feb 11 09:07:02 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 11 09:07:11 2010
Subject: [Harbour] HB_BYTE vs. HB_UCHAR
Message-ID: <3FC0F6D4-123B-4E13-AE9B-40407D804847@syenar.hu>

Hi Przemek and All,

We have this decision left regarding new types, 
and I'd like to clear it.

We currently have two types which are mapped to 
the same ANSI C type 'unsigned char'.

IMO if we want to keep both, we should give some 
clear guideline to Harbour and 3rd party developer, 
as to which should be used in what situations.

If we cannot do so, or if there is indeed no clear 
different between them (meaning they are equivalent), 
we should keep only one of them. In this case, 
the question is which to keep.

IMO we should keep HB_BYTE since it looks much more 
familiar for users/developers and it's also much 
older term in Harbour.

Opinions are welcome.

Brgds,
Viktor

From maurilio.longo at libero.it  Thu Feb 11 09:14:36 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 11 09:14:50 2010
Subject: [Harbour] OS/2: Harbour 13841
In-Reply-To: <4B73FFEC.5040403@mail.udg.mx>
References: <4B73FFEC.5040403@mail.udg.mx>
Message-ID: <4B7410CC.7000108@libero.it>

David,

this is something in gcc4 on OS/2, with my old GCC 3.3.5 and latest make I can
build harbour.dll and harbourm.dll without problems.

Directory of E:\REPOSITORY\HARBOUR\bin\os2\gcc

11/02/10 13:44          <DIR>    124 ----  .
11/02/10 13:27          <DIR>    124 ----  ..
11/02/10 13:41      3.866.628    124 a---  harbour.dll
11/02/10 13:28        548.868    124 a---  harbour.exe
11/02/10 13:44      3.874.820    124 a---  harbourm.dll
11/02/10 13:44         24.580    124 a---  hbformat.exe
11/02/10 13:44         12.292    124 a---  hbi18n.exe
11/02/10 13:44        663.556    124 a---  hbmk2.exe
11/02/10 13:27        147.460    124 a---  hbpp.exe
11/02/10 13:44        561.156    124 a---  hbrun.exe
11/02/10 13:44        372.740    124 a---  hbtest.exe
       11 file(s)  10.072.100 bytes used
                  178.536.230 K bytes free

(E:\REPOSITORY\HARBOUR)bin\os2\gcc\harbour --version
Harbour 2.1.0dev (Rev. 13844)
Copyright (c) 1999-2010, http://www.harbour-project.org/

Maurilio.

David Arturo Macias Corona wrote:
> Viktor:
> 
>>> - So os2gcc reach 32K limit again and harbourm.dll can not build
> 
>>:( I could be seen in advance. I can't give any solution,
>>but I hope someone will.
> 
> As expected, Harbour has grown and can not fit in 32K limit  :-)
> 
>>I'll suppress the libharu warnings.
> 
> Thanks
> 
> David Macias
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Thu Feb 11 09:39:00 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 09:39:15 2010
Subject: [Harbour] OS/2: Harbour 13841
Message-ID: <4B741684.6070603@mail.udg.mx>

Maurilio:

 >this is something in gcc4 on OS/2, with my old GCC 3.3.5 and latest
 >make I can build harbour.dll and harbourm.dll without problems.

 >Directory of E:\REPOSITORY\HARBOUR\bin\os2\gcc

 >11/02/10 13:41      3.866.628    124 a---  harbour.dll
 >11/02/10 13:44      3.874.820    124 a---  harbourm.dll

We review this problem in detail many months ago, so Viktor and I 
expected this moment as unavoidable as long Harbour grow

Problem is due os2gcc, any version, have an 32Kb limit somewhere and can 
not manage temp file to build harbour.dll and harbourm.dll

Now you can build harbourm.dll in os2gcc335-a.out type because are below 
  but near of limit. A few more new object files (maybe around 150 Kb) 
you will have this problem too
You will see first in "mt\harbour(dll)" and later in "harbour(dll)"

It happen now in os2gcc335 or os2gcc4xx in OMF type because "gccomf" 
string in longer than "gcc" used in a.out type so content of temp file 
is longer and bigger than 32 Kb

My previous messages show detailed info about this 32K limit in ANY 
os2gcc, older and newer

This case can only be fixed by someone who know os2gcc internals, but 
they are focused (as Bird) in VirtualBox development

For me is difficult to explain, I only found that limit. For some with 
os2gcc source code knowledge, may be easy to find and supress that 32K 
limit (perhaps you, Paul Smedley, Andreas Buening, ... )

For now we have ( and you will have :-) ) to live with this os2gcc 
limitation

David Macias

From dmacias at mail.udg.mx  Thu Feb 11 09:45:32 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 11 09:45:46 2010
Subject: [Harbour] OS/2: Harbour 13841
Message-ID: <4B74180C.6010702@mail.udg.mx>

Maurilio:

>this is something in gcc4 on OS/2, with my old GCC 3.3.5 and latest
>make I can build harbour.dll and harbourm.dll without problems.

>Directory of E:\REPOSITORY\HARBOUR\bin\os2\gcc

>11/02/10 13:41      3.866.628    124 a---  harbour.dll
>11/02/10 13:44      3.874.820    124 a---  harbourm.dll

You can see detailed info in messages from:
   OS/2: harbourm.dll
   4/10/09 07:28 AM

David Macias


From m.lacecilia at gmail.com  Thu Feb 11 09:55:38 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Thu Feb 11 09:55:50 2010
Subject: R: [Harbour] HB_BYTE vs. HB_UCHAR
In-Reply-To: <3FC0F6D4-123B-4E13-AE9B-40407D804847@syenar.hu>
References: <3FC0F6D4-123B-4E13-AE9B-40407D804847@syenar.hu>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAILhlOkIizpHsICp+/kcBG4BAAAAAA==@gmail.com>

I agree with the uniqueness of the type, but i like HB_UCHAR.
The 'unsigned' qualifier is declared, despite of HB_BYTE (signed or
unsigned?).
I know that it's more familiar, but not so precise as the HB_UCHAR (leaving
no doubt about the sign).

Maurizio la Cecilia               
 

> -----Messaggio originale-----
> Da: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
> Inviato: gioved? 11 febbraio 2010 15.07
> A: Harbour Project Main Developer List.
> Oggetto: [Harbour] HB_BYTE vs. HB_UCHAR
> 
> Hi Przemek and All,
> 
> We have this decision left regarding new types, 
> and I'd like to clear it.
> 
> We currently have two types which are mapped to 
> the same ANSI C type 'unsigned char'.
> 
> IMO if we want to keep both, we should give some 
> clear guideline to Harbour and 3rd party developer, 
> as to which should be used in what situations.
> 
> If we cannot do so, or if there is indeed no clear 
> different between them (meaning they are equivalent), 
> we should keep only one of them. In this case, 
> the question is which to keep.
> 
> IMO we should keep HB_BYTE since it looks much more 
> familiar for users/developers and it's also much 
> older term in Harbour.
> 
> Opinions are welcome.
> 
> Brgds,
> Viktor
> 
> 
> 

From sscc at mweb.co.za  Thu Feb 11 10:06:17 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Feb 11 10:06:35 2010
Subject: R: [Harbour] HB_BYTE vs. HB_UCHAR
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAILhlOkIizpHsICp+/kcBG4BAAAAAA==@gmail.com>
References: <3FC0F6D4-123B-4E13-AE9B-40407D804847@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAILhlOkIizpHsICp+/kcBG4BAAAAAA==@gmail.com>
Message-ID: <4B741CE9.7060200@mweb.co.za>

Maurizio la Cecilia wrote:
> I agree with the uniqueness of the type, but i like HB_UCHAR.
> The 'unsigned' qualifier is declared, despite of HB_BYTE (signed or
> unsigned?).
> I know that it's more familiar, but not so precise as the HB_UCHAR (leaving
> no doubt about the sign).

For me, HB_BYTE implies raw data, and so I prefer it as it does not mention 
signedness at all.

Regards
Alex

From jarabal at gmail.com  Thu Feb 11 10:23:35 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Feb 11 10:24:05 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <C9C7A153-9EB2-4409-8770-386749137C58@syenar.hu>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>	<4B7161D1.4050002@gmail.com>	<AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>	<4B72A162.5090802@gmail.com>	<D354E70A-72AB-46B9-8FE5-77679F8BFB9E@syenar.hu>	<4B73859C.8020008@gmail.com>
	<C9C7A153-9EB2-4409-8770-386749137C58@syenar.hu>
Message-ID: <4B7420F7.5040503@gmail.com>

Hi Viktor,

> That can work, but it means we don't support int64/double
> parameters and int64/double/float/char return values anymore.
>
> Currently we do, so maybe it'd be good to take care of it.
>
> We should also support both cdecl and stdcall versions.

Yes I know, this is not perfect.
Also I just think, that in C, we can not *force* (yes or yes) the use of CPU registers AFAIK.

IMHO this solution could work with majority calls, to the rest is easier and safer to make a private/local wrapper.
So I think that's good if it works with other compilers because the alternative is keep all hbwin outside present and future 
optimizations for this ASM hard code. Perhaps it's better separate this function to other optional library.

Best regards,
Xavi
From lorenzo.fiorini at gmail.com  Thu Feb 11 11:20:22 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 11 11:20:35 2010
Subject: [Harbour] MT app works under Linux but fails under Win
Message-ID: <9257026e1002110820k73ecd2c3k7294bbab9e9fe696@mail.gmail.com>

When I try to run an MT app that works perfectly under Linux I get the
error below ( even with -g Harbour rebuild ).

If I link against harbour.dll it works as expected.

Win offers to send the error to MS and gives a long dump of info.

Any idea?

best regards,
Lorenzo

[New thread 2348.0xe40]
warning: HEAP[ths.exe]:
warning: Invalid Address specified to RtlSizeHeap( 00610000, 00B70008 )


Program received signal SIGTRAP, Trace/breakpoint trap.
0x7c91120f in ntdll!DbgUiConnectToDbg () from C:\WINDOWS\system32\ntdll.dll
(gdb) bt
#0  0x7c91120f in ntdll!DbgUiConnectToDbg ()
   from C:\WINDOWS\system32\ntdll.dll
#1  0x7c97e139 in ntdll!RtlpNtMakeTemporaryKey ()
   from C:\WINDOWS\system32\ntdll.dll
#2  0x7c97e576 in ntdll!RtlpNtMakeTemporaryKey ()
   from C:\WINDOWS\system32\ntdll.dll
#3  0x7c97fe93 in ntdll!RtlpNtMakeTemporaryKey ()
   from C:\WINDOWS\system32\ntdll.dll
#4  0x7c95ade7 in ntdll!LdrFindEntryForAddress ()
   from C:\WINDOWS\system32\ntdll.dll
#5  0x00610000 in ?? ()
#6  0x50000061 in ?? ()
#7  0x00b70008 in ?? ()
#8  0x0022fd30 in ?? ()
#9  0x0022f914 in ?? ()
#10 0x77bfc024 in msvcrt!_msize () from C:\WINDOWS\system32\msvcrt.dll
#11 0x00610000 in ?? ()
#12 0x00000000 in ?? ()
From bedipritpal at hotmail.com  Thu Feb 11 11:21:15 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 11 11:21:22 2010
Subject: [Harbour] Re: OS/2: hbqt
In-Reply-To: <4B740663.7010802@mail.udg.mx>
References: <4B740663.7010802@mail.udg.mx>
Message-ID: <1265905275198-4555536.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
> Pritpal continue "highly focused in hbide" and other people does not 
> have hints for this case:
> 

I know nothing about OS2 and hence not in a position to comment.

One point which comes in mind is that Harbour is supporting Qt 5.5.3
and your experiments are centered around 4.5.1. There is likelyhood 
that some of the methods may not be available in 4.5.1. But to be 
doubly sure, can you some short log of errors ? 

Mostly these errors are the results of wrong headers.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-hbqt-tp4554645p4555536.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From abe.buch at att.net  Thu Feb 11 11:54:21 2010
From: abe.buch at att.net (AbeB)
Date: Thu Feb 11 11:54:28 2010
Subject: [Harbour] for each requires local definition?
Message-ID: <00d701caab3a$d498b170$7dca1450$@buch@att.net>


Hi All,

 

 

Does 'For Each' require variables to be local defined?

 

proc test

local ary := {1,2,3}

local n  << with out this line a RTE  Error BASE/1003  Variable does not
exist: N will occour

for each n in ary

    ? n

Next

 

Thanks

Abe


-- 
View this message in context: http://n2.nabble.com/for-each-requires-local-definition-tp4555894p4555894.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From maurilio.longo at libero.it  Thu Feb 11 12:08:59 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 11 12:09:13 2010
Subject: [Harbour] OS/2: Harbour 13841
In-Reply-To: <4B74180C.6010702@mail.udg.mx>
References: <4B74180C.6010702@mail.udg.mx>
Message-ID: <4B7439AB.2040108@libero.it>

David,

I've reviewed your messages, I think 32K is environment size limit for OS/2
processes; so, maybe os2gcc and/or ld receive something as an envvar and this
is now bigger than 32Kb :(

Maurilio.


David Arturo Macias Corona wrote:
> Maurilio:
> 
>> this is something in gcc4 on OS/2, with my old GCC 3.3.5 and latest
>> make I can build harbour.dll and harbourm.dll without problems.
> 
>> Directory of E:\REPOSITORY\HARBOUR\bin\os2\gcc
> 
>> 11/02/10 13:41      3.866.628    124 a---  harbour.dll
>> 11/02/10 13:44      3.874.820    124 a---  harbourm.dll
> 
> You can see detailed info in messages from:
>   OS/2: harbourm.dll
>   4/10/09 07:28 AM
> 
> David Macias
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Thu Feb 11 12:18:53 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 11 12:19:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13845] trunk/harbour
Message-ID: <E1Nfcgn-0008Dd-Gu@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13845
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13845&view=rev
Author:   vszakats
Date:     2010-02-11 17:18:40 +0000 (Thu, 11 Feb 2010)

Log Message:
-----------
2010-02-11 18:17 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    - Deleted WINAPI keyword from win64 .dll support.
      It has no meaning under win64, and win64 .dll support is
      not only meant to access winapi functions anyway.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb 11 12:41:30 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 11 12:41:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13846] trunk/harbour
Message-ID: <E1Nfd2g-0000Lf-Es@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13846
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13846&view=rev
Author:   vszakats
Date:     2010-02-11 17:41:28 +0000 (Thu, 11 Feb 2010)

Log Message:
-----------
2010-02-11 18:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    % Simplified win64 support.
    ! Fixed win64 support for returning parameters passed by reference.

  * ChangeLog
    * Old TOFIXes marked DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb 11 12:49:25 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 11 12:49:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13847] trunk/harbour
Message-ID: <E1NfdAL-0000Uq-Ep@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13847
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13847&view=rev
Author:   vszakats
Date:     2010-02-11 17:49:24 +0000 (Thu, 11 Feb 2010)

Log Message:
-----------
2010-02-11 18:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    + Added 'double' type support for win64 .dll call.
    ; Untested, pls review.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Feb 11 13:09:05 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 13:09:12 2010
Subject: [Harbour] for each requires local definition?
In-Reply-To: <00d701caab3a$d498b170$7dca1450$@buch@att.net>
References: <00d701caab3a$d498b170$7dca1450$@buch@att.net>
Message-ID: <20100211180905.GA25475@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, AbeB wrote:

Hi,

> Does 'For Each' require variables to be local defined?

No.

> proc test
> local ary := {1,2,3}
> local n  << with out this line a RTE  Error BASE/1003  Variable does not
> exist: N will occour
> for each n in ary
>     ? n
> Next

Pefect behavior. No 'n' variable is declared.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 11 13:29:45 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 11 13:29:57 2010
Subject: [Harbour] for each requires local definition?
In-Reply-To: <20100211180905.GA25475@linux-4bod.home.aster.pl>
References: <00d701caab3a$d498b170$7dca1450$@buch@att.net>
	<20100211180905.GA25475@linux-4bod.home.aster.pl>
Message-ID: <2903EB37-2813-4C08-AA89-F263172719D4@syenar.hu>

Hi Przemek and All,

IMO it would be more consistent behavior to create a private 
variable in such case, since with regular FOR/NEXT it also 
works without declaring the variable:

--- OK
FOR tmp := 1 TO Len( a )
NEXT
---

--- Not OK
FOR EACH tmp IN a
NEXT
---

'tmp' is a written variable in both cases.

Brgds,
Viktor

On 2010 Feb 11, at 19:09, Przemys?aw Czerpak wrote:

> On Thu, 11 Feb 2010, AbeB wrote:
> 
> Hi,
> 
>> Does 'For Each' require variables to be local defined?
> 
> No.
> 
>> proc test
>> local ary := {1,2,3}
>> local n  << with out this line a RTE  Error BASE/1003  Variable does not
>> exist: N will occour
>> for each n in ary
>>    ? n
>> Next
> 
> Pefect behavior. No 'n' variable is declared.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Feb 11 13:35:26 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 11 13:35:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13848] trunk/harbour
Message-ID: <E1Nfdss-0004fb-KD@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13848
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13848&view=rev
Author:   vszakats
Date:     2010-02-11 18:35:25 +0000 (Thu, 11 Feb 2010)

Log Message:
-----------
2010-02-11 19:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    + Added UNICODE and codepage conversion support for win32
      .dll calls, too.
    ! Fix to win64 double support.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Thu Feb 11 14:06:08 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Feb 11 14:06:08 2010
Subject: [Harbour] FPT corruption
In-Reply-To: <4B7408EA.2010707@mweb.co.za>
References: <4B74078A.1000302@dbtopas.lt> <4B7408EA.2010707@mweb.co.za>
Message-ID: <4B745520.60902@dbtopas.lt>

Hi,


Alex Strickland wrote:
>> USHORT uiField = hb_parni( 1 );
>> ULONG ulBlock, ulSize, ulType;
>> BOOL bDeleted;
> 
> Viktor will kill you if he sees these :)

I have alibi. This code is created half year ago :)


Regards,
Mindaugas
From druzus at acn.waw.pl  Thu Feb 11 14:11:36 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 14:11:44 2010
Subject: [Harbour] for each requires local definition?
In-Reply-To: <2903EB37-2813-4C08-AA89-F263172719D4@syenar.hu>
References: <00d701caab3a$d498b170$7dca1450$@buch@att.net>
	<20100211180905.GA25475@linux-4bod.home.aster.pl>
	<2903EB37-2813-4C08-AA89-F263172719D4@syenar.hu>
Message-ID: <20100211191135.GB29818@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, Szak?ts Viktor wrote:

Hi,

> IMO it would be more consistent behavior to create a private 
> variable in such case, since with regular FOR/NEXT it also 
> works without declaring the variable:
> --- OK
> FOR tmp := 1 TO Len( a )
> NEXT

Because you have explicit assignment ':=' which creates new memvar
variable if it does not exists just like use as standalone operator
without FOR statement.

> --- Not OK
> FOR EACH tmp IN a
> NEXT
> ---
> 'tmp' is a written variable in both cases.

tmp in FOR EACH is only reference.
Why we should create variable for such reference in FOR EACH
but not in function call?, i.e.:

   func( @tmp )
   ? tmp

'tmp' is also "a written variable" like in above both cases.

Of course if most of Harbour users prefer to create new memvar
variable in FOR EACH then I'll implement it but I do not like it.

But do not forget that FOR EACH does not store dummy references
after iteration but restores original variable value.

   proc main()
      x := 10
      ? x
      for each x in "ABC"
         ? x
      next
      ? x
   return

Personally I even think that FOR EACH should use their own temporary
variables instead of declared ones. It will be much cleaner and faster.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 11 14:34:48 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 11 14:35:04 2010
Subject: [Harbour] for each requires local definition?
In-Reply-To: <20100211191135.GB29818@linux-4bod.home.aster.pl>
References: <00d701caab3a$d498b170$7dca1450$@buch@att.net>
	<20100211180905.GA25475@linux-4bod.home.aster.pl>
	<2903EB37-2813-4C08-AA89-F263172719D4@syenar.hu>
	<20100211191135.GB29818@linux-4bod.home.aster.pl>
Message-ID: <4A7EC543-21EF-4DCD-BA43-7A2E7AEED7DC@syenar.hu>

> tmp in FOR EACH is only reference.
> Why we should create variable for such reference in FOR EACH
> but not in function call?, i.e.:
> 
>   func( @tmp )
>   ? tmp
> 
> 'tmp' is also "a written variable" like in above both cases.
> 
> Of course if most of Harbour users prefer to create new memvar
> variable in FOR EACH then I'll implement it but I do not like it.
> 
> But do not forget that FOR EACH does not store dummy references
> after iteration but restores original variable value.
> 
>   proc main()
>      x := 10
>      ? x
>      for each x in "ABC"
>         ? x
>      next
>      ? x
>   return
> 
> Personally I even think that FOR EACH should use their own temporary
> variables instead of declared ones. It will be much cleaner and faster.

Sounds reasonable. BTW for this is not a problem, but I've 
personally stumbled into this quite a few times (when 
creating small quick test code without -w switch) and 
found it non-natural. Anyway it's not huge problem for 
me and I can accept this explanation.

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Feb 11 14:54:17 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 11 14:54:24 2010
Subject: [Harbour] Re: for each requires local definition?
In-Reply-To: <20100211191135.GB29818@linux-4bod.home.aster.pl>
References: <00d701caab3a$d498b170$7dca1450$@buch@att.net>
	<20100211180905.GA25475@linux-4bod.home.aster.pl>
	<2903EB37-2813-4C08-AA89-F263172719D4@syenar.hu>
	<20100211191135.GB29818@linux-4bod.home.aster.pl>
Message-ID: <1265918057987-4556986.post@n2.nabble.com>



Przemys?aw Czerpak wrote:
> 
> Personally I even think that FOR EACH should use their own temporary
> variables instead of declared ones. It will be much cleaner and faster.
> 

+1


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/for-each-requires-local-definition-tp4555894p4556986.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Feb 11 15:20:41 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 11 15:20:55 2010
Subject: [Harbour] MSVS 2010 RC is out
Message-ID: <0CA07E3A-8694-4764-8528-A815E9760A5A@syenar.hu>

http://msdn.microsoft.com/en-us/library/dd465215(VS.100).aspx
http://msdn.microsoft.com/en-us/vstudio/dd582936.aspx

(interesting to see their IDE improvements. better late 
than never)

Brgds,
Viktor

From jarabal at gmail.com  Thu Feb 11 15:27:09 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Feb 11 15:27:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13841] trunk/harbour
In-Reply-To: <20100211114825.GA23469@linux-4bod.home.aster.pl>
References: <E1NfPh2-0001aS-Up@sfp-svn-1.v30.ch3.sourceforge.com>
	<20100211114825.GA23469@linux-4bod.home.aster.pl>
Message-ID: <4B74681D.40702@gmail.com>

Hi Przemek,

Ok, I'll do it ...more slowly :)

Best regards,
-- 
Xavi

El 11/02/2010 12:48, Przemys?aw Czerpak escribi?:
> On Thu, 11 Feb 2010, jarabal@users.sourceforge.net wrote:
>
> Hi Xavi,
>
>> 2010-02-11 04:25 UTC+0100 Xavi (jarabal/at/gmail.com)
>>    * contrib/hbwin/wapi_winbase.c
>>      + Added wapi_GETSHORTPATHNAME()
>
> Thank you very much. Just only few notes.
> WAPI_* functions should be as closed to original implementation
> as possible. We can introduce some small extensions and parameter
> validation (it's even suggested) using additional information we
> have due to Harbour item types but we should not change or ignore
> valid parameters. In this case passing 0 as 3-rd parameter is ignored
> Also the buffer is 1 or 3 in UNICODE mode bytes greater then request
> by user. If programmer not precisely check the implementation details
> then he can be seriously confused by the results.
> If wapi_GETSHORTPATHNAME() supports the following parameters:
>
>     wapi_GETSHORTPATHNAME(<cLongName>  [, @<shortName>  [,<nMaxSize>  ] ] )
>           ->  <  nShortLenght>
>
> then the implementation should follow it.
>
> I also suggest to eliminate double call to GetShortPathName() if possible.
> In some cases it can be quite expensive i.e. network volumes.
>
> Below is your code a little bit modified to respect above conditions.
>
> I think that we should add also wapi_GETLONGPATHNAME() and
> wapi_GETFULLPATHNAME()
> Can you implement them too?
>
> best regards,
> Przemek
>
>
> HB_FUNC( WAPI_GETSHORTPATHNAME )
> {
>     void * hLongPath;
>     DWORD length = 0;
>     LPCTSTR lpszLongPath = HB_PARSTR( 1,&hLongPath, NULL );
>
>     if( lpszLongPath )
>     {
>        if( HB_ISBYREF( 2 ) )
>        {
>           TCHAR buffer[ HB_PATH_MAX ];
>           DWORD cchBuffer = ( DWORD ) HB_SIZEOFARRAY( buffer );
>           LPTSTR lpszShortPath = buffer;
>           HB_BOOL fSize = HB_ISNUM( 3 );
>
>           if( fSize )    /* the size of buffer is limited by user */
>           {
>              cchBuffer = ( DWORD ) hb_parnl( 3 );
>              if( cchBuffer == 0 )
>                 lpszShortPath = NULL;
>              else if( cchBuffer>  ( DWORD ) HB_SIZEOFARRAY( buffer ) )
>                 lpszShortPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
>           }
>
>           length = GetShortPathName( lpszLongPath, lpszShortPath, cchBuffer );
>           if( !fSize&&  length>  cchBuffer )  /* default buffer size was too small */
>           {
>              cchBuffer = length;
>              lpszShortPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
>              length = GetShortPathName( lpszLongPath, lpszShortPath, cchBuffer );
>           }
>           hbwapi_SetLastError( GetLastError() );
>           HB_STORSTRLEN( lpszShortPath, length>  cchBuffer ? 0 : length, 2 );
>           if( lpszShortPath&&  lpszShortPath != buffer )
>              hb_xfree( lpszShortPath );
>        }
>        else
>        {
>           length = GetShortPathName( lpszLongPath, NULL, 0 );
>           hbwapi_SetLastError( GetLastError() );
>        }
>     }
>     hb_retnl( length );
>     hb_strfree( hLongPath );
> }
From druzus at acn.waw.pl  Thu Feb 11 16:36:12 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 16:36:21 2010
Subject: [Harbour] HB_BYTE vs. HB_UCHAR
In-Reply-To: <3FC0F6D4-123B-4E13-AE9B-40407D804847@syenar.hu>
References: <3FC0F6D4-123B-4E13-AE9B-40407D804847@syenar.hu>
Message-ID: <20100211213612.GA1205@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, Szak?ts Viktor wrote:

Hi,

> We have this decision left regarding new types, 
> and I'd like to clear it.
> We currently have two types which are mapped to 
> the same ANSI C type 'unsigned char'.
> 
> IMO if we want to keep both, we should give some 
> clear guideline to Harbour and 3rd party developer, 
> as to which should be used in what situations.
> 
> If we cannot do so, or if there is indeed no clear 
> different between them (meaning they are equivalent), 
> we should keep only one of them. In this case, 
> the question is which to keep.
> 
> IMO we should keep HB_BYTE since it looks much more 
> familiar for users/developers and it's also much 
> older term in Harbour.

HB_UCHAR precisely define it's unsigned type.
BYTE does not have to be signed or unsigned so replacing
HB_UCHAR by HB_BYTE is not good idea in my opinion.

We can eliminate HB_BYTE and use everywhere HB_UCHAR but
I also do not find anything wrong in keeping this type to
to mark memory blocks of data in bytes. Just like we are
using 'char' for strings. In both cases the sign is
unimportant.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 11 16:45:32 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 11 16:45:44 2010
Subject: [Harbour] HB_BYTE vs. HB_UCHAR
In-Reply-To: <20100211213612.GA1205@linux-4bod.home.aster.pl>
References: <3FC0F6D4-123B-4E13-AE9B-40407D804847@syenar.hu>
	<20100211213612.GA1205@linux-4bod.home.aster.pl>
Message-ID: <B41E8B3A-DFE7-4CF6-B821-97365B64C3D9@syenar.hu>

>> IMO if we want to keep both, we should give some 
>> clear guideline to Harbour and 3rd party developer, 
>> as to which should be used in what situations.
>> 
>> If we cannot do so, or if there is indeed no clear 
>> different between them (meaning they are equivalent), 
>> we should keep only one of them. In this case, 
>> the question is which to keep.
>> 
>> IMO we should keep HB_BYTE since it looks much more 
>> familiar for users/developers and it's also much 
>> older term in Harbour.
> 
> HB_UCHAR precisely define it's unsigned type.
> BYTE does not have to be signed or unsigned so replacing
> HB_UCHAR by HB_BYTE is not good idea in my opinion.
> 
> We can eliminate HB_BYTE and use everywhere HB_UCHAR but
> I also do not find anything wrong in keeping this type to
> to mark memory blocks of data in bytes. Just like we are
> using 'char' for strings. In both cases the sign is
> unimportant.

I have no problem with either variation, though if 
we want to keep it, can you describe when to use 
HB_UCHAR and when to use HB_BYTE? Or give some 
examples from Harbour, that should make it easier 
to understand.

[ After browsing through the whole codebase for days, 
I couldn't really find out the concept, so I can't 
help here. ]

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Feb 11 17:01:55 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 11 17:02:02 2010
Subject: [Harbour] FPT corruption
In-Reply-To: <4B74078A.1000302@dbtopas.lt>
References: <4B74078A.1000302@dbtopas.lt>
Message-ID: <20100211220154.GB1205@linux-4bod.home.aster.pl>

On Thu, 11 Feb 2010, Mindaugas Kavaliauskas wrote:

Hi,

> few times per year we find corrupted .fpt files in databeses of our
> customers. The problem is that this corruption is not detected by
> driver and causes strange behavior. For example, application
> hangs-up, but do not GPFs. After some tests we found, that it
> "hangs-up" because it uses a huge amount of memory (ex. >= 1GB) and
> OS do a lot of disk swap thus stops application and system. This
> memory usage is caused by reading some memo value. Total memo file
> length is not big (1MB), but corrupted .ftp blocks contains huge
> size values. I've wrote some code to test for such memofields, but
> it would be nice to have some corruption detection code  in fpt
> driver.

The maximum size of single memo block in FPT format is 4GB.
Any upper limit check we can introduce without reducing functionality
is comparing the size of memo block with the difference between total
memo file size and block offset. For relatively small memo files it
may help to early detect corruption but it will not help for big files
and for sure in all cases it will cause performance reduction because
we will have to add additional IO call to check current file size.
To reduce the overhead we can add such verification only for blocks
bigger then some arbitrary chosen by us limit i.e. 4MB.

If you think it's worth to implement then I can do that.

I can also enable strict TYPE verification but it may cause
problems when some extended types stored by program compiled
by other languages are used. There are many local extensions
to FPT format. Now Harbour returns NIL for such fields.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 11 17:09:14 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 11 17:09:23 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <4B7420F7.5040503@gmail.com>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>	<4B7161D1.4050002@gmail.com>	<AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>	<4B72A162.5090802@gmail.com>	<D354E70A-72AB-46B9-8FE5-77679F8BFB9E@syenar.hu>	<4B73859C.8020008@gmail.com>
	<C9C7A153-9EB2-4409-8770-386749137C58@syenar.hu>
	<4B7420F7.5040503@gmail.com>
Message-ID: <0CF201A2-30A7-46E5-8615-34EEECE5428F@syenar.hu>

Hi Xavi and All,

On 2010 Feb 11, at 16:23, Xavi wrote:

> Hi Viktor,
> 
>> That can work, but it means we don't support int64/double
>> parameters and int64/double/float/char return values anymore.
>> 
>> Currently we do, so maybe it'd be good to take care of it.
>> 
>> We should also support both cdecl and stdcall versions.
> 
> Yes I know, this is not perfect.
> Also I just think, that in C, we can not *force* (yes or yes) the use of CPU registers AFAIK.

We don't need to, if we keep the whole thing on C level.

> IMHO this solution could work with majority calls, to the rest is easier and safer to make a private/local wrapper.
> So I think that's good if it works with other compilers because the alternative is keep all hbwin outside present and future optimizations for this ASM hard code. Perhaps it's better separate this function to other optional library.

The .c source file is about 100MB if we create separate 
function skeletons for all combinations, so it's not 
something realistic. (or maybe I'm wrong and it can be 
reduced using tricks)

I can easily implement pure .c win32 .dll call support 
which drops support for int64/double parameters and 
int64/double/float return values. I'd also guess they 
are not very widely used, so it's probably not a big 
loss.

Any opinion on that?

Brgds,
Viktor

From jarabal at gmail.com  Thu Feb 11 20:45:21 2010
From: jarabal at gmail.com (Xavi)
Date: Thu Feb 11 20:45:52 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <0CF201A2-30A7-46E5-8615-34EEECE5428F@syenar.hu>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>	<4B7161D1.4050002@gmail.com>	<AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>	<4B72A162.5090802@gmail.com>	<D354E70A-72AB-46B9-8FE5-77679F8BFB9E@syenar.hu>	<4B73859C.8020008@gmail.com>	<C9C7A153-9EB2-4409-8770-386749137C58@syenar.hu>	<4B7420F7.5040503@gmail.com>
	<0CF201A2-30A7-46E5-8615-34EEECE5428F@syenar.hu>
Message-ID: <4B74B2B1.3050200@gmail.com>

Hi Viktor,

> I can easily implement pure .c win32 .dll call support
> which drops support for int64/double parameters and
> int64/double/float return values. I'd also guess they
> are not very widely used, so it's probably not a big
> loss.

I agree. If need it, is better to have a specific wrapper.

Best regards,
Xavi
From harbour.01 at syenar.hu  Thu Feb 11 21:02:06 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 11 21:02:17 2010
Subject: Res: [Harbour] MinGW dllcall function not run.
In-Reply-To: <4B74B2B1.3050200@gmail.com>
References: <hkjpou$nno$1@ger.gmane.org>	<699800.60026.qm@web52204.mail.re2.yahoo.com>	<4B6D9BAC.8050306@gmail.com>	<E1D1BE78-B789-4407-A311-B6DB16B468D6@syenar.hu>	<4B6F7A1D.9070607@gmail.com>	<0147BA6D-1549-4FED-8B37-E070CBE931CB@syenar.hu>	<4B700D7A.1090109@gmail.com>	<E0AEA3C7-E74A-4F66-92C2-CCEDCDEA0565@syenar.hu>	<4B7161D1.4050002@gmail.com>	<AD9421EC-3F4B-4F1D-8DD9-191A5A03ED6A@syenar.hu>	<4B72A162.5090802@gmail.com>	<D354E70A-72AB-46B9-8FE5-77679F8BFB9E@syenar.hu>	<4B73859C.8020008@gmail.com>	<C9C7A153-9EB2-4409-8770-386749137C58@syenar.hu>	<4B7420F7.5040503@gmail.com>
	<0CF201A2-30A7-46E5-8615-34EEECE5428F@syenar.hu>
	<4B74B2B1.3050200@gmail.com>
Message-ID: <2C92C5A3-9BE4-4334-88CA-855BACCA1A2F@syenar.hu>

Hi Xavi,

> Hi Viktor,
> 
>> I can easily implement pure .c win32 .dll call support
>> which drops support for int64/double parameters and
>> int64/double/float return values. I'd also guess they
>> are not very widely used, so it's probably not a big
>> loss.
> 
> I agree. If need it, is better to have a specific wrapper.

I've since found the solution to not loose these 
types while keeping pure .c and just a reasonable amount 
of code. I hope I can commit something in a while.

Brgds,
Viktor

From sscc at mweb.co.za  Fri Feb 12 03:47:15 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Feb 12 03:47:32 2010
Subject: [Harbour] FPT corruption
In-Reply-To: <20100211220154.GB1205@linux-4bod.home.aster.pl>
References: <4B74078A.1000302@dbtopas.lt>
	<20100211220154.GB1205@linux-4bod.home.aster.pl>
Message-ID: <4B751593.8020205@mweb.co.za>

Przemys?aw Czerpak wrote:

> The maximum size of single memo block in FPT format is 4GB.
> Any upper limit check we can introduce without reducing functionality
> is comparing the size of memo block with the difference between total
> memo file size and block offset. For relatively small memo files it
> may help to early detect corruption but it will not help for big files
> and for sure in all cases it will cause performance reduction because
> we will have to add additional IO call to check current file size.
> To reduce the overhead we can add such verification only for blocks
> bigger then some arbitrary chosen by us limit i.e. 4MB.
>
> If you think it's worth to implement then I can do that.

Perhaps the check could be optional? Although anything would introduce *some* 
level of performance hit.

Instead of a size check, perhaps a check digit on the size, or a hash would 
produce more reliable results - also optional?

Regards
Alex
From maurilio.longo at libero.it  Fri Feb 12 03:57:17 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb 12 03:57:27 2010
Subject: [Harbour] hbinet.c/hbsocket.ch
Message-ID: <4B7517ED.8040805@libero.it>

Hi,

is there a reason for the fact that hbinet.c defines these errors

#define HB_INET_ERR_OK           0
#define HB_INET_ERR_TIMEOUT      ( -1 )
#define HB_INET_ERR_CLOSEDCONN   ( -2 )
#define HB_INET_ERR_BUFFOVERRUN  ( -3 )
#define HB_INET_ERR_CLOSEDSOCKET ( -4 )

which have different values from the ones inside hbsocket.ch ?

For example

#define HB_SOCKET_ERR_TIMEOUT             2
#define HB_INET_ERR_TIMEOUT      ( -1 )

What am I missing?

Maurilio

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Fri Feb 12 04:29:13 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 12 04:29:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13849] trunk/harbour
Message-ID: <E1Nfrpp-0001KN-R1@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13849
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13849&view=rev
Author:   vszakats
Date:     2010-02-12 09:29:12 +0000 (Fri, 12 Feb 2010)

Log Message:
-----------
2010-02-12 10:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    + Reimplemented win32 .dll calls using pure C code.
    ; Please review it. Especially around the few TODO/TOFIX 
      notes. It would also be great of someone could make 
      some test on WinCE platform.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Fri Feb 12 04:48:14 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 12 04:48:22 2010
Subject: [Harbour] hb* scripts and MT in Win
Message-ID: <9257026e1002120148l65e7b25cx280225ec79c627d5@mail.gmail.com>

While in Linux you can have easily have MT binaries and ST binaries
that use the same set of dynamic libs in Win you need to always create
two version of the dll one linked to harbour.dll and one to
harbourmt.dll and then link to the final binary the correct one.

I wonder if the all process could be simplified by hb* scripts to keep
the same command line.

hb-mkdyn could create the 2 dlls and hblnk or hbmk link the
appropriate one based on -mt switch.

I don't know if this can be useful for others or if there are better solutions.

Any comment?

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Fri Feb 12 04:51:39 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 12 04:51:48 2010
Subject: [Harbour] Re: MT app works under Linux but fails under Win
In-Reply-To: <9257026e1002110820k73ecd2c3k7294bbab9e9fe696@mail.gmail.com>
References: <9257026e1002110820k73ecd2c3k7294bbab9e9fe696@mail.gmail.com>
Message-ID: <9257026e1002120151y13e77581j91f94bbc42f0298d@mail.gmail.com>

On Thu, Feb 11, 2010 at 5:20 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> Any idea?

SOLVED, the problem is that EVERY single dll need to be rebuilt with
harbourmt.dll, so in practise if you have both MT and ST apps you need
to create two sets of dlls.

best regards,
Lorenzo
From antonioharbour at gmail.com  Fri Feb 12 05:19:26 2010
From: antonioharbour at gmail.com (Antonio Linares)
Date: Fri Feb 12 05:19:34 2010
Subject: [Harbour] OSX Harbour 2.0 setup
Message-ID: <9471afc81002120219ra236d68n39b163f19b297d49@mail.gmail.com>

Dear Viktor,

I have tested the OSX Harbour 2.0 setup available from sourceforge and
your OSX username is hardcoded into it, so when the setup SH runs, it
creates your username in the users folder.

Also *.api files are missing from the include folder.

Thanks,

best regards,

Antonio
From druzus at acn.waw.pl  Fri Feb 12 05:22:47 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb 12 05:22:54 2010
Subject: [Harbour] hb* scripts and MT in Win
In-Reply-To: <9257026e1002120148l65e7b25cx280225ec79c627d5@mail.gmail.com>
References: <9257026e1002120148l65e7b25cx280225ec79c627d5@mail.gmail.com>
Message-ID: <20100212102247.GA6164@linux-4bod.home.aster.pl>

On Fri, 12 Feb 2010, Lorenzo Fiorini wrote:
> While in Linux you can have easily have MT binaries and ST binaries
> that use the same set of dynamic libs in Win you need to always create
> two version of the dll one linked to harbour.dll and one to
> harbourmt.dll and then link to the final binary the correct one.
> 
> I wonder if the all process could be simplified by hb* scripts to keep
> the same command line.
> 
> hb-mkdyn could create the 2 dlls and hblnk or hbmk link the
> appropriate one based on -mt switch.
> 
> I don't know if this can be useful for others or if there are better solutions.
> Any comment?

DLLs does not have to use any explicit references to HVM library and
they do not have to be linked with harbour*.dll at all, i.e. they can
use hbmaindll.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Feb 12 05:32:01 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb 12 05:32:09 2010
Subject: [Harbour] hbinet.c/hbsocket.ch
In-Reply-To: <4B7517ED.8040805@libero.it>
References: <4B7517ED.8040805@libero.it>
Message-ID: <20100212103201.GB6164@linux-4bod.home.aster.pl>

On Fri, 12 Feb 2010, Maurilio Longo wrote:

Hi,

> is there a reason for the fact that hbinet.c defines these errors
> #define HB_INET_ERR_OK           0
> #define HB_INET_ERR_TIMEOUT      ( -1 )
> #define HB_INET_ERR_CLOSEDCONN   ( -2 )
> #define HB_INET_ERR_BUFFOVERRUN  ( -3 )
> #define HB_INET_ERR_CLOSEDSOCKET ( -4 )
> which have different values from the ones inside hbsocket.ch ?

HB_INET*() is old interface which we probably replace in the future
by the new one. It was updated to use internally new C socket API
hb_socket*() but the error code are translated for backward compatibility.
There was no error value macros in old xHarbour Inet*() interface so
users had to used hardcoded values or even things like:
   if HB_INETERRORCODE() < 0
      ? "Error..."
   endif
If we change it then all such code will have to be updated.
I do not know if it's worth to force such modifications for
interface we plane to replace in the future.

BTW it will be very nice if someone can update error descriptions
in hbsocket.c and put more user readable messages in s_socketErrors[]
table.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Fri Feb 12 05:36:21 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Feb 12 05:36:30 2010
Subject: [Harbour] hb* scripts and MT in Win
In-Reply-To: <20100212102247.GA6164@linux-4bod.home.aster.pl>
References: <9257026e1002120148l65e7b25cx280225ec79c627d5@mail.gmail.com>
	<20100212102247.GA6164@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002120236w2c7c7e8k9f79476c87322d05@mail.gmail.com>

2010/2/12 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> DLLs does not have to use any explicit references to HVM library and
> they do not have to be linked with harbour*.dll at all, i.e. they can
> use hbmaindll.

Sorry I can't understand. If I take out -lharbourmt from:

hb-mkslib $(DYN_NAME) $(LIB_NAME) libsys.a libxls.a
-L$(HARBOUR_DYN_DIR) -lharbourmt -lhbgdmt

I get tons of:

...
./libdbl.a/twindos.o:twindos.c:(.data+0x128): undefined reference to
`HB_FUN_AADD'
./libdbl.a/twindos.o:twindos.c:(.data+0x138): undefined reference to
`HB_FUN_LEN'
./libdbl.a/twindos.o:twindos.c:(.data+0x158): undefined reference to
`HB_FUN_HB_ISARRAY'
./libdbl.a/twindos.o:twindos.c:(.data+0x218): undefined reference to
`HB_FUN_SET'
./libdbl.a/twindos.o:twindos.c:(.data+0x238): undefined reference to
`HB_FUN_ROW'
./libdbl.a/twindos.o:twindos.c:(.data+0x248): undefined reference to
`HB_FUN_COL'
./libdbl.a/twindos.o:twindos.c:(.data+0x258): undefined reference to
`HB_FUN_SETCOLOR'
...

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Feb 12 05:37:42 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 05:37:55 2010
Subject: [Harbour] OSX Harbour 2.0 setup
In-Reply-To: <9471afc81002120219ra236d68n39b163f19b297d49@mail.gmail.com>
References: <9471afc81002120219ra236d68n39b163f19b297d49@mail.gmail.com>
Message-ID: <37B1C1C3-CB15-4D4A-B4CF-6C0BD8505DFD@syenar.hu>

Hi Antonio,

I used the mpkg_*.sh scripts to create the build.

Personally I recommend building from source, so 
it'll be better if I delete those from sf.net, 
until someone fixes those scripts, or somehow 
creates a proper build.

Thanks for reporting it.

Brgds,
Viktor

On 2010 Feb 12, at 11:19, Antonio Linares wrote:

> Dear Viktor,
> 
> I have tested the OSX Harbour 2.0 setup available from sourceforge and
> your OSX username is hardcoded into it, so when the setup SH runs, it
> creates your username in the users folder.
> 
> Also *.api files are missing from the include folder.
> 
> Thanks,
> 
> best regards,
> 
> Antonio
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Feb 12 05:42:29 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 12 05:42:40 2010
Subject: [Harbour] hbinet.c/hbsocket.ch
In-Reply-To: <20100212103201.GB6164@linux-4bod.home.aster.pl>
References: <4B7517ED.8040805@libero.it>
	<20100212103201.GB6164@linux-4bod.home.aster.pl>
Message-ID: <6E11B804-8761-4FBE-A0D8-088C6E1791E8@syenar.hu>

Hi,

>> is there a reason for the fact that hbinet.c defines these errors
>> #define HB_INET_ERR_OK           0
>> #define HB_INET_ERR_TIMEOUT      ( -1 )
>> #define HB_INET_ERR_CLOSEDCONN   ( -2 )
>> #define HB_INET_ERR_BUFFOVERRUN  ( -3 )
>> #define HB_INET_ERR_CLOSEDSOCKET ( -4 )
>> which have different values from the ones inside hbsocket.ch ?
> 
> HB_INET*() is old interface which we probably replace in the future
> by the new one. It was updated to use internally new C socket API
> hb_socket*() but the error code are translated for backward compatibility.
> There was no error value macros in old xHarbour Inet*() interface so
> users had to used hardcoded values or even things like:
>   if HB_INETERRORCODE() < 0
>      ? "Error..."
>   endif
> If we change it then all such code will have to be updated.
> I do not know if it's worth to force such modifications for
> interface we plane to replace in the future.
> 
> BTW it will be very nice if someone can update error descriptions
> in hbsocket.c and put more user readable messages in s_socketErrors[]
> table.

Please don't do that. Such English messages in low-level 
core code is not translatable and should be avoided. It's 
helpful to add these texts as comment, so that users can 
create human readable error message on app level in desired 
codepage, language and terminology.

I almost deprecated similar English text function in old 
INET interface last week. But since the whole interface will 
be deprecated anyway, I didn't do it.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Feb 12 06:27:03 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 12 06:27:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
Message-ID: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13850
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13850&view=rev
Author:   vszakats
Date:     2010-02-12 11:27:02 +0000 (Fri, 12 Feb 2010)

Log Message:
-----------
2010-02-12 12:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.ch
    + Added HB_WIN_DLL_CALLCONV_* macros. (so far only privately defined inside .c code)
    + Added HB_WIN_DLL_CTYPE_* macros. (so far only privately defined inside .c code)
    + Reworked HB_WIN_DLL_CTYPE_* macro values. INCOMPATIBLE. Since they weren't
      previously documented, this should not be a breakage, pls report it if this is
      a problem.
    ! Fixed .ch syntax to also work in .c files.

  * contrib/hbwin/hbwin.h
  * contrib/hbwin/legacycd.c
  * contrib/hbwin/win_dll.c
  * contrib/hbwin/tests/testdll.prg
    * Using hbwin.ch for callconv and C type constants.
    + Added public low-level interface: hbwin_dllCall().
      This has provision for exact parameter type specification.
    * Changed Harbour level functions to use new public
      interface hbwin_dllCall().
    + Moved CALLDLL(), CALLDLLBOOL(), CALLDLLTYPED() to legacy source.
    * HB_DLLEXEC structure made private to XPP compatibility
      section.
    + Added new WIN_DLLCALL() API. This can replace all old CALL*()
      function and give more flexibility. Its first parameter is an
      optional array, which can specify calling convention (it was
      fixed in old implementation), return type and UNICODE swicth,
      plus it has provision to specify parameter types, too.
    + Changed test app to use new WIN_DLLCALL() API.
    * hb_getprocaddress() made public (but not exported) and
      renamed to hbwin_getprocaddress().

  * config/wce/mingwarm.mk
  * config/win/mingw.mk
    - Deleted hack to always add frame buffer for hbwin.
      It's not necessary anymore.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/hbwin.h
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Fri Feb 12 06:34:43 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Feb 12 06:35:02 2010
Subject: [Harbour] Re: OS/2: hbqt
Message-ID: <4B753CD3.6090303@mail.udg.mx>

Pritpal, thanks:

 >I know nothing about OS2 and hence not in a position to comment.
 >One point which comes in mind is that Harbour is supporting Qt 5.5.3

  ( do you have secret access to future Qt releases ? :-) )

 >and your experiments are centered around 4.5.1. There is likelyhood
 >that some of the methods may not be available in 4.5.1. But to be
 >doubly sure, can you some short log of errors ?

 >Mostly these errors are the results of wrong headers.

Previous tests were made:
   Harbour 2.0.0 (13372)
   Qt 4.5.1 on OS/2, beta 5
   It use os2gcc 3.3.5 in OMF type libraries

We know Qt451 for OS/2 and Harbour-hbqt are evolving, so I repeated 
tests with current code:
   Harbour 13848
   Qt 4.5.1 GA Release (for OS/2)
   os2gcc442 (OMF type libraries)
   set HB_WITH_QT=E:\ecs\system\qt4\include
   set HB_QT_MOC_BIN=E:\ecs\system\qt4\bin\moc.exe

Previous tests failed first with hbqt_hbdbfmodel.cpp, but current tests 
does not fail here

Below are make_gnu.log which end in first error

David Macias


! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
! MAKE: make 3.81 E:\OS2\CMD.EXE
! HB_USER_CFLAGS: -DTCPV40HDRS -DHB_FM_STATISTICS_OFF
! HB_USER_LDFLAGS: -Le:\usr\lib\tcpipv4
! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
! HB_PLATFORM: os2 (x86) (autodetected)
! HB_COMPILER: gccomf
! Component: 'zlib' found in E:/harbour102/harbour/external/zlib (local)
! Component: 'pcre' found in E:/harbour102/harbour/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on os2 platform
! HB_INSTALL_PREFIX automatically set to: E:\harbour102\harbour
! Using QT 'moc' executable: E:\ecs\system\qt4\bin\moc.exe
gcc   -I. -I../../../../../include -Zomf -Wall -W -O3 
-DHB_LEGACY_TYPES_OFF  -IE:\ecs\system\qt4\include 
-IE:\ecs\system\qt4\include/QtCore -IE:\ecs\system\qt4\include/QtGui 
-IE:\ecs\system\qt4\include/QtNetwork -DTCPV40HDRS 
-DHB_FM_STATISTICS_OFF -ohbqt_base.o -c ../../../hbqt_base.cpp
gcc   -I. -I../../../../../include -Zomf -Wall -W -O3 
-DHB_LEGACY_TYPES_OFF  -IE:\ecs\system\qt4\include 
-IE:\ecs\system\qt4\include/QtCore -IE:\ecs\system\qt4\include/QtGui 
-IE:\ecs\system\qt4\include/QtNetwork -DTCPV40HDRS 
-DHB_FM_STATISTICS_OFF -ohbqt_utils.o -c ../../../hbqt_utils.cpp
gcc   -I. -I../../../../../include -Zomf -Wall -W -O3 
-DHB_LEGACY_TYPES_OFF  -IE:\ecs\system\qt4\include 
-IE:\ecs\system\qt4\include/QtCore -IE:\ecs\system\qt4\include/QtGui 
-IE:\ecs\system\qt4\include/QtNetwork -DTCPV40HDRS 
-DHB_FM_STATISTICS_OFF -ohbqt_destruct.o -c ../../../hbqt_destruct.cpp
gcc   -I. -I../../../../../include -Zomf -Wall -W -O3 
-DHB_LEGACY_TYPES_OFF  -IE:\ecs\system\qt4\include 
-IE:\ecs\system\qt4\include/QtCore -IE:\ecs\system\qt4\include/QtGui 
-IE:\ecs\system\qt4\include/QtNetwork -DTCPV40HDRS 
-DHB_FM_STATISTICS_OFF -ohbqt_hbdbfmodel.o -c ../../../hbqt_hbdbfmodel.cpp
gcc   -I. -I../../../../../include -Zomf -Wall -W -O3 
-DHB_LEGACY_TYPES_OFF  -IE:\ecs\system\qt4\include 
-IE:\ecs\system\qt4\include/QtCore -IE:\ecs\system\qt4\include/QtGui 
-IE:\ecs\system\qt4\include/QtNetwork -DTCPV40HDRS 
-DHB_FM_STATISTICS_OFF -ohbqt_hbevents.o -c ../../../hbqt_hbevents.cpp
gcc   -I. -I../../../../../include -Zomf -Wall -W -O3 
-DHB_LEGACY_TYPES_OFF  -IE:\ecs\system\qt4\include 
-IE:\ecs\system\qt4\include/QtCore -IE:\ecs\system\qt4\include/QtGui 
-IE:\ecs\system\qt4\include/QtNetwork -DTCPV40HDRS 
-DHB_FM_STATISTICS_OFF -ohbqt_hbqmainwindow.o -c 
../../../hbqt_hbqmainwindow.cpp
En el fichero inclu?do de E:\ecs\system\qt4\include/QtGui/qmime.h:118,
                  de E:\ecs\system\qt4\include/QtGui/qevent.h:52,
                  de E:\ecs\system\qt4\include/QtGui/QMouseEvent:1,
                  de ../../../hbqt_hbqmainwindow.h:62,
                  de ../../../hbqt_hbqmainwindow.cpp:63:
E:\ecs\system\qt4\include/QtCore/qt_os2.h:59:33: error: 
API_FPU_CW_Wrappers.h: No such file or directory
In file included from E:\ecs\system\qt4\include/QtGui/qmime.h:118,
                  from E:\ecs\system\qt4\include/QtGui/qevent.h:52,
                  from E:\ecs\system\qt4\include/QtGui/QMouseEvent:1,
                  from ../../../hbqt_hbqmainwindow.h:62,
                  from ../../../hbqt_hbqmainwindow.cpp:63:
E:\ecs\system\qt4\include/QtCore/qt_os2.h: In function 'LONG 
__FPU_CW_WinQueryClipRegion(HWND, HRGN)':
E:\ecs\system\qt4\include/QtCore/qt_os2.h:72: error: '__FPU_CW_Restore' 
was not declared in this scope
E:\ecs\system\qt4\include/QtCore/qt_os2.h: In function 'LONG 
__FPU_CW_WinSetClipRegion(HWND, HRGN)':
E:\ecs\system\qt4\include/QtCore/qt_os2.h:82: error: '__FPU_CW_Restore' 
was not declared in this scope
In file included from E:\ecs\system\qt4\include/QtGui/qevent.h:52,
                  from E:\ecs\system\qt4\include/QtGui/QMouseEvent:1,
                  from ../../../hbqt_hbqmainwindow.h:62,
                  from ../../../hbqt_hbqmainwindow.cpp:63:
E:\ecs\system\qt4\include/QtGui/qmime.h: At global scope:
E:\ecs\system\qt4\include/QtGui/qmime.h:150: error: ISO C++ forbids 
declaration of 'DRAGINFO' with no type
E:\ecs\system\qt4\include/QtGui/qmime.h:150: error: 'DRAGINFO' declared 
as a 'virtual' field
E:\ecs\system\qt4\include/QtGui/qmime.h:150: error: expected ';' before 
'*' token
E:\ecs\system\qt4\include/QtGui/qmime.h:153: error: expected ';' before 
'virtual'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: error: 'DRAGITEM' has not 
been declared
E:\ecs\system\qt4\include/QtGui/qmime.h:177: error: 'DRAGITEM' has not 
been declared
E:\ecs\system\qt4\include/QtGui/qmime.h:210: error: ISO C++ forbids 
declaration of 'DRAGINFO' with no type
E:\ecs\system\qt4\include/QtGui/qmime.h:210: error: expected ';' before 
'*' token
E:\ecs\system\qt4\include/QtGui/qmime.h:212: error: expected ';' before 
'virtual'
E:\ecs\system\qt4\include/QtGui/qmime.h:222: error: ISO C++ forbids 
declaration of 'DRAGINFO' with no type
E:\ecs\system\qt4\include/QtGui/qmime.h:222: error: expected ';' before 
'*' token
E:\ecs\system\qt4\include/QtGui/qmime.h:256: error: 'DRAGITEM' has not 
been declared
E:\ecs\system\qt4\include/QtGui/qmime.h:257: error: 'DRAGITEM' has not 
been declared
E:\ecs\system\qt4\include/QtGui/qmime.h:291: error: 'dropWorkerFor' 
declared as a 'virtual' field
E:\ecs\system\qt4\include/QtGui/qmime.h:291: error: expected ';' before 
'(' token
E:\ecs\system\qt4\include/QtGui/qmime.h:294: error: expected ';' before 
'protected'
E:\ecs\system\qt4\include/QtGui/qmime.h:307: error: 'HSTR' has not been 
declared
E:\ecs\system\qt4\include/QtGui/qmime.h:308: error: 'DRAGITEM' has not 
been declared
E:\ecs\system\qt4\include/QtGui/qmime.h:309: error: 'DRAGITEM' has not 
been declared
E:\ecs\system\qt4\include/QtGui/qmime.h:310: error: 'HSTR' has not been 
declared
E:\ecs\system\qt4\include/QtGui/qmime.h:311: error: 'HSTR' has not been 
declared
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 'drm'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 'drf'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 
'item'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 
'itemIndex'
E:\ecs\system\qt4\include/QtGui/qmime.h:156: warning: unused parameter 
'type'
E:\ecs\system\qt4\include/QtGui/qmime.h:156: warning: unused parameter 'ext'
E:\ecs\system\qt4\include/QtGui/qmime.h:190: warning: unused parameter 'drf'
E:\ecs\system\qt4\include/QtGui/qmime.h:190: warning: unused parameter 
'type'
E:\ecs\system\qt4\include/QtGui/qmime.h:190: warning: unused parameter 'ext'
E:\ecs\system\qt4\include/QtGui/qmime.h: In constructor 
'QPMMime::DropWorker::DropWorker()':
E:\ecs\system\qt4\include/QtGui/qmime.h:207: error: class 
'QPMMime::DropWorker' does not have any field named 'nfo'
E:\ecs\system\qt4\include/QtGui/qmime.h: At global scope:
E:\ecs\system\qt4\include/QtGui/qmime.h:213: warning: unused parameter 
'isAccepted'
E:\ecs\system\qt4\include/QtGui/qmime.h:289: warning: unused parameter 
'mimeType'
E:\ecs\system\qt4\include/QtGui/qmime.h:289: warning: unused parameter 
'mimeData'
make[1]: *** [hbqt_hbqmainwindow.o] Error 1
make: *** [descend] Error 2

From dmacias at mail.udg.mx  Fri Feb 12 06:42:11 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Feb 12 06:42:25 2010
Subject: [Harbour] OS/2: Harbour 13848
Message-ID: <4B753E93.4090801@mail.udg.mx>

I made tests with
  * $Id: ChangeLog 13848 2010-02-11 18:35:25Z vszakats $
  2010-02-11 19:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)

and build/run fine with just well-known errors/warnings in:
  os2gcc442 OMF type
  os2gcc335 a.out type
  OpenWatcom 1.8

David Macias


From vszakats at users.sourceforge.net  Fri Feb 12 06:50:25 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 12 06:50:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13851] trunk/harbour
Message-ID: <E1Nfu2T-00012F-J1@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13851
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13851&view=rev
Author:   vszakats
Date:     2010-02-12 11:50:18 +0000 (Fri, 12 Feb 2010)

Log Message:
-----------
2010-02-12 12:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  * contrib/hbwin/win_dll.c
  + contrib/hbwin/win_dllx.c
  * contrib/hbwin/legacycd.c
    + Moved LOADLIBRARY(), FREELIBRARY() and GETPROCADDRESS() to legacy source.
    + Moved Xbase++ compatibel DLL interface to separate Xbase++ specific file.
    ; From now on the recommended native DLL interface for Harbour apps is:
        WAPI_LOADLIBRARY(), WAPI_GETPROCADDRESS(), WAPI_FREELIBRARY() and
        WIN_DLLCALL()
    ; TODO: Solve GC collected HMODULE in above WAPI LIB handling functions.
    ; TODO: Clean HB_LIB*() vs. WAPI LIB handling confusion.

  * contrib/hbwin/tests/testdll.prg
    * Changed to use WAPI_LOADLIBRARY()/WAPI_FREELIBRARY()
    ! Fixed one remaining CALLDLLTYPED() call.
    - Deleted no more valid comment about not-working libcurl .dll call.
      Now it works.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dll.c

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/win_dllx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Fri Feb 12 07:03:12 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Feb 12 07:03:27 2010
Subject: [Harbour] OS/2: Harbour 13841
Message-ID: <4B754380.2030406@mail.udg.mx>

Maurilio:

 >I've reviewed your messages, I think 32K is environment size limit for
 >OS/2 processes; so, maybe os2gcc and/or ld receive something as an
 >envvar and this is now bigger than 32Kb :(

Thanks for your time and efforts
If what you say is true, then is a bad new

Solution may be to use temporary files on disk in place of envvars, but 
again os2gcc must be changed and re-build

Current __dyn__.tmp file sizes are:

os2gcc335 a.out:
E:\harbour102\harbour\src\dynlib\obj\os2\gcc          29,242
E:\harbour102\harbour\src\dynlib\mt\obj\os2\gcc       31,143

os2gcc442 OMF:
E:\harbour102\harbour\src\dynlib\obj\os2\gccomf       31,087
E:\harbour102\harbour\src\dynlib\mt\obj\os2\gccomf    32,985

OpenWatcom:
E:\harbour102\harbour\src\dynlib\obj\os2\watcom       39,769
E:\harbour102\harbour\src\dynlib\mt\obj\os2\watcom    41,656


For today and os2gcc, only os2gcc442OMF-mt are bigger than:
    2**15 = 2**(16-1) = 32768 bytes = 32 Kbytes
and fail to build harbourm.dll

os2gcc335 a.out - mt are near to fail too

David Macias

From harbour.01 at syenar.hu  Fri Feb 12 07:11:12 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 07:11:25 2010
Subject: [Harbour] OS/2: Harbour 13841
In-Reply-To: <4B754380.2030406@mail.udg.mx>
References: <4B754380.2030406@mail.udg.mx>
Message-ID: <6B74F4F4-5ED2-4747-A9AA-409EDE53AA9A@syenar.hu>

It's also possible they parse the disk option file, 
convert it to string and pass it as plain command-line 
(with 32KB limit) to subprocess.

While disk option files are not _only_ meant to get 
around cmdline length limitations, but this is one 
of their primary functions, so IMO this is a bug in 
OS/2 GCC implementation and should be reported and 
fixed. Otherwise it defeats the purpose of disk option 
file almost completely.

Brgds,
Viktor

On 2010 Feb 12, at 13:03, David Arturo Macias Corona wrote:

> Maurilio:
> 
> >I've reviewed your messages, I think 32K is environment size limit for
> >OS/2 processes; so, maybe os2gcc and/or ld receive something as an
> >envvar and this is now bigger than 32Kb :(
> 
> Thanks for your time and efforts
> If what you say is true, then is a bad new
> 
> Solution may be to use temporary files on disk in place of envvars, but again os2gcc must be changed and re-build
> 
> Current __dyn__.tmp file sizes are:
> 
> os2gcc335 a.out:
> E:\harbour102\harbour\src\dynlib\obj\os2\gcc          29,242
> E:\harbour102\harbour\src\dynlib\mt\obj\os2\gcc       31,143
> 
> os2gcc442 OMF:
> E:\harbour102\harbour\src\dynlib\obj\os2\gccomf       31,087
> E:\harbour102\harbour\src\dynlib\mt\obj\os2\gccomf    32,985
> 
> OpenWatcom:
> E:\harbour102\harbour\src\dynlib\obj\os2\watcom       39,769
> E:\harbour102\harbour\src\dynlib\mt\obj\os2\watcom    41,656
> 
> 
> For today and os2gcc, only os2gcc442OMF-mt are bigger than:
>   2**15 = 2**(16-1) = 32768 bytes = 32 Kbytes
> and fail to build harbourm.dll
> 
> os2gcc335 a.out - mt are near to fail too
> 
> David Macias
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dmacias at mail.udg.mx  Fri Feb 12 07:13:09 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Feb 12 07:13:16 2010
Subject: [Harbour] Re: FPT corruption
Message-ID: <4B7545D5.6050300@mail.udg.mx>

Mindaugas:

 >few times per year we find corrupted .fpt files in databeses of our
 >customers. The problem is that this corruption is not detected by
 >driver and causes strange behavior. For example, application hangs-up,
 >but do not GPFs. After some tests we found, that it "hangs-up" because
 >it uses a huge amount of memory (ex. >= 1GB) and OS do a lot of disk
 >swap thus stops application and system. This memory usage is caused by
 >reading some memo value. Total memo file length is not big (1MB), but
 >corrupted .ftp blocks contains huge size values. I've wrote some code
 >to test for such memofields, but it would be nice to have some
 >corruption detection code  in fpt driver.

 >> Viktor will kill you if he sees these :)

 >It won't compile, so such harsh action is not necessary ;)

Now that you are safe, why these FPT corruption happen ?
  ( "... corrupted .ftp blocks contains huge size values ..." )

David Macias


From dmacias at mail.udg.mx  Fri Feb 12 09:01:25 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Feb 12 09:01:38 2010
Subject: [Harbour] Re: OS/2: hbqt
Message-ID: <4B755F35.3000304@mail.udg.mx>

Maurilio:

 From svn.netlabs.org/qt4

download these files:
   gcc-lib-4_4_2-20091204.wpi
   qt-lib-4_5_1-ga.wpi
   qt-dev-4_5_1-ga.wpi
   qt-examples-4_5_1-ga.wpi

Once installed you will have "Qt 4.5.1 GA" folder on desktop containing 
many .exe files
You do not need to build any library and/or executable and rest of tools

All "demos" work and most of "examples" work fine

( Yes I know that you prefer Qt on Mac  :-) )

 From svn.netlabs.org/qtapps
you can download many applications with Qt4
I tested some of them and all work fine, including Kdiff3

David Macias


From mbelgrano at deltain.it  Fri Feb 12 09:45:43 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 12 09:46:13 2010
Subject: [Harbour] Hbide ready to use
Message-ID: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>

For same difficulties to build it from sources hbide, i have  post a
compiled binary for testing.
install in closed path c:\harbour\hbide  and project refer to
c:\harbour\contrib\hbide , I have included also hbmk2.exe
Follow is link to hbide shared with google doc
https://docs.google.com/leaf?id=0B8GgbIH3gP2WYzc1OTM4Y2UtZThkYi00MDJhLWE4MmUtMGNlNTAxYjAwODhh&hl=it

Follow are same Info regarding hbide in harbour language blog
http://harbourlanguage.blogspot.com/
<http://harbourlanguage.blogspot.com/>

I invite to collaborate anyone who is interested in harbour language and is
able to make a contribution. We are looking for  developer,documentation
writer, sponsors, sympathizers and friends. Any kind of collaboration is
welcome. Possibly you may have some suggestions, we will be glad to hear
from you.
For now we offer a good professional experiences for example we need english
people that undestrand harbour and write documentation


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100212/8a7fd8db/attachment-0001.html
From jarabal at gmail.com  Fri Feb 12 09:54:39 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 12 09:55:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <4B756BAF.2090800@gmail.com>

Viktor thank you very much,

It's a wonderful work and a great demostrci?n that all or almost anything is possible in C.
My heartfelt congratulations on this.

Best regards,
Xavi

El 12/02/2010 12:27, vszakats@users.sourceforge.net escribi?:
> Revision: 13850
>            http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13850&view=rev
> Author:   vszakats
> Date:     2010-02-12 11:27:02 +0000 (Fri, 12 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-12 12:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>    * contrib/hbwin/hbwin.ch
>      + Added HB_WIN_DLL_CALLCONV_* macros. (so far only privately defined inside .c code)
>      + Added HB_WIN_DLL_CTYPE_* macros. (so far only privately defined inside .c code)
>      + Reworked HB_WIN_DLL_CTYPE_* macro values. INCOMPATIBLE. Since they weren't
>        previously documented, this should not be a breakage, pls report it if this is
>        a problem.
>      ! Fixed .ch syntax to also work in .c files.
>
>    * contrib/hbwin/hbwin.h
>    * contrib/hbwin/legacycd.c
>    * contrib/hbwin/win_dll.c
>    * contrib/hbwin/tests/testdll.prg
>      * Using hbwin.ch for callconv and C type constants.
>      + Added public low-level interface: hbwin_dllCall().
>        This has provision for exact parameter type specification.
>      * Changed Harbour level functions to use new public
>        interface hbwin_dllCall().
>      + Moved CALLDLL(), CALLDLLBOOL(), CALLDLLTYPED() to legacy source.
>      * HB_DLLEXEC structure made private to XPP compatibility
>        section.
>      + Added new WIN_DLLCALL() API. This can replace all old CALL*()
>        function and give more flexibility. Its first parameter is an
>        optional array, which can specify calling convention (it was
>        fixed in old implementation), return type and UNICODE swicth,
>        plus it has provision to specify parameter types, too.
>      + Changed test app to use new WIN_DLLCALL() API.
>      * hb_getprocaddress() made public (but not exported) and
>        renamed to hbwin_getprocaddress().
>
>    * config/wce/mingwarm.mk
>    * config/win/mingw.mk
>      - Deleted hack to always add frame buffer for hbwin.
>        It's not necessary anymore.
>
> Modified Paths:
> --------------
>      trunk/harbour/ChangeLog
>      trunk/harbour/config/wce/mingwarm.mk
>      trunk/harbour/config/win/mingw.mk
>      trunk/harbour/contrib/hbwin/hbwin.ch
>      trunk/harbour/contrib/hbwin/hbwin.h
>      trunk/harbour/contrib/hbwin/legacycd.c
>      trunk/harbour/contrib/hbwin/tests/testdll.prg
>      trunk/harbour/contrib/hbwin/win_dll.c
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Fri Feb 12 09:57:48 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Feb 12 09:58:02 2010
Subject: [Harbour] OS/2: Harbour 13841
Message-ID: <4B756C6C.1030009@mail.udg.mx>

Viktor:

 >It's also possible they parse the disk option file,
 >convert it to string and pass it as plain command-line
 >(with 32KB limit) to subprocess.

 >While disk option files are not _only_ meant to get
 >around cmdline length limitations, but this is one
 >of their primary functions, so IMO this is a bug in
 >OS/2 GCC implementation and should be reported and
 >fixed. Otherwise it defeats the purpose of disk option
 >file almost completely.

We know we are in same state as months ago and with Harbour grow "the 
future catched us"

I send a public request to some well-known people in OS/2 world

The first response few minutes later is from Knut St. Osmundsen 
("bird"), the "brain" in Netlabs os2gcc development years ago ( gcc335 
age ) and now "brain" of Sun VirtualBox too

Message is included below and is very clear

I hope Paul Smedley can trace this case and based in Knut proposal then 
implement some solution

David Macias



David Arturo Macias Corona wrote:
 > Hi All:
 >
 > As I do not know who/where can help us I send this message to all of you
 > with hope of a solution
 > Please review, response and/or redirect to proper people
 >
 > In Harbour for OS/2 development ( www.harbour-project.org ) we face from
 > long time a problem using os2gcc compilers when we try to build some
 > .dll files
 >
 > Tracing I found an now famous 32 Kb limit:
 > -------------------------------------
 > Somewhere gcc is using 32 Kb limit for our case
 >    gcc --> emxomfld.exe ( ld.exe )
 >
 > ( or is OS/2 limit ?   :-) )

Yes, this is an OS/2 limitation.  The usual workaround is to pass the
arguments in a response file (emxomfld @filename.rsp).  Without checking
all the relevant code, I'm pretty sure that the compiler/linker driver
(gcc) will not create a response file when invoking sub programs like
as, ld or emxomfld.  The easiest way to hack it into doing this would be
  to change pexecute() in libiberty/pexecute.c to create a response file
for arguments exceeding, say, 24 KB.
http://svn.netlabs.org/libc/browser/branches/libc-0.6/src/gcc/libiberty/pexecute.c#L803



For all future communication, could you and your team please use the
libc/gcc mailing list: http://svn.netlabs.org/libc#MailinglistBugs

You can file bugs in the ticket tracker on that site, although, if it's
gcc related and you want it fixed soon you're probably better off filing
them with Paul's bug tracker. :-)

-- 

Kind regards / Mit freundlichen Gruessen / Vennlig hilsen,
   Knut

--

Sun Microsystems GmbH        Knut St. Osmundsen
Werkstrasse 24               Senior Staff Engineer, VirtualBox
71384 Weinstadt, Germany     mailto:bird@sun.com

From harbour.01 at syenar.hu  Fri Feb 12 09:57:52 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 09:58:07 2010
Subject: [Harbour] Hbide ready to use
In-Reply-To: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
Message-ID: <20AF8570-2A94-4D41-8D2B-610E326DBC90@syenar.hu>

Just a small note for everyone distributing HBIDE:

For HBIDE it's legal to use _static libs_, so maybe 
it would be the most convenient to provide one large 
hbide.exe without QT .dll dependencies. It can also 
make the result smaller, and certainly faster.

[ Sorry if this is already the case, I didn't check 
any of the binary hbide packages. ]

Another note: I'm not sure it's good idea to 
supply also hbmk2. hbmk2 is part of Harbour and if 
it's moved away form original location, it won't 
work. One needs Harbour anyway to use HBIDE.

Brgds,
Viktor

On 2010 Feb 12, at 15:45, Massimo Belgrano wrote:

> For same difficulties to build it from sources hbide, i have  post a compiled binary for testing.
> install in closed path c:\harbour\hbide  and project refer to c:\harbour\contrib\hbide , I have included also hbmk2.exe 
> Follow is link to hbide shared with google doc
> https://docs.google.com/leaf?id=0B8GgbIH3gP2WYzc1OTM4Y2UtZThkYi00MDJhLWE4MmUtMGNlNTAxYjAwODhh&hl=it
> 
> Follow are same Info regarding hbide in harbour language blog
> http://harbourlanguage.blogspot.com/
> 
> I invite to collaborate anyone who is interested in harbour language and is able to make a contribution. We are looking for  developer,documentation writer, sponsors, sympathizers and friends. Any kind of collaboration is welcome. Possibly you may have some suggestions, we will be glad to hear from you. 
> For now we offer a good professional experiences for example we need english people that undestrand harbour and write documentation 
> 
> 
> -- 
> Massimo Belgrano
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Fri Feb 12 10:03:20 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 12 10:03:26 2010
Subject: [Harbour] Re: OS/2: hbqt
In-Reply-To: <4B753CD3.6090303@mail.udg.mx>
References: <4B740663.7010802@mail.udg.mx> <4B753CD3.6090303@mail.udg.mx>
Message-ID: <1265987000062-4561529.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
>  >I know nothing about OS2 and hence not in a position to comment.
>  >One point which comes in mind is that Harbour is supporting Qt 5.5.3
> 
>   ( do you have secret access to future Qt releases ? :-) )
> 

Probably you forget "the slip of the fingers" phenomena when typing fast.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-hbqt-tp4554645p4561529.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Fri Feb 12 10:04:28 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 10:04:41 2010
Subject: [Harbour] OS/2: Harbour 13841
In-Reply-To: <4B756C6C.1030009@mail.udg.mx>
References: <4B756C6C.1030009@mail.udg.mx>
Message-ID: <F34B0FC7-90F4-4530-AC8B-57FD6E97C782@syenar.hu>

Thanks David.

It confirms precisely what I suspected.

I hope someone can patch it the way described, it 
will surely be great help for many projects, not 
just Harbour. (like last time the nice cooperation 
with GNU Make)

Brgds,
Viktor

On 2010 Feb 12, at 15:57, David Arturo Macias Corona wrote:

> Viktor:
> 
> >It's also possible they parse the disk option file,
> >convert it to string and pass it as plain command-line
> >(with 32KB limit) to subprocess.
> 
> >While disk option files are not _only_ meant to get
> >around cmdline length limitations, but this is one
> >of their primary functions, so IMO this is a bug in
> >OS/2 GCC implementation and should be reported and
> >fixed. Otherwise it defeats the purpose of disk option
> >file almost completely.
> 
> We know we are in same state as months ago and with Harbour grow "the future catched us"
> 
> I send a public request to some well-known people in OS/2 world
> 
> The first response few minutes later is from Knut St. Osmundsen ("bird"), the "brain" in Netlabs os2gcc development years ago ( gcc335 age ) and now "brain" of Sun VirtualBox too
> 
> Message is included below and is very clear
> 
> I hope Paul Smedley can trace this case and based in Knut proposal then implement some solution
> 
> David Macias
> 
> 
> 
> David Arturo Macias Corona wrote:
> > Hi All:
> >
> > As I do not know who/where can help us I send this message to all of you
> > with hope of a solution
> > Please review, response and/or redirect to proper people
> >
> > In Harbour for OS/2 development ( www.harbour-project.org ) we face from
> > long time a problem using os2gcc compilers when we try to build some
> > .dll files
> >
> > Tracing I found an now famous 32 Kb limit:
> > -------------------------------------
> > Somewhere gcc is using 32 Kb limit for our case
> >    gcc --> emxomfld.exe ( ld.exe )
> >
> > ( or is OS/2 limit ?   :-) )
> 
> Yes, this is an OS/2 limitation.  The usual workaround is to pass the
> arguments in a response file (emxomfld @filename.rsp).  Without checking
> all the relevant code, I'm pretty sure that the compiler/linker driver
> (gcc) will not create a response file when invoking sub programs like
> as, ld or emxomfld.  The easiest way to hack it into doing this would be
> to change pexecute() in libiberty/pexecute.c to create a response file
> for arguments exceeding, say, 24 KB.
> http://svn.netlabs.org/libc/browser/branches/libc-0.6/src/gcc/libiberty/pexecute.c#L803
> 
> 
> 
> For all future communication, could you and your team please use the
> libc/gcc mailing list: http://svn.netlabs.org/libc#MailinglistBugs
> 
> You can file bugs in the ticket tracker on that site, although, if it's
> gcc related and you want it fixed soon you're probably better off filing
> them with Paul's bug tracker. :-)
> 
> -- 
> 
> Kind regards / Mit freundlichen Gruessen / Vennlig hilsen,
>  Knut
> 
> --
> 
> Sun Microsystems GmbH        Knut St. Osmundsen
> Werkstrasse 24               Senior Staff Engineer, VirtualBox
> 71384 Weinstadt, Germany     mailto:bird@sun.com
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Feb 12 10:13:08 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 12 10:13:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <4B756BAF.2090800@gmail.com>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B756BAF.2090800@gmail.com>
Message-ID: <5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>

Thank you Xavi.

It still needs some closer testing, as double/float/int64
handling wasn't tested, so things like DWORD order might be 
off, also int64 support needs work. Anyway, without ASM and 
with fundamentals in place, the scope of these functions is 
now broader, and also easier to understand, so I hope more 
ppl will be willing to touch it or just use it.

I was also thinking to create a way to describe and pass 
C level function skeletons as string to HB_DLLCALL(), 
which could then decide about the precise details, make 
necessary conversions, etc.

F.e.:
   HB_DLLCALL( h, "__cdecl _int64 AnyCall( int, long, double )", nPar1, nPar2, nPar3 )
or something Windows specific (since we're in hbwin lib yet):
   HB_DLLCALL( h, "WINAPI DWORD SetSomething( LPTCSTR )", cHarbourString )

Such thing could make .dll calls very user-friendly.
It's over my C knowledge, but maybe someone will be able 
to implement in the future.

Brgds,
Viktor

On 2010 Feb 12, at 15:54, Xavi wrote:

> Viktor thank you very much,
> 
> It's a wonderful work and a great demostrci?n that all or almost anything is possible in C.
> My heartfelt congratulations on this.
> 
> Best regards,
> Xavi
> 
> El 12/02/2010 12:27, vszakats@users.sourceforge.net escribi?:
>> Revision: 13850
>>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13850&view=rev
>> Author:   vszakats
>> Date:     2010-02-12 11:27:02 +0000 (Fri, 12 Feb 2010)
>> 
>> Log Message:
>> -----------
>> 2010-02-12 12:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>   * contrib/hbwin/hbwin.ch
>>     + Added HB_WIN_DLL_CALLCONV_* macros. (so far only privately defined inside .c code)
>>     + Added HB_WIN_DLL_CTYPE_* macros. (so far only privately defined inside .c code)
>>     + Reworked HB_WIN_DLL_CTYPE_* macro values. INCOMPATIBLE. Since they weren't
>>       previously documented, this should not be a breakage, pls report it if this is
>>       a problem.
>>     ! Fixed .ch syntax to also work in .c files.
>> 
>>   * contrib/hbwin/hbwin.h
>>   * contrib/hbwin/legacycd.c
>>   * contrib/hbwin/win_dll.c
>>   * contrib/hbwin/tests/testdll.prg
>>     * Using hbwin.ch for callconv and C type constants.
>>     + Added public low-level interface: hbwin_dllCall().
>>       This has provision for exact parameter type specification.
>>     * Changed Harbour level functions to use new public
>>       interface hbwin_dllCall().
>>     + Moved CALLDLL(), CALLDLLBOOL(), CALLDLLTYPED() to legacy source.
>>     * HB_DLLEXEC structure made private to XPP compatibility
>>       section.
>>     + Added new WIN_DLLCALL() API. This can replace all old CALL*()
>>       function and give more flexibility. Its first parameter is an
>>       optional array, which can specify calling convention (it was
>>       fixed in old implementation), return type and UNICODE swicth,
>>       plus it has provision to specify parameter types, too.
>>     + Changed test app to use new WIN_DLLCALL() API.
>>     * hb_getprocaddress() made public (but not exported) and
>>       renamed to hbwin_getprocaddress().
>> 
>>   * config/wce/mingwarm.mk
>>   * config/win/mingw.mk
>>     - Deleted hack to always add frame buffer for hbwin.
>>       It's not necessary anymore.
>> 
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/config/wce/mingwarm.mk
>>     trunk/harbour/config/win/mingw.mk
>>     trunk/harbour/contrib/hbwin/hbwin.ch
>>     trunk/harbour/contrib/hbwin/hbwin.h
>>     trunk/harbour/contrib/hbwin/legacycd.c
>>     trunk/harbour/contrib/hbwin/tests/testdll.prg
>>     trunk/harbour/contrib/hbwin/win_dll.c
>> 
>> 
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Fri Feb 12 10:13:35 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 12 10:13:42 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
Message-ID: <1265987615194-4561583.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Follow are same Info regarding hbide in harbour language blog
> http://harbourlanguage.blogspot.com/
> <http://harbourlanguage.blogspot.com/>
> 

The images shown on the blog are not current one, please update them.

Also bottom output panel must not be shown all the time, only when it 
has output result. For better vies you can adjust the width and/or height
of the the docking widgets.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4561583.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Feb 12 10:15:34 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 12 10:15:41 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <20AF8570-2A94-4D41-8D2B-610E326DBC90@syenar.hu>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
	<20AF8570-2A94-4D41-8D2B-610E326DBC90@syenar.hu>
Message-ID: <1265987734398-4561600.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Just a small note for everyone distributing HBIDE:
> 
> For HBIDE it's legal to use _static libs_, so maybe 
> it would be the most convenient to provide one large 
> hbide.exe without QT .dll dependencies. It can also 
> make the result smaller, and certainly faster.
> 
> [ Sorry if this is already the case, I didn't check 
> any of the binary hbide packages. ]
> 

+1.



> Another note: I'm not sure it's good idea to 
> supply also hbmk2. hbmk2 is part of Harbour and if 
> it's moved away form original location, it won't 
> work. One needs Harbour anyway to use HBIDE.
> 

Surely hbMK2 must not be a part of the distro at all.
I am in the process to change a lot in hbIDE based on hbMK2.
You have hit a valid point.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4561600.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mbelgrano at deltain.it  Fri Feb 12 10:15:17 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 12 10:15:47 2010
Subject: [Harbour] Hbide ready to use
In-Reply-To: <20AF8570-2A94-4D41-8D2B-610E326DBC90@syenar.hu>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com> 
	<20AF8570-2A94-4D41-8D2B-610E326DBC90@syenar.hu>
Message-ID: <609353e71002120715sb8cf4aakde3a37df5ad8abb1@mail.gmail.com>

I agree about not good idea supply hbmk2
but afaik this hbide require updated hbmk2

For user that have download the official harbour 2.0 binary
is Possible release a 2.01 with hbmk2 updated?
or a special hbmk2 patch ?

sorry i not able to create static lib, because i have prepared dynamic
version only


2010/2/12 Viktor Szak?ts <harbour.01@syenar.hu>

> Just a small note for everyone distributing HBIDE:
>
> For HBIDE it's legal to use _static libs_, so maybe
> it would be the most convenient to provide one large
> hbide.exe without QT .dll dependencies. It can also
> make the result smaller, and certainly faster.
>
> [ Sorry if this is already the case, I didn't check
> any of the binary hbide packages. ]
>
> Another note: I'm not sure it's good idea to
> supply also hbmk2. hbmk2 is part of Harbour and if
> it's moved away form original location, it won't
> work. One needs Harbour anyway to use HBIDE.
>
> Brgds,
> Viktor
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100212/84f50756/attachment.html
From dbtopas at dbtopas.lt  Fri Feb 12 10:19:16 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb 12 10:19:15 2010
Subject: [Harbour] FPT corruption
In-Reply-To: <20100211220154.GB1205@linux-4bod.home.aster.pl>
References: <4B74078A.1000302@dbtopas.lt>
	<20100211220154.GB1205@linux-4bod.home.aster.pl>
Message-ID: <4B757174.4050600@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> memo file size and block offset. For relatively small memo files it
> may help to early detect corruption but it will not help for big files
> and for sure in all cases it will cause performance reduction because
> we will have to add additional IO call to check current file size.
> To reduce the overhead we can add such verification only for blocks
> bigger then some arbitrary chosen by us limit i.e. 4MB.
> 
> If you think it's worth to implement then I can do that.

Since this is not the first and only time we have such situation, I 
found it useful. It could be even bigger limit, ex., 16MB or more, but 
should be less than OS available memory size - otherwise app is halted. 
Adaptive algorithm that stores FPT size in memory and rechecks file size 
if this block size is larger than this value is the best solution, but I 
this requires FPT AREA structure change, etc.

The other solution could be reading not the whole block, but beginning 
of it (if it is very big). If block has a huge size, perhaps, a few 
other bytes (like field type) in the beginning of the block will show 
that field is invalid. (I do not know fpt stucture, so, this is only guess).


> I can also enable strict TYPE verification but it may cause
> problems when some extended types stored by program compiled
> by other languages are used. There are many local extensions
> to FPT format. Now Harbour returns NIL for such fields.

This could be useful to detect extended FPT files and implement such 
extensions in Harbour.



Regards,
Mindaugas

From mbelgrano at deltain.it  Fri Feb 12 10:24:22 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 12 10:24:50 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <1265987615194-4561583.post@n2.nabble.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com> 
	<1265987615194-4561583.post@n2.nabble.com>
Message-ID: <609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com>

2010/2/12 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Massimo Belgrano wrote:
> >
> > Follow are same Info regarding hbide in harbour language blog
> > http://harbourlanguage.blogspot.com/
> > <http://harbourlanguage.blogspot.com/>
> >
>
> The images shown on the blog are not current one, please update them.
>
>
Done

> Also bottom output panel must not be shown all the time, only when it
> has output result. For better vies you can adjust the width and/or height
> of the the docking widgets.
>
>
> Can you post a sample to help me undestrand?

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100212/b8c2b865/attachment.html
From harbour.01 at syenar.hu  Fri Feb 12 10:27:40 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 10:27:50 2010
Subject: [Harbour] Hbide ready to use
In-Reply-To: <609353e71002120715sb8cf4aakde3a37df5ad8abb1@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
	<20AF8570-2A94-4D41-8D2B-610E326DBC90@syenar.hu>
	<609353e71002120715sb8cf4aakde3a37df5ad8abb1@mail.gmail.com>
Message-ID: <F9C3981E-A431-49AB-9F89-91E86886B612@syenar.hu>

> I agree about not good idea supply hbmk2
> but afaik this hbide require updated hbmk2
> 
> For user that have download the official harbour 2.0 binary
> is Possible release a 2.01 with hbmk2 updated?
> or a special hbmk2 patch ?

So far I think HBIDE doesn't use anything from 
hbmk2 which got recently developed, Pritpal 
should know it better though. For sure this might 
change in the future when starting to use -hbexe, 
-3rd, -env, {TEMPDIR}, -workdir in HBIDE.

I can't take 2.0.1 back-porting work on my shoulder, 
and also won't have time to create special patch 
for hbmk2 code, but the source is there, so if 
someone is willing to invest some effort in it, it 
can be done.

> sorry i not able to create static lib, because i have prepared dynamic version only

For me it's not a problem.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Fri Feb 12 10:31:11 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb 12 10:31:09 2010
Subject: [Harbour] Re: FPT corruption
In-Reply-To: <4B7545D5.6050300@mail.udg.mx>
References: <4B7545D5.6050300@mail.udg.mx>
Message-ID: <4B75743F.3050802@dbtopas.lt>

Hi,


David Arturo Macias Corona wrote:
> Now that you are safe, why these FPT corruption happen ?
>  ( "... corrupted .ftp blocks contains huge size values ..." )

Perhaps it was file system crash because power supply lost or something 
like this. We can find HTML, Javascript code in .fpt file.


Regards,
Mindaugas
From jarabal at gmail.com  Fri Feb 12 11:42:26 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 12 11:42:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>	<4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
Message-ID: <4B7584F2.5090202@gmail.com>

Hi Viktor,

> It still needs some closer testing, as double/float/int64
> handling wasn't tested, so things like DWORD order might be
> off, also int64 support needs work. Anyway, without ASM and
> with fundamentals in place, the scope of these functions is
> now broader, and also easier to understand, so I hope more
> ppl will be willing to touch it or just use it.

Ok. I would suggest two things .-
One is a minor change to remove warnings (attached patch).
Another: There would fit PRG copy items to avoid change if parameters are not passed by reference.
Sample .-
...
      ? "CALLDLL: ", CallDll( GetProcAddress( hDLL, "SHGetFolderPath" ), 0, CSIDL_ADMINTOOLS, 0, 0, cData ) // WRONG
      ? "cData: ", cData
...

> I was also thinking to create a way to describe and pass
> C level function skeletons as string to HB_DLLCALL(),
> which could then decide about the precise details, make
> necessary conversions, etc.
>
> F.e.:
>     HB_DLLCALL( h, "__cdecl _int64 AnyCall( int, long, double )", nPar1, nPar2, nPar3 )
> or something Windows specific (since we're in hbwin lib yet):
>     HB_DLLCALL( h, "WINAPI DWORD SetSomething( LPTCSTR )", cHarbourString )
>
> Such thing could make .dll calls very user-friendly.
> It's over my C knowledge, but maybe someone will be able
> to implement in the future.

I think that Przemek could say something. :)
[ It's a parser to C language with examples of rules on C interpreters. ]
Maybe I've spent the finish line and only need to interpret some key words in the string.
But this don't substract that currently, it's very functional IMO.

Best regards,
Xavi

-------------- next part --------------
Index: win_dll.c
===================================================================
--- win_dll.c	(revision 13851)
+++ win_dll.c	(working copy)
@@ -672,9 +672,9 @@
 
          for( tmp = 0; tmp < iParams; ++tmp )
          {
-            HB_U32 r1;
-            HB_U32 r2;
-            HB_BOOL b64;
+            HB_U32 r1 = 0;
+            HB_U32 r2 = 0;
+            HB_BOOL b64 = HB_FALSE;
 
             wcall.pArg[ tmp ].bByRef = HB_ISBYREF( iFirst + tmp );
 
From bedipritpal at hotmail.com  Fri Feb 12 13:50:29 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 12 13:50:36 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com>
Message-ID: <1266000629036-4562819.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
>> Also bottom output panel must not be shown all the time, only when it
>> has output result. For better vies you can adjust the width and/or height
>> of the the docking widgets.
>>
>>
> Can you post a sample to help me undestrand?
> 

See 2nd image which has "Output Console" blank and visible.
Switch it off. Or you do not know how to switch off ?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4562819.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From qiinfo at ig.com.br  Fri Feb 12 14:23:09 2010
From: qiinfo at ig.com.br (Rossine)
Date: Fri Feb 12 14:23:17 2010
Subject: [Harbour] Sending SMS
Message-ID: <27568201.post@talk.nabble.com>


Hello, 

Is possible send an SMS from within an application made in harbour ? 

An example ?

Best regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Sending-SMS-tp27568201p27568201.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Fri Feb 12 14:30:18 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 12 14:30:47 2010
Subject: [Harbour] Sending SMS
In-Reply-To: <27568201.post@talk.nabble.com>
References: <27568201.post@talk.nabble.com>
Message-ID: <609353e71002121130x784041b9s752c62d19bb37e92@mail.gmail.com>

Using a phone or sms service?
I remember a library in xharbour SMSTOOLS
http://www.xharbour.com/xhc/index.as...i=7&show_sub=1


2010/2/12 Rossine <qiinfo@ig.com.br>
>
> Hello,
>
> Is possible send an SMS from within an application made in harbour ?
>
> An example ?
>
> Best regards,
>
> Rossine.
>

--
Massimo Belgrano
From vszakats at users.sourceforge.net  Fri Feb 12 15:02:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 12 15:02:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13852] trunk/harbour
Message-ID: <E1Ng1im-0000eK-0T@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13852
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13852&view=rev
Author:   vszakats
Date:     2010-02-12 20:02:34 +0000 (Fri, 12 Feb 2010)

Log Message:
-----------
2010-02-12 21:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    * HB_BYTE made a synonym for HB_UCHAR.
      HB_BYTE is only there for convenience, HB_UCHAR is recommended
      for unsigned byte streams.
    * HB_U8 now based on HB_UCHAR.
    ! Fixed UINT64/INT64 left defined in some cases.

  * contrib/hbwin/hbwin.h
  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/tests/testdll.prg
  * contrib/hbwin/win_dll.c
  * contrib/hbwin/legacycd.c
    + Added LONGLONG C types.
    + Added support for user-specifiable parameter types.
      This works now in low-level C dll call function and also
      on high level in HB_DLLCALL().
    + Added support for LONGLONG/int64 integers.
    + Added support for raw strings. (no UNICODE or codepage
      conversion).
    ! Fixed typo in iRetTypeRaw assigment.
    + Added one new test for param type spec test. (pretty bare)
    ! Fixed WAPI_GETPROCADDRESS() to GETPROCADDRESS(). Latter
      has some extra features so we still need it.
    * GETPROCADDRESS() moved back to non-compatibility.
    ; Please review the code. There are some integer conversion
      which might not be proper (& 0xFFFF).

  * utils/hbmk2/hbmk2.prg
    ! Typo in recently added help text.

  * contrib/Makefile
  - contrib/hbbmcdx
  + contrib/rddbmcdx
  * contrib/rddbmcdx/bmdbfcdx.c
  * contrib/rddbmcdx/Makefile
    * Renamed hbbmcdx to rddbmcdx.
    * More cleanup to RDD code. (sync with rddcdx, deleted
      unnecessary lines)
    - Deleted "turbo" functionality. BM_TURBO() is now a dummy.
      AFAIR this isn't safe, and even if it is it should be
      implemented differently, not as a static variable.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/hbwin.h
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/rddbmcdx/Makefile
    trunk/harbour/contrib/rddbmcdx/bmdbfcdx.c
    trunk/harbour/include/hbdefs.h
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/contrib/rddbmcdx/

Removed Paths:
-------------
    trunk/harbour/contrib/hbbmcdx/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb 12 15:03:14 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 12 15:03:27 2010
Subject: [Harbour] Sending SMS
In-Reply-To: <27568201.post@talk.nabble.com>
References: <27568201.post@talk.nabble.com>
Message-ID: <FC97B0A0-1D32-40C7-B97C-90CCF708F983@syenar.hu>

I've added SMS library to Harbour a few months ago.

It's called hbsms. There is a test program which 
demonstrates its usage, it's also pure .prg code, 
so it's easy to see what happens. I can't give more 
specific help, but this should be enough.

Brgds,
Viktor

On 2010 Feb 12, at 20:23, Rossine wrote:

> 
> Hello, 
> 
> Is possible send an SMS from within an application made in harbour ? 
> 
> An example ?
> 
> Best regards,
> 
> Rossine.
> 
> -- 
> View this message in context: http://old.nabble.com/Sending-SMS-tp27568201p27568201.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Feb 12 15:26:53 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 12 15:27:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <4B7584F2.5090202@gmail.com>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>	<4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
	<4B7584F2.5090202@gmail.com>
Message-ID: <145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>

Hi Xavi,

> Ok. I would suggest two things .-
> One is a minor change to remove warnings (attached patch).

Should be fixed now. (Though for me only one of them 
gave warning, pls tell if it's still wrong).

> Another: There would fit PRG copy items to avoid change if parameters are not passed by reference.
> Sample .-
> ...
>     ? "CALLDLL: ", CallDll( GetProcAddress( hDLL, "SHGetFolderPath" ), 0, CSIDL_ADMINTOOLS, 0, 0, cData ) // WRONG
>     ? "cData: ", cData
> ...

I see what you mean. I don't know the most optimal way 
to solve that. This should be fixed in hb_u32par() 
and hb_u64par() under HB_WIN_DLL_CTYPE_CHAR_PTR.
Currently hb_itemGetStr*() don't always duplicate 
the string, which causes the problem. I'd need the 
simplest way to make the conversion and force 
duplication. Przemek, if you see this, what do you 
suggest?

>> I was also thinking to create a way to describe and pass
>> C level function skeletons as string to HB_DLLCALL(),
>> which could then decide about the precise details, make
>> necessary conversions, etc.
>> 
>> F.e.:
>>    HB_DLLCALL( h, "__cdecl _int64 AnyCall( int, long, double )", nPar1, nPar2, nPar3 )
>> or something Windows specific (since we're in hbwin lib yet):
>>    HB_DLLCALL( h, "WINAPI DWORD SetSomething( LPTCSTR )", cHarbourString )
>> 
>> Such thing could make .dll calls very user-friendly.
>> It's over my C knowledge, but maybe someone will be able
>> to implement in the future.
> 
> I think that Przemek could say something. :)
> [ It's a parser to C language with examples of rules on C interpreters. ]
> Maybe I've spent the finish line and only need to interpret some key words in the string.
> But this don't substract that currently, it's very functional IMO.

Actually, such function could be written as .prg
code by anyone. Now the low-level logic is there, 
so all such function needs to do is parse the 
string, optionally load .dll look for function, 
and convert string tokens (callconv, types) to 
WIN_DLLCALL() parameters:
   RETURN WIN_DLLCALL( { nCallConv, nRetType, [bUNICODE], nPar1Type, ..., nParnType }, pFunction, xPar1, ..., xParn } )

Where numeric constants can be found in hbwin.ch.

This could be the end result:
   WIN_DLLCALLSTR( "WINAPI DWORD Hello( WORD, DWORD ) IN winapi.dll", 10, 100 ) -> 50

The string syntax can be C, VB or CAVO or anything else 
for that matter, it could even support multiple syntaxes.

Brdgs,
Viktor

From kadziola at tlen.pl  Fri Feb 12 15:47:46 2010
From: kadziola at tlen.pl (=?windows-1250?Q?Jaros=B3aw_K=B9dzio=B3a?=)
Date: Fri Feb 12 15:47:48 2010
Subject: [Harbour] Sending SMS
In-Reply-To: <27568201.post@talk.nabble.com>
References: <27568201.post@talk.nabble.com>
Message-ID: <1475048371.20100212214746@tlen.pl>

Hi,


> Hello, 

> Is possible send an SMS from within an application made in harbour ? 

Yes

> An example ?

Local cPort := "\\.\COM28"
Local phone_number := '123456789'
Local sms_text := 'This is SMS'

sms_Send( cPort, phone_number , sms_text , .T. )


Compile with lib : hbsms, hbtpathy
-- 
Regards,
Jaroslaw Kadzio?a


From smujohnson at gmail.com  Fri Feb 12 16:57:53 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 12 16:58:02 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
Message-ID: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>

Dear Harbour Devs,

We are having a real hassle getting MEMOEDIT() to start editing with the
INSERT mode, because KSETINS() that clipper tools provides doesn't work.
(neither does KSETNUM).  I am not sure about KSETCAPS etc but I would take a
guess that they don't work either.  When insert is .T. in memoedit mode, you
can hit enter, and separate lines, etc etc, much like how Windows
notepad.exe behaves in its regular mode.

In Clipper 5.2e + Funcky the INSERT() function they provide is identical as
far as its function prototype, but works well in the DOS world as well as
32-bit Windows dos emu world.

Perhaps the Clipper-Tools KSET* funcs could be fixed... or maybe HB_SET*
functions made?

Any thoughts?  Thank you.  So far, these issues are showing up on Win XP
Pro, and Win 7 64-bit.

PS:  We've seen some other MEMOEDIT bugs... and I remember reading that
Viktor thought it could use a definite rewrite.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100212/6fe902be/attachment.html
From harbour.01 at syenar.hu  Fri Feb 12 17:16:05 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 17:16:16 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
Message-ID: <04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>

Hi,

> We are having a real hassle getting MEMOEDIT() to start editing with the INSERT mode, because KSETINS() that clipper tools provides doesn't work.  (neither does KSETNUM).  I am not sure about KSETCAPS etc but I would take a guess that they don't work either.  When insert is .T. in memoedit mode, you can hit enter, and separate lines, etc etc, much like how Windows notepad.exe behaves in its regular mode.

Just try with plain Clipper SET( _SET_INSERT, <l> ).

> In Clipper 5.2e + Funcky the INSERT() function they provide is identical as far as its function prototype, but works well in the DOS world as well as 32-bit Windows dos emu world.
> 
> Perhaps the Clipper-Tools KSET* funcs could be fixed... or maybe HB_SET* functions made?

These don't seem very portable functions, so hopefully 
someone will fix them in hbct, if possible at all under 
non-DOS OSes. Remember these are system wide keyboard 
settings normally controlled by user, so I wouldn't be 
surprised if some OSes wouldn't provide a way to alter 
it programmatically to avoid apps taking over these 
thing.

F.e. except forcing keyboard to CAPS, maybe it's more 
user friendly and portable approach to convert input 
to uppercase on app level.

Brgds,
Viktor

From smujohnson at gmail.com  Fri Feb 12 17:39:32 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 12 17:39:40 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
	<04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
Message-ID: <674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>

Hi.  I found that READINSERT() does the job, and is part of Clipper 5.3

Hip hip hurray!

On Fri, Feb 12, 2010 at 2:16 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi,
>
> > We are having a real hassle getting MEMOEDIT() to start editing with the
> INSERT mode, because KSETINS() that clipper tools provides doesn't work.
>  (neither does KSETNUM).  I am not sure about KSETCAPS etc but I would take
> a guess that they don't work either.  When insert is .T. in memoedit mode,
> you can hit enter, and separate lines, etc etc, much like how Windows
> notepad.exe behaves in its regular mode.
>
> Just try with plain Clipper SET( _SET_INSERT, <l> ).
>
> > In Clipper 5.2e + Funcky the INSERT() function they provide is identical
> as far as its function prototype, but works well in the DOS world as well as
> 32-bit Windows dos emu world.
> >
> > Perhaps the Clipper-Tools KSET* funcs could be fixed... or maybe HB_SET*
> functions made?
>
> These don't seem very portable functions, so hopefully
> someone will fix them in hbct, if possible at all under
> non-DOS OSes. Remember these are system wide keyboard
> settings normally controlled by user, so I wouldn't be
> surprised if some OSes wouldn't provide a way to alter
> it programmatically to avoid apps taking over these
> thing.
>
> F.e. except forcing keyboard to CAPS, maybe it's more
> user friendly and portable approach to convert input
> to uppercase on app level.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100212/5b88c4f0/attachment-0001.html
From harbour.01 at syenar.hu  Fri Feb 12 17:43:42 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 17:43:52 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
	<04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
	<674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>
Message-ID: <B49B4B75-E151-4C66-8EFB-773D526E5BF5@syenar.hu>

> Hi.  I found that READINSERT() does the job, and is part of Clipper 5.3

It's a wrapper to SET( _SET_INSERT ).

From smujohnson at gmail.com  Fri Feb 12 18:14:41 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 12 18:14:50 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <B49B4B75-E151-4C66-8EFB-773D526E5BF5@syenar.hu>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
	<04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
	<674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>
	<B49B4B75-E151-4C66-8EFB-773D526E5BF5@syenar.hu>
Message-ID: <674e4ddd1002121514p39be2264qb4a231ae745d7f13@mail.gmail.com>

Thanks for the hints.  My stuff is closer to working!

Another inconsistency I found in MEMOEDIT is the CTRL-END key.  In Harbour,
it escapes out.  In clipper, it goes to the bottom right hand section of the
memo.




On Fri, Feb 12, 2010 at 2:43 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> > Hi.  I found that READINSERT() does the job, and is part of Clipper 5.3
>
> It's a wrapper to SET( _SET_INSERT ).
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100212/42c749cb/attachment.html
From harbour.01 at syenar.hu  Fri Feb 12 18:26:28 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 18:26:41 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <674e4ddd1002121514p39be2264qb4a231ae745d7f13@mail.gmail.com>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
	<04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
	<674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>
	<B49B4B75-E151-4C66-8EFB-773D526E5BF5@syenar.hu>
	<674e4ddd1002121514p39be2264qb4a231ae745d7f13@mail.gmail.com>
Message-ID: <A46B40EE-CA7D-48B7-96E4-CAB2DA6CCBF7@syenar.hu>

On 2010 Feb 13, at 00:14, smu johnson wrote:

> Thanks for the hints.  My stuff is closer to working!
> 
> Another inconsistency I found in MEMOEDIT is the CTRL-END key.  In Harbour, it escapes out.  In clipper, it goes to the bottom right hand section of the memo.

NG says that Ctlr+W ends editing, and Ctrl+W has 
the same key code as Ctrl+End, so to me it looks 
consistent, I don't know what you experience.

Anyhow I've fixed Ctrl+End/Esc/Ctrl+W related problems 
at least a dozen times, I'll now leave the rest for 
someone with remaining nerves to waste on this area.

In general I'd suggest to forget MEMOEDIT() completely 
and use HBEDITOR class directly. It gives much 
better control and all these 110% compatibility 
problems can be easily avoided. MEMOEDIT() in 
Harbour is based on HBEDITOR.

Brgds,
Viktor

From smujohnson at gmail.com  Fri Feb 12 18:35:50 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 12 18:35:58 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <A46B40EE-CA7D-48B7-96E4-CAB2DA6CCBF7@syenar.hu>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
	<04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
	<674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>
	<B49B4B75-E151-4C66-8EFB-773D526E5BF5@syenar.hu>
	<674e4ddd1002121514p39be2264qb4a231ae745d7f13@mail.gmail.com>
	<A46B40EE-CA7D-48B7-96E4-CAB2DA6CCBF7@syenar.hu>
Message-ID: <674e4ddd1002121535x4692ff64n823a8e41190f66e4@mail.gmail.com>

Ok,

I will try the new editor.  One last thing to say about MEMOEDIT... there is
a word-wrapping bug.
http://209.97.219.2/sjohnson/misc/scrnshots/wordwrap-bug.png

Notice the spaces between the ffff's and the iiii's.

I will take a guess that HBEDITOR doesn't have this problem?  :)

On Fri, Feb 12, 2010 at 3:26 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> On 2010 Feb 13, at 00:14, smu johnson wrote:
>
> > Thanks for the hints.  My stuff is closer to working!
> >
> > Another inconsistency I found in MEMOEDIT is the CTRL-END key.  In
> Harbour, it escapes out.  In clipper, it goes to the bottom right hand
> section of the memo.
>
> NG says that Ctlr+W ends editing, and Ctrl+W has
> the same key code as Ctrl+End, so to me it looks
> consistent, I don't know what you experience.
>
> Anyhow I've fixed Ctrl+End/Esc/Ctrl+W related problems
> at least a dozen times, I'll now leave the rest for
> someone with remaining nerves to waste on this area.
>
> In general I'd suggest to forget MEMOEDIT() completely
> and use HBEDITOR class directly. It gives much
> better control and all these 110% compatibility
> problems can be easily avoided. MEMOEDIT() in
> Harbour is based on HBEDITOR.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100212/4023297e/attachment.html
From smujohnson at gmail.com  Fri Feb 12 18:39:20 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 12 18:39:28 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <A46B40EE-CA7D-48B7-96E4-CAB2DA6CCBF7@syenar.hu>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
	<04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
	<674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>
	<B49B4B75-E151-4C66-8EFB-773D526E5BF5@syenar.hu>
	<674e4ddd1002121514p39be2264qb4a231ae745d7f13@mail.gmail.com>
	<A46B40EE-CA7D-48B7-96E4-CAB2DA6CCBF7@syenar.hu>
Message-ID: <674e4ddd1002121539p5451b43dy775869c85c691851@mail.gmail.com>

For me I do not get Ctrl+End as being the same as CTRL-W.

? INKEY(0)

/*
CTRL-END 415
CTRL-W 23
*/


On Fri, Feb 12, 2010 at 3:26 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> On 2010 Feb 13, at 00:14, smu johnson wrote:
>
> > Thanks for the hints.  My stuff is closer to working!
> >
> > Another inconsistency I found in MEMOEDIT is the CTRL-END key.  In
> Harbour, it escapes out.  In clipper, it goes to the bottom right hand
> section of the memo.
>
> NG says that Ctlr+W ends editing, and Ctrl+W has
> the same key code as Ctrl+End, so to me it looks
> consistent, I don't know what you experience.
>
> Anyhow I've fixed Ctrl+End/Esc/Ctrl+W related problems
> at least a dozen times, I'll now leave the rest for
> someone with remaining nerves to waste on this area.
>
> In general I'd suggest to forget MEMOEDIT() completely
> and use HBEDITOR class directly. It gives much
> better control and all these 110% compatibility
> problems can be easily avoided. MEMOEDIT() in
> Harbour is based on HBEDITOR.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100212/bbe3e7e9/attachment.html
From druzus at acn.waw.pl  Fri Feb 12 18:54:34 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb 12 18:54:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
Message-ID: <20100212235434.GA20802@linux-4bod.home.aster.pl>

On Fri, 12 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Currently hb_itemGetStr*() don't always duplicate 
> the string, which causes the problem. I'd need the 
> simplest way to make the conversion and force 
> duplication. Przemek, if you see this, what do you 
> suggest?

HB_STRUNSHARE()

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Feb 12 19:05:05 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 19:05:17 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <674e4ddd1002121539p5451b43dy775869c85c691851@mail.gmail.com>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
	<04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
	<674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>
	<B49B4B75-E151-4C66-8EFB-773D526E5BF5@syenar.hu>
	<674e4ddd1002121514p39be2264qb4a231ae745d7f13@mail.gmail.com>
	<A46B40EE-CA7D-48B7-96E4-CAB2DA6CCBF7@syenar.hu>
	<674e4ddd1002121539p5451b43dy775869c85c691851@mail.gmail.com>
Message-ID: <11E53F47-C841-46D3-8C3E-8F25704ACBBC@syenar.hu>

Please always compare with plain CA-Clipper 
without local patches, modification, or extra 
libraries. 

415 is Alt+End in CA-Clipper INKEY.CH. You must 
be using an altered version of this header, or 
some other local solution.

Brgds,
Viktor

On 2010 Feb 13, at 00:39, smu johnson wrote:

> For me I do not get Ctrl+End as being the same as CTRL-W.
> 
> ? INKEY(0)
> 
> /*
> CTRL-END 415
> CTRL-W 23
> */
> 
> 
> On Fri, Feb 12, 2010 at 3:26 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> On 2010 Feb 13, at 00:14, smu johnson wrote:
> 
> > Thanks for the hints.  My stuff is closer to working!
> >
> > Another inconsistency I found in MEMOEDIT is the CTRL-END key.  In Harbour, it escapes out.  In clipper, it goes to the bottom right hand section of the memo.
> 
> NG says that Ctlr+W ends editing, and Ctrl+W has
> the same key code as Ctrl+End, so to me it looks
> consistent, I don't know what you experience.
> 
> Anyhow I've fixed Ctrl+End/Esc/Ctrl+W related problems
> at least a dozen times, I'll now leave the rest for
> someone with remaining nerves to waste on this area.
> 
> In general I'd suggest to forget MEMOEDIT() completely
> and use HBEDITOR class directly. It gives much
> better control and all these 110% compatibility
> problems can be easily avoided. MEMOEDIT() in
> Harbour is based on HBEDITOR.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Fri Feb 12 19:07:37 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 12 19:07:46 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <11E53F47-C841-46D3-8C3E-8F25704ACBBC@syenar.hu>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
	<04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
	<674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>
	<B49B4B75-E151-4C66-8EFB-773D526E5BF5@syenar.hu>
	<674e4ddd1002121514p39be2264qb4a231ae745d7f13@mail.gmail.com>
	<A46B40EE-CA7D-48B7-96E4-CAB2DA6CCBF7@syenar.hu>
	<674e4ddd1002121539p5451b43dy775869c85c691851@mail.gmail.com>
	<11E53F47-C841-46D3-8C3E-8F25704ACBBC@syenar.hu>
Message-ID: <674e4ddd1002121607s7e5409cbqc0216a56bf5409e4@mail.gmail.com>

Sorry Viktor, i accidently hit ALT- instead of CTRL.  In my little test, I
see that it is indeed 23. I am sorry to waste your time with that.

One last question if i may...   in order to use the new editor instead of a
MEMOEDIT call, do I need to learn and write a ton of OOP type Clipper syntax
to get this to work?


On Fri, Feb 12, 2010 at 4:05 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Please always compare with plain CA-Clipper
> without local patches, modification, or extra
> libraries.
>
> 415 is Alt+End in CA-Clipper INKEY.CH. You must
> be using an altered version of this header, or
> some other local solution.
>
> Brgds,
> Viktor
>
> On 2010 Feb 13, at 00:39, smu johnson wrote:
>
> > For me I do not get Ctrl+End as being the same as CTRL-W.
> >
> > ? INKEY(0)
> >
> > /*
> > CTRL-END 415
> > CTRL-W 23
> > */
> >
> >
> > On Fri, Feb 12, 2010 at 3:26 PM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
> > On 2010 Feb 13, at 00:14, smu johnson wrote:
> >
> > > Thanks for the hints.  My stuff is closer to working!
> > >
> > > Another inconsistency I found in MEMOEDIT is the CTRL-END key.  In
> Harbour, it escapes out.  In clipper, it goes to the bottom right hand
> section of the memo.
> >
> > NG says that Ctlr+W ends editing, and Ctrl+W has
> > the same key code as Ctrl+End, so to me it looks
> > consistent, I don't know what you experience.
> >
> > Anyhow I've fixed Ctrl+End/Esc/Ctrl+W related problems
> > at least a dozen times, I'll now leave the rest for
> > someone with remaining nerves to waste on this area.
> >
> > In general I'd suggest to forget MEMOEDIT() completely
> > and use HBEDITOR class directly. It gives much
> > better control and all these 110% compatibility
> > problems can be easily avoided. MEMOEDIT() in
> > Harbour is based on HBEDITOR.
> >
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100212/bca96747/attachment.html
From harbour.01 at syenar.hu  Fri Feb 12 19:09:24 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 12 19:09:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <20100212235434.GA20802@linux-4bod.home.aster.pl>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
	<20100212235434.GA20802@linux-4bod.home.aster.pl>
Message-ID: <F57DA48F-8304-45DF-8A3A-F6D7DB69118E@syenar.hu>

Hi Przemek,

On 2010 Feb 13, at 00:54, Przemys?aw Czerpak wrote:

> On Fri, 12 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> Currently hb_itemGetStr*() don't always duplicate 
>> the string, which causes the problem. I'd need the 
>> simplest way to make the conversion and force 
>> duplication. Przemek, if you see this, what do you 
>> suggest?
> 
> HB_STRUNSHARE()

I know about it (already using for raw buffers), but 
how to make the CP conversion when using unshare?

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Feb 12 19:13:59 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 12 19:14:09 2010
Subject: [Harbour] KSETINS() bug, making MEMOEDIT life difficult
In-Reply-To: <674e4ddd1002121607s7e5409cbqc0216a56bf5409e4@mail.gmail.com>
References: <674e4ddd1002121357u177cd089m6584b7b9a424bdd6@mail.gmail.com>
	<04155042-4C30-479C-B12F-69A8E40DF8C4@syenar.hu>
	<674e4ddd1002121439m4cb8a2c9tc443696252c323c5@mail.gmail.com>
	<B49B4B75-E151-4C66-8EFB-773D526E5BF5@syenar.hu>
	<674e4ddd1002121514p39be2264qb4a231ae745d7f13@mail.gmail.com>
	<A46B40EE-CA7D-48B7-96E4-CAB2DA6CCBF7@syenar.hu>
	<674e4ddd1002121539p5451b43dy775869c85c691851@mail.gmail.com>
	<11E53F47-C841-46D3-8C3E-8F25704ACBBC@syenar.hu>
	<674e4ddd1002121607s7e5409cbqc0216a56bf5409e4@mail.gmail.com>
Message-ID: <617BC588-7201-4E35-B7C5-B18C1E8A3D04@syenar.hu>


On 2010 Feb 13, at 01:07, smu johnson wrote:

> Sorry Viktor, i accidently hit ALT- instead of CTRL.  In my little test, I see that it is indeed 23. I am sorry to waste your time with that.
> 
> One last question if i may...   in order to use the new editor instead of a MEMOEDIT call, do I need to learn and write a ton of OOP type Clipper syntax to get this to work?

About the same as when using TBROWSE() or GET().
Check MEMOEDIT() source code to get started, it's 
just a few lines.

BTW HBEDITOR() won't fix actual bugs in the editor 
engine. It's not perfect, as we know it.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Feb 12 19:47:30 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 12 19:47:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <F57DA48F-8304-45DF-8A3A-F6D7DB69118E@syenar.hu>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
	<20100212235434.GA20802@linux-4bod.home.aster.pl>
	<F57DA48F-8304-45DF-8A3A-F6D7DB69118E@syenar.hu>
Message-ID: <6763B774-E2B5-422E-AB75-69DC94383624@syenar.hu>

Forget it, I managed.

Brgds,
Viktor

On 2010 Feb 13, at 01:09, Viktor Szak?ts wrote:

> Hi Przemek,
> 
> On 2010 Feb 13, at 00:54, Przemys?aw Czerpak wrote:
> 
>> On Fri, 12 Feb 2010, Szak?ts Viktor wrote:
>> 
>> Hi,
>> 
>>> Currently hb_itemGetStr*() don't always duplicate 
>>> the string, which causes the problem. I'd need the 
>>> simplest way to make the conversion and force 
>>> duplication. Przemek, if you see this, what do you 
>>> suggest?
>> 
>> HB_STRUNSHARE()
> 
> I know about it (already using for raw buffers), but 
> how to make the CP conversion when using unshare?
> 
> Brgds,
> Viktor
> 

From druzus at acn.waw.pl  Fri Feb 12 19:56:29 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb 12 19:56:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <F57DA48F-8304-45DF-8A3A-F6D7DB69118E@syenar.hu>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
	<20100212235434.GA20802@linux-4bod.home.aster.pl>
	<F57DA48F-8304-45DF-8A3A-F6D7DB69118E@syenar.hu>
Message-ID: <20100213005629.GA6097@linux-4bod.home.aster.pl>

On Sat, 13 Feb 2010, Szak?ts Viktor wrote:

Hi,

> >> Currently hb_itemGetStr*() don't always duplicate 
> >> the string, which causes the problem. I'd need the 
> >> simplest way to make the conversion and force 
> >> duplication. Przemek, if you see this, what do you 
> >> suggest?
> > HB_STRUNSHARE()
> I know about it (already using for raw buffers), but 
> how to make the CP conversion when using unshare?

Sorry but I do not understand what's the problem.
What is wrong with CP conversion made by hb_itemGetStr*()?

best reegards,
Przemek
From harbour.01 at syenar.hu  Fri Feb 12 20:28:48 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 12 20:28:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <20100213005629.GA6097@linux-4bod.home.aster.pl>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
	<20100212235434.GA20802@linux-4bod.home.aster.pl>
	<F57DA48F-8304-45DF-8A3A-F6D7DB69118E@syenar.hu>
	<20100213005629.GA6097@linux-4bod.home.aster.pl>
Message-ID: <F877CB8E-7358-4210-B58C-F0AFC3BDF2E4@syenar.hu>

>>>> Currently hb_itemGetStr*() don't always duplicate 
>>>> the string, which causes the problem. I'd need the 
>>>> simplest way to make the conversion and force 
>>>> duplication. Przemek, if you see this, what do you 
>>>> suggest?
>>> HB_STRUNSHARE()
>> I know about it (already using for raw buffers), but 
>> how to make the CP conversion when using unshare?
> 
> Sorry but I do not understand what's the problem.
> What is wrong with CP conversion made by hb_itemGetStr*()?

I had to find out that I need to chain them and how.

Going mad. It's still not okay. F.e. it doesn't unshare 
empty string created with SPACE(). It does unshare it 
if it's an empty string literal though.

---
HB_SIZE nLen;
const char * s = hb_itemGetStr( pParam, hb_setGetOSCP(), &hString, &nLen );
p = hb_strunshare( &hString, s, nLen );
---

Brgds,
Viktor

From druzus at users.sourceforge.net  Fri Feb 12 20:38:43 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Feb 12 20:38:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13853] trunk/harbour
Message-ID: <E1Ng6y3-00011P-W4@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13853
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13853&view=rev
Author:   druzus
Date:     2010-02-13 01:38:42 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 02:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/hbwin.ch
    + added WIN_OFN_* constants

  * harbour/contrib/hbwin/win_dlg.c
    + added WIN_GETOPENFILENAME( [[@]<nFlags>], [<cTitle>], ;
                                 [<cInitDir>], [<cDefExt>], ;
                                 [<acFilter>], [[@]<nFilterIndex>], ;
                                 [<nBufferSize>] )
      -> <cFilePath> | <cPath> + e"\0" + <cFile1> [ + e"\0" + <cFileN> ] | ""
    + added WIN_GETSAFEFILENAME( [[@]<nFlags>], [<cTitle>], ;
                                 [<cInitDir>], [<cDefExt>], ;
                                 [<acFilter>], [[@]<nFilterIndex>], ;
                                 [<nBufferSize>] )
      -> <cFilePath> | <cPath> + e"\0" + <cFile1> [ + e"\0" + <cFileN> ] | ""

  * harbour/contrib/hbwin/wapi_winbase.c
    * cleaned WAPI_GETSHORTNAME() function parameter to strictly respect
      the following parameters syntax.
         WAPI_GETSHORTPATHNAME( <cLongName> [, @<shortName> [, <nMaxSize> ] ] )
            -> < nShortLenght>
    % eliminate double call to GetShortPathName() in WAPI_GETSHORTNAME()
      when all parameters are given or second one is not passed by reference
    % try to use static buffer to eliminate double call to GetShortPathName()
      when WAPI_GETSHORTNAME() is called without 3-rd parameter

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/win_dlg.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb 12 20:45:04 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb 12 20:45:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <F877CB8E-7358-4210-B58C-F0AFC3BDF2E4@syenar.hu>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
	<20100212235434.GA20802@linux-4bod.home.aster.pl>
	<F57DA48F-8304-45DF-8A3A-F6D7DB69118E@syenar.hu>
	<20100213005629.GA6097@linux-4bod.home.aster.pl>
	<F877CB8E-7358-4210-B58C-F0AFC3BDF2E4@syenar.hu>
Message-ID: <20100213014504.GA11846@linux-4bod.home.aster.pl>

On Sat, 13 Feb 2010, Szak?ts Viktor wrote:

Hi,

> >>>> Currently hb_itemGetStr*() don't always duplicate 
> >>>> the string, which causes the problem. I'd need the 
> >>>> simplest way to make the conversion and force 
> >>>> duplication. Przemek, if you see this, what do you 
> >>>> suggest?
> >>> HB_STRUNSHARE()
> >> I know about it (already using for raw buffers), but 
> >> how to make the CP conversion when using unshare?
> > Sorry but I do not understand what's the problem.
> > What is wrong with CP conversion made by hb_itemGetStr*()?
> I had to find out that I need to chain them and how.
> 
> Going mad. It's still not okay. F.e. it doesn't unshare 
> empty string created with SPACE(). It does unshare it 
> if it's an empty string literal though.

It doesn't unshare 0 length strings only: "" it doesn't
matter how they were created what seems to be correct and
expected behavior, isn't it?

> HB_SIZE nLen;
> const char * s = hb_itemGetStr( pParam, hb_setGetOSCP(), &hString, &nLen );
> p = hb_strunshare( &hString, s, nLen );

Exactly and now 'p' is writable string with 'nLen' characters which
you can change.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Feb 12 20:58:43 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 12 20:58:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <20100213014504.GA11846@linux-4bod.home.aster.pl>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
	<20100212235434.GA20802@linux-4bod.home.aster.pl>
	<F57DA48F-8304-45DF-8A3A-F6D7DB69118E@syenar.hu>
	<20100213005629.GA6097@linux-4bod.home.aster.pl>
	<F877CB8E-7358-4210-B58C-F0AFC3BDF2E4@syenar.hu>
	<20100213014504.GA11846@linux-4bod.home.aster.pl>
Message-ID: <C6CA04A2-9BAF-4E4B-A738-FFFE95E479AD@syenar.hu>

>>>> I know about it (already using for raw buffers), but 
>>>> how to make the CP conversion when using unshare?
>>> Sorry but I do not understand what's the problem.
>>> What is wrong with CP conversion made by hb_itemGetStr*()?
>> I had to find out that I need to chain them and how.
>> 
>> Going mad. It's still not okay. F.e. it doesn't unshare 
>> empty string created with SPACE(). It does unshare it 
>> if it's an empty string literal though.
> 
> It doesn't unshare 0 length strings only: "" it doesn't
> matter how they were created what seems to be correct and
> expected behavior, isn't it?
> 
>> HB_SIZE nLen;
>> const char * s = hb_itemGetStr( pParam, hb_setGetOSCP(), &hString, &nLen );
>> p = hb_strunshare( &hString, s, nLen );
> 
> Exactly and now 'p' is writable string with 'nLen' characters which
> you can change.

It doesn't seem so. In win_dll.c it will still let the callee 
overwrite the item string buffer since: p == hb_itemGetCPtr( pParam ))
At least where cData is initialized using SPACE(), in test_dll.prg. 
(maybe the rules is something else, but that was the closest 
I can come up with this time).

Anyway, I'm trying to figure it out since 6 hours, so I give 
it up now and let it corrupt memory :(

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Fri Feb 12 22:00:33 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb 12 22:00:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13854] trunk/harbour
Message-ID: <E1Ng8FF-0008LN-PQ@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13854
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13854&view=rev
Author:   vouchcac
Date:     2010-02-13 03:00:31 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-12 18:41 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/qt45.qtp
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_garbage.h
  * contrib/hbqt/hbqt_hbslots.cpp
  * contrib/hbqt/qtgui/filelist.mk
  + contrib/hbqt/qtgui/QPlainTextDocumentLayout.cpp
  + contrib/hbqt/qtgui/TQPlainTextDocumentLayout.prg
  + contrib/hbqt/qth/QPlainTextDocumentLayout.qth
    + Added one more class.

  + contrib/hbide/resources/skeletons.ui
  + contrib/hbide/resources/skeletons.uic
    + Added widget definition to hold user input for "code skeletons".

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/idesaveload.prg
  * contrib/hbide/idesources.prg
  * contrib/hbide/idethemes.prg
    + Prepared to fetch "Code Skeletons" from the user which will be 
      made available to be inserted into the source being edited. 
      To have a preview as to what will go inside the implementation,
      click on "{}" icon on the toolbar.
        
    ! Fixed not to load whole document and highlight when hbIDE is 
      terminated. This reduces termination time to bare minimum.
    
    + Implemented "Convert Single Quotes to Double" and its reverse,
      accessible from <Edit><Block...> main-menu options. First select the 
      part of the source you want to apply these options, then click
      on relevant menu option. A toolbar implementation will be better
      which I am looking into how it can be presented in an aesthetic way.

    ! Fixed many more artifacts.

    ; NOTE: Regression is possible, please report issues, if any.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/idesources.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
    trunk/harbour/contrib/hbqt/qtgui/filelist.mk

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/skeletons.ui
    trunk/harbour/contrib/hbide/resources/skeletons.uic
    trunk/harbour/contrib/hbqt/qtgui/QPlainTextDocumentLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQPlainTextDocumentLayout.prg
    trunk/harbour/contrib/hbqt/qth/QPlainTextDocumentLayout.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Fri Feb 12 23:22:57 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 12 23:23:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>	<4B756BAF.2090800@gmail.com>	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
Message-ID: <4B762921.9070205@gmail.com>

Hi Viktor,

> Should be fixed now. (Though for me only one of them
> gave warning, pls tell if it's still wrong).

Yes you're right.
I'm sorry, I do too many things on automatic and not is good. :)

> I see what you mean. I don't know the most optimal way
> to solve that.         ...

Look at the patch if it can help you, only win32.

> Actually, such function could be written as .prg
> code by anyone. Now the low-level logic is there,
> [ ... ]

Ok. I see, it's nice.

Best regards,
Xavi

-------------- next part --------------
Index: win_dll.c
===================================================================
--- win_dll.c	(revision 13852)
+++ win_dll.c	(working copy)
@@ -249,6 +249,7 @@
    int         iFirst;
    int *       piArgTypeReq;
    int *       piArgType;
+   PHB_ITEM *  pItmCpy;
    HB_WINARG * pArg;
 } HB_WINCALL, * PHB_WINCALL;
 
@@ -846,24 +847,28 @@
 
          if( iParams )
          {
+            wcall.pItmCpy = ( PHB_ITEM * ) hb_xgrab( iParams * sizeof( PHB_ITEM ) );
             wcall.pArg = ( HB_WINARG * ) hb_xgrab( iParams * sizeof( HB_WINARG ) );
             wcall.piArgType = ( int * ) hb_xgrab( iParams * sizeof( int ) );
             memset( wcall.pArg, 0, iParams * sizeof( HB_WINARG ) );
          }
          else
          {
+            wcall.pItmCpy = NULL;
             wcall.pArg = NULL;
             wcall.piArgType = NULL;
          }
 
          for( tmp = 0; tmp < iParams; ++tmp )
          {
-            PHB_ITEM pParam = hb_param( iFirst + tmp, HB_IT_ANY );
+            PHB_ITEM pParam;
 
             HB_U32 r1 = 0;
             HB_U32 r2;
             HB_BOOL b64;
 
+            hb_itemCopy( pParam = hb_itemNew( NULL ), hb_param( iFirst + tmp, HB_IT_ANY ) );
+            wcall.pItmCpy[ tmp ] = hb_itemUnShare( pParam );
             wcall.piArgType[ tmp ] = wcall.piArgTypeReq ? wcall.piArgTypeReq[ tmp ] : HB_WIN_DLL_CTYPE_DEFAULT;
 
             if( wcall.piArgType[ tmp ] == HB_WIN_DLL_CTYPE_DEFAULT )
@@ -1329,8 +1334,14 @@
          }
 
          for( tmp = 0; tmp < iParams; ++tmp )
+         {
+            hb_itemRelease( wcall.pItmCpy[ tmp ] );
             hb_strfree( wcall.pArg[ tmp ].hString );
+         }
 
+         if( wcall.pItmCpy )
+            hb_xfree( wcall.pItmCpy );
+
          if( wcall.pArg )
             hb_xfree( wcall.pArg );
 
From harbour.01 at syenar.hu  Sat Feb 13 04:33:13 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 13 04:33:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <4B762921.9070205@gmail.com>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>	<4B756BAF.2090800@gmail.com>	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
	<4B762921.9070205@gmail.com>
Message-ID: <EA8847E5-241E-4090-A999-EB56CD9CD486@syenar.hu>

Thanks Xavi.

I wonder though: How to solve so that we don't copy all 
complete items to achieve similar results? I prefer not 
to keep Harbour items in C structures if possible.

Brgds,
Viktor

On 2010 Feb 13, at 05:22, Xavi wrote:

> Hi Viktor,
> 
>> Should be fixed now. (Though for me only one of them
>> gave warning, pls tell if it's still wrong).
> 
> Yes you're right.
> I'm sorry, I do too many things on automatic and not is good. :)
> 
>> I see what you mean. I don't know the most optimal way
>> to solve that.         ...
> 
> Look at the patch if it can help you, only win32.
> 
>> Actually, such function could be written as .prg
>> code by anyone. Now the low-level logic is there,
>> [ ... ]
> 
> Ok. I see, it's nice.
> 
> Best regards,
> Xavi
> 
> <win_dll.patch>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Feb 13 04:33:22 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 13 04:33:45 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <1266000629036-4562819.post@n2.nabble.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com> 
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com> 
	<1266000629036-4562819.post@n2.nabble.com>
Message-ID: <609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>

Done
here is updated incremental guide for hbide
  http://harbourlanguage.blogspot.com/
asap i remove hbmk2 from my hbide ready to use distribution

Please made any comment is welcome

2010/2/12 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
> Massimo Belgrano wrote:
>>
>>> Also bottom output panel must not be shown all the time, only when it
>>> has output result. For better vies you can adjust the width and/or height
>>> of the the docking widgets.
>>>
>>>
>> Can you post a sample to help me undestrand?
>>
>
> See 2nd image which has "Output Console" blank and visible.
> Switch it off. Or you do not know how to switch off ?
>
>
>
> -----
> ? ? ? ? ? ? ? ? enjoy hbIDEing...
> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4562819.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sat Feb 13 04:36:04 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 13 04:36:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <EA8847E5-241E-4090-A999-EB56CD9CD486@syenar.hu>
References: <E1Nftfr-0007ac-9K@sfp-svn-5.v30.ch3.sourceforge.com>	<4B756BAF.2090800@gmail.com>	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
	<4B762921.9070205@gmail.com>
	<EA8847E5-241E-4090-A999-EB56CD9CD486@syenar.hu>
Message-ID: <CE58460F-3A97-4ED2-BD48-9C31F9565906@syenar.hu>

> Thanks Xavi.
> 
> I wonder though: How to solve so that we don't copy all 
> complete items to achieve similar results? I prefer not 
> to keep Harbour items in C structures if possible.

To be precise: How to solve it ideally. Without doing 
all the manual memcpy() and hb_cdp*() calls, but using 
some sort of standard API solution...

That's the question.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Feb 13 05:30:16 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 05:30:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13855] trunk/harbour
Message-ID: <E1NgFGS-0007Qb-Op@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13855
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13855&view=rev
Author:   vszakats
Date:     2010-02-13 10:30:15 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 11:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    % Optimization steps.
    * Syncing between win64/win32 sections.

  * contrib/hbwin/tests/testdll.prg
    + Added new tests, but they GPF due to corrupted internals, 
      so they are commented for now.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 13 05:42:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 05:42:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13856] trunk/harbour
Message-ID: <E1NgFSO-0007fu-Ah@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13856
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13856&view=rev
Author:   vszakats
Date:     2010-02-13 10:42:35 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 11:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wapi_winbase.c
    + Added WAPI_GETLONGPATHNAME() (same code as the short version)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Feb 13 06:25:01 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 13 06:25:30 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com> 
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com> 
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>
Message-ID: <609353e71002130325p25f6d903l5b69892e52525d74@mail.gmail.com>

can i create project file indipendent from location project directory?
i have project created for c:\harbour\contrib\hbide and not run in
c:\harbour\hbide

2010/2/13 Massimo Belgrano <mbelgrano@deltain.it>:
> Done
> here is updated incremental guide for hbide
> ?http://harbourlanguage.blogspot.com/
> asap i remove hbmk2 from my hbide ready to use distribution
>
> Please made any comment is welcome
>
> 2010/2/12 Pritpal Bedi <bedipritpal@hotmail.com>:
>>
>>
>> Massimo Belgrano wrote:
>>>
>>>> Also bottom output panel must not be shown all the time, only when it
>>>> has output result. For better vies you can adjust the width and/or height
>>>> of the the docking widgets.
>>>>
>>>>
>>> Can you post a sample to help me undestrand?
>>>
>>
>> See 2nd image which has "Output Console" blank and visible.
>> Switch it off. Or you do not know how to switch off ?
>>
>>
>>
>> -----
>> ? ? ? ? ? ? ? ? enjoy hbIDEing...
>> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
>> _a_student_of_software_analysis_&_design_
>> --
>> View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4562819.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Sat Feb 13 06:33:15 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Feb 13 06:33:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13850] trunk/harbour
In-Reply-To: <C6CA04A2-9BAF-4E4B-A738-FFFE95E479AD@syenar.hu>
References: <4B756BAF.2090800@gmail.com>
	<5E1D23AB-C4F9-4141-AA85-DC0199B7CC27@syenar.hu>
	<4B7584F2.5090202@gmail.com>
	<145E8025-1589-4ABD-8711-89CB808A3E5C@syenar.hu>
	<20100212235434.GA20802@linux-4bod.home.aster.pl>
	<F57DA48F-8304-45DF-8A3A-F6D7DB69118E@syenar.hu>
	<20100213005629.GA6097@linux-4bod.home.aster.pl>
	<F877CB8E-7358-4210-B58C-F0AFC3BDF2E4@syenar.hu>
	<20100213014504.GA11846@linux-4bod.home.aster.pl>
	<C6CA04A2-9BAF-4E4B-A738-FFFE95E479AD@syenar.hu>
Message-ID: <20100213113315.GA15077@linux-4bod.home.aster.pl>

On Sat, 13 Feb 2010, Szak?ts Viktor wrote:

Hi,

> >> HB_SIZE nLen;
> >> const char * s = hb_itemGetStr( pParam, hb_setGetOSCP(), &hString, &nLen );
> >> p = hb_strunshare( &hString, s, nLen );
> > Exactly and now 'p' is writable string with 'nLen' characters which
> > you can change.
> It doesn't seem so. In win_dll.c it will still let the callee 
> overwrite the item string buffer since: p == hb_itemGetCPtr( pParam ))
> At least where cData is initialized using SPACE(), in test_dll.prg. 
> (maybe the rules is something else, but that was the closest 
> I can come up with this time).

There is bug in hb_[w]strunshare() functions - they do not clone writable
buffers shared by two or more different objects or items.
I'll fix it in a while.

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Feb 13 06:36:12 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Feb 13 06:36:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13857] trunk/harbour
Message-ID: <E1NgGIG-0001WY-LN@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13857
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13857&view=rev
Author:   druzus
Date:     2010-02-13 11:36:11 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 12:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/strapi.c
    ! fixed  hb_[w]strunshare() functions to always clone writable
      buffers shared by two or more different objects or items.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/strapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Feb 13 06:44:31 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 13 06:44:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13858] trunk/harbour
Message-ID: <E1NgGQJ-000527-SU@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13858
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13858&view=rev
Author:   vouchcac
Date:     2010-02-13 11:44:30 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 03:07 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h
  * contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
  * contrib/hbqt/qtgui/THBQPlainTextEdit.prg
  * contrib/hbqt/qth/HBQPlainTextEdit.qth

  * contrib/hbide/resources/skeletons.ui
  * contrib/hbide/resources/skeletons.uic

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/idesaveload.prg

    + Implemented "Invert Case" feature.

    % All operations applied on selected text do not remove selections.
      However "undo/redo" does not respect selections.

    + Added <Docks> main-menu option which presents toggling feature
      for all implemented docked windows. It facilitates clubbing
      all toggle actions at one convenient place.

    + Implemented "Code Skeletons". 
        How to write
        ============
          * Click <Docks> main-menu option and select <Code Skeletons>.
          * "Code Skeletons" window will open at the right-docking area.
          * Close other docks if open to make room for its components.
          * Click <Add New> button, a dialog will appear requesting a "Name".
          * Enter recognizable name for this skeleton, i.e., "DO CASE 3", 
            where "3" will represent that this case statement contains 3
            iterations of CASE statement. It is just an example, follow 
            your way of recognitions.
          * After you click <ok> the name will appear in "Identity" list-box.
          * Start writing in "Code Snippet" editor, like:
              DO CASE
              CASE x == 
              CASE x ==
              CASE x ==
              ENDCASE
          * After you are done with it, click <Update>.
          * Repeat the process for some other skeletons.
          * Do not forget to click <Update> even after slightest modification.
            This will ensure that your skeleton is always in order.
          * If you wish to change the name, click on that "Name" in 
            "Identity" list-box and click <Rename>, follow next process.
            Click <Update> to save permanently.
          * <Delete> is not working yet.
          * Navigate the skeletons by clicking on the prompts; you will
            find the attached code in the editor below.

        How to Call
        ===========
          * While in the editor tab, position your editing cursor at 
            desired column.
          * Press Ctrl+K, a context menu will appear near left-upper part
            of the editing tab containing all skeletons you wrote.
          * Use arrow-up/down keys to desired skeleton and press <Enter>.
          * The code skeleton will be inserted in the source aligned 
            to the column you started with. The cursor will be anchored
            on the same place.
          * Alternativly you can use mouse, but keyboard navigation is 
            simple in this context.
          * Note that alignment and indent of inserted code skeleton is 
            perfect to starting column.

        Note: Your suggessions are welcome to enhance this feature.         

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/resources/skeletons.ui
    trunk/harbour/contrib/hbide/resources/skeletons.uic
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Sat Feb 13 06:49:25 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sat Feb 13 06:49:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13853] trunk/harbour
In-Reply-To: <E1Ng6y3-00011P-W4@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1Ng6y3-00011P-W4@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <531d7a751002130349h1ed2a658qb44125c548a2c73c@mail.gmail.com>

Hi!

> ?* harbour/contrib/hbwin/win_dlg.c
> ? ?+ added WIN_GETOPENFILENAME( [[@]<nFlags>], [<cTitle>], ;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<cInitDir>], [<cDefExt>], ;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<acFilter>], [[@]<nFilterIndex>], ;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<nBufferSize>] )
> ? ? ?-> <cFilePath> | <cPath> + e"\0" + <cFile1> [ + e"\0" + <cFileN> ] | ""
> ? ?+ added WIN_GETSAFEFILENAME( [[@]<nFlags>], [<cTitle>], ;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<cInitDir>], [<cDefExt>], ;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<acFilter>], [[@]<nFilterIndex>], ;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<nBufferSize>] )
> ? ? ?-> <cFilePath> | <cPath> + e"\0" + <cFile1> [ + e"\0" + <cFileN> ] | ""

Great! Only one detail I noticed: the correct name of the function
would WIN_GETSAVEFILENAME ()?

Regards,
Vailton Renato
From druzus at acn.waw.pl  Sat Feb 13 07:10:07 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Feb 13 07:10:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13853] trunk/harbour
In-Reply-To: <531d7a751002130349h1ed2a658qb44125c548a2c73c@mail.gmail.com>
References: <E1Ng6y3-00011P-W4@sfp-svn-4.v30.ch3.sourceforge.com>
	<531d7a751002130349h1ed2a658qb44125c548a2c73c@mail.gmail.com>
Message-ID: <20100213121006.GA15841@linux-4bod.home.aster.pl>

On Sat, 13 Feb 2010, Vailton Renato wrote:

Hi!

> > ?* harbour/contrib/hbwin/win_dlg.c
> > ? ?+ added WIN_GETOPENFILENAME( [[@]<nFlags>], [<cTitle>], ;
> > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<cInitDir>], [<cDefExt>], ;
> > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<acFilter>], [[@]<nFilterIndex>], ;
> > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<nBufferSize>] )
> > ? ? ?-> <cFilePath> | <cPath> + e"\0" + <cFile1> [ + e"\0" + <cFileN> ] | ""
> > ? ?+ added WIN_GETSAFEFILENAME( [[@]<nFlags>], [<cTitle>], ;
> > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<cInitDir>], [<cDefExt>], ;
> > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<acFilter>], [[@]<nFilterIndex>], ;
> > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? [<nBufferSize>] )
> > ? ? ?-> <cFilePath> | <cPath> + e"\0" + <cFile1> [ + e"\0" + <cFileN> ] | ""
> Great! Only one detail I noticed: the correct name of the function
> would WIN_GETSAVEFILENAME ()?

Ups, Thank you for the info. Fortunately it was only typo in ChangeLog
entry. I'll fix it in next commit. The real function name is of course
WIN_GETSAVEFILENAME():

   WIN_GETSAVEFILENAME( [[@]<nFlags>], [<cTitle>], ;
    ? ? ? ? ? ? ? ? ? ? [<cInitDir>], [<cDefExt>], ;
    ? ? ? ? ? ? ? ? ? ? [<acFilter>], [[@]<nFilterIndex>], ;
    ? ? ? ? ? ? ? ? ? ? [<nBufferSize>] )
      -> <cFilePath> | <cPath> + e"\0" + <cFile1> [ + e"\0" + <cFileN> ] | ""

And a note about <acFilter>. It can be in one of the following forms:
1. raw like in C Get*FileName() functions:
   <cName1> + e"\0" + <cWild1> [ + e"\0" + <cNameN> + e"\0" + <cWildN> ]
   [ + e"\0" [ + e"\0" ] ]
2. array of wildcards:
   { <cWild1> [, <cWildN> ] }
3. array of arrays with names and wildcards:
   { { <cName1>, <cWild1> } [, { <cNameN>, <cWildN> } ] }
The default OFN flags are:
   OFN_EXPLORER | OFN_ALLOWMULTISELECT | OFN_HIDEREADONLY

I'll probably add support also for other standard dialogs.

BTW. Viktor I would like to add HWND handler as optional
1-st parameter to above functions but I think it should be
the same in all dialog functions so can I make the same with
WIN_PRINTDLGDC()?

best regards,
Przemek
From vszakats at users.sourceforge.net  Sat Feb 13 07:12:39 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 07:12:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13859] trunk/harbour
Message-ID: <E1NgGrX-00052F-4H@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13859
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13859&view=rev
Author:   vszakats
Date:     2010-02-13 12:12:35 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 13:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    ! Fixed to unshare all HVM strings before passing them to callee.

  * contrib/hbwin/tests/testdll.prg
    ! Deleted two commented test call, which corrupted memory anyway 
      due to too small buffer passed to low-level function.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 13 07:16:36 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 13 07:16:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13853] trunk/harbour
In-Reply-To: <20100213121006.GA15841@linux-4bod.home.aster.pl>
References: <E1Ng6y3-00011P-W4@sfp-svn-4.v30.ch3.sourceforge.com>
	<531d7a751002130349h1ed2a658qb44125c548a2c73c@mail.gmail.com>
	<20100213121006.GA15841@linux-4bod.home.aster.pl>
Message-ID: <FE521A6A-06CF-47D9-8D4B-6A3500F588D0@syenar.hu>

Hi Przemek,

[...]
>   { <cWild1> [, <cWildN> ] }
> 3. array of arrays with names and wildcards:
>   { { <cName1>, <cWild1> } [, { <cNameN>, <cWildN> } ] }
> The default OFN flags are:
>   OFN_EXPLORER | OFN_ALLOWMULTISELECT | OFN_HIDEREADONLY
> 
> I'll probably add support also for other standard dialogs.
> 
> BTW. Viktor I would like to add HWND handler as optional
> 1-st parameter to above functions but I think it should be
> the same in all dialog functions so can I make the same with
> WIN_PRINTDLGDC()?

Of course, good idea.

[ I finally didn't use this function in my console app, 
to not cut off myself from moving it to server once, 
plus its behavior was not very user-friendly when using 
GTWIN. Though maybe this one is easy to solve by simply 
dropping GTWIN on app side. ]

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Feb 13 07:37:20 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 07:37:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13860] trunk/harbour
Message-ID: <E1NgHFQ-0005cP-6m@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13860
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13860&view=rev
Author:   vszakats
Date:     2010-02-13 12:37:19 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 13:36 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    % Optimization to parameter type storage.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 13 07:53:29 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 07:53:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13861] trunk/harbour
Message-ID: <E1NgHV3-00062l-Ft@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13861
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13861&view=rev
Author:   vszakats
Date:     2010-02-13 12:53:24 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 13:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    % Further simplification of internal structures.
    + Added provisions to control UNICODE conversion on a per argument basis.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sat Feb 13 08:15:52 2010
From: jarabal at gmail.com (Xavi)
Date: Sat Feb 13 08:16:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13856] trunk/harbour
In-Reply-To: <E1NgFSO-0007fu-Ah@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NgFSO-0007fu-Ah@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <4B76A608.2090205@gmail.com>

Thanks Viktor,

IMHO before we need to know how to set the minimum version of Windows.
Usually this is done by defining in the final project _WIN32_WINNT.
So the code would look something like this .-

...

#if ( _WIN32_WINNT >= 0x0500 ) && ! defined( HB_OS_WIN_CE )
#  define HBDI_L_FGPN( p1, p2, p3 ) GetLongPathName( p1, p2, p3 )
#  define HBDI_S_FGPN( p1, p2, p3 ) GetShortPathName( p1, p2, p3 )
#else
#  define HBDI_L_FGPN( p1, p2, p3 ) GetShortPathName( p1, p2, p3 )
#  define HBDI_S_FGPN( p1, p2, p3 ) GetShortPathName( p1, p2, p3 )
#endif

static DWORD hbi_GetShortLongPathName( HB_BOOL bLong )
{
    void * hPath;
    DWORD length = 0;
    LPCTSTR lpszInPath = HB_PARSTR( 1, &hPath, NULL );

    if( lpszInPath )
    {
       if( HB_ISBYREF( 2 ) )
       {
          TCHAR buffer[ HB_PATH_MAX ];
          DWORD cchBuffer = ( DWORD ) HB_SIZEOFARRAY( buffer );
          LPTSTR lpszOutPath = buffer;
          HB_BOOL fSize = HB_ISNUM( 3 );

          if( fSize ) /* size fixed by user */
          {
             cchBuffer = ( DWORD ) hb_parnl( 3 );
             if( cchBuffer == 0 )
                lpszOutPath = NULL;
             else if( cchBuffer > ( DWORD ) HB_SIZEOFARRAY( buffer ) )
                lpszOutPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
          }

          length = bLong ? HBDI_L_FGPN( lpszInPath, lpszOutPath, cchBuffer ) :
                           HBDI_S_FGPN( lpszInPath, lpszOutPath, cchBuffer ) ;

          if( !fSize && length > cchBuffer )  /* default buffer size was too small */
          {
             cchBuffer = length;
             lpszOutPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );

             length = bLong ? HBDI_L_FGPN( lpszInPath, lpszOutPath, cchBuffer ) :
                              HBDI_S_FGPN( lpszInPath, lpszOutPath, cchBuffer ) ;
          }
          hbwapi_SetLastError( GetLastError() );
          HB_STORSTRLEN( lpszOutPath, length > cchBuffer ? 0 : length, 2 );

          if( lpszOutPath && lpszOutPath != buffer )
             hb_xfree( lpszOutPath );
       }
       else
       {
          length = bLong ? HBDI_L_FGPN( lpszInPath, NULL, 0 ) :
                           HBDI_S_FGPN( lpszInPath, NULL, 0 ) ;

          hbwapi_SetLastError( GetLastError() );
       }
    }
    hb_strfree( hPath );
    return length;
}

HB_FUNC( WAPI_GETLONGPATHNAME )
{
#if ( _WIN32_WINNT >= 0x0500 ) && ! defined( HB_OS_WIN_CE )
    hb_retnl( hbi_GetShortLongPathName( HB_TRUE ) );
#else
    hbwapi_SetLastError( ERROR_INVALID_FUNCTION );
    hb_retnl( 0 );
#endif
}

HB_FUNC( WAPI_GETSHORTPATHNAME )
{
    hbi_GetShortLongPathName( HB_FALSE );
}

...

I think we can not fix this definition inside Harbor should be passed by the user.
What do you think about this?

Best regards,
Xavi
From harbour.01 at syenar.hu  Sat Feb 13 08:56:52 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 13 08:57:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13856] trunk/harbour
In-Reply-To: <4B76A608.2090205@gmail.com>
References: <E1NgFSO-0007fu-Ah@sfp-svn-5.v30.ch3.sourceforge.com>
	<4B76A608.2090205@gmail.com>
Message-ID: <4928F7E9-9C63-4A43-9955-D7FDDC17542A@syenar.hu>

Hi Xavi,

Another method, and this is what we use consistently 
in Harbour, is to #define _WIN32_WINNT to 0x0500.

Though probably we should rather use GetProcAddress() 
for GetLongPathName() to not break apps running on 
older Windows versions.

Brgds,
Viktor

On 2010 Feb 13, at 14:15, Xavi wrote:

> Thanks Viktor,
> 
> IMHO before we need to know how to set the minimum version of Windows.
> Usually this is done by defining in the final project _WIN32_WINNT.
> So the code would look something like this .-
> 
> ...
> 
> #if ( _WIN32_WINNT >= 0x0500 ) && ! defined( HB_OS_WIN_CE )
> #  define HBDI_L_FGPN( p1, p2, p3 ) GetLongPathName( p1, p2, p3 )
> #  define HBDI_S_FGPN( p1, p2, p3 ) GetShortPathName( p1, p2, p3 )
> #else
> #  define HBDI_L_FGPN( p1, p2, p3 ) GetShortPathName( p1, p2, p3 )
> #  define HBDI_S_FGPN( p1, p2, p3 ) GetShortPathName( p1, p2, p3 )
> #endif
> 
> static DWORD hbi_GetShortLongPathName( HB_BOOL bLong )
> {
>   void * hPath;
>   DWORD length = 0;
>   LPCTSTR lpszInPath = HB_PARSTR( 1, &hPath, NULL );
> 
>   if( lpszInPath )
>   {
>      if( HB_ISBYREF( 2 ) )
>      {
>         TCHAR buffer[ HB_PATH_MAX ];
>         DWORD cchBuffer = ( DWORD ) HB_SIZEOFARRAY( buffer );
>         LPTSTR lpszOutPath = buffer;
>         HB_BOOL fSize = HB_ISNUM( 3 );
> 
>         if( fSize ) /* size fixed by user */
>         {
>            cchBuffer = ( DWORD ) hb_parnl( 3 );
>            if( cchBuffer == 0 )
>               lpszOutPath = NULL;
>            else if( cchBuffer > ( DWORD ) HB_SIZEOFARRAY( buffer ) )
>               lpszOutPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
>         }
> 
>         length = bLong ? HBDI_L_FGPN( lpszInPath, lpszOutPath, cchBuffer ) :
>                          HBDI_S_FGPN( lpszInPath, lpszOutPath, cchBuffer ) ;
> 
>         if( !fSize && length > cchBuffer )  /* default buffer size was too small */
>         {
>            cchBuffer = length;
>            lpszOutPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
> 
>            length = bLong ? HBDI_L_FGPN( lpszInPath, lpszOutPath, cchBuffer ) :
>                             HBDI_S_FGPN( lpszInPath, lpszOutPath, cchBuffer ) ;
>         }
>         hbwapi_SetLastError( GetLastError() );
>         HB_STORSTRLEN( lpszOutPath, length > cchBuffer ? 0 : length, 2 );
> 
>         if( lpszOutPath && lpszOutPath != buffer )
>            hb_xfree( lpszOutPath );
>      }
>      else
>      {
>         length = bLong ? HBDI_L_FGPN( lpszInPath, NULL, 0 ) :
>                          HBDI_S_FGPN( lpszInPath, NULL, 0 ) ;
> 
>         hbwapi_SetLastError( GetLastError() );
>      }
>   }
>   hb_strfree( hPath );
>   return length;
> }
> 
> HB_FUNC( WAPI_GETLONGPATHNAME )
> {
> #if ( _WIN32_WINNT >= 0x0500 ) && ! defined( HB_OS_WIN_CE )
>   hb_retnl( hbi_GetShortLongPathName( HB_TRUE ) );
> #else
>   hbwapi_SetLastError( ERROR_INVALID_FUNCTION );
>   hb_retnl( 0 );
> #endif
> }
> 
> HB_FUNC( WAPI_GETSHORTPATHNAME )
> {
>   hbi_GetShortLongPathName( HB_FALSE );
> }
> 
> ...
> 
> I think we can not fix this definition inside Harbor should be passed by the user.
> What do you think about this?
> 
> Best regards,
> Xavi
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From qiinfo at ig.com.br  Sat Feb 13 09:22:33 2010
From: qiinfo at ig.com.br (Rossine)
Date: Sat Feb 13 09:22:40 2010
Subject: [Harbour] Sending SMS
In-Reply-To: <1475048371.20100212214746@tlen.pl>
References: <27568201.post@talk.nabble.com> <1475048371.20100212214746@tlen.pl>
Message-ID: <27575433.post@talk.nabble.com>


Hello Jaroslaw,


Jaros?aw K?dzio?a wrote:
> 
> Local cPort := "\\.\COM28"
> Local phone_number := '123456789'
> Local sms_text := 'This is SMS'
> 
> sms_Send( cPort, phone_number , sms_text , .T. )
> 

When trying to use the ports COM1 or COM3 is returned -3, to use COM2 me is
returned .F.

What can be wrong ? I have to have some program installed on a door ?

Thank you all for responding :)

Best regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Sending-SMS-tp27568201p27575433.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Sat Feb 13 09:34:56 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Feb 13 09:35:05 2010
Subject: [Harbour] Functions disabled by HB_OS_WIN_CE macro
Message-ID: <20100213143455.GA4462@linux-4bod.home.aster.pl>

Hi Viktor,

I have a question about using HB_OS_WIN_CE macro in HBWIN library.
As I can see many functions are disabled and sometimes even such
basic ones like GetProcAddress() which for sure exists in WinCE.
So my question is why this macro was used?

If you only had not time to update some code for WinCE builds
then please at least leave a not about it or add iTODO warning.
Now seems that we have to verify all
   #if [!] defined( HB_OS_WIN_CE )
conditional compilation macros and mark the ones which cannot be
implemented due to limited WinCE API and the ones which can be
implemented but so far we had no time for it.

Current behavior is also very confusing for final users because .prg
code can be cleanly compiled and linked but it will not work due to
dummy functions in WinCE builds.
Usually when the code can be at least compiled with WinCE header
files though it will not work due to missing functions in standard
libraries then I'd suggest to enable such code in WinCE builds
(in separate files of course to not create dependencies which
break other functions) because link time errors can greatly help
to early detect the problems and if possible use some 3-rd party
libraries giving missing functions like console or printing
libraries for WinCE.

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Feb 13 09:54:51 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 13 09:55:02 2010
Subject: [Harbour] Functions disabled by HB_OS_WIN_CE macro
In-Reply-To: <20100213143455.GA4462@linux-4bod.home.aster.pl>
References: <20100213143455.GA4462@linux-4bod.home.aster.pl>
Message-ID: <F1595771-F513-423A-B059-E23F29FB0040@syenar.hu>

Hi Przemek,

> I have a question about using HB_OS_WIN_CE macro in HBWIN library.
> As I can see many functions are disabled and sometimes even such
> basic ones like GetProcAddress() which for sure exists in WinCE.
> So my question is why this macro was used?

I didn't verify this specific case in change history, 
but I'd guess it once appeared as error when testing 
some WinCE builds, and it was simply guarded off.

> If you only had not time to update some code for WinCE builds
> then please at least leave a not about it or add iTODO warning.
> Now seems that we have to verify all
>   #if [!] defined( HB_OS_WIN_CE )
> conditional compilation macros and mark the ones which cannot be
> implemented due to limited WinCE API and the ones which can be
> implemented but so far we had no time for it.

Such guard in most cases is equivalent to "further 
check needed for WinCE". Unfortunately the topic 
is wide and very time consuming, so there was no 
precise research made for every function, ever 
committed to hbwin.

> Current behavior is also very confusing for final users because .prg
> code can be cleanly compiled and linked but it will not work due to
> dummy functions in WinCE builds.

Here the general approach in all contribs is to always 
defined .prg level wrappers, and return error (value or 
RTE) when they are not available in low-level layer. 
Or we can emulate the missing feature, like we do in 
hbwince.c.

I think we should keep this behavior, since for .prg 
level function is better to not pass over the whole 
ugliness of low-level WinCE programming, plus .prg 
code doesn't really have the tools to verify the exact 
low-level details (compiler version, API version, etc).

> Usually when the code can be at least compiled with WinCE header
> files though it will not work due to missing functions in standard
> libraries then I'd suggest to enable such code in WinCE builds
> (in separate files of course to not create dependencies which
> break other functions) because link time errors can greatly help
> to early detect the problems and if possible use some 3-rd party
> libraries giving missing functions like console or printing
> libraries for WinCE.

It's good, but very time consuming since it needs test apps 
for every function in question, for every WinCE compiler (+ version) 
to verify link errors. It can only be done by real WinCE 
programmers. Maybe some test tools could be built to more easily 
verify it, f.e. a hbwinext.ch which pulls all hbwin functions, 
and a test app which does nothing but tries to link everything.
But even this should be built automatically to give us desired 
results.

One more related issue: I noticed in MSDN documentation 
that several WinAPI calls will set LastError on WinCE, 
but no such thing is signaled by non-WinCE docs. This is 
one issue I didn't invest huge amount of time when creating 
GDI wrappers f.e., but maybe it may be interesting for WinCE 
users.

Brgds,
Viktor

From druzus at users.sourceforge.net  Sat Feb 13 09:57:11 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Feb 13 09:57:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13862] trunk/harbour
Message-ID: <E1NgJQl-00040W-GA@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13862
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13862&view=rev
Author:   druzus
Date:     2010-02-13 14:57:10 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 15:57 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
    ! fixed typo

  * harbour/contrib/hbwin/wapi_winbase.c
    ! fixed WAPI_GETLONGPATHNAME() to compile and work with older header
      files and windows versions. When GetLongPathName() is not available
      then this function is redirected to GetShortPathName()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sat Feb 13 09:59:16 2010
From: jarabal at gmail.com (Xavi)
Date: Sat Feb 13 09:59:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13856] trunk/harbour
In-Reply-To: <4928F7E9-9C63-4A43-9955-D7FDDC17542A@syenar.hu>
References: <E1NgFSO-0007fu-Ah@sfp-svn-5.v30.ch3.sourceforge.com>	<4B76A608.2090205@gmail.com>
	<4928F7E9-9C63-4A43-9955-D7FDDC17542A@syenar.hu>
Message-ID: <4B76BE44.3080507@gmail.com>

Hi Viktor,

> Another method, and this is what we use consistently
> in Harbour, is to #define _WIN32_WINNT to 0x0500.

IMHO this is not good because we may incorporate, now or in the future, functionality of XP, W7 ...

> Though probably we should rather use GetProcAddress()
> for GetLongPathName() to not break apps running on
> older Windows versions.

It's more slower and broken the reports of dependences because is called (anonymous) dynamic.
It's nice for something occasional but not for a wrapper to OS API, IMO.

Best regards,
Xavi
From kadziola at tlen.pl  Sat Feb 13 09:59:48 2010
From: kadziola at tlen.pl (=?utf-8?B?SmFyb3PFgmF3IEvEhWR6aW/FgmE=?=)
Date: Sat Feb 13 09:59:55 2010
Subject: [Harbour] Sending SMS
In-Reply-To: <27575433.post@talk.nabble.com>
References: <27568201.post@talk.nabble.com> <1475048371.20100212214746@tlen.pl>
	<27575433.post@talk.nabble.com>
Message-ID: <673557003.20100213155948@tlen.pl>

Witam,

W li?cie datowanym 13 lutego 2010 (15:22:33) mo?na przeczyta?:


> Hello Jaroslaw,


> Jaros?aw K?dzio?a wrote:
>> 
>> Local cPort := "\\.\COM28"
>> Local phone_number := '123456789'
>> Local sms_text := 'This is SMS'
>> 
>> sms_Send( cPort, phone_number , sms_text , .T. )
>> 

> When trying to use the ports COM1 or COM3 is returned -3, to use COM2 me is
> returned .F.

> What can be wrong ? I have to have some program installed on a door ?

My configuration : Nokia phone plugged to USB port, driver for nokia
USB modem on port COM28 and Nokia PC Suite (i don't know whether it's
necessary). And it works perfectly.

-- 
Regards
Jaroslaw Kadzio?a


From harbour.01 at syenar.hu  Sat Feb 13 10:11:22 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 13 10:11:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13856] trunk/harbour
In-Reply-To: <4B76BE44.3080507@gmail.com>
References: <E1NgFSO-0007fu-Ah@sfp-svn-5.v30.ch3.sourceforge.com>	<4B76A608.2090205@gmail.com>
	<4928F7E9-9C63-4A43-9955-D7FDDC17542A@syenar.hu>
	<4B76BE44.3080507@gmail.com>
Message-ID: <3D551031-83DF-4D8A-B979-8509B91FD4B1@syenar.hu>

>> Another method, and this is what we use consistently
>> in Harbour, is to #define _WIN32_WINNT to 0x0500.
> 
> IMHO this is not good because we may incorporate, now or in the future, functionality of XP, W7 ...

I also don't understand why do we do it.

I've once raised this issue, but I got the feedback 
that it's right way. Finally I used it recently even 
in one of my own commits in wapi_gdi_fonts.c.

Probably it should be fixed, too.

>> Though probably we should rather use GetProcAddress()
>> for GetLongPathName() to not break apps running on
>> older Windows versions.
> 
> It's more slower and broken the reports of dependences because is called (anonymous) dynamic.
> It's nice for something occasional but not for a wrapper to OS API, IMO.

Okay. For me anything is good which solves the actual 
issues here. I see Przemek fixed it since.

Brgds,
Viktor

From druzus at acn.waw.pl  Sat Feb 13 10:22:34 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Feb 13 10:22:42 2010
Subject: [Harbour] Functions disabled by HB_OS_WIN_CE macro
In-Reply-To: <F1595771-F513-423A-B059-E23F29FB0040@syenar.hu>
References: <20100213143455.GA4462@linux-4bod.home.aster.pl>
	<F1595771-F513-423A-B059-E23F29FB0040@syenar.hu>
Message-ID: <20100213152233.GA5396@linux-4bod.home.aster.pl>

On Sat, 13 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> > If you only had not time to update some code for WinCE builds
> > then please at least leave a not about it or add iTODO warning.
> > Now seems that we have to verify all
> >   #if [!] defined( HB_OS_WIN_CE )
> > conditional compilation macros and mark the ones which cannot be
> > implemented due to limited WinCE API and the ones which can be
> > implemented but so far we had no time for it.
> Such guard in most cases is equivalent to "further 
> check needed for WinCE". Unfortunately the topic 
> is wide and very time consuming, so there was no 
> precise research made for every function, ever 
> committed to hbwin.

So please leave a note that you haven't tested it adding such guard.
It will help other developer to locate places which have to be tested.
Now we have to repeated tests for things which were verified some time
ago. It will be also very good to add to such notes information about
used C compiler because there are some differences between them and it's
possible that some functions exists in MinGWCE but not in MSVC and some
other are only in MSVC.

> I think we should keep this behavior, since for .prg 
> level function is better to not pass over the whole 
> ugliness of low-level WinCE programming, plus .prg 
> code doesn't really have the tools to verify the exact 
> low-level details (compiler version, API version, etc).

IMO the only one thing which is good is sth what helps Harbour users.
If sth creates problems for them without any significant improvements
then we should not force such solutions. Not working PRG functions
without any information that they are not implemented yet just to only
hide link time errors is the worst possible choice.
It does not help anyone. It only hides real problems.

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Feb 13 10:40:21 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 13 10:40:30 2010
Subject: [Harbour] Functions disabled by HB_OS_WIN_CE macro
In-Reply-To: <20100213152233.GA5396@linux-4bod.home.aster.pl>
References: <20100213143455.GA4462@linux-4bod.home.aster.pl>
	<F1595771-F513-423A-B059-E23F29FB0040@syenar.hu>
	<20100213152233.GA5396@linux-4bod.home.aster.pl>
Message-ID: <D2ADDF3E-B104-4183-AA03-0780E1C6BB48@syenar.hu>

Hi,

>>> If you only had not time to update some code for WinCE builds
>>> then please at least leave a not about it or add iTODO warning.
>>> Now seems that we have to verify all
>>>  #if [!] defined( HB_OS_WIN_CE )
>>> conditional compilation macros and mark the ones which cannot be
>>> implemented due to limited WinCE API and the ones which can be
>>> implemented but so far we had no time for it.
>> Such guard in most cases is equivalent to "further 
>> check needed for WinCE". Unfortunately the topic 
>> is wide and very time consuming, so there was no 
>> precise research made for every function, ever 
>> committed to hbwin.
> 
> So please leave a note that you haven't tested it adding such guard.
> It will help other developer to locate places which have to be tested.
> Now we have to repeated tests for things which were verified some time
> ago. It will be also very good to add to such notes information about
> used C compiler because there are some differences between them and it's
> possible that some functions exists in MinGWCE but not in MSVC and some
> other are only in MSVC.

Again: I've made no tests and most probably I won't.
If you want I can mark new uses as such. But pls remember 
it's not my own code for the most part, so we need 
to develop some generic workflow for this.

Maybe HB_OS_WIN_CE_TOCHECK can be added for this 
purpose, it seems better than some free text comment.

I'd estimate even this will be pretty difficult to enforce 
for committers, from hard-learned paste experience.

>> I think we should keep this behavior, since for .prg 
>> level function is better to not pass over the whole 
>> ugliness of low-level WinCE programming, plus .prg 
>> code doesn't really have the tools to verify the exact 
>> low-level details (compiler version, API version, etc).
> 
> IMO the only one thing which is good is sth what helps Harbour users.
> If sth creates problems for them without any significant improvements
> then we should not force such solutions. Not working PRG functions
> without any information that they are not implemented yet just to only
> hide link time errors is the worst possible choice.
> It does not help anyone. It only hides real problems.

I'm not convinced. It's hbwin/WinCE developers job to 
solve such problems for WinCE users, if it's possible to 
solve. If it's not possible to solve, we can chose from 
above solutions, but creating different link errors depending 
on what C compiler is used by .prg level programmer is 
not a very good idea at all. Harbour's job is to hide 
platform/compiler differences, not to pass them to .prg 
programmers. This is one of our major goal.

If this is impossible to achieve, it's also an option 
to simply not implement those incriminated functions in 
hbwin at all, on the base that they're not portable.
Even if it sounds funny that WinCE has portability 
problems on its own. Which it apparently has.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Feb 13 12:32:19 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 12:32:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13863] trunk/harbour
Message-ID: <E1NgLqt-0006q7-NT@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13863
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13863&view=rev
Author:   vszakats
Date:     2010-02-13 17:32:18 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 18:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.h
  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/win_dllx.c
  * contrib/hbwin/win_dll.c
  * contrib/hbwin/legacycd.c
  * contrib/hbwin/tests/testdll.prg
    + Reworked WIN_DLLCALL() and low-level hbwin_dllCall() interfaces.
    * WIN_DLLCALL() should be called as follows:

        WIN_DLLCALL( <pFunction | <aFunction>, ... ) -> <xResult>

        where <aFunction> can be:
           { <cFunction> | <nFunction>, <cLibrary> | <pLibrary> [, <nFuncFlags> [, <nArgFlags1>, ..., <nArgFlagsn> ]] }
           { <pFunction> [, <nFuncFlags> [, <nArgFlags1>, ..., <nArgFlagsn> ]] }

      With above API it's possible to access all low-level options and
      merge all possible call types in one call. If passing function ordinal
      or name, it will also autodetect UNICODE mode. Autodetection turns 
      on UNICODE mode for WinCE permanently and for functions ending with 'W'.

    * Call convention, C type and unicode flags are now merged into one
      callflag value.
    * Unicode flag extended to RAW, ASCII, UTF8, UTF16.
    + Added support for UTF-8 and forced raw encoding for char pointer types.
    * GETPROCADDRESS() finally moved to legacy source.

  * contrib/hbsms/hbsms.prg
    ! Fixed SMS_SEND() to return numeric value when port couldn't
      be opened.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsms/hbsms.prg
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/hbwin.h
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_dllx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 13 14:08:17 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 14:08:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13864] trunk/harbour
Message-ID: <E1NgNLl-0003Jg-RB@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13864
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13864&view=rev
Author:   vszakats
Date:     2010-02-13 19:08:16 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 20:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    * Changed names to be OS neutral.
    ; Low-level dynamic lib call support should now work on
      all x86 and x64 platforms, possibly also on ARM
      (and maybe even more). In this sense, it should not
      be placed in hbwin lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 13 14:22:07 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 14:22:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
Message-ID: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13865
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13865&view=rev
Author:   vszakats
Date:     2010-02-13 19:22:06 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 20:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    % Final planned step to remove a remaining redundancy.
    % Minor optimization.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 13 14:51:14 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 14:51:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13866] trunk/harbour
Message-ID: <E1NgO1K-00019C-Fq@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13866
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13866&view=rev
Author:   vszakats
Date:     2010-02-13 19:51:13 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 20:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  + contrib/hbwin/hbdyn.h
  + contrib/hbwin/hbdyn.ch
  + contrib/hbwin/hbdyn.c
  * contrib/hbwin/hbwin.h
  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/win_misc.c
  * contrib/hbwin/win_dll.c
  * contrib/hbwin/win_dllx.c
  * contrib/hbwin/legacycd.c
  * contrib/hbwin/tests/testdll.prg
    + Separated OS-independendent dynamic call support from Windows-specific parts.
    * Changed names to reflect that.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/hbwin.h
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_dllx.c
    trunk/harbour/contrib/hbwin/win_misc.c

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/hbdyn.c
    trunk/harbour/contrib/hbwin/hbdyn.ch
    trunk/harbour/contrib/hbwin/hbdyn.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 13 14:53:04 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 14:53:10 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13867] trunk/harbour
Message-ID: <E1NgO36-0001CF-0z@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13867
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13867&view=rev
Author:   vszakats
Date:     2010-02-13 19:53:02 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 20:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbdyn.h
  * contrib/hbwin/hbdyn.ch
    * Cleanup in comments.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbdyn.ch
    trunk/harbour/contrib/hbwin/hbdyn.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sat Feb 13 15:01:09 2010
From: jarabal at gmail.com (Xavi)
Date: Sat Feb 13 15:01:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <4B770505.6060101@gmail.com>

Hi Viktor,

I would suggest that if type of string param not is RAW, not use hb_stor*len use hb_stor*
This would avoid the possible inclusion of terminating null character.

I also recommend the use of a new our macro in exclusive HB_TEXT for UNICODE literals.
Or at least change the current definition of HBTEXT to avoid problems.

...
    #if defined( UNICODE ) || defined( HB_OS_WIN_CE )
       #define HBTEXT( x ) TEXT( x )
    #else
       #define HBTEXT( x ) x
    #endif
...

[ And out of context :)
   Remember that in API DLLs, the name of function is finish in A or W.
   Not enough that the string is ANSI or UNICODE. ]

Best regards,
Xavi
From harbour.01 at syenar.hu  Sat Feb 13 15:17:14 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 13 15:17:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <4B770505.6060101@gmail.com>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
Message-ID: <BE865EFA-B353-44C7-B423-14574C7D3EA8@syenar.hu>

Hi,

> I would suggest that if type of string param not is RAW, not use hb_stor*len use hb_stor*
> This would avoid the possible inclusion of terminating null character.

Okay, let's gather these and apply them when we 
see the bigger picture. Some function may want to 
return internal zeroes, so we should carefully 
think about it. Maybe using different C types or 
something.

> I also recommend the use of a new our macro in exclusive HB_TEXT for UNICODE literals.
> Or at least change the current definition of HBTEXT to avoid problems.
> 
> ...
>   #if defined( UNICODE ) || defined( HB_OS_WIN_CE )
>      #define HBTEXT( x ) TEXT( x )
>   #else
>      #define HBTEXT( x ) x
>   #endif

Yes, I thought about it, but from a different context. 
Such macro should be used to mark all human readable 
strings/chars in Harbour. When we'll have internal Unicode 
support.

Above macro should rather be named WINTEXT() or U16TEXT().

For current HBTEXT() it doesn't seem good though as we 
use it to mark some ill. text parameters, which is only 
needed to be U16 on WinCE, not on UNICODE non-WinCE.

> ...
> 
> [ And out of context :)
>  Remember that in API DLLs, the name of function is finish in A or W.
>  Not enough that the string is ANSI or UNICODE. ]

I'm not sure I understand. I know it's not perfect 
detection for UNICODE. Now I got the terminology right 
in source, but if this is a problem I can remove whole 
autodetection, though I think it's more than nothing 
and should help in most cases.

Brgds,
Viktor

From druzus at acn.waw.pl  Sat Feb 13 16:18:15 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Feb 13 16:18:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <BE865EFA-B353-44C7-B423-14574C7D3EA8@syenar.hu>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<BE865EFA-B353-44C7-B423-14574C7D3EA8@syenar.hu>
Message-ID: <20100213211814.GA13258@linux-4bod.home.aster.pl>

On Sat, 13 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Above macro should rather be named WINTEXT() or U16TEXT().

This macro is used for native OS texts. In WINCE it's U16.
In desktop windows it's 8bit ASCII text. It doesn't matter
if UNICODE macro is set or not so U16TEXT() is highly confusing
name.
WINTEXT(), OSTEXT() or RAWTEXT() is better choice though they d
not use use HB prefix and I though we are forcing using it in
out own macros.
We will also need type with similar name and we should remember
about it choosing the name, i.e.:
   HB_WINTEXT() and HB_WINCHAR

best regards,
Przemek
From druzus at acn.waw.pl  Sat Feb 13 16:21:00 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Feb 13 16:21:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <4B770505.6060101@gmail.com>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
Message-ID: <20100213212100.GB13258@linux-4bod.home.aster.pl>

On Sat, 13 Feb 2010, Xavi wrote:
> I also recommend the use of a new our macro in exclusive HB_TEXT for UNICODE literals.
> Or at least change the current definition of HBTEXT to avoid problems.
> ...
>    #if defined( UNICODE ) || defined( HB_OS_WIN_CE )
>       #define HBTEXT( x ) TEXT( x )
>    #else
>       #define HBTEXT( x ) x
>    #endif
> ...

Above definition completely breaks context where this macro is used.
It has to give 8bit ASCII text in all desktop windows.

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Feb 13 16:31:10 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 13 16:31:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <20100213211814.GA13258@linux-4bod.home.aster.pl>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<BE865EFA-B353-44C7-B423-14574C7D3EA8@syenar.hu>
	<20100213211814.GA13258@linux-4bod.home.aster.pl>
Message-ID: <310CF9FE-A19F-4E48-ACA2-C3D4F2F20C5F@syenar.hu>

Hi,

On 2010 Feb 13, at 22:18, Przemys?aw Czerpak wrote:

> On Sat, 13 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> Above macro should rather be named WINTEXT() or U16TEXT().
> 
> This macro is used for native OS texts. In WINCE it's U16.
> In desktop windows it's 8bit ASCII text. It doesn't matter
> if UNICODE macro is set or not so U16TEXT() is highly confusing
> name.
> WINTEXT(), OSTEXT() or RAWTEXT() is better choice though they d
> not use use HB prefix and I though we are forcing using it in
> out own macros.
> We will also need type with similar name and we should remember
> about it choosing the name, i.e.:
>   HB_WINTEXT() and HB_WINCHAR

Yes, I realized the missing HB_ prefix after pressing 
the Send button.

I don't know about other OSes, but on Windows there 
is no distinction between char and string when using 
TEXT() macro (it works for both), so IMO it's not 
absolutely necessary to match it with type name, since 
it will be confusing in places anyway.

I like HB_OSTEXT() the best. It's generally a good 
thing not to use 'WIN' in any central Harbour names.

This can be extended to HB_OSTEXT_WIN() if we want to 
create a sub-type which is easier to grep for, but I 
can't at the moment imaging a situation where this is 
extremely useful.. so maybe plain HB_OSTEXT() will be 
enough.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Feb 13 16:41:02 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 13 16:41:13 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <4B770505.6060101@gmail.com>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
Message-ID: <4C54E866-A609-4DB8-B89D-47117206C450@syenar.hu>

> I would suggest that if type of string param not is RAW, not use hb_stor*len use hb_stor*
> This would avoid the possible inclusion of terminating null character.

There is GPF when trying it without length.
(replace hb_parclen() with -1 in hb_u32ret() calls)

Any idea why?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Feb 13 16:42:07 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 13 16:42:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13868] trunk/harbour
Message-ID: <E1NgPkd-0003KX-QR@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13868
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13868&view=rev
Author:   vszakats
Date:     2010-02-13 21:42:06 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 22:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbdyn.c
    ! Fixed to honor length when returning HB_DYN_CTYPE_CHAR_UNSIGNED_PTR 
      by reference.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbdyn.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Feb 13 17:05:27 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Feb 13 17:05:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <310CF9FE-A19F-4E48-ACA2-C3D4F2F20C5F@syenar.hu>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<BE865EFA-B353-44C7-B423-14574C7D3EA8@syenar.hu>
	<20100213211814.GA13258@linux-4bod.home.aster.pl>
	<310CF9FE-A19F-4E48-ACA2-C3D4F2F20C5F@syenar.hu>
Message-ID: <20100213220527.GA30216@linux-4bod.home.aster.pl>

On Sat, 13 Feb 2010, Szak?ts Viktor wrote:

Hi,

> I don't know about other OSes, but on Windows there 
> is no distinction between char and string when using 
> TEXT() macro (it works for both), so IMO it's not 
> absolutely necessary to match it with type name, since 
> it will be confusing in places anyway.

Sorry I do not know what you are talking about.

Now we do not have type for HBTEXT strings so we have to use locally
defined workarounds, i.e. in dllpcode.c we have:

   #if defined( HB_OS_WIN_CE )
   #  define HBTEXTSTR  LPCTSTR
   #else
   #  define HBTEXTSTR  LPCSTR
   #endif

   static HBTEXTSTR s_szGetProcAddr = HBTEXT( "_dll_hb_vmProcAddress" );

and I would like to not repeat such declarations in different files
but rather use everywhere sth like:

   static const HB_OSCHAR * s_szGetProcAddr = 
                                       HB_OSTEXT( "_dll_hb_vmProcAddress" );

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Feb 13 17:16:04 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Feb 13 17:16:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13869] trunk/harbour
Message-ID: <E1NgQHU-0003QL-F3@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13869
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13869&view=rev
Author:   druzus
Date:     2010-02-13 22:16:03 +0000 (Sat, 13 Feb 2010)

Log Message:
-----------
2010-02-13 23:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/wapi_winbase.c
    ! fixed WAPI_GETPROCADDRESS() to work in WinCE builds
      (missing in previous ChangeLog entry)

  * harbour/contrib/hbwin/wapi_winbase.c
    ! cleaned library handle usage in WAPI_GETLONGPATHNAME()

  * harbour/contrib/hbwin/wapi_winbase.c
  * harbour/contrib/hbwin/wapi_winbase_mutex.c
    * added small description for few functions excluded by
      HB_OS_WIN_CE macro.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wapi_winbase_mutex.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 13 17:16:08 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 13 17:16:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <20100213220527.GA30216@linux-4bod.home.aster.pl>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<BE865EFA-B353-44C7-B423-14574C7D3EA8@syenar.hu>
	<20100213211814.GA13258@linux-4bod.home.aster.pl>
	<310CF9FE-A19F-4E48-ACA2-C3D4F2F20C5F@syenar.hu>
	<20100213220527.GA30216@linux-4bod.home.aster.pl>
Message-ID: <4736870E-81A4-46C6-BF62-80F56AC94E60@syenar.hu>

>> I don't know about other OSes, but on Windows there 
>> is no distinction between char and string when using 
>> TEXT() macro (it works for both), so IMO it's not 
>> absolutely necessary to match it with type name, since 
>> it will be confusing in places anyway.
> 
> Sorry I do not know what you are talking about.
> 
> Now we do not have type for HBTEXT strings so we have to use locally
> defined workarounds, i.e. in dllpcode.c we have:
> 
>   #if defined( HB_OS_WIN_CE )
>   #  define HBTEXTSTR  LPCTSTR
>   #else
>   #  define HBTEXTSTR  LPCSTR
>   #endif
> 
>   static HBTEXTSTR s_szGetProcAddr = HBTEXT( "_dll_hb_vmProcAddress" );

This is the first time I see these types.
I was talking about TEXT() replacement.

> and I would like to not repeat such declarations in different files
> but rather use everywhere sth like:
> 
>   static const HB_OSCHAR * s_szGetProcAddr = 
>                                       HB_OSTEXT( "_dll_hb_vmProcAddress" );

Anyway, I'm confused now about this matter, so 
can't tell much pro or contra.

First we should define what we're trying to solve.

If this new name for HBTEXT() + type name, above 
is surely better solution, albeit it's used very 
rarely so far.

Brgds,
Viktor

From bruno.luciani at gmail.com  Sat Feb 13 17:40:31 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Feb 13 17:40:39 2010
Subject: [Harbour] HBide continues not working in linux
Message-ID: <133778361002131440t797faa27w11e5bdf2f6510f91@mail.gmail.com>

Hbide not starts in linux guve this error


http://www.postimage.org/image.php?v=gxsSMCr

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100213/8591ced1/attachment.html
From bedipritpal at hotmail.com  Sat Feb 13 18:49:43 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 13 18:49:51 2010
Subject: [Harbour] Re: HBide continues not working in linux
In-Reply-To: <133778361002131440t797faa27w11e5bdf2f6510f91@mail.gmail.com>
References: <133778361002131440t797faa27w11e5bdf2f6510f91@mail.gmail.com>
Message-ID: <1266104983785-4568352.post@n2.nabble.com>



Bruno Luciani wrote:
> 
> Hbide not starts in linux guve this error
> 
> 
> http://www.postimage.org/image.php?v=gxsSMCr
> 

1. Check if folder where hbIDE.exe resides contains "resources" 
   sub folder or not. It must be there...
2. If it is there, then check for .ui and matching .uic files and see if all
are in lower case.
3. If still the error exists, report back...




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/HBide-continues-not-working-in-linux-tp4568113p4568352.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bruno.luciani at gmail.com  Sat Feb 13 20:55:52 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Feb 13 20:56:01 2010
Subject: [Harbour] Re: HBide continues not working in linux
In-Reply-To: <1266104983785-4568352.post@n2.nabble.com>
References: <133778361002131440t797faa27w11e5bdf2f6510f91@mail.gmail.com>
	<1266104983785-4568352.post@n2.nabble.com>
Message-ID: <133778361002131755q8d9b210t462d9547cedd23b8@mail.gmail.com>

2010/2/13 Pritpal Bedi <bedipritpal@hotmail.com>>

> 1. Check if folder where hbIDE.exe resides contains "resources"
>   sub folder or not. It must be there...
>

It is ok


> 2. If it is there, then check for .ui and matching .uic files and see if
> all
> are in lower case.
>

Ok too


> 3. If still the error exists, report back...
>
>
The error persist


Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100213/6a24ac7c/attachment.html
From jarabal at gmail.com  Sat Feb 13 23:50:42 2010
From: jarabal at gmail.com (Xavi)
Date: Sat Feb 13 23:51:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <20100213212100.GB13258@linux-4bod.home.aster.pl>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>	<4B770505.6060101@gmail.com>
	<20100213212100.GB13258@linux-4bod.home.aster.pl>
Message-ID: <4B778122.2080909@gmail.com>

Hi Przemek,

You're right if HBTEXT is only for use inside of GetProcAddress.

> It has to give 8bit ASCII text in all desktop windows.

IMHO for this reason if the code is for all desktop windows and for WinCE is better to use GetProcAddressA.
[ Remember the A final for ASCII ]

...
    #if defined( HB_OS_WIN_CE )
       #define GetProcAddress GetProcAddressA
    #endif
...

And avoid the confusion because don't look any macro for UNICODE literals inside calls to GetProcAddress.
Also I think it simplifies other things, as always is LPCSTR.

Best regards,
Xavi
From tech at 2dinfo.com.br  Sun Feb 14 05:12:29 2010
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Sun Feb 14 05:12:58 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100209210117.GB26505@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><20100208141036.GA23098@linux-4bod.home.aster.pl><D10B5CBD194247FEBB91A0E58212EA7F@deskleo><20100208225319.GA31329@linux-4bod.home.aster.pl><217C56499B304AB8A6AA547600ACB085@deskleo><3A26D619530744B385DC04F3B559BD6A@deskleo>
	<20100209210117.GB26505@linux-4bod.home.aster.pl>
Message-ID: <5050E05DAD17403F9143E29C84847524@NoteLeo>

>> There is an error when I try to recompile Harbour core with -DHB_DYNLIB.
>> Apparently the problem is about hbpp.exe
>> See the error below:
>> ...
>> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer -march=i586
>> -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF  -DHB_DYNLIB -ohbpp.o -c
>> ../../../hbpp.c
>> gcc  -L../../../../../lib/win/mingw   -o
>> ..\..\..\..\..\bin\win\mingw\hbpp.exe h
>> bpp.o -lhbnortl -lhbcommon -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32
>> /mingw/lib/libmingw32.a(main.o):main.c:(.text+0xd2): undefined
>> reference to `WinMain@16'
>> collect2: ld returned 1 exit status
>> mingw32-make[3]: *** [hbpp.exe] Error 1
>
> You are right. It's side effect of code added to exclude hbpp_dyn.obj
> from DLL. I'll replace it with other solution. Anyhow probably today
> we add support for using PCODE DLLs with standard static builds so
> you can wait a while for it.

Hi
Is the proceding defined?
Should I test it already?
Rgds
Leandro 

From druzus at acn.waw.pl  Sun Feb 14 06:08:19 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 14 06:08:30 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <5050E05DAD17403F9143E29C84847524@NoteLeo>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo>
	<4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu>
	<20100208141036.GA23098@linux-4bod.home.aster.pl>
	<D10B5CBD194247FEBB91A0E58212EA7F@deskleo>
	<20100208225319.GA31329@linux-4bod.home.aster.pl>
	<217C56499B304AB8A6AA547600ACB085@deskleo>
	<3A26D619530744B385DC04F3B559BD6A@deskleo>
	<20100209210117.GB26505@linux-4bod.home.aster.pl>
	<5050E05DAD17403F9143E29C84847524@NoteLeo>
Message-ID: <20100214110819.GB4296@linux-4bod.home.aster.pl>

On Sun, 14 Feb 2010, Leandro Damasio wrote:

Hi,

> >>bpp.o -lhbnortl -lhbcommon -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32
> >>/mingw/lib/libmingw32.a(main.o):main.c:(.text+0xd2): undefined
> >>reference to `WinMain@16'
> >>collect2: ld returned 1 exit status
> >>mingw32-make[3]: *** [hbpp.exe] Error 1
> >You are right. It's side effect of code added to exclude hbpp_dyn.obj
> >from DLL. I'll replace it with other solution. Anyhow probably today
> >we add support for using PCODE DLLs with standard static builds so
> >you can wait a while for it.
> Is the proceding defined?

Read the ChangeLog.
You do not have to even use it.

> Should I test it already?

I already tested it but as I said you do not have to use it at all.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Feb 14 06:29:53 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 14 06:30:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <4B778122.2080909@gmail.com>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<20100213212100.GB13258@linux-4bod.home.aster.pl>
	<4B778122.2080909@gmail.com>
Message-ID: <20100214112953.GC4296@linux-4bod.home.aster.pl>

On Sun, 14 Feb 2010, Xavi wrote:

Hi,

> You're right if HBTEXT is only for use inside of GetProcAddress.
> >It has to give 8bit ASCII text in all desktop windows.
> IMHO for this reason if the code is for all desktop windows and for WinCE
> is better to use GetProcAddressA.
> [ Remember the A final for ASCII ]
>    #if defined( HB_OS_WIN_CE )
>       #define GetProcAddress GetProcAddressA
>    #endif

Officially WinCE does not support any of *A functions.
It has only UNICODE API and all strings should use UNICODE encoding.
I know that there is exception and inside coredll library in MinGWCE
there is GetProcAddressA() but I do not know if it's official extension
and I cannot say if it works.
The import library in MinGWCE contains:
   GetProcAddressA()
   StringCch*A()
   StringCb*A()
ASCII functions.

If you can confirm that it's official WinCE extension and it works
with other C compilers then for me it's very good choice which should
help to simplify existing code.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Feb 14 06:35:59 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 14 06:36:10 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <20100214112953.GC4296@linux-4bod.home.aster.pl>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<20100213212100.GB13258@linux-4bod.home.aster.pl>
	<4B778122.2080909@gmail.com>
	<20100214112953.GC4296@linux-4bod.home.aster.pl>
Message-ID: <E0B8A2E1-773F-4D25-A980-9C7193B312B6@syenar.hu>

Hi,

> Officially WinCE does not support any of *A functions.
> It has only UNICODE API and all strings should use UNICODE encoding.
> I know that there is exception and inside coredll library in MinGWCE
> there is GetProcAddressA() but I do not know if it's official extension
> and I cannot say if it works.
> The import library in MinGWCE contains:
>   GetProcAddressA()
>   StringCch*A()
>   StringCb*A()
> ASCII functions.
> 
> If you can confirm that it's official WinCE extension and it works
> with other C compilers then for me it's very good choice which should
> help to simplify existing code.

It is official starting WinCE 3.0:
   http://msdn.microsoft.com/en-us/library/ms908453.aspx

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Feb 14 07:21:02 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 14 07:21:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <E0B8A2E1-773F-4D25-A980-9C7193B312B6@syenar.hu>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<20100213212100.GB13258@linux-4bod.home.aster.pl>
	<4B778122.2080909@gmail.com>
	<20100214112953.GC4296@linux-4bod.home.aster.pl>
	<E0B8A2E1-773F-4D25-A980-9C7193B312B6@syenar.hu>
Message-ID: <20100214122102.GA8861@linux-4bod.home.aster.pl>

On Sun, 14 Feb 2010, Szak?ts Viktor wrote:

Hi,
> 
> > If you can confirm that it's official WinCE extension and it works
> > with other C compilers then for me it's very good choice which should
> > help to simplify existing code.
> It is official starting WinCE 3.0:
>    http://msdn.microsoft.com/en-us/library/ms908453.aspx

Thank you very much. In such case I think we should use it and
add translation proposed by Xavi to hbwince.h:

   #if defined( HB_OS_WIN_CE )
      #undef  GetProcAddress
      #define GetProcAddress  GetProcAddressA
   #endif

If you agree then I'll make it ASAP.
I'll also add public C API to HB_LIBLOAD()/HB_LIBFREE() which can be used
by HBWIN code.

best regards,
Przemek
From vszakats at users.sourceforge.net  Sun Feb 14 07:36:20 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 14 07:36:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13870] trunk/harbour
Message-ID: <E1Ngdi0-00060a-SG@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13870
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13870&view=rev
Author:   vszakats
Date:     2010-02-14 12:36:10 +0000 (Sun, 14 Feb 2010)

Log Message:
-----------
2010-02-14 13:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    + Added more description to WIN_DLLCALL() function usage.

  * contrib/hbwin/hbdyn.c
    + Type conversion fixes after actual testing.
      Now everything should work except float parameter passing
      on x64 and passing/receiving unsigned longlongs to/from .dlls
      on both x64/x86. I couldn't found how to interact properly
      with HVM in this case.
      Please review remaining TOFIXes.

  + contrib/hbwin/tests/testdll1.prg
  + contrib/hbwin/tests/testdll.c
    + Added code to test parameter passing.

  * contrib/hbwin/legacycd.c
  * contrib/hbwin/win_dll.c
    + Forcing stdcall calling convention. (it's the default yet,
      but this may change to cdecl).

  * contrib/hbwin/win_dll.c
    * bUNICODE -> bWIDE.

  * contrib/hbwin/hbdyn.ch
    + Added comment.

  * include/hbdefs.h
    * Typo in comment.

  * contrib/hbwin/Makefile
    ! Added missing hbdyn.h.

  * utils/hbmk2/hbmk2.prg
    ! Fixed to never add double backslash to output dir.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/hbdyn.c
    trunk/harbour/contrib/hbwin/hbdyn.ch
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/include/hbdefs.h
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/tests/testdll.c
    trunk/harbour/contrib/hbwin/tests/testdll1.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb 14 07:39:04 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 14 07:39:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <20100214122102.GA8861@linux-4bod.home.aster.pl>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<20100213212100.GB13258@linux-4bod.home.aster.pl>
	<4B778122.2080909@gmail.com>
	<20100214112953.GC4296@linux-4bod.home.aster.pl>
	<E0B8A2E1-773F-4D25-A980-9C7193B312B6@syenar.hu>
	<20100214122102.GA8861@linux-4bod.home.aster.pl>
Message-ID: <835BCAC9-6C87-4FFE-841B-BD1C1E648CE8@syenar.hu>

Hi Przemek,

>>> If you can confirm that it's official WinCE extension and it works
>>> with other C compilers then for me it's very good choice which should
>>> help to simplify existing code.
>> It is official starting WinCE 3.0:
>>   http://msdn.microsoft.com/en-us/library/ms908453.aspx
> 
> Thank you very much. In such case I think we should use it and
> add translation proposed by Xavi to hbwince.h:
> 
>   #if defined( HB_OS_WIN_CE )
>      #undef  GetProcAddress
>      #define GetProcAddress  GetProcAddressA
>   #endif
> 
> If you agree then I'll make it ASAP.

I agree, it's a good change.

> I'll also add public C API to HB_LIBLOAD()/HB_LIBFREE() which can be used
> by HBWIN code.

Thank you.

As for the recent .dll development, I've just committed 
finalized type conversions, so it should now work, but 
I'd appreciate if you could review it if you have some 
free time. Only ULONGLONG passing is wrong (just like in 
OLE engine) and I could't find a fix for it. Plus 'float' 
support on x64 doesn't work for some reason (while 'double' 
does).

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Feb 14 07:58:21 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 14 07:58:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13871] trunk/harbour
Message-ID: <E1Nge3J-0006Ma-Ty@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13871
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13871&view=rev
Author:   vszakats
Date:     2010-02-14 12:58:20 +0000 (Sun, 14 Feb 2010)

Log Message:
-----------
2010-02-14 13:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/achoice.prg
    ! Fixed/added cursor positioning to resemble to Clipper.

  * tests/ac_test.prg
    + Shows row/col when entering callback function.

  * contrib/hbfimage/fi_winfu.c
  * contrib/hbfimage/fi_wrp.c
    * Formatting.

  * contrib/hbwin/hbdyn.c
    - Deleted recently added, but finally unused union member.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/contrib/hbwin/hbdyn.c
    trunk/harbour/src/rtl/achoice.prg
    trunk/harbour/tests/ac_test.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb 14 09:12:42 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 14 09:12:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13872] trunk/harbour
Message-ID: <E1NgfDG-000703-77@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13872
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13872&view=rev
Author:   vszakats
Date:     2010-02-14 14:12:39 +0000 (Sun, 14 Feb 2010)

Log Message:
-----------
2010-02-14 15:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbdyn.c
    ! Fixed handling of HB_DYN_ENC_RAW and HB_DYN_CTYPE_CHAR_UNSIGNED
      buffer handling.

  * contrib/hbwin/tests/testdll1.prg
    + Added new test.
    ! Minor cleanup to prev tests.

  * contrib/hbwin/Makefile
  + contrib/hbwin/win_dllf.prg
    + Added WIN_DLLCALLFOXPRO( <cDeclareCommand>[, <parameters...> ] ) -> <xResult>
      where <cDeclareCommand> is a valid Visual FoxPro declare command:

        "DECLARE [cFunctionType] FunctionName IN LibraryName [AS AliasName]
           [cParamType1 [@] ParamName1, cParamType2 [@] ParamName2, ...]"

      See more here:
         http://msdn.microsoft.com/en-us/library/ydcf39aa(VS.80).aspx

  * contrib/hbwin/Makefile
  - contrib/hbwin/win_dll.c
  + contrib/hbwin/win_dllc.c
    * Renamed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/hbdyn.c
    trunk/harbour/contrib/hbwin/tests/testdll1.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/win_dllc.c
    trunk/harbour/contrib/hbwin/win_dllf.prg

Removed Paths:
-------------
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Feb 14 09:14:01 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 14 09:14:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <835BCAC9-6C87-4FFE-841B-BD1C1E648CE8@syenar.hu>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<20100213212100.GB13258@linux-4bod.home.aster.pl>
	<4B778122.2080909@gmail.com>
	<20100214112953.GC4296@linux-4bod.home.aster.pl>
	<E0B8A2E1-773F-4D25-A980-9C7193B312B6@syenar.hu>
	<20100214122102.GA8861@linux-4bod.home.aster.pl>
	<835BCAC9-6C87-4FFE-841B-BD1C1E648CE8@syenar.hu>
Message-ID: <20100214141401.GA16070@linux-4bod.home.aster.pl>

On Sun, 14 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> > If you agree then I'll make it ASAP.
> I agree, it's a good change.

Fine.

> > I'll also add public C API to HB_LIBLOAD()/HB_LIBFREE() which can be used
> > by HBWIN code.
> Thank you.
> As for the recent .dll development, I've just committed 
> finalized type conversions, so it should now work, but 
> I'd appreciate if you could review it if you have some 
> free time. Only ULONGLONG passing is wrong (just like in 
> OLE engine) and I could't find a fix for it. Plus 'float' 
> support on x64 doesn't work for some reason (while 'double' 
> does).

I'll look at it later today.
I've seen that you made it more general not only MS-Win oriented
so public API to load/free libraries and find symbol addresses can
help to create multiplatform solution.

BTW I think that we should also remove HB_LIBDO() function.
It's nothing more then limited DO() function and can seriously
confuse users.

best regards,
Przemek
From druzus at users.sourceforge.net  Sun Feb 14 09:18:14 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Feb 14 09:18:22 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13873] trunk/harbour
Message-ID: <E1NgfIc-00011F-Dt@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13873
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13873&view=rev
Author:   druzus
Date:     2010-02-14 14:18:13 +0000 (Sun, 14 Feb 2010)

Log Message:
-----------
2010-02-14 15:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbwince.h
    * redirect GetProcAddress() to GetProcAddressA() in WinCE builds.
      ASCII version of GetProcAddress() is supported by WinCE 3.0 and
      later versions.

  * harbour/include/hbdefs.h
    - removed HBTEXT() macro

  * harbour/src/common/hbver.c
  * harbour/src/rtl/diskspac.c
  * harbour/src/rtl/disksphb.c
  * harbour/src/rtl/gtwvt/gtwvt.c
  * harbour/src/vm/extrap.c
  * harbour/src/vm/maindllp/dllpcode.c
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/gtwvg.h
  * harbour/contrib/gtwvg/wvgwin.c
  * harbour/contrib/hbwin/wapi_winbase.c
  * harbour/contrib/hbwin/axcore.c
  * harbour/contrib/hbwin/mapi.c
  * harbour/contrib/hbwin/win_prn2.c
  * harbour/contrib/hbwin/win_prn3.c
  * harbour/contrib/hbwin/wapi_shellapi.c
    * eliminated HBTEXT() macro

  * harbour/src/rtl/diskspac.c
  * harbour/src/rtl/disksphb.c
  * harbour/contrib/hbwin/wapi_winbase.c
    % optimized GetProcAddress() calls to store function addresses
      in static variables

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_prn3.c
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/src/common/hbver.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/disksphb.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/vm/extrap.c
    trunk/harbour/src/vm/maindllp/dllpcode.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb 14 09:25:49 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 14 09:26:08 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <20100214141401.GA16070@linux-4bod.home.aster.pl>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B770505.6060101@gmail.com>
	<20100213212100.GB13258@linux-4bod.home.aster.pl>
	<4B778122.2080909@gmail.com>
	<20100214112953.GC4296@linux-4bod.home.aster.pl>
	<E0B8A2E1-773F-4D25-A980-9C7193B312B6@syenar.hu>
	<20100214122102.GA8861@linux-4bod.home.aster.pl>
	<835BCAC9-6C87-4FFE-841B-BD1C1E648CE8@syenar.hu>
	<20100214141401.GA16070@linux-4bod.home.aster.pl>
Message-ID: <2951EE22-0A16-44C8-8841-82DF220AE701@syenar.hu>

Hi Przemek,

>>> I'll also add public C API to HB_LIBLOAD()/HB_LIBFREE() which can be used
>>> by HBWIN code.
>> Thank you.
>> As for the recent .dll development, I've just committed 
>> finalized type conversions, so it should now work, but 
>> I'd appreciate if you could review it if you have some 
>> free time. Only ULONGLONG passing is wrong (just like in 
>> OLE engine) and I could't find a fix for it. Plus 'float' 
>> support on x64 doesn't work for some reason (while 'double' 
>> does).
> 
> I'll look at it later today.
> I've seen that you made it more general not only MS-Win oriented
> so public API to load/free libraries and find symbol addresses can
> help to create multiplatform solution.

Yes, the core logic is ready to be moved to Harbour core, 
it's completely MS Windows independent. Well, the default 
callconv is stdcall, that's the only Windows API specific 
in it, but we can switch it to cdecl.

The high-level WIN_DLLCALL() function is still win specific, 
but if we fine-tune the defaults and create lib load/free and 
func address lookup functions in core, it can also be ported 
to core as well.

> BTW I think that we should also remove HB_LIBDO() function.
> It's nothing more then limited DO() function and can seriously
> confuse users.

It's OK with me.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Feb 14 09:33:29 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 14 09:33:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13874] trunk/harbour
Message-ID: <E1NgfXN-0007dC-VG@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13874
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13874&view=rev
Author:   vszakats
Date:     2010-02-14 14:33:27 +0000 (Sun, 14 Feb 2010)

Log Message:
-----------
2010-02-14 15:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbdyn.c
    % Minor cleanup.

  * contrib/hbwin/win_dllf.prg
    ! Fixed to be case-insentitive for keywords.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbdyn.c
    trunk/harbour/contrib/hbwin/win_dllf.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sun Feb 14 14:52:52 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb 14 14:53:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13873] trunk/harbour
In-Reply-To: <E1NgfIc-00011F-Dt@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NgfIc-00011F-Dt@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <4B785494.1020104@gmail.com>

Hi Przemek,

>    * harbour/contrib/hbwin/wapi_winbase.c
>      % optimized GetProcAddress() calls to store function addresses
>        in static variables

Ok. I don't like because it's not a conventional programming, more sophisticated IMO.
Break the reports of dependence and some installers can make use of them.

	.def	_GetLongPathNameW@12;	.scl	2;	.type	32;	.endef

Also I thought that could have problems with optimizations and more slower but if I'm no wrong, seems don't have this problems 
and is just as fast (I attached test). So I surrender to the evidence. :)

What would be the rule, all functions out of ( _WIN32_WINNT < 0x0500 ) should call dynamically?

Best regards,
Xavi

-------------- next part --------------
#define CSIDL_ADMINTOOLS            0x0030 /* <username>\Start Menu\Programs\Administrative Tools */
#define MAX_PATH 260

PROCEDURE Main()
   LOCAL cData, i, nSec

   cData := Space( MAX_PATH )
   DllCall( "shell32.dll", NIL, "SHGetFolderPath", 0, CSIDL_ADMINTOOLS, 0, 0, @cData )
   cData := Trim( cData )
   ? "[" + cData + "]"
   cData := StrTran( cData, Chr(0), '\' ) // Change terminating null character by '\'
   ? "[" + cData + "]"

   wapi_SetLastError( 0 )
   wapi_GetShortPathName( cData, @cData )
   if( wapi_GetLastError() == 0 )
      ? "ShortName [" + cData + "]"
      wapi_GetLongPathName( cData, @cData )
      ? "LongName [" + cData + "]"

      ? "=============================="
      nSec := Seconds()
      for i := 0 to 10000  // 3 for test
         wapi_GetShortPathName( cData, @cData )
         // ? "ShortName [" + cData + "]"
         wapi_GetLongPathName( cData, @cData )
         // ? "LongName [" + cData + "]"
      next
      ? "Delay Not :", Seconds() - nSec

      nSec := Seconds()
      for i := 0 to 10000  // 3 for test
         wapi_GetShortPathName( cData, @cData )
         // ? "ShortName [" + cData + "]"
         mk_GetLongPathName( cData, @cData )
         // ? "LongName [" + cData + "]"
      next
      ? "Delay Opt :", Seconds() - nSec
      ? "=============================="
   else
      ? "Error", wapi_GetLastError()
   endif

   WAIT
   RETURN
-------------- next part --------------
/*
 * $Id: wapi_winbase.c 13873 2010-02-14 14:18:13Z druzus $
 */

/*
 * Harbour Project source code:
 * Windows API functions (winbase)
 *
 * Copyright 2009 Viktor Szakats (harbour.01 syenar.hu)
 * www - http://www.harbour-project.org
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

/* Version with name declarate
   MK_GETLONGPATHNAME
   Only for test re-define _WIN32_WINNT [jarabal] */

#undef _WIN32_WINNT
#define _WIN32_WINNT 0x0500

#include "hbwapi.h"
#include "hbapierr.h"

/* For SetErrorMode() */
#if defined( HB_OS_WIN_CE )
   #include "hbwince.h"
#endif

HB_FUNC( WAPI_GETCOMMANDLINE )
{
   HB_RETSTR( GetCommandLine() );
}

HB_FUNC( WAPI_GETCURRENTPROCESS )
{
   wapi_ret_HANDLE( GetCurrentProcess() );
}

HB_FUNC( WAPI_GETCURRENTPROCESSID )
{
   hb_retnint( GetCurrentProcessId() );
}

HB_FUNC( WAPI_GETCURRENTTHREAD )
{
   wapi_ret_HANDLE( GetCurrentThread() );
}

HB_FUNC( WAPI_WAITFORSINGLEOBJECT )
{
   DWORD dwResult = WaitForSingleObject( wapi_par_HANDLE( 1 ), ( DWORD ) hb_parnl( 2 ) );
   hbwapi_SetLastError( GetLastError() );
   hb_retnl( dwResult );
}

HB_FUNC( WAPI_WAITFORSINGLEOBJECTEX )
{
   DWORD dwResult;
   DWORD dwLastError;

#if defined( HB_OS_WIN_CE )
   /* WinCE (WinMobile6) does not support
    * WaitFor{Single,Multiple}Object[Ex]() though it supports:
    * MsgWaitFor{Single,Multiple}Object[Ex]()
    */
   dwResult = 0;
   dwLastError = ERROR_INVALID_FUNCTION;
#else
   dwResult = WaitForSingleObjectEx( wapi_par_HANDLE( 1 ), ( DWORD ) hb_parnl( 2 ), hb_parl( 3 ) );
   dwLastError = GetLastError();
#endif

   hbwapi_SetLastError( dwLastError );
   hb_retnl( dwResult );
}

HB_FUNC( WAPI_WAITFORMULTIPLEOBJECTS )
{
   PHB_ITEM pArray = hb_param( 2, HB_IT_ARRAY );
   HB_SIZE nLen = pArray ? hb_arrayLen( pArray ) : 0;

   if( nLen > 0 && nLen <= MAXIMUM_WAIT_OBJECTS )
   {
      HANDLE * handles = ( HANDLE * ) hb_xgrab( nLen * sizeof( HANDLE ) );
      HB_SIZE nPos;
      DWORD dwResult;

      for( nPos = 0; nPos < nLen; ++nPos )
         handles[ nPos ] = hb_arrayGetPtr( pArray, nPos + 1 );

      dwResult = WaitForMultipleObjects( nLen, handles, hb_parl( 3 ), ( DWORD ) hb_parnl( 4 ) );

      hbwapi_SetLastError( GetLastError() );
      hb_retnl( dwResult );

      hb_xfree( handles );
   }
   else
      hb_errRT_BASE( EG_ARG, 1001, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( WAPI_WAITFORMULTIPLEOBJECTSEX )
{
#if ! defined( HB_OS_WIN_CE )
   PHB_ITEM pArray = hb_param( 2, HB_IT_ARRAY );
   HB_SIZE nLen = pArray ? hb_arrayLen( pArray ) : 0;

   if( nLen > 0 && nLen <= MAXIMUM_WAIT_OBJECTS )
   {
      HANDLE * handles = ( HANDLE * ) hb_xgrab( nLen * sizeof( HANDLE ) );
      HB_SIZE nPos;
      DWORD dwResult;

      for( nPos = 0; nPos < nLen; ++nPos )
         handles[ nPos ] = hb_arrayGetPtr( pArray, nPos + 1 );

      dwResult = WaitForMultipleObjectsEx( nLen, handles, hb_parl( 3 ), ( DWORD ) hb_parnl( 4 ), hb_parl( 5 ) );

      hbwapi_SetLastError( GetLastError() );
      hb_retnl( dwResult );

      hb_xfree( handles );
   }
   else
      hb_errRT_BASE( EG_ARG, 1001, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
#else
   /* WinCE (WinMobile6) does not support
    * WaitFor{Single,Multiple}Object[Ex]() though it supports:
    * MsgWaitFor{Single,Multiple}Object[Ex]()
    */
   hbwapi_SetLastError( ERROR_INVALID_FUNCTION );
   hb_retnl( 0 );
#endif
}

HB_FUNC( WAPI_SETPROCESSWORKINGSETSIZE )
{
   BOOL bResult;
   DWORD dwLastError;

#if defined( HB_OS_WIN_CE )
   /* WinCE (till WinMobile6) does not support Working Set functions */
   bResult = FALSE;
   dwLastError = ERROR_INVALID_FUNCTION;
#else
   bResult = SetProcessWorkingSetSize(
      wapi_par_HANDLE( 1 ) /* hProcess */,
      ( SIZE_T ) hb_parnint( 2 ) /* dwMinimumWorkingSetSize */,
      ( SIZE_T ) hb_parnint( 3 ) /* dwMaximumWorkingSetSize */ );
   dwLastError = GetLastError();
#endif

   hbwapi_SetLastError( dwLastError );
   wapi_ret_L( bResult );
}

HB_FUNC( WAPI_GETLASTERROR )
{
   hb_retnl( ( long ) hbwapi_GetLastError() );
}

HB_FUNC( WAPI_SETLASTERROR )
{
   DWORD dwLastError = ( DWORD ) hb_parnl( 1 );
   SetLastError( dwLastError );
   hbwapi_SetLastError( dwLastError );
}

HB_FUNC( WAPI_SETERRORMODE )
{
   hb_retni( SetErrorMode( ( UINT ) hb_parni( 1 ) ) );
}

HB_FUNC( WAPI_LOADLIBRARY )
{
   void * hFileName;
   HMODULE hResult = LoadLibrary( HB_PARSTRDEF( 1, &hFileName, NULL ) );

   hbwapi_SetLastError( GetLastError() );
   hb_retptr( hResult );

   hb_strfree( hFileName );
}

HB_FUNC( WAPI_FREELIBRARY )
{
   BOOL bResult = FreeLibrary( ( HMODULE ) hb_parptr( 1 ) );
   hbwapi_SetLastError( GetLastError() );
   wapi_ret_L( bResult );
}

HB_FUNC( WAPI_GETPROCADDRESS )
{
   FARPROC pProc;
   DWORD dwLastError;
   pProc = GetProcAddress( ( HMODULE ) hb_parptr( 1 ), HB_ISCHAR( 2 ) ?
                  hb_parc( 2 ) : ( LPCSTR ) ( HB_PTRDIFF ) hb_parnint( 2 ) );
   dwLastError = GetLastError();
   hbwapi_SetLastError( dwLastError );
   hb_retptr( ( void * ) pProc );
}

/* HMODULE WINAPI GetModuleHandle( __in_opt LPCTSTR lpModuleName ); */
HB_FUNC( WAPI_GETMODULEHANDLE )
{
   void * hModuleName;
   HMODULE hResult = GetModuleHandle( HB_PARSTR( 1, &hModuleName, NULL ) );

   hbwapi_SetLastError( GetLastError() );
   wapi_ret_HANDLE( hResult );

   hb_strfree( hModuleName );
}

/* VOID WINAPI Sleep( __in DWORD dwMilliseconds ); */
HB_FUNC( WAPI_SLEEP )
{
   Sleep( ( DWORD ) hb_parnl( 1 ) );
}

HB_FUNC( WAPI_OUTPUTDEBUGSTRING )
{
   void * hOutputString;

   OutputDebugString( HB_PARSTR( 1, &hOutputString, NULL ) );

   hb_strfree( hOutputString );
}

HB_FUNC( WAPI_FORMATMESSAGE )
{
   void * hSource = NULL;
   void * hBuffer;

   HB_SIZE nBufferLen;

   LPTSTR lpBuffer;
   DWORD dwRetVal;

   ( void ) HB_PARSTR( 5, &hBuffer, &nBufferLen );

   lpBuffer = nBufferLen > 0 ? ( LPTSTR ) hb_xgrab( nBufferLen * sizeof( TCHAR ) ) : NULL;

   dwRetVal = FormatMessage( ( DWORD ) hb_parnldef( 1, FORMAT_MESSAGE_FROM_SYSTEM ) /* dwFlags */,
                             HB_ISCHAR( 2 ) ? ( LPCVOID ) HB_PARSTR( 2, &hSource, NULL ) : hb_parptr( 2 ),
                             HB_ISNUM( 3 ) ? ( DWORD ) hb_parnl( 3 ) : GetLastError() /* dwMessageId */,
                             ( DWORD ) hb_parnldef( 4, MAKELANGID( LANG_NEUTRAL, SUBLANG_DEFAULT ) ) /* dwLanguageId */,
                             lpBuffer,
                             ( DWORD ) nBufferLen,
                             NULL /* TODO: Add support for this parameter. */ );

   hbwapi_SetLastError( GetLastError() );
   hb_retnl( dwRetVal );

   if( lpBuffer )
   {
      HB_STORSTR( dwRetVal ? lpBuffer : NULL, 5 );
      hb_xfree( lpBuffer );
   }
   else
      hb_storc( NULL, 5 );

   hb_strfree( hSource );
   hb_strfree( hBuffer );
}

HB_FUNC( WAPI_MULDIV )
{
   hb_retni( MulDiv( hb_parni( 1 ), hb_parni( 2 ), hb_parni( 3 ) ) );
}

#if !defined( HB_OS_WIN_CE )

/* WinCE does not support GetShortPathName()/GetLongPathName() functions */

typedef DWORD ( WINAPI * _HB_GETPATHNAME ) ( LPCTSTR, LPTSTR, DWORD );

static void s_getPathName( _HB_GETPATHNAME getPathName )
{
   void * hLongPath;
   DWORD length = 0;
   LPCTSTR lpszLongPath = HB_PARSTR( 1, &hLongPath, NULL );

   if( lpszLongPath )
   {
      if( HB_ISBYREF( 2 ) )
      {
         TCHAR buffer[ HB_PATH_MAX ];
         DWORD cchBuffer = ( DWORD ) HB_SIZEOFARRAY( buffer );
         LPTSTR lpszShortPath = buffer;
         HB_BOOL fSize = HB_ISNUM( 3 );

         if( fSize )    /* the size of buffer is limited by user */
         {
            cchBuffer = ( DWORD ) hb_parnl( 3 );
            if( cchBuffer == 0 )
               lpszShortPath = NULL;
            else if( cchBuffer > ( DWORD ) HB_SIZEOFARRAY( buffer ) )
               lpszShortPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
         }

         length = getPathName( lpszLongPath, lpszShortPath, cchBuffer );
         if( !fSize && length > cchBuffer )  /* default buffer size was too small */
         {
            cchBuffer = length;
            lpszShortPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
            length = getPathName( lpszLongPath, lpszShortPath, cchBuffer );
         }
         hbwapi_SetLastError( GetLastError() );
         HB_STORSTRLEN( lpszShortPath, length > cchBuffer ? 0 : length, 2 );
         if( lpszShortPath && lpszShortPath != buffer )
            hb_xfree( lpszShortPath );
      }
      else if( getPathName )
      {
         length = getPathName( lpszLongPath, NULL, 0 );
         hbwapi_SetLastError( GetLastError() );
      }
   }
   hb_retnl( length );
   hb_strfree( hLongPath );
}

HB_FUNC( WAPI_GETSHORTPATHNAME )
{
   s_getPathName( GetShortPathName );
}

#ifdef UNICODE
#  define HB_DLLNAME_A_W( x ) x"W"
#else
#  define HB_DLLNAME_A_W( x ) x"A"
#endif

HB_FUNC( WAPI_GETLONGPATHNAME )
{
   static _HB_GETPATHNAME s_getPathNameAddr = NULL;

   if( !s_getPathNameAddr )
   {
      s_getPathNameAddr = ( _HB_GETPATHNAME )
                    GetProcAddress( GetModuleHandle( TEXT( "kernel32.dll" ) ),
                                    HB_DLLNAME_A_W( "GetLongPathName" ) );
      if( !s_getPathNameAddr )
         s_getPathNameAddr = GetShortPathName;
   }
   s_getPathName( s_getPathNameAddr );
}

/* Version with name declarate [jarabal] */

static void smk_getPathName( _HB_GETPATHNAME getPathName )
{
   void * hLongPath;
   DWORD length = 0;
   LPCTSTR lpszLongPath = HB_PARSTR( 1, &hLongPath, NULL );

   if( lpszLongPath )
   {
      if( HB_ISBYREF( 2 ) )
      {
         TCHAR buffer[ HB_PATH_MAX ];
         DWORD cchBuffer = ( DWORD ) HB_SIZEOFARRAY( buffer );
         LPTSTR lpszShortPath = buffer;
         HB_BOOL fSize = HB_ISNUM( 3 );

         if( fSize )    /* the size of buffer is limited by user */
         {
            cchBuffer = ( DWORD ) hb_parnl( 3 );
            if( cchBuffer == 0 )
               lpszShortPath = NULL;
            else if( cchBuffer > ( DWORD ) HB_SIZEOFARRAY( buffer ) )
               lpszShortPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
         }

         /* I use name declarate but with same algorithm [jarabal] */
         length = GetLongPathName( lpszLongPath, lpszShortPath, cchBuffer );
         if( !fSize && length > cchBuffer )  /* default buffer size was too small */
         {
            cchBuffer = length;
            lpszShortPath = ( LPTSTR ) hb_xgrab( cchBuffer * sizeof( TCHAR ) );
            length = getPathName( lpszLongPath, lpszShortPath, cchBuffer );
         }
         hbwapi_SetLastError( GetLastError() );
         HB_STORSTRLEN( lpszShortPath, length > cchBuffer ? 0 : length, 2 );
         if( lpszShortPath && lpszShortPath != buffer )
            hb_xfree( lpszShortPath );
      }
      else if( getPathName )
      {
         length = getPathName( lpszLongPath, NULL, 0 );
         hbwapi_SetLastError( GetLastError() );
      }
   }
   hb_retnl( length );
   hb_strfree( hLongPath );
}

HB_FUNC( MK_GETLONGPATHNAME )
{
   static _HB_GETPATHNAME s_getPathNameAddr = NULL;

   if( !s_getPathNameAddr )
   {
      s_getPathNameAddr = ( _HB_GETPATHNAME )
                    GetProcAddress( GetModuleHandle( TEXT( "kernel32.dll" ) ),
                                    HB_DLLNAME_A_W( "GetLongPathName" ) );
      if( !s_getPathNameAddr )
         s_getPathNameAddr = GetShortPathName;
   }
   /* s_getPathName( s_getPathNameAddr );
      I use name declarate but with same algorithm [jarabal] */
   smk_getPathName( GetLongPathName );
}
#endif
From carlo.borelli at gmail.com  Sun Feb 14 15:13:00 2010
From: carlo.borelli at gmail.com (Carlo Borelli)
Date: Sun Feb 14 15:13:27 2010
Subject: [Harbour] Error building qtide
Message-ID: <f60d50831002141213l6bd7e28ct60833815552b8c37@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: hb.log
Type: application/octet-stream
Size: 11217 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100214/bec789c3/hb-0001.obj
From vszakats at users.sourceforge.net  Sun Feb 14 16:00:35 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 14 16:00:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13875] trunk/harbour
Message-ID: <E1NglZz-0002lX-Mj@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13875
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13875&view=rev
Author:   vszakats
Date:     2010-02-14 21:00:34 +0000 (Sun, 14 Feb 2010)

Log Message:
-----------
2010-02-14 21:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/tests/testdll1.prg
    + Displaying success/failure.

  * contrib/hbwin/win_dllf.prg
    % Using hashes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testdll1.prg
    trunk/harbour/contrib/hbwin/win_dllf.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tech at 2dinfo.com.br  Sun Feb 14 16:41:42 2010
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Sun Feb 14 16:42:09 2010
Subject: [Harbour] How to build and use pCode DLL with hbmk2
In-Reply-To: <20100214110819.GB4296@linux-4bod.home.aster.pl>
References: <8C1B7ED431344E3D8E58002ADC0B8191@deskleo><4E0EE338-607B-4264-81E9-BAB08136C566@syenar.hu><20100208141036.GA23098@linux-4bod.home.aster.pl><D10B5CBD194247FEBB91A0E58212EA7F@deskleo><20100208225319.GA31329@linux-4bod.home.aster.pl><217C56499B304AB8A6AA547600ACB085@deskleo><3A26D619530744B385DC04F3B559BD6A@deskleo><20100209210117.GB26505@linux-4bod.home.aster.pl><5050E05DAD17403F9143E29C84847524@NoteLeo>
	<20100214110819.GB4296@linux-4bod.home.aster.pl>
Message-ID: <D6A37112D9E54E4E856500EC37A627AC@NoteLeo>

>> Is the proceding defined?
>
> Read the ChangeLog.
> You do not have to even use it.
>
>> Should I test it already?
>
> I already tested it but as I said you do not have to use it at all.

I'll surely try HRB files as you suggested, but first I want to see how it 
works  with pCode DLLs.
Thank you very much
Best regards
Leandro

 

From carlo.borelli at gmail.com  Sun Feb 14 16:48:10 2010
From: carlo.borelli at gmail.com (Carlo Borelli)
Date: Sun Feb 14 16:48:37 2010
Subject: [Harbour] Re: Error building qtide
In-Reply-To: <f60d50831002141213l6bd7e28ct60833815552b8c37@mail.gmail.com>
References: <f60d50831002141213l6bd7e28ct60833815552b8c37@mail.gmail.com>
Message-ID: <f60d50831002141348y109dd192seaaec4d3e62d5f31@mail.gmail.com>

Hi all, I'm getting some errors building hbide, attached here compilation
> log.
> With Debian Lenny I can't compile Harbour with HBQT libraries due to the
> limitations of lenny qt libraries. Any advice?
> Thank you.
> Carlo.
>
>
Ok, solved, I was using mingw without the seven DWARF-2 stack frame
unwinding.
I still wait some advices about building HB on Debian Lenny with official
shipped QT 4.4.
Thank you.
-- 
Registered Linux User #249354
"Ad astra per aspera"
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100214/7f2a6159/attachment.html
From harbour.01 at syenar.hu  Sun Feb 14 16:52:07 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 14 16:52:17 2010
Subject: [Harbour] Re: Error building qtide
In-Reply-To: <f60d50831002141348y109dd192seaaec4d3e62d5f31@mail.gmail.com>
References: <f60d50831002141213l6bd7e28ct60833815552b8c37@mail.gmail.com>
	<f60d50831002141348y109dd192seaaec4d3e62d5f31@mail.gmail.com>
Message-ID: <14862D6D-D230-4FC8-9B0B-F9C8DF70885B@syenar.hu>

Hi,

> Hi all, I'm getting some errors building hbide, attached here compilation log.
> With Debian Lenny I can't compile Harbour with HBQT libraries due to the limitations of lenny qt libraries. Any advice?
> Thank you.
> Carlo.
> 
> 
> Ok, solved, I was using mingw without the seven DWARF-2 stack frame unwinding.
> I still wait some advices about building HB on Debian Lenny with official shipped QT 4.4.

Harbour requires QT 4.5 or upper. Older versions 
have improper licensing, so it's not a goal to support it.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Sun Feb 14 21:15:10 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Feb 14 21:15:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13876] trunk/harbour
Message-ID: <E1NgqUQ-0007TC-LH@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13876
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13876&view=rev
Author:   vouchcac
Date:     2010-02-15 02:15:09 +0000 (Mon, 15 Feb 2010)

Log Message:
-----------
2010-02-14 17:34 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/wvgscrlb.prg
    ! Defined method :configure() as VIRTUAL.

  * contrib/hbqt/qth/HBQPlainTextEdit.qth
  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h
  * contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
  * contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    + Added class variable :block which can be set with qEdit:hbSetEventBlock( bBlock ).
      I did not set it via the constructor as it is implementation specific.
      The goal was to capture mouse or other events which are consumed by 
      parent class itself and are not forwarded to the widget. At present 
      it is used to inform double-click event to qEdit and is scheduled 
      to be extended.

  * contrib/hbqt/hbqt_misc.prg
    + Added method :from(), synonymous to :configure() to avoid grasping confusion.
      Now both syntaxes are supported:
        qCursor := QTextCursor():configure( qEdit:textCursor() )
        qCursor := QTextCursor():from( qEdit:textCursor() )

  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideprojmanager.prg

    + Project Management: enabled "Launch Parameters" which are supplied to the 
                            executable if "Launch..." is selected with build 
                            or otherwise.
                        : supressed auto expansion of "Current Project" at startup.
                            Was a constant cause of annoyance if the project tree 
                            been fairly large.
    + Docking Windows: reworked to occupy proper corners. 
                         Please delete idesettings.ini.

    ! Find_Replace Dialog: set to find from begining if "Find What" is changed.

    ! Code Skeletons: fixed to not append blank lines while called.
                    : selection menu appears at the current cursor coordinates.

    + Editor: double-click on some word place the selection in copy buffer in case 
                that word is selected. This feature I always wished-for in xMate.

    + Editor: highly .prg code suited indentation engine. It comprise so many 
                factors to explain. Please test. I feel you will be really happy.
                Also let me know what else can be implemented. Code is now 
                under my grasp and probably more ideas are already building up.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgscrlb.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h
    trunk/harbour/contrib/hbqt/hbqt_misc.prg
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/THBQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qth/HBQPlainTextEdit.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sun Feb 14 22:39:41 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb 14 22:40:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13865] trunk/harbour
In-Reply-To: <4C54E866-A609-4DB8-B89D-47117206C450@syenar.hu>
References: <E1NgNZ9-0003XQ-Ve@sfp-svn-6.v30.ch3.sourceforge.com>	<4B770505.6060101@gmail.com>
	<4C54E866-A609-4DB8-B89D-47117206C450@syenar.hu>
Message-ID: <4B78C1FD.6010801@gmail.com>

Hi Viktor,

> There is GPF when trying it without length.
> (replace hb_parclen() with -1 in hb_u32ret() calls)
>
> Any idea why?

Sorry, I don't have GPG with 13873 in ANSI/UNICODE with -1 .-

#define CSIDL_ADMINTOOLS            0x0030 /* <username>\Start Menu\Programs\Administrative Tools */
#define MAX_PATH 260

PROCEDURE Main()
    LOCAL cData

    cData := Space( MAX_PATH )
    DllCall( "shell32.dll", NIL, "SHGetFolderPath", 0, CSIDL_ADMINTOOLS, 0, 0, @cData )
    ? "[" + cData + "]"
    cData += '\'
    ? "[" + cData + "]"

    WAIT
    RETURN

The result is Ok .-

[C:\Documents and Settings\Xavi\Men? Inicio\Programas\Herramientas administrativas]
[C:\Documents and Settings\Xavi\Men? Inicio\Programas\Herramientas administrativas\]

In Spanish this requires UNICODE due to accent in word "Men?". :)

Best regards,
Xavi
From druzus at users.sourceforge.net  Mon Feb 15 04:06:00 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb 15 04:06:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13877] trunk/harbour
Message-ID: <E1Ngwu0-0005ny-AS@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13877
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13877&view=rev
Author:   druzus
Date:     2010-02-15 09:05:58 +0000 (Mon, 15 Feb 2010)

Log Message:
-----------
2010-02-15 10:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbvm.h
  * harbour/src/vm/hvm.c
    + added new C function hb_vmFindFuncSym() which looks for function with
      given name registered in HVM by dynamically loaded library. It looks
      for public function and if public function cannot be located it tries
      to find first static function which has requested name.

  * harbour/include/hbapi.h
  * harbour/src/vm/dynlibhb.c
    + added new C functions to manage dynamic libraries:
         PHB_ITEM hb_libLoad( PHB_ITEM pLibName, PHB_ITEM pArgs );
         HB_BOOL hb_libFree( PHB_ITEM pDynLib );
         void * hb_libHandle( PHB_ITEM pDynLib );
         void * hb_libSymAddr( PHB_ITEM pDynLib, const char * pszSymbol );

  * harbour/include/hbextern.ch
  * harbour/src/vm/dynlibhb.c
    - removed HB_LIBDO() PRG function. If someone used it then please
      use DO() instead
    + added new PRG function:
         HB_LIBGETFUNSYM( <pLibHandle>, <cFuncName> ) -> <sFuncSym> | NIL
      It works in similar way to HB_HRBGETFUNSYM() but it looks for
      PRG function in given library. It tries to find public function
      and if such function does not exists it looks for first static one.
      <pLibHandle> is library handle returned by HB_LIBLOAD()
      <cFuncName> is PRG function name.
      <sFuncSym> is symbol of located function
      If function can be found HB_LIBGETFUNSYM() returns NIL.
      Warning: this function returns only symbols for functions registered
               in HVM when library was loaded. It will not return symbols
               for functions written in C and not explicitly registered
               using own symbol table.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbextern.ch
    trunk/harbour/include/hbvm.h
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 15 04:14:22 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 15 04:14:38 2010
Subject: [Harbour] win - making UNICODE the default
Message-ID: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>

Hi All,

I'd like to gather opinions on switching default Harbour 
Windows builds to UNICODE mode in next major release.

Advantages:
  - Runs more efficiently on NT-class OSes since 
    we're using native API instead of ANSI wrappers, 
    and the OS-level CP conversion is saved also.
  - Harbour level CP configuration is much easier for GTs.
  - Will run even more efficiently when implementing 
    native UNICODE support inside HVM.
  - Some languages can only be supported in UNICODE mode.
  - We're in sync with all Harbour Windows builds and 
    also with WinCE builds, which already have UNICODE 
    enabled.

Disadvantage:
  - Apps won't run on Win9x OSes anymore. Here there 
    exists a solution, unicows lib:
        http://msdn.microsoft.com/en-us/goglobal/bb688166.aspx

Notes:
  - UNICODE is already enabled by default for 
    MSVC 2005 and upper, and WinCE. MSVC 2008 
    and upper doesn't even support non-UNICODE 
    anymore.
  - non-UNICODE can be enabled for custom Harbour 
    builds anytime using build-time option:
       HB_BUILD_UNICODE=no.

Opinions?

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Feb 15 04:39:08 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 15 04:39:19 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
Message-ID: <4B79163C.6020309@libero.it>

Hi all,

I see that there are xpp compatibility objects available inside src/rtl and
inside contrib/xpp which make me wonder why we have a xpp library when part of
it is already inside runtime library.

Shouldn't the xpp compatibility bits be inside xpp library only?

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Feb 15 04:50:17 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 15 04:50:32 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <4B79163C.6020309@libero.it>
References: <4B79163C.6020309@libero.it>
Message-ID: <875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>

Hi Maurilio and All,

On 2010 Feb 15, at 10:39, Maurilio Longo wrote:

> Hi all,
> 
> I see that there are xpp compatibility objects available inside src/rtl and
> inside contrib/xpp which make me wonder why we have a xpp library when part of
> it is already inside runtime library.
> 
> Shouldn't the xpp compatibility bits be inside xpp library only?

Yes, that's the plan. I left them there in core for 
compatibility and to gather some feedback until final 
decision.

Actually the issue is wider, as we have FoxPro, 
FlagShip and C53 functions in core, which would 
require similar "treatment".

My idea was to move all non-C52e function to 
"dialect" libs. Questions are: where to draw 
the line? (f.e. C53 may be better left in core), 
and how to name and where to place these "dialect" 
libs.

Probably it would be best to keep them in contrib 
area, and give them some distinctive lib prefix, 
f.e. 'hdxpp', 'hdxhb', 'hdfs', 'hdclip', 'hdfox'.

If we agree on the naming, placement and the fact 
that some .prg-level FlagShip, FoxPro stuff will 
move out from core. I'm ready to make the move.

Opinions are welcome.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Feb 15 04:52:48 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 15 04:53:16 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
Message-ID: <609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>

+1 UNICODE mode for window build
What steep for give harbour "full unicode support"?

2010/2/15 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi All,
>
> I'd like to gather opinions on switching default Harbour
> Windows builds to UNICODE mode in next major release.
>
> Advantages:
>  - Runs more efficiently on NT-class OSes since
>    we're using native API instead of ANSI wrappers,
>    and the OS-level CP conversion is saved also.
>  - Harbour level CP configuration is much easier for GTs.
>  - Will run even more efficiently when implementing
>    native UNICODE support inside HVM.
>  - Some languages can only be supported in UNICODE mode.
>  - We're in sync with all Harbour Windows builds and
>    also with WinCE builds, which already have UNICODE
>    enabled.
>
> Disadvantage:
>  - Apps won't run on Win9x OSes anymore. Here there
>    exists a solution, unicows lib:
>        http://msdn.microsoft.com/en-us/goglobal/bb688166.aspx
>
> Notes:
>  - UNICODE is already enabled by default for
>    MSVC 2005 and upper, and WinCE. MSVC 2008
>    and upper doesn't even support non-UNICODE
>    anymore.
>  - non-UNICODE can be enabled for custom Harbour
>    builds anytime using build-time option:
>       HB_BUILD_UNICODE=no.
>
> Opinions?
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/238e6880/attachment.html
From mbelgrano at deltain.it  Mon Feb 15 05:02:16 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 15 05:02:44 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
References: <4B79163C.6020309@libero.it>
	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
Message-ID: <609353e71002150202y16f9f1ffq58138355a24f052d@mail.gmail.com>

VFP require switch to compiler to accept the "." instead of the ":" in
terms of OO syntax to make compilation of VFP code easier.

Possible do in a lib?

2010/2/15 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi Maurilio and All,
>
> On 2010 Feb 15, at 10:39, Maurilio Longo wrote:
>
> > Hi all,
> >
> > I see that there are xpp compatibility objects available inside src/rtl
> and
> > inside contrib/xpp which make me wonder why we have a xpp library when
> part of
> > it is already inside runtime library.
> >
> > Shouldn't the xpp compatibility bits be inside xpp library only?
>
> Yes, that's the plan. I left them there in core for
> compatibility and to gather some feedback until final
> decision.
>
> Actually the issue is wider, as we have FoxPro,
> FlagShip and C53 functions in core, which would
> require similar "treatment".
>
> My idea was to move all non-C52e function to
> "dialect" libs. Questions are: where to draw
> the line? (f.e. C53 may be better left in core),
> and how to name and where to place these "dialect"
> libs.
>
> Probably it would be best to keep them in contrib
> area, and give them some distinctive lib prefix,
> f.e. 'hdxpp', 'hdxhb', 'hdfs', 'hdclip', 'hdfox'.
>
> If we agree on the naming, placement and the fact
> that some .prg-level FlagShip, FoxPro stuff will
> move out from core. I'm ready to make the move.
>
> Opinions are welcome.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/ef76f3a6/attachment.html
From harbour.01 at syenar.hu  Mon Feb 15 05:03:55 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 15 05:04:08 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>
Message-ID: <B5064325-1545-44BC-9647-FD8DFF39E522@syenar.hu>

> +1 UNICODE mode for window build
> What steep for give harbour "full unicode support"?

We need new HB_ITEM type, separate UNICODE 
API calls (mostly ready), we need to switch 
internally to use new UNICODE Harbour API 
calls, extend existing one to convert to non-UNICODE 
for UNICODE items, and we will have to decide 
which high level functions to switch to UNICODE 
completely and how. Compiler will have to extended 
to read UNICODE files, and also non-UNICODE ones, 
where we will have to tell the CP used.
For this we need to move out whole CP handling 
to hbcommon lib.

By and large, and I probably missed some issues.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Feb 15 05:04:50 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 15 05:05:00 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <609353e71002150202y16f9f1ffq58138355a24f052d@mail.gmail.com>
References: <4B79163C.6020309@libero.it>
	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
	<609353e71002150202y16f9f1ffq58138355a24f052d@mail.gmail.com>
Message-ID: <DD37A4D2-4A1B-4AD2-9F57-8139E01647CA@syenar.hu>

> VFP require switch to compiler to accept the "." instead of the ":" in terms of OO syntax to make compilation of VFP code easier.
> Possible do in a lib?

It's possible via a .ch header, which can be part of 
such lib (package).

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Feb 15 05:08:54 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 15 05:09:09 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
References: <4B79163C.6020309@libero.it>
	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
Message-ID: <4B791D36.3020402@libero.it>

Viktor,

I'd say that clipper, all versions, inside core, while xpp and vfp in contrib
like hbxpp or even xpp.

Best regards.

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio and All,
> 
> On 2010 Feb 15, at 10:39, Maurilio Longo wrote:
> 
>> Hi all,
>>
>> I see that there are xpp compatibility objects available inside src/rtl and
>> inside contrib/xpp which make me wonder why we have a xpp library when part of
>> it is already inside runtime library.
>>
>> Shouldn't the xpp compatibility bits be inside xpp library only?
> 
> Yes, that's the plan. I left them there in core for 
> compatibility and to gather some feedback until final 
> decision.
> 
> Actually the issue is wider, as we have FoxPro, 
> FlagShip and C53 functions in core, which would 
> require similar "treatment".
> 
> My idea was to move all non-C52e function to 
> "dialect" libs. Questions are: where to draw 
> the line? (f.e. C53 may be better left in core), 
> and how to name and where to place these "dialect" 
> libs.
> 
> Probably it would be best to keep them in contrib 
> area, and give them some distinctive lib prefix, 
> f.e. 'hdxpp', 'hdxhb', 'hdfs', 'hdclip', 'hdfox'.
> 
> If we agree on the naming, placement and the fact 
> that some .prg-level FlagShip, FoxPro stuff will 
> move out from core. I'm ready to make the move.
> 
> Opinions are welcome.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From bedipritpal at hotmail.com  Mon Feb 15 05:23:08 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 15 05:23:15 2010
Subject: [Harbour] MSVC 8 - Application Build Errors
Message-ID: <1266229388367-4573772.post@n2.nabble.com>


Hi

Today I compiled all my libraries under hbIDE with MSVC 8 ,
everything went almost fine but for the error reported below.

msimg32.lib wininet.lib hbpcre.lib hbzlib.lib
c:\dev_sources\dev_resources\vouch.res c:\dev_sources\dev_resources\ar32.res

hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
_png_get_io_ptr referenced in function "void __cdecl hb_png_read_func(struct
png_struct_def *,unsigned char *,unsigned int)"
(?hb_png_read_func@@YAXPAUpng_struct_def@@PAEI@Z)
hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
_png_get_IHDR referenced in function "int __cdecl hb_png_get_param(unsigned
char const *,unsigned long,int *,int *,int *,int *)"
(?hb_png_get_param@@YAHPBEKPAH111@Z)
hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
_png_read_info referenced in function "int __cdecl hb_png_get_param(unsigned
char const *,unsigned long,int *,int *,int *,int *)"
(?hb_png_get_param@@YAHPBEKPAH111@Z)
hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
_png_set_read_fn referenced in function "int __cdecl
hb_png_get_param(unsigned char const *,unsigned long,int *,int *,int *,int
*)" (?hb_png_get_param@@YAHPBEKPAH111@Z)
hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
_png_set_sig_bytes referenced in function "int __cdecl
hb_png_get_param(unsigned char const *,unsigned long,int *,int *,int *,int
*)" (?hb_png_get_param@@YAHPBEKPAH111@Z)
hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
_png_destroy_read_struct referenced in function "int __cdecl
hb_png_get_param(unsigned char const *,unsigned long,int *,int *,int *,int
*)" (?hb_png_get_param@@YAHPBEKPAH111@Z)
hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
_png_create_info_struct referenced in function "int __cdecl
hb_png_get_param(unsigned char const *,unsigned long,int *,int *,int *,int
*)" (?hb_png_get_param@@YAHPBEKPAH111@Z)
hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
_png_create_read_struct referenced in function "int __cdecl
hb_png_get_param(unsigned char const *,unsigned long,int *,int *,int *,int
*)" (?hb_png_get_param@@YAHPBEKPAH111@Z)
hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
_png_sig_cmp referenced in function "int __cdecl hb_png_get_param(unsigned
char const *,unsigned long,int *,int *,int *,int *)"
(?hb_png_get_param@@YAHPBEKPAH111@Z)
hbqt.lib(hbqt_base.obj) : error LNK2019: unresolved external symbol
_GetProcessMemoryInfo@12 referenced in function "int __cdecl
hbqt_getmemused(void)" (?hbqt_getmemused@@YAHXZ)
c:\dev_projects\harbour\vouch\vouch.exe : fatal error LNK1120: 10 unresolved
externals


Where should I start looking?

Plus ( reported few months back )

contrib/xhb/dbgfxc.c : unless I place 

#if defined(_MSC_VER)
void hb_OutDebug( const char * szMsg, HB_SIZE ulMsgLen )
{
}
#endif

on top of :

void hb_ToOutDebug( const char * sTraceMsg, ... ){}

I get unresolved external _hb_OutDebug()

The above issue can be solved reordering the .c files in the makefile.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/MSVC-8-Application-Build-Errors-tp4573772p4573772.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Mon Feb 15 05:51:34 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb 15 05:51:43 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
References: <4B79163C.6020309@libero.it>
	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
Message-ID: <20100215105134.GA4166@linux-4bod.home.aster.pl>

On Mon, 15 Feb 2010, Szak?ts Viktor wrote:

Hi,

> My idea was to move all non-C52e function to 
> "dialect" libs. Questions are: where to draw 
> the line? (f.e. C53 may be better left in core), 
> and how to name and where to place these "dialect" 
> libs.

IMO C53 has to be definitely in core.
I.e. CL52 RDD model is unfinished and disabling CL53
compatible code is very serious limitation.

> Probably it would be best to keep them in contrib 
> area, and give them some distinctive lib prefix, 
> f.e. 'hdxpp', 'hdxhb', 'hdfs', 'hdclip', 'hdfox'.

It's not possible to give good support for above
extensions using only separated libraries. There are
things which has to be implemented as compiler or
preprocessor extensions. Some other things has to
be add to RDD code. I do not see any easy way to
separated DBF RDD and create 4 or 5 different RDDs
supporting only chosen subset of global functionality
without creating copy of existing code.

I agree that it's good to keep most of functions in
separated libraries but we should not claim that its
the method of adding full compatibility layer for
other xbase dialects. It's not and never be.

> If we agree on the naming, placement and the fact 
> that some .prg-level FlagShip, FoxPro stuff will 
> move out from core. I'm ready to make the move.

There is one very serious problem.
We do not have support for shared libraries in contrib
and some tools like HBRUN are linked only with core
libraries. For many people it's problem (they usually
ask about HBCT functionality which is default part of
Clipper for them) and we should try to resolve it first
(i.e. loading dynamically contrib shared libraries).
Now each function you moved from core to contrib is one
function less in HBRUN.

There are also extensions to existing functions. Now they
are enabled. When we move to separate libraries then we will
have to copy such functions replicating a lot of code just
to change few bytes or add some runtime emulation for current
compile time switches.
Both methods are possible only for functions which makes
some operations directly but for functions which depends
on some low level code like RDD it will not work some
extended functionality will still work. It means that
only someone who check Harbour source code can guess
when he has to use copy of existing functions i.e.
XPP_TRANSFROM() because core TRANSFROM() does not give
the same results. And of course it will cause that
such functions cannot be used in index KEY or FOR
expressions when data is shared between programs compiled
by different languages. I haven't checked how big is such
problem, xbase++ seems to have quite big number of
extensions to Clipper in standard functions and we are
supporting only few of them but I was never xbase++ user
so I cannot help here much.

BTW Maurilio you were asking about some compatibility
problem with TTHREAD class. If you know xbase++ then
please update this code. Not everything can be emulated
i.e. Harbour (just like Clipper) does not use different
messages to access instance variables and to execute
methods so you cannot implement atEnd() method and have
atEnd() variable but there are many other things which
should be added to this class yet.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Feb 15 05:56:35 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb 15 05:56:42 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <609353e71002150202y16f9f1ffq58138355a24f052d@mail.gmail.com>
References: <4B79163C.6020309@libero.it>
	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
	<609353e71002150202y16f9f1ffq58138355a24f052d@mail.gmail.com>
Message-ID: <20100215105634.GB4166@linux-4bod.home.aster.pl>

On Mon, 15 Feb 2010, Massimo Belgrano wrote:
> VFP require switch to compiler to accept the "." instead of the ":" in
> terms of OO syntax to make compilation of VFP code easier.
> Possible do in a lib?

This can be emulated by simple PP rule so it's enough to
create vfp.ch with this line:

   #xtranslate .<!msg!> => :<msg>

and use compiler switch like:
   -u+vfp.ch

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Feb 15 06:14:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 15 06:14:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour
Message-ID: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13878
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13878&view=rev
Author:   vszakats
Date:     2010-02-15 11:14:14 +0000 (Mon, 15 Feb 2010)

Log Message:
-----------
2010-02-15 12:09 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * Changed to use win-make/dos-make in examples.

  * contrib/hbwin/win_tbmp.prg
    - Deleted XBPBITMAP class mapped to WIN_BMP.
      This should be the job of HBXBP.

  * contrib/xpp/xpp.hbc
  + contrib/xpp/tests
  + contrib/xpp/tests/testdll.prg
  * contrib/xpp/Makefile
  + contrib/xpp/win_dllx.c
  * contrib/hbwin/Makefile
  - contrib/hbwin/win_dllx.c
  * contrib/hbwin/tests/testdll.prg
    + Moved Xbase++ compatible DLL functions to xpp lib.
    * INCOMPATIBLE change. If you use these functions (DLL*())
      add xpp lib to your lib list.
    ; Finally we don't have any HB_COMPAT_* dependent parts
      in hbwin.

  * contrib/hbwin/hbwin.ch
    * Changed to use full (0xFF) color components for RGB presets.

  * contrib/gtwvg/Makefile
    * Deleted trailing spaces.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_tbmp.prg
    trunk/harbour/contrib/xpp/Makefile
    trunk/harbour/contrib/xpp/xpp.hbc

Added Paths:
-----------
    trunk/harbour/contrib/xpp/tests/
    trunk/harbour/contrib/xpp/tests/testdll.prg
    trunk/harbour/contrib/xpp/win_dllx.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbwin/win_dllx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 15 06:29:07 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 15 06:29:20 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <20100215105134.GA4166@linux-4bod.home.aster.pl>
References: <4B79163C.6020309@libero.it>
	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
	<20100215105134.GA4166@linux-4bod.home.aster.pl>
Message-ID: <6CA62FE4-836A-4D0E-8914-AEC067B2BFB5@syenar.hu>

Hi,

>> My idea was to move all non-C52e function to 
>> "dialect" libs. Questions are: where to draw 
>> the line? (f.e. C53 may be better left in core), 
>> and how to name and where to place these "dialect" 
>> libs.
> 
> IMO C53 has to be definitely in core.
> I.e. CL52 RDD model is unfinished and disabling CL53
> compatible code is very serious limitation.

I agree.

>> Probably it would be best to keep them in contrib 
>> area, and give them some distinctive lib prefix, 
>> f.e. 'hdxpp', 'hdxhb', 'hdfs', 'hdclip', 'hdfox'.
> 
> It's not possible to give good support for above
> extensions using only separated libraries. There are
> things which has to be implemented as compiler or
> preprocessor extensions. Some other things has to
> be add to RDD code. I do not see any easy way to
> separated DBF RDD and create 4 or 5 different RDDs
> supporting only chosen subset of global functionality
> without creating copy of existing code.
> 
> I agree that it's good to keep most of functions in
> separated libraries but we should not claim that its
> the method of adding full compatibility layer for
> other xbase dialects. It's not and never be.

It's fine for me. So we don't declare "full" 
compatibility, but f.e. compatibility with some 
extended RTL features. To declare full compatibility, 
we would need 100% coverage of these extended 
features, which is not a realistic goal anyway, 
but at least we allow for the possibility.

>> If we agree on the naming, placement and the fact 
>> that some .prg-level FlagShip, FoxPro stuff will 
>> move out from core. I'm ready to make the move.
> 
> There is one very serious problem.
> We do not have support for shared libraries in contrib
> and some tools like HBRUN are linked only with core
> libraries. For many people it's problem (they usually
> ask about HBCT functionality which is default part of
> Clipper for them) and we should try to resolve it first
> (i.e. loading dynamically contrib shared libraries).
> Now each function you moved from core to contrib is one
> function less in HBRUN.

This is a problem, but this it is a problem regardless 
of this specific decision as you also say.

We'd need to use hbmk2 to build contribs, or develop 
.dll build for contribs using GNU Make system to solve 
this completely.

> There are also extensions to existing functions. Now they
> are enabled. When we move to separate libraries then we will
> have to copy such functions replicating a lot of code just
> to change few bytes or add some runtime emulation for current
> compile time switches.
> Both methods are possible only for functions which makes
> some operations directly but for functions which depends
> on some low level code like RDD it will not work some
> extended functionality will still work. It means that

As for RDDs, I'd leave it out from this, as we practically 
have no such problems at the moment, and RDDs are generally 
meant to interoperate, so there less change for such "rogue" 
extensions, we may find in other places. I'd leave it 
as it is.

> only someone who check Harbour source code can guess
> when he has to use copy of existing functions i.e.
> XPP_TRANSFROM() because core TRANSFROM() does not give
> the same results. And of course it will cause that
> such functions cannot be used in index KEY or FOR
> expressions when data is shared between programs compiled
> by different languages. I haven't checked how big is such
> problem, xbase++ seems to have quite big number of
> extensions to Clipper in standard functions and we are
> supporting only few of them but I was never xbase++ user
> so I cannot help here much.

As a general direction: We can't solve all the babel-tower
effect caused by other Clipper implementations, and it's 
not even our goal. Our goal is to help resolve the situation 
as much as technically and sanely possible. This means 
we can give some place for compatibility functions, with 
a clear layout and instructions for those who want to use 
these non-CA-Clipper/non-Harbour features. BTW, if some 
of them is so important for us, we can pull it to core 
by using a fitting name for Harbour core (though usually 
we will give a better implementation).

The real fun here is of course when existing functions are 
extended. This usually means the extension will collide 
with some other dialects.

Luckily we don't have much of this issue in current core.

For Xbase++ there is only 1-2 such places in core, one 
of them is TRANSFORM(). We can do a few things here:
Delete the feature, include the feature in core unconditionally, 
or introduce <prefix>_TRANSFORM() alternate version. 
All of them has pros and cons, I like the third approach 
best. There is a fourth option: We can simply name it 
TRANSFORM() in xpp lib and let it override the core one, 
if linked that way. If we make it granular enough, it can 
work.

Anyway, it'd be important to chose something, because 
current mess in this area is surely worse than anything 
which is clearly defined. And we delay the decision for 
many years now.

Brgds,
Viktor

From druzus at users.sourceforge.net  Mon Feb 15 06:34:20 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb 15 06:34:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13879] trunk/harbour
Message-ID: <E1NgzDY-0005oG-0O@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13879
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13879&view=rev
Author:   druzus
Date:     2010-02-15 11:34:18 +0000 (Mon, 15 Feb 2010)

Log Message:
-----------
2010-02-15 12:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvm.c
    * minor cleanup

  * harbour/src/vm/dynlibhb.c
    ! added missing #include "hbwince.h"

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 15 06:51:28 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 15 06:51:39 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <4B791D36.3020402@libero.it>
References: <4B79163C.6020309@libero.it>
	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
	<4B791D36.3020402@libero.it>
Message-ID: <0A137900-1974-4C37-90A9-7CE8C1C3DFAE@syenar.hu>

Hi Maurilio,

> Viktor,
> 
> I'd say that clipper, all versions, inside core, while xpp and vfp in contrib
> like hbxpp or even xpp.

I agree. What names to use?

Somewhat unorthodox, but we can simply prefix them 
with 'x' in contrib, so we will have these:

   xhb
   xpp
   xclip
   xfship
   xfoxpro (visual and all, but we can use 'xvfp')
   xdbase
   xvo

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Feb 15 07:07:24 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 15 07:07:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13877] trunk/harbour
In-Reply-To: <E1Ngwu0-0005ny-AS@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Ngwu0-0005ny-AS@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <A5BD32CF-0E40-4B54-A824-62D9660F4B23@syenar.hu>

Hi Przemek,

How to verify from .c code if a given PHB_ITEM is a valid 
lib handler item?

Also, is it possible to create a portable "getprocaddress" 
functionality in core?

Brgds,
Viktor

On 2010 Feb 15, at 10:06, druzus@users.sourceforge.net wrote:

> Revision: 13877
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13877&view=rev
> Author:   druzus
> Date:     2010-02-15 09:05:58 +0000 (Mon, 15 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-15 10:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbvm.h
>  * harbour/src/vm/hvm.c
>    + added new C function hb_vmFindFuncSym() which looks for function with
>      given name registered in HVM by dynamically loaded library. It looks
>      for public function and if public function cannot be located it tries
>      to find first static function which has requested name.
> 
>  * harbour/include/hbapi.h
>  * harbour/src/vm/dynlibhb.c
>    + added new C functions to manage dynamic libraries:
>         PHB_ITEM hb_libLoad( PHB_ITEM pLibName, PHB_ITEM pArgs );
>         HB_BOOL hb_libFree( PHB_ITEM pDynLib );
>         void * hb_libHandle( PHB_ITEM pDynLib );
>         void * hb_libSymAddr( PHB_ITEM pDynLib, const char * pszSymbol );
> 
>  * harbour/include/hbextern.ch
>  * harbour/src/vm/dynlibhb.c
>    - removed HB_LIBDO() PRG function. If someone used it then please
>      use DO() instead
>    + added new PRG function:
>         HB_LIBGETFUNSYM( <pLibHandle>, <cFuncName> ) -> <sFuncSym> | NIL
>      It works in similar way to HB_HRBGETFUNSYM() but it looks for
>      PRG function in given library. It tries to find public function
>      and if such function does not exists it looks for first static one.
>      <pLibHandle> is library handle returned by HB_LIBLOAD()
>      <cFuncName> is PRG function name.
>      <sFuncSym> is symbol of located function
>      If function can be found HB_LIBGETFUNSYM() returns NIL.
>      Warning: this function returns only symbols for functions registered
>               in HVM when library was loaded. It will not return symbols
>               for functions written in C and not explicitly registered
>               using own symbol table.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbapi.h
>    trunk/harbour/include/hbextern.ch
>    trunk/harbour/include/hbvm.h
>    trunk/harbour/src/vm/dynlibhb.c
>    trunk/harbour/src/vm/hvm.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Feb 15 07:35:48 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb 15 07:35:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13877] trunk/harbour
In-Reply-To: <A5BD32CF-0E40-4B54-A824-62D9660F4B23@syenar.hu>
References: <E1Ngwu0-0005ny-AS@sfp-svn-2.v30.ch3.sourceforge.com>
	<A5BD32CF-0E40-4B54-A824-62D9660F4B23@syenar.hu>
Message-ID: <20100215123547.GA5482@linux-4bod.home.aster.pl>

On Mon, 15 Feb 2010, Szak?ts Viktor wrote:

Hi,

> How to verify from .c code if a given PHB_ITEM is a valid 
> lib handler item?

   void * hb_libHandle( PHB_ITEM pDynLib );

i.e.:

   if( hb_libHandle( pItem ) != NULL )
      [...]

> Also, is it possible to create a portable "getprocaddress" 
> functionality in core?

   void * hb_libSymAddr( PHB_ITEM pDynLib, const char * pszSymbol );

i.e.:

   pFunc = ( PHB_FUNC ) hb_libSymAddr( pDynLib, "myFunc" );

best regards,
Przemek
From jarabal at gmail.com  Mon Feb 15 07:36:22 2010
From: jarabal at gmail.com (Xavi)
Date: Mon Feb 15 07:37:00 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <B5064325-1545-44BC-9647-FD8DFF39E522@syenar.hu>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>	<609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>
	<B5064325-1545-44BC-9647-FD8DFF39E522@syenar.hu>
Message-ID: <4B793FC6.6060409@gmail.com>

> We need new HB_ITEM type, separate UNICODE

OT: It's possible to preserve a flag to mark SQL NULL.
An ITEM can be DATE but be NULL, boolean logic is different.
At least count on it.

Best regards,
Xavi
From harbour.01 at syenar.hu  Mon Feb 15 07:41:58 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 15 07:42:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13877] trunk/harbour
In-Reply-To: <20100215123547.GA5482@linux-4bod.home.aster.pl>
References: <E1Ngwu0-0005ny-AS@sfp-svn-2.v30.ch3.sourceforge.com>
	<A5BD32CF-0E40-4B54-A824-62D9660F4B23@syenar.hu>
	<20100215123547.GA5482@linux-4bod.home.aster.pl>
Message-ID: <2D9B847A-F4B1-40E9-8DD6-F39849774B4C@syenar.hu>

Great, thanks a lot Przemek.

Brgds,
Viktor

On 2010 Feb 15, at 13:35, Przemys?aw Czerpak wrote:

> On Mon, 15 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> How to verify from .c code if a given PHB_ITEM is a valid 
>> lib handler item?
> 
>   void * hb_libHandle( PHB_ITEM pDynLib );
> 
> i.e.:
> 
>   if( hb_libHandle( pItem ) != NULL )
>      [...]
> 
>> Also, is it possible to create a portable "getprocaddress" 
>> functionality in core?
> 
>   void * hb_libSymAddr( PHB_ITEM pDynLib, const char * pszSymbol );
> 
> i.e.:
> 
>   pFunc = ( PHB_FUNC ) hb_libSymAddr( pDynLib, "myFunc" );
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Feb 15 07:44:16 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 15 07:44:29 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <4B793FC6.6060409@gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>	<609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>
	<B5064325-1545-44BC-9647-FD8DFF39E522@syenar.hu>
	<4B793FC6.6060409@gmail.com>
Message-ID: <ACD50E1C-3ACD-4CFA-A591-963A49583578@syenar.hu>

>> We need new HB_ITEM type, separate UNICODE
> 
> OT: It's possible to preserve a flag to mark SQL NULL.
> An ITEM can be DATE but be NULL, boolean logic is different.
> At least count on it.

Well, NULL has nothing to do with this topic :) IMO 
it can be implemented without touching HVM and we 
should try our best to do so, either using NIL, or 
some special objects symbolizing NULL or even special 
objects symbolizing SQL types altogether.

Brdgs,
Viktor

From jarabal at gmail.com  Mon Feb 15 08:25:47 2010
From: jarabal at gmail.com (Xavi)
Date: Mon Feb 15 08:26:28 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <ACD50E1C-3ACD-4CFA-A591-963A49583578@syenar.hu>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>	<609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>	<B5064325-1545-44BC-9647-FD8DFF39E522@syenar.hu>	<4B793FC6.6060409@gmail.com>
	<ACD50E1C-3ACD-4CFA-A591-963A49583578@syenar.hu>
Message-ID: <4B794B5B.8060002@gmail.com>

> it can be implemented without touching HVM and we

Ok. Sorry for OT :)
[ Remember that HB_IT_TIMESTAMP, HB_IT_DATETIME, could also be implemented without touching HVM ]

Best regards,
Xavi
From harbour.01 at syenar.hu  Mon Feb 15 08:38:54 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 15 08:39:06 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <4B794B5B.8060002@gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>	<609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>	<B5064325-1545-44BC-9647-FD8DFF39E522@syenar.hu>	<4B793FC6.6060409@gmail.com>
	<ACD50E1C-3ACD-4CFA-A591-963A49583578@syenar.hu>
	<4B794B5B.8060002@gmail.com>
Message-ID: <F422BDA3-48A2-45A8-9568-39AE6B6CD582@syenar.hu>

>> it can be implemented without touching HVM and we
> 
> Ok. Sorry for OT :)
> [ Remember that HB_IT_TIMESTAMP, HB_IT_DATETIME, could also be implemented without touching HVM ]

Yes, most of them can be. But 'time' is a natural, general 
purpose data type. NULL on the contrary is a toy for SQL 
to make the theoretical/mathematical model happy and 
complete. Very debated if it's useful feature in SQL, 
and clearly not useful outside SQL. IOW it's not a generic, 
practical type.

I'd also like to see how NIL can't replace NULL in context 
of SQL in practice..

I'd think that an RDD could simply return NIL instead of 
properly typed content, when the field content is NULL. 
Such behavior could also be controlled by DBI setting, 
plus we could have separate function to check whether 
a given field is NULL (regardless of DBI setting):
   HB_FIELDISNULL( <nPos> | <cName> ) -> <lNULL>

Shortly I see we should definitely allow to access this 
information from .prg code, but it doesn't need a extra, 
special type.

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Feb 15 08:45:53 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 15 08:46:05 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <0A137900-1974-4C37-90A9-7CE8C1C3DFAE@syenar.hu>
References: <4B79163C.6020309@libero.it>	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>	<4B791D36.3020402@libero.it>
	<0A137900-1974-4C37-90A9-7CE8C1C3DFAE@syenar.hu>
Message-ID: <4B795011.2090106@libero.it>

Uhm,

xpp should be xxpp :)

I'd say that we should prefix them vith 'hb' like in hbxpp or otherwise nothing.

Best regards.

Maurilio.

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> Viktor,
>>
>> I'd say that clipper, all versions, inside core, while xpp and vfp in contrib
>> like hbxpp or even xpp.
> 
> I agree. What names to use?
> 
> Somewhat unorthodox, but we can simply prefix them 
> with 'x' in contrib, so we will have these:
> 
>    xhb
>    xpp
>    xclip
>    xfship
>    xfoxpro (visual and all, but we can use 'xvfp')
>    xdbase
>    xvo
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Feb 15 08:56:22 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 15 08:56:33 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <4B795011.2090106@libero.it>
References: <4B79163C.6020309@libero.it>	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>	<4B791D36.3020402@libero.it>
	<0A137900-1974-4C37-90A9-7CE8C1C3DFAE@syenar.hu>
	<4B795011.2090106@libero.it>
Message-ID: <C5E4BC3E-63CF-41D5-8984-136433B490BF@syenar.hu>

> Uhm,
> 
> xpp should be xxpp :)
> 
> I'd say that we should prefix them vith 'hb' like in hbxpp or otherwise nothing.

In this case xhb lib should become hbxhb.

For me either is good, as long as we stay consistent.

For sure these are nothing more technically than 
simple libs, so 'hb' prefix is perfectly alright.

Brgds,
Viktor

From druzus at users.sourceforge.net  Mon Feb 15 09:13:07 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Feb 15 09:13:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13880] trunk/harbour
Message-ID: <E1Nh1hD-0008QQ-BR@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13880
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13880&view=rev
Author:   druzus
Date:     2010-02-15 14:12:56 +0000 (Mon, 15 Feb 2010)

Log Message:
-----------
2010-02-15 15:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbfbird/firebird.c
    ! use native type for GC pointer item holder instead of casting
      to 'void *'. Such casting may strip significant data when handler
      is wider type then pointer.

  * harbour/contrib/hbnf/fttext.c
    ! fixed unnecessary casting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfbird/firebird.c
    trunk/harbour/contrib/hbnf/fttext.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ssbbs at mail.zzz.com.tw  Mon Feb 15 09:36:57 2010
From: ssbbs at mail.zzz.com.tw (=?BIG5?B?Irr0vXu46rBUoUW5+aTls9MoVw==?= =?BIG5?B?ZW5TaGVuZyki?=)
Date: Mon Feb 15 09:37:06 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>
Message-ID: <20100215223339.8376.84A669A0@mail.zzz.com.tw>


In Asia, we are very needed him.

> +1 UNICODE mode for window build
> What steep for give harbour "full unicode support"?
> 
> 2010/2/15 Viktor Szakts <harbour.01@syenar.hu>
> 
> > Hi All,
> >
> > I'd like to gather opinions on switching default Harbour
> > Windows builds to UNICODE mode in next major release.
> >
> > Advantages:
> >  - Runs more efficiently on NT-class OSes since
> >    we're using native API instead of ANSI wrappers,
> >    and the OS-level CP conversion is saved also.
> >  - Harbour level CP configuration is much easier for GTs.
> >  - Will run even more efficiently when implementing
> >    native UNICODE support inside HVM.
> >  - Some languages can only be supported in UNICODE mode.
> >  - We're in sync with all Harbour Windows builds and
> >    also with WinCE builds, which already have UNICODE
> >    enabled.
> >
> > Disadvantage:
> >  - Apps won't run on Win9x OSes anymore. Here there
> >    exists a solution, unicows lib:
> >        http://msdn.microsoft.com/en-us/goglobal/bb688166.aspx
> >
> > Notes:
> >  - UNICODE is already enabled by default for
> >    MSVC 2005 and upper, and WinCE. MSVC 2008
> >    and upper doesn't even support non-UNICODE
> >    anymore.
> >  - non-UNICODE can be enabled for custom Harbour
> >    builds anytime using build-time option:
> >       HB_BUILD_UNICODE=no.
> >
> > Opinions?
> >
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> 
> 
> 
> -- 
> Massimo Belgrano

Wang Ti information CO. of Taiwan
http://www.zzz.com.tw/
mailto:ssbbs@mail.zzz.com.tw
Yahoo: ssbbstw
MSN:ssbbs1@hotmail.com
Skype:ssbbstw

From francek.prijatelj at siol.net  Mon Feb 15 10:16:46 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Mon Feb 15 10:16:54 2010
Subject: [Harbour] MSVC 8 - Application Build Errors
In-Reply-To: <1266229388367-4573772.post@n2.nabble.com>
References: <1266229388367-4573772.post@n2.nabble.com>
Message-ID: <27595314.post@talk.nabble.com>


Hi


Pritpal Bedi wrote:
> 
> 
> Hi
> 
> Today I compiled all my libraries under hbIDE with MSVC 8 ,
> everything went almost fine but for the error reported below.
> 
> msimg32.lib wininet.lib hbpcre.lib hbzlib.lib
> c:\dev_sources\dev_resources\vouch.res
> c:\dev_sources\dev_resources\ar32.res
> 
> hbwin.lib(win_bmpd.obj) : error LNK2019: unresolved external symbol
> _png_get_io_ptr referenced in function "void __cdecl
> hb_png_read_func(struct
> 
> 


Try to add libpng.lib to libraries.

BRGS

-- 
View this message in context: http://old.nabble.com/MSVC-8---Application-Build-Errors-tp27591812p27595314.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bruno.luciani at gmail.com  Mon Feb 15 12:42:03 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Feb 15 12:42:13 2010
Subject: [Harbour] Qwidget Resize
Message-ID: <133778361002150942t29adef46h5675e644d24fbff1@mail.gmail.com>

I have  a widget in a mainwindow related to  HBQPlainTextEdit() and I need
when main window is resized
that widget do the same in automatically form, adapting himself to
mainwindow size

I don't find any slot or signal related to this and i don't know how todo
this

Any help ?

Thanks

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/b750de0f/attachment.html
From bedipritpal at hotmail.com  Mon Feb 15 12:54:37 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 15 12:54:44 2010
Subject: [Harbour] Re: Qwidget Resize
In-Reply-To: <133778361002150942t29adef46h5675e644d24fbff1@mail.gmail.com>
References: <133778361002150942t29adef46h5675e644d24fbff1@mail.gmail.com>
Message-ID: <1266256477664-4575936.post@n2.nabble.com>



Bruno Luciani wrote:
> 
> I have  a widget in a mainwindow related to  HBQPlainTextEdit() and I need
> when main window is resized
> that widget do the same in automatically form, adapting himself to
> mainwindow size
> 
> I don't find any slot or signal related to this and i don't know how todo
> this
> 

oMainWindow:setCentralWidget( oPlainTextEdit )


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Qwidget-Resize-tp4575860p4575936.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Feb 15 12:56:54 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 15 12:57:02 2010
Subject: [Harbour] Re: MSVC 8 - Application Build Errors
In-Reply-To: <27595314.post@talk.nabble.com>
References: <1266229388367-4573772.post@n2.nabble.com>
	<27595314.post@talk.nabble.com>
Message-ID: <1266256614993-4575949.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> Try to add libpng.lib to libraries.
> 

That's OK.

But my question is why hbwin.lib is dependant on libpng ?

I do not want to include libpng.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/MSVC-8-Application-Build-Errors-tp4573772p4575949.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bruno.luciani at gmail.com  Mon Feb 15 13:04:31 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Feb 15 13:04:39 2010
Subject: [Harbour] Re: Qwidget Resize
In-Reply-To: <1266256477664-4575936.post@n2.nabble.com>
References: <133778361002150942t29adef46h5675e644d24fbff1@mail.gmail.com>
	<1266256477664-4575936.post@n2.nabble.com>
Message-ID: <133778361002151004m78d7e1f4nb15166ff1a05b628@mail.gmail.com>

I do this


   oWnd:resize( 1024, 768 )

   oDA    := QWidget():new( oWnd )
   oWnd:setCentralWidget( oDA )


and then

   oFont := QFont():New()
   oFont:setFamily( "courier new" )

   oEdit := HBQPlainTextEdit():new( oDA:pPtr )
   oEdit:ensureCursorVisible()
   oEdit:highlightCurrentLine( .t. )
   oEdit:move( 0 , 0 )
   oEdit:resize( 900 , 500 )


But when I resize the mainwindow , the editor not change

Bruno

2010/2/15 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Bruno Luciani wrote:
> >
> > I have  a widget in a mainwindow related to  HBQPlainTextEdit() and I
> need
> > when main window is resized
> > that widget do the same in automatically form, adapting himself to
> > mainwindow size
> >
> > I don't find any slot or signal related to this and i don't know how todo
> > this
> >
>
> oMainWindow:setCentralWidget( oPlainTextEdit )
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Qwidget-Resize-tp4575860p4575936.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/aff4955a/attachment.html
From francek.prijatelj at siol.net  Mon Feb 15 15:03:14 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Mon Feb 15 15:03:20 2010
Subject: [Harbour] MSVC 8 - Application Build Errors
In-Reply-To: <1266256614993-4575949.post@n2.nabble.com>
References: <1266229388367-4573772.post@n2.nabble.com>
	<27595314.post@talk.nabble.com>
	<1266256614993-4575949.post@n2.nabble.com>
Message-ID: <27599179.post@talk.nabble.com>


Hi


Pritpal Bedi wrote:
> 
> 
> 
> Fran?ek Prijatelj wrote:
>> 
>> Try to add libpng.lib to libraries.
>> 
> 
> That's OK.
> 
> But my question is why hbwin.lib is dependant on libpng ?
> 
> I do not want to include libpng.
> 
> 

Recently png printing support was added to hbwin, so hbwin is dependent
on libpng.

http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13692&view=rev

BRGS
Fra?ek
-- 
View this message in context: http://old.nabble.com/MSVC-8---Application-Build-Errors-tp27591812p27599179.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From smujohnson at gmail.com  Mon Feb 15 15:20:39 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb 15 15:20:51 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <20100215223339.8376.84A669A0@mail.zzz.com.tw>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>
	<20100215223339.8376.84A669A0@mail.zzz.com.tw>
Message-ID: <674e4ddd1002151220w4f4cd315g12c23583a5ff703c@mail.gmail.com>

Viktor,

Does this mean that all the Extended Ascii chars from the DOS world will
disappear and turn into their latin-1 / utf-8 equivalents?

2010/2/15 "{TE(WenSheng)" <ssbbs@mail.zzz.com.tw>

>
> In Asia, we are very needed him.
>
> > +1 UNICODE mode for window build
> > What steep for give harbour "full unicode support"?
> >
> > 2010/2/15 Viktor Szakts <harbour.01@syenar.hu>
> >
> > > Hi All,
> > >
> > > I'd like to gather opinions on switching default Harbour
> > > Windows builds to UNICODE mode in next major release.
> > >
> > > Advantages:
> > >  - Runs more efficiently on NT-class OSes since
> > >    we're using native API instead of ANSI wrappers,
> > >    and the OS-level CP conversion is saved also.
> > >  - Harbour level CP configuration is much easier for GTs.
> > >  - Will run even more efficiently when implementing
> > >    native UNICODE support inside HVM.
> > >  - Some languages can only be supported in UNICODE mode.
> > >  - We're in sync with all Harbour Windows builds and
> > >    also with WinCE builds, which already have UNICODE
> > >    enabled.
> > >
> > > Disadvantage:
> > >  - Apps won't run on Win9x OSes anymore. Here there
> > >    exists a solution, unicows lib:
> > >        http://msdn.microsoft.com/en-us/goglobal/bb688166.aspx
> > >
> > > Notes:
> > >  - UNICODE is already enabled by default for
> > >    MSVC 2005 and upper, and WinCE. MSVC 2008
> > >    and upper doesn't even support non-UNICODE
> > >    anymore.
> > >  - non-UNICODE can be enabled for custom Harbour
> > >    builds anytime using build-time option:
> > >       HB_BUILD_UNICODE=no.
> > >
> > > Opinions?
> > >
> > > Brgds,
> > > Viktor
> > >
> > > _______________________________________________
> > > Harbour mailing list (attachment size limit: 40KB)
> > > Harbour@harbour-project.org
> > > http://lists.harbour-project.org/mailman/listinfo/harbour
> > >
> >
> >
> >
> > --
> > Massimo Belgrano
>
> Wang Ti information CO. of Taiwan
> http://www.zzz.com.tw/
> mailto:ssbbs@mail.zzz.com.tw
> Yahoo: ssbbstw
> MSN:ssbbs1@hotmail.com <MSN%3Assbbs1@hotmail.com>
> Skype:ssbbstw
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/d3eebcc1/attachment.html
From harbour.01 at syenar.hu  Mon Feb 15 15:33:17 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 15 15:33:29 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <674e4ddd1002151220w4f4cd315g12c23583a5ff703c@mail.gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>
	<20100215223339.8376.84A669A0@mail.zzz.com.tw>
	<674e4ddd1002151220w4f4cd315g12c23583a5ff703c@mail.gmail.com>
Message-ID: <49E53D32-AB5E-42EE-BD93-617C20A3F098@syenar.hu>

Hi Smu,

On 2010 Feb 15, at 21:20, smu johnson wrote:

> Viktor,
>=20
> Does this mean that all the Extended Ascii chars from the DOS world =
will disappear and turn into their latin-1 / utf-8 equivalents?

No, it's an internal change specific to Windows platform,=20
and it means that Harbour core and contrib will use UNICODE=20
("WIDE") Windows API calls, as opposed to "ANSI" ones.

It's only a difference in Harbour code interfaces with Windows.

This may mean that on app level some things have to be tweaked=20
to work in this case (*), but overall it makes things simpler=20
to manage, and this change is transparent for the most part=20
on the app level. We're in development phase, so any show=20
stoppers that may happen to remain, can be fixed. We're using=20
UNICODE with MSVC and WinCE since some time, so the situation=20
is rather good.

(*) The only such case that comes to mind is printing ASCII=20
line drawing chars using hbwin GDI printing engine.

Brgds,
Viktor


>=20
> 2010/2/15 "=BA=F4=BD{=B8=EA=B0T=A1E=B9=F9=A4=E5=B3=D3(WenSheng)" =
<ssbbs@mail.zzz.com.tw>
>=20
> In Asia, we are very needed him.
>=20
> > +1 UNICODE mode for window build
> > What steep for give harbour "full unicode support"?
> >
> > 2010/2/15 Viktor Szak=E1ts <harbour.01@syenar.hu>
> >
> > > Hi All,
> > >
> > > I'd like to gather opinions on switching default Harbour
> > > Windows builds to UNICODE mode in next major release.
> > >
> > > Advantages:
> > >  - Runs more efficiently on NT-class OSes since
> > >    we're using native API instead of ANSI wrappers,
> > >    and the OS-level CP conversion is saved also.
> > >  - Harbour level CP configuration is much easier for GTs.
> > >  - Will run even more efficiently when implementing
> > >    native UNICODE support inside HVM.
> > >  - Some languages can only be supported in UNICODE mode.
> > >  - We're in sync with all Harbour Windows builds and
> > >    also with WinCE builds, which already have UNICODE
> > >    enabled.
> > >
> > > Disadvantage:
> > >  - Apps won't run on Win9x OSes anymore. Here there
> > >    exists a solution, unicows lib:
> > >        http://msdn.microsoft.com/en-us/goglobal/bb688166.aspx
> > >
> > > Notes:
> > >  - UNICODE is already enabled by default for
> > >    MSVC 2005 and upper, and WinCE. MSVC 2008
> > >    and upper doesn't even support non-UNICODE
> > >    anymore.
> > >  - non-UNICODE can be enabled for custom Harbour
> > >    builds anytime using build-time option:
> > >       HB_BUILD_UNICODE=3Dno.
> > >
> > > Opinions?
> > >
> > > Brgds,
> > > Viktor
> > >
> > > _______________________________________________
> > > Harbour mailing list (attachment size limit: 40KB)
> > > Harbour@harbour-project.org
> > > http://lists.harbour-project.org/mailman/listinfo/harbour
> > >
> >
> >
> >
> > --
> > Massimo Belgrano
>=20
> Wang Ti information CO. of Taiwan
> http://www.zzz.com.tw/
> mailto:ssbbs@mail.zzz.com.tw
> Yahoo: ssbbstw
> MSN:ssbbs1@hotmail.com
> Skype:ssbbstw
>=20
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>=20
>=20
>=20
> --=20
> smu johnson <smujohnson@gmail.com>
>=20
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From smujohnson at gmail.com  Mon Feb 15 15:39:30 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb 15 15:39:45 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <49E53D32-AB5E-42EE-BD93-617C20A3F098@syenar.hu>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<609353e71002150152y7fd02b84wfd245400ec720173@mail.gmail.com>
	<20100215223339.8376.84A669A0@mail.zzz.com.tw>
	<674e4ddd1002151220w4f4cd315g12c23583a5ff703c@mail.gmail.com>
	<49E53D32-AB5E-42EE-BD93-617C20A3F098@syenar.hu>
Message-ID: <674e4ddd1002151239s7512b6dcr8c69ee18cb31b5e5@mail.gmail.com>

Then I'm + in favour!  I'm all for UNICODE finally becoming the default for
things world-wide.

2010/2/15 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi Smu,
>
> On 2010 Feb 15, at 21:20, smu johnson wrote:
>
> > Viktor,
> >
> > Does this mean that all the Extended Ascii chars from the DOS world will
> disappear and turn into their latin-1 / utf-8 equivalents?
>
> No, it's an internal change specific to Windows platform,
> and it means that Harbour core and contrib will use UNICODE
> ("WIDE") Windows API calls, as opposed to "ANSI" ones.
>
> It's only a difference in Harbour code interfaces with Windows.
>
> This may mean that on app level some things have to be tweaked
> to work in this case (*), but overall it makes things simpler
> to manage, and this change is transparent for the most part
> on the app level. We're in development phase, so any show
> stoppers that may happen to remain, can be fixed. We're using
> UNICODE with MSVC and WinCE since some time, so the situation
> is rather good.
>
> (*) The only such case that comes to mind is printing ASCII
> line drawing chars using hbwin GDI printing engine.
>
> Brgds,
> Viktor
>
>
> >
> > 2010/2/15 "????????(WenSheng)" <ssbbs@mail.zzz.com.tw>
> >
> > In Asia, we are very needed him.
> >
> > > +1 UNICODE mode for window build
> > > What steep for give harbour "full unicode support"?
> > >
> > > 2010/2/15 Viktor Szak?s <harbour.01@syenar.hu>
> > >
> > > > Hi All,
> > > >
> > > > I'd like to gather opinions on switching default Harbour
> > > > Windows builds to UNICODE mode in next major release.
> > > >
> > > > Advantages:
> > > >  - Runs more efficiently on NT-class OSes since
> > > >    we're using native API instead of ANSI wrappers,
> > > >    and the OS-level CP conversion is saved also.
> > > >  - Harbour level CP configuration is much easier for GTs.
> > > >  - Will run even more efficiently when implementing
> > > >    native UNICODE support inside HVM.
> > > >  - Some languages can only be supported in UNICODE mode.
> > > >  - We're in sync with all Harbour Windows builds and
> > > >    also with WinCE builds, which already have UNICODE
> > > >    enabled.
> > > >
> > > > Disadvantage:
> > > >  - Apps won't run on Win9x OSes anymore. Here there
> > > >    exists a solution, unicows lib:
> > > >        http://msdn.microsoft.com/en-us/goglobal/bb688166.aspx
> > > >
> > > > Notes:
> > > >  - UNICODE is already enabled by default for
> > > >    MSVC 2005 and upper, and WinCE. MSVC 2008
> > > >    and upper doesn't even support non-UNICODE
> > > >    anymore.
> > > >  - non-UNICODE can be enabled for custom Harbour
> > > >    builds anytime using build-time option:
> > > >       HB_BUILD_UNICODE=no.
> > > >
> > > > Opinions?
> > > >
> > > > Brgds,
> > > > Viktor
> > > >
> > > > _______________________________________________
> > > > Harbour mailing list (attachment size limit: 40KB)
> > > > Harbour@harbour-project.org
> > > > http://lists.harbour-project.org/mailman/listinfo/harbour
> > > >
> > >
> > >
> > >
> > > --
> > > Massimo Belgrano
> >
> > Wang Ti information CO. of Taiwan
> > http://www.zzz.com.tw/
> > mailto:ssbbs@mail.zzz.com.tw
> > Yahoo: ssbbstw
> > MSN:ssbbs1@hotmail.com <MSN%3Assbbs1@hotmail.com>
> > Skype:ssbbstw
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/4484ce32/attachment.html
From marcobra.ubuntu at gmail.com  Mon Feb 15 17:19:07 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 15 17:19:15 2010
Subject: [Harbour] hbmk2 libpq cannot be found linked contrib/hbpgsql/tests
Message-ID: <fd76479f1002151419k6fd0b199td6b6a998f22f683e@mail.gmail.com>

Hi, on 3 pc: 2 with Ubuntu 9.10 and 1 with Ubuntu 10.04 i get same link
error... trying to compile contrib/hbpgsql/tests

hbmk2 dbf2pg.prg
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /usr/bin/hbmk.cfg
Harbour 2.1.0dev (Rev. 13880)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'dbf2pg.prg'...
Lines 745, Functions/Procedures 2
Generating C source output to '/tmp/dbf2pg.c'... Done.
/usr/bin/ld: cannot find -llibpq
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc /tmp/dbf2pg.o /tmp/hbmk_2fbgew.o   -Wl,--start-group -lhbpgsql -llibpq
-lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca
-lgtstd -lgttrm -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx
-lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lm
-ldl -lrt -lpcre -lz -lgpm  -Wl,--end-group -odbf2pg -L/usr/lib

On my system i have the library:

 ls -l /usr/lib/libpq.*
-rw-r--r-- 1 root root 201356 2009-12-15 19:43 /usr/lib/libpq.a
lrwxrwxrwx 1 root root     12 2009-12-19 19:12 /usr/lib/libpq.so ->
libpq.so.5.2
lrwxrwxrwx 1 root root     12 2009-12-19 19:12 /usr/lib/libpq.so.5 ->
libpq.so.5.2
-rw-r--r-- 1 root root 138696 2009-12-15 19:43 /usr/lib/libpq.so.5.2

-------------------------------
My hbmk.hm in the contrib/hbpgsql/tests dir:

#
# $Id: hbmk.hbm 12732 2009-10-19 21:17:04Z vszakats $
#

../hbpgsql.hbc

-w3 -es2

-------------------------------
My ../hbpgsql.hbc is:

#
# $Id: hbpgsql.hbc 11672 2009-07-08 16:36:29Z druzus $
#

incpaths=.

libs=hbpgsql
libs=libpq

-----------------------------------

Can you confirm...? Do you have any suggestion...

Thank you in advance

Best regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/810a045a/attachment.html
From vszakats at users.sourceforge.net  Mon Feb 15 17:48:30 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 15 17:48:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13881] trunk/harbour
Message-ID: <E1Nh9jy-0005cJ-Le@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13881
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13881&view=rev
Author:   vszakats
Date:     2010-02-15 22:48:29 +0000 (Mon, 15 Feb 2010)

Log Message:
-----------
2010-02-15 23:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmysql/hbmysql.hbc
  * contrib/hbpgsql/hbpgsql.hbc
  * contrib/rddsql/sddmy/sddmy.hbc
  * contrib/rddsql/sddpg/sddpg.hbc
    * Adjusted 3rd party lib names to work out-of-the-box on
      *nix platforms.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/hbmysql.hbc
    trunk/harbour/contrib/hbpgsql/hbpgsql.hbc
    trunk/harbour/contrib/rddsql/sddmy/sddmy.hbc
    trunk/harbour/contrib/rddsql/sddpg/sddpg.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Feb 15 19:16:28 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 15 19:16:35 2010
Subject: [Harbour] Re: Qwidget Resize
In-Reply-To: <133778361002151004m78d7e1f4nb15166ff1a05b628@mail.gmail.com>
References: <133778361002150942t29adef46h5675e644d24fbff1@mail.gmail.com>
	<1266256477664-4575936.post@n2.nabble.com>
	<133778361002151004m78d7e1f4nb15166ff1a05b628@mail.gmail.com>
Message-ID: <1266279388185-4577938.post@n2.nabble.com>



   oWnd:resize( 1024, 768 )

   oDA    := QWidget():new( oWnd )
   oWnd:setCentralWidget( oDA )

   oFont := QFont():New()
   oFont:setFamily( "courier new" )

   oEdit := HBQPlainTextEdit():new( oDA )
   oEdit:ensureCursorVisible()
   oEdit:highlightCurrentLine( .t. )

   oLayout := QVBoxLayout():new( oDA )

   oLayout:addWidget( oEdit )
   oDA:setLayout( oLayout )




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Qwidget-Resize-tp4575860p4577938.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Mon Feb 15 19:17:04 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb 15 19:17:12 2010
Subject: [Harbour] Crash in rev 13881
Message-ID: <674e4ddd1002151617t650eae72va63340277f0f9c57@mail.gmail.com>

Hi,

This is the first actual crash I can report.  I am not quite sure what to
do... May I could just wait patiently for a newer version?

---

Unrecoverable error 6005: Exception error:

    Exception Code:C0000005
    Exception Address:0048C6B2
    EAX:00582300  EBX:0028F73C  ECX:0037CE9C  EDX:0048C6B0
    ESI:00581870  EDI:00363804  EBP:00000000
    CS:EIP:0023:0048C6B2  SS:ESP:002B:0028F70C
    DS:002B  ES:002B  FS:0053  GS:002B
    Flags:00010282
    CS:EIP: 00 8B 44 24 2C 8B 4C 24 78 8B 54 24 64 8B 74 24
    SS:ESP: 0042A12A 0036424C 00581870 0028F73C 00436A05 00000019 00008000
00000003 00453DFC 0036422C 00000000 003672D4 0000002F 000000DE 00370324
00470005

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...

Modules:
0x00400000 0x00332000 F:\ver10\latest\BKMNGR.EXE
0x76E90000 0x00180000 C:\Windows\SysWOW64\ntdll.dll
0x75060000 0x00100000 C:\Windows\syswow64\kernel32.dll
0x74F90000 0x00046000 C:\Windows\syswow64\KERNELBASE.dll
0x74A70000 0x000AC000 C:\Windows\syswow64\msvcrt.dll
0x75710000 0x00100000 C:\Windows\syswow64\USER32.dll
0x76480000 0x00090000 C:\Windows\syswow64\GDI32.dll
0x74A60000 0x0000A000 C:\Windows\syswow64\LPK.dll
0x75670000 0x0009D000 C:\Windows\syswow64\USP10.dll
0x751E0000 0x000A0000 C:\Windows\syswow64\ADVAPI32.dll
0x75040000 0x00019000 C:\Windows\SysWOW64\sechost.dll
0x74CF0000 0x000F0000 C:\Windows\syswow64\RPCRT4.dll
0x74A00000 0x00060000 C:\Windows\syswow64\SspiCli.dll
0x749F0000 0x0000C000 C:\Windows\syswow64\CRYPTBASE.dll
0x74F30000 0x00060000 C:\Windows\system32\IMM32.DLL
0x75480000 0x000CC000 C:\Windows\syswow64\MSCTF.dll

Called from HBMEMOEDITOR:DISPLAY(0) in ../../../teditor.prg
Called from MEMOEDIT(0) in ../../../memoedit.prg
Called from MSGWAIT(46) in FRAMES.PRG
Called from ACTIVEUSERS(276) in 1BMMENU.PRG
Called from CHECKSYS(280) in CHECKSYS.PRG
Called from BM(423) in BM.PRG
Called from MAIN(38) in main.PRG



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/c267addc/attachment-0001.html
From smujohnson at gmail.com  Mon Feb 15 19:28:31 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb 15 19:28:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13871] trunk/harbour
In-Reply-To: <E1Nge3J-0006Ma-Ty@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1Nge3J-0006Ma-Ty@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <674e4ddd1002151628n24cc2368l9c2d04bd3124cd66@mail.gmail.com>

Nice work on ACHOICE Viktor!!!!

On Sun, Feb 14, 2010 at 4:58 AM, <vszakats@users.sourceforge.net> wrote:

> Revision: 13871
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13871&view=rev
> Author:   vszakats
> Date:     2010-02-14 12:58:20 +0000 (Sun, 14 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-14 13:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * src/rtl/achoice.prg
>    ! Fixed/added cursor positioning to resemble to Clipper.
>
>  * tests/ac_test.prg
>    + Shows row/col when entering callback function.
>
>  * contrib/hbfimage/fi_winfu.c
>  * contrib/hbfimage/fi_wrp.c
>    * Formatting.
>
>  * contrib/hbwin/hbdyn.c
>    - Deleted recently added, but finally unused union member.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbfimage/fi_winfu.c
>    trunk/harbour/contrib/hbfimage/fi_wrp.c
>    trunk/harbour/contrib/hbwin/hbdyn.c
>    trunk/harbour/src/rtl/achoice.prg
>    trunk/harbour/tests/ac_test.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/7b3c2bf9/attachment.html
From bruno.luciani at gmail.com  Mon Feb 15 20:17:04 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Feb 15 20:17:12 2010
Subject: [Harbour] Re: Qwidget Resize
In-Reply-To: <1266279388185-4577938.post@n2.nabble.com>
References: <133778361002150942t29adef46h5675e644d24fbff1@mail.gmail.com>
	<1266256477664-4575936.post@n2.nabble.com>
	<133778361002151004m78d7e1f4nb15166ff1a05b628@mail.gmail.com>
	<1266279388185-4577938.post@n2.nabble.com>
Message-ID: <133778361002151717p5f4f74f4jc4e315346889dedc@mail.gmail.com>

> Thanks Pritpal
>

this line resolves the problem

now works ok


  oDA:setLayout( oLayout )


Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/0def9dbe/attachment.html
From smujohnson at gmail.com  Mon Feb 15 21:08:33 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb 15 21:08:41 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
Message-ID: <674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>

Actually, that part where they won't run in Win9x anymore got me worried.
Do you mean won't run _at all_, or just won't run UNICODE stuff properly.

We have a few people who use Windows 98 who will use your Harbour compiled
.exe files.  If you mean they won't run period, then maybe there could be a
harbour.exe compiler switch?  I dunno...  Please let me know.

On Mon, Feb 15, 2010 at 1:14 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi All,
>
> I'd like to gather opinions on switching default Harbour
> Windows builds to UNICODE mode in next major release.
>
> Advantages:
>  - Runs more efficiently on NT-class OSes since
>    we're using native API instead of ANSI wrappers,
>    and the OS-level CP conversion is saved also.
>  - Harbour level CP configuration is much easier for GTs.
>  - Will run even more efficiently when implementing
>    native UNICODE support inside HVM.
>  - Some languages can only be supported in UNICODE mode.
>  - We're in sync with all Harbour Windows builds and
>    also with WinCE builds, which already have UNICODE
>    enabled.
>
> Disadvantage:
>  - Apps won't run on Win9x OSes anymore. Here there
>    exists a solution, unicows lib:
>        http://msdn.microsoft.com/en-us/goglobal/bb688166.aspx
>
> Notes:
>  - UNICODE is already enabled by default for
>    MSVC 2005 and upper, and WinCE. MSVC 2008
>    and upper doesn't even support non-UNICODE
>    anymore.
>  - non-UNICODE can be enabled for custom Harbour
>    builds anytime using build-time option:
>       HB_BUILD_UNICODE=no.
>
> Opinions?
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/5848310d/attachment.html
From smujohnson at gmail.com  Mon Feb 15 21:10:42 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb 15 21:10:52 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
Message-ID: <674e4ddd1002151810k3704edcj9b4470a3fa01ef9a@mail.gmail.com>

Ahh I feel kind of stupid.  Having reread your original e-mail, it looks
like simply the Harbour Project won't run on Win9x anymore, not the .EXE's
that Harbour makes.


On Mon, Feb 15, 2010 at 6:08 PM, smu johnson <smujohnson@gmail.com> wrote:

> Actually, that part where they won't run in Win9x anymore got me worried.
> Do you mean won't run _at all_, or just won't run UNICODE stuff properly.
>
> We have a few people who use Windows 98 who will use your Harbour compiled
> .exe files.  If you mean they won't run period, then maybe there could be a
> harbour.exe compiler switch?  I dunno...  Please let me know.
>
>
> On Mon, Feb 15, 2010 at 1:14 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:
>
>> Hi All,
>>
>> I'd like to gather opinions on switching default Harbour
>> Windows builds to UNICODE mode in next major release.
>>
>> Advantages:
>>  - Runs more efficiently on NT-class OSes since
>>    we're using native API instead of ANSI wrappers,
>>    and the OS-level CP conversion is saved also.
>>  - Harbour level CP configuration is much easier for GTs.
>>  - Will run even more efficiently when implementing
>>    native UNICODE support inside HVM.
>>  - Some languages can only be supported in UNICODE mode.
>>  - We're in sync with all Harbour Windows builds and
>>    also with WinCE builds, which already have UNICODE
>>    enabled.
>>
>> Disadvantage:
>>  - Apps won't run on Win9x OSes anymore. Here there
>>    exists a solution, unicows lib:
>>        http://msdn.microsoft.com/en-us/goglobal/bb688166.aspx
>>
>> Notes:
>>  - UNICODE is already enabled by default for
>>    MSVC 2005 and upper, and WinCE. MSVC 2008
>>    and upper doesn't even support non-UNICODE
>>    anymore.
>>  - non-UNICODE can be enabled for custom Harbour
>>    builds anytime using build-time option:
>>       HB_BUILD_UNICODE=no.
>>
>> Opinions?
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/f7a29fa6/attachment.html
From bruno.luciani at gmail.com  Mon Feb 15 21:47:15 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Feb 15 21:47:25 2010
Subject: [Harbour] HBQPlainTextEdit
Message-ID: <133778361002151847t266d93a4t80c46d8b100dbc14@mail.gmail.com>

Pritpal  , how can I get the actual row(line) and column number of cursor

in HBQPlainTextEDit ?

to show it in the status bar ?


Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100215/1b4a662d/attachment.html
From vouchcac at users.sourceforge.net  Mon Feb 15 22:23:59 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 15 22:24:06 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13882] trunk/harbour
Message-ID: <E1NhE2Z-0003wA-8l@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13882
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13882&view=rev
Author:   vouchcac
Date:     2010-02-16 03:23:57 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------
2010-02-15 19:22 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideprojmanager.prg
    + Project Management: first steps to integrate with .hbp engine.
    % 'Project Location' made sensitive to valid/invalid path 
      with different background color.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideprojmanager.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Feb 15 23:12:48 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 15 23:12:54 2010
Subject: [Harbour] Re: HBQPlainTextEdit
In-Reply-To: <133778361002151847t266d93a4t80c46d8b100dbc14@mail.gmail.com>
References: <133778361002151847t266d93a4t80c46d8b100dbc14@mail.gmail.com>
Message-ID: <1266293568236-4578533.post@n2.nabble.com>



Bruno Luciani wrote:
> 
> Pritpal  , how can I get the actual row(line) and column number of cursor
> 
> in HBQPlainTextEDit ?
> 
> to show it in the status bar ?
> 

   qCursor := QTextCursor():from( qPlainTextEdit:testCursor() )

   nRow := qCursor:blockNumber() + 1
   nCol := qCursor:columnNumber() + 1




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/HBQPlainTextEdit-tp4578337p4578533.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Tue Feb 16 03:08:17 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 16 03:08:27 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
Message-ID: <ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>

Hi,

On 2010 Feb 16, at 03:08, smu johnson wrote:

> Actually, that part where they won't run in Win9x anymore got me worried.  Do you mean won't run _at all_, or just won't run UNICODE stuff properly.

At all. Win9x doesn't support UNICODE.

There is way to solve it, but it's currently 
not developed to Harbour: unicows lib or opencows lib, 
you supply an extra .dll for your UNICODE app to 
run on Win9x.

> We have a few people who use Windows 98 who will use your Harbour compiled .exe files.  If you mean they won't run period, then maybe there could be a harbour.exe compiler switch?  I dunno...  Please let me know.

There is a build-time switch, so it's possible to 
create a build which runs on Win9x.

We're discussing the default of this build-time switch.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Feb 16 03:42:51 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 03:42:59 2010
Subject: [Harbour] Crash in rev 13881
In-Reply-To: <674e4ddd1002151617t650eae72va63340277f0f9c57@mail.gmail.com>
References: <674e4ddd1002151617t650eae72va63340277f0f9c57@mail.gmail.com>
Message-ID: <20100216084251.GA5858@linux-4bod.home.aster.pl>

On Mon, 15 Feb 2010, smu johnson wrote:

Hi,

> This is the first actual crash I can report.  I am not quite sure what to
> do... May I could just wait patiently for a newer version?
> ---
> Called from HBMEMOEDITOR:DISPLAY(0) in ../../../teditor.prg
> Called from MEMOEDIT(0) in ../../../memoedit.prg
> Called from MSGWAIT(46) in FRAMES.PRG
> Called from ACTIVEUSERS(276) in 1BMMENU.PRG
> Called from CHECKSYS(280) in CHECKSYS.PRG
> Called from BM(423) in BM.PRG
> Called from MAIN(38) in main.PRG

Which Harbour version have you used? (2.0.0 or 2.1.x from SVN?)
Is it repeatable?
If yes can you copy src/rtl/teditor.prg to your source code project
to check and rebuild your application so we can check the exact line
where it fails.
The we probably ask you about parameters.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Feb 16 03:45:08 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 03:45:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13883] trunk/harbour
Message-ID: <E1NhJ3M-0002kD-Eh@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13883
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13883&view=rev
Author:   vszakats
Date:     2010-02-16 08:45:07 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------

2010-02-16 09:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dllc.c
  * contrib/hbwin/tests/testdll.prg
    * Replaced WIN_DLLCALL() with portable (non Windows-specific)
      HB_DYNCALL(), which uses Harbour core function to handle
      dynamic libs. This also means there is two former feature lost:
         - Specifiying function by (numeric) ordinal.
         - Passing function pointer directly.
    ; TODO: Make the default calling convention cdecl?
    ; TODO: Move 'hbdyn' subsystem to core after review.

    ; HB_DYNCALL() should be called as follows:

        HB_DYNCALL( <pFunction> | <aFunction>, ... ) -> <xResult>

        where <aFunction> can be:
           { <cFunction>, <cLibrary> | <pLibrary> [, <nFuncFlags> [, <nArgFlags1>, ..., <nArgFlagsn> ]] }

        where
           <nFuncFlags> can be:
              hb_bitOr( HB_DYN_CTYPE_*, HB_DYN_ENC_*, HB_DYN_CALLCONV_* )
           <nArgFlags*> can be:
              hb_bitOr( HB_DYN_CTYPE_*, HB_DYN_ENC_* )

  * contrib/hbwin/win_dllf.prg
    * Renamed WIN_DLLCALLFOXPRO() to HB_DYNCALLFOXPRO().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dllc.c
    trunk/harbour/contrib/hbwin/win_dllf.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Tue Feb 16 03:55:11 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Feb 16 03:55:20 2010
Subject: [Harbour] Crash in rev 13881
In-Reply-To: <20100216084251.GA5858@linux-4bod.home.aster.pl>
References: <674e4ddd1002151617t650eae72va63340277f0f9c57@mail.gmail.com>
	<20100216084251.GA5858@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002160055y3e7b061frc1c6d093347e9fb2@mail.gmail.com>

Hi,

I would have replied to this thread earlier if I could simply "reply" to it
via gmail...  But anyways... my program started crashing with all sorts of
BASE/ errors after I kept retrying it.  Then I just rebooted and never saw
these errors again.  The only thing I can think of that I did as far as
these errors coming was I used a ramdisk program to compile Harbour.  I
rebooted, and never saw the crash again... tested it on a few other
computers too.  So maybe I won't worry about it now.

Thanks for replying Przemek.  I will let you know if it ever happens again.
It had me worried!

2010/2/16 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Mon, 15 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > This is the first actual crash I can report.  I am not quite sure what to
> > do... May I could just wait patiently for a newer version?
> > ---
> > Called from HBMEMOEDITOR:DISPLAY(0) in ../../../teditor.prg
> > Called from MEMOEDIT(0) in ../../../memoedit.prg
> > Called from MSGWAIT(46) in FRAMES.PRG
> > Called from ACTIVEUSERS(276) in 1BMMENU.PRG
> > Called from CHECKSYS(280) in CHECKSYS.PRG
> > Called from BM(423) in BM.PRG
> > Called from MAIN(38) in main.PRG
>
> Which Harbour version have you used? (2.0.0 or 2.1.x from SVN?)
> Is it repeatable?
> If yes can you copy src/rtl/teditor.prg to your source code project
> to check and rebuild your application so we can check the exact line
> where it fails.
> The we probably ask you about parameters.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/dc7b9421/attachment.html
From smujohnson at gmail.com  Tue Feb 16 03:56:47 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Feb 16 03:56:55 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
	<ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>
Message-ID: <674e4ddd1002160056p7f6668eega17d2e2371a89ab8@mail.gmail.com>

When you say "won't run on Win9x" do you mean harbour.exe and tools, or do
you mean .EXE's generated with Harbour?


On Tue, Feb 16, 2010 at 12:08 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi,
>
> On 2010 Feb 16, at 03:08, smu johnson wrote:
>
> > Actually, that part where they won't run in Win9x anymore got me worried.
>  Do you mean won't run _at all_, or just won't run UNICODE stuff properly.
>
> At all. Win9x doesn't support UNICODE.
>
> There is way to solve it, but it's currently
> not developed to Harbour: unicows lib or opencows lib,
> you supply an extra .dll for your UNICODE app to
> run on Win9x.
>
> > We have a few people who use Windows 98 who will use your Harbour
> compiled .exe files.  If you mean they won't run period, then maybe there
> could be a harbour.exe compiler switch?  I dunno...  Please let me know.
>
> There is a build-time switch, so it's possible to
> create a build which runs on Win9x.
>
> We're discussing the default of this build-time switch.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/c2a66601/attachment.html
From harbour.01 at syenar.hu  Tue Feb 16 04:04:22 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 16 04:04:32 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <674e4ddd1002160056p7f6668eega17d2e2371a89ab8@mail.gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
	<ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>
	<674e4ddd1002160056p7f6668eega17d2e2371a89ab8@mail.gmail.com>
Message-ID: <58FE60DD-3648-4C2E-B2D1-80DC5E5DE164@syenar.hu>

> When you say "won't run on Win9x" do you mean harbour.exe and tools, or do you mean .EXE's generated with Harbour?

Both.

Since Harbour core libs will contain references to 
Windows UNICODE functions, anything that uses these 
core libs won't (by default) run on Win9x.

Brgds,
Viktor

From marcobra.ubuntu at gmail.com  Tue Feb 16 04:07:20 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Tue Feb 16 04:07:28 2010
Subject: [Harbour] mysql test sample either compile in LINUX
In-Reply-To: <133778361002071403v35fd0dc6t13b7ae6f272ad804@mail.gmail.com>
References: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com>
	<fd76479f1002051638q3a5fbc1ewaf908a3cfe559c2d@mail.gmail.com>
	<133778361002061543i43469f80n5f6a00ca60466849@mail.gmail.com>
	<609353e71002070027x79da0433o3ea6e35151a4f3ab@mail.gmail.com>
	<133778361002070545qc33eac0k23126c5a5dea1b52@mail.gmail.com>
	<609353e71002070611y7dfa412dt1817035bd6705b10@mail.gmail.com>
	<133778361002071403v35fd0dc6t13b7ae6f272ad804@mail.gmail.com>
Message-ID: <fd76479f1002160107v74c72abdg797ee2fa33c8ed48@mail.gmail.com>

Fixed by Victor http://thread.gmane.org/gmane.comp.lang.harbour.devel/26719
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/5b59bd80/attachment-0001.html
From druzus at acn.waw.pl  Tue Feb 16 04:15:47 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 04:15:55 2010
Subject: [Harbour] Crash in rev 13881
In-Reply-To: <674e4ddd1002160055y3e7b061frc1c6d093347e9fb2@mail.gmail.com>
References: <674e4ddd1002151617t650eae72va63340277f0f9c57@mail.gmail.com>
	<20100216084251.GA5858@linux-4bod.home.aster.pl>
	<674e4ddd1002160055y3e7b061frc1c6d093347e9fb2@mail.gmail.com>
Message-ID: <20100216091547.GA8752@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, smu johnson wrote:

Hi,

> I would have replied to this thread earlier if I could simply "reply" to it
> via gmail...  But anyways... my program started crashing with all sorts of
> BASE/ errors after I kept retrying it.  Then I just rebooted and never saw
> these errors again.  The only thing I can think of that I did as far as
> these errors coming was I used a ramdisk program to compile Harbour.  I
> rebooted, and never saw the crash again... tested it on a few other
> computers too.  So maybe I won't worry about it now.
> Thanks for replying Przemek.  I will let you know if it ever happens again.
> It had me worried!

Probably not. Many of such ramdisk emulators has bugs which can cause
data corruption in some cases and then any other bad side effects so
it was probably the source of problems.

best regards,
Przemek
From smujohnson at gmail.com  Tue Feb 16 04:17:23 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Feb 16 04:17:31 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <58FE60DD-3648-4C2E-B2D1-80DC5E5DE164@syenar.hu>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
	<ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>
	<674e4ddd1002160056p7f6668eega17d2e2371a89ab8@mail.gmail.com>
	<58FE60DD-3648-4C2E-B2D1-80DC5E5DE164@syenar.hu>
Message-ID: <674e4ddd1002160117k5484882g23f20303f0c7ac99@mail.gmail.com>

Uh oh.  Will the compile switch make it work with any version of Windows, as
it currently does?

On Tue, Feb 16, 2010 at 1:04 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> > When you say "won't run on Win9x" do you mean harbour.exe and tools, or
> do you mean .EXE's generated with Harbour?
>
> Both.
>
> Since Harbour core libs will contain references to
> Windows UNICODE functions, anything that uses these
> core libs won't (by default) run on Win9x.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/be82b50b/attachment.html
From smujohnson at gmail.com  Tue Feb 16 04:22:00 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Feb 16 04:22:08 2010
Subject: [Harbour] Crash in rev 13881
In-Reply-To: <20100216091547.GA8752@linux-4bod.home.aster.pl>
References: <674e4ddd1002151617t650eae72va63340277f0f9c57@mail.gmail.com>
	<20100216084251.GA5858@linux-4bod.home.aster.pl>
	<674e4ddd1002160055y3e7b061frc1c6d093347e9fb2@mail.gmail.com>
	<20100216091547.GA8752@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002160122w1ab412cev137a6d4634cb9368@mail.gmail.com>

It is hard to find a decent ramdisk piece of software for windows these
days... :(

I appreciate the reply though.  No more ramdisk stuff for me.

2010/2/16 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Tue, 16 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > I would have replied to this thread earlier if I could simply "reply" to
> it
> > via gmail...  But anyways... my program started crashing with all sorts
> of
> > BASE/ errors after I kept retrying it.  Then I just rebooted and never
> saw
> > these errors again.  The only thing I can think of that I did as far as
> > these errors coming was I used a ramdisk program to compile Harbour.  I
> > rebooted, and never saw the crash again... tested it on a few other
> > computers too.  So maybe I won't worry about it now.
> > Thanks for replying Przemek.  I will let you know if it ever happens
> again.
> > It had me worried!
>
> Probably not. Many of such ramdisk emulators has bugs which can cause
> data corruption in some cases and then any other bad side effects so
> it was probably the source of problems.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/76ba70e6/attachment.html
From druzus at acn.waw.pl  Tue Feb 16 04:25:56 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 04:26:04 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <674e4ddd1002160117k5484882g23f20303f0c7ac99@mail.gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
	<ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>
	<674e4ddd1002160056p7f6668eega17d2e2371a89ab8@mail.gmail.com>
	<58FE60DD-3648-4C2E-B2D1-80DC5E5DE164@syenar.hu>
	<674e4ddd1002160117k5484882g23f20303f0c7ac99@mail.gmail.com>
Message-ID: <20100216092555.GA8888@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, smu johnson wrote:
> Uh oh.  Will the compile switch make it work with any version of Windows, as
> it currently does?

You will have to recompile core Harbour code with:
   set HB_BUILD_UNICODE=no
Then Harbour compiler and final binaries created by Harbour compiler
will work on Win9x.

Now above set is default for most of desktop MS-Windows builds and only
WinCE and new MSVC builds uses
   set HB_BUILD_UNICODE=yes
because they do not support pure ASCII API.
Viktor wants to make
   set HB_BUILD_UNICODE=yes
default in all MS-Windows builds.

best regards,
Przemek
From smujohnson at gmail.com  Tue Feb 16 04:28:50 2010
From: smujohnson at gmail.com (smu johnson)
Date: Tue Feb 16 04:28:58 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <20100216092555.GA8888@linux-4bod.home.aster.pl>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
	<ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>
	<674e4ddd1002160056p7f6668eega17d2e2371a89ab8@mail.gmail.com>
	<58FE60DD-3648-4C2E-B2D1-80DC5E5DE164@syenar.hu>
	<674e4ddd1002160117k5484882g23f20303f0c7ac99@mail.gmail.com>
	<20100216092555.GA8888@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002160128k2c5800b6xab1a1d0edc3b2bb@mail.gmail.com>

Forgive the stupid question, but the only switch I'm worried about it is how
it behaves now.  ie, Harbour compiled .exe's run on Win9x -> Windows 7
64bit.

I take it though, that "set HB_BUILD_UNICODE=no" will accomplish this, when
Viktor's plan goes through for the future edition.

Thanks

2010/2/16 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Tue, 16 Feb 2010, smu johnson wrote:
> > Uh oh.  Will the compile switch make it work with any version of Windows,
> as
> > it currently does?
>
> You will have to recompile core Harbour code with:
>   set HB_BUILD_UNICODE=no
> Then Harbour compiler and final binaries created by Harbour compiler
> will work on Win9x.
>
> Now above set is default for most of desktop MS-Windows builds and only
> WinCE and new MSVC builds uses
>   set HB_BUILD_UNICODE=yes
> because they do not support pure ASCII API.
> Viktor wants to make
>   set HB_BUILD_UNICODE=yes
> default in all MS-Windows builds.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/759947c5/attachment.html
From francek.prijatelj at siol.net  Tue Feb 16 04:46:20 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Tue Feb 16 04:46:27 2010
Subject: [Harbour] hbide runtime error
Message-ID: <27605764.post@talk.nabble.com>


Hi

When closing Project properties dialog error occurs:

Application Internal Error - C:\RAZVOJ\HARBOUR\WRK\APP\Qt\hbide\hbide.exe
Terminated at: 2010.02.16 10:42:27
Unrecoverable error 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:0041FC17
    EAX:00000000  EBX:01817AE4  ECX:00C96B38  EDX:006FDA8C
    ESI:01817AE4  EDI:018175AC  EBP:00143980
    CS:EIP:001B:0041FC17  SS:ESP:0023:0012D248
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010202
    CS:EIP: 8B 10 6A 01 FF D2 C7 06 00 00 00 00 5E C3 CC CC
    SS:ESP: 01817AD4 004FEED2 01817AE4 00000000 018175AC 005118A4 01817AE4
00CCD2D4 01817AB4 01817AA4 004FEED2 01817AB4 01E25ABC 00000000 0050BD52
01817AB4

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x00302000 C:\RAZVOJ\HARBOUR\WRK\APP\Qt\hbide\hbide.exe
0x7C900000 0x000B0000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000F4000 C:\WINDOWS\system32\kernel32.dll
0x67000000 0x0020F000 C:\QT\MSVC\bin\QtCore4.dll
0x77D40000 0x00090000 C:\WINDOWS\system32\USER32.dll
0x77F10000 0x00046000 C:\WINDOWS\system32\GDI32.dll
0x774E0000 0x0013C000 C:\WINDOWS\system32\ole32.dll
0x77C10000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x77DD0000 0x0009B000 C:\WINDOWS\system32\ADVAPI32.dll
0x77E70000 0x00091000 C:\WINDOWS\system32\RPCRT4.dll
0x71AB0000 0x00017000 C:\WINDOWS\system32\WS2_32.dll
0x71AA0000 0x00008000 C:\WINDOWS\system32\WS2HELP.dll
0x78480000 0x0008E000
C:\WINDOWS\WinSxS\x86_Microsoft.VC90.CRT_1fc8b3b9a1e18e3b_9.0.30729.4148_x-ww_d495ac4e\MSVCP90.dll
0x78520000 0x000A3000
C:\WINDOWS\WinSxS\x86_Microsoft.VC90.CRT_1fc8b3b9a1e18e3b_9.0.30729.4148_x-ww_d495ac4e\MSVCR90.dll
0x65000000 0x007A0000 C:\QT\MSVC\bin\QtGui4.dll
0x763B0000 0x00049000 C:\WINDOWS\system32\COMDLG32.dll
0x77F60000 0x00076000 C:\WINDOWS\system32\SHLWAPI.dll
0x5D090000 0x00097000 C:\WINDOWS\system32\COMCTL32.dll
0x7C9C0000 0x00814000 C:\WINDOWS\system32\SHELL32.dll
0x77120000 0x0008C000 C:\WINDOWS\system32\OLEAUT32.dll
0x76390000 0x0001D000 C:\WINDOWS\system32\IMM32.dll
0x76B40000 0x0002D000 C:\WINDOWS\system32\WINMM.dll
0x73000000 0x00026000 C:\WINDOWS\system32\WINSPOOL.DRV
0x64000000 0x000E8000 C:\QT\MSVC\bin\QtNetwork4.dll
0x76BF0000 0x0000B000 C:\WINDOWS\system32\PSAPI.DLL
0x773D0000 0x00102000
C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.2600.2180_x-ww_a84f1ff9\comctl32.dll
0x74720000 0x0004B000 C:\WINDOWS\system32\MSCTF.dll
0x755C0000 0x0002E000 C:\WINDOWS\system32\msctfime.ime
0x5AD70000 0x00038000 C:\WINDOWS\system32\uxtheme.dll
0x10000000 0x0000A000 C:\QT\MSVC\plugins\imageformats\qgif4.dll
0x00FB0000 0x0000A000 C:\QT\MSVC\plugins\imageformats\qico4.dll
0x00FD0000 0x00020000 C:\QT\MSVC\plugins\imageformats\qjpeg4.dll
0x01000000 0x0003A000 C:\QT\MSVC\plugins\imageformats\qmng4.dll
0x01050000 0x00008000 C:\QT\MSVC\plugins\imageformats\qsvg4.dll
0x66000000 0x00045000 C:\QT\MSVC\bin\QtSvg4.dll
0x01080000 0x00047000 C:\QT\MSVC\plugins\imageformats\qtiff4.dll
0x20000000 0x002C5000 C:\WINDOWS\system32\xpsp2res.dll
0x76C30000 0x0002E000 C:\WINDOWS\system32\WINTRUST.dll
0x77A80000 0x00094000 C:\WINDOWS\system32\CRYPT32.dll
0x77B20000 0x00012000 C:\WINDOWS\system32\MSASN1.dll
0x76C90000 0x00028000 C:\WINDOWS\system32\IMAGEHLP.dll
0x72D20000 0x00009000 C:\WINDOWS\system32\wdmaud.drv
0x72D10000 0x00008000 C:\WINDOWS\system32\msacm32.drv
0x77BE0000 0x00015000 C:\WINDOWS\system32\MSACM32.dll
0x77BD0000 0x00007000 C:\WINDOWS\system32\midimap.dll

Called from HBQTUI:DESTROY(0) in ../../../THbQtUI.prg
Called from IDEPROJMANAGER:FETCHPROPERTIES(649) in ideprojmanager.prg
Called from IDEPROJMANAGER:LOADPROPERTIES(517) in ideprojmanager.prg
Called from HBIDE:EXECPROJECTACTION(722) in hbide.prg
Called from HBIDE:EXECACTION(487) in hbide.prg
Called from (b)IDEACTIONS_BUILDMAINMENU(404) in ideactions.prg
Called from XBPMENU:EXEBLOCK(0) in ../../../xbpmenubar.prg
Called from (b)XBPMENUBAR_PLACEITEM(0) in ../../../xbpmenubar.prg
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
Called from APPEVENT(0) in ../../../xbpgeneric.prg
Called from HBIDE:CREATE(392) in hbide.prg
Called from MAIN(110) in hbide.prg
------------------------------------------------------------------------

BRGS
Fran?ek

-- 
View this message in context: http://old.nabble.com/hbide-runtime-error-tp27605764p27605764.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Feb 16 04:48:53 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 16 04:49:05 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <674e4ddd1002160117k5484882g23f20303f0c7ac99@mail.gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>
	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>
	<ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>
	<674e4ddd1002160056p7f6668eega17d2e2371a89ab8@mail.gmail.com>
	<58FE60DD-3648-4C2E-B2D1-80DC5E5DE164@syenar.hu>
	<674e4ddd1002160117k5484882g23f20303f0c7ac99@mail.gmail.com>
Message-ID: <595A6875-9954-46CC-A76D-C73C4B4F9A8F@syenar.hu>

> Uh oh.  Will the compile switch make it work with any version of Windows, as it currently does?

Yes, of course.

There is no functionality pulled from Harbour, just changing 
default build mode.

Brgds,
Viktor

From niki at synel.co.il  Tue Feb 16 05:07:17 2010
From: niki at synel.co.il (Chen Kedem)
Date: Tue Feb 16 05:07:27 2010
Subject: [Harbour] SF bug tracker#2947813: Codepage error key input on LINUX
	with UTF-8
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8EB58190@Mail-yoq.SYNEL-COMPANY.LTD>

Can someone answer this issue:
http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2947813&group_id=681

It does not look like a bug but more likely a support reuest for settings
German locales on a Linux machine.

Thanks,

  Chen.
From vszakats at users.sourceforge.net  Tue Feb 16 05:14:26 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 05:14:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13884] trunk/harbour
Message-ID: <E1NhKRm-0000ff-49@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13884
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13884&view=rev
Author:   vszakats
Date:     2010-02-16 10:14:24 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------
2010-02-16 11:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbthread.h
  * src/vm/fm.c
    ! Tweaks to allow msvcarm 2003 build.

  * src/vm/maindllp/dllpcode.c
  * src/vm/maindllh.c
    ! Deleted (AFAIK unnecessary) HB_EXPORT to make msvcarm 2003 happy.

  * src/common/hbgete.c
  * src/rtl/net.c
    ! Fixed missing #include hbwince.h.

  * external/sqlite3/Makefile
    - Disabled for msvcarm 2003.

  * contrib/gtalleg/Makefile
    - Disabled for msvcarm.

  * contrib/hbodbc/Makefile
  * contrib/rddsql/sddodbc/Makefile
    ! Do not force sql.h header for msvcarm 2003.

  * contrib/rddbmcdx/hbbmcdx.h
    ! Fixed HB_EXTERN placement to make msvcarm 2003 happy.

  * contrib/hbct/ctnet.c
  * contrib/xhb/hbsyslog.c
  * contrib/xhb/hbserv.c
  * contrib/hbtpathy/tpwin.c
  * contrib/hbnf/getenvrn.c
  * contrib/hbwin/wapi_winuser.c
  * contrib/hbwin/olecore.c
  * contrib/hbwin/win_dlg.c
    ! Fixed to make them compile on msvcarm 2003.

  * config/wce/msvcarm.mk
  * utils/hbmk2/hbmk2.prg
    ! Fixed warning option for msvcarm 2003.

  * utils/hbmk2/hbmk2.prg
    ! Fixed type causing RTE with msvcarm targets.

  ; NOTE: hbcurl doesn't build with msvcarm 2003, so either
          don't enable it, or experiment with HB_USER_CFLAGS=-U_WIN32_WCE
          hack. The problem lies somewhere in libcurl headers,
          not Harbour code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/hbct/ctnet.c
    trunk/harbour/contrib/hbnf/getenvrn.c
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/contrib/hbwin/win_dlg.c
    trunk/harbour/contrib/rddbmcdx/hbbmcdx.h
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/xhb/hbserv.c
    trunk/harbour/contrib/xhb/hbsyslog.c
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/include/hbthread.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/src/common/hbgete.c
    trunk/harbour/src/common/hbwince.c
    trunk/harbour/src/rtl/net.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/maindllh.c
    trunk/harbour/src/vm/maindllp/dllpcode.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Feb 16 06:36:04 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 16 06:36:16 2010
Subject: [Harbour] hb_InetShutdown()
Message-ID: <4B7A8324.3050807@libero.it>

Przemyslaw,

I'd like to add this code to hbinet.c

HB_FUNC( HB_INETSHUTDOWN )
{
   PHB_SOCKET_STRUCT socket = HB_PARSOCKET( 1 );

   if( socket )
   {
      if( socket->sd != HB_NO_SOCKET )
      {
         hb_retni( hb_socketShutdown( socket->sd, HB_SOCKET_SHUT_RDWR ) );
#if 0
#ifdef HB_INET_LINUX_INTERRUPT
         kill( 0, HB_INET_LINUX_INTERRUPT );
#endif
#endif
      }
      else
         hb_retni( -1 );
   }
   else
      hb_inetErrRT();
}

to be able to shutdown a socket before closing it, I've commented out #ifdef
HB_INET_LINUX_INTERRUPT which I don't know what it really does.

Do you think it's ok to commit it like this?

And, by the way, after this call, a call to hb_InetClose() would shutdown
socket again, which I don't think would create problems, but I don't have a
full vision of sockets in all supported platforms.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Feb 16 07:33:20 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 07:33:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13884] trunk/harbour
In-Reply-To: <E1NhKRm-0000ff-49@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NhKRm-0000ff-49@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <20100216123320.GA9333@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> 2010-02-16 11:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
[...]
>     ! Tweaks to allow msvcarm 2003 build.

Thank you very much.
I've got few questions about fm.c modifications.
You disabled DLMALLOC module for WinCE builds and MSVC 2003
or earlier and few lines below you enabled ABORT DLMALLOC macro
definition for the same platform and compiler so this code is
disabled by default.
Was it intentional?
Can you send exact errors you had compiling DLMALLOC module
using MSVC for WinCE? Maybe we can make it working?

BTW Probably you missed it. HBMK2 when -implib is used in MinGW
builds creates <name>.a import library file instead of lib<name>.a.
Can you fix it?

best regards,
Przemek
From maurilio.longo at libero.it  Tue Feb 16 07:39:20 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 16 07:39:33 2010
Subject: [Harbour] Re: OS/2: hbqt
In-Reply-To: <4B755F35.3000304@mail.udg.mx>
References: <4B755F35.3000304@mail.udg.mx>
Message-ID: <4B7A91F8.3040700@libero.it>

David,

thanks for the info, I hope to have a little spare time to test it out in the
next days.

Maurilio.

David Arturo Macias Corona wrote:
> Maurilio:
> 
> From svn.netlabs.org/qt4
> 
> download these files:
>   gcc-lib-4_4_2-20091204.wpi
>   qt-lib-4_5_1-ga.wpi
>   qt-dev-4_5_1-ga.wpi
>   qt-examples-4_5_1-ga.wpi
> 
> Once installed you will have "Qt 4.5.1 GA" folder on desktop containing
> many .exe files
> You do not need to build any library and/or executable and rest of tools
> 
> All "demos" work and most of "examples" work fine
> 
> ( Yes I know that you prefer Qt on Mac  :-) )
> 
> From svn.netlabs.org/qtapps
> you can download many applications with Qt4
> I tested some of them and all work fine, including Kdiff3
> 
> David Macias
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Tue Feb 16 07:40:59 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 16 07:41:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13882] trunk/harbour
In-Reply-To: <E1NhE2Z-0003wA-8l@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NhE2Z-0003wA-8l@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <609353e71002160440o222bc4f6x71a01338402ab93a@mail.gmail.com>

Intresting
will be possible have Project Location' relative/absolute

2010/2/16 <vouchcac@users.sourceforge.net>

> Revision: 13882
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13882&view=rev
> Author:   vouchcac
> Date:     2010-02-16 03:23:57 +0000 (Tue, 16 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-15 19:22 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbide/ideprojmanager.prg
>    + Project Management: first steps to integrate with .hbp engine.
>    % 'Project Location' made sensitive to valid/invalid path
>      with different background color.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/ideprojmanager.prg
>
>
> --
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/f02f3237/attachment.html
From harbour.01 at syenar.hu  Tue Feb 16 08:04:39 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb 16 08:04:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13884] trunk/harbour
In-Reply-To: <20100216123320.GA9333@linux-4bod.home.aster.pl>
References: <E1NhKRm-0000ff-49@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100216123320.GA9333@linux-4bod.home.aster.pl>
Message-ID: <E2B062CE-B68C-47A6-81CD-DE011FD82355@syenar.hu>

Hi Przemek,

On 2010 Feb 16, at 13:33, Przemys?aw Czerpak wrote:

> On Tue, 16 Feb 2010, vszakats@users.sourceforge.net wrote:
> 
> Hi Viktor,
> 
>> 2010-02-16 11:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> [...]
>>    ! Tweaks to allow msvcarm 2003 build.
> 
> Thank you very much.
> I've got few questions about fm.c modifications.
> You disabled DLMALLOC module for WinCE builds and MSVC 2003
> or earlier and few lines below you enabled ABORT DLMALLOC macro
> definition for the same platform and compiler so this code is
> disabled by default.
> Was it intentional?

Could be, I fixed this in order of error occurrence, and 
second fix may have masked the first one. There are two 
problems with msvcarm 2003:
   abort() doesn't exist, so I had to override ALLOC macro.
   time() doesn't exist, so I had to disable DLMT.

> Can you send exact errors you had compiling DLMALLOC module
> using MSVC for WinCE? Maybe we can make it working?

If above doesn't clarify it, I'll try to recreate them 
for you.

> BTW Probably you missed it. HBMK2 when -implib is used in MinGW
> builds creates <name>.a import library file instead of lib<name>.a.
> Can you fix it?

I'll check it.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Feb 16 08:26:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb 16 08:26:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13884] trunk/harbour
In-Reply-To: <20100216123320.GA9333@linux-4bod.home.aster.pl>
References: <E1NhKRm-0000ff-49@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100216123320.GA9333@linux-4bod.home.aster.pl>
Message-ID: <3A830DFC-A742-46B7-8F2B-B2D73A0E3C64@syenar.hu>

Hi Przemek,

I'm trying to create -hbdyn pcode .dll, but since we've decided 
to disable Harbour libs in this case, I'm getting failure:
---
undefined reference to `hb_vmExecute'
undefined reference to `hb_vmProcessSymbols'
undefined reference to `HB_FUN_QOUT'
---

If I add -lhbmaindllp manually, I'm stil getting
---
undefined reference to `HB_FUN_QOUT'
---

What am I missing?

Brgds,
Viktor

On 2010 Feb 16, at 13:33, Przemys?aw Czerpak wrote:

> On Tue, 16 Feb 2010, vszakats@users.sourceforge.net wrote:
> 
> Hi Viktor,
> 
>> 2010-02-16 11:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> [...]
>>    ! Tweaks to allow msvcarm 2003 build.
> 
> Thank you very much.
> I've got few questions about fm.c modifications.
> You disabled DLMALLOC module for WinCE builds and MSVC 2003
> or earlier and few lines below you enabled ABORT DLMALLOC macro
> definition for the same platform and compiler so this code is
> disabled by default.
> Was it intentional?
> Can you send exact errors you had compiling DLMALLOC module
> using MSVC for WinCE? Maybe we can make it working?
> 
> BTW Probably you missed it. HBMK2 when -implib is used in MinGW
> builds creates <name>.a import library file instead of lib<name>.a.
> Can you fix it?
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Tue Feb 16 08:31:18 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 08:31:26 2010
Subject: [Harbour] hb_InetShutdown()
In-Reply-To: <4B7A8324.3050807@libero.it>
References: <4B7A8324.3050807@libero.it>
Message-ID: <20100216133118.GA10188@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, Maurilio Longo wrote:

Hi Maurilio,

> I'd like to add this code to hbinet.c
> HB_FUNC( HB_INETSHUTDOWN )
> {
>    PHB_SOCKET_STRUCT socket = HB_PARSOCKET( 1 );
>    if( socket )
>    {
>       if( socket->sd != HB_NO_SOCKET )
>       {
>          hb_retni( hb_socketShutdown( socket->sd, HB_SOCKET_SHUT_RDWR ) );
> #if 0
> #ifdef HB_INET_LINUX_INTERRUPT
>          kill( 0, HB_INET_LINUX_INTERRUPT );
> #endif
> #endif
>       }
>       else
>          hb_retni( -1 );
>    }
>    else
>       hb_inetErrRT();
> }
> to be able to shutdown a socket before closing it,

Have you noticed that hb_socketShutdown() is called automatically
in hb_inetClose() and when socket is closed automatically by destructor?
Why you need to call it explicitly?

It's redundant. All hb_inet*() sockets are 

> I've commented out #ifdef
> HB_INET_LINUX_INTERRUPT which I don't know what it really does.

HB_INET_LINUX_INTERRUPT is a macro which enables code using signals
to interrupt socket operation. Giancarlo used it in original xHarbour
socket implementation and as I can see it's still there. In this
context it's used to wake up other threads waiting on the same socket.
I disabled it in default Harbour builds because our hb_fs* API is still
not safe for interrupting by asynchronous signals so it may cause
problems on kernels which do not resume interrupted disk operations
(POSIX compatible behavior).
HB_INET_LINUX_INTERRUPT is enough guard to disable this code and you do
not have to add #if 0 yet.

> Do you think it's ok to commit it like this?

Just let me know if you why you need it.
I have nothing against adding HB_INETSHUTDOWN() function but it
should support for 2-nd parameter so user can use it to selectively
close only read or write streams.

> And, by the way, after this call, a call to hb_InetClose() would shutdown
> socket again, which I don't think would create problems, but I don't have a
> full vision of sockets in all supported platforms.

Personally I'm very interested why this explicit call to shutdown() just
before close[socket]() was added to xHarbour and what was the intentional
behavior of this code. I replicated it in HB_INET*() functions in Harbour
to keep it compatible.

best regards,
Przemek
From bedipritpal at hotmail.com  Tue Feb 16 08:35:22 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 16 08:35:30 2010
Subject: [Harbour] Re: hbide runtime error
In-Reply-To: <27605764.post@talk.nabble.com>
References: <27605764.post@talk.nabble.com>
Message-ID: <1266327322800-4580230.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> When closing Project properties dialog error occurs:
> 
> Application Internal Error - C:\RAZVOJ\HARBOUR\WRK\APP\Qt\hbide\hbide.exe
> Terminated at: 2010.02.16 10:42:27
> Unrecoverable error 6005: Exception error: 
> 
> Called from HBQTUI:DESTROY(0) in ../../../THbQtUI.prg
> Called from IDEPROJMANAGER:FETCHPROPERTIES(649) in ideprojmanager.prg
> 

With MSVC I get this error all the time. After deep investigations
I am of this view that destructors in MSVC are implemented in different
way than in MinGW. I could not find a proper solution without ugly hacks.

Hack #1 
======

METHOD HbQtUI:destroy()
   LOCAL a_

   ::oWidget:hide()

   FOR EACH a_ IN ::aSignals
      Qt_Slots_disConnect( ::pSlots, a_[ 1 ], a_[ 2 ] )
   NEXT
   FOR EACH a_ IN ::aEvents
      Qt_Events_disConnect( ::pEvents, a_[ 1 ], a_[ 2 ] )
   NEXT

   #if 0
   FOR EACH qObj IN ::qObj DESCEND
      IF qObj:__enumIndex() > 1
hbide_dbg( "HbQtUI:destroy()", 1, a_[ 1 ], a_[ 2 ] )
         qObj := NIL
      ENDIF
   NEXT
   #endif

   FOR EACH a_ IN ::widgets DESCEND
      IF a_:__enumIndex() > 1
         IF type( a_[ 3 ] ) == "UI" .AND. ;
                      !( "Layout" $ a_[ 1 ] ) .AND. ;
                      ! a_[ 2 ] == "tabGeneral" .AND. ;
                      ! a_[ 1 ] $ "QSizePolicy,QTabWidget"
            ::qObj[ a_[ 2 ] ] := NIL
         ENDIF
      ENDIF
   NEXT

   ::oWidget:close()

   ::oWidget  := NIL
   ::aEvents  := NIL
   ::aSignals := NIL

   RETURN NIL

/*----------------------------------------------------------------------*/

Apply above patch in HbQtUI.prg and the error will go.
But I could never figure-out why these widgets cannot be destroyed
the normal way. MinGW does it cleanly. Anybody to help?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-runtime-error-tp4579392p4580230.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Tue Feb 16 08:39:50 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 16 08:39:57 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13882] trunk/harbour
In-Reply-To: <609353e71002160440o222bc4f6x71a01338402ab93a@mail.gmail.com>
References: <E1NhE2Z-0003wA-8l@sfp-svn-4.v30.ch3.sourceforge.com>
	<609353e71002160440o222bc4f6x71a01338402ab93a@mail.gmail.com>
Message-ID: <1266327590841-4580247.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Intresting
> will be possible have Project Location' relative/absolute
> 

The term "Relative" in this context is based on the "Project Location"
itself.
So what will be the other "base" for "Project Location" to be relative to ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13882-trunk-harbour-tp4578428p4580247.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From maurilio.longo at libero.it  Tue Feb 16 09:05:55 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 16 09:06:08 2010
Subject: [Harbour] hb_InetShutdown()
In-Reply-To: <20100216133118.GA10188@linux-4bod.home.aster.pl>
References: <4B7A8324.3050807@libero.it>
	<20100216133118.GA10188@linux-4bod.home.aster.pl>
Message-ID: <4B7AA643.1070606@libero.it>

Przemyslaw,

I'm writing a ftpd server, when a transfer is happening and, for example, I
have an error writing data to disk I have to stop incoming data and notify
client that the transfer has been aborted.

Looking around I've seen that one solution is to shutdown() the socket and
receive pending data while sending on the control socket a code telling the
client I've aborted the transfer.

hb_InetClose() does an automatic shutdown, I saw it, but I think that a
following hb_InetRecv() on a closed socket will give me an error.

Maybe I can just don't bother, close the socket and send the abort code, I
admit that I've not made tests since adding hb_InetShutdown() seemed to me so
easy .)

BTW, I don't know why xharbout has a shutdown() just before a close.

Thanks.

Maurilio.

Przemys?aw Czerpak wrote:
> On Tue, 16 Feb 2010, Maurilio Longo wrote:
> 
> Hi Maurilio,
> 
>> I'd like to add this code to hbinet.c
>> HB_FUNC( HB_INETSHUTDOWN )
>> {
>>    PHB_SOCKET_STRUCT socket = HB_PARSOCKET( 1 );
>>    if( socket )
>>    {
>>       if( socket->sd != HB_NO_SOCKET )
>>       {
>>          hb_retni( hb_socketShutdown( socket->sd, HB_SOCKET_SHUT_RDWR ) );
>> #if 0
>> #ifdef HB_INET_LINUX_INTERRUPT
>>          kill( 0, HB_INET_LINUX_INTERRUPT );
>> #endif
>> #endif
>>       }
>>       else
>>          hb_retni( -1 );
>>    }
>>    else
>>       hb_inetErrRT();
>> }
>> to be able to shutdown a socket before closing it,
> 
> Have you noticed that hb_socketShutdown() is called automatically
> in hb_inetClose() and when socket is closed automatically by destructor?
> Why you need to call it explicitly?
> 
> It's redundant. All hb_inet*() sockets are 
> 
>> I've commented out #ifdef
>> HB_INET_LINUX_INTERRUPT which I don't know what it really does.
> 
> HB_INET_LINUX_INTERRUPT is a macro which enables code using signals
> to interrupt socket operation. Giancarlo used it in original xHarbour
> socket implementation and as I can see it's still there. In this
> context it's used to wake up other threads waiting on the same socket.
> I disabled it in default Harbour builds because our hb_fs* API is still
> not safe for interrupting by asynchronous signals so it may cause
> problems on kernels which do not resume interrupted disk operations
> (POSIX compatible behavior).
> HB_INET_LINUX_INTERRUPT is enough guard to disable this code and you do
> not have to add #if 0 yet.
> 
>> Do you think it's ok to commit it like this?
> 
> Just let me know if you why you need it.
> I have nothing against adding HB_INETSHUTDOWN() function but it
> should support for 2-nd parameter so user can use it to selectively
> close only read or write streams.
> 
>> And, by the way, after this call, a call to hb_InetClose() would shutdown
>> socket again, which I don't think would create problems, but I don't have a
>> full vision of sockets in all supported platforms.
> 
> Personally I'm very interested why this explicit call to shutdown() just
> before close[socket]() was added to xHarbour and what was the intentional
> behavior of this code. I replicated it in HB_INET*() functions in Harbour
> to keep it compatible.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Tue Feb 16 09:07:08 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 09:07:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13885] trunk/harbour
Message-ID: <E1NhO4y-0005L3-Ic@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13885
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13885&view=rev
Author:   vszakats
Date:     2010-02-16 14:07:07 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------
2010-02-16 15:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fix to add 'lib' prefix for gcc compiler when using -implib option.
    + Added comment detailing prev change.

  * config/wce/msvcarm.mk
  * config/win/msvc.mk
    - Deleted -YX option. 
      We don't want to force precompiled headers by default on older 
      MSVC versions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Feb 16 09:16:33 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 09:16:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13884] trunk/harbour
In-Reply-To: <3A830DFC-A742-46B7-8F2B-B2D73A0E3C64@syenar.hu>
References: <E1NhKRm-0000ff-49@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100216123320.GA9333@linux-4bod.home.aster.pl>
	<3A830DFC-A742-46B7-8F2B-B2D73A0E3C64@syenar.hu>
Message-ID: <20100216141633.GA11717@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, Szak?ts Viktor wrote:

Hi,

> I'm trying to create -hbdyn pcode .dll, but since we've decided 
> to disable Harbour libs in this case, I'm getting failure:
> ---
> undefined reference to `hb_vmExecute'
> undefined reference to `hb_vmProcessSymbols'
> undefined reference to `HB_FUN_QOUT'
> ---

And it's correct behavior. Such PCODE dll can be linked with:

1. harbour shared library (harbour*.dll) and in such case it's enough
   to use -shared hbmk2 parameter.

2. hbmaindll library and in such case all external functions inside
   PRG code should be declared as DYNAMIC to not create any hardcoded
   references to them, i.e.:

      /*** dllcode.prg ***/
      DYNAMIC QOUT, PROCNAME
      proc MY_PROC()
         ? PROCNAME() + ": hello !!!"
      return
      init proc start
         ? "INIT PROC", PROCNAME()
      return
      exit proc end
         ? "EXIT PROC", PROCNAME()
      return

   See my last message about creating DLLs and code to automatically
   generate files with DYNAMIC declarations for all functions linked
   with the main executable part of application.

   I haven't added 'hbstatic' library yet we were talking about so
   you have to link main part of application dynamically or build
   harbour with HB_DYNLIB macro or add this code:
      #pragma begindump
      #include "hbapi.h"
      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
      {
         return hb_vmProcAddress( szFuncName );
      }
   to one of .prg files linked with main static part of application.

3. with import library created for the main executable part of application
   when it was linked using -implib hbmk2 switch.
   To create such import library you have to compile Harbour with
   HB_DYNLIB macro or if you are using MinGW then you can use
   --export-all-symbols LD switch, i.e.:
      hbmk2 -implib -ldflag=-Wl,--export-all-symbols ...

You cannot link such PCODE DLL with Harbour static libraries.
Technically it's possible and you will not have any link time
errors when you add -nohblib- switch but you will create broken
binaries because your DLL and you static part of application will
use their own independent HVM implementations.
The only one situation when such DLL linked with Harbour static
libraries is usable is when programmer wants to create self contain
DLL which will be used by non Harbour applications.

> If I add -lhbmaindllp manually, I'm stil getting
> ---
> undefined reference to `HB_FUN_QOUT'
> ---
> What am I missing?

See above.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Feb 16 09:26:15 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 09:26:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13885] trunk/harbour
In-Reply-To: <E1NhO4y-0005L3-Ic@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NhO4y-0005L3-Ic@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <20100216142615.GA26243@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

> 2010-02-16 15:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     ! Fix to add 'lib' prefix for gcc compiler when using -implib option.
>     + Added comment detailing prev change.

Thank you very much.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Feb 16 09:34:58 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb 16 09:35:10 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13884] trunk/harbour
In-Reply-To: <20100216141633.GA11717@linux-4bod.home.aster.pl>
References: <E1NhKRm-0000ff-49@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100216123320.GA9333@linux-4bod.home.aster.pl>
	<3A830DFC-A742-46B7-8F2B-B2D73A0E3C64@syenar.hu>
	<20100216141633.GA11717@linux-4bod.home.aster.pl>
Message-ID: <741FF3F2-B743-4736-A5EA-DC300542B3A3@syenar.hu>

Hi Przemek,

Thank you.

I still can't see how exactly, but I hope we 
can make this process smoother in the future.
For sure hbstatic is a good step, after that 
we can see the next.

Brgds,
Viktor

On 2010 Feb 16, at 15:16, Przemys?aw Czerpak wrote:

> On Tue, 16 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> I'm trying to create -hbdyn pcode .dll, but since we've decided 
>> to disable Harbour libs in this case, I'm getting failure:
>> ---
>> undefined reference to `hb_vmExecute'
>> undefined reference to `hb_vmProcessSymbols'
>> undefined reference to `HB_FUN_QOUT'
>> ---
> 
> And it's correct behavior. Such PCODE dll can be linked with:
> 
> 1. harbour shared library (harbour*.dll) and in such case it's enough
>   to use -shared hbmk2 parameter.
> 
> 2. hbmaindll library and in such case all external functions inside
>   PRG code should be declared as DYNAMIC to not create any hardcoded
>   references to them, i.e.:
> 
>      /*** dllcode.prg ***/
>      DYNAMIC QOUT, PROCNAME
>      proc MY_PROC()
>         ? PROCNAME() + ": hello !!!"
>      return
>      init proc start
>         ? "INIT PROC", PROCNAME()
>      return
>      exit proc end
>         ? "EXIT PROC", PROCNAME()
>      return
> 
>   See my last message about creating DLLs and code to automatically
>   generate files with DYNAMIC declarations for all functions linked
>   with the main executable part of application.
> 
>   I haven't added 'hbstatic' library yet we were talking about so
>   you have to link main part of application dynamically or build
>   harbour with HB_DYNLIB macro or add this code:
>      #pragma begindump
>      #include "hbapi.h"
>      HB_EXPORT_ATTR PHB_FUNC dll_hb_vmProcAddress( const char * szFuncName )
>      {
>         return hb_vmProcAddress( szFuncName );
>      }
>   to one of .prg files linked with main static part of application.
> 
> 3. with import library created for the main executable part of application
>   when it was linked using -implib hbmk2 switch.
>   To create such import library you have to compile Harbour with
>   HB_DYNLIB macro or if you are using MinGW then you can use
>   --export-all-symbols LD switch, i.e.:
>      hbmk2 -implib -ldflag=-Wl,--export-all-symbols ...
> 
> You cannot link such PCODE DLL with Harbour static libraries.
> Technically it's possible and you will not have any link time
> errors when you add -nohblib- switch but you will create broken
> binaries because your DLL and you static part of application will
> use their own independent HVM implementations.
> The only one situation when such DLL linked with Harbour static
> libraries is usable is when programmer wants to create self contain
> DLL which will be used by non Harbour applications.
> 
>> If I add -lhbmaindllp manually, I'm stil getting
>> ---
>> undefined reference to `HB_FUN_QOUT'
>> ---
>> What am I missing?
> 
> See above.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Tue Feb 16 10:21:24 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 10:21:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13884] trunk/harbour
In-Reply-To: <741FF3F2-B743-4736-A5EA-DC300542B3A3@syenar.hu>
References: <E1NhKRm-0000ff-49@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100216123320.GA9333@linux-4bod.home.aster.pl>
	<3A830DFC-A742-46B7-8F2B-B2D73A0E3C64@syenar.hu>
	<20100216141633.GA11717@linux-4bod.home.aster.pl>
	<741FF3F2-B743-4736-A5EA-DC300542B3A3@syenar.hu>
Message-ID: <20100216152124.GA26511@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> I still can't see how exactly, but I hope we 
> can make this process smoother in the future.
> For sure hbstatic is a good step, after that 
> we can see the next.

Now I am confused :)

hbstatic library is completely independent extension which interacts
only with point 2 I described and when it will be ready instead of
#pragma {begin/end}dump it will be possible to simply use:
   REQUEST HB_DYNAMIC_PCODE
but this is all what will be changed so I do not know what are
the next steps you are talking about.

There are few methods of creating DLLs because it's possible to
create _different_ DLLs. Programmer has to chose the method which
is the best for him depending on the type of application and context
were they are used.

DLLs can be linked statically or loaded dynamically with/by static
or shared (using harbour*.dll) applications. They can use static or
dynamic bindings to functions in core part of application or
in harbour*.dll.

The method chosen to create DLL depends on users needs. I.e.
if I want to allow to creating 3-rd party extensions to my
application which can use any public functions linked with
my program then the ideal seems to be creating import libraries
for my binaries and distribute this library to all 3-rd party
programmers so they can link their code with it.

But if I want to create DLL which can be loaded by many
different application linked statically or dynamically then
such DLL has to be linked with hbmaindllp.

If I want to help programmers working on such DLLs then I can
give them list of functions which are available in core part
of application in .ch file declared as DYNAMIC.
Using such .ch file they can easy verify at DLL link time (link
time errors) if they used some functions which are not available
in the main application code and where not REQUESTed from Harbour
libraries.

This is rather simple functionality which users may need in
different situations so all methods are important.

It's also possible to create much more complicated binaries, i.e.
using few independent HVMs in different DLLs but I do not want to
document it. Such functionality is for really advanced users who
well know what they are doing so they do not need any description
how to make it. Most of other users will only create broken binaries
which will not work as expected.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Feb 16 10:30:32 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 10:30:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13886] trunk/harbour
Message-ID: <E1NhPNg-0005Ml-Bx@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13886
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13886&view=rev
Author:   vszakats
Date:     2010-02-16 15:30:31 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------
2010-02-16 16:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wce_smsc.c
    ! Fixed to skip content for msvc 2003 in C mode.

  * config/globsh.mk
    + Now also deleting .pch (MSVC precompiled header) files on
      clean, in case someone enables them.

  ; NOTE: I turned out all my tests using "msvc 2003" compiler
          was in fact a 12.20.9615 (_MSV_VER=1201, clarm.exe)
          version compiler, which equals to VC++ 6.0.
          Just for the record, since I can't oversee what WinCE
          compilers were released between this and MSVC2005 (8.0/1400),
          so until then I have to assume that everything
          below 8.0 are "old" msvcarm versions (7.1/1310 or lower).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/contrib/hbwin/wce_smsc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 16 10:37:27 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb 16 10:37:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13884] trunk/harbour
In-Reply-To: <20100216152124.GA26511@linux-4bod.home.aster.pl>
References: <E1NhKRm-0000ff-49@sfp-svn-5.v30.ch3.sourceforge.com>
	<20100216123320.GA9333@linux-4bod.home.aster.pl>
	<3A830DFC-A742-46B7-8F2B-B2D73A0E3C64@syenar.hu>
	<20100216141633.GA11717@linux-4bod.home.aster.pl>
	<741FF3F2-B743-4736-A5EA-DC300542B3A3@syenar.hu>
	<20100216152124.GA26511@linux-4bod.home.aster.pl>
Message-ID: <A34C93D0-0495-4D3B-9E09-062E4C306A2F@syenar.hu>

Hi Przemek,

On 2010 Feb 16, at 16:21, Przemys?aw Czerpak wrote:

> On Tue, 16 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi Viktor,
> 
>> I still can't see how exactly, but I hope we 
>> can make this process smoother in the future.
>> For sure hbstatic is a good step, after that 
>> we can see the next.
> 
> Now I am confused :)
> 
> hbstatic library is completely independent extension which interacts
> only with point 2 I described and when it will be ready instead of
> #pragma {begin/end}dump it will be possible to simply use:
>   REQUEST HB_DYNAMIC_PCODE
> but this is all what will be changed so I do not know what are
> the next steps you are talking about.

So it's not completely independent :)

> There are few methods of creating DLLs because it's possible to
> create _different_ DLLs. Programmer has to chose the method which
> is the best for him depending on the type of application and context
> were they are used.
> 
> DLLs can be linked statically or loaded dynamically with/by static
> or shared (using harbour*.dll) applications. They can use static or
> dynamic bindings to functions in core part of application or
> in harbour*.dll.
> 
> The method chosen to create DLL depends on users needs. I.e.
> if I want to allow to creating 3-rd party extensions to my
> application which can use any public functions linked with
> my program then the ideal seems to be creating import libraries
> for my binaries and distribute this library to all 3-rd party
> programmers so they can link their code with it.
> 
> But if I want to create DLL which can be loaded by many
> different application linked statically or dynamically then
> such DLL has to be linked with hbmaindllp.
> 
> If I want to help programmers working on such DLLs then I can
> give them list of functions which are available in core part
> of application in .ch file declared as DYNAMIC.
> Using such .ch file they can easy verify at DLL link time (link
> time errors) if they used some functions which are not available
> in the main application code and where not REQUESTed from Harbour
> libraries.
> 
> This is rather simple functionality which users may need in
> different situations so all methods are important.

Good description of "use cases". My idea is to make 
above combinations as easy as possible to use. Maybe it's 
not possible, maybe it is. Question is what items can be 
automatized in above cases. If there is some which can, 
we can add more -hbdyn* switches to let hbmk2 deal with 
some details (linking hbstatic, linking hbmaindll*, creating 
list of DYNAMIC symbols, etc)

You'll probably much better see if such thing can be 
added, so just keep it mind to drop me a notice.

> It's also possible to create much more complicated binaries, i.e.
> using few independent HVMs in different DLLs but I do not want to
> document it. Such functionality is for really advanced users who
> well know what they are doing so they do not need any description
> how to make it. Most of other users will only create broken binaries
> which will not work as expected.

Yes, I agree to leave these.

There is one which might be interesting for more users:
If someone wants to create a "pcode" .dll which can be launched 
from other systems, like C#/.NET, pure .c, or Python projects.
I wonder, if this is possible currently, or at all?

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Feb 16 10:42:25 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 10:42:33 2010
Subject: [Harbour] hb_InetShutdown()
In-Reply-To: <4B7AA643.1070606@libero.it>
References: <4B7A8324.3050807@libero.it>
	<20100216133118.GA10188@linux-4bod.home.aster.pl>
	<4B7AA643.1070606@libero.it>
Message-ID: <20100216154225.GA26367@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, Maurilio Longo wrote:

Hi,

> I'm writing a ftpd server, when a transfer is happening and, for example, I
> have an error writing data to disk I have to stop incoming data and notify
> client that the transfer has been aborted.
> 
> Looking around I've seen that one solution is to shutdown() the socket and
> receive pending data while sending on the control socket a code telling the
> client I've aborted the transfer.

Why do you need to receive pending data in such situation?

> hb_InetClose() does an automatic shutdown, I saw it, but I think that a
> following hb_InetRecv() on a closed socket will give me an error.

Yes, it will return error but it should not be a problem for you.
HB_INET*() functions in Harbour have protection against using closed
sockets in low level functions.

> Maybe I can just don't bother, close the socket and send the abort code, I
> admit that I've not made tests since adding hb_InetShutdown() seemed to me so
> easy .)

I think it will work without any problems.

Anyhow this function can be usable in some cases i.e. to should down
only one side of connection so we can add it. But it's possible that
on some platforms it will not interrupt select() executed on shutdown
stream so probably it will be good to save socket shutdown status in
PHB_SOCKET_STRUCT and extend hb_inetIsOpen() function to check if
socket can be used to READ and/or WRITE data.

best regards,
Przemek
From bruno.luciani at gmail.com  Tue Feb 16 11:11:46 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Feb 16 11:11:54 2010
Subject: [Harbour] Re: HBQPlainTextEdit
In-Reply-To: <1266293568236-4578533.post@n2.nabble.com>
References: <133778361002151847t266d93a4t80c46d8b100dbc14@mail.gmail.com>
	<1266293568236-4578533.post@n2.nabble.com>
Message-ID: <133778361002160811q4ebfc49bk4d727aff766e81b2@mail.gmail.com>

Pritpal    testCursor or TextCursor ?

I just try an using the same but

qCursor := QTextCursor():from( oEdit:textCursor() )

  nRow := qCursor:blockNumber() + 1
  nCol := qCursor:columnNumber() + 1


Works ok if I generate new lines or columns using enter

but If I am navigating an open file the number not change

Bruno


>    qCursor := QTextCursor():from( qPlainTextEdit:testCursor() )
>
>   nRow := qCursor:blockNumber() + 1
>   nCol := qCursor:columnNumber() + 1
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/3f543da1/attachment.html
From bruno.luciani at gmail.com  Tue Feb 16 11:13:03 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Feb 16 11:13:12 2010
Subject: [Harbour] mysql test sample either compile in LINUX
In-Reply-To: <fd76479f1002160107v74c72abdg797ee2fa33c8ed48@mail.gmail.com>
References: <133778361002050811o3af16996qce6319b10f4b8f6a@mail.gmail.com>
	<fd76479f1002051638q3a5fbc1ewaf908a3cfe559c2d@mail.gmail.com>
	<133778361002061543i43469f80n5f6a00ca60466849@mail.gmail.com>
	<609353e71002070027x79da0433o3ea6e35151a4f3ab@mail.gmail.com>
	<133778361002070545qc33eac0k23126c5a5dea1b52@mail.gmail.com>
	<609353e71002070611y7dfa412dt1817035bd6705b10@mail.gmail.com>
	<133778361002071403v35fd0dc6t13b7ae6f272ad804@mail.gmail.com>
	<fd76479f1002160107v74c72abdg797ee2fa33c8ed48@mail.gmail.com>
Message-ID: <133778361002160813r2e3f3321hf6cb78b58f0cceea@mail.gmail.com>

Thanks for the advise Marco

Bruno

2010/2/16 marco bra <marcobra.ubuntu@gmail.com>

> Fixed by Victor
> http://thread.gmane.org/gmane.comp.lang.harbour.devel/26719
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/f36287cd/attachment.html
From mbelgrano at deltain.it  Tue Feb 16 11:36:46 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 16 11:37:14 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13882] trunk/harbour
In-Reply-To: <1266327590841-4580247.post@n2.nabble.com>
References: <E1NhE2Z-0003wA-8l@sfp-svn-4.v30.ch3.sourceforge.com> 
	<609353e71002160440o222bc4f6x71a01338402ab93a@mail.gmail.com> 
	<1266327590841-4580247.post@n2.nabble.com>
Message-ID: <609353e71002160836g2a805071i8d7361abd3d7dc@mail.gmail.com>

If i want distribute a project independent from project location
in vb i can use vbp also in different position in tree because
"c:\vblav\myproject\myproject.vbp" then i move to "c:\myp\myproject.vbp"
with all project tree file inside
and can use without change inside anything in vbp(vb project file)
if i move/copy from c:\harbour\contrib\hbide\ to c:\hbide  then hbide.hbi
not work
you must point how use dynamic current dir in project directory

2010/2/16 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Massimo Belgrano wrote:
> >
> > Intresting
> > will be possible have Project Location' relative/absolute
> >
>
> The term "Relative" in this context is based on the "Project Location"
> itself.
> So what will be the other "base" for "Project Location" to be relative to ?
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/SF-net-SVN-harbour-project-13882-trunk-harbour-tp4578428p4580247.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/3bef551f/attachment.html
From maurilio.longo at libero.it  Tue Feb 16 11:53:28 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 16 11:53:42 2010
Subject: [Harbour] debugger in MT programs
Message-ID: <4B7ACD88.5020203@libero.it>

Hi,

testing a MT program compiled with -b to have debugger available I got this
call stack

Error BASE/1005  No exported variable: BACTION
Called from _BACTION(0)
Called from HBDBMENU:BUILD(0)
Called from __DBGBUILDMENU(0)
Called from HBDEBUGGER:NEW(0)
Called from __DBGENTRY(0)
Called from TCONNECTION:EXECUTE(184)
Called from (b)TTHREAD_START(0)
Error BASE/1005  No exported variable: BACTION

Is debugger not MT safe/ready? It happened only once when I started a bunch of
threads to make a test, AltD() seems to work fine when called from code
executed in a thread.

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vouchcac at users.sourceforge.net  Tue Feb 16 12:28:29 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Feb 16 12:28:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13887] trunk/harbour
Message-ID: <E1NhRDp-0000Pv-UB@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13887
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13887&view=rev
Author:   vouchcac
Date:     2010-02-16 17:28:28 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------
2010-02-16 09:21 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idestylesheets.prg
    + Started left-hand toolbar(s) to present visual interactions for 
      a number of hidden actions. A work-in-progress.

  * contrib/hbqt/THbQtUI.prg
    ! Fixed object destruction sequence per latest changes in HbQtUI() class.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbqt/THbQtUI.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Feb 16 12:32:47 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 16 12:32:53 2010
Subject: [Harbour] Re: HBQPlainTextEdit
In-Reply-To: <133778361002160811q4ebfc49bk4d727aff766e81b2@mail.gmail.com>
References: <133778361002151847t266d93a4t80c46d8b100dbc14@mail.gmail.com>
	<1266293568236-4578533.post@n2.nabble.com>
	<133778361002160811q4ebfc49bk4d727aff766e81b2@mail.gmail.com>
Message-ID: <1266341567053-4581583.post@n2.nabble.com>



Bruno Luciani wrote:
> 
> Pritpal    testCursor or TextCursor ?
> 

Fast typing syndrome - textCursor().


I just try an using the same but

qCursor := QTextCursor():from( oEdit:textCursor() )

  nRow := qCursor:blockNumber() + 1
  nCol := qCursor:columnNumber() + 1


Works ok if I generate new lines or columns using enter

but If I am navigating an open file the number not change


This belongs to how and when and under which signal you 
update the row/line info. Please review hbide/ideeditor.prg
for in-depth information.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/HBQPlainTextEdit-tp4578337p4581583.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Tue Feb 16 12:38:04 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 16 12:38:11 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13882] trunk/harbour
In-Reply-To: <609353e71002160836g2a805071i8d7361abd3d7dc@mail.gmail.com>
References: <E1NhE2Z-0003wA-8l@sfp-svn-4.v30.ch3.sourceforge.com>
	<609353e71002160440o222bc4f6x71a01338402ab93a@mail.gmail.com>
	<1266327590841-4580247.post@n2.nabble.com>
	<609353e71002160836g2a805071i8d7361abd3d7dc@mail.gmail.com>
Message-ID: <1266341884365-4581615.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> If i want distribute a project independent from project location
> in vb i can use vbp also in different position in tree because
> "c:\vblav\myproject\myproject.vbp" then i move to "c:\myp\myproject.vbp"
> with all project tree file inside
> and can use without change inside anything in vbp(vb project file)
> if i move/copy from c:\harbour\contrib\hbide\ to c:\hbide  then hbide.hbi
> not work
> you must point how use dynamic current dir in project directory
> 

So you are keeping all the sources down the folder where project is located.
AND _this_is_relative_to_project_location_. When you will change the 
project, you will have to tell hbIDE engine that now your location is
"this".
That's it. What's the problem ? Anyway you will supply the .hbp or .hbi 
with your project, no? If no, then the user will have to load the project 
from new folder and tell hbIDE that this is a "Relative Paths Project" and 
the project will be built from there.

May be above description will be vague. First let me implement it, then we
will discuss.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13882-trunk-harbour-tp4578428p4581615.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bruno.luciani at gmail.com  Tue Feb 16 12:50:19 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Feb 16 12:50:27 2010
Subject: [Harbour] Re: HBQPlainTextEdit
In-Reply-To: <1266341567053-4581583.post@n2.nabble.com>
References: <133778361002151847t266d93a4t80c46d8b100dbc14@mail.gmail.com>
	<1266293568236-4578533.post@n2.nabble.com>
	<133778361002160811q4ebfc49bk4d727aff766e81b2@mail.gmail.com>
	<1266341567053-4581583.post@n2.nabble.com>
Message-ID: <133778361002160950w80cf6fqff68fb8f88e655b8@mail.gmail.com>

ok

Thanks


Bruno


> This belongs to how and when and under which signal you
> update the row/line info. Please review hbide/ideeditor.prg
> for in-depth information.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/0534f2fd/attachment.html
From francek.prijatelj at siol.net  Tue Feb 16 12:56:36 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Tue Feb 16 12:56:45 2010
Subject: [Harbour] hbide runtime error
In-Reply-To: <1266327322800-4580230.post@n2.nabble.com>
References: <27605764.post@talk.nabble.com>
	<1266327322800-4580230.post@n2.nabble.com>
Message-ID: <27612436.post@talk.nabble.com>


Hi Pritpal


Pritpal Bedi wrote:
> 
> 
> With MSVC I get this error all the time. After deep investigations
> I am of this view that destructors in MSVC are implemented in different
> way than in MinGW. I could not find a proper solution without ugly hacks.
> 
> 

I get the same error compiling with MSVC8 or with mingw 4.0  (from Qt
distribution).
I daily compile HARBOUR with MSVC8 and mingw (both release and debug build)
as well as
hbide.
Not long ago (don't know release num) this feature was working.

By the way.

I compile  Harbour also with HB_BUILD_DEBUG=yes set, but as you can
see prg files are compiled without debug info (line numbers,....)
I also tried with SET HB_USER_PRGFLAGS=-b -l , but it doesn't compile.

Called from HBQTUI:DESTROY(0)  <----  harbour compiled with
HB_BUILD_DEBUG=yes
Called from IDEPROJMANAGER:FETCHPROPERTIES(649) in ideprojmanager.prg  <--
hbide compiled with -b -l

BRGS
Fran?ek
-- 
View this message in context: http://old.nabble.com/hbide-runtime-error-tp27605764p27612436.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jarabal at gmail.com  Tue Feb 16 13:14:16 2010
From: jarabal at gmail.com (Xavi)
Date: Tue Feb 16 13:14:58 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <20100216092555.GA8888@linux-4bod.home.aster.pl>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>	<ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>	<674e4ddd1002160056p7f6668eega17d2e2371a89ab8@mail.gmail.com>	<58FE60DD-3648-4C2E-B2D1-80DC5E5DE164@syenar.hu>	<674e4ddd1002160117k5484882g23f20303f0c7ac99@mail.gmail.com>
	<20100216092555.GA8888@linux-4bod.home.aster.pl>
Message-ID: <4B7AE078.8090909@gmail.com>

Przemek,

> You will have to recompile core Harbour code with:
>     set HB_BUILD_UNICODE=no
> Then Harbour compiler and final binaries created by Harbour compiler
> will work on Win9x.

Sorry but no. Some RTL (gtwvt, hbwin) only work with Windows 2000 or later and crash in Win9x because *force* _WIN32_WINNT to 
0x0500 .-
...
#undef _WIN32_WINNT
#define _WIN32_WINNT   0x0500
...
I insist that, as UNICODE, must be passed by the user _WIN32_WINNT to compile Harbour.

Best regards,
Xavi

El 16/02/2010 10:25, Przemys?aw Czerpak escribi?:
> On Tue, 16 Feb 2010, smu johnson wrote:
>> Uh oh.  Will the compile switch make it work with any version of Windows, as
>> it currently does?
>
> You will have to recompile core Harbour code with:
>     set HB_BUILD_UNICODE=no
> Then Harbour compiler and final binaries created by Harbour compiler
> will work on Win9x.
>
> Now above set is default for most of desktop MS-Windows builds and only
> WinCE and new MSVC builds uses
>     set HB_BUILD_UNICODE=yes
> because they do not support pure ASCII API.
> Viktor wants to make
>     set HB_BUILD_UNICODE=yes
> default in all MS-Windows builds.
>
> best regards,
> Przemek
From bruno.luciani at gmail.com  Tue Feb 16 13:20:46 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Feb 16 13:20:54 2010
Subject: [Harbour] WOrd and Excel or Openoffice
Message-ID: <133778361002161020l3270425bi737c9fd2019dcc80@mail.gmail.com>

Exist a way to create a word or excel file from harbour and linux ?

may be an openoffice file ?


Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/ff2dab61/attachment.html
From harbour.01 at syenar.hu  Tue Feb 16 13:30:43 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb 16 13:30:54 2010
Subject: [Harbour] win - making UNICODE the default
In-Reply-To: <4B7AE078.8090909@gmail.com>
References: <A98D477B-4EDD-4221-8406-C517391C3CAD@syenar.hu>	<674e4ddd1002151808p21250357v20f34ea1dab6684d@mail.gmail.com>	<ED5E4628-EB54-49E6-A024-576E70123245@syenar.hu>	<674e4ddd1002160056p7f6668eega17d2e2371a89ab8@mail.gmail.com>	<58FE60DD-3648-4C2E-B2D1-80DC5E5DE164@syenar.hu>	<674e4ddd1002160117k5484882g23f20303f0c7ac99@mail.gmail.com>
	<20100216092555.GA8888@linux-4bod.home.aster.pl>
	<4B7AE078.8090909@gmail.com>
Message-ID: <514D5803-34CE-476E-84CE-57A49632D7EB@syenar.hu>

Hi,

>> You will have to recompile core Harbour code with:
>>    set HB_BUILD_UNICODE=no
>> Then Harbour compiler and final binaries created by Harbour compiler
>> will work on Win9x.
> 
> Sorry but no. Some RTL (gtwvt, hbwin) only work with Windows 2000 or later and crash in Win9x because *force* _WIN32_WINNT to 0x0500 .-
> ...
> #undef _WIN32_WINNT
> #define _WIN32_WINNT   0x0500
> ...
> I insist that, as UNICODE, must be passed by the user _WIN32_WINNT to compile Harbour.

Let's talk about the facts for a second.

In Harbour _WIN32_WINNT is #defined only in these locations:
---
contrib/gtwvg/gtwvg.c:86:#define _WIN32_WINNT   0x0500 /* Set to Windows 2000 for WS_EX_LAYERED */
examples/gtwvw/hbgtwvw.h:72:#define _WIN32_WINNT 0x0500
contrib/hbwin/wapi_wingdi_font.c:53:#define _WIN32_WINNT 0x0500
src/rtl/gtwvt/gtwvt.c:86:#define _WIN32_WINNT   0x0500 /* Set to Windows 2000 for WS_EX_LAYERED */
---

Let's disregard gtwvg and gtwvw. That leaves us the one 
place I already mentioned, and which I believe should be 
fixed, plus one occasion in GTWVT.

In GTWVT, it's only enabled to get the value of WS_EX_LAYERED.
The >= 0x0500 functionality is guarded with macros and 
dynamic function access.

So, it's a fact Harbour apps work on Win9x with UNICODE 
set to off. Even my app is still used on Win98, so it 
for sure works.

GTWVG is probably okay, but I don't know the rest of 
the code.

Only one place needs fixing, the one already mentioned.

BTW, maybe it's better to #define WS_EX_LAYERED when 
not defined, to clear doubts, and I'll do that.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Feb 16 13:31:56 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 16 13:32:07 2010
Subject: [Harbour] WOrd and Excel or Openoffice
In-Reply-To: <133778361002161020l3270425bi737c9fd2019dcc80@mail.gmail.com>
References: <133778361002161020l3270425bi737c9fd2019dcc80@mail.gmail.com>
Message-ID: <74103BC4-235F-4866-A27A-2D8F3D3AB006@syenar.hu>

Sorry, but this is off-topic on this list, it's general 
programming advice, so should go to the forum or users' list.

Brgds,
Viktor

On 2010 Feb 16, at 19:20, Bruno Luciani wrote:

> Exist a way to create a word or excel file from harbour and linux ?
> 
> may be an openoffice file ?
> 
> 
> Bruno
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Tue Feb 16 13:45:20 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 16 13:45:27 2010
Subject: [Harbour] Re: hbide runtime error
In-Reply-To: <27612436.post@talk.nabble.com>
References: <27605764.post@talk.nabble.com>
	<1266327322800-4580230.post@n2.nabble.com>
	<27612436.post@talk.nabble.com>
Message-ID: <1266345920377-4581954.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> 
> I get the same error compiling with MSVC8 or with mingw 4.0  (from Qt
> distribution).
> I daily compile HARBOUR with MSVC8 and mingw (both release and debug
> build)
> as well as
> hbide.
> Not long ago (don't know release num) this feature was working.
> 
> By the way.
> 
> I compile  Harbour also with HB_BUILD_DEBUG=yes set, but as you can
> see prg files are compiled without debug info (line numbers,....)
> I also tried with SET HB_USER_PRGFLAGS=-b -l , but it doesn't compile.
> 
> Called from HBQTUI:DESTROY(0)  <----  harbour compiled with
> HB_BUILD_DEBUG=yes
> Called from IDEPROJMANAGER:FETCHPROPERTIES(649) in ideprojmanager.prg  <--
> hbide compiled with -b -l
> 

Can you test again after r13887 with MinGW ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-runtime-error-tp4579392p4581954.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From francek.prijatelj at siol.net  Tue Feb 16 13:51:11 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Tue Feb 16 13:51:17 2010
Subject: [Harbour] hbide runtime error
In-Reply-To: <27612436.post@talk.nabble.com>
References: <27605764.post@talk.nabble.com>
	<1266327322800-4580230.post@n2.nabble.com>
	<27612436.post@talk.nabble.com>
Message-ID: <27613220.post@talk.nabble.com>


Hi 


Sorry .
Without -l.


Fran?ek Prijatelj wrote:
> 
> 
> I also tried with SET HB_USER_PRGFLAGS=-b  , but it doesn't compile.
> 
> Called from HBQTUI:DESTROY(0)  <----  harbour compiled with
> HB_BUILD_DEBUG=yes
> Called from IDEPROJMANAGER:FETCHPROPERTIES(649) in ideprojmanager.prg  <--
> hbide compiled with -b
> 
> 

BRGS
Fran?ek
-- 
View this message in context: http://old.nabble.com/hbide-runtime-error-tp27605764p27613220.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Tue Feb 16 13:51:24 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 13:51:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13888] trunk/harbour
Message-ID: <E1NhSW4-0002NN-U7@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13888
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13888&view=rev
Author:   vszakats
Date:     2010-02-16 18:51:23 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------
2010-02-16 19:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwvt/gtwvt.c
  * contrib/gtwvg/gtwvg.c
    * Replaced _WIN32_WINNT redefinition with
      #definition of WS_EX_LAYERED constant, in case it's not defined
      by Windows headers.

  * contrib/hbwin/wapi_wingdi_font.c
    + Accessing the W2K specific functions dynamically.
    + Defining the high-level functions also in WinCE, returning
      permanent error.
    ! Deleted _WIN32_WINNT redefinition.

  ; Someone pls test these using older compiler/SDK version.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/hbwin/wapi_wingdi_font.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 16 13:52:10 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb 16 13:52:21 2010
Subject: [Harbour] hbide runtime error
In-Reply-To: <27612436.post@talk.nabble.com>
References: <27605764.post@talk.nabble.com>
	<1266327322800-4580230.post@n2.nabble.com>
	<27612436.post@talk.nabble.com>
Message-ID: <8194EAC8-75D8-46CC-9F06-C65CB1A70296@syenar.hu>

Hi Francek,

> Called from IDEPROJMANAGER:FETCHPROPERTIES(649) in ideprojmanager.prg  <--
> hbide compiled with -b -l

Should be '-l-' if want to enable line numbers.

Brgds,
Viktor

From francek.prijatelj at siol.net  Tue Feb 16 14:34:38 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Tue Feb 16 14:34:46 2010
Subject: [Harbour] hbide runtime error
In-Reply-To: <1266345920377-4581954.post@n2.nabble.com>
References: <27605764.post@talk.nabble.com>
	<1266327322800-4580230.post@n2.nabble.com>
	<27612436.post@talk.nabble.com>
	<1266345920377-4581954.post@n2.nabble.com>
Message-ID: <27613781.post@talk.nabble.com>


Hi


Pritpal Bedi wrote:
> 
> 
> Can you test again after r13887 with MinGW ?
> 
> 

SVN build 13888, mingw4.0
Same error.

BRGDS
Fran?ek
-- 
View this message in context: http://old.nabble.com/hbide-runtime-error-tp27605764p27613781.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Tue Feb 16 15:05:08 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 15:05:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13889] trunk/harbour
Message-ID: <E1NhTfQ-0003vg-QP@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13889
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13889&view=rev
Author:   vszakats
Date:     2010-02-16 20:05:07 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------
2010-02-16 21:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/xpp/Makefile
  - contrib/xpp/win_dllx.c
  + contrib/xpp/dllx.c
  * contrib/xpp/tests/testdll.prg
    + Adapted Xbase++ compatible DLL*() functions to use
      core dynamic lib handling functions.
    * Renamed source file, now that it's not Windows specific.
    + Updated tests.
    ; NOTE: Please review this code. It's the first time I 
            used GC references in code, and it may be wrong.
    ; TODO: Remove hbwin dependence after having moved hb_dynCall() 
            from hbwin to core.

  + contrib/xpp/tests/hbmk.hbm
    + Added missing file from prev commit.

  * contrib/hbwin/tests/testdll.prg
    * Updated for latest HB_DYNCALL() changes.

  * ChangeLog
    ! Updated WIN_DLLCALL() -> HB_DYNCALL() change.
      This is the full list of lost features (all due to
      non-portability):
        - Specifiying function by (numeric) ordinal.
        - Passing function pointer directly.
        - Automatic lookup for function names with 'A' and 'W' ending.
        - Automatic UNICODE encoding for functions ending with 'W'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/xpp/Makefile
    trunk/harbour/contrib/xpp/tests/testdll.prg

Added Paths:
-----------
    trunk/harbour/contrib/xpp/dllx.c
    trunk/harbour/contrib/xpp/tests/hbmk.hbm

Removed Paths:
-------------
    trunk/harbour/contrib/xpp/win_dllx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Feb 16 15:12:43 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 16 15:12:50 2010
Subject: [Harbour] Re: hbide runtime error
In-Reply-To: <27613781.post@talk.nabble.com>
References: <27605764.post@talk.nabble.com>
	<1266327322800-4580230.post@n2.nabble.com>
	<27612436.post@talk.nabble.com>
	<1266345920377-4581954.post@n2.nabble.com>
	<27613781.post@talk.nabble.com>
Message-ID: <1266351163447-4582355.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> SVN build 13888, mingw4.0
> Same error.
> 

Did you recompiled hbQT also ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbide-runtime-error-tp4579392p4582355.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From francek.prijatelj at siol.net  Tue Feb 16 16:52:38 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Tue Feb 16 16:52:45 2010
Subject: [Harbour] hbide runtime error
In-Reply-To: <1266351163447-4582355.post@n2.nabble.com>
References: <27605764.post@talk.nabble.com>
	<1266327322800-4580230.post@n2.nabble.com>
	<27612436.post@talk.nabble.com>
	<1266345920377-4581954.post@n2.nabble.com>
	<27613781.post@talk.nabble.com>
	<1266351163447-4582355.post@n2.nabble.com>
Message-ID: <27615355.post@talk.nabble.com>


Hi



Pritpal Bedi wrote:
> 
> 
> Did you recompiled hbQT also ?
> 
> 


Yes.
I have made a clean build of Harbour and then recompiled hbide.
(both MSVC and mingw).
Both have  same error.

BRGS
Fran?ek


-- 
View this message in context: http://old.nabble.com/hbide-runtime-error-tp27605764p27615355.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gvarona at ec-red.com  Tue Feb 16 17:30:45 2010
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Tue Feb 16 17:27:26 2010
Subject: [Harbour] Error Building Harbour
Message-ID: <hlf637$k6u$1@ger.gmane.org>

Hi,


gcc   -I. -I../../../../../../include -Wall -W -O3 -fomit-frame-pointer 
-march=i
586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ogtstd.o -c ../../../gtstd.c
( ar   rcs ../../../../../../lib/win/mingw/libgtstd.a gtstd.o  ) || del 
/q /f ..
\..\..\..\..\..\lib\win\mingw\libgtstd.a
         1 archivos copiados.
! 'gttrm' library skipped (platform or compiler not supported)
gcc   -I. -I../../../../../../include -Wall -W -O3 -fomit-frame-pointer 
-march=i
586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ogtwin.o -c ../../../gtwin.c
( ar   rcs ../../../../../../lib/win/mingw/libgtwin.a gtwin.o  ) || del 
/q /f ..
\..\..\..\..\..\lib\win\mingw\libgtwin.a
         1 archivos copiados.
gcc   -I. -I../../../../../../include -Wall -W -O3 -fomit-frame-pointer 
-march=i
586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ogtwvt.o -c ../../../gtwvt.c
../../../gtwvt.c: In function `hb_gt_wvt_CreateConsoleWindow':
../../../gtwvt.c:1877: error: `LWA_ALPHA' undeclared (first use in this 
function
)
../../../gtwvt.c:1877: error: (Each undeclared identifier is reported 
only once
../../../gtwvt.c:1877: error: for each function it appears in.)
mingw32-make[4]: *** [gtwvt.o] Error 1
mingw32-make[3]: *** [descend] Error 2
mingw32-make[2]: *** [gtwvt.inst] Error 2
mingw32-make[1]: *** [rtl.inst] Error 2
mingw32-make: *** [src.inst] Error 2

C:\harbour>

Any TIP?
TIA

BestRegards
GVS

From gvarona at ec-red.com  Tue Feb 16 17:37:19 2010
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Tue Feb 16 17:34:01 2010
Subject: [Harbour] Re: Error Building Harbour
In-Reply-To: <hlf637$k6u$1@ger.gmane.org>
References: <hlf637$k6u$1@ger.gmane.org>
Message-ID: <hlf6fh$k6u$2@ger.gmane.org>

Env: WinXP SP3 + MinGW + SVN($Id: ChangeLog 13889 2010-02-16 20:05:07Z 
vszakats $)

BestRegards
GVS

Guillermo Varona Silup? escribi?:
> Hi,
> 
> 
> gcc   -I. -I../../../../../../include -Wall -W -O3 -fomit-frame-pointer 
> -march=i
> 586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ogtstd.o -c ../../../gtstd.c
> ( ar   rcs ../../../../../../lib/win/mingw/libgtstd.a gtstd.o  ) || del 
> /q /f ..
> \..\..\..\..\..\lib\win\mingw\libgtstd.a
>         1 archivos copiados.
> ! 'gttrm' library skipped (platform or compiler not supported)
> gcc   -I. -I../../../../../../include -Wall -W -O3 -fomit-frame-pointer 
> -march=i
> 586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ogtwin.o -c ../../../gtwin.c
> ( ar   rcs ../../../../../../lib/win/mingw/libgtwin.a gtwin.o  ) || del 
> /q /f ..
> \..\..\..\..\..\lib\win\mingw\libgtwin.a
>         1 archivos copiados.
> gcc   -I. -I../../../../../../include -Wall -W -O3 -fomit-frame-pointer 
> -march=i
> 586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ogtwvt.o -c ../../../gtwvt.c
> ../../../gtwvt.c: In function `hb_gt_wvt_CreateConsoleWindow':
> ../../../gtwvt.c:1877: error: `LWA_ALPHA' undeclared (first use in this 
> function
> )
> ../../../gtwvt.c:1877: error: (Each undeclared identifier is reported 
> only once
> ../../../gtwvt.c:1877: error: for each function it appears in.)
> mingw32-make[4]: *** [gtwvt.o] Error 1
> mingw32-make[3]: *** [descend] Error 2
> mingw32-make[2]: *** [gtwvt.inst] Error 2
> mingw32-make[1]: *** [rtl.inst] Error 2
> mingw32-make: *** [src.inst] Error 2
> 
> C:\harbour>
> 
> Any TIP?
> TIA
> 
> BestRegards
> GVS
> 

From harbour.01 at syenar.hu  Tue Feb 16 17:34:30 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 16 17:34:39 2010
Subject: [Harbour] Error Building Harbour
In-Reply-To: <hlf637$k6u$1@ger.gmane.org>
References: <hlf637$k6u$1@ger.gmane.org>
Message-ID: <94E49B47-CD66-4F32-803A-86984DDF039E@syenar.hu>

Thank you, exactly the information I was waiting for.

Brgds,
Viktor

On 2010 Feb 16, at 23:30, Guillermo Varona Silup? wrote:

> Hi,
> 
> 
> gcc   -I. -I../../../../../../include -Wall -W -O3 -fomit-frame-pointer -march=i
> 586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ogtstd.o -c ../../../gtstd.c
> ( ar   rcs ../../../../../../lib/win/mingw/libgtstd.a gtstd.o  ) || del /q /f ..
> \..\..\..\..\..\lib\win\mingw\libgtstd.a
>        1 archivos copiados.
> ! 'gttrm' library skipped (platform or compiler not supported)
> gcc   -I. -I../../../../../../include -Wall -W -O3 -fomit-frame-pointer -march=i
> 586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ogtwin.o -c ../../../gtwin.c
> ( ar   rcs ../../../../../../lib/win/mingw/libgtwin.a gtwin.o  ) || del /q /f ..
> \..\..\..\..\..\lib\win\mingw\libgtwin.a
>        1 archivos copiados.
> gcc   -I. -I../../../../../../include -Wall -W -O3 -fomit-frame-pointer -march=i
> 586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ogtwvt.o -c ../../../gtwvt.c
> ../../../gtwvt.c: In function `hb_gt_wvt_CreateConsoleWindow':
> ../../../gtwvt.c:1877: error: `LWA_ALPHA' undeclared (first use in this function
> )
> ../../../gtwvt.c:1877: error: (Each undeclared identifier is reported only once
> ../../../gtwvt.c:1877: error: for each function it appears in.)
> mingw32-make[4]: *** [gtwvt.o] Error 1
> mingw32-make[3]: *** [descend] Error 2
> mingw32-make[2]: *** [gtwvt.inst] Error 2
> mingw32-make[1]: *** [rtl.inst] Error 2
> mingw32-make: *** [src.inst] Error 2
> 
> C:\harbour>
> 
> Any TIP?
> TIA
> 
> BestRegards
> GVS
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Feb 16 17:37:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 17:37:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13890] trunk/harbour
Message-ID: <E1NhW2y-0005of-1x@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13890
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13890&view=rev
Author:   vszakats
Date:     2010-02-16 22:37:34 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------
2010-02-16 23:36 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwvt/gtwvt.c
  * contrib/gtwvg/gtwvg.c
    ! Fixed missing Windows constant on some compilers (older mingw I suppose), 
      after deleting _WIN32_WINNT override.

  * contrib/xpp/Makefile
  + contrib/xpp/dll.ch
    + Added Xbase++ compatibility header.

  * contrib/xpp/dllx.c
    + Described Xbase++ differences. (major ones)
    ! Changed DLLLOAD()/DLLUNLOAD() to use core loader functions,
      instead of win-specific ones.
    + Made calling convention value Xbase++ compatible.

  * contrib/hbwin/hbdyn.ch
    + Added Pascal calling convention. Not yet implemented.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/hbwin/hbdyn.ch
    trunk/harbour/contrib/xpp/Makefile
    trunk/harbour/contrib/xpp/dllx.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c

Added Paths:
-----------
    trunk/harbour/contrib/xpp/dll.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 16 17:43:54 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 16 17:44:04 2010
Subject: [Harbour] Re: Error Building Harbour
In-Reply-To: <hlf6fh$k6u$2@ger.gmane.org>
References: <hlf637$k6u$1@ger.gmane.org> <hlf6fh$k6u$2@ger.gmane.org>
Message-ID: <765B6325-6183-4A0B-B95C-4F6A86FE010F@syenar.hu>

> Env: WinXP SP3 + MinGW + SVN($Id: ChangeLog 13889 2010-02-16 20:05:07Z vszakats $)

Yes, the real information is MinGW version here.
Can you tell what it is?

Brgds,
Viktor

From carlosbacco at gmail.com  Tue Feb 16 18:30:14 2010
From: carlosbacco at gmail.com (Bacco)
Date: Tue Feb 16 18:30:47 2010
Subject: [Harbour] I want to participate
Message-ID: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>

Hi. I want to participate in the Harbour project development, mainly
on HBQt (but not restricted to).

I was using HMG+Harbour for a while, and used heavily Cl*pper 5.2
years ago, now I believe that for my work, Harbour+HBQt+MySQL/SQLite
are the best way.

I am testing Harbour 2 on linux (console) and using HBQt to build test
apps on Win+MingW. I cannot participate full-time, but as I am willing
to use Harbour 2 to develop commercial applications, I am very focused
in adding code to simplify and enhance Harbour/HBQt to solve real
world coding problems.


Also I want to ask if you could add this code to the end of
/contrib/hbmysql/mysql.c, so mysql users can retrieve the last insert
id without the need to perform an extra select:

HB_FUNC( MYSQL_INSERT_ID )
{
   hb_retnl( ( long ) mysql_insert_id( ( MYSQL * ) HB_PARPTR( 1 ) ) );
}

Thank you.
From bedipritpal at hotmail.com  Tue Feb 16 18:43:23 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 16 18:43:30 2010
Subject: [Harbour] Re: I want to participate
In-Reply-To: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
Message-ID: <1266363803427-4583324.post@n2.nabble.com>



Bacco wrote:
> 
> Hi. I want to participate in the Harbour project development, mainly
> on HBQt (but not restricted to).
> 
> I was using HMG+Harbour for a while, and used heavily Cl*pper 5.2
> years ago, now I believe that for my work, Harbour+HBQt+MySQL/SQLite
> are the best way.
> 
> I am testing Harbour 2 on linux (console) and using HBQt to build test
> apps on Win+MingW. I cannot participate full-time, but as I am willing
> to use Harbour 2 to develop commercial applications, I am very focused
> in adding code to simplify and enhance Harbour/HBQt to solve real
> world coding problems.
> 
> 
> Also I want to ask if you could add this code to the end of
> /contrib/hbmysql/mysql.c, so mysql users can retrieve the last insert
> id without the need to perform an extra select:
> 
> HB_FUNC( MYSQL_INSERT_ID )
> {
>    hb_retnl( ( long ) mysql_insert_id( ( MYSQL * ) HB_PARPTR( 1 ) ) );
> }
> 

Welcome on-board.

Viktor, please grant him write access as I have seen his code which
he sent me directly which was of really high-quality. I did not committed,
simply directed Bocco to express his desire on the dev-list.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/I-want-to-participate-tp4583285p4583324.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Tue Feb 16 18:47:52 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 16 18:47:58 2010
Subject: [Harbour] debugger in MT programs
In-Reply-To: <4B7ACD88.5020203@libero.it>
References: <4B7ACD88.5020203@libero.it>
Message-ID: <20100216234752.GA5999@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, Maurilio Longo wrote:

Hi,

> testing a MT program compiled with -b to have debugger available I got this
> call stack
> Error BASE/1005  No exported variable: BACTION
> Called from _BACTION(0)
> Called from HBDBMENU:BUILD(0)
> Called from __DBGBUILDMENU(0)
> Called from HBDEBUGGER:NEW(0)
> Called from __DBGENTRY(0)
> Called from TCONNECTION:EXECUTE(184)
> Called from (b)TTHREAD_START(0)
> Error BASE/1005  No exported variable: BACTION
> Is debugger not MT safe/ready? It happened only once when I started a bunch of
> threads to make a test, AltD() seems to work fine when called from code
> executed in a thread.

We missed that HBDbMenu class in dbgtmenu.prg uses static variable shared
between threads:

   CLASSDATA aMenus

It has to be fixed but I'm not familiar with this code.
I'll add small hack and replace above static variable
(class variable works like static variables in this context)
by thread static ones what should resolve the problem (please
test) but it would be very nice if someone more familiar with
this code can create cleaner solution which will not use any
static variables in debugger menu code.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Feb 16 18:56:19 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb 16 18:56:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13891] trunk/harbour
Message-ID: <E1NhXH9-000754-BW@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13891
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13891&view=rev
Author:   druzus
Date:     2010-02-16 23:56:14 +0000 (Tue, 16 Feb 2010)

Log Message:
-----------
2010-02-17 00:55 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbsocket.c
    * added iTODO warning to OpenWatcom Linux builds

  * harbour/src/debug/dbgtmenu.prg
    ! fixed code used for debugger menu to be MT safe

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/debug/dbgtmenu.prg
    trunk/harbour/src/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 16 19:26:55 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 19:27:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13892] trunk/harbour
Message-ID: <E1NhXkl-0006I7-2t@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13892
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13892&view=rev
Author:   vszakats
Date:     2010-02-17 00:26:53 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 01:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/xpp/dllx.c
  * contrib/hbwin/hbdyn.c
  * contrib/hbwin/hbdyn.ch
    + Implemented 'syscall' calling convention for OS/2.
    % hb_dynCall() now won't include English text is error message,
      but use EG_LIMIT to signal too many parameters.

  * contrib/hbmysql/mysql.c
    + Implemented MYSQL_INSERT_ID().
    * long -> HB_SIZE
    % Minor cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/mysql.c
    trunk/harbour/contrib/hbwin/hbdyn.c
    trunk/harbour/contrib/hbwin/hbdyn.ch
    trunk/harbour/contrib/xpp/dllx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 16 19:41:16 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 16 19:41:28 2010
Subject: [Harbour] I want to participate
In-Reply-To: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
Message-ID: <374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>

Hi Carlos,

Welcome to the list and of course your help is 
much appreciated.

Pls feel free to participate on this list, so we 
can get to know each other, and you can get up to 
speed with Harbour development and recent issues.

I've added MYSQL_INSERT_ID() to hbmysql, although 
with a few fixes and adapted to recent changes in 
hbmysql code.

Brgds,
Viktor

On 2010 Feb 17, at 00:30, Bacco wrote:

> Hi. I want to participate in the Harbour project development, mainly
> on HBQt (but not restricted to).
> 
> I was using HMG+Harbour for a while, and used heavily Cl*pper 5.2
> years ago, now I believe that for my work, Harbour+HBQt+MySQL/SQLite
> are the best way.
> 
> I am testing Harbour 2 on linux (console) and using HBQt to build test
> apps on Win+MingW. I cannot participate full-time, but as I am willing
> to use Harbour 2 to develop commercial applications, I am very focused
> in adding code to simplify and enhance Harbour/HBQt to solve real
> world coding problems.
> 
> 
> Also I want to ask if you could add this code to the end of
> /contrib/hbmysql/mysql.c, so mysql users can retrieve the last insert
> id without the need to perform an extra select:
> 
> HB_FUNC( MYSQL_INSERT_ID )
> {
>   hb_retnl( ( long ) mysql_insert_id( ( MYSQL * ) HB_PARPTR( 1 ) ) );
> }
> 
> Thank you.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Feb 16 19:42:41 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 19:42:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13893] trunk/harbour
Message-ID: <E1NhY01-0006Yo-Tl@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13893
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13893&view=rev
Author:   vszakats
Date:     2010-02-17 00:42:40 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 01:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmysql/mysql.c
    ! Typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/mysql.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carlosbacco at gmail.com  Tue Feb 16 20:00:02 2010
From: carlosbacco at gmail.com (Bacco)
Date: Tue Feb 16 20:00:34 2010
Subject: [Harbour] I want to participate
In-Reply-To: <374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com> 
	<374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
Message-ID: <eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com>

Thanks, Viktor!

Until yesterday, I was downloading the nightly builds, but I've just
installed the TortoiseSVN and cleaned up my environment (and saw the
new changes on the mysql.c error handling and so on).

I am eager to learn all details and start to help. By now, I have
updated two files (/contrib/hbqt/hbqt_hbslots.cpp and
/contrib/hbqt/hbqt_hbslots.h) with 4 new signals, related to detection
of selection changes in Qt's QTableView, tested and ready to use
(except for the correct $Id atop of the files). Should I send them to
Pritpal or to you by now, or post the changes here?

PS: The new signal's code is relatively short, but there are many
lines changed, because I adjusted the spaces and alignment of
parenthesis of the functions above to mantain readability)


On Tue, Feb 16, 2010 at 22:41, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> Hi Carlos,
>
> Welcome to the list and of course your help is
> much appreciated.
>
> Pls feel free to participate on this list, so we
> can get to know each other, and you can get up to
> speed with Harbour development and recent issues.
>
> I've added MYSQL_INSERT_ID() to hbmysql, although
> with a few fixes and adapted to recent changes in
> hbmysql code.
>
>
> Brgds,
> Viktor
>
From harbour.01 at syenar.hu  Tue Feb 16 20:24:16 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 16 20:24:26 2010
Subject: [Harbour] I want to participate
In-Reply-To: <eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
	<374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
	<eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com>
Message-ID: <708BF745-3F64-4FFC-9D8D-3248450BA2DF@syenar.hu>

> Thanks, Viktor!
> 
> Until yesterday, I was downloading the nightly builds, but I've just
> installed the TortoiseSVN and cleaned up my environment (and saw the
> new changes on the mysql.c error handling and so on).
> 
> I am eager to learn all details and start to help. By now, I have
> updated two files (/contrib/hbqt/hbqt_hbslots.cpp and
> /contrib/hbqt/hbqt_hbslots.h) with 4 new signals, related to detection
> of selection changes in Qt's QTableView, tested and ready to use
> (except for the correct $Id atop of the files). Should I send them to
> Pritpal or to you by now, or post the changes here?

Please send it to this list .zip-ped, so that all 
participants can have peek into it, and I hope 
Pritpal can review/commit it for you as a start.

Thank you.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Feb 16 21:09:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 21:09:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13894] trunk/harbour
Message-ID: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13894
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13894&view=rev
Author:   vszakats
Date:     2010-02-17 02:09:17 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 03:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/fstemp.c
    ! Using hb_fsTempDir() in HB_FTEMPCREATEEX() instead of
      old solution. This should fix it for some non-*nix
      platforms where *nix specific TEMPDIR envvar was used
      to determine temp directory.

  * contrib/hbwin/Makefile
  * include/Makefile
  * src/rtl/Makefile
  - contrib/hbwin/hbdyn.ch
  + include/hbdyn.ch
  - contrib/hbwin/hbdyn.c
  + src/rtl/hbdyn.c
  - contrib/hbwin/win_dllc.c
  + src/rtl/hbdynhb.c
  - contrib/hbwin/tests/testdll.c
  + tests/testdyn.c
  - contrib/hbwin/tests/testdll.prg
  + tests/testdyn.prg
  - contrib/hbwin/tests/testdll1.prg
  + tests/testdyn1.prg
  - contrib/hbwin/hbdyn.h
  * include/hbapi.h
    * Moved dynamic library call related functions to
      core (RTL).
    * Windows specific test code (currently all) guarded
      for platform.
    * Changed default calling convention to cdecl.
      Tests adaptd accordingly.
    * Terminology change: 'dll' -> 'dynamic library'
    ; HB_DYNCALL() is now part of core Harbour, and it's 
      platform independent. It's platform (ABI) dependent though,
      and currently x64 and x86/stdcall/syscall/cdecl 
      is supported and these were tested (except OS/2 syscall).

  * contrib/hbwin/hbwin.h
  * contrib/hbwin/win_misc.c
  * contrib/hbwin/legacycd.c
    * Low level hbwin_getprocaddress() function moved
      to legacy file and made static.

  * contrib/xpp/Makefile
  * contrib/xpp/dllx.c
  * contrib/xpp/xpp.hbc
    + Enabled DLL*() functions for all platforms.
    - Deleted dependence on hbwin library.

  * contrib/xpp/tests/testdll.prg
    * Windows specific parts (currently the whole test) guarded
      for platform.

  * contrib/hbct/Makefile
  - contrib/hbct/diskhb.prg
  * contrib/hbct/disk.c
  * contrib/xhb/Makefile
  + contrib/xhb/diskhb.prg
    * GETVOLINFO() moved from hbct to xhb.

  * ChangeLog
    * Marked some TODO/TOFIX items as DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/Makefile
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/hbwin.h
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/contrib/xpp/Makefile
    trunk/harbour/contrib/xpp/dllx.c
    trunk/harbour/contrib/xpp/tests/testdll.prg
    trunk/harbour/contrib/xpp/xpp.hbc
    trunk/harbour/include/Makefile
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/rtl/Makefile
    trunk/harbour/src/rtl/fstemp.c

Added Paths:
-----------
    trunk/harbour/contrib/xhb/diskhb.prg
    trunk/harbour/include/hbdyn.ch
    trunk/harbour/src/rtl/hbdyn.c
    trunk/harbour/src/rtl/hbdynhb.c
    trunk/harbour/tests/testdyn.c
    trunk/harbour/tests/testdyn.prg
    trunk/harbour/tests/testdyn1.prg

Removed Paths:
-------------
    trunk/harbour/contrib/hbct/diskhb.prg
    trunk/harbour/contrib/hbwin/hbdyn.c
    trunk/harbour/contrib/hbwin/hbdyn.ch
    trunk/harbour/contrib/hbwin/hbdyn.h
    trunk/harbour/contrib/hbwin/tests/testdll.c
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/tests/testdll1.prg
    trunk/harbour/contrib/hbwin/win_dllc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 16 21:23:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 16 21:23:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13895] trunk/harbour
Message-ID: <E1NhZZg-000247-7Y@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13895
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13895&view=rev
Author:   vszakats
Date:     2010-02-17 02:23:34 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 03:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/legacycd.c
    ! Fixed GETPROCADDRESS() for WinCE after recent changes.
    % Re-merged GETPROCADDRESS() with low-level worker function.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacycd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Tue Feb 16 21:38:42 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Feb 16 21:38:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13896] trunk/harbour
Message-ID: <E1NhZoI-0002Jf-E4@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13896
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13896&view=rev
Author:   vouchcac
Date:     2010-02-17 02:38:41 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-16 18:31 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/cutb16.png
  + contrib/hbide/resources/dbl2sglquote.png
  + contrib/hbide/resources/decreaseindent.png
  + contrib/hbide/resources/down16.png
  + contrib/hbide/resources/increaseindent.png
  + contrib/hbide/resources/sgl2dblquote.png
  + contrib/hbide/resources/up16.png

  * contrib/hbide/idedocks.prg
    + Implemented left-side toolbar containing available panels
      distinguished by suble color change. Click on one will 
      bring forward the relevant tabs-panel. Tooltip describes
      which panel it is.
    + Implemented left-side another toolbar underneath above one
      giving access to line and block actions.

    ;NOTE: Please test and forward suggessions.
    ;REQUEST: Can someone provide relevant .png's to these actions ?
              I am really poor in drafting something meaningful.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/idedocks.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/cutb16.png
    trunk/harbour/contrib/hbide/resources/dbl2sglquote.png
    trunk/harbour/contrib/hbide/resources/decreaseindent.png
    trunk/harbour/contrib/hbide/resources/down16.png
    trunk/harbour/contrib/hbide/resources/increaseindent.png
    trunk/harbour/contrib/hbide/resources/sgl2dblquote.png
    trunk/harbour/contrib/hbide/resources/up16.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Tue Feb 16 21:49:26 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Feb 16 21:49:34 2010
Subject: [Harbour] Hbide Linux
Message-ID: <133778361002161849w6f112018qcf99aa466b50c2ce@mail.gmail.com>

Pritpal , works ok again in linux

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100216/a61c59eb/attachment.html
From carlosbacco at gmail.com  Tue Feb 16 22:09:25 2010
From: carlosbacco at gmail.com (Bacco)
Date: Tue Feb 16 22:09:53 2010
Subject: [Harbour] I want to participate
In-Reply-To: <708BF745-3F64-4FFC-9D8D-3248450BA2DF@syenar.hu>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com> 
	<374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
	<eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com> 
	<708BF745-3F64-4FFC-9D8D-3248450BA2DF@syenar.hu>
Message-ID: <eed8bee51002161909u20e9601av168412f236a51687@mail.gmail.com>

Here are both, plus a sample in .prg

Regards,
Bacco

>
> Please send it to this list .zip-ped, so that all
> participants can have peek into it, and I hope
> Pritpal can review/commit it for you as a start.
>
> Thank you.
>
> Brgds,
> Viktor
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbqtQItemSelectionModelSignals.zip
Type: application/zip
Size: 14293 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100217/351a8efe/hbqtQItemSelectionModelSignals-0001.zip
From bedipritpal at hotmail.com  Tue Feb 16 23:27:15 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 16 23:27:22 2010
Subject: [Harbour] Re: I want to participate
In-Reply-To: <eed8bee51002161909u20e9601av168412f236a51687@mail.gmail.com>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
	<374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
	<eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com>
	<708BF745-3F64-4FFC-9D8D-3248450BA2DF@syenar.hu>
	<eed8bee51002161909u20e9601av168412f236a51687@mail.gmail.com>
Message-ID: <1266380835425-4584298.post@n2.nabble.com>



Bacco wrote:
> 
> Here are both, plus a sample in .prg
> 

Perfect.

Viktor, I would like if Bocco himself commits.

Bocco, however I have a concern in demo code:



> bl :=
> {|nw,ol|oWnd:setWindowTitle(Str(QT_QMODELINDEX_COLUMN(ol)+1)+Str(QT_QMODELINDEX_ROW(ol)+1)+'
> => '+Str(QT_QMODELINDEX_COLUMN(nw)+1)+Str(QT_QMODELINDEX_ROW(nw)+1))}
> 

Though code is perfect but it is not appropriate to call Qt wrapper
directly.
For this reason alone whe matching .prg class structure is in place. I know
the 
above approach is a faster way to write but surely is not the desirable one.

So,

bl := {|nw,ol, oNw, qNw, qOl | qOl := QModelIndex():from( ol ),  qNw :=
QModelIndex():from( nw ), oWnd:setWindowTitle( Str( qOl:column() + 1 ) +
Str( qOl:row() + 1 ) + ' => ' + Str( qNw:column() + 1 ) + Str( qNw:row() + 1
) ) }

Please also take note of proper formatting even in demo code.

Also, it is better if this demo is embedded into hbqt/tests/demoqt.prg.
This way we will keep only one demo application.

On the whole you have followed splendidly.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/I-want-to-participate-tp4583285p4584298.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From carlosbacco at gmail.com  Tue Feb 16 23:51:50 2010
From: carlosbacco at gmail.com (Bacco)
Date: Tue Feb 16 23:52:17 2010
Subject: [Harbour] Re: I want to participate
In-Reply-To: <1266380835425-4584298.post@n2.nabble.com>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com> 
	<374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
	<eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com> 
	<708BF745-3F64-4FFC-9D8D-3248450BA2DF@syenar.hu>
	<eed8bee51002161909u20e9601av168412f236a51687@mail.gmail.com> 
	<1266380835425-4584298.post@n2.nabble.com>
Message-ID: <eed8bee51002162051h57eab608l8f79380db142e072@mail.gmail.com>

Hi, Pritpal

In fact that demo prg was not meant to put in the distribution when I
made it, but it does really make sense to write it properly anyways,
so rest assured I'll pay more attention to demo code.

What do you think if in the future I could provide some isolated demos
also? I know that demoqt.prg is a good showcase for the power of HBQt,
but maybe adding isolated samples covering common basic uses may be
good learning tools to newcomers. I would be glad to hear your
opinions.

Regards,
Bacco


On Wed, Feb 17, 2010 at 02:27, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>
>
> Bacco wrote:
>>
>> Here are both, plus a sample in .prg
>>
>
> Perfect.
>
> Viktor, I would like if Bocco himself commits.
>
> Bocco, however I have a concern in demo code:
>
>
>
>> bl :=
>> {|nw,ol|oWnd:setWindowTitle(Str(QT_QMODELINDEX_COLUMN(ol)+1)+Str(QT_QMODELINDEX_ROW(ol)+1)+'
>> => '+Str(QT_QMODELINDEX_COLUMN(nw)+1)+Str(QT_QMODELINDEX_ROW(nw)+1))}
>>
>
> Though code is perfect but it is not appropriate to call Qt wrapper
> directly.
> For this reason alone whe matching .prg class structure is in place. I know
> the
> above approach is a faster way to write but surely is not the desirable one.
>
> So,
>
> bl := {|nw,ol, oNw, qNw, qOl | qOl := QModelIndex():from( ol ), ?qNw :=
> QModelIndex():from( nw ), oWnd:setWindowTitle( Str( qOl:column() + 1 ) +
> Str( qOl:row() + 1 ) + ' => ' + Str( qNw:column() + 1 ) + Str( qNw:row() + 1
> ) ) }
>
> Please also take note of proper formatting even in demo code.
>
> Also, it is better if this demo is embedded into hbqt/tests/demoqt.prg.
> This way we will keep only one demo application.
>
> On the whole you have followed splendidly.
>
> -----
> ? ? ? ? ? ? ? ? enjoy hbIDEing...
> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/I-want-to-participate-tp4583285p4584298.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From bedipritpal at hotmail.com  Wed Feb 17 00:14:54 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 17 00:15:03 2010
Subject: [Harbour] Re: I want to participate
In-Reply-To: <eed8bee51002162051h57eab608l8f79380db142e072@mail.gmail.com>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
	<374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
	<eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com>
	<708BF745-3F64-4FFC-9D8D-3248450BA2DF@syenar.hu>
	<eed8bee51002161909u20e9601av168412f236a51687@mail.gmail.com>
	<1266380835425-4584298.post@n2.nabble.com>
	<eed8bee51002162051h57eab608l8f79380db142e072@mail.gmail.com>
Message-ID: <1266383694923-4584462.post@n2.nabble.com>



Bacco wrote:
> 
> What do you think if in the future I could provide some isolated demos
> also? I know that demoqt.prg is a good showcase for the power of HBQt,
> but maybe adding isolated samples covering common basic uses may be
> good learning tools to newcomers. I would be glad to hear your
> opinions.
> 

It is OK as long as you also provide .hbp.
As I look at it, isolated demos never give a concrete insight into 
any language. One demo sectionized into conceivable sections is a
more natural way. 

In this context, I remember my first acquiantace with Harbour, that time
it was xHarbour, way back in 2002, I tried to put all demoes into one
to get a glimpse of its power. May be still that cide is hanging somewhere
on my web-site.

Nevertheless, you may take your own course of action.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/I-want-to-participate-tp4583285p4584462.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From francek.prijatelj at siol.net  Wed Feb 17 01:50:01 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Feb 17 01:50:08 2010
Subject: [Harbour] Error building revision 13896
Message-ID: <27619712.post@talk.nabble.com>


Hi

Building latest revision (13896) i get following errors:

cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 -EHs-c-
-Zi -DHB_LEGACY_TYPES_OFF -DHB_TR_LEVEL_DEBUG  -DUNICODE  -Foexpropt1.obj -c
../../../expropt1.c
expropt1.c
../../../expropt1.c(730) : error C2065: 'pCommon' : undeclared identifier
mingw32-make[3]: [expropt1.obj] Error 2 (ignored)

cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 -EHs-c-
-Zi -DHB_LEGACY_TYPES_OFF -DHB_TR_LEVEL_DEBUG  -DUNICODE 
-Foexpropt1_dyn.obj -DHB_DYNLIB -c ../../../expropt1.c
expropt1.c
../../../expropt1.c(730) : error C2065: 'pCommon' : undeclared identifier

and many more conected with HB_COMP_PARAM

BRGDS
Fran?ek
-- 
View this message in context: http://old.nabble.com/Error-building-revision-13896-tp27619712p27619712.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From niki at synel.co.il  Wed Feb 17 02:32:02 2010
From: niki at synel.co.il (Chen Kedem)
Date: Wed Feb 17 02:32:11 2010
Subject: [Harbour] BCC warning (Rev 13896)
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8EB58197@Mail-yoq.SYNEL-COMPANY.LTD>

With Borland C++Builder 5.0, WinNT4.0 and Rev13896 I get the following warning:

Warning W8004 ../../../legacycd.c 147: 'lpFunction' is assigned a value that is never used in function HB_FUN_GETPROCADDRESS

Also, as I reported last week, BCC does not understand "long long int"
(uses __int64 instead), so tests/bldtest/bldtest.c fail to compile
(and probably never did).

  Chen.
From francek.prijatelj at siol.net  Wed Feb 17 02:40:14 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Wed Feb 17 02:40:21 2010
Subject: [Harbour] Error building revision 13896
In-Reply-To: <27619712.post@talk.nabble.com>
References: <27619712.post@talk.nabble.com>
Message-ID: <27620035.post@talk.nabble.com>


Hi



Fran?ek Prijatelj wrote:
> 
> Hi
> 
> Building latest revision (13896) i get following errors:
> 
> cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1
> -EHs-c- -Zi -DHB_LEGACY_TYPES_OFF -DHB_TR_LEVEL_DEBUG  -DUNICODE 
> -Foexpropt1.obj -c ../../../expropt1.c
> expropt1.c
> ../../../expropt1.c(730) : error C2065: 'pCommon' : undeclared identifier
> mingw32-make[3]: [expropt1.obj] Error 2 (ignored)
> 
> cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1
> -EHs-c- -Zi -DHB_LEGACY_TYPES_OFF -DHB_TR_LEVEL_DEBUG  -DUNICODE 
> -Foexpropt1_dyn.obj -DHB_DYNLIB -c ../../../expropt1.c
> expropt1.c
> ../../../expropt1.c(730) : error C2065: 'pCommon' : undeclared identifier
> 
> 

Errors only for debug build (SET HB_BUILD_DEBUG=yes)
Is there HB_COMP_DECL param missing ?


BRGDS
Fran?ek
-- 
View this message in context: http://old.nabble.com/Error-building-revision-13896-tp27619712p27620035.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Wed Feb 17 03:35:18 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 17 03:35:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13897] trunk/harbour
Message-ID: <E1NhfNO-0000sK-44@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13897
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13897&view=rev
Author:   druzus
Date:     2010-02-17 08:35:17 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 09:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/common/expropt1.c
  * harbour/contrib/xhb/freadlin.c
    ! fixed typos in HB_TRACE() debug messages

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/freadlin.c
    trunk/harbour/src/common/expropt1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb 17 03:37:37 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 17 03:37:45 2010
Subject: [Harbour] Error building revision 13896
In-Reply-To: <27620035.post@talk.nabble.com>
References: <27619712.post@talk.nabble.com>
 <27620035.post@talk.nabble.com>
Message-ID: <20100217083736.GA16840@linux-4bod.home.aster.pl>

On Tue, 16 Feb 2010, Fran?ek Prijatelj wrote:

Hi

> Fran?ek Prijatelj wrote:
> > Building latest revision (13896) i get following errors:
> > cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1
> > -EHs-c- -Zi -DHB_LEGACY_TYPES_OFF -DHB_TR_LEVEL_DEBUG  -DUNICODE 
> > -Foexpropt1.obj -c ../../../expropt1.c
> > expropt1.c
> > ../../../expropt1.c(730) : error C2065: 'pCommon' : undeclared identifier
> > mingw32-make[3]: [expropt1.obj] Error 2 (ignored)
> > 
> > cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1
> > -EHs-c- -Zi -DHB_LEGACY_TYPES_OFF -DHB_TR_LEVEL_DEBUG  -DUNICODE 
> > -Foexpropt1_dyn.obj -DHB_DYNLIB -c ../../../expropt1.c
> > expropt1.c
> > ../../../expropt1.c(730) : error C2065: 'pCommon' : undeclared identifier
> Errors only for debug build (SET HB_BUILD_DEBUG=yes)
> Is there HB_COMP_DECL param missing ?

Thank you for the information.
Fixed.

best regards,
Przemek
From marcobra.ubuntu at gmail.com  Wed Feb 17 04:22:30 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Wed Feb 17 04:22:40 2010
Subject: [Harbour] SVN Rev. 13897 error compiling hbdyn.c
Message-ID: <fd76479f1002170122g7824088ep6ddc5607e11b8281@mail.gmail.com>

Ubuntu 9.10 32 bits Harbour from SVN Rev: 13897

gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
 -DHB_HAS_PCRE -I/usr/include -DHB_HAS_ZLIB -I/usr/include  -ohbdyn.o -c
../../../hbdyn.c
../../../hbdyn.c:778: error: expected ?)? before ?*? token
../../../hbdyn.c:779: error: expected ?)? before ?*? token
../../../hbdyn.c:780: error: expected ?)? before ?*? token
...
...
../../../hbdyn.c:1032: error: expected ?)? before ?*? token
../../../hbdyn.c: In function ?hb_dynCall?:
../../../hbdyn.c:1401: error: ?FX86_S32P00? undeclared (first use in this
function)
../../../hbdyn.c:1401: error: (Each undeclared identifier is reported only
once
../../../hbdyn.c:1401: error: for each function it appears in.)
../../../hbdyn.c:1402: error: ?FX86_S32P01? undeclared (first use in this
function)
../../../hbdyn.c:1403: error: ?FX86_S32P02? undeclared (first use in this
function)
../../../hbdyn.c:1404: error: ?FX86_S32P03? undeclared (first use in this
function)
...
...
../../../hbdyn.c:1838: error: ?FX86_CFLP29? undeclared (first use in this
function)
../../../hbdyn.c:1839: error: ?FX86_CFLP30? undeclared (first use in this
function)
make[3]: *** [hbdyn.o] Errore 1
make[2]: *** [descend] Errore 2
make[1]: *** [rtl] Errore 2
make: *** [src] Errore 2

Thank you and best regards

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100217/0a629a3a/attachment-0001.html
From druzus at acn.waw.pl  Wed Feb 17 04:24:46 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 17 04:24:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13894] trunk/harbour
In-Reply-To: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <20100217092446.GA32232@linux-4bod.home.aster.pl>

On Wed, 17 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> 2010-02-17 03:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/rtl/fstemp.c
>     ! Using hb_fsTempDir() in HB_FTEMPCREATEEX() instead of
>       old solution. This should fix it for some non-*nix
>       platforms where *nix specific TEMPDIR envvar was used
>       to determine temp directory.

It was "TMPDIR" and it's recognized also by many DOS programs.

>   * contrib/hbwin/Makefile
>   * include/Makefile
>   * src/rtl/Makefile
>   - contrib/hbwin/hbdyn.ch
>   + include/hbdyn.ch
>   - contrib/hbwin/hbdyn.c
>   + src/rtl/hbdyn.c
>   - contrib/hbwin/win_dllc.c
>   + src/rtl/hbdynhb.c
>   - contrib/hbwin/tests/testdll.c
>   + tests/testdyn.c
>   - contrib/hbwin/tests/testdll.prg
>   + tests/testdyn.prg
>   - contrib/hbwin/tests/testdll1.prg
>   + tests/testdyn1.prg
>   - contrib/hbwin/hbdyn.h
>   * include/hbapi.h
>     * Moved dynamic library call related functions to
>       core (RTL).
>     * Windows specific test code (currently all) guarded
>       for platform.
>     * Changed default calling convention to cdecl.
>       Tests adaptd accordingly.
>     * Terminology change: 'dll' -> 'dynamic library'
>     ; HB_DYNCALL() is now part of core Harbour, and it's 
>       platform independent. It's platform (ABI) dependent though,
>       and currently x64 and x86/stdcall/syscall/cdecl 
>       is supported and these were tested (except OS/2 syscall).

There is one problem with above extension.
Most of non windows compiler does not recognized _cdecl, _stdcall, _fastcall,
_System (_pascal is the same as _stdcall in MS-Windows).
Now this code can be compiled only in 64bit mode which does not use any
calling convention attributes in function declarations and all other
builds will fail so it has to be redesigned and we should have "default"
calling convention without any forced by us ABI and then on platforms
which supports explicit declaration add additional calls.

I would also suggest to use macros to declare function types and call them.
They should greatly reduce total code size and allow to add new calling
convention in few lines.

best regards,
Przemek
From rafa at tesipro.com  Wed Feb 17 05:37:31 2010
From: rafa at tesipro.com (rafa)
Date: Wed Feb 17 05:37:52 2010
Subject: [Harbour] Problems create Harbour
Message-ID: <4B7BC6EB.9030704@tesipro.com>

Hello, today update svn , but i have this problems;

1.- make install; break at this point;

! Installing ../../../lib/linux/gcc/libhbvmmt.a on /usr/local/lib/harbour
gcc   -I. -I../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF 
-DHB_HAS_PCRE -I/home/rafa/harbour-project/trunk/harbour/external/pcre
-DPCRE_STATIC -DHB_HAS_ZLIB -I/usr/include  -ohbdyn.o -c ../../../hbdyn.c
../../../hbdyn.c:778: error: expected ?)? before ?*? token
../../../hbdyn.c:779: error: expected ?)? before ?*? token
...etc...

2.- Not respected prefix, i define and create directorys
export HB_INC_INSTALL=/home/rafa/harbour2/include
export HB_LIB_INSTALL=/home/rafa/harbour2/lib
export HB_BIN_INSTALL=/home/rafa/harbour2/bin
export HB_INSTALL_PREFIX=/home/rafa/harbour2

But make put the files into /usr/local/bin.
How to create my harbour into directorys /home ? Because this
configuration generate conflict with xharbour.

Regards
Rafa Carmona


From vszakats at users.sourceforge.net  Wed Feb 17 05:41:34 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 17 05:41:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13898] trunk/harbour
Message-ID: <E1NhhLa-000365-LF@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13898
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13898&view=rev
Author:   vszakats
Date:     2010-02-17 10:41:33 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 11:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbwince.c
  * include/hbwince.h
    ! Added abort() declaration and implementation
      for poccarm and old msvcarm targets.

  * contrib/hbwin/win_bmp.c
    + Enabled for WinCE: WIN_BITMAPDIMENSIONS()

  * contrib/hbwin/win_bmpd.c
    + All functions enabled for WinCE.

  * contrib/hbwin/win_prn1.c
    + WIN_TEXTOUT() changed to always use ExtTextOut() internally,
      so that it work on WinCE. (it's also faster)
    + WIN_CREATEFONT() changed to use CreateFontIndirect() which
      also works for WinCE.

  * contrib/hbwin/wapi_wingdi.c
    + Added WAPI_CREATEFONTINDIRECT(), which always works on both
      Windows and WinCE.

  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_prn3.c
  * contrib/hbwin/wapi_wingdi.c
    + All functions enabled for WinCE. The ones not available
      on WinCE, will return permanent error.

  * contrib/hbwin/legacycd.c
    ! Added missing WinCE header after previous commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/wapi_wingdi.c
    trunk/harbour/contrib/hbwin/win_bmp.c
    trunk/harbour/contrib/hbwin/win_bmpd.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_prn3.c
    trunk/harbour/include/hbwince.h
    trunk/harbour/src/common/hbwince.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 17 05:43:17 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 17 05:43:30 2010
Subject: [Harbour] Re: I want to participate
In-Reply-To: <1266380835425-4584298.post@n2.nabble.com>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
	<374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
	<eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com>
	<708BF745-3F64-4FFC-9D8D-3248450BA2DF@syenar.hu>
	<eed8bee51002161909u20e9601av168412f236a51687@mail.gmail.com>
	<1266380835425-4584298.post@n2.nabble.com>
Message-ID: <7E6FFF52-B82E-4C3D-9E9F-AEBA28EDD1C0@syenar.hu>

> Perfect.
> 
> Viktor, I would like if Bocco himself commits.

Sorry Pritpal, but it doesn't work like that to 
grant R/W rights.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Feb 17 05:47:37 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 17 05:47:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13899] trunk/harbour
Message-ID: <E1NhhRR-0003Cz-2G@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13899
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13899&view=rev
Author:   vszakats
Date:     2010-02-17 10:47:35 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 11:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * tests/bldtest/bldtest.c
    ! Fixed to build on bcc.

  * contrib/hbwin/legacycd.c
    ! Fixed typo (reported as bcc warning).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/tests/bldtest/bldtest.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 17 05:51:23 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 17 05:51:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13900] trunk/harbour
Message-ID: <E1NhhV5-0003HO-5U@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13900
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13900&view=rev
Author:   vszakats
Date:     2010-02-17 10:51:22 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 11:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/hbdyn.c
    ! Adjustments for non-win, non-os2 platforms.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbdyn.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 17 05:52:57 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 17 05:53:08 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13894] trunk/harbour
In-Reply-To: <20100217092446.GA32232@linux-4bod.home.aster.pl>
References: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>
	<20100217092446.GA32232@linux-4bod.home.aster.pl>
Message-ID: <0FFE2F7B-1366-44EA-9FFB-3AEDF3ECEED8@syenar.hu>

Hi Przemek,

>> 2010-02-17 03:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * src/rtl/fstemp.c
>>    ! Using hb_fsTempDir() in HB_FTEMPCREATEEX() instead of
>>      old solution. This should fix it for some non-*nix
>>      platforms where *nix specific TEMPDIR envvar was used
>>      to determine temp directory.
> 
> It was "TMPDIR" and it's recognized also by many DOS programs.

I never new that, but in this case, would you 
mind modifying hb_fsTempDir()? It's an important 
function, so I'd appreciate it if you could make 
necessary adjustments.

>>  * contrib/hbwin/Makefile
>>  * include/Makefile
>>  * src/rtl/Makefile
>>  - contrib/hbwin/hbdyn.ch
>>  + include/hbdyn.ch
>>  - contrib/hbwin/hbdyn.c
>>  + src/rtl/hbdyn.c
>>  - contrib/hbwin/win_dllc.c
>>  + src/rtl/hbdynhb.c
>>  - contrib/hbwin/tests/testdll.c
>>  + tests/testdyn.c
>>  - contrib/hbwin/tests/testdll.prg
>>  + tests/testdyn.prg
>>  - contrib/hbwin/tests/testdll1.prg
>>  + tests/testdyn1.prg
>>  - contrib/hbwin/hbdyn.h
>>  * include/hbapi.h
>>    * Moved dynamic library call related functions to
>>      core (RTL).
>>    * Windows specific test code (currently all) guarded
>>      for platform.
>>    * Changed default calling convention to cdecl.
>>      Tests adaptd accordingly.
>>    * Terminology change: 'dll' -> 'dynamic library'
>>    ; HB_DYNCALL() is now part of core Harbour, and it's 
>>      platform independent. It's platform (ABI) dependent though,
>>      and currently x64 and x86/stdcall/syscall/cdecl 
>>      is supported and these were tested (except OS/2 syscall).
> 
> There is one problem with above extension.
> Most of non windows compiler does not recognized _cdecl, _stdcall, _fastcall,
> _System (_pascal is the same as _stdcall in MS-Windows).
> Now this code can be compiled only in 64bit mode which does not use any
> calling convention attributes in function declarations and all other
> builds will fail so it has to be redesigned and we should have "default"
> calling convention without any forced by us ABI and then on platforms
> which supports explicit declaration add additional calls.
> 
> I would also suggest to use macros to declare function types and call them.
> They should greatly reduce total code size and allow to add new calling
> convention in few lines.

I did just that.

Brgds,
Viktor

From vailtom at gmail.com  Wed Feb 17 06:03:47 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Feb 17 06:04:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13896] trunk/harbour
In-Reply-To: <E1NhZoI-0002Jf-E4@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NhZoI-0002Jf-E4@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <531d7a751002170303m1f48310cw881deac45b03470b@mail.gmail.com>

Hi Pritpal!

I've been designing some new icons for hbIDE and noticed you also
posted some. I am sending to you the new files that I have with me,
see if they can be useful:

Regards,
Vailton Renato
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbide-icons.zip
Type: application/zip
Size: 4316 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100217/c4cf8171/hbide-icons-0001.zip
From rafa at tesipro.com  Wed Feb 17 06:06:07 2010
From: rafa at tesipro.com (rafa)
Date: Wed Feb 17 06:06:21 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13900] trunk/harbour
In-Reply-To: <E1NhhV5-0003HO-5U@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NhhV5-0003HO-5U@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <4B7BCD9F.5070901@tesipro.com>

vszakats@users.sourceforge.net escribi?:
> Revision: 13900
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13900&view=rev
> Author:   vszakats
> Date:     2010-02-17 10:51:22 +0000 (Wed, 17 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-17 11:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/rtl/hbdyn.c
>     ! Adjustments for non-win, non-os2 platforms.
>   
Perfect GNU/Linux Ubuntu 9.04! Thank you!
Regards
Rafa Carmona
From vszakats at users.sourceforge.net  Wed Feb 17 07:14:04 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 17 07:14:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13901] trunk/harbour
Message-ID: <E1Nhin6-00041z-73@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13901
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13901&view=rev
Author:   vszakats
Date:     2010-02-17 12:14:03 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 13:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wapi_wingdi.c
    ! Typo in recent commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_wingdi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 17 07:19:24 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 17 07:19:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13902] trunk/harbour
Message-ID: <E1NhisG-00047T-F2@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13902
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13902&view=rev
Author:   vszakats
Date:     2010-02-17 12:19:23 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 13:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wapi_wingdi.c
    + WAPI_TEXTOUT(): Emulating functionality on WinCE platform, 
      so it's now available also on WinCE.

  * contrib/hbwin/win_prn1.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_wingdi.c
    trunk/harbour/contrib/hbwin/win_prn1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb 17 07:39:02 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 17 07:39:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13894] trunk/harbour
In-Reply-To: <0FFE2F7B-1366-44EA-9FFB-3AEDF3ECEED8@syenar.hu>
References: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>
	<20100217092446.GA32232@linux-4bod.home.aster.pl>
	<0FFE2F7B-1366-44EA-9FFB-3AEDF3ECEED8@syenar.hu>
Message-ID: <20100217123902.GA25048@linux-4bod.home.aster.pl>

On Wed, 17 Feb 2010, Szak?ts Viktor wrote:

Hi Viktor,

> > I would also suggest to use macros to declare function types and call them.
> > They should greatly reduce total code size and allow to add new calling
> > convention in few lines.
> I did just that.

Thank you very much.
I though about much wider macro usage.
I'm attaching hbdyn.c where declarations and calls are done using macros.
It strongly reduces total code size and IMO makes modificaitons and
extenssions easier.

best regards,
Przemek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbdyn.zip
Type: application/zip
Size: 5632 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100217/1f558530/hbdyn.zip
From harbour.01 at syenar.hu  Wed Feb 17 08:00:11 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 17 08:00:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13894] trunk/harbour
In-Reply-To: <20100217123902.GA25048@linux-4bod.home.aster.pl>
References: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>
	<20100217092446.GA32232@linux-4bod.home.aster.pl>
	<0FFE2F7B-1366-44EA-9FFB-3AEDF3ECEED8@syenar.hu>
	<20100217123902.GA25048@linux-4bod.home.aster.pl>
Message-ID: <96EC7302-9E1A-47E1-9089-456BB372FDF0@syenar.hu>

Hi Przemek,

On 2010 Feb 17, at 13:39, Przemys?aw Czerpak wrote:

> On Wed, 17 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi Viktor,
> 
>>> I would also suggest to use macros to declare function types and call them.
>>> They should greatly reduce total code size and allow to add new calling
>>> convention in few lines.
>> I did just that.
> 
> Thank you very much.
> I though about much wider macro usage.
> I'm attaching hbdyn.c where declarations and calls are done using macros.
> It strongly reduces total code size and IMO makes modificaitons and
> extenssions easier.

Very, very nice. I've copied it to my sandbox, so 
it will be committed in next session, though if you 
want to commit it, or will commit it faster, it's 
even better.

Brgds,
Viktor

From jarabal at gmail.com  Wed Feb 17 08:37:37 2010
From: jarabal at gmail.com (Xavi)
Date: Wed Feb 17 08:38:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13894] trunk/harbour
In-Reply-To: <96EC7302-9E1A-47E1-9089-456BB372FDF0@syenar.hu>
References: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>	<20100217092446.GA32232@linux-4bod.home.aster.pl>	<0FFE2F7B-1366-44EA-9FFB-3AEDF3ECEED8@syenar.hu>	<20100217123902.GA25048@linux-4bod.home.aster.pl>
	<96EC7302-9E1A-47E1-9089-456BB372FDF0@syenar.hu>
Message-ID: <4B7BF121.2030202@gmail.com>

Viktor,

It's nice. About Character Data.
If the encode is UNICODE, ASCII, ANSI, NULL is the terminator: only RAW can be 0 in the data.

Best regards,
Xavi
From harbour.01 at syenar.hu  Wed Feb 17 08:48:22 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 17 08:48:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13894] trunk/harbour
In-Reply-To: <4B7BF121.2030202@gmail.com>
References: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>	<20100217092446.GA32232@linux-4bod.home.aster.pl>	<0FFE2F7B-1366-44EA-9FFB-3AEDF3ECEED8@syenar.hu>	<20100217123902.GA25048@linux-4bod.home.aster.pl>
	<96EC7302-9E1A-47E1-9089-456BB372FDF0@syenar.hu>
	<4B7BF121.2030202@gmail.com>
Message-ID: <D2BC81B2-32A8-4E49-A0D0-26966D6326C7@syenar.hu>

Hi Xavi,

> It's nice. About Character Data.
> If the encode is UNICODE, ASCII, ANSI, NULL is the terminator: only RAW can be 0 in the data.

Not necessarily. It may happen that a .c function 
expects human-readable data containing nul chars, 
even in the Windows API set. Dyn function engine 
should not pose extra limitation here. Maybe we will 
need extra translation modes, but simply switching 
encoded strings to nul terminated ones is not a 
complete solution.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Feb 17 09:41:16 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 17 09:41:24 2010
Subject: [Harbour] Re: I want to participate
In-Reply-To: <7E6FFF52-B82E-4C3D-9E9F-AEBA28EDD1C0@syenar.hu>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
	<374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
	<eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com>
	<708BF745-3F64-4FFC-9D8D-3248450BA2DF@syenar.hu>
	<eed8bee51002161909u20e9601av168412f236a51687@mail.gmail.com>
	<1266380835425-4584298.post@n2.nabble.com>
	<7E6FFF52-B82E-4C3D-9E9F-AEBA28EDD1C0@syenar.hu>
Message-ID: <1266417676186-4586314.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Sorry Pritpal, but it doesn't work like that to 
> grant R/W rights.
> 

OK.
I will commit it.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/I-want-to-participate-tp4583285p4586314.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From e.m.giordano at emagsoftware.it  Wed Feb 17 09:49:15 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Feb 17 09:49:26 2010
Subject: [Harbour] Errors in latest SVN
Message-ID: <36465FCA70154FBC9AEBA1D42AFB34D7@emag>

Error E2451 ../../../dllx.c 144: Undefined symbol 'HB_DYN_CALLCONV_SYSCALL' 
in function HB_FUN_DLLCALL
Error E2451 ../../../dllx.c 195: Undefined symbol 'HB_DYN_CALLCONV_SYSCALL' 
in function HB_FUN_DLLPREPARECALL

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From bedipritpal at hotmail.com  Wed Feb 17 09:57:37 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 17 09:57:44 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13896] trunk/harbour
In-Reply-To: <531d7a751002170303m1f48310cw881deac45b03470b@mail.gmail.com>
References: <E1NhZoI-0002Jf-E4@sfp-svn-6.v30.ch3.sourceforge.com>
	<531d7a751002170303m1f48310cw881deac45b03470b@mail.gmail.com>
Message-ID: <1266418657574-4586414.post@n2.nabble.com>



Vailton Renato wrote:
> 
> I've been designing some new icons for hbIDE and noticed you also
> posted some. I am sending to you the new files that I have with me,
> see if they can be useful:
> 

Absolutely useful, thank you.
I will commit in a while. 
Can you two more icons, "sgl2dblquote" and "dbl2sglquote" ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13896-trunk-harbour-tp4583953p4586414.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Wed Feb 17 10:00:42 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 17 10:00:48 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13896] trunk/harbour
In-Reply-To: <531d7a751002170303m1f48310cw881deac45b03470b@mail.gmail.com>
References: <E1NhZoI-0002Jf-E4@sfp-svn-6.v30.ch3.sourceforge.com>
	<531d7a751002170303m1f48310cw881deac45b03470b@mail.gmail.com>
Message-ID: <1266418842175-4586433.post@n2.nabble.com>


Hi

If you can, also block and stream comments.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13896-trunk-harbour-tp4583953p4586433.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jarabal at gmail.com  Wed Feb 17 10:00:57 2010
From: jarabal at gmail.com (Xavi)
Date: Wed Feb 17 10:01:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13894] trunk/harbour
In-Reply-To: <D2BC81B2-32A8-4E49-A0D0-26966D6326C7@syenar.hu>
References: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>	<20100217092446.GA32232@linux-4bod.home.aster.pl>	<0FFE2F7B-1366-44EA-9FFB-3AEDF3ECEED8@syenar.hu>	<20100217123902.GA25048@linux-4bod.home.aster.pl>	<96EC7302-9E1A-47E1-9089-456BB372FDF0@syenar.hu>	<4B7BF121.2030202@gmail.com>
	<D2BC81B2-32A8-4E49-A0D0-26966D6326C7@syenar.hu>
Message-ID: <4B7C04A9.3000601@gmail.com>

Hi Viktor,

> even in the Windows API set. Dyn function engine
> should not pose extra limitation here.

Well, I don't like limitations but in this case exist RAW type and I suppose is appropriate for structures and arrays type 
TCHAR**, seems a bit redundant.

> need extra translation modes, but simply switching
> encoded strings to nul terminated ones is not a
> complete solution.

Maybe yes, I'm not sure, I just think that simplify use.

Best regards,
Xavi
From harbour.01 at syenar.hu  Wed Feb 17 10:09:10 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 17 10:09:22 2010
Subject: [Harbour] Errors in latest SVN
In-Reply-To: <36465FCA70154FBC9AEBA1D42AFB34D7@emag>
References: <36465FCA70154FBC9AEBA1D42AFB34D7@emag>
Message-ID: <2ADC6CF8-965D-42C2-B6ED-DD4DECBF9324@syenar.hu>

Hi,

On 2010 Feb 17, at 15:49, Enrico Maria Giordano wrote:

> Error E2451 ../../../dllx.c 144: Undefined symbol 'HB_DYN_CALLCONV_SYSCALL' in function HB_FUN_DLLCALL
> Error E2451 ../../../dllx.c 195: Undefined symbol 'HB_DYN_CALLCONV_SYSCALL' in function HB_FUN_DLLPREPARECALL

SVN is correct. You must have an older hbdyn.ch in include 
dir. Try again after fresh checkout.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Feb 17 10:18:23 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 17 10:18:30 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13896] trunk/harbour
In-Reply-To: <531d7a751002170303m1f48310cw881deac45b03470b@mail.gmail.com>
References: <E1NhZoI-0002Jf-E4@sfp-svn-6.v30.ch3.sourceforge.com>
	<531d7a751002170303m1f48310cw881deac45b03470b@mail.gmail.com>
Message-ID: <1266419903505-4586545.post@n2.nabble.com>


Sorry for wrong names:

These will be 

blockcomment
streamcomment
blocksgl2dbl
blockdbl2sgl



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13896-trunk-harbour-tp4583953p4586545.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Wed Feb 17 10:33:34 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 17 10:33:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13903] trunk/harbour
Message-ID: <E1NhluA-00054m-Ef@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13903
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13903&view=rev
Author:   vouchcac
Date:     2010-02-17 15:33:33 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 07:28 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/blockindentl.png
  + contrib/hbide/resources/blockindentr.png
  + contrib/hbide/resources/copy-filname.png
  + contrib/hbide/resources/deleteline.png
  + contrib/hbide/resources/duplicateline.png
  + contrib/hbide/resources/insert-separator.png
  + contrib/hbide/resources/movelinedown.png
  + contrib/hbide/resources/movelineup.png
  + contrib/hbide/resources/spacestotabs.png
  + contrib/hbide/resources/tabstospaces.png
    + Icons to represent vrious actions, mainly in editor,
      provided by Vailton, thank you.

  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
    ! Changing the icon names only.

  * contrib/hbqt/hbqt_hbslots.cpp
  * contrib/hbqt/hbqt_hbslots.h
    ! Included more slots provided by Bacco, thank you.
      Bacco also applied formating to suit longer function names.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbslots.h

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/blockindentl.png
    trunk/harbour/contrib/hbide/resources/blockindentr.png
    trunk/harbour/contrib/hbide/resources/copy-filname.png
    trunk/harbour/contrib/hbide/resources/deleteline.png
    trunk/harbour/contrib/hbide/resources/duplicateline.png
    trunk/harbour/contrib/hbide/resources/insert-separator.png
    trunk/harbour/contrib/hbide/resources/movelinedown.png
    trunk/harbour/contrib/hbide/resources/movelineup.png
    trunk/harbour/contrib/hbide/resources/spacestotabs.png
    trunk/harbour/contrib/hbide/resources/tabstospaces.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 17 12:04:31 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 17 12:04:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13894] trunk/harbour
In-Reply-To: <4B7C04A9.3000601@gmail.com>
References: <E1NhZLq-0001nm-NQ@sfp-svn-6.v30.ch3.sourceforge.com>	<20100217092446.GA32232@linux-4bod.home.aster.pl>	<0FFE2F7B-1366-44EA-9FFB-3AEDF3ECEED8@syenar.hu>	<20100217123902.GA25048@linux-4bod.home.aster.pl>	<96EC7302-9E1A-47E1-9089-456BB372FDF0@syenar.hu>	<4B7BF121.2030202@gmail.com>
	<D2BC81B2-32A8-4E49-A0D0-26966D6326C7@syenar.hu>
	<4B7C04A9.3000601@gmail.com>
Message-ID: <570C935E-4914-417F-995E-654BF7CE7F24@syenar.hu>

Hi Xavi,

On 2010 Feb 17, at 16:00, Xavi wrote:

> Hi Viktor,
> 
>> even in the Windows API set. Dyn function engine
>> should not pose extra limitation here.
> 
> Well, I don't like limitations but in this case exist RAW type and I suppose is appropriate for structures and arrays type TCHAR**, seems a bit redundant.
> 
>> need extra translation modes, but simply switching
>> encoded strings to nul terminated ones is not a
>> complete solution.
> 
> Maybe yes, I'm not sure, I just think that simplify use.

IMO it's not simplification, it's just avoiding 
loss of information. In majority of cases you need to 
pass preallocated buffers to .c functions when you 
want to receive back values in these buffers. Usually 
you get back the length of such buffer in another 
parameter. If you're getting a length value, you can't 
assume that the buffer doesn't contain a zero char. 
Current behavior supports this case perfectly.

When you're getting back strings as return value, they 
are usually zero terminated. Current implementation 
will return you a zero terminated string in this case, 
so it also matches the 'usual' case.

Anyway it's very easy to create a function which 
discards the part of a string after the first leading 
zero (or cuts it to a given length), in case you need 
a zero terminated string. Current implementation makes 
this possible, but it doesn't cut off the case when 
you do need the rest of the data.

We can implement such feature in the low-level engine, 
as an option. I've committed it to SVN.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Feb 17 12:07:38 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 17 12:07:46 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13904] trunk/harbour
Message-ID: <E1NhnNC-0008Uu-Sq@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13904
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13904&view=rev
Author:   vszakats
Date:     2010-02-17 17:07:20 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------

2010-02-17 18:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdyn.ch
  * src/rtl/hbdyn.c
    + Added support for misc 'options'. Both for return values
      and parameters.
    + Added HB_DYN_OPT_NULLTERM option which will cause that
      buffers passed by reference will return null terminated
      string (thus cutting the rest of the buffer).
    % Implemented macros sent to the list by Przemek. This made
      the source significantly smaller (one quarter of original
      size) and much easier to manage/modify. Thanks!

  * tests/testdyn.prg
    + Added test for zero terminated strings.
    ! Fixed to set UTF16 mode for Windows "WIDE" call.

  * contrib/xpp/dllx.c
    % Minor optimization.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xpp/dllx.c
    trunk/harbour/include/hbdyn.ch
    trunk/harbour/src/rtl/hbdyn.c
    trunk/harbour/tests/testdyn.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Wed Feb 17 13:13:38 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Feb 17 13:14:05 2010
Subject: [Harbour] About Harbour Documentation
Message-ID: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>

Hi all!

I have already worked for some time building scripts what convert the
existing documentation in harbor/doc exporting it to an HTML format in
order to integrate it into the Harbour site.

Today it has several pieces of this puzzle already finished and the
last that I lack is to adjust the layout of the site to support online
searches, similar to the PHP site.

An example of documentation that I have in mind can be seen in this
link: http://www.sqllib.com.br/wxweb/manual/

So I think if we update the files inside ?harbor/docs based on the
latest updates by April White, we not only integrate with the site,
but export them to various formats that already exist.

What do you think?

Regards,
Vailton Renato
From harbour.01 at syenar.hu  Wed Feb 17 13:23:04 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 17 13:23:19 2010
Subject: [Harbour] About Harbour Documentation
In-Reply-To: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
Message-ID: <F67B9E8E-99F7-4FB2-91EE-5893AE1DD948@syenar.hu>

Hi Vailton,

Very nice layout.

It's definitely a very good direction to follow. I'd say go for it.

Brgds,
Viktor

On 2010 Feb 17, at 19:13, Vailton Renato wrote:

> Hi all!
> 
> I have already worked for some time building scripts what convert the
> existing documentation in harbor/doc exporting it to an HTML format in
> order to integrate it into the Harbour site.
> 
> Today it has several pieces of this puzzle already finished and the
> last that I lack is to adjust the layout of the site to support online
> searches, similar to the PHP site.
> 
> An example of documentation that I have in mind can be seen in this
> link: http://www.sqllib.com.br/wxweb/manual/
> 
> So I think if we update the files inside  harbor/docs based on the
> latest updates by April White, we not only integrate with the site,
> but export them to various formats that already exist.
> 
> What do you think?
> 
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Wed Feb 17 14:11:01 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Feb 17 14:11:10 2010
Subject: [Harbour] GCC distribution
Message-ID: <133778361002171111w163b7af0x553dbd6b9cdcdd51@mail.gmail.com>

anybody knows where I can find an standalone Linux GCC distribution ?

Similar to Mingw format distribution ?

I need a basic compiler to add to a harbour qt project.

Thanks for any Idea
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100217/b0c203b4/attachment.html
From druzus at users.sourceforge.net  Wed Feb 17 14:11:17 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 17 14:11:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13905] trunk/harbour
Message-ID: <E1NhpIr-00030w-H4@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13905
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13905&view=rev
Author:   druzus
Date:     2010-02-17 19:11:16 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-17 20:11 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
    * use '__int64' instead of 'long long' only in non GCC MS-Windows builds

  * harbour/tests/bldtest/bldtest.c
    * use '__int64' instead of 'long long' only in non GCC MS-Windows builds
    * formatting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h
    trunk/harbour/tests/bldtest/bldtest.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From qiinfo at ig.com.br  Wed Feb 17 14:18:47 2010
From: qiinfo at ig.com.br (Rossine)
Date: Wed Feb 17 14:18:54 2010
Subject: [Harbour] About Harbour Documentation
In-Reply-To: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
Message-ID: <27628901.post@talk.nabble.com>


Hello vailton,


Vailton Renato wrote:
> 
> Hi all!
> 
> I have already worked for some time building scripts what convert the
> existing documentation in harbor/doc exporting it to an HTML format in
> order to integrate it into the Harbour site.
> 
> Today it has several pieces of this puzzle already finished and the
> last that I lack is to adjust the layout of the site to support online
> searches, similar to the PHP site.
> 
> An example of documentation that I have in mind can be seen in this
> link: http://www.sqllib.com.br/wxweb/manual/
> 
> So I think if we update the files inside ?harbor/docs based on the
> latest updates by April White, we not only integrate with the site,
> but export them to various formats that already exist.
> 
> What do you think?
> 
> Regards,
> Vailton Renato
> 

It would be great if harbour work with your builder of documents.

Simply amazing how it is generated :-D

Congratulations for this great tool :clap:

Best Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/About-Harbour-Documentation-tp27628023p27628901.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Feb 17 15:04:29 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 17 15:04:38 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
Message-ID: <1266437069891-4588185.post@n2.nabble.com>



Vailton Renato wrote:
> 
> I have already worked for some time building scripts what convert the
> existing documentation in harbor/doc exporting it to an HTML format in
> order to integrate it into the Harbour site.
> 

Nice job Vailton. Keep it up.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/About-Harbour-Documentation-tp4587608p4588185.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From amigosam at adinet.com.uy  Wed Feb 17 15:36:48 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Wed Feb 17 15:37:29 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
Message-ID: <hlhk12$rmh$1@ger.gmane.org>

El 17/02/2010 16:13, Vailton Renato escribi?:
> Hi all!
>
> I have already worked for some time building scripts what convert the
> existing documentation in harbor/doc exporting it to an HTML format in
> order to integrate it into the Harbour site.
>
> Today it has several pieces of this puzzle already finished and the
> last that I lack is to adjust the layout of the site to support online
> searches, similar to the PHP site.
>
> An example of documentation that I have in mind can be seen in this
> link: http://www.sqllib.com.br/wxweb/manual/
>
> So I think if we update the files inside  harbor/docs based on the
> latest updates by April White, we not only integrate with the site,
> but export them to various formats that already exist.
>
> What do you think?
>
> Regards,
> Vailton Renato

Nice !
Two questions comes to mind...

1) What is wxweb ? It shows a list of functions but tells nothing about 
what is or how to use it.

2) What would be the methodology to update harbour/doc files in a 
collaborative way ?

I've done a searh for hb_ functions only on harbour tree and I got 888 
ocurrences. And we are talking about harbour extensions alone.
So there must be a way to divide tasks among many volunteers and a 
DocMaster reviewing and aproving submitted documents.
This DocMaster need not only excelent English languaje skills but also 
deep knowledge of Harbour internals and some ability to read C code.

Just my 0.001 cent

Regards
Angel

From smujohnson at gmail.com  Wed Feb 17 15:45:53 2010
From: smujohnson at gmail.com (smu johnson)
Date: Wed Feb 17 15:46:01 2010
Subject: [Harbour] GCC distribution
In-Reply-To: <133778361002171111w163b7af0x553dbd6b9cdcdd51@mail.gmail.com>
References: <133778361002171111w163b7af0x553dbd6b9cdcdd51@mail.gmail.com>
Message-ID: <674e4ddd1002171245q43f1c8d8u7cf23c85f73f600b@mail.gmail.com>

Well... are you using Ubuntu?

sudo apt-get install build-essential

On Wed, Feb 17, 2010 at 11:11 AM, Bruno Luciani <bruno.luciani@gmail.com>wrote:

> anybody knows where I can find an standalone Linux GCC distribution ?
>
> Similar to Mingw format distribution ?
>
> I need a basic compiler to add to a harbour qt project.
>
> Thanks for any Idea
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100217/2bcb6138/attachment-0001.html
From harbour.01 at syenar.hu  Wed Feb 17 15:50:57 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 17 15:51:07 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <hlhk12$rmh$1@ger.gmane.org>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
Message-ID: <B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>

Hi,

>> What do you think?
>> 
>> Regards,
>> Vailton Renato
> 
> Nice !
> Two questions comes to mind...
> 
> 2) What would be the methodology to update harbour/doc files in a collaborative way ?

They should be committed to SVN just like code changes. 
Either directly by authors (if they have R/W access) or 
by someone who aggregates the work of certain authors. 
If there is any volunteer for this aggregation task we 
can grant R/W access, if other admins also agree.

If this is to cumbersome for a start, we may simply gather 
.txt files somewhere, and commit them from time to time 
to SVN.

> I've done a searh for hb_ functions only on harbour tree and I got 888 ocurrences. And we are talking about harbour extensions alone.
> So there must be a way to divide tasks among many volunteers and a DocMaster reviewing and aproving submitted documents.
> This DocMaster need not only excelent English languaje skills but also deep knowledge of Harbour internals and some ability to read C code.

Since we don't appear to have a Doc Master at the moment, 
and I wouldn't really block any documentation effort by 
looking for one, I think the process just has to be 
started. "Who starts with which section?" is enough to 
decide at this point.

As for a (non-visual!) "style" guideline for the docs,
I think it's just perfect if we follow the path of 
Hannes Ziegler with xhb and Xbase++ docs.

my 2 cents, that is.

Brgds,
Viktor

From fperillo at gmail.com  Wed Feb 17 15:51:52 2010
From: fperillo at gmail.com (francesco perillo)
Date: Wed Feb 17 15:52:00 2010
Subject: [Harbour] Re: I want to participate
In-Reply-To: <1266383694923-4584462.post@n2.nabble.com>
References: <eed8bee51002161530x162eed53g98bab2196d32ab6e@mail.gmail.com>
	<374A289F-02D6-4F2A-B219-2D4775F15CA8@syenar.hu>
	<eed8bee51002161700m78beac65k21d39334bf20d650@mail.gmail.com>
	<708BF745-3F64-4FFC-9D8D-3248450BA2DF@syenar.hu>
	<eed8bee51002161909u20e9601av168412f236a51687@mail.gmail.com>
	<1266380835425-4584298.post@n2.nabble.com>
	<eed8bee51002162051h57eab608l8f79380db142e072@mail.gmail.com>
	<1266383694923-4584462.post@n2.nabble.com>
Message-ID: <6943770e1002171251o565dcfe6y22a87c7163c6a991@mail.gmail.com>

I'm for Bacco style: a lot of different sample, easily buitable, that
deeply exploit all possibilities of an object. Are there 3 button
styles ? A demo of buttons with all three present in the form, or
three different forms
From vailtom at gmail.com  Wed Feb 17 15:55:07 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Feb 17 15:55:35 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <hlhk12$rmh$1@ger.gmane.org>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<hlhk12$rmh$1@ger.gmane.org>
Message-ID: <531d7a751002171255r3d1b9734x33124819118cc8c8@mail.gmail.com>

Hi!

> 1) What is wxweb ? It shows a list of functions but tells nothing about what
> is or how to use it.

If the wxWeb is a LIB for programming CGI and ISAPI I developed some
years ago for use with XHB and I'm porting it to HB.
It is free and open source: http://code.google.com/p/wxweb/

> 2) What would be the methodology to update harbour/doc files in a
> collaborative way ?

I was initially based on hbextern me to know which functions initially
document. But I imagine that we could feed the DOC via SVN folder and
use something like hbdoc2 (or something similar) to update the site.

Initially I would be writing the texts in English ... if they were in
Portuguese, the work would flow much faster because it is my native
language, but I think we should support the project and there is no
way to ignore the relevance of English.

Regards,
Vailton Renato
From mbelgrano at deltain.it  Wed Feb 17 16:04:56 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 17 16:05:27 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
Message-ID: <609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>

In harbour user group we have an interesting event  relating to
harbour doc Daniel Gon?alves have give his availability for give us a
path for Having Documentation
http://www.mail-archive.com/harbour-users@harbour-project.org/msg00335.html
so now i suggest a common way between?way of Daniel Gon?alves and
Vailton renato (that is very good,compliment)
i give also my aivability to translate in italian (is the only thing
tha i able to do with good result)

2010/2/17 Viktor Szak?ts <harbour.01@syenar.hu>
>
> Hi,
>
> >> What do you think?
> >>
> >> Regards,
> >> Vailton Renato
> >
> > Nice !
> > Two questions comes to mind...
> >
> > 2) What would be the methodology to update harbour/doc files in a collaborative way ?
>
> They should be committed to SVN just like code changes.
> Either directly by authors (if they have R/W access) or
> by someone who aggregates the work of certain authors.
> If there is any volunteer for this aggregation task we
> can grant R/W access, if other admins also agree.
>
> If this is to cumbersome for a start, we may simply gather
> .txt files somewhere, and commit them from time to time
> to SVN.
>
> > I've done a searh for hb_ functions only on harbour tree and I got 888 ocurrences. And we are talking about harbour extensions alone.
> > So there must be a way to divide tasks among many volunteers and a DocMaster reviewing and aproving submitted documents.
> > This DocMaster need not only excelent English languaje skills but also deep knowledge of Harbour internals and some ability to read C code.
>
> Since we don't appear to have a Doc Master at the moment,
> and I wouldn't really block any documentation effort by
> looking for one, I think the process just has to be
> started. "Who starts with which section?" is enough to
> decide at this point.
>
> As for a (non-visual!) "style" guideline for the docs,
> I think it's just perfect if we follow the path of
> Hannes Ziegler with xhb and Xbase++ docs.
>
> my 2 cents, that is.
>
> Brgds,
> Viktor
>


--
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Feb 17 16:10:33 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 17 16:10:44 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
Message-ID: <311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>

> In harbour user group we have an interesting event  relating to
> harbour doc Daniel Gon?alves have give his availability for give us a
> path for Having Documentation
> http://www.mail-archive.com/harbour-users@harbour-project.org/msg00335.html

Such topic really belongs here, not the users' list.

I only had a short peek into it, but IMO it's not best 
direction to start evaluating (for the 10th time) all 
the available documentation tools. We've been trough 
it 1 year ago, 2 years ago...

IOW we're over that, NF (NanForum) format is just perfect 
and the next logical step is to actually write docs :)

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Feb 17 16:30:59 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 17 16:31:27 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu> 
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com> 
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
Message-ID: <609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>

2010/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
> Such topic really belongs here, not the users' list.
we can't impose limitation in argument on userlist
freedom is magic word, or nobody stay in user list

> I only had a short peek into it, but IMO it's not best
> direction to start evaluating (for the 10th time) all
> the available documentation tools. We've been trough
> it 1 year ago, 2 years ago...
>
> IOW we're over that, NF (NanForum) format is just perfect
> and the next logical step is to actually write docs :)

we need a path for made a  good collaborative work
without this path nobody can start in help harbour in having a good
documentation
so if same body with a good experienced give a way we must evaluate and
choice if follow it.




-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Feb 17 17:02:27 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 17 17:02:36 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
Message-ID: <06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>

> 2010/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Such topic really belongs here, not the users' list.
> we can't impose limitation in argument on userlist
> freedom is magic word, or nobody stay in user list
>> I only had a short peek into it, but IMO it's not best
>> direction to start evaluating (for the 10th time) all
>> the available documentation tools. We've been trough
>> it 1 year ago, 2 years ago...
>> 
>> IOW we're over that, NF (NanForum) format is just perfect
>> and the next logical step is to actually write docs :)
> 
> we need a path for made a  good collaborative work
> without this path nobody can start in help harbour in having a good
> documentation
> so if same body with a good experienced give a way we must evaluate and
> choice if follow it.

No. Until nobody writes documentation just talk 
about it, there won't be documentation.

It's like if we were discussing what editor or 
coding style we should use since 1999 up until 
today. Imagine how many lines of code would be 
written to date.

Anyway, anyone can write any documentation BTW, 
but I thought it makes sense to flow existing 
information instead of reinventing the wheel 
again and again. Maybe freedom doesn't allow that, 
and you're right.

Brgds,
Viktor

From druzus at users.sourceforge.net  Wed Feb 17 18:01:59 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 17 18:02:08 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13906] trunk/harbour
Message-ID: <E1Nhsu7-000500-N5@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13906
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13906&view=rev
Author:   druzus
Date:     2010-02-17 23:01:58 +0000 (Wed, 17 Feb 2010)

Log Message:
-----------
2010-02-18 00:01 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour.spec
    ! fixed to work with modified library name hbbmcdx -> rddbmcdx

  * harbour/contrib/hbwin/legacycd.c
    ! fixed casting for C++ builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/harbour.spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Wed Feb 17 18:52:23 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Feb 17 18:52:31 2010
Subject: [Harbour] GCC distribution
In-Reply-To: <674e4ddd1002171245q43f1c8d8u7cf23c85f73f600b@mail.gmail.com>
References: <133778361002171111w163b7af0x553dbd6b9cdcdd51@mail.gmail.com>
	<674e4ddd1002171245q43f1c8d8u7cf23c85f73f600b@mail.gmail.com>
Message-ID: <133778361002171552k3106ab0aye94fb8226ac8369b@mail.gmail.com>

Yes of course I am using GCC but I need and standalone version
to redistribute it .

Bruno

2010/2/17 smu johnson <smujohnson@gmail.com>

> Well... are you using Ubuntu?
>
> sudo apt-get install build-essential
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100217/f993a95c/attachment.html
From vouchcac at users.sourceforge.net  Wed Feb 17 21:20:03 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 17 21:20:10 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13907] trunk/harbour
Message-ID: <E1Nhvzn-0008SX-6V@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13907
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13907&view=rev
Author:   vouchcac
Date:     2010-02-18 02:20:00 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-17 18:13 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/blockcomment.png
  + contrib/hbide/resources/environments.ui
  + contrib/hbide/resources/environments.uic
  + contrib/hbide/resources/findinfilesex.ui
  + contrib/hbide/resources/findinfilesex.uic
  + contrib/hbide/resources/projectpropertiesex.ui
  + contrib/hbide/resources/projectpropertiesex.uic
  + contrib/hbide/resources/streamcomment.png
  + contrib/hbide/resources/themesex.ui
  + contrib/hbide/resources/themesex.uic

  * contrib/hbqt/THbQtUI.prg

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idestylesheets.prg
  * contrib/hbide/idethemes.prg

    + This commit implements all other windows ( except Find/Replace )
      opened as a docked-window of the main-frame. This facilitates
      a greater control over the various actions together. This is a 
      major change in the interface, please update your notes.

      Find/Replace window is scheduled to be contained in separate panel
      at the bottom of the editor area, right on top of the "Output Console",
      as is implemented in Qt Creator itself. Please express your opinions.

      The above should have been the way since begining, but you know,
      programming skills are polished with time.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbqt/THbQtUI.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/blockcomment.png
    trunk/harbour/contrib/hbide/resources/environments.ui
    trunk/harbour/contrib/hbide/resources/environments.uic
    trunk/harbour/contrib/hbide/resources/findinfilesex.ui
    trunk/harbour/contrib/hbide/resources/findinfilesex.uic
    trunk/harbour/contrib/hbide/resources/projectpropertiesex.ui
    trunk/harbour/contrib/hbide/resources/projectpropertiesex.uic
    trunk/harbour/contrib/hbide/resources/streamcomment.png
    trunk/harbour/contrib/hbide/resources/themesex.ui
    trunk/harbour/contrib/hbide/resources/themesex.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From daniel at base4.com.br  Wed Feb 17 21:24:14 2010
From: daniel at base4.com.br (=?ISO-8859-1?Q?Daniel_Gon=E7alves?=)
Date: Wed Feb 17 21:24:23 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
Message-ID: <72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>

Ok! I'll use the "golden rule" of open-source world with my proposal:
"release early, release often"!

I've published an example of what we can achieve with Sphinx. But
first, keep in mind that it's a less than 3 hour work without a good
view of "what next". I talk this afternoon with Vailton about
Harbour's documentation and our options, how can we do this and wich
tools are widely (wich means accessible and documented) available. We
figured out that we have very similar projects: him with his cool
wxweb project and me with the apix (api extractor). Both doing almost
the same thing. My project goals is to extract documentation blocks
from the source and produce HTML output or reST documents that can be
embedded in a wider Sphinx based documention project. The problem with
api inside sources is just about the developer "culture" and the
internationalization is almost impossible (imagine a single source
with, say, 20 functions, and four languages documenting each
function!).

I proposed the use of Sphinx. I started a documentation project and
the results can be found here
[http://www.base4.com.br/~daniel/hb/index.html]. The sources are also
available.

Regards!

2010/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>> 2010/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> Such topic really belongs here, not the users' list.
>> we can't impose limitation in argument on userlist
>> freedom is magic word, or nobody stay in user list
>>> I only had a short peek into it, but IMO it's not best
>>> direction to start evaluating (for the 10th time) all
>>> the available documentation tools. We've been trough
>>> it 1 year ago, 2 years ago...
>>>
>>> IOW we're over that, NF (NanForum) format is just perfect
>>> and the next logical step is to actually write docs :)
>>
>> we need a path for made a ?good collaborative work
>> without this path nobody can start in help harbour in having a good
>> documentation
>> so if same body with a good experienced give a way we must evaluate and
>> choice if follow it.
>
> No. Until nobody writes documentation just talk
> about it, there won't be documentation.
>
> It's like if we were discussing what editor or
> coding style we should use since 1999 up until
> today. Imagine how many lines of code would be
> written to date.
>
> Anyway, anyone can write any documentation BTW,
> but I thought it makes sense to flow existing
> information instead of reinventing the wheel
> again and again. Maybe freedom doesn't allow that,
> and you're right.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Daniel Gon?alves
Base4 Sistemas Ltda.
[www.base4.com.br]
[twitter.com/spanazzi]
From bedipritpal at hotmail.com  Wed Feb 17 21:33:35 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Feb 17 21:33:43 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>,
	<hlhk12$rmh$1@ger.gmane.org>,
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>,
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>,
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>,
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>,
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>,
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
Message-ID: <SNT123-W7A00D41EBF94F2702C440A7470@phx.gbl>


Hi

 

First-timer on users list.

 

If this helps in any way, pages auto generated from the Harbour source tree ( a little older ) but depicts some usage can be achieved:

 

http://harbour.vouch.info/

Regards
 
Pritpal Bedi, a student of software analysis and design
http://www.vouch.in  | Vouch, the software that GROWS with you
http://www.vouch32.com  |  Home of Vouch32 ActiveX Server
http://www.vouchcac.com/vouch32/vouch32.htm   |   A Free Windows Extended
Utilities Library for Clipper, Xbase++ and (x)Harbour
http://www.help.vouch.info | Online Vouch Help
http://www.harbour.vouch.info | Online Harbour Help



 		 	   		  
_________________________________________________________________
Hotmail: Trusted email with powerful SPAM protection.
http://clk.atdmt.com/GBL/go/201469227/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100218/87fb0bec/attachment.html
From carlosbacco at gmail.com  Wed Feb 17 21:57:14 2010
From: carlosbacco at gmail.com (Bacco)
Date: Wed Feb 17 21:57:43 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu> 
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com> 
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com> 
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
Message-ID: <eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>

IMHO, it would be simpler to create a simple tool to parse the
NanForum format into a database, for example. From the database, we
could use php into a site to show and search the documentation, and so
on. The same kind of tools could generate many other formats, suitable
to other uses. If someday we leave the NF format, I believe that would
be better to use more powerful ways to organize the structured data
for documentation. Note that I am not underestimating the power of
Sphinx, but it just seemed "too texty" to justify the migration.

Just my opinion, of course.

2010/2/18 Daniel Gon?alves <daniel@base4.com.br>:
> Ok! I'll use the "golden rule" of open-source world with my proposal:
> "release early, release often"!
>
> I've published an example of what we can achieve with Sphinx. But
> first, keep in mind that it's a less than 3 hour work without a good
> view of "what next". I talk this afternoon with Vailton about
> Harbour's documentation and our options, how can we do this and wich
> tools are widely (wich means accessible and documented) available. We
> figured out that we have very similar projects: him with his cool
> wxweb project and me with the apix (api extractor). Both doing almost
> the same thing. My project goals is to extract documentation blocks
> from the source and produce HTML output or reST documents that can be
> embedded in a wider Sphinx based documention project. The problem with
> api inside sources is just about the developer "culture" and the
> internationalization is almost impossible (imagine a single source
> with, say, 20 functions, and four languages documenting each
> function!).
>
> I proposed the use of Sphinx. I started a documentation project and
> the results can be found here
> [http://www.base4.com.br/~daniel/hb/index.html]. The sources are also
> available.
>
> Regards!
>
> 2010/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> 2010/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>> Such topic really belongs here, not the users' list.
>>> we can't impose limitation in argument on userlist
>>> freedom is magic word, or nobody stay in user list
>>>> I only had a short peek into it, but IMO it's not best
>>>> direction to start evaluating (for the 10th time) all
>>>> the available documentation tools. We've been trough
>>>> it 1 year ago, 2 years ago...
>>>>
>>>> IOW we're over that, NF (NanForum) format is just perfect
>>>> and the next logical step is to actually write docs :)
>>>
>>> we need a path for made a ?good collaborative work
>>> without this path nobody can start in help harbour in having a good
>>> documentation
>>> so if same body with a good experienced give a way we must evaluate and
>>> choice if follow it.
>>
>> No. Until nobody writes documentation just talk
>> about it, there won't be documentation.
>>
>> It's like if we were discussing what editor or
>> coding style we should use since 1999 up until
>> today. Imagine how many lines of code would be
>> written to date.
>>
>> Anyway, anyone can write any documentation BTW,
>> but I thought it makes sense to flow existing
>> information instead of reinventing the wheel
>> again and again. Maybe freedom doesn't allow that,
>> and you're right.
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
>
> --
> Daniel Gon?alves
> Base4 Sistemas Ltda.
> [www.base4.com.br]
> [twitter.com/spanazzi]
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From e.m.giordano at emagsoftware.it  Thu Feb 18 03:10:01 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Feb 18 03:10:10 2010
Subject: [Harbour] Errors in latest SVN
References: <36465FCA70154FBC9AEBA1D42AFB34D7@emag>
	<2ADC6CF8-965D-42C2-B6ED-DD4DECBF9324@syenar.hu>
Message-ID: <09F90DAFA9B1430287CC18E5619E8D15@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 17 febbraio 2010 16.09
Oggetto: Re: [Harbour] Errors in latest SVN


> SVN is correct. You must have an older hbdyn.ch in include
> dir. Try again after fresh checkout.

Thank you, it's ok now.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Thu Feb 18 03:11:12 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 18 03:11:24 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
Message-ID: <E0E749B3-C0C8-4760-97F4-11F899C815EE@syenar.hu>

Hi Daniel and All,

For off thanks for joining this list, and your interest 
in documentation, we need it very well actually.

I don't know how you guys imagined writing documentation, 
but if it's meant to be committed to Harbour SVN 
(which would definitely a good thing, and this is how 
other "serious" project do), the format should be simple, 
text file based and electronically processable using open 
source tools.

We already have NanForum file format which suits these 
parameters, plus April has written us a pretty good 
processor tool, called hbdoc2. All in Harbour .prg.
We also have a storage medium: SVN. This allows multiple 
users to add/edit documentation, without adding any new 
tools into the mix.

We also have an amount of already written documentation 
in this format, in SVN.

Many of us liked Vailton's proposal posted yesterday 
to this list very much, which is also based on current 
tools and formats. I think we should follow that 
direction.

Of course, I'm happy if anyone is _writing_ any 
documentation using any tool, but if the goal is to 
be part of Harbour SVN in the future, IMO you should 
check these existing tools and try to match the basic 
requirements.

Once we have the doc in such text format, it can be 
relatively easily processed into _any_ other source 
format, be it DocBook, LATEX, Robodoc, and any kind 
of final format, like HTML, .rtf, .pdf. As for the 
storage type, it can be .dbf, sqlite or any indexing 
engine, too, but that's really the presentation 
part, not creation.

So, I'd suggest to grasp current format.

[ Unfortunately the link didn't open here, and I have 
no information on Sphinx, the closest I've found 
is a full text search engine. ]

Brgds,
Viktor

On 2010 Feb 18, at 03:24, Daniel Gon?alves wrote:

> Ok! I'll use the "golden rule" of open-source world with my proposal:
> "release early, release often"!
> 
> I've published an example of what we can achieve with Sphinx. But
> first, keep in mind that it's a less than 3 hour work without a good
> view of "what next". I talk this afternoon with Vailton about
> Harbour's documentation and our options, how can we do this and wich
> tools are widely (wich means accessible and documented) available. We
> figured out that we have very similar projects: him with his cool
> wxweb project and me with the apix (api extractor). Both doing almost
> the same thing. My project goals is to extract documentation blocks
> from the source and produce HTML output or reST documents that can be
> embedded in a wider Sphinx based documention project. The problem with
> api inside sources is just about the developer "culture" and the
> internationalization is almost impossible (imagine a single source
> with, say, 20 functions, and four languages documenting each
> function!).
> 
> I proposed the use of Sphinx. I started a documentation project and
> the results can be found here
> [http://www.base4.com.br/~daniel/hb/index.html]. The sources are also
> available.
> 
> Regards!
> 
> 2010/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> 2010/2/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>> Such topic really belongs here, not the users' list.
>>> we can't impose limitation in argument on userlist
>>> freedom is magic word, or nobody stay in user list
>>>> I only had a short peek into it, but IMO it's not best
>>>> direction to start evaluating (for the 10th time) all
>>>> the available documentation tools. We've been trough
>>>> it 1 year ago, 2 years ago...
>>>> 
>>>> IOW we're over that, NF (NanForum) format is just perfect
>>>> and the next logical step is to actually write docs :)
>>> 
>>> we need a path for made a  good collaborative work
>>> without this path nobody can start in help harbour in having a good
>>> documentation
>>> so if same body with a good experienced give a way we must evaluate and
>>> choice if follow it.
>> 
>> No. Until nobody writes documentation just talk
>> about it, there won't be documentation.
>> 
>> It's like if we were discussing what editor or
>> coding style we should use since 1999 up until
>> today. Imagine how many lines of code would be
>> written to date.
>> 
>> Anyway, anyone can write any documentation BTW,
>> but I thought it makes sense to flow existing
>> information instead of reinventing the wheel
>> again and again. Maybe freedom doesn't allow that,
>> and you're right.
>> 
>> Brgds,
>> Viktor
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 
> 
> 
> -- 
> Daniel Gon?alves
> Base4 Sistemas Ltda.
> [www.base4.com.br]
> [twitter.com/spanazzi]
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Feb 18 03:12:16 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 18 03:12:28 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
Message-ID: <AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>

> IMHO, it would be simpler to create a simple tool to parse the
> NanForum format into a database, for example. From the database, we
> could use php into a site to show and search the documentation, and so
> on. The same kind of tools could generate many other formats, suitable
> to other uses. If someday we leave the NF format, I believe that would
> be better to use more powerful ways to organize the structured data
> for documentation. Note that I am not underestimating the power of
> Sphinx, but it just seemed "too texty" to justify the migration.

Exactly.

Brgds,
Viktor

From marcobra.ubuntu at gmail.com  Thu Feb 18 03:57:22 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Feb 18 03:57:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13907] trunk/harbour
In-Reply-To: <E1Nhvzn-0008SX-6V@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Nhvzn-0008SX-6V@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1002180057g5c45d70fnf9131eaed860552e@mail.gmail.com>

Hi, hbide runtime error on close app

How i get this error: main menu File ? Exit

Error BASE/1004 No exported method: OWIDGET

Called from OWIDGET(0)

Called from IDEFINDINFILES:DESTROY(670)

Called from HBIDE:CREATE(469)

Called from MAIN(110)


----- my Harbour detail:

harbour -build
Harbour 2.1.0dev (Rev. 13907)
Copyright (c) 1999-2010, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.1.0dev (Rev. 13907)
Compiler: GNU C 4.4.1 (32-bit)
Platform: Linux 2.6.31-16-generic i686
PCode version: 0.2
ChangeLog last entry: 2010-02-17 18:13 UTC-0800 Pritpal Bedi (
pritpal@vouchcac.com)
ChangeLog ID: ChangeLog 13907 2010-02-18 02:20:00Z vouchcac

Built on: Feb 18 2010 09:06:25
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)

Bast regard and thanks

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100218/1ba4ff6e/attachment.html
From vszakats at users.sourceforge.net  Thu Feb 18 04:29:54 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 18 04:30:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13908] trunk/harbour
Message-ID: <E1Ni2hm-00029M-TE@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13908
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13908&view=rev
Author:   vszakats
Date:     2010-02-18 09:29:53 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-18 10:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/extrap.c
    + Added ARM CPU dump code.
    + Added placeholder for CE/MIPS/SH CPU dump code.
    + Added iTODO warnings for non-implemented code sections.
    + Tweaked and enabled module listing code for WinCE.
    ; TOFIX: UNICODE conversion is missing from there.
    ; TODO: Enable exception handler for WinCE. How?

  * contrib/hbwin/wapi_wingdi.c
    ! Typo in recent addition.

  * utils/hbmk2/hbmk2.prg
  * config/wce/msvcarm.mk
    * Raised warning level for old msvcarm targets to -W3 (from -W2)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/contrib/hbwin/wapi_wingdi.c
    trunk/harbour/src/vm/extrap.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb 18 04:51:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 18 04:51:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13909] trunk/harbour
Message-ID: <E1Ni32U-0000Qe-7Q@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13909
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13909&view=rev
Author:   vszakats
Date:     2010-02-18 09:51:16 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-18 10:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/extrap.c
    + Added OS/2 CPU dump (x86).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/extrap.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From daniel at base4.com.br  Thu Feb 18 05:28:30 2010
From: daniel at base4.com.br (=?ISO-8859-1?Q?Daniel_Gon=E7alves?=)
Date: Thu Feb 18 05:28:42 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
Message-ID: <72b117651002180228t372696dboe0d9b114c6ecc0b5@mail.gmail.com>

Ok! I agree.
I'm searching for NanForum file format and google didn't give me any
usefull results. I search for hbdoc2 in the harbour sources, but I
can't found. Where is hbdoc2 and where can I found information about
NanForum file format?

Regards!

2010/2/18 Viktor Szak?ts <harbour.01@syenar.hu>:
>> IMHO, it would be simpler to create a simple tool to parse the
>> NanForum format into a database, for example. From the database, we
>> could use php into a site to show and search the documentation, and so
>> on. The same kind of tools could generate many other formats, suitable
>> to other uses. If someday we leave the NF format, I believe that would
>> be better to use more powerful ways to organize the structured data
>> for documentation. Note that I am not underestimating the power of
>> Sphinx, but it just seemed "too texty" to justify the migration.
>
> Exactly.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Daniel Gon?alves
Base4 Sistemas Ltda.
[www.base4.com.br]
[twitter.com/spanazzi]
From harbour.01 at syenar.hu  Thu Feb 18 05:34:53 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 18 05:35:06 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <72b117651002180228t372696dboe0d9b114c6ecc0b5@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<72b117651002180228t372696dboe0d9b114c6ecc0b5@mail.gmail.com>
Message-ID: <7AA4C353-46B1-4F18-B975-F9E395A672C5@syenar.hu>

Hi Daniel,

> Ok! I agree.
> I'm searching for NanForum file format and google didn't give me any
> usefull results. I search for hbdoc2 in the harbour sources, but I

It's in /examples/hbdoc2/

> can't found. Where is hbdoc2 and where can I found information about
> NanForum file format?

I'd suggest to check existing files in /doc/en-EN/*.txt

It's also worth checking /examples/hbdoc2/tmplates.prg, 
which is the actual parser for the format, to get an 
idea about all recognized sections and keywords.

Brgds,
Viktor

From antonioharbour at gmail.com  Thu Feb 18 05:42:06 2010
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Feb 18 05:42:16 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
Message-ID: <9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>

Why don't we use a wiki for the documentation ? :-)

We have been using a wiki for several years and we are very happy with
the results. Our wiki of choice is Dokuwiki as it just uses plain text
files. No database required.

Here you have several examples:

http://wiki.fivetechsoft.com/doku.php?id=fivewin_commands_activex&s=tactivex
http://wiki.fivetechsoft.com/doku.php?id=fivewin_class_tactivex

Our documentation has improved very much since we decided to start using a wiki.

Antonio
From antonioharbour at gmail.com  Thu Feb 18 06:06:30 2010
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Feb 18 06:06:38 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
Message-ID: <9471afc81002180306t50f32adeo571772ee53f4bee4@mail.gmail.com>

Many times when a user ask for a question is as easy as write the
answer into the wiki and then point the user to the wiki entry.

So instead of writting messages on the list that answer the same topic
again and again, the wiki gets more and more completed.

Wiki is safe against vandalism, and whoever wants to participate is
welcome to do it :-)
From bedipritpal at hotmail.com  Thu Feb 18 08:30:37 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 18 08:30:45 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13907] trunk/harbour
In-Reply-To: <fd76479f1002180057g5c45d70fnf9131eaed860552e@mail.gmail.com>
References: <E1Nhvzn-0008SX-6V@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002180057g5c45d70fnf9131eaed860552e@mail.gmail.com>
Message-ID: <1266499837881-4591726.post@n2.nabble.com>



marco bra wrote:
> 
> Hi, hbide runtime error on close app
> 
> How i get this error: main menu File ? Exit
> 
> Error BASE/1004 No exported method: OWIDGET
> 
> Called from OWIDGET(0)
> 
> Called from IDEFINDINFILES:DESTROY(670)
> 
> Called from HBIDE:CREATE(469)
> 
> Called from MAIN(110)
> 

Yep. Fixed. Will be committing in a while.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13907-trunk-harbour-tp4589725p4591726.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Thu Feb 18 09:06:50 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 18 09:06:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13910] trunk/harbour
Message-ID: <E1Ni71m-00025K-A5@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13910
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13910&view=rev
Author:   vouchcac
Date:     2010-02-18 14:06:48 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-18 05:58 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/searchreplacepanel.ui
  + contrib/hbide/resources/searchreplacepanel.uic

  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/idestylesheets.prg
    + Prepared to use panel instead of "Replace/Find" dialog.
    ! Vaiables name uniformity for docking widgets.
    ! Simplification and centralization of creation of "Docking" widgets.
    % Fixed to not crash when "Find in Files" was not called before exit.

    ; Press CTRL+F and see a panel appearing inbetween editor and  statusbar.
      This widget has to be matured a little and will facilitate that 
      search and replace action will never hide any part of the 
      editing area. A final ( uptil now ) reform in user-interface.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/searchreplacepanel.ui
    trunk/harbour/contrib/hbide/resources/searchreplacepanel.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Feb 18 09:07:58 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 18 09:08:06 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13907] trunk/harbour
In-Reply-To: <fd76479f1002180057g5c45d70fnf9131eaed860552e@mail.gmail.com>
References: <E1Nhvzn-0008SX-6V@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002180057g5c45d70fnf9131eaed860552e@mail.gmail.com>
Message-ID: <1266502078478-4591913.post@n2.nabble.com>



marco bra wrote:
> 
> Hi, hbide runtime error on close app
> 

Please check after r13910.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13907-trunk-harbour-tp4589725p4591913.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From antonioharbour at gmail.com  Thu Feb 18 10:08:21 2010
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Feb 18 10:08:30 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <9471afc81002180306t50f32adeo571772ee53f4bee4@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<9471afc81002180306t50f32adeo571772ee53f4bee4@mail.gmail.com>
Message-ID: <9471afc81002180708j39b000c3m3352271c476c0d28@mail.gmail.com>

Functions alphabetically ordered:
http://wiki.fivetechsoft.com/doku.php?id=fivewin_functions_alphabetically_ordered

Classes alphabetically ordered:
http://wiki.fivetechsoft.com/doku.php?id=fivewin_classes_alphabetically_ordered

Commands alphabetically ordered:
http://wiki.fivetechsoft.com/doku.php?id=fivewin_commands_alphabetically_ordered

As you can see DokuWiki is a great tool for collaborative
documentation of a project :-)

best regards,

Antonio
From harbour.01 at syenar.hu  Thu Feb 18 10:27:20 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 18 10:27:33 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<hlhk12$rmh$1@ger.gmane.org>
	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
Message-ID: <3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>

Hi All,

First about wiki:

- Wiki is really a final/presentation format in context of 
  Harbour. Easy to convert _to_, but very difficult to convert 
  _from_. That makes it a target format rather than a source 
  format.
- How to convert wiki page to usable .pdf, .rtf?
- "Wiki" has no standard source format. So we must also choose 
  one specific implementation, which is usually a never ending 
  debate.
- I personally like MediaWiki format f.e., that's what wikipedia 
  uses, too. Yet many ppl are not familiar even with this one, 
  and the package is pretty difficult to host anyway.
- Any wiki solution needs to be hosted somewhere.
  We had a Wiki on sf.net, but it was slow. We have a Wiki in 
  Trac on sf.net since years: nobody uses it. Maybe we could 
  have MediaWiki on sf.net, but results are doubtful. Not to 
  mention our wikipedia page, which no one touches, and looks 
  shameful.
- How to distribute Wiki pages as part of Harbour source 
  package?
- If above point is somehow solved, how to easily view it?

I like Wiki very much, but for Harbour doc source it's 
not good solution.

BTW, I can't question anybody's intent, but every time 
we see a chance for real contribution for documentation, 
I see some someone accidentally popping in with 
a revolutionary idea (last time we got an offer to buy 
one for 30 something thousand dollars). The result was 
so far always confusion and fading interest.

So, I'd like to ask prospective contributors to _ignore 
these_ and concentrate on our path. It has been said 
many times: There will only be a documentation (in any 
format, or medium), if someone actually writes them.

There is no other way.

Brgds,
Viktor

On 2010 Feb 18, at 11:42, Antonio Linares wrote:

> Why don't we use a wiki for the documentation ? :-)
> 
> We have been using a wiki for several years and we are very happy with
> the results. Our wiki of choice is Dokuwiki as it just uses plain text
> files. No database required.
> 
> Here you have several examples:
> 
> http://wiki.fivetechsoft.com/doku.php?id=fivewin_commands_activex&s=tactivex
> http://wiki.fivetechsoft.com/doku.php?id=fivewin_class_tactivex
> 
> Our documentation has improved very much since we decided to start using a wiki.
> 
> Antonio
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Feb 18 10:47:28 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 18 10:47:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13911] trunk/harbour
Message-ID: <E1Ni8bA-0000Ub-DN@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13911
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13911&view=rev
Author:   vszakats
Date:     2010-02-18 15:47:27 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-18 16:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.h
    * Cleaned the way WinCE is detected.
      Now looking for UNDER_CE or _WIN32_WCE constants. (was: _WINCE)

  * utils/hbmk2/hbmk2.prg
    * Cleaned the way constants are initialized for WinCE platform. It's also
      means they are now synced with GNU Make build system. This means:
         UNICODE, _WIN32_WCE (to 0x501), UNDER_CE are always defined.
         Secondary CPU macros are defined as needed.
         Removed all the other WinCE related constants.
    + Defining UNDER_CE and _WIN32_WCE for resource compiler for WinCE targets.

  * config/wce/global.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
    * Cleaned the way constants are initialized for WinCE platform.
      - '-D_WIN32_WCE=0x501 -DUNDER_CE' moved to global, so now these will
        be equally defined for all WinCE compilers.
      - Deleted these from msvcarm targets ('-D_WINCE' was apparently used
        by our own hbsetup.h detection code only):
        '-D_WINCE -DCE_ARCH -DWINCE -D_WINDOWS -D_UNICODE -D_UWIN'
      - Deleted this from from poccarm targets:
        '-D_WINCE'
      - Deleted several secondary CPU constants for msvc* targets:
        '-D_ARM_ -DARMV4 -D_ARMV4I_ -Darmv4i -D__arm__'
        '-D_SHX_'
        '-D_MIPS_ -DMIPS_HAS_FPU'
        These are not necessarily true, and not even necessary. I you know
        otherwise, speak up.
      - Kept primary CPU constants:
        '-D_M_*'
      - Kept secondary CPU constants (needed by some inconsistent Windows header files):
        '-DARM', '-DSHx', '-DMIPS', '-D_X86_'

  * config/win/global.mk
    * Cleaned to use 'HB_BUILD_UNICODE' setting to enable UNICODE for non-x86 targets.

  * config/win/msvc.mk
    ! Fixed to respect 'HB_BUILD_UNICODE' user-setting when enabling UNICODE for
      newer MSVC targets. IOW it's now possible to turn off UNICODE for newer
      MSVC targets.

  ; Above should ensure more consistency for different WinCE compilers.
    Closer behavior and more consistent build logs, with less unnecessary options.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/global.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/global.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/include/hbsetup.h
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb 18 11:00:53 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 18 11:01:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13912] trunk/harbour
Message-ID: <E1Ni8o9-0000l2-Qi@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13912
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13912&view=rev
Author:   vszakats
Date:     2010-02-18 16:00:52 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-18 16:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
    ! Fixes to previous change after testing:
      - '-D_WINCE' is required by pocc headers, so I've readded it there.
      - '-DARM' is already defined by mingwarm, so it's not needed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From antonioharbour at gmail.com  Thu Feb 18 11:17:52 2010
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Feb 18 11:18:04 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
Message-ID: <9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>

Viktor,

DokuWiki uses a plain text (ascii) file for each wiki page. i.e. see
this function:
http://wiki.fivetechsoft.com/doku.php?id=fivewin_function_abortdoc

This is the ascii file stored for it:

====== AbortDoc() ======

Stop a print job

====== Syntax: ======

AbortDoc(<hDC> ) --> nSuccess

====== Parameters: ======

| <hDC> | Device context for the print job. |

====== Returns: ======

| <nSuccess> | Return value is greater than zero if the function is
successful. |

====== Sample: ======

====== Source Code: ======

SOURCE\WINAPI\PRINTDC.C

As you can see, we can easily import to DokuWiki or export from it. In
fact, our initial version was exported from our help files and
imported as docuwiki pages using a simple Harbour app :-)

Anyhow, I am not trying to convince anybody here. I just exposing my
own experience about documentation. Meanwhile there is not an easy and
quick way to update the docs, they will always be outdated. Even using
a wiki, we have to do an effort to keep it updated :-)
From guy.roussin at teledetection.fr  Thu Feb 18 11:31:25 2010
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Feb 18 11:31:35 2010
Subject: [Harbour] Error running hbide with today svn (13910)
Message-ID: <4B7D6B5D.3050806@teledetection.fr>

Hi,

I get this error running hbide on linux debian sid 32 bits :
$ ./hbide
idemisc.prg:857:HBIDE_DBG(): HB_TR_ALWAYS NIL
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Widget    mainWindow           
QMainWindow          QMainWindow():new()
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   mainWindow           
resize(851, 473)
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   mainWindow           
setDocumentMode(true)
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   mainWindow           
setTabShape(1)
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   mainWindow           
setDockNestingEnabled(false)
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   mainWindow           
setDockOptions(1)
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       drawingArea          
QWidget(o[ "mainWindow" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   mainWindow           
setCentralWidget(o[ "drawingArea" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       menuBar              
QMenuBar(o[ "mainWindow" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   menuBar              
setGeometry(QRect():new(0, 0, 851, 24))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   mainWindow           
setMenuBar(o[ "menuBar" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       statusBar            
QStatusBar(o[ "mainWindow" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   mainWindow           
setStatusBar(o[ "statusBar" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   mainWindow           
setWindowTitle(q__tr("mainWindow", "MainWindow", 0, "UTF8"))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS 
------------------------------------------------------------
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    drawingArea          
{|o| QWidget():new(o[ "mainWindow" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    menuBar              
{|o| QMenuBar():new(o[ "mainWindow" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    statusBar            
{|o| QStatusBar():new(o[ "mainWindow" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS 
------------------------------------------------------------
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS mainWindow           {|o,v| 
o[v]:resize(851, 473)}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS mainWindow           {|o,v| 
o[v]:setDocumentMode(.T.)}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS mainWindow           {|o,v| 
o[v]:setTabShape(1)}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS mainWindow           {|o,v| 
o[v]:setDockNestingEnabled(.F.)}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS mainWindow           {|o,v| 
o[v]:setDockOptions(1)}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS mainWindow           {|o,v| 
o[v]:setCentralWidget(o[ "drawingArea" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS menuBar              {|o,v| 
o[v]:setGeometry(QRect():new(0, 0, 851, 24))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS mainWindow           {|o,v| 
o[v]:setMenuBar(o[ "menuBar" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS mainWindow           {|o,v| 
o[v]:setStatusBar(o[ "statusBar" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS mainWindow           {|o,v| 
o[v]:setWindowTitle(q__tr("mainWindow", "MainWindow", 0, "UTF8"))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Widget    Form                 
QWidget              QWidget():new()
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   Form                 
resize(572, 38)
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   Form                 
setStyleSheet(QString::fromUtf8("border-color: 
qlineargradient(spread:pad, x1:0, y1:0, x2:1, y2:0, stop:0 rgba(0, 0, 0, 
255), stop:1 rgba(255, 255, 255, 255));"))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       horizontalLayout     
QHBoxLayout(o[ "Form" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       buttonClose          
QToolButton(o[ "Form" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   horizontalLayout     
addWidget(o[ "buttonClose" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       label                
QLabel(o[ "Form" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   label                
setMaximumSize(QSize():new(25, 16777215))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   horizontalLayout     
addWidget(o[ "label" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       comboBox             
QComboBox(o[ "Form" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   comboBox             
setMinimumSize(QSize():new(200, 0))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   comboBox             
setMaximumSize(QSize():new(100, 16777215))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   horizontalLayout     
addWidget(o[ "comboBox" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       toolButton_2         
QToolButton(o[ "Form" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   horizontalLayout     
addWidget(o[ "toolButton_2" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       toolButton_3         
QToolButton(o[ "Form" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   horizontalLayout     
addWidget(o[ "toolButton_3" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       horizontalSpacer     
QSpacerItem(40, 20, 7, 1)
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   horizontalLayout     
addItem(o[ "horizontalSpacer" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS new       comboBox_2           
QComboBox(o[ "Form" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   comboBox_2           
setMinimumSize(QSize():new(200, 0))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   comboBox_2           
setMaximumSize(QSize():new(200, 16777215))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   horizontalLayout     
addWidget(o[ "comboBox_2" ])
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   Form                 
setWindowTitle(q__tr("Form", "Form", 0, "UTF8"))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   buttonClose          
setText(q__tr("Form", "...", 0, "UTF8"))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   label                
setText(q__tr("Form", "Find:", 0, "UTF8"))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   toolButton_2         
setText(q__tr("Form", "...", 0, "UTF8"))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Command   toolButton_3         
setText(q__tr("Form", "...", 0, "UTF8"))
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS 
------------------------------------------------------------
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    horizontalLayout     
{|o| QHBoxLayout():new(o[ "Form" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    buttonClose          
{|o| QToolButton():new(o[ "Form" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    label                
{|o| QLabel():new(o[ "Form" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    comboBox             
{|o| QComboBox():new(o[ "Form" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    toolButton_2         
{|o| QToolButton():new(o[ "Form" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    toolButton_3         
{|o| QToolButton():new(o[ "Form" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    horizontalSpacer     
{|o| QSpacerItem():new(40, 20, 7, 1)}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Constr    comboBox_2           
{|o| QComboBox():new(o[ "Form" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS 
------------------------------------------------------------
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Form                 {|o,v| 
o[v]:resize(572, 38)}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS horizontalLayout     {|o,v| 
o[v]:addWidget(o[ "buttonClose" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS label                {|o,v| 
o[v]:setMaximumSize(QSize():new(25, 16777215))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS horizontalLayout     {|o,v| 
o[v]:addWidget(o[ "label" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS comboBox             {|o,v| 
o[v]:setMinimumSize(QSize():new(200, 0))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS comboBox             {|o,v| 
o[v]:setMaximumSize(QSize():new(100, 16777215))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS horizontalLayout     {|o,v| 
o[v]:addWidget(o[ "comboBox" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS horizontalLayout     {|o,v| 
o[v]:addWidget(o[ "toolButton_2" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS horizontalLayout     {|o,v| 
o[v]:addWidget(o[ "toolButton_3" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS horizontalLayout     {|o,v| 
o[v]:addItem(o[ "horizontalSpacer" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS comboBox_2           {|o,v| 
o[v]:setMinimumSize(QSize():new(200, 0))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS comboBox_2           {|o,v| 
o[v]:setMaximumSize(QSize():new(200, 16777215))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS horizontalLayout     {|o,v| 
o[v]:addWidget(o[ "comboBox_2" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Form                 {|o,v| 
o[v]:setWindowTitle(q__tr("Form", "Form", 0, "UTF8"))}
xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS 
................................... EXIT PROCEDURE hbxbp_End()    begin
xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS 
................................... EXIT PROCEDURE hbxbp_End()    end

Unrecoverable error 6005: Exception SIGSEGV at address 0x29
Called from HBIDE:_OSEARCHREPLACE(0) in ../../../tobject.prg
Called from IDEDOCKS:BUILDSEARCHREPLACEWIDGET(333) in idedocks.prg
Called from IDEDOCKS:BUILDDIALOG(300) in idedocks.prg
Called from HBIDE:CREATE(331) in hbide.prg
Called from MAIN(110) in hbide.prg

Thank you

GUy
From maurilio.longo at libero.it  Thu Feb 18 11:51:31 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 18 11:51:47 2010
Subject: [Harbour] hb_InetShutdown()
In-Reply-To: <20100216154225.GA26367@linux-4bod.home.aster.pl>
References: <4B7A8324.3050807@libero.it>	<20100216133118.GA10188@linux-4bod.home.aster.pl>	<4B7AA643.1070606@libero.it>
	<20100216154225.GA26367@linux-4bod.home.aster.pl>
Message-ID: <4B7D7013.3020002@libero.it>

Przemyslaw,

> Why do you need to receive pending data in such situation?
> 
>> hb_InetClose() does an automatic shutdown, I saw it, but I think that a
>> following hb_InetRecv() on a closed socket will give me an error.
> 
I think rfc959 requires this kind of behaviour (or at least I've inferred it
from reading it :)); anyway I've put a hb_InetClose() and everything is fine.

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Thu Feb 18 11:55:19 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 18 11:55:33 2010
Subject: [Harbour] tthreadx.prg and contrib/tthreadx.prg
In-Reply-To: <20100215105134.GA4166@linux-4bod.home.aster.pl>
References: <4B79163C.6020309@libero.it>	<875F1F6E-DEFC-4EDC-A368-CC8060CA5666@syenar.hu>
	<20100215105134.GA4166@linux-4bod.home.aster.pl>
Message-ID: <4B7D70F7.9060307@libero.it>

Przemyslaw,

Przemys?aw Czerpak wrote:
> On Mon, 15 Feb 2010, Szak?ts Viktor wrote:
> 
> BTW Maurilio you were asking about some compatibility
> problem with TTHREAD class. If you know xbase++ then
> please update this code. Not everything can be emulated
> i.e. Harbour (just like Clipper) does not use different
> messages to access instance variables and to execute
> methods so you cannot implement atEnd() method and have
> atEnd() variable but there are many other things which
> should be added to this class yet.

Ahi, this could be a problem porting code to harbour.

Right now I think we should, at least, see if a class implements those methods
 and call them.

I'll fix the :active issue in the coming days.

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From bedipritpal at hotmail.com  Thu Feb 18 12:21:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 18 12:21:21 2010
Subject: [Harbour] Re: Error running hbide with today svn (13910)
In-Reply-To: <4B7D6B5D.3050806@teledetection.fr>
References: <4B7D6B5D.3050806@teledetection.fr>
Message-ID: <1266513674195-4593023.post@n2.nabble.com>



Guy Roussin wrote:
> 
> Hi,
> 
> I get this error running hbide on linux debian sid 32 bits :
> $ ./hbide
> 
> Unrecoverable error 6005: Exception SIGSEGV at address 0x29
> Called from HBIDE:_OSEARCHREPLACE(0) in ../../../tobject.prg
> Called from IDEDOCKS:BUILDSEARCHREPLACEWIDGET(333) in idedocks.prg
> Called from IDEDOCKS:BUILDDIALOG(300) in idedocks.prg
> Called from HBIDE:CREATE(331) in hbide.prg
> Called from MAIN(110) in hbide.prg
> 

1. Ensure that searchreplace.uic is present in hbide/resources.
2. Ensureyou are using r13910 or above
3. Rebuild hbIDE.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Error-running-hbide-with-today-svn-13910-tp4592775p4593023.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Feb 18 12:28:46 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 18 12:28:57 2010
Subject: [Harbour] Re: Error running hbide with today svn (13910)
In-Reply-To: <1266513674195-4593023.post@n2.nabble.com>
References: <4B7D6B5D.3050806@teledetection.fr>
	<1266513674195-4593023.post@n2.nabble.com>
Message-ID: <2378B3B7-EDBA-4142-835F-671DCD91B6C9@syenar.hu>

Hi All,

Why can a missing file causing RTE or GPF in HBQT/HBIDE?

This is clear bug and should be fixed. A missing 
file should be handled gracefully and an error 
displayed or functionality made unavailable (picture 
not displayed), etc.

Brgds,
Viktor

On 2010 Feb 18, at 18:21, Pritpal Bedi wrote:

> 
> 
> Guy Roussin wrote:
>> 
>> Hi,
>> 
>> I get this error running hbide on linux debian sid 32 bits :
>> $ ./hbide
>> 
>> Unrecoverable error 6005: Exception SIGSEGV at address 0x29
>> Called from HBIDE:_OSEARCHREPLACE(0) in ../../../tobject.prg
>> Called from IDEDOCKS:BUILDSEARCHREPLACEWIDGET(333) in idedocks.prg
>> Called from IDEDOCKS:BUILDDIALOG(300) in idedocks.prg
>> Called from HBIDE:CREATE(331) in hbide.prg
>> Called from MAIN(110) in hbide.prg
>> 
> 
> 1. Ensure that searchreplace.uic is present in hbide/resources.
> 2. Ensureyou are using r13910 or above
> 3. Rebuild hbIDE.
> 
> 
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context: http://n2.nabble.com/Error-running-hbide-with-today-svn-13910-tp4592775p4593023.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Thu Feb 18 12:32:50 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 18 12:32:57 2010
Subject: [Harbour] Re: Error running hbide with today svn (13910)
In-Reply-To: <2378B3B7-EDBA-4142-835F-671DCD91B6C9@syenar.hu>
References: <4B7D6B5D.3050806@teledetection.fr>
	<1266513674195-4593023.post@n2.nabble.com>
	<2378B3B7-EDBA-4142-835F-671DCD91B6C9@syenar.hu>
Message-ID: <1266514370386-4593092.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Why can a missing file causing RTE or GPF in HBQT/HBIDE?
> 
> This is clear bug and should be fixed. A missing 
> file should be handled gracefully and an error 
> displayed or functionality made unavailable (picture 
> not displayed), etc.
> 

Yep. And will update the code soon.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Error-running-hbide-with-today-svn-13910-tp4592775p4593092.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mauriliolongo at users.sourceforge.net  Thu Feb 18 12:48:13 2010
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Thu Feb 18 12:48:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13913] trunk/harbour
Message-ID: <E1NiAU1-0001Zi-6q@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13913
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13913&view=rev
Author:   mauriliolongo
Date:     2010-02-18 17:47:54 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-18 18:45 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * src/vm/cmdarg.c
      ! fixed OS/2 was displaying the path of the first .exe with name equal
        to current process calling hb_DirBase() present in PATH, in my case
        it was founding d:\tcpip\bin\ftpd.exe instead of current ftpd.exe
        because c:\tcpip\bin was present in PATH before current dir.
   * src/rtl/hbsocket.c
      * OS/2 when building against latest TCP/IP stack has
        HB_HAS_INET_ATON, HB_HAS_INET_PTON and HB_HAS_INET_NTOP

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/src/vm/cmdarg.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Thu Feb 18 12:49:33 2010
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Feb 18 12:49:41 2010
Subject: [Harbour] Re: Error running hbide with today svn (13910)
In-Reply-To: <1266513674195-4593023.post@n2.nabble.com>
References: <4B7D6B5D.3050806@teledetection.fr>
	<1266513674195-4593023.post@n2.nabble.com>
Message-ID: <4B7D7DAD.7090808@teledetection.fr>


>> I get this error running hbide on linux debian sid 32 bits :
>> $ ./hbide
>>
>> Unrecoverable error 6005: Exception SIGSEGV at address 0x29
>> Called from HBIDE:_OSEARCHREPLACE(0) in ../../../tobject.prg
>> Called from IDEDOCKS:BUILDSEARCHREPLACEWIDGET(333) in idedocks.prg
>> Called from IDEDOCKS:BUILDDIALOG(300) in idedocks.prg
>> Called from HBIDE:CREATE(331) in hbide.prg
>> Called from MAIN(110) in hbide.prg
>>
>>      
> 1. Ensure that searchreplace.uic is present in hbide/resources.
>    
yes it is
> 2. Ensureyou are using r13910 or above
>    
yes r13910 (see subject) and now 13912

> 3. Rebuild hbIDE.
>    
cd /usr/local/src/harbour
svn update                                              ' --> now rev 13912
make clean
make
sudo make install
cd contrib/hbide
./hbmk2 hbide.hbp
./hbide
{same crash}
From maurilio.longo at libero.it  Thu Feb 18 12:55:22 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 18 12:55:33 2010
Subject: [Harbour] thread.c TOFIX: comment
Message-ID: <4B7D7F0A.6030508@libero.it>

Przemyslaw,

inside vm/thread.c 817..818 there is a comment of yours about DosWaitThread(),
I don't know if this text about it can help you decide what to do.

--------8<--------------
DosWaitThread is used to wait for termination of threads within a process. It
is usually used so that thread resources (for example, the stack) can be
recovered when a thread ends. DosWaitThread waits on any thread within the
current process, or on a specific thread within the process, based on the ptid
parameter's contents. option allows the caller the option of waiting until a
thread ends, or getting immediate return and status. If no thread has ended
and the DCWW_NOWAIT option is specified, the ptid field is preserved.

If DosWaitThread is called with the input ptid set to the current thread (the
thread attempts to wait on its own termination), the ERROR_INVALID_THREADID
error code is returned. ERROR_INVALID_THREADID is also returned if a caller
attempts to wait on the termination of the thread with a ptid of 1.
------->8--------------

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Thu Feb 18 12:58:51 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 18 12:58:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13914] trunk/harbour
Message-ID: <E1NiAeJ-0008FW-De@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13914
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13914&view=rev
Author:   vszakats
Date:     2010-02-18 17:58:49 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-18 18:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/cmdarg.c
    ! Fixed formatting.
    ! Fixed to enclose newly added code in {} block, otherwise
      it breaks with C compiler.
    - Deleted OS/2 specific guard in code section which is not
      anymore active to OS/2.

  * examples/gtwvw/hbgtwvw.h
    ! Fixed to not override manually set WINVER.
    ! Fixed to not set _WIN32_WINNT.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/gtwvw/hbgtwvw.h
    trunk/harbour/src/vm/cmdarg.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Thu Feb 18 12:59:33 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 18 12:59:46 2010
Subject: [Harbour] hb_InetAddress()
Message-ID: <4B7D8005.2080008@libero.it>

Hi,

from doc/en-en/hbinet.txt I read that

Returns a string representing the remote server address in quad dot notation,
e.g. "192.168.1.1", or the local server address if the socket is server side.

Testing hb_InetAddress() on a listening socket I get back 0.0.0.0 while
hb_InetPort() works as expected.

hb_InetAddress() works when called on a connected socket where it returns the
caller IP address.

Is this the correct behavior?

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Thu Feb 18 13:05:29 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 18 13:05:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13914] trunk/harbour
In-Reply-To: <E1NiAeJ-0008FW-De@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NiAeJ-0008FW-De@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <4B7D8169.5020608@libero.it>

Viktor,

>     ! Fixed to enclose newly added code in {} block, otherwise
>       it breaks with C compiler.

Sorry, I didn't know

>     - Deleted OS/2 specific guard in code section which is not
>       anymore active to OS/2.
> 
You're too fast! I was going to commit when your message arrived. :)

Thanks a lot.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From carlosbacco at gmail.com  Thu Feb 18 13:47:46 2010
From: carlosbacco at gmail.com (Bacco)
Date: Thu Feb 18 13:48:17 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com> 
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
Message-ID: <eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>

I think that what docuwiki does, we already have. Most of us can write
some prg to convert NF to docuwiki. Its not so hard to make a parser
to exhibit the NF as wiki on the web instead of exchange text to
another text, OR we shoud move to more complex structures to justify
the change.

As I have proposed to write new HBQt demos, I had an idea today: Maybe
the first of them could be a basic visual NanForum command help
editor, that scans the correct Harbour folder, hides the NF format for
the contributors, by presenting the respective fields as PlainText
boxes, and agregate all .txt with $doc$ / $end$ declarations
accessible within one interface, so people can stop thinking about the
help format and start to write documentation in fact. By doing the
properly folder scan, I can extend it to multilanguage also.

Opinions are welcome.

Regards

On Thu, Feb 18, 2010 at 14:17, Antonio Linares <antonioharbour@gmail.com> wrote:
> Viktor,
>
> DokuWiki uses a plain text (ascii) file for each wiki page. i.e. see
> this function:
> http://wiki.fivetechsoft.com/doku.php?id=fivewin_function_abortdoc
>
> This is the ascii file stored for it:
>
> ====== AbortDoc() ======
>
> Stop a print job
>
> ====== Syntax: ======
>
> AbortDoc(<hDC> ) --> nSuccess
>
> ====== Parameters: ======
>
> | <hDC> | Device context for the print job. |
>
> ====== Returns: ======
>
> | <nSuccess> | Return value is greater than zero if the function is
> successful. |
>
> ====== Sample: ======
>
> ====== Source Code: ======
>
> SOURCE\WINAPI\PRINTDC.C
>
> As you can see, we can easily import to DokuWiki or export from it. In
> fact, our initial version was exported from our help files and
> imported as docuwiki pages using a simple Harbour app :-)
>
> Anyhow, I am not trying to convince anybody here. I just exposing my
> own experience about documentation. Meanwhile there is not an easy and
> quick way to update the docs, they will always be outdated. Even using
> a wiki, we have to do an effort to keep it updated :-)
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vszakats at users.sourceforge.net  Thu Feb 18 13:59:05 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 18 13:59:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13915] trunk/harbour
Message-ID: <E1NiBab-00013w-O8@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13915
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13915&view=rev
Author:   vszakats
Date:     2010-02-18 18:59:04 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-18 19:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/jpeg/Makefile
    ! Added jpeg option to make it build with poccarm.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/jpeg/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Feb 18 14:08:44 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 18 14:08:52 2010
Subject: [Harbour] Re: Error running hbide with today svn (13910)
In-Reply-To: <4B7D7DAD.7090808@teledetection.fr>
References: <4B7D6B5D.3050806@teledetection.fr>
	<1266513674195-4593023.post@n2.nabble.com>
	<4B7D7DAD.7090808@teledetection.fr>
Message-ID: <1266520124966-4593711.post@n2.nabble.com>



Guy Roussin wrote:
> 
> 
> cd /usr/local/src/harbour
> svn update                                              ' --> now rev
> 13912
> make clean
> make
> sudo make install
> cd contrib/hbide
> ./hbmk2 hbide.hbp
> ./hbide
> {same crash}
> 

I can reproduce this error on my desktop.
On laptop everything was ok. So I suspect I
did some mistake while committing.
Will commit in a while.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Error-running-hbide-with-today-svn-13910-tp4592775p4593711.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Thu Feb 18 14:20:21 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 18 14:20:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13916] trunk/harbour
Message-ID: <E1NiBvB-0004ey-Lp@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13916
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13916&view=rev
Author:   vouchcac
Date:     2010-02-18 19:20:20 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------

2010-02-18 11:22 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    ! Missed from prev commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Feb 18 14:28:02 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 18 14:28:10 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
References: <311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
Message-ID: <1266521282611-4593815.post@n2.nabble.com>



Bacco wrote:
> 
> As I have proposed to write new HBQt demos, I had an idea today: Maybe
> the first of them could be a basic visual NanForum command help
> editor, that scans the correct Harbour folder, hides the NF format for
> the contributors, by presenting the respective fields as PlainText
> boxes, and agregate all .txt with $doc$ / $end$ declarations
> accessible within one interface, so people can stop thinking about the
> help format and start to write documentation in fact. By doing the
> properly folder scan, I can extend it to multilanguage also.
> 

This will be cool. 
Also the tool will be portable and hence evrybody could submit
help files, one per function, or so, created with this tool.
Someonw will have to organize them in SVN.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/About-Harbour-Documentation-tp4587608p4593815.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From dbtopas at dbtopas.lt  Thu Feb 18 14:29:23 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Feb 18 14:29:42 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <4B7D8005.2080008@libero.it>
References: <4B7D8005.2080008@libero.it>
Message-ID: <4B7D9513.8030202@dbtopas.lt>

Hi,

Maurilio Longo wrote:
> Testing hb_InetAddress() on a listening socket I get back 0.0.0.0 while
> hb_InetPort() works as expected.
> 
> hb_InetAddress() works when called on a connected socket where it returns the
> caller IP address.
> 
> Is this the correct behavior?

Perhaps, yes. I guess you have not specified the listen address, so, 
socket is listening on all available interfaces (eg. 127.0.0.1, 
192.168.1.1, and so on on multihomed machine) and hb_InetAddress() 
returns 0.0.0.0 (=INADDR_ANY).


Regards,
Mindaugas


From harbour.01 at syenar.hu  Thu Feb 18 14:31:54 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 18 14:32:08 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
Message-ID: <4D8BA2A1-9244-449D-B527-8AD6CE39A375@syenar.hu>

Hi Bacco,

> I think that what docuwiki does, we already have. Most of us can write
> some prg to convert NF to docuwiki. Its not so hard to make a parser
> to exhibit the NF as wiki on the web instead of exchange text to
> another text, OR we shoud move to more complex structures to justify
> the change.
> 
> As I have proposed to write new HBQt demos, I had an idea today: Maybe
> the first of them could be a basic visual NanForum command help
> editor, that scans the correct Harbour folder, hides the NF format for
> the contributors, by presenting the respective fields as PlainText
> boxes, and agregate all .txt with $doc$ / $end$ declarations
> accessible within one interface, so people can stop thinking about the
> help format and start to write documentation in fact. By doing the
> properly folder scan, I can extend it to multilanguage also.
> 
> Opinions are welcome.

Good idea.

With the only addition, that we should not require 
HBQT to edit any of our doc files, but if we have such 
editor/viewer tool as extra option, it's all the 
better.

Brgds,
Viktor


From carlosbacco at gmail.com  Thu Feb 18 14:57:40 2010
From: carlosbacco at gmail.com (Bacco)
Date: Thu Feb 18 14:58:08 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <4D8BA2A1-9244-449D-B527-8AD6CE39A375@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com> 
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com> 
	<4D8BA2A1-9244-449D-B527-8AD6CE39A375@syenar.hu>
Message-ID: <eed8bee51002181157g2b33ed84l7b74d361bbf0e22b@mail.gmail.com>

The HBQt tool will be only a front-end to already existing NF TXTs and
will create new ones based on the template, so contributors can choose
to still edit the TXTs directly, or use this visual tool as they want.
I proposed to do as a demo of HBQt, so I can be realist and finish the
job, as I know that will focus on the inner workings, instead of
worrying about the interface.
In fact, I am thinking about the consequences and subproducts of this
tool, not only the tool itself.

So, lets go then!

Regards,
Bacco

On Thu, Feb 18, 2010 at 17:31, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> Hi Bacco,
>
>
> Good idea.
>
> With the only addition, that we should not require
> HBQT to edit any of our doc files, but if we have such
> editor/viewer tool as extra option, it's all the
> better.
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From druzus at acn.waw.pl  Thu Feb 18 16:59:52 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 18 17:00:01 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <4B7D9513.8030202@dbtopas.lt>
References: <4B7D8005.2080008@libero.it>
 <4B7D9513.8030202@dbtopas.lt>
Message-ID: <20100218215952.GA1708@linux-4bod.home.aster.pl>

On Thu, 18 Feb 2010, Mindaugas Kavaliauskas wrote:

Hi,

> >Testing hb_InetAddress() on a listening socket I get back 0.0.0.0 while
> >hb_InetPort() works as expected.
> >hb_InetAddress() works when called on a connected socket where it returns the
> >caller IP address.
> >Is this the correct behavior?
> Perhaps, yes. I guess you have not specified the listen address, so,
> socket is listening on all available interfaces (eg. 127.0.0.1,
> 192.168.1.1, and so on on multihomed machine) and hb_InetAddress()
> returns 0.0.0.0 (=INADDR_ANY).

Exactly.
Local server address in this context is interface address.
0.0.0.0 means that socket is listening on all interfaces.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Feb 18 17:22:25 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 18 17:22:33 2010
Subject: [Harbour] thread.c TOFIX: comment
In-Reply-To: <4B7D7F0A.6030508@libero.it>
References: <4B7D7F0A.6030508@libero.it>
Message-ID: <20100218222225.GB1708@linux-4bod.home.aster.pl>

On Thu, 18 Feb 2010, Maurilio Longo wrote:

Hi Maurilio,

> inside vm/thread.c 817..818 there is a comment of yours about DosWaitThread(),
> I don't know if this text about it can help you decide what to do.
> --------8<--------------
> DosWaitThread is used to wait for termination of threads within a process. It
> is usually used so that thread resources (for example, the stack) can be
> recovered when a thread ends. DosWaitThread waits on any thread within the
> current process, or on a specific thread within the process, based on the ptid
> parameter's contents. option allows the caller the option of waiting until a
> thread ends, or getting immediate return and status. If no thread has ended
> and the DCWW_NOWAIT option is specified, the ptid field is preserved.
> 
> If DosWaitThread is called with the input ptid set to the current thread (the
> thread attempts to wait on its own termination), the ERROR_INVALID_THREADID
> error code is returned. ERROR_INVALID_THREADID is also returned if a caller
> attempts to wait on the termination of the thread with a ptid of 1.
> ------->8--------------

Thank you for the information.
I know the syntax but AFAIR when we were talking about it last time
you said that this function has build in race condition and when thread
terminates before other thread calls DosWaitThread() then this function
fails with error code set to ERROR_INVALID_THREADID. It's the reason
why I added '|| rc == ERROR_INVALID_THREADID' in the line below my TOFIX
note:

   return rc == NO_ERROR || rc == ERROR_INVALID_THREADID;

I do not have OS2 so I haven't verified it but because the event
interface also has build in race condition when used as conditional
variables then it's highly possible I'm not even surprised.

Current code does not look nice but it's working so I probably
I should replace TOFIX with TOCLEAN or even NOTE to not confuse
users. Of course if you know cleaner solution then of course we
should implement it.

BTW have you noticed that some OS2 ports of open source projects
like MySQL have exactly the same bug as early Harbour OS2 MT code?
This bug is in PTHREAD emulation code.
Looks that it's common that programmers working with other systems
do not expect API which has build race conditions and wrongly
understand the OS2 documentation.

best regards,
Przemek
From vszakats at users.sourceforge.net  Thu Feb 18 17:33:47 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 18 17:33:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13917] trunk/harbour
Message-ID: <E1NiEwN-00053L-0m@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13917
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13917&view=rev
Author:   vszakats
Date:     2010-02-18 22:33:45 +0000 (Thu, 18 Feb 2010)

Log Message:
-----------
2010-02-18 23:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/extrap.c
    + Added MIPS32, MIPS64, IA64, SH CPU dump code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/extrap.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From antonioharbour at gmail.com  Thu Feb 18 20:08:46 2010
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Feb 18 20:08:55 2010
Subject: [Harbour] error C2485 compiling hvm.c with vce 2007
Message-ID: <9471afc81002181708le367aaqedffca1a2c21da17@mail.gmail.com>

We are trying to build Harbour using Microsoft vce 2007 (the one
provided with Microsoft Windows CE 6.x).

Thanks to recent Viktor changes we are able to start building Harbour,
but it errors on hvm.c. The errors are quite "curious":

c:\harb_svn\harbour\src\vm\hvm.c(453) : error C2485: '$I' : unrecognized extende
d attribute
c:\harb_svn\harbour\src\vm\hvm.c(455) : error C2485: '$I' : unrecognized extende
d attribute
c:\harb_svn\harbour\src\vm\hvm.c(455) : error C2485: '$I' : unrecognized extende
d attribute
c:\harb_svn\harbour\src\vm\hvm.c(455) : error C2485: '$I' : unrecognized extende
d attribute
c:\harb_svn\harbour\src\vm\hvm.c(463) : error C2485: '$I' : unrecognized extende
d attribute
c:\harb_svn\harbour\src\vm\hvm.c(465) : error C2485: '$I' : unrecognized extende
d attribute
c:\harb_svn\harbour\src\vm\hvm.c(466) : error C2485: '$I' : unrecognized extende
d attribute
c:\harb_svn\harbour\src\vm\hvm.c(483) : error C2485: '$I' : unrecognized extende
d attribute
... and more like the above ...

We have preprocessed hvm.c using cl.exe to see what code there is in
those lines, and all of them use hb_stack_ptr, i.e.: if( ( ( ( void *
) ( hb_stack_ptr ) ) ) )

Searching on google for error C2485 meaning, we found this interesting comment:
http://www.codeproject.com/Messages/2651400/Re-i-got-a-compiling-error-like-error-C2485-__rest.aspx
"when i delete the line : #define restrict __restrict all is ok."

so it seems as the error is caused by the compiler itself when
declaring a define that uses the same defined keyword.
Reviewing hbstack.h we have noticed that there is hb_stack_ptr and
also _hb_stack_ptr_ We are doing tests trying to find the offending
code that causes the C2485, though no luck yet.

We comment it here just in case someone get interested about this :-)

regards

Antonio
From vouchcac at users.sourceforge.net  Thu Feb 18 21:11:27 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 18 21:11:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13918] trunk/harbour
Message-ID: <E1NiIL1-0002GK-SO@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13918
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13918&view=rev
Author:   vouchcac
Date:     2010-02-19 02:11:26 +0000 (Fri, 19 Feb 2010)

Log Message:
-----------
2010-02-18 18:05 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/closetab.png
  + contrib/hbide/resources/down.png
  + contrib/hbide/resources/minus.png
  + contrib/hbide/resources/previous.png
  + contrib/hbide/resources/up.png
  * contrib/hbide/resources/searchreplacepanel.ui
  * contrib/hbide/resources/searchreplacepanel.uic

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idefindreplace.prg
    + Implemented ( partial ) extended search/replace panel like Qt itself.
      This can be activated via <Edit><Find / Replace Ex> or Ctrl+Sh+F.
      The panel is anchored beneth editor area and above status-bar, 
      or above any other dock-widget at the bottom area is open. 
      It implements incremental search with visual color differentiation.
      Try typing in some text to find. Still other buttons are inactive.
      It may take a day to synchronize everything.

      This implementation adds another value to "Find/Replace".
      Ctrl+F implementation is there as is. You can take advantage of both.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/resources/searchreplacepanel.ui
    trunk/harbour/contrib/hbide/resources/searchreplacepanel.uic

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/closetab.png
    trunk/harbour/contrib/hbide/resources/down.png
    trunk/harbour/contrib/hbide/resources/minus.png
    trunk/harbour/contrib/hbide/resources/previous.png
    trunk/harbour/contrib/hbide/resources/up.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From antonioharbour at gmail.com  Thu Feb 18 21:41:53 2010
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Feb 18 21:42:02 2010
Subject: [Harbour] Re: error C2485 compiling hvm.c with vce 2007
In-Reply-To: <9471afc81002181708le367aaqedffca1a2c21da17@mail.gmail.com>
References: <9471afc81002181708le367aaqedffca1a2c21da17@mail.gmail.com>
Message-ID: <9471afc81002181841k4dab0c70ieb50f24928ab9a9a@mail.gmail.com>

More on the C2485 error compiling with Microsoft Windows CE 6.x SDK cl.exe:

We have found where the error is coming from. It was not a define:

hb_stack_ptr is defined as:
HB_TLS_ATTR PHB_STACK hb_stack_ptr = NULL;

HB_TLS_ATTR is translated into __declspec( thread ) and that may be
causing a mangled name for the variable name that makes the compiler
itself to error.

If we remove (just for a test) HB_TLS_ATTR from estack.c (line 93) and
from hbstack.h (line 200) then those errors go away. Obviously that is
not a solution but take us closer to find it.

regards,

Antonio
From antonioharbour at gmail.com  Thu Feb 18 22:21:36 2010
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Feb 18 22:21:44 2010
Subject: [Harbour] Re: error C2485 compiling hvm.c with vce 2007
In-Reply-To: <9471afc81002181841k4dab0c70ieb50f24928ab9a9a@mail.gmail.com>
References: <9471afc81002181708le367aaqedffca1a2c21da17@mail.gmail.com>
	<9471afc81002181841k4dab0c70ieb50f24928ab9a9a@mail.gmail.com>
Message-ID: <9471afc81002181921v342e9535xec55cade5e8c5f8d@mail.gmail.com>

ok, this solved it:

set HB_USER_CFLAGS=-DHB_NO_TLS

thanks :-)

Antonio
From vouchcac at users.sourceforge.net  Thu Feb 18 22:54:04 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 18 22:54:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13919] trunk/harbour
Message-ID: <E1NiJwK-0002V1-OC@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13919
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13919&view=rev
Author:   vouchcac
Date:     2010-02-19 03:54:00 +0000 (Fri, 19 Feb 2010)

Log Message:
-----------
2010-02-18 19:52 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/next.png
    ! Missed from prev commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/next.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Fri Feb 19 04:28:52 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb 19 04:29:44 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <20100218215952.GA1708@linux-4bod.home.aster.pl>
References: <4B7D8005.2080008@libero.it> <4B7D9513.8030202@dbtopas.lt>
	<20100218215952.GA1708@linux-4bod.home.aster.pl>
Message-ID: <4B7E59D4.4000505@libero.it>

Thanks guys,

and, there's no way to list interface addresses in a portable way, is there?

Right now I'm using a  hb_InetGetHosts( NetName() ), but I'm not sure it's the
best way to go.

Maurilio.


Przemys?aw Czerpak wrote:
> On Thu, 18 Feb 2010, Mindaugas Kavaliauskas wrote:
> 
> Hi,
> 
>>> Testing hb_InetAddress() on a listening socket I get back 0.0.0.0 while
>>> hb_InetPort() works as expected.
>>> hb_InetAddress() works when called on a connected socket where it returns the
>>> caller IP address.
>>> Is this the correct behavior?
>> Perhaps, yes. I guess you have not specified the listen address, so,
>> socket is listening on all available interfaces (eg. 127.0.0.1,
>> 192.168.1.1, and so on on multihomed machine) and hb_InetAddress()
>> returns 0.0.0.0 (=INADDR_ANY).
> 
> Exactly.
> Local server address in this context is interface address.
> 0.0.0.0 means that socket is listening on all interfaces.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From gc at falconpl.org  Fri Feb 19 04:39:57 2010
From: gc at falconpl.org (Giancarlo Niccolai)
Date: Fri Feb 19 04:40:14 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <4B7E59D4.4000505@libero.it>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>
	<4B7E59D4.4000505@libero.it>
Message-ID: <4B7E5C6D.1050006@falconpl.org>

Maurilio Longo wrote:
> Thanks guys,
>
> and, there's no way to list interface addresses in a portable way, is there?
>
> Right now I'm using a  hb_InetGetHosts( NetName() ), but I'm not sure it's the
> best way to go.
>
> Maurilio.
>   
AFAIK, it's the nearest thing to an official and portable procedure that 
has been invented for that purpose. I was a bit puzzled too when I was 
searching for the official way to get your interface addresses, and I 
found that this was the way...

Giancarlo.

From druzus at acn.waw.pl  Fri Feb 19 04:51:59 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb 19 04:52:07 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <4B7E59D4.4000505@libero.it>
References: <4B7D8005.2080008@libero.it> <4B7D9513.8030202@dbtopas.lt>
	<20100218215952.GA1708@linux-4bod.home.aster.pl>
	<4B7E59D4.4000505@libero.it>
Message-ID: <20100219095159.GA9188@linux-4bod.home.aster.pl>

On Fri, 19 Feb 2010, Maurilio Longo wrote:

Hi,

> Thanks guys,
> and, there's no way to list interface addresses in a portable way, is there?
> Right now I'm using a  hb_InetGetHosts( NetName() ), but I'm not sure it's the
> best way to go.

This may return only IP address to one interface.
I created code for POSIX systems which scans all
interfaces and return array with AF_INET interfaces
where each entry contains:
   { <ifname>, <ifaddr>, <bcastaddr>, <netmask> }
I'll check if it can work with MS-Windows and other
systems and if yes then I'll port it to harbour.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Feb 19 05:12:00 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb 19 05:12:10 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <4B7E5C6D.1050006@falconpl.org>
References: <4B7D8005.2080008@libero.it> <4B7D9513.8030202@dbtopas.lt>
	<20100218215952.GA1708@linux-4bod.home.aster.pl>
	<4B7E59D4.4000505@libero.it> <4B7E5C6D.1050006@falconpl.org>
Message-ID: <20100219101200.GA9312@linux-4bod.home.aster.pl>

On Fri, 19 Feb 2010, Giancarlo Niccolai wrote:

Hi Giancarlo,

Nice to see your message here.
My best wishes to you.

> Maurilio Longo wrote:
> >Thanks guys,
> >and, there's no way to list interface addresses in a portable way, is there?
> >Right now I'm using a  hb_InetGetHosts( NetName() ), but I'm not sure it's the
> >best way to go.
> >Maurilio.
> AFAIK, it's the nearest thing to an official and portable procedure
> that has been invented for that purpose. I was a bit puzzled too
> when I was searching for the official way to get your interface
> addresses, and I found that this was the way...

So probably the code I have cannot be ported to windows.
But maybe it's possible to create windows only code with
the same functionality. Let's see.

best regards,
Przemek
From vailtom at gmail.com  Fri Feb 19 05:27:09 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Fri Feb 19 05:27:36 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com> 
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com> 
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
Message-ID: <531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>

Hi!

> As I have proposed to write new HBQt demos, I had an idea today: Maybe
> the first of them could be a basic visual NanForum command help
> editor, that scans the correct Harbour folder, hides the NF format for
> the contributors, by presenting the respective fields as PlainText
> boxes, and agregate all .txt with $doc$ / $end$ declarations
> accessible within one interface, so people can stop thinking about the
> help format and start to write documentation in fact. By doing the
> properly folder scan, I can extend it to multilanguage also.

I developed an tool some months ago that reads all the source code on
folder /harbour/src +  /harbour/contrib and compare it with the
existing documentation in /harbour/doc and show me what has documented
and what source files are modified. This tool works as a visual
front-end to edit the documentation in the form NF.

Additionally wrote an application that reads the format NF and exports
to HTML + CSS into an format to integrate the project site ... I just
did it as temporary tool, specific to this need and I developed it in
Delphi (which is a language I know well) to run on my CPU with Windows
and for my needs it is helping me as well, although it lacks some
details to be completely ready .

Since I could not waste time because our time is short, I opted for
that for me it was faster ... Do you think this could be useful in
this process?

Regards,
Vailton Renato
From maurilio.longo at libero.it  Fri Feb 19 05:29:49 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb 19 05:30:01 2010
Subject: [Harbour] OS/2: Harbour 13841
In-Reply-To: <4B756C6C.1030009@mail.udg.mx>
References: <4B756C6C.1030009@mail.udg.mx>
Message-ID: <4B7E681D.40500@libero.it>

David,

Knut says gcc does not create a response file, but what happens if we call ld
or/and emxomfld directly, without passing through gcc, after having created
the correct response file?

We could end up with a solution which works with every version of gcc without
requiring a patch at all.

BTW, they build mozilla or firebird, can it be possibile that those monster
projects have fewer files than harbour?

Maurilio.


David Arturo Macias Corona wrote:
> Viktor:
> 
>>It's also possible they parse the disk option file,
>>convert it to string and pass it as plain command-line
>>(with 32KB limit) to subprocess.
> 
>>While disk option files are not _only_ meant to get
>>around cmdline length limitations, but this is one
>>of their primary functions, so IMO this is a bug in
>>OS/2 GCC implementation and should be reported and
>>fixed. Otherwise it defeats the purpose of disk option
>>file almost completely.
> 
> We know we are in same state as months ago and with Harbour grow "the
> future catched us"
> 
> I send a public request to some well-known people in OS/2 world
> 
> The first response few minutes later is from Knut St. Osmundsen
> ("bird"), the "brain" in Netlabs os2gcc development years ago ( gcc335
> age ) and now "brain" of Sun VirtualBox too
> 
> Message is included below and is very clear
> 
> I hope Paul Smedley can trace this case and based in Knut proposal then
> implement some solution
> 
> David Macias
> 
> 
> 
> David Arturo Macias Corona wrote:
>> Hi All:
>>
>> As I do not know who/where can help us I send this message to all of you
>> with hope of a solution
>> Please review, response and/or redirect to proper people
>>
>> In Harbour for OS/2 development ( www.harbour-project.org ) we face from
>> long time a problem using os2gcc compilers when we try to build some
>> .dll files
>>
>> Tracing I found an now famous 32 Kb limit:
>> -------------------------------------
>> Somewhere gcc is using 32 Kb limit for our case
>>    gcc --> emxomfld.exe ( ld.exe )
>>
>> ( or is OS/2 limit ?   :-) )
> 
> Yes, this is an OS/2 limitation.  The usual workaround is to pass the
> arguments in a response file (emxomfld @filename.rsp).  Without checking
> all the relevant code, I'm pretty sure that the compiler/linker driver
> (gcc) will not create a response file when invoking sub programs like
> as, ld or emxomfld.  The easiest way to hack it into doing this would be
>  to change pexecute() in libiberty/pexecute.c to create a response file
> for arguments exceeding, say, 24 KB.
> http://svn.netlabs.org/libc/browser/branches/libc-0.6/src/gcc/libiberty/pexecute.c#L803
> 
> 
> 
> 
> For all future communication, could you and your team please use the
> libc/gcc mailing list: http://svn.netlabs.org/libc#MailinglistBugs
> 
> You can file bugs in the ticket tracker on that site, although, if it's
> gcc related and you want it fixed soon you're probably better off filing
> them with Paul's bug tracker. :-)
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From gc at falconpl.org  Fri Feb 19 05:35:46 2010
From: gc at falconpl.org (Giancarlo Niccolai)
Date: Fri Feb 19 05:35:58 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <20100219101200.GA9312@linux-4bod.home.aster.pl>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>
	<4B7E5C6D.1050006@falconpl.org>
	<20100219101200.GA9312@linux-4bod.home.aster.pl>
Message-ID: <4B7E6982.501@falconpl.org>

Przemys?aw Czerpak wrote:
> On Fri, 19 Feb 2010, Giancarlo Niccolai wrote:
>
> Hi Giancarlo,
>
> Nice to see your message here.
> My best wishes to you.
>
>   
:-) You're always in my mind. Respects.

With regards to

hb_InetGetHosts( NetName() )

If my memory is not wrong, it's the most portable way to know what's "your address" (or your addresses; GetHosts may return more than one interface known under your own name).

As you said, to get the list of physically available interfaces there are system specific low-level APIs. More than POSIX, I think that's it's a system specific call (i.e. I think there are differences in BSD, Solaris, Haiku, and Linux; they can also be found under proc/, but not always in the same places; but I admit that my remembering may be wrong here). 

Having it multiplatform-ready at a simple call would galore :-).

Giancarlo.


From druzus at acn.waw.pl  Fri Feb 19 05:36:45 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb 19 05:36:52 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <20100219095159.GA9188@linux-4bod.home.aster.pl>
References: <4B7D8005.2080008@libero.it> <4B7D9513.8030202@dbtopas.lt>
	<20100218215952.GA1708@linux-4bod.home.aster.pl>
	<4B7E59D4.4000505@libero.it>
	<20100219095159.GA9188@linux-4bod.home.aster.pl>
Message-ID: <20100219103645.GA9681@linux-4bod.home.aster.pl>

On Fri, 19 Feb 2010, Przemys?aw Czerpak wrote:

Hi,

> > and, there's no way to list interface addresses in a portable way, is there?
> > Right now I'm using a  hb_InetGetHosts( NetName() ), but I'm not sure it's the
> > best way to go.
> This may return only IP address to one interface.
> I created code for POSIX systems which scans all
> interfaces and return array with AF_INET interfaces
> where each entry contains:
>    { <ifname>, <ifaddr>, <bcastaddr>, <netmask> }
> I'll check if it can work with MS-Windows and other
> systems and if yes then I'll port it to harbour.

Looking at header files seems that I can port it to OS2 (WATCOM) and
DOS-WATTCP but it will not work in MS-Windows builds so it will be
necessary to create independent implementation giving similar
functionality for this system only.
I can commit basic implementation for all systems except MS-Windows
(it would be nice if you can test it in OS2 GCC and OW builds) and
maybe later someone will create windows implementation.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Feb 19 05:41:53 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 19 05:42:06 2010
Subject: [Harbour] OS/2: Harbour 13841
In-Reply-To: <4B7E681D.40500@libero.it>
References: <4B756C6C.1030009@mail.udg.mx> <4B7E681D.40500@libero.it>
Message-ID: <3DB5CEB6-E2E9-4A99-9CCF-92D37EF51F7B@syenar.hu>

Hi,

This is an option. We opted not to call ld directly 
for gcc compilers in general, but I think it's not a 
problem to make an exception for OS/2.

Brgds,
Viktor

On 2010 Feb 19, at 11:29, Maurilio Longo wrote:

> David,
> 
> Knut says gcc does not create a response file, but what happens if we call ld
> or/and emxomfld directly, without passing through gcc, after having created
> the correct response file?
> 
> We could end up with a solution which works with every version of gcc without
> requiring a patch at all.
> 
> BTW, they build mozilla or firebird, can it be possibile that those monster
> projects have fewer files than harbour?
> 
> Maurilio.
> 
> 
> David Arturo Macias Corona wrote:
>> Viktor:
>> 
>>> It's also possible they parse the disk option file,
>>> convert it to string and pass it as plain command-line
>>> (with 32KB limit) to subprocess.
>> 
>>> While disk option files are not _only_ meant to get
>>> around cmdline length limitations, but this is one
>>> of their primary functions, so IMO this is a bug in
>>> OS/2 GCC implementation and should be reported and
>>> fixed. Otherwise it defeats the purpose of disk option
>>> file almost completely.
>> 
>> We know we are in same state as months ago and with Harbour grow "the
>> future catched us"
>> 
>> I send a public request to some well-known people in OS/2 world
>> 
>> The first response few minutes later is from Knut St. Osmundsen
>> ("bird"), the "brain" in Netlabs os2gcc development years ago ( gcc335
>> age ) and now "brain" of Sun VirtualBox too
>> 
>> Message is included below and is very clear
>> 
>> I hope Paul Smedley can trace this case and based in Knut proposal then
>> implement some solution
>> 
>> David Macias
>> 
>> 
>> 
>> David Arturo Macias Corona wrote:
>>> Hi All:
>>> 
>>> As I do not know who/where can help us I send this message to all of you
>>> with hope of a solution
>>> Please review, response and/or redirect to proper people
>>> 
>>> In Harbour for OS/2 development ( www.harbour-project.org ) we face from
>>> long time a problem using os2gcc compilers when we try to build some
>>> .dll files
>>> 
>>> Tracing I found an now famous 32 Kb limit:
>>> -------------------------------------
>>> Somewhere gcc is using 32 Kb limit for our case
>>>   gcc --> emxomfld.exe ( ld.exe )
>>> 
>>> ( or is OS/2 limit ?   :-) )
>> 
>> Yes, this is an OS/2 limitation.  The usual workaround is to pass the
>> arguments in a response file (emxomfld @filename.rsp).  Without checking
>> all the relevant code, I'm pretty sure that the compiler/linker driver
>> (gcc) will not create a response file when invoking sub programs like
>> as, ld or emxomfld.  The easiest way to hack it into doing this would be
>> to change pexecute() in libiberty/pexecute.c to create a response file
>> for arguments exceeding, say, 24 KB.
>> http://svn.netlabs.org/libc/browser/branches/libc-0.6/src/gcc/libiberty/pexecute.c#L803
>> 
>> 
>> 
>> 
>> For all future communication, could you and your team please use the
>> libc/gcc mailing list: http://svn.netlabs.org/libc#MailinglistBugs
>> 
>> You can file bugs in the ticket tracker on that site, although, if it's
>> gcc related and you want it fixed soon you're probably better off filing
>> them with Paul's bug tracker. :-)
>> 
> 
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Fri Feb 19 05:50:44 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb 19 05:58:52 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <20100219103645.GA9681@linux-4bod.home.aster.pl>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>	<20100219095159.GA9188@linux-4bod.home.aster.pl>
	<20100219103645.GA9681@linux-4bod.home.aster.pl>
Message-ID: <4B7E6D04.2060806@libero.it>

Przemyslaw,

I can surely test it, but I don't have multihomed OS/2 PCs anymore :(

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Fri Feb 19 05:46:56 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb 19 06:01:52 2010
Subject: [Harbour] thread.c TOFIX: comment
In-Reply-To: <20100218222225.GB1708@linux-4bod.home.aster.pl>
References: <4B7D7F0A.6030508@libero.it>
	<20100218222225.GB1708@linux-4bod.home.aster.pl>
Message-ID: <4B7E6C20.4070202@libero.it>

Przemyslaw,

> Thank you for the information.
> I know the syntax but AFAIR when we were talking about it last time
> you said that this function has build in race condition and when thread
> terminates before other thread calls DosWaitThread() then this function
> fails with error code set to ERROR_INVALID_THREADID. It's the reason
> why I added '|| rc == ERROR_INVALID_THREADID' in the line below my TOFIX
> note:
> 
>    return rc == NO_ERROR || rc == ERROR_INVALID_THREADID;
> 
> I do not have OS2 so I haven't verified it but because the event
> interface also has build in race condition when used as conditional
> variables then it's highly possible I'm not even surprised.
> 

In message "Re: [Harbour] Re: 2008-09-18 01:17 UTC+0200 Przemyslaw Czerpak
(druzus/at/priv.onet.pl)" I was writing:

>>       b. there is race condition in using this function because thread
>> >          can terminate before we call it.
>> > 
> 
> I'm not sure of this, but I think that if you call it with the ID of a terminated thread or a thread terminates while you're calling it with its ID you get back
> 
> 309 ERROR_INVALID_THREADID 

So, maybe it was just a misunderstanding, anyway:

> Current code does not look nice but it's working so I probably
> I should replace TOFIX with TOCLEAN or even NOTE to not confuse
> users. Of course if you know cleaner solution then of course we
> should implement it.

I can confirm, my ftpd server (MT and under OS/2) works like a charm, I've
tested it with up to 10 clients downloading a directory tree of nearly 2Gbs in
a thousand file/folders without problems for several runs. :)

> 
> BTW have you noticed that some OS2 ports of open source projects
> like MySQL have exactly the same bug as early Harbour OS2 MT code?
> This bug is in PTHREAD emulation code.

No, I've never checked, can you point me to some particular case so that I can
forward this to the developers/porters; this is a BIG issue.

> Looks that it's common that programmers working with other systems
> do not expect API which has build race conditions and wrongly
> understand the OS2 documentation.
> 
I'm not sure DosWaitThread() has built in race condition, it seems a problem
of a not so much clear documentation of the API (which, given IBM stopped
developing it nearly 10 years ago!!, is not so surprisingly after all).

That said, I cannot refrain, even this time, from thanking you for the
outstandig work you did in supporting OS/2 (not to mention the general work in
harbour).

Best regards.

Maurilio.


PS. BTW, were it not enough clear, I "love" OS/2 like a child, I don't even
know why, but that's it .)

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Fri Feb 19 06:09:04 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 19 06:09:39 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com> 
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com> 
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
Message-ID: <609353e71002190309m67d7dc7cue4b9ba2f10890531@mail.gmail.com>

Hi Renato
can you Publish your delphi source
samebody will convert in harbour
Is possible a  delphi2harbour.ch for convert sample application?


2010/2/19 Vailton Renato <vailtom@gmail.com>:
> Hi!
>
>> As I have proposed to write new HBQt demos, I had an idea today: Maybe
>> the first of them could be a basic visual NanForum command help
>> editor, that scans the correct Harbour folder, hides the NF format for
>> the contributors, by presenting the respective fields as PlainText
>> boxes, and agregate all .txt with $doc$ / $end$ declarations
>> accessible within one interface, so people can stop thinking about the
>> help format and start to write documentation in fact. By doing the
>> properly folder scan, I can extend it to multilanguage also.
>
> I developed an tool some months ago that reads all the source code on
> folder /harbour/src + ?/harbour/contrib and compare it with the
> existing documentation in /harbour/doc and show me what has documented
> and what source files are modified. This tool works as a visual
> front-end to edit the documentation in the form NF.
>
> Additionally wrote an application that reads the format NF and exports
> to HTML + CSS into an format to integrate the project site ... I just
> did it as temporary tool, specific to this need and I developed it in
> Delphi (which is a language I know well) to run on my CPU with Windows
> and for my needs it is helping me as well, although it lacks some
> details to be completely ready .
>
> Since I could not waste time because our time is short, I opted for
> that for me it was faster ... Do you think this could be useful in
> this process?
>
-- 
Massimo Belgrano
From vailtom at gmail.com  Fri Feb 19 06:19:46 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Fri Feb 19 06:20:14 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <609353e71002190309m67d7dc7cue4b9ba2f10890531@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com> 
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com> 
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com> 
	<609353e71002190309m67d7dc7cue4b9ba2f10890531@mail.gmail.com>
Message-ID: <531d7a751002190319s5fb0bbf1r4da37d5119a69cc6@mail.gmail.com>

Hi!

2010/2/19 Massimo Belgrano <mbelgrano@deltain.it>:
> Hi Renato
> can you Publish your delphi source
> samebody will convert in harbour
> Is possible a ?delphi2harbour.ch for convert sample application?

I honestly think something like this is hard to happen. I can even
post the current code (which lacks some of the details yet) without
problems, but I believe that to develop something similar or more
specific would only postpone the most important work at the time:
start writing the documentation.

I ended up riding these tools for their own use without saying a word
with the group, just not to open discussion about what GUI or LIB was
better to do, just to save time and power and in a short period of
time demonstrate the most important: documentation is produced and its
outcome on the site.

But I see no problems in releasing the code if someone wants to
assess, but I am using for some tests on the site before actually
produce the documentation itself, I think I need to finish one or two
details before releasing the release "final".

Regards,
Vailton Renato
From mbelgrano at deltain.it  Fri Feb 19 06:46:32 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 19 06:47:03 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002190319s5fb0bbf1r4da37d5119a69cc6@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com> 
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com> 
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com> 
	<609353e71002190309m67d7dc7cue4b9ba2f10890531@mail.gmail.com> 
	<531d7a751002190319s5fb0bbf1r4da37d5119a69cc6@mail.gmail.com>
Message-ID: <609353e71002190346s384afed4y6d900ad367c1518b@mail.gmail.com>

2010/2/19 Vailton Renato <vailtom@gmail.com>:
> Hi!
> I honestly think something like this is hard to happen. I can even
> post the current code (which lacks some of the details yet) without
> problems, but I believe that to develop something similar or more
> specific would only postpone the most important work at the time:
> start writing the documentation.
agree

> I ended up riding these tools for their own use without saying a word
> with the group, just not to open discussion about what GUI or LIB was
> better to do, just to save time and power and in a short period of
> time demonstrate the most important: documentation is produced and its
> outcome on the site.
Very good
Still compliment for your final resut

> But I see no problems in releasing the code if someone wants to
> assess, but I am using for some tests on the site before actually
> produce the documentation itself, I think I need to finish one or two
> details before releasing the release "final".
Good wait your final detail



-- 
Massimo Belgrano
From carlosbacco at gmail.com  Fri Feb 19 06:56:40 2010
From: carlosbacco at gmail.com (Bacco)
Date: Fri Feb 19 06:57:08 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com> 
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com> 
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
Message-ID: <eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>

On Fri, Feb 19, 2010 at 08:27, Vailton Renato <vailtom@gmail.com> wrote:
> Hi!
>
>
> I developed an tool some months ago that reads all the source code on
> folder /harbour/src + ?/harbour/contrib and compare it with the
> existing documentation in /harbour/doc and show me what has documented
> and what source files are modified. This tool works as a visual
> front-end to edit the documentation in the form NF.
>
Is this tool in Delphi too? I dont know if we was thinking the same
thing, but anyway If yours are in Delphi I still want to do on mine,
maybe some part can be used on HBIDE. As both tools work in NanForum
format, both tools can be useful without conflicts. I am really
focusing on easy of use, handling of all TXTs in doc/LANG and
contrib/HBNNN/doc/LANG folders without manual loading, and
multilanguage, but mine is starting and yours seems to be done. At
least, with your tool and directly into the TXTs maybe someone can
start writing documentation right now.

>
> Additionally wrote an application that reads the format NF and exports
> to HTML + CSS into an format to integrate the project site ... I just
> did it as temporary tool, specific to this need and I developed it in
> Delphi (which is a language I know well) to run on my CPU with Windows
> and for my needs it is helping me as well, although it lacks some
> details to be completely ready .
>
> Since I could not waste time because our time is short, I opted for
> that for me it was faster ... Do you think this could be useful in
> this process?
>
I was thinking about parse into a database for the web, like mysql+php
so we can search for commands online and so on, but this is a future
step. For me, the lack of documentation is the true problem. As you
already have this temporary tool, I believe that you can use it and
share the result files somewere while we don't have another ready for
use.

> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

Finally, If anyone really want to write documentation, there is no
reason to wait for any tool, it's just a matter of pick up any text
editor and start writing. Converting it into any other format after is
the easy part. Nothing that copy+paste and some little formating won't
do (just my opinion, anyway).

Regards
Bacco
From mbelgrano at deltain.it  Fri Feb 19 07:04:33 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 19 07:05:01 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com> 
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com> 
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com> 
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
Message-ID: <609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>

The next step will be a sync tool between all TXTs in doc/LANG  with a
wiki like proposed by Antonio
One way not exclude the other

2010/2/19 Bacco <carlosbacco@gmail.com>:
> On Fri, Feb 19, 2010 at 08:27, Vailton Renato <vailtom@gmail.com> wrote:
>> Hi!
>>
>>
>>
> Is this tool in Delphi too? I dont know if we was thinking the same
> thing, but anyway If yours are in Delphi I still want to do on mine,
> maybe some part can be used on HBIDE. As both tools work in NanForum
> format, both tools can be useful without conflicts. I am really
> focusing on easy of use, handling of all TXTs in doc/LANG and
> contrib/HBNNN/doc/LANG folders without manual loading, and
> multilanguage, but mine is starting and yours seems to be done. At
> least, with your tool and directly into the TXTs maybe someone can
> start writing documentation right now.
>


-- 
Massimo Belgrano
From jarabal at gmail.com  Fri Feb 19 08:53:57 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 19 10:50:17 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <20100219103645.GA9681@linux-4bod.home.aster.pl>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>	<20100219095159.GA9188@linux-4bod.home.aster.pl>
	<20100219103645.GA9681@linux-4bod.home.aster.pl>
Message-ID: <4B7E97F5.9010409@gmail.com>

Przemek,

> I can commit basic implementation for all systems except MS-Windows
> (it would be nice if you can test it in OS2 GCC and OW builds) and
> maybe later someone will create windows implementation.

No problem, I've done MS-Windows only implementation that also includes MACs address.
aAdapters == { {cType, cNameDes, cMAC, cAddress, cMask, cGateway, cAdapter} }
So if you provides functions names, file names, in short where putting it, I think that don't it cost me a lot of work. :)

Best regards,
Xavi

El 19/02/2010 11:36, Przemys?aw Czerpak escribi?:
> On Fri, 19 Feb 2010, Przemys?aw Czerpak wrote:
>
> Hi,
>
>>> and, there's no way to list interface addresses in a portable way, is there?
>>> Right now I'm using a  hb_InetGetHosts( NetName() ), but I'm not sure it's the
>>> best way to go.
>> This may return only IP address to one interface.
>> I created code for POSIX systems which scans all
>> interfaces and return array with AF_INET interfaces
>> where each entry contains:
>>     {<ifname>,<ifaddr>,<bcastaddr>,<netmask>  }
>> I'll check if it can work with MS-Windows and other
>> systems and if yes then I'll port it to harbour.
>
> Looking at header files seems that I can port it to OS2 (WATCOM) and
> DOS-WATTCP but it will not work in MS-Windows builds so it will be
> necessary to create independent implementation giving similar
> functionality for this system only.
> I can commit basic implementation for all systems except MS-Windows
> (it would be nice if you can test it in OS2 GCC and OW builds) and
> maybe later someone will create windows implementation.
>
> best regards,
> Przemek
From tech at 2dinfo.com.br  Fri Feb 19 12:32:47 2010
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Fri Feb 19 14:49:39 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu><72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu><9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu><9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
Message-ID: <C79AE98782B1416DBD0961D71C312647@NoteLeo>

Hi
I would like to help to make Official Harbour Documentation a reality. You 
have been done an excelent coding job here and harbour could be much more 
appreciated and enjoyed (yet) with a proper official documentation within. 
Unfortunatelly I have been following that writing Official Harbour 
Documentation counts on few cabaple heads and requires a lot more hands to 
be done.
I am not sure of how and if this problem can be solved, but I feel like it 
worths the try to solve it, so I invite you to consider the execution of the 
following strategy: to form a Harbour Documentation Task Force.

The Harbour Documentation Task Force would be conducted by at least three 
people on the following roles:

1 - Doc Writing Supervisor: writing productivity and the technical quality 
control of the document writing;
2 - Doc Tools Supervisor: development control of harbour documentation 
management tools;
3 - Doc Publishing Manager: gramatic and ortografic quality control of the 
documents, distribuition media and publishing management;
4 - General Coordinator: synchronize and coordinate the work of the 3 task 
forces;

Task force 1 - Doc Writing

The only goal of this task force is the most important: to write the text of 
the harbour documentation. The basic need to acomplish this task is human 
resources. So to be done this job needs a list of capable volunteers to 
write the text of the documentation. Considering the huge amount of code to 
be documented, this task has to be structured in topics. To minimize the 
debate about how such topic structure should be or look like, the same 
structure of harbour/src folder could be assumed as the list of topics for a 
start. Following such logic, documentation writing task would be distributed 
between Doc Writing Teams, each of which responsible for documenting one or 
more of the following code 14 topics:
1 - Codepage
2 - Common
3 - Compiler
4 - Debug
5 - Dynlib
6 - Hbextern
7 - Lang
8 - Macro
9 - Main
10 - Nortl
11 - PP, rdd, rtl and vm. There must be chosen a Doc Writing coordinator to 
synchronize this task to the general chronogram and supervise the quality of 
the writing. The first job this person should take care could be the 
calculation of how many teams (of how many people each) should be necessary 
to write the documentation of above 14 topics, considering the technical 
afinity among some of the topics and their weight differences, once some can 
have much more to be documented than others. Once that is defined, the 
following would be to recruit such amount of volunteers and allocate them to 
their tasks.

Task force 2 - Doc Editing Tool

This task force would initially develop a tool to make Doc Writing more 
organized and productive. Such tool should provide:
1 - documentation task status, comparing of harbour source files to harbour 
document files, classified by source folder;
2 - easy and simple interface to edit documents, so writers don't need to 
know or care about folders, files, markers etc, only about the text;
3 - document status control interface, where Doc Writing coordinator can 
sinalize and Doc Writers can see what documents are (and weather each 
document is) done, not started, incomplete or not good;
Much of what it takes to provide the above seems to have been already 
achieved by Vailton using Delphy and they can be written in harbour.


--------------------------------------------------
From: "Bacco" <carlosbacco@gmail.com>
Sent: Friday, February 19, 2010 9:56 AM
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Subject: Re: [Harbour] Re: About Harbour Documentation

> On Fri, Feb 19, 2010 at 08:27, Vailton Renato <vailtom@gmail.com> wrote:
>> Hi!
>>
>>
>> I developed an tool some months ago that reads all the source code on
>> folder /harbour/src +  /harbour/contrib and compare it with the
>> existing documentation in /harbour/doc and show me what has documented
>> and what source files are modified. This tool works as a visual
>> front-end to edit the documentation in the form NF.
>>
> Is this tool in Delphi too? I dont know if we was thinking the same
> thing, but anyway If yours are in Delphi I still want to do on mine,
> maybe some part can be used on HBIDE. As both tools work in NanForum
> format, both tools can be useful without conflicts. I am really
> focusing on easy of use, handling of all TXTs in doc/LANG and
> contrib/HBNNN/doc/LANG folders without manual loading, and
> multilanguage, but mine is starting and yours seems to be done. At
> least, with your tool and directly into the TXTs maybe someone can
> start writing documentation right now.
>
>>
>> Additionally wrote an application that reads the format NF and exports
>> to HTML + CSS into an format to integrate the project site ... I just
>> did it as temporary tool, specific to this need and I developed it in
>> Delphi (which is a language I know well) to run on my CPU with Windows
>> and for my needs it is helping me as well, although it lacks some
>> details to be completely ready .
>>
>> Since I could not waste time because our time is short, I opted for
>> that for me it was faster ... Do you think this could be useful in
>> this process?
>>
> I was thinking about parse into a database for the web, like mysql+php
> so we can search for commands online and so on, but this is a future
> step. For me, the lack of documentation is the true problem. As you
> already have this temporary tool, I believe that you can use it and
> share the result files somewere while we don't have another ready for
> use.
>
>> Regards,
>> Vailton Renato
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> Finally, If anyone really want to write documentation, there is no
> reason to wait for any tool, it's just a matter of pick up any text
> editor and start writing. Converting it into any other format after is
> the easy part. Nothing that copy+paste and some little formating won't
> do (just my opinion, anyway).
>
> Regards
> Bacco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From tech at 2dinfo.com.br  Fri Feb 19 15:05:39 2010
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Fri Feb 19 19:37:31 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu><72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu><9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu><9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
Message-ID: <3DB3B6508C83463885324F9FB466403C@NoteLeo>

Hi all

I would like to help to make Official Harbour Documentation a reality. 
Harbour Developers have been doing an excelent coding job here and Harbour 
Project could be much more appreciated and enjoyed with a proper official 
documentation. Unfortunatelly I have been following that writing Official 
Harbour Documentation counts on few capable heads and requires a much more 
than their two hands each to be done.
I am not sure of how and if this problem can be solved, but I feel like it 
worths the try to solve it, so I invite you to consider the execution of the 
following strategy: to form a Harbour Documentation Task Force.

The Harbour Documentation Task Force would be conducted by at least 4 people 
on the following roles:
1 - Doc Writing Manager: technical quality and productivity control of the 
document writing;
2 - Doc Tools Manager: functional quality and productivity control of 
harbour documentation management tools development;
3 - Doc Publishing Manager: language control of the documents, distribuition 
media and publishing management;
4 - Doc Task Coordinator: guide and synchronize the 3 task forces;

Task force 1 - Doc Writing

The only goal of this task force is the most important of all: write the 
text of the harbour documentation. The only resource to acomplish this task 
is capable and available people. So, to be accomplished, this task needs a 
list of technically capable volunteers to write the text of the 
documentation and a list os volunteers to rewrite compatible documentation 
from other sources. Considering the huge amount of code to be documented, 
this task has to be structured in topics. To minimize the debate about how 
such topic structure should be or look like, the same structure of 
harbour/src folder could be assumed as the list of topics for a start. 
Following such logic, writing task would be distributed between Doc Writing 
Teams, each of which responsible for documenting one or more of the 
following code 14 topics:
1 - Codepage
2 - Common
3 - Compiler
4 - Debug
5 - Dynlib
6 - Hbextern
7 - Lang
8 - Macro
9 - Main
10 - Nortl
11 - PP
12- RDD
13 - RTL
14 - VM.

There must be chosen a Doc Writing coordinator to synchronize this task to 
the general chronogram and care for the technical quality of the writing. 
The first job this person should do would be to raise what is to be written 
and calc how many teams (of how many people each) should be necessary to 
document the 14 topics above, considering the technical afinity among some 
of the topics and their weight differences, once some can have much more to 
be documented than others. Once part of documentation was already written 
for others thanks to compatibility with Clipper it doesn't have to be 
reformulated, so if it cannot be directly incorporated to the doc 
repository, it should be manually read and retyped on text files - and to do 
that one doesn't get to know much about harbour internals, so many people 
could help on this. Once the size of the work is delimited and distribuited 
between the needed teams , the following job would be to recruit such amount 
of volunteers and allocate them to their jobs.

Task force 2 - Doc Tools

This task force would initially develop a tool to help Doc Writing Task 
Force on workflow uniformity, productivity and control. Such tool should 
initially provide :
1 - documentation task status, comparing of harbour source files to harbour 
document files, classified by source folder;
2 - easy and simple interface to edit documents, so writers don't need to 
know or care about folders, files, markers etc, only about the text;
3 - document status control interface, where Doc Writing coordinator can 
sinalize and Doc Writers can see what documents are (and weather each 
document is) done, not started, incomplete or not good;

Much of what it takes to provide the above goods seems to have been already 
achieved by Vailton using Delphy and of course they can be done also using 
Harbour. I'm sure there will be plenty of volunteers to this task force, 
because most people oh the list codes very well, but we must consider that, 
without a capable team responsible for writing the docs there is not much 
sense to build such tools. Anyway, I believe the the 1st item above could 
help very much on Doc Writers recruiting, because once people know what 
exactly is to be written about each topic, it would be easier to manage the 
recruiting and volunteers could candidate to write about what they know, so 
I think this should be done first.

Of course a lot of other things sure would have to be done by the Doc Tools 
team in near future, but I believe the above would be enough for a good 
start.

Task force 3 - Doc Publishing

This task force would be responsible for determining and providing (with Doc 
Tools team) the better distribution file formats and publishing media to the 
documentation.
Maybe more imprtant than that, Doc Publishing task force would care for the 
language revision (grammar, ortography, etc) of the document texts, as weel 
as the aesthetics and text style considerations. Of course some of this job 
can be started right away, but sure its no sense at all to talk much about 
it before the documents start to be written. Once there is a documentation 
written, the Doc Publishing Manager will can also start to recruit 
translators of the documents to other languages beyond English, when I'd be 
glad to candidate to the Brazillian Portuguese Doc Version team.

Doc Task Coordination

The initial job of the Doc Task Coordinator would be to determine with the 
team managers the chronogram that will state the date when the Harbour 
Official Documentation Task Force will begin to operate and the steps 
following this start date.

Of course this just could happen after the coordinator and the managers 
volunteer, be chosen and assume their roles.

Sorry if I this is an inconvenient proposal. I'm aware Harbour-Project is 
not a company and that nobody is paid for any participation or has the 
obligation to do anything.

Let me know if there is something else I can do to help.

Best regards,
Leandro Damasio



--------------------------------------------------
From: "Bacco" <carlosbacco@gmail.com>
Sent: Friday, February 19, 2010 9:56 AM
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Subject: Re: [Harbour] Re: About Harbour Documentation

> On Fri, Feb 19, 2010 at 08:27, Vailton Renato <vailtom@gmail.com> wrote:
>> Hi!
>>
>>
>> I developed an tool some months ago that reads all the source code on
>> folder /harbour/src +  /harbour/contrib and compare it with the
>> existing documentation in /harbour/doc and show me what has documented
>> and what source files are modified. This tool works as a visual
>> front-end to edit the documentation in the form NF.
>>
> Is this tool in Delphi too? I dont know if we was thinking the same
> thing, but anyway If yours are in Delphi I still want to do on mine,
> maybe some part can be used on HBIDE. As both tools work in NanForum
> format, both tools can be useful without conflicts. I am really
> focusing on easy of use, handling of all TXTs in doc/LANG and
> contrib/HBNNN/doc/LANG folders without manual loading, and
> multilanguage, but mine is starting and yours seems to be done. At
> least, with your tool and directly into the TXTs maybe someone can
> start writing documentation right now.
>
>>
>> Additionally wrote an application that reads the format NF and exports
>> to HTML + CSS into an format to integrate the project site ... I just
>> did it as temporary tool, specific to this need and I developed it in
>> Delphi (which is a language I know well) to run on my CPU with Windows
>> and for my needs it is helping me as well, although it lacks some
>> details to be completely ready .
>>
>> Since I could not waste time because our time is short, I opted for
>> that for me it was faster ... Do you think this could be useful in
>> this process?
>>
> I was thinking about parse into a database for the web, like mysql+php
> so we can search for commands online and so on, but this is a future
> step. For me, the lack of documentation is the true problem. As you
> already have this temporary tool, I believe that you can use it and
> share the result files somewere while we don't have another ready for
> use.
>
>> Regards,
>> Vailton Renato
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> Finally, If anyone really want to write documentation, there is no
> reason to wait for any tool, it's just a matter of pick up any text
> editor and start writing. Converting it into any other format after is
> the easy part. Nothing that copy+paste and some little formating won't
> do (just my opinion, anyway).
>
> Regards
> Bacco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From tech at 2dinfo.com.br  Fri Feb 19 13:04:28 2010
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Fri Feb 19 19:39:33 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu><72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu><9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu><9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
Message-ID: <BE5A57129B004A549D24BBC919134666@NoteLeo>

Hi all

I would like to help to make Official Harbour Documentation a reality. You 
have been done an excelent coding job here and harbour could be much more 
appreciated and enjoyed (yet) with a proper official documentation within. 
Unfortunatelly I have been following that writing Official Harbour 
Documentation counts on few cabable heads and requires a much more of their 
two hands to be done.
I am not sure of how and if this problem can be solved, but I feel like it 
worths the try to solve it, so I invite you to consider the execution of the 
following strategy: to form a Harbour Documentation Task Force.

The Harbour Documentation Task Force would be conducted by at least 4 people 
on the following roles:
1 - Doc Writing Supervisor: writing productivity and the technical quality 
control of the document writing;
2 - Doc Tools Supervisor: development control of harbour documentation 
management tools;
3 - Doc Publishing Manager: gramatic and ortografic quality control of the 
documents, distribuition media and publishing management;
4 - General Coordinator: synchronize and coordinate the work of the 3 task 
forces;

Task force 1 - Doc Writing

The only goal of this task force is the most important of all: to write the 
text of the harbour documentation. The basic need to acomplish this task is 
human resources. So to be done this job needs a list of capable volunteers 
to write the text of the documentation. Considering the huge amount of code 
to be documented, this task has to be structured in topics. To minimize the 
debate about how such topic structure should be or look like, the same 
structure of harbour/src folder could be assumed as the list of topics for a 
start. Following such logic, documentation writing task would be distributed 
between Doc Writing Teams, each of which responsible for documenting one or 
more of the following code 14 topics:
1 - Codepage
2 - Common
3 - Compiler
4 - Debug
5 - Dynlib
6 - Hbextern
7 - Lang
8 - Macro
9 - Main
10 - Nortl
11 - PP
12- RDD
13 - RTL
14 - VM.

There must be chosen a Doc Writing coordinator to synchronize this task to 
the general chronogram and supervise the quality of the writing. The first 
job this person should take care could be the calculation of how many teams 
(of how many people each) should be necessary to write the documentation of 
above 14 topics, considering the technical
afinity among some of the topics and their weight differences, once some can 
have much more to be documented than others. Once that is defined, the 
following job would be to recruit such amount of volunteers and allocate 
them to their tasks.

Task force 2 - Doc Tools

This task force would initially develop a tool to make Doc Writing more 
organized and productive. Such tool should initially provide :
1 - documentation task status, comparing of harbour source files to harbour 
document files, classified by source folder;
2 - easy and simple interface to edit documents, so writers don't need to 
know or care about folders, files, markers etc, only about the text;
3 - document status control interface, where Doc Writing coordinator can 
sinalize and Doc Writers can see what documents are (and weather each 
document is) done, not started, incomplete or not good;

Much of what it takes to provide the above goods seems to have been already 
achieved by Vailton using Delphy and of course they can be done also using 
Harbour. I'm sure this is the task force that can be formed earlier, because 
most people here can code, but we must consider that, without a capable team 
responsible for writing the docs there is not much sense to build such 
tools. Anyway, I believe the the 1st item could help very much on the work 
Doc Writers recruiting, because once people know what exactly is to be 
written on each topic, it would be easier that they can candidate to write 
about this and that and maybe this task should be done in first place 
anyways.

Of course a lot of other things sure would be asked from Doc Tools team in 
future, but I believe the above would be enough for the beginning.

Task force 3 - Doc Publishing

This task force would be responsible for determining the better distribution 
formats and publishing media and care for the gramatical and ortografical 
quality of the document text, as weel as all the aesthetic and text style 
considerations. Of course some of this job can be started right away, but 
sure its no sense at all to talk much about it before the documents start to 
be written.


Sorry if I this was inconvenient and let me know if there is something else 
I can do to help.

Best regards to all
Leandro


--------------------------------------------------
From: "Bacco" <carlosbacco@gmail.com>
Sent: Friday, February 19, 2010 9:56 AM
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Subject: Re: [Harbour] Re: About Harbour Documentation

> On Fri, Feb 19, 2010 at 08:27, Vailton Renato <vailtom@gmail.com> wrote:
>> Hi!
>>
>>
>> I developed an tool some months ago that reads all the source code on
>> folder /harbour/src +  /harbour/contrib and compare it with the
>> existing documentation in /harbour/doc and show me what has documented
>> and what source files are modified. This tool works as a visual
>> front-end to edit the documentation in the form NF.
>>
> Is this tool in Delphi too? I dont know if we was thinking the same
> thing, but anyway If yours are in Delphi I still want to do on mine,
> maybe some part can be used on HBIDE. As both tools work in NanForum
> format, both tools can be useful without conflicts. I am really
> focusing on easy of use, handling of all TXTs in doc/LANG and
> contrib/HBNNN/doc/LANG folders without manual loading, and
> multilanguage, but mine is starting and yours seems to be done. At
> least, with your tool and directly into the TXTs maybe someone can
> start writing documentation right now.
>
>>
>> Additionally wrote an application that reads the format NF and exports
>> to HTML + CSS into an format to integrate the project site ... I just
>> did it as temporary tool, specific to this need and I developed it in
>> Delphi (which is a language I know well) to run on my CPU with Windows
>> and for my needs it is helping me as well, although it lacks some
>> details to be completely ready .
>>
>> Since I could not waste time because our time is short, I opted for
>> that for me it was faster ... Do you think this could be useful in
>> this process?
>>
> I was thinking about parse into a database for the web, like mysql+php
> so we can search for commands online and so on, but this is a future
> step. For me, the lack of documentation is the true problem. As you
> already have this temporary tool, I believe that you can use it and
> share the result files somewere while we don't have another ready for
> use.
>
>> Regards,
>> Vailton Renato
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> Finally, If anyone really want to write documentation, there is no
> reason to wait for any tool, it's just a matter of pick up any text
> editor and start writing. Converting it into any other format after is
> the easy part. Nothing that copy+paste and some little formating won't
> do (just my opinion, anyway).
>
> Regards
> Bacco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From smujohnson at gmail.com  Fri Feb 19 19:11:43 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 19 19:40:20 2010
Subject: [Harbour] Switch to detect undeclared vars being used
Message-ID: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>

Hi,

Since using Harbour from Clipper 5.2e, we'd have a few minor problems, and a
lot of success.  One thing that will make our lives easier in 100,000 lines
of Clipper code is some sort of switch in Harbour / hbmk2 that will warn you
if you are using a variable that wasn't declared by LOCAL, PRIV, MEMVAR, etc
etc...  in a function.

For example, if I do:

FUNC GOOSE()

   LOCAL x, y
   FOR i := 1 TO 10
     ? i
   NEXT

RETURN

It would warn me upon compilation that "i" isn't declared in the Function.
Maybe I am asking too much, as I don't think it's technically wrong.  Just
that we have a lot of code where the original author forgot to keep his var
declarations clean, and write LOCAL i after the FUNC declaration.

I tried looking through the switches that Harbour.exe provides... but I
couldn't find anything relevant.  Thank you.  Any thoughts / criticisms
welcome.

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100219/888cc575/attachment.html
From vouchcac at users.sourceforge.net  Fri Feb 19 20:20:09 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb 19 20:20:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13922] trunk/harbour
Message-ID: <E1Nie0v-0002A6-VI@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13922
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13922&view=rev
Author:   vouchcac
Date:     2010-02-20 01:20:08 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-19 17:22 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/help.png
  + contrib/hbide/resources/sort.png
  + contrib/hbide/resources/sortdescend.png
    + Added new images and changed one old.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/resources/help.png

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/sort.png
    trunk/harbour/contrib/hbide/resources/sortdescend.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Feb 19 09:36:11 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 19 20:25:42 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com>
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>
Message-ID: <1266590171334-4598130.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> here is updated incremental guide for hbide
>   http://harbourlanguage.blogspot.com/
> 

Your blog is almost outdated now.
Take a look at the interface with new goodies. 
A lot has changed.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4598130.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Fri Feb 19 13:11:53 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 19 20:31:05 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <4B7ED169.3060300@gmail.com>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>	<20100219095159.GA9188@linux-4bod.home.aster.pl>
	<20100219103645.GA9681@linux-4bod.home.aster.pl>
	<4B7EA697.5080001@gmail.com>
	<FE79CF66-6695-407F-81B9-0369EC5EA510@syenar.hu>
	<4B7EC858.1000007@gmail.com>
	<50555956-56F3-49AD-9C2A-34C41AA0A738@syenar.hu>
	<4B7ED169.3060300@gmail.com>
Message-ID: <97B96A19-D737-4EA1-8A16-3189175C27D5@syenar.hu>

Okay. You can attach your source if you think so, 
I'm sure it helps Przemek.

Something is definitely wrong with the list.

I've sent a msg to Phil.

Brgds,
Viktor

On 2010 Feb 19, at 18:59, Xavi wrote:

> Hi Viktor,
> 
> Ok, without nStatus.
> I wait to see Przemek's changes.
> The development list is still not working.
> 
> Przemek,
> All information is provided by GetAdaptersInfo() in Windows.
> It would be nice to have the MAC address on other OS.
> 
> Best regards,
> Xavi
> 
> El 19/02/2010 18:31, Viktor Szak?ts escribi?:
>> Hi Xavi,
>> 
>> That's good, but pls work together with Przemek,
>> to offer a multiplatform solution in one portable
>> core function. And use hbwin only to provide the
>> extra functionality, if and only if those cannot
>> be done in portable way.
>> 
>>> PRG .-
>>> aAdapters := win_GetAdaptersInfo()
>>> aAdapters == { {cTipo, cNameDes, cMAC, cAddress, cMask, cGateway, cAdapter, nStatus} }
>>> Sort by nStatus.
>>> 
>>> C .-
>>> DWORD hbwin_GetAdaptersInfo( PHB_ITEM pItmArray )
>>> 
>>> File .-
>>> contrin/hbwin/win_getadt.c
>>> 
>>> It need .-
>>> #include<Iphlpapi.h>
>>> 
>>> Also I've an added nStatus to try sort it by relevance.
>>> I don't know whether to bring it or not? .-
>>> ...
>>>      pMacro = hb_macroCompile( "{|x,y|x[8]>y[8]}" );
>>>      if( pMacro  ){
>>>         hb_macroRun( pMacro ); hb_macroDelete( pMacro );
>>>         pCodeBlock = hb_stackItemFromTop( -1 );
>>>         if( pCodeBlock&&  HB_IS_BLOCK( pCodeBlock ) ){
>>>            hb_arraySort( pItmArray, NULL, NULL, pCodeBlock );
>>>         }
>>>         hb_stackPop();
>>>      }
>>> ...
>> 
>> I think such sorting is best to be done by the caller if
>> necessary. IMO it's not very good to make such low-level
>> code dependent on macro compiler, or make any internal
>> automatic sorting whatsoever (you can leave pCodeblock
>> to NULL), since it can be solved easily on .prg level,
>> thus it's redundant.
>> 
>> Brgds,
>> Viktor
>> 
>> 

From harbour at os.pl  Fri Feb 19 19:13:03 2010
From: harbour at os.pl (Andrzej P. Wozniak)
Date: Fri Feb 19 20:33:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour
References: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <02e501cab1c3$62f78c50$b53aa8c0@AndrzejW>

From:  <vszakats@users.sourceforge.net>
Sent: Monday, February 15, 2010 12:14 PM
Subject: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour

> Revision: 13878
[...]
>   * contrib/hbwin/hbwin.ch
>     * Changed to use full (0xFF) color components for RGB presets.

Viktor, this change is incompatible with Clipper. Previous colours were too
dark, but 0xFF should stand for BRIGHT colours. Clipper uses RGBI palette,
see here:
* 4-bit RGBI palettes for explanation:
http://en.wikipedia.org/wiki/List_of_monochrome_and_RGB_palettes#4-bit_RGBI
* EGA colour palette for hex values in implementation:
http://en.wikipedia.org/wiki/Enhanced_Graphics_Adapter#The_EGA_color_palette

-- 
Regards from The Harbour Project mirror in Poland
Andrzej P. Wo?niak




------
Hosting 2GB za 40 zl brutto 
http://www.klatka.pl

From jarabal at gmail.com  Fri Feb 19 13:40:28 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 19 20:58:50 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <97B96A19-D737-4EA1-8A16-3189175C27D5@syenar.hu>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>	<20100219095159.GA9188@linux-4bod.home.aster.pl>
	<20100219103645.GA9681@linux-4bod.home.aster.pl>
	<4B7EA697.5080001@gmail.com>
	<FE79CF66-6695-407F-81B9-0369EC5EA510@syenar.hu>
	<4B7EC858.1000007@gmail.com>
	<50555956-56F3-49AD-9C2A-34C41AA0A738@syenar.hu>
	<4B7ED169.3060300@gmail.com>
	<97B96A19-D737-4EA1-8A16-3189175C27D5@syenar.hu>
Message-ID: <4B7EDB1C.80602@gmail.com>

> Okay. You can attach your source if you think so,
> I'm sure it helps Przemek.

I think it's public.

http://groups.google.us/group/comp.lang.xharbour/browse_thread/thread/8a9348df065610fc#b8c7e71c405b7e52

Obviously adapted to the new Harbour.

Best regards,
Xavi

El 19/02/2010 19:11, Viktor Szak?ts escribi?:
> Okay. You can attach your source if you think so,
> I'm sure it helps Przemek.
>
> Something is definitely wrong with the list.
>
> I've sent a msg to Phil.
>
> Brgds,
> Viktor
>
> On 2010 Feb 19, at 18:59, Xavi wrote:
>
>> Hi Viktor,
>>
>> Ok, without nStatus.
>> I wait to see Przemek's changes.
>> The development list is still not working.
>>
>> Przemek,
>> All information is provided by GetAdaptersInfo() in Windows.
>> It would be nice to have the MAC address on other OS.
>>
>> Best regards,
>> Xavi
>>
>> El 19/02/2010 18:31, Viktor Szak?ts escribi?:
>>> Hi Xavi,
>>>
>>> That's good, but pls work together with Przemek,
>>> to offer a multiplatform solution in one portable
>>> core function. And use hbwin only to provide the
>>> extra functionality, if and only if those cannot
>>> be done in portable way.
>>>
>>>> PRG .-
>>>> aAdapters := win_GetAdaptersInfo()
>>>> aAdapters == { {cTipo, cNameDes, cMAC, cAddress, cMask, cGateway, cAdapter, nStatus} }
>>>> Sort by nStatus.
>>>>
>>>> C .-
>>>> DWORD hbwin_GetAdaptersInfo( PHB_ITEM pItmArray )
>>>>
>>>> File .-
>>>> contrin/hbwin/win_getadt.c
>>>>
>>>> It need .-
>>>> #include<Iphlpapi.h>
>>>>
>>>> Also I've an added nStatus to try sort it by relevance.
>>>> I don't know whether to bring it or not? .-
>>>> ...
>>>>       pMacro = hb_macroCompile( "{|x,y|x[8]>y[8]}" );
>>>>       if( pMacro  ){
>>>>          hb_macroRun( pMacro ); hb_macroDelete( pMacro );
>>>>          pCodeBlock = hb_stackItemFromTop( -1 );
>>>>          if( pCodeBlock&&   HB_IS_BLOCK( pCodeBlock ) ){
>>>>             hb_arraySort( pItmArray, NULL, NULL, pCodeBlock );
>>>>          }
>>>>          hb_stackPop();
>>>>       }
>>>> ...
>>>
>>> I think such sorting is best to be done by the caller if
>>> necessary. IMO it's not very good to make such low-level
>>> code dependent on macro compiler, or make any internal
>>> automatic sorting whatsoever (you can leave pCodeblock
>>> to NULL), since it can be solved easily on .prg level,
>>> thus it's redundant.
>>>
>>> Brgds,
>>> Viktor
>>>
>>>
>
>

From jarabal at gmail.com  Fri Feb 19 15:28:10 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 19 21:04:20 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <75BC0CA6-16B4-4361-A1A4-B6A2832F7CCB@syenar.hu>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>	<20100219095159.GA9188@linux-4bod.home.aster.pl>
	<20100219103645.GA9681@linux-4bod.home.aster.pl>
	<4B7EA697.5080001@gmail.com>
	<FE79CF66-6695-407F-81B9-0369EC5EA510@syenar.hu>
	<4B7EC858.1000007@gmail.com>
	<50555956-56F3-49AD-9C2A-34C41AA0A738@syenar.hu>
	<4B7ED169.3060300@gmail.com>
	<97B96A19-D737-4EA1-8A16-3189175C27D5@syenar.hu>
	<4B7EDB1C.80602@gmail.com>
	<75BC0CA6-16B4-4361-A1A4-B6A2832F7CCB@syenar.hu>
Message-ID: <4B7EF45A.8090303@gmail.com>

Hi Viktor,

Okay. I thought about it but waiting to see what says or does Przemek.
Hope the development list work, because the other participant are off topic.

Best regards,
Xavi

El 19/02/2010 20:06, Viktor Szak?ts escribi?:
> Okay. Probably it would be better to change to load
> the .dll dynamically, unless we want add this new
> system .dll to default system lib libs for the sake
> of one function. It's rarely used functionality, so
> this would save all Harbour apps some load time and
> memory consumption.
>
> Brgds,
> Viktor
>
> On 2010 Feb 19, at 19:40, Xavi wrote:
>
>>> Okay. You can attach your source if you think so,
>>> I'm sure it helps Przemek.
>>
>> I think it's public.
>>
>> http://groups.google.us/group/comp.lang.xharbour/browse_thread/thread/8a9348df065610fc#b8c7e71c405b7e52
>>
>> Obviously adapted to the new Harbour.
>>
>> Best regards,
>> Xavi
>>
>> El 19/02/2010 19:11, Viktor Szak?ts escribi?:
>>> Okay. You can attach your source if you think so,
>>> I'm sure it helps Przemek.
>>>
>>> Something is definitely wrong with the list.
>>>
>>> I've sent a msg to Phil.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> On 2010 Feb 19, at 18:59, Xavi wrote:
>>>
>>>> Hi Viktor,
>>>>
>>>> Ok, without nStatus.
>>>> I wait to see Przemek's changes.
>>>> The development list is still not working.
>>>>
>>>> Przemek,
>>>> All information is provided by GetAdaptersInfo() in Windows.
>>>> It would be nice to have the MAC address on other OS.
>>>>
>>>> Best regards,
>>>> Xavi
>>>>
>>>> El 19/02/2010 18:31, Viktor Szak?ts escribi?:
>>>>> Hi Xavi,
>>>>>
>>>>> That's good, but pls work together with Przemek,
>>>>> to offer a multiplatform solution in one portable
>>>>> core function. And use hbwin only to provide the
>>>>> extra functionality, if and only if those cannot
>>>>> be done in portable way.
>>>>>
>>>>>> PRG .-
>>>>>> aAdapters := win_GetAdaptersInfo()
>>>>>> aAdapters == { {cTipo, cNameDes, cMAC, cAddress, cMask, cGateway, cAdapter, nStatus} }
>>>>>> Sort by nStatus.
>>>>>>
>>>>>> C .-
>>>>>> DWORD hbwin_GetAdaptersInfo( PHB_ITEM pItmArray )
>>>>>>
>>>>>> File .-
>>>>>> contrin/hbwin/win_getadt.c
>>>>>>
>>>>>> It need .-
>>>>>> #include<Iphlpapi.h>
>>>>>>
>>>>>> Also I've an added nStatus to try sort it by relevance.
>>>>>> I don't know whether to bring it or not? .-
>>>>>> ...
>>>>>>       pMacro = hb_macroCompile( "{|x,y|x[8]>y[8]}" );
>>>>>>       if( pMacro  ){
>>>>>>          hb_macroRun( pMacro ); hb_macroDelete( pMacro );
>>>>>>          pCodeBlock = hb_stackItemFromTop( -1 );
>>>>>>          if( pCodeBlock&&    HB_IS_BLOCK( pCodeBlock ) ){
>>>>>>             hb_arraySort( pItmArray, NULL, NULL, pCodeBlock );
>>>>>>          }
>>>>>>          hb_stackPop();
>>>>>>       }
>>>>>> ...
>>>>>
>>>>> I think such sorting is best to be done by the caller if
>>>>> necessary. IMO it's not very good to make such low-level
>>>>> code dependent on macro compiler, or make any internal
>>>>> automatic sorting whatsoever (you can leave pCodeblock
>>>>> to NULL), since it can be solved easily on .prg level,
>>>>> thus it's redundant.
>>>>>
>>>>> Brgds,
>>>>> Viktor
>>>>>
>>>>>
>>>
>>>
>>
>
>
From bedipritpal at hotmail.com  Fri Feb 19 21:07:31 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 19 21:07:38 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
Message-ID: <1266631651299-4601199.post@n2.nabble.com>



smu johnson wrote:
> 
> Since using Harbour from Clipper 5.2e, we'd have a few minor problems, and
> a
> lot of success.  One thing that will make our lives easier in 100,000
> lines
> of Clipper code is some sort of switch in Harbour / hbmk2 that will warn
> you
> if you are using a variable that wasn't declared by LOCAL, PRIV, MEMVAR,
> etc
> etc...  in a function.
> 

If tou want to detect such occurances: -w3 -es3
If you want to detect and ignore: -w0 -es2



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Switch-to-detect-undeclared-vars-being-used-tp4601089p4601199.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Fri Feb 19 19:11:45 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 19 21:08:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13921] trunk/harbour
Message-ID: <E1Nicwj-0002DF-Bp@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13921
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13921&view=rev
Author:   vszakats
Date:     2010-02-20 00:11:43 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 01:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.h
    * Changed not to rely on _WIN32_WCE to detect WinCE.

  * config/wce/global.mk
  * utils/hbmk2/hbmk2.prg
    % Changed to not pre-define _WIN32_WCE to any value. This should
      be user choice.

  * contrib/hbfimage/fi_winfu.c
    ! Fixed for WinCE builds. Now only non-WinCE compatible parts
      are disabled and functions keep being defined on .prg level
      regardless.

  * contrib/hbfimage/fi_winfu.c
  * contrib/hbfimage/fi_wrp.c
    % Cleaned logic that guards '_WINDOWS_' definition.

  * contrib/hbwin/win_bmp.c
    ! Fixed to use hexadecimal notation instead of octal, because
      some compilers where getting confused and tried to match these
      with some codepages.

  * contrib/hbwin/win_prn1.c
    ! Fixed for poccarm, because Pelles C (even 6.0) forgets to
      map FONTENUMPROC to FONTENUMPROCW.

  * contrib/hbwin/win_prn3.c
    ! Added some extra WinCE guards to avoid warning for this platform.

  * src/debug/dbgentry.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/global.mk
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/contrib/hbwin/win_bmp.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn3.c
    trunk/harbour/include/hbsetup.h
    trunk/harbour/src/debug/dbgentry.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Feb 19 20:37:33 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb 19 21:10:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13923] trunk/harbour
Message-ID: <E1NieHl-0002SM-1S@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13923
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13923&view=rev
Author:   vouchcac
Date:     2010-02-20 01:37:31 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-19 17:40 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/dbl2sglquote.png
  * contrib/hbide/resources/sgl2dblquote.png
    ! Changed contents.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/resources/dbl2sglquote.png
    trunk/harbour/contrib/hbide/resources/sgl2dblquote.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb 19 14:06:04 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 19 21:14:21 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <4B7EDB1C.80602@gmail.com>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>	<20100219095159.GA9188@linux-4bod.home.aster.pl>
	<20100219103645.GA9681@linux-4bod.home.aster.pl>
	<4B7EA697.5080001@gmail.com>
	<FE79CF66-6695-407F-81B9-0369EC5EA510@syenar.hu>
	<4B7EC858.1000007@gmail.com>
	<50555956-56F3-49AD-9C2A-34C41AA0A738@syenar.hu>
	<4B7ED169.3060300@gmail.com>
	<97B96A19-D737-4EA1-8A16-3189175C27D5@syenar.hu>
	<4B7EDB1C.80602@gmail.com>
Message-ID: <75BC0CA6-16B4-4361-A1A4-B6A2832F7CCB@syenar.hu>

Okay. Probably it would be better to change to load 
the .dll dynamically, unless we want add this new 
system .dll to default system lib libs for the sake 
of one function. It's rarely used functionality, so 
this would save all Harbour apps some load time and 
memory consumption.

Brgds,
Viktor

On 2010 Feb 19, at 19:40, Xavi wrote:

>> Okay. You can attach your source if you think so,
>> I'm sure it helps Przemek.
> 
> I think it's public.
> 
> http://groups.google.us/group/comp.lang.xharbour/browse_thread/thread/8a9348df065610fc#b8c7e71c405b7e52
> 
> Obviously adapted to the new Harbour.
> 
> Best regards,
> Xavi
> 
> El 19/02/2010 19:11, Viktor Szak?ts escribi?:
>> Okay. You can attach your source if you think so,
>> I'm sure it helps Przemek.
>> 
>> Something is definitely wrong with the list.
>> 
>> I've sent a msg to Phil.
>> 
>> Brgds,
>> Viktor
>> 
>> On 2010 Feb 19, at 18:59, Xavi wrote:
>> 
>>> Hi Viktor,
>>> 
>>> Ok, without nStatus.
>>> I wait to see Przemek's changes.
>>> The development list is still not working.
>>> 
>>> Przemek,
>>> All information is provided by GetAdaptersInfo() in Windows.
>>> It would be nice to have the MAC address on other OS.
>>> 
>>> Best regards,
>>> Xavi
>>> 
>>> El 19/02/2010 18:31, Viktor Szak?ts escribi?:
>>>> Hi Xavi,
>>>> 
>>>> That's good, but pls work together with Przemek,
>>>> to offer a multiplatform solution in one portable
>>>> core function. And use hbwin only to provide the
>>>> extra functionality, if and only if those cannot
>>>> be done in portable way.
>>>> 
>>>>> PRG .-
>>>>> aAdapters := win_GetAdaptersInfo()
>>>>> aAdapters == { {cTipo, cNameDes, cMAC, cAddress, cMask, cGateway, cAdapter, nStatus} }
>>>>> Sort by nStatus.
>>>>> 
>>>>> C .-
>>>>> DWORD hbwin_GetAdaptersInfo( PHB_ITEM pItmArray )
>>>>> 
>>>>> File .-
>>>>> contrin/hbwin/win_getadt.c
>>>>> 
>>>>> It need .-
>>>>> #include<Iphlpapi.h>
>>>>> 
>>>>> Also I've an added nStatus to try sort it by relevance.
>>>>> I don't know whether to bring it or not? .-
>>>>> ...
>>>>>      pMacro = hb_macroCompile( "{|x,y|x[8]>y[8]}" );
>>>>>      if( pMacro  ){
>>>>>         hb_macroRun( pMacro ); hb_macroDelete( pMacro );
>>>>>         pCodeBlock = hb_stackItemFromTop( -1 );
>>>>>         if( pCodeBlock&&   HB_IS_BLOCK( pCodeBlock ) ){
>>>>>            hb_arraySort( pItmArray, NULL, NULL, pCodeBlock );
>>>>>         }
>>>>>         hb_stackPop();
>>>>>      }
>>>>> ...
>>>> 
>>>> I think such sorting is best to be done by the caller if
>>>> necessary. IMO it's not very good to make such low-level
>>>> code dependent on macro compiler, or make any internal
>>>> automatic sorting whatsoever (you can leave pCodeblock
>>>> to NULL), since it can be solved easily on .prg level,
>>>> thus it's redundant.
>>>> 
>>>> Brgds,
>>>> Viktor
>>>> 
>>>> 
>> 
>> 
> 

From pete_westg at yahoo.gr  Fri Feb 19 16:15:09 2010
From: pete_westg at yahoo.gr (pete_westg)
Date: Fri Feb 19 21:16:35 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>	<hlhk12$rmh$1@ger.gmane.org>	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
Message-ID: <hlmv2j$ss4$1@ger.gmane.org>

???? 18/02/2010 17:27, O/H Viktor Szak?ts ??????:
> Hi All,
  So, I'd like to ask prospective contributors to _ignore
> these_ and concentrate on our path. It has been said
> many times: There will only be a documentation (in any
> format, or medium), if someone actually writes them.
>
> There is no other way.


Ok, let's (try to) write some documentation.
But before we start we have to know, what format should adopt. I mean, is
Nanforum format mandatory or we could follow a more human form?
For example, I am going to start documenting the functions HB_DirExists(),
HB_FileExists(), HB_FNameExists() found into src\rtl\hbfile.c
I choose to reproduce the structure of, say, "doc\en-EN\dir.txt", hence 
i have
to write something like:
--------------------------------------------------------------------------------
/*
  * The following parts are Copyright of the individual authors.
  * www - http://www.harbour-project.org
  *
  * Copyright 2010 documentor's_name <me@myoffice.gr>
  *    Documentation for: HB_DirExists(), HB_FileExists(), HB_FNameExists()
  *
  * See COPYING for licensing terms.
  *
  */

/*  $DOC$
  *  $TEMPLATE$
  *      Function
  *  $NAME$
  *     HB_DirExists()
  *  $CATEGORY$
  *      API
  *  $SUBCATEGORY$
  *      FileSys
  *  $ONELINER$
  *      Determine if a directory exists
  *  $SYNTAX$
  *      HB_DirExists( [<cDirName>] ) --> lExists
  *  $ARGUMENTS$
  *      <cDirName> Directory name you want to check if exist.
  *                 Can contain a path and Drive letter.
  *                 Wildcards are NOT supported.
  *                 If no path specified then the current path is used.
  *                 SET DEFAULT are not evaluated.
  *  $RETURNS$
  *      HB_DirExists returns a logical TRUE if cDirName exists, 
otherwise FALSE
  *  $DESCRIPTION$
  *    Here goes a detailed and very time consuming 'bla-bla' about the 
function
  *    for which bla-bla is better to been left for the second 
documantation wave
  *    and why not as an imagination exercise for the potential reader)
  *
  *  $EXAMPLES$
  *     #include 'common.ch'
  *     Function Main( cDir )
  *        Default cDir to "lib"
  *        QOUT("Current directory: "   CurDir() )
  *        QOUT("------------------------------------------------------")
  *        QOUT( "Directory: "   cDir   " does"   IIF( 
HB_DirExists(cDir), " ", "
NOT " )   "exist!" )
  *        cDir := "C:\"
  *        QOUT( "Directory: "   cDir   " does"   IIF( 
HB_DirExists(cDir), " ", "
NOT " )   "exist!" )
  *        QOUT()
  *        WAIT
  *        RETURN Nil
  *
  *  $STATUS$
  *      R
  *  $COMPLIANCE$
  *      C
  *  $PLATFORMS$
  *      All(LFN)
  *  $FILES$
  *      Library is rtl
  *  $SEEALSO$
  *      HB_FileExists(), HB_FNameExists()
  *  $END$
  */

  Now i have one/two more questions:
  Are all those eye-bothering '$' & '*' necesary?
  Also, are _all_ the above statements mandatory or we could leave out some
  of them like $SUBCATEGORY$ $STATUS$ $COMPLIANCE$ etc. to make the txt 
more
  compact and 'quick-readable'
  Supposing the answers are 'yes' let see how the above document
  could be written:
 
------------------------------------------------------------------------------ 

/*  $DOC$

FUNCNAME  : HB_DirExists( <cDirName> ) --> lExists

SHORTDESC : Determine if a directory exists

ARGUMENTS : <cDirName> Directory name you want to check if exist.
             Can contain a path and Drive letter.
             Wildcards are NOT supported.
             If no path specified then the current path is used.
             SET DEFAULT are not evaluated.

RETURNS  : HB_DirExists returns a logical TRUE if cDirName exists,
            otherwise FALSE

DESCRIPTION:
       [Here goes a detailed and very time consuming 'bla-bla' about the 
function
        for which bla-bla is better to left for the second documantation 
wave
        (and why not as an imagination exersize for the potential 
reader) ...
		 ...]

EXAMPLES:
       #include 'common.ch'
       Function Main( cDir )
          Default cDir to "lib"
          QOUT("Current directory: "   CurDir() )
          QOUT("------------------------------------------------------")
          QOUT( "Directory: "   cDir   " does"   IIF( HB_DirExists( cDir 
), " ",
" NOT " )   "exist!" )
          cDir := "C:\"
          QOUT( "Directory: "   cDir   " does"   IIF( HB_DirExists( cDir 
), " ",
" NOT " )   "exist!" )
          QOUT()
          WAIT
          RETURN Nil

  PLATFORMS:
        All(LFN)
  FILES:
       Library is rtl
  SEE ALSO:
        HB_FileExists(), HB_FNameExists()
$END$
*/
--------------------------------------------------------------------------------

An other critical question is how do i decide to document what?
That is, how do I know if the above documentation is not already written by
someone else? Obviously, somebody has to monitor the whole process, 
keeping an
eye on 'who is documenting what' to avoid overlapping writing.

And of course, there are other things/questions that must be cleared up, but
can't  been discussed all at once..
regards,

---
Pete

From harbour.01 at syenar.hu  Fri Feb 19 12:31:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 19 21:17:09 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <4B7EC858.1000007@gmail.com>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>	<20100219095159.GA9188@linux-4bod.home.aster.pl>
	<20100219103645.GA9681@linux-4bod.home.aster.pl>
	<4B7EA697.5080001@gmail.com>
	<FE79CF66-6695-407F-81B9-0369EC5EA510@syenar.hu>
	<4B7EC858.1000007@gmail.com>
Message-ID: <50555956-56F3-49AD-9C2A-34C41AA0A738@syenar.hu>

Hi Xavi,

That's good, but pls work together with Przemek, 
to offer a multiplatform solution in one portable 
core function. And use hbwin only to provide the 
extra functionality, if and only if those cannot 
be done in portable way.

> PRG .-
> aAdapters := win_GetAdaptersInfo()
> aAdapters == { {cTipo, cNameDes, cMAC, cAddress, cMask, cGateway, cAdapter, nStatus} }
> Sort by nStatus.
> 
> C .-
> DWORD hbwin_GetAdaptersInfo( PHB_ITEM pItmArray )
> 
> File .-
> contrin/hbwin/win_getadt.c
> 
> It need .-
> #include <Iphlpapi.h>
> 
> Also I've an added nStatus to try sort it by relevance.
> I don't know whether to bring it or not? .-
> ...
>      pMacro = hb_macroCompile( "{|x,y|x[8]>y[8]}" );
>      if( pMacro  ){
>         hb_macroRun( pMacro ); hb_macroDelete( pMacro );
>         pCodeBlock = hb_stackItemFromTop( -1 );
>         if( pCodeBlock && HB_IS_BLOCK( pCodeBlock ) ){
>            hb_arraySort( pItmArray, NULL, NULL, pCodeBlock );
>         }
>         hb_stackPop();
>      }
> ...

I think such sorting is best to be done by the caller if 
necessary. IMO it's not very good to make such low-level 
code dependent on macro compiler, or make any internal 
automatic sorting whatsoever (you can leave pCodeblock 
to NULL), since it can be solved easily on .prg level, 
thus it's redundant.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Feb 19 21:18:07 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 19 21:18:17 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <1266631651299-4601199.post@n2.nabble.com>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
Message-ID: <D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>

>> lot of success.  One thing that will make our lives easier in 100,000
>> lines
>> of Clipper code is some sort of switch in Harbour / hbmk2 that will warn
>> you
>> if you are using a variable that wasn't declared by LOCAL, PRIV, MEMVAR,
>> etc
>> etc...  in a function.
>> 
> 
> If tou want to detect such occurances: -w3 -es3

You probably meant: -es2
(there is no -es3 option in Harbour (nor Clipper))

> If you want to detect and ignore: -w0 -es2

Rather simply: -w3, -w2, or -w1

extra -es2 means: threat warnings as errors.

Brgds,
Viktor

From jarabal at gmail.com  Fri Feb 19 09:55:15 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 19 21:19:19 2010
Subject: [Harbour] Re: error C2485 compiling hvm.c with vce 2007
In-Reply-To: <9471afc81002181841k4dab0c70ieb50f24928ab9a9a@mail.gmail.com>
References: <9471afc81002181708le367aaqedffca1a2c21da17@mail.gmail.com>
	<9471afc81002181841k4dab0c70ieb50f24928ab9a9a@mail.gmail.com>
Message-ID: <4B7EA653.90904@gmail.com>

Antonio,

Seems that Windows CE does not support the __declspec(thread) attribute.
But you're using HB_STACK_MACROS, remember .-

http://lists.harbour-project.org/pipermail/harbour/2009-December/029344.html

-- 
Xavi

El 19/02/2010 3:41, Antonio Linares escribi?:
> More on the C2485 error compiling with Microsoft Windows CE 6.x SDK cl.exe:
>
> We have found where the error is coming from. It was not a define:
>
> hb_stack_ptr is defined as:
> HB_TLS_ATTR PHB_STACK hb_stack_ptr = NULL;
>
> HB_TLS_ATTR is translated into __declspec( thread ) and that may be
> causing a mangled name for the variable name that makes the compiler
> itself to error.
>
> If we remove (just for a test) HB_TLS_ATTR from estack.c (line 93) and
> from hbstack.h (line 200) then those errors go away. Obviously that is
> not a solution but take us closer to find it.
>
> regards,
>
> Antonio
From harbour.01 at syenar.hu  Fri Feb 19 21:22:53 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 19 21:23:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour
In-Reply-To: <02e501cab1c3$62f78c50$b53aa8c0@AndrzejW>
References: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com>
	<02e501cab1c3$62f78c50$b53aa8c0@AndrzejW>
Message-ID: <6E506A6C-6D09-422A-90B6-4C0AB1894392@syenar.hu>

Hi Andrzej,

> From:  <vszakats@users.sourceforge.net>
> Sent: Monday, February 15, 2010 12:14 PM
> Subject: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour
> 
>> Revision: 13878
> [...]
>>  * contrib/hbwin/hbwin.ch
>>    * Changed to use full (0xFF) color components for RGB presets.
> 
> Viktor, this change is incompatible with Clipper. Previous colours were too
> dark, but 0xFF should stand for BRIGHT colours. Clipper uses RGBI palette,
> see here:
> * 4-bit RGBI palettes for explanation:
> http://en.wikipedia.org/wiki/List_of_monochrome_and_RGB_palettes#4-bit_RGBI
> * EGA colour palette for hex values in implementation:
> http://en.wikipedia.org/wiki/Enhanced_Graphics_Adapter#The_EGA_color_palette

Clipper had no graphical printing, nor any special color 
printing support for that matter, nor did it determine the 
actual colors that appeared on screen, so it's by no means 
a Clipper compatibility issue. 

If you mean to mimic MS-DOS (or rather VGA/EGA) screen colors 
in Windows printing, I can't see strong reason why this would 
be desired. WIN_PRN class is meant to (sort of) emulate line 
printers on GUI printers, so if anything, these colors should 
mimic color selection of color printers. Maybe this was the 
original intent, but it's still very difficult to tell, but 
even in this case I have some doubts that color printers 
had chosen just these exact color components for these specific 
colors as a standard:

--- (from old hbwin.ch)
#define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
#define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
#define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
#define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
#define RGB_RED                RGB( 0x85, 0x00, 0x00 )
#define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
#define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
#define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )
---

F.e. why isn't "white" 0x85/0x85/0x85 to be consistent 
with other colors, or even more, why isn't it pure white: 
0xFF/0xFF/0xFF, instead of being grey? :)

Please also notice these color macros in hbwin.ch are not 
printing specific ones, but generic color constants, and 
current colors are the most generic, pure versions of 
the base colors:

--- (current hbwin.ch)
/* Color constants for convenience */
#define HB_WIN_RGB_BLACK            WIN_RGB( 0x00, 0x00, 0x00 )
#define HB_WIN_RGB_BLUE             WIN_RGB( 0x00, 0x00, 0xFF )
#define HB_WIN_RGB_GREEN            WIN_RGB( 0x00, 0xFF, 0x00 )
#define HB_WIN_RGB_CYAN             WIN_RGB( 0x00, 0xFF, 0xFF )
#define HB_WIN_RGB_RED              WIN_RGB( 0xFF, 0x00, 0x00 )
#define HB_WIN_RGB_MAGENTA          WIN_RGB( 0xFF, 0x00, 0xFF )
#define HB_WIN_RGB_BROWN            WIN_RGB( 0xFF, 0xFF, 0x00 )
#define HB_WIN_RGB_WHITE            WIN_RGB( 0xFF, 0xFF, 0xFF )
---

Brgds,
Viktor

From jarabal at gmail.com  Fri Feb 19 12:20:24 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 19 21:33:26 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <FE79CF66-6695-407F-81B9-0369EC5EA510@syenar.hu>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>	<20100219095159.GA9188@linux-4bod.home.aster.pl>
	<20100219103645.GA9681@linux-4bod.home.aster.pl>
	<4B7EA697.5080001@gmail.com>
	<FE79CF66-6695-407F-81B9-0369EC5EA510@syenar.hu>
Message-ID: <4B7EC858.1000007@gmail.com>

[ Not work the development mailing list ]

Hi Viktor,

PRG .-
aAdapters := win_GetAdaptersInfo()
aAdapters == { {cTipo, cNameDes, cMAC, cAddress, cMask, cGateway, cAdapter, nStatus} }
Sort by nStatus.

C .-
DWORD hbwin_GetAdaptersInfo( PHB_ITEM pItmArray )

File .-
contrin/hbwin/win_getadt.c

It need .-
#include <Iphlpapi.h>

Also I've an added nStatus to try sort it by relevance.
I don't know whether to bring it or not? .-
...
       pMacro = hb_macroCompile( "{|x,y|x[8]>y[8]}" );
       if( pMacro  ){
          hb_macroRun( pMacro ); hb_macroDelete( pMacro );
          pCodeBlock = hb_stackItemFromTop( -1 );
          if( pCodeBlock && HB_IS_BLOCK( pCodeBlock ) ){
             hb_arraySort( pItmArray, NULL, NULL, pCodeBlock );
          }
          hb_stackPop();
       }
...

Best regards,
Xavi

El 19/02/2010 16:02, Viktor Szak?ts escribi?:
> Hi Xavi, Przemek,
>
> To have similar features for all platform, either we
> should support MAC address on non-win platforms, or
> (if this is not possible or not portable) we should
> move win-only MAC support to some additional hbwin
> function.
>
> Brgds,
> Viktor
>
> On 2010 Feb 19, at 15:56, Xavi wrote:
>
>> [ Seem that not work the development mailing list ]
>>
>> Przemek,
>>
>>> I can commit basic implementation for all systems except MS-Windows
>>> (it would be nice if you can test it in OS2 GCC and OW builds) and
>>> maybe later someone will create windows implementation.
>>
>> No problem, I've done MS-Windows only implementation that also includes MACs address.
>> aAdapters == { {cType, cNameDes, cMAC, cAddress, cMask, cGateway, cAdapter} }
>> So if you provides functions names, file names, in short where putting it, I think that don't it cost me a lot of work. :)
>>
>> Best regards,
>> Xavi
>>
>> El 19/02/2010 11:36, Przemys?aw Czerpak escribi?:
>>> On Fri, 19 Feb 2010, Przemys?aw Czerpak wrote:
>>>
>>> Hi,
>>>
>>>>> and, there's no way to list interface addresses in a portable way, is there?
>>>>> Right now I'm using a  hb_InetGetHosts( NetName() ), but I'm not sure it's the
>>>>> best way to go.
>>>> This may return only IP address to one interface.
>>>> I created code for POSIX systems which scans all
>>>> interfaces and return array with AF_INET interfaces
>>>> where each entry contains:
>>>>     {<ifname>,<ifaddr>,<bcastaddr>,<netmask>   }
>>>> I'll check if it can work with MS-Windows and other
>>>> systems and if yes then I'll port it to harbour.
>>>
>>> Looking at header files seems that I can port it to OS2 (WATCOM) and
>>> DOS-WATTCP but it will not work in MS-Windows builds so it will be
>>> necessary to create independent implementation giving similar
>>> functionality for this system only.
>>> I can commit basic implementation for all systems except MS-Windows
>>> (it would be nice if you can test it in OS2 GCC and OW builds) and
>>> maybe later someone will create windows implementation.
>>>
>>> best regards,
>>> Przemek
>
>
From harbour.01 at syenar.hu  Fri Feb 19 21:36:20 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 19 21:36:32 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <hlmv2j$ss4$1@ger.gmane.org>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>	<hlhk12$rmh$1@ger.gmane.org>	<B0ACBB2D-5A31-4A31-BB1F-C01F61872E05@syenar.hu>	<609353e71002171304t2709845bxa15a4f43c8716074@mail.gmail.com>	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<hlmv2j$ss4$1@ger.gmane.org>
Message-ID: <F6CD039D-092A-4865-8BC6-AAB1318DEDB2@syenar.hu>

Hi Pete,

> Ok, let's (try to) write some documentation.
> But before we start we have to know, what format should adopt. I mean, is
> Nanforum format mandatory or we could follow a more human form?

No, Nanforum format is mandatory.

> /*  $DOC$
> *  $TEMPLATE$
> *      Function
> *  $NAME$
> *     HB_DirExists()
> *  $CATEGORY$
...
> *  $END$
> */
> 
> Now i have one/two more questions:
> Are all those eye-bothering '$' & '*' necesary?
> Also, are _all_ the above statements mandatory or we could leave out some
> of them like $SUBCATEGORY$ $STATUS$ $COMPLIANCE$ etc. to make the txt more
> compact and 'quick-readable'
> Supposing the answers are 'yes' let see how the above document
> could be written:

It could be written in any way, but then you'd need 
to create parsers for each format ppl happened to 
use. We've choosen NANFORUM format, because it is 
already developed, fits our purpose, easy to use, and 
we have already created tools that can process it.

Our goal in this project is _not_ to invent or 
reinvent a new documentation format. Our goal is 
to document Harbour functions using an existing 
_standard_. This standard is NANFORUM.

> ------------------------------------------------------------------------------ 
> An other critical question is how do i decide to document what?
> That is, how do I know if the above documentation is not already written by
> someone else? Obviously, somebody has to monitor the whole process, keeping an
> eye on 'who is documenting what' to avoid overlapping writing.

It's simple: If something is not present in /doc/en-EN/ folder, 
it's safe to document. (Even if it's present, it can 
probably need a review/rewrite.)

"who writes what": It requires some very basic synchronization 
between documentation writers. I don't think we should develop 
some over-burocratic scheme for this yet. If someone is starting 
seriously on a given lib or set of source files, it's enough 
to drop here an e-mail.

At the time when this becomes inadequate, we can use a 
simple text file on wiki or in SVN, called "TODODOC.txt" 
or similar. This file can have each Harbour function, 
grouped by source file, with a status: 
   TODO [username] -> DONE [username] -> CHECKED [username]

Brgds,
Viktor

From maurilio.longo at libero.it  Fri Feb 19 12:42:31 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Feb 19 21:44:02 2010
Subject: [Harbour] rtl/tthreadx.prg
Message-ID: <4B7ECD87.2060105@libero.it>

Przemyslaw,

you said that harbour cannot differentiate an iVar named ::atStart from a
method with the same name.

Now, this causes problems with xpp compatibility where such a possibility
exists, but, in the beginning, we could say that when I call

::Start( "mysymbol" )

I'm probably not going to depend on a method ::atStart which can exist only in
sublasses of TThread  which I would start with a

oMyT := oMyClass():New():Start()

So, question is: is there a way to know if a class implements a method? In
which case we could run the ::atStart() method which is better than nothing, IMHO.

I see in changelog a

__objHasMsgAssigned( object, "msgName" )

and then a __objHasMsg and a __objHasData, don't distinguish methods from ivars?

Maurilio.


PS. If it were possibile to add this xpp extension it would be a good thing :)
I do understand though that it could require too much work to be considered a
priority.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Fri Feb 19 21:50:23 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 19 21:50:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13924] trunk/harbour
Message-ID: <E1NifQF-000542-J4@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13924
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13924&view=rev
Author:   vszakats
Date:     2010-02-20 02:50:22 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 03:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    + Added support for -harbourhelp option which will result
      in the same output as 'harbour --help' command.
    + Added reference to -harbourhelp option which display
      Harbour compiler help.
    + Added support for -build option support in hbmk2.
      It will be passed to Harbour compiler.

  * contrib/hbwin/hbwin.ch
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From daniel at base4.com.br  Fri Feb 19 13:06:57 2010
From: daniel at base4.com.br (=?ISO-8859-1?Q?Daniel_Gon=E7alves?=)
Date: Fri Feb 19 21:52:21 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
	<609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
Message-ID: <72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>

For example, suppose I want to contribute documenting the hbsqlit3
contrib, wich is module I'm very interested. What I'm suposed to do?
Create a directory /harbour/doc/en-EN/contrib/hbsqlit3 and write text
files in NF format?

2010/2/19 Massimo Belgrano <mbelgrano@deltain.it>:
> The next step will be a sync tool between all TXTs in doc/LANG ?with a
> wiki like proposed by Antonio
> One way not exclude the other
>
> 2010/2/19 Bacco <carlosbacco@gmail.com>:
>> On Fri, Feb 19, 2010 at 08:27, Vailton Renato <vailtom@gmail.com> wrote:
>>> Hi!
>>>
>>>
>>>
>> Is this tool in Delphi too? I dont know if we was thinking the same
>> thing, but anyway If yours are in Delphi I still want to do on mine,
>> maybe some part can be used on HBIDE. As both tools work in NanForum
>> format, both tools can be useful without conflicts. I am really
>> focusing on easy of use, handling of all TXTs in doc/LANG and
>> contrib/HBNNN/doc/LANG folders without manual loading, and
>> multilanguage, but mine is starting and yours seems to be done. At
>> least, with your tool and directly into the TXTs maybe someone can
>> start writing documentation right now.
>>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Daniel Gon?alves
Base4 Sistemas Ltda.
[www.base4.com.br]
[twitter.com/spanazzi]
From vszakats at users.sourceforge.net  Fri Feb 19 21:55:25 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 19 21:55:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13925] trunk/harbour
Message-ID: <E1NifV7-00059p-Dv@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13925
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13925&view=rev
Author:   vszakats
Date:     2010-02-20 02:55:24 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 03:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - contrib/rddads/doc/en
  + contrib/rddads/doc/en-EN
    * Renamed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/rddads/doc/en-EN/

Removed Paths:
-------------
    trunk/harbour/contrib/rddads/doc/en/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Feb 19 21:56:11 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 19 21:56:21 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
	<609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
Message-ID: <A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>

> For example, suppose I want to contribute documenting the hbsqlit3
> contrib, wich is module I'm very interested. What I'm suposed to do?
> Create a directory /harbour/doc/en-EN/contrib/hbsqlit3 and write text
> files in NF format?

All contribs are meant to be independent from 
core, so their docs should be stored in
   /contrib/<name>/doc/en-EN/*

[similar to already existing documentation for 'rddads']

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Feb 19 22:00:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 19 22:00:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13926] trunk/harbour
Message-ID: <E1NifZq-0005Fz-D9@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13926
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13926&view=rev
Author:   vszakats
Date:     2010-02-20 03:00:17 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 03:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - contrib/hbgt/doc/en
  + contrib/hbgt/doc/en-EN
  - contrib/hbgd/doc/hbgd.txt
  + contrib/hbgd/doc/en-EN
  + contrib/hbgd/doc/en-EN/hbgd.txt
  - contrib/hbmisc/doc/en
  + contrib/hbmisc/doc/en-EN
  + contrib/hbbtree/doc/en-EN
  + contrib/hbbtree/doc/en-EN/hb_btree.txt
  - contrib/hbbtree/doc/hb_btree.txt
    * Cleanup to existing doc locations.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbbtree/doc/en-EN/
    trunk/harbour/contrib/hbbtree/doc/en-EN/hb_btree.txt
    trunk/harbour/contrib/hbgd/doc/en-EN/
    trunk/harbour/contrib/hbgd/doc/en-EN/hbgd.txt
    trunk/harbour/contrib/hbgt/doc/en-EN/
    trunk/harbour/contrib/hbmisc/doc/en-EN/

Removed Paths:
-------------
    trunk/harbour/contrib/hbbtree/doc/hb_btree.txt
    trunk/harbour/contrib/hbgd/doc/hbgd.txt
    trunk/harbour/contrib/hbgt/doc/en/
    trunk/harbour/contrib/hbmisc/doc/en/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mauriliolongo at users.sourceforge.net  Fri Feb 19 12:54:07 2010
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Fri Feb 19 22:08:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13920] trunk/harbour
Message-ID: <E1NiX3H-0001SN-70@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13920
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13920&view=rev
Author:   mauriliolongo
Date:     2010-02-19 17:53:09 +0000 (Fri, 19 Feb 2010)

Log Message:
-----------
2010-02-19 18:52 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * source/rtl/tthreadx.prg
     ! fixed ::active iVar to be .F. while thread is not running / has ended.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/tthreadx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Fri Feb 19 12:59:05 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 19 22:10:16 2010
Subject: [Harbour] hb_InetAddress()
In-Reply-To: <50555956-56F3-49AD-9C2A-34C41AA0A738@syenar.hu>
References: <4B7D8005.2080008@libero.it>
	<4B7D9513.8030202@dbtopas.lt>	<20100218215952.GA1708@linux-4bod.home.aster.pl>	<4B7E59D4.4000505@libero.it>	<20100219095159.GA9188@linux-4bod.home.aster.pl>
	<20100219103645.GA9681@linux-4bod.home.aster.pl>
	<4B7EA697.5080001@gmail.com>
	<FE79CF66-6695-407F-81B9-0369EC5EA510@syenar.hu>
	<4B7EC858.1000007@gmail.com>
	<50555956-56F3-49AD-9C2A-34C41AA0A738@syenar.hu>
Message-ID: <4B7ED169.3060300@gmail.com>

Hi Viktor,

Ok, without nStatus.
I wait to see Przemek's changes.
The development list is still not working.

Przemek,
All information is provided by GetAdaptersInfo() in Windows.
It would be nice to have the MAC address on other OS.

Best regards,
Xavi

El 19/02/2010 18:31, Viktor Szak?ts escribi?:
> Hi Xavi,
>
> That's good, but pls work together with Przemek,
> to offer a multiplatform solution in one portable
> core function. And use hbwin only to provide the
> extra functionality, if and only if those cannot
> be done in portable way.
>
>> PRG .-
>> aAdapters := win_GetAdaptersInfo()
>> aAdapters == { {cTipo, cNameDes, cMAC, cAddress, cMask, cGateway, cAdapter, nStatus} }
>> Sort by nStatus.
>>
>> C .-
>> DWORD hbwin_GetAdaptersInfo( PHB_ITEM pItmArray )
>>
>> File .-
>> contrin/hbwin/win_getadt.c
>>
>> It need .-
>> #include<Iphlpapi.h>
>>
>> Also I've an added nStatus to try sort it by relevance.
>> I don't know whether to bring it or not? .-
>> ...
>>       pMacro = hb_macroCompile( "{|x,y|x[8]>y[8]}" );
>>       if( pMacro  ){
>>          hb_macroRun( pMacro ); hb_macroDelete( pMacro );
>>          pCodeBlock = hb_stackItemFromTop( -1 );
>>          if( pCodeBlock&&  HB_IS_BLOCK( pCodeBlock ) ){
>>             hb_arraySort( pItmArray, NULL, NULL, pCodeBlock );
>>          }
>>          hb_stackPop();
>>       }
>> ...
>
> I think such sorting is best to be done by the caller if
> necessary. IMO it's not very good to make such low-level
> code dependent on macro compiler, or make any internal
> automatic sorting whatsoever (you can leave pCodeblock
> to NULL), since it can be solved easily on .prg level,
> thus it's redundant.
>
> Brgds,
> Viktor
>
>
From bedipritpal at hotmail.com  Fri Feb 19 22:16:57 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 19 22:17:05 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <F6CD039D-092A-4865-8BC6-AAB1318DEDB2@syenar.hu>
References: <311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<hlmv2j$ss4$1@ger.gmane.org>
	<F6CD039D-092A-4865-8BC6-AAB1318DEDB2@syenar.hu>
Message-ID: <1266635817746-4601441.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> No, Nanforum format is mandatory.
> 
>> /*  $DOC$
>> *  $TEMPLATE$
>> *      Function
>> *  $NAME$
>> *     HB_DirExists()
>> *  $CATEGORY$
> ...
>> *  $END$
>> */
> 

How many keywords are there in this format ?
Probably a basic implementation can be provided in 
hbIDE within a couple of days. 

And later Bacco's or Vailton's tool will be pressed into 
service. hbIDE can parse the source and can provide 
readymade templates to be filled in by the writer.
When saved, it will be in above format.

Should I proceed ?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/About-Harbour-Documentation-tp4587608p4601441.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Fri Feb 19 22:31:26 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 19 22:31:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13927] trunk/harbour
Message-ID: <E1Nig3y-0005gr-To@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13927
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13927&view=rev
Author:   vszakats
Date:     2010-02-20 03:31:25 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 04:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - src/rtl/browdbx.prg
  - src/rtl/mousex.c
  * src/rtl/tbcolumn.prg
  - src/rtl/philesx.c
  * src/rtl/Makefile
  - src/rtl/thfuncx.prg
  - src/rtl/oemansix.c
  - src/rtl/tthreadx.prg
  - src/rtl/tgetx.prg
  - src/rtl/idlex.c
  * src/rtl/browdb.prg
  - src/rtl/typefilx.prg
  - src/rtl/binnumx.c
  * src/rtl/tbrowse.prg
  - src/rdd/dbjoinx.prg
  - src/rdd/dblistx.prg
  - src/rdd/dbtotalx.prg
  - src/rdd/dbstruxx.prg
  - src/rdd/dbsortx.prg
  * src/rdd/Makefile
  - src/rdd/dbcmdx.c
  - src/rdd/dbdetacx.c
  - src/rdd/dbupdatx.prg
  - src/rdd/dbfuncsx.prg
  * include/hbextern.ch
  * contrib/xpp/xppextrn.ch
  * contrib/xpp/binnumx.c
  * contrib/xpp/tthreadx.prg
    * Synced contrib/xpp compatibility lib source with core.
    - Deleted Xbase++ compatibility functions from core.
    ; NOTE: INCOMPATIBLE. If you use Xbase++ function, you should now link 
            xpp lib. (the name of the lib is not yet finalized)
    ; TODO: Clean remaining four HB_COMPAT_XPP guards and delete this 
            build-time option from core.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xpp/binnumx.c
    trunk/harbour/contrib/xpp/tthreadx.prg
    trunk/harbour/contrib/xpp/xppextrn.ch
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/rdd/Makefile
    trunk/harbour/src/rtl/Makefile
    trunk/harbour/src/rtl/browdb.prg
    trunk/harbour/src/rtl/tbcolumn.prg
    trunk/harbour/src/rtl/tbrowse.prg

Removed Paths:
-------------
    trunk/harbour/src/rdd/dbcmdx.c
    trunk/harbour/src/rdd/dbdetacx.c
    trunk/harbour/src/rdd/dbfuncsx.prg
    trunk/harbour/src/rdd/dbjoinx.prg
    trunk/harbour/src/rdd/dblistx.prg
    trunk/harbour/src/rdd/dbsortx.prg
    trunk/harbour/src/rdd/dbstruxx.prg
    trunk/harbour/src/rdd/dbtotalx.prg
    trunk/harbour/src/rdd/dbupdatx.prg
    trunk/harbour/src/rtl/binnumx.c
    trunk/harbour/src/rtl/browdbx.prg
    trunk/harbour/src/rtl/idlex.c
    trunk/harbour/src/rtl/mousex.c
    trunk/harbour/src/rtl/oemansix.c
    trunk/harbour/src/rtl/philesx.c
    trunk/harbour/src/rtl/tgetx.prg
    trunk/harbour/src/rtl/thfuncx.prg
    trunk/harbour/src/rtl/tthreadx.prg
    trunk/harbour/src/rtl/typefilx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carlosbacco at gmail.com  Fri Feb 19 22:42:07 2010
From: carlosbacco at gmail.com (Bacco)
Date: Fri Feb 19 22:42:35 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <hlmv2j$ss4$1@ger.gmane.org>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com> 
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<hlmv2j$ss4$1@ger.gmane.org>
Message-ID: <eed8bee51002191942g26628914vb1cff26f222396d3@mail.gmail.com>

Hi Pete.

I am writing a tool that will hide all "eye-bothering features" you
have mentioned at the edit time. It's an optional tool, but It will
agregate access to all docs directory tree (as they are already
specified in doc/dirstruc.txt) from a single interface, and provide
separated fields for each entry. The /*, $DOC$ etc in the output file
will be created by the tool when you include a new command. Also, by
scanning all doc dirs, It will be able to list and do a quick search
in all documented commands, without the need to loading one by one, so
writers can start writing a missing command with a single click.

On Fri, Feb 19, 2010 at 19:15, pete_westg <pete_westg@yahoo.gr> wrote:
> ???? 18/02/2010 17:27, O/H Viktor Szak?ts ??????:
>>
>> Hi All,
>
> ?So, I'd like to ask prospective contributors to _ignore
>>
>> these_ and concentrate on our path. It has been said
>> many times: There will only be a documentation (in any
>> format, or medium), if someone actually writes them.
>>
>> There is no other way.
>
>
> Ok, let's (try to) write some documentation.
> But before we start we have to know, what format should adopt. I mean, is
> Nanforum format mandatory or we could follow a more human form?
> For example, I am going to start documenting the functions HB_DirExists(),
> HB_FileExists(), HB_FNameExists() found into src\rtl\hbfile.c
> I choose to reproduce the structure of, say, "doc\en-EN\dir.txt", hence i
> have
> to write something like:
> --------------------------------------------------------------------------------
> /*
> ?* The following parts are Copyright of the individual authors.
> ?* www - http://www.harbour-project.org
> ?*
> ?* Copyright 2010 documentor's_name <me@myoffice.gr>
> ?* ? ?Documentation for: HB_DirExists(), HB_FileExists(), HB_FNameExists()
> ?*
> ?* See COPYING for licensing terms.
> ?*
> ?*/
>
> /* ?$DOC$
> ?* ?$TEMPLATE$
> ?* ? ? ?Function
> ?* ?$NAME$
> ?* ? ? HB_DirExists()
> ?* ?$CATEGORY$
> ?* ? ? ?API
> ?* ?$SUBCATEGORY$
> ?* ? ? ?FileSys
> ?* ?$ONELINER$
> ?* ? ? ?Determine if a directory exists
> ?* ?$SYNTAX$
> ?* ? ? ?HB_DirExists( [<cDirName>] ) --> lExists
> ?* ?$ARGUMENTS$
> ?* ? ? ?<cDirName> Directory name you want to check if exist.
> ?* ? ? ? ? ? ? ? ? Can contain a path and Drive letter.
> ?* ? ? ? ? ? ? ? ? Wildcards are NOT supported.
> ?* ? ? ? ? ? ? ? ? If no path specified then the current path is used.
> ?* ? ? ? ? ? ? ? ? SET DEFAULT are not evaluated.
> ?* ?$RETURNS$
> ?* ? ? ?HB_DirExists returns a logical TRUE if cDirName exists, otherwise
> FALSE
> ?* ?$DESCRIPTION$
> ?* ? ?Here goes a detailed and very time consuming 'bla-bla' about the
> function
> ?* ? ?for which bla-bla is better to been left for the second documantation
> wave
> ?* ? ?and why not as an imagination exercise for the potential reader)
> ?*
> ?* ?$EXAMPLES$
> ?* ? ? #include 'common.ch'
> ?* ? ? Function Main( cDir )
> ?* ? ? ? ?Default cDir to "lib"
> ?* ? ? ? ?QOUT("Current directory: " ? CurDir() )
> ?* ? ? ? ?QOUT("------------------------------------------------------")
> ?* ? ? ? ?QOUT( "Directory: " ? cDir ? " does" ? IIF( HB_DirExists(cDir), "
> ", "
> NOT " ) ? "exist!" )
> ?* ? ? ? ?cDir := "C:\"
> ?* ? ? ? ?QOUT( "Directory: " ? cDir ? " does" ? IIF( HB_DirExists(cDir), "
> ", "
> NOT " ) ? "exist!" )
> ?* ? ? ? ?QOUT()
> ?* ? ? ? ?WAIT
> ?* ? ? ? ?RETURN Nil
> ?*
> ?* ?$STATUS$
> ?* ? ? ?R
> ?* ?$COMPLIANCE$
> ?* ? ? ?C
> ?* ?$PLATFORMS$
> ?* ? ? ?All(LFN)
> ?* ?$FILES$
> ?* ? ? ?Library is rtl
> ?* ?$SEEALSO$
> ?* ? ? ?HB_FileExists(), HB_FNameExists()
> ?* ?$END$
> ?*/
>
> ?Now i have one/two more questions:
> ?Are all those eye-bothering '$' & '*' necesary?
> ?Also, are _all_ the above statements mandatory or we could leave out some
> ?of them like $SUBCATEGORY$ $STATUS$ $COMPLIANCE$ etc. to make the txt more
> ?compact and 'quick-readable'
> ?Supposing the answers are 'yes' let see how the above document
> ?could be written:
>
> ------------------------------------------------------------------------------
> /* ?$DOC$
>
> FUNCNAME ?: HB_DirExists( <cDirName> ) --> lExists
>
> SHORTDESC : Determine if a directory exists
>
> ARGUMENTS : <cDirName> Directory name you want to check if exist.
> ? ? ? ? ? ?Can contain a path and Drive letter.
> ? ? ? ? ? ?Wildcards are NOT supported.
> ? ? ? ? ? ?If no path specified then the current path is used.
> ? ? ? ? ? ?SET DEFAULT are not evaluated.
>
> RETURNS ?: HB_DirExists returns a logical TRUE if cDirName exists,
> ? ? ? ? ? otherwise FALSE
>
> DESCRIPTION:
> ? ? ?[Here goes a detailed and very time consuming 'bla-bla' about the
> function
> ? ? ? for which bla-bla is better to left for the second documantation wave
> ? ? ? (and why not as an imagination exersize for the potential reader) ...
> ? ? ? ? ? ? ? ? ...]
>
> EXAMPLES:
> ? ? ?#include 'common.ch'
> ? ? ?Function Main( cDir )
> ? ? ? ? Default cDir to "lib"
> ? ? ? ? QOUT("Current directory: " ? CurDir() )
> ? ? ? ? QOUT("------------------------------------------------------")
> ? ? ? ? QOUT( "Directory: " ? cDir ? " does" ? IIF( HB_DirExists( cDir ), "
> ",
> " NOT " ) ? "exist!" )
> ? ? ? ? cDir := "C:\"
> ? ? ? ? QOUT( "Directory: " ? cDir ? " does" ? IIF( HB_DirExists( cDir ), "
> ",
> " NOT " ) ? "exist!" )
> ? ? ? ? QOUT()
> ? ? ? ? WAIT
> ? ? ? ? RETURN Nil
>
> ?PLATFORMS:
> ? ? ? All(LFN)
> ?FILES:
> ? ? ?Library is rtl
> ?SEE ALSO:
> ? ? ? HB_FileExists(), HB_FNameExists()
> $END$
> */
> --------------------------------------------------------------------------------
>
> An other critical question is how do i decide to document what?
> That is, how do I know if the above documentation is not already written by
> someone else? Obviously, somebody has to monitor the whole process, keeping
> an
> eye on 'who is documenting what' to avoid overlapping writing.
>
> And of course, there are other things/questions that must be cleared up, but
> can't ?been discussed all at once..
> regards,
>
> ---
> Pete
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vszakats at users.sourceforge.net  Fri Feb 19 22:51:11 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 19 22:51:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13928] trunk/harbour
Message-ID: <E1NigN5-0005x5-Il@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13928
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13928&view=rev
Author:   vszakats
Date:     2010-02-20 03:51:10 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 04:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.ch
  * src/common/hbverdsp.c
    - Deleted HB_COMPAT_XPP option. It's no longer used in Harbour.
      From this point all Xbase++ compatibility functions and core
      classes are implemented in 'xpp' contrib library (name
      tentative). Add it to your lib list, if you need Xbase++
      compatible functions. IOW HB_COMPAT_XPP build time option
      got converted to a app link time option.

  * src/rtl/isprint.c
    - Deleted dirty Xbase++ extension of ISPRINTER(). Now it's
      purely Clipper compatible in default build.
      INCOMPATIBLE. For Xbase++ version, use XPP_ISPRINTER()
      (or HB_ISPRINTER() which is the exact same).

  * src/rtl/tobject.prg
  * src/rtl/transfrm.c
  * src/rtl/memoedit.prg
  * include/memoedit.ch
    * Replaced "#ifdef HB_COMPAT_XPP" with "#ifndef HB_CLP_STRICT".
      Which means we've endorsed these extensions in Harbour,
      and they are always enabled except in strict compatibility
      builds.

  * src/rdd/nulsys/nulsys.c
    - Deleted HB_COMPAT_XPP guarded function.

  * contrib/xhb/xhbver.prg
    * Always return .T. for _HB_COMPAT_XPP in version info.

  * include/box.ch
  * contrib/xpp/xpp.ch
    + Added Xbase++ compatibility box.ch constants from core box.ch.
      INCOMPATIBLE if you use B_THIN or B_FAT box style.

  * utils/hbtest/hbtest.prg
  * examples/hbdoc2/tmplates.prg
  * examples/hbdoc2/hbdoc2.prg
    - Deleted parts dealing with HB_COMPAT_XPP option.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/xhbver.prg
    trunk/harbour/contrib/xpp/xpp.ch
    trunk/harbour/examples/hbdoc2/hbdoc2.prg
    trunk/harbour/examples/hbdoc2/tmplates.prg
    trunk/harbour/include/box.ch
    trunk/harbour/include/hbsetup.ch
    trunk/harbour/include/memoedit.ch
    trunk/harbour/src/common/hbverdsp.c
    trunk/harbour/src/rdd/nulsys/nulsys.c
    trunk/harbour/src/rtl/isprint.c
    trunk/harbour/src/rtl/memoedit.prg
    trunk/harbour/src/rtl/tobject.prg
    trunk/harbour/src/rtl/transfrm.c
    trunk/harbour/utils/hbtest/hbtest.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carlosbacco at gmail.com  Fri Feb 19 22:54:11 2010
From: carlosbacco at gmail.com (Bacco)
Date: Fri Feb 19 22:54:39 2010
Subject: [Harbour] Language folder names
Message-ID: <eed8bee51002191954n8bc6029i3f7a528856af2165@mail.gmail.com>

Hi Viktor, As I noticed that you are renaming the en folders to en-EN,
I would like if you tell the correct table of language codes that we
should look-up when someone decides to create a dir on another
language, (also to help the automatic tools development).
From harbour.01 at syenar.hu  Fri Feb 19 23:05:02 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Feb 19 23:05:13 2010
Subject: [Harbour] Language folder names
In-Reply-To: <eed8bee51002191954n8bc6029i3f7a528856af2165@mail.gmail.com>
References: <eed8bee51002191954n8bc6029i3f7a528856af2165@mail.gmail.com>
Message-ID: <3503294C-0AFD-4CB1-A247-556649A34812@syenar.hu>

Hi Bacco,

I renamed them to be consistent along the whole SVN.

We should use the w3c standard language code:
   http://www.w3.org/TR/REC-html40/struct/dirlang.html#langcodes

Now, having said that 'en-EN' might not be correct, for 
generic English it seems to be plain 'en', but I hope 
someone with deeper insight of this standard will enlighten us.

Another question is what codepage to use. I'd vote 
for UTF-8. For English this is theoretically not 
important, though I expect that some accents will 
slip in anyway, so I think we should set UTF-8 
standard for all doc texts. This can be easily 
converted to any target CP.

Brgds,
Viktor

On 2010 Feb 20, at 04:54, Bacco wrote:

> Hi Viktor, As I noticed that you are renaming the en folders to en-EN,
> I would like if you tell the correct table of language codes that we
> should look-up when someone decides to create a dir on another
> language, (also to help the automatic tools development).
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Feb 19 23:13:02 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 19 23:13:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13929] trunk/harbour
Message-ID: <E1NigiE-0006J1-Ex@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13929
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13929&view=rev
Author:   vszakats
Date:     2010-02-20 04:13:01 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 05:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/hbziparc/doc
  + contrib/hbziparc/doc/en-EN
  + contrib/hbziparc/doc/en-EN/hbziparc.txt
  * contrib/hbziparc/hbziparc.prg
    + Separated docs from source code.

  * include/memoedit.ch
    * Replaced "#ifdef HB_COMPAT_XPP" with "#ifndef HB_CLP_STRICT".
      Which means we've endorsed these extensions in Harbour,
      and they are always enabled except in strict compatibility
      builds.
      (one remaining occurence)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbziparc/hbziparc.prg
    trunk/harbour/include/memoedit.ch

Added Paths:
-----------
    trunk/harbour/contrib/hbziparc/doc/
    trunk/harbour/contrib/hbziparc/doc/en-EN/
    trunk/harbour/contrib/hbziparc/doc/en-EN/hbziparc.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Feb 20 02:02:14 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 20 02:02:42 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <1266590171334-4598130.post@n2.nabble.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com> 
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com> 
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com> 
	<1266590171334-4598130.post@n2.nabble.com>
Message-ID: <609353e71002192302p317898bcj620c220f7e78e9a1@mail.gmail.com>

I am working now
can you point me a solution for ha?ving project file indipendent from
location directory?

2010/2/19 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
> Massimo Belgrano wrote:
>>
>> here is updated incremental guide for hbide
>> ? http://harbourlanguage.blogspot.com/
>>
>
> Your blog is almost outdated now.
> Take a look at the interface with new goodies.
> A lot has changed.
>
>
>
>

>



-- 
Massimo Belgrano
From boerig97 at hotmail.com  Sat Feb 20 04:04:04 2010
From: boerig97 at hotmail.com (Marco Boeri)
Date: Sat Feb 20 04:04:13 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002191942g26628914vb1cff26f222396d3@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>,
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>,
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>,
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>,
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>,
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>,
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>,
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>,
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>,
	<hlmv2j$ss4$1@ger.gmane.org>,
	<eed8bee51002191942g26628914vb1cff26f222396d3@mail.gmail.com>
Message-ID: <SNT140-w43DA2D65418D76DDC107CDD5450@phx.gbl>



Hi all,

maybe I missed something, and someone has already told it, but I think that the main goal for a documentation is to be always available, so an online documentation must be a plus, a side feature of an offline documentation. There are many files available in the \doc folder but I can't see if there is a file that organize them in any way, such as alfabetical or category order. I'm a user of ng guides that I use almost every day when  I don't remember the syntax of a function of the properties of a class. I know it's a very old tool but it does the job very well: to show documentation in a fast and proper way without the need of being on line or to scan \doc folder in search of the right file: I don't know if there is a Linux version too.

Another consideration is that many informations that can be useful in "advanced" documentation can be borrowed from this mailing list: personally I'm registering the messages that I think of important for me. Finally another source is the Changelog. So in addition to documentation team that have been suggested, I think that it's important to have someone that has the time to read Changelog and this mailing list in search of the right answer or the proper implementation of a problem. I know that Changelog is updating fast but theare are informations that are valid documentation itself and the keep valid for a long time.

 

Best regards,

Marco
 		 	   		  
_________________________________________________________________
Parla, scrivi, gioca... Scopri le novit? di Messenger
http://www.messenger.it/home_novita.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100220/98410a68/attachment.html
From harbour.01 at syenar.hu  Sat Feb 20 05:02:15 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 05:02:26 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <SNT140-w43DA2D65418D76DDC107CDD5450@phx.gbl>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>,
	<311826DA-B8A3-4809-9FBB-4C777A1E3E83@syenar.hu>,
	<609353e71002171330o7009ef2ai3c3ee1444301dbfb@mail.gmail.com>,
	<06215DEA-A5B1-4471-BB20-9CB9E62338E5@syenar.hu>,
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com>,
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com>,
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>,
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>,
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>,
	<hlmv2j$ss4$1@ger.gmane.org>,
	<eed8bee51002191942g26628914vb1cff26f222396d3@mail.gmail.com>
	<SNT140-w43DA2D65418D76DDC107CDD5450@phx.gbl>
Message-ID: <F8038817-1E30-4640-BA37-22532826FDB8@syenar.hu>

Hi,

> maybe I missed something, and someone has already told it, but I think that the main goal for a documentation is to be always available, so an online documentation must be a plus, a side feature of an offline documentation. There are many files available in the \doc folder but I can't see if there is a file that organize them in any way, such as alfabetical or category order. I'm a user of ng guides that I use almost every day when  I don't remember the syntax of a function of the properties of a class. I know it's a very old tool but it does the job very well: to show documentation in a fast and proper way without the need of being on line or to scan \doc folder in search of the right file: I don't know if there is a Linux version too.

You missed hbdoc2.

> Another consideration is that many informations that can be useful in "advanced" documentation can be borrowed from this mailing list: personally I'm registering the messages that I think of important for me. Finally another source is the Changelog. So in addition to documentation team that have been suggested, I think that it's important to have someone that has the time to read Changelog and this mailing list in search of the right answer or the proper implementation of a problem. I know that Changelog is updating fast but theare are informations that are valid documentation itself and the keep valid for a long time.

Yes.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Feb 20 05:51:53 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 05:52:00 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13930] trunk/harbour
Message-ID: <E1NimwD-0001MN-9U@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13930
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13930&view=rev
Author:   vszakats
Date:     2010-02-20 10:51:51 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 11:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbextern.ch
  * src/rtl/browdb.prg
  * src/rdd/dbcmd.c
  * contrib/xpp/dbcmdx.c
  * contrib/xpp/browdbx.prg
    + Cleaned the way TBrowseDB() "skipper" function is defined.
      This means that from now on by default the faster, .c
      implementation will be used (now called __DBSKIPPER()).
      The same will be used by xpp lib (via compatibility stub
      called DBSKIPPER()). The .prg implementation (now moved
      in core) will be used when HB_CLP_STRICT is enabled.

  * include/hbextern.ch
    + Added missing HB_DYNCALL().

  * contrib/xpp/xpp.ch
    * Do not #define HB_COMPAT_XPP.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xpp/browdbx.prg
    trunk/harbour/contrib/xpp/dbcmdx.c
    trunk/harbour/contrib/xpp/xpp.ch
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/rdd/dbcmd.c
    trunk/harbour/src/rtl/browdb.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 20 06:01:38 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 06:01:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13931] trunk/harbour
Message-ID: <E1Nin5e-0001Y4-82@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13931
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13931&view=rev
Author:   vszakats
Date:     2010-02-20 11:01:36 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 12:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbverdsp.c
  * include/hbsetup.ch
  * contrib/xhb/xhbver.prg
    - Deleted HB_COMPAT_VO, HB_COMPAT_DBASE, HB_COMPAT_CLIP as build-time 
      options. They were not used, and in the future these should be 
      implemented as addon libraries.

  * INSTALL
    * Minor terminogology adjustment.

  * examples/hbdoc2/tmplates.prg
  * examples/hbdoc2/hbdoc2.prg
    - Deleted special handling of FlagShip functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/xhb/xhbver.prg
    trunk/harbour/examples/hbdoc2/hbdoc2.prg
    trunk/harbour/examples/hbdoc2/tmplates.prg
    trunk/harbour/include/hbsetup.ch
    trunk/harbour/src/common/hbverdsp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Sat Feb 20 06:15:56 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sat Feb 20 06:16:23 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <F8038817-1E30-4640-BA37-22532826FDB8@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<72b117651002171824m6fe51f3es8413df737fa69684@mail.gmail.com> 
	<eed8bee51002171857h529bba9at45e814ef1e312be8@mail.gmail.com> 
	<AABEB076-D299-43B2-9E18-1690BCA319C2@syenar.hu>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com> 
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<hlmv2j$ss4$1@ger.gmane.org> 
	<eed8bee51002191942g26628914vb1cff26f222396d3@mail.gmail.com> 
	<SNT140-w43DA2D65418D76DDC107CDD5450@phx.gbl>
	<F8038817-1E30-4640-BA37-22532826FDB8@syenar.hu>
Message-ID: <531d7a751002200315h4798d6eaw8da85040c0ec9aca@mail.gmail.com>

Hi!

When I started the studies on this help format, I found many helpful
information about the format NANFORUM in:
http://www.kssoftware.com.br/ft_doc.zip

And also the code in /harbour/examples/hbdoc2/tmplates.prg

Regards,
Vailton Renato
From vszakats at users.sourceforge.net  Sat Feb 20 06:57:19 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 06:57:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13932] trunk/harbour
Message-ID: <E1NinxX-0008BQ-2z@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13932
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13932&view=rev
Author:   vszakats
Date:     2010-02-20 11:57:17 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 12:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.ch
  * src/common/hbverdsp.c
    - Deleted HB_COMPAT_FLAGSHIP, HB_COMPAT_FOXPRO.

  * include/hbextern.ch
  * src/rtl/seconds.c
    + Added HB_SECONDSCPU()
      (native Harbour version of FlagShip specific SECONDSCPU())

  * tests/memtst.prg
  * tests/speedold.prg
  * tests/speedtst.prg
  * tests/vidtest.prg
    * Changed to use HB_SECONDSCPU().
    + Added translation from SECONDSCPU() to HB_SECONDSCPU() when
      built for FlagShip (where applicable).

  * include/hbextern.ch
  * src/rtl/Makefile
  - src/rtl/strpeek.c
  - src/rtl/secondfs.c
  * contrib/Makefile
  + contrib/hbfship
  + contrib/hbfship/Makefile
  + contrib/hbfship/hbfship.hbc
  + contrib/hbfship/secondfs.c
  + contrib/hbfship/strpeek.c
    - Moved FlagShip specific function from core to new hbfship lib.
    * Changed SECONDSCPU() to be just a wrapper over core HB_SECONDSCPU().
    ; INCOMPATIBLE: If you used SECONDSCPU() function, change it to
                    HB_SECONDSCPU(), or add hbfship to your lib list.
                    If you used STRPEEK() or STRPOKE() functions,
                    add hbfship to your lib list.

  * utils/hbmk2/examples/contribf.hbc
    + Added hbfship.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/include/hbextern.ch
    trunk/harbour/include/hbsetup.ch
    trunk/harbour/src/common/hbverdsp.c
    trunk/harbour/src/rtl/Makefile
    trunk/harbour/src/rtl/seconds.c
    trunk/harbour/tests/memtst.prg
    trunk/harbour/tests/speedold.prg
    trunk/harbour/tests/speedtst.prg
    trunk/harbour/tests/vidtest.prg
    trunk/harbour/utils/hbmk2/examples/contribf.hbc

Added Paths:
-----------
    trunk/harbour/contrib/hbfship/
    trunk/harbour/contrib/hbfship/Makefile
    trunk/harbour/contrib/hbfship/hbfship.hbc
    trunk/harbour/contrib/hbfship/secondfs.c
    trunk/harbour/contrib/hbfship/strpeek.c

Removed Paths:
-------------
    trunk/harbour/src/rtl/secondfs.c
    trunk/harbour/src/rtl/strpeek.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 20 07:03:27 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 07:03:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13933] trunk/harbour
Message-ID: <E1Nio3T-0008ID-HI@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13933
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13933&view=rev
Author:   vszakats
Date:     2010-02-20 12:03:26 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 13:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/Makefile
  - contrib/xpp
  + contrib/hbxpp
  * contrib/hbxpp/Makefile
  - contrib/hbxpp/xpp.hbc
  + contrib/hbxpp/hbxpp.hbc
  - contrib/hbxpp/xppextrn.ch
  + contrib/hbxpp/hbxppext.ch
  - contrib/hbxpp/xpp.ch
  + contrib/hbxpp/hbxpp.ch
  * contrib/hbxpp/tests/hbmk.hbm
  * utils/hbmk2/examples/contribf.hbc
    * Renamed 'xpp' lib to 'hbxpp'. Final name.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/hbxpp/Makefile
    trunk/harbour/contrib/hbxpp/tests/hbmk.hbm
    trunk/harbour/utils/hbmk2/examples/contribf.hbc

Added Paths:
-----------
    trunk/harbour/contrib/hbxpp/
    trunk/harbour/contrib/hbxpp/hbxpp.ch
    trunk/harbour/contrib/hbxpp/hbxpp.hbc
    trunk/harbour/contrib/hbxpp/hbxppext.ch

Removed Paths:
-------------
    trunk/harbour/contrib/hbxpp/xpp.ch
    trunk/harbour/contrib/hbxpp/xpp.hbc
    trunk/harbour/contrib/hbxpp/xppextrn.ch
    trunk/harbour/contrib/xpp/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From daniel at base4.com.br  Sat Feb 20 07:12:50 2010
From: daniel at base4.com.br (=?ISO-8859-1?Q?Daniel_Gon=E7alves?=)
Date: Sat Feb 20 07:12:59 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
	<609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
	<A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
Message-ID: <72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>

2010/2/19 Viktor Szak?ts <harbour.01@syenar.hu>:
>> For example, suppose I want to contribute documenting the hbsqlit3
>> contrib, wich is module I'm very interested. What I'm suposed to do?
>> Create a directory /harbour/doc/en-EN/contrib/hbsqlit3 and write text
>> files in NF format?
>
> All contribs are meant to be independent from
> core, so their docs should be stored in
> ? /contrib/<name>/doc/en-EN/*
>

I searched for this "en-EN" locale identifier and it does not exists
[1], [2] and [3].
It must be changed to "en-US".

[1] http://tools.ietf.org/html/rfc5646
[2] http://www.i18nguy.com/unicode/language-identifiers.html
[3] http://en.wikipedia.org/wiki/Language_code

Regards!

-- 
Daniel Gon?alves
Base4 Sistemas Ltda.
[www.base4.com.br]
[twitter.com/spanazzi]
From harbour.01 at syenar.hu  Sat Feb 20 07:17:21 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 20 07:17:33 2010
Subject: [Harbour] Harbour dialects
In-Reply-To: <E1Nio3T-0008ID-HI@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1Nio3T-0008ID-HI@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <1D03FC7B-6D1F-42F5-9F10-A6F2D0E1101E@syenar.hu>

Okay, so with this change all "dialect" compatibility 
layers/subsystems are moved out from Harbour core to 
contrib or 3rd party domain. This means Harbour core 
is now purely for C5x features (both 5.2e and C5.3, 
latter always marked with HB_COMPAT_C53), plus Harbour 
extensions (always with 'hb' prefix).

This also means that now it's possible to freely 
implement/extend any of these layers as simple 3rd 
party libs either in contrib area or elsewhere.

As for naming rules and constraints, rule for contrib 
area are to use original names if those don't collide 
with core, or possibly with other contribs/3rd parties, 
and use 'xpp_', 'fs_', 'clip_', 'vo_', 'dbase_' (or even 
'xhb_') prefix in respective dialects, if there is a 
chance for collision (f.e. to implement a "dirty" 
extension).

If someone wants to be on the safe side, the easiest 
is to always use these prefixes.

Each of these libs can have a central .ch header which 
implements commands, translations and extra constants, 
here the name of the .ch is the same as of the lib itself 
(f.e. hbfship.ch and hbxpp.ch).

For non-contrib implementation, above rule is only 
a recommendation.

Currently Harbour SVN implements these libs in contrib area:
  - hbfship: FlagShip compatibility lib
  - hbxpp: Xbase++ core compatibility lib
  - xhb: xhb compatibility lib

Brgds,
Viktor

On 2010 Feb 20, at 13:03, vszakats@users.sourceforge.net wrote:

> Revision: 13933
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13933&view=rev
> Author:   vszakats
> Date:     2010-02-20 12:03:26 +0000 (Sat, 20 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-20 13:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/Makefile
>  - contrib/xpp
>  + contrib/hbxpp
>  * contrib/hbxpp/Makefile
>  - contrib/hbxpp/xpp.hbc
>  + contrib/hbxpp/hbxpp.hbc
>  - contrib/hbxpp/xppextrn.ch
>  + contrib/hbxpp/hbxppext.ch
>  - contrib/hbxpp/xpp.ch
>  + contrib/hbxpp/hbxpp.ch
>  * contrib/hbxpp/tests/hbmk.hbm
>  * utils/hbmk2/examples/contribf.hbc
>    * Renamed 'xpp' lib to 'hbxpp'. Final name.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/Makefile
>    trunk/harbour/contrib/hbxpp/Makefile
>    trunk/harbour/contrib/hbxpp/tests/hbmk.hbm
>    trunk/harbour/utils/hbmk2/examples/contribf.hbc
> 
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbxpp/
>    trunk/harbour/contrib/hbxpp/hbxpp.ch
>    trunk/harbour/contrib/hbxpp/hbxpp.hbc
>    trunk/harbour/contrib/hbxpp/hbxppext.ch
> 
> Removed Paths:
> -------------
>    trunk/harbour/contrib/hbxpp/xpp.ch
>    trunk/harbour/contrib/hbxpp/xpp.hbc
>    trunk/harbour/contrib/hbxpp/xppextrn.ch
>    trunk/harbour/contrib/xpp/
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Feb 20 07:19:40 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 07:19:50 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<9471afc81002180242x742b406t33897c9b799d364f@mail.gmail.com>
	<3ACF5826-3D27-4964-A4F3-E348F39DD9C4@syenar.hu>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
	<609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
	<A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
Message-ID: <48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>

Hi Daniel,

>>> For example, suppose I want to contribute documenting the hbsqlit3
>>> contrib, wich is module I'm very interested. What I'm suposed to do?
>>> Create a directory /harbour/doc/en-EN/contrib/hbsqlit3 and write text
>>> files in NF format?
>> 
>> All contribs are meant to be independent from
>> core, so their docs should be stored in
>>   /contrib/<name>/doc/en-EN/*
>> 
> 
> I searched for this "en-EN" locale identifier and it does not exists
> [1], [2] and [3].
> It must be changed to "en-US".
> 
> [1] http://tools.ietf.org/html/rfc5646
> [2] http://www.i18nguy.com/unicode/language-identifiers.html
> [3] http://en.wikipedia.org/wiki/Language_code

Or rather plain 'en'? Can you confirm, if this is 
the valid ID for dialect-neutral English language?

[ Unless we want to even have separate 'US' and 'GB' 
English dialect docs, which I believe we don't. ]

Brgds,
Viktor

From daniel at base4.com.br  Sat Feb 20 08:08:55 2010
From: daniel at base4.com.br (=?ISO-8859-1?Q?Daniel_Gon=E7alves?=)
Date: Sat Feb 20 08:09:04 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
	<609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
	<A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
Message-ID: <72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>

It's better to use "en-US", to better distinguish from others and to
avoid mistakes. We should always follow the pattern "xx-YY".

2010/2/20 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Daniel,
>
>>>> For example, suppose I want to contribute documenting the hbsqlit3
>>>> contrib, wich is module I'm very interested. What I'm suposed to do?
>>>> Create a directory /harbour/doc/en-EN/contrib/hbsqlit3 and write text
>>>> files in NF format?
>>>
>>> All contribs are meant to be independent from
>>> core, so their docs should be stored in
>>> ? /contrib/<name>/doc/en-EN/*
>>>
>>
>> I searched for this "en-EN" locale identifier and it does not exists
>> [1], [2] and [3].
>> It must be changed to "en-US".
>>
>> [1] http://tools.ietf.org/html/rfc5646
>> [2] http://www.i18nguy.com/unicode/language-identifiers.html
>> [3] http://en.wikipedia.org/wiki/Language_code
>
> Or rather plain 'en'? Can you confirm, if this is
> the valid ID for dialect-neutral English language?
>
> [ Unless we want to even have separate 'US' and 'GB'
> English dialect docs, which I believe we don't. ]
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Daniel Gon?alves
Base4 Sistemas Ltda.
[www.base4.com.br]
[twitter.com/spanazzi]
From harbour.01 at syenar.hu  Sat Feb 20 08:17:30 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 08:17:42 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<9471afc81002180817q345c8145jdcbb63b9ed3a28fc@mail.gmail.com>
	<eed8bee51002181047j5b6bdf4ejf18ece7ea7f84285@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
	<609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
	<A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
Message-ID: <1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>

> It's better to use "en-US", to better distinguish from others and to
> avoid mistakes. We should always follow the pattern "xx-YY".

Why not 'en-GB' then? I still don't see a good reason to 
limit us to any specific dialect, moreover the more 
complicated and doubtful we make it, the higher the chances
for a mistake (someone may use 'en', or 'en-GB', or just 
miss the casing and there we are). Also, 'en' looks standard 
and valid language code. [country ID is optional according 
to RFC.]

Brgds,
Viktor

> 
> 2010/2/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Hi Daniel,
>> 
>>>>> For example, suppose I want to contribute documenting the hbsqlit3
>>>>> contrib, wich is module I'm very interested. What I'm suposed to do?
>>>>> Create a directory /harbour/doc/en-EN/contrib/hbsqlit3 and write text
>>>>> files in NF format?
>>>> 
>>>> All contribs are meant to be independent from
>>>> core, so their docs should be stored in
>>>>   /contrib/<name>/doc/en-EN/*
>>>> 
>>> 
>>> I searched for this "en-EN" locale identifier and it does not exists
>>> [1], [2] and [3].
>>> It must be changed to "en-US".
>>> 
>>> [1] http://tools.ietf.org/html/rfc5646
>>> [2] http://www.i18nguy.com/unicode/language-identifiers.html
>>> [3] http://en.wikipedia.org/wiki/Language_code
>> 
>> Or rather plain 'en'? Can you confirm, if this is
>> the valid ID for dialect-neutral English language?
>> 
>> [ Unless we want to even have separate 'US' and 'GB'
>> English dialect docs, which I believe we don't. ]
>> 
>> Brgds,
>> Viktor
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 
> 
> 
> -- 
> Daniel Gon?alves
> Base4 Sistemas Ltda.
> [www.base4.com.br]
> [twitter.com/spanazzi]
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From daniel at base4.com.br  Sat Feb 20 08:44:39 2010
From: daniel at base4.com.br (=?ISO-8859-1?Q?Daniel_Gon=E7alves?=)
Date: Sat Feb 20 08:44:48 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
	<609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
	<A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
Message-ID: <72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>

It's just a pattern, so we all know that always be "xx-YY" for ALL
languages and not "xx" for that one and for the other, but for another
it is "xx-YY", i guess! See! To avoid more things to think about!

I've just made an admonition: "en-EN" does not exists.
If we follow a pattern, it will be one less thing to be concerned about. :-)

2010/2/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>> It's better to use "en-US", to better distinguish from others and to
>> avoid mistakes. We should always follow the pattern "xx-YY".
>
> Why not 'en-GB' then? I still don't see a good reason to
> limit us to any specific dialect, moreover the more
> complicated and doubtful we make it, the higher the chances
> for a mistake (someone may use 'en', or 'en-GB', or just
> miss the casing and there we are). Also, 'en' looks standard
> and valid language code. [country ID is optional according
> to RFC.]
>
> Brgds,
> Viktor
>
>>
>> 2010/2/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> Hi Daniel,
>>>
>>>>>> For example, suppose I want to contribute documenting the hbsqlit3
>>>>>> contrib, wich is module I'm very interested. What I'm suposed to do?
>>>>>> Create a directory /harbour/doc/en-EN/contrib/hbsqlit3 and write text
>>>>>> files in NF format?
>>>>>
>>>>> All contribs are meant to be independent from
>>>>> core, so their docs should be stored in
>>>>> ? /contrib/<name>/doc/en-EN/*
>>>>>
>>>>
>>>> I searched for this "en-EN" locale identifier and it does not exists
>>>> [1], [2] and [3].
>>>> It must be changed to "en-US".
>>>>
>>>> [1] http://tools.ietf.org/html/rfc5646
>>>> [2] http://www.i18nguy.com/unicode/language-identifiers.html
>>>> [3] http://en.wikipedia.org/wiki/Language_code
>>>
>>> Or rather plain 'en'? Can you confirm, if this is
>>> the valid ID for dialect-neutral English language?
>>>
>>> [ Unless we want to even have separate 'US' and 'GB'
>>> English dialect docs, which I believe we don't. ]
>>>
>>> Brgds,
>>> Viktor
>>>
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>>
>>
>> --
>> Daniel Gon?alves
>> Base4 Sistemas Ltda.
>> [www.base4.com.br]
>> [twitter.com/spanazzi]
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Daniel Gon?alves
Base4 Sistemas Ltda.
[www.base4.com.br]
[twitter.com/spanazzi]
From harbour.01 at syenar.hu  Sat Feb 20 08:55:31 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 08:55:42 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<531d7a751002190227w7b38d2c0xb928a72caa720b74@mail.gmail.com>
	<eed8bee51002190356h606b5b89mff0d3b07fb81aebc@mail.gmail.com>
	<609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
	<A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
Message-ID: <AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>

> It's just a pattern, so we all know that always be "xx-YY" for ALL
> languages and not "xx" for that one and for the other, but for another
> it is "xx-YY", i guess! See! To avoid more things to think about!

But this pattern is not true to the standard, 
it can also be "xx", "xx-YYY", "xx-yyyyy-zzz", 
see the RFC. Each have different and meaningful 
meanings.

> I've just made an admonition: "en-EN" does not exists.

I know, that's why I started this discussion 
in the first place :)

> If we follow a pattern, it will be one less thing to be concerned about. :-)

I think we should follow the standard, 
rather than a limited pattern.

If we invent our own pattern, it will not be possible 
to interchange our language code with tools which 
adhere to standards.

BTW we should only worry about this _once_ for each 
language we translate our documentation to. So 
far we have bits in English and Spanish only, so 
it's not very complicated. Moreover IMO we should 
first concentrate on English only.

Brgds,
Viktor

From daniel at base4.com.br  Sat Feb 20 09:08:55 2010
From: daniel at base4.com.br (=?ISO-8859-1?Q?Daniel_Gon=E7alves?=)
Date: Sat Feb 20 09:09:02 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<609353e71002190404t5ad7dbd4g3cd17496c7de5b53@mail.gmail.com>
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
	<A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
Message-ID: <72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>

Ok Viktor,
I suggested the pattern because on other open-source projects I follow
and participate, they use the pattern "xx-YY", but I will use the
rules for Harbour project. I hope you guys understands that I not
trying to impose anything. I'm just trying to help using my knowledge
and experience from other spheres!

2010/2/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>> It's just a pattern, so we all know that always be "xx-YY" for ALL
>> languages and not "xx" for that one and for the other, but for another
>> it is "xx-YY", i guess! See! To avoid more things to think about!
>
> But this pattern is not true to the standard,
> it can also be "xx", "xx-YYY", "xx-yyyyy-zzz",
> see the RFC. Each have different and meaningful
> meanings.
>
>> I've just made an admonition: "en-EN" does not exists.
>
> I know, that's why I started this discussion
> in the first place :)
>
>> If we follow a pattern, it will be one less thing to be concerned about. :-)
>
> I think we should follow the standard,
> rather than a limited pattern.
>
> If we invent our own pattern, it will not be possible
> to interchange our language code with tools which
> adhere to standards.
>
> BTW we should only worry about this _once_ for each
> language we translate our documentation to. So
> far we have bits in English and Spanish only, so
> it's not very complicated. Moreover IMO we should
> first concentrate on English only.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Daniel Gon?alves
Base4 Sistemas Ltda.
[www.base4.com.br]
[twitter.com/spanazzi]
From kadziola at tlen.pl  Sat Feb 20 09:17:26 2010
From: kadziola at tlen.pl (=?windows-1250?Q?Jaros=B3aw_K=B9dzio=B3a?=)
Date: Sat Feb 20 09:17:38 2010
Subject: [Harbour] Error building WinCE
Message-ID: <716016079.20100220151726@tlen.pl>

Hi,

I'm trying build WinCE-HB and i get :

gcc   -I. -I../../../../../include -Wall -W -O2 -fomit-frame-pointer -DHB_LEGACY_TYPES_OFF -DUNICODE   -ohbpp.o -c ../../../hbpp.c
gcc  -L../../../../../lib/wce/mingwarm   -o ..\..\..\..\..\bin\wce\mingwarm\hbpp.exe hbpp.o -lhbnortl -lhbcommon -lcoredll -lws2 
d:/qt/4.5.3/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe: cannot find -lcoredll
collect2: ld returned 1 exit status
mingw32-make[3]: *** [hbpp.exe] Error 1
rm hbpp.o
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp.inst] Error 2
mingw32-make: *** [src.inst] Error 2

Waht's wrong ?
  
My batch :

SET PATH=D:\Qt\4.5.3\mingw\bin;%PATH%
SET HB_BIN_COMPILE=D:\LASTHB\HARBOUR\bin
SET HB_PLATFORM=wce
SET HB_COMPILER=mingwarm
SET HB_WITH_QT=D:\Qt\4.5.3\include
SET HB_DIR_QT=D:\Qt\4.5.3
SET HB_QT_STATIC=yes 
SET HB_INSTALL_PREFIX=%~dp0
win-make clean install %1 %2 > log-%HB_COMPILER%.txt 2>&1

-- 
Regards
Jaroslaw Kadziola


From harbour.01 at syenar.hu  Sat Feb 20 09:29:15 2010
From: harbour.01 at syenar.hu (=?windows-1250?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 09:29:28 2010
Subject: [Harbour] Error building WinCE
In-Reply-To: <716016079.20100220151726@tlen.pl>
References: <716016079.20100220151726@tlen.pl>
Message-ID: <21D65080-4FF8-4753-99DE-F465C677D033@syenar.hu>

Hi,

> I'm trying build WinCE-HB and i get :
> 
> gcc   -I. -I../../../../../include -Wall -W -O2 -fomit-frame-pointer -DHB_LEGACY_TYPES_OFF -DUNICODE   -ohbpp.o -c ../../../hbpp.c
> gcc  -L../../../../../lib/wce/mingwarm   -o ..\..\..\..\..\bin\wce\mingwarm\hbpp.exe hbpp.o -lhbnortl -lhbcommon -lcoredll -lws2 
> d:/qt/4.5.3/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe: cannot find -lcoredll
> collect2: ld returned 1 exit status
> mingw32-make[3]: *** [hbpp.exe] Error 1
> rm hbpp.o
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [pp.inst] Error 2
> mingw32-make: *** [src.inst] Error 2
> 
> Waht's wrong ?
> 
> My batch :
> 
> SET PATH=D:\Qt\4.5.3\mingw\bin;%PATH%
> SET HB_BIN_COMPILE=D:\LASTHB\HARBOUR\bin
> SET HB_PLATFORM=wce
> SET HB_COMPILER=mingwarm
> SET HB_WITH_QT=D:\Qt\4.5.3\include
> SET HB_DIR_QT=D:\Qt\4.5.3
> SET HB_QT_STATIC=yes 
> SET HB_INSTALL_PREFIX=%~dp0
> win-make clean install %1 %2 > log-%HB_COMPILER%.txt 2>&1

You're manually forcing HB_COMPILER and HB_PLATFORM 
values, and they are wrong.

I strongly suggest for all users to drop HB_COMPILER 
and HB_PLATFORM from all of the scripts, unless there 
is a rare need to override autodetection. This is about 
the 40th times I write this, maybe the last one :(

You will need the CEGCC version of mingw to create 
WinCE Harbour build, the Win32 edition won't do. 
See INSTALL for links and examples.

Brgds,
Viktor

From vatzct at polly.com.ua  Sat Feb 20 09:37:12 2010
From: vatzct at polly.com.ua (vatzct@polly.com.ua)
Date: Sat Feb 20 09:37:01 2010
Subject: [Harbour] Error: Unresolved external '_HB_FUN_CURDRIVE'
Message-ID: <8985891.3fbe4d29ddb23f7909bb454c01f5fa9c@webm.polly.com.ua>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100220/00ed6bba/attachment.html
From marcobra.ubuntu at gmail.com  Sat Feb 20 09:45:15 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Sat Feb 20 09:45:23 2010
Subject: [Harbour] Error: Unresolved external '_HB_FUN_CURDRIVE'
In-Reply-To: <8985891.3fbe4d29ddb23f7909bb454c01f5fa9c@webm.polly.com.ua>
References: <8985891.3fbe4d29ddb23f7909bb454c01f5fa9c@webm.polly.com.ua>
Message-ID: <fd76479f1002200645p22438993ve538e8e8fa9e5f9e@mail.gmail.com>

Hi, on Ubuntu 9.10 32bit
Recompiling Harbour SVN Rev.: 13933

I get

make[3]: `../../../../../bin/linux/gcc/hbrun' is up to date.
gcc  -L../../../../../lib/linux/gcc -L/usr/X11R6/lib
-o../../../../../bin/linux/gcc/hbmk2 hbmk2.o -lhbcplr -lhbpp -lhbcommon
-lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca
-lgtstd -lgtcrs -lgtsln -lgtxwc -lgttrm -lhbnulrdd -lhbrtl -lhbvmmt
-lhbmacro -lhbcplr -lhbpp -lhbcommon -lncurses -lslang -lX11 -lgpm -lpcre
-lz -lrt -ldl -lpthread -lm
hbmk2.o:(.data+0xb18): undefined reference to `HB_FUN_CURDRIVE'
collect2: ld returned 1 exit status
make[3]: *** [hbmk2] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbmk2] Error 2
make: *** [utils] Error 2
! Building Harbour 2.1.0dev from source - http://www.harbour-project.org

Thank you
Best regards

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100220/d430ec32/attachment.html
From vszakats at users.sourceforge.net  Sat Feb 20 09:56:29 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 09:56:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13934] trunk/harbour
Message-ID: <E1Niqkv-0005lr-7k@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13934
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13934&view=rev
Author:   vszakats
Date:     2010-02-20 14:56:27 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 15:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/philes.c
  * include/hbextern.ch
    + Added HB_CURDRIVE(). Similar to Xbase++ CURDRIVE(), but
      always provided by Harbour core.

  * utils/hbmk2/hbmk2.prg
    - Deleted mapping from hb_CurDrive() to CurDrive().

  * examples/httpsrv/uhttpd.prg
  * examples/httpsrv/modules/tableservletdb.prg
  * examples/gtwvw/tests/wvwtest9.prg
    * Changed to use hb_CurDrive() which is always available in
      Harbour core, instead of Xbase++ specific CurDrive().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/gtwvw/tests/wvwtest9.prg
    trunk/harbour/examples/httpsrv/modules/tableservletdb.prg
    trunk/harbour/examples/httpsrv/uhttpd.prg
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/rtl/philes.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 20 10:00:55 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 10:01:02 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13935] trunk/harbour
Message-ID: <E1NiqpD-0005qu-9l@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13935
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13935&view=rev
Author:   vszakats
Date:     2010-02-20 15:00:51 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 16:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/hbfoxpro
  + contrib/hbfoxpro/hbfoxpro.ch
    + Added Visual FoxPro compatibility header.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbfoxpro/
    trunk/harbour/contrib/hbfoxpro/hbfoxpro.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Feb 20 10:07:01 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 20 10:07:32 2010
Subject: [Harbour] Error: Unresolved external '_HB_FUN_CURDRIVE'
In-Reply-To: <8985891.3fbe4d29ddb23f7909bb454c01f5fa9c@webm.polly.com.ua>
References: <8985891.3fbe4d29ddb23f7909bb454c01f5fa9c@webm.polly.com.ua>
Message-ID: <609353e71002200707s36875af6sf8a2c3f41dd2d0f1@mail.gmail.com>

same in win
WIN-MAKE[2]: [install] Error 1 (ignored)
../../../../../bin/win/mingw/harbour.exe ../../../hbrun.prg
-i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
-march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbrun.o -c
hbrun.c
gcc  -L../../../../../lib/win/mingw   -o
..\..\..\..\..\bin\win\mingw\hbrun.exe hbrun.o -lhbcplr -lhbpp
-lhbcommon -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage
-lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbrdd -lrddntx
-lrddnsx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lhbusrrdd -lhbuddall
-lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
-lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
        1 file copiati.
../../../../../bin/win/mingw/harbour.exe ../../../hbmk2.prg
-i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
-march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbmk2.o -c
hbmk2.c
gcc  -L../../../../../lib/win/mingw   -o
..\..\..\..\..\bin\win\mingw\hbmk2.exe hbmk2.o -lhbcplr -lhbpp
-lhbcommon -lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage
-lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbnulrdd -lhbrtl
-lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
-lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
hbmk2.o:hbmk2.c:(.data+0xb38): undefined reference to `HB_FUN_CURDRIVE'
collect2: ld returned 1 exit status
WIN-MAKE[3]: *** [hbmk2.exe] Error 1
WIN-MAKE[2]: *** [descend] Error 2
WIN-MAKE[1]: *** [hbmk2.inst] Error 2
WIN-MAKE: *** [utils.inst] Error 2



2010/2/20  <vatzct@polly.com.ua>:
> Hi!
>
> I can't build harbour
> $Id: ChangeLog 13933 2010-02-20 12:03:26Z vszakats $
>
> ../../../../../bin/win/bcc/harbour.exe ../../../hbmk2.prg
> -i./../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
> bcc32.exe?? -I. -I../../../../../include -q -tWM -CP437 -w -w-sig- -Q -d -6
> -O2 -OS -Ov -Oi -Oc -DHB_LEGACY_TYPES_OFF
> -I"c:\dev\borland\bcc55\bin\..\Include"? -ohbmk2.obj -c hbmk2.c
> hbmk2.c:
> ilink32.exe? -L"c:\dev\borland\bcc55\bin\..\Lib"
> -L"c:\dev\borland\bcc55\bin\..\Lib\PSDK" -L"..\..\..\..\..\lib\win\bcc" -Gn
> -Tpe?? c0x32.obj hbmk2.obj, "..\..\..\..\..\bin\win\bcc\hbmk2.exe", nul,
> hbcplr hbpp hbcommon hbextern hbdebug hbvmmt hbrtl hblang hbcpage gtcgi
> gtpca gtstd gtwvt gtgui gtwin hbnulrdd hbrtl hbvmmt hbmacro hbcplr hbpp
> hbcommon hbpcre hbzlib kernel32 user32 ws2_32 advapi32 gdi32 cw32mt import32
> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> Error: Unresolved external '_HB_FUN_CURDRIVE' referenced from
> C:\DEV\HARBOUR_SVN\UTILS\HBMK2\OBJ\WIN\BCC\HBMK2.OBJ
>
> Regards,
> Alexey Myronenko
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Sat Feb 20 10:39:34 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 10:39:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13936] trunk/harbour
Message-ID: <E1NirQc-0003Pr-At@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13936
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13936&view=rev
Author:   vszakats
Date:     2010-02-20 15:39:33 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 16:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/memvars.c
  * src/common/hbverdsp.c
  * doc/whatsnew.txt
  * include/hbsetup.ch
  * utils/hbtest/rt_str.prg
    * "5.3x" -> "5.3b"

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/include/hbsetup.ch
    trunk/harbour/src/common/hbverdsp.c
    trunk/harbour/src/vm/memvars.c
    trunk/harbour/utils/hbtest/rt_str.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carlosbacco at gmail.com  Sat Feb 20 11:37:19 2010
From: carlosbacco at gmail.com (Bacco)
Date: Sat Feb 20 11:37:47 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com> 
	<A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com> 
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com> 
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com> 
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>
Message-ID: <eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>

I think we should use the IETF format, (the W3C model that Viktor mentioned)

http://en.wikipedia.org/wiki/IETF_language_tag

only two letters, except when we need it. As we lack documentation, at this
stage it doesn't make sense to me even to split the pt language into
pt-BR (my language) and pt only. We can use the ietf "shortest code" rule
adding the -SUBCODE only when the necessity arrives.

You can find the table here:

http://www.iana.org/assignments/language-subtag-registry

2010/2/20 Daniel Gon?alves <daniel@base4.com.br>:
> Ok Viktor,
> I suggested the pattern because on other open-source projects I follow
> and participate, they use the pattern "xx-YY", but I will use the
> rules for Harbour project. I hope you guys understands that I not
> trying to impose anything. I'm just trying to help using my knowledge
> and experience from other spheres!
>
> 2010/2/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> It's just a pattern, so we all know that always be "xx-YY" for ALL
>>> languages and not "xx" for that one and for the other, but for another
>>> it is "xx-YY", i guess! See! To avoid more things to think about!
>>
>> But this pattern is not true to the standard,
>> it can also be "xx", "xx-YYY", "xx-yyyyy-zzz",
>> see the RFC. Each have different and meaningful
>> meanings.
>>
>>> I've just made an admonition: "en-EN" does not exists.
>>
>> I know, that's why I started this discussion
>> in the first place :)
>>
>>> If we follow a pattern, it will be one less thing to be concerned about. :-)
>>
>> I think we should follow the standard,
>> rather than a limited pattern.
>>
>> If we invent our own pattern, it will not be possible
>> to interchange our language code with tools which
>> adhere to standards.
>>
>> BTW we should only worry about this _once_ for each
>> language we translate our documentation to. So
>> far we have bits in English and Spanish only, so
>> it's not very complicated. Moreover IMO we should
>> first concentrate on English only.
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
>
> --
> Daniel Gon?alves
> Base4 Sistemas Ltda.
> [www.base4.com.br]
> [twitter.com/spanazzi]
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From druzus at users.sourceforge.net  Sat Feb 20 12:07:04 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Feb 20 12:07:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
Message-ID: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13937
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13937&view=rev
Author:   druzus
Date:     2010-02-20 17:07:00 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 18:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/task.c
    ! fixed casting for C++ builds

  * harbour/src/lang/msges.c
    ! added hack for Solaris builds where ES is macro
      TODDO: sync names of lang and corresponding code modules.

  * harbour/src/vm/dynlibhb.c
    * pacified warning

  * harbour/contrib/xpp/xppextrn.ch
  * harbour/contrib/xpp/dbcmdx.c
  * harbour/include/hbextern.ch
  * harbour/src/rdd/dbcmd53.c
    ! moved ordWildSeek() from XPP to HBRDD library.
      I have no idea if XPP has such function or if it's or not
      compatible with ORDWILDSEEK() functions I created for [x]Harbour
    * disable ordCount() and ordWildSeek() functions when HB_CLP_STRICT
      macro is set

  * harbour/include/hbsocket.ch
    + added macro values interface info flags: HB_SOCKET_IFF_*
    + added macro values for interface info array indexes: HB_SOCKET_IFINFO_*

  * harbour/include/hbsocket.h
  * harbour/src/rtl/hbsocket.c
    + added new C function:
         PHB_ITEM hb_socketGetIFaces( int af, HB_BOOL fNoAliases );
      it returns array with existing interfaces description.
      This code was added for non MS-Windows based platforms only.
      Support for MS-Windows has to be added yet.
      Some platforms may not fill all fields in the returned array.
      When some fields are not supported by platform or interface then
      they can contain NIL value.
      On some platforms this code can effectively work only with IP4
      interfaces and IP6 ones will need different implementation.
      TODO: add support for alternative long interface introduced in some
            new systems using 'struct lifreq' with SIOCGLIF* ioctls instead
            of 'struct ifreq' and SIOCGIF*
      TODO: add support for extracting hardware addreses (i.e. ethernet
            macaddresses) for systems which do not support SIOCGIFHWADDR.

      Please test this code with OS2 using OpenWatcom and GCC (old and
      new socket API). I enabled HB_HAS_SOCKADDR_SA_LEN in OS2 builds.
      OpenWatocm OS2 header files have such fields but I do know if it's
      also present in GCC socket API.

  * harbour/include/hbextern.ch
  * harbour/src/rtl/hbinet.c
    + added new PRG function:
         hb_inetIfInfo( [<lNoAliases>] [, <nAddrFamily>] ) -> <aInfo>
      <lNoAliases> is .F. by default so aliases are included
      <nAddrFamily> is HB_SOCKET_AF_INET by default
      <aInfo> is an array in which each entry is also array with the
      following fields:
         HB_SOCKET_IFINFO_FAMILY    1     // adress family
         HB_SOCKET_IFINFO_NAME      2     // interface name
         HB_SOCKET_IFINFO_FLAGS     3     // flags HB_SOCKET_IFF_*
         HB_SOCKET_IFINFO_ADDR      4     // interface address
         HB_SOCKET_IFINFO_NETMASK   5     // subnetmask
         HB_SOCKET_IFINFO_BROADCAST 6     // broadcast address
         HB_SOCKET_IFINFO_P2PADDR   7     // point-to-point address
         HB_SOCKET_IFINFO_HWADDR    8     // hardware address

      Please use this code on different non MS-Windows platforms:

            proc main( noAlias )
               local iface
               ? os(), version()
               ? "interfaces:"
               for each iface in hb_inetIfInfo( !empty( noAlias ), 0 )
                  ? hb_valToExp( iface )
               next
               ?
            return

      and check if it returns correct information about available
      interfaces.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/dbcmdx.c
    trunk/harbour/contrib/hbxpp/hbxppext.ch
    trunk/harbour/include/hbextern.ch
    trunk/harbour/include/hbsocket.ch
    trunk/harbour/include/hbsocket.h
    trunk/harbour/src/lang/msges.c
    trunk/harbour/src/rdd/dbcmd53.c
    trunk/harbour/src/rtl/hbinet.c
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/task.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Sat Feb 20 12:25:17 2010
From: kadziola at tlen.pl (=?windows-1250?Q?Jaros=B3aw_K=B9dzio=B3a?=)
Date: Sat Feb 20 12:25:25 2010
Subject: [Harbour] Error building WinCE
In-Reply-To: <21D65080-4FF8-4753-99DE-F465C677D033@syenar.hu>
References: <716016079.20100220151726@tlen.pl>
	<21D65080-4FF8-4753-99DE-F465C677D033@syenar.hu>
Message-ID: <172329248.20100220182517@tlen.pl>

Hi,


>> I'm trying build WinCE-HB and i get :
>> 
>> gcc   -I. -I../../../../../include -Wall -W -O2 -fomit-frame-pointer -DHB_LEGACY_TYPES_OFF -DUNICODE   -ohbpp.o -c ../../../hbpp.c
>> gcc  -L../../../../../lib/wce/mingwarm   -o ..\..\..\..\..\bin\wce\mingwarm\hbpp.exe hbpp.o -lhbnortl -lhbcommon -lcoredll -lws2 
>> d:/qt/4.5.3/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe: cannot find -lcoredll
>> collect2: ld returned 1 exit status
>> mingw32-make[3]: *** [hbpp.exe] Error 1
>> rm hbpp.o
>> mingw32-make[2]: *** [descend] Error 2
>> mingw32-make[1]: *** [pp.inst] Error 2
>> mingw32-make: *** [src.inst] Error 2
>> 
>> Waht's wrong ?
>> 
>> My batch :
>> 
>> SET PATH=D:\Qt\4.5.3\mingw\bin;%PATH%
>> SET HB_BIN_COMPILE=D:\LASTHB\HARBOUR\bin
>> SET HB_PLATFORM=wce
>> SET HB_COMPILER=mingwarm
>> SET HB_WITH_QT=D:\Qt\4.5.3\include
>> SET HB_DIR_QT=D:\Qt\4.5.3
>> SET HB_QT_STATIC=yes 
>> SET HB_INSTALL_PREFIX=%~dp0
>> win-make clean install %1 %2 > log-%HB_COMPILER%.txt 2>&1


> You will need the CEGCC version of mingw to create 
> WinCE Harbour build, the Win32 edition won't do. 
> See INSTALL for links and examples.

After modifications :

SET PATH=D:\hb20\comp\mingwarm\opt\mingw32ce\bin;%PATH%
SET HB_BIN_COMPILE=D:\LASTHB\HARBOUR\bin
SET HB_WITH_QT=D:\Qt\4.5.3\include
SET HB_DIR_QT=D:\Qt\4.5.3
SET HB_QT_STATIC=yes 
SET HB_INSTALL_PREFIX=%~dp0
mingw32-make clean install %1 %2 > log-%HB_COMPILER%.txt 2>&1

! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
! MAKE: win-make 3.81 sh.exe clean install  
! HB_INSTALL_PREFIX: D:\LASTHB\HARBOUR\
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: wce (arm) (autodetected)
! HB_COMPILER: mingwarm (autodetected: D:/hb20/comp/mingwarm/opt/mingw32ce/bin/)
! HB_BIN_COMPILE: D:\LASTHB\HARBOUR\bin
.
.
.
arm-mingw32ce-gcc   -I. -I../../../../../include -O2 -fomit-frame-pointer -DHB_LEGACY_TYPES_OFF -DUNICODE  -D_WIN32_WCE  -osqlite3.o -c ../../../sqlite3.c
win-make[3]: *** [sqlite3.o] Error 1
win-make[2]: *** [descend] Error 2
win-make[1]: *** [sqlite3.inst] Error 2
win-make: *** [external.inst] Error 2

And what's wrong now ?


-- 
Regards,
Jaroslaw Kadziola


From druzus at users.sourceforge.net  Sat Feb 20 12:36:16 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Feb 20 12:36:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13938] trunk/harbour
Message-ID: <E1NitFY-0005LJ-L0@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13938
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13938&view=rev
Author:   druzus
Date:     2010-02-20 17:36:15 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 18:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbsqlit3/hbsqlit3.c
    ! fixed to work without [U]LONGLONG defined in hbdefs.h

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sat Feb 20 12:48:01 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Feb 20 12:48:07 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13939] trunk/harbour
Message-ID: <E1NitQv-0005Yq-De@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13939
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13939&view=rev
Author:   druzus
Date:     2010-02-20 17:48:00 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 18:47 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbsocket.c
    ! fixed typo

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Feb 20 12:56:14 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 20 12:56:44 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <1266590171334-4598130.post@n2.nabble.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com> 
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com> 
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com> 
	<1266590171334-4598130.post@n2.nabble.com>
Message-ID: <609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com>

done
http://harbourlanguage.blogspot.com/

I have problem with same image
and receive an error when exit
Visual c++ runtime library
this application has requested the runtime to terminate in an unsual way
please contact the application's support team for more information

How can i correct?
Why messages is sent from Visual c++ runtime if am using mingw?

2010/2/19 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
> Massimo Belgrano wrote:
>>
>> here is updated incremental guide for hbide
>> ? http://harbourlanguage.blogspot.com/
>>
>
> Your blog is almost outdated now.
> Take a look at the interface with new goodies.
> A lot has changed.
>
>
>
>


-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Sat Feb 20 13:32:40 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 13:32:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13940] trunk/harbour
Message-ID: <E1Niu88-0004gb-MT@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13940
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13940&view=rev
Author:   vszakats
Date:     2010-02-20 18:32:39 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 19:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rdd/Makefile
  * src/rdd/dbcmd53.c
  + src/rdd/ordwldsk.c
  + src/rdd/ordcount.c
    + Moved Harbour extensions in Clipper namespace to separate 
      sources.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/Makefile
    trunk/harbour/src/rdd/dbcmd53.c

Added Paths:
-----------
    trunk/harbour/src/rdd/ordcount.c
    trunk/harbour/src/rdd/ordwldsk.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 20 13:34:15 2010
From: harbour.01 at syenar.hu (=?windows-1250?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 13:34:26 2010
Subject: [Harbour] Error building WinCE
In-Reply-To: <172329248.20100220182517@tlen.pl>
References: <716016079.20100220151726@tlen.pl>
	<21D65080-4FF8-4753-99DE-F465C677D033@syenar.hu>
	<172329248.20100220182517@tlen.pl>
Message-ID: <D2A2EA49-654C-4DA2-945A-AA8CD83547E0@syenar.hu>

>> You will need the CEGCC version of mingw to create 
>> WinCE Harbour build, the Win32 edition won't do. 
>> See INSTALL for links and examples.
> 
> After modifications :
> 
> SET PATH=D:\hb20\comp\mingwarm\opt\mingw32ce\bin;%PATH%
> SET HB_BIN_COMPILE=D:\LASTHB\HARBOUR\bin
> SET HB_WITH_QT=D:\Qt\4.5.3\include
> SET HB_DIR_QT=D:\Qt\4.5.3
> SET HB_QT_STATIC=yes 
> SET HB_INSTALL_PREFIX=%~dp0
> mingw32-make clean install %1 %2 > log-%HB_COMPILER%.txt 2>&1
> 
> ! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
> ! MAKE: win-make 3.81 sh.exe clean install  
> ! HB_INSTALL_PREFIX: D:\LASTHB\HARBOUR\
> ! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
> ! HB_PLATFORM: wce (arm) (autodetected)
> ! HB_COMPILER: mingwarm (autodetected: D:/hb20/comp/mingwarm/opt/mingw32ce/bin/)
> ! HB_BIN_COMPILE: D:\LASTHB\HARBOUR\bin
> .
> .
> .
> arm-mingw32ce-gcc   -I. -I../../../../../include -O2 -fomit-frame-pointer -DHB_LEGACY_TYPES_OFF -DUNICODE  -D_WIN32_WCE  -osqlite3.o -c ../../../sqlite3.c
> win-make[3]: *** [sqlite3.o] Error 1
> win-make[2]: *** [descend] Error 2
> win-make[1]: *** [sqlite3.inst] Error 2
> win-make: *** [external.inst] Error 2
> 
> And what's wrong now ?

Since there is no visible error in above log, I can 
just guess it's an installation problem. INSTALL says 
you need Cygwin in PATH, probably it's missing.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Feb 20 14:01:21 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 14:01:32 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<72b117651002191006n59190706qfc16f1f1ba62c6aa@mail.gmail.com>
	<A3C2B634-0EFF-4EA5-977D-65B7CC7DD10B@syenar.hu>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>
Message-ID: <61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>

Hi Bacco,

> I think we should use the IETF format, (the W3C model that Viktor mentioned)
> 
> http://en.wikipedia.org/wiki/IETF_language_tag
> 
> only two letters, except when we need it. As we lack documentation, at this
> stage it doesn't make sense to me even to split the pt language into
> pt-BR (my language) and pt only. We can use the ietf "shortest code" rule
> adding the -SUBCODE only when the necessity arrives.

I'm not familiar with Brazil dialect of Portuguese language, 
but if it's practically different from "regular" Portuguese, 
IMO we should use pt-BR as per the standard. We use this code 
already for Portuguese translation of hbmk2, and I just suspect 
it was used for good reason. A native speaker is better to 
make it clear here.

All in all, let's use what the standard dictates, and 
not uniformly "xx" or uniformly "xx-YY". For example, 
the proper code for Hungarian language is 'hu-HU'.
(for generic English it's 'en').

Brgds,
Viktor

> 
> You can find the table here:
> 
> http://www.iana.org/assignments/language-subtag-registry
> 
> 2010/2/20 Daniel Gon?alves <daniel@base4.com.br>:
>> Ok Viktor,
>> I suggested the pattern because on other open-source projects I follow
>> and participate, they use the pattern "xx-YY", but I will use the
>> rules for Harbour project. I hope you guys understands that I not
>> trying to impose anything. I'm just trying to help using my knowledge
>> and experience from other spheres!
>> 
>> 2010/2/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>> It's just a pattern, so we all know that always be "xx-YY" for ALL
>>>> languages and not "xx" for that one and for the other, but for another
>>>> it is "xx-YY", i guess! See! To avoid more things to think about!
>>> 
>>> But this pattern is not true to the standard,
>>> it can also be "xx", "xx-YYY", "xx-yyyyy-zzz",
>>> see the RFC. Each have different and meaningful
>>> meanings.
>>> 
>>>> I've just made an admonition: "en-EN" does not exists.
>>> 
>>> I know, that's why I started this discussion
>>> in the first place :)
>>> 
>>>> If we follow a pattern, it will be one less thing to be concerned about. :-)
>>> 
>>> I think we should follow the standard,
>>> rather than a limited pattern.
>>> 
>>> If we invent our own pattern, it will not be possible
>>> to interchange our language code with tools which
>>> adhere to standards.
>>> 
>>> BTW we should only worry about this _once_ for each
>>> language we translate our documentation to. So
>>> far we have bits in English and Spanish only, so
>>> it's not very complicated. Moreover IMO we should
>>> first concentrate on English only.
>>> 
>>> Brgds,
>>> Viktor
>>> 
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>> 
>>> 
>> 
>> 
>> 
>> --
>> Daniel Gon?alves
>> Base4 Sistemas Ltda.
>> [www.base4.com.br]
>> [twitter.com/spanazzi]
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From kadziola at tlen.pl  Sat Feb 20 14:19:05 2010
From: kadziola at tlen.pl (=?windows-1250?Q?Jaros=B3aw_K=B9dzio=B3a?=)
Date: Sat Feb 20 14:19:13 2010
Subject: [Harbour] Error building WinCE
In-Reply-To: <D2A2EA49-654C-4DA2-945A-AA8CD83547E0@syenar.hu>
References: <716016079.20100220151726@tlen.pl>
	<21D65080-4FF8-4753-99DE-F465C677D033@syenar.hu>
	<172329248.20100220182517@tlen.pl>
	<D2A2EA49-654C-4DA2-945A-AA8CD83547E0@syenar.hu>
Message-ID: <666146864.20100220201905@tlen.pl>

Hi,


> Since there is no visible error in above log, I can 
> just guess it's an installation problem. INSTALL says 
> you need Cygwin in PATH, probably it's missing.

Cygwin added to path and full log is :

! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
! MAKE: win-make 3.81 D:/hb20/cygwin/bin/sh.exe clean install  
! HB_INSTALL_PREFIX: D:\LASTHB\HARBOUR\
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: wce (arm) (autodetected)
! HB_COMPILER: mingwarm (autodetected: D:/hb20/comp/mingwarm/opt/mingw32ce/bin/)
! HB_BIN_COMPILE: D:\LASTHB\HARBOUR\bin
! Component: 'zlib' found in D:/LASTHB/HARBOUR/external/zlib (local)
! Component: 'pcre' found in D:/LASTHB/HARBOUR/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on wce platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not found. Configure with HB_WITH_CURSES.
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on wce platform
! 'gtcrs' library skipped (component not found)
! 'gtdos' library skipped (platform not supported)
! 'gtos2' library skipped (platform not supported)
! 'gtsln' library skipped (component not found)
! 'gttrm' library skipped (platform or compiler not supported)
! 'gtwin' library skipped (platform not supported)
! 'gtxwc' library skipped (component not found)
! 'gtwvg' library skipped (platform not supported)
! 'gtalleg' library skipped ('allegro' not supported with mingwarm compiler)
! 'hbblat' library skipped (platform not supported)
! 'hbcairo' library skipped ('cairo' not found. Configure with HB_WITH_CAIRO.)
! 'hbcurl' library skipped ('libcurl' not found. Configure with HB_WITH_CURL.)
! 'hbfbird' library skipped ('firebird' not found. Configure with HB_WITH_FIREBIRD.)
! 'hbfimage' library skipped ('freeimage' not found. Configure with HB_WITH_FREEIMAGE.)
! 'hbgd' library skipped ('libgd' not found. Configure with HB_WITH_GD.)
! 'hbmysql' library skipped ('mysql' not found. Configure with HB_WITH_MYSQL.)
! 'hbpgsql' library skipped ('postgresql' not found. Configure with HB_WITH_PGSQL.)
! Using QT 'moc' executable: D:\Qt\4.5.3\include\..\bin\moc.exe (autodetected)
! 'hbssl' library skipped (component not found)
! 'rddads' library skipped ('ads' not found. Configure with HB_WITH_ADS.)
! 'sddmy' library skipped ('mysql' not found. Configure with HB_WITH_MYSQL.)
! 'sddpg' library skipped ('postgresql' not found. Configure with HB_WITH_PGSQL.)
! 'sddfb' library skipped ('firebird' not found. Configure with HB_WITH_FIREBIRD.)
! Skip install, destination dir 'D:\LASTHB\HARBOUR\\doc' is the same as source
! Skip install, destination dir 'D:\LASTHB\HARBOUR\\doc/en-EN' is the same as source
! Skip install, destination dir 'D:\LASTHB\HARBOUR\\include' is the same as source
arm-mingw32ce-gcc   -I. -I../../../../../include -O2 -fomit-frame-pointer -DHB_LEGACY_TYPES_OFF -DUNICODE  -D_WIN32_WCE  -osqlite3.o -c ../../../sqlite3.c
win-make[3]: *** [sqlite3.o] Error 1
win-make[2]: *** [descend] Error 2
win-make[1]: *** [sqlite3.inst] Error 2
win-make: *** [external.inst] Error 2


-- 
Regards,
Jaroslaw Kadziola


From harbour at os.pl  Sat Feb 20 14:25:09 2010
From: harbour at os.pl (Andrzej P. Wozniak)
Date: Sat Feb 20 14:26:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour
References: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com><02e501cab1c3$62f78c50$b53aa8c0@AndrzejW>
	<6E506A6C-6D09-422A-90B6-4C0AB1894392@syenar.hu>
Message-ID: <004d01cab262$a2062010$b53aa8c0@AndrzejW>

From: Viktor Szak?ts <harbour.01@syenar.hu>
Sent: Saturday, February 20, 2010 3:22 AM
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour

> Hi Andrzej,
>
>> From:  <vszakats@users.sourceforge.net>
>>
>>> Revision: 13878
>> [...]
>>>  * contrib/hbwin/hbwin.ch
>>>    * Changed to use full (0xFF) color components for RGB presets.
>>
>> Viktor, this change is incompatible with Clipper. Previous colours
>> were too dark, but 0xFF should stand for BRIGHT colours. Clipper uses
>> RGBI palette, see here:
>> * 4-bit RGBI palettes for explanation:
>> http://en.wikipedia.org/wiki/List_of_monochrome_and_RGB_palettes#4-bit_RGBI
>> * EGA colour palette for hex values in implementation:
>> http://en.wikipedia.org/wiki/Enhanced_Graphics_Adapter#The_EGA_color_palette
> Clipper had no graphical printing, nor any special color
> printing support for that matter,

RGBI palette is NOT for printing. I did NOT mention about printing at all.

> nor did it determine the
> actual colors that appeared on screen, so it's by no means
> a Clipper compatibility issue.

Clipper did NOT define any *own* palette, it just used CGA palette available
in DOS. The palette is used as CGA compatibility palette in EGA/VGA/Windows
till now.

> If you mean to mimic MS-DOS (or rather VGA/EGA) screen colors
> in Windows printing, I can't see strong reason why this would
> be desired.

I am not DTP professional, but I know at least two facts:
* You cannot mix RGB and CMYK colour models. RGB is for screen, CMYK is for
printing. All RGB_* #defines are in RGB colour model, so they are not to be
used for printing. See: http://en.wikipedia.org/wiki/RGB_color_model
* There is no simple colour conversion from RGB to CMYK. See:
http://en.wikipedia.org/wiki/CMYK_color_model#Conversion

As you already know, Clipper did NOT define any print colours and did NOT
use any known printing colour palette. We can use system colour management
(see <http://en.wikipedia.org/wiki/Color_management>) or define our own
colour conversion scheme, but the palette should contain all 16 colours,
normal and BRIGHT.

> --- (from old hbwin.ch)
> #define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
> #define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
> #define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
> #define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
> #define RGB_RED                RGB( 0x85, 0x00, 0x00 )
> #define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
> #define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
> #define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )
> ---

Once again, the above colours are in RGB colour model. They are defined for
display, not for printing. That is not full Clipper colour palette, only
non-BRIGHT part, and brown defined here is not brown on screen.

> F.e. why isn't "white" 0x85/0x85/0x85 to be consistent
> with other colors, or even more, why isn't it pure white:
> 0xFF/0xFF/0xFF, instead of being grey? :)

I DID write and you DID quote: "Previous colours were too dark", that's
why they are inconsistent.
I DID also write "0xFF should stand for BRIGHT colours", that's why
white is really light grey. And I know that real white may be darker
then the displayed one[1].
I linked also the explanation, why brown setting should be inconsistent,
did you read it?

I don't know why someone used such RGB values for the old colours ? maybe
he/she picked them from his/her own display or corrected them as CGA colours
were too bright in his/her opinion. Still they are colours defined in RGB
colour model, that is ? for display, not for printing.

[1] A good example for troubles with colour conversion for "red" and "white"
you can see here:
http://en.wikipedia.org/wiki/Flag_of_Poland#Design
http://en.wikipedia.org/wiki/File:Flag_of_Poland.svg
http://commons.wikimedia.org/wiki/File:Flag_of_Poland_(normative).svg
Maybe on your screen you cannot see differences between the flag and the
background colour in any places, but they are. Use some colour picker to
check RGB codes or use some good old CRT monitor.

-- 
Regards from The Harbour Project mirror in Poland
Andrzej P. Wo?niak




------
Hosting 2GB za 40 zl brutto 
http://www.klatka.pl

From harbour.01 at syenar.hu  Sat Feb 20 14:50:26 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 20 14:50:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour
In-Reply-To: <004d01cab262$a2062010$b53aa8c0@AndrzejW>
References: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com><02e501cab1c3$62f78c50$b53aa8c0@AndrzejW>
	<6E506A6C-6D09-422A-90B6-4C0AB1894392@syenar.hu>
	<004d01cab262$a2062010$b53aa8c0@AndrzejW>
Message-ID: <D518D403-F647-4CA1-916F-C344FFFD3B10@syenar.hu>

Hi Andrzej,

>>> Viktor, this change is incompatible with Clipper. Previous colours
>>> were too dark, but 0xFF should stand for BRIGHT colours. Clipper uses
>>> RGBI palette, see here:
>>> * 4-bit RGBI palettes for explanation:
>>> http://en.wikipedia.org/wiki/List_of_monochrome_and_RGB_palettes#4-bit_RGBI
>>> * EGA colour palette for hex values in implementation:
>>> http://en.wikipedia.org/wiki/Enhanced_Graphics_Adapter#The_EGA_color_palette
>> Clipper had no graphical printing, nor any special color
>> printing support for that matter,
> 
> RGBI palette is NOT for printing. I did NOT mention about printing at all.

That's right. It was originally added for printing 
in context of the hbwin code though.

>> nor did it determine the
>> actual colors that appeared on screen, so it's by no means
>> a Clipper compatibility issue.
> 
> Clipper did NOT define any *own* palette, it just used CGA palette available
> in DOS. The palette is used as CGA compatibility palette in EGA/VGA/Windows
> till now.

Yes.

>> If you mean to mimic MS-DOS (or rather VGA/EGA) screen colors
>> in Windows printing, I can't see strong reason why this would
>> be desired.
> 
> I am not DTP professional, but I know at least two facts:
> * You cannot mix RGB and CMYK colour models. RGB is for screen, CMYK is for
> printing. All RGB_* #defines are in RGB colour model, so they are not to be
> used for printing. See: http://en.wikipedia.org/wiki/RGB_color_model
> * There is no simple colour conversion from RGB to CMYK. See:
> http://en.wikipedia.org/wiki/CMYK_color_model#Conversion

Nevertheless when you print using GDI on Windows, and there 
you can specify your colors in RGB. Maybe there is alternative 
way, I don't know, but our current codebase doesn't support it.

> As you already know, Clipper did NOT define any print colours and did NOT
> use any known printing colour palette. We can use system colour management
> (see <http://en.wikipedia.org/wiki/Color_management>) or define our own
> colour conversion scheme, but the palette should contain all 16 colours,
> normal and BRIGHT.

I'm not sure I see your point. These colors are not 
meant to mimic original EGA/VGA colors. They are just 
presets for some RGB colors. They have nothing to do 
with SETCOLOR() functionality.

>> --- (from old hbwin.ch)
>> #define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
>> #define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
>> #define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
>> #define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
>> #define RGB_RED                RGB( 0x85, 0x00, 0x00 )
>> #define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
>> #define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
>> #define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )
>> ---
> 
> Once again, the above colours are in RGB colour model. They are defined for
> display, not for printing. That is not full Clipper colour palette, only
> non-BRIGHT part, and brown defined here is not brown on screen.

It was not the goal to be full Clipper palette. One 
may of course create Clipper-alike colors by using 
different values, but I can't see any use of that in 
hbwin.ch, neither does it seem like this was intent 
of original developers using above values.

>> F.e. why isn't "white" 0x85/0x85/0x85 to be consistent
>> with other colors, or even more, why isn't it pure white:
>> 0xFF/0xFF/0xFF, instead of being grey? :)
> 
> I DID write and you DID quote: "Previous colours were too dark", that's
> why they are inconsistent.
> I DID also write "0xFF should stand for BRIGHT colours", that's why
> white is really light grey. And I know that real white may be darker
> then the displayed one[1].
> I linked also the explanation, why brown setting should be inconsistent,
> did you read it?

Well, if your point is that '0xFF/0xFF/0x00' color is 
wrongly named BROWN, when it should be YELLOW, I see it 
now. But it's much easier if you say so, or, it's possible 
I'm still missing your point.

I'll commit a fix for the name of that one color.

> I don't know why someone used such RGB values for the old colours ? maybe
> he/she picked them from his/her own display or corrected them as CGA colours
> were too bright in his/her opinion. Still they are colours defined in RGB
> colour model, that is ? for display, not for printing.

My best guess is that they were picked randomly, 
or by personal choice.

> [1] A good example for troubles with colour conversion for "red" and "white"
> you can see here:
> http://en.wikipedia.org/wiki/Flag_of_Poland#Design
> http://en.wikipedia.org/wiki/File:Flag_of_Poland.svg
> http://commons.wikimedia.org/wiki/File:Flag_of_Poland_(normative).svg
> Maybe on your screen you cannot see differences between the flag and the
> background colour in any places, but they are. Use some colour picker to
> check RGB codes or use some good old CRT monitor.

I can see it and it's interesting article (I like flags), 
just can't see your exact point, sorry.

In hbwin.ch these are just a few predefined constants to 
save some typing, for those users who need these basic 
RGB color when creating GDI object on screen or printing.
My original question was if there was any particular 
reason to chose those specific RGB values. Still unexplained, 
so I'm leaving them in their pure forms.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Feb 20 14:52:52 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 14:52:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13941] trunk/harbour
Message-ID: <E1NivNk-00069C-Ij@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13941
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13941&view=rev
Author:   vszakats
Date:     2010-02-20 19:52:51 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 20:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.ch
    ! Renamed HB_WIN_RGB_BROWN to HB_WIN_RGB_YELLOW to match 
      real RGB color.
      I left old RGB_BROWN as is, even if was never really 
      set to brown.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwin.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carlosbacco at gmail.com  Sat Feb 20 14:53:56 2010
From: carlosbacco at gmail.com (Bacco)
Date: Sat Feb 20 14:54:24 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com> 
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com> 
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com> 
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com> 
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com> 
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
Message-ID: <eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>

I am a native pt-BR speaker, and I am web developer also, and here we
use pt-BR on the web pages. Of course I like the idea to have pt-BR
translation (and contribute too). May we agree in the IETF format?
Maybe we can add the "most wanted" language  folders to the main doc
folder and into dirstruc.txt, to serve as example and eliminate the
needs for further discussion about this theme.

At least
doc/en (just rename back)
doc/es
doc/pt-BR (maybe some placeholder.txt so it doesnt stay empty)

Regards
Bacco


On Sat, Feb 20, 2010 at 17:01, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> Hi Bacco,
>
>> I think we should use the IETF format, (the W3C model that Viktor mentioned)
>>
>> http://en.wikipedia.org/wiki/IETF_language_tag
>>
>> only two letters, except when we need it. As we lack documentation, at this
>> stage it doesn't make sense to me even to split the pt language into
>> pt-BR (my language) and pt only. We can use the ietf "shortest code" rule
>> adding the -SUBCODE only when the necessity arrives.
>
> I'm not familiar with Brazil dialect of Portuguese language,
> but if it's practically different from "regular" Portuguese,
> IMO we should use pt-BR as per the standard. We use this code
> already for Portuguese translation of hbmk2, and I just suspect
> it was used for good reason. A native speaker is better to
> make it clear here.
>
> All in all, let's use what the standard dictates, and
> not uniformly "xx" or uniformly "xx-YY". For example,
> the proper code for Hungarian language is 'hu-HU'.
> (for generic English it's 'en').
>
> Brgds,
> Viktor
>
>>
>> You can find the table here:
>>
>> http://www.iana.org/assignments/language-subtag-registry
>>
>> 2010/2/20 Daniel Gon?alves <daniel@base4.com.br>:
>>> Ok Viktor,
>>> I suggested the pattern because on other open-source projects I follow
>>> and participate, they use the pattern "xx-YY", but I will use the
>>> rules for Harbour project. I hope you guys understands that I not
>>> trying to impose anything. I'm just trying to help using my knowledge
>>> and experience from other spheres!
>>>
>>> 2010/2/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>> It's just a pattern, so we all know that always be "xx-YY" for ALL
>>>>> languages and not "xx" for that one and for the other, but for another
>>>>> it is "xx-YY", i guess! See! To avoid more things to think about!
>>>>
>>>> But this pattern is not true to the standard,
>>>> it can also be "xx", "xx-YYY", "xx-yyyyy-zzz",
>>>> see the RFC. Each have different and meaningful
>>>> meanings.
>>>>
>>>>> I've just made an admonition: "en-EN" does not exists.
>>>>
>>>> I know, that's why I started this discussion
>>>> in the first place :)
>>>>
>>>>> If we follow a pattern, it will be one less thing to be concerned about. :-)
>>>>
>>>> I think we should follow the standard,
>>>> rather than a limited pattern.
>>>>
>>>> If we invent our own pattern, it will not be possible
>>>> to interchange our language code with tools which
>>>> adhere to standards.
>>>>
>>>> BTW we should only worry about this _once_ for each
>>>> language we translate our documentation to. So
>>>> far we have bits in English and Spanish only, so
>>>> it's not very complicated. Moreover IMO we should
>>>> first concentrate on English only.
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list (attachment size limit: 40KB)
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>>
>>>
>>>
>>>
>>> --
>>> Daniel Gon?alves
>>> Base4 Sistemas Ltda.
>>> [www.base4.com.br]
>>> [twitter.com/spanazzi]
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From carlosbacco at gmail.com  Sat Feb 20 15:04:43 2010
From: carlosbacco at gmail.com (Bacco)
Date: Sat Feb 20 15:05:10 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com> 
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com> 
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com> 
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com> 
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
Message-ID: <eed8bee51002201204m652e8737y399c17e5529f834f@mail.gmail.com>

On Sat, Feb 20, 2010 at 17:53, Bacco <carlosbacco@gmail.com> wrote:
> I am a native pt-BR speaker, and I am web developer also, and here we
> use pt-BR on the web pages. Of course I like the idea to have pt-BR
> translation (and contribute too). May we agree in the IETF format?
> Maybe we can add the "most wanted" language ?folders to the main doc
> folder and into dirstruc.txt, to serve as example and eliminate the
> needs for further discussion about this theme.
>
> At least
> doc/en (just rename back)
> doc/es
> doc/pt-BR (maybe some placeholder.txt so it doesnt stay empty)

(and eventually others that you are sure that will be needed, of
course. These three I know that will be)

>
> Regards
> Bacco
>
>
> On Sat, Feb 20, 2010 at 17:01, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>> Hi Bacco,
>>
>>> I think we should use the IETF format, (the W3C model that Viktor mentioned)
>>>
>>> http://en.wikipedia.org/wiki/IETF_language_tag
>>>
>>> only two letters, except when we need it. As we lack documentation, at this
>>> stage it doesn't make sense to me even to split the pt language into
>>> pt-BR (my language) and pt only. We can use the ietf "shortest code" rule
>>> adding the -SUBCODE only when the necessity arrives.
>>
>> I'm not familiar with Brazil dialect of Portuguese language,
>> but if it's practically different from "regular" Portuguese,
>> IMO we should use pt-BR as per the standard. We use this code
>> already for Portuguese translation of hbmk2, and I just suspect
>> it was used for good reason. A native speaker is better to
>> make it clear here.
>>
>> All in all, let's use what the standard dictates, and
>> not uniformly "xx" or uniformly "xx-YY". For example,
>> the proper code for Hungarian language is 'hu-HU'.
>> (for generic English it's 'en').
>>
>> Brgds,
>> Viktor
>>
>>>
>>> You can find the table here:
>>>
>>> http://www.iana.org/assignments/language-subtag-registry
>>>
>>> 2010/2/20 Daniel Gon?alves <daniel@base4.com.br>:
>>>> Ok Viktor,
>>>> I suggested the pattern because on other open-source projects I follow
>>>> and participate, they use the pattern "xx-YY", but I will use the
>>>> rules for Harbour project. I hope you guys understands that I not
>>>> trying to impose anything. I'm just trying to help using my knowledge
>>>> and experience from other spheres!
>>>>
>>>> 2010/2/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>>> It's just a pattern, so we all know that always be "xx-YY" for ALL
>>>>>> languages and not "xx" for that one and for the other, but for another
>>>>>> it is "xx-YY", i guess! See! To avoid more things to think about!
>>>>>
>>>>> But this pattern is not true to the standard,
>>>>> it can also be "xx", "xx-YYY", "xx-yyyyy-zzz",
>>>>> see the RFC. Each have different and meaningful
>>>>> meanings.
>>>>>
>>>>>> I've just made an admonition: "en-EN" does not exists.
>>>>>
>>>>> I know, that's why I started this discussion
>>>>> in the first place :)
>>>>>
>>>>>> If we follow a pattern, it will be one less thing to be concerned about. :-)
>>>>>
>>>>> I think we should follow the standard,
>>>>> rather than a limited pattern.
>>>>>
>>>>> If we invent our own pattern, it will not be possible
>>>>> to interchange our language code with tools which
>>>>> adhere to standards.
>>>>>
>>>>> BTW we should only worry about this _once_ for each
>>>>> language we translate our documentation to. So
>>>>> far we have bits in English and Spanish only, so
>>>>> it's not very complicated. Moreover IMO we should
>>>>> first concentrate on English only.
>>>>>
>>>>> Brgds,
>>>>> Viktor
>>>>>
>>>>> _______________________________________________
>>>>> Harbour mailing list (attachment size limit: 40KB)
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Daniel Gon?alves
>>>> Base4 Sistemas Ltda.
>>>> [www.base4.com.br]
>>>> [twitter.com/spanazzi]
>>>> _______________________________________________
>>>> Harbour mailing list (attachment size limit: 40KB)
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
From harbour.01 at syenar.hu  Sat Feb 20 15:12:31 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 15:12:42 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
Message-ID: <70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>

> I am a native pt-BR speaker, and I am web developer also, and here we
> use pt-BR on the web pages. Of course I like the idea to have pt-BR
> translation (and contribute too). May we agree in the IETF format?

Yes.

So to sum it up:
  Format: NANFORUM
  Location: <root>/doc/<IETF language code>/*
  Codepage: UTF-8

Some IETF language codes for well-known languages:
  en - English (generic)
  pt-BR - Portuguese (Brazil)
  es - Spanish (generic)
  hu-HU - Hungarian

> Maybe we can add the "most wanted" language  folders to the main doc
> folder and into dirstruc.txt, to serve as example and eliminate the
> needs for further discussion about this theme.

"most wanted" may be a little premature, given we have 
not even English docs at the moment :)

> At least
> doc/en (just rename back)
> doc/es
> doc/pt-BR (maybe some placeholder.txt so it doesnt stay empty)

Okay for me. Though I think we should only 
add the translation dirs only if there is actual 
content, and for now we should focus on English 
docs.

SVN supports empty dir BTW, so it's not 
technical issue.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Feb 20 15:12:55 2010
From: harbour.01 at syenar.hu (=?windows-1250?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 15:12:59 2010
Subject: [Harbour] Error building WinCE
In-Reply-To: <666146864.20100220201905@tlen.pl>
References: <716016079.20100220151726@tlen.pl>
	<21D65080-4FF8-4753-99DE-F465C677D033@syenar.hu>
	<172329248.20100220182517@tlen.pl>
	<D2A2EA49-654C-4DA2-945A-AA8CD83547E0@syenar.hu>
	<666146864.20100220201905@tlen.pl>
Message-ID: <B2290BB7-D457-47D7-B602-01BA72D969F4@syenar.hu>

> arm-mingw32ce-gcc   -I. -I../../../../../include -O2 -fomit-frame-pointer -DHB_LEGACY_TYPES_OFF -DUNICODE  -D_WIN32_WCE  -osqlite3.o -c ../../../sqlite3.c
> win-make[3]: *** [sqlite3.o] Error 1
> win-make[2]: *** [descend] Error 2
> win-make[1]: *** [sqlite3.inst] Error 2
> win-make: *** [external.inst] Error 2

Here it still misses the actual error. No more 
guesses, maybe wrong Cygwin version, for sure 
the compiler doesn't work in your environment. 
The make process and configuration itself (as 
indicated by rest of log) is alright, though.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Feb 20 15:20:25 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 15:20:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13942] trunk/harbour
Message-ID: <E1NivoP-0006fm-TY@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13942
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13942&view=rev
Author:   vszakats
Date:     2010-02-20 20:20:24 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 21:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + doc/en
  - doc/en-EN
  - contrib/hbgt/doc/en-EN
  + contrib/hbgt/doc/en
  - contrib/hbziparc/doc/en-EN
  + contrib/hbziparc/doc/en
  - contrib/rddads/doc/en-EN
  + contrib/rddads/doc/en
  - contrib/hbgd/doc/en-EN
  + contrib/hbgd/doc/en
  - contrib/hbmisc/doc/en-EN
  + contrib/hbmisc/doc/en
  - contrib/hbbtree/doc/en-EN
  + contrib/hbbtree/doc/en
  - examples/hbdoc/examples/core_en
  + examples/hbdoc/examples/en
  - examples/hbdoc/examples/core_es
  + examples/hbdoc/examples/es
    * Renamed to use IETF complient language ID.

  - examples/hbdoc/examples/hbmisc
    - Deleted.

  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    ! Fixed to not use "en-EN" language code, but plain "en".

  * examples/hbdoc2/hbdoc2.prg
    * "en-en" -> "en"

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/hbdoc2/hbdoc2.prg
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po

Added Paths:
-----------
    trunk/harbour/contrib/hbbtree/doc/en/
    trunk/harbour/contrib/hbgd/doc/en/
    trunk/harbour/contrib/hbgt/doc/en/
    trunk/harbour/contrib/hbmisc/doc/en/
    trunk/harbour/contrib/hbziparc/doc/en/
    trunk/harbour/contrib/rddads/doc/en/
    trunk/harbour/doc/en/
    trunk/harbour/examples/hbdoc/examples/en/
    trunk/harbour/examples/hbdoc/examples/es/

Removed Paths:
-------------
    trunk/harbour/contrib/hbbtree/doc/en-EN/
    trunk/harbour/contrib/hbgd/doc/en-EN/
    trunk/harbour/contrib/hbgt/doc/en-EN/
    trunk/harbour/contrib/hbmisc/doc/en-EN/
    trunk/harbour/contrib/hbziparc/doc/en-EN/
    trunk/harbour/contrib/rddads/doc/en-EN/
    trunk/harbour/doc/en-EN/
    trunk/harbour/examples/hbdoc/examples/core_en/
    trunk/harbour/examples/hbdoc/examples/core_es/
    trunk/harbour/examples/hbdoc/examples/hbmisc/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From boerig97 at hotmail.com  Sat Feb 20 15:43:33 2010
From: boerig97 at hotmail.com (Marco Boeri)
Date: Sat Feb 20 15:43:41 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>,
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>,
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>,
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>,
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>,
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>,
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>,
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>,
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>,
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>,
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>,
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>
Message-ID: <SNT140-w20412E07625878D065BCFCD5450@phx.gbl>


Hi all,

me and some of my more skilled friends (and programmers) have experienced that the best technical books/docs are always written in english, so I think the documentation has to be written in english (by now). I've also examined the \doc folder and the only subfolder is \en-EN by now: there isn't a folder for spanish documentation (I haven't synched with svn today). Docs in other languages are welcome but I think it's better to have a complete (as possible) documentation, faq, howtos, in english before starting to translate in other languages or we will miss the goal.

Best regards,

Marco
 
> Subject: Re: [Harbour] Re: About Harbour Documentation
> From: harbour.01@syenar.hu
> Date: Sat, 20 Feb 2010 21:12:31 +0100
> To: harbour@harbour-project.org
> 
> > I am a native pt-BR speaker, and I am web developer also, and here we
> > use pt-BR on the web pages. Of course I like the idea to have pt-BR
> > translation (and contribute too). May we agree in the IETF format?
> 
> Yes.
> 
> So to sum it up:
> Format: NANFORUM
> Location: <root>/doc/<IETF language code>/*
> Codepage: UTF-8
> 
> Some IETF language codes for well-known languages:
> en - English (generic)
> pt-BR - Portuguese (Brazil)
> es - Spanish (generic)
> hu-HU - Hungarian
> 
> > Maybe we can add the "most wanted" language folders to the main doc
> > folder and into dirstruc.txt, to serve as example and eliminate the
> > needs for further discussion about this theme.
> 
> "most wanted" may be a little premature, given we have 
> not even English docs at the moment :)
> 
> > At least
> > doc/en (just rename back)
> > doc/es
> > doc/pt-BR (maybe some placeholder.txt so it doesnt stay empty)
> 
> Okay for me. Though I think we should only 
> add the translation dirs only if there is actual 
> content, and for now we should focus on English 
> docs.
> 
> SVN supports empty dir BTW, so it's not 
> technical issue.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
 		 	   		  
_________________________________________________________________
Parla, scrivi, gioca... Scopri le novit? di Messenger
http://www.messenger.it/home_novita.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100220/e2705ade/attachment.html
From harbour.01 at syenar.hu  Sat Feb 20 15:47:30 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 15:47:41 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <SNT140-w20412E07625878D065BCFCD5450@phx.gbl>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>,
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>,
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>,
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>,
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>,
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>,
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>,
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>,
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>,
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>,
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>,
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>
Message-ID: <900C085D-52D0-4C1D-A40F-377353008A6A@syenar.hu>

> Hi all,
> me and some of my more skilled friends (and programmers) have experienced that the best technical books/docs are always written in english, so I think the documentation has to be written in english (by now). I've also examined the \doc folder and the only subfolder is \en-EN by now: there isn't a folder for spanish documentation (I haven't synched with svn today). Docs in other languages are welcome but I think it's better to have a complete (as possible) documentation, faq, howtos, in english before starting to translate in other languages or we will miss the goal.

Fully agreed, and I haven't created any other 
language subdirs for now, to remind us that 
we should focus on English language docs.

[ There is some leftover from the paste 
Spanish documentation in /examples, if 
there are no objections I will delete 
those, as they are incomplete and 
unmaintained since at least 8 years. ]

Brgds,
Viktor

> Best regards,
> Marco
>  
> > Subject: Re: [Harbour] Re: About Harbour Documentation
> > From: harbour.01@syenar.hu
> > Date: Sat, 20 Feb 2010 21:12:31 +0100
> > To: harbour@harbour-project.org
> > 
> > > I am a native pt-BR speaker, and I am web developer also, and here we
> > > use pt-BR on the web pages. Of course I like the idea to have pt-BR
> > > translation (and contribute too). May we agree in the IETF format?
> > 
> > Yes.
> > 
> > So to sum it up:
> > Format: NANFORUM
> > Location: <root>/doc/<IETF language code>/*
> > Codepage: UTF-8
> > 
> > Some IETF language codes for well-known languages:
> > en - English (generic)
> > pt-BR - Portuguese (Brazil)
> > es - Spanish (generic)
> > hu-HU - Hungarian
> > 
> > > Maybe we can add the "most wanted" language folders to the main doc
> > > folder and into dirstruc.txt, to serve as example and eliminate the
> > > needs for further discussion about this theme.
> > 
> > "most wanted" may be a little premature, given we have 
> > not even English docs at the moment :)
> > 
> > > At least
> > > doc/en (just rename back)
> > > doc/es
> > > doc/pt-BR (maybe some placeholder.txt so it doesnt stay empty)
> > 
> > Okay for me. Though I think we should only 
> > add the translation dirs only if there is actual 
> > content, and for now we should focus on English 
> > docs.
> > 
> > SVN supports empty dir BTW, so it's not 
> > technical issue.
> > 
> > Brgds,
> > Viktor
> > 
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> La tua privacy ? al sicuro con Internet Explorer 8. Scopri di pi?_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sat Feb 20 15:52:07 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 20 15:52:16 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13878] trunk/harbour
In-Reply-To: <D518D403-F647-4CA1-916F-C344FFFD3B10@syenar.hu>
References: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com>
	<02e501cab1c3$62f78c50$b53aa8c0@AndrzejW>
	<6E506A6C-6D09-422A-90B6-4C0AB1894392@syenar.hu>
	<004d01cab262$a2062010$b53aa8c0@AndrzejW>
	<D518D403-F647-4CA1-916F-C344FFFD3B10@syenar.hu>
Message-ID: <1266699127461-4604365.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> My best guess is that they were picked randomly, 
> or by personal choice.
> 

Not randomly.

Peter Rees picked them and I redifind some parts.
It was way back around 2003 and have come that way so long.
May be someone tweaked them afterwards, but for sure these 
colors were very close to Clipper one, though I may be wrong.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13878-trunk-harbour-tp4573963p4604365.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From carlosbacco at gmail.com  Sat Feb 20 15:52:20 2010
From: carlosbacco at gmail.com (Bacco)
Date: Sat Feb 20 15:52:48 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <SNT140-w20412E07625878D065BCFCD5450@phx.gbl>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com> 
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com> 
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com> 
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com> 
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>
Message-ID: <eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>

On Sat, Feb 20, 2010 at 18:43, Marco Boeri <boerig97@hotmail.com> wrote:
> Hi all,
> me and some of my more skilled friends (and programmers)?have experienced
> that the best technical books/docs are always?written in english, so I?think
> the documentation has to be written in english?(by now).?I've also examined

Of course, it is the logical starting point.

> the?\doc folder and the only subfolder is \en-EN by now:?there isn't a
> folder for spanish documentation (I haven't?synched with svn today).?Docs in
> other languages are welcome but I think it's better to have a complete
> (as?possible) documentation, faq, howtos, in?english?before starting
> to?translate in other languages?or we will miss the goal.

I think we agreed in the folder nomenclature at this point only to
avoid the need to discus this in the future.

Of course you are right, the main documentation should be in English
(but if someone decides to contribute right now by translating the few
existing docs in any other language, I believe that is not right just
forbid it).

> Best regards,
> Marco
>
>> Subject: Re: [Harbour] Re: About Harbour Documentation
>> From: harbour.01@syenar.hu
>> Date: Sat, 20 Feb 2010 21:12:31 +0100
>> To: harbour@harbour-project.org
>>
>> > I am a native pt-BR speaker, and I am web developer also, and here we
>> > use pt-BR on the web pages. Of course I like the idea to have pt-BR
>> > translation (and contribute too). May we agree in the IETF format?
>>
>> Yes.
>>
>> So to sum it up:
>> Format: NANFORUM
>> Location: <root>/doc/<IETF language code>/*
>> Codepage: UTF-8
>>
>> Some IETF language codes for well-known languages:
>> en - English (generic)
>> pt-BR - Portuguese (Brazil)
>> es - Spanish (generic)
>> hu-HU - Hungarian
>>
>> > Maybe we can add the "most wanted" language folders to the main doc
>> > folder and into dirstruc.txt, to serve as example and eliminate the
>> > needs for further discussion about this theme.
>>
>> "most wanted" may be a little premature, given we have
>> not even English docs at the moment :)
>>
>> > At least
>> > doc/en (just rename back)
>> > doc/es
>> > doc/pt-BR (maybe some placeholder.txt so it doesnt stay empty)
>>
>> Okay for me. Though I think we should only
>> add the translation dirs only if there is actual
>> content, and for now we should focus on English
>> docs.
>>
>> SVN supports empty dir BTW, so it's not
>> technical issue.
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> ________________________________
> La tua privacy ? al sicuro con Internet Explorer 8. Scopri di pi?
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From bedipritpal at hotmail.com  Sat Feb 20 15:55:25 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 20 15:55:32 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com>
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>
	<1266590171334-4598130.post@n2.nabble.com>
	<609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com>
Message-ID: <1266699325933-4604372.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> done
> http://harbourlanguage.blogspot.com/
> 

Thank you. But I cannot see the full images. May be this blog site
does not give enough power. The images are cut right side and I cannot
event presented with a horizontal scrollbar.

Can you reduce the sizes?



> I have problem with same image
> and receive an error when exit
> Visual c++ runtime library
> this application has requested the runtime to terminate in an unsual way
> please contact the application's support team for more information
> 
> How can i correct?
> Why messages is sent from Visual c++ runtime if am using mingw?
> 

I do not know about this fact. On my system every run exits normally.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4604372.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From boerig97 at hotmail.com  Sat Feb 20 15:58:41 2010
From: boerig97 at hotmail.com (Marco Boeri)
Date: Sat Feb 20 15:58:48 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <900C085D-52D0-4C1D-A40F-377353008A6A@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>, ,
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>, ,
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>, ,
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>, ,
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>, ,
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>, ,
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>, ,
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>, ,
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>, ,
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>, ,
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>, ,
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>,
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>,
	<900C085D-52D0-4C1D-A40F-377353008A6A@syenar.hu>
Message-ID: <SNT140-w474D0B6FD5E6026B8C941AD5450@phx.gbl>


> [ There is some leftover from the paste 
> Spanish documentation in /examples, if 
> there are no objections I will delete 
> those, as they are incomplete and 
> unmaintained since at least 8 years. ]


I have seen the \es folder in the past but I didn't remember where it was placed. I remember to have examined that and the informations were already dated. I'm not Spanish so I can't vote pro or con, but an 8 years old doc is useless, in my opinion.

 

Best regards,

Marco
 		 	   		  
_________________________________________________________________
Scatta, ritocca e condividi le tue foto online. Gratis per te
http://www.windowslive.it/foto.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100220/2ae7bbe0/attachment.html
From carlosbacco at gmail.com  Sat Feb 20 16:00:47 2010
From: carlosbacco at gmail.com (Bacco)
Date: Sat Feb 20 16:01:15 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <1266699325933-4604372.post@n2.nabble.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com> 
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com> 
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com> 
	<1266590171334-4598130.post@n2.nabble.com>
	<609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com> 
	<1266699325933-4604372.post@n2.nabble.com>
Message-ID: <eed8bee51002201300g31a678fck9a07cebe47d90fa7@mail.gmail.com>

Right click on the image and open in another window. The css of the
blog is hiding the overflow of the image at the page render instead of
providing scrollbars, but the image file is OK.

On Sat, Feb 20, 2010 at 18:55, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>
>
> Massimo Belgrano wrote:
>>
>> done
>> http://harbourlanguage.blogspot.com/
>>
>
> Thank you. But I cannot see the full images. May be this blog site
> does not give enough power. The images are cut right side and I cannot
> event presented with a horizontal scrollbar.
>
> Can you reduce the sizes?
>
>
>
>> I have problem with same image
>> and receive an error when exit
>> Visual c++ runtime library
>> this application has requested the runtime to terminate in an unsual way
>> please contact the application's support team for more information
>>
>> How can i correct?
>> Why messages is sent from Visual c++ runtime if am using mingw?
>>
>
> I do not know about this fact. On my system every run exits normally.
>
>
>
> -----
> ? ? ? ? ? ? ? ? enjoy hbIDEing...
> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4604372.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Sat Feb 20 16:07:18 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 20 16:07:29 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13878] trunk/harbour
In-Reply-To: <1266699127461-4604365.post@n2.nabble.com>
References: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com>
	<02e501cab1c3$62f78c50$b53aa8c0@AndrzejW>
	<6E506A6C-6D09-422A-90B6-4C0AB1894392@syenar.hu>
	<004d01cab262$a2062010$b53aa8c0@AndrzejW>
	<D518D403-F647-4CA1-916F-C344FFFD3B10@syenar.hu>
	<1266699127461-4604365.post@n2.nabble.com>
Message-ID: <B8DF8288-D8F0-491E-BA31-B3705D4FBAC7@syenar.hu>

Hi Pritpal,

> Viktor Szak?ts wrote:
>> 
>> My best guess is that they were picked randomly, 
>> or by personal choice.
>> 
> 
> Not randomly.
> 
> Peter Rees picked them and I redifind some parts.
> It was way back around 2003 and have come that way so long.
> May be someone tweaked them afterwards, but for sure these 
> colors were very close to Clipper one, though I may be wrong.

Okay, thanks for the information.

This is what I've found in GTWVT, which also confirms it:
---
#define BLACK          RGB( 0x0 ,0x0 ,0x0  )
#define BLUE           RGB( 0x0 ,0x0 ,0x85 )
#define GREEN          RGB( 0x0 ,0x85,0x0  )
#define CYAN           RGB( 0x0 ,0x85,0x85 )
#define RED            RGB( 0x85,0x0 ,0x0  )
#define MAGENTA        RGB( 0x85,0x0 ,0x85 )
#define BROWN          RGB( 0x85,0x85,0x0  )
#define WHITE          RGB( 0xC6,0xC6,0xC6 )
#define LIGHT_GRAY     RGB( 0x60,0x60,0x60 )
#define BRIGHT_BLUE    RGB( 0x00,0x00,0xFF )
#define BRIGHT_GREEN   RGB( 0x60,0xFF,0x60 )
#define BRIGHT_CYAN    RGB( 0x60,0xFF,0xFF )
#define BRIGHT_RED     RGB( 0xF8,0x00,0x26 )
#define BRIGHT_MAGENTA RGB( 0xFF,0x60,0xFF )
#define YELLOW         RGB( 0xFF,0xFF,0x00 )
#define BRIGHT_WHITE   RGB( 0xFF,0xFF,0xFF )
---

So the story is that Peter Rees just copied 
these to WIN32PRN little test app, and I copied 
those constants from test app to central header 
at one point. IOW they were never meant to 
be "general" colors for the Windows or Windows 
printing subsystem. Case closed!

[ Anyway if someone wants to use original 
MS-DOS-era RGB values, here they are. ]

Brgds,
Viktor

From boerig97 at hotmail.com  Sat Feb 20 16:08:57 2010
From: boerig97 at hotmail.com (Marco Boeri)
Date: Sat Feb 20 16:09:04 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>,
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>,
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>,
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>,
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>,
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>,
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>,
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>,
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>,
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>,
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>
Message-ID: <SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>


> Of course you are right, the main documentation should be in English
> (but if someone decides to contribute right now by translating the few
> existing docs in any other language, I believe that is not right just
> forbid it).
> 
Yes, I see your point and I agree with you.

Otherwise I will made a little example: I'm Italian, I could translate the existing documentation for italian users, but I do not, cause the documentation that I will write it will be full of technical and syntactical errors. Simply it will be a waste of time for all of us, not only for me. It would be better if I would write new docs on topic that aren't well documented yet: time well spent.

 

Best regards,

Marco
 		 	   		  
_________________________________________________________________
La tua privacy ? al sicuro con Internet Explorer 8. Scopri di pi?
http://www.microsoft.com/italy/windows/internet-explorer/features/browse-privately.aspx?tabid=2&catid=1
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100220/ab62ea28/attachment.html
From mbelgrano at deltain.it  Sat Feb 20 16:10:30 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 20 16:10:58 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <1266699325933-4604372.post@n2.nabble.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com> 
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com> 
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com> 
	<1266590171334-4598130.post@n2.nabble.com>
	<609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com> 
	<1266699325933-4604372.post@n2.nabble.com>
Message-ID: <609353e71002201310h224ba6f0m21389c45c26362d@mail.gmail.com>

http://docs.google.com/View?id=dhmtv9fs_235db6hz754

2010/2/20 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
> Massimo Belgrano wrote:
>>
>> done
>> http://harbourlanguage.blogspot.com/
>>
>
> Thank you. But I cannot see the full images. May be this blog site
> does not give enough power. The images are cut right side and I cannot
> event presented with a horizontal scrollbar.
>
> Can you reduce the sizes?
>
>
>
>> I have problem with same image
>> and receive an error when exit
>> Visual c++ runtime library
>> this application has requested the runtime to terminate in an unsual way
>> please contact the application's support team for more information
>>
>> How can i correct?
>> Why messages is sent from Visual c++ runtime if am using mingw?
>>
>
> I do not know about this fact. On my system every run exits normally.
>
>
>
> -----
> ? ? ? ? ? ? ? ? enjoy hbIDEing...
> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4604372.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vszakats at users.sourceforge.net  Sat Feb 20 16:12:12 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 16:12:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13943] trunk/harbour
Message-ID: <E1NiwcW-0005sl-KZ@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13943
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13943&view=rev
Author:   vszakats
Date:     2010-02-20 21:12:11 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 22:09 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * debian/dirs
  * doc/en/Makefile
  * harbour.spec
    ! "en-EN" -> "en"

  - examples/hbdoc/examples
    - Deleted outdated docs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/debian/dirs
    trunk/harbour/doc/en/Makefile
    trunk/harbour/harbour.spec

Removed Paths:
-------------
    trunk/harbour/examples/hbdoc/examples/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Feb 20 16:18:03 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 16:18:16 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <609353e71002201310h224ba6f0m21389c45c26362d@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com>
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>
	<1266590171334-4598130.post@n2.nabble.com>
	<609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com>
	<1266699325933-4604372.post@n2.nabble.com>
	<609353e71002201310h224ba6f0m21389c45c26362d@mail.gmail.com>
Message-ID: <E883E5C1-19DB-4F25-8DD7-E43C313D9245@syenar.hu>

BTW, is it planned to create an application icon for HBIDE?

(I see it still has the original temp icon used also 
for GTWVG and all little test apps)

Brgds,
Viktor

On 2010 Feb 20, at 22:10, Massimo Belgrano wrote:

> http://docs.google.com/View?id=dhmtv9fs_235db6hz754
> 
> 2010/2/20 Pritpal Bedi <bedipritpal@hotmail.com>:
>> 
>> 
>> Massimo Belgrano wrote:
>>> 
>>> done
>>> http://harbourlanguage.blogspot.com/
>>> 
>> 
>> Thank you. But I cannot see the full images. May be this blog site
>> does not give enough power. The images are cut right side and I cannot
>> event presented with a horizontal scrollbar.
>> 
>> Can you reduce the sizes?
>> 
>> 
>> 
>>> I have problem with same image
>>> and receive an error when exit
>>> Visual c++ runtime library
>>> this application has requested the runtime to terminate in an unsual way
>>> please contact the application's support team for more information
>>> 
>>> How can i correct?
>>> Why messages is sent from Visual c++ runtime if am using mingw?
>>> 
>> 
>> I do not know about this fact. On my system every run exits normally.
>> 
>> 
>> 
>> -----
>>                 enjoy hbIDEing...
>>                    Pritpal Bedi
>> _a_student_of_software_analysis_&_design_
>> --
>> View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4604372.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Feb 20 16:22:03 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 16:22:13 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>,
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>,
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>,
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>,
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>,
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>,
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>,
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>,
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>,
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>,
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
Message-ID: <5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>

> > Of course you are right, the main documentation should be in English
> > (but if someone decides to contribute right now by translating the few
> > existing docs in any other language, I believe that is not right just
> > forbid it).
> > 
> Yes, I see your point and I agree with you.
> Otherwise I will made a little example: I'm Italian, I could translate the existing documentation for italian users, but I do not, cause the documentation that I will write it will be full of technical and syntactical errors. Simply it will be a waste of time for all of us, not only for me. It would be better if I would write new docs on topic that aren't well documented yet: time well spent.

We should not forbid any translations, and 
we should think about it for the future, 
but for now we should _strongly focus_ on English, 
unless we want to create 3-4 incomplete 
(but multilanguage!) docs, instead of 1 
complete one :)

Brgds,
Viktor

From boerig97 at hotmail.com  Sat Feb 20 16:33:19 2010
From: boerig97 at hotmail.com (Marco Boeri)
Date: Sat Feb 20 16:33:27 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>, ,
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>, ,
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>, ,
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>, ,
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>, ,
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>, ,
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>, ,
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>, ,
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>, ,
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>, ,
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>,
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>,
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>
Message-ID: <SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>


> 
> We should not forbid any translations, and 
> we should think about it for the future, 
> but for now we should _strongly focus_ on English, 
> unless we want to create 3-4 incomplete 
> (but multilanguage!) docs, instead of 1 
> complete one :)
> 
> Brgds,
> Viktor


Exactly. I fully agree.

By the way I'm not able to write one row of Harbour documentation: it's too far from my skills. 

Otherwise, if a group (I remember April White and Chen Kedem in the first time) of documentors will need some help for little tasks like proofreader for example, I'm available.

 

ps. It's saturday (not only for me, at least)..... I'm coming from two days of headache and my job is one light-year far from Clipper-Harbour-xbase dialect, so this is like a hobby for me now and I spent my (little) free time following little web programming and the future of Clipper ... but what about all of you that stay in front of a screen on saturday night ???? 

 

Ciao a tutti,

Marco
 		 	   		  
_________________________________________________________________
Parla, scrivi, gioca... Scopri le novit? di Messenger
http://www.messenger.it/home_novita.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100220/97ee6517/attachment.html
From mbelgrano at deltain.it  Sat Feb 20 16:57:48 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 20 16:58:16 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <eed8bee51002201300g31a678fck9a07cebe47d90fa7@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com> 
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com> 
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com> 
	<1266590171334-4598130.post@n2.nabble.com>
	<609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com> 
	<1266699325933-4604372.post@n2.nabble.com>
	<eed8bee51002201300g31a678fck9a07cebe47d90fa7@mail.gmail.com>
Message-ID: <609353e71002201357y3753673fr844ca4aeeeb44b67@mail.gmail.com>

Hi carlos
i follow your suggestion changing layout
http://harbourlanguage.blogspot.com/


2010/2/20 Bacco <carlosbacco@gmail.com>:
> Right click on the image and open in another window. The css of the
> blog is hiding the overflow of the image at the page render instead of
> providing scrollbars, but the image file is OK.
>
> On Sat, Feb 20, 2010 at 18:55, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>>
>>
>> Massimo Belgrano wrote:
>>>
>>> done
>>> http://harbourlanguage.blogspot.com/
>>>
>>
>> Thank you. But I cannot see the full images. May be this blog site
>> does not give enough power. The images are cut right side and I cannot
>> event presented with a horizontal scrollbar.
>>
>> Can you reduce the sizes?
>>
>>
>>

-- 
Massimo Belgrano
From e.m.giordano at emagsoftware.it  Sat Feb 20 17:04:35 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Feb 20 17:04:43 2010
Subject: [Harbour] Errors in latest SVN
Message-ID: <799E020884354C90B3C1E01B8FAB7654@emag>

Error: Unresolved external '_HB_FUN_ORDCOUNT' referenced from 
E:\HARBOUR_CVS\HARBOUR\SRC\HBEXTERN\OBJ\WIN\BCC\HBEXTERN_DYN.OBJ
Error: Unresolved external '_HB_FUN_ORDWILDSEEK' referenced from 
E:\HARBOUR_CVS\HARBOUR\SRC\HBEXTERN\OBJ\WIN\BCC\HBEXTERN_DYN.OBJ

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sat Feb 20 17:12:15 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 20 17:12:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13944] trunk/harbour
Message-ID: <E1NixYd-00074F-Lw@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13944
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13944&view=rev
Author:   vszakats
Date:     2010-02-20 22:12:14 +0000 (Sat, 20 Feb 2010)

Log Message:
-----------
2010-02-20 23:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rdd/ordwldsk.c
  * src/rdd/ordcount.c
    ! Typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/ordcount.c
    trunk/harbour/src/rdd/ordwldsk.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 20 17:12:32 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 20 17:12:39 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <E883E5C1-19DB-4F25-8DD7-E43C313D9245@syenar.hu>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com>
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>
	<1266590171334-4598130.post@n2.nabble.com>
	<609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com>
	<1266699325933-4604372.post@n2.nabble.com>
	<609353e71002201310h224ba6f0m21389c45c26362d@mail.gmail.com>
	<E883E5C1-19DB-4F25-8DD7-E43C313D9245@syenar.hu>
Message-ID: <1266703952864-4604598.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> BTW, is it planned to create an application icon for HBIDE?
> 
> (I see it still has the original temp icon used also 
> for GTWVG and all little test apps)
> 

I am also waiting someone will provide one.
Please suppy appropriate one.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4604598.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Feb 20 17:19:39 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 20 17:19:50 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <1266703952864-4604598.post@n2.nabble.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com>
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>
	<1266590171334-4598130.post@n2.nabble.com>
	<609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com>
	<1266699325933-4604372.post@n2.nabble.com>
	<609353e71002201310h224ba6f0m21389c45c26362d@mail.gmail.com>
	<E883E5C1-19DB-4F25-8DD7-E43C313D9245@syenar.hu>
	<1266703952864-4604598.post@n2.nabble.com>
Message-ID: <6C4BBFE6-50D8-4BE3-87A8-927C3CC58924@syenar.hu>

I surely won't, but since several dozen icons 
have been created for it, I was wondering why the 
most important one was missing yet.

Brgds,
Viktor

On 2010 Feb 20, at 23:12, Pritpal Bedi wrote:

> 
> 
> Viktor Szak?ts wrote:
>> 
>> BTW, is it planned to create an application icon for HBIDE?
>> 
>> (I see it still has the original temp icon used also 
>> for GTWVG and all little test apps)
>> 
> 
> I am also waiting someone will provide one.
> Please suppy appropriate one.
> 
> 
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4604598.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sat Feb 20 17:20:12 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 20 17:20:19 2010
Subject: [Harbour] Re: Hbide ready to use
In-Reply-To: <609353e71002201357y3753673fr844ca4aeeeb44b67@mail.gmail.com>
References: <609353e71002120645j2ea53bcbga82550573ee623c7@mail.gmail.com>
	<1265987615194-4561583.post@n2.nabble.com>
	<609353e71002120724s2eea1cc6v2619506d19d4f929@mail.gmail.com>
	<1266000629036-4562819.post@n2.nabble.com>
	<609353e71002130133u224fe329mfeff2bcc901d8725@mail.gmail.com>
	<1266590171334-4598130.post@n2.nabble.com>
	<609353e71002200956m53f65534p225b233c8922de26@mail.gmail.com>
	<1266699325933-4604372.post@n2.nabble.com>
	<eed8bee51002201300g31a678fck9a07cebe47d90fa7@mail.gmail.com>
	<609353e71002201357y3753673fr844ca4aeeeb44b67@mail.gmail.com>
Message-ID: <1266704412386-4604642.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Hi carlos
> i follow your suggestion changing layout
> http://harbourlanguage.blogspot.com/
> 

Thank you. It looks much better.
However a few notes:

1) You can always resize the window to visualizable dimensions.
2) When you concentrate on one topic, close other docks.
    Why "Ffunctions List" dock is open when you are explaining "Code
Skeletons".
3) Do not show pull part of the screen as far as docks are concerned.
    Simply resize the different parts to bring focus on main widget you are 
    discussing. In current case, Themes, Properties and other docks are
shown 
    outside of the main appln. It reduces hbIDE's interface value.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Hbide-ready-to-use-tp4561432p4604642.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From e.m.giordano at emagsoftware.it  Sat Feb 20 17:29:56 2010
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Feb 20 17:30:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13944] trunk/harbour
References: <E1NixYd-00074F-Lw@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <A150E2802C98472EBA213353A15D7B31@emag>


-----Messaggio Originale----- 
Da: <vszakats@users.sourceforge.net>
A: <harbour@harbour-project.org>
Data invio: sabato 20 febbraio 2010 23.12
Oggetto: [Harbour] SF.net SVN: harbour-project:[13944] trunk/harbour

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From vailtom at gmail.com  Sat Feb 20 18:15:05 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sat Feb 20 18:15:32 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com> 
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com> 
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl> 
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com> 
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu> 
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
Message-ID: <531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>

Hi all!

I have a question that I found when I studied about documentation on
NF format and I still can not completely understand: What name we give
to new files containing the documentation on SVN?

* Respecting the category of functions?
* Respecting the category + subcategory?
* There is no specific rule?

Recalling that this type of nomenclature is important just to keep a
certain "order" in the repository so it will be easy to find and
compare the translation between languages of a specific function...
because after exporting this data to other formats (web, pdf, etc.)
this detail may not seem so important.

I think it would be important to mention about it right now ...

Regards,
Vailton Renato
From harbour.01 at syenar.hu  Sat Feb 20 18:35:57 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 20 18:36:08 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>
Message-ID: <284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>

Hi Vailton,

On 2010 Feb 21, at 00:15, Vailton Renato wrote:

> Hi all!
> 
> I have a question that I found when I studied about documentation on
> NF format and I still can not completely understand: What name we give
> to new files containing the documentation on SVN?
> 
> * Respecting the category of functions?
> * Respecting the category + subcategory?
> * There is no specific rule?
> 
> Recalling that this type of nomenclature is important just to keep a
> certain "order" in the repository so it will be easy to find and
> compare the translation between languages of a specific function...
> because after exporting this data to other formats (web, pdf, etc.)
> this detail may not seem so important.

Good point. There is no specific rule yet.

I think it's better to categorize functions 
only using keywords ("tags") inside doc, otherwise 
we will have to keep filenames in sync with 
file content, which in practice will mean a lot 
cleanup work, and it will never be right.

So, maybe the easiest is to create doc filenames 
from the _beginning_ of functions names (or class
names) contained in them:

  /doc/en/a.txt - containing all A*() functions.
  /doc/en/bit.txt - containing HB_BIT*() functions.
  /doc/en/hb_f.txt - containing HB_F*() functions.
  /doc/en/hb_os.txt - containing HB_OS*() functions.
  /doc/en/ord.txt - containing ORD*() functions.
  /doc/en/tbrowse.txt - containing TBROWSE() class.
  /contrib/hbsqlit3/doc/en/sqlite3.txt - containing all SQLITE3_*() functions.

The 'beginning' can the first letter, or first 
logical section ("namespace"), of the functions 
names. (If this is doubtful I can create more 
examples)

This will also create a certain level of 
natural categorization, since our name are 
usually well formed, and it makes finding 
any functions very easy, without the need to 
grep or do any other sort of multi-file search.

Opinions are welcome.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Sat Feb 20 20:25:02 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Feb 20 20:26:05 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <4B808B6E.7020301@dbtopas.lt>

Hi,


>     + added new C function:
>          PHB_ITEM hb_socketGetIFaces( int af, HB_BOOL fNoAliases );
>       it returns array with existing interfaces description.
>       This code was added for non MS-Windows based platforms only.
>       Support for MS-Windows has to be added yet.

Xavi has mentioned a popular GetAdaptersInfo() way to get interface 
list. Windows also support another method that is more similar to your 
implementation (but less info could be obtained using with method):

http://tangentsoft.net/wskfaq/examples/getifaces.html
http://msdn.microsoft.com/en-us/library/ms741621(VS.85).aspx
http://msdn.microsoft.com/en-us/library/ms738568(VS.85).aspx



Regards,
Mindaugas
From niki at synel.co.il  Sun Feb 21 01:52:46 2010
From: niki at synel.co.il (Chen Kedem)
Date: Sun Feb 21 01:52:55 2010
Subject: [Harbour] Re: About Harbour Documentation
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8EB581A8@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> [ There is some leftover from the paste
> Spanish documentation in /examples, if
> there are no objections I will delete
> those, as they are incomplete and
> unmaintained since at least 8 years. ]

<rant>
It hard to object if you already deleted them an hour later.

You can say that ALL docs are 8 or 10 years old so why don't
just delete it all and be done with it. Some of the ES docs where
translation of original EN for standard Clipper/Harbour functions.
These should not changed in the past 10 years. I know that the
docs were neglected, but sometimes it is better to have some reference
to work with (future ES documenter) than to have nothing to start with.
(I know they are in the SVN tree but for most users they are now gone).
</rant>

*sigh* above were just some ranting because you already deleted them,
I have some pending fix requests I made for them dusting in my mailbox
for about a decade. So lets continue.


Doc function header template can be found in doc/hdr_tpl.txt

For start anyone want to contribute anything just post it to the
list and if no one else volunteer to act as an editor (preferably a native
English speaker) I can try to add them into SVN.

Later if we will have enough material to work with, we can try adding
some indexing along with doc status (like the funclist.txt we had in the
old days).


  Chen.
From boerig97 at hotmail.com  Sun Feb 21 03:10:54 2010
From: boerig97 at hotmail.com (Marco Boeri)
Date: Sun Feb 21 03:11:02 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581A8@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581A8@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <SNT140-w12C23E601B17B843FA886AD5440@phx.gbl>



> <rant>
> It hard to object if you already deleted them an hour later.
> 
> You can say that ALL docs are 8 or 10 years old so why don't
> just delete it all and be done with it. Some of the ES docs where
> translation of original EN for standard Clipper/Harbour functions.
> These should not changed in the past 10 years. I know that the
> docs were neglected, but sometimes it is better to have some reference
> to work with (future ES documenter) than to have nothing to start with.
> (I know they are in the SVN tree but for most users they are now gone).
> </rant>
> 
Isn't svn allowing to recover past/deleted/modified versions of all files? If yes, would be easy to undelete them if anyone needs them,

 

Best regards,

Marco
 		 	   		  
_________________________________________________________________
La tua privacy ? al sicuro con Internet Explorer 8. Scopri di pi?
http://www.microsoft.com/italy/windows/internet-explorer/features/browse-privately.aspx?tabid=2&catid=1
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100221/631eba55/attachment.html
From niki at synel.co.il  Sun Feb 21 03:43:19 2010
From: niki at synel.co.il (Chen Kedem)
Date: Sun Feb 21 03:43:29 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581A8@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581A8@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8EB581A9@Mail-yoq.SYNEL-COMPANY.LTD>

Marco,

> Isn't svn allowing to recover past/deleted/modified versions of all files?

Of course, and I wrote that:

>> I know they are in the SVN tree

Since the docs need to have some major review, it might be best to focus
on the English one we have and and new material submitted and only when
they updated content, start translation efforts.


  Chen.
From harbour.01 at syenar.hu  Sun Feb 21 04:15:45 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 04:15:57 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581A8@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581A8@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <F05CF971-E715-4EC2-A228-1C397402E834@syenar.hu>

Hi Chen,

> <rant>
> It hard to object if you already deleted them an hour later.
> 
> You can say that ALL docs are 8 or 10 years old so why don't
> just delete it all and be done with it. Some of the ES docs where
> translation of original EN for standard Clipper/Harbour functions.
> These should not changed in the past 10 years. I know that the
> docs were neglected, but sometimes it is better to have some reference
> to work with (future ES documenter) than to have nothing to start with.
> (I know they are in the SVN tree but for most users they are now gone).
> </rant>
> 
> *sigh* above were just some ranting because you already deleted them,
> I have some pending fix requests I made for them dusting in my mailbox
> for about a decade. So lets continue.

Ok, sorry. I don't think it's very useful for us though. 
For me it has been giving 'dead' grep hits for years, 
I've raised this issue in the past a few times, moved it 
to examples a few years back, so there has quite some 
chances to "save it" in the past. Just having something 
in SVN gathering dust _is_ actually a bad thing and 
something that slows down other work. If someone wants 
to restart with it anytime, it can easily be restored 
from any release of Harbour from the last 5 years. Anyhow 
I think it's better to focus on English now.

> Doc function header template can be found in doc/hdr_tpl.txt

You're right. I forgot about it.

> For start anyone want to contribute anything just post it to the
> list and if no one else volunteer to act as an editor (preferably a native
> English speaker) I can try to add them into SVN.
> 
> Later if we will have enough material to work with, we can try adding
> some indexing along with doc status (like the funclist.txt we had in the
> old days).

Yes.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Feb 21 04:28:11 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 04:28:23 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
Message-ID: <30AD918B-969F-428C-A0E7-765D16681066@syenar.hu>

Hi All,

What we've decided/know about doc files so far:

Location: <root>/doc/<IETF language code>/<filename>.txt
Format: NANFORUM (see: /doc/hdr_tpl.txt)
Codepage: UTF-8

<root>:
 is empty for core functions residing in /src.
 is '/contrib/<libname>' for contrib libs.

<IETF language code> for some languages:
 en - English (generic)
 es - Spanish (generic)
 hu-HU - Hungarian
 pt-BR - Portuguese (Brazil)

<filename>:
 should be the function name "prefix", this can 
 be the namespace ('hb_lib', 'ord'), or first one 
 ('a', 'f') letter, or complete name of function 
 being documented ('tbrowse'). Always lowercase, 
 8.3 format.

 examples:
   /doc/en/a.txt - containing all A*() functions.
   /doc/en/bit.txt - containing HB_BIT*() functions.
   /doc/en/hb_f.txt - containing HB_F*() functions.
   /doc/en/hb_os.txt - containing HB_OS*() functions.
   /doc/en/ord.txt - containing ORD*() functions.
   /doc/en/tbrowse.txt - containing TBROWSE() class.
   /contrib/hbsqlit3/doc/en/sqlite3.txt - containing all SQLITE3_*() functions.

Brgds,
Viktor

From niki at synel.co.il  Sun Feb 21 05:44:14 2010
From: niki at synel.co.il (Chen Kedem)
Date: Sun Feb 21 05:44:24 2010
Subject: [Harbour] Doc format #1
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

>   /doc/en/a.txt - containing all A*() functions.

Grouping by the first letter is a bit random (h.txt for all HB_* ?)

>   /doc/en/bit.txt - containing HB_BIT*() functions.

Should be hb_bit.txt if its the same as the next samples.

>   /doc/en/hb_f.txt - containing HB_F*() functions.
>   /doc/en/hb_os.txt - containing HB_OS*() functions.
>   /doc/en/ord.txt - containing ORD*() functions.

These are better, as they group together similar functionality.

>   /doc/en/tbrowse.txt - containing TBROWSE() class.

File for each class seems reasonable.

>   /contrib/hbsqlit3/doc/en/sqlite3.txt - containing all SQLITE3_*() functions.

Fine with me.

What to do if we have both classic <FUNC> and its extended HB_<FUNC> ?
Having them in the same place seems logical.

Remember that we also have commands that should usually goes with their
PP functions.

As most Clipper functions do not have a family prefix, we used to group them
according to their sub-system. So maybe if its a totally new family put it according
to the prefix, else according to sub-system.

The only thing I don't like in current NANFORUM format, are the ' *  ' at
begging of each line, it was a pain when needed to break a line a reindent it.
(Since the docs are out of the source, maybe we can think of dropping this
requirement).


  Chen.
From druzus at acn.waw.pl  Sun Feb 21 05:53:41 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 21 05:53:51 2010
Subject: [Harbour] rtl/tthreadx.prg
In-Reply-To: <4B7ECD87.2060105@libero.it>
References: <4B7ECD87.2060105@libero.it>
Message-ID: <20100221105341.GA20594@linux-4bod.home.aster.pl>

On Fri, 19 Feb 2010, Maurilio Longo wrote:

Hi Maurilio,

> you said that harbour cannot differentiate an iVar named ::atStart from a
> method with the same name.

It's standard Clipper behavior.
This code:
   x := obj:msg()
gives exactly the same PCODE as
   x := obj:msg

Clipper does not make any difference here and in both cases sends
message 'msg' to 'obj' object.
Only assign operation is compiled in different way and code like:
   obj:msg := x
gives exactly the same PCODE as:
   obj:_msg( x )
so Clipper send message '_msg' to object 'obj' with assigned value passed
as 1-st parameter.
Harbour is fully Clipper compatible here.

> Now, this causes problems with xpp compatibility where such a possibility
> exists, but, in the beginning, we could say that when I call
> 
> ::Start( "mysymbol" )
> 
> I'm probably not going to depend on a method ::atStart which can exist only in
> sublasses of TThread  which I would start with a
> 
> oMyT := oMyClass():New():Start()
> 
> So, question is: is there a way to know if a class implements a method? In
> which case we could run the ::atStart() method which is better than nothing, IMHO.

There is no clean way to detect it because in both cases these are
messages only so we can only use some hacks, i.e. check default function
attached to given message. If it's one of standard functions used to access
instance variables then we can decide it's variable. Anyhow such code
stops to work when someone uses ACCESS/ASSIGN/SETGET messages as wrapper
to instance variables in subclasses. In such case we will detect it as
normal messages.

> I see in changelog a
> __objHasMsgAssigned( object, "msgName" )
> and then a __objHasMsg and a __objHasData, don't distinguish methods from ivars?

__objHasMsg() checks if object understands message (it was declared
in class of given object or one of its ancestors)

__objHasMsgAssigned() checks if object understands message and this
message is not redirected to the default function used for method
declared as VIRTUAL or DEFERRED.

__objHasData() is one object/class functions defined in src/rtl/objfunc.prg
which from the beginning only have been confusing users suggesting that
they are making sth different then they really can :-(

In fact they are using some tricks only and the returned information
can be completely different then expected value in some cases.
__objHasData( <obj>, <msg> ) returns .T. if object understands two
messages: <msg> and also "_" + <msg>.

It the context you are asking for it does not return correct result.
It simply always return .T. for TTHREAD class and its all subclasses
because they inherit atStart and _atStart messages used for instance
variable atStart in base class.

The functionality you are asking for can be implemented as:

   #include "hboo.ch"

   function __objHasIVar( obj, cMsg )
      local aMessages, nPos
      aMessages := obj:classSel( ,, .T. )
      nPos := hb_ascan( aMessages, cMsg,,, .T. )
      if nPos != 0
         return aMessages[ nPos, HB_OO_DATA_TYPE ] == HB_OO_MSG_DATA
      endif
   return .F.

If you plan to use it then I can implement it directly in C so it will
be much more efficient then above .prg code which uses array with all
messages created by :classSel().

Or I can add function:

   __objMsgType( <obj>, <cMsg> | <sMsg> ) -> <nType>

so above __objHasIVar() can be implemented as:

   function __objHasIVar( obj, msg )
   retrun __objMsgType( obj, msg ) == HB_OO_MSG_DATA

> PS. If it were possibile to add this xpp extension it would be a good thing :)

I planed to add it as optional extension to core code but now we are
removing HB_COMPAT_XPP so I'll have to rethink it.

> I do understand though that it could require too much work to be considered a
> priority.

It's not very complicated.
In fact it can be done even quite simply using compile time macro so
this code can be enabled optionally.
The real problem is rather Clipper compatibility with code using explicitly
assign messaged with "_" prefix or not strictly respecting difference
between method and instance variables, i.e.:

   o := errorNew()
   ? o:cargo
   ? o:cargo()
   o:_cargo( "test" )
   ? o:cargo
   ? o:cargo()
   o:cargo := "assign"
   ? o:cargo
   ? o:cargo()

is valid Clipper code and such extension will interact with it.

best regards,
Przemek
From dmacias at mail.udg.mx  Sun Feb 21 05:58:06 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Feb 21 05:58:34 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13937] trunk/harbour
Message-ID: <4B8111BE.4030709@mail.udg.mx>

Przemek:

>2010-02-20 18:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>      TODDO: sync names of lang and corresponding code modules.

TODDO ?

>  * harbour/src/rtl/hbsocket.c
>      Please test this code with OS2 using OpenWatcom and GCC (old and
>      new socket API). I enabled HB_HAS_SOCKADDR_SA_LEN in OS2 builds.
>      OpenWatocm OS2 header files have such fields but I do know if it's
>      also present in GCC socket API.

How to test ? code sample

>  * harbour/src/rtl/hbinet.c
>    + added new PRG function:
>         hb_inetIfInfo( [<lNoAliases>] [, <nAddrFamily>] ) -> <aInfo>
>      <lNoAliases> is .F. by default so aliases are included
>      <nAddrFamily> is HB_SOCKET_AF_INET by default
>      <aInfo> is an array in which each entry is also array with the
>      following fields:
>         HB_SOCKET_IFINFO_FAMILY    1     // adress family
>         HB_SOCKET_IFINFO_NAME      2     // interface name
>         HB_SOCKET_IFINFO_FLAGS     3     // flags HB_SOCKET_IFF_*
>         HB_SOCKET_IFINFO_ADDR      4     // interface address
>         HB_SOCKET_IFINFO_NETMASK   5     // subnetmask
>         HB_SOCKET_IFINFO_BROADCAST 6     // broadcast address
>         HB_SOCKET_IFINFO_P2PADDR   7     // point-to-point address
>         HB_SOCKET_IFINFO_HWADDR    8     // hardware address
>
>      Please use this code on different non MS-Windows platforms:
>
>            proc main( noAlias )
>               local iface
>               ? os(), version()
>               ? "interfaces:"
>               for each iface in hb_inetIfInfo( !empty( noAlias ), 0 )
>                  ? hb_valToExp( iface )
>               next
>               ?
>            return
>
>      and check if it returns correct information about available
>      interfaces.


Added hb_compiler()
This computer have two network cards

[E:\]ifconfig lan0
lan0: flags=8843<UP,BROADCAST,RUNNING,MULTICAST,LOOPBRD>
        inet 192.168.1.110  netmask 0xffffff00 broadcast 192.168.1.255

[E:\]ifconfig lan1
lan1: flags=8843<UP,BROADCAST,RUNNING,MULTICAST,LOOPBRD>
        inet 192.168.2.64  netmask 0xffffff00 broadcast 192.168.2.255


OpenWatcom
==========
OS/2 4.50 Harbour 2.1.0dev (Rev. 13944) Open Watcom C 12.80 (32-bit)

interfaces:
{18, "lan0", 19, NIL, NIL, NIL, NIL, NIL}
{2, "lan0", 19, "192.168.1.110", "255.255.255.0", "192.168.1.255", NIL, NIL}
{18, "lan1", 19, NIL, NIL, NIL, NIL, NIL}
{2, "lan1", 19, "192.168.2.64", "255.255.255.0", "192.168.2.255", NIL, NIL}
{18, "lo", 21, NIL, NIL, NIL, NIL, NIL}
{2, "lo", 21, "127.0.0.1", "255.0.0.0", NIL, NIL, NIL}


os2gcc442, with -DTCPV40HDRS
=======================
gcc   -I. -I../../../../../include -Zomf -Wall -W -O3 
-DHB_LEGACY_TYPES_OFF  -DHB_HAS_PCRE 
-IE:/harbour102/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB 
-IE:/harbour102/harbour/external/zlib -DTCPV40HDRS 
-DHB_FM_STATISTICS_OFF -ohbsocket.o -c ../../../hbsocket.c
../../../hbsocket.c: In function 'hb_socketGetIFaces':
../../../hbsocket.c:3031: error: 'struct sockaddr' has no member named 
'sa_len'
make[3]: *** [hbsocket.o] Error 1
make[3]: Leaving directory `E:/harbour102/harbour/src/rtl/obj/os2/gccomf'

os2gcc442, without -DTCPV40HDRS
=======================
OS/2 4.50 Harbour 2.1.0dev (Rev. 13944) EMX GNU C 4.4.2 (32-bit)
interfaces:
{18, "lan0", 19, NIL, NIL, NIL, NIL, NIL}
{2, "lan0", 19, "192.168.1.110", "255.255.255.0", "192.168.1.255", NIL, NIL}
{18, "lan1", 19, NIL, NIL, NIL, NIL, NIL}
{2, "lan1", 19, "192.168.2.64", "255.255.255.0", "192.168.2.255", NIL, NIL}
{18, "lo", 21, NIL, NIL, NIL, NIL, NIL}
{2, "lo", 21, "127.0.0.1", "255.0.0.0", NIL, NIL, NIL}

David Macias

From harbour.01 at syenar.hu  Sun Feb 21 05:58:45 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 05:58:56 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <8AECAF05-23CF-419E-9092-BF6C89784226@syenar.hu>

Hi Chen and All,

>>  /doc/en/a.txt - containing all A*() functions.
> 
> Grouping by the first letter is a bit random (h.txt for all HB_* ?)

This should be last resort. Maybe I should put 
it at the end of the list.

>>  /doc/en/bit.txt - containing HB_BIT*() functions.
> 
> Should be hb_bit.txt if its the same as the next samples.

Yes you're right, my mistake.

>>  /doc/en/hb_f.txt - containing HB_F*() functions.
>>  /doc/en/hb_os.txt - containing HB_OS*() functions.
>>  /doc/en/ord.txt - containing ORD*() functions.
> 
> These are better, as they group together similar functionality.

This should be the primary way of naming files, 
maybe it wasn't clear from my msg. The "prefix" 
or "beginning" of function names is the first 
logical section of the name which makes sense, 
usually it is the namespace. Sometimes the 
namespace is just one character ('a', 'f'), 
sometimes there is no namespace at all. In 
such case the first or first two/three letters 
can be used. Anyhow the filename must always 
match the beginning of all function names covered 
in the file.

>>  /doc/en/tbrowse.txt - containing TBROWSE() class.
> 
> File for each class seems reasonable.
> 
>>  /contrib/hbsqlit3/doc/en/sqlite3.txt - containing all SQLITE3_*() functions.
> 
> Fine with me.
> 
> What to do if we have both classic <FUNC> and its extended HB_<FUNC> ?
> Having them in the same place seems logical.

I'd not make any exception here. To me it looks 
pretty complicate to make rule based on that.

> Remember that we also have commands that should usually goes with their
> PP functions.

Yes command, PP directives, other things.

Well, one way to extend current naming, is to prepend 
'func_' for functions, 'cmd_' for commands, 'pp_' for 
preprocessor directives, 'class_' for classes, etc.

In this case we have to lift the 8.3 naming scheme. 
Another alternative is to use the same as above, but 
using subdirs:
  .../doc/en/func/*.txt
  .../doc/en/class/*.txt
  .../doc/en/pp/*.txt
  .../doc/en/cmd/*.txt

Though it makes navigation and searching more complicated.

Question, how bad is to allow long filenames in docs?
I think it's fine.

> As most Clipper functions do not have a family prefix, we used to group them
> according to their sub-system. So maybe if its a totally new family put it according
> to the prefix, else according to sub-system.

Subsystem is a very difficult thing to decide on.
Moreover, one function can be categorized to multiple 
subsystems. Subsystem is also present in doc itself, 
so it will cause a never ending syncing problem, files 
will have to be renamed. It's also difficult for someone 
looking for a function to decide which subsystem it 
might belong to, which means 'grep'-ping the doc will 
be unavoidable. This scheme was employed in current 
/doc/en/ docs, and for me it's extremely confusing 
anytime I had to touch those files.

My definite vote to avoid this confusion and use 
simple "beginning of filename" scheme. It IMO cannot 
be simpler, cleaner than that.

> The only thing I don't like in current NANFORUM format, are the ' *  ' at
> begging of each line, it was a pain when needed to break a line a reindent it.
> (Since the docs are out of the source, maybe we can think of dropping this
> requirement).

I agree.

If there is no objection, please update the template, 
and also someone will have to tweak hbdoc2.

Brgds,
Viktor

From mbelgrano at deltain.it  Sun Feb 21 05:58:36 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 21 05:59:06 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <609353e71002210258s4cf97520td05b4f155f23bad6@mail.gmail.com>

The other bad thing is lack of image support for insert in doc screenshoot
and particular for gui element will be usefull
May be that will evolve naforum asci in rtf/OOXML  to allow it in future?

2010/2/21 Chen Kedem <niki@synel.co.il>:
>
> The only thing I don't like in current NANFORUM format, are the ' * ?' at
> begging of each line, it was a pain when needed to break a line a reindent it.
> (Since the docs are out of the source, maybe we can think of dropping this
> requirement).
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Sun Feb 21 06:02:20 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 21 06:02:28 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20100221110220.GA20895@linux-4bod.home.aster.pl>

On Sun, 21 Feb 2010, Chen Kedem wrote:

Hi,

> The only thing I don't like in current NANFORUM format, are the ' *  ' at
> begging of each line, it was a pain when needed to break a line a reindent it.
> (Since the docs are out of the source, maybe we can think of dropping this
> requirement).

Or maybe one of us can write small tool which will store NONFORUM fields
in DBF table with import and export options to / from .txt format.
It should support very basic form to edit them and of course work in
text mode (GUI mode can be added optionally).
As an option we can add to this program support for direct editing .txt
files.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Feb 21 06:07:49 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 21 06:07:59 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <609353e71002210258s4cf97520td05b4f155f23bad6@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
	<609353e71002210258s4cf97520td05b4f155f23bad6@mail.gmail.com>
Message-ID: <72B4EB27-7ABC-4DB6-BB89-B31698E457C5@syenar.hu>

> The other bad thing is lack of image support for insert in doc screenshoot
> and particular for gui element will be usefull
> May be that will evolve naforum asci in rtf/OOXML  to allow it in future?

I think that images are not a requirement for 
a good function / command reference. And this 
is what we aim for. For this, we only need to 
have code snippets, clear, up to the point and 
well formatted.

Screenshots are also extremely time consuming 
to properly generate and keep updated in context 
of general Harbour documentation. It's also 
unavoidably misleading, as we're platform independent, 
and screenshots are inherently platform dependent, 
thus confusing. So IMO the only place for 
screenshots is for "visual" tools, installation.
This is off-topic regarding general function/cmd/class 
reference.

Let's focus on adding text for now.

Brgds,
Viktor

From mbelgrano at deltain.it  Sun Feb 21 06:07:54 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 21 06:08:23 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <20100221110220.GA20895@linux-4bod.home.aster.pl>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
	<20100221110220.GA20895@linux-4bod.home.aster.pl>
Message-ID: <609353e71002210307j34d6a05dn76c02237bc8a8c60@mail.gmail.com>

+1
for dbf way with One function many category
require verify text without refedence in dbf


2010/2/21 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Sun, 21 Feb 2010, Chen Kedem wrote:
>
> Hi,

>
> Or maybe one of us can write small tool which will store NONFORUM fields
> in DBF table with import and export options to / from .txt format.
> It should support very basic form to edit them and of course work in
> text mode (GUI mode can be added optionally).
> As an option we can add to this program support for direct editing .txt
> files.
>
> best regards,
> Przemek

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sun Feb 21 06:13:07 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 06:13:19 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <20100221110220.GA20895@linux-4bod.home.aster.pl>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
	<20100221110220.GA20895@linux-4bod.home.aster.pl>
Message-ID: <884AFE8E-5E78-497F-81A9-4CA2F01F9E76@syenar.hu>

>> The only thing I don't like in current NANFORUM format, are the ' *  ' at
>> begging of each line, it was a pain when needed to break a line a reindent it.
>> (Since the docs are out of the source, maybe we can think of dropping this
>> requirement).
> 
> Or maybe one of us can write small tool which will store NONFORUM fields
> in DBF table with import and export options to / from .txt format.
> It should support very basic form to edit them and of course work in
> text mode (GUI mode can be added optionally).
> As an option we can add to this program support for direct editing .txt
> files.

IMO using .dbf as local temporary storage is only useful 
if it's done fully transparently as a caching medium by 
the editor tool.

The input should always be .txt and the output should be 
.txt as well.

Anyhow I'd suggest not to fall into the 'toolitis' 
too much. I can understand it's much more fun to 
create editor tools (we have now plans for at least 
4 (!) of them in two day), but I think we will be lost 
in the details if we focus on that.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Feb 21 06:14:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 06:14:52 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <609353e71002210307j34d6a05dn76c02237bc8a8c60@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
	<20100221110220.GA20895@linux-4bod.home.aster.pl>
	<609353e71002210307j34d6a05dn76c02237bc8a8c60@mail.gmail.com>
Message-ID: <1DE455AF-3BA5-49DE-A086-63038F3E2E92@syenar.hu>

Please let's not start over the ".dbf" way once 
again.

.dbf is impossible to edit without sophisticated 
(but at least dedicated) editor tool, it cannot be 
text merged, diffed, grepped, it's a binary format.

Brgds,
Viktor

On 2010 Feb 21, at 12:07, Massimo Belgrano wrote:

> +1
> for dbf way with One function many category
> require verify text without refedence in dbf
> 
> 
> 2010/2/21 Przemys?aw Czerpak <druzus@acn.waw.pl>:
>> On Sun, 21 Feb 2010, Chen Kedem wrote:
>> 
>> Hi,
> 
>> 
>> Or maybe one of us can write small tool which will store NONFORUM fields
>> in DBF table with import and export options to / from .txt format.
>> It should support very basic form to edit them and of course work in
>> text mode (GUI mode can be added optionally).
>> As an option we can add to this program support for direct editing .txt
>> files.
>> 
>> best regards,
>> Przemek
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Feb 21 06:15:22 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 06:15:30 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <1DE455AF-3BA5-49DE-A086-63038F3E2E92@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
	<20100221110220.GA20895@linux-4bod.home.aster.pl>
	<609353e71002210307j34d6a05dn76c02237bc8a8c60@mail.gmail.com>
	<1DE455AF-3BA5-49DE-A086-63038F3E2E92@syenar.hu>
Message-ID: <6B2E9A14-7201-4A71-9108-D4FC978B19F5@syenar.hu>

.dbf is a target/presentation format, not a source one!!

Brgds,
Viktor

On 2010 Feb 21, at 12:14, Viktor Szak?ts wrote:

> Please let's not start over the ".dbf" way once 
> again.
> 
> .dbf is impossible to edit without sophisticated 
> (but at least dedicated) editor tool, it cannot be 
> text merged, diffed, grepped, it's a binary format.
> 
> Brgds,
> Viktor
> 
> On 2010 Feb 21, at 12:07, Massimo Belgrano wrote:
> 
>> +1
>> for dbf way with One function many category
>> require verify text without refedence in dbf
>> 
>> 
>> 2010/2/21 Przemys?aw Czerpak <druzus@acn.waw.pl>:
>>> On Sun, 21 Feb 2010, Chen Kedem wrote:
>>> 
>>> Hi,
>> 
>>> 
>>> Or maybe one of us can write small tool which will store NONFORUM fields
>>> in DBF table with import and export options to / from .txt format.
>>> It should support very basic form to edit them and of course work in
>>> text mode (GUI mode can be added optionally).
>>> As an option we can add to this program support for direct editing .txt
>>> files.
>>> 
>>> best regards,
>>> Przemek
>> 
>> -- 
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From niki at synel.co.il  Sun Feb 21 06:26:51 2010
From: niki at synel.co.il (Chen Kedem)
Date: Sun Feb 21 06:27:00 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AB@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> ...Or maybe one of us can write small tool which will store NONFORUM fields
> in DBF table with import and export options to / from .txt format.

I'm not talking about final format (which can be anything), I refer to the docs
source. At the moment they could be edited with any text editor and I think we
should keep it this way. The spaces and asterisks at the starting of each line make
it hard to reformat paragraphs.


Another issue (related to topic, not to the above issue),
in current docs we have a simple mark ups like: <table>, <par>, <fixed>
that might collide with argument notation if extended.


  Chen.
From harbour.01 at syenar.hu  Sun Feb 21 06:29:37 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 06:29:46 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AB@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D8EB581AB@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <5EB2A2DC-F5F3-4650-B650-2493681E184B@syenar.hu>

> Another issue (related to topic, not to the above issue),
> in current docs we have a simple mark ups like: <table>, <par>, <fixed>
> that might collide with argument notation if extended.

Are these our extensions, or NANFORUM stuff?

It's not too late to redefine them yet.

[ Maybe we should use the term 'HBDOC format', 
if we add our own extensions. ]

Brgds,
Viktor

From niki at synel.co.il  Sun Feb 21 06:46:05 2010
From: niki at synel.co.il (Chen Kedem)
Date: Sun Feb 21 06:46:14 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AB@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D8EB581AB@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AC@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> Are these our extensions, or NANFORUM stuff?

These are HBDOC extensions added by Luiz Culik to allow creation
of tables, force paragraphs and allow fixed fonts usage (mainly in examples).
We needed some way to mark these is source.

  Chen.
From dmacias at mail.udg.mx  Sun Feb 21 06:57:28 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Feb 21 06:57:47 2010
Subject: [Harbour] Re: OS/2: Harbour 13841
Message-ID: <4B811FA8.6040608@mail.udg.mx>

Maurilio, Viktor:

 >Knut says gcc does not create a response file, but what happens if we
 >call ld or/and emxomfld directly, without passing through gcc, after
 >having created the correct response file?

 >We could end up with a solution which works with every version of gcc
 >without requiring a patch at all.

[Viktor]
 >This is an option. We opted not to call ld directly
 >for gcc compilers in general, but I think it's not a
 >problem to make an exception for OS/2.

I can not decide here due I do not know technical facts

This is what ld.exe/emxomfld.exe report:

Usage: ld.exe [-d] [-dc] [-dp] [-e symbol] [-l lib] [-n] [-noinhibit-exec]
        [-nostdlib] [-o file] [-r] [-s] [-t] [-u symbol] [-x] [-y symbol]
        [-z] [-A file] [-Bstatic] [-D size] [-L libdir] [-M] [-N]
        [-S] [-T[{text,data}] addr] [-V prefix] [-X] [-Zdll-search]
        [file...]

Usage: emxomfld -o <file> [-l <lib>] [-L <libdir>] [-T <base>] [-igtsS]
            [-Zexe] [-Zdll] [-Zsym] [-Zstack <size>] [-Zmap[=<map_file>]]
            [-Z[no-]autoconv] [-Zdll-search] [-O <option>] [-static]
            [-non_shared] [-Bstatic] [-dn] [call_shared] [-Bshared]
            [-dy] <file>...

 >BTW, they build mozilla or firebird, can it be possibile that those
 >monster projects have fewer files than harbour?

Harbour is a monster too  :-)

Our problem is intermediate file size greater than 32 Kb in .dll creation
Perhaps Harbour surpassed this limit before than any other monster 
project and they will have this problem sooner or later
They may have shorter intermediate file size even with more object files

Harbour need shorter intermediate file size

David Macias


From harbour.01 at syenar.hu  Sun Feb 21 06:58:26 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 06:58:35 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AC@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D8EB581AB@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D8EB581AC@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <B31A72E5-EDC0-43D2-9069-4073B46C0AE3@syenar.hu>

Hi Chen,

> Viktor,
> 
>> Are these our extensions, or NANFORUM stuff?
> 
> These are HBDOC extensions added by Luiz Culik to allow creation
> of tables, force paragraphs and allow fixed fonts usage (mainly in examples).
> We needed some way to mark these is source.

Okay. Please decide about them, hbdoc2 supports 
current "tags" BTW.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Feb 21 07:05:08 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 21 07:05:20 2010
Subject: [Harbour] Re: OS/2: Harbour 13841
In-Reply-To: <4B811FA8.6040608@mail.udg.mx>
References: <4B811FA8.6040608@mail.udg.mx>
Message-ID: <7D287D83-5191-4A41-8FBE-58C615C06334@syenar.hu>

Hi,

> Usage: ld.exe [-d] [-dc] [-dp] [-e symbol] [-l lib] [-n] [-noinhibit-exec]
>       [-nostdlib] [-o file] [-r] [-s] [-t] [-u symbol] [-x] [-y symbol]
>       [-z] [-A file] [-Bstatic] [-D size] [-L libdir] [-M] [-N]
>       [-S] [-T[{text,data}] addr] [-V prefix] [-X] [-Zdll-search]
>       [file...]
> 
> Usage: emxomfld -o <file> [-l <lib>] [-L <libdir>] [-T <base>] [-igtsS]
>           [-Zexe] [-Zdll] [-Zsym] [-Zstack <size>] [-Zmap[=<map_file>]]
>           [-Z[no-]autoconv] [-Zdll-search] [-O <option>] [-static]
>           [-non_shared] [-Bstatic] [-dn] [call_shared] [-Bshared]
>           [-dy] <file>...

To try it, in config/os2/gcc.mk, replace line:
---
DY := $(CC)
---
with:
---
ifeq ($(HB_COMPILER),gccomf)
   DY := $(HB_CCPATH)$(HB_CCPREFIX)emxomfld
else
   DY := $(HB_CCPATH)$(HB_CCPREFIX)ld
endif
---

Maybe some other tweaks are needed in the command line.

> Harbour need shorter intermediate file size

I also need a bigger house ;) It's not an option 
unfortunately, at least I don't know of any. But 
the source is there so anyone can try to enhance 
it.

IMO rather someone should fix this OS/2 GCC 
toolchain bug.

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Feb 21 07:18:31 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 21 07:18:39 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <4B8111BE.4030709@mail.udg.mx>
References: <4B8111BE.4030709@mail.udg.mx>
Message-ID: <20100221121831.GB20895@linux-4bod.home.aster.pl>

On Sun, 21 Feb 2010, David Arturo Macias Corona wrote:

Hi,

> >2010-02-20 18:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >     TODDO: sync names of lang and corresponding code modules.
> TODDO ?

Sorry my typo. It should be:
    TODDO: sync names of lang and corresponding codepage modules.

> > * harbour/src/rtl/hbsocket.c
> >     Please test this code with OS2 using OpenWatcom and GCC (old and
> >     new socket API). I enabled HB_HAS_SOCKADDR_SA_LEN in OS2 builds.
> >     OpenWatocm OS2 header files have such fields but I do know if it's
> >     also present in GCC socket API.
> How to test ? code sample

C compiler output you send is such test :)
'sa_len' is not part of 'struct sockaddr' when TCPV40HDRS is enabled.

I'll commit fix in a while so please test also this build using the
same .prg code.

Thank you very much for your tests.

best regards,
Przemek
From druzus at users.sourceforge.net  Sun Feb 21 07:49:06 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Feb 21 07:49:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13945] trunk/harbour
Message-ID: <E1NjBFC-0001b4-Tt@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13945
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13945&view=rev
Author:   druzus
Date:     2010-02-21 12:49:05 +0000 (Sun, 21 Feb 2010)

Log Message:
-----------
2010-02-21 13:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
    ! fixed typo

  * harbour/src/rtl/hbsocket.c
    ! fixed OS2 builds using TCPV40HDRS - please test

  * harbour/src/vm/classes.c
    + added new PRG function:
         __clsMsgType( <nClassH>, <cMsg> | <sMsg> ) -> <nType>
      <nType> is one of HB_OO_MSG_* values defined in hboo.ch or -1 if
      message is not supported.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/src/vm/classes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb 21 09:03:41 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 21 09:03:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13946] trunk/harbour
Message-ID: <E1NjCPN-0008QH-2p@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13946
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13946&view=rev
Author:   vszakats
Date:     2010-02-21 14:03:38 +0000 (Sun, 21 Feb 2010)

Log Message:
-----------
2010-02-21 15:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbextern.ch
    + Added __CLSMSGTYPE function.

  * config/os2/gcc.mk
    * Changed to use 'ld' tools directly when creating
      Harbour dynamic libraries.
    ; Please test, it's possible that some option have to be 
      deleted, changed, or some system/compiler libs added 
      manually to make it work.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/include/hbextern.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Sun Feb 21 09:06:02 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 21 09:06:28 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com> 
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl> 
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com> 
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu> 
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com> 
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
Message-ID: <531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com>

Hi!

I would suggest introduce an new tag into current NF format: $LASTREVISION$

This would contain the ID of the last time the documentation of a
function / procedure was compared with the original source. Thus, we
could quickly compare the functions which are outdated and need
revision.

A simple example would be:

/*  $DOC$
 *  $TEMPLATE$
 *      Function
 *  $NAME$
 *      ERRORSYS()
 *  $CATEGORY$
 *      API
 *  $SUBCATEGORY$
 *      Error
 *  $ONELINER$
 *      Install default error handler
 *  $SYNTAX$
 *      ERRORSYS() --> NIL
 *  $ARGUMENTS$
 *      None.
 *  $RETURNS$
 *      ERRORSYS() always return NIL.
 *  $DESCRIPTION$
 *      ERRORSYS() is called upon startup by Harbour and installs the default
 *      error handler. Normally you should not call this function directly,
 *      instead use ERRORBLOCK() to install your own error handler.
 *  $STATUS$
 *      R
 *  $COMPLIANCE$
 *      C
 *  $FILES$
 *      Library is rtl
 *  $SEEALSO$
 *      ERRORBLOCK(),Error class
 *  $LASTREVISION$
 *      11685 2009-07-09 21:22:22Z vszakats
 *  $END$
 */

What do you think?

Regards,
Vailton Renato
From harbour.01 at syenar.hu  Sun Feb 21 09:36:29 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 21 09:36:40 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
	<70E1FA45-5A4C-406D-A8AD-FA3E47B51D1E@syenar.hu>
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com>
Message-ID: <FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>

Hi,

> *  $LASTREVISION$
> *      11685 2009-07-09 21:22:22Z vszakats
> *  $END$
> */
> 
> What do you think?

I have some doubts that this will be maintained 
and/or the format kept consistent (unless it's 
done automatically, but that ties us to special 
tools, which is not good).

I think for this purpose it's enough to check the 
$id$ tag in the file header, which shows when 
exactly was the file updated.

But this leads to another thought. We should 
definitely store somewhere the first major 
Harbour version when a given function was 
made available (similar to platform availability). 
F.e.

$VERSION$
   2.1

or maybe $PLATFORM$ can be used:

$PLATFORM$
   All. Requires Harbour 2.1 or uppt

Brgds,
Viktor

From dmacias at mail.udg.mx  Sun Feb 21 10:00:31 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Feb 21 10:00:47 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13937] trunk/harbour
Message-ID: <4B814A8F.3000809@mail.udg.mx>

Przemek:

 >Sorry my typo. It should be:
 >    TODDO: sync names of lang and corresponding codepage modules.

TODDO ?  :-)

 >C compiler output you send is such test :)
 >'sa_len' is not part of 'struct sockaddr' when TCPV40HDRS is enabled.

 >I'll commit fix in a while so please test also this build using the
 >same .prg code.

 >2010-02-21 13:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 >  * harbour/src/rtl/hbsocket.c
 >    ! fixed OS2 builds using TCPV40HDRS - please test

It work

os2gcc442, with -DTCPV40HDRS
=======================
OS/2 4.50 Harbour 2.1.0dev (Rev. 13945) EMX GNU C 4.4.2 (32-bit)
interfaces:
{2, "lo", 21, "127.0.0.1", "255.0.0.0", NIL, NIL, NIL}
{2, "lan0", 19, "192.168.1.110", "255.255.255.0", "192.168.1.255", NIL, NIL}
{2, "lan1", 19, "192.168.2.64", "255.255.255.0", "192.168.2.255", NIL, NIL}


Output is shorter, does not include next kind of line. Is correct ?
    {18, "lan0", 19, NIL, NIL, NIL, NIL, NIL}

See next, equal on OpenWatcom:

os2gcc442, without -DTCPV40HDRS
=======================
OS/2 4.50 Harbour 2.1.0dev (Rev. 13944) EMX GNU C 4.4.2 (32-bit)
interfaces:
{18, "lan0", 19, NIL, NIL, NIL, NIL, NIL}
{2, "lan0", 19, "192.168.1.110", "255.255.255.0", "192.168.1.255", NIL, NIL}
{18, "lan1", 19, NIL, NIL, NIL, NIL, NIL}
{2, "lan1", 19, "192.168.2.64", "255.255.255.0", "192.168.2.255", NIL, NIL}
{18, "lo", 21, NIL, NIL, NIL, NIL, NIL}
{2, "lo", 21, "127.0.0.1", "255.0.0.0", NIL, NIL, NIL}

David Macias


From druzus at acn.waw.pl  Sun Feb 21 10:21:58 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 21 10:22:07 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <4B814A8F.3000809@mail.udg.mx>
References: <4B814A8F.3000809@mail.udg.mx>
Message-ID: <20100221152158.GA4976@linux-4bod.home.aster.pl>

On Sun, 21 Feb 2010, David Arturo Macias Corona wrote:

Hi,

> >Sorry my typo. It should be:
> >    TODDO: sync names of lang and corresponding codepage modules.
> TODDO ?  :-)

Ups :)

> >2010-02-21 13:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >  * harbour/src/rtl/hbsocket.c
> >    ! fixed OS2 builds using TCPV40HDRS - please test
> It work
> os2gcc442, with -DTCPV40HDRS
> =======================
> OS/2 4.50 Harbour 2.1.0dev (Rev. 13945) EMX GNU C 4.4.2 (32-bit)
> interfaces:
> {2, "lo", 21, "127.0.0.1", "255.0.0.0", NIL, NIL, NIL}
> {2, "lan0", 19, "192.168.1.110", "255.255.255.0", "192.168.1.255", NIL, NIL}
> {2, "lan1", 19, "192.168.2.64", "255.255.255.0", "192.168.2.255", NIL, NIL}
> 
> Output is shorter, does not include next kind of line. Is correct ?
>    {18, "lan0", 19, NIL, NIL, NIL, NIL, NIL}

Yes. When 0 is passed explicitly as 2-nd hb_inetIfInfo() parameter then
all interfaces are shown. 18 is AF_LINK.
Shorter results means that TCPV40HDRS implementation does not support it.
If you want only IP4 interfaces then simply use hb_inetIfInfo() without
second parameter.

best regards,
Przemek
From druzus at users.sourceforge.net  Sun Feb 21 10:23:54 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Feb 21 10:24:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13947] trunk/harbour
Message-ID: <E1NjDf0-0001PG-PQ@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13947
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13947&view=rev
Author:   druzus
Date:     2010-02-21 15:23:40 +0000 (Sun, 21 Feb 2010)

Log Message:
-----------
2010-02-21 16:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
    ! fixed typo

  * harbour/src/rtl/hbsocket.c
    + implemented MS-Windows version of hb_socketGetIFaces()
      Thanks to Mindaugas for info about SIO_GET_INTERFACE_LIST.
      Warning: support for above action in WSAIoctl() was added in Win98
               so this code probably does not work in Win95.
      Please test.
      TODO: 1) add support for IP6
            2) add support for Win95
            3) add support for fNoAliases switch
            4) add support for MAC address setting
      I hope that MS-Windows developers/users can implement some points
      from above list. I.e. 3 and 4 can be implemented using information
      returned by GetAdaptersInfo() function.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Feb 21 10:25:41 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 21 10:25:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <4B808B6E.7020301@dbtopas.lt>
References: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>
	<4B808B6E.7020301@dbtopas.lt>
Message-ID: <20100221152541.GB4976@linux-4bod.home.aster.pl>

On Sun, 21 Feb 2010, Mindaugas Kavaliauskas wrote:

Hi,

> Xavi has mentioned a popular GetAdaptersInfo() way to get interface
> list. Windows also support another method that is more similar to
> your implementation (but less info could be obtained using with
> method):
> http://tangentsoft.net/wskfaq/examples/getifaces.html
> http://msdn.microsoft.com/en-us/library/ms741621(VS.85).aspx
> http://msdn.microsoft.com/en-us/library/ms738568(VS.85).aspx

Thank you very much for information.
I've just commited basic version.
I hope that you or Xavi can finished it and address some of TODO
notes I left in ChangeLog and source code.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Feb 21 10:27:33 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 21 10:27:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13946] trunk/harbour
In-Reply-To: <E1NjCPN-0008QH-2p@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NjCPN-0008QH-2p@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <20100221152733.GA5195@linux-4bod.home.aster.pl>

On Sun, 21 Feb 2010, vszakats@users.sourceforge.net wrote:

Hi,

> Log Message:
> -----------
> 2010-02-21 15:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * include/hbextern.ch
>     + Added __CLSMSGTYPE function.

Thank you.

best regards,
Przemek
From vailtom at gmail.com  Sun Feb 21 10:27:41 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 21 10:28:08 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com> 
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu> 
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com> 
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com> 
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
Message-ID: <531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>

Hi Viktor!

>
> But this leads to another thought. We should
> definitely store somewhere the first major
> Harbour version when a given function was
> made available (similar to platform availability).
> F.e.
>
> $VERSION$
> ? 2.1
>
> or maybe $PLATFORM$ can be used:
>
> $PLATFORM$
> ? All. Requires Harbour 2.1 or uppt
>

I think it would be better to create a specific tag for it. Here are a
few suggestions:

$Available$
$Implemented$
$From$
$Review$

I vote for with $AVAILABLE$... what the group says?

Regards,
Vailton Renato
From carlosbacco at gmail.com  Sun Feb 21 10:32:06 2010
From: carlosbacco at gmail.com (Bacco)
Date: Sun Feb 21 10:32:33 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com> 
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu> 
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com> 
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com> 
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>
Message-ID: <eed8bee51002210732j1e402103m72d9d3b0da35594d@mail.gmail.com>

So you can put some tag to identify the author of that specific piece
of documentation to avoid stuffing the initial header, as we can have
very long TXTs based on proposed structure.

On Sun, Feb 21, 2010 at 12:27, Vailton Renato <vailtom@gmail.com> wrote:
> Hi Viktor!
>
>>
>> But this leads to another thought. We should
>> definitely store somewhere the first major
>> Harbour version when a given function was
>> made available (similar to platform availability).
>> F.e.
>>
>> $VERSION$
>> ? 2.1
>>
>> or maybe $PLATFORM$ can be used:
>>
>> $PLATFORM$
>> ? All. Requires Harbour 2.1 or uppt
>>
>
> I think it would be better to create a specific tag for it. Here are a
> few suggestions:
>
> $Available$
> $Implemented$
> $From$
> $Review$
>
> I vote for with $AVAILABLE$... what the group says?
>
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From mbelgrano at deltain.it  Sun Feb 21 10:43:07 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 21 10:43:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13947] trunk/harbour
In-Reply-To: <E1NjDf0-0001PG-PQ@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NjDf0-0001PG-PQ@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <609353e71002210743o583c5290qe1b7d9778807f864@mail.gmail.com>

Working who search a volunteer
How can give importance?
other that this mailing?

2010/2/21  <druzus@users.sourceforge.net>:
> Revision: 13947
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13947&view=rev
> Author: ? druzus
> Date: ? ? 2010-02-21 15:23:40 +0000 (Sun, 21 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-21 16:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> ?* harbour/ChangeLog
> ? ?! fixed typo
>
> ?* harbour/src/rtl/hbsocket.c
> ? ?+ implemented MS-Windows version of hb_socketGetIFaces()
> ? ? ?Thanks to Mindaugas for info about SIO_GET_INTERFACE_LIST.
> ? ? ?Warning: support for above action in WSAIoctl() was added in Win98
> ? ? ? ? ? ? ? so this code probably does not work in Win95.
> ? ? ?Please test.
> ? ? ?TODO: 1) add support for IP6
> ? ? ? ? ? ?2) add support for Win95
> ? ? ? ? ? ?3) add support for fNoAliases switch
> ? ? ? ? ? ?4) add support for MAC address setting
> ? ? ?I hope that MS-Windows developers/users can implement some points
> ? ? ?from above list. I.e. 3 and 4 can be implemented using information
> ? ? ?returned by GetAdaptersInfo() function.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/src/rtl/hbsocket.c
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vouchcac at users.sourceforge.net  Sun Feb 21 10:49:39 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Feb 21 10:49:46 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13948] trunk/harbour
Message-ID: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13948
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13948&view=rev
Author:   vouchcac
Date:     2010-02-21 15:49:37 +0000 (Sun, 21 Feb 2010)

Log Message:
-----------
2010-02-21 07:14 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/dc_delete.png
  + contrib/hbide/resources/dc_down.png
  + contrib/hbide/resources/dc_folder.png
  + contrib/hbide/resources/dc_function.png
  + contrib/hbide/resources/dc_home.png
  + contrib/hbide/resources/dc_left.png
  + contrib/hbide/resources/dc_plus.png
  + contrib/hbide/resources/dc_print.png
  + contrib/hbide/resources/dc_quit.png
  + contrib/hbide/resources/dc_refresh.png
  + contrib/hbide/resources/dc_right.png
  + contrib/hbide/resources/dc_textdoc.png
  + contrib/hbide/resources/dc_textdocument.png
  + contrib/hbide/resources/dc_up.png
  + contrib/hbide/resources/docviewgenerator.ui
  + contrib/hbide/resources/docviewgenerator.uic
  * contrib/hbide/resources/help.png
  + contrib/hbide/resources/searchreplace.ui
  + contrib/hbide/resources/searchreplace.uic
    + Added few more images and redefined a prev one.

  * contrib/hbqt/THbQtUI.prg
    + Added some more hbqt.ch defined constants in the engine.

  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideharbourhelp.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idesaveload.prg
  * contrib/hbide/idestylesheets.prg
    + Implemented an html viewer for Harbour's documentation .txt
      files with slots to make it a "writer" too if it fits the purpose.

    ! Reimplemented the "Search-Replace" user interface and working.
      A work-in-progrss which I will explain later.

    ; Harbour Documentation Viewer - How to Invoke
        * Close any docking pane is visible at the right panel.
        * Point to <Docks> option on <Main Menu> and click on 
           <Document Viewer>
        * A right-side "Document Viewer" window will appear.
        * Provide Harbour's installation root path in 
          "Harbour Installation Root:" field, i.e., C:\harbour
        * OR alternatively, you can choose one by clicking 
          "Harbour Installation Root Path" icon on the right of 
          field.
        * Click "Refresh" icon on the toolbar of "Document Viewer" 
          window" only once and wait a couple of seconds.
        * "Contents" tab will be populated with /doc and /doc/en 
          folders.
        * Double-click on one to expand - you will be able to 
          view .txt file names.
        * Double-click on some .txt node, wait a couple of seconds,
          and you will be able to see "functions" nodes.
        * Double-click on the function's node and you will be 
          presented with html display in the "View" tab on the right.
        * Navigate other tabs on the right, you will understand the 
          contents.
        * Next time hbIDE will remember Harbour's installation root path.
        * :( On exit expect to receive a GPF, investigating.

      Right now only "Viewer" part is ready per preliminary stages.
      I have a lot of ideas on my drawing-board and would like to 
      hear your opinions. Basic components to write a document are 
      also in place, but I need to gather more info and what else 
      can be included.

      In the next several days I will be focussing on this tool.

      Bacco and Vailton, please bear with me, as this interface 
      is the basic requirement of hbIDE which I had kept postponed 
      till now. A stand alone viewer and writer has its own purpose,
      space, and audience.      
         

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/resources/help.png
    trunk/harbour/contrib/hbqt/THbQtUI.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/resources/dc_delete.png
    trunk/harbour/contrib/hbide/resources/dc_down.png
    trunk/harbour/contrib/hbide/resources/dc_folder.png
    trunk/harbour/contrib/hbide/resources/dc_function.png
    trunk/harbour/contrib/hbide/resources/dc_home.png
    trunk/harbour/contrib/hbide/resources/dc_left.png
    trunk/harbour/contrib/hbide/resources/dc_plus.png
    trunk/harbour/contrib/hbide/resources/dc_print.png
    trunk/harbour/contrib/hbide/resources/dc_quit.png
    trunk/harbour/contrib/hbide/resources/dc_refresh.png
    trunk/harbour/contrib/hbide/resources/dc_right.png
    trunk/harbour/contrib/hbide/resources/dc_textdoc.png
    trunk/harbour/contrib/hbide/resources/dc_textdocument.png
    trunk/harbour/contrib/hbide/resources/dc_up.png
    trunk/harbour/contrib/hbide/resources/docviewgenerator.ui
    trunk/harbour/contrib/hbide/resources/docviewgenerator.uic
    trunk/harbour/contrib/hbide/resources/searchreplace.ui
    trunk/harbour/contrib/hbide/resources/searchreplace.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sun Feb 21 11:28:42 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Feb 21 11:28:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13949] trunk/harbour
Message-ID: <E1NjEfi-0005Um-Bi@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13949
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13949&view=rev
Author:   vouchcac
Date:     2010-02-21 16:28:40 +0000 (Sun, 21 Feb 2010)

Log Message:
-----------
2010-02-21 08:27 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.hbp
    ! Deleted one source not ready yet.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Feb 21 12:05:02 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 21 12:05:31 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <eed8bee51002210732j1e402103m72d9d3b0da35594d@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu> 
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com> 
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com> 
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com> 
	<eed8bee51002210732j1e402103m72d9d3b0da35594d@mail.gmail.com>
Message-ID: <609353e71002210905t533edd3dl2329a761e62137f5@mail.gmail.com>

We have similar problem on gt and rdd area
where indexord() .or dbexist() is supported by a rdd and not another
and will be supported only from a version
similar for wvt_ function

How write one relation between GT & function?

2010/2/21 Bacco <carlosbacco@gmail.com>:
> So you can put some tag to identify the author of that specific piece
> of documentation to avoid stuffing the initial header, as we can have
> very long TXTs based on proposed structure.
>
> On Sun, Feb 21, 2010 at 12:27, Vailton Renato <vailtom@gmail.com> wrote:
>> Hi Viktor!
>>
>>>
>>> But this leads to another thought. We should
>>> definitely store somewhere the first major
>>> Harbour version when a given function was
>>> made available (similar to platform availability).
>>> F.e.
>>>
>>> $VERSION$
>>> ? 2.1
>>>
>>> or maybe $PLATFORM$ can be used:
>>>
>>> $PLATFORM$
>>> ? All. Requires Harbour 2.1 or uppt
>>>
>>
>> I think it would be better to create a specific tag for it. Here are a
>> few suggestions:
>>
>> $Available$
>> $Implemented$
>> $From$
>> $Review$
>>


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Sun Feb 21 12:54:21 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 21 12:55:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13948] trunk/harbour
In-Reply-To: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <609353e71002210954k603188aeg7785993cabfe09f@mail.gmail.com>

Impressive!
Now harbour have Visual Documentation!
Related function and see also
[image: image]
Can you add:
Related function & See also
Intelligent Find search in main documentation and also in selected contrib
Print a PDF

You can find updated doc on my blog
http://harbourlanguage.blogspot.com/


2010/2/21  <vouchcac@users.sourceforge.net>:
> Revision: 13948
>
http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13948&view=rev
> Author:   vouchcac
> Date:     2010-02-21 15:49:37 +0000 (Sun, 21 Feb 2010)
>    + Implemented an html viewer for Harbour's documentation .txt
>      files with slots to make it a "writer" too if it fits the purpose.
>
>    ! Reimplemented the "Search-Replace" user interface and working.
>      A work-in-progrss which I will explain later.
>
>    ; Harbour Documentation Viewer - How to Invoke
>        * Close any docking pane is visible at the right panel.
>        * Point to <Docks> option on <Main Menu> and click on
>           <Document Viewer>
>        * A right-side "Document Viewer" window will appear.
>        * Provide Harbour's installation root path in
>          "Harbour Installation Root:" field, i.e., C:\harbour
>        * OR alternatively, you can choose one by clicking
>          "Harbour Installation Root Path" icon on the right of
>          field.
>        * Click "Refresh" icon on the toolbar of "Document Viewer"
>          window" only once and wait a couple of seconds.
>        * "Contents" tab will be populated with /doc and /doc/en
>          folders.
>        * Double-click on one to expand - you will be able to
>          view .txt file names.
>        * Double-click on some .txt node, wait a couple of seconds,
>          and you will be able to see "functions" nodes.
>        * Double-click on the function's node and you will be
>          presented with html display in the "View" tab on the right.
>        * Navigate other tabs on the right, you will understand the
>          contents.
>        * Next time hbIDE will remember Harbour's installation root path.
>        * :( On exit expect to receive a GPF, investigating.
>
>      Right now only "Viewer" part is ready per preliminary stages.
>      I have a lot of ideas on my drawing-board and would like to
>      hear your opinions. Basic components to write a document are
>      also in place, but I need to gather more info and what else
>      can be included.
>
>      In the next several days I will be focussing on this tool.
>
>      Bacco and Vailton, please bear with me, as this interface
>      is the basic requirement of hbIDE which I had kept postponed
>      till now. A stand alone viewer and writer has its own purpose,
>      space, and audience.
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100221/9c478638/attachment.html
From vailtom at gmail.com  Sun Feb 21 13:33:51 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 21 13:34:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13948] trunk/harbour
In-Reply-To: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <531d7a751002211033wc2cba0bnde851938854e2d86@mail.gmail.com>

Hi Pritpal!

Great work!?I can only suggest that in "Examples" was activated to
syntax highlight.

Congratulations again!

Regards,
Vailton Renato
From wcshum88 at hotmail.com  Sun Feb 21 13:50:52 2010
From: wcshum88 at hotmail.com (Shum)
Date: Sun Feb 21 13:51:00 2010
Subject: [Harbour] Ask for AADD(...) support 3rd parameter like in Xbase++
Message-ID: <1266778252725-4607984.post@n2.nabble.com>


Hi harbour,

I would like to ask the AADD() function can support for the 3rd parameter
like in Xbase++ 

thansk inadvanced

Shum

-- 
View this message in context: http://n2.nabble.com/Ask-for-AADD-support-3rd-parameter-like-in-Xbase-tp4607984p4607984.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Feb 21 14:25:19 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 21 14:25:30 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<SNT140-w20412E07625878D065BCFCD5450@phx.gbl>
	<eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com>
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>
Message-ID: <8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>

Hi Vailton,

>> But this leads to another thought. We should
>> definitely store somewhere the first major
>> Harbour version when a given function was
>> made available (similar to platform availability).
>> F.e.
>> 
>> $VERSION$
>>   2.1
>> 
>> or maybe $PLATFORM$ can be used:
>> 
>> $PLATFORM$
>>   All. Requires Harbour 2.1 or uppt
>> 
> 
> I think it would be better to create a specific tag for it. Here are a
> few suggestions:
> 
> $Available$
> $Implemented$
> $From$
> $Review$
> 
> I vote for with $AVAILABLE$... what the group says?

My vote for version $VERSION$.

($AVAILABLE is little too vague, since $PLATFORM$ also denotes 
availability)

Brgds,
Viktor

From dbtopas at dbtopas.lt  Sun Feb 21 14:56:35 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Feb 21 14:57:40 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <8AECAF05-23CF-419E-9092-BF6C89784226@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
	<8AECAF05-23CF-419E-9092-BF6C89784226@syenar.hu>
Message-ID: <4B818FF3.3030809@dbtopas.lt>

Hi,


> Subsystem is a very difficult thing to decide on.
> ...
> My definite vote to avoid this confusion and use 
> simple "beginning of filename" scheme. It IMO cannot 
> be simpler, cleaner than that.

Do you suggest to use the same scheme for C functions? I think 
extend.txt, item.txt (or extend_api.txt, item_api.txt) is much more 
clear than hb_p.txt for hb_parc() and hb_s.txt for hb_storclen(), etc.


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Sun Feb 21 14:59:23 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 21 14:59:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13950] trunk/harbour
Message-ID: <E1NjHxb-0002sN-V9@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13950
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13950&view=rev
Author:   vszakats
Date:     2010-02-21 19:59:22 +0000 (Sun, 21 Feb 2010)

Log Message:
-----------
2010-02-21 20:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxpp/hbxpp.ch
    + Added AADD() 3rd parameter emulation.
      (untested)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/hbxpp.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Sun Feb 21 15:00:51 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 21 15:01:19 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu> 
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com> 
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com> 
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com> 
	<8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>
Message-ID: <531d7a751002211200v5e1797d3m529c717cef38da69@mail.gmail.com>

Hi Viktor!

Excellent, I think this will be of great help in this work ... A
question only to conclude: the documents what are produced, we can
post into SVN or we should send them before for someone to review?

Regards,
Vailton Renato
From harbour.01 at syenar.hu  Sun Feb 21 15:08:41 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 21 15:08:53 2010
Subject: [Harbour] Doc format #1
In-Reply-To: <4B818FF3.3030809@dbtopas.lt>
References: <1A07FEDC778C3E4AA417F089511F859C1D8EB581AA@Mail-yoq.SYNEL-COMPANY.LTD>
	<8AECAF05-23CF-419E-9092-BF6C89784226@syenar.hu>
	<4B818FF3.3030809@dbtopas.lt>
Message-ID: <CE7036F0-5B2E-4282-A784-2BF26D85B074@syenar.hu>

>> Subsystem is a very difficult thing to decide on.
>> ...
>> My definite vote to avoid this confusion and use simple "beginning of filename" scheme. It IMO cannot be simpler, cleaner than that.
> 
> Do you suggest to use the same scheme for C functions? I think extend.txt, item.txt (or extend_api.txt, item_api.txt) is much more clear than hb_p.txt for hb_parc() and hb_s.txt for hb_storclen(), etc.

Yes.

I see no reason this scheme couldn't be used 
for C functions also. F.e. hb_storstr_utf8() 
belongs to cdp header, but the name suggest 
extend API, what category to put it in?
Also, many function don't belong to any 
"category" per se, so it needs to be invented, 
which leads to continuous debates. Not to 
mention some function can fit into multiple 
categories.

Though it would be good to separate .c level 
API from .prg level one, so we can just 
prepend 'cfunc_' (or 'cfunc' dir) to each .c 
function doc filename.

Anyway the "category", or multiple "categories" 
should be recorded inside the doc anyway, 
so any tool can use this information to filter 
(search) them based on that, or use that 
information to group functions in final 
target/presentation format.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Feb 21 15:19:02 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 21 15:19:13 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <531d7a751002211200v5e1797d3m529c717cef38da69@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com>
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>
	<8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>
	<531d7a751002211200v5e1797d3m529c717cef38da69@mail.gmail.com>
Message-ID: <A4BA5229-E1F6-400D-9058-63B37DC7BF2C@syenar.hu>

Hi Vailton,

> Excellent, I think this will be of great help in this work ... A

I'll send an update version soon, still waiting for feedback 
in some points. (is $VERSION$ okay for everybody? is it okay 
to use long filenames?)

> question only to conclude: the documents what are produced, we can
> post into SVN or we should send them before for someone to review?

I think such formal reviewing process is unnecessary at this 
point. Anyone can review everything on SVN, and issue corrections 
as needed on SVN, or by sending patches (similar to source code).

Since we don't know yet who will actually submit 
documentation, in the very beginning I think either someone 
with R/W rights (you, if you take this task :) should commit 
them on behalf of document writers, or even someone new who 
volunteers for this task, can get R/W right and do the commits.

Later, when we see who exactly needs R/W right to make things 
run smoother, we can invite those contributors as SVN users.

Brgds,
Viktor

From vailtom at gmail.com  Sun Feb 21 15:27:33 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 21 15:27:59 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <A4BA5229-E1F6-400D-9058-63B37DC7BF2C@syenar.hu>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com> 
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com> 
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com> 
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com> 
	<8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>
	<531d7a751002211200v5e1797d3m529c717cef38da69@mail.gmail.com> 
	<A4BA5229-E1F6-400D-9058-63B37DC7BF2C@syenar.hu>
Message-ID: <531d7a751002211227i6799ac53x686ad29b01d99986@mail.gmail.com>

Hi!

I am available to help when in need...

Regards,
Vailton Renato
From bedipritpal at hotmail.com  Sun Feb 21 15:33:21 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 21 15:33:28 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>
References: <eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com>
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>
	<8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>
Message-ID: <1266784401893-4608489.post@n2.nabble.com>


Hi All

In addition I would like to suggest:

1 Separate "$FILES$" into logical units

   $SOURCEFILE$     =>  It is always one and with relative qualified path
from Harbour root
                           =>  src/vm/classes.c
   $HEADERSFILES$  => Only names separated with "," 
                            => if it depends on many or only one with
primary dependance 
   $LIB$                 => only name without suffix.

2. $SEAALSO#  must also follow a certain pattern, say, separated with spaces
or comma.

It is hard for presentation tools to navigate unless above is not there in
documentation.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/About-Harbour-Documentation-tp4587608p4608489.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jarabal at gmail.com  Sun Feb 21 15:44:51 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb 21 15:45:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <4B808B6E.7020301@dbtopas.lt>
References: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>
	<4B808B6E.7020301@dbtopas.lt>
Message-ID: <4B819B43.4090501@gmail.com>

Hi all,

Thank you very much Mindaugas. Yes, I think it's possible to mix both GetAdaptersInfo, WSAIoctl to fill Przemek's array and add 
more elements to Windows.

I attached a first draft, Could you test it and comets?

#include "hbsocket.ch"
proc main( noAlias )
     local iface
     ? os(), version()
     ? "interfaces:"
     for each iface in hb_inetIfInfo( !empty( noAlias ), 0 )
        ? "Family .... :", iface[HB_SOCKET_IFINFO_FAMILY]
        ? "Name ...... :", iface[HB_SOCKET_IFINFO_NAME]
        ? "Flags ..... :", iface[HB_SOCKET_IFINFO_FLAGS]
        ? "Address ... :", iface[HB_SOCKET_IFINFO_ADDR]
        ? "Mask ...... :", iface[HB_SOCKET_IFINFO_NETMASK]
        ? "Bradcast .. :", iface[HB_SOCKET_IFINFO_BROADCAST]
        ? "P2P ........:", iface[HB_SOCKET_IFINFO_P2PADDR]
        ? "MAC ....... :", iface[HB_SOCKET_IFINFO_HWADDR]
        ? "Type .......:", iface[HB_SOCKET_IFINFO_TYPE]
        ? "Gateway ... :", iface[HB_SOCKET_IFINFO_GATEWAY]
        ? "GUID ...... :", iface[HB_SOCKET_IFINFO_GUID]
        ? '-------------------------------------------------------'
     next
     ?
     Wait
return

Best regards,
Xavi

El 21/02/2010 2:25, Mindaugas Kavaliauskas escribi?:
> Hi,
>
>
>> + added new C function:
>> PHB_ITEM hb_socketGetIFaces( int af, HB_BOOL fNoAliases );
>> it returns array with existing interfaces description.
>> This code was added for non MS-Windows based platforms only.
>> Support for MS-Windows has to be added yet.
>
> Xavi has mentioned a popular GetAdaptersInfo() way to get interface
> list. Windows also support another method that is more similar to your
> implementation (but less info could be obtained using with method):
>
> http://tangentsoft.net/wskfaq/examples/getifaces.html
> http://msdn.microsoft.com/en-us/library/ms741621(VS.85).aspx
> http://msdn.microsoft.com/en-us/library/ms738568(VS.85).aspx
>
>
>
> Regards,
> Mindaugas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbsocket.zip
Type: application/x-zip
Size: 18883 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100221/afcd38a3/hbsocket-0001.bin
From harbour.01 at syenar.hu  Sun Feb 21 15:48:11 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 15:48:21 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <1266784401893-4608489.post@n2.nabble.com>
References: <eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>
	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com>
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>
	<8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>
	<1266784401893-4608489.post@n2.nabble.com>
Message-ID: <86E4E648-DB07-4FA4-89E8-CE947D8E0651@syenar.hu>

Hi,

> In addition I would like to suggest:
> 
> 1 Separate "$FILES$" into logical units
> 
>   $SOURCEFILE$     =>  It is always one and with relative qualified path
> from Harbour root

I'd vote strongly against this. First of all, 
for users this has near zero importance. Second, 
it requires such an additional effort when working 
with source code to keep this information true, 
that it practically will not be updated when 
source name changes, or function/source file gets 
moved, so the information becomes misinformation, 
which is bad.

>   $HEADERSFILES$  => Only names separated with "," 
>                            => if it depends on many or only one with
> primary dependance 

This is already included in $SYNTAX$ section, I 
think it's fine as it is:
---
 *  $SYNTAX$
 *      C Prototype
 *
 *      #include "hbapifs.h"
 *      hb_fsChDir( BYTE * pszDirName ) --> ( HB_BOOL ) bResult
---

>   $LIB$                 => only name without suffix.

I was thinking about it, but I'd rather vote 
to keep Harbour as easy to use as possible, so 
that users don't have to worry about lib names at 
all. In core this is already true if someone is 
using hbmk2, and for contribs it's also always 
obvious by linking <libname>.hbc file. This is 
a general rule, no need to replicate it for 
all functions, since it's huge and unnecessary 
maintenance work.

IOW this causes lots of extra maintenance 
work for us, with not too much gain for users.

> 2. $SEAALSO#  must also follow a certain pattern, say, separated with spaces
> or comma.

Definitely. I think it's already defined as comma. 
If not, we should now define it as comma. Space 
is not good, as commands may have spaces in them.

Brgds,
Viktor

From vailtom at gmail.com  Sun Feb 21 15:53:37 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 21 15:54:03 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <1266784401893-4608489.post@n2.nabble.com>
References: <eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com> 
	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>
	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl> 
	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com> 
	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>
	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com> 
	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>
	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com> 
	<8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>
	<1266784401893-4608489.post@n2.nabble.com>
Message-ID: <531d7a751002211253v1cb78530o56aba6634b1e77b4@mail.gmail.com>

Hi!

> 2. $SEAALSO# ?must also follow a certain pattern, say, separated with spaces
> or comma.

Spaces will interfere when we document the commands ... Separated by
commas, will certainly be easier. Something like:

cSeeAlso: = Strtran (cSeeAlso, ',', ',')
cSeeAlso: = Strtran (cSeeAlso, ',', ',')

aSeeAlso: = hb_aTokens (cSeeAlso, ',')

Regards,
Vailton Renato
From harbour.01 at syenar.hu  Sun Feb 21 15:58:02 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 15:58:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <4B819B43.4090501@gmail.com>
References: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>
	<4B808B6E.7020301@dbtopas.lt> <4B819B43.4090501@gmail.com>
Message-ID: <74196265-3668-4E6E-90FC-A63F01002772@syenar.hu>

Hi Xavi,

I think we should remove Windows-only stuff from 
this function. Harbour core is meant to be portable, 
so anything where there is no provision for support 
on other platforms, should be moved to hbwin
(like GUID).

I also don't understand "type". It's vague, and 
it returns a human readable (English) string, while 
if this is portable and useful information (and only if), 
it should rather return some sort of numeric value.

To put it short, only HWADDR should be used from 
this new code, maybe gateway.

Brgds,
Viktor


On 2010 Feb 21, at 21:44, Xavi wrote:

> Hi all,
> 
> Thank you very much Mindaugas. Yes, I think it's possible to mix both GetAdaptersInfo, WSAIoctl to fill Przemek's array and add more elements to Windows.
> 
> I attached a first draft, Could you test it and comets?
> 
> #include "hbsocket.ch"
> proc main( noAlias )
>    local iface
>    ? os(), version()
>    ? "interfaces:"
>    for each iface in hb_inetIfInfo( !empty( noAlias ), 0 )
>       ? "Family .... :", iface[HB_SOCKET_IFINFO_FAMILY]
>       ? "Name ...... :", iface[HB_SOCKET_IFINFO_NAME]
>       ? "Flags ..... :", iface[HB_SOCKET_IFINFO_FLAGS]
>       ? "Address ... :", iface[HB_SOCKET_IFINFO_ADDR]
>       ? "Mask ...... :", iface[HB_SOCKET_IFINFO_NETMASK]
>       ? "Bradcast .. :", iface[HB_SOCKET_IFINFO_BROADCAST]
>       ? "P2P ........:", iface[HB_SOCKET_IFINFO_P2PADDR]
>       ? "MAC ....... :", iface[HB_SOCKET_IFINFO_HWADDR]
>       ? "Type .......:", iface[HB_SOCKET_IFINFO_TYPE]
>       ? "Gateway ... :", iface[HB_SOCKET_IFINFO_GATEWAY]
>       ? "GUID ...... :", iface[HB_SOCKET_IFINFO_GUID]
>       ? '-------------------------------------------------------'
>    next
>    ?
>    Wait
> return
> 
> Best regards,
> Xavi
> 
> El 21/02/2010 2:25, Mindaugas Kavaliauskas escribi?:
>> Hi,
>> 
>> 
>>> + added new C function:
>>> PHB_ITEM hb_socketGetIFaces( int af, HB_BOOL fNoAliases );
>>> it returns array with existing interfaces description.
>>> This code was added for non MS-Windows based platforms only.
>>> Support for MS-Windows has to be added yet.
>> 
>> Xavi has mentioned a popular GetAdaptersInfo() way to get interface
>> list. Windows also support another method that is more similar to your
>> implementation (but less info could be obtained using with method):
>> 
>> http://tangentsoft.net/wskfaq/examples/getifaces.html
>> http://msdn.microsoft.com/en-us/library/ms741621(VS.85).aspx
>> http://msdn.microsoft.com/en-us/library/ms738568(VS.85).aspx
>> 
>> 
>> 
>> Regards,
>> Mindaugas
> <hbsocket.zip>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Feb 21 16:02:06 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 21 16:02:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13951] trunk/harbour
Message-ID: <E1NjIwI-0007dk-QY@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13951
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13951&view=rev
Author:   vszakats
Date:     2010-02-21 21:02:05 +0000 (Sun, 21 Feb 2010)

Log Message:
-----------
2010-02-21 22:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * doc/hdr_tpl.txt
    ! Fixed to use comma (',') separator in $SEEALSO$ section.
    % Deleted '*' from each line.
    * Formatting. (CamelCase for functions, uppercase for 
      commands, .T./.F. for logical values)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/hdr_tpl.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Sun Feb 21 16:01:25 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Feb 21 16:02:28 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <86E4E648-DB07-4FA4-89E8-CE947D8E0651@syenar.hu>
References: <eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com>	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>	<8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>	<1266784401893-4608489.post@n2.nabble.com>
	<86E4E648-DB07-4FA4-89E8-CE947D8E0651@syenar.hu>
Message-ID: <4B819F25.4070808@dbtopas.lt>

Hi,


>>   $HEADERSFILES$  => Only names separated with "," 
>>                            => if it depends on many or only one with
>> primary dependance 
> 
> This is already included in $SYNTAX$ section, I 
> think it's fine as it is:
> ---
>  *  $SYNTAX$
>  *      C Prototype
>  *
>  *      #include "hbapifs.h"
>  *      hb_fsChDir( BYTE * pszDirName ) --> ( HB_BOOL ) bResult
> ---

I think $SYTAX$ is enough. Though, I prefer a common C syntax:
   HB_BOOL hb_fsChDir( BYTE * pszDirName )

>>   $LIB$                 => only name without suffix.
> 
> I was thinking about it, but I'd rather vote 
> to keep Harbour as easy to use as possible, so 
> that users don't have to worry about lib names at 
> all.

I find it useful (but not critical).


>> 2. $SEAALSO#  must also follow a certain pattern, say, separated with spaces
>> or comma.
> 
> Definitely. I think it's already defined as comma. 
> If not, we should now define it as comma. Space 
> is not good, as commands may have spaces in them.

I guess we have same functions that has the same C and PRG names. It 
will be impossible to link "see also" pages. Though, case sensitive link 
names and upper case names for PRG functions can solve majority of the 
problem.


Regards,
Mindaugas

From harbour.01 at syenar.hu  Sun Feb 21 16:10:52 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 21 16:11:03 2010
Subject: [Harbour] Re: About Harbour Documentation
In-Reply-To: <4B819F25.4070808@dbtopas.lt>
References: <eed8bee51002201252o44892a4bldbc9a58a53c7b029@mail.gmail.com>	<SNT140-w46334CD208F58D0F0429E8D5450@phx.gbl>	<5736D6EC-A57A-434F-B4A6-291BEA4C219D@syenar.hu>	<SNT140-w30CCA14970EFF24518FE27D5450@phx.gbl>	<531d7a751002201515vcd36ce8yf94d7cf06d9374f7@mail.gmail.com>	<284EA277-E533-483B-A2DB-730DD872B9F4@syenar.hu>	<531d7a751002210606i35b2a42cs509880199bb29b3a@mail.gmail.com>	<FF3DD9CC-4314-4A13-82FE-7B70AD459E29@syenar.hu>	<531d7a751002210727s722ab939uc30298471064f081@mail.gmail.com>	<8ACC1FEA-7BE0-4ABC-980F-4003CF01CA21@syenar.hu>	<1266784401893-4608489.post@n2.nabble.com>
	<86E4E648-DB07-4FA4-89E8-CE947D8E0651@syenar.hu>
	<4B819F25.4070808@dbtopas.lt>
Message-ID: <829F9972-7BBA-4BEB-A18D-D6315C3D90EC@syenar.hu>

>>>  $HEADERSFILES$  => Only names separated with ","                            => if it depends on many or only one with
>>> primary dependance 
>> This is already included in $SYNTAX$ section, I think it's fine as it is:
>> ---
>> *  $SYNTAX$
>> *      C Prototype
>> *
>> *      #include "hbapifs.h"
>> *      hb_fsChDir( BYTE * pszDirName ) --> ( HB_BOOL ) bResult
>> ---
> 
> I think $SYTAX$ is enough. Though, I prefer a common C syntax:
>  HB_BOOL hb_fsChDir( BYTE * pszDirName )

Agreed fully.

>>>  $LIB$                 => only name without suffix.
>> I was thinking about it, but I'd rather vote to keep Harbour as easy to use as possible, so that users don't have to worry about lib names at all.
> 
> I find it useful (but not critical).
>>> 2. $SEAALSO#  must also follow a certain pattern, say, separated with spaces
>>> or comma.
>> Definitely. I think it's already defined as comma. If not, we should now define it as comma. Space is not good, as commands may have spaces in them.
> 
> I guess we have same functions that has the same C and PRG names. It will be impossible to link "see also" pages. Though, case sensitive link names and upper case names for PRG functions can solve majority of the problem.

Good point. Worst case, parser should make 
list _all_ occurrences of 'see also' references, 
so for "hb_releaseCPU()" f.e., it would list both 
the .c and .prg level versions, regardless of 
casing.

Brgds,
Viktor

From dmacias at mail.udg.mx  Sun Feb 21 18:49:22 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Feb 21 18:49:36 2010
Subject: [Harbour] OS/2: Harbour 13945
Message-ID: <4B81C682.6070908@mail.udg.mx>

Using os2gcc442:

  * $Id: ChangeLog 13945 2010-02-21 12:49:05Z druzus $
  2010-02-21 13:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

New warnings:

../../../dynlibhb.c: In function 'hb_libSymAddr':
../../../dynlibhb.c:206: warning: pointer targets in passing argument 3 
of 'DosQueryProcAddr' differ in signedness
E:/usr/include/os2emx.h:2800: note: expected 'PCSZ' but argument is of 
type 'const char *'
../../../../dynlibhb.c: In function 'hb_libSymAddr':
../../../../dynlibhb.c:206: warning: pointer targets in passing argument 
3 of 'DosQueryProcAddr' differ in signedness
E:/usr/include/os2emx.h:2800: note: expected 'PCSZ' but argument is of 
type 'const char *'
../../../hbdyn.c: In function 'hb_dynCall':
../../../hbdyn.c:1118: warning: signed and unsigned type in conditional 
expression


With recent libraries changes, all .dll files build fine:

Directory of E:\harbour102\harbour\bin\os2\gccomf
21/02/10  5:00p     3,837,062      0 a---  harbour.dll
21/02/10  5:00p     3,837,441      0 a---  harbourm.dll

We know will reach 32 Kb limit again as Harbour grow

David Macias
From harbour.01 at syenar.hu  Sun Feb 21 18:55:34 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 21 18:55:44 2010
Subject: [Harbour] OS/2: Harbour 13945
In-Reply-To: <4B81C682.6070908@mail.udg.mx>
References: <4B81C682.6070908@mail.udg.mx>
Message-ID: <91268DEC-2661-4A82-BCDF-BAEBB970BECB@syenar.hu>

		
On 2010 Feb 22, at 00:49, David Arturo Macias Corona wrote:

> Using os2gcc442:
> 
> With recent libraries changes, all .dll files build fine:
> 
> Directory of E:\harbour102\harbour\bin\os2\gccomf
> 21/02/10  5:00p     3,837,062      0 a---  harbour.dll
> 21/02/10  5:00p     3,837,441      0 a---  harbourm.dll
> 
> We know will reach 32 Kb limit again as Harbour grow

??

I'd think it's rather my change here:
   2010-02-21 15:03 UTC+0100 Viktor Szakats

You say thank you in a rather unique way.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Feb 21 18:57:30 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 21 18:57:42 2010
Subject: [Harbour] OS/2: Harbour 13945
In-Reply-To: <91268DEC-2661-4A82-BCDF-BAEBB970BECB@syenar.hu>
References: <4B81C682.6070908@mail.udg.mx>
	<91268DEC-2661-4A82-BCDF-BAEBB970BECB@syenar.hu>
Message-ID: <FB7FFBD6-A60B-4186-A2BA-60C756E0667E@syenar.hu>

> On 2010 Feb 22, at 00:49, David Arturo Macias Corona wrote:
> 
>> Using os2gcc442:
>> 
>> With recent libraries changes, all .dll files build fine:
>> 
>> Directory of E:\harbour102\harbour\bin\os2\gccomf
>> 21/02/10  5:00p     3,837,062      0 a---  harbour.dll
>> 21/02/10  5:00p     3,837,441      0 a---  harbourm.dll
>> 
>> We know will reach 32 Kb limit again as Harbour grow
> 
> ??
> 
> I'd think it's rather my change here:
>   2010-02-21 15:03 UTC+0100 Viktor Szakats

Ops, this was 13946.

Anyways.

Brgds,
Viktor

From dmacias at mail.udg.mx  Sun Feb 21 21:48:43 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Feb 21 21:48:56 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B81F08B.3020308@mail.udg.mx>

Viktor:

 >> Harbour need shorter intermediate file size

 >I also need a bigger house ;) It's not an option
 >unfortunately, at least I don't know of any. But
 >the source is there so anyone can try to enhance
 >it.

Perhaps you will get your bigger house before we can get a shorter 
intermediate file  :-)

 >IMO rather someone should fix this OS/2 GCC
 >toolchain bug.

Yes I hope someone can modify this toolchain, but is not a bug, is a 
consequence of design

 >??

 >I'd think it's rather my change here:
 >   2010-02-21 15:03 UTC+0100 Viktor Szakats

 >You say thank you in a rather unique way.

???

 >Ops, this was 13946.

 >Anyways.

I am doing one step in each time, so I stated
- "13945"
- "recent libraries changes"
to avoid confutions. It was not enough

 >2010-02-21 15:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
 >  * config/os2/gcc.mk
 >    * Changed to use 'ld' tools directly when creating
 >      Harbour dynamic libraries.
 >    ; Please test, it's possible that some option have to be
 >      deleted, changed, or some system/compiler libs added
 >      manually to make it work.

And now here we are in next step

Using os2gcc442:

  * $Id: ChangeLog 13951 2010-02-21 21:02:05Z vszakats $
  2010-02-21 22:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
-----------------------
make[3]: Entering directory 
`E:/harbour102/harbour/src/dynlib/obj/os2/gccomf'
emxomfld  -shared -L../../../../../lib/os2/gccomf -Zomf  -o 
../../../../../bin/os2/gccomf/harbour.dll @__dyn__.tmp __dyn__.def -lsocket
emxomfld: invalid option (-shared)
make[3]: *** [harbour.dll] Error 1
make[3]: Leaving directory `E:/harbour102/harbour/src/dynlib/obj/os2/gccomf'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `E:/harbour102/harbour/src/dynlib'
make[1]: *** [dynlib] Error 2
-----------------------

and trying manually:

[E:\harbour102\harbour\src\dynlib\obj\os2\gccomf]emxomfld  -shared 
-L../../../../../lib/os2/gccomf -Zomf  -o 
../../../../../bin/os2/gccomf/harbour.dll @__dyn__.
tmp __dyn__.def -lsocket
emxomfld: invalid option (-shared)

Removing -shared:

[E:\harbour102\harbour\src\dynlib\obj\os2\gccomf]emxomfld 
-L../../../../../lib/os2/gccomf -Zomf  -o 
../../../../../bin/os2/gccomf/harbour.dll @__dyn__.tmp __dy
n__.def -lsocket
emxomfld: invalid option (-Zomf)

Removing -Zomf:

[E:\harbour102\harbour\src\dynlib\obj\os2\gccomf]emxomfld 
-L../../../../../lib/os2/gccomf -o 
../../../../../bin/os2/gccomf/harbour.dll @__dyn__.tmp __dyn__.def
  -lsocket
weakld: cannot open library file '..\..\..\..\..\lib\os2\gccomf\socket_s.a'.
emxomfld: weak prelinker failed. (rc=8)

Removing -lsocket:

1108 lines of errors
Some segments are:

weakld: error: Unresolved symbol (UNDEF) 'DosScanEnv'.
weakld: info: The symbol is referenced by:
     E:\harbour102\harbour\src\common\obj\os2\gccomf\hbgete.o
weakld: error: Unresolved symbol (UNDEF) 'recv'.
weakld: info: The symbol is referenced by:
     E:\harbour102\harbour\src\rtl\obj\os2\gccomf\hbsocket.o
weakld: error: Unresolved symbol (UNDEF) '_memcmp'.
weakld: info: The symbol is referenced by:
     E:\harbour102\harbour\src\rtl\obj\os2\gccomf\hbi18n1.o
     E:\harbour102\harbour\src\macro\obj\os2\gccomf\macrolex.o
[...]
Error! E2028: _strcmp is an undefined reference
Error! E2028: ___moddi3 is an undefined reference
Error! E2028: ___divdi3 is an undefined reference
Error! E2028: _pow is an undefined reference
Error! E2028: _fmod is an undefined reference
Error! E2028: _ldexp is an undefined reference
[...]
Error! E2028: ___main is an undefined reference
file 
E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt1.o(expropt1.o): 
undefined symbol _strcmp
file 
E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o): 
undefined symbol ___moddi3
file 
E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o): 
undefined symbol ___divdi3
file 
E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o): 
undefined symbol _pow
file 
E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o): 
undefined symbol _fmod
file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbarch.o(hbarch.o): 
undefined symbol _ldexp
file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbarch.o(hbarch.o): 
undefined symbol _frexp
file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbarch.o(hbarch.o): 
undefined symbol ___fixunsdfdi
file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbdate.o(hbdate.o): 
undefined symbol ___divdi3
file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbdate.o(hbdate.o): 
undefined symbol ___moddi3

[...]

file E:\harbour102\harbour\src\vm\obj\os2\gccomf\hvmall.o(hvmall.o): 
undefined symbol _fmod
file E:\harbour102\harbour\src\vm\obj\os2\gccomf\mainstd.o(mainstd.o): 
undefined symbol ___main
file E:\harbour102\harbour\src\vm\obj\os2\gccomf\procaddr.o(procaddr.o): 
undefined symbol _strcmp
file E:\harbour102\harbour\src\vm\obj\os2\gccomf\runner.o(runner.o): 
undefined symbol _strcmp

David Macias

From vouchcac at users.sourceforge.net  Sun Feb 21 22:14:22 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Feb 21 22:14:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13952] trunk/harbour
Message-ID: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13952
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13952&view=rev
Author:   vouchcac
Date:     2010-02-22 03:14:21 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-21 18:44 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbslots.cpp
  * contrib/hbqt/hbqt_hbslots.h
    + Added slots covering QListWidget().

  + contrib/hbide/resources/dc_pdffile.png
  * contrib/hbide/resources/docviewgenerator.ui
  * contrib/hbide/resources/docviewgenerator.uic
    + Added "Export to PDF Document" icon.

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideharbourhelp.prg
    + Implemented: printing of html document - activated via Print toolbar icon.
                 : export as PDF document - activated via PDF toolbar icon.
                 : syntax-highlighter for "Examples", "Tests" editors.
                 : font Courier new set for "Examples", "Tests", "Arguments" editors.
                 : Home, backward, forward, up navigation.
                 : indexed search - activated via "Index" tab on left pane.
                 : set to load whole tree at first invocation.
                 : tree navigation simplified, honors single click.
                 : added pages for Root, Paths, Files, nodes.

    ; Now usability of the hbIDE's documentation viewer has increased many folds.
      I am wondering we have a lot f documentation in place but was invisible.
      Today I could feel comfortable and hope in coming future almost all of you 
      will contribute for this noble cause.

    ; Basic functionality of the viewer is almost there. So I will be concentrating
      on the "Generator/Writer" templates part. Goal is to provide very easy 
      mechanism for a writer 
        * to select a source, 
        * the function(s) within that source,
        * create basic template skeletons filled with meaningful material
          for selected functions,
        * and slots to save them.
      
    ; The search engine follows the standard way. 
        * Click on "Index" left-pane tab,
        * Start typing in function edit box,
        * As you type, the incremental search is performed and 
          relevant function is brought in focus. 
          The search is case insensitive.
        * Press enter while in edit control and have function 
          documentation visible in the viewer.
        * Alternatively you can navigate the Functions list, 
          double-click on one yoy are interested in. 

    ; GPF is still there, struggling.
    ; Please forward shortcomings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/resources/docviewgenerator.ui
    trunk/harbour/contrib/hbide/resources/docviewgenerator.uic
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbslots.h

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/dc_pdffile.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Feb 21 22:20:38 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 21 22:20:45 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13948] trunk/harbour
In-Reply-To: <609353e71002210954k603188aeg7785993cabfe09f@mail.gmail.com>
References: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71002210954k603188aeg7785993cabfe09f@mail.gmail.com>
Message-ID: <1266808838579-4610017.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Can you add:
> Related function & See also
> Intelligent Find search in main documentation and also in selected contrib
> Print a PDF
> 

"SeeAlso" is my next step.
PDF printing implemented, test after r13952



> You can find updated doc on my blog
> http://harbourlanguage.blogspot.com/
> 

Thank you. 
Now it looks much better.
Still you can tweak it a bit more to make more attractive.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13948-trunk-harbour-tp4607167p4610017.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Feb 21 22:21:48 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 21 22:21:55 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13948] trunk/harbour
In-Reply-To: <531d7a751002211033wc2cba0bnde851938854e2d86@mail.gmail.com>
References: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com>
	<531d7a751002211033wc2cba0bnde851938854e2d86@mail.gmail.com>
Message-ID: <1266808908996-4610021.post@n2.nabble.com>



Vailton Renato wrote:
> 
> Hi Pritpal!
> 
> Great work!?I can only suggest that in "Examples" was activated to
> syntax highlight.
> 
> Congratulations again!
> 

Thank you.

"Examples" and "Tests".
It is implemented, test after r13952.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13948-trunk-harbour-tp4607167p4610021.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jarabal at gmail.com  Sun Feb 21 22:36:41 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb 21 22:37:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <74196265-3668-4E6E-90FC-A63F01002772@syenar.hu>
References: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>	<4B808B6E.7020301@dbtopas.lt>
	<4B819B43.4090501@gmail.com>
	<74196265-3668-4E6E-90FC-A63F01002772@syenar.hu>
Message-ID: <4B81FBC9.6080108@gmail.com>

Hi Viktor,

Okay. Well..., If it's not possible know the type of adapter (Ethernet, Token Ring, ...) on other OS not Windows. :(

#include "hbsocket.ch"
proc main( noAlias )
     local iface
     ? os(), version()
     ? "interfaces:"
     for each iface in hb_inetIfInfo( !empty( noAlias ), 0 )
        ? "Family .... :", iface[HB_SOCKET_IFINFO_FAMILY]
        ? "Name ...... :", iface[HB_SOCKET_IFINFO_NAME]
        ? "Flags ..... :", iface[HB_SOCKET_IFINFO_FLAGS]
        ? "Address ... :", iface[HB_SOCKET_IFINFO_ADDR]
        ? "Mask ...... :", iface[HB_SOCKET_IFINFO_NETMASK]
        ? "Bradcast .. :", iface[HB_SOCKET_IFINFO_BROADCAST]
        ? "P2P ........:", iface[HB_SOCKET_IFINFO_P2PADDR]
        ? "MAC ....... :", iface[HB_SOCKET_IFINFO_HWADDR]
        ? "Gateway ... :", iface[HB_SOCKET_IFINFO_GATEWAY]
        ? '-------------------------------------------------------'
     next
     ?
     Wait
return

Please try. Thanks.
Attached hbsocket.ch, hbsocket.c in hbsocket.zip

Best regards,
Xavi

El 21/02/2010 21:58, Viktor Szak?ts escribi?:
> Hi Xavi,
>
> I think we should remove Windows-only stuff from
> this function. Harbour core is meant to be portable,
> so anything where there is no provision for support
> on other platforms, should be moved to hbwin
> (like GUID).
>
> I also don't understand "type". It's vague, and
> it returns a human readable (English) string, while
> if this is portable and useful information (and only if),
> it should rather return some sort of numeric value.
>
> To put it short, only HWADDR should be used from
> this new code, maybe gateway.
>
> Brgds,
> Viktor
>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbsocket.zip
Type: application/zip
Size: 18615 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/8e09baf7/hbsocket-0001.zip
From vouchcac at users.sourceforge.net  Mon Feb 22 01:15:03 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 22 01:15:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13953] trunk/harbour
Message-ID: <E1NjRZP-0003k5-85@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13953
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13953&view=rev
Author:   vouchcac
Date:     2010-02-22 06:15:01 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-21 20:08 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbslots.cpp
  * contrib/hbqt/hbqt_hbslots.h
    + Added slots for QTextBrowser()

  * contrib/hbide/ideharbourhelp.prg
    + Implemented: navigation in "See Also" slot.
      Functions contained in "See Also" are highlighted as a link
      where single-click presents the relevant document.

      ;NOTE: "See Also" functions must ever be delimited with ",".
      ;GPF: Present at exit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbslots.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ckedem at users.sourceforge.net  Mon Feb 22 02:14:58 2010
From: ckedem at users.sourceforge.net (ckedem@users.sourceforge.net)
Date: Mon Feb 22 02:15:05 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13954] trunk/harbour
Message-ID: <E1NjSVO-0004j5-9r@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13954
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13954&view=rev
Author:   ckedem
Date:     2010-02-22 07:14:57 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 09:15 UTC+0200 Chen Kedem <niki@synel.co.il>
  * doc/en/file.txt
    ! Fix typo in DIRREMOVE() $SYNTAX$: DIRCHANGE --> DIRREMOVE
      reported by Alexey Myronenko.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/en/file.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Mon Feb 22 02:46:40 2010
From: niki at synel.co.il (Chen Kedem)
Date: Mon Feb 22 02:46:51 2010
Subject: [Harbour] hbtest - output file name
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D90CF8C5A@Mail-yoq.SYNEL-COMPANY.LTD>

Doing some mbox cleaning and I have found this one
I reported almost decade ago (2002-07-24):

In utils/hbtest/hbtest.prg the output file name s_cFileName is set at lines 207-212
but gets overwritten at lines 214-220

  Chen.
From mbelgrano at deltain.it  Mon Feb 22 02:50:30 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 22 02:50:57 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13948] trunk/harbour
In-Reply-To: <1266808838579-4610017.post@n2.nabble.com>
References: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com> 
	<609353e71002210954k603188aeg7785993cabfe09f@mail.gmail.com> 
	<1266808838579-4610017.post@n2.nabble.com>
Message-ID: <609353e71002212350u2ab41abei33d1741d6c980def@mail.gmail.com>

Very compliment for hbide status
Very Thanks for your suggestion make better my document
Any observation is welcome
Now I update also version of exe , also i have a problem in exit from hbide
Because is a very good way of experiment

Can you give me a solution for having path indipendent
if i move the structure of project can i move
Using =&"curdir()" ) in project directory?

2010/2/22 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Massimo Belgrano wrote:
> >
> > Can you add:
> > Related function & See also
> > Intelligent Find search in main documentation and also in selected
> contrib
> > Print a PDF
> >
>
> "SeeAlso" is my next step.
> PDF printing implemented, test after r13952
>
>
>
> > You can find updated doc on my blog
> > http://harbourlanguage.blogspot.com/
> >
>
> Thank you.
> Now it looks much better.
> Still you can tweak it a bit more to make more attractive.
>
>
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/1410527e/attachment.html
From maurilio.longo at libero.it  Mon Feb 22 03:02:10 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 03:02:23 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
Message-ID: <4B823A02.9010700@libero.it>

Viktor,

one thing I'd like to have is the ability of the compiler to spot iVars like
it does variables, I mean unused, not declared and so on, while it now simply
ignores all of them and you get an error when executing such code.

Best regards.

Maurilio.

Viktor Szak?ts wrote:
>>> lot of success.  One thing that will make our lives easier in 100,000
>>> lines
>>> of Clipper code is some sort of switch in Harbour / hbmk2 that will warn
>>> you
>>> if you are using a variable that wasn't declared by LOCAL, PRIV, MEMVAR,
>>> etc
>>> etc...  in a function.
>>>
>> If tou want to detect such occurances: -w3 -es3
> 
> You probably meant: -es2
> (there is no -es3 option in Harbour (nor Clipper))
> 
>> If you want to detect and ignore: -w0 -es2
> 
> Rather simply: -w3, -w2, or -w1
> 
> extra -es2 means: threat warnings as errors.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From bedipritpal at hotmail.com  Mon Feb 22 03:18:24 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 03:18:31 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13948] trunk/harbour
In-Reply-To: <609353e71002210954k603188aeg7785993cabfe09f@mail.gmail.com>
References: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71002210954k603188aeg7785993cabfe09f@mail.gmail.com>
Message-ID: <1266826704678-4610819.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Related function & See also
> 

Implemented: after r13953.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13948-trunk-harbour-tp4607167p4610819.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Feb 22 03:21:23 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 03:21:31 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13948] trunk/harbour
In-Reply-To: <609353e71002212350u2ab41abei33d1741d6c980def@mail.gmail.com>
References: <E1NjE3v-0007En-Km@sfp-svn-6.v30.ch3.sourceforge.com>
	<609353e71002210954k603188aeg7785993cabfe09f@mail.gmail.com>
	<1266808838579-4610017.post@n2.nabble.com>
	<609353e71002212350u2ab41abei33d1741d6c980def@mail.gmail.com>
Message-ID: <1266826883985-4610827.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> Can you give me a solution for having path indipendent
> if i move the structure of project can i move
> Using =&"curdir()" ) in project directory?
> 

1. I assume you have the sources in the same folder where .hbi resides. If
yes,
2. Copy the whole folder contents and paste in the target folder.
3. Open hbIDE.ini and change the path of old project to new one.
4. Run hbIDE, and you are done.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13948-trunk-harbour-tp4607167p4610827.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From maurilio.longo at libero.it  Mon Feb 22 03:34:27 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 03:34:42 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B81F08B.3020308@mail.udg.mx>
References: <4B81F08B.3020308@mail.udg.mx>
Message-ID: <4B824193.7060409@libero.it>

David,

it seems it does not find os2.a and rtl c library.

I was going to create a ld.exe which simply spits out what it received from
gcc so we can see what it needs :)

Maurilio.

David Arturo Macias Corona wrote:
> Viktor:
> 
>>> Harbour need shorter intermediate file size
> 
>>I also need a bigger house ;) It's not an option
>>unfortunately, at least I don't know of any. But
>>the source is there so anyone can try to enhance
>>it.
> 
> Perhaps you will get your bigger house before we can get a shorter
> intermediate file  :-)
> 
>>IMO rather someone should fix this OS/2 GCC
>>toolchain bug.
> 
> Yes I hope someone can modify this toolchain, but is not a bug, is a
> consequence of design
> 
>>??
> 
>>I'd think it's rather my change here:
>>   2010-02-21 15:03 UTC+0100 Viktor Szakats
> 
>>You say thank you in a rather unique way.
> 
> ???
> 
>>Ops, this was 13946.
> 
>>Anyways.
> 
> I am doing one step in each time, so I stated
> - "13945"
> - "recent libraries changes"
> to avoid confutions. It was not enough
> 
>>2010-02-21 15:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * config/os2/gcc.mk
>>    * Changed to use 'ld' tools directly when creating
>>      Harbour dynamic libraries.
>>    ; Please test, it's possible that some option have to be
>>      deleted, changed, or some system/compiler libs added
>>      manually to make it work.
> 
> And now here we are in next step
> 
> Using os2gcc442:
> 
>  * $Id: ChangeLog 13951 2010-02-21 21:02:05Z vszakats $
>  2010-02-21 22:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> -----------------------
> make[3]: Entering directory
> `E:/harbour102/harbour/src/dynlib/obj/os2/gccomf'
> emxomfld  -shared -L../../../../../lib/os2/gccomf -Zomf  -o
> ../../../../../bin/os2/gccomf/harbour.dll @__dyn__.tmp __dyn__.def -lsocket
> emxomfld: invalid option (-shared)
> make[3]: *** [harbour.dll] Error 1
> make[3]: Leaving directory
> `E:/harbour102/harbour/src/dynlib/obj/os2/gccomf'
> make[2]: *** [descend] Error 2
> make[2]: Leaving directory `E:/harbour102/harbour/src/dynlib'
> make[1]: *** [dynlib] Error 2
> -----------------------
> 
> and trying manually:
> 
> [E:\harbour102\harbour\src\dynlib\obj\os2\gccomf]emxomfld  -shared
> -L../../../../../lib/os2/gccomf -Zomf  -o
> ../../../../../bin/os2/gccomf/harbour.dll @__dyn__.
> tmp __dyn__.def -lsocket
> emxomfld: invalid option (-shared)
> 
> Removing -shared:
> 
> [E:\harbour102\harbour\src\dynlib\obj\os2\gccomf]emxomfld
> -L../../../../../lib/os2/gccomf -Zomf  -o
> ../../../../../bin/os2/gccomf/harbour.dll @__dyn__.tmp __dy
> n__.def -lsocket
> emxomfld: invalid option (-Zomf)
> 
> Removing -Zomf:
> 
> [E:\harbour102\harbour\src\dynlib\obj\os2\gccomf]emxomfld
> -L../../../../../lib/os2/gccomf -o
> ../../../../../bin/os2/gccomf/harbour.dll @__dyn__.tmp __dyn__.def
>  -lsocket
> weakld: cannot open library file
> '..\..\..\..\..\lib\os2\gccomf\socket_s.a'.
> emxomfld: weak prelinker failed. (rc=8)
> 
> Removing -lsocket:
> 
> 1108 lines of errors
> Some segments are:
> 
> weakld: error: Unresolved symbol (UNDEF) 'DosScanEnv'.
> weakld: info: The symbol is referenced by:
>     E:\harbour102\harbour\src\common\obj\os2\gccomf\hbgete.o
> weakld: error: Unresolved symbol (UNDEF) 'recv'.
> weakld: info: The symbol is referenced by:
>     E:\harbour102\harbour\src\rtl\obj\os2\gccomf\hbsocket.o
> weakld: error: Unresolved symbol (UNDEF) '_memcmp'.
> weakld: info: The symbol is referenced by:
>     E:\harbour102\harbour\src\rtl\obj\os2\gccomf\hbi18n1.o
>     E:\harbour102\harbour\src\macro\obj\os2\gccomf\macrolex.o
> [...]
> Error! E2028: _strcmp is an undefined reference
> Error! E2028: ___moddi3 is an undefined reference
> Error! E2028: ___divdi3 is an undefined reference
> Error! E2028: _pow is an undefined reference
> Error! E2028: _fmod is an undefined reference
> Error! E2028: _ldexp is an undefined reference
> [...]
> Error! E2028: ___main is an undefined reference
> file
> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt1.o(expropt1.o):
> undefined symbol _strcmp
> file
> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o):
> undefined symbol ___moddi3
> file
> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o):
> undefined symbol ___divdi3
> file
> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o):
> undefined symbol _pow
> file
> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o):
> undefined symbol _fmod
> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbarch.o(hbarch.o):
> undefined symbol _ldexp
> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbarch.o(hbarch.o):
> undefined symbol _frexp
> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbarch.o(hbarch.o):
> undefined symbol ___fixunsdfdi
> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbdate.o(hbdate.o):
> undefined symbol ___divdi3
> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbdate.o(hbdate.o):
> undefined symbol ___moddi3
> 
> [...]
> 
> file E:\harbour102\harbour\src\vm\obj\os2\gccomf\hvmall.o(hvmall.o):
> undefined symbol _fmod
> file E:\harbour102\harbour\src\vm\obj\os2\gccomf\mainstd.o(mainstd.o):
> undefined symbol ___main
> file E:\harbour102\harbour\src\vm\obj\os2\gccomf\procaddr.o(procaddr.o):
> undefined symbol _strcmp
> file E:\harbour102\harbour\src\vm\obj\os2\gccomf\runner.o(runner.o):
> undefined symbol _strcmp
> 
> David Macias
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Feb 22 04:17:55 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 04:18:08 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <4B823A02.9010700@libero.it>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
Message-ID: <A832E1BF-48D7-4CB6-9812-306AC44A5F98@syenar.hu>

Hi Maurilio,

On 2010 Feb 22, at 09:02, Maurilio Longo wrote:

> Viktor,
> 
> one thing I'd like to have is the ability of the compiler to spot iVars like
> it does variables, I mean unused, not declared and so on, while it now simply
> ignores all of them and you get an error when executing such code.

By 'iVars', you means object vars?

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Feb 22 04:20:33 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 04:20:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13945] trunk/harbour
In-Reply-To: <E1NjBFC-0001b4-Tt@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NjBFC-0001b4-Tt@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <4B824C61.1050908@libero.it>

Przemyslaw,

>   * harbour/src/vm/classes.c
>     + added new PRG function:
>          __clsMsgType( <nClassH>, <cMsg> | <sMsg> ) -> <nType>
>       <nType> is one of HB_OO_MSG_* values defined in hboo.ch or -1 if
>       message is not supported.
> 
Thanks, I'll test it shortly.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb 22 04:30:49 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 04:31:04 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B824193.7060409@libero.it>
References: <4B81F08B.3020308@mail.udg.mx> <4B824193.7060409@libero.it>
Message-ID: <4B824EC9.2080107@libero.it>

David,

here it is my ld.exe while building ld.exe itself after substituing it with
itself :))

(E:\harbour\ld)hbmk2 -st -shared ld.prg
hbmk2: Processing environment options: -mt -compiler=gcc
hbmk2: Processing configuration: E:\HARBOUR\BIN\hbmk.cfg
Harbour 2.1.0dev (Rev. 13913)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'ld.prg'...
Lines 8, Functions/Procedures 1
Generating C source output to 'E:\TMP\ld.c'... Done.

------------8<--------------------
-o ld.exe E:/SVILUPPO/GCC/V3.3.5/USR/lib/crt0.o -Le:\harbour\lib -LE:/Sviluppo/g
cc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib
/gcc-lib -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVI
LUPPO/GCC/V3.3.5/USR/lib/tcpipv4 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -LE:/harbour/l
d -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/g
cc/v3.3.5/usr/i386-pc-os2-emx/lib -LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/l
ib -LE:/Sviluppo/gcc/v3.3.5/usr/lib E:\TMP\ld.o E:\TMP\hbmk_prvkqn.o -lhbmainstd
 -lhbcplr -lhbdebug -lharbour -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_d
ll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -
lgcc_so_d -lc_alias -lc_dll -los2
------------>8--------------------

my ld.exe is a simple

function main( ... )
  ? ...
return 0

So, we can see that it points to a lot of libs, now let's see what happens
when it is called in building harbour.dll

Maurilio.



Maurilio Longo wrote:
> David,
> 
> it seems it does not find os2.a and rtl c library.
> 
> I was going to create a ld.exe which simply spits out what it received from
> gcc so we can see what it needs :)
> 
> Maurilio.
> 
> David Arturo Macias Corona wrote:
>> Viktor:
>>
>>>> Harbour need shorter intermediate file size
>>> I also need a bigger house ;) It's not an option
>>> unfortunately, at least I don't know of any. But
>>> the source is there so anyone can try to enhance
>>> it.
>> Perhaps you will get your bigger house before we can get a shorter
>> intermediate file  :-)
>>
>>> IMO rather someone should fix this OS/2 GCC
>>> toolchain bug.
>> Yes I hope someone can modify this toolchain, but is not a bug, is a
>> consequence of design
>>
>>> ??
>>> I'd think it's rather my change here:
>>>   2010-02-21 15:03 UTC+0100 Viktor Szakats
>>> You say thank you in a rather unique way.
>> ???
>>
>>> Ops, this was 13946.
>>> Anyways.
>> I am doing one step in each time, so I stated
>> - "13945"
>> - "recent libraries changes"
>> to avoid confutions. It was not enough
>>
>>> 2010-02-21 15:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>>  * config/os2/gcc.mk
>>>    * Changed to use 'ld' tools directly when creating
>>>      Harbour dynamic libraries.
>>>    ; Please test, it's possible that some option have to be
>>>      deleted, changed, or some system/compiler libs added
>>>      manually to make it work.
>> And now here we are in next step
>>
>> Using os2gcc442:
>>
>>  * $Id: ChangeLog 13951 2010-02-21 21:02:05Z vszakats $
>>  2010-02-21 22:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>> -----------------------
>> make[3]: Entering directory
>> `E:/harbour102/harbour/src/dynlib/obj/os2/gccomf'
>> emxomfld  -shared -L../../../../../lib/os2/gccomf -Zomf  -o
>> ../../../../../bin/os2/gccomf/harbour.dll @__dyn__.tmp __dyn__.def -lsocket
>> emxomfld: invalid option (-shared)
>> make[3]: *** [harbour.dll] Error 1
>> make[3]: Leaving directory
>> `E:/harbour102/harbour/src/dynlib/obj/os2/gccomf'
>> make[2]: *** [descend] Error 2
>> make[2]: Leaving directory `E:/harbour102/harbour/src/dynlib'
>> make[1]: *** [dynlib] Error 2
>> -----------------------
>>
>> and trying manually:
>>
>> [E:\harbour102\harbour\src\dynlib\obj\os2\gccomf]emxomfld  -shared
>> -L../../../../../lib/os2/gccomf -Zomf  -o
>> ../../../../../bin/os2/gccomf/harbour.dll @__dyn__.
>> tmp __dyn__.def -lsocket
>> emxomfld: invalid option (-shared)
>>
>> Removing -shared:
>>
>> [E:\harbour102\harbour\src\dynlib\obj\os2\gccomf]emxomfld
>> -L../../../../../lib/os2/gccomf -Zomf  -o
>> ../../../../../bin/os2/gccomf/harbour.dll @__dyn__.tmp __dy
>> n__.def -lsocket
>> emxomfld: invalid option (-Zomf)
>>
>> Removing -Zomf:
>>
>> [E:\harbour102\harbour\src\dynlib\obj\os2\gccomf]emxomfld
>> -L../../../../../lib/os2/gccomf -o
>> ../../../../../bin/os2/gccomf/harbour.dll @__dyn__.tmp __dyn__.def
>>  -lsocket
>> weakld: cannot open library file
>> '..\..\..\..\..\lib\os2\gccomf\socket_s.a'.
>> emxomfld: weak prelinker failed. (rc=8)
>>
>> Removing -lsocket:
>>
>> 1108 lines of errors
>> Some segments are:
>>
>> weakld: error: Unresolved symbol (UNDEF) 'DosScanEnv'.
>> weakld: info: The symbol is referenced by:
>>     E:\harbour102\harbour\src\common\obj\os2\gccomf\hbgete.o
>> weakld: error: Unresolved symbol (UNDEF) 'recv'.
>> weakld: info: The symbol is referenced by:
>>     E:\harbour102\harbour\src\rtl\obj\os2\gccomf\hbsocket.o
>> weakld: error: Unresolved symbol (UNDEF) '_memcmp'.
>> weakld: info: The symbol is referenced by:
>>     E:\harbour102\harbour\src\rtl\obj\os2\gccomf\hbi18n1.o
>>     E:\harbour102\harbour\src\macro\obj\os2\gccomf\macrolex.o
>> [...]
>> Error! E2028: _strcmp is an undefined reference
>> Error! E2028: ___moddi3 is an undefined reference
>> Error! E2028: ___divdi3 is an undefined reference
>> Error! E2028: _pow is an undefined reference
>> Error! E2028: _fmod is an undefined reference
>> Error! E2028: _ldexp is an undefined reference
>> [...]
>> Error! E2028: ___main is an undefined reference
>> file
>> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt1.o(expropt1.o):
>> undefined symbol _strcmp
>> file
>> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o):
>> undefined symbol ___moddi3
>> file
>> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o):
>> undefined symbol ___divdi3
>> file
>> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o):
>> undefined symbol _pow
>> file
>> E:\harbour102\harbour\src\common\obj\os2\gccomf\expropt2.o(expropt2.o):
>> undefined symbol _fmod
>> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbarch.o(hbarch.o):
>> undefined symbol _ldexp
>> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbarch.o(hbarch.o):
>> undefined symbol _frexp
>> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbarch.o(hbarch.o):
>> undefined symbol ___fixunsdfdi
>> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbdate.o(hbdate.o):
>> undefined symbol ___divdi3
>> file E:\harbour102\harbour\src\common\obj\os2\gccomf\hbdate.o(hbdate.o):
>> undefined symbol ___moddi3
>>
>> [...]
>>
>> file E:\harbour102\harbour\src\vm\obj\os2\gccomf\hvmall.o(hvmall.o):
>> undefined symbol _fmod
>> file E:\harbour102\harbour\src\vm\obj\os2\gccomf\mainstd.o(mainstd.o):
>> undefined symbol ___main
>> file E:\harbour102\harbour\src\vm\obj\os2\gccomf\procaddr.o(procaddr.o):
>> undefined symbol _strcmp
>> file E:\harbour102\harbour\src\vm\obj\os2\gccomf\runner.o(runner.o):
>> undefined symbol _strcmp
>>
>> David Macias
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vouchcac at users.sourceforge.net  Mon Feb 22 04:45:27 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 22 04:45:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13955] trunk/harbour
Message-ID: <E1NjUr1-0007Oq-Ia@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13955
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13955&view=rev
Author:   vouchcac
Date:     2010-02-22 09:45:25 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 01:41 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideharbourhelp.prg
    + Implemented: presentation of documents per "Category" field.
      
      ; QUESTION: is it worth to populate the tree with sub-category.
        In my opinion, a function can belong to many categories.
        If yes, what method to adopt?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Feb 22 04:47:25 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 04:47:39 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B824EC9.2080107@libero.it>
References: <4B81F08B.3020308@mail.udg.mx> <4B824193.7060409@libero.it>
	<4B824EC9.2080107@libero.it>
Message-ID: <4B8252AD.9000900@libero.it>

And here, in all of its beauty, the call to build harbour.dll

:)

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------
! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
! MAKE: make 3.81 D:\OS2\CMD.EXE   
! HB_BIN_INSTALL: e:\harbour\bin
! HB_LIB_INSTALL: e:\harbour\lib
! HB_INC_INSTALL: e:\harbour\include
! HB_DOC_INSTALL: e:\harbour\doc
! HB_BUILD_SHARED: yes
! HB_BUILD_STRIP: all
! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
! HB_PLATFORM: os2 (x86) (autodetected)
! HB_COMPILER: gcc 
! Component: 'zlib' found in E:/REPOSITORY/HARBOUR/external/zlib (local)
! Component: 'pcre' found in E:/REPOSITORY/HARBOUR/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on os2 platform
! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
make[2]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
make[2]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
make[2]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
make[2]: `../../../../../lib/os2/gcc/hbcplr.a' is up to date.
gcc  -L../../../../../lib/os2/gcc   -o ..\..\..\..\..\bin\os2\gcc\harbour.exe harbour.o -lhbcplr -lhbpp -lhbnortl -lhbcommon -s

------------8<--------------------
-o ..\..\..\..\..\bin\os2\gcc\harbour.exe -s E:/SVILUPPO/GCC/V3.3.5/USR/lib/crt0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -LE:/REPOSITORY/HARBOUR/src/main/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib harbour.o -lhbcplr -lhbpp -lhbnortl -lhbcommon -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2
------------>8--------------------make[2]: `../../../../../lib/os2/gcc/hbvm.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/hbmainstd.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/hbmaindllh.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/hbvmmt.a' is up to date.
make[2]: `../../../../../lib/os2/gcc/hbrtl.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/gtcgi.a' is up to date.
! 'gtcrs' library skipped (component not found)
! 'gtdos' library skipped (platform not supported)
! 'gtgui' library skipped (platform not supported)
make[3]: `../../../../../../lib/os2/gcc/gtos2.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/gtpca.a' is up to date.
! 'gtsln' library skipped (component not found)
make[3]: `../../../../../../lib/os2/gcc/gtstd.a' is up to date.
! 'gttrm' library skipped (platform or compiler not supported)
! 'gtwin' library skipped (platform not supported)
! 'gtwvt' library skipped (platform not supported)
! 'gtxwc' library skipped (component not found)
make[2]: `../../../../../lib/os2/gcc/hbmacro.a' is up to date.
make[2]: `../../../../../lib/os2/gcc/hbcpage.a' is up to date.
make[2]: `../../../../../lib/os2/gcc/hblang.a' is up to date.
make[2]: `../../../../../lib/os2/gcc/hbrdd.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/hbnulrdd.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/rddntx.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/rddnsx.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/rddcdx.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/rddfpt.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/hbsix.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/hbhsx.a' is up to date.
make[3]: `../../../../../../lib/os2/gcc/hbusrrdd.a' is up to date.
make[3]: `../../../../../../../lib/os2/gcc/hbuddall.a' is up to date.
make[2]: `../../../../../lib/os2/gcc/hbextern.a' is up to date.
make[2]: `../../../../../lib/os2/gcc/hbdebug.a' is up to date.
gcc  -shared -L../../../../../lib/os2/gcc  -o ../../../../../bin/os2/gcc/harbour.dll @__dyn__.tmp __dyn__.def -lsocket -s

------------8<--------------------
-Zdll -o ../../../../../bin/os2/gcc/harbour.dll -s E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -LE:/REPOSITORY/HARBOUR/src/dynlib/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib ../../../../../src/common/obj/os2/gcc/expropt1.o ../../../../../src/common/obj/os2/gcc/expropt2.o ../../../../../src/common/obj/os2/gcc/hbarch.o ../../../../../src/common/obj/os2/gcc/hbdate.o ../../../../../src/common/obj/os2/gcc/hbffind.o ../../../../../src/common/obj/os2/gcc/hbfopen.o ../../../../../src/common/obj/os2/gcc/hbfsapi.o ../../../../../src/common/obj/os2/gcc/hbgete.o ../../../../../src/common/obj/os2/gcc/hbhash.o ../../../../../src/common/obj/os2/gcc/hbmem.o ../../../../../src/common/obj/os2/gcc/hbprintf.o ../../../../../src/common/obj/os2/gcc/hbstr.o ../../../../../src/common/obj/os2/gcc/hbtrace.o ../../../../../src/common/obj/os2/gcc/hbver.o ../../../../../src/common/obj/os2/gcc/hbverdsp.o ../../../../../src/common/obj/os2/gcc/hbwin.o ../../../../../src/common/obj/os2/gcc/hbwince.o ../../../../../src/common/obj/os2/gcc/reserved.o ../../../../../src/common/obj/os2/gcc/strwild.o ../../../../../src/pp/obj/os2/gcc/ppcore.o ../../../../../src/pp/obj/os2/gcc/pplib.o ../../../../../src/pp/obj/os2/gcc/pplib2.o ../../../../../src/pp/obj/os2/gcc/pplib3.o ../../../../../src/pp/obj/os2/gcc/pptable.o ../../../../../src/rtl/obj/os2/gcc/abs.o ../../../../../src/rtl/obj/os2/gcc/accept.o ../../../../../src/rtl/obj/os2/gcc/achoice.o ../../../../../src/rtl/obj/os2/gcc/adir.o ../../../../../src/rtl/obj/os2/gcc/alert.o ../../../../../src/rtl/obj/os2/gcc/altd.o ../../../../../src/rtl/obj/os2/gcc/ampm.o ../../../../../src/rtl/obj/os2/gcc/at.o ../../../../../src/rtl/obj/os2/gcc/ati.o ../../../../../src/rtl/obj/os2/gcc/base64.o ../../../../../src/rtl/obj/os2/gcc/base64c.o ../../../../../src/rtl/obj/os2/gcc/binnum.o ../../../../../src/rtl/obj/os2/gcc/box.o ../../../../../src/rtl/obj/os2/gcc/browdb.o ../../../../../src/rtl/obj/os2/gcc/browse.o ../../../../../src/rtl/obj/os2/gcc/cdpapi.o ../../../../../src/rtl/obj/os2/gcc/cdpapihb.o ../../../../../src/rtl/obj/os2/gcc/checkbox.o ../../../../../src/rtl/obj/os2/gcc/chrasc.o ../../../../../src/rtl/obj/os2/gcc/color53.o ../../../../../src/rtl/obj/os2/gcc/colorind.o ../../../../../src/rtl/obj/os2/gcc/console.o ../../../../../src/rtl/obj/os2/gcc/copyfile.o ../../../../../src/rtl/obj/os2/gcc/cputime.o ../../../../../src/rtl/obj/os2/gcc/datec.o ../../../../../src/rtl/obj/os2/gcc/dates.o ../../../../../src/rtl/obj/os2/gcc/dateshb.o ../../../../../src/rtl/obj/os2/gcc/datesx.o ../../../../../src/rtl/obj/os2/gcc/dbedit.o ../../../../../src/rtl/obj/os2/gcc/defpath.o ../../../../../src/rtl/obj/os2/gcc/defpathu.o ../../../../../src/rtl/obj/os2/gcc/descend.o ../../../../../src/rtl/obj/os2/gcc/devoutp.o ../../../../../src/rtl/obj/os2/gcc/dircmd.o ../../../../../src/rtl/obj/os2/gcc/dirdrive.o ../../../../../src/rtl/obj/os2/gcc/direct.o ../../../../../src/rtl/obj/os2/gcc/dirscan.o ../../../../../src/rtl/obj/os2/gcc/diskspac.o ../../../../../src/rtl/obj/os2/gcc/disksphb.o ../../../../../src/rtl/obj/os2/gcc/do.o ../../../../../src/rtl/obj/os2/gcc/einstv52.o ../../../../../src/rtl/obj/os2/gcc/einstvar.o ../../../../../src/rtl/obj/os2/gcc/einstvau.o ../../../../../src/rtl/obj/os2/gcc/empty.o ../../../../../src/rtl/obj/os2/gcc/errapi.o ../../../../../src/rtl/obj/os2/gcc/errapiu.o ../../../../../src/rtl/obj/os2/gcc/errint.o ../../../../../src/rtl/obj/os2/gcc/errintlo.o ../../../../../src/rtl/obj/os2/gcc/errsys.o ../../../../../src/rtl/obj/os2/gcc/fieldbl.o ../../../../../src/rtl/obj/os2/gcc/file.o ../../../../../src/rtl/obj/os2/gcc/filebuf.o ../../../../../src/rtl/obj/os2/gcc/filehb.o ../../../../../src/rtl/obj/os2/gcc/filesys.o ../../../../../src/rtl/obj/os2/gcc/fkmax.o ../../../../../src/rtl/obj/os2/gcc/fmhb.o ../../../../../src/rtl/obj/os2/gcc/fnsplit.o ../../../../../src/rtl/obj/os2/gcc/fscopy.o ../../../../../src/rtl/obj/os2/gcc/fserr.o ../../../../../src/rtl/obj/os2/gcc/fssize.o ../../../../../src/rtl/obj/os2/gcc/fstemp.o ../../../../../src/rtl/obj/os2/gcc/gete.o ../../../../../src/rtl/obj/os2/gcc/getlist.o ../../../../../src/rtl/obj/os2/gcc/getsys.o ../../../../../src/rtl/obj/os2/gcc/getsys53.o ../../../../../src/rtl/obj/os2/gcc/gt.o ../../../../../src/rtl/obj/os2/gcc/gtapi.o ../../../../../src/rtl/obj/os2/gcc/gtchrmap.o ../../../../../src/rtl/obj/os2/gcc/gtclip.o ../../../../../src/rtl/obj/os2/gcc/gtfunc.o ../../../../../src/rtl/obj/os2/gcc/gtkbstat.o ../../../../../src/rtl/obj/os2/gcc/gtkeycod.o ../../../../../src/rtl/obj/os2/gcc/gtsys.o ../../../../../src/rtl/obj/os2/gcc/gttone.o ../../../../../src/rtl/obj/os2/gcc/gui.o ../../../../../src/rtl/obj/os2/gcc/gx.o ../../../../../src/rtl/obj/os2/gcc/hardcr.o ../../../../../src/rtl/obj/os2/gcc/hbadler.o ../../../../../src/rtl/obj/os2/gcc/hbascii.o ../../../../../src/rtl/obj/os2/gcc/hbbffnc.o ../../../../../src/rtl/obj/os2/gcc/hbbfish.o ../../../../../src/rtl/obj/os2/gcc/hbbit.o ../../../../../src/rtl/obj/os2/gcc/hbbyte.o ../../../../../src/rtl/obj/os2/gcc/hbcrc.o ../../../../../src/rtl/obj/os2/gcc/hbdyn.o ../../../../../src/rtl/obj/os2/gcc/hbdynhb.o ../../../../../src/rtl/obj/os2/gcc/hbfeof.o ../../../../../src/rtl/obj/os2/gcc/hbfile.o ../../../../../src/rtl/obj/os2/gcc/hbgtcore.o ../../../../../src/rtl/obj/os2/gcc/hbhex.o ../../../../../src/rtl/obj/os2/gcc/hbi18n1.o ../../../../../src/rtl/obj/os2/gcc/hbi18n2.o ../../../../../src/rtl/obj/os2/gcc/hbinet.o ../../../../../src/rtl/obj/os2/gcc/hbini.o ../../../../../src/rtl/obj/os2/gcc/hbmd5.o ../../../../../src/rtl/obj/os2/gcc/hbntos.o ../../../../../src/rtl/obj/os2/gcc/hbproces.o ../../../../../src/rtl/obj/os2/gcc/hbprocfn.o ../../../../../src/rtl/obj/os2/gcc/hbrandom.o ../../../../../src/rtl/obj/os2/gcc/hbregex.o ../../../../../src/rtl/obj/os2/gcc/hbregexc.o ../../../../../src/rtl/obj/os2/gcc/hbrunfun.o ../../../../../src/rtl/obj/os2/gcc/hbsha1.o ../../../../../src/rtl/obj/os2/gcc/hbsha1hm.o ../../../../../src/rtl/obj/os2/gcc/hbsha2.o ../../../../../src/rtl/obj/os2/gcc/hbsha2hm.o ../../../../../src/rtl/obj/os2/gcc/hbsocket.o ../../../../../src/rtl/obj/os2/gcc/hbstrfmt.o ../../../../../src/rtl/obj/os2/gcc/hbstrsh.o ../../../../../src/rtl/obj/os2/gcc/hbtoken.o ../../../../../src/rtl/obj/os2/gcc/hbzlib.o ../../../../../src/rtl/obj/os2/gcc/hbzlibgz.o ../../../../../src/rtl/obj/os2/gcc/hbznet.o ../../../../../src/rtl/obj/os2/gcc/idle.o ../../../../../src/rtl/obj/os2/gcc/inkey.o ../../../../../src/rtl/obj/os2/gcc/inkeyapi.o ../../../../../src/rtl/obj/os2/gcc/input.o ../../../../../src/rtl/obj/os2/gcc/is.o ../../../../../src/rtl/obj/os2/gcc/isprint.o ../../../../../src/rtl/obj/os2/gcc/itemseri.o ../../../../../src/rtl/obj/os2/gcc/lang.o ../../../../../src/rtl/obj/os2/gcc/langapi.o ../../../../../src/rtl/obj/os2/gcc/left.o ../../../../../src/rtl/obj/os2/gcc/len.o ../../../../../src/rtl/obj/os2/gcc/lennum.o ../../../../../src/rtl/obj/os2/gcc/listbox.o ../../../../../src/rtl/obj/os2/gcc/math.o ../../../../../src/rtl/obj/os2/gcc/maxrow.o ../../../../../src/rtl/obj/os2/gcc/memoedit.o ../../../../../src/rtl/obj/os2/gcc/memofile.o ../../../../../src/rtl/obj/os2/gcc/memvarbl.o ../../../../../src/rtl/obj/os2/gcc/menusys.o ../../../../../src/rtl/obj/os2/gcc/menuto.o ../../../../../src/rtl/obj/os2/gcc/minmax.o ../../../../../src/rtl/obj/os2/gcc/mlcfunc.o ../../../../../src/rtl/obj/os2/gcc/mod.o ../../../../../src/rtl/obj/os2/gcc/mouse53.o ../../../../../src/rtl/obj/os2/gcc/mouseapi.o ../../../../../src/rtl/obj/os2/gcc/mousehb.o ../../../../../src/rtl/obj/os2/gcc/mtran.o ../../../../../src/rtl/obj/os2/gcc/natmsg.o ../../../../../src/rtl/obj/os2/gcc/natmsgu.o ../../../../../src/rtl/obj/os2/gcc/net.o ../../../../../src/rtl/obj/os2/gcc/objfunc.o ../../../../../src/rtl/obj/os2/gcc/oemansi.o ../../../../../src/rtl/obj/os2/gcc/oldbox.o ../../../../../src/rtl/obj/os2/gcc/oldclear.o ../../../../../src/rtl/obj/os2/gcc/pad.o ../../../../../src/rtl/obj/os2/gcc/padc.o ../../../../../src/rtl/obj/os2/gcc/padl.o ../../../../../src/rtl/obj/os2/gcc/padr.o ../../../../../src/rtl/obj/os2/gcc/perfuncs.o ../../../../../src/rtl/obj/os2/gcc/philes.o ../../../../../src/rtl/obj/os2/gcc/philes53.o ../../../../../src/rtl/obj/os2/gcc/profiler.o ../../../../../src/rtl/obj/os2/gcc/pushbtn.o ../../../../../src/rtl/obj/os2/gcc/radiobhb.o ../../../../../src/rtl/obj/os2/gcc/radiobtn.o ../../../../../src/rtl/obj/os2/gcc/radiogrp.o ../../../../../src/rtl/obj/os2/gcc/rat.o ../../../../../src/rtl/obj/os2/gcc/readkey.o ../../../../../src/rtl/obj/os2/gcc/readvar.o ../../../../../src/rtl/obj/os2/gcc/replic.o ../../../../../src/rtl/obj/os2/gcc/right.o ../../../../../src/rtl/obj/os2/gcc/round.o ../../../../../src/rtl/obj/os2/gcc/run.o ../../../../../src/rtl/obj/os2/gcc/samples.o ../../../../../src/rtl/obj/os2/gcc/saverest.o ../../../../../src/rtl/obj/os2/gcc/scroll.o ../../../../../src/rtl/obj/os2/gcc/scrollbr.o ../../../../../src/rtl/obj/os2/gcc/scrrow.o ../../../../../src/rtl/obj/os2/gcc/seconds.o ../../../../../src/rtl/obj/os2/gcc/setcolor.o ../../../../../src/rtl/obj/os2/gcc/setcurs.o ../../../../../src/rtl/obj/os2/gcc/setfunc.o ../../../../../src/rtl/obj/os2/gcc/setkey.o ../../../../../src/rtl/obj/os2/gcc/setpos.o ../../../../../src/rtl/obj/os2/gcc/setposbs.o ../../../../../src/rtl/obj/os2/gcc/setta.o ../../../../../src/rtl/obj/os2/gcc/sha1.o ../../../../../src/rtl/obj/os2/gcc/sha1hmac.o ../../../../../src/rtl/obj/os2/gcc/sha2.o ../../../../../src/rtl/obj/os2/gcc/sha2hmac.o ../../../../../src/rtl/obj/os2/gcc/shadow.o ../../../../../src/rtl/obj/os2/gcc/shadowu.o ../../../../../src/rtl/obj/os2/gcc/soundex.o ../../../../../src/rtl/obj/os2/gcc/space.o ../../../../../src/rtl/obj/os2/gcc/spfiles.o ../../../../../src/rtl/obj/os2/gcc/str.o ../../../../../src/rtl/obj/os2/gcc/strc.o ../../../../../src/rtl/obj/os2/gcc/strcase.o ../../../../../src/rtl/obj/os2/gcc/strclear.o ../../../../../src/rtl/obj/os2/gcc/strmatch.o ../../../../../src/rtl/obj/os2/gcc/strtoexp.o ../../../../../src/rtl/obj/os2/gcc/strtran.o ../../../../../src/rtl/obj/os2/gcc/strxor.o ../../../../../src/rtl/obj/os2/gcc/strzero.o ../../../../../src/rtl/obj/os2/gcc/stuff.o ../../../../../src/rtl/obj/os2/gcc/substr.o ../../../../../src/rtl/obj/os2/gcc/tbcolumn.o ../../../../../src/rtl/obj/os2/gcc/tbrowse.o ../../../../../src/rtl/obj/os2/gcc/tbrowsys.o ../../../../../src/rtl/obj/os2/gcc/tclass.o ../../../../../src/rtl/obj/os2/gcc/teditor.o ../../../../../src/rtl/obj/os2/gcc/text.o ../../../../../src/rtl/obj/os2/gcc/tget.o ../../../../../src/rtl/obj/os2/gcc/tgethb.o ../../../../../src/rtl/obj/os2/gcc/tgetint.o ../../../../../src/rtl/obj/os2/gcc/tgetlist.o ../../../../../src/rtl/obj/os2/gcc/tlabel.o ../../../../../src/rtl/obj/os2/gcc/tmenuitm.o ../../../../../src/rtl/obj/os2/gcc/tmenusys.o ../../../../../src/rtl/obj/os2/gcc/tobject.o ../../../../../src/rtl/obj/os2/gcc/tone.o ../../../../../src/rtl/obj/os2/gcc/tpersist.o ../../../../../src/rtl/obj/os2/gcc/tpopup.o ../../../../../src/rtl/obj/os2/gcc/trace.o ../../../../../src/rtl/obj/os2/gcc/transfrm.o ../../../../../src/rtl/obj/os2/gcc/treport.o ../../../../../src/rtl/obj/os2/gcc/trim.o ../../../../../src/rtl/obj/os2/gcc/tscalar.o ../../../../../src/rtl/obj/os2/gcc/tscalara.o ../../../../../src/rtl/obj/os2/gcc/tscalarb.o ../../../../../src/rtl/obj/os2/gcc/tscalarc.o ../../../../../src/rtl/obj/os2/gcc/tscalard.o ../../../../../src/rtl/obj/os2/gcc/tscalarh.o ../../../../../src/rtl/obj/os2/gcc/tscalarl.o ../../../../../src/rtl/obj/os2/gcc/tscalarn.o ../../../../../src/rtl/obj/os2/gcc/tscalarp.o ../../../../../src/rtl/obj/os2/gcc/tscalars.o ../../../../../src/rtl/obj/os2/gcc/tscalart.o ../../../../../src/rtl/obj/os2/gcc/tscalaru.o ../../../../../src/rtl/obj/os2/gcc/tsymbol.o ../../../../../src/rtl/obj/os2/gcc/ttextlin.o ../../../../../src/rtl/obj/os2/gcc/ttopbar.o ../../../../../src/rtl/obj/os2/gcc/type.o ../../../../../src/rtl/obj/os2/gcc/typefile.o ../../../../../src/rtl/obj/os2/gcc/val.o ../../../../../src/rtl/obj/os2/gcc/valtoexp.o ../../../../../src/rtl/obj/os2/gcc/valtostr.o ../../../../../src/rtl/obj/os2/gcc/valtype.o ../../../../../src/rtl/obj/os2/gcc/version.o ../../../../../src/rtl/obj/os2/gcc/wait.o ../../../../../src/rtl/obj/os2/gcc/word.o ../../../../../src/rtl/obj/os2/gcc/xhelp.o ../../../../../src/rtl/obj/os2/gcc/xsavescr.o ../../../../../src/macro/obj/os2/gcc/macroa.o ../../../../../src/macro/obj/os2/gcc/macrob.o ../../../../../src/macro/obj/os2/gcc/macrolex.o ../../../../../src/macro/obj/os2/gcc/macroy.o ../../../../../src/lang/obj/os2/gcc/msgbe866.o ../../../../../src/lang/obj/os2/gcc/msgbewin.o ../../../../../src/lang/obj/os2/gcc/msgbg866.o ../../../../../src/lang/obj/os2/gcc/msgbgiso.o ../../../../../src/lang/obj/os2/gcc/msgbgmik.o ../../../../../src/lang/obj/os2/gcc/msgbgwin.o ../../../../../src/lang/obj/os2/gcc/msgca.o ../../../../../src/lang/obj/os2/gcc/msgcs852.o ../../../../../src/lang/obj/os2/gcc/msgcsiso.o ../../../../../src/lang/obj/os2/gcc/msgcskam.o ../../../../../src/lang/obj/os2/gcc/msgcswin.o ../../../../../src/lang/obj/os2/gcc/msgde.o ../../../../../src/lang/obj/os2/gcc/msgdewin.o ../../../../../src/lang/obj/os2/gcc/msgel.o ../../../../../src/lang/obj/os2/gcc/msgelwin.o ../../../../../src/lang/obj/os2/gcc/msgeo.o ../../../../../src/lang/obj/os2/gcc/msges.o ../../../../../src/lang/obj/os2/gcc/msgeswin.o ../../../../../src/lang/obj/os2/gcc/msgeu.o ../../../../../src/lang/obj/os2/gcc/msgfr.o ../../../../../src/lang/obj/os2/gcc/msggl.o ../../../../../src/lang/obj/os2/gcc/msghe862.o ../../../../../src/lang/obj/os2/gcc/msghewin.o ../../../../../src/lang/obj/os2/gcc/msghr646.o ../../../../../src/lang/obj/os2/gcc/msghr852.o ../../../../../src/lang/obj/os2/gcc/msghriso.o ../../../../../src/lang/obj/os2/gcc/msghrwin.o ../../../../../src/lang/obj/os2/gcc/msghu852.o ../../../../../src/lang/obj/os2/gcc/msghucwi.o ../../../../../src/lang/obj/os2/gcc/msghuiso.o ../../../../../src/lang/obj/os2/gcc/msghuwin.o ../../../../../src/lang/obj/os2/gcc/msgid.o ../../../../../src/lang/obj/os2/gcc/msgis850.o ../../../../../src/lang/obj/os2/gcc/msgit.o ../../../../../src/lang/obj/os2/gcc/msgko.o ../../../../../src/lang/obj/os2/gcc/msgltwin.o ../../../../../src/lang/obj/os2/gcc/msgnl.o ../../../../../src/lang/obj/os2/gcc/msgpl852.o ../../../../../src/lang/obj/os2/gcc/msgpliso.o ../../../../../src/lang/obj/os2/gcc/msgplmaz.o ../../../../../src/lang/obj/os2/gcc/msgplwin.o ../../../../../src/lang/obj/os2/gcc/msgpt.o ../../../../../src/lang/obj/os2/gcc/msgptiso.o ../../../../../src/lang/obj/os2/gcc/msgro.o ../../../../../src/lang/obj/os2/gcc/msgru866.o ../../../../../src/lang/obj/os2/gcc/msgrukoi.o ../../../../../src/lang/obj/os2/gcc/msgruwin.o ../../../../../src/lang/obj/os2/gcc/msgsk852.o ../../../../../src/lang/obj/os2/gcc/msgskiso.o ../../../../../src/lang/obj/os2/gcc/msgskkam.o ../../../../../src/lang/obj/os2/gcc/msgskwin.o ../../../../../src/lang/obj/os2/gcc/msgsl646.o ../../../../../src/lang/obj/os2/gcc/msgsl852.o ../../../../../src/lang/obj/os2/gcc/msgsliso.o ../../../../../src/lang/obj/os2/gcc/msgslwin.o ../../../../../src/lang/obj/os2/gcc/msgsr852.o ../../../../../src/lang/obj/os2/gcc/msgsriso.o ../../../../../src/lang/obj/os2/gcc/msgsrwin.o ../../../../../src/lang/obj/os2/gcc/msgtr857.o ../../../../../src/lang/obj/os2/gcc/msgtrwin.o ../../../../../src/lang/obj/os2/gcc/msgua866.o ../../../../../src/lang/obj/os2/gcc/msguados.o ../../../../../src/lang/obj/os2/gcc/msguakoi.o ../../../../../src/lang/obj/os2/gcc/msguawin.o ../../../../../src/lang/obj/os2/gcc/msgzhb5.o ../../../../../src/lang/obj/os2/gcc/msgzhgb.o ../../../../../src/codepage/obj/os2/gcc/cpbg866.o ../../../../../src/codepage/obj/os2/gcc/cpbgiso.o ../../../../../src/codepage/obj/os2/gcc/cpbgmik.o ../../../../../src/codepage/obj/os2/gcc/cpbgwin.o ../../../../../src/codepage/obj/os2/gcc/cpcs852.o ../../../../../src/codepage/obj/os2/gcc/cpcsiso.o ../../../../../src/codepage/obj/os2/gcc/cpcskam.o ../../../../../src/codepage/obj/os2/gcc/cpcswin.o ../../../../../src/codepage/obj/os2/gcc/cpde850.o ../../../../../src/codepage/obj/os2/gcc/cpde850m.o ../../../../../src/codepage/obj/os2/gcc/cpdeiso.o ../../../../../src/codepage/obj/os2/gcc/cpdewin.o ../../../../../src/codepage/obj/os2/gcc/cpdk865.o ../../../../../src/codepage/obj/os2/gcc/cpel437.o ../../../../../src/codepage/obj/os2/gcc/cpel737.o ../../../../../src/codepage/obj/os2/gcc/cpeliso.o ../../../../../src/codepage/obj/os2/gcc/cpelwin.o ../../../../../src/codepage/obj/os2/gcc/cpes850.o ../../../../../src/codepage/obj/os2/gcc/cpes850c.o ../../../../../src/codepage/obj/os2/gcc/cpes850m.o ../../../../../src/codepage/obj/os2/gcc/cpesiso.o ../../../../../src/codepage/obj/os2/gcc/cpeswin.o ../../../../../src/codepage/obj/os2/gcc/cpeswinm.o ../../../../../src/codepage/obj/os2/gcc/cpfi850.o ../../../../../src/codepage/obj/os2/gcc/cpfr850.o ../../../../../src/codepage/obj/os2/gcc/cpfr850m.o ../../../../../src/codepage/obj/os2/gcc/cpfriso.o ../../../../../src/codepage/obj/os2/gcc/cpfrwin.o ../../../../../src/codepage/obj/os2/gcc/cphr646.o ../../../../../src/codepage/obj/os2/gcc/cphr852.o ../../../../../src/codepage/obj/os2/gcc/cphriso.o ../../../../../src/codepage/obj/os2/gcc/cphrwin.o ../../../../../src/codepage/obj/os2/gcc/cphu852.o ../../../../../src/codepage/obj/os2/gcc/cphu852c.o ../../../../../src/codepage/obj/os2/gcc/cphuiso.o ../../../../../src/codepage/obj/os2/gcc/cphuwin.o ../../../../../src/codepage/obj/os2/gcc/cpis850.o ../../../../../src/codepage/obj/os2/gcc/cpis861.o ../../../../../src/codepage/obj/os2/gcc/cpit437.o ../../../../../src/codepage/obj/os2/gcc/cpit850.o ../../../../../src/codepage/obj/os2/gcc/cpit850m.o ../../../../../src/codepage/obj/os2/gcc/cpitisb.o ../../../../../src/codepage/obj/os2/gcc/cpitiso.o ../../../../../src/codepage/obj/os2/gcc/cpitwin.o ../../../../../src/codepage/obj/os2/gcc/cpltwin.o ../../../../../src/codepage/obj/os2/gcc/cpnl850.o ../../../../../src/codepage/obj/os2/gcc/cpnl850m.o ../../../../../src/codepage/obj/os2/gcc/cpno865.o ../../../../../src/codepage/obj/os2/gcc/cppl852.o ../../../../../src/codepage/obj/os2/gcc/cppliso.o ../../../../../src/codepage/obj/os2/gcc/cpplmaz.o ../../../../../src/codepage/obj/os2/gcc/cpplwin.o ../../../../../src/codepage/obj/os2/gcc/cppt850.o ../../../../../src/codepage/obj/os2/gcc/cppt860.o ../../../../../src/codepage/obj/os2/gcc/cpptiso.o ../../../../../src/codepage/obj/os2/gcc/cpro852.o ../../../../../src/codepage/obj/os2/gcc/cproiso.o ../../../../../src/codepage/obj/os2/gcc/cprowin.o ../../../../../src/codepage/obj/os2/gcc/cpru866.o ../../../../../src/codepage/obj/os2/gcc/cpruiso.o ../../../../../src/codepage/obj/os2/gcc/cprukoi.o ../../../../../src/codepage/obj/os2/gcc/cpruwin.o ../../../../../src/codepage/obj/os2/gcc/cpsk852.o ../../../../../src/codepage/obj/os2/gcc/cpskiso.o ../../../../../src/codepage/obj/os2/gcc/cpskkam.o ../../../../../src/codepage/obj/os2/gcc/cpskwin.o ../../../../../src/codepage/obj/os2/gcc/cpsl646.o ../../../../../src/codepage/obj/os2/gcc/cpsl852.o ../../../../../src/codepage/obj/os2/gcc/cpsliso.o ../../../../../src/codepage/obj/os2/gcc/cpslwin.o ../../../../../src/codepage/obj/os2/gcc/cpsrwin.o ../../../../../src/codepage/obj/os2/gcc/cpsv437c.o ../../../../../src/codepage/obj/os2/gcc/cpsv850.o ../../../../../src/codepage/obj/os2/gcc/cpsv850m.o ../../../../../src/codepage/obj/os2/gcc/cpsviso.o ../../../../../src/codepage/obj/os2/gcc/cpsvwin.o ../../../../../src/codepage/obj/os2/gcc/cptr857.o ../../../../../src/codepage/obj/os2/gcc/cptriso.o ../../../../../src/codepage/obj/os2/gcc/cptrwin.o ../../../../../src/codepage/obj/os2/gcc/cpua1125.o ../../../../../src/codepage/obj/os2/gcc/cpua866.o ../../../../../src/codepage/obj/os2/gcc/cpuakoi.o ../../../../../src/codepage/obj/os2/gcc/cpuawin.o ../../../../../src/codepage/obj/os2/gcc/uc037.o ../../../../../src/codepage/obj/os2/gcc/uc1006.o ../../../../../src/codepage/obj/os2/gcc/uc1026.o ../../../../../src/codepage/obj/os2/gcc/uc1125.o ../../../../../src/codepage/obj/os2/gcc/uc1250.o ../../../../../src/codepage/obj/os2/gcc/uc1251.o ../../../../../src/codepage/obj/os2/gcc/uc1252.o ../../../../../src/codepage/obj/os2/gcc/uc1253.o ../../../../../src/codepage/obj/os2/gcc/uc1254.o ../../../../../src/codepage/obj/os2/gcc/uc1255.o ../../../../../src/codepage/obj/os2/gcc/uc1256.o ../../../../../src/codepage/obj/os2/gcc/uc1257.o ../../../../../src/codepage/obj/os2/gcc/uc1258.o ../../../../../src/codepage/obj/os2/gcc/uc424.o ../../../../../src/codepage/obj/os2/gcc/uc500.o ../../../../../src/codepage/obj/os2/gcc/uc646_yu.o ../../../../../src/codepage/obj/os2/gcc/uc737.o ../../../../../src/codepage/obj/os2/gcc/uc775.o ../../../../../src/codepage/obj/os2/gcc/uc850.o ../../../../../src/codepage/obj/os2/gcc/uc852.o ../../../../../src/codepage/obj/os2/gcc/uc855.o ../../../../../src/codepage/obj/os2/gcc/uc856.o ../../../../../src/codepage/obj/os2/gcc/uc857.o ../../../../../src/codepage/obj/os2/gcc/uc860.o ../../../../../src/codepage/obj/os2/gcc/uc861.o ../../../../../src/codepage/obj/os2/gcc/uc862.o ../../../../../src/codepage/obj/os2/gcc/uc863.o ../../../../../src/codepage/obj/os2/gcc/uc864.o ../../../../../src/codepage/obj/os2/gcc/uc865.o ../../../../../src/codepage/obj/os2/gcc/uc866.o ../../../../../src/codepage/obj/os2/gcc/uc869.o ../../../../../src/codepage/obj/os2/gcc/uc874.o ../../../../../src/codepage/obj/os2/gcc/uc875.o ../../../../../src/codepage/obj/os2/gcc/uc885910.o ../../../../../src/codepage/obj/os2/gcc/uc885911.o ../../../../../src/codepage/obj/os2/gcc/uc885913.o ../../../../../src/codepage/obj/os2/gcc/uc885914.o ../../../../../src/codepage/obj/os2/gcc/uc885915.o ../../../../../src/codepage/obj/os2/gcc/uc885916.o ../../../../../src/codepage/obj/os2/gcc/uc88591b.o ../../../../../src/codepage/obj/os2/gcc/uc8859_1.o ../../../../../src/codepage/obj/os2/gcc/uc8859_2.o ../../../../../src/codepage/obj/os2/gcc/uc8859_3.o ../../../../../src/codepage/obj/os2/gcc/uc8859_4.o ../../../../../src/codepage/obj/os2/gcc/uc8859_5.o ../../../../../src/codepage/obj/os2/gcc/uc8859_6.o ../../../../../src/codepage/obj/os2/gcc/uc8859_7.o ../../../../../src/codepage/obj/os2/gcc/uc8859_8.o ../../../../../src/codepage/obj/os2/gcc/uc8859_9.o ../../../../../src/codepage/obj/os2/gcc/ucascii.o ../../../../../src/codepage/obj/os2/gcc/ucatari.o ../../../../../src/codepage/obj/os2/gcc/uckam.o ../../../../../src/codepage/obj/os2/gcc/uckoi8.o ../../../../../src/codepage/obj/os2/gcc/uckoi8u.o ../../../../../src/codepage/obj/os2/gcc/ucmacce.o ../../../../../src/codepage/obj/os2/gcc/ucmaccyr.o ../../../../../src/codepage/obj/os2/gcc/ucmacgrk.o ../../../../../src/codepage/obj/os2/gcc/ucmacice.o ../../../../../src/codepage/obj/os2/gcc/ucmacrom.o ../../../../../src/codepage/obj/os2/gcc/ucmactrk.o ../../../../../src/codepage/obj/os2/gcc/ucmaz.o ../../../../../src/codepage/obj/os2/gcc/ucmik.o ../../../../../src/codepage/obj/os2/gcc/ucnext.o ../../../../../src/hbextern/obj/os2/gcc/hbextern.o ../../../../../src/rdd/obj/os2/gcc/dbcmd.o ../../../../../src/rdd/obj/os2/gcc/dbcmd53.o ../../../../../src/rdd/obj/os2/gcc/dbcmdhb.o ../../../../../src/rdd/obj/os2/gcc/dbdelim.o ../../../../../src/rdd/obj/os2/gcc/dbdetach.o ../../../../../src/rdd/obj/os2/gcc/dbdrop.o ../../../../../src/rdd/obj/os2/gcc/dbexists.o ../../../../../src/rdd/obj/os2/gcc/dbf1.o ../../../../../src/rdd/obj/os2/gcc/dbfuncs.o ../../../../../src/rdd/obj/os2/gcc/dbjoin.o ../../../../../src/rdd/obj/os2/gcc/dblist.o ../../../../../src/rdd/obj/os2/gcc/dbnubs.o ../../../../../src/rdd/obj/os2/gcc/dbrename.o ../../../../../src/rdd/obj/os2/gcc/dbsdf.o ../../../../../src/rdd/obj/os2/gcc/dbsort.o ../../../../../src/rdd/obj/os2/gcc/dbsql.o ../../../../../src/rdd/obj/os2/gcc/dbstrux.o ../../../../../src/rdd/obj/os2/gcc/dbstruxu.o ../../../../../src/rdd/obj/os2/gcc/dbtotal.o ../../../../../src/rdd/obj/os2/gcc/dbupdat.o ../../../../../src/rdd/obj/os2/gcc/delim1.o ../../../../../src/rdd/obj/os2/gcc/fieldhb.o ../../../../../src/rdd/obj/os2/gcc/hbdbsort.o ../../../../../src/rdd/obj/os2/gcc/ordcount.o ../../../../../src/rdd/obj/os2/gcc/ordwldsk.o ../../../../../src/rdd/obj/os2/gcc/rddinfo.o ../../../../../src/rdd/obj/os2/gcc/rddord.o ../../../../../src/rdd/obj/os2/gcc/rddordu.o ../../../../../src/rdd/obj/os2/gcc/rddsys.o ../../../../../src/rdd/obj/os2/gcc/sdf1.o ../../../../../src/rdd/obj/os2/gcc/wacore.o ../../../../../src/rdd/obj/os2/gcc/wafunc.o ../../../../../src/rdd/obj/os2/gcc/workarea.o ../../../../../src/rdd/dbfntx/obj/os2/gcc/dbfntx1.o ../../../../../src/rdd/dbfnsx/obj/os2/gcc/dbfnsx1.o ../../../../../src/rdd/dbfcdx/obj/os2/gcc/dbfcdx1.o ../../../../../src/rdd/dbfcdx/obj/os2/gcc/sixcdx1.o ../../../../../src/rdd/dbffpt/obj/os2/gcc/dbffpt1.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcompat.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcompr.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcrypt.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxdate.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxfname.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxini.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxord.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxredir.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxsem.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxtable.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxtrig.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxutil.o ../../../../../src/rdd/hsx/obj/os2/gcc/cftsfunc.o ../../../../../src/rdd/hsx/obj/os2/gcc/hsx.o ../../../../../src/rdd/usrrdd/obj/os2/gcc/usrrdd.o ../../../../../src/rtl/gtcgi/obj/os2/gcc/gtcgi.o ../../../../../src/rtl/gtpca/obj/os2/gcc/gtpca.o ../../../../../src/rtl/gtstd/obj/os2/gcc/gtstd.o ../../../../../src/rtl/gtos2/obj/os2/gcc/gtos2.o ../../../../../external/pcre/obj/os2/gcc/chartabs.o ../../../../../external/pcre/obj/os2/gcc/pcrecomp.o ../../../../../external/pcre/obj/os2/gcc/pcreconf.o ../../../../../external/pcre/obj/os2/gcc/pcredfa.o ../../../../../external/pcre/obj/os2/gcc/pcreexec.o ../../../../../external/pcre/obj/os2/gcc/pcrefinf.o ../../../../../external/pcre/obj/os2/gcc/pcreget.o ../../../../../external/pcre/obj/os2/gcc/pcreglob.o ../../../../../external/pcre/obj/os2/gcc/pcreinfo.o ../../../../../external/pcre/obj/os2/gcc/pcremktb.o ../../../../../external/pcre/obj/os2/gcc/pcrenewl.o ../../../../../external/pcre/obj/os2/gcc/pcreoutf.o ../../../../../external/pcre/obj/os2/gcc/pcrerefc.o ../../../../../external/pcre/obj/os2/gcc/pcrestud.o ../../../../../external/pcre/obj/os2/gcc/pcretabs.o ../../../../../external/pcre/obj/os2/gcc/pcretryf.o ../../../../../external/pcre/obj/os2/gcc/pcreucd.o ../../../../../external/pcre/obj/os2/gcc/pcrever.o ../../../../../external/pcre/obj/os2/gcc/pcrevutf.o ../../../../../external/pcre/obj/os2/gcc/pcrexcls.o ../../../../../external/zlib/obj/os2/gcc/adler32.o ../../../../../external/zlib/obj/os2/gcc/compress.o ../../../../../external/zlib/obj/os2/gcc/crc32.o ../../../../../external/zlib/obj/os2/gcc/deflate.o ../../../../../external/zlib/obj/os2/gcc/gzio.o ../../../../../external/zlib/obj/os2/gcc/infback.o ../../../../../external/zlib/obj/os2/gcc/inffast.o ../../../../../external/zlib/obj/os2/gcc/inflate.o ../../../../../external/zlib/obj/os2/gcc/inftrees.o ../../../../../external/zlib/obj/os2/gcc/trees.o ../../../../../external/zlib/obj/os2/gcc/uncompr.o ../../../../../external/zlib/obj/os2/gcc/zutil.o ../../../../../src/vm/obj/os2/gcc/arrayshb.o ../../../../../src/vm/obj/os2/gcc/asort.o ../../../../../src/vm/obj/os2/gcc/break.o ../../../../../src/vm/obj/os2/gcc/cmdarg.o ../../../../../src/vm/obj/os2/gcc/debug.o ../../../../../src/vm/obj/os2/gcc/dynlibhb.o ../../../../../src/vm/obj/os2/gcc/eval.o ../../../../../src/vm/obj/os2/gcc/evalhb.o ../../../../../src/vm/obj/os2/gcc/extrap.o ../../../../../src/vm/obj/os2/gcc/harbinit.o ../../../../../src/vm/obj/os2/gcc/hashfunc.o ../../../../../src/vm/obj/os2/gcc/hvmall.o ../../../../../src/vm/obj/os2/gcc/initexit.o ../../../../../src/vm/obj/os2/gcc/initsymb.o ../../../../../src/vm/obj/os2/gcc/mainstd.o ../../../../../src/vm/obj/os2/gcc/memvclip.o ../../../../../src/vm/obj/os2/gcc/pcount.o ../../../../../src/vm/obj/os2/gcc/proc.o ../../../../../src/vm/obj/os2/gcc/procaddr.o ../../../../../src/vm/obj/os2/gcc/pvalue.o ../../../../../src/vm/obj/os2/gcc/runner.o ../../../../../src/vm/obj/os2/gcc/vm.o __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2
------------>8--------------------emximp -o ../../../../../lib/os2/gcc/harbour.a ../../../../../bin/os2/gcc/harbour.dll
emximp: Cannot open input file `../../../../../bin/os2/gcc/harbour.dll'
make[2]: *** [harbour.dll] Error 2
make[1]: *** [descend] Error 2
make: *** [dynlib] Error 2
From vouchcac at users.sourceforge.net  Mon Feb 22 04:50:43 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 22 04:50:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13956] trunk/harbour
Message-ID: <E1NjUw7-0007UN-D3@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13956
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13956&view=rev
Author:   vouchcac
Date:     2010-02-22 09:50:42 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 01:48 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/harbour.png
    ! Missed from prev commit.
    
    ! Enabled building the Harbour Documentation structure at the 
      time of hbIDE start.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/harbour.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcobra.ubuntu at gmail.com  Mon Feb 22 04:53:29 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 04:53:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13955] trunk/harbour
In-Reply-To: <E1NjUr1-0007Oq-Ia@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NjUr1-0007Oq-Ia@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1002220153u17664f43ue66aaa1c15dd8dad@mail.gmail.com>

Version: Harbour 2.1.0dev (Rev. 13954)

Compiler: GNU C 4.4.1 (32-bit)

Platform: Linux 2.6.31-16-generic i686

I get this runtime error on Hbide pressing the "Home" icon on Document
Viewer Dock


Error BASE/1132 Bound error: array access

Called from IDEHARBOURHELP:EXECEVENT(409)

Called from (b)IDEHARBOURHELP_INSTALLSIGNALS(333)

Called from QT_QEVENTLOOP_PROCESSEVENTS(0)

Called from QEVENTLOOP:PROCESSEVENTS(0)

Called from APPEVENT(0)

Called from HBIDE:CREATE(417)

Called from MAIN(110)


Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/7434f918/attachment.html
From marcobra.ubuntu at gmail.com  Mon Feb 22 04:55:48 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 04:55:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13955] trunk/harbour
In-Reply-To: <fd76479f1002220153u17664f43ue66aaa1c15dd8dad@mail.gmail.com>
References: <E1NjUr1-0007Oq-Ia@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220153u17664f43ue66aaa1c15dd8dad@mail.gmail.com>
Message-ID: <fd76479f1002220155o3a5aa72dk60004e308b496a5c@mail.gmail.com>

Same error on Rev. 13955 ...

Best regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/2faa5b86/attachment.html
From harbour.01 at syenar.hu  Mon Feb 22 05:00:27 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 05:00:40 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B8252AD.9000900@libero.it>
References: <4B81F08B.3020308@mail.udg.mx> <4B824193.7060409@libero.it>
	<4B824EC9.2080107@libero.it> <4B8252AD.9000900@libero.it>
Message-ID: <646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>

Nice.

Now all the absolute paths to gcc lib locations need 
to be sorted out. I can add support for $(HB_COMP_PATH_PUB) 
variable for os2/gcc, but this is not enough, as the 
relative paths also hold the gcc version number. Plus 
the logic should be checked for each gcc version, as it 
may change along the way.

Brgds,
Viktor

On 2010 Feb 22, at 10:47, Maurilio Longo wrote:

> And here, in all of its beauty, the call to build harbour.dll
> 
> :)
> 
> Maurilio.
> 
> 
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> 
> 
> ! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
> ! MAKE: make 3.81 D:\OS2\CMD.EXE   
> ! HB_BIN_INSTALL: e:\harbour\bin
> ! HB_LIB_INSTALL: e:\harbour\lib
> ! HB_INC_INSTALL: e:\harbour\include
> ! HB_DOC_INSTALL: e:\harbour\doc
> ! HB_BUILD_SHARED: yes
> ! HB_BUILD_STRIP: all
> ! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
> ! HB_PLATFORM: os2 (x86) (autodetected)
> ! HB_COMPILER: gcc 
> ! Component: 'zlib' found in E:/REPOSITORY/HARBOUR/external/zlib (local)
> ! Component: 'pcre' found in E:/REPOSITORY/HARBOUR/external/pcre (local)
> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
> ! Component: 'gpm' not supported on os2 platform
> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
> ! Component: 'curses' not supported on os2 platform
> ! Component: 'x11' not found. Configure with HB_WITH_X11.
> ! Component: 'wattcp/watt-32' not supported on os2 platform
> ! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
> make[2]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
> make[2]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
> make[2]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
> make[2]: `../../../../../lib/os2/gcc/hbcplr.a' is up to date.
> gcc  -L../../../../../lib/os2/gcc   -o ..\..\..\..\..\bin\os2\gcc\harbour.exe harbour.o -lhbcplr -lhbpp -lhbnortl -lhbcommon -s
> 
> ------------8<--------------------
> -o ..\..\..\..\..\bin\os2\gcc\harbour.exe -s E:/SVILUPPO/GCC/V3.3.5/USR/lib/crt0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -LE:/REPOSITORY/HARBOUR/src/main/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib harbour.o -lhbcplr -lhbpp -lhbnortl -lhbcommon -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2
> ------------>8--------------------make[2]: `../../../../../lib/os2/gcc/hbvm.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/hbmainstd.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/hbmaindllh.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/hbvmmt.a' is up to date.
> make[2]: `../../../../../lib/os2/gcc/hbrtl.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/gtcgi.a' is up to date.
> ! 'gtcrs' library skipped (component not found)
> ! 'gtdos' library skipped (platform not supported)
> ! 'gtgui' library skipped (platform not supported)
> make[3]: `../../../../../../lib/os2/gcc/gtos2.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/gtpca.a' is up to date.
> ! 'gtsln' library skipped (component not found)
> make[3]: `../../../../../../lib/os2/gcc/gtstd.a' is up to date.
> ! 'gttrm' library skipped (platform or compiler not supported)
> ! 'gtwin' library skipped (platform not supported)
> ! 'gtwvt' library skipped (platform not supported)
> ! 'gtxwc' library skipped (component not found)
> make[2]: `../../../../../lib/os2/gcc/hbmacro.a' is up to date.
> make[2]: `../../../../../lib/os2/gcc/hbcpage.a' is up to date.
> make[2]: `../../../../../lib/os2/gcc/hblang.a' is up to date.
> make[2]: `../../../../../lib/os2/gcc/hbrdd.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/hbnulrdd.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/rddntx.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/rddnsx.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/rddcdx.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/rddfpt.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/hbsix.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/hbhsx.a' is up to date.
> make[3]: `../../../../../../lib/os2/gcc/hbusrrdd.a' is up to date.
> make[3]: `../../../../../../../lib/os2/gcc/hbuddall.a' is up to date.
> make[2]: `../../../../../lib/os2/gcc/hbextern.a' is up to date.
> make[2]: `../../../../../lib/os2/gcc/hbdebug.a' is up to date.
> gcc  -shared -L../../../../../lib/os2/gcc  -o ../../../../../bin/os2/gcc/harbour.dll @__dyn__.tmp __dyn__.def -lsocket -s
> 
> ------------8<--------------------
> -Zdll -o ../../../../../bin/os2/gcc/harbour.dll -s E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -LE:/REPOSITORY/HARBOUR/src/dynlib/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib ../../../../../src/common/obj/os2/gcc/expropt1.o ../../../../../src/common/obj/os2/gcc/expropt2.o ../../../../../src/common/obj/os2/gcc/hbarch.o ../../../../../src/common/obj/os2/gcc/hbdate.o ../../../../../src/common/obj/os2/gcc/hbffind.o ../../../../../src/common/obj/os2/gcc/hbfopen.o ../../../../../src/common/obj/os2/gcc/hbfsapi.o ../../../../../src/common/obj/os2/gcc/hbgete.o ../../../../../src/common/obj/os2/gcc/hbhash.o ../../../../../src/common/obj/os2/gcc/hbmem.o ../../../../../src/common/obj/os2/gcc/hbprintf.o ../../../../../src/common/obj/os2/gcc/hbstr.o ../../../../../src/common/obj/os2/gcc/hbtrace.o ../../../../../src/common/obj/os2/gcc/hbver.o ../../../../../src/common/obj/os2/gcc/hbverdsp.o ../../../../../src/common/obj/os2/gcc/hbwin.o ../../../../../src/common/obj/os2/gcc/hbwince.o ../../../../../src/common/obj/os2/gcc/reserved.o ../../../../../src/common/obj/os2/gcc/strwild.o ../../../../../src/pp/obj/os2/gcc/ppcore.o ../../../../../src/pp/obj/os2/gcc/pplib.o ../../../../../src/pp/obj/os2/gcc/pplib2.o ../../../../../src/pp/obj/os2/gcc/pplib3.o ../../../../../src/pp/obj/os2/gcc/pptable.o ../../../../../src/rtl/obj/os2/gcc/abs.o ../../../../../src/rtl/obj/os2/gcc/accept.o ../../../../../src/rtl/obj/os2/gcc/achoice.o ../../../../../src/rtl/obj/os2/gcc/adir.o ../../../../../src/rtl/obj/os2/gcc/alert.o ../../../../../src/rtl/obj/os2/gcc/altd.o ../../../../../src/rtl/obj/os2/gcc/ampm.o ../../../../../src/rtl/obj/os2/gcc/at.o ../../../../../src/rtl/obj/os2/gcc/ati.o ../../../../../src/rtl/obj/os2/gcc/base64.o ../../../../../src/rtl/obj/os2/gcc/base64c.o ../../../../../src/rtl/obj/os2/gcc/binnum.o ../../../../../src/rtl/obj/os2/gcc/box.o ../../../../../src/rtl/obj/os2/gcc/browdb.o ../../../../../src/rtl/obj/os2/gcc/browse.o ../../../../../src/rtl/obj/os2/gcc/cdpapi.o ../../../../../src/rtl/obj/os2/gcc/cdpapihb.o ../../../../../src/rtl/obj/os2/gcc/checkbox.o ../../../../../src/rtl/obj/os2/gcc/chrasc.o ../../../../../src/rtl/obj/os2/gcc/color53.o ../../../../../src/rtl/obj/os2/gcc/colorind.o ../../../../../src/rtl/obj/os2/gcc/console.o ../../../../../src/rtl/obj/os2/gcc/copyfile.o ../../../../../src/rtl/obj/os2/gcc/cputime.o ../../../../../src/rtl/obj/os2/gcc/datec.o ../../../../../src/rtl/obj/os2/gcc/dates.o ../../../../../src/rtl/obj/os2/gcc/dateshb.o ../../../../../src/rtl/obj/os2/gcc/datesx.o ../../../../../src/rtl/obj/os2/gcc/dbedit.o ../../../../../src/rtl/obj/os2/gcc/defpath.o ../../../../../src/rtl/obj/os2/gcc/defpathu.o ../../../../../src/rtl/obj/os2/gcc/descend.o ../../../../../src/rtl/obj/os2/gcc/devoutp.o ../../../../../src/rtl/obj/os2/gcc/dircmd.o ../../../../../src/rtl/obj/os2/gcc/dirdrive.o ../../../../../src/rtl/obj/os2/gcc/direct.o ../../../../../src/rtl/obj/os2/gcc/dirscan.o ../../../../../src/rtl/obj/os2/gcc/diskspac.o ../../../../../src/rtl/obj/os2/gcc/disksphb.o ../../../../../src/rtl/obj/os2/gcc/do.o ../../../../../src/rtl/obj/os2/gcc/einstv52.o ../../../../../src/rtl/obj/os2/gcc/einstvar.o ../../../../../src/rtl/obj/os2/gcc/einstvau.o ../../../../../src/rtl/obj/os2/gcc/empty.o ../../../../../src/rtl/obj/os2/gcc/errapi.o ../../../../../src/rtl/obj/os2/gcc/errapiu.o ../../../../../src/rtl/obj/os2/gcc/errint.o ../../../../../src/rtl/obj/os2/gcc/errintlo.o ../../../../../src/rtl/obj/os2/gcc/errsys.o ../../../../../src/rtl/obj/os2/gcc/fieldbl.o ../../../../../src/rtl/obj/os2/gcc/file.o ../../../../../src/rtl/obj/os2/gcc/filebuf.o ../../../../../src/rtl/obj/os2/gcc/filehb.o ../../../../../src/rtl/obj/os2/gcc/filesys.o ../../../../../src/rtl/obj/os2/gcc/fkmax.o ../../../../../src/rtl/obj/os2/gcc/fmhb.o ../../../../../src/rtl/obj/os2/gcc/fnsplit.o ../../../../../src/rtl/obj/os2/gcc/fscopy.o ../../../../../src/rtl/obj/os2/gcc/fserr.o ../../../../../src/rtl/obj/os2/gcc/fssize.o ../../../../../src/rtl/obj/os2/gcc/fstemp.o ../../../../../src/rtl/obj/os2/gcc/gete.o ../../../../../src/rtl/obj/os2/gcc/getlist.o ../../../../../src/rtl/obj/os2/gcc/getsys.o ../../../../../src/rtl/obj/os2/gcc/getsys53.o ../../../../../src/rtl/obj/os2/gcc/gt.o ../../../../../src/rtl/obj/os2/gcc/gtapi.o ../../../../../src/rtl/obj/os2/gcc/gtchrmap.o ../../../../../src/rtl/obj/os2/gcc/gtclip.o ../../../../../src/rtl/obj/os2/gcc/gtfunc.o ../../../../../src/rtl/obj/os2/gcc/gtkbstat.o ../../../../../src/rtl/obj/os2/gcc/gtkeycod.o ../../../../../src/rtl/obj/os2/gcc/gtsys.o ../../../../../src/rtl/obj/os2/gcc/gttone.o ../../../../../src/rtl/obj/os2/gcc/gui.o ../../../../../src/rtl/obj/os2/gcc/gx.o ../../../../../src/rtl/obj/os2/gcc/hardcr.o ../../../../../src/rtl/obj/os2/gcc/hbadler.o ../../../../../src/rtl/obj/os2/gcc/hbascii.o ../../../../../src/rtl/obj/os2/gcc/hbbffnc.o ../../../../../src/rtl/obj/os2/gcc/hbbfish.o ../../../../../src/rtl/obj/os2/gcc/hbbit.o ../../../../../src/rtl/obj/os2/gcc/hbbyte.o ../../../../../src/rtl/obj/os2/gcc/hbcrc.o ../../../../../src/rtl/obj/os2/gcc/hbdyn.o ../../../../../src/rtl/obj/os2/gcc/hbdynhb.o ../../../../../src/rtl/obj/os2/gcc/hbfeof.o ../../../../../src/rtl/obj/os2/gcc/hbfile.o ../../../../../src/rtl/obj/os2/gcc/hbgtcore.o ../../../../../src/rtl/obj/os2/gcc/hbhex.o ../../../../../src/rtl/obj/os2/gcc/hbi18n1.o ../../../../../src/rtl/obj/os2/gcc/hbi18n2.o ../../../../../src/rtl/obj/os2/gcc/hbinet.o ../../../../../src/rtl/obj/os2/gcc/hbini.o ../../../../../src/rtl/obj/os2/gcc/hbmd5.o ../../../../../src/rtl/obj/os2/gcc/hbntos.o ../../../../../src/rtl/obj/os2/gcc/hbproces.o ../../../../../src/rtl/obj/os2/gcc/hbprocfn.o ../../../../../src/rtl/obj/os2/gcc/hbrandom.o ../../../../../src/rtl/obj/os2/gcc/hbregex.o ../../../../../src/rtl/obj/os2/gcc/hbregexc.o ../../../../../src/rtl/obj/os2/gcc/hbrunfun.o ../../../../../src/rtl/obj/os2/gcc/hbsha1.o ../../../../../src/rtl/obj/os2/gcc/hbsha1hm.o ../../../../../src/rtl/obj/os2/gcc/hbsha2.o ../../../../../src/rtl/obj/os2/gcc/hbsha2hm.o ../../../../../src/rtl/obj/os2/gcc/hbsocket.o ../../../../../src/rtl/obj/os2/gcc/hbstrfmt.o ../../../../../src/rtl/obj/os2/gcc/hbstrsh.o ../../../../../src/rtl/obj/os2/gcc/hbtoken.o ../../../../../src/rtl/obj/os2/gcc/hbzlib.o ../../../../../src/rtl/obj/os2/gcc/hbzlibgz.o ../../../../../src/rtl/obj/os2/gcc/hbznet.o ../../../../../src/rtl/obj/os2/gcc/idle.o ../../../../../src/rtl/obj/os2/gcc/inkey.o ../../../../../src/rtl/obj/os2/gcc/inkeyapi.o ../../../../../src/rtl/obj/os2/gcc/input.o ../../../../../src/rtl/obj/os2/gcc/is.o ../../../../../src/rtl/obj/os2/gcc/isprint.o ../../../../../src/rtl/obj/os2/gcc/itemseri.o ../../../../../src/rtl/obj/os2/gcc/lang.o ../../../../../src/rtl/obj/os2/gcc/langapi.o ../../../../../src/rtl/obj/os2/gcc/left.o ../../../../../src/rtl/obj/os2/gcc/len.o ../../../../../src/rtl/obj/os2/gcc/lennum.o ../../../../../src/rtl/obj/os2/gcc/listbox.o ../../../../../src/rtl/obj/os2/gcc/math.o ../../../../../src/rtl/obj/os2/gcc/maxrow.o ../../../../../src/rtl/obj/os2/gcc/memoedit.o ../../../../../src/rtl/obj/os2/gcc/memofile.o ../../../../../src/rtl/obj/os2/gcc/memvarbl.o ../../../../../src/rtl/obj/os2/gcc/menusys.o ../../../../../src/rtl/obj/os2/gcc/menuto.o ../../../../../src/rtl/obj/os2/gcc/minmax.o ../../../../../src/rtl/obj/os2/gcc/mlcfunc.o ../../../../../src/rtl/obj/os2/gcc/mod.o ../../../../../src/rtl/obj/os2/gcc/mouse53.o ../../../../../src/rtl/obj/os2/gcc/mouseapi.o ../../../../../src/rtl/obj/os2/gcc/mousehb.o ../../../../../src/rtl/obj/os2/gcc/mtran.o ../../../../../src/rtl/obj/os2/gcc/natmsg.o ../../../../../src/rtl/obj/os2/gcc/natmsgu.o ../../../../../src/rtl/obj/os2/gcc/net.o ../../../../../src/rtl/obj/os2/gcc/objfunc.o ../../../../../src/rtl/obj/os2/gcc/oemansi.o ../../../../../src/rtl/obj/os2/gcc/oldbox.o ../../../../../src/rtl/obj/os2/gcc/oldclear.o ../../../../../src/rtl/obj/os2/gcc/pad.o ../../../../../src/rtl/obj/os2/gcc/padc.o ../../../../../src/rtl/obj/os2/gcc/padl.o ../../../../../src/rtl/obj/os2/gcc/padr.o ../../../../../src/rtl/obj/os2/gcc/perfuncs.o ../../../../../src/rtl/obj/os2/gcc/philes.o ../../../../../src/rtl/obj/os2/gcc/philes53.o ../../../../../src/rtl/obj/os2/gcc/profiler.o ../../../../../src/rtl/obj/os2/gcc/pushbtn.o ../../../../../src/rtl/obj/os2/gcc/radiobhb.o ../../../../../src/rtl/obj/os2/gcc/radiobtn.o ../../../../../src/rtl/obj/os2/gcc/radiogrp.o ../../../../../src/rtl/obj/os2/gcc/rat.o ../../../../../src/rtl/obj/os2/gcc/readkey.o ../../../../../src/rtl/obj/os2/gcc/readvar.o ../../../../../src/rtl/obj/os2/gcc/replic.o ../../../../../src/rtl/obj/os2/gcc/right.o ../../../../../src/rtl/obj/os2/gcc/round.o ../../../../../src/rtl/obj/os2/gcc/run.o ../../../../../src/rtl/obj/os2/gcc/samples.o ../../../../../src/rtl/obj/os2/gcc/saverest.o ../../../../../src/rtl/obj/os2/gcc/scroll.o ../../../../../src/rtl/obj/os2/gcc/scrollbr.o ../../../../../src/rtl/obj/os2/gcc/scrrow.o ../../../../../src/rtl/obj/os2/gcc/seconds.o ../../../../../src/rtl/obj/os2/gcc/setcolor.o ../../../../../src/rtl/obj/os2/gcc/setcurs.o ../../../../../src/rtl/obj/os2/gcc/setfunc.o ../../../../../src/rtl/obj/os2/gcc/setkey.o ../../../../../src/rtl/obj/os2/gcc/setpos.o ../../../../../src/rtl/obj/os2/gcc/setposbs.o ../../../../../src/rtl/obj/os2/gcc/setta.o ../../../../../src/rtl/obj/os2/gcc/sha1.o ../../../../../src/rtl/obj/os2/gcc/sha1hmac.o ../../../../../src/rtl/obj/os2/gcc/sha2.o ../../../../../src/rtl/obj/os2/gcc/sha2hmac.o ../../../../../src/rtl/obj/os2/gcc/shadow.o ../../../../../src/rtl/obj/os2/gcc/shadowu.o ../../../../../src/rtl/obj/os2/gcc/soundex.o ../../../../../src/rtl/obj/os2/gcc/space.o ../../../../../src/rtl/obj/os2/gcc/spfiles.o ../../../../../src/rtl/obj/os2/gcc/str.o ../../../../../src/rtl/obj/os2/gcc/strc.o ../../../../../src/rtl/obj/os2/gcc/strcase.o ../../../../../src/rtl/obj/os2/gcc/strclear.o ../../../../../src/rtl/obj/os2/gcc/strmatch.o ../../../../../src/rtl/obj/os2/gcc/strtoexp.o ../../../../../src/rtl/obj/os2/gcc/strtran.o ../../../../../src/rtl/obj/os2/gcc/strxor.o ../../../../../src/rtl/obj/os2/gcc/strzero.o ../../../../../src/rtl/obj/os2/gcc/stuff.o ../../../../../src/rtl/obj/os2/gcc/substr.o ../../../../../src/rtl/obj/os2/gcc/tbcolumn.o ../../../../../src/rtl/obj/os2/gcc/tbrowse.o ../../../../../src/rtl/obj/os2/gcc/tbrowsys.o ../../../../../src/rtl/obj/os2/gcc/tclass.o ../../../../../src/rtl/obj/os2/gcc/teditor.o ../../../../../src/rtl/obj/os2/gcc/text.o ../../../../../src/rtl/obj/os2/gcc/tget.o ../../../../../src/rtl/obj/os2/gcc/tgethb.o ../../../../../src/rtl/obj/os2/gcc/tgetint.o ../../../../../src/rtl/obj/os2/gcc/tgetlist.o ../../../../../src/rtl/obj/os2/gcc/tlabel.o ../../../../../src/rtl/obj/os2/gcc/tmenuitm.o ../../../../../src/rtl/obj/os2/gcc/tmenusys.o ../../../../../src/rtl/obj/os2/gcc/tobject.o ../../../../../src/rtl/obj/os2/gcc/tone.o ../../../../../src/rtl/obj/os2/gcc/tpersist.o ../../../../../src/rtl/obj/os2/gcc/tpopup.o ../../../../../src/rtl/obj/os2/gcc/trace.o ../../../../../src/rtl/obj/os2/gcc/transfrm.o ../../../../../src/rtl/obj/os2/gcc/treport.o ../../../../../src/rtl/obj/os2/gcc/trim.o ../../../../../src/rtl/obj/os2/gcc/tscalar.o ../../../../../src/rtl/obj/os2/gcc/tscalara.o ../../../../../src/rtl/obj/os2/gcc/tscalarb.o ../../../../../src/rtl/obj/os2/gcc/tscalarc.o ../../../../../src/rtl/obj/os2/gcc/tscalard.o ../../../../../src/rtl/obj/os2/gcc/tscalarh.o ../../../../../src/rtl/obj/os2/gcc/tscalarl.o ../../../../../src/rtl/obj/os2/gcc/tscalarn.o ../../../../../src/rtl/obj/os2/gcc/tscalarp.o ../../../../../src/rtl/obj/os2/gcc/tscalars.o ../../../../../src/rtl/obj/os2/gcc/tscalart.o ../../../../../src/rtl/obj/os2/gcc/tscalaru.o ../../../../../src/rtl/obj/os2/gcc/tsymbol.o ../../../../../src/rtl/obj/os2/gcc/ttextlin.o ../../../../../src/rtl/obj/os2/gcc/ttopbar.o ../../../../../src/rtl/obj/os2/gcc/type.o ../../../../../src/rtl/obj/os2/gcc/typefile.o ../../../../../src/rtl/obj/os2/gcc/val.o ../../../../../src/rtl/obj/os2/gcc/valtoexp.o ../../../../../src/rtl/obj/os2/gcc/valtostr.o ../../../../../src/rtl/obj/os2/gcc/valtype.o ../../../../../src/rtl/obj/os2/gcc/version.o ../../../../../src/rtl/obj/os2/gcc/wait.o ../../../../../src/rtl/obj/os2/gcc/word.o ../../../../../src/rtl/obj/os2/gcc/xhelp.o ../../../../../src/rtl/obj/os2/gcc/xsavescr.o ../../../../../src/macro/obj/os2/gcc/macroa.o ../../../../../src/macro/obj/os2/gcc/macrob.o ../../../../../src/macro/obj/os2/gcc/macrolex.o ../../../../../src/macro/obj/os2/gcc/macroy.o ../../../../../src/lang/obj/os2/gcc/msgbe866.o ../../../../../src/lang/obj/os2/gcc/msgbewin.o ../../../../../src/lang/obj/os2/gcc/msgbg866.o ../../../../../src/lang/obj/os2/gcc/msgbgiso.o ../../../../../src/lang/obj/os2/gcc/msgbgmik.o ../../../../../src/lang/obj/os2/gcc/msgbgwin.o ../../../../../src/lang/obj/os2/gcc/msgca.o ../../../../../src/lang/obj/os2/gcc/msgcs852.o ../../../../../src/lang/obj/os2/gcc/msgcsiso.o ../../../../../src/lang/obj/os2/gcc/msgcskam.o ../../../../../src/lang/obj/os2/gcc/msgcswin.o ../../../../../src/lang/obj/os2/gcc/msgde.o ../../../../../src/lang/obj/os2/gcc/msgdewin.o ../../../../../src/lang/obj/os2/gcc/msgel.o ../../../../../src/lang/obj/os2/gcc/msgelwin.o ../../../../../src/lang/obj/os2/gcc/msgeo.o ../../../../../src/lang/obj/os2/gcc/msges.o ../../../../../src/lang/obj/os2/gcc/msgeswin.o ../../../../../src/lang/obj/os2/gcc/msgeu.o ../../../../../src/lang/obj/os2/gcc/msgfr.o ../../../../../src/lang/obj/os2/gcc/msggl.o ../../../../../src/lang/obj/os2/gcc/msghe862.o ../../../../../src/lang/obj/os2/gcc/msghewin.o ../../../../../src/lang/obj/os2/gcc/msghr646.o ../../../../../src/lang/obj/os2/gcc/msghr852.o ../../../../../src/lang/obj/os2/gcc/msghriso.o ../../../../../src/lang/obj/os2/gcc/msghrwin.o ../../../../../src/lang/obj/os2/gcc/msghu852.o ../../../../../src/lang/obj/os2/gcc/msghucwi.o ../../../../../src/lang/obj/os2/gcc/msghuiso.o ../../../../../src/lang/obj/os2/gcc/msghuwin.o ../../../../../src/lang/obj/os2/gcc/msgid.o ../../../../../src/lang/obj/os2/gcc/msgis850.o ../../../../../src/lang/obj/os2/gcc/msgit.o ../../../../../src/lang/obj/os2/gcc/msgko.o ../../../../../src/lang/obj/os2/gcc/msgltwin.o ../../../../../src/lang/obj/os2/gcc/msgnl.o ../../../../../src/lang/obj/os2/gcc/msgpl852.o ../../../../../src/lang/obj/os2/gcc/msgpliso.o ../../../../../src/lang/obj/os2/gcc/msgplmaz.o ../../../../../src/lang/obj/os2/gcc/msgplwin.o ../../../../../src/lang/obj/os2/gcc/msgpt.o ../../../../../src/lang/obj/os2/gcc/msgptiso.o ../../../../../src/lang/obj/os2/gcc/msgro.o ../../../../../src/lang/obj/os2/gcc/msgru866.o ../../../../../src/lang/obj/os2/gcc/msgrukoi.o ../../../../../src/lang/obj/os2/gcc/msgruwin.o ../../../../../src/lang/obj/os2/gcc/msgsk852.o ../../../../../src/lang/obj/os2/gcc/msgskiso.o ../../../../../src/lang/obj/os2/gcc/msgskkam.o ../../../../../src/lang/obj/os2/gcc/msgskwin.o ../../../../../src/lang/obj/os2/gcc/msgsl646.o ../../../../../src/lang/obj/os2/gcc/msgsl852.o ../../../../../src/lang/obj/os2/gcc/msgsliso.o ../../../../../src/lang/obj/os2/gcc/msgslwin.o ../../../../../src/lang/obj/os2/gcc/msgsr852.o ../../../../../src/lang/obj/os2/gcc/msgsriso.o ../../../../../src/lang/obj/os2/gcc/msgsrwin.o ../../../../../src/lang/obj/os2/gcc/msgtr857.o ../../../../../src/lang/obj/os2/gcc/msgtrwin.o ../../../../../src/lang/obj/os2/gcc/msgua866.o ../../../../../src/lang/obj/os2/gcc/msguados.o ../../../../../src/lang/obj/os2/gcc/msguakoi.o ../../../../../src/lang/obj/os2/gcc/msguawin.o ../../../../../src/lang/obj/os2/gcc/msgzhb5.o ../../../../../src/lang/obj/os2/gcc/msgzhgb.o ../../../../../src/codepage/obj/os2/gcc/cpbg866.o ../../../../../src/codepage/obj/os2/gcc/cpbgiso.o ../../../../../src/codepage/obj/os2/gcc/cpbgmik.o ../../../../../src/codepage/obj/os2/gcc/cpbgwin.o ../../../../../src/codepage/obj/os2/gcc/cpcs852.o ../../../../../src/codepage/obj/os2/gcc/cpcsiso.o ../../../../../src/codepage/obj/os2/gcc/cpcskam.o ../../../../../src/codepage/obj/os2/gcc/cpcswin.o ../../../../../src/codepage/obj/os2/gcc/cpde850.o ../../../../../src/codepage/obj/os2/gcc/cpde850m.o ../../../../../src/codepage/obj/os2/gcc/cpdeiso.o ../../../../../src/codepage/obj/os2/gcc/cpdewin.o ../../../../../src/codepage/obj/os2/gcc/cpdk865.o ../../../../../src/codepage/obj/os2/gcc/cpel437.o ../../../../../src/codepage/obj/os2/gcc/cpel737.o ../../../../../src/codepage/obj/os2/gcc/cpeliso.o ../../../../../src/codepage/obj/os2/gcc/cpelwin.o ../../../../../src/codepage/obj/os2/gcc/cpes850.o ../../../../../src/codepage/obj/os2/gcc/cpes850c.o ../../../../../src/codepage/obj/os2/gcc/cpes850m.o ../../../../../src/codepage/obj/os2/gcc/cpesiso.o ../../../../../src/codepage/obj/os2/gcc/cpeswin.o ../../../../../src/codepage/obj/os2/gcc/cpeswinm.o ../../../../../src/codepage/obj/os2/gcc/cpfi850.o ../../../../../src/codepage/obj/os2/gcc/cpfr850.o ../../../../../src/codepage/obj/os2/gcc/cpfr850m.o ../../../../../src/codepage/obj/os2/gcc/cpfriso.o ../../../../../src/codepage/obj/os2/gcc/cpfrwin.o ../../../../../src/codepage/obj/os2/gcc/cphr646.o ../../../../../src/codepage/obj/os2/gcc/cphr852.o ../../../../../src/codepage/obj/os2/gcc/cphriso.o ../../../../../src/codepage/obj/os2/gcc/cphrwin.o ../../../../../src/codepage/obj/os2/gcc/cphu852.o ../../../../../src/codepage/obj/os2/gcc/cphu852c.o ../../../../../src/codepage/obj/os2/gcc/cphuiso.o ../../../../../src/codepage/obj/os2/gcc/cphuwin.o ../../../../../src/codepage/obj/os2/gcc/cpis850.o ../../../../../src/codepage/obj/os2/gcc/cpis861.o ../../../../../src/codepage/obj/os2/gcc/cpit437.o ../../../../../src/codepage/obj/os2/gcc/cpit850.o ../../../../../src/codepage/obj/os2/gcc/cpit850m.o ../../../../../src/codepage/obj/os2/gcc/cpitisb.o ../../../../../src/codepage/obj/os2/gcc/cpitiso.o ../../../../../src/codepage/obj/os2/gcc/cpitwin.o ../../../../../src/codepage/obj/os2/gcc/cpltwin.o ../../../../../src/codepage/obj/os2/gcc/cpnl850.o ../../../../../src/codepage/obj/os2/gcc/cpnl850m.o ../../../../../src/codepage/obj/os2/gcc/cpno865.o ../../../../../src/codepage/obj/os2/gcc/cppl852.o ../../../../../src/codepage/obj/os2/gcc/cppliso.o ../../../../../src/codepage/obj/os2/gcc/cpplmaz.o ../../../../../src/codepage/obj/os2/gcc/cpplwin.o ../../../../../src/codepage/obj/os2/gcc/cppt850.o ../../../../../src/codepage/obj/os2/gcc/cppt860.o ../../../../../src/codepage/obj/os2/gcc/cpptiso.o ../../../../../src/codepage/obj/os2/gcc/cpro852.o ../../../../../src/codepage/obj/os2/gcc/cproiso.o ../../../../../src/codepage/obj/os2/gcc/cprowin.o ../../../../../src/codepage/obj/os2/gcc/cpru866.o ../../../../../src/codepage/obj/os2/gcc/cpruiso.o ../../../../../src/codepage/obj/os2/gcc/cprukoi.o ../../../../../src/codepage/obj/os2/gcc/cpruwin.o ../../../../../src/codepage/obj/os2/gcc/cpsk852.o ../../../../../src/codepage/obj/os2/gcc/cpskiso.o ../../../../../src/codepage/obj/os2/gcc/cpskkam.o ../../../../../src/codepage/obj/os2/gcc/cpskwin.o ../../../../../src/codepage/obj/os2/gcc/cpsl646.o ../../../../../src/codepage/obj/os2/gcc/cpsl852.o ../../../../../src/codepage/obj/os2/gcc/cpsliso.o ../../../../../src/codepage/obj/os2/gcc/cpslwin.o ../../../../../src/codepage/obj/os2/gcc/cpsrwin.o ../../../../../src/codepage/obj/os2/gcc/cpsv437c.o ../../../../../src/codepage/obj/os2/gcc/cpsv850.o ../../../../../src/codepage/obj/os2/gcc/cpsv850m.o ../../../../../src/codepage/obj/os2/gcc/cpsviso.o ../../../../../src/codepage/obj/os2/gcc/cpsvwin.o ../../../../../src/codepage/obj/os2/gcc/cptr857.o ../../../../../src/codepage/obj/os2/gcc/cptriso.o ../../../../../src/codepage/obj/os2/gcc/cptrwin.o ../../../../../src/codepage/obj/os2/gcc/cpua1125.o ../../../../../src/codepage/obj/os2/gcc/cpua866.o ../../../../../src/codepage/obj/os2/gcc/cpuakoi.o ../../../../../src/codepage/obj/os2/gcc/cpuawin.o ../../../../../src/codepage/obj/os2/gcc/uc037.o ../../../../../src/codepage/obj/os2/gcc/uc1006.o ../../../../../src/codepage/obj/os2/gcc/uc1026.o ../../../../../src/codepage/obj/os2/gcc/uc1125.o ../../../../../src/codepage/obj/os2/gcc/uc1250.o ../../../../../src/codepage/obj/os2/gcc/uc1251.o ../../../../../src/codepage/obj/os2/gcc/uc1252.o ../../../../../src/codepage/obj/os2/gcc/uc1253.o ../../../../../src/codepage/obj/os2/gcc/uc1254.o ../../../../../src/codepage/obj/os2/gcc/uc1255.o ../../../../../src/codepage/obj/os2/gcc/uc1256.o ../../../../../src/codepage/obj/os2/gcc/uc1257.o ../../../../../src/codepage/obj/os2/gcc/uc1258.o ../../../../../src/codepage/obj/os2/gcc/uc424.o ../../../../../src/codepage/obj/os2/gcc/uc500.o ../../../../../src/codepage/obj/os2/gcc/uc646_yu.o ../../../../../src/codepage/obj/os2/gcc/uc737.o ../../../../../src/codepage/obj/os2/gcc/uc775.o ../../../../../src/codepage/obj/os2/gcc/uc850.o ../../../../../src/codepage/obj/os2/gcc/uc852.o ../../../../../src/codepage/obj/os2/gcc/uc855.o ../../../../../src/codepage/obj/os2/gcc/uc856.o ../../../../../src/codepage/obj/os2/gcc/uc857.o ../../../../../src/codepage/obj/os2/gcc/uc860.o ../../../../../src/codepage/obj/os2/gcc/uc861.o ../../../../../src/codepage/obj/os2/gcc/uc862.o ../../../../../src/codepage/obj/os2/gcc/uc863.o ../../../../../src/codepage/obj/os2/gcc/uc864.o ../../../../../src/codepage/obj/os2/gcc/uc865.o ../../../../../src/codepage/obj/os2/gcc/uc866.o ../../../../../src/codepage/obj/os2/gcc/uc869.o ../../../../../src/codepage/obj/os2/gcc/uc874.o ../../../../../src/codepage/obj/os2/gcc/uc875.o ../../../../../src/codepage/obj/os2/gcc/uc885910.o ../../../../../src/codepage/obj/os2/gcc/uc885911.o ../../../../../src/codepage/obj/os2/gcc/uc885913.o ../../../../../src/codepage/obj/os2/gcc/uc885914.o ../../../../../src/codepage/obj/os2/gcc/uc885915.o ../../../../../src/codepage/obj/os2/gcc/uc885916.o ../../../../../src/codepage/obj/os2/gcc/uc88591b.o ../../../../../src/codepage/obj/os2/gcc/uc8859_1.o ../../../../../src/codepage/obj/os2/gcc/uc8859_2.o ../../../../../src/codepage/obj/os2/gcc/uc8859_3.o ../../../../../src/codepage/obj/os2/gcc/uc8859_4.o ../../../../../src/codepage/obj/os2/gcc/uc8859_5.o ../../../../../src/codepage/obj/os2/gcc/uc8859_6.o ../../../../../src/codepage/obj/os2/gcc/uc8859_7.o ../../../../../src/codepage/obj/os2/gcc/uc8859_8.o ../../../../../src/codepage/obj/os2/gcc/uc8859_9.o ../../../../../src/codepage/obj/os2/gcc/ucascii.o ../../../../../src/codepage/obj/os2/gcc/ucatari.o ../../../../../src/codepage/obj/os2/gcc/uckam.o ../../../../../src/codepage/obj/os2/gcc/uckoi8.o ../../../../../src/codepage/obj/os2/gcc/uckoi8u.o ../../../../../src/codepage/obj/os2/gcc/ucmacce.o ../../../../../src/codepage/obj/os2/gcc/ucmaccyr.o ../../../../../src/codepage/obj/os2/gcc/ucmacgrk.o ../../../../../src/codepage/obj/os2/gcc/ucmacice.o ../../../../../src/codepage/obj/os2/gcc/ucmacrom.o ../../../../../src/codepage/obj/os2/gcc/ucmactrk.o ../../../../../src/codepage/obj/os2/gcc/ucmaz.o ../../../../../src/codepage/obj/os2/gcc/ucmik.o ../../../../../src/codepage/obj/os2/gcc/ucnext.o ../../../../../src/hbextern/obj/os2/gcc/hbextern.o ../../../../../src/rdd/obj/os2/gcc/dbcmd.o ../../../../../src/rdd/obj/os2/gcc/dbcmd53.o ../../../../../src/rdd/obj/os2/gcc/dbcmdhb.o ../../../../../src/rdd/obj/os2/gcc/dbdelim.o ../../../../../src/rdd/obj/os2/gcc/dbdetach.o ../../../../../src/rdd/obj/os2/gcc/dbdrop.o ../../../../../src/rdd/obj/os2/gcc/dbexists.o ../../../../../src/rdd/obj/os2/gcc/dbf1.o ../../../../../src/rdd/obj/os2/gcc/dbfuncs.o ../../../../../src/rdd/obj/os2/gcc/dbjoin.o ../../../../../src/rdd/obj/os2/gcc/dblist.o ../../../../../src/rdd/obj/os2/gcc/dbnubs.o ../../../../../src/rdd/obj/os2/gcc/dbrename.o ../../../../../src/rdd/obj/os2/gcc/dbsdf.o ../../../../../src/rdd/obj/os2/gcc/dbsort.o ../../../../../src/rdd/obj/os2/gcc/dbsql.o ../../../../../src/rdd/obj/os2/gcc/dbstrux.o ../../../../../src/rdd/obj/os2/gcc/dbstruxu.o ../../../../../src/rdd/obj/os2/gcc/dbtotal.o ../../../../../src/rdd/obj/os2/gcc/dbupdat.o ../../../../../src/rdd/obj/os2/gcc/delim1.o ../../../../../src/rdd/obj/os2/gcc/fieldhb.o ../../../../../src/rdd/obj/os2/gcc/hbdbsort.o ../../../../../src/rdd/obj/os2/gcc/ordcount.o ../../../../../src/rdd/obj/os2/gcc/ordwldsk.o ../../../../../src/rdd/obj/os2/gcc/rddinfo.o ../../../../../src/rdd/obj/os2/gcc/rddord.o ../../../../../src/rdd/obj/os2/gcc/rddordu.o ../../../../../src/rdd/obj/os2/gcc/rddsys.o ../../../../../src/rdd/obj/os2/gcc/sdf1.o ../../../../../src/rdd/obj/os2/gcc/wacore.o ../../../../../src/rdd/obj/os2/gcc/wafunc.o ../../../../../src/rdd/obj/os2/gcc/workarea.o ../../../../../src/rdd/dbfntx/obj/os2/gcc/dbfntx1.o ../../../../../src/rdd/dbfnsx/obj/os2/gcc/dbfnsx1.o ../../../../../src/rdd/dbfcdx/obj/os2/gcc/dbfcdx1.o ../../../../../src/rdd/dbfcdx/obj/os2/gcc/sixcdx1.o ../../../../../src/rdd/dbffpt/obj/os2/gcc/dbffpt1.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcompat.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcompr.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcrypt.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxdate.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxfname.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxini.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxord.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxredir.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxsem.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxtable.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxtrig.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxutil.o ../../../../../src/rdd/hsx/obj/os2/gcc/cftsfunc.o ../../../../../src/rdd/hsx/obj/os2/gcc/hsx.o ../../../../../src/rdd/usrrdd/obj/os2/gcc/usrrdd.o ../../../../../src/rtl/gtcgi/obj/os2/gcc/gtcgi.o ../../../../../src/rtl/gtpca/obj/os2/gcc/gtpca.o ../../../../../src/rtl/gtstd/obj/os2/gcc/gtstd.o ../../../../../src/rtl/gtos2/obj/os2/gcc/gtos2.o ../../../../../external/pcre/obj/os2/gcc/chartabs.o ../../../../../external/pcre/obj/os2/gcc/pcrecomp.o ../../../../../external/pcre/obj/os2/gcc/pcreconf.o ../../../../../external/pcre/obj/os2/gcc/pcredfa.o ../../../../../external/pcre/obj/os2/gcc/pcreexec.o ../../../../../external/pcre/obj/os2/gcc/pcrefinf.o ../../../../../external/pcre/obj/os2/gcc/pcreget.o ../../../../../external/pcre/obj/os2/gcc/pcreglob.o ../../../../../external/pcre/obj/os2/gcc/pcreinfo.o ../../../../../external/pcre/obj/os2/gcc/pcremktb.o ../../../../../external/pcre/obj/os2/gcc/pcrenewl.o ../../../../../external/pcre/obj/os2/gcc/pcreoutf.o ../../../../../external/pcre/obj/os2/gcc/pcrerefc.o ../../../../../external/pcre/obj/os2/gcc/pcrestud.o ../../../../../external/pcre/obj/os2/gcc/pcretabs.o ../../../../../external/pcre/obj/os2/gcc/pcretryf.o ../../../../../external/pcre/obj/os2/gcc/pcreucd.o ../../../../../external/pcre/obj/os2/gcc/pcrever.o ../../../../../external/pcre/obj/os2/gcc/pcrevutf.o ../../../../../external/pcre/obj/os2/gcc/pcrexcls.o ../../../../../external/zlib/obj/os2/gcc/adler32.o ../../../../../external/zlib/obj/os2/gcc/compress.o ../../../../../external/zlib/obj/os2/gcc/crc32.o ../../../../../external/zlib/obj/os2/gcc/deflate.o ../../../../../external/zlib/obj/os2/gcc/gzio.o ../../../../../external/zlib/obj/os2/gcc/infback.o ../../../../../external/zlib/obj/os2/gcc/inffast.o ../../../../../external/zlib/obj/os2/gcc/inflate.o ../../../../../external/zlib/obj/os2/gcc/inftrees.o ../../../../../external/zlib/obj/os2/gcc/trees.o ../../../../../external/zlib/obj/os2/gcc/uncompr.o ../../../../../external/zlib/obj/os2/gcc/zutil.o ../../../../../src/vm/obj/os2/gcc/arrayshb.o ../../../../../src/vm/obj/os2/gcc/asort.o ../../../../../src/vm/obj/os2/gcc/break.o ../../../../../src/vm/obj/os2/gcc/cmdarg.o ../../../../../src/vm/obj/os2/gcc/debug.o ../../../../../src/vm/obj/os2/gcc/dynlibhb.o ../../../../../src/vm/obj/os2/gcc/eval.o ../../../../../src/vm/obj/os2/gcc/evalhb.o ../../../../../src/vm/obj/os2/gcc/extrap.o ../../../../../src/vm/obj/os2/gcc/harbinit.o ../../../../../src/vm/obj/os2/gcc/hashfunc.o ../../../../../src/vm/obj/os2/gcc/hvmall.o ../../../../../src/vm/obj/os2/gcc/initexit.o ../../../../../src/vm/obj/os2/gcc/initsymb.o ../../../../../src/vm/obj/os2/gcc/mainstd.o ../../../../../src/vm/obj/os2/gcc/memvclip.o ../../../../../src/vm/obj/os2/gcc/pcount.o ../../../../../src/vm/obj/os2/gcc/proc.o ../../../../../src/vm/obj/os2/gcc/procaddr.o ../../../../../src/vm/obj/os2/gcc/pvalue.o ../../../../../src/vm/obj/os2/gcc/runner.o ../../../../../src/vm/obj/os2/gcc/vm.o __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2
> ------------>8--------------------emximp -o ../../../../../lib/os2/gcc/harbour.a ../../../../../bin/os2/gcc/harbour.dll
> emximp: Cannot open input file `../../../../../bin/os2/gcc/harbour.dll'
> make[2]: *** [harbour.dll] Error 2
> make[1]: *** [descend] Error 2
> make: *** [dynlib] Error 2
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Mon Feb 22 05:05:27 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 22 05:05:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13957] trunk/harbour
Message-ID: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13957
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13957&view=rev
Author:   vouchcac
Date:     2010-02-22 10:05:25 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 02:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideharbourhelp.prg
    ! A rare-condition bug fix. Thanks Marco.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Feb 22 05:15:45 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 05:16:04 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx>
	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>
	<4B8252AD.9000900@libero.it>
	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
Message-ID: <4B825951.2090404@libero.it>

Viktor,

I'm checking, a part is from an environment var named library_path which is
set by GCC

(E:\harbour\ld)set library_path
LIBRARY_PATH=E:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5;E:/SVI
LUPPO/GCC/V3.3.5/USR/lib/tcpipv4;E:/SVILUPPO/GCC/V3.3.5/USR/lib;D:\JAVA11\LIB;

But it seems to be using some other path which I'm trying to figure out where
it comes from.

Maurilio.


Viktor Szak?ts wrote:
> Nice.
> 
> Now all the absolute paths to gcc lib locations need 
> to be sorted out. I can add support for $(HB_COMP_PATH_PUB) 
> variable for os2/gcc, but this is not enough, as the 
> relative paths also hold the gcc version number. Plus 
> the logic should be checked for each gcc version, as it 
> may change along the way.
> 
> Brgds,
> Viktor
> 
> On 2010 Feb 22, at 10:47, Maurilio Longo wrote:
> 
>> And here, in all of its beauty, the call to build harbour.dll
>>
>> :)
>>
>> Maurilio.
>>
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> ! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
>> ! MAKE: make 3.81 D:\OS2\CMD.EXE   
>> ! HB_BIN_INSTALL: e:\harbour\bin
>> ! HB_LIB_INSTALL: e:\harbour\lib
>> ! HB_INC_INSTALL: e:\harbour\include
>> ! HB_DOC_INSTALL: e:\harbour\doc
>> ! HB_BUILD_SHARED: yes
>> ! HB_BUILD_STRIP: all
>> ! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
>> ! HB_PLATFORM: os2 (x86) (autodetected)
>> ! HB_COMPILER: gcc 
>> ! Component: 'zlib' found in E:/REPOSITORY/HARBOUR/external/zlib (local)
>> ! Component: 'pcre' found in E:/REPOSITORY/HARBOUR/external/pcre (local)
>> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
>> ! Component: 'gpm' not supported on os2 platform
>> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
>> ! Component: 'curses' not supported on os2 platform
>> ! Component: 'x11' not found. Configure with HB_WITH_X11.
>> ! Component: 'wattcp/watt-32' not supported on os2 platform
>> ! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
>> make[2]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbcplr.a' is up to date.
>> gcc  -L../../../../../lib/os2/gcc   -o ..\..\..\..\..\bin\os2\gcc\harbour.exe harbour.o -lhbcplr -lhbpp -lhbnortl -lhbcommon -s
>>
>> ------------8<--------------------
>> -o ..\..\..\..\..\bin\os2\gcc\harbour.exe -s E:/SVILUPPO/GCC/V3.3.5/USR/lib/crt0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -LE:/REPOSITORY/HARBOUR/src/main/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib harbour.o -lhbcplr -lhbpp -lhbnortl -lhbcommon -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2
>> ------------>8--------------------make[2]: `../../../../../lib/os2/gcc/hbvm.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbmainstd.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbmaindllh.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbvmmt.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbrtl.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/gtcgi.a' is up to date.
>> ! 'gtcrs' library skipped (component not found)
>> ! 'gtdos' library skipped (platform not supported)
>> ! 'gtgui' library skipped (platform not supported)
>> make[3]: `../../../../../../lib/os2/gcc/gtos2.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/gtpca.a' is up to date.
>> ! 'gtsln' library skipped (component not found)
>> make[3]: `../../../../../../lib/os2/gcc/gtstd.a' is up to date.
>> ! 'gttrm' library skipped (platform or compiler not supported)
>> ! 'gtwin' library skipped (platform not supported)
>> ! 'gtwvt' library skipped (platform not supported)
>> ! 'gtxwc' library skipped (component not found)
>> make[2]: `../../../../../lib/os2/gcc/hbmacro.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbcpage.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hblang.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbrdd.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbnulrdd.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/rddntx.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/rddnsx.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/rddcdx.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/rddfpt.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbsix.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbhsx.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbusrrdd.a' is up to date.
>> make[3]: `../../../../../../../lib/os2/gcc/hbuddall.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbextern.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbdebug.a' is up to date.
>> gcc  -shared -L../../../../../lib/os2/gcc  -o ../../../../../bin/os2/gcc/harbour.dll @__dyn__.tmp __dyn__.def -lsocket -s
>>
>> ------------8<--------------------
>> -Zdll -o ../../../../../bin/os2/gcc/harbour.dll -s E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -LE:/REPOSITORY/HARBOUR/src/dynlib/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib ../../../../../src/common/obj/os2/gcc/expropt1.o ../../../../../src/common/obj/os2/gcc/expropt2.o ../../../../../src/common/obj/os2/gcc/hbarch.o ../../../../../src/common/obj/os2/gcc/hbdate.o ../../../../../src/common/obj/os2/gcc/hbffind.o ../../../../../src/common/obj/os2/gcc/hbfopen.o ../../../../../src/common/obj/os2/gcc/hbfsapi.o ../../../../../src/common/obj/os2/gcc/hbgete.o ../../../../../src/common/obj/os2/gcc/hbhash
.o ../../../../../src/common/obj/os2/gcc/hbmem.o ../../../../../src/common/obj/os2/gcc/hbprintf.o ../../../../../src/common/obj/os2/gcc/hbstr.o ../../../../../src/common/obj/os2/gcc/hbtrace.o ../../../../../src/common/obj/os2/gcc/hbver.o ../../../../../src/common/obj/os2/gcc/hbverdsp.o ../../../../../src/common/obj/os2/gcc/hbwin.o ../../../../../src/common/obj/os2/gcc/hbwince.o ../../../../../src/common/obj/os2/gcc/reserved.o ../../../../../src/common/obj/os2/gcc/strwild.o ../../../../../src/pp/obj/os2/gcc/ppcore.o ../../../../../src/pp/obj/os2/gcc/pplib.o ../../../../../src/pp/obj/os2/gcc/pplib2.o ../../../../../src/pp/obj/os2/gcc/pplib3.o ../../../../../src/pp/obj/os2/gcc/pptable.o ../../../../../src/rtl/obj/os2/gcc/abs.o ../../../../../src/rtl/obj/os2/gcc/accept.o ../../../../../src/rtl/obj/os2/gcc/achoice.o ../../../../../src/rtl/obj/os2/gcc/adir.o ../../../../../src/rtl/obj/os2/gcc/alert.o ../../../../../src/rtl/obj/os2/gcc/altd.o ../../../../../src/rtl/obj/os2/gcc/ampm.
o ../../../../../src/rtl/obj/os2/gcc/at.o ../../../../../src/rtl/obj/os2/gcc/ati.o ../../../../../src/rtl/obj/os2/gcc/base64.o ../../../../../src/rtl/obj/os2/gcc/base64c.o ../../../../../src/rtl/obj/os2/gcc/binnum.o ../../../../../src/rtl/obj/os2/gcc/box.o ../../../../../src/rtl/obj/os2/gcc/browdb.o ../../../../../src/rtl/obj/os2/gcc/browse.o ../../../../../src/rtl/obj/os2/gcc/cdpapi.o ../../../../../src/rtl/obj/os2/gcc/cdpapihb.o ../../../../../src/rtl/obj/os2/gcc/checkbox.o ../../../../../src/rtl/obj/os2/gcc/chrasc.o ../../../../../src/rtl/obj/os2/gcc/color53.o ../../../../../src/rtl/obj/os2/gcc/colorind.o ../../../../../src/rtl/obj/os2/gcc/console.o ../../../../../src/rtl/obj/os2/gcc/copyfile.o ../../../../../src/rtl/obj/os2/gcc/cputime.o ../../../../../src/rtl/obj/os2/gcc/datec.o ../../../../../src/rtl/obj/os2/gcc/dates.o ../../../../../src/rtl/obj/os2/gcc/dateshb.o ../../../../../src/rtl/obj/os2/gcc/datesx.o ../../../../../src/rtl/obj/os2/gcc/dbedit.o ../../../../../src/
rtl/obj/os2/gcc/defpath.o ../../../../../src/rtl/obj/os2/gcc/defpathu.o ../../../../../src/rtl/obj/os2/gcc/descend.o ../../../../../src/rtl/obj/os2/gcc/devoutp.o ../../../../../src/rtl/obj/os2/gcc/dircmd.o ../../../../../src/rtl/obj/os2/gcc/dirdrive.o ../../../../../src/rtl/obj/os2/gcc/direct.o ../../../../../src/rtl/obj/os2/gcc/dirscan.o ../../../../../src/rtl/obj/os2/gcc/diskspac.o ../../../../../src/rtl/obj/os2/gcc/disksphb.o ../../../../../src/rtl/obj/os2/gcc/do.o ../../../../../src/rtl/obj/os2/gcc/einstv52.o ../../../../../src/rtl/obj/os2/gcc/einstvar.o ../../../../../src/rtl/obj/os2/gcc/einstvau.o ../../../../../src/rtl/obj/os2/gcc/empty.o ../../../../../src/rtl/obj/os2/gcc/errapi.o ../../../../../src/rtl/obj/os2/gcc/errapiu.o ../../../../../src/rtl/obj/os2/gcc/errint.o ../../../../../src/rtl/obj/os2/gcc/errintlo.o ../../../../../src/rtl/obj/os2/gcc/errsys.o ../../../../../src/rtl/obj/os2/gcc/fieldbl.o ../../../../../src/rtl/obj/os2/gcc/file.o ../../../../../src/rtl/obj
/os2/gcc/filebuf.o ../../../../../src/rtl/obj/os2/gcc/filehb.o ../../../../../src/rtl/obj/os2/gcc/filesys.o ../../../../../src/rtl/obj/os2/gcc/fkmax.o ../../../../../src/rtl/obj/os2/gcc/fmhb.o ../../../../../src/rtl/obj/os2/gcc/fnsplit.o ../../../../../src/rtl/obj/os2/gcc/fscopy.o ../../../../../src/rtl/obj/os2/gcc/fserr.o ../../../../../src/rtl/obj/os2/gcc/fssize.o ../../../../../src/rtl/obj/os2/gcc/fstemp.o ../../../../../src/rtl/obj/os2/gcc/gete.o ../../../../../src/rtl/obj/os2/gcc/getlist.o ../../../../../src/rtl/obj/os2/gcc/getsys.o ../../../../../src/rtl/obj/os2/gcc/getsys53.o ../../../../../src/rtl/obj/os2/gcc/gt.o ../../../../../src/rtl/obj/os2/gcc/gtapi.o ../../../../../src/rtl/obj/os2/gcc/gtchrmap.o ../../../../../src/rtl/obj/os2/gcc/gtclip.o ../../../../../src/rtl/obj/os2/gcc/gtfunc.o ../../../../../src/rtl/obj/os2/gcc/gtkbstat.o ../../../../../src/rtl/obj/os2/gcc/gtkeycod.o ../../../../../src/rtl/obj/os2/gcc/gtsys.o ../../../../../src/rtl/obj/os2/gcc/gttone.o ../.
./../../../src/rtl/obj/os2/gcc/gui.o ../../../../../src/rtl/obj/os2/gcc/gx.o ../../../../../src/rtl/obj/os2/gcc/hardcr.o ../../../../../src/rtl/obj/os2/gcc/hbadler.o ../../../../../src/rtl/obj/os2/gcc/hbascii.o ../../../../../src/rtl/obj/os2/gcc/hbbffnc.o ../../../../../src/rtl/obj/os2/gcc/hbbfish.o ../../../../../src/rtl/obj/os2/gcc/hbbit.o ../../../../../src/rtl/obj/os2/gcc/hbbyte.o ../../../../../src/rtl/obj/os2/gcc/hbcrc.o ../../../../../src/rtl/obj/os2/gcc/hbdyn.o ../../../../../src/rtl/obj/os2/gcc/hbdynhb.o ../../../../../src/rtl/obj/os2/gcc/hbfeof.o ../../../../../src/rtl/obj/os2/gcc/hbfile.o ../../../../../src/rtl/obj/os2/gcc/hbgtcore.o ../../../../../src/rtl/obj/os2/gcc/hbhex.o ../../../../../src/rtl/obj/os2/gcc/hbi18n1.o ../../../../../src/rtl/obj/os2/gcc/hbi18n2.o ../../../../../src/rtl/obj/os2/gcc/hbinet.o ../../../../../src/rtl/obj/os2/gcc/hbini.o ../../../../../src/rtl/obj/os2/gcc/hbmd5.o ../../../../../src/rtl/obj/os2/gcc/hbntos.o ../../../../../src/rtl/obj/os2
/gcc/hbproces.o ../../../../../src/rtl/obj/os2/gcc/hbprocfn.o ../../../../../src/rtl/obj/os2/gcc/hbrandom.o ../../../../../src/rtl/obj/os2/gcc/hbregex.o ../../../../../src/rtl/obj/os2/gcc/hbregexc.o ../../../../../src/rtl/obj/os2/gcc/hbrunfun.o ../../../../../src/rtl/obj/os2/gcc/hbsha1.o ../../../../../src/rtl/obj/os2/gcc/hbsha1hm.o ../../../../../src/rtl/obj/os2/gcc/hbsha2.o ../../../../../src/rtl/obj/os2/gcc/hbsha2hm.o ../../../../../src/rtl/obj/os2/gcc/hbsocket.o ../../../../../src/rtl/obj/os2/gcc/hbstrfmt.o ../../../../../src/rtl/obj/os2/gcc/hbstrsh.o ../../../../../src/rtl/obj/os2/gcc/hbtoken.o ../../../../../src/rtl/obj/os2/gcc/hbzlib.o ../../../../../src/rtl/obj/os2/gcc/hbzlibgz.o ../../../../../src/rtl/obj/os2/gcc/hbznet.o ../../../../../src/rtl/obj/os2/gcc/idle.o ../../../../../src/rtl/obj/os2/gcc/inkey.o ../../../../../src/rtl/obj/os2/gcc/inkeyapi.o ../../../../../src/rtl/obj/os2/gcc/input.o ../../../../../src/rtl/obj/os2/gcc/is.o ../../../../../src/rtl/obj/os2/gcc/
isprint.o ../../../../../src/rtl/obj/os2/gcc/itemseri.o ../../../../../src/rtl/obj/os2/gcc/lang.o ../../../../../src/rtl/obj/os2/gcc/langapi.o ../../../../../src/rtl/obj/os2/gcc/left.o ../../../../../src/rtl/obj/os2/gcc/len.o ../../../../../src/rtl/obj/os2/gcc/lennum.o ../../../../../src/rtl/obj/os2/gcc/listbox.o ../../../../../src/rtl/obj/os2/gcc/math.o ../../../../../src/rtl/obj/os2/gcc/maxrow.o ../../../../../src/rtl/obj/os2/gcc/memoedit.o ../../../../../src/rtl/obj/os2/gcc/memofile.o ../../../../../src/rtl/obj/os2/gcc/memvarbl.o ../../../../../src/rtl/obj/os2/gcc/menusys.o ../../../../../src/rtl/obj/os2/gcc/menuto.o ../../../../../src/rtl/obj/os2/gcc/minmax.o ../../../../../src/rtl/obj/os2/gcc/mlcfunc.o ../../../../../src/rtl/obj/os2/gcc/mod.o ../../../../../src/rtl/obj/os2/gcc/mouse53.o ../../../../../src/rtl/obj/os2/gcc/mouseapi.o ../../../../../src/rtl/obj/os2/gcc/mousehb.o ../../../../../src/rtl/obj/os2/gcc/mtran.o ../../../../../src/rtl/obj/os2/gcc/natmsg.o ../../../
../../src/rtl/obj/os2/gcc/natmsgu.o ../../../../../src/rtl/obj/os2/gcc/net.o ../../../../../src/rtl/obj/os2/gcc/objfunc.o ../../../../../src/rtl/obj/os2/gcc/oemansi.o ../../../../../src/rtl/obj/os2/gcc/oldbox.o ../../../../../src/rtl/obj/os2/gcc/oldclear.o ../../../../../src/rtl/obj/os2/gcc/pad.o ../../../../../src/rtl/obj/os2/gcc/padc.o ../../../../../src/rtl/obj/os2/gcc/padl.o ../../../../../src/rtl/obj/os2/gcc/padr.o ../../../../../src/rtl/obj/os2/gcc/perfuncs.o ../../../../../src/rtl/obj/os2/gcc/philes.o ../../../../../src/rtl/obj/os2/gcc/philes53.o ../../../../../src/rtl/obj/os2/gcc/profiler.o ../../../../../src/rtl/obj/os2/gcc/pushbtn.o ../../../../../src/rtl/obj/os2/gcc/radiobhb.o ../../../../../src/rtl/obj/os2/gcc/radiobtn.o ../../../../../src/rtl/obj/os2/gcc/radiogrp.o ../../../../../src/rtl/obj/os2/gcc/rat.o ../../../../../src/rtl/obj/os2/gcc/readkey.o ../../../../../src/rtl/obj/os2/gcc/readvar.o ../../../../../src/rtl/obj/os2/gcc/replic.o ../../../../../src/rtl/obj
/os2/gcc/right.o ../../../../../src/rtl/obj/os2/gcc/round.o ../../../../../src/rtl/obj/os2/gcc/run.o ../../../../../src/rtl/obj/os2/gcc/samples.o ../../../../../src/rtl/obj/os2/gcc/saverest.o ../../../../../src/rtl/obj/os2/gcc/scroll.o ../../../../../src/rtl/obj/os2/gcc/scrollbr.o ../../../../../src/rtl/obj/os2/gcc/scrrow.o ../../../../../src/rtl/obj/os2/gcc/seconds.o ../../../../../src/rtl/obj/os2/gcc/setcolor.o ../../../../../src/rtl/obj/os2/gcc/setcurs.o ../../../../../src/rtl/obj/os2/gcc/setfunc.o ../../../../../src/rtl/obj/os2/gcc/setkey.o ../../../../../src/rtl/obj/os2/gcc/setpos.o ../../../../../src/rtl/obj/os2/gcc/setposbs.o ../../../../../src/rtl/obj/os2/gcc/setta.o ../../../../../src/rtl/obj/os2/gcc/sha1.o ../../../../../src/rtl/obj/os2/gcc/sha1hmac.o ../../../../../src/rtl/obj/os2/gcc/sha2.o ../../../../../src/rtl/obj/os2/gcc/sha2hmac.o ../../../../../src/rtl/obj/os2/gcc/shadow.o ../../../../../src/rtl/obj/os2/gcc/shadowu.o ../../../../../src/rtl/obj/os2/gcc/sounde
x.o ../../../../../src/rtl/obj/os2/gcc/space.o ../../../../../src/rtl/obj/os2/gcc/spfiles.o ../../../../../src/rtl/obj/os2/gcc/str.o ../../../../../src/rtl/obj/os2/gcc/strc.o ../../../../../src/rtl/obj/os2/gcc/strcase.o ../../../../../src/rtl/obj/os2/gcc/strclear.o ../../../../../src/rtl/obj/os2/gcc/strmatch.o ../../../../../src/rtl/obj/os2/gcc/strtoexp.o ../../../../../src/rtl/obj/os2/gcc/strtran.o ../../../../../src/rtl/obj/os2/gcc/strxor.o ../../../../../src/rtl/obj/os2/gcc/strzero.o ../../../../../src/rtl/obj/os2/gcc/stuff.o ../../../../../src/rtl/obj/os2/gcc/substr.o ../../../../../src/rtl/obj/os2/gcc/tbcolumn.o ../../../../../src/rtl/obj/os2/gcc/tbrowse.o ../../../../../src/rtl/obj/os2/gcc/tbrowsys.o ../../../../../src/rtl/obj/os2/gcc/tclass.o ../../../../../src/rtl/obj/os2/gcc/teditor.o ../../../../../src/rtl/obj/os2/gcc/text.o ../../../../../src/rtl/obj/os2/gcc/tget.o ../../../../../src/rtl/obj/os2/gcc/tgethb.o ../../../../../src/rtl/obj/os2/gcc/tgetint.o ../../../../
../src/rtl/obj/os2/gcc/tgetlist.o ../../../../../src/rtl/obj/os2/gcc/tlabel.o ../../../../../src/rtl/obj/os2/gcc/tmenuitm.o ../../../../../src/rtl/obj/os2/gcc/tmenusys.o ../../../../../src/rtl/obj/os2/gcc/tobject.o ../../../../../src/rtl/obj/os2/gcc/tone.o ../../../../../src/rtl/obj/os2/gcc/tpersist.o ../../../../../src/rtl/obj/os2/gcc/tpopup.o ../../../../../src/rtl/obj/os2/gcc/trace.o ../../../../../src/rtl/obj/os2/gcc/transfrm.o ../../../../../src/rtl/obj/os2/gcc/treport.o ../../../../../src/rtl/obj/os2/gcc/trim.o ../../../../../src/rtl/obj/os2/gcc/tscalar.o ../../../../../src/rtl/obj/os2/gcc/tscalara.o ../../../../../src/rtl/obj/os2/gcc/tscalarb.o ../../../../../src/rtl/obj/os2/gcc/tscalarc.o ../../../../../src/rtl/obj/os2/gcc/tscalard.o ../../../../../src/rtl/obj/os2/gcc/tscalarh.o ../../../../../src/rtl/obj/os2/gcc/tscalarl.o ../../../../../src/rtl/obj/os2/gcc/tscalarn.o ../../../../../src/rtl/obj/os2/gcc/tscalarp.o ../../../../../src/rtl/obj/os2/gcc/tscalars.o ../../..
/../../src/rtl/obj/os2/gcc/tscalart.o ../../../../../src/rtl/obj/os2/gcc/tscalaru.o ../../../../../src/rtl/obj/os2/gcc/tsymbol.o ../../../../../src/rtl/obj/os2/gcc/ttextlin.o ../../../../../src/rtl/obj/os2/gcc/ttopbar.o ../../../../../src/rtl/obj/os2/gcc/type.o ../../../../../src/rtl/obj/os2/gcc/typefile.o ../../../../../src/rtl/obj/os2/gcc/val.o ../../../../../src/rtl/obj/os2/gcc/valtoexp.o ../../../../../src/rtl/obj/os2/gcc/valtostr.o ../../../../../src/rtl/obj/os2/gcc/valtype.o ../../../../../src/rtl/obj/os2/gcc/version.o ../../../../../src/rtl/obj/os2/gcc/wait.o ../../../../../src/rtl/obj/os2/gcc/word.o ../../../../../src/rtl/obj/os2/gcc/xhelp.o ../../../../../src/rtl/obj/os2/gcc/xsavescr.o ../../../../../src/macro/obj/os2/gcc/macroa.o ../../../../../src/macro/obj/os2/gcc/macrob.o ../../../../../src/macro/obj/os2/gcc/macrolex.o ../../../../../src/macro/obj/os2/gcc/macroy.o ../../../../../src/lang/obj/os2/gcc/msgbe866.o ../../../../../src/lang/obj/os2/gcc/msgbewin.o ../../
../../../src/lang/obj/os2/gcc/msgbg866.o ../../../../../src/lang/obj/os2/gcc/msgbgiso.o ../../../../../src/lang/obj/os2/gcc/msgbgmik.o ../../../../../src/lang/obj/os2/gcc/msgbgwin.o ../../../../../src/lang/obj/os2/gcc/msgca.o ../../../../../src/lang/obj/os2/gcc/msgcs852.o ../../../../../src/lang/obj/os2/gcc/msgcsiso.o ../../../../../src/lang/obj/os2/gcc/msgcskam.o ../../../../../src/lang/obj/os2/gcc/msgcswin.o ../../../../../src/lang/obj/os2/gcc/msgde.o ../../../../../src/lang/obj/os2/gcc/msgdewin.o ../../../../../src/lang/obj/os2/gcc/msgel.o ../../../../../src/lang/obj/os2/gcc/msgelwin.o ../../../../../src/lang/obj/os2/gcc/msgeo.o ../../../../../src/lang/obj/os2/gcc/msges.o ../../../../../src/lang/obj/os2/gcc/msgeswin.o ../../../../../src/lang/obj/os2/gcc/msgeu.o ../../../../../src/lang/obj/os2/gcc/msgfr.o ../../../../../src/lang/obj/os2/gcc/msggl.o ../../../../../src/lang/obj/os2/gcc/msghe862.o ../../../../../src/lang/obj/os2/gcc/msghewin.o ../../../../../src/lang/obj/os2/g
cc/msghr646.o ../../../../../src/lang/obj/os2/gcc/msghr852.o ../../../../../src/lang/obj/os2/gcc/msghriso.o ../../../../../src/lang/obj/os2/gcc/msghrwin.o ../../../../../src/lang/obj/os2/gcc/msghu852.o ../../../../../src/lang/obj/os2/gcc/msghucwi.o ../../../../../src/lang/obj/os2/gcc/msghuiso.o ../../../../../src/lang/obj/os2/gcc/msghuwin.o ../../../../../src/lang/obj/os2/gcc/msgid.o ../../../../../src/lang/obj/os2/gcc/msgis850.o ../../../../../src/lang/obj/os2/gcc/msgit.o ../../../../../src/lang/obj/os2/gcc/msgko.o ../../../../../src/lang/obj/os2/gcc/msgltwin.o ../../../../../src/lang/obj/os2/gcc/msgnl.o ../../../../../src/lang/obj/os2/gcc/msgpl852.o ../../../../../src/lang/obj/os2/gcc/msgpliso.o ../../../../../src/lang/obj/os2/gcc/msgplmaz.o ../../../../../src/lang/obj/os2/gcc/msgplwin.o ../../../../../src/lang/obj/os2/gcc/msgpt.o ../../../../../src/lang/obj/os2/gcc/msgptiso.o ../../../../../src/lang/obj/os2/gcc/msgro.o ../../../../../src/lang/obj/os2/gcc/msgru866.o ../../.
./../../src/lang/obj/os2/gcc/msgrukoi.o ../../../../../src/lang/obj/os2/gcc/msgruwin.o ../../../../../src/lang/obj/os2/gcc/msgsk852.o ../../../../../src/lang/obj/os2/gcc/msgskiso.o ../../../../../src/lang/obj/os2/gcc/msgskkam.o ../../../../../src/lang/obj/os2/gcc/msgskwin.o ../../../../../src/lang/obj/os2/gcc/msgsl646.o ../../../../../src/lang/obj/os2/gcc/msgsl852.o ../../../../../src/lang/obj/os2/gcc/msgsliso.o ../../../../../src/lang/obj/os2/gcc/msgslwin.o ../../../../../src/lang/obj/os2/gcc/msgsr852.o ../../../../../src/lang/obj/os2/gcc/msgsriso.o ../../../../../src/lang/obj/os2/gcc/msgsrwin.o ../../../../../src/lang/obj/os2/gcc/msgtr857.o ../../../../../src/lang/obj/os2/gcc/msgtrwin.o ../../../../../src/lang/obj/os2/gcc/msgua866.o ../../../../../src/lang/obj/os2/gcc/msguados.o ../../../../../src/lang/obj/os2/gcc/msguakoi.o ../../../../../src/lang/obj/os2/gcc/msguawin.o ../../../../../src/lang/obj/os2/gcc/msgzhb5.o ../../../../../src/lang/obj/os2/gcc/msgzhgb.o ../../../../
../src/codepage/obj/os2/gcc/cpbg866.o ../../../../../src/codepage/obj/os2/gcc/cpbgiso.o ../../../../../src/codepage/obj/os2/gcc/cpbgmik.o ../../../../../src/codepage/obj/os2/gcc/cpbgwin.o ../../../../../src/codepage/obj/os2/gcc/cpcs852.o ../../../../../src/codepage/obj/os2/gcc/cpcsiso.o ../../../../../src/codepage/obj/os2/gcc/cpcskam.o ../../../../../src/codepage/obj/os2/gcc/cpcswin.o ../../../../../src/codepage/obj/os2/gcc/cpde850.o ../../../../../src/codepage/obj/os2/gcc/cpde850m.o ../../../../../src/codepage/obj/os2/gcc/cpdeiso.o ../../../../../src/codepage/obj/os2/gcc/cpdewin.o ../../../../../src/codepage/obj/os2/gcc/cpdk865.o ../../../../../src/codepage/obj/os2/gcc/cpel437.o ../../../../../src/codepage/obj/os2/gcc/cpel737.o ../../../../../src/codepage/obj/os2/gcc/cpeliso.o ../../../../../src/codepage/obj/os2/gcc/cpelwin.o ../../../../../src/codepage/obj/os2/gcc/cpes850.o ../../../../../src/codepage/obj/os2/gcc/cpes850c.o ../../../../../src/codepage/obj/os2/gcc/cpes850m.o
 ../../../../../src/codepage/obj/os2/gcc/cpesiso.o ../../../../../src/codepage/obj/os2/gcc/cpeswin.o ../../../../../src/codepage/obj/os2/gcc/cpeswinm.o ../../../../../src/codepage/obj/os2/gcc/cpfi850.o ../../../../../src/codepage/obj/os2/gcc/cpfr850.o ../../../../../src/codepage/obj/os2/gcc/cpfr850m.o ../../../../../src/codepage/obj/os2/gcc/cpfriso.o ../../../../../src/codepage/obj/os2/gcc/cpfrwin.o ../../../../../src/codepage/obj/os2/gcc/cphr646.o ../../../../../src/codepage/obj/os2/gcc/cphr852.o ../../../../../src/codepage/obj/os2/gcc/cphriso.o ../../../../../src/codepage/obj/os2/gcc/cphrwin.o ../../../../../src/codepage/obj/os2/gcc/cphu852.o ../../../../../src/codepage/obj/os2/gcc/cphu852c.o ../../../../../src/codepage/obj/os2/gcc/cphuiso.o ../../../../../src/codepage/obj/os2/gcc/cphuwin.o ../../../../../src/codepage/obj/os2/gcc/cpis850.o ../../../../../src/codepage/obj/os2/gcc/cpis861.o ../../../../../src/codepage/obj/os2/gcc/cpit437.o ../../../../../src/codepage/obj/os2/
gcc/cpit850.o ../../../../../src/codepage/obj/os2/gcc/cpit850m.o ../../../../../src/codepage/obj/os2/gcc/cpitisb.o ../../../../../src/codepage/obj/os2/gcc/cpitiso.o ../../../../../src/codepage/obj/os2/gcc/cpitwin.o ../../../../../src/codepage/obj/os2/gcc/cpltwin.o ../../../../../src/codepage/obj/os2/gcc/cpnl850.o ../../../../../src/codepage/obj/os2/gcc/cpnl850m.o ../../../../../src/codepage/obj/os2/gcc/cpno865.o ../../../../../src/codepage/obj/os2/gcc/cppl852.o ../../../../../src/codepage/obj/os2/gcc/cppliso.o ../../../../../src/codepage/obj/os2/gcc/cpplmaz.o ../../../../../src/codepage/obj/os2/gcc/cpplwin.o ../../../../../src/codepage/obj/os2/gcc/cppt850.o ../../../../../src/codepage/obj/os2/gcc/cppt860.o ../../../../../src/codepage/obj/os2/gcc/cpptiso.o ../../../../../src/codepage/obj/os2/gcc/cpro852.o ../../../../../src/codepage/obj/os2/gcc/cproiso.o ../../../../../src/codepage/obj/os2/gcc/cprowin.o ../../../../../src/codepage/obj/os2/gcc/cpru866.o ../../../../../src/codep
age/obj/os2/gcc/cpruiso.o ../../../../../src/codepage/obj/os2/gcc/cprukoi.o ../../../../../src/codepage/obj/os2/gcc/cpruwin.o ../../../../../src/codepage/obj/os2/gcc/cpsk852.o ../../../../../src/codepage/obj/os2/gcc/cpskiso.o ../../../../../src/codepage/obj/os2/gcc/cpskkam.o ../../../../../src/codepage/obj/os2/gcc/cpskwin.o ../../../../../src/codepage/obj/os2/gcc/cpsl646.o ../../../../../src/codepage/obj/os2/gcc/cpsl852.o ../../../../../src/codepage/obj/os2/gcc/cpsliso.o ../../../../../src/codepage/obj/os2/gcc/cpslwin.o ../../../../../src/codepage/obj/os2/gcc/cpsrwin.o ../../../../../src/codepage/obj/os2/gcc/cpsv437c.o ../../../../../src/codepage/obj/os2/gcc/cpsv850.o ../../../../../src/codepage/obj/os2/gcc/cpsv850m.o ../../../../../src/codepage/obj/os2/gcc/cpsviso.o ../../../../../src/codepage/obj/os2/gcc/cpsvwin.o ../../../../../src/codepage/obj/os2/gcc/cptr857.o ../../../../../src/codepage/obj/os2/gcc/cptriso.o ../../../../../src/codepage/obj/os2/gcc/cptrwin.o ../../../../
../src/codepage/obj/os2/gcc/cpua1125.o ../../../../../src/codepage/obj/os2/gcc/cpua866.o ../../../../../src/codepage/obj/os2/gcc/cpuakoi.o ../../../../../src/codepage/obj/os2/gcc/cpuawin.o ../../../../../src/codepage/obj/os2/gcc/uc037.o ../../../../../src/codepage/obj/os2/gcc/uc1006.o ../../../../../src/codepage/obj/os2/gcc/uc1026.o ../../../../../src/codepage/obj/os2/gcc/uc1125.o ../../../../../src/codepage/obj/os2/gcc/uc1250.o ../../../../../src/codepage/obj/os2/gcc/uc1251.o ../../../../../src/codepage/obj/os2/gcc/uc1252.o ../../../../../src/codepage/obj/os2/gcc/uc1253.o ../../../../../src/codepage/obj/os2/gcc/uc1254.o ../../../../../src/codepage/obj/os2/gcc/uc1255.o ../../../../../src/codepage/obj/os2/gcc/uc1256.o ../../../../../src/codepage/obj/os2/gcc/uc1257.o ../../../../../src/codepage/obj/os2/gcc/uc1258.o ../../../../../src/codepage/obj/os2/gcc/uc424.o ../../../../../src/codepage/obj/os2/gcc/uc500.o ../../../../../src/codepage/obj/os2/gcc/uc646_yu.o ../../../../../src
/codepage/obj/os2/gcc/uc737.o ../../../../../src/codepage/obj/os2/gcc/uc775.o ../../../../../src/codepage/obj/os2/gcc/uc850.o ../../../../../src/codepage/obj/os2/gcc/uc852.o ../../../../../src/codepage/obj/os2/gcc/uc855.o ../../../../../src/codepage/obj/os2/gcc/uc856.o ../../../../../src/codepage/obj/os2/gcc/uc857.o ../../../../../src/codepage/obj/os2/gcc/uc860.o ../../../../../src/codepage/obj/os2/gcc/uc861.o ../../../../../src/codepage/obj/os2/gcc/uc862.o ../../../../../src/codepage/obj/os2/gcc/uc863.o ../../../../../src/codepage/obj/os2/gcc/uc864.o ../../../../../src/codepage/obj/os2/gcc/uc865.o ../../../../../src/codepage/obj/os2/gcc/uc866.o ../../../../../src/codepage/obj/os2/gcc/uc869.o ../../../../../src/codepage/obj/os2/gcc/uc874.o ../../../../../src/codepage/obj/os2/gcc/uc875.o ../../../../../src/codepage/obj/os2/gcc/uc885910.o ../../../../../src/codepage/obj/os2/gcc/uc885911.o ../../../../../src/codepage/obj/os2/gcc/uc885913.o ../../../../../src/codepage/obj/os2/gcc
/uc885914.o ../../../../../src/codepage/obj/os2/gcc/uc885915.o ../../../../../src/codepage/obj/os2/gcc/uc885916.o ../../../../../src/codepage/obj/os2/gcc/uc88591b.o ../../../../../src/codepage/obj/os2/gcc/uc8859_1.o ../../../../../src/codepage/obj/os2/gcc/uc8859_2.o ../../../../../src/codepage/obj/os2/gcc/uc8859_3.o ../../../../../src/codepage/obj/os2/gcc/uc8859_4.o ../../../../../src/codepage/obj/os2/gcc/uc8859_5.o ../../../../../src/codepage/obj/os2/gcc/uc8859_6.o ../../../../../src/codepage/obj/os2/gcc/uc8859_7.o ../../../../../src/codepage/obj/os2/gcc/uc8859_8.o ../../../../../src/codepage/obj/os2/gcc/uc8859_9.o ../../../../../src/codepage/obj/os2/gcc/ucascii.o ../../../../../src/codepage/obj/os2/gcc/ucatari.o ../../../../../src/codepage/obj/os2/gcc/uckam.o ../../../../../src/codepage/obj/os2/gcc/uckoi8.o ../../../../../src/codepage/obj/os2/gcc/uckoi8u.o ../../../../../src/codepage/obj/os2/gcc/ucmacce.o ../../../../../src/codepage/obj/os2/gcc/ucmaccyr.o ../../../../../src
/codepage/obj/os2/gcc/ucmacgrk.o ../../../../../src/codepage/obj/os2/gcc/ucmacice.o ../../../../../src/codepage/obj/os2/gcc/ucmacrom.o ../../../../../src/codepage/obj/os2/gcc/ucmactrk.o ../../../../../src/codepage/obj/os2/gcc/ucmaz.o ../../../../../src/codepage/obj/os2/gcc/ucmik.o ../../../../../src/codepage/obj/os2/gcc/ucnext.o ../../../../../src/hbextern/obj/os2/gcc/hbextern.o ../../../../../src/rdd/obj/os2/gcc/dbcmd.o ../../../../../src/rdd/obj/os2/gcc/dbcmd53.o ../../../../../src/rdd/obj/os2/gcc/dbcmdhb.o ../../../../../src/rdd/obj/os2/gcc/dbdelim.o ../../../../../src/rdd/obj/os2/gcc/dbdetach.o ../../../../../src/rdd/obj/os2/gcc/dbdrop.o ../../../../../src/rdd/obj/os2/gcc/dbexists.o ../../../../../src/rdd/obj/os2/gcc/dbf1.o ../../../../../src/rdd/obj/os2/gcc/dbfuncs.o ../../../../../src/rdd/obj/os2/gcc/dbjoin.o ../../../../../src/rdd/obj/os2/gcc/dblist.o ../../../../../src/rdd/obj/os2/gcc/dbnubs.o ../../../../../src/rdd/obj/os2/gcc/dbrename.o ../../../../../src/rdd/obj/os
2/gcc/dbsdf.o ../../../../../src/rdd/obj/os2/gcc/dbsort.o ../../../../../src/rdd/obj/os2/gcc/dbsql.o ../../../../../src/rdd/obj/os2/gcc/dbstrux.o ../../../../../src/rdd/obj/os2/gcc/dbstruxu.o ../../../../../src/rdd/obj/os2/gcc/dbtotal.o ../../../../../src/rdd/obj/os2/gcc/dbupdat.o ../../../../../src/rdd/obj/os2/gcc/delim1.o ../../../../../src/rdd/obj/os2/gcc/fieldhb.o ../../../../../src/rdd/obj/os2/gcc/hbdbsort.o ../../../../../src/rdd/obj/os2/gcc/ordcount.o ../../../../../src/rdd/obj/os2/gcc/ordwldsk.o ../../../../../src/rdd/obj/os2/gcc/rddinfo.o ../../../../../src/rdd/obj/os2/gcc/rddord.o ../../../../../src/rdd/obj/os2/gcc/rddordu.o ../../../../../src/rdd/obj/os2/gcc/rddsys.o ../../../../../src/rdd/obj/os2/gcc/sdf1.o ../../../../../src/rdd/obj/os2/gcc/wacore.o ../../../../../src/rdd/obj/os2/gcc/wafunc.o ../../../../../src/rdd/obj/os2/gcc/workarea.o ../../../../../src/rdd/dbfntx/obj/os2/gcc/dbfntx1.o ../../../../../src/rdd/dbfnsx/obj/os2/gcc/dbfnsx1.o ../../../../../src/rdd/
dbfcdx/obj/os2/gcc/dbfcdx1.o ../../../../../src/rdd/dbfcdx/obj/os2/gcc/sixcdx1.o ../../../../../src/rdd/dbffpt/obj/os2/gcc/dbffpt1.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcompat.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcompr.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcrypt.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxdate.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxfname.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxini.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxord.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxredir.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxsem.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxtable.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxtrig.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxutil.o ../../../../../src/rdd/hsx/obj/os2/gcc/cftsfunc.o ../../../../../src/rdd/hsx/obj/os2/gcc/hsx.o ../../../../../src/rdd/usrrdd/obj/os2/gcc/usrrdd.o ../../../../../src/rtl/gtcgi/obj/os2/gcc/gtcgi.o ../../../../../src/rtl/gtpca/obj/os2/gcc/gtpca.o ../../../
../../src/rtl/gtstd/obj/os2/gcc/gtstd.o ../../../../../src/rtl/gtos2/obj/os2/gcc/gtos2.o ../../../../../external/pcre/obj/os2/gcc/chartabs.o ../../../../../external/pcre/obj/os2/gcc/pcrecomp.o ../../../../../external/pcre/obj/os2/gcc/pcreconf.o ../../../../../external/pcre/obj/os2/gcc/pcredfa.o ../../../../../external/pcre/obj/os2/gcc/pcreexec.o ../../../../../external/pcre/obj/os2/gcc/pcrefinf.o ../../../../../external/pcre/obj/os2/gcc/pcreget.o ../../../../../external/pcre/obj/os2/gcc/pcreglob.o ../../../../../external/pcre/obj/os2/gcc/pcreinfo.o ../../../../../external/pcre/obj/os2/gcc/pcremktb.o ../../../../../external/pcre/obj/os2/gcc/pcrenewl.o ../../../../../external/pcre/obj/os2/gcc/pcreoutf.o ../../../../../external/pcre/obj/os2/gcc/pcrerefc.o ../../../../../external/pcre/obj/os2/gcc/pcrestud.o ../../../../../external/pcre/obj/os2/gcc/pcretabs.o ../../../../../external/pcre/obj/os2/gcc/pcretryf.o ../../../../../external/pcre/obj/os2/gcc/pcreucd.o ../../../../../exter
nal/pcre/obj/os2/gcc/pcrever.o ../../../../../external/pcre/obj/os2/gcc/pcrevutf.o ../../../../../external/pcre/obj/os2/gcc/pcrexcls.o ../../../../../external/zlib/obj/os2/gcc/adler32.o ../../../../../external/zlib/obj/os2/gcc/compress.o ../../../../../external/zlib/obj/os2/gcc/crc32.o ../../../../../external/zlib/obj/os2/gcc/deflate.o ../../../../../external/zlib/obj/os2/gcc/gzio.o ../../../../../external/zlib/obj/os2/gcc/infback.o ../../../../../external/zlib/obj/os2/gcc/inffast.o ../../../../../external/zlib/obj/os2/gcc/inflate.o ../../../../../external/zlib/obj/os2/gcc/inftrees.o ../../../../../external/zlib/obj/os2/gcc/trees.o ../../../../../external/zlib/obj/os2/gcc/uncompr.o ../../../../../external/zlib/obj/os2/gcc/zutil.o ../../../../../src/vm/obj/os2/gcc/arrayshb.o ../../../../../src/vm/obj/os2/gcc/asort.o ../../../../../src/vm/obj/os2/gcc/break.o ../../../../../src/vm/obj/os2/gcc/cmdarg.o ../../../../../src/vm/obj/os2/gcc/debug.o ../../../../../src/vm/obj/os2/gcc/dy
nlibhb.o ../../../../../src/vm/obj/os2/gcc/eval.o ../../../../../src/vm/obj/os2/gcc/evalhb.o ../../../../../src/vm/obj/os2/gcc/extrap.o ../../../../../src/vm/obj/os2/gcc/harbinit.o ../../../../../src/vm/obj/os2/gcc/hashfunc.o ../../../../../src/vm/obj/os2/gcc/hvmall.o ../../../../../src/vm/obj/os2/gcc/initexit.o ../../../../../src/vm/obj/os2/gcc/initsymb.o ../../../../../src/vm/obj/os2/gcc/mainstd.o ../../../../../src/vm/obj/os2/gcc/memvclip.o ../../../../../src/vm/obj/os2/gcc/pcount.o ../../../../../src/vm/obj/os2/gcc/proc.o ../../../../../src/vm/obj/os2/gcc/procaddr.o ../../../../../src/vm/obj/os2/gcc/pvalue.o ../../../../../src/vm/obj/os2/gcc/runner.o ../../../../../src/vm/obj/os2/gcc/vm.o __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2
>> ------------>8--------------------emximp -o ../../../../../lib/os2/gcc/harbour.a ../../../../../bin/os2/gcc/harbour.dll
>> emximp: Cannot open input file `../../../../../bin/os2/gcc/harbour.dll'
>> make[2]: *** [harbour.dll] Error 2
>> make[1]: *** [descend] Error 2
>> make: *** [dynlib] Error 2
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb 22 05:19:51 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 05:20:06 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx>
	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>
	<4B8252AD.9000900@libero.it>
	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
Message-ID: <4B825A47.1060909@libero.it>

Viktor,

but, a lot of references could be simplified, for example:

../../../../../src/common/obj/os2/gcc/expropt2.o

all common objects are inside src/common/obj/os2/gcc an so they could be
referenced as src/common/obj/os2/*.o

If gcc does not expand them and leaves to ld this task than we should be ok!

Maurilio.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Mon Feb 22 05:25:52 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb 22 05:25:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <4B81FBC9.6080108@gmail.com>
References: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>
	<4B808B6E.7020301@dbtopas.lt> <4B819B43.4090501@gmail.com>
	<74196265-3668-4E6E-90FC-A63F01002772@syenar.hu>
	<4B81FBC9.6080108@gmail.com>
Message-ID: <20100222102552.GA17875@linux-4bod.home.aster.pl>

On Mon, 22 Feb 2010, Xavi wrote:

Hi Xavi,

> Okay. Well..., If it's not possible know the type of adapter
> (Ethernet, Token Ring, ...) on other OS not Windows. :(

It's is possible. Just like many other things which still do
not exists in MS-Windows and we will have to wait next 10
years until MS discover them and add some support for it in
WinSOCK.X.Y.Z which will work correctly in version X.Y.Z + N.
There is only one question: Why we should add such things?
The fact that sth is possible on some platforms does not mean
that it has to be implemented.

> #include "hbsocket.ch"
> proc main( noAlias )
>     local iface
>     ? os(), version()
>     ? "interfaces:"
>     for each iface in hb_inetIfInfo( !empty( noAlias ), 0 )
>        ? "Family .... :", iface[HB_SOCKET_IFINFO_FAMILY]
>        ? "Name ...... :", iface[HB_SOCKET_IFINFO_NAME]
>        ? "Flags ..... :", iface[HB_SOCKET_IFINFO_FLAGS]
>        ? "Address ... :", iface[HB_SOCKET_IFINFO_ADDR]
>        ? "Mask ...... :", iface[HB_SOCKET_IFINFO_NETMASK]
>        ? "Bradcast .. :", iface[HB_SOCKET_IFINFO_BROADCAST]
>        ? "P2P ........:", iface[HB_SOCKET_IFINFO_P2PADDR]
>        ? "MAC ....... :", iface[HB_SOCKET_IFINFO_HWADDR]
>        ? "Gateway ... :", iface[HB_SOCKET_IFINFO_GATEWAY]
>        ? '-------------------------------------------------------'
>     next
>     ?
>     Wait
> return

Why you added HB_SOCKET_IFINFO_GATEWAY?
What programs do you plan to write which will need such information?
How do you know that which gateway belongs to each IP address?
It's possible that aliases uses different gateways (at least in normal
systems). I do not see any code which tries to bind gateway addresses
with IP addresses so HB_SOCKET_IFINFO_GATEWAY contains correct
information only when the same gateway is used by all aliases.

MS-Windows does not have interface names as other hosts. AFAIR windows
ports of some *nix tools like ifconfing used IP address as interface
name so I decided to use the same. You added code which replace this
IP addres with "localhost" string for LOOPBACK interfaces. Why?
Do you know that it's possible to have more then one LOOPBACK interface
with different addresses?

You created exception with socket initialization for single function only.
This code should be removed. We may decide to add automatic socket
initialization to hbsocket.c code in the future but in such case it will
have to be global feature not hacks in each single function.
Now we have automatic initialization for HB_INET*() PRG functions and
here the problem should be fixed. It's enough to add:
   HB_INET_INITIALIZE();
to HB_INETIFINFO() before hb_socketGetIFaces(). I'll commit the fix
in a while. Thank you very much for information about the problem.

hb_arrayGetC() returns address to dynamically allocated memory block
which should be freed by hb_itemFreeC(). Now this code causes memory
leak.

Is iphlpapi.dll loaded by application at startup and keep alive for
whole application running time?
If not then storing pointer to GetAdaptersInfo() in static variable
seems to be a little bit risk because such address may change.
BTW in which Windows version GetAdaptersInfo() was added?

This code does not detect aliases. It has to be redesigned to eliminate
them.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb 22 05:29:38 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 05:29:50 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B825A47.1060909@libero.it>
References: <4B81F08B.3020308@mail.udg.mx>
	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>
	<4B8252AD.9000900@libero.it>
	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
	<4B825A47.1060909@libero.it>
Message-ID: <90E6243B-A6E6-4A3B-9E44-13C84501383E@syenar.hu>

Hi Maurilio,

> but, a lot of references could be simplified, for example:
> 
> ../../../../../src/common/obj/os2/gcc/expropt2.o
> 
> all common objects are inside src/common/obj/os2/gcc an so they could be
> referenced as src/common/obj/os2/*.o
> 
> If gcc does not expand them and leaves to ld this task than we should be ok!

Referencing objects using wildcards is very error prone, 
and cannot be considered good practice. Build process just 
drops control over what's included and what's not. F.e. 
it only works reliably for clean builds. (Also, *.o picks 
everything, while we only need *_dyn.<obj> on some other 
platforms, so it's also not portable and generic solution)
So I don't want to do such simplification, even if it's 
allowed by some tools.

I still think the solution here is fixing OS/2 toolchain.
Spending time to develop hacks to work around such 3rd 
party bugs is not very optimal.

Brgds,
Viktor

From marcobra.ubuntu at gmail.com  Mon Feb 22 05:32:00 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 05:32:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>

Hbide from rev. 13957 playing with Document Viewer Dock

i set as Harbour installation root "/home/ubuntu/src/harbour" and i live the
"doc folder prefix" empty  pressing the green upper row i get this runtime
error

Unrecoverable error 6005: Exception SIGSEGV at address 0x5d
Called from QT_QTREEWIDGET_SETCURRENTITEM(0)
Called from QTREEWIDGET:SETCURRENTITEM(0) in ../../../TQTreeWidget.prg
Called from IDEHARBOURHELP:EXECEVENT(428) in ideharbourhelp.prg
Called from (b)IDEHARBOURHELP_INSTALLSIGNALS(336) in ideharbourhelp.prg
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
Called from APPEVENT(0) in ../../../xbpgeneric.prg
Called from HBIDE:CREATE(417) in hbide.prg
Called from MAIN(110) in hbide.prg

Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/ef188c40/attachment.html
From maurilio.longo at libero.it  Mon Feb 22 05:34:43 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 05:34:55 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <90E6243B-A6E6-4A3B-9E44-13C84501383E@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B825A47.1060909@libero.it>
	<90E6243B-A6E6-4A3B-9E44-13C84501383E@syenar.hu>
Message-ID: <4B825DC3.4010700@libero.it>

Viktor,

Viktor Szak?ts wrote:
> Referencing objects using wildcards is very error prone, 
> and cannot be considered good practice. Build process just 
> drops control over what's included and what's not. F.e. 
> it only works reliably for clean builds. (Also, *.o picks 
> everything, while we only need *_dyn.<obj> on some other 
> platforms, so it's also not portable and generic solution)
> So I don't want to do such simplification, even if it's 
> allowed by some tools.
> 
> I still think the solution here is fixing OS/2 toolchain.
> Spending time to develop hacks to work around such 3rd 
> party bugs is not very optimal.
> 

Sure, I agree with you, I'm just fearing it could take _a long_ time before
the tool chain can be fixed, so I was looking at this as a work-around for the
OS/2 platform only.

Anyway, given we have the command line for ld we should be able to make it
work even with full objects specification.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Feb 22 05:36:47 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 05:36:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <20100222102552.GA17875@linux-4bod.home.aster.pl>
References: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>
	<4B808B6E.7020301@dbtopas.lt> <4B819B43.4090501@gmail.com>
	<74196265-3668-4E6E-90FC-A63F01002772@syenar.hu>
	<4B81FBC9.6080108@gmail.com>
	<20100222102552.GA17875@linux-4bod.home.aster.pl>
Message-ID: <F92C2376-F725-4DAE-8CF7-68A53836BF02@syenar.hu>

Hi Przemek,

> If not then storing pointer to GetAdaptersInfo() in static variable
> seems to be a little bit risk because such address may change.
> BTW in which Windows version GetAdaptersInfo() was added?

The whole .dll is not available on my Win95 system, but 
it's there already on Win98.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Mon Feb 22 05:58:58 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Feb 22 05:59:06 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>
References: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>
Message-ID: <9257026e1002220258r1eb88f9agfefb68404297ca0f@mail.gmail.com>

On Sat, Feb 20, 2010 at 6:07 PM,  <druzus@users.sourceforge.net> wrote:

> ? ? ?Please use this code on different non MS-Windows platforms:
>
> ? ? ? ? ? ?proc main( noAlias )
> ? ? ? ? ? ? ? local iface
> ? ? ? ? ? ? ? ? os(), version()
> ? ? ? ? ? ? ? ? "interfaces:"
> ? ? ? ? ? ? ? for each iface in hb_inetIfInfo( !empty( noAlias ), 0 )
> ? ? ? ? ? ? ? ? ?? hb_valToExp( iface )
> ? ? ? ? ? ? ? next
> ? ? ? ? ? ? ? ?
> ? ? ? ? ? ?return
>
> ? ? ?and check if it returns correct information about available
> ? ? ?interfaces.

Many thanks, it works as expected under Ubuntu 10.04 i386 alpha status
and Centos 5.4 i386.

best regards,
Lorenzo
From maurilio.longo at libero.it  Mon Feb 22 05:59:28 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 05:59:39 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B825DC3.4010700@libero.it>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B825A47.1060909@libero.it>	<90E6243B-A6E6-4A3B-9E44-13C84501383E@syenar.hu>
	<4B825DC3.4010700@libero.it>
Message-ID: <4B826390.3040904@libero.it>

Anyway,

(E:\REPOSITORY\HARBOUR\src\dynlib\obj\os2\gcc)ld -Zdll @__dyn__.tmp

this fails with the runtime symbols not found, so, ld supports @filename to
list the needed .o files.

Maurilio.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From niki at synel.co.il  Mon Feb 22 06:02:32 2010
From: niki at synel.co.il (Chen Kedem)
Date: Mon Feb 22 06:02:46 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D90CF8C5E@Mail-yoq.SYNEL-COMPANY.LTD>

> BTW in which Windows version GetAdaptersInfo() was added?

It is missing from Win95 (and BCB 3.0)

It exists in WinNT4.0 inside iphlpapi.dll (and in BCB 5.0 iphlpapi.h but is not
documented in Win32 API that arrive with BCB 5.0)

  Chen.
From vailtom at gmail.com  Mon Feb 22 06:03:33 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Feb 22 06:04:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>

Pritpal, your work is excellent! But it would be the case for this
doc/writer feature being mounted on an application separately? I think
the tool is very good, but would be much better if we could work with
a maximized window and a toolbar specifically for this application ...
I've been thinking and I think it would be much better, more
productive (and less confusing) to separate it into two separate
applications... least because they have different objectives. What do
you think?

Again congratulations,
Vailton Renato
From maurilio.longo at libero.it  Mon Feb 22 06:16:46 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 06:16:59 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B826390.3040904@libero.it>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B825A47.1060909@libero.it>	<90E6243B-A6E6-4A3B-9E44-13C84501383E@syenar.hu>	<4B825DC3.4010700@libero.it>
	<4B826390.3040904@libero.it>
Message-ID: <4B82679E.4090306@libero.it>

Ok,

this command

ld -Zdll -s -o harbour.dll E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o
-L../../../../../lib/os2/gcc
-LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
-LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib
@__dyn__.tmp __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias
-lc_dll -los2 -lgcc_so_d

builds harbour.dll without errors, now, it remains to be seen if the .dll works .)

Maurilio.


Maurilio Longo wrote:
> Anyway,
> 
> (E:\REPOSITORY\HARBOUR\src\dynlib\obj\os2\gcc)ld -Zdll @__dyn__.tmp
> 
> this fails with the runtime symbols not found, so, ld supports @filename to
> list the needed .o files.
> 
> Maurilio.
> 
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From marcobra.ubuntu at gmail.com  Mon Feb 22 06:21:56 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 06:22:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
	<531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>
Message-ID: <fd76479f1002220321u2a070f1ufcca29de560b7a81@mail.gmail.com>

Pritbal please consider.

I agree with Renato

I hope in something RAD functions/tools in hbide

Congratulation.

Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/72cfb63d/attachment.html
From mbelgrano at deltain.it  Mon Feb 22 06:24:15 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Feb 22 06:24:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com> 
	<531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>
Message-ID: <609353e71002220324t2445aa9bw69b423918fe9d556@mail.gmail.com>

Imo is right the idea having one exe
Hbide is Good for read and modify  all harbour source and read and modify
also Documentation

If you read source you can start documenting, and updating source
When you modify documentation you require also search find in file in
c\harbour  and subdir and also you need basic editing capability

I Think with future/possible a svn integration (like visual studio) we can
easy upload harbour modification or modification to documentation
Maj be that you think that is not same windows to be clear, docking windows
require also same idea to be productive, ...in first time i think that must
be only two, when you open one automatically close another...
How manage Multiple important activity opened ?
Think that the problem is Have different size

2010/2/22 Vailton Renato <vailtom@gmail.com>

> Pritpal, your work is excellent! But it would be the case for this
> doc/writer feature being mounted on an application separately? I think
> the tool is very good, but would be much better if we could work with
> a maximized window and a toolbar specifically for this application ...
> I've been thinking and I think it would be much better, more
> productive (and less confusing) to separate it into two separate
> applications... least because they have different objectives. What do
> you think?
>
> Again congratulations,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/de65ad10/attachment.html
From dmacias at mail.udg.mx  Mon Feb 22 06:55:07 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 06:55:38 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B82709B.7060308@mail.udg.mx>

Maurilio:

 >it seems it does not find os2.a and rtl c library.

When we call ld.exe/emxomfld.exe directly perhaps is missing all 
environment values used by gcc settings

 >I was going to create a ld.exe which simply spits out what it received 
 >from gcc so we can see what it needs :)


 >here it is my ld.exe while building ld.exe itself after substituing it
 >with itself :))

 >(E:\harbour\ld)hbmk2 -st -shared ld.prg
 >hbmk2: Processing environment options: -mt -compiler=gcc

-st and -mt  ?

[...]

 >my ld.exe is a simple

 >function main( ... )
 >  ? ...
 >return 0

 >So, we can see that it points to a lot of libs, now let's see what
 >happens when it is called in building harbour.dll

OK

 >And here, in all of its beauty, the call to build harbour.dll
 >
 >:)

 >gcc  -shared -L../../../../../lib/os2/gcc  -o
 >../../../../../bin/os2/gcc/harbour.dll @__dyn__.tmp __dyn__.def
 >-lsocket -s

 >------------8<--------------------
 >-Zdll -o ../../../../../bin/os2/gcc/harbour.dll -s 
 >E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o -L../../../../../lib/os2/gcc 
 >-LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 
 >-LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib 
 >-LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5
 >-LE:/SVILUPPO/GCC/V3.3.5/USR/lib
 >-LE:/REPOSITORY/HARBOUR/src/dynlib/obj/os2/gcc
 >-LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5
 >-LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib
 >-LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib
 >-LE:/Sviluppo/gcc/v3.3.5/usr/lib
 >../../../../../src/common/obj/os2/gcc/expropt1.o

[...]

 >../../../../../src/vm/obj/os2/gcc/runner.o
 >../../../../../src/vm/obj/os2/gcc/vm.o __dyn__.def -lsocket -lc_alias
 >-lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias
 >-lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias
 >-lc_dll -los2
 >------------>8--------------------


You obtain same info as I reported before using -v switch in gcc.
See next part of original message
  You can see detailed info in messages from:
    OS/2: harbourm.dll
    4/10/09 07:28 AM

 >>>==========

At last gcc is expanding __dyn__.tmp generating a long expression

I am intrigued with long expression reported as obtained with -v in gcc

Recalling the parsed structure:
-----------------------

   emxomfld.exe -Zdll
-o ../../../../../bin/os2/gcc/harbour.dll
E:/usr/lib/dll0.obj
-L../../../../../lib/os2/gcc
-LE:/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
-LE:/usr/lib/gcc-lib
-LE:/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
-LE:/usr/lib
-LE:/harbour909f/harbour/source/dynlib/obj/os2/gcc
-LE:/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5
-LE:/usr/i386-pc-os2-emx/lib
-LE:/USR/i386-pc-os2-emx/lib
-LE:/usr/lib
-LE:/usr/lib

..\..\..\..\..\source\common\obj\os2\gcc\expropt1.obj

[rest of .obj files list]

..\..\..\..\..\source\vm\obj\os2\gcc\vm.obj
__dyn__.def -lsocket
-lc_alias
-lc_dll
-los2
-lgcc_so_d
-lc_alias
-lc_dll
-los2
-lend
--------------------------

excluding "ld.exe" or "emxomfld.exe" rest are send to ld or emxomfld
Is a long chain
<<<<==========

What I see as differences with your and my results
- You are using:
     gcc  -shared ... -lsocket -s
   and I am using
     gcc  -shared -Zomf... -lsocket
   -Zomf is explained by OMF type, but -s ?
- In my case gcc add this list
   -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lend
   while in your case is:
    -lc_alias
    -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias
    -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias
    -lc_dll -los2

Long chain of:
   [rest of .obj files list]
is what surpass 32K limit, as found before and Knut explained

 >Ok,

 >this command

 >ld -Zdll -s -o harbour.dll E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o
 >-L../../../../../lib/os2/gcc
 >-LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
 >-LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib
 >-LE:/Sviluppo/gcc/v3.3.5/usr/lib
 >@__dyn__.tmp __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc_so_d
 >-lc_alias
 >-lc_dll -los2 -lgcc_so_d

 >builds harbour.dll without errors,

You are adding the rest of environment values used by gcc settings, as 
gcc does when it call ld.exe/emxomfld.exe

It can work, but taking care of all values used in each compiler environment
For example, for os2gcc442:

-------------------------
PATH_EMXPGCC=E:\usr
CCENV=EMX
BUILD_ENV=EMX
BUILD_PLATFORM=OS2
DPATH=E:\usr\local442\lib;E:\usr\lib;E:\MPTN; ...
PATH=E:\usr\local442\libexec\gcc\i386-pc-os2-emx\4.4.2;E:\usr\local442\bin;E:\usr\bin; 
...
C_INCLUDE_PATH=E:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2/include;E:/usr/local442/include;E:/usr/include;
CPLUS_INCLUDE_PATH=E:/usr/local442/include/c++/4.4.2;E:/usr/local442/include/c++/4.4.2/i386-pc-os2-emx;E:/usr/local442/include/c++/4.4.2/backward;E:/usr/local442/include;E:/usr/include;
LIBRARY_PATH=E:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2;E:/usr/local442/lib;E:/usr/lib;
INFOPATH=E:/usr/local442/info;E:/usr/info;
PROTODIR=E:/usr/include/c++/gen
BEGINLIBPATH=E:\usr\local442\lib;E:\usr\lib;
-------------------------

 >now, it remains to be seen if the .dll works .)

Can you post a code sample for test .dll ?
I do not know how it is used

David Macias


From dmacias at mail.udg.mx  Mon Feb 22 06:59:35 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 07:00:15 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13937] trunk/harbour
Message-ID: <4B8271A7.9080300@mail.udg.mx>

Lorenzo:

>Many thanks, it works as expected under Ubuntu 10.04 i386 alpha status
>and Centos 5.4 i386.

Can you post output ? Just to compare with OS/2 output

David Macias

From maurilio.longo at libero.it  Mon Feb 22 07:01:55 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 07:02:10 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx>
	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>
	<4B8252AD.9000900@libero.it>
	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
Message-ID: <4B827233.40005@libero.it>

Viktor,

in this path

-LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5

E:/SVILUPPO/GCC/V3.3.5/ is where I decided to put GCC on my system, while the
last 3.3.5 in the path depends on GCC version and so it changes from release
to release.

So we have to parse LIBRARY_PATH to add -L options to ld command line, but it
is not enough since we need an object, dll0.o, which is inside

E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o

which could be inferred from LIBRARY_PATH, but I don't know whether the new
versions of GCC have it in the same position.

This is something that has to be hard-coded inside gcc when used as dl.exe
front end which should be extracted from it in some way.

Best regards.

Maurilio.

Viktor Szak?ts wrote:
> Nice.
> 
> Now all the absolute paths to gcc lib locations need 
> to be sorted out. I can add support for $(HB_COMP_PATH_PUB) 
> variable for os2/gcc, but this is not enough, as the 
> relative paths also hold the gcc version number. Plus 
> the logic should be checked for each gcc version, as it 
> may change along the way.
> 
> Brgds,
> Viktor
> 
> On 2010 Feb 22, at 10:47, Maurilio Longo wrote:
> 
>> And here, in all of its beauty, the call to build harbour.dll
>>
>> :)
>>
>> Maurilio.
>>
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> ! Building Harbour 2.1.0dev from source - http://www.harbour-project.org
>> ! MAKE: make 3.81 D:\OS2\CMD.EXE   
>> ! HB_BIN_INSTALL: e:\harbour\bin
>> ! HB_LIB_INSTALL: e:\harbour\lib
>> ! HB_INC_INSTALL: e:\harbour\include
>> ! HB_DOC_INSTALL: e:\harbour\doc
>> ! HB_BUILD_SHARED: yes
>> ! HB_BUILD_STRIP: all
>> ! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
>> ! HB_PLATFORM: os2 (x86) (autodetected)
>> ! HB_COMPILER: gcc 
>> ! Component: 'zlib' found in E:/REPOSITORY/HARBOUR/external/zlib (local)
>> ! Component: 'pcre' found in E:/REPOSITORY/HARBOUR/external/pcre (local)
>> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
>> ! Component: 'gpm' not supported on os2 platform
>> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
>> ! Component: 'curses' not supported on os2 platform
>> ! Component: 'x11' not found. Configure with HB_WITH_X11.
>> ! Component: 'wattcp/watt-32' not supported on os2 platform
>> ! HB_INSTALL_PREFIX automatically set to: E:\REPOSITORY\HARBOUR
>> make[2]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbcplr.a' is up to date.
>> gcc  -L../../../../../lib/os2/gcc   -o ..\..\..\..\..\bin\os2\gcc\harbour.exe harbour.o -lhbcplr -lhbpp -lhbnortl -lhbcommon -s
>>
>> ------------8<--------------------
>> -o ..\..\..\..\..\bin\os2\gcc\harbour.exe -s E:/SVILUPPO/GCC/V3.3.5/USR/lib/crt0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -LE:/REPOSITORY/HARBOUR/src/main/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib harbour.o -lhbcplr -lhbpp -lhbnortl -lhbcommon -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2
>> ------------>8--------------------make[2]: `../../../../../lib/os2/gcc/hbvm.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbmainstd.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbmaindllh.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbvmmt.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbrtl.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/gtcgi.a' is up to date.
>> ! 'gtcrs' library skipped (component not found)
>> ! 'gtdos' library skipped (platform not supported)
>> ! 'gtgui' library skipped (platform not supported)
>> make[3]: `../../../../../../lib/os2/gcc/gtos2.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/gtpca.a' is up to date.
>> ! 'gtsln' library skipped (component not found)
>> make[3]: `../../../../../../lib/os2/gcc/gtstd.a' is up to date.
>> ! 'gttrm' library skipped (platform or compiler not supported)
>> ! 'gtwin' library skipped (platform not supported)
>> ! 'gtwvt' library skipped (platform not supported)
>> ! 'gtxwc' library skipped (component not found)
>> make[2]: `../../../../../lib/os2/gcc/hbmacro.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbcpage.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hblang.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbrdd.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbnulrdd.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/rddntx.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/rddnsx.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/rddcdx.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/rddfpt.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbsix.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbhsx.a' is up to date.
>> make[3]: `../../../../../../lib/os2/gcc/hbusrrdd.a' is up to date.
>> make[3]: `../../../../../../../lib/os2/gcc/hbuddall.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbextern.a' is up to date.
>> make[2]: `../../../../../lib/os2/gcc/hbdebug.a' is up to date.
>> gcc  -shared -L../../../../../lib/os2/gcc  -o ../../../../../bin/os2/gcc/harbour.dll @__dyn__.tmp __dyn__.def -lsocket -s
>>
>> ------------8<--------------------
>> -Zdll -o ../../../../../bin/os2/gcc/harbour.dll -s E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -LE:/REPOSITORY/HARBOUR/src/dynlib/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib ../../../../../src/common/obj/os2/gcc/expropt1.o ../../../../../src/common/obj/os2/gcc/expropt2.o ../../../../../src/common/obj/os2/gcc/hbarch.o ../../../../../src/common/obj/os2/gcc/hbdate.o ../../../../../src/common/obj/os2/gcc/hbffind.o ../../../../../src/common/obj/os2/gcc/hbfopen.o ../../../../../src/common/obj/os2/gcc/hbfsapi.o ../../../../../src/common/obj/os2/gcc/hbgete.o ../../../../../src/common/obj/os2/gcc/hbhash
.o ../../../../../src/common/obj/os2/gcc/hbmem.o ../../../../../src/common/obj/os2/gcc/hbprintf.o ../../../../../src/common/obj/os2/gcc/hbstr.o ../../../../../src/common/obj/os2/gcc/hbtrace.o ../../../../../src/common/obj/os2/gcc/hbver.o ../../../../../src/common/obj/os2/gcc/hbverdsp.o ../../../../../src/common/obj/os2/gcc/hbwin.o ../../../../../src/common/obj/os2/gcc/hbwince.o ../../../../../src/common/obj/os2/gcc/reserved.o ../../../../../src/common/obj/os2/gcc/strwild.o ../../../../../src/pp/obj/os2/gcc/ppcore.o ../../../../../src/pp/obj/os2/gcc/pplib.o ../../../../../src/pp/obj/os2/gcc/pplib2.o ../../../../../src/pp/obj/os2/gcc/pplib3.o ../../../../../src/pp/obj/os2/gcc/pptable.o ../../../../../src/rtl/obj/os2/gcc/abs.o ../../../../../src/rtl/obj/os2/gcc/accept.o ../../../../../src/rtl/obj/os2/gcc/achoice.o ../../../../../src/rtl/obj/os2/gcc/adir.o ../../../../../src/rtl/obj/os2/gcc/alert.o ../../../../../src/rtl/obj/os2/gcc/altd.o ../../../../../src/rtl/obj/os2/gcc/ampm.
o ../../../../../src/rtl/obj/os2/gcc/at.o ../../../../../src/rtl/obj/os2/gcc/ati.o ../../../../../src/rtl/obj/os2/gcc/base64.o ../../../../../src/rtl/obj/os2/gcc/base64c.o ../../../../../src/rtl/obj/os2/gcc/binnum.o ../../../../../src/rtl/obj/os2/gcc/box.o ../../../../../src/rtl/obj/os2/gcc/browdb.o ../../../../../src/rtl/obj/os2/gcc/browse.o ../../../../../src/rtl/obj/os2/gcc/cdpapi.o ../../../../../src/rtl/obj/os2/gcc/cdpapihb.o ../../../../../src/rtl/obj/os2/gcc/checkbox.o ../../../../../src/rtl/obj/os2/gcc/chrasc.o ../../../../../src/rtl/obj/os2/gcc/color53.o ../../../../../src/rtl/obj/os2/gcc/colorind.o ../../../../../src/rtl/obj/os2/gcc/console.o ../../../../../src/rtl/obj/os2/gcc/copyfile.o ../../../../../src/rtl/obj/os2/gcc/cputime.o ../../../../../src/rtl/obj/os2/gcc/datec.o ../../../../../src/rtl/obj/os2/gcc/dates.o ../../../../../src/rtl/obj/os2/gcc/dateshb.o ../../../../../src/rtl/obj/os2/gcc/datesx.o ../../../../../src/rtl/obj/os2/gcc/dbedit.o ../../../../../src/
rtl/obj/os2/gcc/defpath.o ../../../../../src/rtl/obj/os2/gcc/defpathu.o ../../../../../src/rtl/obj/os2/gcc/descend.o ../../../../../src/rtl/obj/os2/gcc/devoutp.o ../../../../../src/rtl/obj/os2/gcc/dircmd.o ../../../../../src/rtl/obj/os2/gcc/dirdrive.o ../../../../../src/rtl/obj/os2/gcc/direct.o ../../../../../src/rtl/obj/os2/gcc/dirscan.o ../../../../../src/rtl/obj/os2/gcc/diskspac.o ../../../../../src/rtl/obj/os2/gcc/disksphb.o ../../../../../src/rtl/obj/os2/gcc/do.o ../../../../../src/rtl/obj/os2/gcc/einstv52.o ../../../../../src/rtl/obj/os2/gcc/einstvar.o ../../../../../src/rtl/obj/os2/gcc/einstvau.o ../../../../../src/rtl/obj/os2/gcc/empty.o ../../../../../src/rtl/obj/os2/gcc/errapi.o ../../../../../src/rtl/obj/os2/gcc/errapiu.o ../../../../../src/rtl/obj/os2/gcc/errint.o ../../../../../src/rtl/obj/os2/gcc/errintlo.o ../../../../../src/rtl/obj/os2/gcc/errsys.o ../../../../../src/rtl/obj/os2/gcc/fieldbl.o ../../../../../src/rtl/obj/os2/gcc/file.o ../../../../../src/rtl/obj
/os2/gcc/filebuf.o ../../../../../src/rtl/obj/os2/gcc/filehb.o ../../../../../src/rtl/obj/os2/gcc/filesys.o ../../../../../src/rtl/obj/os2/gcc/fkmax.o ../../../../../src/rtl/obj/os2/gcc/fmhb.o ../../../../../src/rtl/obj/os2/gcc/fnsplit.o ../../../../../src/rtl/obj/os2/gcc/fscopy.o ../../../../../src/rtl/obj/os2/gcc/fserr.o ../../../../../src/rtl/obj/os2/gcc/fssize.o ../../../../../src/rtl/obj/os2/gcc/fstemp.o ../../../../../src/rtl/obj/os2/gcc/gete.o ../../../../../src/rtl/obj/os2/gcc/getlist.o ../../../../../src/rtl/obj/os2/gcc/getsys.o ../../../../../src/rtl/obj/os2/gcc/getsys53.o ../../../../../src/rtl/obj/os2/gcc/gt.o ../../../../../src/rtl/obj/os2/gcc/gtapi.o ../../../../../src/rtl/obj/os2/gcc/gtchrmap.o ../../../../../src/rtl/obj/os2/gcc/gtclip.o ../../../../../src/rtl/obj/os2/gcc/gtfunc.o ../../../../../src/rtl/obj/os2/gcc/gtkbstat.o ../../../../../src/rtl/obj/os2/gcc/gtkeycod.o ../../../../../src/rtl/obj/os2/gcc/gtsys.o ../../../../../src/rtl/obj/os2/gcc/gttone.o ../.
./../../../src/rtl/obj/os2/gcc/gui.o ../../../../../src/rtl/obj/os2/gcc/gx.o ../../../../../src/rtl/obj/os2/gcc/hardcr.o ../../../../../src/rtl/obj/os2/gcc/hbadler.o ../../../../../src/rtl/obj/os2/gcc/hbascii.o ../../../../../src/rtl/obj/os2/gcc/hbbffnc.o ../../../../../src/rtl/obj/os2/gcc/hbbfish.o ../../../../../src/rtl/obj/os2/gcc/hbbit.o ../../../../../src/rtl/obj/os2/gcc/hbbyte.o ../../../../../src/rtl/obj/os2/gcc/hbcrc.o ../../../../../src/rtl/obj/os2/gcc/hbdyn.o ../../../../../src/rtl/obj/os2/gcc/hbdynhb.o ../../../../../src/rtl/obj/os2/gcc/hbfeof.o ../../../../../src/rtl/obj/os2/gcc/hbfile.o ../../../../../src/rtl/obj/os2/gcc/hbgtcore.o ../../../../../src/rtl/obj/os2/gcc/hbhex.o ../../../../../src/rtl/obj/os2/gcc/hbi18n1.o ../../../../../src/rtl/obj/os2/gcc/hbi18n2.o ../../../../../src/rtl/obj/os2/gcc/hbinet.o ../../../../../src/rtl/obj/os2/gcc/hbini.o ../../../../../src/rtl/obj/os2/gcc/hbmd5.o ../../../../../src/rtl/obj/os2/gcc/hbntos.o ../../../../../src/rtl/obj/os2
/gcc/hbproces.o ../../../../../src/rtl/obj/os2/gcc/hbprocfn.o ../../../../../src/rtl/obj/os2/gcc/hbrandom.o ../../../../../src/rtl/obj/os2/gcc/hbregex.o ../../../../../src/rtl/obj/os2/gcc/hbregexc.o ../../../../../src/rtl/obj/os2/gcc/hbrunfun.o ../../../../../src/rtl/obj/os2/gcc/hbsha1.o ../../../../../src/rtl/obj/os2/gcc/hbsha1hm.o ../../../../../src/rtl/obj/os2/gcc/hbsha2.o ../../../../../src/rtl/obj/os2/gcc/hbsha2hm.o ../../../../../src/rtl/obj/os2/gcc/hbsocket.o ../../../../../src/rtl/obj/os2/gcc/hbstrfmt.o ../../../../../src/rtl/obj/os2/gcc/hbstrsh.o ../../../../../src/rtl/obj/os2/gcc/hbtoken.o ../../../../../src/rtl/obj/os2/gcc/hbzlib.o ../../../../../src/rtl/obj/os2/gcc/hbzlibgz.o ../../../../../src/rtl/obj/os2/gcc/hbznet.o ../../../../../src/rtl/obj/os2/gcc/idle.o ../../../../../src/rtl/obj/os2/gcc/inkey.o ../../../../../src/rtl/obj/os2/gcc/inkeyapi.o ../../../../../src/rtl/obj/os2/gcc/input.o ../../../../../src/rtl/obj/os2/gcc/is.o ../../../../../src/rtl/obj/os2/gcc/
isprint.o ../../../../../src/rtl/obj/os2/gcc/itemseri.o ../../../../../src/rtl/obj/os2/gcc/lang.o ../../../../../src/rtl/obj/os2/gcc/langapi.o ../../../../../src/rtl/obj/os2/gcc/left.o ../../../../../src/rtl/obj/os2/gcc/len.o ../../../../../src/rtl/obj/os2/gcc/lennum.o ../../../../../src/rtl/obj/os2/gcc/listbox.o ../../../../../src/rtl/obj/os2/gcc/math.o ../../../../../src/rtl/obj/os2/gcc/maxrow.o ../../../../../src/rtl/obj/os2/gcc/memoedit.o ../../../../../src/rtl/obj/os2/gcc/memofile.o ../../../../../src/rtl/obj/os2/gcc/memvarbl.o ../../../../../src/rtl/obj/os2/gcc/menusys.o ../../../../../src/rtl/obj/os2/gcc/menuto.o ../../../../../src/rtl/obj/os2/gcc/minmax.o ../../../../../src/rtl/obj/os2/gcc/mlcfunc.o ../../../../../src/rtl/obj/os2/gcc/mod.o ../../../../../src/rtl/obj/os2/gcc/mouse53.o ../../../../../src/rtl/obj/os2/gcc/mouseapi.o ../../../../../src/rtl/obj/os2/gcc/mousehb.o ../../../../../src/rtl/obj/os2/gcc/mtran.o ../../../../../src/rtl/obj/os2/gcc/natmsg.o ../../../
../../src/rtl/obj/os2/gcc/natmsgu.o ../../../../../src/rtl/obj/os2/gcc/net.o ../../../../../src/rtl/obj/os2/gcc/objfunc.o ../../../../../src/rtl/obj/os2/gcc/oemansi.o ../../../../../src/rtl/obj/os2/gcc/oldbox.o ../../../../../src/rtl/obj/os2/gcc/oldclear.o ../../../../../src/rtl/obj/os2/gcc/pad.o ../../../../../src/rtl/obj/os2/gcc/padc.o ../../../../../src/rtl/obj/os2/gcc/padl.o ../../../../../src/rtl/obj/os2/gcc/padr.o ../../../../../src/rtl/obj/os2/gcc/perfuncs.o ../../../../../src/rtl/obj/os2/gcc/philes.o ../../../../../src/rtl/obj/os2/gcc/philes53.o ../../../../../src/rtl/obj/os2/gcc/profiler.o ../../../../../src/rtl/obj/os2/gcc/pushbtn.o ../../../../../src/rtl/obj/os2/gcc/radiobhb.o ../../../../../src/rtl/obj/os2/gcc/radiobtn.o ../../../../../src/rtl/obj/os2/gcc/radiogrp.o ../../../../../src/rtl/obj/os2/gcc/rat.o ../../../../../src/rtl/obj/os2/gcc/readkey.o ../../../../../src/rtl/obj/os2/gcc/readvar.o ../../../../../src/rtl/obj/os2/gcc/replic.o ../../../../../src/rtl/obj
/os2/gcc/right.o ../../../../../src/rtl/obj/os2/gcc/round.o ../../../../../src/rtl/obj/os2/gcc/run.o ../../../../../src/rtl/obj/os2/gcc/samples.o ../../../../../src/rtl/obj/os2/gcc/saverest.o ../../../../../src/rtl/obj/os2/gcc/scroll.o ../../../../../src/rtl/obj/os2/gcc/scrollbr.o ../../../../../src/rtl/obj/os2/gcc/scrrow.o ../../../../../src/rtl/obj/os2/gcc/seconds.o ../../../../../src/rtl/obj/os2/gcc/setcolor.o ../../../../../src/rtl/obj/os2/gcc/setcurs.o ../../../../../src/rtl/obj/os2/gcc/setfunc.o ../../../../../src/rtl/obj/os2/gcc/setkey.o ../../../../../src/rtl/obj/os2/gcc/setpos.o ../../../../../src/rtl/obj/os2/gcc/setposbs.o ../../../../../src/rtl/obj/os2/gcc/setta.o ../../../../../src/rtl/obj/os2/gcc/sha1.o ../../../../../src/rtl/obj/os2/gcc/sha1hmac.o ../../../../../src/rtl/obj/os2/gcc/sha2.o ../../../../../src/rtl/obj/os2/gcc/sha2hmac.o ../../../../../src/rtl/obj/os2/gcc/shadow.o ../../../../../src/rtl/obj/os2/gcc/shadowu.o ../../../../../src/rtl/obj/os2/gcc/sounde
x.o ../../../../../src/rtl/obj/os2/gcc/space.o ../../../../../src/rtl/obj/os2/gcc/spfiles.o ../../../../../src/rtl/obj/os2/gcc/str.o ../../../../../src/rtl/obj/os2/gcc/strc.o ../../../../../src/rtl/obj/os2/gcc/strcase.o ../../../../../src/rtl/obj/os2/gcc/strclear.o ../../../../../src/rtl/obj/os2/gcc/strmatch.o ../../../../../src/rtl/obj/os2/gcc/strtoexp.o ../../../../../src/rtl/obj/os2/gcc/strtran.o ../../../../../src/rtl/obj/os2/gcc/strxor.o ../../../../../src/rtl/obj/os2/gcc/strzero.o ../../../../../src/rtl/obj/os2/gcc/stuff.o ../../../../../src/rtl/obj/os2/gcc/substr.o ../../../../../src/rtl/obj/os2/gcc/tbcolumn.o ../../../../../src/rtl/obj/os2/gcc/tbrowse.o ../../../../../src/rtl/obj/os2/gcc/tbrowsys.o ../../../../../src/rtl/obj/os2/gcc/tclass.o ../../../../../src/rtl/obj/os2/gcc/teditor.o ../../../../../src/rtl/obj/os2/gcc/text.o ../../../../../src/rtl/obj/os2/gcc/tget.o ../../../../../src/rtl/obj/os2/gcc/tgethb.o ../../../../../src/rtl/obj/os2/gcc/tgetint.o ../../../../
../src/rtl/obj/os2/gcc/tgetlist.o ../../../../../src/rtl/obj/os2/gcc/tlabel.o ../../../../../src/rtl/obj/os2/gcc/tmenuitm.o ../../../../../src/rtl/obj/os2/gcc/tmenusys.o ../../../../../src/rtl/obj/os2/gcc/tobject.o ../../../../../src/rtl/obj/os2/gcc/tone.o ../../../../../src/rtl/obj/os2/gcc/tpersist.o ../../../../../src/rtl/obj/os2/gcc/tpopup.o ../../../../../src/rtl/obj/os2/gcc/trace.o ../../../../../src/rtl/obj/os2/gcc/transfrm.o ../../../../../src/rtl/obj/os2/gcc/treport.o ../../../../../src/rtl/obj/os2/gcc/trim.o ../../../../../src/rtl/obj/os2/gcc/tscalar.o ../../../../../src/rtl/obj/os2/gcc/tscalara.o ../../../../../src/rtl/obj/os2/gcc/tscalarb.o ../../../../../src/rtl/obj/os2/gcc/tscalarc.o ../../../../../src/rtl/obj/os2/gcc/tscalard.o ../../../../../src/rtl/obj/os2/gcc/tscalarh.o ../../../../../src/rtl/obj/os2/gcc/tscalarl.o ../../../../../src/rtl/obj/os2/gcc/tscalarn.o ../../../../../src/rtl/obj/os2/gcc/tscalarp.o ../../../../../src/rtl/obj/os2/gcc/tscalars.o ../../..
/../../src/rtl/obj/os2/gcc/tscalart.o ../../../../../src/rtl/obj/os2/gcc/tscalaru.o ../../../../../src/rtl/obj/os2/gcc/tsymbol.o ../../../../../src/rtl/obj/os2/gcc/ttextlin.o ../../../../../src/rtl/obj/os2/gcc/ttopbar.o ../../../../../src/rtl/obj/os2/gcc/type.o ../../../../../src/rtl/obj/os2/gcc/typefile.o ../../../../../src/rtl/obj/os2/gcc/val.o ../../../../../src/rtl/obj/os2/gcc/valtoexp.o ../../../../../src/rtl/obj/os2/gcc/valtostr.o ../../../../../src/rtl/obj/os2/gcc/valtype.o ../../../../../src/rtl/obj/os2/gcc/version.o ../../../../../src/rtl/obj/os2/gcc/wait.o ../../../../../src/rtl/obj/os2/gcc/word.o ../../../../../src/rtl/obj/os2/gcc/xhelp.o ../../../../../src/rtl/obj/os2/gcc/xsavescr.o ../../../../../src/macro/obj/os2/gcc/macroa.o ../../../../../src/macro/obj/os2/gcc/macrob.o ../../../../../src/macro/obj/os2/gcc/macrolex.o ../../../../../src/macro/obj/os2/gcc/macroy.o ../../../../../src/lang/obj/os2/gcc/msgbe866.o ../../../../../src/lang/obj/os2/gcc/msgbewin.o ../../
../../../src/lang/obj/os2/gcc/msgbg866.o ../../../../../src/lang/obj/os2/gcc/msgbgiso.o ../../../../../src/lang/obj/os2/gcc/msgbgmik.o ../../../../../src/lang/obj/os2/gcc/msgbgwin.o ../../../../../src/lang/obj/os2/gcc/msgca.o ../../../../../src/lang/obj/os2/gcc/msgcs852.o ../../../../../src/lang/obj/os2/gcc/msgcsiso.o ../../../../../src/lang/obj/os2/gcc/msgcskam.o ../../../../../src/lang/obj/os2/gcc/msgcswin.o ../../../../../src/lang/obj/os2/gcc/msgde.o ../../../../../src/lang/obj/os2/gcc/msgdewin.o ../../../../../src/lang/obj/os2/gcc/msgel.o ../../../../../src/lang/obj/os2/gcc/msgelwin.o ../../../../../src/lang/obj/os2/gcc/msgeo.o ../../../../../src/lang/obj/os2/gcc/msges.o ../../../../../src/lang/obj/os2/gcc/msgeswin.o ../../../../../src/lang/obj/os2/gcc/msgeu.o ../../../../../src/lang/obj/os2/gcc/msgfr.o ../../../../../src/lang/obj/os2/gcc/msggl.o ../../../../../src/lang/obj/os2/gcc/msghe862.o ../../../../../src/lang/obj/os2/gcc/msghewin.o ../../../../../src/lang/obj/os2/g
cc/msghr646.o ../../../../../src/lang/obj/os2/gcc/msghr852.o ../../../../../src/lang/obj/os2/gcc/msghriso.o ../../../../../src/lang/obj/os2/gcc/msghrwin.o ../../../../../src/lang/obj/os2/gcc/msghu852.o ../../../../../src/lang/obj/os2/gcc/msghucwi.o ../../../../../src/lang/obj/os2/gcc/msghuiso.o ../../../../../src/lang/obj/os2/gcc/msghuwin.o ../../../../../src/lang/obj/os2/gcc/msgid.o ../../../../../src/lang/obj/os2/gcc/msgis850.o ../../../../../src/lang/obj/os2/gcc/msgit.o ../../../../../src/lang/obj/os2/gcc/msgko.o ../../../../../src/lang/obj/os2/gcc/msgltwin.o ../../../../../src/lang/obj/os2/gcc/msgnl.o ../../../../../src/lang/obj/os2/gcc/msgpl852.o ../../../../../src/lang/obj/os2/gcc/msgpliso.o ../../../../../src/lang/obj/os2/gcc/msgplmaz.o ../../../../../src/lang/obj/os2/gcc/msgplwin.o ../../../../../src/lang/obj/os2/gcc/msgpt.o ../../../../../src/lang/obj/os2/gcc/msgptiso.o ../../../../../src/lang/obj/os2/gcc/msgro.o ../../../../../src/lang/obj/os2/gcc/msgru866.o ../../.
./../../src/lang/obj/os2/gcc/msgrukoi.o ../../../../../src/lang/obj/os2/gcc/msgruwin.o ../../../../../src/lang/obj/os2/gcc/msgsk852.o ../../../../../src/lang/obj/os2/gcc/msgskiso.o ../../../../../src/lang/obj/os2/gcc/msgskkam.o ../../../../../src/lang/obj/os2/gcc/msgskwin.o ../../../../../src/lang/obj/os2/gcc/msgsl646.o ../../../../../src/lang/obj/os2/gcc/msgsl852.o ../../../../../src/lang/obj/os2/gcc/msgsliso.o ../../../../../src/lang/obj/os2/gcc/msgslwin.o ../../../../../src/lang/obj/os2/gcc/msgsr852.o ../../../../../src/lang/obj/os2/gcc/msgsriso.o ../../../../../src/lang/obj/os2/gcc/msgsrwin.o ../../../../../src/lang/obj/os2/gcc/msgtr857.o ../../../../../src/lang/obj/os2/gcc/msgtrwin.o ../../../../../src/lang/obj/os2/gcc/msgua866.o ../../../../../src/lang/obj/os2/gcc/msguados.o ../../../../../src/lang/obj/os2/gcc/msguakoi.o ../../../../../src/lang/obj/os2/gcc/msguawin.o ../../../../../src/lang/obj/os2/gcc/msgzhb5.o ../../../../../src/lang/obj/os2/gcc/msgzhgb.o ../../../../
../src/codepage/obj/os2/gcc/cpbg866.o ../../../../../src/codepage/obj/os2/gcc/cpbgiso.o ../../../../../src/codepage/obj/os2/gcc/cpbgmik.o ../../../../../src/codepage/obj/os2/gcc/cpbgwin.o ../../../../../src/codepage/obj/os2/gcc/cpcs852.o ../../../../../src/codepage/obj/os2/gcc/cpcsiso.o ../../../../../src/codepage/obj/os2/gcc/cpcskam.o ../../../../../src/codepage/obj/os2/gcc/cpcswin.o ../../../../../src/codepage/obj/os2/gcc/cpde850.o ../../../../../src/codepage/obj/os2/gcc/cpde850m.o ../../../../../src/codepage/obj/os2/gcc/cpdeiso.o ../../../../../src/codepage/obj/os2/gcc/cpdewin.o ../../../../../src/codepage/obj/os2/gcc/cpdk865.o ../../../../../src/codepage/obj/os2/gcc/cpel437.o ../../../../../src/codepage/obj/os2/gcc/cpel737.o ../../../../../src/codepage/obj/os2/gcc/cpeliso.o ../../../../../src/codepage/obj/os2/gcc/cpelwin.o ../../../../../src/codepage/obj/os2/gcc/cpes850.o ../../../../../src/codepage/obj/os2/gcc/cpes850c.o ../../../../../src/codepage/obj/os2/gcc/cpes850m.o
 ../../../../../src/codepage/obj/os2/gcc/cpesiso.o ../../../../../src/codepage/obj/os2/gcc/cpeswin.o ../../../../../src/codepage/obj/os2/gcc/cpeswinm.o ../../../../../src/codepage/obj/os2/gcc/cpfi850.o ../../../../../src/codepage/obj/os2/gcc/cpfr850.o ../../../../../src/codepage/obj/os2/gcc/cpfr850m.o ../../../../../src/codepage/obj/os2/gcc/cpfriso.o ../../../../../src/codepage/obj/os2/gcc/cpfrwin.o ../../../../../src/codepage/obj/os2/gcc/cphr646.o ../../../../../src/codepage/obj/os2/gcc/cphr852.o ../../../../../src/codepage/obj/os2/gcc/cphriso.o ../../../../../src/codepage/obj/os2/gcc/cphrwin.o ../../../../../src/codepage/obj/os2/gcc/cphu852.o ../../../../../src/codepage/obj/os2/gcc/cphu852c.o ../../../../../src/codepage/obj/os2/gcc/cphuiso.o ../../../../../src/codepage/obj/os2/gcc/cphuwin.o ../../../../../src/codepage/obj/os2/gcc/cpis850.o ../../../../../src/codepage/obj/os2/gcc/cpis861.o ../../../../../src/codepage/obj/os2/gcc/cpit437.o ../../../../../src/codepage/obj/os2/
gcc/cpit850.o ../../../../../src/codepage/obj/os2/gcc/cpit850m.o ../../../../../src/codepage/obj/os2/gcc/cpitisb.o ../../../../../src/codepage/obj/os2/gcc/cpitiso.o ../../../../../src/codepage/obj/os2/gcc/cpitwin.o ../../../../../src/codepage/obj/os2/gcc/cpltwin.o ../../../../../src/codepage/obj/os2/gcc/cpnl850.o ../../../../../src/codepage/obj/os2/gcc/cpnl850m.o ../../../../../src/codepage/obj/os2/gcc/cpno865.o ../../../../../src/codepage/obj/os2/gcc/cppl852.o ../../../../../src/codepage/obj/os2/gcc/cppliso.o ../../../../../src/codepage/obj/os2/gcc/cpplmaz.o ../../../../../src/codepage/obj/os2/gcc/cpplwin.o ../../../../../src/codepage/obj/os2/gcc/cppt850.o ../../../../../src/codepage/obj/os2/gcc/cppt860.o ../../../../../src/codepage/obj/os2/gcc/cpptiso.o ../../../../../src/codepage/obj/os2/gcc/cpro852.o ../../../../../src/codepage/obj/os2/gcc/cproiso.o ../../../../../src/codepage/obj/os2/gcc/cprowin.o ../../../../../src/codepage/obj/os2/gcc/cpru866.o ../../../../../src/codep
age/obj/os2/gcc/cpruiso.o ../../../../../src/codepage/obj/os2/gcc/cprukoi.o ../../../../../src/codepage/obj/os2/gcc/cpruwin.o ../../../../../src/codepage/obj/os2/gcc/cpsk852.o ../../../../../src/codepage/obj/os2/gcc/cpskiso.o ../../../../../src/codepage/obj/os2/gcc/cpskkam.o ../../../../../src/codepage/obj/os2/gcc/cpskwin.o ../../../../../src/codepage/obj/os2/gcc/cpsl646.o ../../../../../src/codepage/obj/os2/gcc/cpsl852.o ../../../../../src/codepage/obj/os2/gcc/cpsliso.o ../../../../../src/codepage/obj/os2/gcc/cpslwin.o ../../../../../src/codepage/obj/os2/gcc/cpsrwin.o ../../../../../src/codepage/obj/os2/gcc/cpsv437c.o ../../../../../src/codepage/obj/os2/gcc/cpsv850.o ../../../../../src/codepage/obj/os2/gcc/cpsv850m.o ../../../../../src/codepage/obj/os2/gcc/cpsviso.o ../../../../../src/codepage/obj/os2/gcc/cpsvwin.o ../../../../../src/codepage/obj/os2/gcc/cptr857.o ../../../../../src/codepage/obj/os2/gcc/cptriso.o ../../../../../src/codepage/obj/os2/gcc/cptrwin.o ../../../../
../src/codepage/obj/os2/gcc/cpua1125.o ../../../../../src/codepage/obj/os2/gcc/cpua866.o ../../../../../src/codepage/obj/os2/gcc/cpuakoi.o ../../../../../src/codepage/obj/os2/gcc/cpuawin.o ../../../../../src/codepage/obj/os2/gcc/uc037.o ../../../../../src/codepage/obj/os2/gcc/uc1006.o ../../../../../src/codepage/obj/os2/gcc/uc1026.o ../../../../../src/codepage/obj/os2/gcc/uc1125.o ../../../../../src/codepage/obj/os2/gcc/uc1250.o ../../../../../src/codepage/obj/os2/gcc/uc1251.o ../../../../../src/codepage/obj/os2/gcc/uc1252.o ../../../../../src/codepage/obj/os2/gcc/uc1253.o ../../../../../src/codepage/obj/os2/gcc/uc1254.o ../../../../../src/codepage/obj/os2/gcc/uc1255.o ../../../../../src/codepage/obj/os2/gcc/uc1256.o ../../../../../src/codepage/obj/os2/gcc/uc1257.o ../../../../../src/codepage/obj/os2/gcc/uc1258.o ../../../../../src/codepage/obj/os2/gcc/uc424.o ../../../../../src/codepage/obj/os2/gcc/uc500.o ../../../../../src/codepage/obj/os2/gcc/uc646_yu.o ../../../../../src
/codepage/obj/os2/gcc/uc737.o ../../../../../src/codepage/obj/os2/gcc/uc775.o ../../../../../src/codepage/obj/os2/gcc/uc850.o ../../../../../src/codepage/obj/os2/gcc/uc852.o ../../../../../src/codepage/obj/os2/gcc/uc855.o ../../../../../src/codepage/obj/os2/gcc/uc856.o ../../../../../src/codepage/obj/os2/gcc/uc857.o ../../../../../src/codepage/obj/os2/gcc/uc860.o ../../../../../src/codepage/obj/os2/gcc/uc861.o ../../../../../src/codepage/obj/os2/gcc/uc862.o ../../../../../src/codepage/obj/os2/gcc/uc863.o ../../../../../src/codepage/obj/os2/gcc/uc864.o ../../../../../src/codepage/obj/os2/gcc/uc865.o ../../../../../src/codepage/obj/os2/gcc/uc866.o ../../../../../src/codepage/obj/os2/gcc/uc869.o ../../../../../src/codepage/obj/os2/gcc/uc874.o ../../../../../src/codepage/obj/os2/gcc/uc875.o ../../../../../src/codepage/obj/os2/gcc/uc885910.o ../../../../../src/codepage/obj/os2/gcc/uc885911.o ../../../../../src/codepage/obj/os2/gcc/uc885913.o ../../../../../src/codepage/obj/os2/gcc
/uc885914.o ../../../../../src/codepage/obj/os2/gcc/uc885915.o ../../../../../src/codepage/obj/os2/gcc/uc885916.o ../../../../../src/codepage/obj/os2/gcc/uc88591b.o ../../../../../src/codepage/obj/os2/gcc/uc8859_1.o ../../../../../src/codepage/obj/os2/gcc/uc8859_2.o ../../../../../src/codepage/obj/os2/gcc/uc8859_3.o ../../../../../src/codepage/obj/os2/gcc/uc8859_4.o ../../../../../src/codepage/obj/os2/gcc/uc8859_5.o ../../../../../src/codepage/obj/os2/gcc/uc8859_6.o ../../../../../src/codepage/obj/os2/gcc/uc8859_7.o ../../../../../src/codepage/obj/os2/gcc/uc8859_8.o ../../../../../src/codepage/obj/os2/gcc/uc8859_9.o ../../../../../src/codepage/obj/os2/gcc/ucascii.o ../../../../../src/codepage/obj/os2/gcc/ucatari.o ../../../../../src/codepage/obj/os2/gcc/uckam.o ../../../../../src/codepage/obj/os2/gcc/uckoi8.o ../../../../../src/codepage/obj/os2/gcc/uckoi8u.o ../../../../../src/codepage/obj/os2/gcc/ucmacce.o ../../../../../src/codepage/obj/os2/gcc/ucmaccyr.o ../../../../../src
/codepage/obj/os2/gcc/ucmacgrk.o ../../../../../src/codepage/obj/os2/gcc/ucmacice.o ../../../../../src/codepage/obj/os2/gcc/ucmacrom.o ../../../../../src/codepage/obj/os2/gcc/ucmactrk.o ../../../../../src/codepage/obj/os2/gcc/ucmaz.o ../../../../../src/codepage/obj/os2/gcc/ucmik.o ../../../../../src/codepage/obj/os2/gcc/ucnext.o ../../../../../src/hbextern/obj/os2/gcc/hbextern.o ../../../../../src/rdd/obj/os2/gcc/dbcmd.o ../../../../../src/rdd/obj/os2/gcc/dbcmd53.o ../../../../../src/rdd/obj/os2/gcc/dbcmdhb.o ../../../../../src/rdd/obj/os2/gcc/dbdelim.o ../../../../../src/rdd/obj/os2/gcc/dbdetach.o ../../../../../src/rdd/obj/os2/gcc/dbdrop.o ../../../../../src/rdd/obj/os2/gcc/dbexists.o ../../../../../src/rdd/obj/os2/gcc/dbf1.o ../../../../../src/rdd/obj/os2/gcc/dbfuncs.o ../../../../../src/rdd/obj/os2/gcc/dbjoin.o ../../../../../src/rdd/obj/os2/gcc/dblist.o ../../../../../src/rdd/obj/os2/gcc/dbnubs.o ../../../../../src/rdd/obj/os2/gcc/dbrename.o ../../../../../src/rdd/obj/os
2/gcc/dbsdf.o ../../../../../src/rdd/obj/os2/gcc/dbsort.o ../../../../../src/rdd/obj/os2/gcc/dbsql.o ../../../../../src/rdd/obj/os2/gcc/dbstrux.o ../../../../../src/rdd/obj/os2/gcc/dbstruxu.o ../../../../../src/rdd/obj/os2/gcc/dbtotal.o ../../../../../src/rdd/obj/os2/gcc/dbupdat.o ../../../../../src/rdd/obj/os2/gcc/delim1.o ../../../../../src/rdd/obj/os2/gcc/fieldhb.o ../../../../../src/rdd/obj/os2/gcc/hbdbsort.o ../../../../../src/rdd/obj/os2/gcc/ordcount.o ../../../../../src/rdd/obj/os2/gcc/ordwldsk.o ../../../../../src/rdd/obj/os2/gcc/rddinfo.o ../../../../../src/rdd/obj/os2/gcc/rddord.o ../../../../../src/rdd/obj/os2/gcc/rddordu.o ../../../../../src/rdd/obj/os2/gcc/rddsys.o ../../../../../src/rdd/obj/os2/gcc/sdf1.o ../../../../../src/rdd/obj/os2/gcc/wacore.o ../../../../../src/rdd/obj/os2/gcc/wafunc.o ../../../../../src/rdd/obj/os2/gcc/workarea.o ../../../../../src/rdd/dbfntx/obj/os2/gcc/dbfntx1.o ../../../../../src/rdd/dbfnsx/obj/os2/gcc/dbfnsx1.o ../../../../../src/rdd/
dbfcdx/obj/os2/gcc/dbfcdx1.o ../../../../../src/rdd/dbfcdx/obj/os2/gcc/sixcdx1.o ../../../../../src/rdd/dbffpt/obj/os2/gcc/dbffpt1.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcompat.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcompr.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxcrypt.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxdate.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxfname.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxini.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxord.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxredir.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxsem.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxtable.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxtrig.o ../../../../../src/rdd/hbsix/obj/os2/gcc/sxutil.o ../../../../../src/rdd/hsx/obj/os2/gcc/cftsfunc.o ../../../../../src/rdd/hsx/obj/os2/gcc/hsx.o ../../../../../src/rdd/usrrdd/obj/os2/gcc/usrrdd.o ../../../../../src/rtl/gtcgi/obj/os2/gcc/gtcgi.o ../../../../../src/rtl/gtpca/obj/os2/gcc/gtpca.o ../../../
../../src/rtl/gtstd/obj/os2/gcc/gtstd.o ../../../../../src/rtl/gtos2/obj/os2/gcc/gtos2.o ../../../../../external/pcre/obj/os2/gcc/chartabs.o ../../../../../external/pcre/obj/os2/gcc/pcrecomp.o ../../../../../external/pcre/obj/os2/gcc/pcreconf.o ../../../../../external/pcre/obj/os2/gcc/pcredfa.o ../../../../../external/pcre/obj/os2/gcc/pcreexec.o ../../../../../external/pcre/obj/os2/gcc/pcrefinf.o ../../../../../external/pcre/obj/os2/gcc/pcreget.o ../../../../../external/pcre/obj/os2/gcc/pcreglob.o ../../../../../external/pcre/obj/os2/gcc/pcreinfo.o ../../../../../external/pcre/obj/os2/gcc/pcremktb.o ../../../../../external/pcre/obj/os2/gcc/pcrenewl.o ../../../../../external/pcre/obj/os2/gcc/pcreoutf.o ../../../../../external/pcre/obj/os2/gcc/pcrerefc.o ../../../../../external/pcre/obj/os2/gcc/pcrestud.o ../../../../../external/pcre/obj/os2/gcc/pcretabs.o ../../../../../external/pcre/obj/os2/gcc/pcretryf.o ../../../../../external/pcre/obj/os2/gcc/pcreucd.o ../../../../../exter
nal/pcre/obj/os2/gcc/pcrever.o ../../../../../external/pcre/obj/os2/gcc/pcrevutf.o ../../../../../external/pcre/obj/os2/gcc/pcrexcls.o ../../../../../external/zlib/obj/os2/gcc/adler32.o ../../../../../external/zlib/obj/os2/gcc/compress.o ../../../../../external/zlib/obj/os2/gcc/crc32.o ../../../../../external/zlib/obj/os2/gcc/deflate.o ../../../../../external/zlib/obj/os2/gcc/gzio.o ../../../../../external/zlib/obj/os2/gcc/infback.o ../../../../../external/zlib/obj/os2/gcc/inffast.o ../../../../../external/zlib/obj/os2/gcc/inflate.o ../../../../../external/zlib/obj/os2/gcc/inftrees.o ../../../../../external/zlib/obj/os2/gcc/trees.o ../../../../../external/zlib/obj/os2/gcc/uncompr.o ../../../../../external/zlib/obj/os2/gcc/zutil.o ../../../../../src/vm/obj/os2/gcc/arrayshb.o ../../../../../src/vm/obj/os2/gcc/asort.o ../../../../../src/vm/obj/os2/gcc/break.o ../../../../../src/vm/obj/os2/gcc/cmdarg.o ../../../../../src/vm/obj/os2/gcc/debug.o ../../../../../src/vm/obj/os2/gcc/dy
nlibhb.o ../../../../../src/vm/obj/os2/gcc/eval.o ../../../../../src/vm/obj/os2/gcc/evalhb.o ../../../../../src/vm/obj/os2/gcc/extrap.o ../../../../../src/vm/obj/os2/gcc/harbinit.o ../../../../../src/vm/obj/os2/gcc/hashfunc.o ../../../../../src/vm/obj/os2/gcc/hvmall.o ../../../../../src/vm/obj/os2/gcc/initexit.o ../../../../../src/vm/obj/os2/gcc/initsymb.o ../../../../../src/vm/obj/os2/gcc/mainstd.o ../../../../../src/vm/obj/os2/gcc/memvclip.o ../../../../../src/vm/obj/os2/gcc/pcount.o ../../../../../src/vm/obj/os2/gcc/proc.o ../../../../../src/vm/obj/os2/gcc/procaddr.o ../../../../../src/vm/obj/os2/gcc/pvalue.o ../../../../../src/vm/obj/os2/gcc/runner.o ../../../../../src/vm/obj/os2/gcc/vm.o __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2
>> ------------>8--------------------emximp -o ../../../../../lib/os2/gcc/harbour.a ../../../../../bin/os2/gcc/harbour.dll
>> emximp: Cannot open input file `../../../../../bin/os2/gcc/harbour.dll'
>> make[2]: *** [harbour.dll] Error 2
>> make[1]: *** [descend] Error 2
>> make: *** [dynlib] Error 2
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Feb 22 07:38:31 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 07:38:44 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B827233.40005@libero.it>
References: <4B81F08B.3020308@mail.udg.mx>
	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>
	<4B8252AD.9000900@libero.it>
	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
	<4B827233.40005@libero.it>
Message-ID: <7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>

Hi Maurilio,

> in this path
> 
> -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
> 
> E:/SVILUPPO/GCC/V3.3.5/ is where I decided to put GCC on my system, while the
> last 3.3.5 in the path depends on GCC version and so it changes from release
> to release.

Is '/gcc/3.3.5/' a mandatory element of the base dir, or 
local user preference? I mean, may I simple install it 
to 'E:/os2stuff/gcc/' instead of 'E:/Sviluppo/gcc/v3.3.5/'?

> So we have to parse LIBRARY_PATH to add -L options to ld command line, but it
> is not enough since we need an object, dll0.o, which is inside
> 
> E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o
> 
> which could be inferred from LIBRARY_PATH, but I don't know whether the new
> versions of GCC have it in the same position.

That's a question. Plus whether it's in the same place for 
gccomf vs plain gcc.

Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Feb 22 07:40:57 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 07:42:34 2010
Subject: [Harbour] OS/2: hbqt, advances
Message-ID: <4B827B59.9060505@mail.udg.mx>

I continued making tests with Harbour hbqt and Qt451GA for OS/2

As I was getting many errors, I opened a "ticket" in svn.netlabs.org/qt4

With the fast and excelent help of:
  - Dmitry A. Kuminov (development)
  - Silvan Scherrer (management)
Harbour for OS/2 is very close to have support of hbqt contrib
Just remain eleven .cpp files with problems

I need help on three areas:

1) Maurilio: to check changes in hbdefs.h
    /* 28/03/2000 - maurilio.longo@libero.it
       The same holds true when using GCC under OS/2
    */
    /* xx/02/2010 - whoever@there.is
       Include all OS/2 API definitions to make sure other involved parties
       (such as Qt for OS/2) will get everything they want
    */
    #define OS2EMX_PLAIN_CHAR
    #define INCL_BASE
    #define INCL_PM
    #include <os2.h>
    #undef INT
    #undef UINT
    #define HB_DONT_DEFINE_BASIC_TYPES

2) Pritpal:
    1. Add #ifndef QT_NO_PRINTER / #endif around the parts in the source 
code that use printing classes (QAbstractPrintDialog, QPageSetupDialog 
etc.) This btw will let it build on all platforms that don't provide 
printing support for some reason, not only OS/2.

3) Pritpal:
#ifndef QT_NO_ACCESSIBILITY / #endif around the places that complain 
about missing accessibility methods.

Below are text with relevant facts of tests, info, responses, ...

Qt for OS/2 (4.6.1) will be available soon, with printer support using CUPS

README.OS2 file contain this section, useful for management of 
unavailable classes

 >>>>>========================
CURRENT LIMITATIONS
[...]
   4. In order to let Qt correctly detect the regional settings and 
choose the right language for translating the user interface, the LANG 
environment variable must be set. The format is
        set LANG=ll_CC
where <ll> is the language code and <CC> is the country code (refer to 
     wikipedia.org to find correct letters for your langage and country 
if you do not know them). Note that the optional encoding part of the LANG
specification is ignored by Qt for OS/2 since 4.5.1 Beta 5 because it 
now detects the encoding automatically based on the system OS/2 settings.
Later, the correct language will be detected from the system settings so
that specifying LANG will be not necessary at all.

[...]

8. The followign classes are not available due to their rare usage or 
low importance on the OS/2 platform: QSharedMemory, QSystemSemaphore,
QInputContext, QAccessible. The following macros are defined to indicate
this: QT_NO_SYSTEMSEMAPHORE, QT_NO_SHAREDMEMORY, QT_NO_IM, 
QT_NO_ACCESSIBILITY. Applications normally use them to guard the
relevant parts of code so they should still build.
<<<<<<========================

David Macias


I installed Qt451GA using .wpi files from Netlabs

Using "Qt4 Command Prompt", setting os2gcc442 environment and Harbour 
environment as usual

In first try to build Harbour-hbqt it fail with this error:

E:\ecs\system\qt4\include/QtCore/qt_os2.h:59:33: error:
API_FPU_CW_Wrappers.h: No such file or directory

Searching for API_FPU_CW_Wrappers.h it does not exist anywhere in 
e:\ecs\system\qt4\include\ directories

Looking for API_FPU_CW_Wrappers.h it exist in:

     E:\ecs\system\qt4\mkspecs\os2-g++
     E:\ecs\system\qt4\mkspecs\default

with same date and content:

     17/12/09 3:22a 145,271 0 a--- API_FPU_CW_Wrappers.h

Copying API_FPU_CW_Wrappers.h to e:\ecs\system\qt4\include\ and trying 
again build of Harbour-hbqt many errors are raised from
API_FPU_CW_Wrappers.h and then GPF with "Killed by SIGSEGV"

So something are wrong in API_FPU_CW_Wrappers.h reference, content and 
use under OS/2

[...]

Dmitry response:
 >>>>>========================
As far as I can see, the project doesn't use qmake. For this reason, the 
include path E:\ecs\system\qt4\mkspecs\default (or 
E:\ecs\system\qt4\mkspecs\os2-g++ which is the same in this case) is not 
passed to the compiler. Adding it to the list of include directories for 
the compier should fix the problem for you. Please try and report back.

For the second case, it's the wrong include order -- a typical problem 
for the OS/2 environment caused by the way the os2.h file (which is a 
central access point to the OS/2 APIs) is organized. In your case, it 
seems that os2.h is manually included from either hbqt_hbqmainwindow.cpp 
or hbqt_hbqmainwindow.h (or from another file they include) before Qt4 
headers are included. Such an order is not supported and should not take 
place -- Qt includes must go first. Also, it's not clear why os2.h is 
included manually in a Qt source file in the first place: in theory, 
this should be never needed. If you give me more details on this, I will 
be able to suggest you the best solution.

P.S. SIGSEGV is probably due to too many errors (e.g. maybe a bug of the 
GCC4 port) and is not related to Qt4.
<<<<<<========================


We use GNU make
Using:

     set C_INCLUDE_PATH=E:\ecs\system\qt4\mkspecs\default;%C_INCLUDE_PATH%
     set 
CPLUS_INCLUDE_PATH=E:\ecs\system\qt4\mkspecs\default;%CPLUS_INCLUDE_PATH%

then API_FPU_CW_Wrappers.h missing has gone, and we have a lot of errors 
due API_FPU_CW_Wrappers.h
Are more than 600 lines in build output
Most of them are of type:

     'somevalue' was not declared in this scope

After long section of API_FPU_CW_Wrappers.h errors, begin a new section 
with qmime.h errors
[...]


Dmitry response:
 >>>>>========================
Just to clarify Silvan, os2.h is indeed included very early: from 
hbdefs.h which is included before <QtGui?/QMouseEvent> through other hb* 
headers (hbapi.h -> hbvmpub.h).

So, my assumption was correct. Please make sure Qt headers are included 
before hb* ones in all sources -- there is no other way to make it work 
on OS/2 (*). Also note that it's not necessary to include qt_os2.h 
directly as suggested by Silvan unless you need to directly access OS/2 
API from the Qt-based part of the code (which is non-portable and 
therefore should be avoided by all means).

(*) The thing with os2.h is that you have to specify what parts of the 
API you want before including it (using the #define INCL_xxx 
directives). If you do it once, all subsequent attempts to include os2.h 
again (probably with a different set of INCL_xxx defines) will be 
ignored by the compiler because os2.h contains a protection code that 
allows to include its contents only once per every compilation unit 
(.cpp file). Therefore, if your set of INCL_xxx doesn't drag in APIs 
needed by some other parties involved in the compilation process there 
is nothing these parties can do.

BTW, if you don't want to toss the Qt includes around in all sources, 
there is one alternative solution. Just add the following to hbdefs.h 
right before the line where os2.h is included:

#define OS2EMX_PLAIN_CHAR
#define INCL_BASE
#define INCL_PM

This will make sure that os2.h will drag in all the APIs it has so every 
party will be eventually happy.
<<<<<<========================


Now the section for OS/2 in hbdefs.h is:

#elif defined( HB_OS_OS2 )

    /* With the exception of WORD, the IBM Visual Age C++ compiler has
       its own definitions of the Harbour types most of which conflict 
with the
       Harbour #undefs, due to typedef being the prevalent method of
       defining the types in IBMCPP, whereas Harbour assumes that the
       definitions that it is replacing have been defined using
       #define. Therefore, it is necessary to skip the Harbour
       definition section when using the IBMCPP compiiler, include
       the IBMCPP type definitions, and then add the definition for WORD

       NOTE: This only applies to the common types that most C compilers
             define. Any new types, particulary those that start with
             HB_, must be placed AFTER the #endif __IBMCPP__ line!
    */
    /* 28/03/2000 - maurilio.longo@libero.it
       The same holds true when using GCC under OS/2
    */
    #define INCL_TYPES
    #define INCL_DOSEXCEPTIONS    /* DOS exception values */
    #define INCL_ERRORS           /* DOS error values     */
    #define INCL_LONGLONG         /* include native compiler LONGLONG 
definition */

    /* DAVID:
    */
    #define OS2EMX_PLAIN_CHAR
    #define INCL_BASE
    #define INCL_PM

    #include <os2.h>
    #undef INT
    #undef UINT
    #define HB_DONT_DEFINE_BASIC_TYPES

and most of hbqt build error has gone :-)
You got the key

It build fine three of four libs:

     17/02/10 2:30p 300,032 124 a--- hbqt.lib
     17/02/10 3:44p 809,984 124 a--- hbqtcore.lib
     17/02/10 3:51p 71,168 124 a--- hbqtnetwork.lib

and fail with hbqtgui

[...]

In order to go ahead to solve hbqtgui I was trying build discarding each 
file with error. hbqtgui have hundreds of .cpp and .prg files (more than 
400) and fail with these eleven:

# QAbstractPrintDialog.cpp \
# QInputContext.cpp \
# QPageSetupDialog.cpp \
# QPlainTextEdit.cpp \
# QPrintDialog.cpp \
# QPrintEngine.cpp \
# QPrinter.cpp \
# QPrintPreviewDialog.cpp \
# QTextDocument.cpp \
# QTextEdit.cpp \
# QWidget.cpp \

Notes:
Note 1) Many files even without error show this group of warnings:
E:\ecs\system\qt4\include/QtGui/qmime.h:150: warning: unused parameter 
'targetName'
E:\ecs\system\qt4\include/QtGui/qmime.h:150: warning: unused parameter 
'supportedOps'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 'drm'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 'drf'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 
'item'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 
'itemIndex'
E:\ecs\system\qt4\include/QtGui/qmime.h:156: warning: unused parameter 
'type'
E:\ecs\system\qt4\include/QtGui/qmime.h:156: warning: unused parameter 'ext'
E:\ecs\system\qt4\include/QtGui/qmime.h:190: warning: unused parameter 'drf'
E:\ecs\system\qt4\include/QtGui/qmime.h:190: warning: unused parameter 
'type'
E:\ecs\system\qt4\include/QtGui/qmime.h:190: warning: unused parameter 'ext'
E:\ecs\system\qt4\include/QtGui/qmime.h:213: warning: unused parameter 
'isAccepted'
E:\ecs\system\qt4\include/QtGui/qmime.h:289: warning: unused parameter 
'mimeType'
E:\ecs\system\qt4\include/QtGui/qmime.h:289: warning: unused parameter 
'mimeData'
E:\ecs\system\qt4\include/QtGui/qmime.h:291: warning: unused parameter 
'info'

Note 2) Most errors seem to be related to printer/printing

     Perhaps some component are missing, and solution are related

Note 3) Discarding files with errors, we have a big lib:

     18/02/10 12:44a 2,792,960 124 a--- hbqtgui.lib

[...]


Dmitry response:
 >>>>>========================
Okay, good. I would just change this part in hbdefs.h to the following:

    /* 28/03/2000 - maurilio.longo@libero.it
       The same holds true when using GCC under OS/2
    */
    /* xx/02/2010 - whoever@there.is
       Include all OS/2 API definitions to make sure other involved parties
       (such as Qt for OS/2) will get everything they want
    */
    #define OS2EMX_PLAIN_CHAR
    #define INCL_BASE
    #define INCL_PM
    #include <os2.h>
    #undef INT
    #undef UINT
    #define HB_DONT_DEFINE_BASIC_TYPES

A new bunch of the errors from the .zip is indeed due to the missing 
printing support and missing accessibility support in Qt 4.5.1 for OS/2. 
For printing, there are three things you can do:

    1. Add #ifndef QT_NO_PRINTER / #endif around the parts in the source 
code that use printing classes (QAbstractPrintDialog, QPageSetupDialog 
etc.) This btw will let it build on all platforms that don't provide 
printing support for some reason, not only OS/2.

    2. Wait until the next release of Qt for OS/2 (4.6.1) is available. 
It will include printer support.

    3. Check out the Qt4 source trunk from this site (which is already 
4.6.1) and build Qt yourself.

As of accessibility, we may also provide a dummy implementation in 
4.6.1, but it's not there yet, so you will have to do #ifndef 
QT_NO_ACCESSIBILITY / #endif around the places that complain about 
missing accessibility methods.

The warnings in qmime.h are known you may ignore them for now.
<<<<<<========================



Do you have plan to do it ? If so then I can wait for changes before to 
try a checkout/build of Qt

Dmitry response:
 >>>>>========================
Yes, we decided to provide the dummy QAccessible implementation in 
4.6.1. Which is to be released within about a week.
<<<<<<========================

From dmacias at mail.udg.mx  Mon Feb 22 07:43:10 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 07:44:23 2010
Subject: [Harbour] OS/2: hbqt, advances
Message-ID: <4B827BDE.2080509@mail.udg.mx>

I continued making tests with Harbour hbqt and Qt451GA for OS/2

As I was getting many errors, I opened a "ticket" in svn.netlabs.org/qt4

With the fast and excelent help of:
  - Dmitry A. Kuminov (development)
  - Silvan Scherrer (management)
Harbour for OS/2 is very close to have support of hbqt contrib
Just remain eleven .cpp files with problems

I need help on three areas:

1) Maurilio: to check changes in hbdefs.h
    /* 28/03/2000 - maurilio.longo@libero.it
       The same holds true when using GCC under OS/2
    */
    /* xx/02/2010 - whoever@there.is
       Include all OS/2 API definitions to make sure other involved parties
       (such as Qt for OS/2) will get everything they want
    */
    #define OS2EMX_PLAIN_CHAR
    #define INCL_BASE
    #define INCL_PM
    #include <os2.h>
    #undef INT
    #undef UINT
    #define HB_DONT_DEFINE_BASIC_TYPES

2) Pritpal:
    1. Add #ifndef QT_NO_PRINTER / #endif around the parts in the source
code that use printing classes (QAbstractPrintDialog, QPageSetupDialog
etc.) This btw will let it build on all platforms that don't provide
printing support for some reason, not only OS/2.

3) Pritpal:
#ifndef QT_NO_ACCESSIBILITY / #endif around the places that complain
about missing accessibility methods.

Below are text with relevant facts of tests, info, responses, ...

Qt for OS/2 (4.6.1) will be available soon, with printer support using CUPS

README.OS2 file contain this section, useful for management of
unavailable classes

>>>>>========================
CURRENT LIMITATIONS
[...]
   4. In order to let Qt correctly detect the regional settings and
choose the right language for translating the user interface, the LANG
environment variable must be set. The format is
        set LANG=ll_CC
where <ll> is the language code and <CC> is the country code (refer to
     wikipedia.org to find correct letters for your langage and country
if you do not know them). Note that the optional encoding part of the LANG
specification is ignored by Qt for OS/2 since 4.5.1 Beta 5 because it
now detects the encoding automatically based on the system OS/2 settings.
Later, the correct language will be detected from the system settings so
that specifying LANG will be not necessary at all.

[...]

8. The followign classes are not available due to their rare usage or
low importance on the OS/2 platform: QSharedMemory, QSystemSemaphore,
QInputContext, QAccessible. The following macros are defined to indicate
this: QT_NO_SYSTEMSEMAPHORE, QT_NO_SHAREDMEMORY, QT_NO_IM,
QT_NO_ACCESSIBILITY. Applications normally use them to guard the
relevant parts of code so they should still build.
<<<<<<========================

David Macias


I installed Qt451GA using .wpi files from Netlabs

Using "Qt4 Command Prompt", setting os2gcc442 environment and Harbour
environment as usual

In first try to build Harbour-hbqt it fail with this error:

E:\ecs\system\qt4\include/QtCore/qt_os2.h:59:33: error:
API_FPU_CW_Wrappers.h: No such file or directory

Searching for API_FPU_CW_Wrappers.h it does not exist anywhere in
e:\ecs\system\qt4\include\ directories

Looking for API_FPU_CW_Wrappers.h it exist in:

     E:\ecs\system\qt4\mkspecs\os2-g++
     E:\ecs\system\qt4\mkspecs\default

with same date and content:

     17/12/09 3:22a 145,271 0 a--- API_FPU_CW_Wrappers.h

Copying API_FPU_CW_Wrappers.h to e:\ecs\system\qt4\include\ and trying
again build of Harbour-hbqt many errors are raised from
API_FPU_CW_Wrappers.h and then GPF with "Killed by SIGSEGV"

So something are wrong in API_FPU_CW_Wrappers.h reference, content and
use under OS/2

[...]

Dmitry response:
>>>>>========================
As far as I can see, the project doesn't use qmake. For this reason, the
include path E:\ecs\system\qt4\mkspecs\default (or
E:\ecs\system\qt4\mkspecs\os2-g++ which is the same in this case) is not
passed to the compiler. Adding it to the list of include directories for
the compier should fix the problem for you. Please try and report back.

For the second case, it's the wrong include order -- a typical problem
for the OS/2 environment caused by the way the os2.h file (which is a
central access point to the OS/2 APIs) is organized. In your case, it
seems that os2.h is manually included from either hbqt_hbqmainwindow.cpp
or hbqt_hbqmainwindow.h (or from another file they include) before Qt4
headers are included. Such an order is not supported and should not take
place -- Qt includes must go first. Also, it's not clear why os2.h is
included manually in a Qt source file in the first place: in theory,
this should be never needed. If you give me more details on this, I will
be able to suggest you the best solution.

P.S. SIGSEGV is probably due to too many errors (e.g. maybe a bug of the
GCC4 port) and is not related to Qt4.
<<<<<<========================


We use GNU make
Using:

     set C_INCLUDE_PATH=E:\ecs\system\qt4\mkspecs\default;%C_INCLUDE_PATH%
     set
CPLUS_INCLUDE_PATH=E:\ecs\system\qt4\mkspecs\default;%CPLUS_INCLUDE_PATH%

then API_FPU_CW_Wrappers.h missing has gone, and we have a lot of errors
due API_FPU_CW_Wrappers.h
Are more than 600 lines in build output
Most of them are of type:

     'somevalue' was not declared in this scope

After long section of API_FPU_CW_Wrappers.h errors, begin a new section
with qmime.h errors
[...]


Dmitry response:
>>>>>========================
Just to clarify Silvan, os2.h is indeed included very early: from
hbdefs.h which is included before <QtGui?/QMouseEvent> through other hb*
headers (hbapi.h -> hbvmpub.h).

So, my assumption was correct. Please make sure Qt headers are included
before hb* ones in all sources -- there is no other way to make it work
on OS/2 (*). Also note that it's not necessary to include qt_os2.h
directly as suggested by Silvan unless you need to directly access OS/2
API from the Qt-based part of the code (which is non-portable and
therefore should be avoided by all means).

(*) The thing with os2.h is that you have to specify what parts of the
API you want before including it (using the #define INCL_xxx
directives). If you do it once, all subsequent attempts to include os2.h
again (probably with a different set of INCL_xxx defines) will be
ignored by the compiler because os2.h contains a protection code that
allows to include its contents only once per every compilation unit
(.cpp file). Therefore, if your set of INCL_xxx doesn't drag in APIs
needed by some other parties involved in the compilation process there
is nothing these parties can do.

BTW, if you don't want to toss the Qt includes around in all sources,
there is one alternative solution. Just add the following to hbdefs.h
right before the line where os2.h is included:

#define OS2EMX_PLAIN_CHAR
#define INCL_BASE
#define INCL_PM

This will make sure that os2.h will drag in all the APIs it has so every
party will be eventually happy.
<<<<<<========================


Now the section for OS/2 in hbdefs.h is:

#elif defined( HB_OS_OS2 )

    /* With the exception of WORD, the IBM Visual Age C++ compiler has
       its own definitions of the Harbour types most of which conflict
with the
       Harbour #undefs, due to typedef being the prevalent method of
       defining the types in IBMCPP, whereas Harbour assumes that the
       definitions that it is replacing have been defined using
       #define. Therefore, it is necessary to skip the Harbour
       definition section when using the IBMCPP compiiler, include
       the IBMCPP type definitions, and then add the definition for WORD

       NOTE: This only applies to the common types that most C compilers
             define. Any new types, particulary those that start with
             HB_, must be placed AFTER the #endif __IBMCPP__ line!
    */
    /* 28/03/2000 - maurilio.longo@libero.it
       The same holds true when using GCC under OS/2
    */
    #define INCL_TYPES
    #define INCL_DOSEXCEPTIONS    /* DOS exception values */
    #define INCL_ERRORS           /* DOS error values     */
    #define INCL_LONGLONG         /* include native compiler LONGLONG
definition */

    /* DAVID:
    */
    #define OS2EMX_PLAIN_CHAR
    #define INCL_BASE
    #define INCL_PM

    #include <os2.h>
    #undef INT
    #undef UINT
    #define HB_DONT_DEFINE_BASIC_TYPES

and most of hbqt build error has gone :-)
You got the key

It build fine three of four libs:

     17/02/10 2:30p 300,032 124 a--- hbqt.lib
     17/02/10 3:44p 809,984 124 a--- hbqtcore.lib
     17/02/10 3:51p 71,168 124 a--- hbqtnetwork.lib

and fail with hbqtgui

[...]

In order to go ahead to solve hbqtgui I was trying build discarding each
file with error. hbqtgui have hundreds of .cpp and .prg files (more than
400) and fail with these eleven:

# QAbstractPrintDialog.cpp \
# QInputContext.cpp \
# QPageSetupDialog.cpp \
# QPlainTextEdit.cpp \
# QPrintDialog.cpp \
# QPrintEngine.cpp \
# QPrinter.cpp \
# QPrintPreviewDialog.cpp \
# QTextDocument.cpp \
# QTextEdit.cpp \
# QWidget.cpp \

Notes:
Note 1) Many files even without error show this group of warnings:
E:\ecs\system\qt4\include/QtGui/qmime.h:150: warning: unused parameter
'targetName'
E:\ecs\system\qt4\include/QtGui/qmime.h:150: warning: unused parameter
'supportedOps'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 'drm'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter 'drf'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter
'item'
E:\ecs\system\qt4\include/QtGui/qmime.h:154: warning: unused parameter
'itemIndex'
E:\ecs\system\qt4\include/QtGui/qmime.h:156: warning: unused parameter
'type'
E:\ecs\system\qt4\include/QtGui/qmime.h:156: warning: unused parameter 'ext'
E:\ecs\system\qt4\include/QtGui/qmime.h:190: warning: unused parameter 'drf'
E:\ecs\system\qt4\include/QtGui/qmime.h:190: warning: unused parameter
'type'
E:\ecs\system\qt4\include/QtGui/qmime.h:190: warning: unused parameter 'ext'
E:\ecs\system\qt4\include/QtGui/qmime.h:213: warning: unused parameter
'isAccepted'
E:\ecs\system\qt4\include/QtGui/qmime.h:289: warning: unused parameter
'mimeType'
E:\ecs\system\qt4\include/QtGui/qmime.h:289: warning: unused parameter
'mimeData'
E:\ecs\system\qt4\include/QtGui/qmime.h:291: warning: unused parameter
'info'

Note 2) Most errors seem to be related to printer/printing

     Perhaps some component are missing, and solution are related

Note 3) Discarding files with errors, we have a big lib:

     18/02/10 12:44a 2,792,960 124 a--- hbqtgui.lib

[...]


Dmitry response:
>>>>>========================
Okay, good. I would just change this part in hbdefs.h to the following:

    /* 28/03/2000 - maurilio.longo@libero.it
       The same holds true when using GCC under OS/2
    */
    /* xx/02/2010 - whoever@there.is
       Include all OS/2 API definitions to make sure other involved parties
       (such as Qt for OS/2) will get everything they want
    */
    #define OS2EMX_PLAIN_CHAR
    #define INCL_BASE
    #define INCL_PM
    #include <os2.h>
    #undef INT
    #undef UINT
    #define HB_DONT_DEFINE_BASIC_TYPES

A new bunch of the errors from the .zip is indeed due to the missing
printing support and missing accessibility support in Qt 4.5.1 for OS/2.
For printing, there are three things you can do:

    1. Add #ifndef QT_NO_PRINTER / #endif around the parts in the source
code that use printing classes (QAbstractPrintDialog, QPageSetupDialog
etc.) This btw will let it build on all platforms that don't provide
printing support for some reason, not only OS/2.

    2. Wait until the next release of Qt for OS/2 (4.6.1) is available.
It will include printer support.

    3. Check out the Qt4 source trunk from this site (which is already
4.6.1) and build Qt yourself.

As of accessibility, we may also provide a dummy implementation in
4.6.1, but it's not there yet, so you will have to do #ifndef
QT_NO_ACCESSIBILITY / #endif around the places that complain about
missing accessibility methods.

The warnings in qmime.h are known you may ignore them for now.
<<<<<<========================



Do you have plan to do it ? If so then I can wait for changes before to
try a checkout/build of Qt

Dmitry response:
>>>>>========================
Yes, we decided to provide the dummy QAccessible implementation in
4.6.1. Which is to be released within about a week.
<<<<<<========================


From maurilio.longo at libero.it  Mon Feb 22 07:46:24 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 07:46:37 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>
	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>
Message-ID: <4B827CA0.9020500@libero.it>

Viktor,

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> in this path
>>
>> -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
>>
>> E:/SVILUPPO/GCC/V3.3.5/ is where I decided to put GCC on my system, while the
>> last 3.3.5 in the path depends on GCC version and so it changes from release
>> to release.
> 
> Is '/gcc/3.3.5/' a mandatory element of the base dir, or 
> local user preference? I mean, may I simple install it 
> to 'E:/os2stuff/gcc/' instead of 'E:/Sviluppo/gcc/v3.3.5/'?
> 
Sure.

>> So we have to parse LIBRARY_PATH to add -L options to ld command line, but it
>> is not enough since we need an object, dll0.o, which is inside
>>
>> E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o
>>
>> which could be inferred from LIBRARY_PATH, but I don't know whether the new
>> versions of GCC have it in the same position.
> 
> That's a question. Plus whether it's in the same place for 
> gccomf vs plain gcc.
> 
I'd say yes, the OMF version has an .obj extension.

dir \*dll0.* /s

The volume label in drive E is Dati.
The Volume Serial Number is 812E:D5C2.

Directory of E:\Sviluppo\gcc\v3.3.5\usr\lib

11/06/07 22:52          1.955      0 a---  dll0.o
11/06/07 22:52          2.797      0 a---  dll0.obj
        2 file(s)       4.752 bytes used

Regards.

Maurilio.


> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Mon Feb 22 07:49:19 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 07:49:31 2010
Subject: [Harbour] Re: OS/2: hbqt, advances
Message-ID: <4B827D4F.8050307@mail.udg.mx>

Sorry for double post

Seamonkey report failure to send, does not put message on "Sent" folder, 
but message is delivered

(?)

David Macias


From harbour.01 at syenar.hu  Mon Feb 22 07:50:50 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 07:51:01 2010
Subject: [Harbour] OS/2: hbqt, advances
In-Reply-To: <4B827B59.9060505@mail.udg.mx>
References: <4B827B59.9060505@mail.udg.mx>
Message-ID: <BF8C0557-01FC-45EE-B9A1-AB9C0729E7D6@syenar.hu>

Hi,

> I need help on three areas:
> 
> 1) Maurilio: to check changes in hbdefs.h
>   /* 28/03/2000 - maurilio.longo@libero.it
>      The same holds true when using GCC under OS/2
>   */
>   /* xx/02/2010 - whoever@there.is
>      Include all OS/2 API definitions to make sure other involved parties
>      (such as Qt for OS/2) will get everything they want
>   */
>   #define OS2EMX_PLAIN_CHAR
>   #define INCL_BASE
>   #define INCL_PM
>   #include <os2.h>
>   #undef INT
>   #undef UINT
>   #define HB_DONT_DEFINE_BASIC_TYPES

To give everything that's needed for HBQT, 
these must be put inside hbqt.h header, not 
hbdefs.h.

[ Including everything in central header, 
just to satisfy some contribs, or some 
specific core parts is simple, but wrong 
solution, and quite complicated to clean 
later. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Feb 22 07:56:04 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 07:56:17 2010
Subject: [Harbour] OS/2: hbqt, advances
In-Reply-To: <BF8C0557-01FC-45EE-B9A1-AB9C0729E7D6@syenar.hu>
References: <4B827B59.9060505@mail.udg.mx>
	<BF8C0557-01FC-45EE-B9A1-AB9C0729E7D6@syenar.hu>
Message-ID: <1A03DB7B-C554-4139-836D-A3488651071C@syenar.hu>

BTW, seeing hbdefs.h. Current method for OS/2 is wrong, 
and should be fixed.

<os2.h> should only be included when legacy types are 
enabled. This means that <os2.h> has to be manually 
#included in every source file where it's currently 
missing from, along with proper INCL_ macros needed 
in each specific source file.

I'll fix this, but it may need more passes of fixes 
to get it completely clean.

Brgds,
Viktor

On 2010 Feb 22, at 13:50, Viktor Szak?ts wrote:

> Hi,
> 
>> I need help on three areas:
>> 
>> 1) Maurilio: to check changes in hbdefs.h
>>  /* 28/03/2000 - maurilio.longo@libero.it
>>     The same holds true when using GCC under OS/2
>>  */
>>  /* xx/02/2010 - whoever@there.is
>>     Include all OS/2 API definitions to make sure other involved parties
>>     (such as Qt for OS/2) will get everything they want
>>  */
>>  #define OS2EMX_PLAIN_CHAR
>>  #define INCL_BASE
>>  #define INCL_PM
>>  #include <os2.h>
>>  #undef INT
>>  #undef UINT
>>  #define HB_DONT_DEFINE_BASIC_TYPES
> 
> To give everything that's needed for HBQT, 
> these must be put inside hbqt.h header, not 
> hbdefs.h.
> 
> [ Including everything in central header, 
> just to satisfy some contribs, or some 
> specific core parts is simple, but wrong 
> solution, and quite complicated to clean 
> later. ]
> 
> Brgds,
> Viktor
> 

From maurilio.longo at libero.it  Mon Feb 22 07:57:49 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 07:58:01 2010
Subject: [Harbour] OS/2: hbqt, advances
In-Reply-To: <4B827BDE.2080509@mail.udg.mx>
References: <4B827BDE.2080509@mail.udg.mx>
Message-ID: <4B827F4D.9020002@libero.it>

David,

David Arturo Macias Corona wrote:
> 
> 1) Maurilio: to check changes in hbdefs.h
>    /* 28/03/2000 - maurilio.longo@libero.it
>       The same holds true when using GCC under OS/2
>    */
>    /* xx/02/2010 - whoever@there.is
>       Include all OS/2 API definitions to make sure other involved parties
>       (such as Qt for OS/2) will get everything they want
>    */
>    #define OS2EMX_PLAIN_CHAR
>    #define INCL_BASE
>    #define INCL_PM
>    #include <os2.h>
>    #undef INT
>    #undef UINT
>    #define HB_DONT_DEFINE_BASIC_TYPES
> 
This takes in all #defines related to PM (OS/2 GUI), it should pose no harm,
just a slower building (maybe even not noticeable).

But it would be better, given that qt is a contrib, have an include file at
the top of the qt tree which does just this or at least try to see if it is
enough to get it going.

Maurilio.



From harbour.01 at syenar.hu  Mon Feb 22 07:57:58 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 07:58:12 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B827CA0.9020500@libero.it>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>
	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>
	<4B827CA0.9020500@libero.it>
Message-ID: <9049422A-E615-481E-9266-680103F8773E@syenar.hu>

>>> -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
>>> 
>>> E:/SVILUPPO/GCC/V3.3.5/ is where I decided to put GCC on my system, while the
>>> last 3.3.5 in the path depends on GCC version and so it changes from release
>>> to release.
>> 
>> Is '/gcc/3.3.5/' a mandatory element of the base dir, or 
>> local user preference? I mean, may I simple install it 
>> to 'E:/os2stuff/gcc/' instead of 'E:/Sviluppo/gcc/v3.3.5/'?
>> 
> Sure.

This means we can't use base path to get version 
information needed to form paths for ld.exe.

To me it's unclear how to make this automatic or 
elegant.

I think the bug should be reported to GCC maintainers, 
to get it fixed ASAP.

>>> So we have to parse LIBRARY_PATH to add -L options to ld command line, but it
>>> is not enough since we need an object, dll0.o, which is inside
>>> 
>>> E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o
>>> 
>>> which could be inferred from LIBRARY_PATH, but I don't know whether the new
>>> versions of GCC have it in the same position.
>> 
>> That's a question. Plus whether it's in the same place for 
>> gccomf vs plain gcc.
>> 
> I'd say yes, the OMF version has an .obj extension.
> 
> dir \*dll0.* /s
> 
> The volume label in drive E is Dati.
> The Volume Serial Number is 812E:D5C2.
> 
> Directory of E:\Sviluppo\gcc\v3.3.5\usr\lib
> 
> 11/06/07 22:52          1.955      0 a---  dll0.o
> 11/06/07 22:52          2.797      0 a---  dll0.obj
>        2 file(s)       4.752 bytes used

Okay.

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Feb 22 07:59:14 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 07:59:28 2010
Subject: [Harbour] OS/2: hbqt, advances
In-Reply-To: <1A03DB7B-C554-4139-836D-A3488651071C@syenar.hu>
References: <4B827B59.9060505@mail.udg.mx>	<BF8C0557-01FC-45EE-B9A1-AB9C0729E7D6@syenar.hu>
	<1A03DB7B-C554-4139-836D-A3488651071C@syenar.hu>
Message-ID: <4B827FA2.6030505@libero.it>

Viktor,

you need it also when you call some Dos....() APIs to have the function prototype.

Maurilio.


Viktor Szak?ts wrote:
> BTW, seeing hbdefs.h. Current method for OS/2 is wrong, 
> and should be fixed.
> 
> <os2.h> should only be included when legacy types are 
> enabled. This means that <os2.h> has to be manually 
> #included in every source file where it's currently 
> missing from, along with proper INCL_ macros needed 
> in each specific source file.
> 
> I'll fix this, but it may need more passes of fixes 
> to get it completely clean.
> 
> Brgds,
> Viktor
> 
> On 2010 Feb 22, at 13:50, Viktor Szak?ts wrote:
> 
>> Hi,
>>
>>> I need help on three areas:
>>>
>>> 1) Maurilio: to check changes in hbdefs.h
>>>  /* 28/03/2000 - maurilio.longo@libero.it
>>>     The same holds true when using GCC under OS/2
>>>  */
>>>  /* xx/02/2010 - whoever@there.is
>>>     Include all OS/2 API definitions to make sure other involved parties
>>>     (such as Qt for OS/2) will get everything they want
>>>  */
>>>  #define OS2EMX_PLAIN_CHAR
>>>  #define INCL_BASE
>>>  #define INCL_PM
>>>  #include <os2.h>
>>>  #undef INT
>>>  #undef UINT
>>>  #define HB_DONT_DEFINE_BASIC_TYPES
>> To give everything that's needed for HBQT, 
>> these must be put inside hbqt.h header, not 
>> hbdefs.h.
>>
>> [ Including everything in central header, 
>> just to satisfy some contribs, or some 
>> specific core parts is simple, but wrong 
>> solution, and quite complicated to clean 
>> later. ]
>>
>> Brgds,
>> Viktor
>>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb 22 08:01:08 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 08:01:21 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <A832E1BF-48D7-4CB6-9812-306AC44A5F98@syenar.hu>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>	<1266631651299-4601199.post@n2.nabble.com>	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>	<4B823A02.9010700@libero.it>
	<A832E1BF-48D7-4CB6-9812-306AC44A5F98@syenar.hu>
Message-ID: <4B828014.8000100@libero.it>

Viktor,

yes.

Maurilio.

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> On 2010 Feb 22, at 09:02, Maurilio Longo wrote:
> 
>> Viktor,
>>
>> one thing I'd like to have is the ability of the compiler to spot iVars like
>> it does variables, I mean unused, not declared and so on, while it now simply
>> ignores all of them and you get an error when executing such code.
> 
> By 'iVars', you means object vars?
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Mon Feb 22 08:03:08 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 08:03:25 2010
Subject: [Harbour] OS/2:  -DTCPV40HDRS
Message-ID: <4B82808C.8060403@mail.udg.mx>

In tests with Harbour hbqt and Qt451GA for OS/2 raised the question of
-DTCPV40HDRS

Perhaps is time to exclude -DTCPV40HDRS ?
I am using it in official builds

See info below

David Macias


Dmitry response:
>>>>>========================
And BTW, is there any specific reason for -DTCPV40HDRS? This will cause 
gcc to use the outdated TCP stack (which is 16-bit AFAIR) instead of the 
more modern 32-bit stack used by Qt. I heard that these stacks are not 
compatible and won't work together (though I don't know all the details).
<<<<<<========================


In Harbour project Maurilio Longo is our OS/2 expert and he explained us 
years ago that we must build Harbour with -DTCPV40HDRS in order to be 
used in old OS/2 and new eCS
If this case may have problem with Qt I can inform it in Harbour 
project. Just tell me :-)
[...]


Dmitry response:
 >>>>>========================
Okay, I had a small discussion on this topic with other OS/2 people and 
this is what I found. The only benefit of the 16-bit stack (that is used 
by Innotek GCC/kLIBC when you use -DTCPV40HDRS) comparing to the 32-bit 
stack (used otherwise) that the former is available on Warp3 while the 
latter is not (32 bit is also not available on Warp4 by default but it 
is easily solvable by installing a free Fixpak on it). So unless you 
really want to support Warp3 you can completely drop this define.

Next, both stacks can be probably used in parallel within the same 
process (never checked that) but they will for sure not be able to 
exchange sockets.

And another important thing that Qt is bound to the 32-bit stack, so 
even if your application using two different stacks will eventually 
work, it will not load on a system with no 32-bit stack installed anyway 
(due to the Qt dependency). So keep that in mind.
<<<<<<========================


It mean that Warp 3 support is excluded in your Qt4 development ?

Dmitry response:
 >>>>>========================
Yes. Neither Qt3 nor Qt4 officially supports Warp3. And there are no 
current plans to provide such support.
<<<<<<========================

From harbour.01 at syenar.hu  Mon Feb 22 08:07:11 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 08:07:21 2010
Subject: [Harbour] OS/2: hbqt, advances
In-Reply-To: <4B827FA2.6030505@libero.it>
References: <4B827B59.9060505@mail.udg.mx>	<BF8C0557-01FC-45EE-B9A1-AB9C0729E7D6@syenar.hu>
	<1A03DB7B-C554-4139-836D-A3488651071C@syenar.hu>
	<4B827FA2.6030505@libero.it>
Message-ID: <16E10F18-026E-4896-8744-31A411AD26AD@syenar.hu>

> Viktor,
> 
> you need it also when you call some Dos....() APIs to have the function prototype.

I know, but in every such case, it should be 
included on per-source file basis. Similar to 
how we do it now for all other OSes.

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Feb 22 08:09:34 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 08:09:48 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <9049422A-E615-481E-9266-680103F8773E@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>
	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>
Message-ID: <4B82820E.80203@libero.it>

Viktor Szak?ts wrote:
> This means we can't use base path to get version 
> information needed to form paths for ld.exe.
> 
No, we should split LIBRARY_PATH and put every piece of it into a -L statement
for ld.exe and, if in one of those paths there is dll0.o (or .obj for omf)
pass it to ld to have it include it in the building.

> To me it's unclear how to make this automatic or 
> elegant.
> 
> I think the bug should be reported to GCC maintainers, 
> to get it fixed ASAP.
> 
I'll try to write to the current porter and see if he can fix it.

David, did you already reported this issue to Paul Smedley?

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Feb 22 08:12:35 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 08:12:47 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <4B828014.8000100@libero.it>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>	<1266631651299-4601199.post@n2.nabble.com>	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>	<4B823A02.9010700@libero.it>
	<A832E1BF-48D7-4CB6-9812-306AC44A5F98@syenar.hu>
	<4B828014.8000100@libero.it>
Message-ID: <51DECB43-47A4-4EEB-AF7A-409CF9B6DF77@syenar.hu>

You're right, this would be an absolutely useful feature.

For me it's actually a show stopper to ever create any 
OOP code in Harbour. It's just too easy to mistype something 
and only get to know about it by live testing complete code 
flow.

Compiler-level solution doesn't seem to be easy though.

Brgds,
Viktor

On 2010 Feb 22, at 14:01, Maurilio Longo wrote:

> Viktor,
> 
> yes.
> 
> Maurilio.
> 
> Viktor Szak?ts wrote:
>> Hi Maurilio,
>> 
>> On 2010 Feb 22, at 09:02, Maurilio Longo wrote:
>> 
>>> Viktor,
>>> 
>>> one thing I'd like to have is the ability of the compiler to spot iVars like
>>> it does variables, I mean unused, not declared and so on, while it now simply
>>> ignores all of them and you get an error when executing such code.
>> 
>> By 'iVars', you means object vars?
>> 
>> Brgds,
>> Viktor
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Mon Feb 22 08:18:30 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 08:18:43 2010
Subject: [Harbour] OS/2:  -DTCPV40HDRS
In-Reply-To: <4B82808C.8060403@mail.udg.mx>
References: <4B82808C.8060403@mail.udg.mx>
Message-ID: <4B828426.9080901@libero.it>

David,

do you still use warp 3? If not, we can remove it :D

Jokes apart, we can decide that warp3 is not supported when using Qt or all
together.

I don't really know who is using harbour on OS/2 so I put it in to stay on the
safe side.

Maurilio.


David Arturo Macias Corona wrote:
> In tests with Harbour hbqt and Qt451GA for OS/2 raised the question of
> -DTCPV40HDRS
> 
> Perhaps is time to exclude -DTCPV40HDRS ?
> I am using it in official builds
> 
> See info below
> 
> David Macias
> 
> 
> Dmitry response:
>>>>>> ========================
> And BTW, is there any specific reason for -DTCPV40HDRS? This will cause
> gcc to use the outdated TCP stack (which is 16-bit AFAIR) instead of the
> more modern 32-bit stack used by Qt. I heard that these stacks are not
> compatible and won't work together (though I don't know all the details).
> <<<<<<========================
> 
> 
> In Harbour project Maurilio Longo is our OS/2 expert and he explained us
> years ago that we must build Harbour with -DTCPV40HDRS in order to be
> used in old OS/2 and new eCS
> If this case may have problem with Qt I can inform it in Harbour
> project. Just tell me :-)
> [...]
> 
> 
> Dmitry response:
>>>>>>========================
> Okay, I had a small discussion on this topic with other OS/2 people and
> this is what I found. The only benefit of the 16-bit stack (that is used
> by Innotek GCC/kLIBC when you use -DTCPV40HDRS) comparing to the 32-bit
> stack (used otherwise) that the former is available on Warp3 while the
> latter is not (32 bit is also not available on Warp4 by default but it
> is easily solvable by installing a free Fixpak on it). So unless you
> really want to support Warp3 you can completely drop this define.
> 
> Next, both stacks can be probably used in parallel within the same
> process (never checked that) but they will for sure not be able to
> exchange sockets.
> 
> And another important thing that Qt is bound to the 32-bit stack, so
> even if your application using two different stacks will eventually
> work, it will not load on a system with no 32-bit stack installed anyway
> (due to the Qt dependency). So keep that in mind.
> <<<<<<========================
> 
> 
> It mean that Warp 3 support is excluded in your Qt4 development ?
> 
> Dmitry response:
>>>>>>========================
> Yes. Neither Qt3 nor Qt4 officially supports Warp3. And there are no
> current plans to provide such support.
> <<<<<<========================
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Mon Feb 22 08:22:41 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 08:22:54 2010
Subject: [Harbour] Re: OS/2: hbqt, advances
Message-ID: <4B828521.2080405@mail.udg.mx>

Viktor, Maurilio:

[Viktor]
 >To give everything that's needed for HBQT,
 >these must be put inside hbqt.h header, not
 >hbdefs.h.

 >[ Including everything in central header,
 >just to satisfy some contribs, or some
 >specific core parts is simple, but wrong
 >solution, and quite complicated to clean
 >later. ]

[Viktor]
 >BTW, seeing hbdefs.h. Current method for OS/2 is wrong,
 >and should be fixed.

 ><os2.h> should only be included when legacy types are
 >enabled. This means that <os2.h> has to be manually
 >#included in every source file where it's currently
 >missing from, along with proper INCL_ macros needed
 >in each specific source file.

 >I'll fix this, but it may need more passes of fixes
 >to get it completely clean.

[Maurilio]
 >This takes in all #defines related to PM (OS/2 GUI), it should pose no
 >harm, just a slower building (maybe even not noticeable).

 >But it would be better, given that qt is a contrib, have an include
 >file at the top of the qt tree which does just this or at least try to
 >see if it is enough to get it going.

[Maurilio]
 >you need it also when you call some Dos....() APIs to have the function
 > prototype.

[Viktor]
 >I know, but in every such case, it should be
 >included on per-source file basis. Similar to
 >how we do it now for all other OSes.


Harbour for OS/2 has been using:

     #define INCL_TYPES
     #define INCL_DOSEXCEPTIONS    /* DOS exception values */
     #define INCL_ERRORS           /* DOS error values     */
     #define INCL_LONGLONG         /* include native compiler LONGLONG
definition */

     #include <os2.h>
     #undef INT
     #undef UINT
     #define HB_DONT_DEFINE_BASIC_TYPES


and proposed change is:

     #define OS2EMX_PLAIN_CHAR
     #define INCL_BASE
     #define INCL_PM
     #include <os2.h>
     #undef INT
     #undef UINT
     #define HB_DONT_DEFINE_BASIC_TYPES


I do not know if old or new way are right, so I requested to Maurilio to 
check it
Viktor, I suggest do not apply any changes until agreement
Maurilio, do you have the whole picture ?

Do not forget this info:

(*) The thing with os2.h is that you have to specify what parts of the 
API you want before including it (using the #define INCL_xxx 
directives). If you do it once, all subsequent attempts to include os2.h 
again (probably with a different set of INCL_xxx defines) will be 
ignored by the compiler because os2.h contains a protection code that 
allows to include its contents only once per every compilation unit 
(.cpp file). Therefore, if your set of INCL_xxx doesn't drag in APIs 
needed by some other parties involved in the compilation process there 
is nothing these parties can do.

BTW, if you don't want to toss the Qt includes around in all sources, 
there is one alternative solution. Just add the following to hbdefs.h 
right before the line where os2.h is included:

#define OS2EMX_PLAIN_CHAR
#define INCL_BASE
#define INCL_PM

This will make sure that os2.h will drag in all the APIs it has so every 
party will be eventually happy.

David Macias


From harbour.01 at syenar.hu  Mon Feb 22 08:22:44 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 08:23:00 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B82820E.80203@libero.it>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>
	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>
	<4B82820E.80203@libero.it>
Message-ID: <F1C5797F-1AA5-4833-BB8B-E6ED2E25C2E7@syenar.hu>

Hi,

>> This means we can't use base path to get version 
>> information needed to form paths for ld.exe.
>> 
> No, we should split LIBRARY_PATH and put every piece of it into a -L statement
> for ld.exe and, if in one of those paths there is dll0.o (or .obj for omf)
> pass it to ld to have it include it in the building.

Who/what is setting LIBRARY_PATH? Should it be set by user, 
or is it set by some of the GCC tools in GCC toolchain?

>> To me it's unclear how to make this automatic or 
>> elegant.
>> 
>> I think the bug should be reported to GCC maintainers, 
>> to get it fixed ASAP.
>> 
> I'll try to write to the current porter and see if he can fix it.
> 
> David, did you already reported this issue to Paul Smedley?

Thank you.

Brgds,
Viktor

From wcshum88 at hotmail.com  Mon Feb 22 08:24:34 2010
From: wcshum88 at hotmail.com (Shum)
Date: Mon Feb 22 08:24:43 2010
Subject: [Harbour] Macro within codeblock ??
Message-ID: <1266845074709-4611984.post@n2.nabble.com>


Hi Harbour developers,

I use macro within codeblock for years with Xbase++....as follow:

cFAction := FIELD->FNCNAME

bAction := {|| &cFAction() }
If isfunction( cFAction )
    oXbp:ItemSelected := bAction
Endif

However, Harbour does not support macro within codeblock ...

Hope someone can give me any solution on this topic ...

Shum

-- 
View this message in context: http://n2.nabble.com/Macro-within-codeblock-tp4611984p4611984.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Mon Feb 22 08:30:03 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 08:30:12 2010
Subject: [Harbour] Re: OS/2: hbqt, advances
In-Reply-To: <4B828521.2080405@mail.udg.mx>
References: <4B828521.2080405@mail.udg.mx>
Message-ID: <88FB0F90-3C09-4954-AFB4-4BCD5846034F@syenar.hu>

> and proposed change is:
> 
>    #define OS2EMX_PLAIN_CHAR
>    #define INCL_BASE
>    #define INCL_PM
>    #include <os2.h>
>    #undef INT
>    #undef UINT
>    #define HB_DONT_DEFINE_BASIC_TYPES
> 
> 
> I do not know if old or new way are right, so I requested to Maurilio to check it
> Viktor, I suggest do not apply any changes until agreement
> Maurilio, do you have the whole picture ?

Sorry, I've already started to clean it, and will 
commit it soon.

This is not a QT specific matter, but generic 
Harbour problem. QT specific part needs to be 
fixed inside HBQT header hbqt.h:

---
#define OS2EMX_PLAIN_CHAR
#define INCL_BASE
#define INCL_PM

{#include Harbour headers}

#if defined( HB_OS_OS2 )
#  include <os2.h>
#endif
---

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Feb 22 08:41:11 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 08:41:28 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <F1C5797F-1AA5-4833-BB8B-E6ED2E25C2E7@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>	<4B82820E.80203@libero.it>
	<F1C5797F-1AA5-4833-BB8B-E6ED2E25C2E7@syenar.hu>
Message-ID: <4B828977.7060904@libero.it>

Viktor Szak?ts wrote:
> Who/what is setting LIBRARY_PATH? Should it be set by user, 
> or is it set by some of the GCC tools in GCC toolchain?
> 

The user/installer when it installs the compiler and its tool-chain, so it has
to be present, otherwise you cannot compile even a simple helloworld.c.

>>> I think the bug should be reported to GCC maintainers, 
>>> to get it fixed ASAP.
>>>
>> I'll try to write to the current porter and see if he can fix it.
>>
>> David, did you already reported this issue to Paul Smedley?

Anyway, Viktor, if we can find a way to do that parsing, it would instantly
fix _every_ version out there without forcing all of us (OS/2 users left :))
to upgrade to an instable GCC version.

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Mon Feb 22 08:42:34 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 08:42:45 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B8289CA.3010302@mail.udg.mx>

Maurilio:

 >I'll try to write to the current porter and see if he can fix it.

 >David, did you already reported this issue to Paul Smedley?

1) I sent report to many well-known people on OS/2
(Knut, Paul Smedley, Andreas, Sander, Ulrich)
so all of them know this problem

2) I reported Knut response to Harbour group
  See message
    OS/2: Harbour 13841
    12/02/10 08:57 AM
Knut send same response to all, so they know response

3) I posted a ticket in
   svn.netlabs.org/libc

4) I opened an account in mantis.smedley.info, but response to confirm 
account delayed to much and I found it in spam folder

5) I have not posted ticket in mantis yet

If you contact Paul you can recall him for my original message, and if 
you post ticket in mantis, you can use same content I used in netlabs
Content are below

What I see is: change to os2gcc will be available in future releases, so 
maybe only for os2gcc442 and greater and not for os2gcc335. It will 
force you to change your os2gcc compiler
Cons: You need to make adjustments to your environments/systems
Pros: You will be carried to present  :-)

Availability of next os2gcc release depend of Paul and his plans

David Macias

Ticket content ============

In Harbour for OS/2 development ( www.harbour-project.org ) we face from 
long time a problem using os2gcc compilers when we try to build some 
.dll files

Tracing I found an now famous 32 Kb limit:

Somewhere gcc is using 32 Kb limit for our case

     gcc --> emxomfld.exe ( ld.exe )

     ( or is OS/2 limit ? :-) )

Below are first quick and clear Knut St. Osmundsen response

Thanks, David Macias

Yes, this is an OS/2 limitation. The usual workaround is to pass the 
arguments in a response file (emxomfld @filename.rsp). Without checking 
all the relevant code, I'm pretty sure that the compiler/linker driver 
(gcc) will not create a response file when invoking sub programs like 
as, ld or emxomfld. The easiest way to hack it into doing this would be 
to change pexecute() in libiberty/pexecute.c to create a response file 
for arguments exceeding, say, 24 KB. 
http://svn.netlabs.org/libc/browser/branches/libc-0.6/src/gcc/libiberty/pexecute.c#L803


From vszakats at users.sourceforge.net  Mon Feb 22 08:45:09 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 22 08:45:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13958] trunk/harbour
Message-ID: <E1NjYaz-0007m7-4X@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13958
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13958&view=rev
Author:   vszakats
Date:     2010-02-22 13:45:07 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 14:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/extrap.c
  * src/vm/dynlibhb.c
  * src/common/hbgete.c
  * src/common/hbffind.c
  * src/common/hbver.c
  * src/rtl/filesys.c
  * src/rtl/diskspac.c
  * src/rtl/gtos2/gtos2.c
  * src/rtl/cputime.c
  * src/rtl/disksphb.c
  * include/hbthread.h
  * contrib/hbmzip/hbmzip.c
    ! Fixed to setup all OS/2 INCL_* constants and
      to #include os2.h by themselves, and not to rely
      on Harbour headers to do this job for them.
    ; TODO: Do the same for dos.h.

  * doc/hdr_tpl.txt
    - Deleted local changelog.
    ! Fixes to .prg function docs
    + Update copyright year to 2010.
    + Added fact that $SEEALSO$ should be comma separated.
    + Added .c function example (far from perfect)

  * examples/hbdoc2/tmplates.prg
  * doc/hdr_tpl.txt
    + Added $VERSION$ tag. (pls update HBIDE. We haven't finalized
      the format yet, to it's little bit premature to create
      new and new parsers/generators for it yet)

  * include/hbdefs.h
    ! Fixed to not unconditionally include OS/2 headers with
      an arbitrary selection of INCL_ macros.
      Now OS/2 headers will only be included if legacy types
      are requested (off by default), and no INCL_ macros
      are defined. This latter change may affect 3rd party
      code written for OS/2, so I'm marking it INCOMPATIBLE.

  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/hbqt.h
    * Changed to #include hbapi.h from hbqt.h. It needs it,
      so this is the clean way. Changed generator to leave
      out hbapi.h from each source file and refer to hbqt.h
      only. (untested)
    + Added logic to #include OS/2 headers with some INCL_
      macros defined, to make QT on OS/2 happy. (copied them
      from the dev. list)
    ; TODO: Regenerate HBQT sources.

  * utils/hbtest/hbtest.prg
    ! Cleaned old problem reported by Chen. It seems like
      a feature which was never finished, and it's not even
      hugely needed, so I deleted it.

  * config/global.mk
    + Will now provide HB_COMP_PATH_PUB value for os2-gcc, os2-gccomf
      compilers. This value can be used to manually form ld.exe
      command line.
      (NOTE: This may be deleted in the future, when sorting
      out line-length limit problems for these compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/doc/hdr_tpl.txt
    trunk/harbour/examples/hbdoc2/tmplates.prg
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbthread.h
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/common/hbgete.c
    trunk/harbour/src/common/hbver.c
    trunk/harbour/src/rtl/cputime.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/disksphb.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/gtos2/gtos2.c
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/extrap.c
    trunk/harbour/utils/hbtest/hbtest.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 22 08:48:41 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 08:48:53 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B828977.7060904@libero.it>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>	<4B82820E.80203@libero.it>
	<F1C5797F-1AA5-4833-BB8B-E6ED2E25C2E7@syenar.hu>
	<4B828977.7060904@libero.it>
Message-ID: <93CBAEA4-1624-4A68-9EEA-A77DAED6FF75@syenar.hu>

> The user/installer when it installs the compiler and its tool-chain, so it has
> to be present, otherwise you cannot compile even a simple helloworld.c.

Sorry if I missed it, but can you paste here a living 
example for what value it's actually set to?

I'd also like to include it in INSTALL, since it's 
apparently missing.

>>> David, did you already reported this issue to Paul Smedley?
> 
> Anyway, Viktor, if we can find a way to do that parsing, it would instantly
> fix _every_ version out there without forcing all of us (OS/2 users left :))
> to upgrade to an instable GCC version.

If possible to do, fine for me.

I've just posted a little change which helps 
the case already: $(HB_COMP_PATH_PUB) which 
returns the directory where gcc.exe is residing 
in.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Feb 22 08:54:54 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 08:55:03 2010
Subject: [Harbour] dos/watcom: warnings in hbsocket.c
Message-ID: <FB7B38C6-5970-4CB4-9245-F772B44FA0E1@syenar.hu>

Hi,

..\..\..\hbsocket.c(3020): Warning! W102: Type mismatch (warning)
..\..\..\hbsocket.c(3020): Note! N2003: source conversion type is 'char *'
..\..\..\hbsocket.c(3020): Note! N2004: target conversion type is 'unsigned long '
..\..\..\hbsocket.c(3026): Warning! W131: No prototype found for function 'ioctl'
..\..\..\hbsocket.c(3028): Warning! W102: Type mismatch (warning)
..\..\..\hbsocket.c(3028): Note! N2003: source conversion type is 'unsigned long '
..\..\..\hbsocket.c(3028): Note! N2004: target conversion type is 'char *'

Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Feb 22 09:00:03 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 09:00:15 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
Message-ID: <4B828DE3.4040206@mail.udg.mx>

Maurilio:

 >do you still use warp 3? If not, we can remove it :D

I just have the red boxes, but do not use it. I was supposing you are 
using it  :-)

I have boxes of OS/2 2.0, 2.1, Warp 3, Warp 4, eCS 1.0, 1.2, 1.2MR

 >Jokes apart, we can decide that warp3 is not supported when using Qt or
 > all together.

Preferable all together

 >I don't really know who is using harbour on OS/2 so I put it in to stay
 > on the safe side.

I do not know too
Harbour 2.0.0 for OS/2 downloads have an strange behaviour not expected 
for OS/2. It have downloads in sustained state daily and now have more 
than 600.
Seem notice is spreading between isolated groups, but no one has 
requested help or comment
Many experts in OS/2-Clipper code  :-)

So we exclude -DTCPV40HDRS, dropping Warp 3 support in Harbour ?
( Think carefully: many corporations, banks, ATM, ... will be affected 
:-) )

David Macias

From maurilio.longo at libero.it  Mon Feb 22 09:01:32 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 09:01:46 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <93CBAEA4-1624-4A68-9EEA-A77DAED6FF75@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>	<4B82820E.80203@libero.it>	<F1C5797F-1AA5-4833-BB8B-E6ED2E25C2E7@syenar.hu>	<4B828977.7060904@libero.it>
	<93CBAEA4-1624-4A68-9EEA-A77DAED6FF75@syenar.hu>
Message-ID: <4B828E3C.8090301@libero.it>

Viktor,

Viktor Szak?ts wrote:
>> The user/installer when it installs the compiler and its tool-chain, so it has
>> to be present, otherwise you cannot compile even a simple helloworld.c.
> 
> Sorry if I missed it, but can you paste here a living 
> example for what value it's actually set to?
> 

here is mine when not using old tcp headers,

(E:\harbour\ftpd)set LIBRARY_PATH
LIBRARY_PATH=E:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5;E:/SVI
LUPPO/GCC/V3.3.5/USR/lib;D:\JAVA11\LIB;

> I'd also like to include it in INSTALL, since it's 
> apparently missing.
> 
It is a GCC environment setting, so it has to be OK before trying to install
harbour.

> 
> I've just posted a little change which helps 
> the case already: $(HB_COMP_PATH_PUB) which 
> returns the directory where gcc.exe is residing 
> in.
> 

Ok, but is there a way, inside .mk files to split an env-var using some char
as delimiter? if yes, than we can create the command line for ld which has
this sequence of paths as a variable part, while the rest should be pretty fixed.

Thanks.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb 22 09:06:10 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 09:06:23 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
In-Reply-To: <4B828DE3.4040206@mail.udg.mx>
References: <4B828DE3.4040206@mail.udg.mx>
Message-ID: <4B828F52.2080107@libero.it>

David,

David Arturo Macias Corona wrote:
> I do not know too
> Harbour 2.0.0 for OS/2 downloads have an strange behaviour not expected
> for OS/2. It have downloads in sustained state daily and now have more
> than 600.
>From different IPs?

I don't believe there are so many OS/2 programmers still using a clipper
dialect out there. It is not possible!

> So we exclude -DTCPV40HDRS, dropping Warp 3 support in Harbour ?
> ( Think carefully: many corporations, banks, ATM, ... will be affected
> :-) )
> 
Let's hope not to need one of those ATMs after we remove the switch! :D

Anyway, I'd say to remove it, given Warp 3 is as old as Windows 95 or even
older, and let's see what happens.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Mon Feb 22 09:07:28 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 22 09:07:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13959] trunk/harbour
Message-ID: <E1NjYwa-0003cA-C9@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13959
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13959&view=rev
Author:   vszakats
Date:     2010-02-22 14:07:26 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 15:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    ! Fixed to not #include <dos.h> unconditionally. This should
      be done by specific source code, if needed. INCOMPATIBLE,
      if source code relied on this behavior. From now on it,
      should include dos.h manually.

  * src/vm/thread.c
  * src/common/hbver.c
  * src/rtl/gtdos/gtdos.c
  * src/rtl/isprint.c
  * src/rtl/diskspac.c
  * src/rtl/disksphb.c
  * src/rtl/net.c
  * contrib/hbct/print.c
    ! Fixed to #include <dos.h> manually.

  * src/rtl/fstemp.c
    ! Fixed recent warning for dos targets.

  * contrib/hbct/video.c
    ! Fixed old unused variable warning for dos/watcom targets.

  * INSTALL
    + Documented that OS/2 Warp 4 is supported (instead of generic OS/2).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbct/print.c
    trunk/harbour/contrib/hbct/video.c
    trunk/harbour/include/hbdefs.h
    trunk/harbour/src/common/hbver.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/disksphb.c
    trunk/harbour/src/rtl/fstemp.c
    trunk/harbour/src/rtl/gtdos/gtdos.c
    trunk/harbour/src/rtl/isprint.c
    trunk/harbour/src/rtl/net.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 22 09:09:07 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 09:09:17 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
In-Reply-To: <4B828DE3.4040206@mail.udg.mx>
References: <4B828DE3.4040206@mail.udg.mx>
Message-ID: <6E1E12F0-1525-465B-B312-A7C714B65A2F@syenar.hu>

> I do not know too
> Harbour 2.0.0 for OS/2 downloads have an strange behaviour not expected for OS/2. It have downloads in sustained state daily and now have more than 600.
> Seem notice is spreading between isolated groups, but no one has requested help or comment
> Many experts in OS/2-Clipper code  :-)
> 
> So we exclude -DTCPV40HDRS, dropping Warp 3 support in Harbour ?
> ( Think carefully: many corporations, banks, ATM, ... will be affected :-) )

Is there any way to detect OS/2 target version and 
automatically toggle this option accordingly?

Also, in such way HBQT could be disabled for < Warp 4 
targets.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Feb 22 09:10:36 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 09:10:46 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B828E3C.8090301@libero.it>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>	<4B82820E.80203@libero.it>	<F1C5797F-1AA5-4833-BB8B-E6ED2E25C2E7@syenar.hu>	<4B828977.7060904@libero.it>
	<93CBAEA4-1624-4A68-9EEA-A77DAED6FF75@syenar.hu>
	<4B828E3C.8090301@libero.it>
Message-ID: <320D2B64-E282-4E0A-BC1A-9CA0D3FBCAD0@syenar.hu>

>> Sorry if I missed it, but can you paste here a living 
>> example for what value it's actually set to?
>> 
> 
> here is mine when not using old tcp headers,
> 
> (E:\harbour\ftpd)set LIBRARY_PATH
> LIBRARY_PATH=E:/SVILUPPO/GCC/V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5;E:/SVI
> LUPPO/GCC/V3.3.5/USR/lib;D:\JAVA11\LIB;

Thank you.

>> I'd also like to include it in INSTALL, since it's 
>> apparently missing.
>> 
> It is a GCC environment setting, so it has to be OK before trying to install
> harbour.

Okay, I see now that currently some .cmds are called 
to init the env, maybe this ennvar is setup in there.

> 
>> 
>> I've just posted a little change which helps 
>> the case already: $(HB_COMP_PATH_PUB) which 
>> returns the directory where gcc.exe is residing 
>> in.
>> 
> 
> Ok, but is there a way, inside .mk files to split an env-var using some char
> as delimiter? if yes, than we can create the command line for ld which has
> this sequence of paths as a variable part, while the rest should be pretty fixed.

Yes, it's possble.

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Feb 22 09:16:37 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 09:16:51 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
In-Reply-To: <6E1E12F0-1525-465B-B312-A7C714B65A2F@syenar.hu>
References: <4B828DE3.4040206@mail.udg.mx>
	<6E1E12F0-1525-465B-B312-A7C714B65A2F@syenar.hu>
Message-ID: <4B8291C5.6030006@libero.it>

Viktor,

I'd say a ver command should return a version >= 4.00

(E:\harbour\ftpd)ver

The Operating System/2 Version is 4.50

The issue, though, is not when building on a warp 3 system, but trying to use
a program built without this option on a warp 3 system. More or less like
running the code to find out interface addresses on a win95 pc, because such a
program requires libraries not available on and for warp 3.

Maurilio.

Viktor Szak?ts wrote:
>> I do not know too
>> Harbour 2.0.0 for OS/2 downloads have an strange behaviour not expected for OS/2. It have downloads in sustained state daily and now have more than 600.
>> Seem notice is spreading between isolated groups, but no one has requested help or comment
>> Many experts in OS/2-Clipper code  :-)
>>
>> So we exclude -DTCPV40HDRS, dropping Warp 3 support in Harbour ?
>> ( Think carefully: many corporations, banks, ATM, ... will be affected :-) )
> 
> Is there any way to detect OS/2 target version and 
> automatically toggle this option accordingly?
> 
> Also, in such way HBQT could be disabled for < Warp 4 
> targets.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Feb 22 09:19:22 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 09:19:36 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <320D2B64-E282-4E0A-BC1A-9CA0D3FBCAD0@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>	<4B82820E.80203@libero.it>	<F1C5797F-1AA5-4833-BB8B-E6ED2E25C2E7@syenar.hu>	<4B828977.7060904@libero.it>	<93CBAEA4-1624-4A68-9EEA-A77DAED6FF75@syenar.hu>	<4B828E3C.8090301@libero.it>
	<320D2B64-E282-4E0A-BC1A-9CA0D3FBCAD0@syenar.hu>
Message-ID: <4B82926A.4000906@libero.it>

Viktor Szak?ts wrote:

> Okay, I see now that currently some .cmds are called 
> to init the env, maybe this ennvar is setup in there.
> 

No, the harbour build process should not set nor change LIBRARY_PATH, this has
to be set and be correct _before_ installing harbour.

>> Ok, but is there a way, inside .mk files to split an env-var using some char
>> as delimiter? if yes, than we can create the command line for ld which has
>> this sequence of paths as a variable part, while the rest should be pretty fixed.
> 
> Yes, it's possble.

Ok, are there examples available?

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Mon Feb 22 09:21:16 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 22 09:21:23 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13960] trunk/harbour
Message-ID: <E1NjZ9w-0003ro-QB@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13960
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13960&view=rev
Author:   vszakats
Date:     2010-02-22 14:21:15 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 15:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/os2/gcc.mk
    + Attempt to fix direct ld usage to create Harbour .dlls.
      Please make tests for all versions of gcc/gccomf targets.

  * INSTALL
    - Deleted TCPV4 header instructions for OS/2. (they still
      works, it just got less emphasis with this)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/os2/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 22 09:24:58 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 09:25:09 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
In-Reply-To: <4B8291C5.6030006@libero.it>
References: <4B828DE3.4040206@mail.udg.mx>
	<6E1E12F0-1525-465B-B312-A7C714B65A2F@syenar.hu>
	<4B8291C5.6030006@libero.it>
Message-ID: <F6BD75CD-B5E4-44B9-9695-3B9FB41E350E@syenar.hu>

> Viktor,
> 
> I'd say a ver command should return a version >= 4.00
> 
> (E:\harbour\ftpd)ver
> 
> The Operating System/2 Version is 4.50

That tells us the host OS version. We need 
a way to tell the version of OS/2 we're 
building _for_ though. Similar to _WIN32_WINNT 
macro.

Such macro may have some default defined 
by headers, and it's also possible to 
override it by user. This is the generic way 
to force a build which targets and older 
version of the OS environment (or even 
newer, if the default is an older version).

> The issue, though, is not when building on a warp 3 system, but trying to use
> a program built without this option on a warp 3 system. More or less like
> running the code to find out interface addresses on a win95 pc, because such a
> program requires libraries not available on and for warp 3.

(pls see above)

Brgds,
Viktor

From jarabal at gmail.com  Mon Feb 22 09:26:13 2010
From: jarabal at gmail.com (Xavi)
Date: Mon Feb 22 09:27:10 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13937] trunk/harbour
In-Reply-To: <20100222102552.GA17875@linux-4bod.home.aster.pl>
References: <E1NisnI-0002c2-6C@sfp-svn-1.v30.ch3.sourceforge.com>	<4B808B6E.7020301@dbtopas.lt>
	<4B819B43.4090501@gmail.com>	<74196265-3668-4E6E-90FC-A63F01002772@syenar.hu>	<4B81FBC9.6080108@gmail.com>
	<20100222102552.GA17875@linux-4bod.home.aster.pl>
Message-ID: <4B829405.4060709@gmail.com>

> Hi Xavi,

_Przemek, thank you very much for answering me directly_

> It's is possible. Just like many other things which still do
> not exists in MS-Windows and we will have to wait next 10
> years until MS discover them and add some support for it in
> WinSOCK.X.Y.Z which will work correctly in version X.Y.Z + N.
> There is only one question: Why we should add such things?
> The fact that sth is possible on some platforms does not mean
> that it has to be implemented.

> [...]

> Why you added HB_SOCKET_IFINFO_GATEWAY?
> What programs do you plan to write which will need such information?
> How do you know that which gateway belongs to each IP address?
> It's possible that aliases uses different gateways (at least in normal
> systems). I do not see any code which tries to bind gateway addresses
> with IP addresses so HB_SOCKET_IFINFO_GATEWAY contains correct
> information only when the same gateway is used by all aliases.

I did it to make something new, not important in itself.

> MS-Windows does not have interface names as other hosts. AFAIR windows
> ports of some *nix tools like ifconfing used IP address as interface
> name so I decided to use the same. You added code which replace this
> IP addres with "localhost" string for LOOPBACK interfaces. Why?

AFAIK in Windows the adapter name is one GUID exept localhost.

> Do you know that it's possible to have more then one LOOPBACK interface
> with different addresses?

Yes and with the appropriate GUID adapter name.

> [...]
> hb_arrayGetC() returns address to dynamically allocated memory block
> which should be freed by hb_itemFreeC(). Now this code causes memory
> leak.
>
> Is iphlpapi.dll loaded by application at startup and keep alive for
> whole application running time?

THANK YOU!!! for test and respond.
Yes, I've a pretty hb_out.log report compiling with HB_FM_STATISTICS.
Remember what means a draft code. :)
You can see the interest of people about it because your sample PRG code and my sample no presents nothing in Windows.

> If not then storing pointer to GetAdaptersInfo() in static variable
> seems to be a little bit risk because such address may change.

I think that this may also happen with the system dlls.
Remember my post about this .-

http://lists.harbour-project.org/pipermail/harbour/2010-February/032151.html

> BTW in which Windows version GetAdaptersInfo() was added?
>
> This code does not detect aliases. It has to be redesigned to eliminate
> them.

Well, what do you suggest?

Best regards,
Xavi
From dmacias at mail.udg.mx  Mon Feb 22 09:29:57 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 09:30:12 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B8294E5.8070200@mail.udg.mx>

Maurilio:

 >while the last 3.3.5 in the path depends on GCC version and so it
 >changes from release to release.

 >So we have to parse LIBRARY_PATH to add -L options to ld command line, 
 >but it is not enough since we need an object, dll0.o, which is inside

 >E:/SVILUPPO/GCC/V3.3.5/USR/lib/dll0.o

 >which could be inferred from LIBRARY_PATH, but I don't know whether 
the >new versions of GCC have it in the same position.

 >This is something that has to be hard-coded inside gcc when used as 
 >dl.exe front end which should be extracted from it in some way.

Newer os2gcc are installed usually in \usr\(compiler), but os2gcc335 is 
*mandatory* to be installed too, as newer rely in some gcc335 tools

In my machine gcc335 is in \usr\
gcc442 in \usr\local442 and dll0.o exist only in \usr\lib

So path, references for both compilers are included, newer first


 >I'd say yes, the OMF version has an .obj extension.

No. Due facts Viktor knows well, .o was impossed to both, a.out and OMF
.obj for OMF was excluded


 >Who/what is setting LIBRARY_PATH? Should it be set by user,
 >or is it set by some of the GCC tools in GCC toolchain?

This setting can be changed dinamically to fit requirements of many 
systems, not only os2gcc

 >Sorry if I missed it, but can you paste here a living
 >example for what value it's actually set to?

 >I'd also like to include it in INSTALL, since it's
 >apparently missing.

 >Ok, but is there a way, inside .mk files to split an env-var using 
some >char as delimiter? if yes, than we can create the command line for 
ld >which has this sequence of paths as a variable part, while the rest 
 >should be pretty fixed.

I do tests with many os2gcc compilers, so forcing values for 
ld.exe/emxomfld.exe should be practical

For example, for os2gcc442, which show gcc442,gcc335 references:
-------------------------
PATH_EMXPGCC=E:\usr
CCENV=EMX
BUILD_ENV=EMX
BUILD_PLATFORM=OS2
DPATH=E:\usr\local442\lib;E:\usr\lib;E:\MPTN; ...
PATH=E:\usr\local442\libexec\gcc\i386-pc-os2-emx\4.4.2;E:\usr\local442\bin;E:\usr\bin; 
...
C_INCLUDE_PATH=E:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2/include;E:/usr/local442/include;E:/usr/include;
CPLUS_INCLUDE_PATH=E:/usr/local442/include/c++/4.4.2;E:/usr/local442/include/c++/4.4.2/i386-pc-os2-emx;E:/usr/local442/include/c++/4.4.2/backward;E:/usr/local442/include;E:/usr/include;
LIBRARY_PATH=E:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2;E:/usr/local442/lib;E:/usr/lib;
INFOPATH=E:/usr/local442/info;E:/usr/info;
PROTODIR=E:/usr/include/c++/gen
BEGINLIBPATH=E:\usr\local442\lib;E:\usr\lib;
-------------------------

 >No, the harbour build process should not set nor change LIBRARY_PATH, 
 >this has to be set and be correct _before_ installing harbour.

Fully agree. See above

David Macias

From harbour.01 at syenar.hu  Mon Feb 22 09:37:58 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 09:38:09 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B8294E5.8070200@mail.udg.mx>
References: <4B8294E5.8070200@mail.udg.mx>
Message-ID: <1D732621-F1B2-4245-B17D-06A4B4CF3A42@syenar.hu>

> >No, the harbour build process should not set nor change LIBRARY_PATH, >this has to be set and be correct _before_ installing harbour.
> 
> Fully agree. See above

This has been agreed upon 10 years ago, so no need 
to re-agree on anything.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Feb 22 09:40:50 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 09:41:02 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B82926A.4000906@libero.it>
References: <4B81F08B.3020308@mail.udg.mx>	<4B824193.7060409@libero.it>	<4B824EC9.2080107@libero.it>	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>	<4B82820E.80203@libero.it>	<F1C5797F-1AA5-4833-BB8B-E6ED2E25C2E7@syenar.hu>	<4B828977.7060904@libero.it>	<93CBAEA4-1624-4A68-9EEA-A77DAED6FF75@syenar.hu>	<4B828E3C.8090301@libero.it>
	<320D2B64-E282-4E0A-BC1A-9CA0D3FBCAD0@syenar.hu>
	<4B82926A.4000906@libero.it>
Message-ID: <9CCA8BDD-6EF6-42CE-8AD9-B0A6BC54C556@syenar.hu>

>> Okay, I see now that currently some .cmds are called 
>> to init the env, maybe this ennvar is setup in there.
>> 
> 
> No, the harbour build process should not set nor change LIBRARY_PATH, this has
> to be set and be correct _before_ installing harbour.

I wasn't clear. I was talking about this in INSTALL:
---
   for OS/2 hosts
   --------------

      --- GCC 3.3.4 and GCC 3.3.5
      C:\usr\bin\gccenv.cmd
      os2-make
      ---

      --- GCC 4.x
      C:\usr\local433\gcc440.cmd
      set HB_COMPILER=gccomf
      os2-make
      ---
---

Harbour build never modifies system variables. It never did.

>>> Ok, but is there a way, inside .mk files to split an env-var using some char
>>> as delimiter? if yes, than we can create the command line for ld which has
>>> this sequence of paths as a variable part, while the rest should be pretty fixed.
>> 
>> Yes, it's possble.
> 
> Ok, are there examples available?

There are quite a few in global.mk and other .mk files, 
anyway I've already committed it, untested, so pls 
check it.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Feb 22 09:44:53 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb 22 09:45:04 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <9049422A-E615-481E-9266-680103F8773E@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx> <4B824193.7060409@libero.it>
	<4B824EC9.2080107@libero.it> <4B8252AD.9000900@libero.it>
	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
	<4B827233.40005@libero.it>
	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>
	<4B827CA0.9020500@libero.it>
	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>
Message-ID: <20100222144453.GA18714@linux-4bod.home.aster.pl>

On Mon, 22 Feb 2010, Szak?ts Viktor wrote:

Hi,

> >>> -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
> >>> E:/SVILUPPO/GCC/V3.3.5/ is where I decided to put GCC on my system, while the
> >>> last 3.3.5 in the path depends on GCC version and so it changes from release
> >>> to release.
> >> Is '/gcc/3.3.5/' a mandatory element of the base dir, or 
> >> local user preference? I mean, may I simple install it 
> >> to 'E:/os2stuff/gcc/' instead of 'E:/Sviluppo/gcc/v3.3.5/'?
> > Sure.
> This means we can't use base path to get version 
> information needed to form paths for ld.exe.
> To me it's unclear how to make this automatic or 
> elegant.

Calling LD directly usually creates more or less serious problems
because some important switches set by GCC automatically may not
be added by us.

BTW the problem is caused by too long list of files passed
from GCC to LD because GCC does not use intermediate files.
But maybe it's possible to use small trick. DJGPP and as
I can see OS2 GNU ports expands @<filename> used in parameters.
So maybe we can simply create 2 files. One with GCC/LD options
only and with reference to second file __flst__.tmp will have
list of object files. Such reference can be stored in first file
as: '-Wl,@__flst__.tmp'. If gcc expects at least one .o file then
we can pass first object file directly as GCC parameter and not
include in __flst__.tmp.

If Maurilio or David can verify it works then we can use such
method and it should resolve the problem.

best regards,
Przemek
From dmacias at mail.udg.mx  Mon Feb 22 09:49:38 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 09:49:51 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
Message-ID: <4B829982.5000106@mail.udg.mx>

 >> than 600.
 >From different IPs?

I do not know.
They are sourceforge numbers

 >I don't believe there are so many OS/2 programmers still using a 
 >clipper dialect out there. It is not possible!

:-), it is possible

Remember that Clipper and OS/2 are of same age

 >Let's hope not to need one of those ATMs after we remove the switch! :D

 >Anyway, I'd say to remove it, given Warp 3 is as old as Windows 95 or 
 >even older, and let's see what happens.

Just cross your fingers

 >The issue, though, is not when building on a warp 3 system, but trying 
 >to use a program built without this option on a warp 3 system. More or
 >less like running the code to find out interface addresses on a win95
 >pc, because such a program requires libraries not available on and for 
 >warp 3.

Is correct. Is not Harbour build related, but runtime

 >Such macro may have some default defined by headers, and it's also 
 >possible to override it by user. This is the generic way
 >to force a build which targets and older version of the OS environment
 >(or even newer, if the default is an older version).

Is correct too

 >  * INSTALL
 >    - Deleted TCPV4 header instructions for OS/2. (they still
 >      works, it just got less emphasis with this)

And due above facts, this has not be deleted
Instructions are for everyone and newer user can be pointed clearly on 
this fact reading INSTALL

David Macias


From harbour.01 at syenar.hu  Mon Feb 22 09:54:19 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 09:54:29 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <20100222144453.GA18714@linux-4bod.home.aster.pl>
References: <4B81F08B.3020308@mail.udg.mx> <4B824193.7060409@libero.it>
	<4B824EC9.2080107@libero.it> <4B8252AD.9000900@libero.it>
	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
	<4B827233.40005@libero.it>
	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>
	<4B827CA0.9020500@libero.it>
	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>
	<20100222144453.GA18714@linux-4bod.home.aster.pl>
Message-ID: <6C1199F7-553C-4B2A-A6E8-9D40BBE13F07@syenar.hu>

Hi,

>>>>> -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
>>>>> E:/SVILUPPO/GCC/V3.3.5/ is where I decided to put GCC on my system, while the
>>>>> last 3.3.5 in the path depends on GCC version and so it changes from release
>>>>> to release.
>>>> Is '/gcc/3.3.5/' a mandatory element of the base dir, or 
>>>> local user preference? I mean, may I simple install it 
>>>> to 'E:/os2stuff/gcc/' instead of 'E:/Sviluppo/gcc/v3.3.5/'?
>>> Sure.
>> This means we can't use base path to get version 
>> information needed to form paths for ld.exe.
>> To me it's unclear how to make this automatic or 
>> elegant.
> 
> Calling LD directly usually creates more or less serious problems
> because some important switches set by GCC automatically may not
> be added by us.

Yes.

> BTW the problem is caused by too long list of files passed
> from GCC to LD because GCC does not use intermediate files.
> But maybe it's possible to use small trick. DJGPP and as
> I can see OS2 GNU ports expands @<filename> used in parameters.

Yes.

> So maybe we can simply create 2 files. One with GCC/LD options
> only and with reference to second file __flst__.tmp will have
> list of object files. Such reference can be stored in first file
> as: '-Wl,@__flst__.tmp'. If gcc expects at least one .o file then
> we can pass first object file directly as GCC parameter and not
> include in __flst__.tmp.

That's a good idea.

Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Feb 22 09:57:35 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 09:57:47 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B829B5F.9090703@mail.udg.mx>

Maurilio:

 >Newer os2gcc are installed usually in \usr\(compiler), but os2gcc335 is
 >*mandatory* to be installed too, as newer rely in some gcc335 tools

 >In my machine gcc335 is in \usr\
 >gcc442 in \usr\local442 and dll0.o exist only in \usr\lib

 >So path, references for both compilers are included, newer first

Do you have dll0.obj ?

I have both .o and .obj

OBJ_EXT is forced to .o, but we need to check what is using gcc in OMF 
(dll0.o or dll0.obj)


dir dll*.o* /s

Directory of E:\usr\lib

11/06/07 10:52p         1,955      0 a---  dll0.o
11/06/07 10:52p         2,797      0 a---  dll0.obj
11/06/07 10:52p         1,955      0 a---  dll0hi.o
11/06/07 10:52p         2,797      0 a---  dll0hi.obj
11/06/07 10:52p         1,279      0 a---  dll0hinofork.o
11/06/07 10:52p         2,105      0 a---  dll0hinofork.obj
11/06/07 10:52p         1,279      0 a---  dll0hinoforknoux.o
11/06/07 10:52p         2,105      0 a---  dll0hinoforknoux.obj
11/06/07 10:52p         1,279      0 a---  dll0hinoux.o
11/06/07 10:52p         2,105      0 a---  dll0hinoux.obj
11/06/07 10:52p         1,279      0 a---  dll0nofork.o
11/06/07 10:52p         2,105      0 a---  dll0nofork.obj
11/06/07 10:52p         1,279      0 a---  dll0noforknoux.o
11/06/07 10:52p         2,105      0 a---  dll0noforknoux.obj
11/06/07 10:52p         1,279      0 a---  dll0noux.o
11/06/07 10:52p         2,105      0 a---  dll0noux.obj

David Macias


From harbour.01 at syenar.hu  Mon Feb 22 10:04:42 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 10:04:53 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <6C1199F7-553C-4B2A-A6E8-9D40BBE13F07@syenar.hu>
References: <4B81F08B.3020308@mail.udg.mx> <4B824193.7060409@libero.it>
	<4B824EC9.2080107@libero.it> <4B8252AD.9000900@libero.it>
	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
	<4B827233.40005@libero.it>
	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>
	<4B827CA0.9020500@libero.it>
	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>
	<20100222144453.GA18714@linux-4bod.home.aster.pl>
	<6C1199F7-553C-4B2A-A6E8-9D40BBE13F07@syenar.hu>
Message-ID: <7A82B8C9-5A8C-4B6F-A97C-4E96961D6B06@syenar.hu>

>> So maybe we can simply create 2 files. One with GCC/LD options
>> only and with reference to second file __flst__.tmp will have
>> list of object files. Such reference can be stored in first file
>> as: '-Wl,@__flst__.tmp'. If gcc expects at least one .o file then
>> we can pass first object file directly as GCC parameter and not
>> include in __flst__.tmp.
> 
> That's a good idea.

The file list is already separate, so to try this solution out, 
only '-Wl,' needs to be added right in front of '@__dyn__.tmp':

--- [gcc.mk]
   $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ -Wl,@__dyn__.tmp __dyn__.def $(DLIBS) $(DYSTRIP)
---

This assumes vanilla 2.0.0 gcc.mk, not the hacked ones currently 
on SVN.

Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Feb 22 10:17:39 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 10:17:51 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B82A013.5040308@mail.udg.mx>

Przemek:

[Przemek]
 >Calling LD directly usually creates more or less serious problems
 >because some important switches set by GCC automatically may not
 >be added by us.

 >BTW the problem is caused by too long list of files passed
 >from GCC to LD because GCC does not use intermediate files.
 >But maybe it's possible to use small trick. DJGPP and as
 >I can see OS2 GNU ports expands @<filename> used in parameters.
 >So maybe we can simply create 2 files. One with GCC/LD options
 >only and with reference to second file __flst__.tmp will have
 >list of object files. Such reference can be stored in first file
 >as: '-Wl, at __flst__.tmp'. If gcc expects at least one .o file then
 >we can pass first object file directly as GCC parameter and not
 >include in __flst__.tmp.

 >If Maurilio or David can verify it works then we can use such
 >method and it should resolve the problem.


[Viktor]
 >The file list is already separate, so to try this solution out,
 >only '-Wl,' needs to be added right in front of '@__dyn__.tmp':

 >--- [gcc.mk]
 >   $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ -Wl, at 
 >__dyn__.tmp __dyn__.def $(DLIBS) $(DYSTRIP)
 >---

 >This assumes vanilla 2.0.0 gcc.mk, not the hacked ones currently
 >on SVN.

Unfortunatelly we do not have matter to test right now
As I posted recently, changes in libraries caused all .dll can be build 
fine, no one fails
I will look for older versions to find which fail and to test this 
approach.
13841 is an option. How must be specified in SVN ?

In all these messages ping-pong I was tempted to insert the question:
  "Do we really need to force direct ld.exe/emxomfld.exe right now ?"
My answer is no

David Macias


From druzus at acn.waw.pl  Mon Feb 22 10:20:41 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb 22 10:20:48 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <7A82B8C9-5A8C-4B6F-A97C-4E96961D6B06@syenar.hu>
References: <4B824EC9.2080107@libero.it> <4B8252AD.9000900@libero.it>
	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>
	<4B827233.40005@libero.it>
	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>
	<4B827CA0.9020500@libero.it>
	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>
	<20100222144453.GA18714@linux-4bod.home.aster.pl>
	<6C1199F7-553C-4B2A-A6E8-9D40BBE13F07@syenar.hu>
	<7A82B8C9-5A8C-4B6F-A97C-4E96961D6B06@syenar.hu>
Message-ID: <20100222152041.GA21557@linux-4bod.home.aster.pl>

On Mon, 22 Feb 2010, Szak?ts Viktor wrote:

Hi,

> >> So maybe we can simply create 2 files. One with GCC/LD options
> >> only and with reference to second file __flst__.tmp will have
> >> list of object files. Such reference can be stored in first file
> >> as: '-Wl,@__flst__.tmp'. If gcc expects at least one .o file then
> >> we can pass first object file directly as GCC parameter and not
> >> include in __flst__.tmp.
> > That's a good idea.
> The file list is already separate, so to try this solution out, 
> only '-Wl,' needs to be added right in front of '@__dyn__.tmp':
> --- [gcc.mk]
>    $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ -Wl,@__dyn__.tmp __dyn__.def $(DLIBS) $(DYSTRIP)
> ---
> This assumes vanilla 2.0.0 gcc.mk, not the hacked ones currently 
> on SVN.

Looks OK for me.
If OS2 GCC port does not need at least one .o/.obj file (in my Linux box
it doesn't) then it should work and resolve the problem without direct
call to LD.

Maurilio or David, Can you check it?

best regards,
Przemek
From dmacias at mail.udg.mx  Mon Feb 22 10:25:12 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 10:25:24 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B82A1D8.6000803@mail.udg.mx>

Przemek:

 >Looks OK for me.
 >If OS2 GCC port does not need at least one .o/.obj file (in my Linux
 >box it doesn't) then it should work and resolve the problem without
 >direct call to LD.

 >Maurilio or David, Can you check it?

Work in progress with "-r 13841"

David Macias

From druzus at acn.waw.pl  Mon Feb 22 10:30:43 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb 22 10:30:52 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B82A013.5040308@mail.udg.mx>
References: <4B82A013.5040308@mail.udg.mx>
Message-ID: <20100222153043.GA21944@linux-4bod.home.aster.pl>

On Mon, 22 Feb 2010, David Arturo Macias Corona wrote:

Hi David,

> >The file list is already separate, so to try this solution out,
> >only '-Wl,' needs to be added right in front of '@__dyn__.tmp':
> >--- [gcc.mk]
> >   $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ -Wl, at
> >__dyn__.tmp __dyn__.def $(DLIBS) $(DYSTRIP)
> >---
> >This assumes vanilla 2.0.0 gcc.mk, not the hacked ones currently
> >on SVN.
> Unfortunatelly we do not have matter to test right now
> As I posted recently, changes in libraries caused all .dll can be
> build fine, no one fails

It's less important if current version fails or not.
More important is information if above trick can be used.
If this trick works without any errors then it should eliminate
passing object files in command line between GCC and LD what is
the source of problem because GCC will not expand -Wl,@__dyn__.tmp
but pass @__dyn__.tmp directly to LD.

best regards,
Przemek
From dmacias at mail.udg.mx  Mon Feb 22 10:48:17 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 10:48:31 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B82A741.2070600@mail.udg.mx>

Przemek:

 >It's less important if current version fails or not.
 >More important is information if above trick can be used.
 >If this trick works without any errors then it should eliminate
 >passing object files in command line between GCC and LD what is
 >the source of problem because GCC will not expand -Wl, at __dyn__.tmp
 >but pass @__dyn__.tmp directly to LD.

Check me if  "-Wl," is inserted correctly

First try using -v switch in gcc:
  __dyn__.tmp is expanded

gcc  -shared -L../../../../../lib/os2/gccomf -Zomf -v  -o 
../../../../../bin/os2/gccomf/harbour.dll -Wl, @__dyn__.tmp __dyn__.def 
-lsocket
Using built-in specs.
Target: i386-pc-os2-emx
Configured with: ./configure --prefix=/usr/local44 --enable-shared 
--enable-languages=c,c++,fortran --with-gnu-as --disable-bootstrap 
--disable-libstdcxx-pch --enable-threads
Thread model: os2
gcc version 4.4.2 (GCC)
COMPILER_PATH=E:/usr/local442/bin/../libexec/gcc/i386-pc-os2-emx/4.4.2/;E:/usr/local442/bin/../libexec/gcc/;E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../../i386-pc-os2-emx/bin/
LIBRARY_PATH=E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/;E:/usr/local442/bin/../lib/gcc/;E:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2/;E:/usr/local442/lib/;E:/usr/lib/;./;E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../../i386-pc-os2-emx/lib/;E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../;/usr/lib/
COLLECT_GCC_OPTIONS='-shared' '-L../../../../../lib/os2/gccomf' '-Zomf' 
'-v' '-o' '../../../../../bin/os2/gccomf/harbour.dll' '-mtune=i386'
  emxomfld.exe -Zdll -o ../../../../../bin/os2/gccomf/harbour.dll 
E:/usr/lib/dll0.obj -L../../../../../lib/os2/gccomf 
-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2 
-LE:/usr/local442/bin/../lib/gcc 
-LE:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2 -LE:/usr/local442/lib 
-LE:/usr/lib -L. 
-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../../i386-pc-os2-emx/lib 
-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../.. 
../../../../../src/common/obj/os2/gccomf/expropt1.o 
../../../../../src/common/obj/os2/gccomf/expropt2.o

[...]

../../../../../src/vm/obj/os2/gccomf/pvalue.o 
../../../../../src/vm/obj/os2/gccomf/runner.o 
../../../../../src/vm/obj/os2/gccomf/vm.o __dyn__.def -lsocket -lc_alias 
-lc_dll -los2 -lgcc442 -lc_alias -lc_dll -los2 -lend
emxomf: Input file `E:\harbour102\harbour\src\dynlib\obj\os2\gccomf' is 
not seekable
emxomfld: a.out to omf conversion failed for 
'E:\harbour102\harbour\src\dynlib\obj\os2\gccomf'.
make[3]: *** [harbour.dll] Error 1

David Macias


From dmacias at mail.udg.mx  Mon Feb 22 10:55:27 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 10:55:38 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B82A8EF.9090907@mail.udg.mx>

 >  emxomfld.exe -Zdll -o ../../../../../bin/os2/gccomf/harbour.dll
 >E:/usr/lib/dll0.obj -L../../../../../lib/os2/gccomf
 >-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2
[...]
 >../../../../../src/common/obj/os2/gccomf/expropt1.o

And is using .obj in OMF type, as usual:
   E:/usr/lib/dll0.obj

OBJ_EXT are forced to .o

David Macias


From harbour.01 at syenar.hu  Mon Feb 22 11:08:12 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 11:08:23 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B82A8EF.9090907@mail.udg.mx>
References: <4B82A8EF.9090907@mail.udg.mx>
Message-ID: <CAA6C362-1E1B-460F-903C-9D7ECCA6FF86@syenar.hu>

> >../../../../../src/common/obj/os2/gccomf/expropt1.o
> 
> And is using .obj in OMF type, as usual:
>  E:/usr/lib/dll0.obj
> 
> OBJ_EXT are forced to .o

Forced. I have to tell you that I can't remember 
the whole lengthy discussion before implementing 
this the way it is now, but since it takes near 
zero effort to switch to .obj in .mk files, .o 
is used consistently in build/hbmk2, and since 
you didn't report any problems with any of the 
discussed gcc versions, I must assume we settled 
for .o for good reason. Also note I don't personally 
mind what extension does gcc actually requires.

Now it's "forced".

If current state is suddenly wrong for whatever 
reasons, tell clearly what happened in between, 
and what you suggest now for a solution.

Brgds,
Viktor

From francek.prijatelj at siol.net  Mon Feb 22 11:08:37 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Mon Feb 22 11:08:45 2010
Subject: [Harbour] Error compiling hbqt_hbslots.cpp
Message-ID: <27689677.post@talk.nabble.com>


Hi

Here is an error compiling with MSVC8:

cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 -EHs-c-
-Zi -DHB_LEGACY_TYPES_OFF -DUNICODE -DHB_TR_LEVEL_DEBUG 
-IC:\Qt\msvc\include -IC:\Qt\msvc\include/QtCore -IC:\Qt\msvc\include/QtGui
-IC:\Qt\msvc\include/QtNetwork  -Fohbqt_hbslots.obj -c
../../../hbqt_hbslots.cpp
hbqt_hbslots.cpp
../../../hbqt_hbslots.cpp(207) : fatal error C1061: compiler limit : blocks
nested too deeply
mingw32-make[3]: [hbqt_hbslots.obj] Error 2 (ignored)


BRGDS
Fran?ek
-- 
View this message in context: http://old.nabble.com/Error-compiling-hbqt_hbslots.cpp-tp27689677p27689677.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maurilio.longo at libero.it  Mon Feb 22 11:14:18 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 11:14:29 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <20100222152041.GA21557@linux-4bod.home.aster.pl>
References: <4B824EC9.2080107@libero.it>
	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>	<20100222144453.GA18714@linux-4bod.home.aster.pl>	<6C1199F7-553C-4B2A-A6E8-9D40BBE13F07@syenar.hu>	<7A82B8C9-5A8C-4B6F-A97C-4E96961D6B06@syenar.hu>
	<20100222152041.GA21557@linux-4bod.home.aster.pl>
Message-ID: <4B82AD5A.1060907@libero.it>

Przemyslaw,

it worked here and produced both harbour.dll and harbourm.dll

ar   -M < __lib__.tmp & strip -S ../../../../../lib/os2/gcc/hbdebug.a & ..\..\..
\..\..\config\os2rm -f __lib__.tmp
gcc  -shared -L../../../../../lib/os2/gcc  -o ../../../../../bin/os2/gcc/harbour
.dll -Wl,@__dyn__.tmp __dyn__.def -lsocket -s
emximp -o ../../../../../lib/os2/gcc/harbour.a ../../../../../bin/os2/gcc/harbou
r.dll
gcc  -shared -L../../../../../../lib/os2/gcc  -o ../../../../../../bin/os2/gcc/h
arbourm.dll -Wl,@__dyn__.tmp __dyn__.def -lsocket -s
emximp -o ../../../../../../lib/os2/gcc/harbourm.a ../../../../../../bin/os2/gcc
/harbourm.dll


Question is: did it expand or not @__dyb__.tmp list before calling ld?

Now I'll try with my ld.exe to see what gets passed to ld.exe.

Maurilio.



Przemys?aw Czerpak wrote:
> On Mon, 22 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>>>> So maybe we can simply create 2 files. One with GCC/LD options
>>>> only and with reference to second file __flst__.tmp will have
>>>> list of object files. Such reference can be stored in first file
>>>> as: '-Wl,@__flst__.tmp'. If gcc expects at least one .o file then
>>>> we can pass first object file directly as GCC parameter and not
>>>> include in __flst__.tmp.
>>> That's a good idea.
>> The file list is already separate, so to try this solution out, 
>> only '-Wl,' needs to be added right in front of '@__dyn__.tmp':
>> --- [gcc.mk]
>>    $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ -Wl,@__dyn__.tmp __dyn__.def $(DLIBS) $(DYSTRIP)
>> ---
>> This assumes vanilla 2.0.0 gcc.mk, not the hacked ones currently 
>> on SVN.
> 
> Looks OK for me.
> If OS2 GCC port does not need at least one .o/.obj file (in my Linux box
> it doesn't) then it should work and resolve the problem without direct
> call to LD.
> 
> Maurilio or David, Can you check it?
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Mon Feb 22 11:15:26 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 11:15:39 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B82AD9E.5060505@mail.udg.mx>

Przemek:

 >Check me if  "-Wl," is inserted correctly

It was wrong including space at end

Second try using -v switch in gcc:
  __dyn__.tmp is NOT expanded   :-)

gcc  -shared -L../../../../../lib/os2/gccomf -Zomf -v  -o 
../../../../../bin/os2/gccomf/harbour.dll -Wl,@__dyn__.tmp __dyn__.def 
-lsocket
Using built-in specs.
Target: i386-pc-os2-emx
Configured with: ./configure --prefix=/usr/local44 --enable-shared 
--enable-languages=c,c++,fortran --with-gnu-as --disable-bootstrap 
--disable-libstdcxx-pch --enable-threads
Thread model: os2
gcc version 4.4.2 (GCC)
COMPILER_PATH=E:/usr/local442/bin/../libexec/gcc/i386-pc-os2-emx/4.4.2/;E:/usr/local442/bin/../libexec/gcc/;E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../../i386-pc-os2-emx/bin/
LIBRARY_PATH=E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/;E:/usr/local442/bin/../lib/gcc/;E:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2/;E:/usr/local442/lib/;E:/usr/lib/;./;E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../../i386-pc-os2-emx/lib/;E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../;/usr/lib/
COLLECT_GCC_OPTIONS='-shared' '-L../../../../../lib/os2/gccomf' '-Zomf' 
'-v' '-o' '../../../../../bin/os2/gccomf/harbour.dll' '-mtune=i386'
  emxomfld.exe -Zdll -o ../../../../../bin/os2/gccomf/harbour.dll 
E:/usr/lib/dll0.obj -L../../../../../lib/os2/gccomf 
-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2 
-LE:/usr/local442/bin/../lib/gcc 
-LE:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2 -LE:/usr/local442/lib 
-LE:/usr/lib -L. 
-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../../i386-pc-os2-emx/lib 
-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../.. 
@__dyn__.tmp __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc442 
-lc_alias -lc_dll -los2 -lend
Warning! W1058: file ldN4tZz5.: line(618): protmode option not valid for 
an OS/2 EMX dynamic link library
emximp -o ../../../../../lib/os2/gccomf/harbour.lib 
../../../../../bin/os2/gccomf/harbour.dll
make[3]: Leaving directory `E:/harbour102/harbour/src/dynlib/obj/os2/gccomf'
make[3]: Entering directory `E:/harbour102/harbour/src/dynlib/mt'
make[4]: Entering directory 
`E:/harbour102/harbour/src/dynlib/mt/obj/os2/gccomf'
gcc  -shared -L../../../../../../lib/os2/gccomf -Zomf -v  -o 
../../../../../../bin/os2/gccomf/harbourm.dll -Wl,@__dyn__.tmp 
__dyn__.def -lsocket
Using built-in specs.
Target: i386-pc-os2-emx
Configured with: ./configure --prefix=/usr/local44 --enable-shared 
--enable-languages=c,c++,fortran --with-gnu-as --disable-bootstrap 
--disable-libstdcxx-pch --enable-threads
Thread model: os2
gcc version 4.4.2 (GCC)
COMPILER_PATH=E:/usr/local442/bin/../libexec/gcc/i386-pc-os2-emx/4.4.2/;E:/usr/local442/bin/../libexec/gcc/;E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../../i386-pc-os2-emx/bin/
LIBRARY_PATH=E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/;E:/usr/local442/bin/../lib/gcc/;E:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2/;E:/usr/local442/lib/;E:/usr/lib/;./;E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../../i386-pc-os2-emx/lib/;E:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../;/usr/lib/
COLLECT_GCC_OPTIONS='-shared' '-L../../../../../../lib/os2/gccomf' 
'-Zomf' '-v' '-o' '../../../../../../bin/os2/gccomf/harbourm.dll' 
'-mtune=i386'
  emxomfld.exe -Zdll -o ../../../../../../bin/os2/gccomf/harbourm.dll 
E:/usr/lib/dll0.obj -L../../../../../../lib/os2/gccomf 
-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2 
-LE:/usr/local442/bin/../lib/gcc 
-LE:/usr/local442/lib/gcc/i386-pc-os2-emx/4.4.2 -LE:/usr/local442/lib 
-LE:/usr/lib -L. 
-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../../../i386-pc-os2-emx/lib 
-LE:/usr/local442/bin/../lib/gcc/i386-pc-os2-emx/4.4.2/../../.. 
@__dyn__.tmp __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc442 
-lc_alias -lc_dll -los2 -lend
Warning! W1058: file ldT6yXLH.: line(617): protmode option not valid for 
an OS/2 EMX dynamic link library
emximp -o ../../../../../../lib/os2/gccomf/harbourm.lib 
../../../../../../bin/os2/gccomf/harbourm.dll
make[4]: Leaving directory 
`E:/harbour102/harbour/src/dynlib/mt/obj/os2/gccomf'


and both .dll are created

22/02/10 10:07a     3,837,134      0 a---  harbour.dll
22/02/10 10:08a     3,837,545      0 a---  harbourm.dll

Maurilio, Viktor, Przemek: solution is "-Wl,"

David Macias



From francek.prijatelj at siol.net  Mon Feb 22 11:16:52 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Mon Feb 22 11:16:59 2010
Subject: [Harbour] Error compiling hbqt_hbslots.cpp
In-Reply-To: <27689677.post@talk.nabble.com>
References: <27689677.post@talk.nabble.com>
Message-ID: <27689817.post@talk.nabble.com>


Hi


Fran?ek Prijatelj wrote:
> 
> Hi
> 
> Here is an error compiling with MSVC8:
> 
> cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1
> -EHs-c- -Zi -DHB_LEGACY_TYPES_OFF -DUNICODE -DHB_TR_LEVEL_DEBUG 
> -IC:\Qt\msvc\include -IC:\Qt\msvc\include/QtCore
> -IC:\Qt\msvc\include/QtGui -IC:\Qt\msvc\include/QtNetwork 
> -Fohbqt_hbslots.obj -c ../../../hbqt_hbslots.cpp
> hbqt_hbslots.cpp
> ../../../hbqt_hbslots.cpp(207) : fatal error C1061: compiler limit :
> blocks nested too deeply
> mingw32-make[3]: [hbqt_hbslots.obj] Error 2 (ignored)
> 
> 


MSVC8 has 128 nesting limit.

BRGDS
Fran?ek

-- 
View this message in context: http://old.nabble.com/Error-compiling-hbqt_hbslots.cpp-tp27689677p27689817.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maurilio.longo at libero.it  Mon Feb 22 11:18:47 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 11:19:00 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <20100222152041.GA21557@linux-4bod.home.aster.pl>
References: <4B824EC9.2080107@libero.it>
	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>	<20100222144453.GA18714@linux-4bod.home.aster.pl>	<6C1199F7-553C-4B2A-A6E8-9D40BBE13F07@syenar.hu>	<7A82B8C9-5A8C-4B6F-A97C-4E96961D6B06@syenar.hu>
	<20100222152041.GA21557@linux-4bod.home.aster.pl>
Message-ID: <4B82AE67.3060802@libero.it>

Przemyslaw, Viktor,

yes it works as expected, ld.exe gets called with @__dyn__.tmp as expected!!

See here

gcc  -shared -L../../../../../lib/os2/gcc  -o ../../../../../bin/os2/gcc/harbour
.dll -Wl,@__dyn__.tmp __dyn__.def -lsocket -s

------------8<--------------------
-Zdll -o ../../../../../bin/os2/gcc/harbour.dll -s E:/SVILUPPO/GCC/V3.3.5/USR/li
b/dll0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i
386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/
V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -L
E:/REPOSITORY/HARBOUR/src/dynlib/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gc
c-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE
:/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib @
__dyn__.tmp __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -l
c_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los
2 -lgcc_so_d -lc_alias -lc_dll -los2
------------>8--------------------emximp -o ../../../../../lib/os2/gcc/harbour.a
 ../../../../../bin/os2/gcc/harbour.dll
emximp: Cannot open input file `../../../../../bin/os2/gcc/harbour.dll'
make[2]: *** [harbour.dll] Error 2
make[1]: *** [descend] Error 2
make: *** [dynlib] Error 2


The error come from the fact that my ld.exe does not build harbour.dll

So, this should close the issue for ever :)

Thanks so much, guys!

Maurilio.


Przemys?aw Czerpak wrote:
> On Mon, 22 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>>>> So maybe we can simply create 2 files. One with GCC/LD options
>>>> only and with reference to second file __flst__.tmp will have
>>>> list of object files. Such reference can be stored in first file
>>>> as: '-Wl,@__flst__.tmp'. If gcc expects at least one .o file then
>>>> we can pass first object file directly as GCC parameter and not
>>>> include in __flst__.tmp.
>>> That's a good idea.
>> The file list is already separate, so to try this solution out, 
>> only '-Wl,' needs to be added right in front of '@__dyn__.tmp':
>> --- [gcc.mk]
>>    $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ -Wl,@__dyn__.tmp __dyn__.def $(DLIBS) $(DYSTRIP)
>> ---
>> This assumes vanilla 2.0.0 gcc.mk, not the hacked ones currently 
>> on SVN.
> 
> Looks OK for me.
> If OS2 GCC port does not need at least one .o/.obj file (in my Linux box
> it doesn't) then it should work and resolve the problem without direct
> call to LD.
> 
> Maurilio or David, Can you check it?
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Mon Feb 22 11:19:12 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 11:19:25 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B82AE80.1060300@mail.udg.mx>

Maurilio:

 >Question is: did it expand or not @__dyb__.tmp list before calling ld?

As gcc -v show, does NOT expand

 >Now I'll try with my ld.exe to see what gets passed to ld.exe.

Should be as gcc -v

Problem is solved

David Macias


From francek.prijatelj at siol.net  Mon Feb 22 11:21:04 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Mon Feb 22 11:21:10 2010
Subject: [Harbour] Error compiling hbqt_hbslots.cpp
In-Reply-To: <27689677.post@talk.nabble.com>
References: <27689677.post@talk.nabble.com>
Message-ID: <27689885.post@talk.nabble.com>


Hi


Fran?ek Prijatelj wrote:
> 
> 
> Here is an error compiling with MSVC8:
> 
> cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1
> -EHs-c- -Zi -DHB_LEGACY_TYPES_OFF -DUNICODE -DHB_TR_LEVEL_DEBUG 
> -IC:\Qt\msvc\include -IC:\Qt\msvc\include/QtCore
> -IC:\Qt\msvc\include/QtGui -IC:\Qt\msvc\include/QtNetwork 
> -Fohbqt_hbslots.obj -c ../../../hbqt_hbslots.cpp
> hbqt_hbslots.cpp
> ../../../hbqt_hbslots.cpp(207) : fatal error C1061: compiler limit :
> blocks nested too deeply
> mingw32-make[3]: [hbqt_hbslots.obj] Error 2 (ignored)
> 
> 


Only solution to simplify nesting level:
http://msdn.microsoft.com/en-us/library/dcda4f64%28VS.71%29.aspx

BRGDS
Fran?ek
-- 
View this message in context: http://old.nabble.com/Error-compiling-hbqt_hbslots.cpp-tp27689677p27689885.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maurilio.longo at libero.it  Mon Feb 22 11:23:15 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 11:23:26 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B82AE80.1060300@mail.udg.mx>
References: <4B82AE80.1060300@mail.udg.mx>
Message-ID: <4B82AF73.3040803@libero.it>

Yes,

sorry I rushed testing instead of keep reading messages.

Solved! .)

Maurilio.

David Arturo Macias Corona wrote:
> Maurilio:
> 
>>Question is: did it expand or not @__dyb__.tmp list before calling ld?
> 
> As gcc -v show, does NOT expand
> 
>>Now I'll try with my ld.exe to see what gets passed to ld.exe.
> 
> Should be as gcc -v
> 
> Problem is solved
> 
> David Macias
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Feb 22 11:24:42 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 11:24:52 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
In-Reply-To: <4B82AE67.3060802@libero.it>
References: <4B824EC9.2080107@libero.it>
	<4B8252AD.9000900@libero.it>	<646A0E9C-38EF-4D0A-A8BE-556B1413ADEE@syenar.hu>	<4B827233.40005@libero.it>	<7E75375F-DDAA-4DE3-9C79-AEB0CC6228C3@syenar.hu>	<4B827CA0.9020500@libero.it>	<9049422A-E615-481E-9266-680103F8773E@syenar.hu>	<20100222144453.GA18714@linux-4bod.home.aster.pl>	<6C1199F7-553C-4B2A-A6E8-9D40BBE13F07@syenar.hu>	<7A82B8C9-5A8C-4B6F-A97C-4E96961D6B06@syenar.hu>
	<20100222152041.GA21557@linux-4bod.home.aster.pl>
	<4B82AE67.3060802@libero.it>
Message-ID: <6D4514F8-6FA1-4D60-B1D5-51830153268E@syenar.hu>

Great, nice cooperation. Just committed this version. Case closed.

Brgds,
Viktor

On 2010 Feb 22, at 17:18, Maurilio Longo wrote:

> Przemyslaw, Viktor,
> 
> yes it works as expected, ld.exe gets called with @__dyn__.tmp as expected!!
> 
> See here
> 
> gcc  -shared -L../../../../../lib/os2/gcc  -o ../../../../../bin/os2/gcc/harbour
> .dll -Wl,@__dyn__.tmp __dyn__.def -lsocket -s
> 
> ------------8<--------------------
> -Zdll -o ../../../../../bin/os2/gcc/harbour.dll -s E:/SVILUPPO/GCC/V3.3.5/USR/li
> b/dll0.o -L../../../../../lib/os2/gcc -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib/i
> 386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/lib/gcc-lib -LE:/SVILUPPO/GCC/
> V3.3.5/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5 -LE:/SVILUPPO/GCC/V3.3.5/USR/lib -L
> E:/REPOSITORY/HARBOUR/src/dynlib/obj/os2/gcc -LE:/SVILUPPO/GCC/V3.3.5/USR/lib/gc
> c-lib/i386-pc-os2-emx/3.3.5 -LE:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/lib -LE
> :/SVILUPPO/GCC/V3.3.5/USR/i386-pc-os2-emx/lib -LE:/Sviluppo/gcc/v3.3.5/usr/lib @
> __dyn__.tmp __dyn__.def -lsocket -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -l
> c_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los2 -lgcc_so_d -lc_alias -lc_dll -los
> 2 -lgcc_so_d -lc_alias -lc_dll -los2
> ------------>8--------------------emximp -o ../../../../../lib/os2/gcc/harbour.a
> ../../../../../bin/os2/gcc/harbour.dll
> emximp: Cannot open input file `../../../../../bin/os2/gcc/harbour.dll'
> make[2]: *** [harbour.dll] Error 2
> make[1]: *** [descend] Error 2
> make: *** [dynlib] Error 2
> 
> 
> The error come from the fact that my ld.exe does not build harbour.dll
> 
> So, this should close the issue for ever :)
> 
> Thanks so much, guys!
> 
> Maurilio.
> 
> 
> Przemys?aw Czerpak wrote:
>> On Mon, 22 Feb 2010, Szak?ts Viktor wrote:
>> 
>> Hi,
>> 
>>>>> So maybe we can simply create 2 files. One with GCC/LD options
>>>>> only and with reference to second file __flst__.tmp will have
>>>>> list of object files. Such reference can be stored in first file
>>>>> as: '-Wl,@__flst__.tmp'. If gcc expects at least one .o file then
>>>>> we can pass first object file directly as GCC parameter and not
>>>>> include in __flst__.tmp.
>>>> That's a good idea.
>>> The file list is already separate, so to try this solution out, 
>>> only '-Wl,' needs to be added right in front of '@__dyn__.tmp':
>>> --- [gcc.mk]
>>>   $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ -Wl,@__dyn__.tmp __dyn__.def $(DLIBS) $(DYSTRIP)
>>> ---
>>> This assumes vanilla 2.0.0 gcc.mk, not the hacked ones currently 
>>> on SVN.
>> 
>> Looks OK for me.
>> If OS2 GCC port does not need at least one .o/.obj file (in my Linux box
>> it doesn't) then it should work and resolve the problem without direct
>> call to LD.
>> 
>> Maurilio or David, Can you check it?
>> 
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Feb 22 11:25:04 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 22 11:25:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13961] trunk/harbour
Message-ID: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13961
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13961&view=rev
Author:   vszakats
Date:     2010-02-22 16:24:59 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 17:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_hbdbfmodel.cpp
  * contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
  * contrib/hbqt/hbqt_hbqtableview.cpp
  * contrib/hbqt/hbqt_hbevents.cpp
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/hbqt_utils.cpp
  * contrib/hbqt/hbqt_hbqmainwindow.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_base.cpp
  * contrib/hbqt/hbqt_hbslots.cpp
    * Cleaned header inclusion order after adding hbapi.h to hbqt.h.

  * config/os2/gcc.mk
    ! Fixed to use '-Wl,' trick proposed by Przemek, to forward obj list
      script filename directly to linker.
      This gets around the problem where gcc tries to pass expanded
      scripts to subprocesses (ld) via cmdline, thus imposing a 32K
      limit also to script files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/contrib/hbqt/hbqt_base.cpp
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbevents.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtableview.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
    trunk/harbour/contrib/hbqt/hbqt_utils.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Feb 22 11:38:20 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 11:38:39 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
In-Reply-To: <F6BD75CD-B5E4-44B9-9695-3B9FB41E350E@syenar.hu>
References: <4B828DE3.4040206@mail.udg.mx>	<6E1E12F0-1525-465B-B312-A7C714B65A2F@syenar.hu>	<4B8291C5.6030006@libero.it>
	<F6BD75CD-B5E4-44B9-9695-3B9FB41E350E@syenar.hu>
Message-ID: <4B82B2FC.1040109@libero.it>

Viktor,

I'm not aware of such a macro, in the last twenty years, at least, OS/2 APIs
didn't change, so maybe there was not such a need and TCPV40HDRS was
introduced for one of the very few, if not the only one, subsystems to change
APIs during all those years.

Maurilio.


Viktor Szak?ts wrote:
>> Viktor,
>>
>> I'd say a ver command should return a version >= 4.00
>>
>> (E:\harbour\ftpd)ver
>>
>> The Operating System/2 Version is 4.50
> 
> That tells us the host OS version. We need 
> a way to tell the version of OS/2 we're 
> building _for_ though. Similar to _WIN32_WINNT 
> macro.
> 
> Such macro may have some default defined 
> by headers, and it's also possible to 
> override it by user. This is the generic way 
> to force a build which targets and older 
> version of the OS environment (or even 
> newer, if the default is an older version).
> 
>> The issue, though, is not when building on a warp 3 system, but trying to use
>> a program built without this option on a warp 3 system. More or less like
>> running the code to find out interface addresses on a win95 pc, because such a
>> program requires libraries not available on and for warp 3.
> 
> (pls see above)
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Mon Feb 22 11:39:26 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Feb 22 11:39:40 2010
Subject: [Harbour] Re: OS/2: Harbour 13945
Message-ID: <4B82B33E.1070707@mail.udg.mx>

Viktor:

 >> And is using .obj in OMF type, as usual:
 >>  E:/usr/lib/dll0.obj
 >>
 >> OBJ_EXT are forced to .o

 >Forced. I have to tell you that I can't remember
 >the whole lengthy discussion before implementing
 >this the way it is now, but since it takes near
 >zero effort to switch to .obj in .mk files, .o
 >is used consistently in build/hbmk2, and since
 >you didn't report any problems with any of the
 >discussed gcc versions, I must assume we settled
 >for .o for good reason. Also note I don't personally
 >mind what extension does gcc actually requires.

 >Now it's "forced".

 >If current state is suddenly wrong for whatever
 >reasons, tell clearly what happened in between,
 >and what you suggest now for a solution.

The reason was hbmk2 feature:
  "you lose the option to build multiple .c input files"

You can check "OS/2: hbmk2" messages, for example
  Re: OS/2: hbmk2
   5/11/09 04:59 AM
is included below

.obj is for OMF type a "convention" in OS/2 world, as .lib does too

gcc -v show this convention in use of:
E:/usr/lib/dll0.obj   in OMF type
and
E:/usr/lib/dll0.o     in a.out type

Until today Harbour and hbmk2 work fine using .o, but we must remember 
.obj in OMF when using other object files which not belong to Harbour

David Macias



Viktor:

 >So in Harbour we try to force some alien extension instead
 >of .o which is the default extension in both OMF and a.out
 >modes.

 >> Solution is clear: sync use of object extension in both phases

 >I know. However I don't like this approach. Speaking
 >of both Harbour build and hbmk2, we use the default
 >extensions for all supported compilers.

 >For some reason this was violated by using .obj for
 >gccomf. Not being an OS/2 user this wasn't apparent
 >to me, I used what I saw.

 >Using non-default extensions have some drawbacks,
 >since you need tell each tool your extension of choice.

 >In case of gcc, this is -o, however in this mode,
 >you lose the option to build multiple .c input files
 >at one pass. Which in turn makes performance much
 >worse in certain cases. Plus it introduces an exception
 >in both hbmk2 and Harbour build. Latter isn't affected
 >too much as it doesn't use optimized calls to compiler
 >using multiple inputs, but in hbmk2 this would need
 >some extra logic to handle this exception case.

 >For a peace of mind and "standardness", I vote to follow
 >compiler defaults, whatever these are. No need to fight
 >what GCC developers have decided on. With the case of .obj,
 >we're trying to mimic other OS/2 compilers doesn't seem like
 >a good idea.


 >I could sure spend a few hours on it, but 1) I don't
 >have time for it now 2) This would create an
 >unprecedented exception for gccomf, which I don't think
 >is a good idea on the long run (it has to be maintained).
 >+1) Since this is not the default in GCC, I assume they
 >had a good reason to make this decision, and any
 >3rd party tool is better not reinvent the wheel
 >since it may just cause problems down the road.

 >Once GCC OS/2 porters decide to switch to other
 >extension, we can follow suit.

 >The idea is to use as few forced stuff and special
 >tricks as possible. On some occasions gcc -o _is_ used
 >even now, but only if inevitable (in -inc mode f.e.).

 >If .o/.a is unusual for OS/2-OMF, the best place to
 >complain is GCC OS/2 developers.


Due origin from a.out type only, for gcc .obj, .lib, -Zomf, 
EMXOMFLD_TYPE, EXOMFLD_LINKER are aliens but they are well known and 
accepted in OS/2 environment

Remember, os2gcc work with their own aliens and they should be well 
managed/applied

Other aliens for gcc in OS/2 are:
-Zcrtdll, -Zdll, -Zexe, -Zhigh-mem, -Zlinker, -Zmap, -Zno-autoconv,
-Zautoconv, -Zargs-wild, -Zargs-resp, -Zdll-search, -Zsym, -Zhigh-low
-Zno-fork, -Zno-unix, -Zbin-files, -Zbsd-signals, -Zmt, -Zmtd, -Zmts
-Zno-rte, -Zsmall-conv, -Zstack, -Zso, -Zsys, -Zsysv-signals
     EMXOMFLD_RC_TYPE, EMXOMFLD_RC
emxomfar.exe, emxomfld.exe, emxomf* family

I do not understand next two:
     * _wildcard (int *argc, char ***argv): Same as in EMX, i.e. it 
expands it's arguments like a unix shell would do (but OS/2 cmd.exe 
doesn't), so you typically want to use this when porting a unix command 
line application. Instead of adding this to a program, compilation with 
-Zargs-wild can be used.
     * _response (int *argc, char ***argv): Same as in EMX. Expand 
response files (@FILENAME). The FILENAME contains a list of arguments, 
one per line. Arguments enclosed in double quotes will not be expanded. 
If a response file can not be opened, the argument is kept the same. 
-Zargs-resp will automatically compile this in.



I reported one error with hbmk2.exe in os2gcc-OMF and now we know is due 
hbmk2.prg are not managing our own object file extension and are relying 
in default C compiler extensions

Use of .obj just exploited this situation
Is not case of os2gcc-OMF. Any other user may found the problem if 
change object file extension for own purposes

I understand clearly because you explained it, this situation exist 
because a feature/logic/structure of hbmk2: multiple input in place of 
single input

What I see highly riskly in this case and your words/position, and you 
are aware of it: Harbour are centering in hbmk2 features /logic 
/structure, and not just centering but limited by them.
With your goals hbmk2 and at last Harbour "make" must be hard-wired to 
default C compiler extensions and other decisions

hbmk2 is a beautiful piece of software with more than 7,500 lines of 
code and well-known by you, but at last is a tool to help Harbour use, 
not to re-direct him

Do not confuse: hbmk2 tool does not have to limit /manage the main 
project: Harbour compiler


 >2009-11-04 17:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
 >  * utils/hbmk2/hbmk2.prg
 >  * config/os2/gcc.mk
 >    * Changed to use GCC default extensions for objects and libs
 >      even in OMF mode.
 >    ! This fixed hbmk2 problems reported by David Arturo Macias Corona.
 >    ; Please verify if now also changed lib extension didn't create
 >      any new problem in hbmk2, f.e. when using -strip option.

This is an improper and arbitrary change but expected by your position

Against your own claim, you commited when your doubts are not cleared 
and affecting entire OS/2 users

Simply you removed .obj and .lib for os2gcc - OMF even when I explained 
they are "conventions" in OS/2 world

This must be consequence of report an problem with hbmk2 ?

Now you "dressed" an lib file with OMF content as an lib file with a.out 
content
It confuse to any OS/2 user and will fail at first try
In OS/2 projects we look for .a files in a.out mode and .lib files in 
OMF mode
I explained time ago that some projects release both types and there are 
not conflict/collision due file extension

Only you know how you based your decision but it affect to OS/2 "community"

You do not need to be OS/2 user to understand this new problem
Your change fix a problem with hbmk2 reported by me opening an widest 
problem as you can easily understand

That change must be reverted, at least for lib file extension
object file extension are of low importance as they are intermediate 
files. But lib files are for end-users
You got your own conclusions and decided your change

Harbour developers will release OMF type lib files as .a files for OS/2 
world ? It may be funny but is tragic and is evidence of lack of care
As other OS/2 projects we should release .a and .lib library files of 
proper type

And in friendly words:
If you decide to revert your change, try to not to add your now typical 
notes as: "I received false information", "as just copied", and so on
Is improper to see them in Changelog, including <"rogue" patch"> phrase

Again I suggest to follow:
 > ... most of OS/2 projects style using .obj and .lib in OMF


To confirm default extensions in os2gcc-OMF I made some tests so they 
can help to understand and rely your revert

Note: I am not being an C developer, I just adapted from OWatcom guide

Tests do not use file name extensions unless they are forced to avoid 
error for existance
Process show dir in each phase so default extensions are easily seen

mytest.c
==================
#include <stdio.h>

void main()
{
     printf( "Hello world\n" );
     mytestlib();
}
==================


mytestlib.c
==================
#include <stdio.h>

void mytestlib()
{
     printf( "Hello world from mytestlib\n" );
}
==================

mytest.cmd
==================
dir
gcc -c mytestlib.c -Zomf
dir
emxomfar r mytestlib mytestlib.o
dir
gcc -c mytest.c -Zomf
dir
gcc mytest.o -lmytestlib -Zomf
dir
mytest.exe
==================

and executing catching output:

[E:\mytest]mytest.cmd > mytest.out 2>&1

mytest.out content are below showing clearly default file extensions

David Macias




[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
         6 file(s)         352 bytes used
                     470,191,104 bytes free

[E:\mytest]gcc -c mytestlib.c -Zomf

[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
  5/11/09  4:29a           357    124 a---  mytestlib.o
         7 file(s)         709 bytes used
                     470,190,080 bytes free

[E:\mytest]emxomfar r mytestlib mytestlib.o
Creating library file `mytestlib.lib'

[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
  5/11/09  4:29a         2,048    124 a---  mytestlib.lib
  5/11/09  4:29a           357    124 a---  mytestlib.o
         8 file(s)       2,757 bytes used
                     470,187,520 bytes free

[E:\mytest]gcc -c mytest.c -Zomf
mytest.c: In function 'main':
mytest.c:4: warning: return type of 'main' is not 'int'

[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a           400    124 a---  mytest.o
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
  5/11/09  4:29a         2,048    124 a---  mytestlib.lib
  5/11/09  4:29a           357    124 a---  mytestlib.o
         9 file(s)       3,157 bytes used
                     470,186,496 bytes free

[E:\mytest]gcc mytest.o -lmytestlib -Zomf

[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a         4,752      0 a---  mytest.exe
  5/11/09  4:29a           400    124 a---  mytest.o
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
  5/11/09  4:29a         2,048    124 a---  mytestlib.lib
  5/11/09  4:29a           357    124 a---  mytestlib.o
        10 file(s)       7,909 bytes used
                     470,180,352 bytes free

[E:\mytest]mytest.exe
Hello world
Hello world from mytestlib
[E:\mytest]


From maurilio.longo at libero.it  Mon Feb 22 11:40:34 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Feb 22 11:40:46 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13961] trunk/harbour
In-Reply-To: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <4B82B382.6030903@libero.it>

Viktor,

just to know, what does -Wl really mean to the compiler?

Best regards.

Maurilio.

vszakats@users.sourceforge.net wrote:
> Revision: 13961
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13961&view=rev
> Author:   vszakats
> Date:     2010-02-22 16:24:59 +0000 (Mon, 22 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-22 17:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbqt/hbqt_hbdbfmodel.cpp
>   * contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
>   * contrib/hbqt/hbqt_hbqtableview.cpp
>   * contrib/hbqt/hbqt_hbevents.cpp
>   * contrib/hbqt/hbqt_destruct.cpp
>   * contrib/hbqt/hbqt_utils.cpp
>   * contrib/hbqt/hbqt_hbqmainwindow.cpp
>   * contrib/hbqt/hbqt_hbqplaintextedit.cpp
>   * contrib/hbqt/hbqt_base.cpp
>   * contrib/hbqt/hbqt_hbslots.cpp
>     * Cleaned header inclusion order after adding hbapi.h to hbqt.h.
> 
>   * config/os2/gcc.mk
>     ! Fixed to use '-Wl,' trick proposed by Przemek, to forward obj list
>       script filename directly to linker.
>       This gets around the problem where gcc tries to pass expanded
>       scripts to subprocesses (ld) via cmdline, thus imposing a 32K
>       limit also to script files.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/config/os2/gcc.mk
>     trunk/harbour/contrib/hbqt/hbqt_base.cpp
>     trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
>     trunk/harbour/contrib/hbqt/hbqt_hbdbfmodel.cpp
>     trunk/harbour/contrib/hbqt/hbqt_hbevents.cpp
>     trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
>     trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
>     trunk/harbour/contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
>     trunk/harbour/contrib/hbqt/hbqt_hbqtableview.cpp
>     trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
>     trunk/harbour/contrib/hbqt/hbqt_utils.cpp
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Feb 22 11:44:53 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 11:45:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13961] trunk/harbour
In-Reply-To: <4B82B382.6030903@libero.it>
References: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
	<4B82B382.6030903@libero.it>
Message-ID: <403B6137-F3AD-42C5-A63F-7ED4BC0E0441@syenar.hu>

Hi Maurilio,

> just to know, what does -Wl really mean to the compiler?

It means to pass the option (without '-Wl,' prefix) directly 
to the linker subprocess.

It's like -ldflags= option in hbmk2.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Feb 22 11:46:30 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 11:46:38 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13961] trunk/harbour
In-Reply-To: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <1266857190373-4613380.post@n2.nabble.com>



vszakats wrote:
> 
> Revision: 13961
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13961&view=rev
> Author:   vszakats
> Date:     2010-02-22 16:24:59 +0000 (Mon, 22 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-22 17:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbqt/hbqt_hbdbfmodel.cpp
>   * contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
>   * contrib/hbqt/hbqt_hbqtableview.cpp
>   * contrib/hbqt/hbqt_hbevents.cpp
>   * contrib/hbqt/hbqt_destruct.cpp
>   * contrib/hbqt/hbqt_utils.cpp
>   * contrib/hbqt/hbqt_hbqmainwindow.cpp
>   * contrib/hbqt/hbqt_hbqplaintextedit.cpp
>   * contrib/hbqt/hbqt_base.cpp
>   * contrib/hbqt/hbqt_hbslots.cpp
>     * Cleaned header inclusion order after adding hbapi.h to hbqt.h.
> 

Thank you.

On WinXP everything builds fine and runs as before.
Should I upload .cpp sources or we wait for David to to more
tests on OS ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13961-trunk-harbour-tp4613241p4613380.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Feb 22 11:50:43 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 11:50:50 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
Message-ID: <1266857443912-4613415.post@n2.nabble.com>



marco bra wrote:
> 
> Hbide from rev. 13957 playing with Document Viewer Dock
> 
> i set as Harbour installation root "/home/ubuntu/src/harbour" and i live
> the
> "doc folder prefix" empty  pressing the green upper row i get this runtime
> error
> 
> Unrecoverable error 6005: Exception SIGSEGV at address 0x5d
> Called from QT_QTREEWIDGET_SETCURRENTITEM(0)
> Called from QTREEWIDGET:SETCURRENTITEM(0) in ../../../TQTreeWidget.prg
> Called from IDEHARBOURHELP:EXECEVENT(428) in ideharbourhelp.prg
> Called from (b)IDEHARBOURHELP_INSTALLSIGNALS(336) in ideharbourhelp.prg
> Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
> Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
> Called from APPEVENT(0) in ../../../xbpgeneric.prg
> Called from HBIDE:CREATE(417) in hbide.prg
> Called from MAIN(110) in hbide.prg
> 

This is strange error as this line is guarded against such action.

Can you exactly send step-by-step actions toy took, including the 
navigation, to let me understand how I can reproduce it ?

I assume, when you run hbIDE, the documentation tree is already populated.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13957-trunk-harbour-tp4611158p4613415.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Feb 22 11:54:37 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 11:54:45 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
	<531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>
Message-ID: <1266857677718-4613446.post@n2.nabble.com>



Vailton Renato wrote:
> 
> Pritpal, your work is excellent! But it would be the case for this
> doc/writer feature being mounted on an application separately? I think
> the tool is very good, but would be much better if we could work with
> a maximized window and a toolbar specifically for this application ...
> I've been thinking and I think it would be much better, more
> productive (and less confusing) to separate it into two separate
> applications... least because they have different objectives. What do
> you think?
> 
> Again congratulations,
> 

Honestly, I am lost in the contents of your message.

Are you saying that :

1. A separate application for "writing" process is "good" as it will provide 
   maximized window and a toolbar?
OR
2  "Writing" feature should be available in hbIDE itself.

I will clarify my viewpoint and roadmap after your response.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13952-trunk-harbour-tp4609995p4613446.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Feb 22 12:03:32 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 12:03:39 2010
Subject: [Harbour] Re: OS/2: hbqt, advances
In-Reply-To: <4B827B59.9060505@mail.udg.mx>
References: <4B827B59.9060505@mail.udg.mx>
Message-ID: <1266858212093-4613521.post@n2.nabble.com>


Hi David

Many thanks for your efforts and a valuable fact that you 
opened a ticket with netlabs. Probably it will pave the way to 
understand some hidden points where Harbour encounters a
GPF without any understandable reason. Also we may 
get clarified why "delete" operator is not called when an 
object is destroyed. Though it is future, your effort has 
shown that Qt support cares for these issues, if they are 
approached.



> 2) Pritpal: 
>     1. Add #ifndef QT_NO_PRINTER / #endif around the parts in the source 
> code that use printing classes (QAbstractPrintDialog, QPageSetupDialog 
> etc.) This btw will let it build on all platforms that don't provide 
> printing support for some reason, not only OS/2. 
> 
> 3) Pritpal: 
> #ifndef QT_NO_ACCESSIBILITY / #endif around the places that complain 
> about missing accessibility methods. 
> 
> Below are text with relevant facts of tests, info, responses, ... 
> 
> Qt for OS/2 (4.6.1) will be available soon, with printer support using
> CUPS 
> 

It will be extremely difficult if not impossible.

The reason is, Qt wrappers are generated dynamically and no 
developer's tweaking is enabled in them. This is only possible if 
I re-write the generator with OS problem in mind, which I am not 
aware at all.

The other solution could be to write overloading wrappers to these 
functions in a .cpp, say, hbqt_hbos.cpp, which is included per 
OS basis.

As Qt has announced that in 4.6.2 they will provide, we should wait till
then.
No?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-hbqt-advances-tp4611775p4613521.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bruno.luciani at gmail.com  Mon Feb 22 12:05:04 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Feb 22 12:05:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13961] trunk/harbour
In-Reply-To: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <133778361002220905k4bd1a85aoe988f149bc1a16c8@mail.gmail.com>

Which is the function of hbdbfmodel class ?


Bruno


2010/2/22 <vszakats@users.sourceforge.net>

> Revision: 13961
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13961&view=rev
> Author:   vszakats
> Date:     2010-02-22 16:24:59 +0000 (Mon, 22 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-22 17:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbqt/hbqt_hbdbfmodel.cpp
>  * contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
>  * contrib/hbqt/hbqt_hbqtableview.cpp
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/dd0a33f8/attachment.html
From marcobra.ubuntu at gmail.com  Mon Feb 22 12:06:42 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 12:06:52 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <1266857443912-4613415.post@n2.nabble.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
Message-ID: <fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>

This might be the issue my doc tree is not populated and i can press the
buttons i was just trying to populate my doc.

What about to disable navigation button if doc is not populated...

Also can you please provide some example or tips to help user to populate
the doc on Ubuntu.

What mean "Harbour installation root" sources path root or binary installed
path...?
What mean "Doc folder prefix" ...?

Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/bbf2515d/attachment.html
From bedipritpal at hotmail.com  Mon Feb 22 12:09:53 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 12:10:00 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13961] trunk/harbour
In-Reply-To: <133778361002220905k4bd1a85aoe988f149bc1a16c8@mail.gmail.com>
References: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
	<133778361002220905k4bd1a85aoe988f149bc1a16c8@mail.gmail.com>
Message-ID: <1266858593988-4613575.post@n2.nabble.com>



Bruno Luciani wrote:
> 
> Which is the function of hbdbfmodel class ?
> 

What is your question ?

Viktor only changed the headers sequence.
It has nothing to do with any function. hbQT with 
all its subs is running fine.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13961-trunk-harbour-tp4613241p4613575.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Feb 22 12:13:32 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 12:13:38 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
Message-ID: <1266858812128-4613597.post@n2.nabble.com>



marco bra wrote:
> 
> This might be the issue my doc tree is not populated and i can press the
> buttons i was just trying to populate my doc.
> 
> What about to disable navigation button if doc is not populated...
> 
> Also can you please provide some example or tips to help user to populate
> the doc on Ubuntu.
> 
> What mean "Harbour installation root" sources path root or binary
> installed
> path...?
> What mean "Doc folder prefix" ...?
> 

To populate, click on "Refresh" button after providing the Harbour Root
Path.

So I will have to ensure that no irrelevant buttons is available when 
no tree is populated. Will commit next time.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13957-trunk-harbour-tp4611158p4613597.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From francek.prijatelj at siol.net  Mon Feb 22 12:14:24 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Mon Feb 22 12:14:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <27690720.post@talk.nabble.com>


Hi Pritpal

Here is an error compiling with MSVC8:

cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 -EHs-c-
-Zi -DHB_LEGACY_TYPES_OFF -DUNICODE -DHB_TR_LEVEL_DEBUG 
-IC:\Qt\msvc\include -IC:\Qt\msvc\include/QtCore -IC:\Qt\msvc\include/QtGui
-IC:\Qt\msvc\include/QtNetwork  -Fohbqt_hbslots.obj -c
../../../hbqt_hbslots.cpp
hbqt_hbslots.cpp
../../../hbqt_hbslots.cpp(207) : fatal error C1061: compiler limit : blocks
nested too deeply
mingw32-make[3]: [hbqt_hbslots.obj] Error 2 (ignored)

MSVC allows only 128 "if else if" nesting depth.

There is a better solution (working and more optimal)
Remove all else statements like:


static bool connect_signal( QString signal, QObject * object, HBSlots *
t_slots )
{
   if( signal == ( QString ) "customContextMenuRequested(QPoint)" ) return
object->connect( object, SIGNAL( customContextMenuRequested( const QPoint &
)                      ), t_slots, SLOT( customContextMenuRequested( const
QPoint & )                       ), Qt::AutoConnection );
   if( signal == ( QString ) "clicked()"                          ) return
object->connect( object, SIGNAL( clicked()                                                        
), t_slots, SLOT( clicked()                                                         
), Qt::AutoConnection );
   if( signal == ( QString ) "returnPressed()"                    ) return
object->connect( object, SIGNAL( returnPressed()                                                  
), t_slots, SLOT( returnPressed()                                                   
), Qt::AutoConnection );
   .
   .
   .
   return false;
}

static bool disconnect_signal( QObject * object, const char * signal )
{
   if( signal == ( QString ) "customContextMenuRequested(QPoint)" ) return
object->disconnect( SIGNAL( customContextMenuRequested( const QPoint & )                     
) );
   if( signal == ( QString ) "clicked()"                          ) return
object->disconnect( SIGNAL( clicked()                                                        
) );
   if( signal == ( QString ) "returnPressed()"                    ) return
object->disconnect( SIGNAL( returnPressed()                                                  
) );
   .
   .
   .
   return false;
}


BRGDS
Fran?ek

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13952--trunk-harbour-tp27682361p27690720.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Feb 22 12:18:12 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 12:18:23 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
Message-ID: <11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>

Anyhow it again shows very grave problems with HBQT.

No sort of missing file, or volatile environment 
property/error (or user action) should ever cause 
a GPF.

Looks like nobody is really bothered by these, and 
sorry to repeat, but it makes the whole package 
unsuitable for any sort of professional work. It's 
difficult to trust a codebase where such GPF's 
are consistently unfixed for months, and if fixed, 
only worked around on the UI level.

Or it's possible I'm wrong, and GPFs are normal 
fact of life in GUI-world.

Brgds,
Viktor

On 2010 Feb 22, at 18:06, marco bra wrote:

> This might be the issue my doc tree is not populated and i can press the buttons i was just trying to populate my doc.
> 
> What about to disable navigation button if doc is not populated...
> 
> Also can you please provide some example or tips to help user to populate the doc on Ubuntu.
> 
> What mean "Harbour installation root" sources path root or binary installed path...?
> What mean "Doc folder prefix" ...?
> 
> Thank you
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Feb 22 12:19:36 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 12:19:46 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13961] trunk/harbour
In-Reply-To: <133778361002220905k4bd1a85aoe988f149bc1a16c8@mail.gmail.com>
References: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
	<133778361002220905k4bd1a85aoe988f149bc1a16c8@mail.gmail.com>
Message-ID: <387D74EA-EE7A-45A4-9344-45331A967872@syenar.hu>

I think it's HBXBP-specific helper functionality.

It'd need another name most probably, but since I can't 
tell what it is, it's difficult to suggest something better.

Brgds,
Viktor

On 2010 Feb 22, at 18:05, Bruno Luciani wrote:

> 
> Which is the function of hbdbfmodel class ?
> 
> 
> Bruno
> 
> 
> 2010/2/22 <vszakats@users.sourceforge.net>
> Revision: 13961
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13961&view=rev
> Author:   vszakats
> Date:     2010-02-22 16:24:59 +0000 (Mon, 22 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-22 17:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbqt/hbqt_hbdbfmodel.cpp
>  * contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
>  * contrib/hbqt/hbqt_hbqtableview.cpp
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Feb 22 12:22:46 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 12:22:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <27690720.post@talk.nabble.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
	<27690720.post@talk.nabble.com>
Message-ID: <7578AD95-21B4-4D76-9075-F25A4A5727C4@syenar.hu>

Here I still wonder if it's normal to have such 
large central/global conditional constructs with 
many hard-wired logic which really belongs to 
other/different parts of this package. 

Isn't there a more generic, or modular solution 
to this problem?

Brgds,
Viktor

On 2010 Feb 22, at 18:14, Fran?ek Prijatelj wrote:

> 
> Hi Pritpal
> 
> Here is an error compiling with MSVC8:
> 
> cl.exe   -I. -I../../../../../include -nologo -TP -W4 -wd4127 -Ot2b1 -EHs-c-
> -Zi -DHB_LEGACY_TYPES_OFF -DUNICODE -DHB_TR_LEVEL_DEBUG 
> -IC:\Qt\msvc\include -IC:\Qt\msvc\include/QtCore -IC:\Qt\msvc\include/QtGui
> -IC:\Qt\msvc\include/QtNetwork  -Fohbqt_hbslots.obj -c
> ../../../hbqt_hbslots.cpp
> hbqt_hbslots.cpp
> ../../../hbqt_hbslots.cpp(207) : fatal error C1061: compiler limit : blocks
> nested too deeply
> mingw32-make[3]: [hbqt_hbslots.obj] Error 2 (ignored)
> 
> MSVC allows only 128 "if else if" nesting depth.
> 
> There is a better solution (working and more optimal)
> Remove all else statements like:
> 
> 
> static bool connect_signal( QString signal, QObject * object, HBSlots *
> t_slots )
> {
>   if( signal == ( QString ) "customContextMenuRequested(QPoint)" ) return
> object->connect( object, SIGNAL( customContextMenuRequested( const QPoint &
> )                      ), t_slots, SLOT( customContextMenuRequested( const
> QPoint & )                       ), Qt::AutoConnection );
>   if( signal == ( QString ) "clicked()"                          ) return
> object->connect( object, SIGNAL( clicked()                                                        
> ), t_slots, SLOT( clicked()                                                         
> ), Qt::AutoConnection );
>   if( signal == ( QString ) "returnPressed()"                    ) return
> object->connect( object, SIGNAL( returnPressed()                                                  
> ), t_slots, SLOT( returnPressed()                                                   
> ), Qt::AutoConnection );
>   .
>   .
>   .
>   return false;
> }
> 
> static bool disconnect_signal( QObject * object, const char * signal )
> {
>   if( signal == ( QString ) "customContextMenuRequested(QPoint)" ) return
> object->disconnect( SIGNAL( customContextMenuRequested( const QPoint & )                     
> ) );
>   if( signal == ( QString ) "clicked()"                          ) return
> object->disconnect( SIGNAL( clicked()                                                        
> ) );
>   if( signal == ( QString ) "returnPressed()"                    ) return
> object->disconnect( SIGNAL( returnPressed()                                                  
> ) );
>   .
>   .
>   .
>   return false;
> }
> 
> 
> BRGDS
> Fran?ek
> 
> -- 
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13952--trunk-harbour-tp27682361p27690720.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From marcobra.ubuntu at gmail.com  Mon Feb 22 12:25:35 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 12:25:44 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <1266858812128-4613597.post@n2.nabble.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
	<1266858812128-4613597.post@n2.nabble.com>
Message-ID: <fd76479f1002220925x7f75d92fve108907ffc4c8fbe@mail.gmail.com>

2010/2/22 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> marco bra wrote:
> >
> > This might be the issue my doc tree is not populated and i can press the
> > buttons i was just trying to populate my doc.
> >
> > What about to disable navigation button if doc is not populated...
> >
> > Also can you please provide some example or tips to help user to populate
> > the doc on Ubuntu.
> >
> > What mean "Harbour installation root" sources path root or binary
> > installed
> > path...?
> > What mean "Doc folder prefix" ...?
> >
>
> To populate, click on "Refresh" button after providing the Harbour Root
> Path.
>
> i have put  /home/danilo/src/harbour into Harbour Root Path i press Refresh
button but i can't get doc loaded no error nothing come in front to me.

Ubuntu 9.10 hbide rebuilded with the hbmk2 ... -rebuild option

Thank you


> So I will have to ensure that no irrelevant buttons is available when
> no tree is populated. Will commit next time.
>
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/SF-net-SVN-harbour-project-13957-trunk-harbour-tp4611158p4613597.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Linux Infinite Freedom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/8a36a22d/attachment.html
From bedipritpal at hotmail.com  Mon Feb 22 12:25:49 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 12:25:56 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
	<11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>
Message-ID: <1266859549037-4613679.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Anyhow it again shows very grave problems with HBQT.
> 
> No sort of missing file, or volatile environment 
> property/error (or user action) should ever cause 
> a GPF.
> 
> Looks like nobody is really bothered by these, and 
> sorry to repeat, but it makes the whole package 
> unsuitable for any sort of professional work. It's 
> difficult to trust a codebase where such GPF's 
> are consistently unfixed for months, and if fixed, 
> only worked around on the UI level.
> 
> Or it's possible I'm wrong, and GPFs are normal 
> fact of life in GUI-world.
> 

It is a programming fact on the surface to cover 
some of the unwanted side-effects of Qt which I do not yet
how they should be implemented in a way that does not 
cause GPF.

I am constantly struggling to find the solution.
But seems my meagre knowledge in CPP space is really 
restrictive in this effort.

Nevertheless, the struggle is on. We found many solutions
in the past and we will find many in the future. Hatbour-Qt
is evolving, still.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13957-trunk-harbour-tp4611158p4613679.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Mon Feb 22 12:27:31 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 22 12:27:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13962] trunk/harbour
Message-ID: <E1Njc4B-0006uj-1q@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13962
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13962&view=rev
Author:   vszakats
Date:     2010-02-22 17:27:15 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 18:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    % Deleted recently added logic for os2/gcc* targets. Not needed 
      anymore.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Mon Feb 22 12:34:03 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Mon Feb 22 12:34:11 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <1266859549037-4613679.post@n2.nabble.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
	<11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>
	<1266859549037-4613679.post@n2.nabble.com>
Message-ID: <27691072.post@talk.nabble.com>


Hi Pritpal


Pritpal Bedi wrote:
> 
> 
> 
> It is a programming fact on the surface to cover 
> some of the unwanted side-effects of Qt which I do not yet
> how they should be implemented in a way that does not 
> cause GPF.
> 
> I am constantly struggling to find the solution.
> But seems my meagre knowledge in CPP space is really 
> restrictive in this effort.
> 
> Nevertheless, the struggle is on. We found many solutions
> in the past and we will find many in the future. Hatbour-Qt
> is evolving, still.
> 
> 

In Qt you don't have to (or must not?) destroy child widgets.
Parent widget is responsible for destruction of it's children.
So you have to destroy only dynamicaly allocated top level (without parent)
widgets.

BRGDS
Fran?ek




-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13957--trunk-harbour-tp27685058p27691072.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bruno.luciani at gmail.com  Mon Feb 22 12:34:28 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Feb 22 12:34:36 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13961] trunk/harbour
In-Reply-To: <1266858593988-4613575.post@n2.nabble.com>
References: <E1Njb5k-0002Kv-NW@sfp-svn-3.v30.ch3.sourceforge.com>
	<133778361002220905k4bd1a85aoe988f149bc1a16c8@mail.gmail.com>
	<1266858593988-4613575.post@n2.nabble.com>
Message-ID: <133778361002220934p10312f0dtb8781a37b79bcdca@mail.gmail.com>

Ok my mistake , I think that it was  related  with some new dbf function
or something like this

Bruno

2010/2/22 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Bruno Luciani wrote:
> >
> > Which is the function of hbdbfmodel class ?
> >
>
> What is your question ?
>
> Viktor only changed the headers sequence.
> It has nothing to do with any function. hbQT with
> all its subs is running fine.
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/f40cd4bb/attachment.html
From bedipritpal at hotmail.com  Mon Feb 22 12:37:39 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 12:37:46 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <7578AD95-21B4-4D76-9075-F25A4A5727C4@syenar.hu>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
	<27690720.post@talk.nabble.com>
	<7578AD95-21B4-4D76-9075-F25A4A5727C4@syenar.hu>
Message-ID: <1266860259108-4613747.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Here I still wonder if it's normal to have such 
> large central/global conditional constructs with 
> many hard-wired logic which really belongs to 
> other/different parts of this package. 
> 
> Isn't there a more generic, or modular solution 
> to this problem?
> 

Modular and grandular approach is always desirable.
But "how to" in case of hbqt_hbslots.cpp is elluding me.
The reason is how to call single function on PRG level.
Signals and slots are designed to to call a central function
based on the type of arguments. If we try the other way
each method in classes on TQ*.prg will have to implement
a separate function matching the type.

I am sure I could not explain myself clearly. Please understand 
my contents.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13952-trunk-harbour-tp4609995p4613747.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Mon Feb 22 12:40:51 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 12:40:59 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <1266859549037-4613679.post@n2.nabble.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
	<11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>
	<1266859549037-4613679.post@n2.nabble.com>
Message-ID: <06A50927-5B02-49A2-89C4-5D3B05938A72@syenar.hu>

>> Looks like nobody is really bothered by these, and 
>> sorry to repeat, but it makes the whole package 
>> unsuitable for any sort of professional work. It's 
>> difficult to trust a codebase where such GPF's 
>> are consistently unfixed for months, and if fixed, 
>> only worked around on the UI level.
>> 
>> Or it's possible I'm wrong, and GPFs are normal 
>> fact of life in GUI-world.
>> 
> 
> It is a programming fact on the surface to cover 
> some of the unwanted side-effects of Qt which I do not yet
> how they should be implemented in a way that does not 
> cause GPF.

If these are ever just masked, we'll have an infinite 
amount of reports in the future when the same thing 
reappears again and again at random times.

We also don't know if these are new issues or unfixed 
old ones.

To ever get these covered, I think each such cases 
should be replicated using an isolated (self-contained) 
test case, so that we can give it a closer look and 
make the real fix eventually. Such test cases can be 
stored in /contrib/hbqt/tests/ directory for reference.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Feb 22 12:46:41 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 12:46:49 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <27691072.post@talk.nabble.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
	<11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>
	<1266859549037-4613679.post@n2.nabble.com>
	<27691072.post@talk.nabble.com>
Message-ID: <1266860801707-4613809.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> In Qt you don't have to (or must not?) destroy child widgets.
> Parent widget is responsible for destruction of it's children.
> So you have to destroy only dynamicaly allocated top level (without
> parent)
> widgets.
> 

This is true if the widget is created with pure .cpp code
calling the constructors and destruction within from.

In Harbour-Qt we construct a widget with QWidget():new()
which allocates a pointer in HMV and we destruct that pointer 
through GC. It is only possible if we initiate destruction ourselves.

So if we destroy the top level, then the pointers created for
its children are never get freed, or if HVM frees it, it is not there
anymore. Though we have protection code in destructors, but 
it seems that is not enough, we need another approach.

Now I understand that for nested widgets, like treeview, I have to
start from the children then promoting to the parents while
destroying. I will try it today.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13957-trunk-harbour-tp4611158p4613809.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Feb 22 12:48:40 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 12:48:47 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <06A50927-5B02-49A2-89C4-5D3B05938A72@syenar.hu>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
	<11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>
	<1266859549037-4613679.post@n2.nabble.com>
	<06A50927-5B02-49A2-89C4-5D3B05938A72@syenar.hu>
Message-ID: <1266860920219-4613824.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> If these are ever just masked, we'll have an infinite 
> amount of reports in the future when the same thing 
> reappears again and again at random times.
> 
> We also don't know if these are new issues or unfixed 
> old ones.
> 
> To ever get these covered, I think each such cases 
> should be replicated using an isolated (self-contained) 
> test case, so that we can give it a closer look and 
> make the real fix eventually. Such test cases can be 
> stored in /contrib/hbqt/tests/ directory for reference.
> 

I will try.

Though it is hard to reproduce something not working 
on isolated basis, but yes, these must be quantrined.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13957-trunk-harbour-tp4611158p4613824.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Mon Feb 22 12:59:44 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 22 12:59:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13963] trunk/harbour
Message-ID: <E1NjcZM-0004F5-23@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13963
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13963&view=rev
Author:   vouchcac
Date:     2010-02-22 17:59:32 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 09:16 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qtcore/*.cpp 
  * contrib/hbqt/qtcore/*.cpp
  * contrib/hbqt/qtcore/*.cpp
    ! Regenerated sources after recent changes in headers implementation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qtcore/HBDbfModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/HBEvents.cpp
    trunk/harbour/contrib/hbqt/qtcore/HBSlots.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QBuffer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QChar.cpp
    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QIODevice.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSettings.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUiLoader.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/HBQMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/HBQPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/HBQSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/HBQTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/HBQTextBlockUserData.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractProxyModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragEnterEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragLeaveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHelpEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputContext.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMdiArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMdiSubWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintDevice.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEngine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPlainTextDocumentLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSessionManager.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStackedWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturn.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextList.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QValidator.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcobra.ubuntu at gmail.com  Mon Feb 22 13:50:52 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 13:51:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13963] trunk/harbour
In-Reply-To: <E1NjcZM-0004F5-23@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NjcZM-0004F5-23@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1002221050o5afc7254i657752e7f9fcff93@mail.gmail.com>

Rebuilding from a clean  state Revision: 13963

make[3]: `../../../../../lib/linux/gcc/libhbqt.a' is up to date.
! Installing hbqt.ch on /usr/include
! Installing ../../lib/linux/gcc/libhbqt.a on /usr/lib
gcc   -I. -I../../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
 -I/usr/include/qt4 -I/usr/include/qt4/QtCore  -oQDateTime.o -c
../../../QDateTime.cpp
../../../QDateTime.cpp: In function ?void hbqt_gcRelease_QDateTime(void*)?:
../../../QDateTime.cpp:111: internal compiler error: Segmentation fault
Please submit a full bug report,
with preprocessed source if appropriate.
See <file:///usr/share/doc/gcc-4.4/README.Bugs> for instructions.
make[4]: *** [QDateTime.o] Error 1
make[3]: *** [descend] Error 2
make[2]: *** [qtcore.inst] Error 2
make[1]: *** [hbqt.inst] Error 2
make: *** [contrib.inst] Error 2


Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/058371c4/attachment.html
From vailtom at gmail.com  Mon Feb 22 14:09:52 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Feb 22 14:10:23 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <1266857677718-4613446.post@n2.nabble.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com> 
	<531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com> 
	<1266857677718-4613446.post@n2.nabble.com>
Message-ID: <531d7a751002221109u48a0b0f0m418dbab145da54c0@mail.gmail.com>

Hi Pritpal!

The way is now the doc / writer is well. But I think a separate
application would be more useful...

Regards,
Vailton Renato
From bedipritpal at hotmail.com  Mon Feb 22 14:19:22 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 14:19:31 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <531d7a751002221109u48a0b0f0m418dbab145da54c0@mail.gmail.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
	<531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>
	<1266857677718-4613446.post@n2.nabble.com>
	<531d7a751002221109u48a0b0f0m418dbab145da54c0@mail.gmail.com>
Message-ID: <1266866362243-4614401.post@n2.nabble.com>



Vailton Renato wrote:
> 
> The way is now the doc / writer is well. But I think a separate
> application would be more useful...
> 

That's OK.

We can have n number of applications. User may choose 
whatever will be convinient.

hbIDE will implement very basic "writer", not fancy, so that user could
amend something or write a new function if he/she choose so.
Or for that purpose he may use another application.

But for sure all such tools will respect doc/hdr_tpl.txt defined format
and will seek permission on this list per se folder and name space.

Off course, a full-fledged application addressing this need only
will be a big productivity boost.

As far as "full-screen" is concerned, it is a matter of tweaking the 
docking widgets with "floatable" attribute. I will do in a moment.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13952-trunk-harbour-tp4609995p4614401.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Feb 22 14:21:43 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 14:21:49 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <531d7a751002221109u48a0b0f0m418dbab145da54c0@mail.gmail.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
	<531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>
	<1266857677718-4613446.post@n2.nabble.com>
	<531d7a751002221109u48a0b0f0m418dbab145da54c0@mail.gmail.com>
Message-ID: <1266866503193-4614418.post@n2.nabble.com>



Vailton Renato wrote:
> 
> The way is now the doc / writer is well. But I think a separate
> application would be more useful...
> 

Should not we forget,

we need such tools fast before this enomoursly
build passion to write documentation dies in the 
hearts of potential writers...


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13952-trunk-harbour-tp4609995p4614418.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Mon Feb 22 14:24:46 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb 22 14:24:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour
In-Reply-To: <D518D403-F647-4CA1-916F-C344FFFD3B10@syenar.hu>
References: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com>
	<02e501cab1c3$62f78c50$b53aa8c0@AndrzejW>
	<6E506A6C-6D09-422A-90B6-4C0AB1894392@syenar.hu>
	<004d01cab262$a2062010$b53aa8c0@AndrzejW>
	<D518D403-F647-4CA1-916F-C344FFFD3B10@syenar.hu>
Message-ID: <20100222192446.GA26179@linux-4bod.home.aster.pl>

On Sat, 20 Feb 2010, Szak?ts Viktor wrote:

Hi,

> >> --- (from old hbwin.ch)
> >> #define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
> >> #define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
> >> #define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
> >> #define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
> >> #define RGB_RED                RGB( 0x85, 0x00, 0x00 )
> >> #define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
> >> #define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
> >> #define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )
> >> ---
> > Once again, the above colours are in RGB colour model. They are defined for
> > display, not for printing. That is not full Clipper colour palette, only
> > non-BRIGHT part, and brown defined here is not brown on screen.
> It was not the goal to be full Clipper palette. One 
> may of course create Clipper-alike colors by using 
> different values, but I can't see any use of that in 
> hbwin.ch, neither does it seem like this was intent 
> of original developers using above values.

If you are interesting then Clipper uses original VGA colors
with the following values:

   /* black         "rgb:00/00/00" */
   /* blue          "rgb:00/00/AA" */
   /* green         "rgb:00/AA/00" */
   /* cyan          "rgb:00/AA/AA" */
   /* red           "rgb:AA/00/00" */
   /* magenta       "rgb:AA/00/AA" */
   /* brown         "rgb:AA/55/00" */
   /* light gray    "rgb:AA/AA/AA" */
   /* gray          "rgb:55/55/55" */
   /* light blue    "rgb:55/55/FF" */
   /* light green   "rgb:55/FF/55" */
   /* light cyan    "rgb:55/FF/FF" */
   /* light red     "rgb:FF/55/55" */
   /* light magenta "rgb:FF/55/FF" */
   /* yellow        "rgb:FF/FF/55" */
   /* white         "rgb:FF/FF/FF" */

(read from VGA registers by small ASM code I wrote many years ago)
I used this colors in GTXWC.
Anyhow the intensity of colors strongly depends on type of device
so the real printer results can be completely different.

Probably I missed the context but I do not understand why Andrzej is
mixing RGB palette used in VGA addapters for screen colors and RGB color
definitions used in Harobur WIN API functions for printing.

best regards,
Przemek
From boerig97 at hotmail.com  Mon Feb 22 14:35:17 2010
From: boerig97 at hotmail.com (Marco Boeri)
Date: Mon Feb 22 14:35:25 2010
Subject: [Harbour] Changelog file
Message-ID: <SNT140-w33E03BEA87390160A87FB0D5430@phx.gbl>


Hi all,

there is a way to split Changelog in more separate files (i.e Changelog.001, Changelog.002....) to have a smaller current file size ?

Is this name mandatory for SVN use? If not, we may use something like Chang1002 <prefix><year><month> to have a single file for each year/month.

 

Best regards,

Marco
 		 	   		  
_________________________________________________________________
Tutto lo spazio che ti serve, lo trovi su Hotmail
http://www.windowslive.it/hotmail/SpazioDisponibile.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/5d3f9cae/attachment.html
From harbour.01 at syenar.hu  Mon Feb 22 14:39:38 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 14:39:49 2010
Subject: [Harbour] Changelog file
In-Reply-To: <SNT140-w33E03BEA87390160A87FB0D5430@phx.gbl>
References: <SNT140-w33E03BEA87390160A87FB0D5430@phx.gbl>
Message-ID: <2E0B1751-E510-48D6-948A-C4A7E649C503@syenar.hu>

Hi,

> Hi all,
> there is a way to split Changelog in more separate files (i.e Changelog.001, Changelog.002....) to have a smaller current file size ?
> Is this name mandatory for SVN use? If not, we may use something like Chang1002 <prefix><year><month> to have a single file for each year/month.

We decided not to split it, to make searching easy, 
and the layout/naming clean. F.e. I make searches 
in ChangeLog very frequently, and it's much quicker 
to do it in one file, than in multiple ones using 
grep.

The only pending issue is to rename it to a 
short filename to make MS-DOS releases simpler, 
and give it a standard extenstion.
(f.e. CHANGES.txt, HISTORY.txt, UPDATES.txt)

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Feb 22 14:42:36 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 14:42:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13878] trunk/harbour
In-Reply-To: <20100222192446.GA26179@linux-4bod.home.aster.pl>
References: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com>
	<02e501cab1c3$62f78c50$b53aa8c0@AndrzejW>
	<6E506A6C-6D09-422A-90B6-4C0AB1894392@syenar.hu>
	<004d01cab262$a2062010$b53aa8c0@AndrzejW>
	<D518D403-F647-4CA1-916F-C344FFFD3B10@syenar.hu>
	<20100222192446.GA26179@linux-4bod.home.aster.pl>
Message-ID: <A1444CCC-33D3-4FE0-8E4C-8A5B7CFF09AC@syenar.hu>

Thanks Przemek.

I'll fix GTWVT to use the same colors.

Brgds,
Viktor

On 2010 Feb 22, at 20:24, Przemys?aw Czerpak wrote:

> On Sat, 20 Feb 2010, Szak?ts Viktor wrote:
> 
> Hi,
> 
>>>> --- (from old hbwin.ch)
>>>> #define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
>>>> #define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
>>>> #define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
>>>> #define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
>>>> #define RGB_RED                RGB( 0x85, 0x00, 0x00 )
>>>> #define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
>>>> #define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
>>>> #define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )
>>>> ---
>>> Once again, the above colours are in RGB colour model. They are defined for
>>> display, not for printing. That is not full Clipper colour palette, only
>>> non-BRIGHT part, and brown defined here is not brown on screen.
>> It was not the goal to be full Clipper palette. One 
>> may of course create Clipper-alike colors by using 
>> different values, but I can't see any use of that in 
>> hbwin.ch, neither does it seem like this was intent 
>> of original developers using above values.
> 
> If you are interesting then Clipper uses original VGA colors
> with the following values:
> 
>   /* black         "rgb:00/00/00" */
>   /* blue          "rgb:00/00/AA" */
>   /* green         "rgb:00/AA/00" */
>   /* cyan          "rgb:00/AA/AA" */
>   /* red           "rgb:AA/00/00" */
>   /* magenta       "rgb:AA/00/AA" */
>   /* brown         "rgb:AA/55/00" */
>   /* light gray    "rgb:AA/AA/AA" */
>   /* gray          "rgb:55/55/55" */
>   /* light blue    "rgb:55/55/FF" */
>   /* light green   "rgb:55/FF/55" */
>   /* light cyan    "rgb:55/FF/FF" */
>   /* light red     "rgb:FF/55/55" */
>   /* light magenta "rgb:FF/55/FF" */
>   /* yellow        "rgb:FF/FF/55" */
>   /* white         "rgb:FF/FF/FF" */
> 
> (read from VGA registers by small ASM code I wrote many years ago)
> I used this colors in GTXWC.
> Anyhow the intensity of colors strongly depends on type of device
> so the real printer results can be completely different.
> 
> Probably I missed the context but I do not understand why Andrzej is
> mixing RGB palette used in VGA addapters for screen colors and RGB color
> definitions used in Harobur WIN API functions for printing.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Feb 22 14:44:38 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Feb 22 14:44:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13964] trunk/harbour
Message-ID: <E1NjeCs-00011c-5C@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13964
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13964&view=rev
Author:   vszakats
Date:     2010-02-22 19:44:36 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 20:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwvt/gtwvt.h
  * src/rtl/gtwvt/gtwvt.c
    ! Fixed to use standard VGA RGB values, just like in GTXWC.
    ! Fixed color constant names (no "bright white" anymore).

  * include/hbdefs.h
    % Minor cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carlosbacco at gmail.com  Mon Feb 22 14:58:27 2010
From: carlosbacco at gmail.com (Bacco)
Date: Mon Feb 22 14:58:55 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <1266866503193-4614418.post@n2.nabble.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com> 
	<531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com> 
	<1266857677718-4613446.post@n2.nabble.com>
	<531d7a751002221109u48a0b0f0m418dbab145da54c0@mail.gmail.com> 
	<1266866503193-4614418.post@n2.nabble.com>
Message-ID: <eed8bee51002221158o31fadd15oec49cca484749fa6@mail.gmail.com>

I am writing mine, standalone with focus on writing documentation.
Just not so fast as I want 'cause I am using spare time, but it's
going on. I hope you like the interface.

Regards
Bacco

On Mon, Feb 22, 2010 at 16:21, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>
>
> Vailton Renato wrote:
>>
>> The way is now the doc / writer is well. But I think a separate
>> application would be more useful...
>>
>
> Should not we forget,
>
> we need such tools fast before this enomoursly
> build passion to write documentation dies in the
> hearts of potential writers...
>
>
> -----
> ? ? ? ? ? ? ? ? enjoy hbIDEing...
> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13952-trunk-harbour-tp4609995p4614418.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From bedipritpal at hotmail.com  Mon Feb 22 15:21:21 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 15:21:28 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13963] trunk/harbour
In-Reply-To: <fd76479f1002221050o5afc7254i657752e7f9fcff93@mail.gmail.com>
References: <E1NjcZM-0004F5-23@sfp-svn-3.v30.ch3.sourceforge.com>
	<fd76479f1002221050o5afc7254i657752e7f9fcff93@mail.gmail.com>
Message-ID: <1266870081698-4614743.post@n2.nabble.com>



marco bra wrote:
> 
> Rebuilding from a clean  state Revision: 13963
> 
> make[3]: `../../../../../lib/linux/gcc/libhbqt.a' is up to date.
> ! Installing hbqt.ch on /usr/include
> ! Installing ../../lib/linux/gcc/libhbqt.a on /usr/lib
> gcc   -I. -I../../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
>  -I/usr/include/qt4 -I/usr/include/qt4/QtCore  -oQDateTime.o -c
> ../../../QDateTime.cpp
> ../../../QDateTime.cpp: In function ?void
> hbqt_gcRelease_QDateTime(void*)?:
> ../../../QDateTime.cpp:111: internal compiler error: Segmentation fault
> Please submit a full bug report,
> with preprocessed source if appropriate.
> See <file:///usr/share/doc/gcc-4.4/README.Bugs> for instructions.
> make[4]: *** [QDateTime.o] Error 1
> make[3]: *** [descend] Error 2
> make[2]: *** [qtcore.inst] Error 2
> make[1]: *** [hbqt.inst] Error 2
> make: *** [contrib.inst] Error 2
> 

I have no idea why this error is. 
Most probably it is caused by the changes in headers order.
But for sure I am at a loss what has gone wrong.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13963-trunk-harbour-tp4613897p4614743.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Mon Feb 22 15:21:46 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb 22 15:21:57 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive" 
	[Harbour / Clipper difference]
In-Reply-To: <674e4ddd1002051910h4c8aa54t54d1707738e0941d@mail.gmail.com>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
	<20100205233417.GA9490@linux-4bod.home.aster.pl>
	<674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>
	<20100206002036.GA9825@linux-4bod.home.aster.pl>
	<674e4ddd1002051640k77d02d9bqe360fcd4acec30a1@mail.gmail.com>
	<20100206014356.GA10430@linux-4bod.home.aster.pl>
	<674e4ddd1002051910h4c8aa54t54d1707738e0941d@mail.gmail.com>
Message-ID: <674e4ddd1002221221y6ceed87etffbc896ca6868bc7@mail.gmail.com>

Hi,

I was curious if a some sort of compability switch / flag could be enabled
to toggle the ordsetfocus() to behave like Clipper 5.2e (or higher, not sure
if it is different in 5.3) to not change the focus if it cannot find what is
in the argument.  The way it behaves now is good for fixing bugs and stuff,
and I'm happy with it...  but my senior has asked me to ask you in case it
can be done, as he will probably do that to start off with so we don't get
RTE errors, even if it is sloppy.

Any thoughts?


2010/2/5 smu johnson <smujohnson@gmail.com>

> Thanks Przemek, this is also what my senior thought.
>
>
> 2010/2/5 Przemys?aw Czerpak <druzus@acn.waw.pl>
>
>> On Fri, 05 Feb 2010, smu johnson wrote:
>>
>> Hi,
>>
>> > Difference 1)  ordsetfocus() if it cannot find a key you are looking
>> for..
>> > for instance if you run (with a typo) the ordsetfocus("isbnM") (notice
>> the M
>> > typo) twice, when I really was looking for "isbn"... it will return a
>> blank
>> > C string "" the 2nd time, because it cannot find "isbnM".  Clipper
>> instead
>> > does not switch it to "", but retains the previously working key.
>>
>> Not exactly.
>> 1. The return value depends order set before you call ordSetFocus()
>>   and it doesn't matter what you specify as parameter. Of course the
>>   result can be different then you expected but in such case it was
>>   caused by wrongly selected tag in previous ordSetFocus() call.
>>
>> 2. When you specify wrong (not existing) tag name then the behavior
>>   depends on used RDD. Also in Clipper.
>>   In Clipper DBFNTX and SIX3 RDDs do not change the index but
>>   COMIX based RDDs change it to 0.
>>   In Harbour decided to use the same behavior in all RDDs and
>>   I chose COMIX CL53 DBFCDX like behavior because it allows help
>>   to find and eliminate typos in the code and I left such note
>>   in DBFNTX and DBFNSX:
>>      /*
>>       * In Clipper 5.3 DBFCDX (COMIX) when bad name or order is given
>>       * tag number is set to 0 (natural record order). CL52 RDDs and
>>       * SIX3 drivers do not change order in such case.
>>       * I'd like to keep the same behavior in all native [x]Harbour
>>       * RDDs and I chosen DBFCDX one as default. [druzus]
>>       */
>>
>> And this is the one difference.
>> The empty string returned by ordSetFocus() is result of some other
>> typos in previously called ordSetFocus() which switch the order to 0.
>>
>> My advice. Look for the typos and fix them. Otherwise you will keep
>> code which make sth like:
>>   ordSetFocus( "wrongname" )
>>   [ do sth ]
>> and above ordSetFocus() is redundant and can be deleted or it fails
>> but only sometimes when the order set by some other code is different
>> then expected.
>> Changing the default behavior I chose does not resolve the problem
>> but only hides it. Such code has to be fixed even in Clipper programs.
>> Probably it will be good to add even more strict behavior here and
>> generate RT error [tag not found] in such case. It should help to
>> locate such problems in source code quite fast. I.e. you can use
>> USRRDD and overload UR_ORDLSTFOCUS method to catch all such situations
>> and report RTE. Then you should be able to find quite fast all typos by
>> simple runtime code testes. You can even report such problems saving
>> the information to file and emulating original SIX3 behavior.
>>
>> > Difference 2)  sx_indexname returned CAPS all the time in Clipper.
>>  Also,
>> > with a few more differences.  This is the workaround my senior has
>> created
>> > to deal with this.
>> > ***************************
>> > FUNC BM_INDEXNAME(x,lNoPath) // SIMULATES THE SX_INDEXNAME() BUT STRIPS
>> THE
>> > PATH
>> >   // Harbour SX_Indexname() was not compat with SIX
>> >   // Harbour does not covert to uppercase
>> >   // Harbour return NIL instead of "" when no index is found
>> >   LOCAL CDXNAME:=SX_INDEXNAME(X)
>> >   LOCAL NPOS:=RAT("\",CDXNAME)
>> >   If ValType(CDXName)="C"
>> >     CDXName:=Upper(CDXName)
>> >   Endif
>> >   IF Valtype(lNoPath)="L".and.lNoPath .and. NPOS>0
>> >     CDXNAME:=SUBSTR(CDXNAME,NPOS+1)
>> >   ENDIF
>> > RETURN CDXNAME
>> > **********************
>> > I think this will clear up the confusion earlier.  I'm sorry for that.
>> :(
>> > But basically with these two things we are having to do, we are finding
>> a
>> > lot of our .PRGs need to be changed.  If this now makes sense, could you
>> > recommend some steps for us to take?
>>
>> Harbour works on systems using case sensitive file systems.
>> Any conversions on file names are bugs for us. In the future you may
>> want to migrate to some other systems like Linux, MacOSX or any other
>> POSIX compatible system so I suggest to be really careful with forcing
>> any upper/lower file names conversions. Otherwise you will ask about
>> some other problem when:
>>   dbCreate( "Test", aStruct )
>>   use test
>> will not work.
>> Using such wrappers is quite good solution if you want to force upper
>> names for comparison only and can be introduced in few minutes by simple
>> S&R but if such function is used to make some operation on files then
>> it's hardcoded only to case sensitive FS which in practice exists only
>> in DOS, MS-Windows and OS2 and even in this OS-es it's possible to
>> access some other file systems using case sensitive file names and
>> your programs will not work.
>>
>> BTW Harbour has HB_FNAMESPLIT() function and Sx_FNameParser()
>> which seem to be better to implement lNoPath parameter because
>> they will strip drive letter and also respect '/' as directory
>> separator: i.e.
>>
>>   func bm_indexName( x, lNoPath )
>>   return upper( sx_FNameParser( sx_indexName( x ), ;
>>                     valType( lNoPath ) != "L" .or. !lNoPath, .T. ) )
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/cfd0f100/attachment-0001.html
From harbour.01 at syenar.hu  Mon Feb 22 15:26:30 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 15:26:39 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13963] trunk/harbour
In-Reply-To: <1266870081698-4614743.post@n2.nabble.com>
References: <E1NjcZM-0004F5-23@sfp-svn-3.v30.ch3.sourceforge.com>
	<fd76479f1002221050o5afc7254i657752e7f9fcff93@mail.gmail.com>
	<1266870081698-4614743.post@n2.nabble.com>
Message-ID: <0D4E19D2-F8D9-4634-AB85-74B4DBB34C1A@syenar.hu>

> marco bra wrote:
>> 
>> Rebuilding from a clean  state Revision: 13963
>> 
>> make[3]: `../../../../../lib/linux/gcc/libhbqt.a' is up to date.
>> ! Installing hbqt.ch on /usr/include
>> ! Installing ../../lib/linux/gcc/libhbqt.a on /usr/lib
>> gcc   -I. -I../../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
>> -I/usr/include/qt4 -I/usr/include/qt4/QtCore  -oQDateTime.o -c
>> ../../../QDateTime.cpp
>> ../../../QDateTime.cpp: In function ?void
>> hbqt_gcRelease_QDateTime(void*)?:
>> ../../../QDateTime.cpp:111: internal compiler error: Segmentation fault
>> Please submit a full bug report,
>> with preprocessed source if appropriate.
>> See <file:///usr/share/doc/gcc-4.4/README.Bugs> for instructions.
>> make[4]: *** [QDateTime.o] Error 1
>> make[3]: *** [descend] Error 2
>> make[2]: *** [qtcore.inst] Error 2
>> make[1]: *** [hbqt.inst] Error 2
>> make: *** [contrib.inst] Error 2
>> 
> 
> I have no idea why this error is. 
> Most probably it is caused by the changes in headers order.
> But for sure I am at a loss what has gone wrong.

The only thing changed is that hbapi.h is now 
included from the top of hbqt.h, instead of 
being included manually before each hbqt.h.

Doesn't seem like a strong reason to cause 
compiler internal errors...

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Feb 22 15:28:16 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 15:28:23 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <eed8bee51002221158o31fadd15oec49cca484749fa6@mail.gmail.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com>
	<531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com>
	<1266857677718-4613446.post@n2.nabble.com>
	<531d7a751002221109u48a0b0f0m418dbab145da54c0@mail.gmail.com>
	<1266866503193-4614418.post@n2.nabble.com>
	<eed8bee51002221158o31fadd15oec49cca484749fa6@mail.gmail.com>
Message-ID: <1266870496659-4614776.post@n2.nabble.com>



Bacco wrote:
> 
> I am writing mine, standalone with focus on writing documentation.
> Just not so fast as I want 'cause I am using spare time, but it's
> going on. I hope you like the interface.
> 

Certainly we will like it once given the chance to visualize 
something. Or I am missing something...


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13952-trunk-harbour-tp4609995p4614776.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Mon Feb 22 15:32:00 2010
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Mon Feb 22 15:32:19 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive"
	[Harbour / Clipper difference]
In-Reply-To: <674e4ddd1002221221y6ceed87etffbc896ca6868bc7@mail.gmail.com>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
	<20100205233417.GA9490@linux-4bod.home.aster.pl>
	<674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>
	<20100206002036.GA9825@linux-4bod.home.aster.pl>
	<674e4ddd1002051640k77d02d9bqe360fcd4acec30a1@mail.gmail.com>
	<20100206014356.GA10430@linux-4bod.home.aster.pl>
	<674e4ddd1002051910h4c8aa54t54d1707738e0941d@mail.gmail.com>
	<674e4ddd1002221221y6ceed87etffbc896ca6868bc7@mail.gmail.com>
Message-ID: <162DA4EF-CC91-4486-A71D-D76A7BFABCFD@syenar.hu>

I think it's not very good to add knobs that 
bend behavior for undefined/undocumented cases.

We will end up with 100 such options, and no 
one will know what they are, and we will create 
incompatibility/unportability between Harbour code.

Maybe turning on HB_CLP_STRICT build-time option 
could be a solution to your problem. But overall 
I think you lose more than you gain.

Better to fix the code.

Brgds,
Viktor

On 2010 Feb 22, at 21:21, smu johnson wrote:

> Hi,
> 
> I was curious if a some sort of compability switch / flag could be enabled to toggle the ordsetfocus() to behave like Clipper 5.2e (or higher, not sure if it is different in 5.3) to not change the focus if it cannot find what is in the argument.  The way it behaves now is good for fixing bugs and stuff, and I'm happy with it...  but my senior has asked me to ask you in case it can be done, as he will probably do that to start off with so we don't get RTE errors, even if it is sloppy.
> 
> Any thoughts?
> 
> 
> 2010/2/5 smu johnson <smujohnson@gmail.com>
> Thanks Przemek, this is also what my senior thought.
> 
> 
> 2010/2/5 Przemys?aw Czerpak <druzus@acn.waw.pl>
> On Fri, 05 Feb 2010, smu johnson wrote:
> 
> Hi,
> 
> > Difference 1)  ordsetfocus() if it cannot find a key you are looking for..
> > for instance if you run (with a typo) the ordsetfocus("isbnM") (notice the M
> > typo) twice, when I really was looking for "isbn"... it will return a blank
> > C string "" the 2nd time, because it cannot find "isbnM".  Clipper instead
> > does not switch it to "", but retains the previously working key.
> 
> Not exactly.
> 1. The return value depends order set before you call ordSetFocus()
>   and it doesn't matter what you specify as parameter. Of course the
>   result can be different then you expected but in such case it was
>   caused by wrongly selected tag in previous ordSetFocus() call.
> 
> 2. When you specify wrong (not existing) tag name then the behavior
>   depends on used RDD. Also in Clipper.
>   In Clipper DBFNTX and SIX3 RDDs do not change the index but
>   COMIX based RDDs change it to 0.
>   In Harbour decided to use the same behavior in all RDDs and
>   I chose COMIX CL53 DBFCDX like behavior because it allows help
>   to find and eliminate typos in the code and I left such note
>   in DBFNTX and DBFNSX:
>      /*
>       * In Clipper 5.3 DBFCDX (COMIX) when bad name or order is given
>       * tag number is set to 0 (natural record order). CL52 RDDs and
>       * SIX3 drivers do not change order in such case.
>       * I'd like to keep the same behavior in all native [x]Harbour
>       * RDDs and I chosen DBFCDX one as default. [druzus]
>       */
> 
> And this is the one difference.
> The empty string returned by ordSetFocus() is result of some other
> typos in previously called ordSetFocus() which switch the order to 0.
> 
> My advice. Look for the typos and fix them. Otherwise you will keep
> code which make sth like:
>   ordSetFocus( "wrongname" )
>   [ do sth ]
> and above ordSetFocus() is redundant and can be deleted or it fails
> but only sometimes when the order set by some other code is different
> then expected.
> Changing the default behavior I chose does not resolve the problem
> but only hides it. Such code has to be fixed even in Clipper programs.
> Probably it will be good to add even more strict behavior here and
> generate RT error [tag not found] in such case. It should help to
> locate such problems in source code quite fast. I.e. you can use
> USRRDD and overload UR_ORDLSTFOCUS method to catch all such situations
> and report RTE. Then you should be able to find quite fast all typos by
> simple runtime code testes. You can even report such problems saving
> the information to file and emulating original SIX3 behavior.
> 
> > Difference 2)  sx_indexname returned CAPS all the time in Clipper.  Also,
> > with a few more differences.  This is the workaround my senior has created
> > to deal with this.
> > ***************************
> > FUNC BM_INDEXNAME(x,lNoPath) // SIMULATES THE SX_INDEXNAME() BUT STRIPS THE
> > PATH
> >   // Harbour SX_Indexname() was not compat with SIX
> >   // Harbour does not covert to uppercase
> >   // Harbour return NIL instead of "" when no index is found
> >   LOCAL CDXNAME:=SX_INDEXNAME(X)
> >   LOCAL NPOS:=RAT("\",CDXNAME)
> >   If ValType(CDXName)="C"
> >     CDXName:=Upper(CDXName)
> >   Endif
> >   IF Valtype(lNoPath)="L".and.lNoPath .and. NPOS>0
> >     CDXNAME:=SUBSTR(CDXNAME,NPOS+1)
> >   ENDIF
> > RETURN CDXNAME
> > **********************
> > I think this will clear up the confusion earlier.  I'm sorry for that. :(
> > But basically with these two things we are having to do, we are finding a
> > lot of our .PRGs need to be changed.  If this now makes sense, could you
> > recommend some steps for us to take?
> 
> Harbour works on systems using case sensitive file systems.
> Any conversions on file names are bugs for us. In the future you may
> want to migrate to some other systems like Linux, MacOSX or any other
> POSIX compatible system so I suggest to be really careful with forcing
> any upper/lower file names conversions. Otherwise you will ask about
> some other problem when:
>   dbCreate( "Test", aStruct )
>   use test
> will not work.
> Using such wrappers is quite good solution if you want to force upper
> names for comparison only and can be introduced in few minutes by simple
> S&R but if such function is used to make some operation on files then
> it's hardcoded only to case sensitive FS which in practice exists only
> in DOS, MS-Windows and OS2 and even in this OS-es it's possible to
> access some other file systems using case sensitive file names and
> your programs will not work.
> 
> BTW Harbour has HB_FNAMESPLIT() function and Sx_FNameParser()
> which seem to be better to implement lNoPath parameter because
> they will strip drive letter and also respect '/' as directory
> separator: i.e.
> 
>   func bm_indexName( x, lNoPath )
>   return upper( sx_FNameParser( sx_indexName( x ), ;
>                     valType( lNoPath ) != "L" .or. !lNoPath, .T. ) )
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> 
> 
> 
> -- 
> smu johnson <smujohnson@gmail.com>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From carlosbacco at gmail.com  Mon Feb 22 15:33:02 2010
From: carlosbacco at gmail.com (Bacco)
Date: Mon Feb 22 15:33:31 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13952] trunk/harbour
In-Reply-To: <1266870496659-4614776.post@n2.nabble.com>
References: <E1NjOkY-0000Yr-Sf@sfp-svn-2.v30.ch3.sourceforge.com> 
	<531d7a751002220303g3d53d325w6186a7e06568ac3d@mail.gmail.com> 
	<1266857677718-4613446.post@n2.nabble.com>
	<531d7a751002221109u48a0b0f0m418dbab145da54c0@mail.gmail.com> 
	<1266866503193-4614418.post@n2.nabble.com>
	<eed8bee51002221158o31fadd15oec49cca484749fa6@mail.gmail.com> 
	<1266870496659-4614776.post@n2.nabble.com>
Message-ID: <eed8bee51002221233n56b1fb8fyb1daaf8039bedced@mail.gmail.com>

Hi, Pritpal

Maybe my english is limiting my thoughts. What I mean, is, I hope that
the way I am designing the interface functionality is the right one.
Of course you can tell only when I publish it, sorry.

Regards
Bacco

On Mon, Feb 22, 2010 at 17:28, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>
>
> Bacco wrote:
>>
>> I am writing mine, standalone with focus on writing documentation.
>> Just not so fast as I want 'cause I am using spare time, but it's
>> going on. I hope you like the interface.
>>
>
> Certainly we will like it once given the chance to visualize
> something. Or I am missing something...
>
>
> -----
> ? ? ? ? ? ? ? ? enjoy hbIDEing...
> ? ? ? ? ? ? ? ? ? ?Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13952-trunk-harbour-tp4609995p4614776.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From smujohnson at gmail.com  Mon Feb 22 15:35:16 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb 22 15:35:24 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive" 
	[Harbour / Clipper difference]
In-Reply-To: <162DA4EF-CC91-4486-A71D-D76A7BFABCFD@syenar.hu>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
	<20100205233417.GA9490@linux-4bod.home.aster.pl>
	<674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>
	<20100206002036.GA9825@linux-4bod.home.aster.pl>
	<674e4ddd1002051640k77d02d9bqe360fcd4acec30a1@mail.gmail.com>
	<20100206014356.GA10430@linux-4bod.home.aster.pl>
	<674e4ddd1002051910h4c8aa54t54d1707738e0941d@mail.gmail.com>
	<674e4ddd1002221221y6ceed87etffbc896ca6868bc7@mail.gmail.com>
	<162DA4EF-CC91-4486-A71D-D76A7BFABCFD@syenar.hu>
Message-ID: <674e4ddd1002221235je15b813p2f6c634668e48a5f@mail.gmail.com>

I agree with your opinion too.  I'm a bit anally-retentive when it comes to
just fixing the root bugs in the first place.

I am curious though...  what kind of stuff would HB_CLP_STRICT do for me?  I
grepped the src tree but couldn't quite get the answer.

Thanks przemek



2010/2/22 Viktor Szak?ts <harbour.01@syenar.hu>

> I think it's not very good to add knobs that
> bend behavior for undefined/undocumented cases.
>
> We will end up with 100 such options, and no
> one will know what they are, and we will create
> incompatibility/unportability between Harbour code.
>
> Maybe turning on HB_CLP_STRICT build-time option
> could be a solution to your problem. But overall
> I think you lose more than you gain.
>
> Better to fix the code.
>
> Brgds,
> Viktor
>
> On 2010 Feb 22, at 21:21, smu johnson wrote:
>
> > Hi,
> >
> > I was curious if a some sort of compability switch / flag could be
> enabled to toggle the ordsetfocus() to behave like Clipper 5.2e (or higher,
> not sure if it is different in 5.3) to not change the focus if it cannot
> find what is in the argument.  The way it behaves now is good for fixing
> bugs and stuff, and I'm happy with it...  but my senior has asked me to ask
> you in case it can be done, as he will probably do that to start off with so
> we don't get RTE errors, even if it is sloppy.
> >
> > Any thoughts?
> >
> >
> > 2010/2/5 smu johnson <smujohnson@gmail.com>
> > Thanks Przemek, this is also what my senior thought.
> >
> >
> > 2010/2/5 Przemys?aw Czerpak <druzus@acn.waw.pl>
> > On Fri, 05 Feb 2010, smu johnson wrote:
> >
> > Hi,
> >
> > > Difference 1)  ordsetfocus() if it cannot find a key you are looking
> for..
> > > for instance if you run (with a typo) the ordsetfocus("isbnM") (notice
> the M
> > > typo) twice, when I really was looking for "isbn"... it will return a
> blank
> > > C string "" the 2nd time, because it cannot find "isbnM".  Clipper
> instead
> > > does not switch it to "", but retains the previously working key.
> >
> > Not exactly.
> > 1. The return value depends order set before you call ordSetFocus()
> >   and it doesn't matter what you specify as parameter. Of course the
> >   result can be different then you expected but in such case it was
> >   caused by wrongly selected tag in previous ordSetFocus() call.
> >
> > 2. When you specify wrong (not existing) tag name then the behavior
> >   depends on used RDD. Also in Clipper.
> >   In Clipper DBFNTX and SIX3 RDDs do not change the index but
> >   COMIX based RDDs change it to 0.
> >   In Harbour decided to use the same behavior in all RDDs and
> >   I chose COMIX CL53 DBFCDX like behavior because it allows help
> >   to find and eliminate typos in the code and I left such note
> >   in DBFNTX and DBFNSX:
> >      /*
> >       * In Clipper 5.3 DBFCDX (COMIX) when bad name or order is given
> >       * tag number is set to 0 (natural record order). CL52 RDDs and
> >       * SIX3 drivers do not change order in such case.
> >       * I'd like to keep the same behavior in all native [x]Harbour
> >       * RDDs and I chosen DBFCDX one as default. [druzus]
> >       */
> >
> > And this is the one difference.
> > The empty string returned by ordSetFocus() is result of some other
> > typos in previously called ordSetFocus() which switch the order to 0.
> >
> > My advice. Look for the typos and fix them. Otherwise you will keep
> > code which make sth like:
> >   ordSetFocus( "wrongname" )
> >   [ do sth ]
> > and above ordSetFocus() is redundant and can be deleted or it fails
> > but only sometimes when the order set by some other code is different
> > then expected.
> > Changing the default behavior I chose does not resolve the problem
> > but only hides it. Such code has to be fixed even in Clipper programs.
> > Probably it will be good to add even more strict behavior here and
> > generate RT error [tag not found] in such case. It should help to
> > locate such problems in source code quite fast. I.e. you can use
> > USRRDD and overload UR_ORDLSTFOCUS method to catch all such situations
> > and report RTE. Then you should be able to find quite fast all typos by
> > simple runtime code testes. You can even report such problems saving
> > the information to file and emulating original SIX3 behavior.
> >
> > > Difference 2)  sx_indexname returned CAPS all the time in Clipper.
>  Also,
> > > with a few more differences.  This is the workaround my senior has
> created
> > > to deal with this.
> > > ***************************
> > > FUNC BM_INDEXNAME(x,lNoPath) // SIMULATES THE SX_INDEXNAME() BUT STRIPS
> THE
> > > PATH
> > >   // Harbour SX_Indexname() was not compat with SIX
> > >   // Harbour does not covert to uppercase
> > >   // Harbour return NIL instead of "" when no index is found
> > >   LOCAL CDXNAME:=SX_INDEXNAME(X)
> > >   LOCAL NPOS:=RAT("\",CDXNAME)
> > >   If ValType(CDXName)="C"
> > >     CDXName:=Upper(CDXName)
> > >   Endif
> > >   IF Valtype(lNoPath)="L".and.lNoPath .and. NPOS>0
> > >     CDXNAME:=SUBSTR(CDXNAME,NPOS+1)
> > >   ENDIF
> > > RETURN CDXNAME
> > > **********************
> > > I think this will clear up the confusion earlier.  I'm sorry for that.
> :(
> > > But basically with these two things we are having to do, we are finding
> a
> > > lot of our .PRGs need to be changed.  If this now makes sense, could
> you
> > > recommend some steps for us to take?
> >
> > Harbour works on systems using case sensitive file systems.
> > Any conversions on file names are bugs for us. In the future you may
> > want to migrate to some other systems like Linux, MacOSX or any other
> > POSIX compatible system so I suggest to be really careful with forcing
> > any upper/lower file names conversions. Otherwise you will ask about
> > some other problem when:
> >   dbCreate( "Test", aStruct )
> >   use test
> > will not work.
> > Using such wrappers is quite good solution if you want to force upper
> > names for comparison only and can be introduced in few minutes by simple
> > S&R but if such function is used to make some operation on files then
> > it's hardcoded only to case sensitive FS which in practice exists only
> > in DOS, MS-Windows and OS2 and even in this OS-es it's possible to
> > access some other file systems using case sensitive file names and
> > your programs will not work.
> >
> > BTW Harbour has HB_FNAMESPLIT() function and Sx_FNameParser()
> > which seem to be better to implement lNoPath parameter because
> > they will strip drive letter and also respect '/' as directory
> > separator: i.e.
> >
> >   func bm_indexName( x, lNoPath )
> >   return upper( sx_FNameParser( sx_indexName( x ), ;
> >                     valType( lNoPath ) != "L" .or. !lNoPath, .T. ) )
> >
> > best regards,
> > Przemek
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> >
> >
> >
> > --
> > smu johnson <smujohnson@gmail.com>
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/4481083d/attachment-0001.html
From smujohnson at gmail.com  Mon Feb 22 15:35:50 2010
From: smujohnson at gmail.com (smu johnson)
Date: Mon Feb 22 15:35:53 2010
Subject: [Harbour] INDEX ON ... TAG "CaseSensitive" OF "CaseSensitive" 
	[Harbour / Clipper difference]
In-Reply-To: <674e4ddd1002221235je15b813p2f6c634668e48a5f@mail.gmail.com>
References: <674e4ddd1002051314h1e4ee3dftb856102d0b86ad09@mail.gmail.com>
	<20100205233417.GA9490@linux-4bod.home.aster.pl>
	<674e4ddd1002051540o26e7187cs8d4cbdf9a11390b1@mail.gmail.com>
	<20100206002036.GA9825@linux-4bod.home.aster.pl>
	<674e4ddd1002051640k77d02d9bqe360fcd4acec30a1@mail.gmail.com>
	<20100206014356.GA10430@linux-4bod.home.aster.pl>
	<674e4ddd1002051910h4c8aa54t54d1707738e0941d@mail.gmail.com>
	<674e4ddd1002221221y6ceed87etffbc896ca6868bc7@mail.gmail.com>
	<162DA4EF-CC91-4486-A71D-D76A7BFABCFD@syenar.hu>
	<674e4ddd1002221235je15b813p2f6c634668e48a5f@mail.gmail.com>
Message-ID: <674e4ddd1002221235u542e5812oa178898f6f8d0115@mail.gmail.com>

Oops.. i mean Viktor

2010/2/22 smu johnson <smujohnson@gmail.com>

> I agree with your opinion too.  I'm a bit anally-retentive when it comes to
> just fixing the root bugs in the first place.
>
> I am curious though...  what kind of stuff would HB_CLP_STRICT do for me?
> I grepped the src tree but couldn't quite get the answer.
>
> Thanks przemek
>
>
>
> 2010/2/22 Viktor Szak?ts <harbour.01@syenar.hu>
>
> I think it's not very good to add knobs that
>> bend behavior for undefined/undocumented cases.
>>
>> We will end up with 100 such options, and no
>> one will know what they are, and we will create
>> incompatibility/unportability between Harbour code.
>>
>> Maybe turning on HB_CLP_STRICT build-time option
>> could be a solution to your problem. But overall
>> I think you lose more than you gain.
>>
>> Better to fix the code.
>>
>> Brgds,
>> Viktor
>>
>> On 2010 Feb 22, at 21:21, smu johnson wrote:
>>
>> > Hi,
>> >
>> > I was curious if a some sort of compability switch / flag could be
>> enabled to toggle the ordsetfocus() to behave like Clipper 5.2e (or higher,
>> not sure if it is different in 5.3) to not change the focus if it cannot
>> find what is in the argument.  The way it behaves now is good for fixing
>> bugs and stuff, and I'm happy with it...  but my senior has asked me to ask
>> you in case it can be done, as he will probably do that to start off with so
>> we don't get RTE errors, even if it is sloppy.
>> >
>> > Any thoughts?
>> >
>> >
>> > 2010/2/5 smu johnson <smujohnson@gmail.com>
>> > Thanks Przemek, this is also what my senior thought.
>> >
>> >
>> > 2010/2/5 Przemys?aw Czerpak <druzus@acn.waw.pl>
>> > On Fri, 05 Feb 2010, smu johnson wrote:
>> >
>> > Hi,
>> >
>> > > Difference 1)  ordsetfocus() if it cannot find a key you are looking
>> for..
>> > > for instance if you run (with a typo) the ordsetfocus("isbnM") (notice
>> the M
>> > > typo) twice, when I really was looking for "isbn"... it will return a
>> blank
>> > > C string "" the 2nd time, because it cannot find "isbnM".  Clipper
>> instead
>> > > does not switch it to "", but retains the previously working key.
>> >
>> > Not exactly.
>> > 1. The return value depends order set before you call ordSetFocus()
>> >   and it doesn't matter what you specify as parameter. Of course the
>> >   result can be different then you expected but in such case it was
>> >   caused by wrongly selected tag in previous ordSetFocus() call.
>> >
>> > 2. When you specify wrong (not existing) tag name then the behavior
>> >   depends on used RDD. Also in Clipper.
>> >   In Clipper DBFNTX and SIX3 RDDs do not change the index but
>> >   COMIX based RDDs change it to 0.
>> >   In Harbour decided to use the same behavior in all RDDs and
>> >   I chose COMIX CL53 DBFCDX like behavior because it allows help
>> >   to find and eliminate typos in the code and I left such note
>> >   in DBFNTX and DBFNSX:
>> >      /*
>> >       * In Clipper 5.3 DBFCDX (COMIX) when bad name or order is given
>> >       * tag number is set to 0 (natural record order). CL52 RDDs and
>> >       * SIX3 drivers do not change order in such case.
>> >       * I'd like to keep the same behavior in all native [x]Harbour
>> >       * RDDs and I chosen DBFCDX one as default. [druzus]
>> >       */
>> >
>> > And this is the one difference.
>> > The empty string returned by ordSetFocus() is result of some other
>> > typos in previously called ordSetFocus() which switch the order to 0.
>> >
>> > My advice. Look for the typos and fix them. Otherwise you will keep
>> > code which make sth like:
>> >   ordSetFocus( "wrongname" )
>> >   [ do sth ]
>> > and above ordSetFocus() is redundant and can be deleted or it fails
>> > but only sometimes when the order set by some other code is different
>> > then expected.
>> > Changing the default behavior I chose does not resolve the problem
>> > but only hides it. Such code has to be fixed even in Clipper programs.
>> > Probably it will be good to add even more strict behavior here and
>> > generate RT error [tag not found] in such case. It should help to
>> > locate such problems in source code quite fast. I.e. you can use
>> > USRRDD and overload UR_ORDLSTFOCUS method to catch all such situations
>> > and report RTE. Then you should be able to find quite fast all typos by
>> > simple runtime code testes. You can even report such problems saving
>> > the information to file and emulating original SIX3 behavior.
>> >
>> > > Difference 2)  sx_indexname returned CAPS all the time in Clipper.
>>  Also,
>> > > with a few more differences.  This is the workaround my senior has
>> created
>> > > to deal with this.
>> > > ***************************
>> > > FUNC BM_INDEXNAME(x,lNoPath) // SIMULATES THE SX_INDEXNAME() BUT
>> STRIPS THE
>> > > PATH
>> > >   // Harbour SX_Indexname() was not compat with SIX
>> > >   // Harbour does not covert to uppercase
>> > >   // Harbour return NIL instead of "" when no index is found
>> > >   LOCAL CDXNAME:=SX_INDEXNAME(X)
>> > >   LOCAL NPOS:=RAT("\",CDXNAME)
>> > >   If ValType(CDXName)="C"
>> > >     CDXName:=Upper(CDXName)
>> > >   Endif
>> > >   IF Valtype(lNoPath)="L".and.lNoPath .and. NPOS>0
>> > >     CDXNAME:=SUBSTR(CDXNAME,NPOS+1)
>> > >   ENDIF
>> > > RETURN CDXNAME
>> > > **********************
>> > > I think this will clear up the confusion earlier.  I'm sorry for that.
>> :(
>> > > But basically with these two things we are having to do, we are
>> finding a
>> > > lot of our .PRGs need to be changed.  If this now makes sense, could
>> you
>> > > recommend some steps for us to take?
>> >
>> > Harbour works on systems using case sensitive file systems.
>> > Any conversions on file names are bugs for us. In the future you may
>> > want to migrate to some other systems like Linux, MacOSX or any other
>> > POSIX compatible system so I suggest to be really careful with forcing
>> > any upper/lower file names conversions. Otherwise you will ask about
>> > some other problem when:
>> >   dbCreate( "Test", aStruct )
>> >   use test
>> > will not work.
>> > Using such wrappers is quite good solution if you want to force upper
>> > names for comparison only and can be introduced in few minutes by simple
>> > S&R but if such function is used to make some operation on files then
>> > it's hardcoded only to case sensitive FS which in practice exists only
>> > in DOS, MS-Windows and OS2 and even in this OS-es it's possible to
>> > access some other file systems using case sensitive file names and
>> > your programs will not work.
>> >
>> > BTW Harbour has HB_FNAMESPLIT() function and Sx_FNameParser()
>> > which seem to be better to implement lNoPath parameter because
>> > they will strip drive letter and also respect '/' as directory
>> > separator: i.e.
>> >
>> >   func bm_indexName( x, lNoPath )
>> >   return upper( sx_FNameParser( sx_indexName( x ), ;
>> >                     valType( lNoPath ) != "L" .or. !lNoPath, .T. ) )
>> >
>> > best regards,
>> > Przemek
>> > _______________________________________________
>> > Harbour mailing list (attachment size limit: 40KB)
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>> >
>> > --
>> > smu johnson <smujohnson@gmail.com>
>> >
>> >
>> >
>> >
>> > --
>> > smu johnson <smujohnson@gmail.com>
>> >
>> > _______________________________________________
>> > Harbour mailing list (attachment size limit: 40KB)
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/30d6c1ec/attachment.html
From marcobra.ubuntu at gmail.com  Mon Feb 22 15:48:59 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 15:49:08 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13963] trunk/harbour
In-Reply-To: <0D4E19D2-F8D9-4634-AB85-74B4DBB34C1A@syenar.hu>
References: <E1NjcZM-0004F5-23@sfp-svn-3.v30.ch3.sourceforge.com>
	<fd76479f1002221050o5afc7254i657752e7f9fcff93@mail.gmail.com>
	<1266870081698-4614743.post@n2.nabble.com>
	<0D4E19D2-F8D9-4634-AB85-74B4DBB34C1A@syenar.hu>
Message-ID: <fd76479f1002221248x6a8292a7k61790d054fdce88f@mail.gmail.com>

Harbour 2.1.0dev (Rev. 13964) compile and install fine.

Thank you


2010/2/22 Viktor Szak?ts <harbour.01@syenar.hu>

> > marco bra wrote:
> >>
> >> Rebuilding from a clean  state Revision: 13963
> >>
> >> make[3]: `../../../../../lib/linux/gcc/libhbqt.a' is up to date.
> >> ! Installing hbqt.ch on /usr/include
> >> ! Installing ../../lib/linux/gcc/libhbqt.a on /usr/lib
> >> gcc   -I. -I../../../../../../include -Wall -W -O3 -DHB_LEGACY_TYPES_OFF
> >> -I/usr/include/qt4 -I/usr/include/qt4/QtCore  -oQDateTime.o -c
> >> ../../../QDateTime.cpp
> >> ../../../QDateTime.cpp: In function ?void
> >> hbqt_gcRelease_QDateTime(void*)?:
> >> ../../../QDateTime.cpp:111: internal compiler error: Segmentation fault
> >> Please submit a full bug report,
> >> with preprocessed source if appropriate.
> >> See <file:///usr/share/doc/gcc-4.4/README.Bugs> for instructions.
> >> make[4]: *** [QDateTime.o] Error 1
> >> make[3]: *** [descend] Error 2
> >> make[2]: *** [qtcore.inst] Error 2
> >> make[1]: *** [hbqt.inst] Error 2
> >> make: *** [contrib.inst] Error 2
> >>
> >
> > I have no idea why this error is.
> > Most probably it is caused by the changes in headers order.
> > But for sure I am at a loss what has gone wrong.
>
> The only thing changed is that hbapi.h is now
> included from the top of hbqt.h, instead of
> being included manually before each hbqt.h.
>
> Doesn't seem like a strong reason to cause
> compiler internal errors...
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Linux Infinite Freedom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/2b8eda54/attachment.html
From marcobra.ubuntu at gmail.com  Mon Feb 22 15:59:16 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 15:59:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13964] trunk/harbour
In-Reply-To: <E1NjeCs-00011c-5C@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NjeCs-00011c-5C@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1002221259s6640085bq8983f0c53f302b99@mail.gmail.com>

Hbide Ubntu 9.10 32 bits

harbour -build

Harbour 2.1.0dev (Rev. 13964)
Copyright (c) 1999-2010, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.1.0dev (Rev. 13964)
Compiler: GNU C 4.4.1 (32-bit)
Platform: Linux 2.6.31-16-generic i686
PCode version: 0.2
ChangeLog last entry: 2010-02-22 20:43 UTC+0100 Viktor Szakats (harbour.01
syenar.hu)
ChangeLog ID: ChangeLog 13964 2010-02-22 19:44:36Z vszakats

Built on: Feb 22 2010 20:57:07
Build options:
Language options: (Clipper 5.3b) (Clipper 5.x undoc)


after: hbmk2 hbide.hbp -rebuild

Trying to generate doc from document viewer:
a) i set Harbour installation root: /home/danilo/src/harbour
b) push on the refresh button (no feed back, no error, no generate doc)
c) Playing with navigation buttons (all active) if i press the up green
arrow button key i get:

idemisc.prg:897:HBIDE_DBG(): HB_TR_ALWAYS textChanged()
idemisc.prg:897:HBIDE_DBG(): HB_TR_ALWAYS cursorPositionChanged()
idemisc.prg:897:HBIDE_DBG(): HB_TR_ALWAYS cursorPositionChanged()
idemisc.prg:897:HBIDE_DBG(): HB_TR_ALWAYS C:\dev_sources\vouch\abc.prg
idemisc.prg:897:HBIDE_DBG(): HB_TR_ALWAYS
C:\harbour\contrib\hbide\projects\vouch\abc.prg

Unrecoverable error 6005: Exception SIGSEGV at address 0x9d
Called from QT_QTREEWIDGET_SETCURRENTITEM(0)
Called from QTREEWIDGET:SETCURRENTITEM(0) in ../../../TQTreeWidget.prg
Called from IDEHARBOURHELP:EXECEVENT(428) in ideharbourhelp.prg
Called from (b)IDEHARBOURHELP_INSTALLSIGNALS(336) in ideharbourhelp.prg
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
Called from APPEVENT(0) in ../../../xbpgeneric.prg
Called from HBIDE:CREATE(417) in hbide.prg
Called from MAIN(110) in hbide.prg


Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100222/2ccd2d10/attachment-0001.html
From bedipritpal at hotmail.com  Mon Feb 22 17:23:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 17:23:22 2010
Subject: [Harbour] Harbour Documentation - doc/hdr_tpl.txt - Clarifications
Message-ID: <1266877394431-4615380.post@n2.nabble.com>


Hi Viktor

1.  FUNCTION HEADER TEMPLATE
    ======================

/*  $DOC$
    $NAME$

    $CATEGORY$

    $SUBCATEGORY$

    $ONELINER$

    $SYNTAX$

    $ARGUMENTS$

    $RETURNS$

    $DESCRIPTION$

    $EXAMPLES$

    $TESTS$

    $STATUS$

    $COMPLIANCE$

    $PLATFORMS$

    $VERSION$

    $FILES$

    $SEEALSO$
       comma separated list of references
    $END$
 */

And it does not include the $TEMPLATE$.
Later in one example it is present:

/*  $DOC$
    $TEMPLATE$
        Function
    $NAME$
        hb_dateEncStr()
    $CATEGORY$
  
Does not it be included in definition too ?

2.  $COMPLIANCE$
        IsLeapYr() works exactly like CA-Cl*pper's IsLeapYr(), if your
        CA-Cl*pper doesn't have such a function you're probably in a
        different universe from the author of this function.

My understanding suggests that instead of "description" it 
should be "data", like Clipper 5.3, Xbase++, ...
a comma separated list of compilers and/or OS's.


3.  $NAME$ 

Should it contain opening/closing braces "()".
I think it should be the part of $SYNTAX$.

And few more but later...
  



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Harbour-Documentation-doc-hdr-tpl-txt-Clarifications-tp4615380p4615380.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Mon Feb 22 17:44:06 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Feb 22 17:44:13 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <4B823A02.9010700@libero.it>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
Message-ID: <20100222224406.GB26179@linux-4bod.home.aster.pl>

On Mon, 22 Feb 2010, Maurilio Longo wrote:

Hi,

> one thing I'd like to have is the ability of the compiler to spot iVars like
> it does variables, I mean unused, not declared and so on, while it now simply
> ignores all of them and you get an error when executing such code.

Detecting unused instance variables can be implemented _only_ for HIDDEN
ones and only if class if fully implemented in single file without any
externally defined methods and/or friend functions so you should not
expect it will ever have similar functionality to detecting unused local
variables. If we decide to add it then it would be necessary to also add
method to mark them as used (just like HB_SYMNBOL_UNUSED() for normal
variables) so programmer can pacify false warnings when hidden instance
variables are accessed only by methods implemented in different compilation
units (files).

Detecting the usage of not declared messages (used for methods and instance
variables) seems to be much more useful feature and we definitely need it.
We have some initial code used for class declaration and strong typing but
it was never fully functional.
I can try to implement it but I would like to fully remove this code
and start with completely new implementation.
Now I'm very busy with my business projects and I do not have time to
work on any bigger Harbour extensions. I should finish it in next three
months and then I can start to work on it.

Meanwhile we can think about syntax extensions which we will need for
class and function prototyping, strong variable declaration and casting.

Please remember that for efficient usage we will have to add to compiler
support for automatic generating of prototype header files and used syntax
should be readable and editable for programmers.

Now for function and class prototyping we are using modified DECLARE
command. As far as I know it's [x]Harbour only extension which does
not exists in other xbase compatible languages. If I'm wrong then
please inform me about other languages using DECLARE for prototyping
with the exact syntax.
For such prototyping FlagShip uses PROTOTYPE command.

In class implementation we are using:
   _HB_CLASS <className> [,<classFuncName>]     // new class
   _HB_MEMBER <messageName> [ AS <type> ]
   _HB_MEMBER { [ AS <type> ] <varName,...> }
Of course this is also [x]Harbour only extension and it's hidden for
users by PP rules in hbclass.ch so I think that only few people knows
about such syntax extension.

For strong typing we are using AS <type>.
It's also used by few other xbase compatible languages anyhow [x]Harbour
implementation is not fully compatible.
For FUNCTION/PROCEDURE declaration "AS <type>" can be used after each
parameter to specify parameter type and at the and to specify the
returned type.

   [STATIC | INIT | EXIT] FUNCTION <!funcName!> ;
         [( [<par1> [AS <type1>]] [, <parN> [AS <typeN>]] )] [AS <type>]

and this is compatible with some other xbase dialects, i.e. with FlagShip
and AFAIK with VO.
But for variable declaration in [x]Harbour "AS <type>" can be used after
each variable, i.e.:
   LOCAL cVar AS CHARACTER, nVar AS NUMERIC, lVar AS LOGICAL
This is incompatible with other xbase dialects which allow to use
"AS <type>" only at the end and it describes type for all vairables
in given declaration, i.e.:
   LOCAL nVar1, nVar2, nVar3 AS NUMERIC
In FlagShip and VO declares 3 numeric variables but in [x]Harbour
only nVar3 is declared as numeric variable but nVar1 and nVar2 do
not have strong type, they are AS USUAL.
I do not like this difference and it may cause serious problems
with code portability.
Clipper uses very similar syntax when fields are declared:
   FIELD <fieldName, ...> IN <alias>
and "IN <alias>" is used for all fields not only for the last one
so this [x]Harbour extension looks ugly even if compared with only
other Clipper commands.
So I would like to change it and follow other Clipper commands and
xbase dialects.

The last part is casting and here we probably have the biggest problem.
Now it's possible to use
    <exp> AS <type>
i.e.:

   func f( x as usual ) as string
      if valtype( x ) == "N"
         x := str( x as numeric )
      elseif valtype( x ) != "C"
         x := ""
      endif
   return x as string

There is one very bad side effect in such implementation:
It's not compatible with PP, i.e. this code:

   ? x as numeric

cannot be compiled because PP does not recognize 'x as numeric'
as single expression. For me it discards such syntax and we should
look for sth different.
And here I'm really open for propositions.
The most natural seems to be using pseudo functions like:

   asCharacter( <exp> )
   asNumeric( <exp> )
   asLogical( <exp> )

other method is using some new operator which will work well with PP.
I.e. instead of 'AS' we can use '.AS.' because expressions like
<exp> .AS. <type> are recognized by PP s single expression, i.e.

   ? x .as. numeric

is well preprocessed by PP to:

   QOUT( x .as. numeric )

Please think about it.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Feb 22 18:10:39 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 18:10:52 2010
Subject: [Harbour] Harbour Documentation - doc/hdr_tpl.txt - Clarifications
In-Reply-To: <1266877394431-4615380.post@n2.nabble.com>
References: <1266877394431-4615380.post@n2.nabble.com>
Message-ID: <78CA89FD-2672-4622-9C8B-656291C9CE06@syenar.hu>

Hi Pritpal,

>    $SEEALSO$
>       comma separated list of references
>    $END$
> */
> 
> And it does not include the $TEMPLATE$.
> Later in one example it is present:

You're right should, though I didn't have time 
to review the whole document, I got lost when 
trying to find out what values are accepted, 
and I saw an avalanche of things to properly 
define. As a start we should just add $TEMPLATE$ 
there, but to be honest I don't know its purpose, 
and why it was added.

> 2.  $COMPLIANCE$
>        IsLeapYr() works exactly like CA-Cl*pper's IsLeapYr(), if your
>        CA-Cl*pper doesn't have such a function you're probably in a
>        different universe from the author of this function.
> 
> My understanding suggests that instead of "description" it 
> should be "data", like Clipper 5.3, Xbase++, ...
> a comma separated list of compilers and/or OS's.

Yes, it should. Finally for core SVN, it can only 
have the value "CA-Cl*pper 5.2e", or "CA-Cl*pper 5.3b".
Well, in some rare occasions "Six", or maybe some 
other products for OOP keyword.

For non-core parts, it may have any value, which the 
given package is designed to comply with. ("Xbase++", 
"Xbase++ Parts (XBP)", "Telepath(y)", etc.)

> 3.  $NAME$ 
> 
> Should it contain opening/closing braces "()".

Yes. To functions differentiate from commands.

> I think it should be the part of $SYNTAX$.

$NAME$ is just the keyword described in the 
given doc, without any syntax fluffs, include 
header and whatnot.

F.e.
   SET DATE
vs.
   SET DATE FORMAT [TO] <cDateFormat>
   SET DATE [TO] AMERICAN | ansi | british | french
      | german | italian | japan | usa

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Mon Feb 22 18:14:31 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 22 18:14:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13965] trunk/harbour
Message-ID: <E1NjhTz-000244-UL@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13965
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13965&view=rev
Author:   vouchcac
Date:     2010-02-22 23:14:24 +0000 (Mon, 22 Feb 2010)

Log Message:
-----------
2010-02-22 15:13 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideobject.prg
    ! :connect()/disconnect() now returns failure or success.
  * contrib/hbide/ideharbourhelp.prg
    % Fixed the night-haunter exiting GPF. Qt the beast.
      This all belongs to parent child relationship, which,
      if not handlled properly can kill the application.
      It is a moment to take sigh of relief, at least for now.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/ideobject.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Feb 22 18:20:32 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 18:20:44 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <20100222224406.GB26179@linux-4bod.home.aster.pl>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
Message-ID: <7BD21838-BD07-4F62-8622-2F1289017986@syenar.hu>

Hi Przemek,

(BTW, your msg made me little worried about GTNET :$)

> and this is compatible with some other xbase dialects, i.e. with FlagShip
> and AFAIK with VO.
> But for variable declaration in [x]Harbour "AS <type>" can be used after
> each variable, i.e.:
>   LOCAL cVar AS CHARACTER, nVar AS NUMERIC, lVar AS LOGICAL
> This is incompatible with other xbase dialects which allow to use
> "AS <type>" only at the end and it describes type for all vairables
> in given declaration, i.e.:
>   LOCAL nVar1, nVar2, nVar3 AS NUMERIC
> In FlagShip and VO declares 3 numeric variables but in [x]Harbour
> only nVar3 is declared as numeric variable but nVar1 and nVar2 do
> not have strong type, they are AS USUAL.
> I do not like this difference and it may cause serious problems
> with code portability.
> Clipper uses very similar syntax when fields are declared:
>   FIELD <fieldName, ...> IN <alias>
> and "IN <alias>" is used for all fields not only for the last one
> so this [x]Harbour extension looks ugly even if compared with only
> other Clipper commands.
> So I would like to change it and follow other Clipper commands and
> xbase dialects.

I think I had the opposite opinion back then, 
but now IMO the FlagShip and VO way looks just fine.

> The last part is casting and here we probably have the biggest problem.
> Now it's possible to use
>    <exp> AS <type>
> i.e.:
> 
>   func f( x as usual ) as string
>      if valtype( x ) == "N"
>         x := str( x as numeric )
>      elseif valtype( x ) != "C"
>         x := ""
>      endif
>   return x as string
> 
> There is one very bad side effect in such implementation:
> It's not compatible with PP, i.e. this code:
> 
>   ? x as numeric
> 
> cannot be compiled because PP does not recognize 'x as numeric'
> as single expression. For me it discards such syntax and we should
> look for sth different.
> And here I'm really open for propositions.
> The most natural seems to be using pseudo functions like:
> 
>   asCharacter( <exp> )
>   asNumeric( <exp> )
>   asLogical( <exp> )
> 
> other method is using some new operator which will work well with PP.
> I.e. instead of 'AS' we can use '.AS.' because expressions like
> <exp> .AS. <type> are recognized by PP s single expression, i.e.
> 
>   ? x .as. numeric
> 
> is well preprocessed by PP to:
> 
>   QOUT( x .as. numeric )
> 
> Please think about it.

I'd like the function version better, but we'd need 
hb_ prefix, which makes it look less obvious and more 
to type. It's also less obvious that this is in fact 
not a function.

So, my preference shift towards '.as.', which is easy 
to grep, resembles to "AS" keyword, and type keyword 
can be the exact same as in conjunction with the "AS" 
keyword. ".as." also makes it better fit into 
operator overriding scheme.

Or maybe, and if technically possible:
  QOUT( ( NUMERIC ) x )

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Feb 22 18:28:00 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 18:28:07 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <20100222224406.GB26179@linux-4bod.home.aster.pl>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
Message-ID: <1266881280192-4615729.post@n2.nabble.com>



Przemys?aw Czerpak wrote:
> 
>> one thing I'd like to have is the ability of the compiler to spot iVars
>> like
>> it does variables, I mean unused, not declared and so on, while it now
>> simply
>> ignores all of them and you get an error when executing such code.
> 
> Detecting unused instance variables can be implemented _only_ for HIDDEN
> ones and only if class if fully implemented in single file without any
> externally defined methods and/or friend functions so you should not
> expect it will ever have similar functionality to detecting unused local
> variables. If we decide to add it then it would be necessary to also add
> method to mark them as used (just like HB_SYMNBOL_UNUSED() for normal
> variables) so programmer can pacify false warnings when hidden instance
> variables are accessed only by methods implemented in different
> compilation
> units (files).
> ...
> 

Very well described text. It widened my perspective, thank you.

If we implement detection of undefined iVar then I think there will be 
more limitations thans advantages. In hbQT, for certain section, I employ 
this "lack of feature" effectively and which have saved me a lot of 
coding.

   oUI := HbQtUI():new(...)

   ....

   oUI:q_buttonClose:setText( "Close" )

Here "q_buttonClose" is not defined as an iVar in HbQtUI() class.
It is redirected to ON ERROR method where it is parsed and 
taken care of.

Yes, for sure, reporting only of undeclared iVars will be important.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Switch-to-detect-undeclared-vars-being-used-tp4601089p4615729.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Mon Feb 22 18:37:29 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Feb 22 18:37:40 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <1266881280192-4615729.post@n2.nabble.com>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<1266881280192-4615729.post@n2.nabble.com>
Message-ID: <9C734EFE-220E-43BB-BFC6-162679F6CD44@syenar.hu>

>> Detecting unused instance variables can be implemented _only_ for HIDDEN
>> ones and only if class if fully implemented in single file without any
>> externally defined methods and/or friend functions so you should not
>> expect it will ever have similar functionality to detecting unused local
>> variables. If we decide to add it then it would be necessary to also add
>> method to mark them as used (just like HB_SYMNBOL_UNUSED() for normal
>> variables) so programmer can pacify false warnings when hidden instance
>> variables are accessed only by methods implemented in different
>> compilation
>> units (files).
>> ...
>> 
> 
> Very well described text. It widened my perspective, thank you.
> 
> If we implement detection of undefined iVar then I think there will be 
> more limitations thans advantages. In hbQT, for certain section, I employ 
> this "lack of feature" effectively and which have saved me a lot of 
> coding.
> 
>   oUI := HbQtUI():new(...)
> 
>   ....
> 
>   oUI:q_buttonClose:setText( "Close" )
> 
> Here "q_buttonClose" is not defined as an iVar in HbQtUI() class.
> It is redirected to ON ERROR method where it is parsed and 
> taken care of.
> 
> Yes, for sure, reporting only of undeclared iVars will be important.

It's rather a question of controlling this feature.

IMO it's no question that we should protect against 
this kind of error, since it's useful for "most" code 
(all code, which doesn't dynamically creates messages 
and doesn't uses ON ERROR tricks to emulate it). If 
some code requires such exception, there should be 
a way to allow it and not throw warnings in this case. 
But not adding it at all because it's not needed in 
some place is IMO a mistake.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Feb 22 18:43:08 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 18:43:18 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13964] trunk/harbour
In-Reply-To: <fd76479f1002221259s6640085bq8983f0c53f302b99@mail.gmail.com>
References: <E1NjeCs-00011c-5C@sfp-svn-6.v30.ch3.sourceforge.com>
	<fd76479f1002221259s6640085bq8983f0c53f302b99@mail.gmail.com>
Message-ID: <1266882188830-4615790.post@n2.nabble.com>



marco bra wrote:
> 
> Trying to generate doc from document viewer:
> a) i set Harbour installation root: /home/danilo/src/harbour
> b) push on the refresh button (no feed back, no error, no generate doc)
> c) Playing with navigation buttons (all active) if i press the up green
> arrow button key i get:
> 

Let us take a tour:

How did you set - /home/danilo/src/harbour ?
By keyboard input or selecting folder with "Select..." button ?
Try typing-in the the root path, do you see red background 
if you type a wrong one?

Though I do not know about nix*s, [/home/danilo/src/harbour]
seems to be the path relative to current folder. Probably 
./home/danilo/src/harbour could do.

When you type-in the path in edit control, it informs its 
existance visually with background color - white=ok, red=does_not_exists.

Delete "CurrentHarbour" entry in hbide.ini and start afresh.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13964-trunk-harbour-tp4614553p4615790.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Feb 22 18:55:30 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Feb 22 19:51:32 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <9C734EFE-220E-43BB-BFC6-162679F6CD44@syenar.hu>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<1266881280192-4615729.post@n2.nabble.com>
	<9C734EFE-220E-43BB-BFC6-162679F6CD44@syenar.hu>
Message-ID: <1266882930048-4615834.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> It's rather a question of controlling this feature.
> 
> IMO it's no question that we should protect against 
> this kind of error, since it's useful for "most" code 
> (all code, which doesn't dynamically creates messages 
> and doesn't uses ON ERROR tricks to emulate it). If 
> some code requires such exception, there should be 
> a way to allow it and not throw warnings in this case. 
> But not adding it at all because it's not needed in 
> some place is IMO a mistake.
> 

I completely agree with this direction.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Switch-to-detect-undeclared-vars-being-used-tp4601089p4615834.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From marcobra.ubuntu at gmail.com  Mon Feb 22 18:52:12 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 19:59:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13965] trunk/harbour
In-Reply-To: <E1NjhTz-000244-UL@sfp-svn-3.v30.ch3.sourceforge.com>
References: <E1NjhTz-000244-UL@sfp-svn-3.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1002221552mc1c0f9dr1129ac6fd8e30112@mail.gmail.com>

Selecting Project ? Enviroment ? Compiler Environments ? Path to hbmk2 i get
this error

...

THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS verticalLayout       {|o,v|
o[v]:addLayout(o[ "horizontalLayout_4" ])}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS tabWidget            {|o,v|
o[v]:setCurrentIndex(0)}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS Form                 {|o,v|
o[v]:setWindowTitle(q__tr("Form", "Form", 0, "UTF8"))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS tabWidget            {|o,v|
o[v]:setTabText(o[ "tabWidget" ]:indexOf(o[ "tabCompilers" ]), q__tr("Form",
"Environments", 0, "UTF8"))}
xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    begin
xbpgeneric.prg:0:HBXBP_END$(): HB_TR_ALWAYS
................................... EXIT PROCEDURE hbxbp_End()    end
QApplication.cpp:115: HB_TR_ALWAYS hbqt_exit 0 0x9d9b6f8
QApplication.cpp:120: HB_TR_ALWAYS hbqt_exit 1 (nil)

Unrecoverable error 6005: Exception SIGSEGV at address 0x3f0

Plus a dialog that i send to you privately.

Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100223/8b2cf64b/attachment.html
From marcobra.ubuntu at gmail.com  Mon Feb 22 19:02:18 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Feb 22 20:00:10 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13964] trunk/harbour
In-Reply-To: <1266882188830-4615790.post@n2.nabble.com>
References: <E1NjeCs-00011c-5C@sfp-svn-6.v30.ch3.sourceforge.com>
	<fd76479f1002221259s6640085bq8983f0c53f302b99@mail.gmail.com>
	<1266882188830-4615790.post@n2.nabble.com>
Message-ID: <fd76479f1002221602o27ddc6f7je01d1cc8dc7ee312@mail.gmail.com>

2010/2/23 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> marco bra wrote:
> >
> > Trying to generate doc from document viewer:
> > a) i set Harbour installation root: /home/danilo/src/harbour
> > b) push on the refresh button (no feed back, no error, no generate doc)
> > c) Playing with navigation buttons (all active) if i press the up green
> > arrow button key i get:
> >
>
> Let us take a tour:
>
> How did you set - /home/danilo/src/harbour ?
> By keyboard input or selecting folder with "Select..." button ?
> Try typing-in the the root path, do you see red background
> if you type a wrong one?
>
>
By selecting with "Select..."


> Though I do not know about nix*s, [/home/danilo/src/harbour]
> seems to be the path relative to current folder. Probably
> ./home/danilo/src/harbour could do.
>
> No is the absolute path: /home/danilo/src/harbour

Must be the path relative to hbide...?


> When you type-in the path in edit control, it informs its
> existance visually with background color - white=ok, red=does_not_exists.
>
>
White when i meet the existent dirs and subdir, red when i type incomplete
dirs (work ok)

Delete "CurrentHarbour" entry in hbide.ini and start afresh.
>

deleted the hbide.ini but i get same issue no doc generated/imported.

I must go bed now, i will retry tomorrow.

Thank you

-- 
Linux Infinite Freedom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100223/72b33c0d/attachment.html
From vouchcac at users.sourceforge.net  Mon Feb 22 22:06:04 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Feb 22 22:06:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13966] trunk/harbour
Message-ID: <E1Njl64-00083E-UG@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13966
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13966&view=rev
Author:   vouchcac
Date:     2010-02-23 03:06:03 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------

2010-02-22 19:05 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/idedocks.prg
  * contrib/hbide/resources/docviewgenerator.ui
  * contrib/hbide/resources/docviewgenerator.uic
    ! Enabled "floating" properties for right-hand docking widgets.
      Now it is possible to sheer them out of main frame and/or
      tabify.
    ! Changed the "Contents" tab-page maximum-width.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/resources/docviewgenerator.ui
    trunk/harbour/contrib/hbide/resources/docviewgenerator.uic


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Tue Feb 23 00:29:34 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Tue Feb 23 00:29:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <1266860801707-4613809.post@n2.nabble.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
	<11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>
	<1266859549037-4613679.post@n2.nabble.com>
	<27691072.post@talk.nabble.com>
	<1266860801707-4613809.post@n2.nabble.com>
Message-ID: <27698671.post@talk.nabble.com>


Hi


Pritpal Bedi wrote:
> 
> 
> This is true if the widget is created with pure .cpp code
> calling the constructors and destruction within from.
> 
> In Harbour-Qt we construct a widget with QWidget():new()
> which allocates a pointer in HMV and we destruct that pointer 
> through GC. It is only possible if we initiate destruction ourselves.
> 
> So if we destroy the top level, then the pointers created for
> its children are never get freed, or if HVM frees it, it is not there
> anymore. Though we have protection code in destructors, but 
> it seems that is not enough, we need another approach.
> 
> Now I understand that for nested widgets, like treeview, I have to
> start from the children then promoting to the parents while
> destroying. I will try it today.
> 
> 


I know this.
But at the and of the day, there are C++ pointers, no matter how
you store them in HVM system.
Qt knows nothing about HVM. Qt widgets (widget,dialog,...) are 
constructed with C++ new operator which returns C++ pointer, which you store
in  QGC_POINTER_QWidget.
Qt is working with usual C++ pointers (and some special: reference counted
.....).
In Qt internaly there is parent-child relationship.
Why are you trying to reimplement all dealocation logic, which is alredy
done in Qt.
IMHO you shuld use GC pointers only for top level widgeds.
And top level widget must be destructed only (implicitly or explicitly).
For child widgets you should use normal pointers.
Am I wrong?

BRGDS
Fran?ek
-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13957--trunk-harbour-tp27685058p27698671.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From francek.prijatelj at siol.net  Tue Feb 23 00:36:17 2010
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Tue Feb 23 00:36:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <1266860801707-4613809.post@n2.nabble.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
	<11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>
	<1266859549037-4613679.post@n2.nabble.com>
	<27691072.post@talk.nabble.com>
	<1266860801707-4613809.post@n2.nabble.com>
Message-ID: <27698705.post@talk.nabble.com>


Hi

As i informed you  hbqt_hbslots.cpp doesn't compile with MSVC8 (it compiles
with mingw).
MSVC8 allows only 128 nesting depth.
So here i send you corected file.

BRGDS
Fran?ek

http://old.nabble.com/file/p27698705/hbqt_hbslots.cpp hbqt_hbslots.cpp 

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13957--trunk-harbour-tp27685058p27698705.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From wcshum88 at hotmail.com  Tue Feb 23 01:14:13 2010
From: wcshum88 at hotmail.com (Shum)
Date: Tue Feb 23 01:14:21 2010
Subject: [Harbour] Re: Macro within codeblock ??
In-Reply-To: <1266845074709-4611984.post@n2.nabble.com>
References: <1266845074709-4611984.post@n2.nabble.com>
Message-ID: <1266905653621-4617195.post@n2.nabble.com>


Ok...

It should be solved ....Since Xbase++ all are late blinding....

change    bAction := {|| &cFAction() }   into  
bAction := {|| &(cFAction)() }    ....seems is the solution ...


Thanks !


Shum
-- 
View this message in context: http://n2.nabble.com/Macro-within-codeblock-tp4611984p4617195.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Tue Feb 23 02:48:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 23 02:48:21 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13957] trunk/harbour
In-Reply-To: <27698705.post@talk.nabble.com>
References: <E1NjVAN-0007mI-5h@sfp-svn-5.v30.ch3.sourceforge.com>
	<fd76479f1002220232q28ca21b5s296fcf9d378a1671@mail.gmail.com>
	<1266857443912-4613415.post@n2.nabble.com>
	<fd76479f1002220906g5dc999fbs7770f91fa2982b75@mail.gmail.com>
	<11369D1E-593D-48CE-BD9A-F8CE0047C1B4@syenar.hu>
	<1266859549037-4613679.post@n2.nabble.com>
	<27691072.post@talk.nabble.com>
	<1266860801707-4613809.post@n2.nabble.com>
	<27698705.post@talk.nabble.com>
Message-ID: <1266911294457-4617503.post@n2.nabble.com>



Fran?ek Prijatelj wrote:
> 
> As i informed you  hbqt_hbslots.cpp doesn't compile with MSVC8 (it
> compiles
> with mingw).
> MSVC8 allows only 128 nesting depth.
> So here i send you corected file.
> 

Thank you.

Tested and found ok. Will commit today.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13957-trunk-harbour-tp4611158p4617503.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From maurilio.longo at libero.it  Tue Feb 23 02:54:36 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 02:54:54 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <20100222224406.GB26179@linux-4bod.home.aster.pl>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>	<1266631651299-4601199.post@n2.nabble.com>	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
Message-ID: <4B8389BC.1040800@libero.it>

Przemyslaw,

Przemys?aw Czerpak wrote:

> We have some initial code used for class declaration and strong typing but
> it was never fully functional.

Do we need strong typing to spot undeclared variables?

> The last part is casting and here we probably have the biggest problem.
> Now it's possible to use
>     <exp> AS <type>
> i.e.:
> 
>    func f( x as usual ) as string
>       if valtype( x ) == "N"
>          x := str( x as numeric )
>       elseif valtype( x ) != "C"
>          x := ""
>       endif
>    return x as string
> 
What's the need to write

x := str( x as numeric )

given that I'm calling str? It seems to me just a waste of typing, even more
so given the previous valtype which confirms it is a number.

> other method is using some new operator which will work well with PP.
> I.e. instead of 'AS' we can use '.AS.' because expressions like
> <exp> .AS. <type> are recognized by PP s single expression, i.e.
> 
>    ? x .as. numeric
> 
> is well preprocessed by PP to:
> 
>    QOUT( x .as. numeric )
> 
I really don't like this solution, .Something. operators are logical for me,
while this one would be different.

I'd say, what about

x:toNumber()

to treat it like an (implicit) object?

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Feb 23 02:56:24 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 02:56:42 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <7BD21838-BD07-4F62-8622-2F1289017986@syenar.hu>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>	<1266631651299-4601199.post@n2.nabble.com>	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>	<4B823A02.9010700@libero.it>	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<7BD21838-BD07-4F62-8622-2F1289017986@syenar.hu>
Message-ID: <4B838A28.2000207@libero.it>

Viktor,

Viktor Szak?ts wrote:
> 
> Or maybe, and if technically possible:
>   QOUT( ( NUMERIC ) x )
> 
Yes, a lot better, even if I still can't grasp the usefulness of such a code
for a typeless language which would, anyway, print x.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Feb 23 03:02:46 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 23 03:02:56 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <4B838A28.2000207@libero.it>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>	<1266631651299-4601199.post@n2.nabble.com>	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>	<4B823A02.9010700@libero.it>	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<7BD21838-BD07-4F62-8622-2F1289017986@syenar.hu>
	<4B838A28.2000207@libero.it>
Message-ID: <A36C0D55-6070-411E-B858-6FA500F678F6@syenar.hu>

> Viktor,
> 
> Viktor Szak?ts wrote:
>> 
>> Or maybe, and if technically possible:
>>  QOUT( ( NUMERIC ) x )
>> 
> Yes, a lot better, even if I still can't grasp the usefulness of such a code
> for a typeless language which would, anyway, print x.

That's a good question. It was too late to start wondering 
on this yesterday, but I also can't see what more casting 
can offer compared to VAL(), STR(), INT(). Or, what is the 
point to cast a string to array without knowing the conversion 
details. Maybe I'm missing something, but to me casting looks 
like a conversion function which expect one type and returns 
another.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Feb 23 03:07:57 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Feb 23 03:08:08 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <4B8389BC.1040800@libero.it>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>	<1266631651299-4601199.post@n2.nabble.com>	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<4B8389BC.1040800@libero.it>
Message-ID: <369131AE-BFDF-48D3-8409-1ADBCD788F32@syenar.hu>

Hi,

>> other method is using some new operator which will work well with PP.
>> I.e. instead of 'AS' we can use '.AS.' because expressions like
>> <exp> .AS. <type> are recognized by PP s single expression, i.e.
>> 
>>   ? x .as. numeric
>> 
>> is well preprocessed by PP to:
>> 
>>   QOUT( x .as. numeric )
>> 
> I really don't like this solution, .Something. operators are logical for me,
> while this one would be different.
> 
> I'd say, what about
> 
> x:toNumber()
> 
> to treat it like an (implicit) object?

It means we should name it x:__tonumber(), which 
looks a little strange. Plus, it forces using 
OOP syntax in non-OOP code.

But, indeed the question is, that when such new 
casting syntax can have an importance; is it needed?

F.e. in Python which is a strongly type language, 
there is no casting, just conversion functions.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Feb 23 03:25:35 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 23 03:25:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13967] trunk/harbour
Message-ID: <E1Njq5H-0004zk-KM@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13967
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13967&view=rev
Author:   vszakats
Date:     2010-02-23 08:25:34 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 09:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmzip/ioapi.c
  * contrib/hbmzip/zip.c
  * contrib/hbmzip/unzip.c
  * contrib/hbmzip/zip.h
  * contrib/hbmzip/unzip.h
  * contrib/xhb/hbcomprs.c
    % Using hbzlib.h directly instead of hbzlib.h.
    ; TODO: Delete hbzlib.h.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmzip/ioapi.c
    trunk/harbour/contrib/hbmzip/unzip.c
    trunk/harbour/contrib/hbmzip/unzip.h
    trunk/harbour/contrib/hbmzip/zip.c
    trunk/harbour/contrib/hbmzip/zip.h
    trunk/harbour/contrib/xhb/hbcomprs.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 23 03:28:36 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 23 03:28:43 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13968] trunk/harbour
Message-ID: <E1Njq8C-000535-JD@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13968
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13968&view=rev
Author:   vszakats
Date:     2010-02-23 08:28:35 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 09:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/Makefile
    - Deleted hbzlib.h (wrapper for zlib.h)
      (INCOMPATIBLE, if someone used this, should be fixed by 
      replacing hbzlib.h with zlib.h in #include directive)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Feb 23 03:46:33 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 23 03:46:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13969] trunk/harbour
Message-ID: <E1NjqPZ-0005Kf-BL@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13969
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13969&view=rev
Author:   vszakats
Date:     2010-02-23 08:46:31 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 09:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + <windows.h>/<os2.h> header inclusion (along with HB_OS_WIN_USED
      macro) is now guarded with HB_LEGACY_LEVEL3.

  * include/hbsetup.ch
  * include/hbdefs.h
  * include/clipdefs.h
    + HB_LEGACY_OFF will now turn off legacy types as well.
      This means that HB_LEGACY_TYPES_OFF macro usage
      is now clean.

  * utils/hbmk2/examples/contribf.hbc
    ! hbbmcdx -> rddbmcdx

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/clipdefs.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbsetup.ch
    trunk/harbour/utils/hbmk2/examples/contribf.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Feb 23 03:56:11 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 23 03:56:19 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <4B8389BC.1040800@libero.it>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<4B8389BC.1040800@libero.it>
Message-ID: <20100223085611.GA32028@linux-4bod.home.aster.pl>

On Tue, 23 Feb 2010, Maurilio Longo wrote:

Hi,

> > We have some initial code used for class declaration and strong typing but
> > it was never fully functional.
> Do we need strong typing to spot undeclared variables?

No, we didn't but it touches exactly the same area.
We do not have to implement both things in compiler in the same time
but we have to agree syntax used prototyping (you have to inform
compiler aboout the class definition if you want to detect wrong/undfined
messages). If we create syntax only for one things then it's big risk
that we will have to remove it in the future adding second one.

> > The last part is casting and here we probably have the biggest problem.
> > Now it's possible to use
> >     <exp> AS <type>
> > i.e.:
> > 
> >    func f( x as usual ) as string
> >       if valtype( x ) == "N"
> >          x := str( x as numeric )
> >       elseif valtype( x ) != "C"
> >          x := ""
> >       endif
> >    return x as string
> > 
> What's the need to write
> 
> x := str( x as numeric )
> 
> given that I'm calling str? It seems to me just a waste of typing,
It's necessary if you want to enable full strict type checking at compile
time using some compiler switch. In such mode compiler should warn during
compilation about all possible type mismatch.
Function STR() is declared as:

   FUNC STR( nVal AS NUMERIC, [ <nLen> AS NUMERIC ], [ <nDec> AS NUMERIC ] ) ;
        AS CHARACTER

Without explicit casting for code like:

   func f( x as usual ) as string
      x := str( x )

in strict strong type mode compiler should generate warning:
   'conversion from USUAL to NUMERIC type'
and casting is necessary to pacify such warning.

Later such compile time strict typing mode can be extended in few ways,
i.e.:
1. we can add option to generate additional devel code which will generate
   error at runtime if given variable has different type. It may help
   during application tests.
2. we can add option to generate code optimized for strictly defined
   types dropping any runtime type validation, in some cases we can
   even automatically switch to native C types. Such places like above
   with explicit casting from other or unknown types can be encapsulated
   in code which will make runtime conversion to given type or depending
   on compiler switches accept user casting without any conversions.
   This is the place which still can give us serious performance
   improvement in the future.

> even more so given the previous valtype which confirms it is a number.

Hardcoding inside compiler semantic of all RTL functions is in practice
impossible. We can make an exception for VALTYPE() but it does not give
us any reasonable solution for general problem (see above) but it will
address only one particular situation. It also hardly complicates the
compiler internal logic because it introduces pseudo strong variables
which can dynamically change the type and we will have to add support
for such situation. It seems to be more complicated modification then
the whole rest we are talking about. I think that we may add sth like
that in the final state when we create logic for code optimization using
strong type information.

> > other method is using some new operator which will work well with PP.
> > I.e. instead of 'AS' we can use '.AS.' because expressions like
> > <exp> .AS. <type> are recognized by PP s single expression, i.e.
> >    ? x .as. numeric
> > is well preprocessed by PP to:
> >    QOUT( x .as. numeric )
> I really don't like this solution, .Something. operators are logical for me,
> while this one would be different.
> I'd say, what about
> x:toNumber()
> to treat it like an (implicit) object?

It's also possible though I'd prefer functions. Method does not generate
compile or link time errors when name conflicts appear.
We can also use dot only as type operator and instead of:
   x.as.number
we can have:
   x.asNumber
or:
   x.number
   (<exp>).number

best regards,
Przemek
From druzus at acn.waw.pl  Tue Feb 23 04:01:40 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 23 04:01:47 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <7BD21838-BD07-4F62-8622-2F1289017986@syenar.hu>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<7BD21838-BD07-4F62-8622-2F1289017986@syenar.hu>
Message-ID: <20100223090139.GB32028@linux-4bod.home.aster.pl>

On Tue, 23 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Or maybe, and if technically possible:
>   QOUT( ( NUMERIC ) x )

Anything we will chose has to create single expression for PP or
we create serious problem for using casting in commands. So any
new proposition should pass this basci PP tested:

   ? <casted_exp>

i.e.:

   ? ( NUMERIC ) x

and as you can check using -p compiler switch above line is not
preprocessed to:

   QOut( ( NUMERIC ) x )

so we cannot use it.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Feb 23 04:14:37 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 23 04:14:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13970] trunk/harbour
Message-ID: <E1Njqqj-0008Em-Ev@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13970
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13970&view=rev
Author:   vszakats
Date:     2010-02-23 09:14:35 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 10:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/estack.c
  * src/vm/fm.c
  * src/vm/garbage.c
    % Deleted unnecessary OS/2 INCL_* constant definitions.

  * src/vm/cmdarg.c
  * src/vm/thread.c
  * src/vm/dynlibhb.c
    + Added comment for some exception where OS/2 INCL_ constants 
      hace to be defined before Harbour headers. (because hbstack.h 
      will include os2.h through hbthread.h in MT build-pass)

  * src/vm/extrap.c
  * src/common/hbgete.c
  * src/common/hbffind.c
  * src/common/hbver.c
  * src/common/hbfsapi.c
  * src/rtl/filesys.c
  * src/rtl/diskspac.c
  * src/rtl/gtos2/gtos2.c
  * src/rtl/cputime.c
  * src/rtl/disksphb.c
  * contrib/hbtpathy/tpos2.c
  * contrib/hbmzip/hbmzip.c
  * contrib/hbqt/hbqt.h
    % OS/2 '#define INCL_*' lines moved right before os2.h is included.
      Now that os2.h isn't included by Harbour headers, this is possible.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbtpathy/tpos2.c
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/common/hbfsapi.c
    trunk/harbour/src/common/hbgete.c
    trunk/harbour/src/common/hbver.c
    trunk/harbour/src/rtl/cputime.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/disksphb.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/gtos2/gtos2.c
    trunk/harbour/src/vm/cmdarg.c
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/extrap.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Feb 23 04:42:07 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 23 04:42:19 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
In-Reply-To: <4B828F52.2080107@libero.it>
References: <4B828DE3.4040206@mail.udg.mx> <4B828F52.2080107@libero.it>
Message-ID: <0EF88B3C-35EA-41EF-87BC-3E1BFE4C52F6@syenar.hu>

> David Arturo Macias Corona wrote:
>> I do not know too
>> Harbour 2.0.0 for OS/2 downloads have an strange behaviour not expected
>> for OS/2. It have downloads in sustained state daily and now have more
>> than 600.
>> From different IPs?
> 
> I don't believe there are so many OS/2 programmers still using a clipper
> dialect out there. It is not possible!

The explanation is that 'os2-contrib' binary package 
is offered as default download for all users not coming 
from a Windows machine (it has the latest "release date"), 
and probably many users download this package by mistake. 
There is a total of 80 downloads for each core OS/2 binary 
packages, and 280 for contrib, which causes the boost in 
total OS/2 downloads.

I changed the settings to offer somewhat more meaningful 
defaults for non-win/non-OS2 users.

Brgds,
Viktor

From maurilio.longo at libero.it  Tue Feb 23 04:50:30 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 04:50:42 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
In-Reply-To: <0EF88B3C-35EA-41EF-87BC-3E1BFE4C52F6@syenar.hu>
References: <4B828DE3.4040206@mail.udg.mx> <4B828F52.2080107@libero.it>
	<0EF88B3C-35EA-41EF-87BC-3E1BFE4C52F6@syenar.hu>
Message-ID: <4B83A4E6.6050401@libero.it>

Viktor,

Viktor Szak?ts wrote:
> The explanation is that 'os2-contrib' binary package 
> is offered as default download for all users not coming 
> from a Windows machine (it has the latest "release date"), 
> and probably many users download this package by mistake. 
> There is a total of 80 downloads for each core OS/2 binary 
> packages, and 280 for contrib, which causes the boost in 
> total OS/2 downloads.
> 
This makes a lot more sense to me, I'm still surprised by that 80 core
downloads, let's say they're really 30 or 40 unique users... well, it's really
nice to know there are so many die-harders out there.

:)

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Feb 23 04:55:57 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Feb 23 04:56:11 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
In-Reply-To: <4B83A4E6.6050401@libero.it>
References: <4B828DE3.4040206@mail.udg.mx> <4B828F52.2080107@libero.it>
	<0EF88B3C-35EA-41EF-87BC-3E1BFE4C52F6@syenar.hu>
	<4B83A4E6.6050401@libero.it>
Message-ID: <E564D473-0EDD-4E61-B953-5A22EA2ECA32@syenar.hu>

>> The explanation is that 'os2-contrib' binary package 
>> is offered as default download for all users not coming 
>> from a Windows machine (it has the latest "release date"), 
>> and probably many users download this package by mistake. 
>> There is a total of 80 downloads for each core OS/2 binary 
>> packages, and 280 for contrib, which causes the boost in 
>> total OS/2 downloads.
>> 
> This makes a lot more sense to me, I'm still surprised by that 80 core
> downloads, let's say they're really 30 or 40 unique users... well, it's really
> nice to know there are so many die-harders out there.
> 
> :)

It would be interesting to know where Harbour is actually 
used in real life, not just in case of OS/2, but at all.

If anyone has stories about Harbour in real life, it'd 
be great to see them here.

Brgds,
Viktor

From dmacias at mail.udg.mx  Tue Feb 23 05:05:13 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Feb 23 05:05:29 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
Message-ID: <4B83A859.4000603@mail.udg.mx>

Maurilio:

 >Viktor Szak?ts wrote:
 >> The explanation is that 'os2-contrib' binary package
 >> is offered as default download for all users not coming
 >> from a Windows machine (it has the latest "release date"),
 >> and probably many users download this package by mistake.
 >> There is a total of 80 downloads for each core OS/2 binary
 >> packages, and 280 for contrib, which causes the boost in
 >> total OS/2 downloads.
 >>
 >This makes a lot more sense to me, I'm still surprised by that 80 core
 >downloads, let's say they're really 30 or 40 unique users... well, 
it's >really
 >nice to know there are so many die-harders out there.

 >:)

Right now sourceforge values are:

harbour-2.0.0.contrib-os2.zip     	280
harbour-2.0.0.bin-os2.gcc335aout.zip     80	
harbour-2.0.0.bin-os2.gcc433.zip         80	
harbour-2.0.0.bin-os2.gcc335omf.zip      65	
harbour-2.0.0.bin-os2.watcom.zip        116

so excluding contrib we have 621-280=341 downloads of core binaries, 
released 26 Dec 2009

They are not only downloading Harbour 2.0.0 but even old releases
For example, beta3 grow from 236 to 251 since 26 Dec 2009, and other 
releases too. They are playing and comparing

And many of those die-harders prefer OpenWatcom  :-)

David Macias

From maurilio.longo at libero.it  Tue Feb 23 05:32:54 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 05:33:11 2010
Subject: [Harbour] Re: OS/2:  -DTCPV40HDRS
In-Reply-To: <4B83A859.4000603@mail.udg.mx>
References: <4B83A859.4000603@mail.udg.mx>
Message-ID: <4B83AED6.6090301@libero.it>

David,

could we put a request to the downloaders to write a short message telling us
what they're doing with harbour?

Just to know a little more.

Maurilio.

David Arturo Macias Corona wrote:
> Maurilio:
> 
>>Viktor Szak?ts wrote:
>>> The explanation is that 'os2-contrib' binary package
>>> is offered as default download for all users not coming
>>> from a Windows machine (it has the latest "release date"),
>>> and probably many users download this package by mistake.
>>> There is a total of 80 downloads for each core OS/2 binary
>>> packages, and 280 for contrib, which causes the boost in
>>> total OS/2 downloads.
>>>
>>This makes a lot more sense to me, I'm still surprised by that 80 core
>>downloads, let's say they're really 30 or 40 unique users... well, it's
>>really
>>nice to know there are so many die-harders out there.
> 
>>:)
> 
> Right now sourceforge values are:
> 
> harbour-2.0.0.contrib-os2.zip         280
> harbour-2.0.0.bin-os2.gcc335aout.zip     80   
> harbour-2.0.0.bin-os2.gcc433.zip         80   
> harbour-2.0.0.bin-os2.gcc335omf.zip      65   
> harbour-2.0.0.bin-os2.watcom.zip        116
> 
> so excluding contrib we have 621-280=341 downloads of core binaries,
> released 26 Dec 2009
> 
> They are not only downloading Harbour 2.0.0 but even old releases
> For example, beta3 grow from 236 to 251 since 26 Dec 2009, and other
> releases too. They are playing and comparing
> 
> And many of those die-harders prefer OpenWatcom  :-)
> 
> David Macias
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Feb 23 06:05:17 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 23 06:05:24 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <369131AE-BFDF-48D3-8409-1ADBCD788F32@syenar.hu>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>
	<1266631651299-4601199.post@n2.nabble.com>
	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>
	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
	<4B8389BC.1040800@libero.it>
	<369131AE-BFDF-48D3-8409-1ADBCD788F32@syenar.hu>
Message-ID: <20100223110517.GA929@linux-4bod.home.aster.pl>

On Tue, 23 Feb 2010, Szak?ts Viktor wrote:

Hi,

> But, indeed the question is, that when such new 
> casting syntax can have an importance; is it needed?
> F.e. in Python which is a strongly type language, 
> there is no casting, just conversion functions.

And this is an answer: It's strongly typed language.
I do not want to drop support for untyped variables
so we will have logical conversions between untyped
and typed variables.
If will will use only typed variables then you will
not have to use any casting so it's not a problem for
you.

best regards,
Przemek
From marcobra.ubuntu at gmail.com  Tue Feb 23 06:58:52 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Tue Feb 23 06:59:00 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13964] trunk/harbour
In-Reply-To: <fd76479f1002221602o27ddc6f7je01d1cc8dc7ee312@mail.gmail.com>
References: <E1NjeCs-00011c-5C@sfp-svn-6.v30.ch3.sourceforge.com>
	<fd76479f1002221259s6640085bq8983f0c53f302b99@mail.gmail.com>
	<1266882188830-4615790.post@n2.nabble.com>
	<fd76479f1002221602o27ddc6f7je01d1cc8dc7ee312@mail.gmail.com>
Message-ID: <fd76479f1002230358g1a29e8caifa1af8df7252b92d@mail.gmail.com>

Pritbal ( i use two different Ubuntu 9.10 pc, with Harbour installed on
different path, so sometimes you will see danilo and sometimes ubuntu in the
path)

By the way, it works if i put a relative path to hbide position

../../../harbour/doc

or this absolute path

/home/ubuntu/src/harbour/doc

but it load/populate data only at hbide start, the refresh button doesn't
works.

It doesn't works if i put the absolute path: /home/danilo/src/harbour

Hope this helps
Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100223/b2b1540c/attachment.html
From david at gesintur.com  Tue Feb 23 08:10:38 2010
From: david at gesintur.com (David MS)
Date: Tue Feb 23 08:10:55 2010
Subject: [Harbour] how to link all the funcions of a lib?
Message-ID: <1CB3030DAA0049EFAC410AFE3C266C34@INFOR04>

Hi,

Is there any way to statically link all the functions of a library, even if 
these functions are not declared / used in the main program?

In this moment I've a .CH with all functions that I need declarated with 
EXTERNAL. I don't  know if this is the best way.



TIA
David Montano. 

From marcobra.ubuntu at gmail.com  Tue Feb 23 08:23:59 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Tue Feb 23 08:24:08 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13964] trunk/harbour
In-Reply-To: <fd76479f1002230358g1a29e8caifa1af8df7252b92d@mail.gmail.com>
References: <E1NjeCs-00011c-5C@sfp-svn-6.v30.ch3.sourceforge.com>
	<fd76479f1002221259s6640085bq8983f0c53f302b99@mail.gmail.com>
	<1266882188830-4615790.post@n2.nabble.com>
	<fd76479f1002221602o27ddc6f7je01d1cc8dc7ee312@mail.gmail.com>
	<fd76479f1002230358g1a29e8caifa1af8df7252b92d@mail.gmail.com>
Message-ID: <fd76479f1002230523l2d593cdo3e789dda02ccc1d5@mail.gmail.com>

Also if i set in the path /home/ubuntu/src/harbour ( i can't populated
result ) and then if i select the "index" tab and then i press enter i get:

Unrecoverable error 6005: Exception SIGSEGV at address 0x10
Called from QT_QLISTWIDGETITEM_TEXT(0)
Called from QLISTWIDGETITEM:TEXT(0) in ../../../TQListWidgetItem.prg
Called from IDEHARBOURHELP:POPULATEINDEXEDSELECTION(524) in
ideharbourhelp.prg
Called from IDEHARBOURHELP:EXECEVENT(393) in ideharbourhelp.prg
Called from (b)IDEHARBOURHELP_INSTALLSIGNALS(376) in ideharbourhelp.prg
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
Called from APPEVENT(0) in ../../../xbpgeneric.prg
Called from HBIDE:CREATE(417) in hbide.prg
Called from MAIN(110) in hbide.prg

Hth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100223/ac8cc7d7/attachment-0001.html
From mauriliolongo at users.sourceforge.net  Tue Feb 23 08:29:30 2010
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Tue Feb 23 08:29:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13971] trunk/harbour
Message-ID: <E1NjupO-0004oJ-I8@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13971
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13971&view=rev
Author:   mauriliolongo
Date:     2010-02-23 13:29:29 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 14:25 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * source/contrib/hbxpp/tthreadx.prg
     * changed ::start() method to execute ::atStart/::atEnd methods/codeblocks
       when present.
     * changed ::threadID() from method to iVar
     ! ::startCount should be incremented at every execution
     * ::threadSelf() method moved to HIDDEN section

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/tthreadx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Feb 23 08:32:02 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 08:32:18 2010
Subject: [Harbour] tthreadx.prg
Message-ID: <4B83D8D2.2080200@libero.it>

Przemyslaw,

there is a call to

ThreadObject( Self )

inside ::start() method of tthread class, is it needed? What does it really
does given that the result is thrown away?

Thanks

Maurilio.
-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Feb 23 08:38:58 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 08:39:11 2010
Subject: [Harbour] tthreadx.prg
In-Reply-To: <4B83D8D2.2080200@libero.it>
References: <4B83D8D2.2080200@libero.it>
Message-ID: <4B83DA72.3060306@libero.it>

Przemyslaw,

I mean contrib/hbxpp/tthreadx.prg's tthread class.

Maurilio.

Maurilio Longo wrote:
> Przemyslaw,
> 
> there is a call to
> 
> ThreadObject( Self )
> 
> inside ::start() method of tthread class, is it needed? What does it really
> does given that the result is thrown away?
> 
> Thanks
> 
> Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Feb 23 08:44:10 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 08:44:24 2010
Subject: [Harbour] stuff.c
Message-ID: <4B83DBAA.404@libero.it>

Hi,

why is Stuff() copying received parameter into a new item even when the number
of deleted chars equals the number of inserted ones or, more in general, when
current item can hold the result of the stuff() call without need to resize it?

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Feb 23 08:56:17 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 08:56:28 2010
Subject: [Harbour] stuff.c
In-Reply-To: <4B83DBAA.404@libero.it>
References: <4B83DBAA.404@libero.it>
Message-ID: <4B83DE81.9000107@libero.it>

Sorry,

already answered question :)

---------8<-------------------
It cannot be done inside STUFF() due to strictly defined Clipper
compatible syntax.
To optimize code which make
   <cVar> := STUFF( <cVar>, <nPos>, <nDel>, <cIns> )
it's necessary to detect that result of STUFF() function
is assigned to the same variable as its 1-st parameter and
replace above code by new funtcion which will operate
on parameter passed by reference, i.e.:
   __STUFF( @<cVar>, <nPos>, <nDel>, <cIns> )
So it needs new function and compile time optimization.
-------->8---------------

Maurilio.


Maurilio Longo wrote:
> Hi,
> 
> why is Stuff() copying received parameter into a new item even when the number
> of deleted chars equals the number of inserted ones or, more in general, when
> current item can hold the result of the stuff() call without need to resize it?
> 
> Best regards.
> 
> Maurilio.
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Feb 23 10:53:00 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Feb 23 10:53:08 2010
Subject: [Harbour] tthreadx.prg
In-Reply-To: <4B83D8D2.2080200@libero.it>
References: <4B83D8D2.2080200@libero.it>
Message-ID: <20100223155300.GA2611@linux-4bod.home.aster.pl>

On Tue, 23 Feb 2010, Maurilio Longo wrote:

Hi,

> there is a call to
> ThreadObject( Self )
> inside ::start() method of tthread class, is it needed? What does it really
> does given that the result is thrown away?

Look at ThreadObject() implementation in thfuncx.prg.
It sets value which is later returned by ThreadObject() function.
If you find it more clear then you can divide current ThreadObject()
function into two different functions:

   THREAD STATIC t_oThread

   FUNCTION ThreadObject()
      RETURN t_oThread

   FUNCTION __SetThreadObject( oThread )
      IF PCount() > 0
         t_oThread := oThread
      ENDIF
   RETURN NIL

or move above ThreadObject() function and 'THREAD STATIC t_oThread' to
tthreadx.prg and replace:
      ThreadObject( Self )
with:
      t_oThread := oThread

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Feb 23 11:11:30 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Feb 23 11:11:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13972] trunk/harbour
Message-ID: <E1NjxMA-0003HF-8t@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13972
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13972&view=rev
Author:   druzus
Date:     2010-02-23 16:11:16 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 17:10 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/dynlibhb.c
    ! casting for OS2 builds

  * harbour/src/rtl/hbinet.c
    ! added automatic WINSOCK initialization in HB_INETIFINFO() function

  * harbour/contrib/hbwin/olecore.c
    % small optimization in OLE method calls
      (use static buffer for message name)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/src/rtl/hbinet.c
    trunk/harbour/src/vm/dynlibhb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Tue Feb 23 11:32:52 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Feb 23 11:32:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13973] trunk/harbour
Message-ID: <E1Njxgq-0004d1-MJ@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13973
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13973&view=rev
Author:   vouchcac
Date:     2010-02-23 16:32:51 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 08:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbslots.cpp
    ! Applied patch provided by Francek.
      This removes the 128 nesting loop limit in MSVC.

  * contrib/hbide/ideharbourhelp.prg
    ! Fixed many artifacts, mainly on DocViewer navigation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Feb 23 11:22:49 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 11:33:09 2010
Subject: [Harbour] tthreadx.prg
In-Reply-To: <20100223155300.GA2611@linux-4bod.home.aster.pl>
References: <4B83D8D2.2080200@libero.it>
	<20100223155300.GA2611@linux-4bod.home.aster.pl>
Message-ID: <4B8400D9.7050506@libero.it>

Przemyslaw,

ok thanks, I did not look into thfuncx! :), that said, it does not need to be
inside

while ::active
enddo

loop, since, in case the code is executed several times, the thread object
executing it is always the same, am I right?

Maurilio.


Przemys?aw Czerpak wrote:
> On Tue, 23 Feb 2010, Maurilio Longo wrote:
> 
> Hi,
> 
>> there is a call to
>> ThreadObject( Self )
>> inside ::start() method of tthread class, is it needed? What does it really
>> does given that the result is thrown away?
> 
> Look at ThreadObject() implementation in thfuncx.prg.
> It sets value which is later returned by ThreadObject() function.
> If you find it more clear then you can divide current ThreadObject()
> function into two different functions:
> 
>    THREAD STATIC t_oThread
> 
>    FUNCTION ThreadObject()
>       RETURN t_oThread
> 
>    FUNCTION __SetThreadObject( oThread )
>       IF PCount() > 0
>          t_oThread := oThread
>       ENDIF
>    RETURN NIL
> 
> or move above ThreadObject() function and 'THREAD STATIC t_oThread' to
> tthreadx.prg and replace:
>       ThreadObject( Self )
> with:
>       t_oThread := oThread
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Feb 23 11:22:49 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Feb 23 11:36:02 2010
Subject: [Harbour] tthreadx.prg
In-Reply-To: <20100223155300.GA2611@linux-4bod.home.aster.pl>
References: <4B83D8D2.2080200@libero.it>
	<20100223155300.GA2611@linux-4bod.home.aster.pl>
Message-ID: <4B8400D9.7050506@libero.it>

Przemyslaw,

ok thanks, I did not look into thfuncx! :), that said, it does not need to be
inside

while ::active
enddo

loop, since, in case the code is executed several times, the thread object
executing it is always the same, am I right?

Maurilio.


Przemys?aw Czerpak wrote:
> On Tue, 23 Feb 2010, Maurilio Longo wrote:
> 
> Hi,
> 
>> there is a call to
>> ThreadObject( Self )
>> inside ::start() method of tthread class, is it needed? What does it really
>> does given that the result is thrown away?
> 
> Look at ThreadObject() implementation in thfuncx.prg.
> It sets value which is later returned by ThreadObject() function.
> If you find it more clear then you can divide current ThreadObject()
> function into two different functions:
> 
>    THREAD STATIC t_oThread
> 
>    FUNCTION ThreadObject()
>       RETURN t_oThread
> 
>    FUNCTION __SetThreadObject( oThread )
>       IF PCount() > 0
>          t_oThread := oThread
>       ENDIF
>    RETURN NIL
> 
> or move above ThreadObject() function and 'THREAD STATIC t_oThread' to
> tthreadx.prg and replace:
>       ThreadObject( Self )
> with:
>       t_oThread := oThread
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mauriliolongo at users.sourceforge.net  Tue Feb 23 11:42:44 2010
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Tue Feb 23 11:42:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13974] trunk/harbour
Message-ID: <E1NjxqO-0003uY-5b@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13974
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13974&view=rev
Author:   mauriliolongo
Date:     2010-02-23 16:42:42 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 17:40 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * source/contrib/hbxpp/tthreadx.prg
     ! while waiting for ::interval to expire, ::active has to be .T.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/tthreadx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Feb 23 11:56:08 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 23 11:56:15 2010
Subject: [Harbour] hbQT - -hbcppmm - hb_xfree() - Latest Findings
Message-ID: <1266944168373-4620137.post@n2.nabble.com>


Hello All,

Here are my latest lab findings on Qt:

cppstub.cpp : contains only one function
=========

   void * operator new( size_t nSize )
   {
      if( nSize == 0 )
      {
         nSize = 1;
      }
      return hb_xgrab( nSize );
   }

hbqt/.../Q*.cpp
===========

QT_G_FUNC( hbqt_gcRelease_QWidget )
{
   QGC_POINTER_QWidget * p = ( QGC_POINTER_QWidget * ) Cargo;

   if( p && p->bNew )
   {
      if( p->ph && p->pq )
      {
         const QMetaObject * m = ( ( QObject * ) p->ph )->metaObject();
         if( ( QString ) m->className() != ( QString ) "QObject" )
         {
            HB_TRACE( HB_TR_DEBUG, ( "YES_rel_QWidget   /.\\   ph=%p pq=%p",
p->ph, (void *)(p->pq) ) );
            delete ( ( QWidget * ) p->ph );
////////////////////////////////////
            hb_xfree( p->ph );
////////////////////////////////////
            HB_TRACE( HB_TR_DEBUG, ( "YES_rel_QWidget   \\./   ph=%p pq=%p",
p->ph, (void *)(p->pq) ) );
            p->ph = NULL;
         }
         else
         {
            HB_TRACE( HB_TR_DEBUG, ( "NO__rel_QWidgetph=%p pq=%p", p->ph,
(void *)(p->pq) ) );
         }
      }
      else
      {
         HB_TRACE( HB_TR_DEBUG, ( "DEL_rel_QWidget    :     Object already
deleted!" ) );
      }
   }
   else
   {
      HB_TRACE( HB_TR_DEBUG, ( "PTR_rel_QWidget    :    Object not created
with new()" ) );
      p->ph = NULL;
   }
}

Produces almost 0 unreleased memory blocks.
I have tested extensively and have found no issues. 

demoXBP.exe exits properly, consumes very little mem if new dialogs are
opened and closed.
hbXBP destroys objects - child first then parent.

demoQT exits with GPF - hb_xfree() called with invalid pointer.
demoQT does not release objects per parent-child hirarchy.

hbIDE is releasing with a GPF but I know what is possible reason, am after
that.

Overall this is a step forward in understanding why Qt is not memory is kept
consumed.

Hope someone will extend experiments.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-hbcppmm-hb-xfree-Latest-Findings-tp4620137p4620137.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Tue Feb 23 11:59:29 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 23 11:59:35 2010
Subject: [Harbour] Re: hbQT - -hbcppmm - hb_xfree() - Latest Findings
In-Reply-To: <1266944168373-4620137.post@n2.nabble.com>
References: <1266944168373-4620137.post@n2.nabble.com>
Message-ID: <1266944369602-4620155.post@n2.nabble.com>



Pritpal Bedi wrote:
> 
> ////////////////////////////////////
>             hb_xfree( p->ph );
> ////////////////////////////////////
> 

And if we can enforce pointer checking on p->ph ?
I do not know the GC airthmatic so I can be totally offline.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-hbcppmm-hb-xfree-Latest-Findings-tp4620137p4620155.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From wcshum88 at hotmail.com  Tue Feb 23 12:02:05 2010
From: wcshum88 at hotmail.com (Shum)
Date: Tue Feb 23 12:02:12 2010
Subject: [Harbour] Ask Xbase++ Compatibilty function
Message-ID: <1266944525229-4620179.post@n2.nabble.com>


Hi Harbour developers,

I am converting an Xbase++ application into harbour ...

However, I cannot find the following Xbase++ function or class (within
Harbour ) directly:
(Hope some one can point me into the right direction ...)

-IsMemberVar()

-WorkSpaceList()
-WorkSpaceEval()

-DBPosition()
-DBGoPosition()

-Ordisdescend()

-DACSession()
-DBsession()
-DBClientList()

-DBScope()
-DBSetScope()
-DBClearScope()

-RunShell()


Thanks inadvanced !

Shum
-- 
View this message in context: http://n2.nabble.com/Ask-Xbase-Compatibilty-function-tp4620179p4620179.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Tue Feb 23 14:53:32 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Feb 23 14:53:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13975] trunk/harbour
Message-ID: <E1Nk0p2-0004Mi-AI@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13975
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13975&view=rev
Author:   vszakats
Date:     2010-02-23 19:53:31 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 20:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * examples/hbdoc2/hbdoc2.prg
    ! Synced doc language subdir with recent changes.
      Thanks to Qatan for pointing it out.

  * include/hbwince.h
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/hbdoc2/hbdoc2.prg
    trunk/harbour/include/hbwince.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Feb 23 17:27:05 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Feb 23 17:27:37 2010
Subject: [Harbour] Ask Xbase++ Compatibilty function
In-Reply-To: <1266944525229-4620179.post@n2.nabble.com>
References: <1266944525229-4620179.post@n2.nabble.com>
Message-ID: <609353e71002231427m2ab0bb76l8ea5523443a83fb0@mail.gmail.com>

Can you post one or more working sample who use follow function and work in
xbase++?

2010/2/23 Shum <wcshum88@hotmail.com>

>
> Hi Harbour developers,
>
> I am converting an Xbase++ application into harbour ...
>
> However, I cannot find the following Xbase++ function or class (within
> Harbour ) directly:
> (Hope some one can point me into the right direction ...)
>
> -IsMemberVar()
>
> -WorkSpaceList()
> -WorkSpaceEval()
>
> -DBPosition()
> -DBGoPosition()
>
> -Ordisdescend()
>
> -DACSession()
> -DBsession()
> -DBClientList()
>
> -DBScope()
> -DBSetScope()
> -DBClearScope()
>
> -RunShell()
>
>
> Thanks inadvanced !
>
> Shum
> --
> View this message in context:
> http://n2.nabble.com/Ask-Xbase-Compatibilty-function-tp4620179p4620179.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100223/fd0a4373/attachment.html
From vouchcac at users.sourceforge.net  Tue Feb 23 17:34:25 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Feb 23 17:34:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13976] trunk/harbour
Message-ID: <E1Nk3Kj-0006pU-Bt@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13976
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13976&view=rev
Author:   vouchcac
Date:     2010-02-23 22:33:42 +0000 (Tue, 23 Feb 2010)

Log Message:
-----------
2010-02-23 14:34 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/hbide.png
    + Added icon to be displayable in hbIDE windows title-bar.
      Please visualize and forward any suggesstion. If possible
      you can redesign it. 

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/hbide.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Feb 23 17:59:34 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 23 17:59:41 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13976] trunk/harbour
In-Reply-To: <E1Nk3Kj-0006pU-Bt@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1Nk3Kj-0006pU-Bt@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <1266965974355-4622450.post@n2.nabble.com>



vouchcac wrote:
> 
>     + Added icon to be displayable in hbIDE windows title-bar.
>       Please visualize and forward any suggesstion. If possible
>       you can redesign it. 
> 

It is here:  

http://n2.nabble.com/file/n4622450/hbide.png 


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13976-trunk-harbour-tp4622323p4622450.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Tue Feb 23 18:11:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Feb 23 18:11:21 2010
Subject: [Harbour] How can .png be assigned as default icon for hbQT
	application
Message-ID: <1266966674314-4622510.post@n2.nabble.com>


Hi All

For .ico files it can be defined in .rc as 

FRONTFACE   ICON   SomeIcon.ico



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/How-can-png-be-assigned-as-default-icon-for-hbQT-application-tp4622510p4622510.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From m.lacecilia at gmail.com  Wed Feb 24 03:23:22 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Wed Feb 24 03:23:29 2010
Subject: [Harbour] Lack of Bin2U in the last SVN trunk
Message-ID: <27714124.post@talk.nabble.com>


After a clean rebuild of the current SVN version i can't no more link the
Bin2U function.

undefined reference to `HB_FUN_BIN2U'

In effect, the function was disapparead in the rtl sources.
Best regards.

Maurizio la Cecilia
-- 
View this message in context: http://old.nabble.com/Lack-of-Bin2U-in-the-last-SVN-trunk-tp27714124p27714124.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From m.lacecilia at gmail.com  Wed Feb 24 03:38:15 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Wed Feb 24 03:38:22 2010
Subject: [Harbour] Lack of Bin2U in the last SVN trunk
In-Reply-To: <27714124.post@talk.nabble.com>
References: <27714124.post@talk.nabble.com>
Message-ID: <27714127.post@talk.nabble.com>


I've found the Bin2U() function in the contrib\hbxpp\binnumx.c file.
So, i realized that was treated as compatibility function.
Please, ignore my prevfious message.
Maurizio la Cecilia
-- 
View this message in context: http://old.nabble.com/Lack-of-Bin2U-in-the-last-SVN-trunk-tp27714124p27714127.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Wed Feb 24 04:04:22 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 24 04:04:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13977] trunk/harbour
Message-ID: <E1NkDAM-0002UK-Ju@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13977
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13977&view=rev
Author:   vszakats
Date:     2010-02-24 09:04:21 +0000 (Wed, 24 Feb 2010)

Log Message:
-----------

2010-02-24 10:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxpp/Makefile
  + contrib/hbxpp/runshell.prg
    + Added RUNSHELL()

  * src/rtl/hbproces.c
  * contrib/hbxpp/dll.ch
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/Makefile
    trunk/harbour/contrib/hbxpp/dll.ch
    trunk/harbour/src/rtl/hbproces.c

Added Paths:
-----------
    trunk/harbour/contrib/hbxpp/runshell.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Feb 24 04:12:04 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 24 04:12:12 2010
Subject: [Harbour] tthreadx.prg
In-Reply-To: <4B8400D9.7050506@libero.it>
References: <4B83D8D2.2080200@libero.it>
	<20100223155300.GA2611@linux-4bod.home.aster.pl>
	<4B8400D9.7050506@libero.it>
Message-ID: <20100224091204.GA15016@linux-4bod.home.aster.pl>

On Tue, 23 Feb 2010, Maurilio Longo wrote:

Hi,

> ok thanks, I did not look into thfuncx! :), that said, it does not need to be
> inside
> 
> while ::active
> enddo
> 
> loop, since, in case the code is executed several times, the thread object
> executing it is always the same, am I right?

Yes,
It only must be assigned by the thread because it's stored in THREAD STATIC
variable.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Feb 24 04:32:54 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 24 04:33:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13978] trunk/harbour
Message-ID: <E1NkDby-0005mj-Rx@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13978
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13978&view=rev
Author:   vszakats
Date:     2010-02-24 09:32:44 +0000 (Wed, 24 Feb 2010)

Log Message:
-----------
2010-02-24 10:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - include/hbzlib.h
    - Deleted hbzlib.h (missed from commit: 2010-02-23 09:27 UTC+0100)

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Removed Paths:
-------------
    trunk/harbour/include/hbzlib.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alcisoft at arrakis.es  Wed Feb 24 05:40:25 2010
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Wed Feb 24 05:44:38 2010
Subject: [Harbour] xHarbour and harbour, rdd compatibility
Message-ID: <hm2vtq$932$1@dough.gmane.org>

as subject,

are both rdds compatibles ? for example in xHarbour version 1.0.0 and
Harbour version 2.0.0.... too, are lockschemes compatibles ?


Regards




From Jaroslav.Janik at siemens.com  Wed Feb 24 06:11:45 2010
From: Jaroslav.Janik at siemens.com (Janik, Jaroslav)
Date: Wed Feb 24 06:11:57 2010
Subject: [Harbour] curdrive() does not work in latest SVN revision 13978
In-Reply-To: <20100222192446.GA26179@linux-4bod.home.aster.pl>
References: <E1Ngyu7-0005U1-Ux@sfp-svn-4.v30.ch3.sourceforge.com><02e501cab1c3$62f78c50$b53aa8c0@AndrzejW><6E506A6C-6D09-422A-90B6-4C0AB1894392@syenar.hu><004d01cab262$a2062010$b53aa8c0@AndrzejW><D518D403-F647-4CA1-916F-C344FFFD3B10@syenar.hu>
	<20100222192446.GA26179@linux-4bod.home.aster.pl>
Message-ID: <D372649F61577F4AA917D493CA06ECBD018C37A4@btss020a.ww300.siemens.net>

 
Please check curdrive() function. It does not work now.

------------------ MSVC build --------------------------------
c:\harbour.msvc\include;D:\Program Files\Microsoft Visual Studio
9.0\VC\INCLUDE;C:\Program Files\Mic
rosoft SDKs\Windows\v6.0A\include;
hbmk2: Processing environment options: -platform=win
hbmk2: Processing configuration: c:\harbour.msvc\bin\hbmk.cfg
Harbour 2.1.0dev (Rev. 13978)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'D:\MINI_PRG\__HARB~1\MSVC_J~1\aaa.prg'...
Lines 10, Functions/Procedures 1
Generating C source output to 'c:\Temp\aaa.c'... Done.
aaa.c
aaa.obj : error LNK2001: unresolved external symbol _HB_FUN_CURDRIVE
aaa.exe : fatal error LNK1120: 1 unresolved externals
hbmk2: Error: Running linker. 1120
link.exe -nologo -out:aaa.exe c:\Temp\aaa.obj
-libpath:c:\harbour.msvc\lib  -subsystem:console hbext
ern.lib hbdebug.lib hbvm.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib
gtpca.lib gtstd.lib gtwin.li
b gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib
rddcdx.lib rddnsx.lib rddfpt.li
b hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib
hbcommon.lib kernel32.lib user32.lib
 gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib
comdlg32.lib shell32.lib uuid.lib ole32
.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib
wininet.lib hbpcre.lib hbzlib.l
Ib


--------------------- BCC build
--------------------------------------------
hbmk2: Processing environment options: -compiler=bcc
hbmk2: Processing configuration: c:\harbour\bin\hbmk.cfg
Harbour 2.1.0dev (Rev. 13978)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'D:\MINI_PRG\__HARB~1\MSVC_J~1\aaa.prg'...
Lines 10, Functions/Procedures 1
Generating C source output to 'c:\Temp\aaa.c'... Done.
c:\Temp\aaa.c:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external '_HB_FUN_CURDRIVE' referenced from
C:\TEMP\AAA.OBJ
hbmk2: Error: Running linker. 2
ilink32.exe @c:\Temp\yxo9m3.lnk



Thanks 
Jaro
From druzus at users.sourceforge.net  Wed Feb 24 06:22:47 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 24 06:22:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13979] trunk/harbour
Message-ID: <E1NkFKJ-0005hR-5n@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13979
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13979&view=rev
Author:   druzus
Date:     2010-02-24 11:22:45 +0000 (Wed, 24 Feb 2010)

Log Message:
-----------
2010-02-24 12:22 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * updated new contrib libraries

  * harbour/contrib/xhb/regexrpl.prg
    ! fixed hb_RegexReplace() to respect lCaseSensitive and lNewLine flags

  * harbour/src/rtl/filesys.c
    % use in OS2 builds system API functions instead of CRTL ones
      to get/set current drive
    % use in OS2 builds system API function DosQueryCurrentDisk() to
      check if disk drives are available in hb_fsIsDrv() function
    ! use in OS2 builds system API function DosQCurDir() to extract current
      directory. It fixed buffer overflow due to ignored buffer size in
      GCC OS2 builds and makes MT safe getting current directory for non
      current drive.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/contrib/xhb/regexrpl.prg
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 24 06:42:01 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 24 06:42:13 2010
Subject: [Harbour] HB_IO_WIN
Message-ID: <95C1E938-89DC-41FA-A133-51283BBA2EAA@syenar.hu>

Hi All,

Since many years, HB_IO_WIN_OFF doesn't work.
So, I'd like to ask if there is any objection 
to delete this build mode from Harbour?

(HB_IO_WIN mode has been added back then as 
an extra option, but since it has became stable 
(long ago), it's the default mode in Harbour.)

Brgds,
Viktor

From druzus at users.sourceforge.net  Wed Feb 24 06:42:49 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Feb 24 06:42:57 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13980] trunk/harbour
Message-ID: <E1NkFdh-000642-QV@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13980
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13980&view=rev
Author:   druzus
Date:     2010-02-24 11:42:48 +0000 (Wed, 24 Feb 2010)

Log Message:
-----------
2010-02-24 12:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/filesys.c
    ! fixed typo and casting due to wrong OS2 API documentation
    * use DosQueryCurrentDir() instead of DosQCurDir() macro

    TOFIX: Current HVM cannot be compiled by OS2 Watcom

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 24 07:05:55 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 24 07:06:05 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13980] trunk/harbour
In-Reply-To: <E1NkFdh-000642-QV@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NkFdh-000642-QV@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <16E09899-984E-412C-81A9-69A506D11D48@syenar.hu>

Hi,

> Log Message:
> -----------
> 2010-02-24 12:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/rtl/filesys.c
>    ! fixed typo and casting due to wrong OS2 API documentation
>    * use DosQueryCurrentDir() instead of DosQCurDir() macro
> 
>    TOFIX: Current HVM cannot be compiled by OS2 Watcom

Here it builds OK. What is the error?

Brgds,
Viktor

From maurilio.longo at libero.it  Wed Feb 24 08:03:16 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Feb 24 08:03:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13980] trunk/harbour
In-Reply-To: <E1NkFdh-000642-QV@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NkFdh-000642-QV@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <4B852394.7000704@libero.it>

Przemyslaw,

druzus@users.sourceforge.net wrote:
>     * use DosQueryCurrentDir() instead of DosQCurDir() macro

DosQCurDir() is the old 16 bit API. OS/2 was 16bit protect mode in its beginning.

Maurilio.

BTW, I was fixing CurDrive() this morning using _getcwd1(), is this telepathy??

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Wed Feb 24 08:23:56 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 24 08:24:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13980] trunk/harbour
In-Reply-To: <16E09899-984E-412C-81A9-69A506D11D48@syenar.hu>
References: <E1NkFdh-000642-QV@sfp-svn-2.v30.ch3.sourceforge.com>
	<16E09899-984E-412C-81A9-69A506D11D48@syenar.hu>
Message-ID: <20100224132356.GA17210@linux-4bod.home.aster.pl>

On Wed, 24 Feb 2010, Szak?ts Viktor wrote:

Hi,

> > Log Message:
> > -----------
> > 2010-02-24 12:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >  * harbour/src/rtl/filesys.c
> >    ! fixed typo and casting due to wrong OS2 API documentation
> >    * use DosQueryCurrentDir() instead of DosQCurDir() macro
> >    TOFIX: Current HVM cannot be compiled by OS2 Watcom
> Here it builds OK. What is the error?

Enable CPP mode to exploit the problem.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Feb 24 08:34:12 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 24 08:34:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13981] trunk/harbour
Message-ID: <E1NkHNU-0008Cy-5t@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13981
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13981&view=rev
Author:   vszakats
Date:     2010-02-24 13:34:10 +0000 (Wed, 24 Feb 2010)

Log Message:
-----------
2010-02-24 14:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
  * include/hbapigt.h
  * src/rtl/fstemp.c
  * src/rtl/fserr.c
  * src/rtl/filesys.c
  * src/rtl/console.c
  * src/rtl/hbproces.c
    * HB_IO_WIN -> HB_OS_WIN

  * src/rtl/fserr.c
    - Deleted code sections which could only be active
      in 16-bit MS-DOS (MSC and BCC) compilers, or
      never.

  * src/rtl/hbdyn.c
    ! Fixed signedness warning shown by Cygwin.

  * src/rtl/filesys.c
    % Cleaned double inclusion of windows.h.
    ! Fixed for Cygwin. Latest Cygwin allows to enable
      some previously inactivated code sections. Also
      avoiding some new warnings on this target.
    - Deleted code section which is superfluous after
      merging HB_OS_WIN and HB_IO_WIN modes.
    ; TODO: Clean the rest.
    ; TODO: Use native Windows API in the remaining places.

  * include/hbdefs.h
    ! Disabled drive letter for __CYGWIN__.
      Latest version don't define the related
      CRTL functions, so it was giving warnings in
      filesys.c.

  * src/rtl/hbproces.c
    - Deleted code section which was now redundant
      (covering non-HB_IO_WIN && HB_OS_WIN case)

  * contrib/hbwin/win_prn1.c
    * Formatting.

  * src/vm/estack.c
  * src/vm/garbage.c
  * src/vm/fm.c
  * src/vm/thread.c
    + Readded those OS/2 INCL_ macros which were needed
      in C++ mode.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/include/hbapigt.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/src/rtl/console.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/fserr.c
    trunk/harbour/src/rtl/fstemp.c
    trunk/harbour/src/rtl/hbdyn.c
    trunk/harbour/src/rtl/hbproces.c
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Feb 24 10:11:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 24 10:11:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
Message-ID: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13982
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13982&view=rev
Author:   vszakats
Date:     2010-02-24 15:11:45 +0000 (Wed, 24 Feb 2010)

Log Message:
-----------
2010-02-24 16:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/ppcore.c
  * src/compiler/cmdcheck.c
  * src/compiler/hbusage.c
  * include/hbpp.h
  * include/hbsetup.h
    * HB_USER_CFLAGS=-DHB_PP_MULTILINE_STRING feature converted
      to compiler switch '-kl'.
      INCOMPATIBLE. Users needing this feature now can use
      standard Harbour builds by simply adding -kl Harbour
      compiler flag. Old build-time macro is not supported 
      anymore.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbpp.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/compiler/hbusage.c
    trunk/harbour/src/pp/ppcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 24 10:25:29 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 24 10:25:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>

Well, actually I don't know if it's good idea to keep this 
feature at all, it looks very strange and probably it would 
be better to fix such .prg code to comply with Clipper, 
rather than keeping it compatible with pre-1.0.0 Harbour 
beta versions.

[ AFAIK only Lorenzo is using this feature. ]

So if there is no objection, I will mark it as deprecated.

Brgds,
Viktor

On 2010 Feb 24, at 16:11, vszakats@users.sourceforge.net wrote:

> Revision: 13982
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13982&view=rev
> Author:   vszakats
> Date:     2010-02-24 15:11:45 +0000 (Wed, 24 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-24 16:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * src/pp/ppcore.c
>  * src/compiler/cmdcheck.c
>  * src/compiler/hbusage.c
>  * include/hbpp.h
>  * include/hbsetup.h
>    * HB_USER_CFLAGS=-DHB_PP_MULTILINE_STRING feature converted
>      to compiler switch '-kl'.
>      INCOMPATIBLE. Users needing this feature now can use
>      standard Harbour builds by simply adding -kl Harbour
>      compiler flag. Old build-time macro is not supported 
>      anymore.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbpp.h
>    trunk/harbour/include/hbsetup.h
>    trunk/harbour/src/compiler/cmdcheck.c
>    trunk/harbour/src/compiler/hbusage.c
>    trunk/harbour/src/pp/ppcore.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Feb 24 12:04:34 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Feb 24 12:05:02 2010
Subject: [Harbour] Question about Harbour debug
Message-ID: <609353e71002240904t67ca157dq8d00dcf4681a6fad@mail.gmail.com>

Is there anyway to have the Debug running in one window and the main
application in other window?


How much is difficult having a gui debug?


from src\debug\  dbgmenu.prg i see same code that seem gui ready

LOCAL oMenu

 MENU oMenu

MENUITEM " ~File "

MENU

MENUITEM " ~Open..." ACTION oDebugger:Open()

MENUITEM " ~Resume" ACTION oDebugger:Resume()

MENUITEM " O~S Shell" ACTION oDebugger:OSShell()

SEPARATOR

MENUITEM " e~Xit Alt-X " ACTION oDebugger:Quit()

ENDMENU



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100224/df8dc13b/attachment.html
From gvarona at ec-red.com  Wed Feb 24 12:41:42 2010
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Wed Feb 24 12:38:18 2010
Subject: [Harbour] Re: Question about Harbour debug
In-Reply-To: <609353e71002240904t67ca157dq8d00dcf4681a6fad@mail.gmail.com>
References: <609353e71002240904t67ca157dq8d00dcf4681a6fad@mail.gmail.com>
Message-ID: <hm3o57$7ip$1@dough.gmane.org>

[SPA]
Hola Massimo:
Yo s? que es posible, pero no se como lo hacen, lo he visto funcionando 
con QAC (http://www.carozodequilmes.com.ar/) y HMG (los BATs de 
compilaci?n hacen esto), te pego un pantallazo, donde puedes apreciar esto.
El Codigo fuente, proporcionado por CarozoDeQuilmes es:

[ENG]
Hi Massimo:
I know it's possible, but not as they do, I've seen running QAC 
(http://www.carozodequilmes.com.ar/) and HMG (the compilation BATs do 
this), I hit a screenshot, where can appreciate this.
The source code, provided by CarozoDeQuilmes is:

****************************************************
#include "minigui.ch"
REQUEST HB_GT_WIN_DEFAULT

Function Main()
    Local qac := "QAC (Quiero Algo Comodo !!!) Console-Windows Mixed 
Mode Sample"

    DEFINE WINDOW WMain ;
       AT 0, 0 ;
       WIDTH 600 ;
       HEIGHT 480 ;
       TITLE qac ;
       MAIN ;
       NOSHOW
    END WINDOW

    ACTIVATE WINDOW WMain NOWAIT

    ? qac
    ? " "
    ? "Running from "
    ? " "
    ? MiniGuiVersion()
    ? " "
    ? Version()
    ? " "
    ? "1"

    DEFINE WINDOW ExWinMain ;
       AT 0, 0 ;
       WIDTH 600 ;
       HEIGHT 480 ;
       TITLE qac ;
       CHILD ;

       DEFINE LABEL hola
          ROW 0
          COL 0
          VALUE "Running from: "
          AUTOSIZE .T.
       END LABEL

       DEFINE LABEL hola2
          ROW 20
          COL 0
          VALUE MiniGuiVersion()
          AUTOSIZE .T.
       END LABEL

       DEFINE LABEL hola3
          ROW 40
          COL 0
          VALUE Version()
          AUTOSIZE .T.
       END LABEL

    END WINDOW

    CENTER WINDOW ExWinMain

    ACTIVATE WINDOW ExWinMain

    ? Version()
    ? " "
    ? "2"
    inkey(0)

    RELEASE WINDOW WMain

Return .t.

BestRegards
GVS



Massimo Belgrano escribi?:
> Is there anyway to have the Debug running in one window and the main 
> application in other window?
> 
> 
> How much is difficult having a gui debug?
> 
> 
> from src\debug\  dbgmenu.prg i see same code that seem gui ready
> 
> LOCAL oMenu
> 
> MENU oMenu
> 
> MENUITEM " ~File "
> 
> MENU
> 
> MENUITEM " ~Open..." ACTION oDebugger:Open()
> 
> MENUITEM " ~Resume" ACTION oDebugger:Resume()
> 
> MENUITEM " O~S Shell" ACTION oDebugger:OSShell()
> 
> SEPARATOR
> 
> MENUITEM " e~Xit Alt-X " ACTION oDebugger:Quit()
> 
> ENDMENU
> 
> 
> 
> -- 
> Massimo Belgrano
> 
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: moz-screenshot-21.jpg
Type: image/jpeg
Size: 22529 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100224/8df7ba5c/moz-screenshot-21-0001.jpg
From vailtom at gmail.com  Wed Feb 24 12:52:48 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Feb 24 12:53:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com> 
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
Message-ID: <531d7a751002240952m754615dl918b27962c2d399c@mail.gmail.com>

Exactly how this feature Viktor? I could not understand how to use it
if you can illustrate something I will be grateful.

Regards,
Vailton Renato
From lorenzo.fiorini at gmail.com  Wed Feb 24 12:55:08 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 24 12:55:19 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
Message-ID: <9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>

On Wed, Feb 24, 2010 at 4:25 PM, Viktor Szak?ts

> [ AFAIK only Lorenzo is using this feature. ]
>
> So if there is no objection, I will mark it as deprecated.

No problem I can easily stop to update my Harbour tree.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Feb 24 14:03:47 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 24 14:03:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <531d7a751002240952m754615dl918b27962c2d399c@mail.gmail.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
	<531d7a751002240952m754615dl918b27962c2d399c@mail.gmail.com>
Message-ID: <A857F827-E92E-44EE-A480-04DF2F2EA0C7@syenar.hu>

Hi Vailton,

Please don't cut the whole message you're 
replying to, it makes it very difficult to 
figure the context.

Well, I'd prefer not to illustrate it, 
because this feature is kept for compatibility 
with old Harbour versions, and now there are 
better alternatives. I'll commit it ASAP, and 
you will see it.

Brgds,
Viktor

On 2010 Feb 24, at 18:52, Vailton Renato wrote:

> Exactly how this feature Viktor? I could not understand how to use it
> if you can illustrate something I will be grateful.
> 
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Feb 24 14:07:32 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 24 14:07:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13983] trunk/harbour
Message-ID: <E1NkMa4-0000q9-19@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 13983
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13983&view=rev
Author:   vszakats
Date:     2010-02-24 19:07:18 +0000 (Wed, 24 Feb 2010)

Log Message:
-----------
2010-02-24 20:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/ppcore.c
  * src/compiler/cmdcheck.c
  * src/compiler/hbusage.c
  * include/hbpp.h
    + Marked "multiline strings" feature as deprecated,
      with HB_LEGACY_LEVEL3.
      It's recommended to fix such code to be compatible
      with Clipper (and other compatible) languages.
         F.e.:
         ---
            cVar := "line 1;
            line 2;
            line 3"
         ---
         to standard:
         --- F.e.:
            cVar := "line 1" +;
            "line 2" +;
            "line 3"
         ---
         or to another Harbour extension:
         ---
            #pragma __cstream|cVar := %s
            line 1
            line 2
            line 3
            ENDTEXT
         ---
      ('+' operator will be optimized out by the compiler,
      so there won't be any performance drop.)

  * utils/hbmk2/hbmk2.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbpp.h
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/compiler/hbusage.c
    trunk/harbour/src/pp/ppcore.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Feb 24 14:10:06 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 24 14:10:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>
Message-ID: <60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>

Hi Lorenzo,

On 2010 Feb 24, at 18:55, Lorenzo Fiorini wrote:

> On Wed, Feb 24, 2010 at 4:25 PM, Viktor Szak?ts
> 
>> [ AFAIK only Lorenzo is using this feature. ]
>> 
>> So if there is no objection, I will mark it as deprecated.
> 
> No problem I can easily stop to update my Harbour tree.

It would be good to hear from you (as the only known 
user of this feature) what is the benefit of using it, 
f.e. over #pragma __cstream. Maybe there exists better 
solution to keep support for it, than build-time or 
compile-time switch.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Wed Feb 24 15:03:08 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 24 15:03:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>
	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>
Message-ID: <9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>

On Wed, Feb 24, 2010 at 8:10 PM, Viktor Szak?ts

> It would be good to hear from you (as the only known
> user of this feature) what is the benefit of using it,
> f.e. over #pragma __cstream. Maybe there exists better
> solution to keep support for it, than build-time or
> compile-time switch.

For me it is not a compatibility issue but an absolute requirement.
All my code counts on it and will ever do. It would be completely
INSANE to write sql statements without HB_PP_MULTILINE.

This is a small example:

...
cSql := "select ( select substr( crectab, 1, 20 ) as crectab ;
                        from tabtab where ctiptab = '" + ID_TAB_AGENTI + "' ;
                         and ckeytab = ccodage order by 1 ) as cdesage, ;
                         sum( case when ( select substr( crectab, 35,
1 ) from tabtab ;
                                            where ctiptab = '" +
ID_TAB_CODDSP + "' and ckeytab = ccoddsp ) = '' or ;
                                        ( select substr( crectab, 35,
1 ) from tabtab ;
                                            where ctiptab = '" +
ID_TAB_CODDSP + "' and ckeytab = ccoddsp ) is null ;
                                   then nimpdsp ;
                                   else 0 end) as ntotfat0, ;
                         sum( case when ( select substr( crectab, 35,
1 ) from tabtab ;
                                            where ctiptab = '" +
ID_TAB_CODDSP + "' and ckeytab = ccoddsp ) = '1' ;
                                   then nimpdsp ;
                                   else 0 end) as ntotfat1,
sum(nimpdsp) as ntotdsp,;
                         " + cSql + " from tabtotdsp ;
                        left join tabtab on tabtab.ctiptab= '" +
ID_TAB_CODDSP + "' and ccoddsp=tabtab.ckeytab ;
                         where canndoc = '" + cAnnDsp + "'"
...

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Feb 24 15:14:50 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 24 15:15:00 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>
	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>
	<9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
Message-ID: <9E53407A-218A-410D-9F93-96CE14ACF7A1@syenar.hu>

I don't know if it's technically possible, but maybe 
a new kind of string marker would be the best solution 
to cover this case without adding build/compile time 
knobs, plus it could also cover #pragma __cstream, 
which looks VERY hacky, too.

---
cString := t"My long text
  which spans, 
  multiple lines"

cString := t'My long text 
  which contains "" chars, 
  without problem'
---

('t' prefix is tentative, can be anything, which we think fit)

Is this feasible?

Brgds,
Viktor

On 2010 Feb 24, at 21:03, Lorenzo Fiorini wrote:

> On Wed, Feb 24, 2010 at 8:10 PM, Viktor Szak?ts
> 
>> It would be good to hear from you (as the only known
>> user of this feature) what is the benefit of using it,
>> f.e. over #pragma __cstream. Maybe there exists better
>> solution to keep support for it, than build-time or
>> compile-time switch.
> 
> For me it is not a compatibility issue but an absolute requirement.
> All my code counts on it and will ever do. It would be completely
> INSANE to write sql statements without HB_PP_MULTILINE.
> 
> This is a small example:
> 
> ...
> cSql := "select ( select substr( crectab, 1, 20 ) as crectab ;
>                        from tabtab where ctiptab = '" + ID_TAB_AGENTI + "' ;
>                         and ckeytab = ccodage order by 1 ) as cdesage, ;
>                         sum( case when ( select substr( crectab, 35,
> 1 ) from tabtab ;
>                                            where ctiptab = '" +
> ID_TAB_CODDSP + "' and ckeytab = ccoddsp ) = '' or ;
>                                        ( select substr( crectab, 35,
> 1 ) from tabtab ;
>                                            where ctiptab = '" +
> ID_TAB_CODDSP + "' and ckeytab = ccoddsp ) is null ;
>                                   then nimpdsp ;
>                                   else 0 end) as ntotfat0, ;
>                         sum( case when ( select substr( crectab, 35,
> 1 ) from tabtab ;
>                                            where ctiptab = '" +
> ID_TAB_CODDSP + "' and ckeytab = ccoddsp ) = '1' ;
>                                   then nimpdsp ;
>                                   else 0 end) as ntotfat1,
> sum(nimpdsp) as ntotdsp,;
>                         " + cSql + " from tabtotdsp ;
>                        left join tabtab on tabtab.ctiptab= '" +
> ID_TAB_CODDSP + "' and ccoddsp=tabtab.ckeytab ;
>                         where canndoc = '" + cAnnDsp + "'"
> ...
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Wed Feb 24 16:23:58 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Feb 24 16:24:06 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9E53407A-218A-410D-9F93-96CE14ACF7A1@syenar.hu>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>
	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>
	<9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
	<9E53407A-218A-410D-9F93-96CE14ACF7A1@syenar.hu>
Message-ID: <9257026e1002241323j1b602522l12e215ad761b5a4d@mail.gmail.com>

On Wed, Feb 24, 2010 at 9:14 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Is this feasible?

I don't know but please understand that without HB_PP_MULTILINE (
exactly as it was ) Harbour for me is completely useless.

Tomorrow I'll do a meeting with my developers to decide what to do.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Feb 24 16:45:28 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Feb 24 16:45:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9257026e1002241323j1b602522l12e215ad761b5a4d@mail.gmail.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>
	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>
	<9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
	<9E53407A-218A-410D-9F93-96CE14ACF7A1@syenar.hu>
	<9257026e1002241323j1b602522l12e215ad761b5a4d@mail.gmail.com>
Message-ID: <2FE22B7F-8619-4535-A469-FB957ECFDEF6@syenar.hu>

> On Wed, Feb 24, 2010 at 9:14 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> 
>> Is this feasible?
> 
> I don't know but please understand that without HB_PP_MULTILINE (
> exactly as it was ) Harbour for me is completely useless.
> 
> Tomorrow I'll do a meeting with my developers to decide what to do.

For now I moved this on compiler level, which 
makes it possible to use a standard build with 
a simple compiler switch. IOW it makes your life 
easier.

Now it causes only a minor overhead in PP code, 
so technically it's not a big problem, but I'd still 
like have a proper solution here, since storing 
free form string inside the source code seems like 
a valid problem, but the current solution is 
just a pile of ad-hoc hacks, and this is IMO not 
very good situation. (neither -kl nor #pragma).

BTW -kl (aka "PP multiline strings") has one ugly 
bad side-effect, it will also include all indentation 
spaces in compiled pcode, I know that storage and 
memory is cheap, but it doesn't look very good.

The other bit which looks strange is that 
#pragma __cstream needs to be closed with command 
ENDTEXT, I'd expect something like #pragma __cstreamend 
or similar.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Feb 24 17:18:49 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Feb 24 17:19:00 2010
Subject: [Harbour] unicows
Message-ID: <70E89178-DE21-4DD2-9157-A324281441C4@syenar.hu>

Hi All,

I'm trying to make UNICOWS (* this is a Microsoft .dll which 
can make UNICODE applications work on Win95/Win98/WinME) 
work with Harbour, but there are problems.

You can get unicows.dll from here:
   http://go.microsoft.com/fwlink/?LinkId=14851
   (extract with '/c' to avoid installation)

You can get the stub lib for MinGW from here:
   http://prdownloads.sourceforge.net/libunicows/libunicows-1.1.1-mingw32.zip
For bcc here:
   http://prdownloads.sourceforge.net/libunicows/libunicows-1.1.1-bcc32.zip
For other compilers, here:
   http://libunicows.sourceforge.net/

Rebuild Harbour with HB_BUILD_UNICODE=yes, copy stub 
library to Harbour lib dir, add -lunicows to hbmk2 command 
line, and copy unicows.dll next to the test executable.

Problems experienced so far:
  - With bcc, the app runs, but there is visible trash on screen.
  - With bcc, keyboard doesn't seem to work.
  - With mingw, the app just hangs, and only reboot helps.

All this tested on Win98, with this little program:
---
PROCEDURE MAIN()
   ? GetEnv( "COMSPEC" )
   Alert( "HELLO" )
   RETURN
---

Any idea where to start looking?

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Feb 24 17:41:19 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Feb 24 17:41:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13971] trunk/harbour
In-Reply-To: <E1NjupO-0004oJ-I8@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NjupO-0004oJ-I8@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <20100224224119.GA1419@linux-4bod.home.aster.pl>

On Tue, 23 Feb 2010, mauriliolongo@users.sourceforge.net wrote:

Hi,

> 2010-02-23 14:25 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
>    * source/contrib/hbxpp/tthreadx.prg
>      * changed ::start() method to execute ::atStart/::atEnd methods/codeblocks
>        when present.
>      ! ::startCount should be incremented at every execution

Thank you.

>      * changed ::threadID() from method to iVar

Just for information.
Any special reasons for this modification?

>      * ::threadSelf() method moved to HIDDEN section

This one broke ThreadWait() and ThreadWaitAll() functions which now
cannot work with thread objects passed as parameter.

best regards,
Przemek
From maurilio.longo at libero.it  Wed Feb 24 17:48:28 2010
From: maurilio.longo at libero.it (maurilio longo)
Date: Wed Feb 24 17:48:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13971] trunk/harbour
Message-ID: <KYDBCS$3E56C715A8E33A404BDE812B5E9A06FE@libero.it>

Przemyslaw,

> Just for information.
> Any special reasons for this modification?
> 
xpp doc says it's an iVar

> >      * ::threadSelf() method moved to HIDDEN section
> 
> This one broke ThreadWait() and ThreadWaitAll() functions which now
> cannot work with thread objects passed as parameter.

I'm sorry, I'll revert this change tomorrow morning, I've made it because xpp thread class does not have a threadSelf() method.

Best regards.

Maurilio.


From zen25000 at zen.co.uk  Wed Feb 24 18:12:21 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Feb 24 18:12:29 2010
Subject: [Harbour] harbour-static missing from rpm build ?
Message-ID: <4B85B255.1000005@zen.co.uk>

I just built rpms from current SVN with make_rpm.sh and harbour-static 
is not created. I have:-

harbour-2.1.0-devmdv20100
harbour-cairo-2.1.0-devmdv20100
harbour-contrib-2.1.0-devmdv20100
harbour-curl-2.1.0-devmdv20100
harbour-debug-2.1.0-devmdv20100
harbour-firebird-2.1.0-devmdv20100
harbour-gd-2.1.0-devmdv20100
harbour-lib-2.1.0-devmdv20100
harbour-qt-2.1.0-devmdv20100

Is this correct?

Rgds,
Barry
From jarabal at gmail.com  Wed Feb 24 19:42:19 2010
From: jarabal at gmail.com (Xavi)
Date: Wed Feb 24 19:43:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>
	<9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
Message-ID: <4B85C76B.4090304@gmail.com>

Lorenzo,

Try this, if may help you .-

Procedure Main()
    Local ID_TAB_AGENTI := "TAB_AGENTI"
    Local ID_TAB_CODDSP := "TAB_AGENTI"
    Local cSql          := "select 'Hello' as fld"
    Local cAnnDsp       := "2000"
    Local cFrmSQL

#pragma __cstream|cFrmSQL:=%s

select ( select substr( crectab, 1, 20 ) as crectab
    from tabtab where ctiptab = %1$t
    and ckeytab = ccodage order by 1 ) as cdesage, ;
    sum( case when ( select substr( crectab, 35, 1 ) from tabtab
    where ctiptab = %2$t and ckeytab = ccoddsp ) = '' or
    ( select substr( crectab, 35, 1 ) from tabtab
    where ctiptab = %2$t and ckeytab = ccoddsp ) is null
    then nimpdsp
    else 0 end) as ntotfat0,
    sum( case when ( select substr( crectab, 35,1 ) from tabtab
    where ctiptab = %2$t and ckeytab = ccoddsp ) = '1'
    then nimpdsp
    else 0 end) as ntotfat1,sum(nimpdsp) as ntotdsp,
    %3$s from tabtotdsp
    left join tabtab on tabtab.ctiptab= %2$t and ccoddsp=tabtab.ckeytab
    where canndoc = %4$t

#pragma __endtext

    ? sql_Sprintf( cFrmSQL, ID_TAB_AGENTI, ID_TAB_CODDSP, cSql, cAnnDsp )

    Wait
return

It seems to me that does the same and more.

HTH
-- 
Xavi

El 24/02/2010 21:03, Lorenzo Fiorini escribi?:
> On Wed, Feb 24, 2010 at 8:10 PM, Viktor Szak?ts
>
>> It would be good to hear from you (as the only known
>> user of this feature) what is the benefit of using it,
>> f.e. over #pragma __cstream. Maybe there exists better
>> solution to keep support for it, than build-time or
>> compile-time switch.
>
> For me it is not a compatibility issue but an absolute requirement.
> All my code counts on it and will ever do. It would be completely
> INSANE to write sql statements without HB_PP_MULTILINE.
>
> This is a small example:
>
> ...
> cSql := "select ( select substr( crectab, 1, 20 ) as crectab ;
>                          from tabtab where ctiptab = '" + ID_TAB_AGENTI + "' ;
>                           and ckeytab = ccodage order by 1 ) as cdesage, ;
>                           sum( case when ( select substr( crectab, 35,
> 1 ) from tabtab ;
>                                              where ctiptab = '" +
> ID_TAB_CODDSP + "' and ckeytab = ccoddsp ) = '' or ;
>                                          ( select substr( crectab, 35,
> 1 ) from tabtab ;
>                                              where ctiptab = '" +
> ID_TAB_CODDSP + "' and ckeytab = ccoddsp ) is null ;
>                                     then nimpdsp ;
>                                     else 0 end) as ntotfat0, ;
>                           sum( case when ( select substr( crectab, 35,
> 1 ) from tabtab ;
>                                              where ctiptab = '" +
> ID_TAB_CODDSP + "' and ckeytab = ccoddsp ) = '1' ;
>                                     then nimpdsp ;
>                                     else 0 end) as ntotfat1,
> sum(nimpdsp) as ntotdsp,;
>                           " + cSql + " from tabtotdsp ;
>                          left join tabtab on tabtab.ctiptab= '" +
> ID_TAB_CODDSP + "' and ccoddsp=tabtab.ckeytab ;
>                           where canndoc = '" + cAnnDsp + "'"
> ...
>
> best regards,
> Lorenzo
From vszakats at users.sourceforge.net  Wed Feb 24 19:53:17 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Feb 24 19:53:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13984] trunk/harbour
Message-ID: <E1NkRyf-0004OF-8l@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13984
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13984&view=rev
Author:   vszakats
Date:     2010-02-25 00:53:15 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 01:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/global.mk
  * config/win/global.mk
  * config/win/msvc.mk
  * config/rules.mk
  * INSTALL
    * UNICODE mode turned on for all Windows compilers.
      To override it, use: 'HB_BUILD_UNICODE=no'
    % Cleaned the way UNICODE is enabled.

  * src/common/hbfsapi.c
  * src/rtl/gtstd/gtstd.c
  * src/rtl/gtpca/gtpca.c
    ! HB_IO_WIN -> HB_OS_WIN.
      (missed from previous commit)

  * utils/hbmk2/hbmk2.prg
    * ENDTEXT -> #pragma __endtext
      (Thanks for the hint, Xavi)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/rules.mk
    trunk/harbour/config/wce/global.mk
    trunk/harbour/config/win/global.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/src/common/hbfsapi.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtstd/gtstd.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Wed Feb 24 20:12:17 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 24 20:12:24 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13985] trunk/harbour
Message-ID: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13985
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13985&view=rev
Author:   vouchcac
Date:     2010-02-25 01:12:15 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-24 16:46 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)

  * contrib/hbide/resources/docviewgenerator.ui
  * contrib/hbide/resources/docviewgenerator.uic
  * contrib/hbide/resources/environments.ui
  * contrib/hbide/resources/environments.uic
  * contrib/hbide/resources/finddialog.uic
  * contrib/hbide/resources/findinfiles.uic
  * contrib/hbide/resources/findinfilesex.ui
  * contrib/hbide/resources/findinfilesex.uic
  * contrib/hbide/resources/findsource.uic
  * contrib/hbide/resources/mainwindow.uic
  * contrib/hbide/resources/projectproperties.uic
  * contrib/hbide/resources/projectpropertiesex.ui
  * contrib/hbide/resources/projectpropertiesex.uic
  * contrib/hbide/resources/searchreplace.ui
  * contrib/hbide/resources/searchreplace.uic
  * contrib/hbide/resources/searchreplacepanel.ui
  * contrib/hbide/resources/searchreplacepanel.uic
  * contrib/hbide/resources/selectionlist.uic
  * contrib/hbide/resources/selectproject.uic
  * contrib/hbide/resources/skeletons.ui
  * contrib/hbide/resources/skeletons.uic
  * contrib/hbide/resources/themes.uic
  * contrib/hbide/resources/themesex.ui
  * contrib/hbide/resources/themesex.uic
    ! A thourough uniform naming protocol adapted.

  + contrib/hbide/resources/harbourhelp.png
  + contrib/hbide/resources/projectstree.png
  + contrib/hbide/resources/richtext.png
  + contrib/hbide/resources/syntaxhiliter.png
  + contrib/hbide/resources/tabs.png
  * contrib/hbide/resources/blockcomment.png
  + contrib/hbide/resources/codeskeletons.png
  * contrib/hbide/resources/dc_function.png
    + Added more images.

  * contrib/hbqt/hbqt_hbslots.cpp
  * contrib/hbqt/hbqt_hbslots.h
    + Added slots for QDockWidget().

  * contrib/hbqt/THbQtUI.prg	
    ! Refined destructor.

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/idefindreplace.prg
  * contrib/hbide/ideharbourhelp.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/ideprojmanager.prg
  * contrib/hbide/idesaveload.prg
  * contrib/hbide/idethemes.prg
 
    + This commit is mainly uplifts and rationlizes the menus,
      toolbars, and docking widgets plus a big consideration of 
      parent child relationship is achieved.

    * Implemented: right-side toolbar which contains the toggle
      icons for docking widgets. The same functionality is available
      also in <Docks> main-menu option.

    * Menu options are reworked and all actions pertaining to docking
      widgets are removed from there. The same is applied to 
      top-toolbar also. All actions pertaining to block operations 
      are cornered at the left-side toolbar. Thus menus, toolbars are 
      in perfect synchronization.

    * Harbour-help is now loaded on demand. Only when help icon is 
      toggled on the right-toolbar.

    * hbIDE icon is changed as I committed before. No one forwarded
      his opinions, so I assume it is appropriate image.

    ; NOTE: This commit now presents hbIDE to the external world 
      with almost-profession look and feel, so we can spread the word.

    ; This commit is with heavy changes so regression is possible.
      Please speak-out if you find something weired.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/ideprojmanager.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbide/resources/blockcomment.png
    trunk/harbour/contrib/hbide/resources/dc_function.png
    trunk/harbour/contrib/hbide/resources/docviewgenerator.ui
    trunk/harbour/contrib/hbide/resources/docviewgenerator.uic
    trunk/harbour/contrib/hbide/resources/environments.ui
    trunk/harbour/contrib/hbide/resources/environments.uic
    trunk/harbour/contrib/hbide/resources/finddialog.uic
    trunk/harbour/contrib/hbide/resources/findinfiles.uic
    trunk/harbour/contrib/hbide/resources/findinfilesex.ui
    trunk/harbour/contrib/hbide/resources/findinfilesex.uic
    trunk/harbour/contrib/hbide/resources/findsource.uic
    trunk/harbour/contrib/hbide/resources/mainwindow.uic
    trunk/harbour/contrib/hbide/resources/projectproperties.uic
    trunk/harbour/contrib/hbide/resources/projectpropertiesex.ui
    trunk/harbour/contrib/hbide/resources/projectpropertiesex.uic
    trunk/harbour/contrib/hbide/resources/searchreplace.ui
    trunk/harbour/contrib/hbide/resources/searchreplace.uic
    trunk/harbour/contrib/hbide/resources/searchreplacepanel.ui
    trunk/harbour/contrib/hbide/resources/searchreplacepanel.uic
    trunk/harbour/contrib/hbide/resources/selectionlist.uic
    trunk/harbour/contrib/hbide/resources/selectproject.uic
    trunk/harbour/contrib/hbide/resources/skeletons.ui
    trunk/harbour/contrib/hbide/resources/skeletons.uic
    trunk/harbour/contrib/hbide/resources/themes.uic
    trunk/harbour/contrib/hbide/resources/themesex.ui
    trunk/harbour/contrib/hbide/resources/themesex.uic
    trunk/harbour/contrib/hbqt/THbQtUI.prg
    trunk/harbour/contrib/hbqt/hbqt_hbslots.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbslots.h

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/codeskeletons.png
    trunk/harbour/contrib/hbide/resources/harbourhelp.png
    trunk/harbour/contrib/hbide/resources/projectstree.png
    trunk/harbour/contrib/hbide/resources/richtext.png
    trunk/harbour/contrib/hbide/resources/syntaxhiliter.png
    trunk/harbour/contrib/hbide/resources/tabs.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Wed Feb 24 20:38:39 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Feb 24 20:38:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13986] trunk/harbour
Message-ID: <E1NkSgZ-0005GM-6N@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13986
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13986&view=rev
Author:   vouchcac
Date:     2010-02-25 01:38:33 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------

2010-02-24 17:40 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qtgui/QWidget.cpp
  * contrib/hbqt/qtgui/TQWidget.prg
  * contrib/hbqt/qth/QWidget.qth
    + Enabled :setSizePolicy( QSizePolicy ).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
    trunk/harbour/contrib/hbqt/qth/QWidget.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From amigosam at adinet.com.uy  Wed Feb 24 21:15:26 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Wed Feb 24 21:15:41 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <4B85C76B.4090304@gmail.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>	<9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
	<4B85C76B.4090304@gmail.com>
Message-ID: <hm4mfl$g5d$1@dough.gmane.org>

In xbase++ It would be written

Procedure Main()
    Local ID_TAB_AGENTI := "TAB_AGENTI"
    Local ID_TAB_CODDSP := "TAB_AGENTI"
    Local cSql          := "select 'Hello' as fld"
    Local cAnnDsp       := "2000"
    Local cFrmSQL

TEXT INTO cFrmSQL

select ( select substr( crectab, 1, 20 ) as crectab
    from tabtab where ctiptab = %1$t
    and ckeytab = ccodage order by 1 ) as cdesage, ;
    sum( case when ( select substr( crectab, 35, 1 ) from tabtab
    where ctiptab = %2$t and ckeytab = ccoddsp ) = '' or
    ( select substr( crectab, 35, 1 ) from tabtab
    where ctiptab = %2$t and ckeytab = ccoddsp ) is null
    then nimpdsp
    else 0 end) as ntotfat0,
    sum( case when ( select substr( crectab, 35,1 ) from tabtab
    where ctiptab = %2$t and ckeytab = ccoddsp ) = '1'
    then nimpdsp
    else 0 end) as ntotfat1,sum(nimpdsp) as ntotdsp,
    %3$s from tabtotdsp
    left join tabtab on tabtab.ctiptab= %2$t and ccoddsp=tabtab.ckeytab
    where canndoc = %4$t

END TEXT

    ? sql_Sprintf( cFrmSQL, ID_TAB_AGENTI, ID_TAB_CODDSP, cSql, cAnnDsp )

    Wait
return

Very usefull for long embebed SQL commands
Xavi's suggestion copuld be easily translated to that command

HTH
Angel

From ssbbstw at pchome.com.tw  Wed Feb 24 22:34:05 2010
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Wed Feb 24 22:34:18 2010
Subject: [Harbour] Question: about source code(.prg) and unicode
Message-ID: <20100225112832.477E.84A669A0@mail.zzz.com.tw>

Hi Harbour-project!!

  I have a question to ask.
  
  Do you have plans to support unicode of the original code(.prg)?
  Now, harbour can compiler .prg of utf8.
From lorenzo.fiorini at gmail.com  Thu Feb 25 00:36:05 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 25 00:36:14 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <hm4mfl$g5d$1@dough.gmane.org>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>
	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>
	<9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
	<4B85C76B.4090304@gmail.com> <hm4mfl$g5d$1@dough.gmane.org>
Message-ID: <9257026e1002242136i681fe044n2474c844ebbdf00b@mail.gmail.com>

On Thu, Feb 25, 2010 at 3:15 AM, Angel Pais <amigosam@adinet.com.uy> wrote:

> ? ? sql_Sprintf( cFrmSQL, ID_TAB_AGENTI, ID_TAB_CODDSP, cSql, cAnnDsp )

> Very usefull for long embebed SQL commands
> Xavi's suggestion copuld be easily translated to that command

Xavi, Angel are you really asking me to rewrite all the code that I've
done in the last 5 or so?

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Thu Feb 25 00:50:29 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 25 00:50:37 2010
Subject: [Harbour] Przemyslaw,
	I need to know your position about HB_PP_MULTILINE support
Message-ID: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>

For me is extremely important, because it makes next Harbour useless for me.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Thu Feb 25 00:53:51 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 25 00:53:59 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9257026e1002242136i681fe044n2474c844ebbdf00b@mail.gmail.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>
	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>
	<9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
	<4B85C76B.4090304@gmail.com> <hm4mfl$g5d$1@dough.gmane.org>
	<9257026e1002242136i681fe044n2474c844ebbdf00b@mail.gmail.com>
Message-ID: <9257026e1002242153t1b3b6fd8je6c33f00795ee20@mail.gmail.com>

On Thu, Feb 25, 2010 at 6:36 AM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> done in the last 5 or so?

years :)

best regards,
Lorenzo
From adam_l at poczta.onet.pl  Thu Feb 25 01:23:48 2010
From: adam_l at poczta.onet.pl (Adam Lubszczyk)
Date: Thu Feb 25 01:23:55 2010
Subject: [Harbour] how to link all the funcions of a lib?
In-Reply-To: <1CB3030DAA0049EFAC410AFE3C266C34@INFOR04>
References: <1CB3030DAA0049EFAC410AFE3C266C34@INFOR04>
Message-ID: <27714358.post@talk.nabble.com>


Hi!

David MS wrote:
> 
> Hi,
> 
> Is there any way to statically link all the functions of a library, even
> if 
> these functions are not declared / used in the main program?
> 
> In this moment I've a .CH with all functions that I need declarated with 
> EXTERNAL. I don't  know if this is the best way.
> 
> 
> 
> TIA
> David Montano. 
> 
> _______________________________________________
> 

try

#include "hbextern.ch"

Adam
-- 
View this message in context: http://old.nabble.com/how-to-link-all-the-funcions-of-a-lib--tp27703089p27714358.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From niki at synel.co.il  Thu Feb 25 01:24:03 2010
From: niki at synel.co.il (Chen Kedem)
Date: Thu Feb 25 01:24:13 2010
Subject: [Harbour] unicows
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D90CF8C78@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> I'm trying to make UNICOWS (* this is a Microsoft .dll which
> can make UNICODE applications work on Win95/Win98/WinME)
> work with Harbour, but there are problems.

I was thinking this DLL is a plug-in for the OS to add support for some
UNICODE functionality.

Used it in the past on a crappy Windows Millennium, it add missing API
(so newer programs can load) but the results are some times emulated and
not everything is supported.

Wasn't the whole point that it should be transparent for the application?


  Chen.
From sscc at mweb.co.za  Thu Feb 25 01:36:20 2010
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Feb 25 01:36:32 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9257026e1002242153t1b3b6fd8je6c33f00795ee20@mail.gmail.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>	<9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>	<4B85C76B.4090304@gmail.com>
	<hm4mfl$g5d$1@dough.gmane.org>	<9257026e1002242136i681fe044n2474c844ebbdf00b@mail.gmail.com>
	<9257026e1002242153t1b3b6fd8je6c33f00795ee20@mail.gmail.com>
Message-ID: <4B861A64.9060805@mweb.co.za>

Lorenzo Fiorini wrote:
> On Thu, Feb 25, 2010 at 6:36 AM, Lorenzo Fiorini
> <lorenzo.fiorini@gmail.com>  wrote:
>
>> done in the last 5 or so?
>
> years :)
>

Why does the -kl option not work for you?

Regards
Alex

From druzus at users.sourceforge.net  Thu Feb 25 02:40:48 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb 25 02:40:55 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13987] trunk/harbour
Message-ID: <E1NkYL2-0007Gk-I7@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13987
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13987&view=rev
Author:   druzus
Date:     2010-02-25 07:40:37 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 08:40 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvm.c
    + added internal PRG function __QUITCANCEL()

  * harbour/contrib/hbxpp/Makefile
  + harbour/contrib/hbxpp/sleepx.prg
    + added xbase++ compatible prg function SLEEP( <nHSeconds> ) -> NIL

  * harbour/contrib/hbxpp/tthreadx.prg
    ! renamed TTHREAD class to THREAD and TSIGNAL to SIGNAL - I had to
      wrongly understood xbase++ documentation sent to the least.
    ! made THREAD:threadSelf() method exported
    + added full support for THREAD:QUIT( [<xResult>] [,<nRestart>] )
    ! initialize THREAD:startCount and ThreadObject() value before executing
      THREAD:atStart[()] method and codeblock
    % simplified emulation of xbase++ like behavior of THREAD:atStart[()]
      and THREAD:atEnd[()], in such context it's not necessary to use
      __ClsMsgType()
    % simplified THREAD:execute() method calling
    + added proper THREAD:deltaTime setting
    ! do not use THREAD:startTime to store thread start time
    ! fixed thread restarting when THREAD:interval is set to use
      calculated THREAD:deltaTime instead of fixed delay defined
      by THREAD:interval

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/Makefile
    trunk/harbour/contrib/hbxpp/tthreadx.prg
    trunk/harbour/src/vm/hvm.c

Added Paths:
-----------
    trunk/harbour/contrib/hbxpp/sleepx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Thu Feb 25 02:55:45 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 25 02:55:56 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13987] trunk/harbour
In-Reply-To: <E1NkYL2-0007Gk-I7@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NkYL2-0007Gk-I7@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <4B862D01.8010408@libero.it>

Thanks a lot Przemyslaw.

Maurilio.

druzus@users.sourceforge.net wrote:
> Revision: 13987
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13987&view=rev
> Author:   druzus
> Date:     2010-02-25 07:40:37 +0000 (Thu, 25 Feb 2010)
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From marcobra.ubuntu at gmail.com  Thu Feb 25 03:21:30 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Feb 25 03:21:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>

2010/2/25 <vouchcac@users.sourceforge.net>

> Revision: 13985
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13985&view=rev
> Author:   vouchcac
> Date:     2010-02-25 01:12:15 +0000 (Thu, 25 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-24 16:46 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>
>    + This commit is mainly uplifts and rationlizes the menus,
>      toolbars, and docking widgets plus a big consideration of
>      parent child relationship is achieved.
>
>    * Implemented: right-side toolbar which contains the toggle
>      icons for docking widgets. The same functionality is available
>      also in <Docks> main-menu option.
>
>    * Menu options are reworked and all actions pertaining to docking
>      widgets are removed from there. The same is applied to
>      top-toolbar also. All actions pertaining to block operations
>      are cornered at the left-side toolbar. Thus menus, toolbars are
>      in perfect synchronization.
>
>    * Harbour-help is now loaded on demand. Only when help icon is
>      toggled on the right-toolbar.
>
>    * hbIDE icon is changed as I committed before. No one forwarded
>      his opinions, so I assume it is appropriate image.
>

   ; NOTE: This commit now presents hbIDE to the external world
>      with almost-profession look and feel, so we can spread the word.
>
>    ; This commit is with heavy changes so regression is possible.
>      Please speak-out if you find something weired.
>
> On Ubuntu 9.10 32 bits hbide recompiled with "hbmk2 hbide.hbc -rebuild"
deleted the hbide.ini file

At startup of hbide i get:

1) two info dialogs before main interface is showed

:SETSIZEPOLICY_1
Message not found -
IDEDOCKS:BUILDPROJECTTREE:644

2) :SETSIZEPOLICY_1
Message not found -
IDEDOCKS:BUILDPROJECTTREE:694

-- Choosing/Setting a theme from menu Setup ? Set default theme:

Unrecoverable error 6005: Exception SIGSEGV at address 0x29
Called from IDETHEMES:SELECTTHEME(616) in idethemes.prg
Called from IDETHEMES:SETWRKTHEME(226) in idethemes.prg
Called from (b)IDEACTIONS_BUILDMAINMENU(575) in ideactions.prg
Called from XBPMENU:EXEBLOCK(0) in ../../../xbpmenubar.prg
Called from (b)XBPMENUBAR_PLACEITEM(0) in ../../../xbpmenubar.prg
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
Called from APPEVENT(0) in ../../../xbpgeneric.prg
Called from HBIDE:CREATE(418) in hbide.prg
Called from MAIN(110) in hbide.prg


-- Can't setup (might be some path trouble, where are the path settings
now...? ) the Harbour doc in Linux

Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/f85a8a7c/attachment-0001.html
From druzus at acn.waw.pl  Thu Feb 25 03:30:49 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 25 03:30:58 2010
Subject: [Harbour] Przemyslaw, I need to know your position about
	HB_PP_MULTILINE support
In-Reply-To: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
Message-ID: <20100225083049.GA30088@linux-4bod.home.aster.pl>

On Thu, 25 Feb 2010, Lorenzo Fiorini wrote:

Hi,

> For me is extremely important, because it makes next Harbour useless for me.

In this particular case I do not see any reason that we have to remove
such functionality. For me -kl compiler switch is quite nice solution
which should not be covered by HB_LEGACY_LEVEL3 macro and marked to
removed in the future.
Anyhow if we do not want to officially support it then I think that
recent modifications should be reverted and old compile time macro
restored.
I can understand that we are removing some code/functionality when
we have very serious reasons for it, i.e. extension has some bad side
effects, it's hard to update/keep alive and consumes too much developer
time or blocks some other much more important modifications. In such
case we can only say sorry and try to explain the reasons of our
decision. It's not good and to eliminate such situations all core
modifications have to be really well thought.
Anyhow in this case it's small local modifications which does not
interact with any other code so it does not creates real problems.

In general I think that we have to seriously rethink few things.
IMO unconditional using HB_* prefix and moving all functions which
haven't existed in Clipper to different contrib libraries begins
to be "art of the art" and in real life serious problem for users.
There are functions commonly used in different xbase dialects like
PVALUE() and now we shall have PVALUE() implementation inside
XHB, HBFSHIP, HBCLIP (BTW it's missing and some of functions covered
by XPP or FSHIP macros also belongs to CLIP), HBXPP and maybe few
others in the future. I tried but cannot imagine how it can help
users.
Tonight I read XBASE++ documentation. They created interesting
set of db*() functions. It looks like quite well thought solution.
For a while I thought about creating something like for Harbour but
when I imagined the mixed set of new HB_*() which I will have to
create with original Clipper ones then I drop this idea.
Each time I see:
   ISNUMBER() and HB_ISPOINTER()
I think how we can explain above naming convention for users who
never used Clipper and for sure do not plan to learn all it's
functions and macros.
Keeping the namespace clean is very important and for sure I'm
the last person who will vote to remove HB_ prefix from most
of core functions.
Anyhow IMO over some reasonable limit adding HB_ prefix to each
identifier which was not used in Clipper we begin to create Clipper
museum instead of modern language.

Fortunately we have SWITCH and FOR EACH statements instead of
HB_SWITCH and HB_FOR EACH ;-)

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Thu Feb 25 03:56:11 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 25 03:56:18 2010
Subject: [Harbour] Przemyslaw, I need to know your position about 
	HB_PP_MULTILINE support
In-Reply-To: <20100225083049.GA30088@linux-4bod.home.aster.pl>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
	<20100225083049.GA30088@linux-4bod.home.aster.pl>
Message-ID: <9257026e1002250056j6d52835aya7dcc2a7c71ab127@mail.gmail.com>

2010/2/25 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> In this particular case I do not see any reason that we have to remove
> such functionality. For me -kl compiler switch is quite nice solution
> which should not be covered by HB_LEGACY_LEVEL3 macro and marked to
> removed in the future.
> Anyhow if we do not want to officially support it then I think that
> recent modifications should be reverted and old compile time macro
> restored.

Many thanks.

> In general I think that we have to seriously rethink few things.
> ...
> Anyhow IMO over some reasonable limit adding HB_ prefix to each
> identifier which was not used in Clipper we begin to create Clipper
> museum instead of modern language.
>
> Fortunately we have SWITCH and FOR EACH statements instead of
> HB_SWITCH and HB_FOR EACH ;-)

I couldn't say it better.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Feb 25 04:06:57 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 04:07:07 2010
Subject: [Harbour] unicows
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D90CF8C78@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D90CF8C78@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <78410032-B487-422A-908D-35617EBDE60E@syenar.hu>

Hi Chen,

On 2010 Feb 25, at 07:24, Chen Kedem wrote:

> Viktor,
> 
>> I'm trying to make UNICOWS (* this is a Microsoft .dll which
>> can make UNICODE applications work on Win95/Win98/WinME)
>> work with Harbour, but there are problems.
> 
> I was thinking this DLL is a plug-in for the OS to add support for some
> UNICODE functionality.
> 
> Used it in the past on a crappy Windows Millennium, it add missing API
> (so newer programs can load) but the results are some times emulated and
> not everything is supported.

Of course it doesn't make the whole OS UNICODE, 
it only adds a (transparent) layer of *W() 
functions which make the conversion and pass the 
call to *A() functions.

> Wasn't the whole point that it should be transparent for the application?

It's supposed to be transparent. Well, it depends 
on what you mean by "transparent" here. It doesn't 
need any code change in source code, all you have 
to do is link one static library.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Feb 25 04:10:34 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 04:10:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13987] trunk/harbour
In-Reply-To: <E1NkYL2-0007Gk-I7@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NkYL2-0007Gk-I7@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <75FF075E-79CE-40C4-8D25-329D1A4035CA@syenar.hu>

Hi Przemek,

>  * harbour/contrib/hbxpp/Makefile
>  + harbour/contrib/hbxpp/sleepx.prg
>    + added xbase++ compatible prg function SLEEP( <nHSeconds> ) -> NIL

It was already there in idlex.c, written 
in .c, by the name of XPP_SLEEP(). Maybe 
it's enough to just rename it to SLEEP() now.

(though the name may collide with SLEEP() 
on other Clipper implementation, like 
FlagShip, CLIP, which may work a little 
differently, hence the XPP_ prefix and 
the translation in hbxpp.ch)

Brgds,
Viktor

From marcobra.ubuntu at gmail.com  Thu Feb 25 04:15:29 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Feb 25 04:15:37 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
Message-ID: <fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>

2010/2/25 marco bra <marcobra.ubuntu@gmail.com>

>
>
> 2010/2/25 <vouchcac@users.sourceforge.net>
>
>> Revision: 13985
>>
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13985&view=rev
>> Author:   vouchcac
>> Date:     2010-02-25 01:12:15 +0000 (Thu, 25 Feb 2010)
>>
>> Log Message:
>> -----------
>> 2010-02-24 16:46 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>>
>>    + This commit is mainly uplifts and rationlizes the menus,
>>      toolbars, and docking widgets plus a big consideration of
>>      parent child relationship is achieved.
>>
>>    * Implemented: right-side toolbar which contains the toggle
>>      icons for docking widgets. The same functionality is available
>>      also in <Docks> main-menu option.
>>
>>    * Menu options are reworked and all actions pertaining to docking
>>      widgets are removed from there. The same is applied to
>>      top-toolbar also. All actions pertaining to block operations
>>      are cornered at the left-side toolbar. Thus menus, toolbars are
>>      in perfect synchronization.
>>
>>    * Harbour-help is now loaded on demand. Only when help icon is
>>      toggled on the right-toolbar.
>>
>>    * hbIDE icon is changed as I committed before. No one forwarded
>>      his opinions, so I assume it is appropriate image.
>>
>
>    ; NOTE: This commit now presents hbIDE to the external world
>>      with almost-profession look and feel, so we can spread the word.
>>
>>    ; This commit is with heavy changes so regression is possible.
>>      Please speak-out if you find something weired.
>>
>>
Please ignore previous report:

On Ubuntu 9.10 32 bits hbide recompiled with "hbmk2 hbide.hbp -rebuild"
deleted the hbide.ini file

a full recompile of Harbour after svn. Rev. 13987 make startup message
dialog to disappear

Still issue on:
- Crash on choosing Default Theme

Unrecoverable error 6005: Exception SIGSEGV at address 0x29
Called from IDETHEMES:SELECTTHEME(616) in idethemes.prg
Called from IDETHEMES:SETWRKTHEME(226) in idethemes.prg
Called from (b)IDEACTIONS_BUILDMAINMENU(575) in ideactions.prg
Called from XBPMENU:EXEBLOCK(0) in ../../../xbpmenubar.prg
Called from (b)XBPMENUBAR_PLACEITEM(0) in ../../../xbpmenubar.prg
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
Called from APPEVENT(0) in ../../../xbpgeneric.prg
Called from HBIDE:CREATE(418) in hbide.prg
Called from MAIN(110) in hbide.prg


- Harbour Documentation: the path of Document Viewer load/refresh only after
a full hbide restart and i must set the doc path and not the harbour src
install path to get doc loaded (at restart).

Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/7ef8ee4c/attachment.html
From harbour.01 at syenar.hu  Thu Feb 25 04:18:40 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 04:18:49 2010
Subject: [Harbour] Przemyslaw,
	I need to know your position about HB_PP_MULTILINE support
In-Reply-To: <20100225083049.GA30088@linux-4bod.home.aster.pl>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
	<20100225083049.GA30088@linux-4bod.home.aster.pl>
Message-ID: <127260B8-B487-428A-8135-B8E8B730DBDB@syenar.hu>

I can't see why adding -lhbxpp poses a serious limitation 
for users.

For me it's rather interesting to see that we maintain any 
feature in central SVN which bends basic functionality for 
the sake of ONE user. It's well known since years, that it's 
a non supported feature. Same with hbmk, I'm keeping it just for 
the sake of Lorenzo (yet). It simply blocks the path forward, 
and this is unacceptable IMO. The code is free, so if someone 
tries to keep strange (or non-strange) local features, it can 
and should be done locally. They need special build anyway, and 
it's not about "I won't update the SVN anymore".

Brgds,
Viktor

On 2010 Feb 25, at 09:30, Przemys?aw Czerpak wrote:

> On Thu, 25 Feb 2010, Lorenzo Fiorini wrote:
> 
> Hi,
> 
>> For me is extremely important, because it makes next Harbour useless for me.
> 
> In this particular case I do not see any reason that we have to remove
> such functionality. For me -kl compiler switch is quite nice solution
> which should not be covered by HB_LEGACY_LEVEL3 macro and marked to
> removed in the future.
> Anyhow if we do not want to officially support it then I think that
> recent modifications should be reverted and old compile time macro
> restored.
> I can understand that we are removing some code/functionality when
> we have very serious reasons for it, i.e. extension has some bad side
> effects, it's hard to update/keep alive and consumes too much developer
> time or blocks some other much more important modifications. In such
> case we can only say sorry and try to explain the reasons of our
> decision. It's not good and to eliminate such situations all core
> modifications have to be really well thought.
> Anyhow in this case it's small local modifications which does not
> interact with any other code so it does not creates real problems.
> 
> In general I think that we have to seriously rethink few things.
> IMO unconditional using HB_* prefix and moving all functions which
> haven't existed in Clipper to different contrib libraries begins
> to be "art of the art" and in real life serious problem for users.
> There are functions commonly used in different xbase dialects like
> PVALUE() and now we shall have PVALUE() implementation inside
> XHB, HBFSHIP, HBCLIP (BTW it's missing and some of functions covered
> by XPP or FSHIP macros also belongs to CLIP), HBXPP and maybe few
> others in the future. I tried but cannot imagine how it can help
> users.
> Tonight I read XBASE++ documentation. They created interesting
> set of db*() functions. It looks like quite well thought solution.
> For a while I thought about creating something like for Harbour but
> when I imagined the mixed set of new HB_*() which I will have to
> create with original Clipper ones then I drop this idea.
> Each time I see:
>   ISNUMBER() and HB_ISPOINTER()
> I think how we can explain above naming convention for users who
> never used Clipper and for sure do not plan to learn all it's
> functions and macros.
> Keeping the namespace clean is very important and for sure I'm
> the last person who will vote to remove HB_ prefix from most
> of core functions.
> Anyhow IMO over some reasonable limit adding HB_ prefix to each
> identifier which was not used in Clipper we begin to create Clipper
> museum instead of modern language.
> 
> Fortunately we have SWITCH and FOR EACH statements instead of
> HB_SWITCH and HB_FOR EACH ;-)
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Feb 25 04:28:19 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 25 04:28:29 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13982] trunk/harbour
In-Reply-To: <9257026e1002242136i681fe044n2474c844ebbdf00b@mail.gmail.com>
References: <E1NkItu-0001XC-G1@sfp-svn-6.v30.ch3.sourceforge.com>
	<9639E452-415B-4AD9-BED7-C3C7F4B0F0E5@syenar.hu>
	<9257026e1002240955h52bbe024pb9444e9749b8e94@mail.gmail.com>
	<60369404-F888-4DF1-A4A2-F96D06F9B5B1@syenar.hu>
	<9257026e1002241203s71b9dd82i21b28c3ccf980bdf@mail.gmail.com>
	<4B85C76B.4090304@gmail.com> <hm4mfl$g5d$1@dough.gmane.org>
	<9257026e1002242136i681fe044n2474c844ebbdf00b@mail.gmail.com>
Message-ID: <D1E07183-3BB1-428C-AB05-84DFE3076875@syenar.hu>

>>   ? sql_Sprintf( cFrmSQL, ID_TAB_AGENTI, ID_TAB_CODDSP, cSql, cAnnDsp )
> 
>> Very usefull for long embebed SQL commands
>> Xavi's suggestion copuld be easily translated to that command
> 
> Xavi, Angel are you really asking me to rewrite all the code that I've
> done in the last 5 or so?

You can quite easily write a converter which goes 
through all the source code and changes code 
automatically in all such cases. 5 years of problems 
solved in one pass.

What I don't understand is why you insist on staying 
on the side track (grey area) of Harbour feature.
It's absolutely your personal choice of course, I 
just can't understand your motives.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Feb 25 04:59:14 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 04:59:28 2010
Subject: [Harbour] Przemyslaw,
	I need to know your position about HB_PP_MULTILINE support
In-Reply-To: <20100225083049.GA30088@linux-4bod.home.aster.pl>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
	<20100225083049.GA30088@linux-4bod.home.aster.pl>
Message-ID: <6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>

Hi,

> In general I think that we have to seriously rethink few things.
> IMO unconditional using HB_* prefix and moving all functions which
> haven't existed in Clipper to different contrib libraries begins
> to be "art of the art" and in real life serious problem for users.
> There are functions commonly used in different xbase dialects like
> PVALUE() and now we shall have PVALUE() implementation inside
> XHB, HBFSHIP, HBCLIP (BTW it's missing and some of functions covered
> by XPP or FSHIP macros also belongs to CLIP), HBXPP and maybe few
> others in the future. I tried but cannot imagine how it can help
> users.

I proposed the idea of "dialects" about 3 years ago on this 
very list. Now, this could have made the solution a little 
more convenient for users, because it is in core, and this 
allows somewhat finer tuning of such non-Clipper features 
(f.e. we could have -dialect option in hbmk2). It also needs 
more work and more precise coordination when it comes to names 
and things. I saw zero feedback or reaction to the idea. 
Current solution solves the problem without introducing 
any such new concept into Harbour, IOW it's a plain standard 
solution. It may offer a _little bit_ less, than dedicated 
"dialect" solution, but it's also significantly simpler, 
which may even be a good thing for both devs and users.
Anyhow it still allows to create dialect specific extensions 
in compiler, by using -k switches and so far I couldn't 
see any evidence that any f.e. Xbase++ functions cannot be 
solved in current layout. (worst case, we create an internal 
function in core, which is called by dialect lib).

IOW: Current system doesn't add any technical limit on 
what functions can be added.

As for PVALUE(): Can be added in separate source file to 
all of the dialect libs it applies as simple one-liner 
wrapper to HB_PVALUE(), and that's it. Or, we can simply 
document that it's implemented in one of them (f.e. the 
one that originally introduced this function, maybe it was 
FlagShip, maybe Xbase++).

None of above is terrible for users. I think it's good 
to know which extensions an app source code actually uses.

Without this solution, we would have to revisit the whole 
set of problem with _each and every_ extension to be 
added, discuss and argue (hopefully in advance), make 
a decision and possibly make corrections afterwards, and 
this is not good for anybody, it's slow, error prone.

Now all "dialect" APIs can just be freely developed using 
some very simple rules.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Thu Feb 25 05:08:36 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 25 05:08:43 2010
Subject: [Harbour] Przemyslaw, I need to know your position about 
	HB_PP_MULTILINE support
In-Reply-To: <127260B8-B487-428A-8135-B8E8B730DBDB@syenar.hu>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
	<20100225083049.GA30088@linux-4bod.home.aster.pl>
	<127260B8-B487-428A-8135-B8E8B730DBDB@syenar.hu>
Message-ID: <9257026e1002250208k5d54cf5q538ea929f073f468@mail.gmail.com>

On Thu, Feb 25, 2010 at 10:18 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> For me it's rather interesting to see that we maintain any
> feature in central SVN which bends basic functionality for
> the sake of ONE user. It's well known since years, that it's
> a non supported feature.

You can NOT USE IT and keep strict compatibility, I can USE IT to make
mine easier to write and to read. It's a win win ( and will allow
xHarbour developers to test Harbour is they need ).

> Same with hbmk, I'm keeping it just for
> the sake of Lorenzo (yet). It simply blocks the path forward,
> and this is unacceptable IMO. The code is free, so if someone
> tries to keep strange (or non-strange) local features, it can
> and should be done locally. They need special build anyway, and
> it's not about "I won't update the SVN anymore".

We've already discussed about hb*, but at the moment I don't see the
reason to swap worldwide well known standards like shell scripting and
gnu makefiles with a tool that only ONE developer knows and maintain.
I use many tools from google and yahoo in my makefiles and I don't see
how could I fit them in hbmk2 and surely you'll be not interested to
support them.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Thu Feb 25 05:11:08 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 25 05:11:16 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13988] trunk/harbour
Message-ID: <E1NkagW-0005iL-Oq@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13988
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13988&view=rev
Author:   vszakats
Date:     2010-02-25 10:11:07 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 11:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbextern.ch
    ! Added __QUITCANCEL.

  * contrib/hbxpp/Makefile
  + contrib/hbxpp/pvaluex.c
  * contrib/hbfship/Makefile
  + contrib/hbfship/pvalue.c
    + Added function PVALUE() to both Xbase++ and FlagShip lib.

  * contrib/hbxpp/Makefile
  * contrib/hbxpp/hbxpp.ch
  * contrib/hbxpp/idlex.c
  - contrib/hbxpp/sleepx.prg
    * Renamed already existing XPP_SLEEP() to SLEEP().
    - Deleted translation from SLEEP() to XPP_SLEEP() hbxpp.ch.
    - Deleted recently added .prg implementation of SLEEP().

  * contrib/hbqt/qtgui/QWidget.cpp
  * contrib/hbqt/qtcore/TQChar.prg
    * Regenerated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfship/Makefile
    trunk/harbour/contrib/hbqt/qtcore/TQChar.prg
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbxpp/Makefile
    trunk/harbour/contrib/hbxpp/hbxpp.ch
    trunk/harbour/contrib/hbxpp/idlex.c
    trunk/harbour/include/hbextern.ch

Added Paths:
-----------
    trunk/harbour/contrib/hbfship/pvalue.c
    trunk/harbour/contrib/hbxpp/pvalue.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbxpp/sleepx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From david at gesintur.com  Thu Feb 25 05:19:35 2010
From: david at gesintur.com (David MS)
Date: Thu Feb 25 05:19:47 2010
Subject: [Harbour] Re: Re: how to link all the funcions of a lib?
References: <21C2561397D34FAC8BB88B9544AFA090@INFOR04>
Message-ID: <CED7CC3EDF8646C29F72AB72A6F37F59@INFOR04>

Hi Adam,

I?m using hbextern.ch now.

What I need is e.g. to link all functions in GD LIB or HPDF LIB for later 
load and execute .hrb modules that make use of these functions,

With VPDF or SDDMY have no problem, as I only have to do REQUEST ...

Sorry mi poor English, I hope you understand me.

Thanks.
David MS.


> Hi!
>
> David MS wrote:
>>
>> Hi,
>>
>> Is there any way to statically link all the functions of a library, even
>> if these functions are not declared / used in the main program?
>>
>> In this moment I've a .CH with all functions that I need declarated with 
>> EXTERNAL. I don't  know if this is the best way.
>>
>>
>>
>> TIA
>> David Montano. _______________________________________________
>>
>
> try
>
> #include "hbextern.ch"
>
> Adam
>
> 

From harbour.01 at syenar.hu  Thu Feb 25 05:26:26 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 25 05:26:36 2010
Subject: [Harbour] Przemyslaw,
	I need to know your position about  HB_PP_MULTILINE support
In-Reply-To: <9257026e1002250208k5d54cf5q538ea929f073f468@mail.gmail.com>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
	<20100225083049.GA30088@linux-4bod.home.aster.pl>
	<127260B8-B487-428A-8135-B8E8B730DBDB@syenar.hu>
	<9257026e1002250208k5d54cf5q538ea929f073f468@mail.gmail.com>
Message-ID: <64852C89-8D0F-4DAA-98C6-015AD47D82C8@syenar.hu>

Hi Lorenzo,

>> For me it's rather interesting to see that we maintain any
>> feature in central SVN which bends basic functionality for
>> the sake of ONE user. It's well known since years, that it's
>> a non supported feature.
> 
> You can NOT USE IT and keep strict compatibility, I can USE IT to make
> mine easier to write and to read. It's a win win ( and will allow
> xHarbour developers to test Harbour is they need ).

It would interesting to see how large is the number of 
xhb users relying on this feature. Maybe we should really 
consider writing a source code converter if this is 
quite large. Seeing the past references of this feature, 
I can only find some of your messages from years ago 
when we discussed this last time. So, maybe you're right, 
but to me it really seems something which helps only 
your code.

I can understand you started to exploit this feature 
because there was no better at the time, but since years 
there are, and this one was always hacky and imperfect 
(f.e. how to add an ';' char (SQL statement termination) 
to such an SQL string)?

But IMO you should really consider using something better 
or standard. In fact __cstream was also added to your 
own request.

>> Same with hbmk, I'm keeping it just for
>> the sake of Lorenzo (yet). It simply blocks the path forward,
>> and this is unacceptable IMO. The code is free, so if someone
>> tries to keep strange (or non-strange) local features, it can
>> and should be done locally. They need special build anyway, and
>> it's not about "I won't update the SVN anymore".
> 
> We've already discussed about hb*, but at the moment I don't see the
> reason to swap worldwide well known standards like shell scripting and
> gnu makefiles with a tool that only ONE developer knows and maintain.

Well, that source code is there, so anybody can know it 
and maintain it, and you probably know that many of the 
"worldwide standard" you use are/were developed by ONE 
developer as well. Just like many other parts of Harbour.

Maybe contributors shall offer free guaranteed personal 
lifetime support as well for all code ever committed to 
open source projects as a ground rule ;)

BTW, this is the funniest comment I've read about a free 
open source tool since many years...

> I use many tools from google and yahoo in my makefiles and I don't see
> how could I fit them in hbmk2 and surely you'll be not interested to
> support them.

Well, maybe I am, maybe it's something useful for users 
in general.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Feb 25 05:27:41 2010
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 25 05:27:54 2010
Subject: [Harbour] Re: Re: how to link all the funcions of a lib?
In-Reply-To: <CED7CC3EDF8646C29F72AB72A6F37F59@INFOR04>
References: <21C2561397D34FAC8BB88B9544AFA090@INFOR04>
	<CED7CC3EDF8646C29F72AB72A6F37F59@INFOR04>
Message-ID: <C01E590E-E5F3-4D5F-B322-2EB1E8985BE8@syenar.hu>

> What I need is e.g. to link all functions in GD LIB or HPDF LIB for later load and execute .hrb modules that make use of these functions,

You can use gdextern.ch for hbgd. For hpdf you need 
to create one.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Feb 25 05:34:41 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 05:34:57 2010
Subject: [Harbour] Re: unicows
In-Reply-To: <70E89178-DE21-4DD2-9157-A324281441C4@syenar.hu>
References: <70E89178-DE21-4DD2-9157-A324281441C4@syenar.hu>
Message-ID: <53868DF1-B357-45C5-BC52-4D67F0EF41FB@syenar.hu>

> Problems experienced so far:
>  - With bcc, the app runs, but there is visible trash on screen.
>  - With bcc, keyboard doesn't seem to work.

More testing revealed this only applies to GTWIN.
GTWVT works fine.

>  - With mingw, the app just hangs, and only reboot helps.

Here, GTWVT didn't help, it exist with internal 
error: "Failed to register WVT window class"

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Feb 25 05:46:08 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Feb 25 05:46:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
Message-ID: <54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>

Hi Marco,

> On Ubuntu 9.10 32 bits hbide recompiled with "hbmk2 hbide.hbp -rebuild" deleted the hbide.ini file

It's rather impossible that hbmk2 deleted hbide.ini, 
or any other file, which is not even referred to 
in the passed commands. (Of course it also won't 
delete any files not created by hbmk2 itself)

Brgds,
Viktor

From marcobra.ubuntu at gmail.com  Thu Feb 25 06:01:00 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Feb 25 06:01:09 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
	<54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
Message-ID: <fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>

2010/2/25 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi Marco,
>
> > On Ubuntu 9.10 32 bits hbide recompiled with "hbmk2 hbide.hbp -rebuild"
> deleted the hbide.ini file
>
> It's rather impossible that hbmk2 deleted hbide.ini,
> or any other file, which is not even referred to
> in the passed commands. (Of course it also won't
> delete any files not created by hbmk2 itself)
>
>
Very sorry, Victor: hbmk2 don't delete hbide.ini, the row:

"On Ubuntu 9.10 32 bits hbide recompiled with "hbmk2 hbide.hbp -rebuild"
deleted the hbide.ini file"

is wrong, must be read as

"On Ubuntu 9.10 32 bits hbide recompiled with "hbmk2 hbide.hbp -rebuild",
then i also deleted the hbide.ini file to get fresh hbide start point"

Thank you, best regards

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/6715b471/attachment-0001.html
From m.lacecilia at gmail.com  Thu Feb 25 06:51:17 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Thu Feb 25 06:51:24 2010
Subject: [Harbour] gtwvt compatibility issue
Message-ID: <27714403.post@talk.nabble.com>


After this commit:

2010-02-22 20:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwvt/gtwvt.h
  * src/rtl/gtwvt/gtwvt.c
    ! Fixed to use standard VGA RGB values, just like in GTXWC.
    ! Fixed color constant names (no "bright white" anymore).

some numeric codes of color no more return the same color as the clipper or
the harbour with the standard console gt driver.
By example, the code 103 results different.
I noticed that using the hb_DispBox() function.
Best regards.
Maurizio la Cecilia
-- 
View this message in context: http://old.nabble.com/gtwvt-compatibility-issue-tp27714403p27714403.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Feb 25 07:05:04 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 07:05:14 2010
Subject: [Harbour] gtwvt compatibility issue
In-Reply-To: <27714403.post@talk.nabble.com>
References: <27714403.post@talk.nabble.com>
Message-ID: <305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>

Hi Maurizio,

On 2010 Feb 25, at 12:51, Maurizio la Cecilia wrote:

> 
> After this commit:
> 
> 2010-02-22 20:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * src/rtl/gtwvt/gtwvt.h
>  * src/rtl/gtwvt/gtwvt.c
>    ! Fixed to use standard VGA RGB values, just like in GTXWC.
>    ! Fixed color constant names (no "bright white" anymore).
> 
> some numeric codes of color no more return the same color as the clipper or
> the harbour with the standard console gt driver.
> By example, the code 103 results different.
> I noticed that using the hb_DispBox() function.

Can you give a code example?

Brgds,
Viktor

From dmacias at mail.udg.mx  Thu Feb 25 07:23:18 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Feb 25 07:23:44 2010
Subject: [Harbour] OS/2: Harbour 13976
Message-ID: <4B866BB6.2030207@mail.udg.mx>

Using os2gcc442:

  * $Id: ChangeLog 13976 2010-02-23 22:33:42Z vouchcac $
  2010-02-23 14:34 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)

Pending warnings:

../../../hbdyn.c: In function 'hb_dynCall':
../../../hbdyn.c:1118: warning: signed and unsigned type in conditional
expression

All Harbour executables work fine:
  harbour.exe, hbformat.exe, hbi18n.exe, hbmk2.exe, hbpp.exe, hbrun.exe,
hbtest.exe

All .dll files build fine


I was trying to build new Qt461 from Netlabs SVN, it result with some
errors which were fixed after my reports

Now Qt461 for OS/2 build entirely without problems (r598) :-)

Building Harbour-hbqt contrib with Qt461 show problems in only two files
in place of eleven, which belong to hbgui.lib

     # QInputContext.cpp \
     # QWidget.cpp \

Skipping these two files, Harbour-(hbqt.lib, hbqtcore.lib, hbgui.lib,
hbnetwork.lib) build entirely
Trying to build applications using hbqt* libs, as demoqt.prg, hbide
project, both fails due missing mainly by QWidget symbols but other
symbols too

In few words, this is what is missing in Qt461 in order to achieve hbqt
build in Harbour for OS/2:
  # QInputContext.cpp \
  # QWidget.cpp \

There are some way to test hbqt* libs without need of QInputContext,
QWidget ?


Pritpal:

>Many thanks for your efforts and a valuable fact that you
>opened a ticket with netlabs. Probably it will pave the way to
>understand some hidden points where Harbour encounters a
>GPF without any understandable reason. Also we may
>get clarified why "delete" operator is not called when an
>object is destroyed. Though it is future, your effort has
>shown that Qt support cares for these issues, if they are
>approached.

Dmitry A. Kuminov, Qt4 for OS/2 developer show great skills and
knowledge in Qt, so I think he can help in some specific issues


>>     1. Add #ifndef QT_NO_PRINTER / #endif
>> #ifndef QT_NO_ACCESSIBILITY / #endif

>It will be extremely difficult if not impossible.

>The reason is, Qt wrappers are generated dynamically and no
>developer's tweaking is enabled in them. This is only possible if
>I re-write the generator with OS problem in mind, which I am not
>aware at all.

But now you are aware about the need/convenience to establish 
differences by OS

>The other solution could be to write overloading wrappers to these
>functions in a .cpp, say, hbqt_hbos.cpp, which is included per
>OS basis.

You are the expert so you can implement a practical solution

What we know about os2qt missings is:
--------------------------
8. The followign classes are not available due to their rare usage or
low importance on the OS/2 platform: QSharedMemory, QSystemSemaphore,
QInputContext, QAccessible. The following macros are defined to indicate
this: QT_NO_SYSTEMSEMAPHORE, QT_NO_SHAREDMEMORY, QT_NO_IM,
QT_NO_ACCESSIBILITY. Applications normally use them to guard the
relevant parts of code so they should still build.
--------------------------

>As Qt has announced that in 4.6.2 they will provide, we should wait
>till then.
>No?

"They will provide" what ?

I am not sure if we will have os2qt 4.6.2
As I reported before, printer missings exist in os2qt451 and were solved 
in os2qt461
QT_NO_PRINTER need has gone and remain QT_NO_ACCESSIBILITY need


Do you propose some changes/tests with current advances in os2qt ?

David Macias


From vszakats at users.sourceforge.net  Thu Feb 25 07:34:42 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 25 07:34:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13989] trunk/harbour
Message-ID: <E1NkcvS-00014U-7N@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13989
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13989&view=rev
Author:   vszakats
Date:     2010-02-25 12:34:40 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 13:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/ppcore.c
  * src/compiler/cmdcheck.c
  * src/compiler/hbusage.c
  * include/hbpp.h
    - Deleted -kl option. "multiline strings" converted back
      to build-time option. It's not a documented option anymore,
      usage is not recommended. See 2010-02-24 20:04 UTC+0100
      for valid alternatives.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbpp.h
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/compiler/hbusage.c
    trunk/harbour/src/pp/ppcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Feb 25 07:41:24 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 25 07:41:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13990] trunk/harbour
Message-ID: <E1Nkd1w-0001Bv-VF@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13990
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13990&view=rev
Author:   vszakats
Date:     2010-02-25 12:41:23 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 13:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Added HB_FUNC_TRANSLATE() macro to replace this logic:
      'HB_FUNC_EXTERN( original_func_name ); HB_FUNC( func_name ) { HB_FUNC_EXEC( original_func_name ); }'

  * contrib/hbxpp/pvalue.c
  * contrib/hbfship/pvalue.c
    % Using HB_FUNC_TRANSLATE().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfship/pvalue.c
    trunk/harbour/contrib/hbxpp/pvalue.c
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Thu Feb 25 07:54:28 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Feb 25 07:54:35 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13989] trunk/harbour
In-Reply-To: <E1NkcvS-00014U-7N@sfp-svn-5.v30.ch3.sourceforge.com>
References: <E1NkcvS-00014U-7N@sfp-svn-5.v30.ch3.sourceforge.com>
Message-ID: <9257026e1002250454h22c39349h2c1865a8e6cb8b48@mail.gmail.com>

On Thu, Feb 25, 2010 at 1:34 PM,  <vszakats@users.sourceforge.net> wrote:

> ? ?- Deleted -kl option. "multiline strings" converted back
> ? ? ?to build-time option. It's not a documented option anymore,
> ? ? ?usage is not recommended. See 2010-02-24 20:04 UTC+0100
> ? ? ?for valid alternatives.

Many thanks.

best regards,
Lorenzo
From druzus at acn.waw.pl  Thu Feb 25 08:25:23 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 25 08:25:31 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13987] trunk/harbour
In-Reply-To: <75FF075E-79CE-40C4-8D25-329D1A4035CA@syenar.hu>
References: <E1NkYL2-0007Gk-I7@sfp-svn-4.v30.ch3.sourceforge.com>
	<75FF075E-79CE-40C4-8D25-329D1A4035CA@syenar.hu>
Message-ID: <20100225132522.GA8051@linux-4bod.home.aster.pl>

On Thu, 25 Feb 2010, Szak?ts Viktor wrote:

Hi,

> >  * harbour/contrib/hbxpp/Makefile
> >  + harbour/contrib/hbxpp/sleepx.prg
> >    + added xbase++ compatible prg function SLEEP( <nHSeconds> ) -> NIL
> It was already there in idlex.c, written 
> in .c, by the name of XPP_SLEEP(). Maybe 
> it's enough to just rename it to SLEEP() now.

Right, sorry I forgot about it.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Feb 25 08:32:22 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Feb 25 08:32:29 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13991] trunk/harbour
Message-ID: <E1NkdpG-00070A-I1@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 13991
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13991&view=rev
Author:   druzus
Date:     2010-02-25 13:32:21 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 14:32 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbxpp/tthreadx.prg
    + added paramter validation in THREAD:setInterval() and
      THREAD:setStartTime()
    + added support for THREAD:startTime
    * updated TODO notes

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/tthreadx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Thu Feb 25 08:40:37 2010
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Feb 25 08:40:50 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13991] trunk/harbour
In-Reply-To: <E1NkdpG-00070A-I1@sfp-svn-6.v30.ch3.sourceforge.com>
References: <E1NkdpG-00070A-I1@sfp-svn-6.v30.ch3.sourceforge.com>
Message-ID: <4B867DD5.2070702@libero.it>

Przemyslaw,

by the way, how comes that a call to ::atStart() does not give an error given
I've no ::atStart() method  in a class I've sublcassed from Thread() ?

I'm referring to the ::execute() method which calls ::atStart() without
testing for its presence.

Maurilio.

druzus@users.sourceforge.net wrote:
> Revision: 13991
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13991&view=rev
> Author:   druzus
> Date:     2010-02-25 13:32:21 +0000 (Thu, 25 Feb 2010)
> 
> Log Message:
> -----------
> 2010-02-25 14:32 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/hbxpp/tthreadx.prg
>     + added paramter validation in THREAD:setInterval() and
>       THREAD:setStartTime()
>     + added support for THREAD:startTime
>     * updated TODO notes
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbxpp/tthreadx.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From ssbbstw at pchome.com.tw  Thu Feb 25 08:44:33 2010
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Thu Feb 25 08:44:47 2010
Subject: [Harbour] about program file encode.
Message-ID: <20100225214135.49D0.84A669A0@mail.zzz.com.tw>


Hi!!
  Can we have a function to direct program code(.prg) as ANSI or UTF8?
From fperillo at gmail.com  Thu Feb 25 08:46:17 2010
From: fperillo at gmail.com (francesco perillo)
Date: Thu Feb 25 08:46:28 2010
Subject: [Harbour] gtwvt compatibility issue
In-Reply-To: <305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
Message-ID: <6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>

I'm sending this message for Maurizio.

------------------

Hi Viktor,
simply try to compile this code with and without wvt request:
______________________________

#include "hbgtinfo.ch"
#include "wvtwin.ch"

procedure Main()

REQUEST HB_GT_WVT_DEFAULT   // rem this to note the difference

hb_DispBox( 0, 0, MaxRow(), MaxCol(), Space(9), 103 )
inkey(0)
return
______________________________

You'll notice the difference of the painted area, brown like in gtwvt
version and gold like in other case.

Best regards
Maurizio
From zen25000 at zen.co.uk  Thu Feb 25 08:58:55 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb 25 08:59:03 2010
Subject: [Harbour] [Pritpal] HBIDE editor tabs illegible
Message-ID: <4B86821F.1060709@zen.co.uk>

In Mandriva Linux 2010.0 I am seeing this:-
http://i115.photobucket.com/albums/n287/barjac_2006/hbide1.png
The tab titles are not readable.
Also there is no response to File->new->project.
I can find no way to open multiple .prg files.
Like - navigate to a folder and open *.prg and then save as a project ?
Maybe I am missing something ;-/
Good work so far!
Rgds,
Barry
From druzus at acn.waw.pl  Thu Feb 25 09:00:05 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 25 09:00:12 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13991] trunk/harbour
In-Reply-To: <4B867DD5.2070702@libero.it>
References: <E1NkdpG-00070A-I1@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B867DD5.2070702@libero.it>
Message-ID: <20100225140005.GA8460@linux-4bod.home.aster.pl>

On Thu, 25 Feb 2010, Maurilio Longo wrote:

Hi,

> by the way, how comes that a call to ::atStart() does not give an error given
> I've no ::atStart() method  in a class I've sublcassed from Thread() ?
> I'm referring to the ::execute() method which calls ::atStart() without
> testing for its presence.

I guess you are talking about :start() method not execute.
It works because in Clipper and [x]Harbour there is no difference
between messages send to access instance variables and to execute
method.
We have ::atStart variable so
   ::atStart()
execute default access function which push this variable on the stack.

BTW please also note that in xbase++ variables are also not accessed
directly but using messages which executes some methods and you can
define your own ACCESS and ASSIGN methods. It was the reason why I asked
about threadID conversion. The fact that sth is documented as instance
variable does not have to mean that it's real instance var. It can be
sth completely different encapsulated in ACCESS/ASSIGN methods.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Feb 25 09:16:56 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 09:17:04 2010
Subject: [Harbour] gtwvt compatibility issue
In-Reply-To: <6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
Message-ID: <18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>

Hi Francesco,

On Thu, Feb 25, 2010 at 2:46 PM, francesco perillo <fperillo@gmail.com>wrote:

> I'm sending this message for Maurizio.
>
> ------------------
>
> Hi Viktor,
> simply try to compile this code with and without wvt request:
> ______________________________
>
> #include "hbgtinfo.ch"
> #include "wvtwin.ch"
>
> procedure Main()
>
> REQUEST HB_GT_WVT_DEFAULT   // rem this to note the difference
>
> hb_DispBox( 0, 0, MaxRow(), MaxCol(), Space(9), 103 )
> inkey(0)
> return
> ______________________________
>
> You'll notice the difference of the painted area, brown like in gtwvt
> version and gold like in other case.
>

I see it and this was the point of the fix, now the color
resembles to original Clipper color, which is "brown".
Now Harbour also shows brown in GTWVT, just like
in GTXWC and in Clipper on original MS-DOS, or on
emulators which properly mimic original colors.

In GTWIN and NTVDM, Microsoft chose to mess up the
colors, so you will see something different than MS-DOS.
(it's the kind of "gold", or it's rather "goose-sh*t green"
on my screen, definitely not brown)

Anyhow you can change the default color mapping using
HB_GTINFO( HB_GTI_PALETTE, { ... } ) or
HB_GTINFO( HB_GTI_PALETTE, 6, 0x008585 )

[ This all applies only to GTWVT, you're
using a GTWVG header though in the example,
so please note that GTWVG has different colors,
and also the palette setting method is incompatible
with GTWVT. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/fa1aaa90/attachment.html
From david at gesintur.com  Thu Feb 25 09:59:25 2010
From: david at gesintur.com (David MS)
Date: Thu Feb 25 09:59:34 2010
Subject: [Harbour] Re: Re: how to link all the funcions of a lib?
Message-ID: <E36BD6F2AE14402AA2711564272C456C@INFOR04>

Hi Viktor,

I have these errors when I including gdextern.ch

C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x328): 
referencia a `HB_FUN_COS' sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x348): 
referencia a `HB_FUN_SIN' sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x4d8): 
referencia a `HB_FUN_CEILING' sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0x848): 
referencia a `HB_FUN_PI' sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0xa48): 
referencia a `HB_FUN_COS' sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0xa58): 
referencia a `HB_FUN_SIN' sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x17): 
referencia a `gdImageDestroy@4'  sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x29e): 
referencia a `gdImageCreateFromGdPtr@8'  sin definir

...
...

C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x4fb1): 
referencia a `gdFontCacheShutdown@0' sin  definir
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1

The project's hbp file contains -lhbgd. What am I doing wrong?

TIA
David MS




From vszakats at users.sourceforge.net  Thu Feb 25 10:04:34 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 25 10:04:41 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13992] trunk/harbour
Message-ID: <E1NkfGU-0004LN-Vu@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13992
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13992&view=rev
Author:   vszakats
Date:     2010-02-25 15:04:29 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbziparc/hbziparc.prg
    ! Fixed HB_ZIPFILE() not working properly with a password set.

  * include/hbgtinfo.ch
    ! Fixed comment for HB_GTI_PALETTE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbziparc/hbziparc.prg
    trunk/harbour/include/hbgtinfo.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Feb 25 10:08:35 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 10:08:43 2010
Subject: [Harbour] Re: Re: how to link all the funcions of a lib?
In-Reply-To: <E36BD6F2AE14402AA2711564272C456C@INFOR04>
References: <E36BD6F2AE14402AA2711564272C456C@INFOR04>
Message-ID: <18d502871002250708k353fa392mf0d624f7d89d9260@mail.gmail.com>

Hi David,

You should add hbgd.hbc to link all required libs,
looks like gd import lib is missing in this case.

Plus apparently hbgd requires hbct lib, too. I'll fix that in
SVN, until then also add -lhbct option.

Brgds,
Viktor

On Thu, Feb 25, 2010 at 3:59 PM, David MS <david@gesintur.com> wrote:

> Hi Viktor,
>
> I have these errors when I including gdextern.ch
>
> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x328):
> referencia a `HB_FUN_COS' sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x348):
> referencia a `HB_FUN_SIN' sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x4d8):
> referencia a `HB_FUN_CEILING' sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0x848):
> referencia a `HB_FUN_PI' sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0xa48):
> referencia a `HB_FUN_COS' sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0xa58):
> referencia a `HB_FUN_SIN' sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x17):
> referencia a `gdImageDestroy@4'  sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x29e):
> referencia a `gdImageCreateFromGdPtr@8'  sin definir
>
> ...
> ...
>
> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x4fb1):
> referencia a `gdFontCacheShutdown@0' sin  definir
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
>
> The project's hbp file contains -lhbgd. What am I doing wrong?
>
> TIA
> David MS
>
>
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/0267a913/attachment.html
From m.lacecilia at gmail.com  Thu Feb 25 10:26:22 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Thu Feb 25 10:26:35 2010
Subject: R: [Harbour] gtwvt compatibility issue
In-Reply-To: <18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
References: <27714403.post@talk.nabble.com><305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu><6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAABWsEOHUPAtEtuW2SjFtkpUBAAAAAA==@gmail.com>


Hi Viktor,

	I see it and this was the point of the fix, now the color 
	resembles to original Clipper color, which is "brown". 
	Now Harbour also shows brown in GTWVT, just like 
	in GTXWC and in Clipper on original MS-DOS, or on 
	emulators which properly mimic original colors.

	In GTWIN and NTVDM, Microsoft chose to mess up the 
	colors, so you will see something different than MS-DOS.
	(it's the kind of "gold", or it's rather "goose-sh*t green" 
	on my screen, definitely not brown)

So, I forgotten the Clipper-Dos colors, as in the last years
all my apps ran in the NTVDM window. It's true.

	Anyhow you can change the default color mapping using 
	HB_GTINFO( HB_GTI_PALETTE, { ... } ) or 
	HB_GTINFO( HB_GTI_PALETTE, 6, 0x008585 )

Well. But, ther'is a doc about wvt? I'm catching the info from
"hbgtinfo.ch" and not all is very friendly.

	[ This all applies only to GTWVT, you're 
	using a GTWVG header though in the example, 
	so please note that GTWVG has different colors, 
	and also the palette setting method is incompatible 
	with GTWVT. ]

Sorry, was a trash from a test i made to see if also wvg was affected
by the color change.
Best regards.
Maurizio



From bedipritpal at hotmail.com  Thu Feb 25 10:28:28 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 10:28:35 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
	<54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
Message-ID: <1267111708012-4633080.post@n2.nabble.com>



marco bra wrote:
> 
> "On Ubuntu 9.10 32 bits hbide recompiled with "hbmk2 hbide.hbp -rebuild"
> deleted the hbide.ini file"
> 
> is wrong, must be read as
> 
> "On Ubuntu 9.10 32 bits hbide recompiled with "hbmk2 hbide.hbp -rebuild",
> then i also deleted the hbide.ini file to get fresh hbide start point"
> 

I forgot to mension that delete hbide.ini and idesettings.ini.
This commit rearranges the windows dimensions so clearing old 
.ini files are required.

For documentation path, it is strange on Ubuntu.
I call:

FUNCTION hbide_fetchSubPaths( aPaths, cRootPath, lSubs )
   LOCAL aDir, a_

   DEFAULT lSubs TO .t.

   IF right( cRootPath, 1 ) != hb_osPathSeparator()
      cRootPath += hb_osPathSeparator()
   ENDIF
   cRootPath := hbide_pathToOSPath( cRootPath )

   aadd( aPaths, cRootPath )

   IF lSubs
      aDir := directory( cRootPath + "*.", "D" )
      FOR EACH a_ IN aDir
         IF a_[ 5 ] == "D" .AND. left( a_[ 1 ], 1 ) != "."
            hbide_fetchSubPaths( @aPaths, cRootPath + a_[ 1 ] )
         ENDIF
      NEXT
   ENDIF

   RETURN NIL

where cRootPath is the path you supply in the field.
Can you play with this function to know what exactly is 
happening there on Ubuntu. Possibly "D" as directory()
argument is the culprit, but I am not sure.
You need to debug.

I am looking into "Set as Default" image issue, however.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13985-trunk-harbour-tp4629809p4633080.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Feb 25 10:36:27 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 10:36:33 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
In-Reply-To: <4B866BB6.2030207@mail.udg.mx>
References: <4B866BB6.2030207@mail.udg.mx>
Message-ID: <1267112187363-4633149.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
>      # QInputContext.cpp \
>      # QWidget.cpp \
> 
> .
> .
> .
> 
> I am not sure if we will have os2qt 4.6.2
> As I reported before, printer missings exist in os2qt451 and were solved 
> in os2qt461
> QT_NO_PRINTER need has gone and remain QT_NO_ACCESSIBILITY need
> 
> 
> Do you propose some changes/tests with current advances in os2qt ?
> 

Can you show which function calls in QWidget abd QInoutContext 
produces warnings. I will try to pacify them for os2.

QInputContex - I think I can go away with this class if it is not 
called anywhere else in components we are developing.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-13976-tp4632138p4633149.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Feb 25 10:37:51 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 10:37:58 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
In-Reply-To: <4B866BB6.2030207@mail.udg.mx>
References: <4B866BB6.2030207@mail.udg.mx>
Message-ID: <1267112271316-4633158.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
>>Many thanks for your efforts and a valuable fact that you
>>opened a ticket with netlabs. Probably it will pave the way to
>>understand some hidden points where Harbour encounters a
>>GPF without any understandable reason. Also we may
>>get clarified why "delete" operator is not called when an
>>object is destroyed. Though it is future, your effort has
>>shown that Qt support cares for these issues, if they are
>>approached.
> 
> Dmitry A. Kuminov, Qt4 for OS/2 developer show great skills and
> knowledge in Qt, so I think he can help in some specific issues
> 

Can you point me the direct link I can talk to him.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-13976-tp4632138p4633158.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From M.Horodyski at pzuzycie.com.pl  Thu Feb 25 10:38:01 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Feb 25 10:38:20 2010
Subject: [Harbour] Trouble with SqlRdd
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6E7D0@PINK.zycie.pzu>

I have problem with data from Oracle.
Here is ask and answer :

Ask :

SELECT   konto_produkt, SUM (prowizja) prowizja
    FROM wynik_interfejsu
GROUP BY konto_produkt

Answer in Toad :
.....
5010013310-CINK0000-6-13021P1150-00000-0000K0-0000000000-3550-3550-00000
00000 0.07
.....

And in Harbour :

dbUseArea( .T., "SQLMIX", "select konto_produkt, sum( prowizja) prowizja
from wynik_interfejsu group by konto_produkt", "PROWIZJA_Z_BAZY_KG")

     TYPE LEN                 NAME         VALUE
[1 ].C..   77                 KONTO_PRODUK
5010013310-CINK0000-6-13021P1150-00000-0000K0-0000000000-3550-3550-00000
00000
[2 ].N...   0                 PROWIZJA.... 0

in certain records incorrectly see the numeric values (zero of len and
value).
I use Harbour 2.0.0beta3 (Rev. 12489) on WinXP SP3 and both ODBC client
(Oracle and Microsoft).
I could not use the current version, as I have in the GPF.
How this can somehow improve in the sqlrdd?

Regards,
Marek Horodyski

From harbour.01 at syenar.hu  Thu Feb 25 10:39:56 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 10:40:07 2010
Subject: [Harbour] gtwvt compatibility issue
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAABWsEOHUPAtEtuW2SjFtkpUBAAAAAA==@gmail.com>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAABWsEOHUPAtEtuW2SjFtkpUBAAAAAA==@gmail.com>
Message-ID: <18d502871002250739i826d096ofae4758f8d1f90c2@mail.gmail.com>

>
>        I see it and this was the point of the fix, now the color
>        resembles to original Clipper color, which is "brown".
>        Now Harbour also shows brown in GTWVT, just like
>        in GTXWC and in Clipper on original MS-DOS, or on
>        emulators which properly mimic original colors.
>
>        In GTWIN and NTVDM, Microsoft chose to mess up the
>        colors, so you will see something different than MS-DOS.
>        (it's the kind of "gold", or it's rather "goose-sh*t green"
>        on my screen, definitely not brown)
>
> So, I forgotten the Clipper-Dos colors, as in the last years
> all my apps ran in the NTVDM window. It's true.
>
>        Anyhow you can change the default color mapping using
>        HB_GTINFO( HB_GTI_PALETTE, { ... } ) or
>        HB_GTINFO( HB_GTI_PALETTE, 6, 0x008585 )
>
> Well. But, ther'is a doc about wvt? I'm catching the info from
> "hbgtinfo.ch" and not all is very friendly.
>

You can try the ChangeLog, list archives and /tests, f.e.
wvtext.prg. As we all know, there is no documentation
for Harbour.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/7a48fc0d/attachment.html
From bedipritpal at hotmail.com  Thu Feb 25 10:43:15 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 10:43:22 2010
Subject: [Harbour] Re: [Pritpal] HBIDE editor tabs illegible
In-Reply-To: <4B86821F.1060709@zen.co.uk>
References: <4B86821F.1060709@zen.co.uk>
Message-ID: <1267112595884-4633201.post@n2.nabble.com>



Barry Jackson wrote:
> 
> In Mandriva Linux 2010.0 I am seeing this:-
> http://i115.photobucket.com/albums/n287/barjac_2006/hbide1.png
> The tab titles are not readable.
> Also there is no response to File->new->project.
> I can find no way to open multiple .prg files.
> Like - navigate to a folder and open *.prg and then save as a project ?
> Maybe I am missing something ;-/
> Good work so far!
> 

I suppose Qt is painting tabs title a little above the ground
and is not using native rendering. I will see if we can control the 
tab size anyway.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Pritpal-HBIDE-editor-tabs-illegible-tp4632574p4633201.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Feb 25 10:49:22 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 10:49:28 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13991] trunk/harbour
In-Reply-To: <20100225140005.GA8460@linux-4bod.home.aster.pl>
References: <E1NkdpG-00070A-I1@sfp-svn-6.v30.ch3.sourceforge.com>
	<4B867DD5.2070702@libero.it>
	<20100225140005.GA8460@linux-4bod.home.aster.pl>
Message-ID: <1267112962419-4633241.post@n2.nabble.com>



Przemys?aw Czerpak wrote:
> 
> I guess you are talking about :start() method not execute.
> It works because in Clipper and [x]Harbour there is no difference
> between messages send to access instance variables and to execute
> method.
> We have ::atStart variable so
>    ::atStart()
> execute default access function which push this variable on the stack.
> 
> BTW please also note that in xbase++ variables are also not accessed
> directly but using messages which executes some methods and you can
> define your own ACCESS and ASSIGN methods. It was the reason why I asked
> about threadID conversion. The fact that sth is documented as instance
> variable does not have to mean that it's real instance var. It can be
> sth completely different encapsulated in ACCESS/ASSIGN methods.
> 

You are right Przemek.

In Xbase++ this concept is achieved with get/set methods which 
I am employing in hbXBP effectively. 

   VAR s_title PROTECTED
   METHOD title   SETGET

   METHOD XbpWindow:title( cTitle )
      IF hb_isChar( cTitle )
         s_title := cTitle
      ENDIF
      RETURN s_title

and rest everythis is done with s_title.

This was the most struggled feature to emulate Xbase++ class behavior.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13991-trunk-harbour-tp4632457p4633241.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From david at gesintur.com  Thu Feb 25 10:51:37 2010
From: david at gesintur.com (David MS)
Date: Thu Feb 25 10:51:49 2010
Subject: [Harbour] Re: Re: how to link all the funcions of a lib?  
References: <EB2DDC8F7C4243FF97097EF111FF0358@INFOR04>
Message-ID: <07E3EBCA108D434D940ECDD7CCAE4015@INFOR04>

Thanks Viktor, I'll waiting  your updates

In the case of haru pdf, I created the .ch file as you said me with all 
functions of the wrapper
but I get the following errors:

C:/harbour-svn/harbour/lib/win/mingw/libhbhpdf.a(harupdf.o):harupdf.c:(.text+0x1b): 
referencia a `HPDF_Free' sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbhpdf.a(harupdf.o):harupdf.c:(.text+0x59): 
referencia a `HPDF_New' sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbhpdf.a(harupdf.o):harupdf.c:(.text+0xa4): 
referencia a `HPDF_Free' sin definir
C:/harbour-svn/harbour/lib/win/mingw/libhbhpdf.a(harupdf.o):harupdf.c:(.text+0xe4): 
referencia a `HPDF_NewDoc' sin definir
....
....

I put this in hpdfextern.ch:

EXTERNAL HPDF_NEW
EXTERNAL HPDF_FREE
EXTERNAL HPDF_NEWDOC
EXTERNAL HPDF_FREEDOC
EXTERNAL HPDF_FREEDOCALL
EXTERNAL HPDF_SAVETOFILE
EXTERNAL HPDF_SAVETOSTREAM
EXTERNAL HPDF_GETSTREAMSIZE
EXTERNAL HPDF_READFROMSTREAM
EXTERNAL HPDF_RESETSTREAM
EXTERNAL HPDF_HASDOC
EXTERNAL HPDF_SETERRORHANDLER
EXTERNAL HPDF_GETERROR
EXTERNAL HPDF_RESETERROR
EXTERNAL HPDF_SETPAGESCONFIGURATION
EXTERNAL HPDF_SETPAGELAYOUT
EXTERNAL HPDF_GETPAGELAYOUT
EXTERNAL HPDF_SETPAGEMODE
EXTERNAL HPDF_GETPAGEMODE
EXTERNAL HPDF_SETOPENACTION
EXTERNAL HPDF_GETCURRENTPAGE
EXTERNAL HPDF_ADDPAGE
EXTERNAL HPDF_INSERTPAGE
EXTERNAL HPDF_GETFONT
EXTERNAL HPDF_LOADTYPE1FONTFROMFILE
EXTERNAL HPDF_LOADTTFONTFROMFILE
EXTERNAL HPDF_LOADTTFONTFROMFILE2
EXTERNAL HPDF_ADDPAGELABEL
EXTERNAL HPDF_USEJPFONTS
EXTERNAL HPDF_USEKRFONTS
EXTERNAL HPDF_USECNSFONTS
EXTERNAL HPDF_USECNTFONTS
EXTERNAL HPDF_CREATEEXTGSTATE
EXTERNAL HPDF_CREATEOUTLINE
EXTERNAL HPDF_GETENCODER
EXTERNAL HPDF_GETCURRENTENCODER
EXTERNAL HPDF_SETCURRENTENCODER
EXTERNAL HPDF_USEJPENCODINGS
EXTERNAL HPDF_USEKRENCODINGS
EXTERNAL HPDF_USECNSENCODINGS
EXTERNAL HPDF_USECNTENCODINGS
EXTERNAL HPDF_LOADPNGIMAGEFROMFILE
EXTERNAL HPDF_LOADPNGIMAGEFROMFILE2
EXTERNAL HPDF_LOADRAWIMAGEFROMFILE
EXTERNAL HPDF_LOADRAWIMAGEFROMMEM
EXTERNAL HPDF_LOADJPEGIMAGEFROMFILE
EXTERNAL HPDF_SETINFOATTR
EXTERNAL HPDF_GETINFOATTR
EXTERNAL HPDF_SETINFODATEATTR
EXTERNAL HPDF_SETPASSWORD
EXTERNAL HPDF_SETPERMISSION
EXTERNAL HPDF_SETENCRYPTIONMODE
EXTERNAL HPDF_SETCOMPRESSIONMODE
EXTERNAL HPDF_PAGE_SETWIDTH
EXTERNAL HPDF_PAGE_SETHEIGHT
EXTERNAL HPDF_PAGE_SETSIZE
EXTERNAL HPDF_PAGE_SETROTATE
EXTERNAL HPDF_PAGE_GETWIDTH
EXTERNAL HPDF_PAGE_GETHEIGHT
EXTERNAL HPDF_PAGE_CREATEDESTINATION
EXTERNAL HPDF_PAGE_CREATETEXTANNOT
EXTERNAL HPDF_PAGE_CREATELINKANNOT
EXTERNAL HPDF_PAGE_CREATEURILINKANNOT
EXTERNAL HPDF_PAGE_TEXTWIDTH
EXTERNAL HPDF_PAGE_MEASURETEXT
EXTERNAL HPDF_PAGE_GETGMODE
EXTERNAL HPDF_PAGE_GETCURRENTPOS
EXTERNAL HPDF_PAGE_GETCURRENTTEXTPOS
EXTERNAL HPDF_PAGE_GETCURRENTFONT
EXTERNAL HPDF_PAGE_GETCURRENTFONTSIZE
EXTERNAL HPDF_PAGE_GETTRANSMATRIX
EXTERNAL HPDF_PAGE_GETLINEWIDTH
EXTERNAL HPDF_PAGE_GETLINECAP
EXTERNAL HPDF_PAGE_GETLINEJOIN
EXTERNAL HPDF_PAGE_GETMITERLIMIT
EXTERNAL HPDF_PAGE_GETDASH
EXTERNAL HPDF_PAGE_GETFLAT
EXTERNAL HPDF_PAGE_GETCHARSPACE
EXTERNAL HPDF_PAGE_GETWORDSPACE
EXTERNAL HPDF_PAGE_GETHORIZONTALSCALLING
EXTERNAL HPDF_PAGE_GETTEXTLEADING
EXTERNAL HPDF_PAGE_GETTEXTRENDERINGMODE
EXTERNAL HPDF_PAGE_GETTEXTRISE
EXTERNAL HPDF_PAGE_GETRGBFILL
EXTERNAL HPDF_PAGE_GETRGBSTROKE
EXTERNAL HPDF_PAGE_GETCMYKFILL
EXTERNAL HPDF_PAGE_GETCMYKSTROKE
EXTERNAL HPDF_PAGE_GETGRAYFILL
EXTERNAL HPDF_PAGE_GETGRAYSTROKE
EXTERNAL HPDF_PAGE_GETSTROKINGCOLORSPACE
EXTERNAL HPDF_PAGE_GETFILLINGCOLORSPACE
EXTERNAL HPDF_PAGE_GETTEXTMATRIX
EXTERNAL HPDF_PAGE_GETGSTATEDEPTH
EXTERNAL HPDF_PAGE_SETSLIDESHOW

// GRAPHICS

EXTERNAL HPDF_PAGE_SETLINEWIDTH
EXTERNAL HPDF_PAGE_SETLINECAP
EXTERNAL HPDF_PAGE_SETLINEJOIN
EXTERNAL HPDF_PAGE_SETMITERLIMIT
EXTERNAL HPDF_PAGE_SETDASH
EXTERNAL HPDF_PAGE_SETEXTGSTATE
EXTERNAL HPDF_PAGE_GSAVE
EXTERNAL HPDF_PAGE_GRESTORE
EXTERNAL HPDF_PAGE_CONCAT
EXTERNAL HPDF_PAGE_MOVETO
EXTERNAL HPDF_PAGE_LINETO
EXTERNAL HPDF_PAGE_CURVETO
EXTERNAL HPDF_PAGE_CURVETO2
EXTERNAL HPDF_PAGE_CURVETO3
EXTERNAL HPDF_PAGE_CLOSEPATH
EXTERNAL HPDF_PAGE_RECTANGLE
EXTERNAL HPDF_PAGE_STROKE
EXTERNAL HPDF_PAGE_CLOSEPATHSTROKE
EXTERNAL HPDF_PAGE_SETFONTANDSIZE
EXTERNAL HPDF_PAGE_BEGINTEXT
EXTERNAL HPDF_PAGE_ENDTEXT
EXTERNAL HPDF_PAGE_TEXTOUT
EXTERNAL HPDF_PAGE_MOVETEXTPOS
EXTERNAL HPDF_PAGE_SHOWTEXT
EXTERNAL HPDF_PAGE_FILL
EXTERNAL HPDF_PAGE_EOFILL
EXTERNAL HPDF_PAGE_FILLSTROKE
EXTERNAL HPDF_PAGE_EOFILLSTROKE
EXTERNAL HPDF_PAGE_CLOSEPATHFILLSTROKE
EXTERNAL HPDF_PAGE_CLOSEPATHEOFILLSTROKE
EXTERNAL HPDF_PAGE_ENDPATH
EXTERNAL HPDF_PAGE_CLIP
EXTERNAL HPDF_PAGE_EOCLIP
EXTERNAL HPDF_PAGE_SETCHARSPACE
EXTERNAL HPDF_PAGE_SETWORDSPACE
EXTERNAL HPDF_PAGE_SETHORIZONTALSCALLING
EXTERNAL HPDF_PAGE_SETTEXTLEADING
EXTERNAL HPDF_PAGE_SETTEXTRENDERINGMODE
EXTERNAL HPDF_PAGE_SETTEXTRISE
EXTERNAL HPDF_PAGE_MOVETEXTPOS2
EXTERNAL HPDF_PAGE_SETTEXTMATRIX
EXTERNAL HPDF_PAGE_MOVETONEXTLINE
EXTERNAL HPDF_PAGE_SHOWTEXTNEXTLINE
EXTERNAL HPDF_PAGE_SHOWTEXTNEXTLINEEX
EXTERNAL HPDF_PAGE_SETGRAYFILL
EXTERNAL HPDF_PAGE_SETGRAYSTROKE
EXTERNAL HPDF_PAGE_SETRGBFILL
EXTERNAL HPDF_PAGE_SETRGBSTROKE
EXTERNAL HPDF_PAGE_SETCMYKFILL
EXTERNAL HPDF_PAGE_SETCMYKSTROKE
EXTERNAL HPDF_PAGE_EXECUTEXOBJECT
EXTERNAL HPDF_PAGE_DRAWIMAGE
EXTERNAL HPDF_PAGE_CIRCLE
EXTERNAL HPDF_PAGE_ARC
EXTERNAL HPDF_PAGE_ELLIPSE
EXTERNAL HPDF_PAGE_TEXTRECT

// FONTS

EXTERNAL HPDF_FONT_GETFONTNAME
EXTERNAL HPDF_FONT_GETENCODINGNAME
EXTERNAL HPDF_FONT_GETUNICODEWIDTH
EXTERNAL HPDF_FONT_GETBBOX
EXTERNAL HPDF_FONT_GETASCENT
EXTERNAL HPDF_FONT_GETDESCENT
EXTERNAL HPDF_FONT_GETXHEIGHT
EXTERNAL HPDF_FONT_GETCAPHEIGHT
EXTERNAL HPDF_FONT_TEXTWIDTH
EXTERNAL HPDF_FONT_MEASURETEXT

// ENCODING

EXTERNAL HPDF_ENCODER_GETTYPE
EXTERNAL HPDF_ENCODER_GETBYTETYPE
EXTERNAL HPDF_ENCODER_GETUNICODE
EXTERNAL HPDF_ENCODER_GETWRITINGMODE

// ANNOTATION

EXTERNAL HPDF_LINKANNOT_SETHIGHLIGHTMODE
EXTERNAL HPDF_LINKANNOT_SETBORDERSTYLE
EXTERNAL HPDF_TEXTANNOT_SETICON
EXTERNAL HPDF_TEXTANNOT_SETOPENED

// OUTLINE

EXTERNAL HPDF_OUTLINE_SETOPENED
EXTERNAL HPDF_OUTLINE_SETDESTINATION

// DESTINATION

EXTERNAL HPDF_DESTINATION_SETXYZ
EXTERNAL HPDF_DESTINATION_SETFIT
EXTERNAL HPDF_DESTINATION_SETFITH
EXTERNAL HPDF_DESTINATION_SETFITV
EXTERNAL HPDF_DESTINATION_SETFITR
EXTERNAL HPDF_DESTINATION_SETFITB
EXTERNAL HPDF_DESTINATION_SETFITBH
EXTERNAL HPDF_DESTINATION_SETFITBV

// IMAGE

EXTERNAL HPDF_IMAGE_GETSIZE
EXTERNAL HPDF_IMAGE_GETWIDTH
EXTERNAL HPDF_IMAGE_GETHEIGHT
EXTERNAL HPDF_IMAGE_GETBITSPERCOMPONENT
EXTERNAL HPDF_IMAGE_GETCOLORSPACE
EXTERNAL HPDF_IMAGE_SETCOLORMASK
EXTERNAL HPDF_IMAGE_SETMASKIMAGE

// ExtGState

EXTERNAL HPDF_EXTGSTATE_SETALPHASTROKE
EXTERNAL HPDF_EXTGSTATE_SETALPHAFILL
EXTERNAL HPDF_EXTGSTATE_SETBLENDMODE
EXTERNAL HPDF_VERSION_TEXT




> Hi David,
>
> You should add hbgd.hbc to link all required libs,
> looks like gd import lib is missing in this case.
>
> Plus apparently hbgd requires hbct lib, too. I'll fix that in
> SVN, until then also add -lhbct option.
>
> Brgds,
> Viktor
>
> On Thu, Feb 25, 2010 at 3:59 PM, David MS <david at gesintur.com> wrote:
>
>> Hi Viktor,
>>
>> I have these errors when I including gdextern.ch
>>
>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x328):
>> referencia a `HB_FUN_COS' sin definir
>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x348):
>> referencia a `HB_FUN_SIN' sin definir
>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x4d8):
>> referencia a `HB_FUN_CEILING' sin definir
>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0x848):
>> referencia a `HB_FUN_PI' sin definir
>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0xa48):
>> referencia a `HB_FUN_COS' sin definir
>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0xa58):
>> referencia a `HB_FUN_SIN' sin definir
>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x17):
>> referencia a `gdImageDestroy at 4'  sin definir
>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x29e):
>> referencia a `gdImageCreateFromGdPtr at 8'  sin definir
>>
>> ...
>> ...
>>
>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x4fb1):
>> referencia a `gdFontCacheShutdown at 0' sin  definir
>> collect2: ld returned 1 exit status
>> hbmk2: Error: Running linker. 1
>>
>> The project's hbp file contains -lhbgd. What am I doing wrong?
>>
>> TIA
>> David MS
>

From bedipritpal at hotmail.com  Thu Feb 25 10:57:03 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 10:57:11 2010
Subject: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
Message-ID: <1267113423796-4633298.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Anyhow you can change the default color mapping using
> HB_GTINFO( HB_GTI_PALETTE, { ... } ) or
> HB_GTINFO( HB_GTI_PALETTE, 6, 0x008585 )
> 
> [ This all applies only to GTWVT, you're
> using a GTWVG header though in the example,
> so please note that GTWVG has different colors,
> and also the palette setting method is incompatible
> with GTWVT. ]
> 

Can you fix it in GTWVG also?
I am totally involved with Qt and have not GTWVG 
parallel with GTWVT for almost a year and can be offtrack.

Resetting the pallete is more complete in GTWVG, 
can you look into that also?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/gtwvt-compatibility-issue-tp4631971p4633298.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Feb 25 11:00:02 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 11:00:13 2010
Subject: [Harbour] Re: Re: how to link all the funcions of a lib?
In-Reply-To: <07E3EBCA108D434D940ECDD7CCAE4015@INFOR04>
References: <EB2DDC8F7C4243FF97097EF111FF0358@INFOR04>
	<07E3EBCA108D434D940ECDD7CCAE4015@INFOR04>
Message-ID: <18d502871002250800w19fed1b3h1d196852604bc19b@mail.gmail.com>

Hi,

Exact same concept: Use the .hbc file.

Brgds,
Viktor

On Thu, Feb 25, 2010 at 4:51 PM, David MS <david@gesintur.com> wrote:

> Thanks Viktor, I'll waiting  your updates
>
> In the case of haru pdf, I created the .ch file as you said me with all
> functions of the wrapper
> but I get the following errors:
>
> C:/harbour-svn/harbour/lib/win/mingw/libhbhpdf.a(harupdf.o):harupdf.c:(.text+0x1b):
> referencia a `HPDF_Free' sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbhpdf.a(harupdf.o):harupdf.c:(.text+0x59):
> referencia a `HPDF_New' sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbhpdf.a(harupdf.o):harupdf.c:(.text+0xa4):
> referencia a `HPDF_Free' sin definir
> C:/harbour-svn/harbour/lib/win/mingw/libhbhpdf.a(harupdf.o):harupdf.c:(.text+0xe4):
> referencia a `HPDF_NewDoc' sin definir
> ....
> ....
>
> I put this in hpdfextern.ch:
>
> EXTERNAL HPDF_NEW
> EXTERNAL HPDF_FREE
> EXTERNAL HPDF_NEWDOC
> EXTERNAL HPDF_FREEDOC
> EXTERNAL HPDF_FREEDOCALL
> EXTERNAL HPDF_SAVETOFILE
> EXTERNAL HPDF_SAVETOSTREAM
> EXTERNAL HPDF_GETSTREAMSIZE
> EXTERNAL HPDF_READFROMSTREAM
> EXTERNAL HPDF_RESETSTREAM
> EXTERNAL HPDF_HASDOC
> EXTERNAL HPDF_SETERRORHANDLER
> EXTERNAL HPDF_GETERROR
> EXTERNAL HPDF_RESETERROR
> EXTERNAL HPDF_SETPAGESCONFIGURATION
> EXTERNAL HPDF_SETPAGELAYOUT
> EXTERNAL HPDF_GETPAGELAYOUT
> EXTERNAL HPDF_SETPAGEMODE
> EXTERNAL HPDF_GETPAGEMODE
> EXTERNAL HPDF_SETOPENACTION
> EXTERNAL HPDF_GETCURRENTPAGE
> EXTERNAL HPDF_ADDPAGE
> EXTERNAL HPDF_INSERTPAGE
> EXTERNAL HPDF_GETFONT
> EXTERNAL HPDF_LOADTYPE1FONTFROMFILE
> EXTERNAL HPDF_LOADTTFONTFROMFILE
> EXTERNAL HPDF_LOADTTFONTFROMFILE2
> EXTERNAL HPDF_ADDPAGELABEL
> EXTERNAL HPDF_USEJPFONTS
> EXTERNAL HPDF_USEKRFONTS
> EXTERNAL HPDF_USECNSFONTS
> EXTERNAL HPDF_USECNTFONTS
> EXTERNAL HPDF_CREATEEXTGSTATE
> EXTERNAL HPDF_CREATEOUTLINE
> EXTERNAL HPDF_GETENCODER
> EXTERNAL HPDF_GETCURRENTENCODER
> EXTERNAL HPDF_SETCURRENTENCODER
> EXTERNAL HPDF_USEJPENCODINGS
> EXTERNAL HPDF_USEKRENCODINGS
> EXTERNAL HPDF_USECNSENCODINGS
> EXTERNAL HPDF_USECNTENCODINGS
> EXTERNAL HPDF_LOADPNGIMAGEFROMFILE
> EXTERNAL HPDF_LOADPNGIMAGEFROMFILE2
> EXTERNAL HPDF_LOADRAWIMAGEFROMFILE
> EXTERNAL HPDF_LOADRAWIMAGEFROMMEM
> EXTERNAL HPDF_LOADJPEGIMAGEFROMFILE
> EXTERNAL HPDF_SETINFOATTR
> EXTERNAL HPDF_GETINFOATTR
> EXTERNAL HPDF_SETINFODATEATTR
> EXTERNAL HPDF_SETPASSWORD
> EXTERNAL HPDF_SETPERMISSION
> EXTERNAL HPDF_SETENCRYPTIONMODE
> EXTERNAL HPDF_SETCOMPRESSIONMODE
> EXTERNAL HPDF_PAGE_SETWIDTH
> EXTERNAL HPDF_PAGE_SETHEIGHT
> EXTERNAL HPDF_PAGE_SETSIZE
> EXTERNAL HPDF_PAGE_SETROTATE
> EXTERNAL HPDF_PAGE_GETWIDTH
> EXTERNAL HPDF_PAGE_GETHEIGHT
> EXTERNAL HPDF_PAGE_CREATEDESTINATION
> EXTERNAL HPDF_PAGE_CREATETEXTANNOT
> EXTERNAL HPDF_PAGE_CREATELINKANNOT
> EXTERNAL HPDF_PAGE_CREATEURILINKANNOT
> EXTERNAL HPDF_PAGE_TEXTWIDTH
> EXTERNAL HPDF_PAGE_MEASURETEXT
> EXTERNAL HPDF_PAGE_GETGMODE
> EXTERNAL HPDF_PAGE_GETCURRENTPOS
> EXTERNAL HPDF_PAGE_GETCURRENTTEXTPOS
> EXTERNAL HPDF_PAGE_GETCURRENTFONT
> EXTERNAL HPDF_PAGE_GETCURRENTFONTSIZE
> EXTERNAL HPDF_PAGE_GETTRANSMATRIX
> EXTERNAL HPDF_PAGE_GETLINEWIDTH
> EXTERNAL HPDF_PAGE_GETLINECAP
> EXTERNAL HPDF_PAGE_GETLINEJOIN
> EXTERNAL HPDF_PAGE_GETMITERLIMIT
> EXTERNAL HPDF_PAGE_GETDASH
> EXTERNAL HPDF_PAGE_GETFLAT
> EXTERNAL HPDF_PAGE_GETCHARSPACE
> EXTERNAL HPDF_PAGE_GETWORDSPACE
> EXTERNAL HPDF_PAGE_GETHORIZONTALSCALLING
> EXTERNAL HPDF_PAGE_GETTEXTLEADING
> EXTERNAL HPDF_PAGE_GETTEXTRENDERINGMODE
> EXTERNAL HPDF_PAGE_GETTEXTRISE
> EXTERNAL HPDF_PAGE_GETRGBFILL
> EXTERNAL HPDF_PAGE_GETRGBSTROKE
> EXTERNAL HPDF_PAGE_GETCMYKFILL
> EXTERNAL HPDF_PAGE_GETCMYKSTROKE
> EXTERNAL HPDF_PAGE_GETGRAYFILL
> EXTERNAL HPDF_PAGE_GETGRAYSTROKE
> EXTERNAL HPDF_PAGE_GETSTROKINGCOLORSPACE
> EXTERNAL HPDF_PAGE_GETFILLINGCOLORSPACE
> EXTERNAL HPDF_PAGE_GETTEXTMATRIX
> EXTERNAL HPDF_PAGE_GETGSTATEDEPTH
> EXTERNAL HPDF_PAGE_SETSLIDESHOW
>
> // GRAPHICS
>
> EXTERNAL HPDF_PAGE_SETLINEWIDTH
> EXTERNAL HPDF_PAGE_SETLINECAP
> EXTERNAL HPDF_PAGE_SETLINEJOIN
> EXTERNAL HPDF_PAGE_SETMITERLIMIT
> EXTERNAL HPDF_PAGE_SETDASH
> EXTERNAL HPDF_PAGE_SETEXTGSTATE
> EXTERNAL HPDF_PAGE_GSAVE
> EXTERNAL HPDF_PAGE_GRESTORE
> EXTERNAL HPDF_PAGE_CONCAT
> EXTERNAL HPDF_PAGE_MOVETO
> EXTERNAL HPDF_PAGE_LINETO
> EXTERNAL HPDF_PAGE_CURVETO
> EXTERNAL HPDF_PAGE_CURVETO2
> EXTERNAL HPDF_PAGE_CURVETO3
> EXTERNAL HPDF_PAGE_CLOSEPATH
> EXTERNAL HPDF_PAGE_RECTANGLE
> EXTERNAL HPDF_PAGE_STROKE
> EXTERNAL HPDF_PAGE_CLOSEPATHSTROKE
> EXTERNAL HPDF_PAGE_SETFONTANDSIZE
> EXTERNAL HPDF_PAGE_BEGINTEXT
> EXTERNAL HPDF_PAGE_ENDTEXT
> EXTERNAL HPDF_PAGE_TEXTOUT
> EXTERNAL HPDF_PAGE_MOVETEXTPOS
> EXTERNAL HPDF_PAGE_SHOWTEXT
> EXTERNAL HPDF_PAGE_FILL
> EXTERNAL HPDF_PAGE_EOFILL
> EXTERNAL HPDF_PAGE_FILLSTROKE
> EXTERNAL HPDF_PAGE_EOFILLSTROKE
> EXTERNAL HPDF_PAGE_CLOSEPATHFILLSTROKE
> EXTERNAL HPDF_PAGE_CLOSEPATHEOFILLSTROKE
> EXTERNAL HPDF_PAGE_ENDPATH
> EXTERNAL HPDF_PAGE_CLIP
> EXTERNAL HPDF_PAGE_EOCLIP
> EXTERNAL HPDF_PAGE_SETCHARSPACE
> EXTERNAL HPDF_PAGE_SETWORDSPACE
> EXTERNAL HPDF_PAGE_SETHORIZONTALSCALLING
> EXTERNAL HPDF_PAGE_SETTEXTLEADING
> EXTERNAL HPDF_PAGE_SETTEXTRENDERINGMODE
> EXTERNAL HPDF_PAGE_SETTEXTRISE
> EXTERNAL HPDF_PAGE_MOVETEXTPOS2
> EXTERNAL HPDF_PAGE_SETTEXTMATRIX
> EXTERNAL HPDF_PAGE_MOVETONEXTLINE
> EXTERNAL HPDF_PAGE_SHOWTEXTNEXTLINE
> EXTERNAL HPDF_PAGE_SHOWTEXTNEXTLINEEX
> EXTERNAL HPDF_PAGE_SETGRAYFILL
> EXTERNAL HPDF_PAGE_SETGRAYSTROKE
> EXTERNAL HPDF_PAGE_SETRGBFILL
> EXTERNAL HPDF_PAGE_SETRGBSTROKE
> EXTERNAL HPDF_PAGE_SETCMYKFILL
> EXTERNAL HPDF_PAGE_SETCMYKSTROKE
> EXTERNAL HPDF_PAGE_EXECUTEXOBJECT
> EXTERNAL HPDF_PAGE_DRAWIMAGE
> EXTERNAL HPDF_PAGE_CIRCLE
> EXTERNAL HPDF_PAGE_ARC
> EXTERNAL HPDF_PAGE_ELLIPSE
> EXTERNAL HPDF_PAGE_TEXTRECT
>
> // FONTS
>
> EXTERNAL HPDF_FONT_GETFONTNAME
> EXTERNAL HPDF_FONT_GETENCODINGNAME
> EXTERNAL HPDF_FONT_GETUNICODEWIDTH
> EXTERNAL HPDF_FONT_GETBBOX
> EXTERNAL HPDF_FONT_GETASCENT
> EXTERNAL HPDF_FONT_GETDESCENT
> EXTERNAL HPDF_FONT_GETXHEIGHT
> EXTERNAL HPDF_FONT_GETCAPHEIGHT
> EXTERNAL HPDF_FONT_TEXTWIDTH
> EXTERNAL HPDF_FONT_MEASURETEXT
>
> // ENCODING
>
> EXTERNAL HPDF_ENCODER_GETTYPE
> EXTERNAL HPDF_ENCODER_GETBYTETYPE
> EXTERNAL HPDF_ENCODER_GETUNICODE
> EXTERNAL HPDF_ENCODER_GETWRITINGMODE
>
> // ANNOTATION
>
> EXTERNAL HPDF_LINKANNOT_SETHIGHLIGHTMODE
> EXTERNAL HPDF_LINKANNOT_SETBORDERSTYLE
> EXTERNAL HPDF_TEXTANNOT_SETICON
> EXTERNAL HPDF_TEXTANNOT_SETOPENED
>
> // OUTLINE
>
> EXTERNAL HPDF_OUTLINE_SETOPENED
> EXTERNAL HPDF_OUTLINE_SETDESTINATION
>
> // DESTINATION
>
> EXTERNAL HPDF_DESTINATION_SETXYZ
> EXTERNAL HPDF_DESTINATION_SETFIT
> EXTERNAL HPDF_DESTINATION_SETFITH
> EXTERNAL HPDF_DESTINATION_SETFITV
> EXTERNAL HPDF_DESTINATION_SETFITR
> EXTERNAL HPDF_DESTINATION_SETFITB
> EXTERNAL HPDF_DESTINATION_SETFITBH
> EXTERNAL HPDF_DESTINATION_SETFITBV
>
> // IMAGE
>
> EXTERNAL HPDF_IMAGE_GETSIZE
> EXTERNAL HPDF_IMAGE_GETWIDTH
> EXTERNAL HPDF_IMAGE_GETHEIGHT
> EXTERNAL HPDF_IMAGE_GETBITSPERCOMPONENT
> EXTERNAL HPDF_IMAGE_GETCOLORSPACE
> EXTERNAL HPDF_IMAGE_SETCOLORMASK
> EXTERNAL HPDF_IMAGE_SETMASKIMAGE
>
> // ExtGState
>
> EXTERNAL HPDF_EXTGSTATE_SETALPHASTROKE
> EXTERNAL HPDF_EXTGSTATE_SETALPHAFILL
> EXTERNAL HPDF_EXTGSTATE_SETBLENDMODE
> EXTERNAL HPDF_VERSION_TEXT
>
>
>
>
>  Hi David,
>>
>> You should add hbgd.hbc to link all required libs,
>> looks like gd import lib is missing in this case.
>>
>> Plus apparently hbgd requires hbct lib, too. I'll fix that in
>> SVN, until then also add -lhbct option.
>>
>> Brgds,
>> Viktor
>>
>> On Thu, Feb 25, 2010 at 3:59 PM, David MS <david at gesintur.com> wrote:
>>
>>  Hi Viktor,
>>>
>>> I have these errors when I including gdextern.ch
>>>
>>>
>>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x328):
>>> referencia a `HB_FUN_COS' sin definir
>>>
>>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x348):
>>> referencia a `HB_FUN_SIN' sin definir
>>>
>>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdchart.o):gdchart.c:(.data+0x4d8):
>>> referencia a `HB_FUN_CEILING' sin definir
>>>
>>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0x848):
>>> referencia a `HB_FUN_PI' sin definir
>>>
>>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0xa48):
>>> referencia a `HB_FUN_COS' sin definir
>>>
>>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdimage.o):gdimage.c:(.data+0xa58):
>>> referencia a `HB_FUN_SIN' sin definir
>>>
>>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x17):
>>> referencia a `gdImageDestroy at 4'  sin definir
>>>
>>>
>>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x29e):
>>> referencia a `gdImageCreateFromGdPtr at 8'  sin definir
>>>
>>>
>>> ...
>>> ...
>>>
>>>
>>> C:/harbour-svn/harbour/lib/win/mingw/libhbgd.a(gdwrp.o):gdwrp.c:(.text+0x4fb1):
>>> referencia a `gdFontCacheShutdown at 0' sin  definir
>>>
>>> collect2: ld returned 1 exit status
>>> hbmk2: Error: Running linker. 1
>>>
>>> The project's hbp file contains -lhbgd. What am I doing wrong?
>>>
>>> TIA
>>> David MS
>>>
>>
>>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/9c93ace9/attachment.html
From fperillo at gmail.com  Thu Feb 25 11:01:51 2010
From: fperillo at gmail.com (francesco perillo)
Date: Thu Feb 25 11:01:58 2010
Subject: [Harbour] Anyone using hbqt ?
Message-ID: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>

I see Qt has lots of possibilities, is very powerfull and widely available...

There are lots of tutorials and sample code available (and demos in
the Qt package are terrific!) but they are for C++

Now the question: if I want to start using hbxpb/hbqt where should I
start ? Is hbide and demoxpb the only available source code ?

Is hbxpb the only way to use hbqt ? Are all features of Qt available
to harbour ?

Thanks,
Francesco
From marcobra.ubuntu at gmail.com  Thu Feb 25 11:04:04 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Feb 25 11:04:16 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <1267111708012-4633080.post@n2.nabble.com>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
	<54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
	<1267111708012-4633080.post@n2.nabble.com>
Message-ID: <fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>

As a very first trying to debug the main variables and i never see the
terminal output of:

?" ------ *xxx " + cRootPath

is this function called, or might by hbide redirect the standard output ?

--------------------------------

FUNCTION hbide_fetchSubPaths( aPaths, cRootPath, lSubs )
   LOCAL aDir, a_

   DEFAULT lSubs TO .t.

   ?" ------ * " + cRootPath

   IF right( cRootPath, 1 ) != hb_osPathSeparator()
      cRootPath += hb_osPathSeparator()
   ENDIF

   ?" ------ ** " + cRootPath

   cRootPath := hbide_pathToOSPath( cRootPath )

   ?" ------ *** " + cRootPath


   aadd( aPaths, cRootPath )

   IF lSubs
      aDir := directory( cRootPath + "*.", "D" )
      FOR EACH a_ IN aDir
         IF a_[ 5 ] == "D" .AND. left( a_[ 1 ], 1 ) != "."
            hbide_fetchSubPaths( @aPaths, cRootPath + a_[ 1 ] )
         ENDIF
      NEXT
   ENDIF

   RETURN NIL


Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/81c124b8/attachment-0001.html
From harbour.01 at syenar.hu  Thu Feb 25 11:12:39 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 11:12:47 2010
Subject: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <1267113423796-4633298.post@n2.nabble.com>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com>
Message-ID: <18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>

Hi Pritpal,


> > Anyhow you can change the default color mapping using
> > HB_GTINFO( HB_GTI_PALETTE, { ... } ) or
> > HB_GTINFO( HB_GTI_PALETTE, 6, 0x008585 )
> >
> > [ This all applies only to GTWVT, you're
> > using a GTWVG header though in the example,
> > so please note that GTWVG has different colors,
> > and also the palette setting method is incompatible
> > with GTWVT. ]
> >
>
> Can you fix it in GTWVG also?
>

Yes, I can fix the colors and the palette index handling,
but last time you specifically resisted of this latter change,
so I didn't do it. It would surely be good to have them
synced.


> I am totally involved with Qt and have not GTWVG
> parallel with GTWVT for almost a year and can be offtrack.
>
> Resetting the pallete is more complete in GTWVG,
> can you look into that also?
>

I'm not 100% sure what you mean. The exact same
code is used for HB_GTI_PALETTE handling in both GTs,
except that GTWVG wasn't updated to use zero based
color indexes, because it would have broken your local
apps.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/8eb893c6/attachment.html
From bedipritpal at hotmail.com  Thu Feb 25 11:18:02 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 11:18:09 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
Message-ID: <1267114682672-4633435.post@n2.nabble.com>



francesco perillo wrote:
> 
> I see Qt has lots of possibilities, is very powerfull and widely
> available...
> 
> There are lots of tutorials and sample code available (and demos in
> the Qt package are terrific!) but they are for C++
> 
> Now the question: if I want to start using hbxpb/hbqt where should I
> start ? Is hbide and demoxpb the only available source code ?
> 
> Is hbxpb the only way to use hbqt ? Are all features of Qt available
> to harbour ?
> 

hbXBP is a class framework based on Xbase++ class documentation.
It uses hbQT for GUI implementation.

demoQT.prg in contrib/hbqt/tests is a pure hbQT based demo application.

hbIDE is a combination of hbXBP calls and pure hbQT class calls.

hbIDE is a powerful application demonstration
( if we take it in this context ) which exposes many-many constructs
of Qt. 

What else you are asing for, or expecting ?

BTW, Bacco and Vailton will soon release some application 
based on pure Qt, you can wait for them to be available.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Anyone-using-hbqt-tp4633339p4633435.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Feb 25 11:21:50 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 11:21:57 2010
Subject: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com>
	<18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
Message-ID: <1267114910259-4633464.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> I'm not 100% sure what you mean. The exact same
> code is used for HB_GTI_PALETTE handling in both GTs,
> except that GTWVG wasn't updated to use zero based
> color indexes, because it would have broken your local
> apps.
> 

Oh yep, now I remeber.

You please fix the other part. I will look into it deeply
at a later date. Thanks for taking pain.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/gtwvt-compatibility-issue-tp4631971p4633464.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Feb 25 11:25:00 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 11:25:08 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
	<54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
	<1267111708012-4633080.post@n2.nabble.com>
	<fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
Message-ID: <1267115100945-4633490.post@n2.nabble.com>



marco bra wrote:
> 
> As a very first trying to debug the main variables and i never see the
> terminal output of:
> 
> ?" ------ *xxx " + cRootPath
> 
> is this function called, or might by hbide redirect the standard output ?
> 
> --------------------------------
> 
> FUNCTION hbide_fetchSubPaths( aPaths, cRootPath, lSubs )
>    LOCAL aDir, a_
> 
>    DEFAULT lSubs TO .t.
> 
>    ?" ------ * " + cRootPath
> 
>    IF right( cRootPath, 1 ) != hb_osPathSeparator()
>       cRootPath += hb_osPathSeparator()
>    ENDIF
> 
>    ?" ------ ** " + cRootPath
> 
>    cRootPath := hbide_pathToOSPath( cRootPath )
> 
>    ?" ------ *** " + cRootPath
> 
> 
>    aadd( aPaths, cRootPath )
> 
>    IF lSubs
>       aDir := directory( cRootPath + "*.", "D" )
>       FOR EACH a_ IN aDir
>          IF a_[ 5 ] == "D" .AND. left( a_[ 1 ], 1 ) != "."
>             hbide_fetchSubPaths( @aPaths, cRootPath + a_[ 1 ] )
>          ENDIF
>       NEXT
>    ENDIF
> 
>    RETURN NIL
> 

Qt implemenattion is not GT oriented at all.
So all calls to GT functions will be ignored.
Call hbide_dbg( ... ) instead, you will get the output 
in a debugger - dbgview.exe, search the web.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13985-trunk-harbour-tp4629809p4633490.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Feb 25 11:33:16 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 11:33:24 2010
Subject: [Harbour] Re: [Pritpal] HBIDE editor tabs illegible
In-Reply-To: <4B86821F.1060709@zen.co.uk>
References: <4B86821F.1060709@zen.co.uk>
Message-ID: <1267115596997-4633557.post@n2.nabble.com>



Barry Jackson wrote:
> 
> Also there is no response to File->new->project.
> 

It is the direct effect of latest changes. I will fix in a while.
Alternatively, right click on "Projects" node in projects tree at the left,
and select this option.



> I can find no way to open multiple .prg files.
> 

It is there. When fole-open dialog is presented, select 
multiple files with ctrl+click, and then presee open.



> Like - navigate to a folder and open *.prg and then save as a project ?
> Maybe I am missing something ;-/
> 

Can you detail how you want this feature to work.
The otherway around is there. Follow right-click on 
"Projects" node.



> Good work so far!
> 

Thank you.


BTW, I am writing a brief help and hope it to be ready to 
some extent to be usable this weekend. 

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Pritpal-HBIDE-editor-tabs-illegible-tp4632574p4633557.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From fperillo at gmail.com  Thu Feb 25 11:37:40 2010
From: fperillo at gmail.com (francesco perillo)
Date: Thu Feb 25 11:37:47 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <1267114682672-4633435.post@n2.nabble.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
Message-ID: <6943770e1002250837n1ece93d7i1a6cbec711d6573f@mail.gmail.com>

I'm collecting some infos at this stage because some aspects are
unknown or not clear to me.


> hbXBP is a class framework based on Xbase++ class documentation.
> It uses hbQT for GUI implementation.
>
> demoQT.prg in contrib/hbqt/tests is a pure hbQT based demo application.

Sorry, I missed it. From the source it seems that, up to now, there is
no .ch file with #define.

> hbIDE is a powerful application demonstration
> ( if we take it in this context ) which exposes many-many constructs
> of Qt.

Yes, it is really nice and this is the reason I'm gathering infos....

> What else you are asing for, or expecting ?

I'm asking for infos and sample code ! Expecially infos about porting
legacy code to Qt... for example, how can I emulate the PICTURE in GET
system ? or the WHEN/VALID ?

> BTW, Bacco and Vailton will soon release some application
> based on pure Qt, you can wait for them to be available.

It is really good ! I will try to contact them to have a preview, if
possible....

Thanks,
Francesco
PS: is it possible to compile a static hbide.exe for distribution ? If
yes, how ?
From zen25000 at zen.co.uk  Thu Feb 25 11:46:50 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb 25 11:46:58 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <1267114682672-4633435.post@n2.nabble.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
Message-ID: <4B86A97A.2080200@zen.co.uk>

On 25/02/10 16:18, Pritpal Bedi wrote:

I understand the question.

> hbIDE is a powerful application demonstration
> ( if we take it in this context ) which exposes many-many constructs
> of Qt.

Certainly, but for the beginner ( or old Clipper person like me ) that's 
too big a step.

> What else you are asing for, or expecting ?
>

Any chance of "Hello_Qt_World.prg" with a push button. Nothing more. 
Just to get started ?

The xhgtk samples are the sort of thing I mean, see button01.prg below.

Rgds
Barry

/*
  * $Id: button01.prg 396 2010-01-29 13:54:36Z marcosgambeta $
*/

/*

xHGTK sample
Copyright 2005 by Marcos Antonio Gambeta

*/

#include "gtk.ch"

PROCEDURE Main ()

    LOCAL pWindow // pointer to the widget GtkWindow
    LOCAL pButton // pointer to the widget GtkButton

    // initialize GTK+
    gtk_init()

    // create the main window
    pWindow := gtk_window_new( GTK_WINDOW_TOPLEVEL )
    // define width and height of the main window
    gtk_widget_set_size_request( pWindow, 250, 50 )
    // define title
    gtk_window_set_title( pWindow, "GtkButton - sample 1" )
    // define start position
    gtk_window_set_position( pWindow, GTK_WIN_POS_CENTER )

    // create the widget GtkButton
    pButton := gtk_button_new()
    // add the widget to the window
    gtk_container_add( pWindow, pButton )
    // turn the widget visible
    gtk_widget_show( pButton )

    // close the application if the window is destroyed
    gtk_signal_connect( pWindow, "destroy", {|| gtk_main_quit() } )
    // destroy the window if the button is clicked
    gtk_signal_connect( pButton, "clicked", {|| gtk_widget_destroy( 
pWindow ) } )

    // show the window
    gtk_widget_show( pWindow )

    // start the main loop
    gtk_main()

RETURN
From bedipritpal at hotmail.com  Thu Feb 25 12:06:49 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 12:06:56 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <4B86A97A.2080200@zen.co.uk>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
Message-ID: <1267117609523-4633795.post@n2.nabble.com>



Barry Jackson wrote:
> 
> Any chance of "Hello_Qt_World.prg" with a push button. Nothing more. 
> Just to get started ?
> 
> The xhgtk samples are the sort of thing I mean, see button01.prg below.
> 



REQUEST HB_QT

STATIC s_qApp
STATIC s_slots

INIT PROCEDURE Qt_Start()
   hbqt_errorsys()
   s_qApp := QApplication():new()
   RETURN

EXIT PROCEDURE Qt_End()
   s_qApp:quit()
   RETURN

PROCEDURE Main()
   Local oWnd, oDA, oBtn

   s_slots := QT_SLOTS_NEW()

   oWnd := QMainWindow():new()
   oWnd:setWindowTitle( "Harbour-Qt Implementation Test Dialog" )
   oWnd:setWindowIcon( "test" )
   oWnd:resize( 900, 500 )

   oDA  := QWidget():new( oWnd )
   oWnd:setCentralWidget( oDA )

   oWnd:show()

   oBtn := QPushButton():new( oDA )
   oBtn:move( 200, 100 )
   oBtn:resize( 60, 30 )
   oBtn:setText( "Hello World" )
   oBtn:show()
   QT_SLOTS_CONNECT( s_slots, oBtn, "clicked()", {|| oWnd:close() } )

   oWnd:Show()

   s_qApp:exec()

   RETURN


A quick pullout of hbqt/tests/demoqt.prg, not tested,
but surely you can grab the contents.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Anyone-using-hbqt-tp4633339p4633795.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From fperillo at gmail.com  Thu Feb 25 12:11:33 2010
From: fperillo at gmail.com (francesco perillo)
Date: Thu Feb 25 12:11:44 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <4B86A97A.2080200@zen.co.uk>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
Message-ID: <6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>

Not only this little samples (I already wrote last week that little
"dedicated" samples are better that a monolithic source full of
everything...

But I also ask for Qt/harbour integration, or how to map harbour
object on Qt widgets and viceversa...

so, demoxpb shows that Qt is usable, hbide shows that hbqt/hbxpb are
really usable and can create a nice looking, feature full application.
But none give an idea of a migration path from harbour... I already
cited PICTURE and I now add TBrowse... Qt has a really nice Table
implementation, really powerful and customizable (using styles, using
views, you can write in cells directly..) but this means completely
dropping old code...

Then I would like to view a "commercial-grade" dbf-based form of
something... it can be a stupid recipe bookkeeper to a stupid
agenda...

And, finally, a bit of docs... best practices... for example in C++
world, I saw samples where form code was contained in a class...
..or a little doc stating how hbqt is glued with Qt....

I will do some tests asap, in the meantime if some other samples are
published it would be good...

thanks
From bruno.luciani at gmail.com  Thu Feb 25 12:20:54 2010
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Feb 25 12:21:03 2010
Subject: [Harbour] Ads,ch
Message-ID: <133778361002250920m68b2c270i14c4992cf55fb599@mail.gmail.com>

Why ads.ch is missing in include  folder ?


Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/4ecee08e/attachment.html
From vouchcac at users.sourceforge.net  Thu Feb 25 12:22:43 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 25 12:22:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13993] trunk/harbour
Message-ID: <E1NkhQB-0001Dp-SN@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13993
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13993&view=rev
Author:   vouchcac
Date:     2010-02-25 17:22:42 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 09:09 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)

  + contrib/hbide/resources/harbour_splash.png

  * contrib/hbide/resources/themesex.ui
  * contrib/hbide/resources/themesex.uic

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideobject.prg
  * contrib/hbide/idesaveload.prg
  * contrib/hbide/idethemes.prg

    + Splash screen popping up at the startup before main 
      window is displayed. Your comments are welcome.

    ! Enabled menu options which were accidentally got disabled some
      time back, do not remember - why.

    ! Themes: centralized "Set as Default" option in "Images" dialog.
      Removed from <Setup> menu option. 

    ! Some more rationalizations.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideobject.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/idethemes.prg
    trunk/harbour/contrib/hbide/resources/themesex.ui
    trunk/harbour/contrib/hbide/resources/themesex.uic

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/harbour_splash.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Thu Feb 25 12:57:25 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Thu Feb 25 12:57:33 2010
Subject: [Harbour] Anyone using hbqt ?
In-Reply-To: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
Message-ID: <578c73341002250957g41b62369sc07cabb126b188ee@mail.gmail.com>

Hi, sorry by my bad english.

Bruno Luciani and I are working in a framework based in minigui sintax that
use pure hbqt (very nice Pritpal's work)

Our hello world is like this:

1.- Basic

#include "hbqtc.ch"

Function main()

   HbQtC_MsgInfo( "Hello World" )

Return .T.

2. Basic +

#include "hbqtc.ch"

Function main()

   DEFINE WINDOW win
      WIDTH 100
      HEIGHT 100
      CAPTION "Hello World"

   END WINDOW

   DoMethod( "win" , "center" )
   DoMethod( "win" , "activate" )

Return .T.

3.- Basic ++

#include "hbqtc.ch"

Function main()

   DEFINE WINDOW win
      WIDTH 100
      HEIGHT 100
      CAPTION "Hello World"

      DEFINE LABEL label1
         VALUE "Hello World"
         ROW 10
         COL 10
      END LABEL

   END WINDOW

   DoMethod( "win" , "center" )
   DoMethod( "win" , "activate" )

Return .T.


4.- Basic +++

#include "hbqtc.ch"

Function main()

   DEFINE WINDOW win
      WIDTH 100
      HEIGHT 100
      CAPTION "Hello World"

      DEFINE LABEL label1
         VALUE "Hello World"
         ROW 10
         COL 10
      END LABEL

      DEFINE BUTTON button1
         ROW 40
         COL 10
         ONCLICK HbQtC_MsgInfo( "Hello World" )
         CAPTION "Press button"
      END BUTTON

   END WINDOW

   DoMethod( "win" , "center" )
   DoMethod( "win" , "activate" )

Return .T.

etc, etc, etc.

This framework is in planed stage, but you can see the code in
http://sourceforge.net/projects/hbqtcommand/

Regards
CdQ

On Thu, Feb 25, 2010 at 1:01 PM, francesco perillo <fperillo@gmail.com>wrote:

> I see Qt has lots of possibilities, is very powerfull and widely
> available...
>
> There are lots of tutorials and sample code available (and demos in
> the Qt package are terrific!) but they are for C++
>
> Now the question: if I want to start using hbxpb/hbqt where should I
> start ? Is hbide and demoxpb the only available source code ?
>
> Is hbxpb the only way to use hbqt ? Are all features of Qt available
> to harbour ?
>
> Thanks,
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/b51de91b/attachment.html
From zen25000 at zen.co.uk  Thu Feb 25 13:11:05 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb 25 13:11:13 2010
Subject: [Harbour] xhgtk - undefined reference to `hb_gcAlloc'
Message-ID: <4B86BD39.4010406@zen.co.uk>

[baz@jackodesktop classes]$ hbmk2 about.prg -lxhgtk
hbmk2: Processing configuration: /usr/bin/hbmk.cfg
Harbour 2.1.0dev (Rev. 13988)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'about.prg'...
Lines 5186, Functions/Procedures 2
Generating C source output to 'about.c'... Done.
/usr/lib/harbour/libxhgtk.so: undefined reference to `hb_gcAlloc'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc about.o hbmk_8hvdad.o   -Wl,--start-group -lxhgtk -lhbcplr -lhbdebug 
-lharbour  -Wl,--end-group -oabout -L/usr/lib/harbour

What am I missing?
Same happens with all xhgtk samples tested.
From vouchcac at users.sourceforge.net  Thu Feb 25 13:12:06 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 25 13:12:14 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13994] trunk/harbour
Message-ID: <E1NkiBy-0008GN-Kd@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13994
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13994&view=rev
Author:   vouchcac
Date:     2010-02-25 18:12:05 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 10:08 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/gtqtc/gtqtc.cpp
  * contrib/hbqt/gtqtc/gtqtc.h
  * contrib/hbqt/gtqtc/Makefile
    ! Fixed to work with current location and non-UNICODE builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/gtqtc/Makefile
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.cpp
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Feb 25 13:21:34 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 13:21:44 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
Message-ID: <1267122094485-4634325.post@n2.nabble.com>



francesco perillo wrote:
> 
> Not only this little samples (I already wrote last week that little
> "dedicated" samples are better that a monolithic source full of
> everything...
> 

Probbaly some others should jump into this stream...



> But I also ask for Qt/harbour integration, or how to map harbour
> object on Qt widgets and viceversa...
> 
> so, demoxpb shows that Qt is usable, hbide shows that hbqt/hbxpb are
> really usable and can create a nice looking, feature full application.
> But none give an idea of a migration path from harbour... I already
> cited PICTURE and I now add TBrowse... Qt has a really nice Table
> implementation, really powerful and customizable (using styles, using
> views, you can write in cells directly..) but this means completely
> dropping old code...
> 

You do not have to.

Probably you missed some of the earlier commits.
Here is the reminder:

1. Open console from where you compile hbQT
2. Goto harbour/contrib/hbqt/gtqtc
3. Issue > make install
4. If library is built, then, go to further deep in /tests
5. Issue > hbmk2.exe demoqtc , and if .exe is generated
6. Run > demoqtc
7. Play with options and inspect the demoqtc.prg, it is pure Clipper code.

Though there are few glitches and still is not production level ready,
but amply demonstrate the potentials. I did not work on remaining 
glitches as, at that point of time, I was not familiar with Qt inside-out.
Now I am more equipped. If there is ample interest, and shown on this also,
then I can look into GTQTC again.
 


> Then I would like to view a "commercial-grade" dbf-based form of
> something... it can be a stupid recipe bookkeeper to a stupid
> agenda...
> 
> And, finally, a bit of docs... best practices... for example in C++
> world, I saw samples where form code was contained in a class...
> ..or a little doc stating how hbqt is glued with Qt....
> 

Soon, you will find, at least starting with, documentation.
Wait a few days more.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Anyone-using-hbqt-tp4633339p4634325.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Feb 25 13:34:07 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 13:34:29 2010
Subject: [Harbour] Doc format #2
In-Reply-To: <eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
Message-ID: <4B71C726-A6B9-4B41-90A1-AE8319D5B5E6@syenar.hu>

Hi All,

What we've decided/know about doc files so far (update #2):

Location: <root>/doc/<IETF language code>/<type><filename>.txt
Format: NANFORUM (see: /doc/hdr_tpl.txt)
Codepage: UTF-8

<root>:
is empty for core functions residing in /src.
is '/contrib/<libname>' for contrib libs.

<IETF language code> for some languages:
en - English (generic)
es - Spanish (generic)
hu-HU - Hungarian
pt-BR - Portuguese (Brazil)

<type>:
'func_' - .prg level function
'class_' - class
'pp_' - preprocessor directive
'cmd_' - command
'cfunc_' - .c level function

<filename>:
should be the function name "prefix", this can 
be the namespace ('hb_lib', 'ord'), or first one 
('a', 'f') letter, or complete name of function 
being documented ('tbrowse'). Always lowercase, 
long filename allowed.

examples:
  /doc/en/cfunc_hb_fs.txt - containing hb_fs*() (FSAPI) functions.
  /doc/en/func_hb_bit.txt - containing HB_BIT*() functions.
  /doc/en/func_hb_f.txt - containing HB_F*() functions.
  /doc/en/func_hb_os.txt - containing HB_OS*() functions.
  /doc/en/func_ord.txt - containing ORD*() functions.
  /doc/en/class_tbrowse.txt - containing TBROWSE() class.
  /doc/en/func_a.txt - containing all A*() functions.
  /contrib/hbsqlit3/doc/en/func_sqlite3.txt - containing all SQLITE3_*() functions.

[ I'm sending this off of my draft folder, pls continue 
to work on it. ]

Brgds,
Viktor

From m.lacecilia at gmail.com  Thu Feb 25 14:19:38 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Thu Feb 25 14:19:54 2010
Subject: R: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <1267122094485-4634325.post@n2.nabble.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com><1267114682672-4633435.post@n2.nabble.com><4B86A97A.2080200@zen.co.uk><6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
	<1267122094485-4634325.post@n2.nabble.com>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAc2d8YDY0hMmHRbVXOAHJgBAAAAAA==@gmail.com>

> francesco perillo wrote:
> > 
> > Not only this little samples (I already wrote last week that little
> > "dedicated" samples are better that a monolithic source full of
> > everything...
> > 
> 
> Probbaly some others should jump into this stream...

I agree with Francesco.
Also in HwGUI experience i found that a specific sample, exhausting the
most important aspects of the class/function/argument is more productive.

> You do not have to.
> 
> Probably you missed some of the earlier commits.
> Here is the reminder:
> 
> 1. Open console from where you compile hbQT
> 2. Goto harbour/contrib/hbqt/gtqtc
> 3. Issue > make install
> 4. If library is built, then, go to further deep in /tests
> 5. Issue > hbmk2.exe demoqtc , and if .exe is generated
> 6. Run > demoqtc
> 7. Play with options and inspect the demoqtc.prg, it is pure 
> Clipper code.
> 
> Though there are few glitches and still is not production level ready,
> but amply demonstrate the potentials. I did not work on remaining 
> glitches as, at that point of time, I was not familiar with 
> Qt inside-out.
> Now I am more equipped. If there is ample interest, and shown 
> on this also,
> then I can look into GTQTC again.
>  

Few time ago i inspetcted this contrib lib and found very interesting.
I don't tried to use it because i thought was a sleeping project.
Thus i'm sure very interested to a clipper based approach to Qt gui.

> Soon, you will find, at least starting with, documentation.
> Wait a few days more.

Good news.

Many thanks for the very effective work in hbide and Qt embedding.
Best regards.
Maurizio

From amigosam at adinet.com.uy  Thu Feb 25 14:20:23 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Feb 25 14:20:38 2010
Subject: [Harbour] Re: Przemyslaw,
 I need to know your position about HB_PP_MULTILINE support
In-Reply-To: <6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>	<20100225083049.GA30088@linux-4bod.home.aster.pl>
	<6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>
Message-ID: <hm6ihc$lrt$1@dough.gmane.org>

>
> Now all "dialect" APIs can just be freely developed using
> some very simple rules.
>
> Brgds,
> Viktor
>

Hi Viktor

What rule do I have to issue to make this work ?

Procedure Main
cString := 'ABC'
? cString[2]   // ------>   'B'
Return

Xbase++ users are VERY used to this syntax and makes string manipulation 
programs much simpler.

TIA
Angel

From harbour.01 at syenar.hu  Thu Feb 25 14:28:26 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 14:28:35 2010
Subject: [Harbour] Re: Przemyslaw, I need to know your position about 
	HB_PP_MULTILINE support
In-Reply-To: <hm6ihc$lrt$1@dough.gmane.org>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
	<20100225083049.GA30088@linux-4bod.home.aster.pl>
	<6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>
	<hm6ihc$lrt$1@dough.gmane.org>
Message-ID: <18d502871002251128m26f80cabsdb77e9199b743f16@mail.gmail.com>

Hi Angel,


> Hi Viktor
>
> What rule do I have to issue to make this work ?
>
> Procedure Main
> cString := 'ABC'
> ? cString[2]   // ------>   'B'
> Return
>
> Xbase++ users are VERY used to this syntax and makes string manipulation
> programs much simpler.
>

It's already implemented in xhb lib via operator overloading,
so you can either use that one, or similar implementation
can be copied to hbxpp (with possible adjustments to
fully mimic Xbase++ behavior).

You can find current implementation in these files:
  contrib/xhb/xhb.ch
  contrib/xhb/xhbcomp.prg
  contrib/xhb/xhbmsgs.c

(for array index support, you only need just a small
part of the above code)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/52ccf22b/attachment.html
From amigosam at adinet.com.uy  Thu Feb 25 14:41:42 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Feb 25 14:41:57 2010
Subject: [Harbour] Re: Przemyslaw,
 I need to know your position about  HB_PP_MULTILINE support
In-Reply-To: <18d502871002251128m26f80cabsdb77e9199b743f16@mail.gmail.com>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>	<20100225083049.GA30088@linux-4bod.home.aster.pl>	<6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>	<hm6ihc$lrt$1@dough.gmane.org>
	<18d502871002251128m26f80cabsdb77e9199b743f16@mail.gmail.com>
Message-ID: <hm6jpa$lrt$2@dough.gmane.org>

El 25/02/2010 17:28, Viktor Szak?ts escribi?:
> Hi Angel,
>
> (for array index support, you only need just a smallhank
> part of the above code)
>
> Brgds,
> Viktor
>

Thank you !

From harbour.01 at syenar.hu  Thu Feb 25 14:43:18 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 14:43:27 2010
Subject: [Harbour] Re: Przemyslaw, I need to know your position about 
	HB_PP_MULTILINE support
In-Reply-To: <hm6ihc$lrt$1@dough.gmane.org>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
	<20100225083049.GA30088@linux-4bod.home.aster.pl>
	<6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>
	<hm6ihc$lrt$1@dough.gmane.org>
Message-ID: <18d502871002251143m3340f054x119329a975482193@mail.gmail.com>

Angel,

Can you tell, if Xbase++ support negative indexes
in 'string[ n ]' operations?

I'd also be interested in the error messages you get
when using off limit or zero index.

Brgds,
Viktor

On Thu, Feb 25, 2010 at 8:20 PM, Angel Pais <amigosam@adinet.com.uy> wrote:

>
>> Now all "dialect" APIs can just be freely developed using
>> some very simple rules.
>>
>> Brgds,
>> Viktor
>>
>>
> Hi Viktor
>
> What rule do I have to issue to make this work ?
>
> Procedure Main
> cString := 'ABC'
> ? cString[2]   // ------>   'B'
> Return
>
> Xbase++ users are VERY used to this syntax and makes string manipulation
> programs much simpler.
>
> TIA
> Angel
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/459ebcd5/attachment.html
From qiinfo at ig.com.br  Thu Feb 25 14:45:33 2010
From: qiinfo at ig.com.br (Rossine)
Date: Thu Feb 25 14:45:41 2010
Subject: [Harbour] Error with 13990 harbour svn
Message-ID: <27714510.post@talk.nabble.com>


Hi,

I use minigui and this samples in windows XP work?s fine, but with windows
98 not work, abort in the function hb_memoread().

[CODE]

#include "minigui.ch"

Function Main

msgstop( "-STEP 1-" )

hb_memoread( "demo.prg" )

msgstop( "-STEP 2-" )  && Not come here

return NIL

[ENDCODE]

What can be ?

Best regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Error-with-13990-harbour-svn-tp27714510p27714510.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Thu Feb 25 14:55:21 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 25 14:55:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13995] trunk/harbour
Message-ID: <E1Nkjnt-0004Ec-DQ@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 13995
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13995&view=rev
Author:   vszakats
Date:     2010-02-25 19:55:19 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-25 20:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/gtwvg.h
    * Synced color RGB values with GTWVT.

  * contrib/hbgd/hbgd.hbc
    ! Fixed to reference hbct lib. hbgd requires it for
      some math functions.

  * contrib/hbxpp/Makefile
  * contrib/hbxpp/hbxpp.ch
  + contrib/hbxpp/xppopc.c
  + contrib/hbxpp/xppop.prg
  + contrib/hbxpp/tests/opover.prg
    + Added support for 'string[ n ]' syntax.
      Note, you have to #include "hbxpp.ch" to activate it.
      (of course you can pick the logic and copy it to app
      code, it's only two lines)
      (copied and adapted from existing xhb lib implementation)

  * contrib/xhb/xhbmsgs.c
    ! Fixed HB_LONG -> HB_ISIZ

  * contrib/hbxpp/hbxppext.ch
    * Updated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/hbgd/hbgd.hbc
    trunk/harbour/contrib/hbxpp/Makefile
    trunk/harbour/contrib/hbxpp/hbxpp.ch
    trunk/harbour/contrib/hbxpp/hbxppext.ch
    trunk/harbour/contrib/xhb/xhbmsgs.c

Added Paths:
-----------
    trunk/harbour/contrib/hbxpp/tests/opover.prg
    trunk/harbour/contrib/hbxpp/xppop.prg
    trunk/harbour/contrib/hbxpp/xppopc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Thu Feb 25 15:06:41 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Feb 25 15:07:08 2010
Subject: [Harbour] Error with 13990 harbour svn
In-Reply-To: <27714510.post@talk.nabble.com>
References: <27714510.post@talk.nabble.com>
Message-ID: <531d7a751002251206o54329d80rfdbf1f3b0eea1117@mail.gmail.com>

Hi!

set HB_BUILD_UNICODE=no

And recompile your Harbour.

Regards,
Vailton Renato


2010/2/25 Rossine <qiinfo@ig.com.br>:
>
> Hi,
>
> I use minigui and this samples in windows XP work?s fine, but with windows
> 98 not work, abort in the function hb_memoread().
>
> [CODE]
>
> #include "minigui.ch"
>
> Function Main
>
> msgstop( "-STEP 1-" )
>
> hb_memoread( "demo.prg" )
>
> msgstop( "-STEP 2-" ) ?&& Not come here
>
> return NIL
>
> [ENDCODE]
>
> What can be ?
>
> Best regards,
>
> Rossine.
>
> --
> View this message in context: http://old.nabble.com/Error-with-13990-harbour-svn-tp27714510p27714510.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From qiinfo at ig.com.br  Thu Feb 25 15:15:34 2010
From: qiinfo at ig.com.br (Rossine)
Date: Thu Feb 25 15:15:41 2010
Subject: [Harbour] Error with 13990 harbour svn
In-Reply-To: <27714510.post@talk.nabble.com>
References: <27714510.post@talk.nabble.com>
Message-ID: <27714516.post@talk.nabble.com>


Hi,

I have included this in my .BAT and now works.

set HB_BUILD_UNICODE=no

Work?s fine now :)

Many thank?s.

Rossine.


-- 
View this message in context: http://old.nabble.com/Error-with-13990-harbour-svn-tp27714510p27714516.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From amigosam at adinet.com.uy  Thu Feb 25 15:18:19 2010
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Feb 25 15:18:33 2010
Subject: [Harbour] Re: Przemyslaw,
 I need to know your position about  HB_PP_MULTILINE support
In-Reply-To: <18d502871002251143m3340f054x119329a975482193@mail.gmail.com>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>	<20100225083049.GA30088@linux-4bod.home.aster.pl>	<6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>	<hm6ihc$lrt$1@dough.gmane.org>
	<18d502871002251143m3340f054x119329a975482193@mail.gmail.com>
Message-ID: <hm6lu0$3gu$1@dough.gmane.org>

El 25/02/2010 17:43, Viktor Szak?ts escribi?:
> Angel,
>
> Can you tell, if Xbase++ support negative indexes
> in 'string[ n ]' operations?
>
> I'd also be interested in the error messages you get
> when using off limit or zero index.
>
> Brgds,
> Viktor

Sure !!!
See next:

   PROCEDURE Main
       LOCAL cString := 'ABCDEFGHIJ'

       ? ' 2 '+cString[ 2]   // ----> B
       ? '-2 '+cString[-2]   // ----> I
       ? ' 0 '+cString[ 0]   // ----> ERRORLOG A
       ? '15 '+cString[15]   // ----> ERRORLOG B

    RETURN

    /*
    ERRORLOG A

    ERROR LOG of "C:\xb-test\TEST.EXE" Date: 02/25/2010 18:11:44

Xbase++ version     : Xbase++ (R) Version 1.90.355
Operating system    : Windows XP 05.01 Build 02600 Service Pack 2
------------------------------------------------------------------------------
oError:args         :
           -> VALTYPE: C VALUE: ABCDEFGHIJ
           -> VALTYPE: N VALUE: 0
oError:canDefault   : N
oError:canRetry     : N
oError:canSubstitute: Y
oError:cargo        : NIL
oError:description  : Error in array index
oError:filename     :
oError:genCode      :          4
oError:operation    : <Cc of 10>[<0>]
oError:osCode       :          0
oError:severity     :          2
oError:subCode      :       1012
oError:subSystem    : BASE
oError:thread       :          1
oError:tries        :          0
------------------------------------------------------------------------------
CALLSTACK:
------------------------------------------------------------------------------
Called from MAIN(6)



ERRORLOG B

------------------------------------------------------------------------------
ERROR LOG of "C:\xb-test\TEST.EXE" Date: 02/25/2010 18:15:28

Xbase++ version     : Xbase++ (R) Version 1.90.355
Operating system    : Windows XP 05.01 Build 02600 Service Pack 2
------------------------------------------------------------------------------
oError:args         :
           -> VALTYPE: C VALUE: ABCDEFGHIJ
           -> VALTYPE: N VALUE: 15
oError:canDefault   : N
oError:canRetry     : N
oError:canSubstitute: Y
oError:cargo        : NIL
oError:description  : Error in array index
oError:filename     :
oError:genCode      :          4
oError:operation    : <Cc of 10>[<15>]
oError:osCode       :          0
oError:severity     :          2
oError:subCode      :       1012
oError:subSystem    : BASE
oError:thread       :          1
oError:tries        :          0
------------------------------------------------------------------------------
CALLSTACK:
------------------------------------------------------------------------------
Called from MAIN(7)
    */



HTH
Angel



From harbour.01 at syenar.hu  Thu Feb 25 16:00:46 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 16:00:55 2010
Subject: [Harbour] Re: Przemyslaw, I need to know your position about 
	HB_PP_MULTILINE support
In-Reply-To: <hm6lu0$3gu$1@dough.gmane.org>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
	<20100225083049.GA30088@linux-4bod.home.aster.pl>
	<6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>
	<hm6ihc$lrt$1@dough.gmane.org>
	<18d502871002251143m3340f054x119329a975482193@mail.gmail.com>
	<hm6lu0$3gu$1@dough.gmane.org>
Message-ID: <18d502871002251300n3bb10588qd9888bbdb3da7d96@mail.gmail.com>

Thanks, so the same extension exist as in xhb.
I'll update SVN.

Brgds,
Viktor

On Thu, Feb 25, 2010 at 9:18 PM, Angel Pais <amigosam@adinet.com.uy> wrote:

> El 25/02/2010 17:43, Viktor Szak?ts escribi?:
>
>  Angel,
>>
>> Can you tell, if Xbase++ support negative indexes
>> in 'string[ n ]' operations?
>>
>> I'd also be interested in the error messages you get
>> when using off limit or zero index.
>>
>> Brgds,
>> Viktor
>>
>
> Sure !!!
> See next:
>
>  PROCEDURE Main
>      LOCAL cString := 'ABCDEFGHIJ'
>
>      ? ' 2 '+cString[ 2]   // ----> B
>      ? '-2 '+cString[-2]   // ----> I
>      ? ' 0 '+cString[ 0]   // ----> ERRORLOG A
>      ? '15 '+cString[15]   // ----> ERRORLOG B
>
>   RETURN
>
>   /*
>   ERRORLOG A
>
>   ERROR LOG of "C:\xb-test\TEST.EXE" Date: 02/25/2010 18:11:44
>
> Xbase++ version     : Xbase++ (R) Version 1.90.355
> Operating system    : Windows XP 05.01 Build 02600 Service Pack 2
>
> ------------------------------------------------------------------------------
> oError:args         :
>          -> VALTYPE: C VALUE: ABCDEFGHIJ
>          -> VALTYPE: N VALUE: 0
> oError:canDefault   : N
> oError:canRetry     : N
> oError:canSubstitute: Y
> oError:cargo        : NIL
> oError:description  : Error in array index
> oError:filename     :
> oError:genCode      :          4
> oError:operation    : <Cc of 10>[<0>]
> oError:osCode       :          0
> oError:severity     :          2
> oError:subCode      :       1012
> oError:subSystem    : BASE
> oError:thread       :          1
> oError:tries        :          0
>
> ------------------------------------------------------------------------------
> CALLSTACK:
>
> ------------------------------------------------------------------------------
> Called from MAIN(6)
>
>
>
> ERRORLOG B
>
>
> ------------------------------------------------------------------------------
> ERROR LOG of "C:\xb-test\TEST.EXE" Date: 02/25/2010 18:15:28
>
> Xbase++ version     : Xbase++ (R) Version 1.90.355
> Operating system    : Windows XP 05.01 Build 02600 Service Pack 2
>
> ------------------------------------------------------------------------------
> oError:args         :
>          -> VALTYPE: C VALUE: ABCDEFGHIJ
>          -> VALTYPE: N VALUE: 15
> oError:canDefault   : N
> oError:canRetry     : N
> oError:canSubstitute: Y
> oError:cargo        : NIL
> oError:description  : Error in array index
> oError:filename     :
> oError:genCode      :          4
> oError:operation    : <Cc of 10>[<15>]
> oError:osCode       :          0
> oError:severity     :          2
> oError:subCode      :       1012
> oError:subSystem    : BASE
> oError:thread       :          1
> oError:tries        :          0
>
> ------------------------------------------------------------------------------
> CALLSTACK:
>
> ------------------------------------------------------------------------------
> Called from MAIN(7)
>   */
>
>
>
> HTH
>
> Angel
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/4ae8d3b7/attachment.html
From druzus at acn.waw.pl  Thu Feb 25 16:33:32 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Feb 25 16:33:40 2010
Subject: [Harbour] Re: Przemyslaw, I need to know your position about
	HB_PP_MULTILINE support
In-Reply-To: <18d502871002251300n3bb10588qd9888bbdb3da7d96@mail.gmail.com>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>
	<20100225083049.GA30088@linux-4bod.home.aster.pl>
	<6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>
	<hm6ihc$lrt$1@dough.gmane.org>
	<18d502871002251143m3340f054x119329a975482193@mail.gmail.com>
	<hm6lu0$3gu$1@dough.gmane.org>
	<18d502871002251300n3bb10588qd9888bbdb3da7d96@mail.gmail.com>
Message-ID: <20100225213332.GA13953@linux-4bod.home.aster.pl>

On Thu, 25 Feb 2010, Szak?ts Viktor wrote:

Hi,

> Thanks, so the same extension exist as in xhb.

The same as in Harbour's XHB emulation :)

Real xHarbour works in a little bit different way and
I intentionally haven't replicated it exactly.
See "USING [] OPERATOR FOR STRING ITEMS" in doc/xhb-diff.txt
for details.

best regards,
Przemek
From dbtopas at dbtopas.lt  Thu Feb 25 16:49:44 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Feb 25 16:50:00 2010
Subject: [Harbour] Re: Przemyslaw, I need to know your position about
	HB_PP_MULTILINE support
In-Reply-To: <18d502871002251300n3bb10588qd9888bbdb3da7d96@mail.gmail.com>
References: <9257026e1002242150t7b33dc94lf1a74a17dff914a8@mail.gmail.com>	<20100225083049.GA30088@linux-4bod.home.aster.pl>	<6E3DB285-58E2-4BE2-BA24-2281022D2655@syenar.hu>	<hm6ihc$lrt$1@dough.gmane.org>	<18d502871002251143m3340f054x119329a975482193@mail.gmail.com>	<hm6lu0$3gu$1@dough.gmane.org>
	<18d502871002251300n3bb10588qd9888bbdb3da7d96@mail.gmail.com>
Message-ID: <4B86F078.9050704@dbtopas.lt>

Viktor Szak?ts wrote:
> Thanks, so the same extension exist as in xhb.
> I'll update SVN.

IFAIR, xHarbour allows off-limit indices to return an empty string. That 
was the main drawback, that does not help to find buggy code by RTE. 
F.e. 'abc'[1, 2, 3, 4, 5, 6] does not RTE.


Regards,
Mindaugas

From fperillo at gmail.com  Thu Feb 25 17:01:57 2010
From: fperillo at gmail.com (francesco perillo)
Date: Thu Feb 25 17:02:07 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <1267122094485-4634325.post@n2.nabble.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
	<1267122094485-4634325.post@n2.nabble.com>
Message-ID: <6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>

>
> 2. Goto harbour/contrib/hbqt/gtqtc

It's in harbour/contrib/gtqtc so it didn't get my attention.... from
what I understand this is a GT module that interfaces with Qt using Qt
"text-mode", so that you can run a Qt program in text-mode.... is it
correct ? So pure, unmodified clipper source code still works...

But can you use gtqtc and mix it with Qt gui items ?

> Soon, you will find, at least starting with, documentation.
> Wait a few days more.

Ok, thank you very much for your work !

Francesco
From dougf at people.net.au  Thu Feb 25 17:14:16 2010
From: dougf at people.net.au (dougf@people.net.au)
Date: Thu Feb 25 17:13:45 2010
Subject: [Harbour] Harbour documentation
Message-ID: <35594.1267136056@people.net.au>

 Hi

 I am new to the list but have been using Harbour for some years now and
have noticed recent discussions about documentation, how to develop it,
store it etc and thought I might add my comments for what they are
worth.? I would not be fully across all discussions that would have taken
place on this subject, so please bear that in mind when reading and
considering the following.

 I noticed some people suggested using tools (like doxygen) that
essentially take marked up comments in source code and produce
documentation from that.? I think that this is not ideal since
 1. It is essentially a single language solution
 2. coders aren't necessarily the best documentors

 I noticed comment also that the proposed tools weren't written in
Harbour.? Whilst that shouldn't absolutely preclude their use, I believe
that the more we use tools that are written in Harbour
 1. More of our community can understand and work with them and if
necessary or desirable modify them
 2. They should be available either as is, or with some modification, to
any Harbour user regardless of their platform(s) of choice.

 Personally I would like to see documentation in dbf / dbt format, with
the "actual documentation" in xml format in a memo field, and the other
fields basically define what is being documented.? We might have
something like the following:

 Key
 Language ( eg English, Spanish etc)
 Subject (eg Harbour )
 Manual (eg Language Reference, Compiler Reference, Contribution etc )
 Chapter (eg Classes, Commands, Functions, Statements, Directives etc )
 Section? (eg Array Functions, Time Date Functions )
 Subject? (eg AAdd(), AClone() etc )
 Version (eg Version 2)
 Status (eg Released, Being Written )
 Content (in xml?)

 and probably some working fields

 Page
 Reference

 Presumably then any Harbour user could download those bits of
documentation they want / have been updated / all of it and we could have
Harbour code to output it in whatever formats are required and iclude in
specialised editors, IDEs etc.

 Just my thoughts
 Regards
 Doug

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100225/2bb133f9/attachment-0001.html
From harbour.01 at syenar.hu  Thu Feb 25 17:21:04 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 17:21:14 2010
Subject: [Harbour] Doc source format #3
In-Reply-To: <eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
References: <531d7a751002171013x67b2b292of10fb496576c11ad@mail.gmail.com>
	<72b117651002200412x4746c3dcu43e2a430f31d8c29@mail.gmail.com>
	<48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
Message-ID: <D46FC7E7-0560-4474-A8BE-94BBC3C3C2F3@syenar.hu>

Hi All,

[ Update: Covering better the context of the docs
  ("source" vs. "target" format). ]

What we've decided/know about doc source files so far (update #3):

Medium: Harbour SVN
Location: <pkgroot>/doc/<IETF language code>/<type><filename>.txt
Format: NANFORUM (see: /doc/hdr_tpl.txt)
Codepage: UTF-8
Target format: any (.html, .pdf, .rtf, .dbf, ...) [not subject of this document]

<pkgroot>:
is empty for core functions residing in /src.
is '/contrib/<package-name>' for contrib libs.

<IETF language code> examples for some languages:
en - English (generic)
es - Spanish (generic)
hu-HU - Hungarian
pt-BR - Portuguese (Brazil)

<type>:
'func_' - .prg level function
'class_' - class
'pp_' - preprocessor directive
'cmd_' - command
'cfunc_' - .c level function

<filename>:
should be the function name "prefix", this can 
be the namespace ('hb_lib', 'ord'), or first one 
('a', 'f') letter, or complete name of function 
being documented ('tbrowse'). Always lowercase, 
long filename allowed.

examples:
 /doc/en/cfunc_hb_fs.txt - containing hb_fs*() (FSAPI) functions.
 /doc/en/func_hb_bit.txt - containing HB_BIT*() functions.
 /doc/en/func_hb_f.txt - containing HB_F*() functions.
 /doc/en/func_hb_os.txt - containing HB_OS*() functions.
 /doc/en/func_ord.txt - containing ORD*() functions.
 /doc/en/class_tbrowse.txt - containing TBROWSE() class.
 /doc/en/func_a.txt - containing all A*() functions.
 /contrib/hbsqlit3/doc/en/func_sqlite3.txt - containing all SQLITE3_*() functions.

[ I'm sending this off of my draft folder, pls continue 
to work on it. ]

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Feb 25 17:25:26 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 17:25:32 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
	<1267122094485-4634325.post@n2.nabble.com>
	<6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>
Message-ID: <1267136726403-4635832.post@n2.nabble.com>



francesco perillo wrote:
> 
> It's in harbour/contrib/gtqtc so it didn't get my attention.... from
> what I understand this is a GT module that interfaces with Qt using Qt
> "text-mode", so that you can run a Qt program in text-mode.... is it
> correct ? So pure, unmodified clipper source code still works...
> 

It is wrong to put it like this:
   so that you can run a Qt program in text-mode.
Rather we should say:
   so that you can run a Clipper program in Qt environments.



> But can you use gtqtc and mix it with Qt gui items ?
> 

I had a plan to emulate GTWVG as GTQTG and am still interested in,
but then that is not exactly what you are asking for. BTW, in this context,
which other library or implementation does so ? If you are thinking of GTWVW 
then it is a different story.

For sure, an hibrid GUI mode is a quick path to convert existing code,
that is why I developed GTWVG on top of GTWVT, but this is not the 
way to exploit Qt's power. It is better we start thinking port our code to
pure GUI.

The group knows that I am a die-hard fan of hibrid GUI, but now 
my priorities are changing. I am drifting toward pure GUI. I will try to 
find the ways to migrate easily exiting code. TBrowse oriented code
may need little labout to adapt to XbpBrowse(). GetList will need much 
more work to simulate the excat behavior, this this is doable.
Needed are some more hands.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Anyone-using-hbqt-tp4633339p4635832.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From fperillo at gmail.com  Thu Feb 25 17:54:20 2010
From: fperillo at gmail.com (francesco perillo)
Date: Thu Feb 25 17:54:30 2010
Subject: [Harbour] Anyone using hbqt ?
In-Reply-To: <578c73341002250957g41b62369sc07cabb126b188ee@mail.gmail.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<578c73341002250957g41b62369sc07cabb126b188ee@mail.gmail.com>
Message-ID: <6943770e1002251454l475fb840ie679c42b21563191@mail.gmail.com>

Hi,
I spent just ten minutes with your code and I must say that I like it,
expecially the preprocessor part that is very smart !

The code looks promising... I will try to checkout tomorrow and read the docs.

Do you have a more comprehensive sample ?

Thanks,
Francesco
From bedipritpal at hotmail.com  Thu Feb 25 17:55:30 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 17:55:37 2010
Subject: [Harbour] Re: Doc source format #3
In-Reply-To: <D46FC7E7-0560-4474-A8BE-94BBC3C3C2F3@syenar.hu>
References: <48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<72b117651002200508l13b31181qd0e69c262ea01b30@mail.gmail.com>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
	<D46FC7E7-0560-4474-A8BE-94BBC3C3C2F3@syenar.hu>
Message-ID: <1267138530306-4635967.post@n2.nabble.com>


Hello Viktor

Any template to document a class ?

I am almost done with hbQT documentation skeletons,
to be uploaded one-time and then enhanced, via hbqtgen,
but am not sure what I am doing is the right format.

Also I need to know the tree structure:
   contrib/hbqt/doc/en/QWidget.txt   OR?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/About-Harbour-Documentation-tp4587608p4635967.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Thu Feb 25 18:04:28 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Feb 25 18:04:37 2010
Subject: [Harbour] Re: Doc source format #3
In-Reply-To: <1267138530306-4635967.post@n2.nabble.com>
References: <48B03938-B92E-42D9-8827-71A15501BBAB@syenar.hu>
	<1E8F9739-0361-4EB8-8941-FBAF2433EF6F@syenar.hu>
	<72b117651002200544o236b13d1k6a2d8959a3c5cb19@mail.gmail.com>
	<AA9F7491-6B69-421B-86E6-9964664B352C@syenar.hu>
	<72b117651002200608i67e20f40o6d96b1dddb937f9f@mail.gmail.com>
	<eed8bee51002200837s7deb0dd9l9374dd95ad017fc@mail.gmail.com>
	<61BD1342-9229-4FA4-BAE1-270A62495C5F@syenar.hu>
	<eed8bee51002201153ue96a8b7l41d28e90d754b63a@mail.gmail.com>
	<D46FC7E7-0560-4474-A8BE-94BBC3C3C2F3@syenar.hu>
	<1267138530306-4635967.post@n2.nabble.com>
Message-ID: <18d502871002251504r1b9ae043re6529da20decadb7@mail.gmail.com>

Hi Pritpal,

On Thu, Feb 25, 2010 at 11:55 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hello Viktor
>
> Any template to document a class ?
>
> I am almost done with hbQT documentation skeletons,
> to be uploaded one-time and then enhanced, via hbqtgen,
> but am not sure what I am doing is the right format.
>

Sorry, I didn't plunge that deeply into the topic, and
not being a documentation expert, I'm not sure I can
contribute real value here.

So, I'd say start it as you feel best, and it will eventually
take the final shape. My only hint is to take a look at
Clipper NG or existing xhb documentation (the expensive
one) and learn what can be learned about documenting
classes.


> Also I need to know the tree structure:
>   contrib/hbqt/doc/en/QWidget.txt   OR?
>

Should be:
   /contrib/hbqt/doc/en/class_qwidget.txt

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/e3a40270/attachment.html
From fperillo at gmail.com  Thu Feb 25 18:06:42 2010
From: fperillo at gmail.com (francesco perillo)
Date: Thu Feb 25 18:06:49 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <1267136726403-4635832.post@n2.nabble.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
	<1267122094485-4634325.post@n2.nabble.com>
	<6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>
	<1267136726403-4635832.post@n2.nabble.com>
Message-ID: <6943770e1002251506h7a71d74dh49acf8d3cc992dc7@mail.gmail.com>

On Thu, Feb 25, 2010 at 11:25 PM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>
>

> It is wrong to put it like this:
> ? so that you can run a Qt program in text-mode.
> Rather we should say:
> ? so that you can run a Clipper program in Qt environments.

ok... but which are the Qt environments where you can't use other GTs
? I ask because, except for mobile phones, I really don't know Qt
environments - I'm new to Qt so I don't know very much
>
>
>
>> But can you use gtqtc and mix it with Qt gui items ?

I explain better: it would be possible to have in the same program one
window done in "text-mode" and ANOTHER window in gui mode ? (not
text-mode in the gui form or gui widgets in text-mode...)

In this way migration can be easier....
> ...but this is not the
> way to exploit Qt's power. It is better we start thinking port our code to
> pure GUI.

I agree.

>
>  I will try to
> find the ways to migrate easily exiting code. TBrowse oriented code
> may need little labout to adapt to XbpBrowse().

Yes, a "best practice" guide can be very useful

> GetList will need much
> more work to simulate the excat behavior, this this is doable.

Hwgui has a GetList implementation.... and it also has a editbox with
PICTURE support... it may be nice to subclass the editline e implement
the PICTURE...

> Needed are some more hands.

Personally, I need a 40 hours/day...so if I have 6 hours sleeping, 8
working, I have some hours left per day-.... :-)

Francesco
From zen25000 at zen.co.uk  Thu Feb 25 18:14:46 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb 25 18:14:54 2010
Subject: [Harbour] Re: [Pritpal] HBIDE editor tabs illegible
In-Reply-To: <1267115596997-4633557.post@n2.nabble.com>
References: <4B86821F.1060709@zen.co.uk>
	<1267115596997-4633557.post@n2.nabble.com>
Message-ID: <4B870466.1040209@zen.co.uk>

On 25/02/10 16:33, Pritpal Bedi wrote:
>
>
> Barry Jackson wrote:
>> I can find no way to open multiple .prg files.
>>
>
> It is there. When fole-open dialog is presented, select
> multiple files with ctrl+click, and then presee open.

No - it's not working here. With CTRL held down, clicking a file opens 
it rather than selecting it.
SHIFT (with care) will sometimes open multiple files, but it's not 
working properly. I thought that it may have been to do with my having 
single click set system wide to open files, but disabling that changes 
nothing.

Also the filter is not remembered between each use of the file open 
dialog. It always defaults to *.* after setting to *.prg.

>
>> Like - navigate to a folder and open *.prg and then save as a project ?
>> Maybe I am missing something ;-/
>>
>
> Can you detail how you want this feature to work.

In the file open dialog, navigate to a folder and type *.prg in the file 
name field and click open. All .prg files would be listed in the
editor tabs pane in one go.

> The otherway around is there. Follow right-click on
> "Projects" node.

Tried that but nothing happens.
No, I can't see how to save a session as a project, or create a project, 
but I will await your help files.

> BTW, I am writing a brief help and hope it to be ready to
> some extent to be usable this weekend.

Great!


From vszakats at users.sourceforge.net  Thu Feb 25 18:24:11 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Feb 25 18:24:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13996] trunk/harbour
Message-ID: <E1Nkn3z-0005zp-Pb@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 13996
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13996&view=rev
Author:   vszakats
Date:     2010-02-25 23:24:10 +0000 (Thu, 25 Feb 2010)

Log Message:
-----------
2010-02-26 00:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxpp/xppop.prg
  * contrib/hbxpp/xppopc.c
    ! Restored stupport for negative indexes in 'string[ n ]' syntax.
    * Two reported RTE made XPP compatible regarding 'string[ n ]' syntax.
      Left marked as TODO. I hope one day an XPP user will complete them.
    ! Fixed names of an internal function to not be the same as in xhb lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/xppop.prg
    trunk/harbour/contrib/hbxpp/xppopc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Thu Feb 25 18:32:28 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb 25 18:32:36 2010
Subject: [Harbour] Re: [Pritpal] HBIDE editor tabs illegible
In-Reply-To: <4B870466.1040209@zen.co.uk>
References: <4B86821F.1060709@zen.co.uk>	<1267115596997-4633557.post@n2.nabble.com>
	<4B870466.1040209@zen.co.uk>
Message-ID: <4B87088C.8040105@zen.co.uk>

On 25/02/10 23:14, Barry Jackson wrote:

>
>> The otherway around is there. Follow right-click on
>> "Projects" node.

OK found it!
The projects panel was appearing UNDER the functions panel, so I saw no 
change!
I will keep playing.

One other point. Double clicking functions in the function pane finds 
the function, but it places the first line of the function at the bottom 
of the edit window, so always has to be scrolled up. :-(



From bedipritpal at hotmail.com  Thu Feb 25 18:41:34 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 18:41:41 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <6943770e1002251506h7a71d74dh49acf8d3cc992dc7@mail.gmail.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
	<1267122094485-4634325.post@n2.nabble.com>
	<6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>
	<1267136726403-4635832.post@n2.nabble.com>
	<6943770e1002251506h7a71d74dh49acf8d3cc992dc7@mail.gmail.com>
Message-ID: <1267141294649-4636180.post@n2.nabble.com>



francesco perillo wrote:
> 
>>> But can you use gtqtc and mix it with Qt gui items ?
> 
> I explain better: it would be possible to have in the same program one
> window done in "text-mode" and ANOTHER window in gui mode ? (not
> text-mode in the gui form or gui widgets in text-mode...)
> 

This is _ABSOLUTELY_POSSIBLE_.

I did experimented with my flagship application Vouch and it works.
Will post a sample, or will include it in gtqtc/tests/demoqtc.prg soon.
Right now implementing NG format oriented hbQT's help.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Anyone-using-hbqt-tp4633339p4636180.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Feb 25 18:45:12 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 18:45:20 2010
Subject: [Harbour] Re: [Pritpal] HBIDE editor tabs illegible
In-Reply-To: <4B87088C.8040105@zen.co.uk>
References: <4B86821F.1060709@zen.co.uk>
	<1267115596997-4633557.post@n2.nabble.com>
	<4B870466.1040209@zen.co.uk> <4B87088C.8040105@zen.co.uk>
Message-ID: <1267141512715-4636195.post@n2.nabble.com>



Barry Jackson wrote:
> 
> One other point. Double clicking functions in the function pane finds 
> the function, but it places the first line of the function at the bottom 
> of the edit window, so always has to be scrolled up. :-(
> 

This depends on the current cursor position. If it is above
the found line, editor scrolls it to bottom, otherwise to top.

I am aware of this fact and will concentrate a little later.
Remind me once more next week, if I forget.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Pritpal-HBIDE-editor-tabs-illegible-tp4632574p4636195.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From zen25000 at zen.co.uk  Thu Feb 25 18:49:40 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Feb 25 18:49:48 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <1267141294649-4636180.post@n2.nabble.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>	<1267114682672-4633435.post@n2.nabble.com>	<4B86A97A.2080200@zen.co.uk>	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>	<1267122094485-4634325.post@n2.nabble.com>	<6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>	<1267136726403-4635832.post@n2.nabble.com>	<6943770e1002251506h7a71d74dh49acf8d3cc992dc7@mail.gmail.com>
	<1267141294649-4636180.post@n2.nabble.com>
Message-ID: <4B870C94.50602@zen.co.uk>

On 25/02/10 23:41, Pritpal Bedi wrote:
> Right now implementing NG format oriented hbQT's help.

Anyone found an NG reader (that works) for Linux?
From bedipritpal at hotmail.com  Thu Feb 25 19:18:04 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Feb 25 19:18:11 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <4B870C94.50602@zen.co.uk>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
	<1267122094485-4634325.post@n2.nabble.com>
	<6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>
	<1267136726403-4635832.post@n2.nabble.com>
	<6943770e1002251506h7a71d74dh49acf8d3cc992dc7@mail.gmail.com>
	<1267141294649-4636180.post@n2.nabble.com>
	<4B870C94.50602@zen.co.uk>
Message-ID: <1267143484281-4636320.post@n2.nabble.com>



Barry Jackson wrote:
> 
>> Right now implementing NG format oriented hbQT's help.
> 
> Anyone found an NG reader (that works) for Linux?
> 

Sorry, I meant NANFORUM compatible .txt help fot hbQT.
You may need, for that matter any other tool, hbIDE for 
a quick start.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Anyone-using-hbqt-tp4633339p4636320.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Thu Feb 25 21:51:10 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 25 21:51:17 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13997] trunk/harbour
Message-ID: <E1NkqII-0000Py-FA@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13997
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13997&view=rev
Author:   vouchcac
Date:     2010-02-26 02:51:07 +0000 (Fri, 26 Feb 2010)

Log Message:
-----------
2010-02-25 18:45 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideharbourhelp.prg
    + Implemented two more tags: $INHERITS$ and $METHODS$

  * contrib/hbqt/generator/hbqtgen.prg
    + Implemented NANFORUM compatible .txt documentation files.
      Please navigate with hbIDE.

  + contrib/hbqt/doc/en
  + contrib/hbqt/doc/en/*.txt [ Auto Generated ]

    NOTE: this is initial upload and contains little less than desired.
          I plan to adress including more info at a later date.
          For now you can be comfortable as to how a method in Qt 
          class should be called, a big productivity boost.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/doc/en/
    trunk/harbour/contrib/hbqt/doc/en/class_hbdbfmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbevents.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbqplaintextedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbqsyntaxhighlighter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbqtextblockuserdata.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbslots.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractitemdelegate.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractitemmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractitemview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractlistmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractprintdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractproxymodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractscrollarea.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractslider.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractspinbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstracttablemodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstracttextdocumentlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qaction.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qactiongroup.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qapplication.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbitarray.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbitmap.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qboxlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbrush.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbuffer.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbuttongroup.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbytearray.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcalendarwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qchar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcheckbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qclipboard.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcolor.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcolordialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcombobox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcommandlinkbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcompleter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qconicalgradient.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcontextmenuevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcoreapplication.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcursor.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdatastream.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdate.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdatetime.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdatetimeedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdesktopwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdial.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdir.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdirmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdockwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdoublespinbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdragmoveevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdropevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qerrormessage.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qeventloop.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfile.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfiledialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfileiconprovider.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfileinfo.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfilesystemmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfocusevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfocusframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfont.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontcombobox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontdatabase.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontinfo.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontmetrics.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontmetricsf.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qformlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qftp.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qgradient.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qgridlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qgroupbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qheaderview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhelpevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhttp.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhttpheader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhttprequestheader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhttpresponseheader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qicon.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qimage.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qimagereader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qimagewriter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qinputcontext.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qinputdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qinputevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qinputmethodevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qiodevice.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qitemselection.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qitemselectionmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qkeyevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qkeysequence.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlabel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlatin1char.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlatin1string.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlayoutitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlcdnumber.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qline.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlineargradient.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlineedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlinef.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlist.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlistview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlistwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlistwidgetitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlocale.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmainwindow.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmatrix.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmdiarea.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmdisubwindow.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmenu.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmenubar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmessagebox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmimedata.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmodelindex.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmouseevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmoveevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmovie.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qnetworkrequest.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qobject.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpagesetupdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpaintdevice.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpaintengine.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpainter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpainterpath.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpaintevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpalette.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpen.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpicture.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpixmap.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qplaintextdocumentlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qplaintextedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpoint.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpointf.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpolygon.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpolygonf.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprintdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprintengine.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprinter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprintpreviewdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprocess.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprogressbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprogressdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpushbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qradialgradient.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qrect.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qrectf.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qregexp.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qregion.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qresizeevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qresource.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qscrollarea.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsessionmanager.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsettings.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsignalmapper.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsize.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsizef.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsizepolicy.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qslider.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsound.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qspaceritem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qspinbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsplashscreen.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsplitter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstackedwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstandarditem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstandarditemmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstatusbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstringlist.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstringlistmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyle.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleditemdelegate.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstylefactory.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoption.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptioncombobox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptioncomplex.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiondockwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionfocusrect.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiongroupbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionheader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionmenuitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionprogressbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionsizegrip.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionslider.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionspinbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontab.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontabbarbase.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontabwidgetframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontitlebar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontoolbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontoolbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontoolbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionviewitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstylepainter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsyntaxhighlighter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsystemtrayicon.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtabbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtableview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtablewidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtablewidgetitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtablewidgetselectionrange.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtabwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextblock.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextblockformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextboundaryfinder.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextbrowser.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextcharformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextcodec.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextcursor.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextdecoder.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextdocument.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextdocumentfragment.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextdocumentwriter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextencoder.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextfragment.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextframeformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextimageformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextinlineobject.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextlength.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextline.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextlist.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextlistformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextobject.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextoption.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextstream.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtexttableformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qthread.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtime.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtimer.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtoolbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtoolbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtoolbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtransform.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtranslator.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtreeview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtreewidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtreewidgetitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_quiloader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qurl.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qvalidator.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qvariant.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebhistory.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebhistoryinterface.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebhistoryitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebhittestresult.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebpage.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebpluginfactory.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebsecurityorigin.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebsettings.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwheelevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwidgetaction.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwidgetitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwizard.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwizardpage.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Feb 25 22:09:30 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Feb 25 22:09:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13998] trunk/harbour
Message-ID: <E1Nkqa2-0000i1-Vv@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 13998
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13998&view=rev
Author:   vouchcac
Date:     2010-02-26 03:09:29 +0000 (Fri, 26 Feb 2010)

Log Message:
-----------

2010-02-25 19:11 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideharbourhelp.prg
    + Implemented to open Qt's original documentation link in 
      default browser. It is handy and you do not need to remember.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Feb 26 01:45:41 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Feb 26 01:45:49 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <4B870C94.50602@zen.co.uk>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
	<1267122094485-4634325.post@n2.nabble.com>
	<6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>
	<1267136726403-4635832.post@n2.nabble.com>
	<6943770e1002251506h7a71d74dh49acf8d3cc992dc7@mail.gmail.com>
	<1267141294649-4636180.post@n2.nabble.com>
	<4B870C94.50602@zen.co.uk>
Message-ID: <20100226064541.GA21695@linux-4bod.home.aster.pl>

On Thu, 25 Feb 2010, Barry Jackson wrote:

Hi,

> >Right now implementing NG format oriented hbQT's help.
> Anyone found an NG reader (that works) for Linux?

I'm using Expert Guide from Dave Person.

best regards,
Przemek
From marcobra.ubuntu at gmail.com  Fri Feb 26 04:04:21 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Feb 26 04:04:31 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <1267115100945-4633490.post@n2.nabble.com>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
	<54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
	<1267111708012-4633080.post@n2.nabble.com>
	<fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
	<1267115100945-4633490.post@n2.nabble.com>
Message-ID: <fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>

Pritpal, some little debug as you can see below, i have put:

hbide_dbg (cRootPath)
and the len of result array "hbide_dbg (a_)" give me 0 length

Changing  at row 1588

aDir := directory( cRootPath + "*.", "D" )

to

aDir := directory( cRootPath , "D" )

make hbide loading the directory structure and the subdirs related docs text
file are now showed.
But the refresh button still not recall nothing (especially this function
with debug vars) and to have the doc loaded (if i change the doc path) i
must restart the hbide to get new path related contents refreshed/listed.

Thank you

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/d82a360e/attachment.html
From vszakats at users.sourceforge.net  Fri Feb 26 04:57:41 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 26 04:57:48 2010
Subject: [Harbour] SF.net SVN: harbour-project:[13999] trunk/harbour
Message-ID: <E1Nkwx3-0005lw-2F@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 13999
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13999&view=rev
Author:   vszakats
Date:     2010-02-26 09:57:39 +0000 (Fri, 26 Feb 2010)

Log Message:
-----------
2010-02-26 10:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/hbfoxpro/dll.prg
  + contrib/hbfoxpro/Makefile
  * contrib/hbwin/Makefile
  - contrib/hbwin/win_dllf.prg
    + Moved FoxPro-like dynamic call function to
      hbfoxpro lib.
      Renamed it to FOX___DYNCALL() until we find
      it a better name, or someone will suggest
      how this is best presented for actual FoxPro
      users.

  * contrib/Makefile
  * utils/hbmk2/examples/contribf.hbc
    + Enabled hbfoxpro lib.

  * config/wce/global.mk
  * config/win/global.mk
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/global.mk
    trunk/harbour/config/win/global.mk
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/utils/hbmk2/examples/contribf.hbc

Added Paths:
-----------
    trunk/harbour/contrib/hbfoxpro/Makefile
    trunk/harbour/contrib/hbfoxpro/dll.prg

Removed Paths:
-------------
    trunk/harbour/contrib/hbwin/win_dllf.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 26 05:00:20 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 26 05:00:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14000] trunk/harbour
Message-ID: <E1Nkwzc-0005q1-Cz@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14000
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14000&view=rev
Author:   vszakats
Date:     2010-02-26 10:00:18 +0000 (Fri, 26 Feb 2010)

Log Message:
-----------
2010-02-26 11:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * harbour.spec
    + Added hbfoxpro, hbfship, hbxpp libs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour.spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Feb 26 05:13:33 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 26 05:13:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14001] trunk/harbour
Message-ID: <E1NkxCP-00066O-0M@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14001
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14001&view=rev
Author:   vszakats
Date:     2010-02-26 10:13:31 +0000 (Fri, 26 Feb 2010)

Log Message:
-----------
2010-02-26 11:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxpp/Makefile
  + contrib/hbxpp/thread.ch
  * contrib/hbxpp/tthreadx.prg
    + Added thread.ch compatibility header.
    ! Fixed QUIT_* constants to be the same as in real XPP,
      also moved them to header.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxpp/Makefile
    trunk/harbour/contrib/hbxpp/tthreadx.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbxpp/thread.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Fri Feb 26 06:28:02 2010
From: fperillo at gmail.com (francesco perillo)
Date: Fri Feb 26 06:28:10 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <1267141294649-4636180.post@n2.nabble.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
	<1267122094485-4634325.post@n2.nabble.com>
	<6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>
	<1267136726403-4635832.post@n2.nabble.com>
	<6943770e1002251506h7a71d74dh49acf8d3cc992dc7@mail.gmail.com>
	<1267141294649-4636180.post@n2.nabble.com>
Message-ID: <6943770e1002260328y681b3d7cofbbc046fd84c379c@mail.gmail.com>

> This is _ABSOLUTELY_POSSIBLE_.
>
> I did experimented with my flagship application Vouch and it works.
> Will post a sample, or will include it in gtqtc/tests/demoqtc.prg soon.
> Right now implementing NG format oriented hbQT's help.

Ok, perfect !

Now I just ask you where may I start to get informations about hbqt...
Changelog ? Where did you get info on Qt ? Did you follow a model to
implement the class ?
something to start ....

Francesco
From dmacias at mail.udg.mx  Fri Feb 26 06:51:05 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Feb 26 06:51:19 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
Message-ID: <4B87B5A9.9030608@mail.udg.mx>

Pritpal:

 > # QInputContext.cpp \
 > # QWidget.cpp \
 >

 >Can you show which function calls in QWidget abd QInoutContext
 >produces warnings. I will try to pacify them for os2.

 >QInputContex - I think I can go away with this class if it is not
 >called anywhere else in components we are developing.

I sent information privately

I need a basic code sample to test hbqt, without use of QInputContext, 
QWidget, just to know if hbqt-qt461 for OS/2 will run

Something as minidemoqt.prg  :-)

David Macias

From dmacias at mail.udg.mx  Fri Feb 26 07:00:55 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Feb 26 07:01:10 2010
Subject: [Harbour] Re: Anyone using hbqt ?
Message-ID: <4B87B7F7.1030101@mail.udg.mx>

 >> >Right now implementing NG format oriented hbQT's help.
 >> Anyone found an NG reader (that works) for Linux?

 >I'm using Expert Guide from Dave Person.

Pearson  :-)

www.davep.org
"Norton Guides" section include a description of file format of a Norton 
Guide database

I am using Expert Guide for Windows since 32bit Windows (Win2000) 
refused to accept NG as "TSR" program

Many years ago since then

David Macias


From mbelgrano at deltain.it  Fri Feb 26 07:09:11 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Feb 26 07:09:39 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <6943770e1002260328y681b3d7cofbbc046fd84c379c@mail.gmail.com>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com> 
	<1267114682672-4633435.post@n2.nabble.com> <4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com> 
	<1267122094485-4634325.post@n2.nabble.com>
	<6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com> 
	<1267136726403-4635832.post@n2.nabble.com>
	<6943770e1002251506h7a71d74dh49acf8d3cc992dc7@mail.gmail.com> 
	<1267141294649-4636180.post@n2.nabble.com>
	<6943770e1002260328y681b3d7cofbbc046fd84c379c@mail.gmail.com>
Message-ID: <609353e71002260409i7d37d4bem2e479ee6fb9efcaf@mail.gmail.com>

Hi Priptpal if you want i can publish your article on my blog (i planed
update tomorrow)
http://harbourlanguage.blogspot.com/


2010/2/26 francesco perillo <fperillo@gmail.com>

> > This is _ABSOLUTELY_POSSIBLE_.
> >
> > I did experimented with my flagship application Vouch and it works.
> > Will post a sample, or will include it in gtqtc/tests/demoqtc.prg soon.
> > Right now implementing NG format oriented hbQT's help.
>
> Ok, perfect !
>
> Now I just ask you where may I start to get informations about hbqt...
> Changelog ? Where did you get info on Qt ? Did you follow a model to
> implement the class ?
> something to start ....
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/724c1cfa/attachment.html
From zen25000 at zen.co.uk  Fri Feb 26 07:36:11 2010
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Fri Feb 26 07:36:22 2010
Subject: [Harbour] Re: Anyone using hbqt ?
In-Reply-To: <20100226064541.GA21695@linux-4bod.home.aster.pl>
References: <6943770e1002250801x2ef4456cgc8867db21a726ed9@mail.gmail.com>
	<1267114682672-4633435.post@n2.nabble.com>
	<4B86A97A.2080200@zen.co.uk>
	<6943770e1002250911p3fa1d78ax8d923836cbc2329b@mail.gmail.com>
	<1267122094485-4634325.post@n2.nabble.com>
	<6943770e1002251401td54adb5sd4bb551e7a834375@mail.gmail.com>
	<1267136726403-4635832.post@n2.nabble.com>
	<6943770e1002251506h7a71d74dh49acf8d3cc992dc7@mail.gmail.com>
	<1267141294649-4636180.post@n2.nabble.com>
	<4B870C94.50602@zen.co.uk>
	<20100226064541.GA21695@linux-4bod.home.aster.pl>
Message-ID: <4B87C03B.20000@zen.co.uk>

On 26/02/10 06:45, Przemys?aw Czerpak wrote:
> On Thu, 25 Feb 2010, Barry Jackson wrote:
>
> Hi,
>
>>> Right now implementing NG format oriented hbQT's help.
>> Anyone found an NG reader (that works) for Linux?
>
> I'm using Expert Guide from Dave Person.
>
> best regards,
> Przemek
>
Thanks Przemek - I tried that ages ago with no joy, but if you use it 
then I must be doing sth wrong!

Pressing "d" or "D" gives :-

"Scanning for Norton Guides...Aborted" and it drops back to command line.

I have :-
..tried changing ownership and permissions on the ng files and the 
extensions to lower case.
..tried deleting ~/.eg*

I would rather the files were in ~/norton-guides/ but I can't see how to 
change it's default away from /usr/share/norton-guides/

If I move /usr/share/norton-guides/ to /usr/local/share/norton-guides/ 
it just won't run at all :-
Can't open '/usr/share/norton-guides/eg.ng': No such file or directory

Any tips ? :-(

[baz@jackodesktop ~]$ eg -v
Expert Guide Version 1.00

From M.Horodyski at pzuzycie.com.pl  Fri Feb 26 08:12:33 2010
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Feb 26 08:12:43 2010
Subject: [Harbour] Trouble with SqlRdd
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6E7D0@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6E7D0@PINK.zycie.pzu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6E981@PINK.zycie.pzu>

-----Original Message-----
From: Horodyski Marek (PZUZ) 
Sent: Thursday, February 25, 2010 4:38 PM
To: harbour@harbour-project.org
Subject: [Harbour] Trouble with SqlRdd

I have problem with data from Oracle.
Here is ask and answer :


[...]

Hm, mostly I have in harbor\odbc zero when count(*) or sum( ...) are in
the query.
In sql tools (toad, sql developer etc.) I see correctly value.
The problem of care for converting query (numeric fields) into the text
- but it's only a workaround, and this should fix it somehow.

Regards,
Marek Horodyski


From bedipritpal at hotmail.com  Fri Feb 26 11:19:01 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 11:19:08 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
	<54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
	<1267111708012-4633080.post@n2.nabble.com>
	<fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
	<1267115100945-4633490.post@n2.nabble.com>
	<fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
Message-ID: <1267201141464-4640114.post@n2.nabble.com>



marco bra wrote:
> 
> Changing  at row 1588
> 
> aDir := directory( cRootPath + "*.", "D" )
> 
> to
> 
> aDir := directory( cRootPath , "D" )
> 
> make hbide loading the directory structure and the subdirs related docs
> text
> file are now showed.
> 

So the culprit is "*." mask which, on Windows, maps to "Directories Only"
attribute. If I give only "D" stripping above mask from the path, then 
it is documented as to pull the all files "indcluding" the directory entries
also.
Anybody to verify this?

Anyway I will test without "*." and will report my finidings.



> But the refresh button still not recall nothing (especially this function
> with debug vars) and to have the doc loaded (if i change the doc path) i
> must restart the hbide to get new path related contents refreshed/listed.
> 

I know. This is because I am been unable to clean the tree "cleanly".
I will give it another try.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13985-trunk-harbour-tp4629809p4640114.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Feb 26 11:30:15 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 11:30:21 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
In-Reply-To: <4B87B5A9.9030608@mail.udg.mx>
References: <4B866BB6.2030207@mail.udg.mx> <4B87B5A9.9030608@mail.udg.mx>
Message-ID: <1267201815335-4640185.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
> I sent information privately
> 

Thank you, reviewing...


I need a basic code sample to test hbqt, without use of QInputContext, 
QWidget, just to know if hbqt-qt461 for OS/2 will run

Something as minidemoqt.prg  :-)


This is not possible without QWidget class.
QWidget is the parent of all GUI classes.
This is the object tree :

QObject, QPaintDevice
   QWidget
      All Other GUI Widgets - menus, buttons, etc

So I need to resolve it in base class first,
then probably everything will built properly.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-13976-tp4632138p4640185.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jarabal at gmail.com  Fri Feb 26 11:51:24 2010
From: jarabal at gmail.com (Xavi)
Date: Fri Feb 26 11:52:31 2010
Subject: [Harbour] Building Harbour on Windows.
Message-ID: <4B87FC0C.1090207@gmail.com>

Hi all,

IMHO the best solution is to define the version of Windows that supports the C compiler before compilation.
For example, if your C compiler supports Vista: set HB_USER_CFLAGS=-D_WIN32_WINNT 0x0600

http://msdn.microsoft.com/en-us/library/aa383745%28VS.85%29.aspx

Some structures are defined only in the headers from one version of Windows other may change.
IPv6 is supported from Windows Server 2003, Windows XP.
Even calling functions dynamically is necessary data with which they work.
It can make the binary work with earlier versions but the headers and the code should be protected by .-
#if _WIN32_WINNT >= 0x0501
	...
#endif
If not, we can have compile-time errors.
Please, what do you think about this, comments?

-- 
Xavi

From harbour.01 at syenar.hu  Fri Feb 26 11:55:28 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 26 11:55:36 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <1267201141464-4640114.post@n2.nabble.com>
References: <E1NkSH3-0004lq-6n@sfp-svn-2.v30.ch3.sourceforge.com>
	<fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
	<54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
	<1267111708012-4633080.post@n2.nabble.com>
	<fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
	<1267115100945-4633490.post@n2.nabble.com>
	<fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
	<1267201141464-4640114.post@n2.nabble.com>
Message-ID: <18d502871002260855u4306d3b9k5580ad0faf6b65d5@mail.gmail.com>

>
> > aDir := directory( cRootPath + "*.", "D" )
> >
> > to
> >
> > aDir := directory( cRootPath , "D" )
> >
> > make hbide loading the directory structure and the subdirs related docs
> > text
> > file are now showed.
> >
>
> So the culprit is "*." mask which, on Windows, maps to "Directories Only"
> attribute. If I give only "D" stripping above mask from the path, then
> it is documented as to pull the all files "indcluding" the directory
> entries
> also.
> Anybody to verify this?
>
> Anyway I will test without "*." and will report my finidings.
>

Why not simply with "*"?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/29d9f2d6/attachment.html
From harbour.01 at syenar.hu  Fri Feb 26 12:06:09 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 26 12:06:18 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <4B87FC0C.1090207@gmail.com>
References: <4B87FC0C.1090207@gmail.com>
Message-ID: <18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>

Hi,

If there is a way to dynamically find out the version of the structure
returned by function in question, so that we can be sure that required
fields are present, we may force 0x0600 version in source, just to get
the structure definitions from official headers. Plus we also need to
add support for older SDK versions, where the newer structure items
were not yet available at all (for this there doesn't seem to exist
well-known
and documented way, so historically we check compiler version, assuming
that it's always tied with a given PSDK version (which is theoretically
wrong, but works in most installations)).

Brgds,
Viktor

On Fri, Feb 26, 2010 at 5:51 PM, Xavi <jarabal@gmail.com> wrote:

> Hi all,
>
> IMHO the best solution is to define the version of Windows that supports
> the C compiler before compilation.
> For example, if your C compiler supports Vista: set
> HB_USER_CFLAGS=-D_WIN32_WINNT 0x0600
>
> http://msdn.microsoft.com/en-us/library/aa383745%28VS.85%29.aspx
>
> Some structures are defined only in the headers from one version of Windows
> other may change.
> IPv6 is supported from Windows Server 2003, Windows XP.
> Even calling functions dynamically is necessary data with which they work.
> It can make the binary work with earlier versions but the headers and the
> code should be protected by .-
> #if _WIN32_WINNT >= 0x0501
>        ...
> #endif
> If not, we can have compile-time errors.
> Please, what do you think about this, comments?
>
> --
> Xavi
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/e72fd181/attachment.html
From dbtopas at dbtopas.lt  Fri Feb 26 13:18:29 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb 26 13:18:53 2010
Subject: [Harbour] Trouble with SqlRdd
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6E7D0@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502E6E7D0@PINK.zycie.pzu>
Message-ID: <4B881075.60102@dbtopas.lt>

Horodyski Marek (PZUZ) wrote:
> I use Harbour 2.0.0beta3 (Rev. 12489) on WinXP SP3 and both ODBC client
> (Oracle and Microsoft).
> I could not use the current version, as I have in the GPF.
> How this can somehow improve in the sqlrdd?

> Hm, mostly I have in harbor\odbc zero when count(*) or sum( ...) are in
> the query.
> In sql tools (toad, sql developer etc.) I see correctly value.
> The problem of care for converting query (numeric fields) into the text
> - but it's only a workaround, and this should fix it somehow.



Hi, Marek,


for sure I can help you but I need a self contained sample that does not 
require installation of servers I do not have. Can you made a sample 
like contrib/rddsql/sddodbc/test/test1.prg and attach .mdb file if it is 
a problem Microsoft DB?

If I do not have self contained sample I need a precise debug info about 
field types and other field parameters both in SQL language and ODBC API 
presentation.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Fri Feb 26 14:06:32 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb 26 14:06:56 2010
Subject: [Harbour] Re: Switch to detect undeclared vars being used
In-Reply-To: <20100222224406.GB26179@linux-4bod.home.aster.pl>
References: <674e4ddd1002191611m760cc48fmd549897b0cdd5638@mail.gmail.com>	<1266631651299-4601199.post@n2.nabble.com>	<D7080B97-F5D0-47BD-8EB6-06AD2BA864F6@syenar.hu>	<4B823A02.9010700@libero.it>
	<20100222224406.GB26179@linux-4bod.home.aster.pl>
Message-ID: <4B881BB8.2070209@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> In class implementation we are using:
>    _HB_CLASS <className> [,<classFuncName>]     // new class
>    _HB_MEMBER <messageName> [ AS <type> ]
>    _HB_MEMBER { [ AS <type> ] <varName,...> }
> Of course this is also [x]Harbour only extension and it's hidden for
> users by PP rules in hbclass.ch so I think that only few people knows
> about such syntax extension.

I've seen it a lot of times in .ch and .ppo. I've even tried to look 
into .y for exact meaning of this, but I failed to find a good answer in 
compiler source.


> But for variable declaration in [x]Harbour "AS <type>" can be used after
> each variable, i.e.:
>    LOCAL cVar AS CHARACTER, nVar AS NUMERIC, lVar AS LOGICAL
> This is incompatible with other xbase dialects which allow to use
> "AS <type>" only at the end and it describes type for all vairables
> in given declaration, i.e.:
>    LOCAL nVar1, nVar2, nVar3 AS NUMERIC
> In FlagShip and VO declares 3 numeric variables but in [x]Harbour
> only nVar3 is declared as numeric variable but nVar1 and nVar2 do
> not have strong type, they are AS USUAL.
> I do not like this difference and it may cause serious problems
> with code portability.
> Clipper uses very similar syntax when fields are declared:
>    FIELD <fieldName, ...> IN <alias>
> and "IN <alias>" is used for all fields not only for the last one
> so this [x]Harbour extension looks ugly even if compared with only
> other Clipper commands.

I think we must be compatible with majority here. Unless we see a 
drawbacks in majority syntax.


> The most natural seems to be using pseudo functions like:
> 
>    asCharacter( <exp> )
>    asNumeric( <exp> )
>    asLogical( <exp> )
> 
> other method is using some new operator which will work well with PP.
> I.e. instead of 'AS' we can use '.AS.' because expressions like
> <exp> .AS. <type> are recognized by PP s single expression, i.e.
> 
>    ? x .as. numeric
> 
> is well preprocessed by PP to:
> 
>    QOUT( x .as. numeric )
> 
> Please think about it.

I remember I had some problems in the past introducing new operators. 
AFAIR, it was because PP do not know anything about operator 
precendence. Do we have a same situation here?

Pseudo functions looks like a good solution if we do not want to invent 
a new syntax like var.type . New syntax sometimes has a hidden drawbacks 
if you do not have the whole picture of lexer-PP-Compiler in your head. 
Of cause, I'm sure Przemek has it in his head :) But var.type looks a 
little alien for me.



One more thing is very interesting to me: how can we optimize code using 
strong typing? It would be nice, if we can reach a speed of C language 
here :) But we have some problems, f.e., our numeric type actually are 3 
different types in VM: int, HB_LONG (or some new type name to be exact), 
and double. This disables:
   LOCAL n1, n2, n3 AS NUMERIC
   n1 := n2 + n3
to be optimized to C level + operation, because additional type and 
parameter range checking is required. I've done some comparison of 
different languages (Harbour, Ruby, PHP, Java, etc) in the past. 
Languages that have separate double and integer types has much better 
performance for a simple arithmetic operations.
   LOCAL n1, n2, n3 AS INTEGER
could be useful.


I also want to answer here to a topic from another thread. This is 
related to Harbour syntax.

> Example:
>> with object MyObject
>>     &( "{|| x := :MyMethod() }" )
>> end
>> It gives a syntax error &
>...
> In next commit I'll add only protection for such GPF (it will work
> like in xHarbour) and we can try to talk about the future of WITH OBJECT.
> Here is the code which illustrates the problem:
>    proc main()
>       local cb
>       with object .F.
>          with object 0
>             cb := {|| :className }
>             ? eval( cb )            // NUMERIC
>          end
>          ? eval( cb )               // LOGICAL
>       end
>       ? eval( cb )                  // GPF or NIL after incomming commit.
>    return
> 
> As you can see codeblock is created inside 'with object 0' statement but
> can be used outside this statement when the given object does not longer
> exist so it does not confirm WITH OBJECT specification and has to be fixed.
> We have two choices:
>    1) detach WITH OBJECT variable lust like local variables
>       and add code which will resolve references in each :<msg> code.
>       It will cause some small speed overhead but it will work
>    2) forbid using :<msg> in nested code blocks at compile time.
> If we want to add support for macrocompiler then we can chose only
> method one.
> But method one except some small speed overhead has yet another drawback.
> It needs to keep current code which uses additional HVM stack register
> (lWithObject) to store offset of WITH OBJECT value. Such implementation
> needs additional code to update lWithObject register at the beginning and
> end of WITH OBJECT statement (additional speed overhead which can be
> eliminated and reduces this feature to only single WITH OBJECT variable
> and this is sth what I would like to eliminate in the future.

I know my opinion will be not popular, but I think the best choice is to 
remove this xHarbour's extension... Because it falls under category:

> I can understand that we are removing some code/functionality when
> we have very serious reasons for it, i.e. extension has some bad side
> effects, it's hard to update/keep alive and consumes too much developer
> time or blocks some other much more important modifications. In such
> case we can only say sorry and try to explain the reasons of our
> decision.


Regards,
Mindaugas

From carozodequilmes at gmail.com  Fri Feb 26 14:33:23 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Feb 26 14:33:30 2010
Subject: [Harbour] Method WinId in HbQt
Message-ID: <578c73341002261133r3da6a32cia0a0407a0c81a81c@mail.gmail.com>

Hi Pritpal, can you add method "winId" of class QMainWindow in _HbQt ?

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/0d38b3b2/attachment.html
From qiinfo at ig.com.br  Fri Feb 26 14:40:32 2010
From: qiinfo at ig.com.br (Rossine)
Date: Fri Feb 26 14:40:39 2010
Subject: [Harbour] Error with activex
Message-ID: <27722533.post@talk.nabble.com>


Hi,

With this sample:

[CODE]

#include "minigui.ch"
#include "hbclass.ch"
#include "i_winuser.ch"

static oMSCAL

function main

DEFINE WINDOW oMainWindow ;
      AT 0,0 WIDTH GetDesktopWidth() HEIGHT GetDesktopHeight()-30 ;
      TITLE "" ;
      FONT "Ms Sans Serif" SIZE 9 ;
      MAIN NOSIZE

      DEFINE MAIN MENU OF oMainWindow

          define popup "ACTIVEX"

             MENUITEM "Conectar"    ACTION { || oMSCAL := TxActivex():New(
"oMainWindow", "GrFingerX.GrFingerXCtrl", 0, 0, 300, 300 ) }
             SEPARATOR

             MENUITEM "E&xit" ACTION ThisWindow.release

       end popup

      END MENU
END WINDOW

      ACTIVATE WINDOW oMainWindow

return nil

CLASS TxActivex
     CLASS VAR winclass INIT "ACTIVEX"
     DATA oOLE INIT nil
     DATA hWnd INIT nil
     METHOD New
     METHOD Event
     METHOD Destroy

     ERROR HANDLER OnError

ENDCLASS

METHOD New( cWnd, cProgId, nTop, nLeft, nWidth, nHeight, cID ) CLASS
TxActivex
     local nStyle
     nStyle := WS_CHILD + WS_VISIBLE + WS_CLIPCHILDREN
     WIN_AxInit()
     ::hWnd := WAPI_CreateWindowEX( 0, "AtlAxWin", cProgId, nStyle, nLeft,
nTop,nWidth, nHeight, WIN_N2P( getformhandle( cWnd ) ), 0 )
     ::oOLE := WIN_AxGetControl( ::hWnd, { | event, ... | ::Event( event,
... ) }, cID )

return self

METHOD Event( ... ) CLASS TxActivex
     local cEvents := ""
     local aEvents := { ... }
     local nHandle
     aEval(aEvents, { | xEvent | cEvents += HB_ValToStr( xEvent ) + ", " } )
     if !file( "Event.Log" )
         nHandle := fcreate( "Event.Log" )
     else
         nHandle := fopen( "Event.Log", 1 )
         fseek( nHandle, 0, 2 )
     endif
     fwrite( nHandle, cEvents + chr( 13 ) + chr( 10 ) )
     fclose( nHandle )
return nil

METHOD Destroy() CLASS TxActivex

     MsgInfo( "Bye" )

     DestroyWindow( WIN_P2N( ::hWnd ) )

     ::hWnd := nil

return nil

METHOD OnError() CLASS TxActivex

return HB_ExecFromArray( ::oOLE, __GetMessage(), HB_AParams() )

[ENDCODE]

...I see this error:

[ERROR]
Error WINOLE/1014 Failed to obtain connection point: __AXREGISTERHANDLER
(DOS Error -2147220992)

Called from __AXREGISTERHANDLER(0)
Called from WIN_AXGETCONTROL(0)
Called from TXACTIVEX:NEW(50)
Called from (b)MAIN(19)
Called from _DOCONTROLEVENTPROCEDURE(1612)
Called from EVENTS(1361)
Called from _DOMESSAGELOOP(0)
Called from _ACTIVATEWINDOW(1340)
Called from MAIN(29)
[ENDERROR]

What might be causing this error ?

Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Error-with-activex-tp27722533p27722533.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From carozodequilmes at gmail.com  Fri Feb 26 14:49:32 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Feb 26 14:49:40 2010
Subject: [Harbour] Class QLibraryInfo in HbQt
Message-ID: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>

Hi Pritpal, can you add the class QLibraryInfo with the BuildKey method ?

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/2f1bf54d/attachment.html
From carozodequilmes at gmail.com  Fri Feb 26 14:54:27 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Feb 26 14:54:35 2010
Subject: [Harbour] FocusIn and FocusOut in widgets
Message-ID: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>

Hi Pritpal, are implemented the FocusIn and FocusOut events in widget (not
Windows, it work fine for my), for example TextBox ???

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/0d33e6ef/attachment.html
From bedipritpal at hotmail.com  Fri Feb 26 15:15:57 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 15:16:05 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <18d502871002260855u4306d3b9k5580ad0faf6b65d5@mail.gmail.com>
References: <fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<fd76479f1002250115o11fbeb77rdcfa1154efd3cde2@mail.gmail.com>
	<54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
	<1267111708012-4633080.post@n2.nabble.com>
	<fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
	<1267115100945-4633490.post@n2.nabble.com>
	<fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
	<1267201141464-4640114.post@n2.nabble.com>
	<18d502871002260855u4306d3b9k5580ad0faf6b65d5@mail.gmail.com>
Message-ID: <1267215357706-4641568.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Why not simply with "*"?
> 

I never tried only "*". To my absent mind
it always sounded synonymous to "*.*".
I will experiment with it today.




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13985-trunk-harbour-tp4629809p4641568.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Feb 26 15:27:00 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 15:27:06 2010
Subject: [Harbour] Re: Method WinId in HbQt
In-Reply-To: <578c73341002261133r3da6a32cia0a0407a0c81a81c@mail.gmail.com>
References: <578c73341002261133r3da6a32cia0a0407a0c81a81c@mail.gmail.com>
Message-ID: <1267216020106-4641628.post@n2.nabble.com>



CarozoDeQuilmes wrote:
> 
> Hi Pritpal, can you add method "winId" of class QMainWindow in _HbQt ?
> 

No, this is Windows only solution.
We had to drop it almost hal an year before.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Method-WinId-in-HbQt-tp4641320p4641628.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Feb 26 15:32:01 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 15:32:08 2010
Subject: [Harbour] Re: Class QLibraryInfo in HbQt
In-Reply-To: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>
References: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>
Message-ID: <1267216321192-4641650.post@n2.nabble.com>



CarozoDeQuilmes wrote:
> 
> Hi Pritpal, can you add the class QLibraryInfo with the BuildKey method ?
> 

A far as I remeber, the request has been replied before. No ?
QLibraryInfo is a pure virtual class and needs a lot more to sub-class it.
I will look into this next week, just remind me then.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Class-QLibraryInfo-in-HbQt-tp4641413p4641650.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Fri Feb 26 15:38:57 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 26 15:39:05 2010
Subject: [Harbour] Re: Class QLibraryInfo in HbQt
In-Reply-To: <1267216321192-4641650.post@n2.nabble.com>
References: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>
	<1267216321192-4641650.post@n2.nabble.com>
Message-ID: <18d502871002261238v4806be4q167c240ebc6eb15e@mail.gmail.com>

We've decided to not support the plugin architecture of QT lib
for various reasons detailed back then.

Brgds,
Viktor

On Fri, Feb 26, 2010 at 9:32 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, can you add the class QLibraryInfo with the BuildKey method ?
> >
>
> A far as I remeber, the request has been replied before. No ?
> QLibraryInfo is a pure virtual class and needs a lot more to sub-class it.
> I will look into this next week, just remind me then.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Class-QLibraryInfo-in-HbQt-tp4641413p4641650.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/99136826/attachment.html
From bedipritpal at hotmail.com  Fri Feb 26 15:39:43 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 15:39:51 2010
Subject: [Harbour] Re: FocusIn and FocusOut in widgets
In-Reply-To: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>
References: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>
Message-ID: <1267216783743-4641699.post@n2.nabble.com>



CarozoDeQuilmes wrote:
> 
> Hi Pritpal, are implemented the FocusIn and FocusOut events in widget (not
> Windows, it work fine for my), for example TextBox ???
> 

Try something like:

   #include "hbqt.ch"

   pEvents := Qt_Events_New()

   qWidget := QWidget():new()

   qWidget:installEventFilter( pEvents )

   Qt_Events_Connect( pEvents, qWidget, QEvent_FocusIn, {|| ProcessEvent(
QEvent_FocusIn ) } )


Please post your results here.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/FocusIn-and-FocusOut-in-widgets-tp4641452p4641699.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Fri Feb 26 15:47:37 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 26 15:47:45 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14002] trunk/harbour
Message-ID: <E1Nl761-0002Ek-Cq@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14002
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14002&view=rev
Author:   vszakats
Date:     2010-02-26 20:47:35 +0000 (Fri, 26 Feb 2010)

Log Message:
-----------
2010-02-26 21:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * bin/hb-mkimp.bat
  + contrib/rddsql/sddoci
  + contrib/rddsql/sddoci/Makefile
  + contrib/rddsql/sddoci/ocidd.c
  + contrib/rddsql/sddoci/sddoci.hbc
  + contrib/rddsql/sddoci/tests
  + contrib/rddsql/sddoci/tests/hbmk.hbm
  + contrib/rddsql/sddoci/tests/test1.prg
  * contrib/rddsql/Makefile
    + Added support for direct connection to Oracle
      databases via OCILIB library.
      UNICODE, ANSI (default) and MIXED modes are supported.
      For mingw targets, the library will be linked
      statically, for the rest dynamically.
      You need to have Oracle client (oci.dll and the 
      rest of the package) installed to use it.
    ; TODO: Finish type conversion and mapping.

  * contrib/rddsql/sddmy/mysqldd.c
  * contrib/rddsql/sddpg/pgsqldd.c
  * contrib/rddsql/sddfb/fbirddd.c
  * contrib/rddsql/sddodbc/odbcdd.c
    ! HB_ULONG -> HB_SIZE

  ; TOFIX: To Mindaugas: Current SDD architecture will crash with GPF
           if dbUseArea() is attempted after a failed RDDI_CONNECT
           call. You can check it f.e. with sddodbc's test1.prg, by
           modifying test.mdb to test_.mdb, and simply run it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/contrib/rddsql/Makefile
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c

Added Paths:
-----------
    trunk/harbour/contrib/rddsql/sddoci/
    trunk/harbour/contrib/rddsql/sddoci/Makefile
    trunk/harbour/contrib/rddsql/sddoci/ocidd.c
    trunk/harbour/contrib/rddsql/sddoci/sddoci.hbc
    trunk/harbour/contrib/rddsql/sddoci/tests/
    trunk/harbour/contrib/rddsql/sddoci/tests/hbmk.hbm
    trunk/harbour/contrib/rddsql/sddoci/tests/test1.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Feb 26 15:51:21 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 15:51:27 2010
Subject: [Harbour] Re: Class QLibraryInfo in HbQt
In-Reply-To: <18d502871002261238v4806be4q167c240ebc6eb15e@mail.gmail.com>
References: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>
	<1267216321192-4641650.post@n2.nabble.com>
	<18d502871002261238v4806be4q167c240ebc6eb15e@mail.gmail.com>
Message-ID: <1267217481082-4641755.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> We've decided to not support the plugin architecture of QT lib
> for various reasons detailed back then.
> 

:buildKey() only generates a key which are essential for a plugin
to be linked in a version of Qt.

As far as my understanding extends, this class has nothing to do with plugin 
architecture of Qt by "itself". It simply retreives the licensing info and
provides access 
to some paths. For that matter, Harbour wrappers can never support plugins
in any manner.

It is a difficult class to generate dynamically so I failed on many 
occassion to develop it. And still I do not know how to?

Also I do not see the real benefits of this class, taken especially 
the LGPL licensing issues.

Probably CarozoDeQuilmes want to issue some commands based on 
Qt library version. That can be the only valid reason for this request.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Class-QLibraryInfo-in-HbQt-tp4641413p4641755.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Fri Feb 26 16:02:31 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 26 16:02:38 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14003] trunk/harbour
Message-ID: <E1Nl7KR-0002Zp-1T@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14003
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14003&view=rev
Author:   vszakats
Date:     2010-02-26 21:02:29 +0000 (Fri, 26 Feb 2010)

Log Message:
-----------
2010-02-26 22:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddoci/ocidd.c
    * Commented trace call.

  * contrib/rddsql/sddoci/Makefile
    + Added tweak to link with implibs of ever-problematic bcc
      compiler.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddoci/Makefile
    trunk/harbour/contrib/rddsql/sddoci/ocidd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Fri Feb 26 16:33:10 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 26 16:33:19 2010
Subject: [Harbour] PICTURE() incompat
Message-ID: <674e4ddd1002261333v422830f5if0fe0090acb26ae6@mail.gmail.com>

Hi,

We have discovered the following incompatibility:

x:="Y"

@ 3,0 get  x picture "Y"
read

The Picture command is used to format the screen display as well as put
control on what the field will accept. In the case of picture "Y", it forces
the user to enter either Y (Yes) or N (No).  However.... x will always be
returned in uppercase in Clipper but Harbour returns the case that the user
entered into the field

I have tons of places where I check the value of the field to be either Y or
N and did not have to test for y or n because it was impossible to assign a
lowercase value. We have 120 occurrences of picture "Y" and I will have to
change them all to picture "@!Y"

Should I go ahead with the changes, or is this is a valid incompatibility
report?

Thank you

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/ca62180e/attachment.html
From marcobra.ubuntu at gmail.com  Fri Feb 26 17:08:18 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Feb 26 17:08:26 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <1267215357706-4641568.post@n2.nabble.com>
References: <fd76479f1002250021q7f5a7450h12538738e7769a59@mail.gmail.com>
	<54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
	<1267111708012-4633080.post@n2.nabble.com>
	<fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
	<1267115100945-4633490.post@n2.nabble.com>
	<fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
	<1267201141464-4640114.post@n2.nabble.com>
	<18d502871002260855u4306d3b9k5580ad0faf6b65d5@mail.gmail.com>
	<1267215357706-4641568.post@n2.nabble.com>
Message-ID: <fd76479f1002261408u27f309e3v1da75a34e36d3484@mail.gmail.com>

2010/2/26 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Viktor Szak?ts wrote:
> >
> > Why not simply with "*"?
> >
>
> I never tried only "*". To my absent mind
> it always sounded synonymous to "*.*".
> I will experiment with it today.
>
>
FYI the "*"

aDir := directory( cRootPath + "*", "D" )

file filter mask work on Linux Ubuntu 9.10.

BTW to populate the frame with doc contents i MUST restart hbide.

Thank you

Marco

Linux Infinite Freedom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/ae5bde89/attachment-0001.html
From vszakats at users.sourceforge.net  Fri Feb 26 17:19:54 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Feb 26 17:20:01 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14004] trunk/harbour
Message-ID: <E1Nl8XK-0004MF-3I@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14004
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14004&view=rev
Author:   vszakats
Date:     2010-02-26 22:19:52 +0000 (Fri, 26 Feb 2010)

Log Message:
-----------
2010-02-26 23:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/tget.prg
  * tests/rto_get.prg
    ! Fixed to convert input to uppercase for "Y" picture mask.
    + Added regression test for this case.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/tget.prg
    trunk/harbour/tests/rto_get.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From smujohnson at gmail.com  Fri Feb 26 17:52:12 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 26 17:52:20 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14004] trunk/harbour
In-Reply-To: <E1Nl8XK-0004MF-3I@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Nl8XK-0004MF-3I@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <674e4ddd1002261452j15da07f0t61192833c71e3421@mail.gmail.com>

thanks viktor!

On Fri, Feb 26, 2010 at 2:19 PM, <vszakats@users.sourceforge.net> wrote:

> Revision: 14004
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14004&view=rev
> Author:   vszakats
> Date:     2010-02-26 22:19:52 +0000 (Fri, 26 Feb 2010)
>
> Log Message:
> -----------
> 2010-02-26 23:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * src/rtl/tget.prg
>  * tests/rto_get.prg
>    ! Fixed to convert input to uppercase for "Y" picture mask.
>    + Added regression test for this case.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/rtl/tget.prg
>    trunk/harbour/tests/rto_get.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/e1a7e50e/attachment.html
From smujohnson at gmail.com  Fri Feb 26 18:12:02 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 26 18:12:09 2010
Subject: [Harbour] For Przemek: SIXCDX difference found with examples
Message-ID: <674e4ddd1002261512t65c03a3cl7ba7fa468c6e70dc@mail.gmail.com>

Hi again,

With a Roll-your-own index open, when you use a dbgoto(), the record pointer
is moved to the correct row in the table but the pointer in the index file
is not positioned to the corresponding row, even though the record is in the
index.  With a regular cdx index, the index pointer is always positioned
after a dbgoto().

Perhaps the reason for not positioning the index pointer in an ryo index is
that an ryo index can contain multiple entries for a single table row, and
as such, positioning the index pointer would be ambiguous action (pick one?)
and could therefore cause unpredictable results.  Am I correct in that
thinking?

In any event, the Harbour behaviour is different from the SIX SDX, which is
causing me problems.

I have included a URL for a tiny .ZIP file for a simple source code example,
and 2 .txt files showing different behaviour on Clipper 5.2e / Harbour.
Please read here:  http://209.97.219.2/sjohnson/misc/sixcdx-incompat.zip

PS:  The source file has the code for Harbour to select SIX type drivers,
and wasn't present when compiling the cl52e version, for obvious reasons.

Thanks !!!

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/8ab09a94/attachment.html
From dbtopas at dbtopas.lt  Fri Feb 26 18:36:34 2010
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Feb 26 18:37:06 2010
Subject: [Harbour] For Przemek: SIXCDX difference found with examples
In-Reply-To: <674e4ddd1002261512t65c03a3cl7ba7fa468c6e70dc@mail.gmail.com>
References: <674e4ddd1002261512t65c03a3cl7ba7fa468c6e70dc@mail.gmail.com>
Message-ID: <4B885B02.5060708@dbtopas.lt>

Hi,


smu johnson wrote:
> With a Roll-your-own index open, when you use a dbgoto(), the record 
> pointer is moved to the correct row in the table but the pointer in the 
> index file is not positioned to the corresponding row, even though the 
> record is in the index.  With a regular cdx index, the index pointer is 
> always positioned after a dbgoto().
> 
> Perhaps the reason for not positioning the index pointer in an ryo index 
> is that an ryo index can contain multiple entries for a single table 
> row, and as such, positioning the index pointer would be ambiguous 
> action (pick one?) and could therefore cause unpredictable results.  Am 
> I correct in that thinking?

DBF can be positioned by record number. Index can be positioned by key 
value. Since in RYO indices keyvalue could not be calculated using 
record data, index can not be positioned. You can think that DBGOTO() 
call also executes DBSEEK(&(ORDKEY())) to position index. In case of 
RYO, ORDKEY() has no meaning.


Regards,
Mindaugas
From carozodequilmes at gmail.com  Fri Feb 26 18:39:53 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Feb 26 18:40:00 2010
Subject: [Harbour] Re: Class QLibraryInfo in HbQt
In-Reply-To: <1267217481082-4641755.post@n2.nabble.com>
References: <578c73341002261149o3a499896u8d0af2416e1d7acb@mail.gmail.com>
	<1267216321192-4641650.post@n2.nabble.com>
	<18d502871002261238v4806be4q167c240ebc6eb15e@mail.gmail.com>
	<1267217481082-4641755.post@n2.nabble.com>
Message-ID: <578c73341002261539x35303691sd062e8ba36be85c7@mail.gmail.com>

Hi Pritpal, maybe I am wrong and you can help me.  I only need get the
version, release and build of Qt library (ex: 4.6.2)
I don't need add any plugins (in Static Link Mode, Qt don't support jpg
images without pluging.... but isn't very necesary)

Thanks

CdQ

On Fri, Feb 26, 2010 at 5:51 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> Viktor Szak?ts wrote:
> >
> > We've decided to not support the plugin architecture of QT lib
> > for various reasons detailed back then.
> >
>
> :buildKey() only generates a key which are essential for a plugin
> to be linked in a version of Qt.
>
> As far as my understanding extends, this class has nothing to do with
> plugin
> architecture of Qt by "itself". It simply retreives the licensing info and
> provides access
> to some paths. For that matter, Harbour wrappers can never support plugins
> in any manner.
>
> It is a difficult class to generate dynamically so I failed on many
> occassion to develop it. And still I do not know how to?
>
> Also I do not see the real benefits of this class, taken especially
> the LGPL licensing issues.
>
> Probably CarozoDeQuilmes want to issue some commands based on
> Qt library version. That can be the only valid reason for this request.
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Class-QLibraryInfo-in-HbQt-tp4641413p4641755.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/45872aff/attachment.html
From carozodequilmes at gmail.com  Fri Feb 26 19:32:31 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Feb 26 19:32:38 2010
Subject: [Harbour] Re: FocusIn and FocusOut in widgets
In-Reply-To: <1267216783743-4641699.post@n2.nabble.com>
References: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>
	<1267216783743-4641699.post@n2.nabble.com>
Message-ID: <578c73341002261632kfa275b6m3ac70280e8c33c93@mail.gmail.com>

Work very good !!!  Many Thanks

This is my sample for test:

*#include "hbqt.ch"*
*
*
*REQUEST HB_QT*
*
*
*STATIC s_qApp*
*
*
*STATIC pEvents*
*
*
*/*----------------------------------------------------------------------*/*
*
*
*INIT PROCEDURE Qt_Start()*
*
*
*   hbqt_errorsys()*
*
*
*   s_qApp := QApplication():new()*
*   RETURN*
*
*
*EXIT PROCEDURE Qt_End()*
*   s_qApp:quit()*
*   RETURN*
*
*
*/*----------------------------------------------------------------------*/*
*
*
*PROCEDURE Main()*
*   Local oLabel, oDA, oWnd, oTextBox1, oTextBox2*
*
*
*   pEvents := QT_EVENTS_NEW()*
*
*
*   oWnd := QMainWindow():new()*
*   oWnd:setWindowTitle( "Harbour-Qt Implementation Test Dialog" )*
*   oWnd:resize( 900, 500 )*
*   oDA    := QWidget():new( oWnd )*
*   oWnd:setCentralWidget( oDA )*
*
*
*   oLabel := QLabel():new( oWnd )*
*   oLabel:setText( "Label" )*
*   oLabel:move( 150 , 150 )*
*   oLabel:resize( 100 , 100 )*
*   oLabel:show()*
*
*
*   oTextBox1 := QTextEdit():new( oWnd )*
*   oTextBox1:Move( 5, 7 )*
*   oTextBox1:Resize( 300,30 )*
*   oTextBox1:setPlainText( "TextBox" )*
*   oTextBox1:Show()*
*
*
*   oTextBox2 := QTextEdit():new( oWnd )*
*   oTextBox2:installEventFilter( pEvents )*
*   oTextBox2:Move( 5, 60 )*
*   oTextBox2:Resize( 300,30 )*
*   oTextBox2:setPlainText( "This is the TextBox for check Focus" )*
*   oTextBox2:Show()*
*   Qt_Events_Connect( pEvents, oTextBox2 , QEvent_FocusIn, {||
oLabel:setText( "FocusIn" ) } )*
*   Qt_Events_Connect( pEvents, oTextBox2 , QEvent_FocusOut, {||
oLabel:setText( "focusout" ) } )*
*
*
*   oWnd:Show()*
*
*
*   s_qApp:exec()*
*
*
*   RETURN*

Thanks and regards
CdQ


On Fri, Feb 26, 2010 at 5:39 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, are implemented the FocusIn and FocusOut events in widget
> (not
> > Windows, it work fine for my), for example TextBox ???
> >
>
> Try something like:
>
>   #include "hbqt.ch"
>
>   pEvents := Qt_Events_New()
>
>   qWidget := QWidget():new()
>
>   qWidget:installEventFilter( pEvents )
>
>   Qt_Events_Connect( pEvents, qWidget, QEvent_FocusIn, {|| ProcessEvent(
> QEvent_FocusIn ) } )
>
>
> Please post your results here.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/FocusIn-and-FocusOut-in-widgets-tp4641452p4641699.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/ac3129fc/attachment-0001.html
From smujohnson at gmail.com  Fri Feb 26 19:47:11 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 26 19:47:20 2010
Subject: [Harbour] Error: Unresolved external '_HB_FUN_CURDRIVE'
In-Reply-To: <609353e71002200707s36875af6sf8a2c3f41dd2d0f1@mail.gmail.com>
References: <8985891.3fbe4d29ddb23f7909bb454c01f5fa9c@webm.polly.com.ua>
	<609353e71002200707s36875af6sf8a2c3f41dd2d0f1@mail.gmail.com>
Message-ID: <674e4ddd1002261647m676f84b9jff508e5d73512015@mail.gmail.com>

I also am getting this.

..\latest\.hbmk\win\mingw\1BMMENU.o:1BMMENU.c:(.data+0x818): undefined
reference to `HB_FUN_CURDRIVE'
..\latest\.hbmk\win\mingw\CHECKSYS.o:CHECKSYS.c:(.data+0x7c8): undefined
reference to `HB_FUN_CURDRIVE'
..\latest\.hbmk\win\mingw\SUPPLIER.o:SUPPLIER.c:(.data+0xf88): undefined
reference to `HB_FUN_CURDRIVE'

*sad face*


On Sat, Feb 20, 2010 at 7:07 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> same in win
> WIN-MAKE[2]: [install] Error 1 (ignored)
> ../../../../../bin/win/mingw/harbour.exe ../../../hbrun.prg
> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
> -march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbrun.o -c
> hbrun.c
> gcc  -L../../../../../lib/win/mingw   -o
> ..\..\..\..\..\bin\win\mingw\hbrun.exe hbrun.o -lhbcplr -lhbpp
> -lhbcommon -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage
> -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbrdd -lrddntx
> -lrddnsx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lhbusrrdd -lhbuddall
> -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
> -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
>        1 file copiati.
> ../../../../../bin/win/mingw/harbour.exe ../../../hbmk2.prg
> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
> -march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbmk2.o -c
> hbmk2.c
> gcc  -L../../../../../lib/win/mingw   -o
> ..\..\..\..\..\bin\win\mingw\hbmk2.exe hbmk2.o -lhbcplr -lhbpp
> -lhbcommon -lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage
> -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbnulrdd -lhbrtl
> -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
> -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
> hbmk2.o:hbmk2.c:(.data+0xb38): undefined reference to `HB_FUN_CURDRIVE'
> collect2: ld returned 1 exit status
> WIN-MAKE[3]: *** [hbmk2.exe] Error 1
> WIN-MAKE[2]: *** [descend] Error 2
> WIN-MAKE[1]: *** [hbmk2.inst] Error 2
> WIN-MAKE: *** [utils.inst] Error 2
>
>
>
> 2010/2/20  <vatzct@polly.com.ua>:
> > Hi!
> >
> > I can't build harbour
> > $Id: ChangeLog 13933 2010-02-20 12:03:26Z vszakats $
> >
> > ../../../../../bin/win/bcc/harbour.exe ../../../hbmk2.prg
> > -i./../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
> > bcc32.exe   -I. -I../../../../../include -q -tWM -CP437 -w -w-sig- -Q -d
> -6
> > -O2 -OS -Ov -Oi -Oc -DHB_LEGACY_TYPES_OFF
> > -I"c:\dev\borland\bcc55\bin\..\Include"  -ohbmk2.obj -c hbmk2.c
> > hbmk2.c:
> > ilink32.exe  -L"c:\dev\borland\bcc55\bin\..\Lib"
> > -L"c:\dev\borland\bcc55\bin\..\Lib\PSDK" -L"..\..\..\..\..\lib\win\bcc"
> -Gn
> > -Tpe   c0x32.obj hbmk2.obj, "..\..\..\..\..\bin\win\bcc\hbmk2.exe", nul,
> > hbcplr hbpp hbcommon hbextern hbdebug hbvmmt hbrtl hblang hbcpage gtcgi
> > gtpca gtstd gtwvt gtgui gtwin hbnulrdd hbrtl hbvmmt hbmacro hbcplr hbpp
> > hbcommon hbpcre hbzlib kernel32 user32 ws2_32 advapi32 gdi32 cw32mt
> import32
> > Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> > Error: Unresolved external '_HB_FUN_CURDRIVE' referenced from
> > C:\DEV\HARBOUR_SVN\UTILS\HBMK2\OBJ\WIN\BCC\HBMK2.OBJ
> >
> > Regards,
> > Alexey Myronenko
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/4c164406/attachment.html
From smujohnson at gmail.com  Fri Feb 26 19:50:33 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 26 19:50:42 2010
Subject: [Harbour] Error: Unresolved external '_HB_FUN_CURDRIVE'
In-Reply-To: <674e4ddd1002261647m676f84b9jff508e5d73512015@mail.gmail.com>
References: <8985891.3fbe4d29ddb23f7909bb454c01f5fa9c@webm.polly.com.ua>
	<609353e71002200707s36875af6sf8a2c3f41dd2d0f1@mail.gmail.com>
	<674e4ddd1002261647m676f84b9jff508e5d73512015@mail.gmail.com>
Message-ID: <674e4ddd1002261650j3f2bdf90h4005094285234249@mail.gmail.com>

I should also note that I got Harbour dev to compile in windows, just that I
can't get it to compile my .PRGs

On Fri, Feb 26, 2010 at 4:47 PM, smu johnson <smujohnson@gmail.com> wrote:

> I also am getting this.
>
> ..\latest\.hbmk\win\mingw\1BMMENU.o:1BMMENU.c:(.data+0x818): undefined
> reference to `HB_FUN_CURDRIVE'
> ..\latest\.hbmk\win\mingw\CHECKSYS.o:CHECKSYS.c:(.data+0x7c8): undefined
> reference to `HB_FUN_CURDRIVE'
> ..\latest\.hbmk\win\mingw\SUPPLIER.o:SUPPLIER.c:(.data+0xf88): undefined
> reference to `HB_FUN_CURDRIVE'
>
> *sad face*
>
>
>
> On Sat, Feb 20, 2010 at 7:07 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>
>> same in win
>> WIN-MAKE[2]: [install] Error 1 (ignored)
>> ../../../../../bin/win/mingw/harbour.exe ../../../hbrun.prg
>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
>> -march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbrun.o -c
>> hbrun.c
>> gcc  -L../../../../../lib/win/mingw   -o
>> ..\..\..\..\..\bin\win\mingw\hbrun.exe hbrun.o -lhbcplr -lhbpp
>> -lhbcommon -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage
>> -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbrdd -lrddntx
>> -lrddnsx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lhbusrrdd -lhbuddall
>> -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
>> -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
>>        1 file copiati.
>> ../../../../../bin/win/mingw/harbour.exe ../../../hbmk2.prg
>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
>> -march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbmk2.o -c
>> hbmk2.c
>> gcc  -L../../../../../lib/win/mingw   -o
>> ..\..\..\..\..\bin\win\mingw\hbmk2.exe hbmk2.o -lhbcplr -lhbpp
>> -lhbcommon -lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage
>> -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbnulrdd -lhbrtl
>> -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
>> -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
>> hbmk2.o:hbmk2.c:(.data+0xb38): undefined reference to `HB_FUN_CURDRIVE'
>> collect2: ld returned 1 exit status
>> WIN-MAKE[3]: *** [hbmk2.exe] Error 1
>> WIN-MAKE[2]: *** [descend] Error 2
>> WIN-MAKE[1]: *** [hbmk2.inst] Error 2
>> WIN-MAKE: *** [utils.inst] Error 2
>>
>>
>>
>> 2010/2/20  <vatzct@polly.com.ua>:
>> > Hi!
>> >
>> > I can't build harbour
>> > $Id: ChangeLog 13933 2010-02-20 12:03:26Z vszakats $
>> >
>> > ../../../../../bin/win/bcc/harbour.exe ../../../hbmk2.prg
>> > -i./../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>> > bcc32.exe   -I. -I../../../../../include -q -tWM -CP437 -w -w-sig- -Q -d
>> -6
>> > -O2 -OS -Ov -Oi -Oc -DHB_LEGACY_TYPES_OFF
>> > -I"c:\dev\borland\bcc55\bin\..\Include"  -ohbmk2.obj -c hbmk2.c
>> > hbmk2.c:
>> > ilink32.exe  -L"c:\dev\borland\bcc55\bin\..\Lib"
>> > -L"c:\dev\borland\bcc55\bin\..\Lib\PSDK" -L"..\..\..\..\..\lib\win\bcc"
>> -Gn
>> > -Tpe   c0x32.obj hbmk2.obj, "..\..\..\..\..\bin\win\bcc\hbmk2.exe", nul,
>> > hbcplr hbpp hbcommon hbextern hbdebug hbvmmt hbrtl hblang hbcpage gtcgi
>> > gtpca gtstd gtwvt gtgui gtwin hbnulrdd hbrtl hbvmmt hbmacro hbcplr hbpp
>> > hbcommon hbpcre hbzlib kernel32 user32 ws2_32 advapi32 gdi32 cw32mt
>> import32
>> > Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
>> > Error: Unresolved external '_HB_FUN_CURDRIVE' referenced from
>> > C:\DEV\HARBOUR_SVN\UTILS\HBMK2\OBJ\WIN\BCC\HBMK2.OBJ
>> >
>> > Regards,
>> > Alexey Myronenko
>> >
>> > _______________________________________________
>> > Harbour mailing list (attachment size limit: 40KB)
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/a405ef36/attachment.html
From harbour.01 at syenar.hu  Fri Feb 26 19:56:43 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Feb 26 19:56:52 2010
Subject: [Harbour] Error: Unresolved external '_HB_FUN_CURDRIVE'
In-Reply-To: <674e4ddd1002261650j3f2bdf90h4005094285234249@mail.gmail.com>
References: <8985891.3fbe4d29ddb23f7909bb454c01f5fa9c@webm.polly.com.ua>
	<609353e71002200707s36875af6sf8a2c3f41dd2d0f1@mail.gmail.com>
	<674e4ddd1002261647m676f84b9jff508e5d73512015@mail.gmail.com>
	<674e4ddd1002261650j3f2bdf90h4005094285234249@mail.gmail.com>
Message-ID: <18d502871002261656p4772080aq44cf782d65b76db@mail.gmail.com>

Either add hbxpp to you liblist or change the call to HB_CURDRIVE().

See ChangeLog for more.

Brgds,
Viktor

On Sat, Feb 27, 2010 at 1:50 AM, smu johnson <smujohnson@gmail.com> wrote:

> I should also note that I got Harbour dev to compile in windows, just that
> I can't get it to compile my .PRGs
>
>
> On Fri, Feb 26, 2010 at 4:47 PM, smu johnson <smujohnson@gmail.com> wrote:
>
>> I also am getting this.
>>
>> ..\latest\.hbmk\win\mingw\1BMMENU.o:1BMMENU.c:(.data+0x818): undefined
>> reference to `HB_FUN_CURDRIVE'
>> ..\latest\.hbmk\win\mingw\CHECKSYS.o:CHECKSYS.c:(.data+0x7c8): undefined
>> reference to `HB_FUN_CURDRIVE'
>> ..\latest\.hbmk\win\mingw\SUPPLIER.o:SUPPLIER.c:(.data+0xf88): undefined
>> reference to `HB_FUN_CURDRIVE'
>>
>> *sad face*
>>
>>
>>
>> On Sat, Feb 20, 2010 at 7:07 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>>
>>> same in win
>>> WIN-MAKE[2]: [install] Error 1 (ignored)
>>> ../../../../../bin/win/mingw/harbour.exe ../../../hbrun.prg
>>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>>> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
>>> -march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbrun.o -c
>>> hbrun.c
>>> gcc  -L../../../../../lib/win/mingw   -o
>>> ..\..\..\..\..\bin\win\mingw\hbrun.exe hbrun.o -lhbcplr -lhbpp
>>> -lhbcommon -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage
>>> -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbrdd -lrddntx
>>> -lrddnsx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lhbusrrdd -lhbuddall
>>> -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
>>> -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
>>>        1 file copiati.
>>> ../../../../../bin/win/mingw/harbour.exe ../../../hbmk2.prg
>>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>>> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
>>> -march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbmk2.o -c
>>> hbmk2.c
>>> gcc  -L../../../../../lib/win/mingw   -o
>>> ..\..\..\..\..\bin\win\mingw\hbmk2.exe hbmk2.o -lhbcplr -lhbpp
>>> -lhbcommon -lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage
>>> -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbnulrdd -lhbrtl
>>> -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
>>> -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
>>> hbmk2.o:hbmk2.c:(.data+0xb38): undefined reference to `HB_FUN_CURDRIVE'
>>> collect2: ld returned 1 exit status
>>> WIN-MAKE[3]: *** [hbmk2.exe] Error 1
>>> WIN-MAKE[2]: *** [descend] Error 2
>>> WIN-MAKE[1]: *** [hbmk2.inst] Error 2
>>> WIN-MAKE: *** [utils.inst] Error 2
>>>
>>>
>>>
>>> 2010/2/20  <vatzct@polly.com.ua>:
>>> > Hi!
>>> >
>>> > I can't build harbour
>>> > $Id: ChangeLog 13933 2010-02-20 12:03:26Z vszakats $
>>> >
>>> > ../../../../../bin/win/bcc/harbour.exe ../../../hbmk2.prg
>>> > -i./../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>>> > bcc32.exe   -I. -I../../../../../include -q -tWM -CP437 -w -w-sig- -Q
>>> -d -6
>>> > -O2 -OS -Ov -Oi -Oc -DHB_LEGACY_TYPES_OFF
>>> > -I"c:\dev\borland\bcc55\bin\..\Include"  -ohbmk2.obj -c hbmk2.c
>>> > hbmk2.c:
>>> > ilink32.exe  -L"c:\dev\borland\bcc55\bin\..\Lib"
>>> > -L"c:\dev\borland\bcc55\bin\..\Lib\PSDK" -L"..\..\..\..\..\lib\win\bcc"
>>> -Gn
>>> > -Tpe   c0x32.obj hbmk2.obj, "..\..\..\..\..\bin\win\bcc\hbmk2.exe",
>>> nul,
>>> > hbcplr hbpp hbcommon hbextern hbdebug hbvmmt hbrtl hblang hbcpage gtcgi
>>> > gtpca gtstd gtwvt gtgui gtwin hbnulrdd hbrtl hbvmmt hbmacro hbcplr hbpp
>>> > hbcommon hbpcre hbzlib kernel32 user32 ws2_32 advapi32 gdi32 cw32mt
>>> import32
>>> > Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
>>> > Error: Unresolved external '_HB_FUN_CURDRIVE' referenced from
>>> > C:\DEV\HARBOUR_SVN\UTILS\HBMK2\OBJ\WIN\BCC\HBMK2.OBJ
>>> >
>>> > Regards,
>>> > Alexey Myronenko
>>> >
>>> > _______________________________________________
>>> > Harbour mailing list (attachment size limit: 40KB)
>>> > Harbour@harbour-project.org
>>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>>> >
>>> >
>>>
>>>
>>>
>>> --
>>> Massimo Belgrano
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> smu johnson <smujohnson@gmail.com>
>>
>>
>
>
> --
> smu johnson <smujohnson@gmail.com>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/48a46ca2/attachment-0001.html
From vouchcac at users.sourceforge.net  Fri Feb 26 20:02:40 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb 26 20:02:47 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14005] trunk/harbour
Message-ID: <E1NlB4q-0007tS-Qt@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14005
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14005&view=rev
Author:   vouchcac
Date:     2010-02-27 01:02:40 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-26 16:54 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/docviewgenerator.ui
  * contrib/hbide/resources/docviewgenerator.uic
    ! Enabled: left-right tab-widgets to share space as per user wish.
      You can resize the indivisual tab-widgets, move cursor in-between
      horizontal divider.

  * doc/hdr_tpl.txt
    ! Little correction in exact number of spaces and little 
      more awareness tip for writer.

  * contrib/hbide/ideharbourhelp.prg
  * contrib/hbide/idemisc.prg
    ! More refinements the way Harbour document is displayed.
      Please forward your suggessions.
    ! Presentation: documents tree is now exact syncronization with 
      Harbour's folder structure but depicting only those folders
      with /doc and /doc/en endingings.
    + Enabled: to reload the tree on the fly. Marco, check it.

Modified Paths:
--------------
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/resources/docviewgenerator.ui
    trunk/harbour/contrib/hbide/resources/docviewgenerator.uic
    trunk/harbour/doc/hdr_tpl.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Feb 26 20:08:38 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 20:08:45 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <fd76479f1002261408u27f309e3v1da75a34e36d3484@mail.gmail.com>
References: <54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<fd76479f1002250301t44de47e1u4c247a462d88b56d@mail.gmail.com>
	<1267111708012-4633080.post@n2.nabble.com>
	<fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
	<1267115100945-4633490.post@n2.nabble.com>
	<fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
	<1267201141464-4640114.post@n2.nabble.com>
	<18d502871002260855u4306d3b9k5580ad0faf6b65d5@mail.gmail.com>
	<1267215357706-4641568.post@n2.nabble.com>
	<fd76479f1002261408u27f309e3v1da75a34e36d3484@mail.gmail.com>
Message-ID: <1267232918163-4642979.post@n2.nabble.com>



marco bra wrote:
> 
> aDir := directory( cRootPath + "*", "D" )
> 
> file filter mask work on Linux Ubuntu 9.10.
> 

Implemented.



> BTW to populate the frame with doc contents i MUST restart hbide.
> 

Implemented. 
Can you test after r14005 ?

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13985-trunk-harbour-tp4629809p4642979.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From smujohnson at gmail.com  Fri Feb 26 20:10:16 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 26 20:10:25 2010
Subject: [Harbour] Error: Unresolved external '_HB_FUN_CURDRIVE'
In-Reply-To: <18d502871002261656p4772080aq44cf782d65b76db@mail.gmail.com>
References: <8985891.3fbe4d29ddb23f7909bb454c01f5fa9c@webm.polly.com.ua>
	<609353e71002200707s36875af6sf8a2c3f41dd2d0f1@mail.gmail.com>
	<674e4ddd1002261647m676f84b9jff508e5d73512015@mail.gmail.com>
	<674e4ddd1002261650j3f2bdf90h4005094285234249@mail.gmail.com>
	<18d502871002261656p4772080aq44cf782d65b76db@mail.gmail.com>
Message-ID: <674e4ddd1002261710k4ae490adr34a3a3581eb30f97@mail.gmail.com>

I just changed it to HB_CURDRIVE a few mins before you wrote that.. but you
beat me to it!

:)

On Fri, Feb 26, 2010 at 4:56 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Either add hbxpp to you liblist or change the call to HB_CURDRIVE().
>
> See ChangeLog for more.
>
> Brgds,
> Viktor
>
>
> On Sat, Feb 27, 2010 at 1:50 AM, smu johnson <smujohnson@gmail.com> wrote:
>
>> I should also note that I got Harbour dev to compile in windows, just that
>> I can't get it to compile my .PRGs
>>
>>
>> On Fri, Feb 26, 2010 at 4:47 PM, smu johnson <smujohnson@gmail.com>wrote:
>>
>>> I also am getting this.
>>>
>>> ..\latest\.hbmk\win\mingw\1BMMENU.o:1BMMENU.c:(.data+0x818): undefined
>>> reference to `HB_FUN_CURDRIVE'
>>> ..\latest\.hbmk\win\mingw\CHECKSYS.o:CHECKSYS.c:(.data+0x7c8): undefined
>>> reference to `HB_FUN_CURDRIVE'
>>> ..\latest\.hbmk\win\mingw\SUPPLIER.o:SUPPLIER.c:(.data+0xf88): undefined
>>> reference to `HB_FUN_CURDRIVE'
>>>
>>> *sad face*
>>>
>>>
>>>
>>> On Sat, Feb 20, 2010 at 7:07 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>>>
>>>> same in win
>>>> WIN-MAKE[2]: [install] Error 1 (ignored)
>>>> ../../../../../bin/win/mingw/harbour.exe ../../../hbrun.prg
>>>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>>>> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
>>>> -march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbrun.o -c
>>>> hbrun.c
>>>> gcc  -L../../../../../lib/win/mingw   -o
>>>> ..\..\..\..\..\bin\win\mingw\hbrun.exe hbrun.o -lhbcplr -lhbpp
>>>> -lhbcommon -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage
>>>> -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbrdd -lrddntx
>>>> -lrddnsx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lhbusrrdd -lhbuddall
>>>> -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
>>>> -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
>>>>        1 file copiati.
>>>> ../../../../../bin/win/mingw/harbour.exe ../../../hbmk2.prg
>>>> -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>>>> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
>>>> -march=i586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF   -ohbmk2.o -c
>>>> hbmk2.c
>>>> gcc  -L../../../../../lib/win/mingw   -o
>>>> ..\..\..\..\..\bin\win\mingw\hbmk2.exe hbmk2.o -lhbcplr -lhbpp
>>>> -lhbcommon -lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage
>>>> -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lgtwin -lhbnulrdd -lhbrtl
>>>> -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
>>>> -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -lhbmainstd
>>>> hbmk2.o:hbmk2.c:(.data+0xb38): undefined reference to `HB_FUN_CURDRIVE'
>>>> collect2: ld returned 1 exit status
>>>> WIN-MAKE[3]: *** [hbmk2.exe] Error 1
>>>> WIN-MAKE[2]: *** [descend] Error 2
>>>> WIN-MAKE[1]: *** [hbmk2.inst] Error 2
>>>> WIN-MAKE: *** [utils.inst] Error 2
>>>>
>>>>
>>>>
>>>> 2010/2/20  <vatzct@polly.com.ua>:
>>>> > Hi!
>>>> >
>>>> > I can't build harbour
>>>> > $Id: ChangeLog 13933 2010-02-20 12:03:26Z vszakats $
>>>> >
>>>> > ../../../../../bin/win/bcc/harbour.exe ../../../hbmk2.prg
>>>> > -i./../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
>>>> > bcc32.exe   -I. -I../../../../../include -q -tWM -CP437 -w -w-sig- -Q
>>>> -d -6
>>>> > -O2 -OS -Ov -Oi -Oc -DHB_LEGACY_TYPES_OFF
>>>> > -I"c:\dev\borland\bcc55\bin\..\Include"  -ohbmk2.obj -c hbmk2.c
>>>> > hbmk2.c:
>>>> > ilink32.exe  -L"c:\dev\borland\bcc55\bin\..\Lib"
>>>> > -L"c:\dev\borland\bcc55\bin\..\Lib\PSDK"
>>>> -L"..\..\..\..\..\lib\win\bcc" -Gn
>>>> > -Tpe   c0x32.obj hbmk2.obj, "..\..\..\..\..\bin\win\bcc\hbmk2.exe",
>>>> nul,
>>>> > hbcplr hbpp hbcommon hbextern hbdebug hbvmmt hbrtl hblang hbcpage
>>>> gtcgi
>>>> > gtpca gtstd gtwvt gtgui gtwin hbnulrdd hbrtl hbvmmt hbmacro hbcplr
>>>> hbpp
>>>> > hbcommon hbpcre hbzlib kernel32 user32 ws2_32 advapi32 gdi32 cw32mt
>>>> import32
>>>> > Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
>>>> > Error: Unresolved external '_HB_FUN_CURDRIVE' referenced from
>>>> > C:\DEV\HARBOUR_SVN\UTILS\HBMK2\OBJ\WIN\BCC\HBMK2.OBJ
>>>> >
>>>> > Regards,
>>>> > Alexey Myronenko
>>>> >
>>>> > _______________________________________________
>>>> > Harbour mailing list (attachment size limit: 40KB)
>>>> > Harbour@harbour-project.org
>>>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>>>> >
>>>> >
>>>>
>>>>
>>>>
>>>> --
>>>> Massimo Belgrano
>>>> _______________________________________________
>>>> Harbour mailing list (attachment size limit: 40KB)
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>>
>>>
>>> --
>>> smu johnson <smujohnson@gmail.com>
>>>
>>>
>>
>>
>> --
>> smu johnson <smujohnson@gmail.com>
>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/d65ae924/attachment.html
From smujohnson at gmail.com  Fri Feb 26 20:51:42 2010
From: smujohnson at gmail.com (smu johnson)
Date: Fri Feb 26 20:51:50 2010
Subject: [Harbour] Can HB_RUN fork?
Message-ID: <674e4ddd1002261751x63e78916iafe49661e5313236@mail.gmail.com>

Hi,

Can HB_RUN be made to fork a process?  For instance, if you tried to run the
crappy Windows notepad.exe, it wouldn't wait for notepad.exe to terminate
before you got your prompt back.

On some text editors, this isn't a concern, like WRITE / WORDPAD.exe... but
in notepad it is, and I am very curious if something can be done.

Thank you

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100226/4d83e787/attachment.html
From vouchcac at users.sourceforge.net  Fri Feb 26 21:18:37 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Feb 26 21:18:44 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14006] trunk/harbour
Message-ID: <E1NlCGL-0001ds-4y@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14006
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14006&view=rev
Author:   vouchcac
Date:     2010-02-27 02:18:35 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-26 18:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/THbQtUI.prg
    ! Miss of prev commit.

  * contrib/hbide/idefindreplace.prg
    ! A nasty fix.

  * contrib/hbide/ideharbourhelp.prg
    + Implemented: text file viewer "as is" if it does not contain 
      any function's documentation. In Harbour's /doc* tree
      there are many files without NANFORUM tags.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/idefindreplace.prg
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbqt/THbQtUI.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcobra.ubuntu at gmail.com  Fri Feb 26 22:19:28 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Fri Feb 26 22:19:40 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <1267232918163-4642979.post@n2.nabble.com>
References: <54ED1E52-813F-450C-A08E-35102243FA59@syenar.hu>
	<1267111708012-4633080.post@n2.nabble.com>
	<fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
	<1267115100945-4633490.post@n2.nabble.com>
	<fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
	<1267201141464-4640114.post@n2.nabble.com>
	<18d502871002260855u4306d3b9k5580ad0faf6b65d5@mail.gmail.com>
	<1267215357706-4641568.post@n2.nabble.com>
	<fd76479f1002261408u27f309e3v1da75a34e36d3484@mail.gmail.com>
	<1267232918163-4642979.post@n2.nabble.com>
Message-ID: <fd76479f1002261919n165b67f9w2777925e27615663@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot-Run-time Error!.png
Type: image/png
Size: 17771 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/7e294861/Screenshot-Run-timeError-0001.png
From bedipritpal at hotmail.com  Fri Feb 26 23:32:48 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 23:32:54 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <fd76479f1002261919n165b67f9w2777925e27615663@mail.gmail.com>
References: <1267111708012-4633080.post@n2.nabble.com>
	<fd76479f1002250804i36117f0bw276f86874a6c219e@mail.gmail.com>
	<1267115100945-4633490.post@n2.nabble.com>
	<fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
	<1267201141464-4640114.post@n2.nabble.com>
	<18d502871002260855u4306d3b9k5580ad0faf6b65d5@mail.gmail.com>
	<1267215357706-4641568.post@n2.nabble.com>
	<fd76479f1002261408u27f309e3v1da75a34e36d3484@mail.gmail.com>
	<1267232918163-4642979.post@n2.nabble.com>
	<fd76479f1002261919n165b67f9w2777925e27615663@mail.gmail.com>
Message-ID: <1267245168147-4643588.post@n2.nabble.com>



marco bra wrote:
> 
> After Rev. 14006 i cannot open the Documentation frame i get a dialog
> error:
> i try to attach to this post.
> 

Compile hbQT also.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13985-trunk-harbour-tp4629809p4643588.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Fri Feb 26 23:45:28 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Feb 26 23:45:35 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
In-Reply-To: <4B87B5A9.9030608@mail.udg.mx>
References: <4B866BB6.2030207@mail.udg.mx> <4B87B5A9.9030608@mail.udg.mx>
Message-ID: <1267245928714-4643634.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
>  > # QInputContext.cpp \
>  > # QWidget.cpp \
>  

Please do the following:

0. QApplication.cpp
1. QWidget.cpp -> HB_FUNC( QT_QWIDGET_INPUTCONTEXT )
       Comment it out.

2. Also commentout corresponding methods in 
    TQApplication and TQWidget.

3. Drop QInputContext.cpp and TQInputContext.prg from filelist.mk

Compile hbQT. Do it compiles then ? If yes, we have the solution already,
link demos. Those must then link properly.

If all goes fine, I will drop QInputContext alltogether.

Without above exercise, it is difficult to isolate other matters.
Logs of demos are useless as QWidget is not linked and all other 
Qt world resolves around it.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-13976-tp4632138p4643634.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Sat Feb 27 00:00:19 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 27 00:00:27 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14007] trunk/harbour
Message-ID: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14007
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14007&view=rev
Author:   vouchcac
Date:     2010-02-27 05:00:17 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-26 20:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/ideharbourhelp.prg
    + Implemented: auto activating and displaying the function's documentation
      you have currently finished typing opening brace. This feature 
      is activated only when you have initialized the documentation 
      browser by clicking on the "H" icon on the right toolbar.

      I am open to hear what other features can be implemented in this context.
      This itself is a big productivity boost.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/ideharbourhelp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 27 00:06:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 27 00:06:22 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14007] trunk/harbour
In-Reply-To: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com>
References: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com>
Message-ID: <1267247174411-4643706.post@n2.nabble.com>



vouchcac wrote:
> 
>     + Implemented: auto activating and displaying the function's
> documentation
>       you have currently finished typing opening brace. This feature 
>       is activated only when you have initialized the documentation 
>       browser by clicking on the "H" icon on the right toolbar.
> 

Forgot to mention that function-doc will only be activated if that is 
available in Harbour documentation tree. Also function's opening brace 
must be the last character of the function, no spaces inbetween.
   
   oWnd := QMainWindow ()  =>  will not popup document in the viewer.
   oWnd := QMainWindow()   =>  will popup the document.

A function is recognized by opening brace only and the word preceeding
will attempt to locate the function in Document Viewer Tree.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14007-trunk-harbour-tp4643694p4643706.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From fperillo at gmail.com  Sat Feb 27 03:21:43 2010
From: fperillo at gmail.com (francesco perillo)
Date: Sat Feb 27 03:21:52 2010
Subject: [Harbour] Re: FocusIn and FocusOut in widgets
In-Reply-To: <578c73341002261632kfa275b6m3ac70280e8c33c93@mail.gmail.com>
References: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>
	<1267216783743-4641699.post@n2.nabble.com>
	<578c73341002261632kfa275b6m3ac70280e8c33c93@mail.gmail.com>
Message-ID: <6943770e1002270021w9707922m64b8af277f5ceeee@mail.gmail.com>

Is this a way to have WHEN/VALID implementation ?

Francesco
From vszakats at users.sourceforge.net  Sat Feb 27 04:06:24 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 27 04:06:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14008] trunk/harbour
Message-ID: <E1NlIcy-0007Fl-UL@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14008
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14008&view=rev
Author:   vszakats
Date:     2010-02-27 09:06:23 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-27 10:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbsqlit3/hbsqlit3.c
    % Deleted unnecessary cast.

  * contrib/rddsql/sddmy/Makefile
  - contrib/rddsql/sddmy/mysqldd.c
  + contrib/rddsql/sddmy/sddmy.c
  * contrib/rddsql/sddpg/Makefile
  - contrib/rddsql/sddpg/pgsqldd.c
  + contrib/rddsql/sddpg/sddpg.c
  * contrib/rddsql/sddfb/Makefile
  - contrib/rddsql/sddfb/fbirddd.c
  + contrib/rddsql/sddfb/sddfb.c
  * contrib/rddsql/sddodbc/Makefile
  - contrib/rddsql/sddodbc/odbcdd.c
  + contrib/rddsql/sddodbc/sddodbc.c
  * contrib/rddsql/sddoci/Makefile
  - contrib/rddsql/sddoci/ocidd.c
  + contrib/rddsql/sddoci/sddoci.c
    * Renamed source files.
    ! Deleted leftover trace msg from sddoci.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddoci/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/rddsql/sddfb/sddfb.c
    trunk/harbour/contrib/rddsql/sddmy/sddmy.c
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/contrib/rddsql/sddpg/sddpg.c

Removed Paths:
-------------
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddoci/ocidd.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sat Feb 27 05:07:11 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Feb 27 05:07:18 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14009] trunk/harbour
Message-ID: <E1NlJZn-0008Fu-0P@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14009
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14009&view=rev
Author:   druzus
Date:     2010-02-27 10:07:03 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-27 11:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/macro.c
    * minor simplification

  * harbour/src/common/reserved.c
    * minor cleanup

  * harbour/src/vm/eval.c
    * inherit execution context (OOP scope) in HB_EXECFROMARRAY() function

  * harbour/include/hbcomp.h
  * harbour/include/hbcompdf.h
  + harbour/src/common/funcid.c
  * harbour/src/common/Makefile
    + added new [macro]compiler function: hb_compGetFuncID() which can be
      used for function name hashing reducing strcmp() comparisons

  * harbour/include/hbexpra.c
  * harbour/include/hbexprb.c
    % use hb_compGetFuncID() to improve code for HB_ET_FUNCALL expressions

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbexpra.c
    trunk/harbour/include/hbexprb.c
    trunk/harbour/src/common/Makefile
    trunk/harbour/src/common/reserved.c
    trunk/harbour/src/vm/eval.c
    trunk/harbour/src/vm/macro.c

Added Paths:
-----------
    trunk/harbour/src/common/funcid.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 27 05:15:43 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 27 05:15:51 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14010] trunk/harbour
Message-ID: <E1NlJi3-0002dl-Of@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14010
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14010&view=rev
Author:   vszakats
Date:     2010-02-27 10:15:42 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-27 11:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddoci/sddoci.c
    + Changed to use STR API for UNICODE conversions. This fixes
      this SDD for non-win systems.
    ! Fixed one missing encoding translation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From yamamoto at rocketmail.com  Sat Feb 27 05:54:19 2010
From: yamamoto at rocketmail.com (Mitja Podgornik)
Date: Sat Feb 27 05:54:26 2010
Subject: [Harbour] Re: Harbour MySQL errors
Message-ID: <228808.36297.qm@web30708.mail.mud.yahoo.com>





It's caused by this wrong (old) code in the class wrapper, 
now correctly shown as argument error:

--- tmysql.prg @ 372
      ELSE
         // Should query have returned rows? (Was it a SELECT like 
query?)

         IF ( ::nNumFields := 
mysql_num_fields( nSocket ) ) == 0

           
 // Was not a SELECT so reset ResultHandle changed by previous 
mysql_store_result()
            ::nResultHandle := NIL

         ELSE
            ::lError := .T.

         ENDIF
      ENDIF
---

As you can see, wrong object is passed to MYSQL_NUM_FIELDS(), 
which was so far was silently ignored.

I can't tell 
what the original author wanted to do here, but I can clean 
it to work as before, which means not to return error, but silently do 
nothing.

Brgds,
Viktor


On Sat, 
Feb 27, 2010 at 11:28 AM, Mitja Podgornik <yamamoto@rocketmail.com> wrote:

Hi, 
>Victor
>
>>In Your recent modification of mysql.c this system error occurs when attempting to 
>execute some commands:
>
>>Argument error: MYSQL_NUM_FIELDS(0)
>
>
>>Can You help?
>
>>Thank You
>
>>Regards, Mitja
>
>
>>#include "minigui.ch"
>
>>proc main()
>
>>local oServer, oQuery
>
>>oServer:=TMySQLServer():New("localhost", "root", "")
>>if !(oServer==nil)
>
>>  /*
>>     these two commands end with error above:
>
>>       oQuery:=oServer:Query("set names 'cp1250'")
>>       oQuery:=oServer:Query("use test")
>
>>  */
>
>...
>
>
>
>


      
From dmacias at mail.udg.mx  Sat Feb 27 05:58:23 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Feb 27 05:58:44 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
Message-ID: <4B88FACF.5060609@mail.udg.mx>

Pritpal, thanks

>>I need a basic code sample to test hbqt, without use of QInputContext,
>>QWidget, just to know if hbqt-qt461 for OS/2 will run

>>Something as minidemoqt.prg  :-)

>This is not possible without QWidget class.
>QWidget is the parent of all GUI classes.
>This is the object tree :

>QObject, QPaintDevice
>   QWidget
>      All Other GUI Widgets - menus, buttons, etc

>So I need to resolve it in base class first,
>then probably everything will built properly.


>Please do the following:

>0. QApplication.cpp -> HB_FUNC( QT_QWIDGET_INPUTCONTEXT )
>       Comment it out.
Done

>1. QWidget.cpp -> HB_FUNC( QT_QWIDGET_INPUTCONTEXT )
>       Comment it out.
Done

>2. Also commentout corresponding methods in
>    TQApplication and TQWidget.
Done

>3. Drop QInputContext.cpp and TQInputContext.prg from filelist.mk
Done

>Compile hbQT. Do it compiles then ? If yes, we have the solution
>already,

Compiling hbqtgui fail with QWidget.cpp, as expected, with:
----------------------
gcc   -I. -I../../../../../../include -Zomf -Wall -W -O3
-DHB_LEGACY_TYPES_OFF  -IE:\qt4\include -IE:\qt4\include/QtCore
-IE:\qt4\include/QtGui -DHB_FM_STATISTICS_OFF -oQWidget.o -c
../../../QWidget.cpp
../../../QWidget.cpp: In function 'void
HB_FUN_QT_QWIDGET_ACCESSIBLEDESCRIPTION()':
../../../QWidget.cpp:196: error: 'class QWidget' has no member named
'accessibleDescription'
../../../QWidget.cpp: In function 'void HB_FUN_QT_QWIDGET_ACCESSIBLENAME()':
../../../QWidget.cpp:204: error: 'class QWidget' has no member named
'accessibleName'
../../../QWidget.cpp: In function 'void
HB_FUN_QT_QWIDGET_SETACCESSIBLEDESCRIPTION()':
../../../QWidget.cpp:968: error: 'class QWidget' has no member named
'setAccessibleDescription'
../../../QWidget.cpp: In function 'void
HB_FUN_QT_QWIDGET_SETACCESSIBLENAME()':
../../../QWidget.cpp:976: error: 'class QWidget' has no member named
'setAccessibleName'
make[1]: *** [QWidget.o] Error 1
----------------------

So I used:

QWidget.cpp
===========
/*DAVID:
HB_FUNC( QT_QWIDGET_ACCESSIBLEDESCRIPTION )
{
    hb_retc( hbqt_par_QWidget( 1
)->accessibleDescription().toAscii().data() );
}
*/
/*DAVID:
HB_FUNC( QT_QWIDGET_ACCESSIBLENAME )
{
    hb_retc( hbqt_par_QWidget( 1 )->accessibleName().toAscii().data() );
}
*/
/*DAVID:
HB_FUNC( QT_QWIDGET_SETACCESSIBLEDESCRIPTION )
{
    hbqt_par_QWidget( 1 )->setAccessibleDescription( QWidget::tr(
hb_parc( 2 ) ) );
}
*/
/*DAVID:
HB_FUNC( QT_QWIDGET_SETACCESSIBLENAME )
{
    hbqt_par_QWidget( 1 )->setAccessibleName( QWidget::tr( hb_parc( 2 ) ) );
}
*/


TQWidget.prg
===========
//DAVID:   METHOD  accessibleDescription()
//DAVID:   METHOD  accessibleName()
//DAVID:   METHOD  setAccessibleDescription( cDescription )
//DAVID:   METHOD  setAccessibleName( cName )
/*DAVID:
METHOD QWidget:accessibleDescription()
    RETURN Qt_QWidget_accessibleDescription( ::pPtr )
*/

/*DAVID:
METHOD QWidget:accessibleName()
    RETURN Qt_QWidget_accessibleName( ::pPtr )
*/
/*DAVID:
METHOD QWidget:setAccessibleDescription( cDescription )
    RETURN Qt_QWidget_setAccessibleDescription( ::pPtr, cDescription )
*/

/*DAVID:
METHOD QWidget:setAccessibleName( cName )
    RETURN Qt_QWidget_setAccessibleName( ::pPtr, cName )
*/


and hbqtgui.lib build entirely


>link demos. Those must then link properly.

>If all goes fine, I will drop QInputContext alltogether.

>Without above exercise, it is difficult to isolate other matters.
>Logs of demos are useless as QWidget is not linked and all other
>Qt world resolves around it.

So you can:
- drop QInputContext alltogether.
- Guard *Accessible* methods for OS/2 and
    #ifndef QT_NO_ACCESSIBILITY / #endif
  while "dummy QAccessible implementation in 4.6.1" can be completed


Trying to use hbqt* libs with samples/projects:
( All tests with Harbour 13976 )

demoqt.prg
==========
- It build fine
- Running it, create a small window with a three colors icon on it and
crash with (output is mixed 1,2):
----------------------
demoqt.prg:127:MAIN(): HB_TR_ALWAYS
demoqt.prg:128:MAIN(): HB_TR_ALWAYS -----------------b-----------------

Exception c0000005 at address 0x1e8af6f8


     Exception Code:C0000005
     Exception Address:1E8AF6F8
     EAX:0000002B  EBX:0050F2A0  ECX:0000002A  EDX:00000358
     ESI:029B0D64  EDI:02B5BFC0  EBP:002FED10
     CS:EIP:005B:1E8AF6F8  SS:ESP:0053:002FE7D8
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010202
Called from QT_QWIDGET_RESIZE(0)
Called from QMAINWINDOW:RESIZE(0) in ../../../TQWidget.prg
Called from MAIN(141) in demoqt.prg

Killed by SIGSEGV
pid=0x142b ppid=0x005e tid=0x0001 slot=0x00a2 pri=0x0200 mc=0x0001
E:\HARBOUR102\HARBOUR\CONTRIB\HBQT\TESTS\DEMOQT.EXE
PMMERGE 3:0007f6f8
cs:eip=005b:1e8af6f8      ss:esp=0053:002fe7d8      ebp=002fed10
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010202
eax=0000002b ebx=0050f2a0 ecx=0000002a edx=00000358 edi=02b5bfc0
esi=029b0d64
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
----------------------


demoxbp.prg
==========
- It build fine
- Running it, create a big window with a three colors icon on it and
crash with (output is mixed 1,2):
----------------------
Exception c0000005 at address 0x1ddd69ca


     Exception Code:C0000005
     Exception Address:1DDD69CA
     EAX:00000001  EBX:02A9CE84  ECX:02A9CE8C  EDX:00000001
     ESI:00000000  EDI:02A9CE74  EBP:0039F728
     CS:EIP:005B:1DDD69CA  SS:ESP:0053:0039F710
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from QPIXMAP:SCALED(0) in ../../../TQPixmap.prg
Called from XBPSTATUSBAR:SETPOINTER(0) in ../../../xbpwindow.prg
Called from BUILD_STATUSBAR(531) in demoxbp.prg
Called from BUILDADIALOG(168) in demoxbp.prg
Called from _BUILDADIALOG(107) in demoxbp.prg
Called from MAIN(98) in demoxbp.prg

Killed by SIGSEGV
pid=0x1459 ppid=0x142e tid=0x0001 slot=0x00a8 pri=0x0200 mc=0x0001
E:\HARBOUR102\HARBOUR\CONTRIB\HBXBP\TESTS\DEMOXBP.EXE
LIBC063 0:000669ca
cs:eip=005b:1ddd69ca      ss:esp=0053:0039f710      ebp=0039f728
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=02a9ce84 ecx=02a9ce8c edx=00000001 edi=02a9ce74
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
----------------------


demoqt.prg
==========
- Build fine
- Open a window with content
- Maximize beyond of desktop size
- Fx keys seem to work
- Output from 1,2 are:
----------------------
QPainter::begin: Paint device returned engine == 0, type: 1
QPainter::begin: Paint device returned engine == 0, type: 1
QPainter::begin: Paint device returned engine == 0, type: 1
QFont::setPointSize: Point size <= 0 (0), must be greater than 0
QPainter::begin: Paint device returned engine == 0, type: 1
QFont::setPointSize: Point size <= 0 (0), must be greater than 0
QPainter::begin: Paint device returned engine == 0, type: 1
QFont::setPointSize: Point size <= 0 (0), must be greater than 0
QPainter::begin: Paint device returned engine == 0, type: 1
QFont::setPointSize: Point size <= 0 (0), must be greater than 0
----------------------


hbide project ( the BIG one ! )
===============================
- Build fine
- Open a window with content, with a lot of icons, menus, ...
- Windows resize, max, min, move, ... work fine
- Many checkboxs, actions work fine
- Many actions fails, for example "Open"
  Log file is around 800 lines, here are the bottom (1,2 mixed):
----------------------
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS DialogFind           {|o,v|
o[v]:setWindowTitle(q__tr("DialogFind", "Find and Replace", 0, "UTF8"))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS groupBox_2           {|o,v|
o[v]:setTitle("")}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS groupBox_3           {|o,v|
o[v]:setTitle("")}
idemisc.prg:897:HBIDE_DBG(): HB_TR_ALWAYS C:\dev_sources\vouch\abc.prg
idemisc.prg:897:HBIDE_DBG(): HB_TR_ALWAYS
C:\harbour\contrib\hbide\projects\vouch\abc.prg

Exception c0000005 at address 0x1ddd69ca


     Exception Code:C0000005
     Exception Address:1DDD69CA
     EAX:00000001  EBX:02BF9B64  ECX:02BF9B6C  EDX:00000001
     ESI:00000000  EDI:02BF9B6C  EBP:0058DB6C
     CS:EIP:005B:1DDD69CA  SS:ESP:0053:0058DB54
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from QT_QDIALOG_EXEC(0)
Called from QFILEDIALOG:EXEC(0) in ../../../TQDialog.prg
Called from XBPFILEDIALOG:OPEN(0) in ../../../xbpfiledialog.prg
Called from IDESOURCESMANAGER:SELECTSOURCE(442) in idesources.prg
Called from IDESOURCESMANAGER:OPENSOURCE(411) in idesources.prg
Called from HBIDE:EXECSOURCEACTION(720) in hbide.prg
Called from HBIDE:EXECACTION(499) in hbide.prg
Called from (b)IDEACTIONS_BUILDMAINMENU(411) in ideactions.prg
Called from XBPMENU:EXEBLOCK(0) in ../../../xbpmenubar.prg
Called from (b)XBPMENUBAR_PLACEITEM(0) in ../../../xbpmenubar.prg
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
Called from APPEVENT(0) in ../../../xbpgeneric.prg
Called from HBIDE:CREATE(417) in hbide.prg
Called from MAIN(110) in hbide.prg

Killed by SIGSEGV
pid=0x1439 ppid=0x142e tid=0x0001 slot=0x00a8 pri=0x0200 mc=0x0001
E:\HARBOUR102\HARBOUR\CONTRIB\HBIDE\HBIDE.EXE
LIBC063 0:000669ca
cs:eip=005b:1ddd69ca      ss:esp=0053:0058db54      ebp=0058db6c
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=02bf9b64 ecx=02bf9b6c edx=00000001 edi=02bf9b6c
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
----------------------

So we have our firsts Harbour+os2gcc442+hbqt+qt461 applications running,
but with failures still

We are advancing :-)

David Macias



From yamamoto at rocketmail.com  Sat Feb 27 06:03:00 2010
From: yamamoto at rocketmail.com (Mitja Podgornik)
Date: Sat Feb 27 06:03:07 2010
Subject: [Harbour] MySQL errors
In-Reply-To: <228808.36297.qm@web30708.mail.mud.yahoo.com>
References: <228808.36297.qm@web30708.mail.mud.yahoo.com>
Message-ID: <982320.29136.qm@web30704.mail.mud.yahoo.com>

Hi

Well, there are legal MySQL commands whitout any returning value
like 'USE <database>' or all 'SET <> <>' commands.

Strictly these are not Querries so one solution could be to create new class for these commands.

regards, Mitja




----- Original Message ----
From: Mitja Podgornik <yamamoto@rocketmail.com>
To: harbour@harbour-project.org
Sent: Sat, February 27, 2010 11:54:19 AM
Subject: [Harbour] Re: Harbour MySQL errors





It's caused by this wrong (old) code in the class wrapper, 
now correctly shown as argument error:

--- tmysql.prg @ 372
      ELSE
         // Should query have returned rows? (Was it a SELECT like 
query?)

         IF ( ::nNumFields := 
mysql_num_fields( nSocket ) ) == 0

          
// Was not a SELECT so reset ResultHandle changed by previous 
mysql_store_result()
            ::nResultHandle := NIL

         ELSE
            ::lError := .T.

         ENDIF
      ENDIF
---

As you can see, wrong object is passed to MYSQL_NUM_FIELDS(), 
which was so far was silently ignored.

I can't tell 
what the original author wanted to do here, but I can clean 
it to work as before, which means not to return error, but silently do 
nothing.

Brgds,
Viktor


On Sat, 
Feb 27, 2010 at 11:28 AM, Mitja Podgornik <yamamoto@rocketmail.com> wrote:

Hi, 
>Victor
>
>>In Your recent modification of mysql.c this system error occurs when attempting to 
>execute some commands:
>
>>Argument error: MYSQL_NUM_FIELDS(0)
>
>
>>Can You help?
>
>>Thank You
>
>>Regards, Mitja
>
>
>>#include "minigui.ch"
>
>>proc main()
>
>>local oServer, oQuery
>
>>oServer:=TMySQLServer():New("localhost", "root", "")
>>if !(oServer==nil)
>
>>  /*
>>     these two commands end with error above:
>
>>       oQuery:=oServer:Query("set names 'cp1250'")
>>       oQuery:=oServer:Query("use test")
>
>>  */
>
>...
>
>
>
>


      
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      
From vszakats at users.sourceforge.net  Sat Feb 27 06:29:33 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 27 06:29:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14011] trunk/harbour
Message-ID: <E1NlKrV-0003zr-HO@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14011
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14011&view=rev
Author:   vszakats
Date:     2010-02-27 11:29:31 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-27 12:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbodbc/odbc.c
  * contrib/rddsql/sddodbc/sddodbc.c
    + Added support for UNICODE mode on non-Windows systems.
      This also means that by now HB_TCHAR_* macros aren't used
      in non-win/wce code anymore.
      NOTE: Since the translation functions have been changed,
            now _SET_OSCODEPAGE setting are honored in these
            calls. We may change this later to some lib specific cp.
    ; TOFIX: Warnings are showing up in non-UNICODE mode:
             odbc.c:438: warning: pointer targets in passing argument 2 of 'hb_storstr' differ in signedness
             Couldn't find an optimal way to pacify them (also in sddodbc).
             Can someone help?

  * include/hbdefs.h
    + HB_TCHAR_* macros are again only defined for win/wce targets.
      This will make sure these won't get used in non-win/wce specific code.

  * contrib/hbmysql/tmysql.prg
    ! Fixed old buggy code which started to throw errors
      after introducing strict parameter evaluation in
      lower-level code.
      For now I replaced the code with old behavior.
      Pls make further to replicate original _intent_.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/tmysql.prg
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Sat Feb 27 07:49:18 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Sat Feb 27 07:49:25 2010
Subject: [Harbour] Re: FocusIn and FocusOut in widgets
In-Reply-To: <6943770e1002270021w9707922m64b8af277f5ceeee@mail.gmail.com>
References: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>
	<1267216783743-4641699.post@n2.nabble.com>
	<578c73341002261632kfa275b6m3ac70280e8c33c93@mail.gmail.com>
	<6943770e1002270021w9707922m64b8af277f5ceeee@mail.gmail.com>
Message-ID: <578c73341002270449t2e2e2aceo608027d5279cf7b@mail.gmail.com>

I thinks that yes.  In HbQtCommand we use it for execute an user action on
GotFocus and/or LostFocus

Sample:

DEFINE TEXTBOX t1
   VALUE "Initial Value"
   ONLOSTFOCUS myRoutineForValid()
END TEXTBOX

Regards
CdQ


On Sat, Feb 27, 2010 at 5:21 AM, francesco perillo <fperillo@gmail.com>wrote:

> Is this a way to have WHEN/VALID implementation ?
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/13aae8ed/attachment.html
From fperillo at gmail.com  Sat Feb 27 08:00:36 2010
From: fperillo at gmail.com (francesco perillo)
Date: Sat Feb 27 08:00:44 2010
Subject: [Harbour] Re: FocusIn and FocusOut in widgets
In-Reply-To: <578c73341002270449t2e2e2aceo608027d5279cf7b@mail.gmail.com>
References: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>
	<1267216783743-4641699.post@n2.nabble.com>
	<578c73341002261632kfa275b6m3ac70280e8c33c93@mail.gmail.com>
	<6943770e1002270021w9707922m64b8af277f5ceeee@mail.gmail.com>
	<578c73341002270449t2e2e2aceo608027d5279cf7b@mail.gmail.com>
Message-ID: <6943770e1002270500o156ff120u7377a4cb34c5acd0@mail.gmail.com>

Thank you for your reply.

I still had no time to look at HbQtCommand documentation... I hope to
do it tomorrow

> DEFINE TEXTBOX t1
> ?? VALUE "Initial Value"
> ?? ONLOSTFOCUS myRoutineForValid()
> END TEXTBOX

What happens when myRoutineForValid() returns .F. ?
Or when myRoutineForValid() returns .T. and the following editbox
myRoutineForWHEN returns .F. ? Is there a upper layer to handle the
"get" system in a clipper style?
From carozodequilmes at gmail.com  Sat Feb 27 08:16:10 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Sat Feb 27 08:16:20 2010
Subject: [Harbour] Re: Method WinId in HbQt
In-Reply-To: <1267216020106-4641628.post@n2.nabble.com>
References: <578c73341002261133r3da6a32cia0a0407a0c81a81c@mail.gmail.com>
	<1267216020106-4641628.post@n2.nabble.com>
Message-ID: <578c73341002270516s6a1937m63f6f28216d8b2c1@mail.gmail.com>

Ok.

Thanks.

CdQ


On Fri, Feb 26, 2010 at 5:27 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, can you add method "winId" of class QMainWindow in _HbQt ?
> >
>
> No, this is Windows only solution.
> We had to drop it almost hal an year before.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Method-WinId-in-HbQt-tp4641320p4641628.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/c99ac1cd/attachment.html
From carozodequilmes at gmail.com  Sat Feb 27 09:04:40 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Sat Feb 27 09:04:54 2010
Subject: [Harbour] Re: FocusIn and FocusOut in widgets
In-Reply-To: <6943770e1002270500o156ff120u7377a4cb34c5acd0@mail.gmail.com>
References: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>
	<1267216783743-4641699.post@n2.nabble.com>
	<578c73341002261632kfa275b6m3ac70280e8c33c93@mail.gmail.com>
	<6943770e1002270021w9707922m64b8af277f5ceeee@mail.gmail.com>
	<578c73341002270449t2e2e2aceo608027d5279cf7b@mail.gmail.com>
	<6943770e1002270500o156ff120u7377a4cb34c5acd0@mail.gmail.com>
Message-ID: <578c73341002270604k5fec4c36na6733e588c931a8@mail.gmail.com>

Hi Francesco: for WHEN/VALID you can use VALID property (not implemented at
this moment, but I will implement it before release the first HbQtCommand
version.

Ex:

DEFINE TEXTBOX t1
   VALUE "Initial Value"
   VALID myRoutineForValid() // Need Return .T. or .F.
END TEXTBOX

The HbQtCommand and his documentation are under construction.

Replying your question (Valid into LostFocus, the alternative way...):

For Ex: Valid that len of TextBox is less than 16 characters

Function MyRoutineForValid()
   if len( GetProperty( "win" , "t1" , "value" ) ) >= 16
      HbQtC_MsgInfo( "Len for TextBox greater than 15" )
      // with the next sentence you return focus to t1 textbox
      DoMethod( "win" , "t1" , "setfocus" )
   endif
Return NIL

For see examples, you can open the index.html into
/hbqtcommand/doc/htmlhelp/

or

for running a real sample, and see a complete sample about HbQtCommand
controls (widgets) you can compile the MAINDEMO located in
/hbqtcommand/samples/

Read the readme into /hbqtcommand/samples/ for a little guide to compile
maindemo in Windows and/or Linux

Remember that HbQtCommand and his documentation is under construction

Regards

CdQ


On Sat, Feb 27, 2010 at 10:00 AM, francesco perillo <fperillo@gmail.com>wrote:

> Thank you for your reply.
>
> I still had no time to look at HbQtCommand documentation... I hope to
> do it tomorrow
>
> > DEFINE TEXTBOX t1
> >    VALUE "Initial Value"
> >    ONLOSTFOCUS myRoutineForValid()
> > END TEXTBOX
>
> What happens when myRoutineForValid() returns .F. ?
> Or when myRoutineForValid() returns .T. and the following editbox
> myRoutineForWHEN returns .F. ? Is there a upper layer to handle the
> "get" system in a clipper style?
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/04288dfc/attachment-0001.html
From fperillo at gmail.com  Sat Feb 27 10:36:22 2010
From: fperillo at gmail.com (francesco perillo)
Date: Sat Feb 27 10:36:30 2010
Subject: [Harbour] Re: FocusIn and FocusOut in widgets
In-Reply-To: <578c73341002270604k5fec4c36na6733e588c931a8@mail.gmail.com>
References: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>
	<1267216783743-4641699.post@n2.nabble.com>
	<578c73341002261632kfa275b6m3ac70280e8c33c93@mail.gmail.com>
	<6943770e1002270021w9707922m64b8af277f5ceeee@mail.gmail.com>
	<578c73341002270449t2e2e2aceo608027d5279cf7b@mail.gmail.com>
	<6943770e1002270500o156ff120u7377a4cb34c5acd0@mail.gmail.com>
	<578c73341002270604k5fec4c36na6733e588c931a8@mail.gmail.com>
Message-ID: <6943770e1002270736g3781a6e2u6ca67b8fd8a8ee67@mail.gmail.com>

Thank you for your sample.

I'm reading a book on Qt but it is C++ based. It's really interesting
what you can do with Qt.

In C++ you can easily subclass widgets to extend their
functionalities, add slots and signals... is it possible to do this
with hbqt/hbqtcommand ? in C++ or Harbour ?

Francesco
From lorenzo.fiorini at gmail.com  Sat Feb 27 11:53:23 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Feb 27 11:53:30 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14011] trunk/harbour
In-Reply-To: <E1NlKrV-0003zr-HO@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1NlKrV-0003zr-HO@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <9257026e1002270853p41e58651g8b3b8ebad6d6581b@mail.gmail.com>

On Sat, Feb 27, 2010 at 12:29 PM,  <vszakats@users.sourceforge.net> wrote:

> ?* contrib/hbodbc/odbc.c
> ?* contrib/rddsql/sddodbc/sddodbc.c

I'm testing Ubuntu 10.04 Alpha3 and I got these warnings:

../../../odbc.c: In function ?HB_FUN_SQLDRIVERCONNECT?:
../../../odbc.c:162: warning: pointer targets in passing argument 2 of
?hb_storstr? differ in signedness
../../../../../include/hbapistr.h:117: note: expected ?const char *?
but argument is of type ?SQLTCHAR *?
../../../odbc.c: In function ?HB_FUN_SQLDESCRIBECOL?:
../../../odbc.c:336: warning: pointer targets in passing argument 2 of
?hb_storstrlen? differ in signedness
../../../../../include/hbapistr.h:121: note: expected ?const char *?
but argument is of type ?SQLTCHAR *?
../../../odbc.c: In function ?HB_FUN_SQLERROR?:
../../../odbc.c:438: warning: pointer targets in passing argument 2 of
?hb_storstr? differ in signedness
../../../../../include/hbapistr.h:117: note: expected ?const char *?
but argument is of type ?SQLTCHAR *?
../../../odbc.c:440: warning: pointer targets in passing argument 2 of
?hb_storstr? differ in signedness
../../../../../include/hbapistr.h:117: note: expected ?const char *?
but argument is of type ?SQLTCHAR *?
../../../sddodbc.c: In function ?odbcGetError?:
../../../sddodbc.c:181: warning: pointer targets in passing argument 3
of ?hb_itemPutStr? differ in signedness
../../../../../../include/hbapistr.h:87: note: expected ?const char *?
but argument is of type ?SQLTCHAR *?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Feb 27 11:56:23 2010
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Sat Feb 27 11:56:33 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14011] trunk/harbour
In-Reply-To: <9257026e1002270853p41e58651g8b3b8ebad6d6581b@mail.gmail.com>
References: <E1NlKrV-0003zr-HO@sfp-svn-2.v30.ch3.sourceforge.com>
	<9257026e1002270853p41e58651g8b3b8ebad6d6581b@mail.gmail.com>
Message-ID: <59BA7617-A2CC-4BA7-9734-6C246DDEF12D@syenar.hu>

That is why I left this message in the ChangeLog:
---
2010-02-27 12:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
...
    ; TOFIX: Warnings are showing up in non-UNICODE mode:
             odbc.c:438: warning: pointer targets in passing argument 2 of 'hb_storstr' differ in signedness
             Couldn't find an optimal way to pacify them (also in sddodbc).
             Can someone help?
---

Brgds,
Viktor

On 2010 Feb 27, at 17:53, Lorenzo Fiorini wrote:

> On Sat, Feb 27, 2010 at 12:29 PM,  <vszakats@users.sourceforge.net> wrote:
> 
>>  * contrib/hbodbc/odbc.c
>>  * contrib/rddsql/sddodbc/sddodbc.c
> 
> I'm testing Ubuntu 10.04 Alpha3 and I got these warnings:
> 
> ../../../odbc.c: In function ?HB_FUN_SQLDRIVERCONNECT?:
> ../../../odbc.c:162: warning: pointer targets in passing argument 2 of
> ?hb_storstr? differ in signedness
> ../../../../../include/hbapistr.h:117: note: expected ?const char *?
> but argument is of type ?SQLTCHAR *?
> ../../../odbc.c: In function ?HB_FUN_SQLDESCRIBECOL?:
> ../../../odbc.c:336: warning: pointer targets in passing argument 2 of
> ?hb_storstrlen? differ in signedness
> ../../../../../include/hbapistr.h:121: note: expected ?const char *?
> but argument is of type ?SQLTCHAR *?
> ../../../odbc.c: In function ?HB_FUN_SQLERROR?:
> ../../../odbc.c:438: warning: pointer targets in passing argument 2 of
> ?hb_storstr? differ in signedness
> ../../../../../include/hbapistr.h:117: note: expected ?const char *?
> but argument is of type ?SQLTCHAR *?
> ../../../odbc.c:440: warning: pointer targets in passing argument 2 of
> ?hb_storstr? differ in signedness
> ../../../../../include/hbapistr.h:117: note: expected ?const char *?
> but argument is of type ?SQLTCHAR *?
> ../../../sddodbc.c: In function ?odbcGetError?:
> ../../../sddodbc.c:181: warning: pointer targets in passing argument 3
> of ?hb_itemPutStr? differ in signedness
> ../../../../../../include/hbapistr.h:87: note: expected ?const char *?
> but argument is of type ?SQLTCHAR *?
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Feb 27 12:00:25 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 27 12:00:54 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14007] trunk/harbour
In-Reply-To: <1267247174411-4643706.post@n2.nabble.com>
References: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com> 
	<1267247174411-4643706.post@n2.nabble.com>
Message-ID: <609353e71002270900g721e2603n614f7c51a14bdfec@mail.gmail.com>

regarding function-doc of harbour tree
Imo is better done by double click or pressing a function key (imo f1)  doc/
instead type(
because i need help reading already written source so i not type "("
can you give simular result also using  harbour language guide by
xharbour.com?
as i have previous written i use a macro in xmate for this works


regarding function of my program
Ctrl -t in xmate open function if is inside project



2010/2/27 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> vouchcac wrote:
> >
> >     + Implemented: auto activating and displaying the function's
> > documentation
> >       you have currently finished typing opening brace. This feature
> >       is activated only when you have initialized the documentation
> >       browser by clicking on the "H" icon on the right toolbar.
> >
>
> Forgot to mention that function-doc will only be activated if that is
> available in Harbour documentation tree. Also function's opening brace
> must be the last character of the function, no spaces inbetween.
>
>   oWnd := QMainWindow ()  =>  will not popup document in the viewer.
>   oWnd := QMainWindow()   =>  will popup the document.
>
> A function is recognized by opening brace only and the word preceeding
> will attempt to locate the function in Document Viewer Tree.
>
> --
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/b5925d07/attachment.html
From bedipritpal at hotmail.com  Sat Feb 27 12:08:51 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 27 12:09:00 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
In-Reply-To: <4B88FACF.5060609@mail.udg.mx>
References: <4B866BB6.2030207@mail.udg.mx> <4B88FACF.5060609@mail.udg.mx>
Message-ID: <1267290531793-4645797.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
> Compiling hbqtgui fail with QWidget.cpp, as expected, with:
> ----------------------
> gcc   -I. -I../../../../../../include -Zomf -Wall -W -O3
> -DHB_LEGACY_TYPES_OFF  -IE:\qt4\include -IE:\qt4\include/QtCore
> -IE:\qt4\include/QtGui -DHB_FM_STATISTICS_OFF -oQWidget.o -c
> ../../../QWidget.cpp
> ../../../QWidget.cpp: In function 'void
> HB_FUN_QT_QWIDGET_ACCESSIBLEDESCRIPTION()':
> ../../../QWidget.cpp:196: error: 'class QWidget' has no member named
> 'accessibleDescription'
> ../../../QWidget.cpp: In function 'void
> HB_FUN_QT_QWIDGET_ACCESSIBLENAME()':
> ../../../QWidget.cpp:204: error: 'class QWidget' has no member named
> 'accessibleName'
> ../../../QWidget.cpp: In function 'void
> HB_FUN_QT_QWIDGET_SETACCESSIBLEDESCRIPTION()':
> ../../../QWidget.cpp:968: error: 'class QWidget' has no member named
> 'setAccessibleDescription'
> ../../../QWidget.cpp: In function 'void
> HB_FUN_QT_QWIDGET_SETACCESSIBLENAME()':
> ../../../QWidget.cpp:976: error: 'class QWidget' has no member named
> 'setAccessibleName'
> make[1]: *** [QWidget.o] Error 1
> ----------------------
> 

It means all plugin features are disabled in OS2 build.
I will comment them out with next commit.





> and hbqtgui.lib build entirely
> 

Yep, this is what I was expecting.



> So you can:
> - drop QInputContext alltogether.
> - Guard *Accessible* methods for OS/2 and
>     #ifndef QT_NO_ACCESSIBILITY / #endif
>   while "dummy QAccessible implementation in 4.6.1" can be completed
> 

Scheduled for next commit, already.



> Trying to use hbqt* libs with samples/projects:
> ( All tests with Harbour 13976 )
> 
> demoqt.prg
> ==========
> - It build fine
> - Running it, create a small window with a three colors icon on it and
> crash with (output is mixed 1,2):
> Called from QT_QWIDGET_RESIZE(0)
> Called from QMAINWINDOW:RESIZE(0) in ../../../TQWidget.prg
> Called from MAIN(141) in demoqt.prg
> 

Strange. Why :resize() is failing here as this call is made for 
all other demos as well. Investigating...



> demoxbp.prg
> ==========
> - It build fine
> - Running it, create a big window with a three colors icon on it and
> crash with (output is mixed 1,2):
> ----------------------
> Called from QPIXMAP:SCALED(0) in ../../../TQPixmap.prg
> Called from XBPSTATUSBAR:SETPOINTER(0) in ../../../xbpwindow.prg
> Called from BUILD_STATUSBAR(531) in demoxbp.prg
> Called from BUILDADIALOG(168) in demoxbp.prg
> Called from _BUILDADIALOG(107) in demoxbp.prg
> Called from MAIN(98) in demoxbp.prg
> 

So it means QPixmap class is also broken in OS builds.
Report these to netlabs, maybe they already know it.



> demoqt.prg
> ==========
> - Build fine
> - Open a window with content
> - Maximize beyond of desktop size
> - Fx keys seem to work
> - Output from 1,2 are:
> ----------------------
> QPainter::begin: Paint device returned engine == 0, type: 1
> QPainter::begin: Paint device returned engine == 0, type: 1
> QPainter::begin: Paint device returned engine == 0, type: 1
> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
> QPainter::begin: Paint device returned engine == 0, type: 1
> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
> QPainter::begin: Paint device returned engine == 0, type: 1
> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
> QPainter::begin: Paint device returned engine == 0, type: 1
> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
> ----------------------
> 

You referred demoqt.prg above also.
Did you run twice the same test ?




> hbide project ( the BIG one ! )
> ===============================
> - Build fine
> - Open a window with content, with a lot of icons, menus, ...
> - Windows resize, max, min, move, ... work fine
> - Many checkboxs, actions work fine
> - Many actions fails, for example "Open"
>   Log file is around 800 lines, here are the bottom (1,2 mixed):
> ----------------------
> THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS DialogFind           {|o,v|
> o[v]:setWindowTitle(q__tr("DialogFind", "Find and Replace", 0, "UTF8"))}
> THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS groupBox_2           {|o,v|
> o[v]:setTitle("")}
> THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS groupBox_3           {|o,v|
> o[v]:setTitle("")}
> idemisc.prg:897:HBIDE_DBG(): HB_TR_ALWAYS C:\dev_sources\vouch\abc.prg
> idemisc.prg:897:HBIDE_DBG(): HB_TR_ALWAYS
> C:\harbour\contrib\hbide\projects\vouch\abc.prg
> 

To supress HBIDE_DBG() message, commentout 
the body of HBIDE_DBG() function in idemisc.prg.
The logs will be bare minimum.



> Called from QT_QDIALOG_EXEC(0)
> Called from QFILEDIALOG:EXEC(0) in ../../../TQDialog.prg
> Called from XBPFILEDIALOG:OPEN(0) in ../../../xbpfiledialog.prg
> Called from IDESOURCESMANAGER:SELECTSOURCE(442) in idesources.prg
> 

It appears QDialog() class is also broken in OS2 builds.
It is also a very important class like QWidget and MUST behave 
properly. I cannot figure out what is the issue. Please 
experiment as

   qMsgBox := QMessageBox():new( qMainWindow )

do it shows up the dialog? If yes, then probably I am 
making sth wrong in XbpFileDialog() class in hbXBP.



> So we have our firsts Harbour+os2gcc442+hbqt+qt461 applications running,
> but with failures still
> 
> We are advancing :-)
> 

Yep, but appears, a little more to go.

Thanks for your inputs.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-13976-tp4632138p4645797.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sat Feb 27 12:54:55 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 27 12:55:01 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14007] trunk/harbour
In-Reply-To: <609353e71002270900g721e2603n614f7c51a14bdfec@mail.gmail.com>
References: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com>
	<1267247174411-4643706.post@n2.nabble.com>
	<609353e71002270900g721e2603n614f7c51a14bdfec@mail.gmail.com>
Message-ID: <1267293295225-4645951.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> regarding function-doc of harbour tree
> Imo is better done by double click or pressing a function key (imo f1) 
> doc/
> instead type(
> because i need help reading already written source so i not type "("
> 

Yep, double click is required, implementing.
With "(" it is added advantage.



> can you give simular result also using  harbour language guide by
> xharbour.com?
> as i have previous written i use a macro in xmate for this works
> 

How you are using macro, show me code example.
I can assume, though may be wrongly, that it will be Windows only solution.



> regarding function of my program
> Ctrl -t in xmate open function if is inside project
> 

hbIDE is not _ONE_ project based but multiple.
I am thinking on the subject and hopefully will come with a solution.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14007-trunk-harbour-tp4643694p4645951.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mauriliolongo at users.sourceforge.net  Sat Feb 27 12:57:24 2010
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Sat Feb 27 12:57:32 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14012] trunk/harbour
Message-ID: <E1NlQuq-00088E-RC@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14012
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14012&view=rev
Author:   mauriliolongo
Date:     2010-02-27 17:57:18 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-27 18:55 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   * src/common/hbffind.c
     * optimized OS/2 hb_fsFindNextLow() to grab as many files as it can
       on every call.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbffind.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 27 14:09:56 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 27 14:10:03 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14013] trunk/harbour
Message-ID: <E1NlS32-00010C-V1@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14013
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14013&view=rev
Author:   vszakats
Date:     2010-02-27 19:09:47 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-27 20:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbodbc/odbc.c
  * contrib/rddsql/sddodbc/sddodbc.c
    ! Silenced warnings.

  * contrib/rddsql/sddoci/sddoci.c
  * contrib/rddsql/sddoci/tests/test1.prg
    + Finished type mapping and value translation.
    ; Not being an Oracle user, I only have the few sample
      tables, so no testing was made with these types.
    ; TOFIX: decimal position retrieval is currently wrong.
    ; TOFIX: date/time/timestamp doesn't seem to get through.

  * config/win/global.mk
  * config/rules.mk
    * Moved HB_BUILD_UNICODE handling here for win platform,
      to allow disabling it for potential 3rd party libs which
      don't support UNICODE mode.

  * src/common/hbffind.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk
    trunk/harbour/config/win/global.mk
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c
    trunk/harbour/contrib/rddsql/sddoci/tests/test1.prg
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/src/common/hbffind.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sat Feb 27 14:21:02 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Feb 27 14:21:08 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14014] trunk/harbour
Message-ID: <E1NlSDm-0001Cp-DW@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14014
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14014&view=rev
Author:   druzus
Date:     2010-02-27 19:20:56 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-27 20:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcomp.h
  * harbour/include/hbcompdf.h
  * harbour/include/hbmacro.h
  * harbour/include/hbexpra.c
  * harbour/include/hbexprb.c
  * harbour/src/common/funcid.c
  * harbour/src/common/expropt1.c
  * harbour/src/compiler/hbmain.c
  * harbour/src/compiler/harbour.y
  * harbour/src/compiler/harbour.yyc
  * harbour/src/compiler/harbour.yyh
  * harbour/src/vm/macro.c
    + added all reserved and restricted in Clipper functions to
      hb_compGetFuncID()
    + extended hb_compGetFuncID() to expand short names of reserved functions
    + extended hb_compGetFuncID() to set function flags
    * store expanded function name, ID and flags in HB_ET_FUN* expressions
    % modified compiler and macrocompiler code to use function flags and
      expanded names set by hb_compGetFuncID(). It allowed to eliminate
      calling hb_compReservedName() for function call expressions giving
      some small but noticeable speed improvement i.e. in macrocompiler.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbexpra.c
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbmacro.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/common/funcid.c
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/harbour.yyh
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/vm/macro.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Feb 27 14:27:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 27 14:27:25 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14015] trunk/harbour
Message-ID: <E1NlSJq-0001LK-EL@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14015
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14015&view=rev
Author:   vszakats
Date:     2010-02-27 19:27:09 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-27 20:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    + Added missed item in prev commit.

  * contrib/rddsql/sddoci/sddoci.c
    ! Comment again the trace msg.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Feb 27 14:50:45 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Feb 27 14:51:13 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14007] trunk/harbour
In-Reply-To: <1267293295225-4645951.post@n2.nabble.com>
References: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com> 
	<1267247174411-4643706.post@n2.nabble.com>
	<609353e71002270900g721e2603n614f7c51a14bdfec@mail.gmail.com> 
	<1267293295225-4645951.post@n2.nabble.com>
Message-ID: <609353e71002271150u50cd624k7a4d73beff038bfe@mail.gmail.com>

2010/2/27 Pritpal Bedi <bedipritpal@hotmail.com>

>
>
> Massimo Belgrano wrote:
> >
> >
>
> Yep, double click is required, implementing.
> With "(" it is added advantage.

Agree!


>
>
>
> How you are using macro, show me code example.
> I can assume, though may be wrongly, that it will be Windows only solution.
>
> yey i have insert in xmate In Option Keyboard mapping user e menu
associate fo key f1 i use
follow macro to integrate xharbour language reference in xmate
---------------------
|cTopic|
IF( Empty( cTopic := ::GetText() ), cTopic := ::GetWord(.F.) ),
HtmlHelpTopic( ::hWnd, "c:\harbour\xhdoc\xHarbour Language
Reference Guide.chm", cTopic )


>
> > regarding function of my program
> > Ctrl -t in xmate open function if is inside project
> >
>
> hbIDE is not _ONE_ project based but multiple.
> I am thinking on the subject and hopefully will come with a solution.
>
>
> Yes but like search i can select where works, or select in project tree

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/3cefe3ad/attachment-0001.html
From vouchcac at users.sourceforge.net  Sat Feb 27 14:53:22 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 27 14:53:28 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14016] trunk/harbour
Message-ID: <E1NlSj4-0000e5-L0@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14016
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14016&view=rev
Author:   vouchcac
Date:     2010-02-27 19:53:19 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-27 11:40 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg
    ! Introduced $EXTERNALLINK$ tag.
      ;TODO describe it in /doc/hdr_tpl.txt.

  * contrib/hbqt/generator/qt45.qtp
  * contrib/hbqt/qtgui/filelist.mk
  * contrib/hbqt/qtgui/QApplication.cpp
  * contrib/hbqt/qtgui/QWidget.cpp
  * contrib/hbqt/qtgui/TQApplication.prg
  * contrib/hbqt/qtgui/TQWidget.prg
  * contrib/hbqt/qth/QApplication.qth
  * contrib/hbqt/qth/QWidget.qth
    - Deleted QInputContex() class and all other associated functions.
    - Removed Qt plugin architect builder: "Accessibility" functions.
      Hope OS2 will now compile fine without any manual intervention.

  * contrib/hbqt/qtcore/QChar.cpp
  * contrib/hbqt/qtcore/TQChar.prg
    ! Regenerated.

  * contrib/hbide/ideharbourhelp.prg
    ! Modified to honor $EXTERNALLINK$ tag.
      With this presentation of Harbour document is a bit changed.
      $EXTERNALLINK$ tag is expanded in the page title part.
      $SEEALSO$ is now a pure functions link.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideharbourhelp.prg
    trunk/harbour/contrib/hbqt/doc/en/class_hbdbfmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbevents.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbqplaintextedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbqsyntaxhighlighter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbqtextblockuserdata.txt
    trunk/harbour/contrib/hbqt/doc/en/class_hbslots.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractitemdelegate.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractitemmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractitemview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractlistmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractprintdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractproxymodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractscrollarea.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractslider.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstractspinbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstracttablemodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qabstracttextdocumentlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qaction.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qactiongroup.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qapplication.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbitarray.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbitmap.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qboxlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbrush.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbuffer.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbuttongroup.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qbytearray.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcalendarwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qchar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcheckbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qclipboard.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcolor.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcolordialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcombobox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcommandlinkbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcompleter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qconicalgradient.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcontextmenuevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcoreapplication.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qcursor.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdatastream.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdate.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdatetime.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdatetimeedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdesktopwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdial.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdir.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdirmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdockwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdoublespinbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdragmoveevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qdropevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qerrormessage.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qeventloop.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfile.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfiledialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfileiconprovider.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfileinfo.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfilesystemmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfocusevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfocusframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfont.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontcombobox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontdatabase.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontinfo.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontmetrics.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qfontmetricsf.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qformlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qftp.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qgradient.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qgridlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qgroupbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qheaderview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhelpevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhttp.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhttpheader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhttprequestheader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qhttpresponseheader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qicon.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qimage.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qimagereader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qimagewriter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qinputdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qinputevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qinputmethodevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qiodevice.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qitemselection.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qitemselectionmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qkeyevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qkeysequence.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlabel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlatin1char.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlatin1string.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlayoutitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlcdnumber.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qline.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlineargradient.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlineedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlinef.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlist.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlistview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlistwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlistwidgetitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qlocale.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmainwindow.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmatrix.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmdiarea.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmdisubwindow.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmenu.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmenubar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmessagebox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmimedata.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmodelindex.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmouseevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmoveevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qmovie.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qnetworkrequest.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qobject.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpagesetupdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpaintdevice.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpaintengine.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpainter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpainterpath.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpaintevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpalette.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpen.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpicture.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpixmap.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qplaintextdocumentlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qplaintextedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpoint.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpointf.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpolygon.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpolygonf.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprintdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprintengine.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprinter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprintpreviewdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprocess.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprogressbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qprogressdialog.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qpushbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qradialgradient.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qrect.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qrectf.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qregexp.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qregion.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qresizeevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qresource.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qscrollarea.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsessionmanager.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsettings.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsignalmapper.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsize.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsizef.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsizepolicy.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qslider.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsound.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qspaceritem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qspinbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsplashscreen.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsplitter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstackedwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstandarditem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstandarditemmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstatusbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstringlist.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstringlistmodel.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyle.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleditemdelegate.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstylefactory.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoption.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptioncombobox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptioncomplex.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiondockwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionfocusrect.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiongroupbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionheader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionmenuitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionprogressbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionsizegrip.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionslider.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionspinbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontab.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontabbarbase.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontabwidgetframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontitlebar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontoolbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontoolbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptiontoolbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstyleoptionviewitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qstylepainter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsyntaxhighlighter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qsystemtrayicon.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtabbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtableview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtablewidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtablewidgetitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtablewidgetselectionrange.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtabwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextblock.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextblockformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextboundaryfinder.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextbrowser.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextcharformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextcodec.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextcursor.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextdecoder.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextdocument.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextdocumentfragment.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextdocumentwriter.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextedit.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextencoder.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextfragment.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextframeformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextimageformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextinlineobject.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextlayout.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextlength.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextline.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextlist.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextlistformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextobject.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextoption.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtextstream.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtexttableformat.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qthread.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtime.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtimer.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtoolbar.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtoolbox.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtoolbutton.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtransform.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtranslator.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtreeview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtreewidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qtreewidgetitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_quiloader.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qurl.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qvalidator.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qvariant.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebframe.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebhistory.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebhistoryinterface.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebhistoryitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebhittestresult.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebpage.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebpluginfactory.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebsecurityorigin.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebsettings.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwebview.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwheelevent.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwidget.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwidgetaction.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwidgetitem.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwizard.txt
    trunk/harbour/contrib/hbqt/doc/en/class_qwizardpage.txt
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/qtcore/QChar.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQChar.prg
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/filelist.mk
    trunk/harbour/contrib/hbqt/qth/QApplication.qth
    trunk/harbour/contrib/hbqt/qth/QWidget.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Sat Feb 27 14:55:18 2010
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Sat Feb 27 14:55:25 2010
Subject: [Harbour] Re: FocusIn and FocusOut in widgets
In-Reply-To: <6943770e1002270736g3781a6e2u6ca67b8fd8a8ee67@mail.gmail.com>
References: <578c73341002261154u461dfb3ej2be60292ee2d2e36@mail.gmail.com>
	<1267216783743-4641699.post@n2.nabble.com>
	<578c73341002261632kfa275b6m3ac70280e8c33c93@mail.gmail.com>
	<6943770e1002270021w9707922m64b8af277f5ceeee@mail.gmail.com>
	<578c73341002270449t2e2e2aceo608027d5279cf7b@mail.gmail.com>
	<6943770e1002270500o156ff120u7377a4cb34c5acd0@mail.gmail.com>
	<578c73341002270604k5fec4c36na6733e588c931a8@mail.gmail.com>
	<6943770e1002270736g3781a6e2u6ca67b8fd8a8ee67@mail.gmail.com>
Message-ID: <578c73341002271155yd01ff75qf57eb8474c0f1115@mail.gmail.com>

Hi Francesco, I only use HbQt to make a final framework based in harbour
user commands

Pritpal Bedi is the Qt expert and HbQt guru.

Regards
CdQ

On Sat, Feb 27, 2010 at 12:36 PM, francesco perillo <fperillo@gmail.com>wrote:

> Thank you for your sample.
>
> I'm reading a book on Qt but it is C++ based. It's really interesting
> what you can do with Qt.
>
> In C++ you can easily subclass widgets to extend their
> functionalities, add slots and signals... is it possible to do this
> with hbqt/hbqtcommand ? in C++ or Harbour ?
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/276eb3be/attachment.html
From bedipritpal at hotmail.com  Sat Feb 27 15:07:28 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 27 15:07:36 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14007] trunk/harbour
In-Reply-To: <609353e71002271150u50cd624k7a4d73beff038bfe@mail.gmail.com>
References: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com>
	<1267247174411-4643706.post@n2.nabble.com>
	<609353e71002270900g721e2603n614f7c51a14bdfec@mail.gmail.com>
	<1267293295225-4645951.post@n2.nabble.com>
	<609353e71002271150u50cd624k7a4d73beff038bfe@mail.gmail.com>
Message-ID: <1267301248601-4646410.post@n2.nabble.com>



Massimo Belgrano wrote:
> 
> |cTopic|
> IF( Empty( cTopic := ::GetText() ), cTopic := ::GetWord(.F.) ),
> HtmlHelpTopic( ::hWnd, "c:\harbour\xhdoc\xHarbour Language
> Reference Guide.chm", cTopic )
> 

HtmlHelpTopic( ::hWnd, "c:\harbour\xhdoc\xHarbour Language
Reference Guide.chm", cTopic )

Invokes a Windows only function, which I can too, but then 
hbIDE will not be multi-platform. So this implimentation will never be 
in hbIDE unless I come out with other solution.

Anybody has any other idea ?



>> hbIDE is not _ONE_ project based but multiple.
>> I am thinking on the subject and hopefully will come with a solution.
>>
>>
>> Yes but like search i can select where works, or select in project tree
> 

Yes, this is the only way.
Will try to implement soon.
One question however, what if the same function exists in two sources?




-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14007-trunk-harbour-tp4643694p4646410.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Feb 27 15:31:51 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 27 15:31:59 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14007] trunk/harbour
In-Reply-To: <1267301248601-4646410.post@n2.nabble.com>
References: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com>
	<1267247174411-4643706.post@n2.nabble.com>
	<609353e71002270900g721e2603n614f7c51a14bdfec@mail.gmail.com>
	<1267293295225-4645951.post@n2.nabble.com>
	<609353e71002271150u50cd624k7a4d73beff038bfe@mail.gmail.com>
	<1267301248601-4646410.post@n2.nabble.com>
Message-ID: <18d502871002271231n57e13299k4dae78ca5ae9d941@mail.gmail.com>

>
> Massimo Belgrano wrote:
> >
> > |cTopic|
> > IF( Empty( cTopic := ::GetText() ), cTopic := ::GetWord(.F.) ),
> > HtmlHelpTopic( ::hWnd, "c:\harbour\xhdoc\xHarbour Language
> > Reference Guide.chm", cTopic )
> >
>
> HtmlHelpTopic( ::hWnd, "c:\harbour\xhdoc\xHarbour Language
> Reference Guide.chm", cTopic )
>
> Invokes a Windows only function, which I can too, but then
> hbIDE will not be multi-platform. So this implimentation will never be
> in hbIDE unless I come out with other solution.
>
> Anybody has any other idea ?
>

Custom list of external commands. If you need to pass
some values, you can add support for macros. (f.e. {TOPIC}
means cTopic), and then call the external command. Most
of the things can be solved using them.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/0a30f26f/attachment-0001.html
From bedipritpal at hotmail.com  Sat Feb 27 16:54:41 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 27 16:54:48 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14007] trunk/harbour
In-Reply-To: <18d502871002271231n57e13299k4dae78ca5ae9d941@mail.gmail.com>
References: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com>
	<1267247174411-4643706.post@n2.nabble.com>
	<609353e71002270900g721e2603n614f7c51a14bdfec@mail.gmail.com>
	<1267293295225-4645951.post@n2.nabble.com>
	<609353e71002271150u50cd624k7a4d73beff038bfe@mail.gmail.com>
	<1267301248601-4646410.post@n2.nabble.com>
	<18d502871002271231n57e13299k4dae78ca5ae9d941@mail.gmail.com>
Message-ID: <1267307681631-4646749.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Custom list of external commands. If you need to pass
> some values, you can add support for macros. (f.e. {TOPIC}
> means cTopic), and then call the external command. Most
> of the things can be solved using them.
> 

Yes I am aware but for this particular purpose {TOPIC}
needs to be supplied with the .chm which I do not know how 
to pass:

start  C:\creative.acp\ActiveX\rmchart.chm

Opens up the rmchart.chm, though, I cannot pass

start  C:\creative.acp\ActiveX\rmchart.chm AddCaption

Any ideas?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-14007-trunk-harbour-tp4643694p4646749.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Feb 27 17:06:11 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Feb 27 17:06:19 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[14007] trunk/harbour
In-Reply-To: <1267307681631-4646749.post@n2.nabble.com>
References: <E1NlEmp-00068i-Ss@sfp-svn-4.v30.ch3.sourceforge.com>
	<1267247174411-4643706.post@n2.nabble.com>
	<609353e71002270900g721e2603n614f7c51a14bdfec@mail.gmail.com>
	<1267293295225-4645951.post@n2.nabble.com>
	<609353e71002271150u50cd624k7a4d73beff038bfe@mail.gmail.com>
	<1267301248601-4646410.post@n2.nabble.com>
	<18d502871002271231n57e13299k4dae78ca5ae9d941@mail.gmail.com>
	<1267307681631-4646749.post@n2.nabble.com>
Message-ID: <18d502871002271406g707a7a6fwfc7169aed25e9dbe@mail.gmail.com>

>
> > Custom list of external commands. If you need to pass
> > some values, you can add support for macros. (f.e. {TOPIC}
> > means cTopic), and then call the external command. Most
> > of the things can be solved using them.
> >
>
> Yes I am aware but for this particular purpose {TOPIC}
> needs to be supplied with the .chm which I do not know how
> to pass:
>
> start  C:\creative.acp\ActiveX\rmchart.chm
>
> Opens up the rmchart.chm, though, I cannot pass
>
> start  C:\creative.acp\ActiveX\rmchart.chm AddCaption
>
> Any ideas?
>

I've never tried to do this, but if nothing else works,
one can write a little tool which does the job (outside
of Harbour SVN that is). Such little tool can use any dirty
tricks the OS allows, and most of the time such tool is
already written by someone else.

Regarding Harbour, I'd personally suggest to focus on the
generic part of the problem.

BTW, with simple html, it's just '<URL>/#{TOPIC}'.

FWIW, .chm files are no longer supported out of the box
on Win7.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100227/d1612f24/attachment.html
From dmacias at mail.udg.mx  Sat Feb 27 17:33:05 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Feb 27 17:33:23 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
Message-ID: <4B899DA1.4030605@mail.udg.mx>

Pritpal:

 >> demoqt.prg
 >> ==========
 >> - Build fine
 >> - Open a window with content
 >> - Maximize beyond of desktop size
 >> - Fx keys seem to work
 >> - Output from 1,2 are:
 >> ----------------------
 >> QPainter::begin: Paint device returned engine == 0, type: 1
 >> QPainter::begin: Paint device returned engine == 0, type: 1
 >> QPainter::begin: Paint device returned engine == 0, type: 1
 >> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
 >> QPainter::begin: Paint device returned engine == 0, type: 1
 >> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
 >> QPainter::begin: Paint device returned engine == 0, type: 1
 >> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
 >> QPainter::begin: Paint device returned engine == 0, type: 1
 >> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
 >> ----------------------
 >>

 >You referred demoqt.prg above also.
 >Did you run twice the same test ?

Sorry, is demoqtc.prg in contrib\hbqt\gtqtc\tests

David Macias


From vszakats at users.sourceforge.net  Sat Feb 27 18:20:30 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Feb 27 18:20:39 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14017] trunk/harbour
Message-ID: <E1NlVxW-0008HF-VV@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14017
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14017&view=rev
Author:   vszakats
Date:     2010-02-27 23:20:29 +0000 (Sat, 27 Feb 2010)

Log Message:
-----------
2010-02-28 00:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddoci/sddoci.c
    ! Fixed handling of dates.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Feb 27 19:01:42 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 27 19:01:49 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14018] trunk/harbour
Message-ID: <E1NlWbO-0008G8-3C@sfp-svn-1.v30.ch3.sourceforge.com>

Revision: 14018
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14018&view=rev
Author:   vouchcac
Date:     2010-02-28 00:01:37 +0000 (Sun, 28 Feb 2010)

Log Message:
-----------
2010-02-27 15:59 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/gtqtc/gtqtc.cpp
    ! Fix to warning: QFont::setPointSize: Point size <= 0 (0), must be greater than 0 
      Reported by David Macias.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/gtqtc/gtqtc.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Feb 27 19:02:58 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Feb 27 19:03:06 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
In-Reply-To: <4B899DA1.4030605@mail.udg.mx>
References: <4B866BB6.2030207@mail.udg.mx> <4B899DA1.4030605@mail.udg.mx>
Message-ID: <1267315378815-4647217.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
>  >> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
> 

Please check after r14018.

I am trying to gather logic the possible reason for other warning.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-13976-tp4632138p4647217.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vouchcac at users.sourceforge.net  Sat Feb 27 22:21:45 2010
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Feb 27 22:21:54 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14019] trunk/harbour
Message-ID: <E1NlZiz-0003rA-BH@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14019
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14019&view=rev
Author:   vouchcac
Date:     2010-02-28 03:21:43 +0000 (Sun, 28 Feb 2010)

Log Message:
-----------
2010-02-27 19:16 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/harbour_splash.png
  * contrib/hbide/resources/hbidesplash.png
  * contrib/hbide/resources/togglelinenumber.png

  * contrib/hbqt/hbqt_hbqplaintextedit.cpp
  * contrib/hbqt/hbqt_hbqplaintextedit.h

  * contrib/hbide/hbide.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/ideeditor.prg
    + Implemented: toggling the line-numbers visibility in editors.
      Slot is provided with left-hand toolbar button.
      Toggling is availabler per one editor tab.

    + Entered: copy-right information in hbIDE splash screen.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqplaintextedit.h

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/hbidesplash.png
    trunk/harbour/contrib/hbide/resources/togglelinenumber.png

Removed Paths:
-------------
    trunk/harbour/contrib/hbide/resources/harbour_splash.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From m.lacecilia at gmail.com  Sun Feb 28 04:22:17 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Sun Feb 28 04:22:29 2010
Subject: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <1267114910259-4633464.post@n2.nabble.com>
References: <27714403.post@talk.nabble.com><305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu><6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com><18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com><1267113423796-4633298.post@n2.nabble.com><18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
	<1267114910259-4633464.post@n2.nabble.com>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>

Not only GTWVG needs an update: a build with GTQTC showed me that the colors
don't are coded in Clipper compatibility mode (as Viktor recent changed on
WVT) and, mainly, many codepage and save/restscreen() problems.
The box graphics and localized character, and the colors of saved/restored
areas are buggy.
Best regards.

Maurizio la Cecilia               
 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di Pritpal Bedi
> Inviato: gioved? 25 febbraio 2010 17.22
> A: harbour@harbour-project.org
> Oggetto: [Harbour] Re: gtwvt compatibility issue
> 
> 
> 
> Viktor Szak?ts wrote:
> > 
> > I'm not 100% sure what you mean. The exact same
> > code is used for HB_GTI_PALETTE handling in both GTs,
> > except that GTWVG wasn't updated to use zero based
> > color indexes, because it would have broken your local
> > apps.
> > 
> 
> Oh yep, now I remeber.
> 
> You please fix the other part. I will look into it deeply
> at a later date. Thanks for taking pain.
> 
> 
> -----
>                  enjoy hbIDEing...
>                     Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context: 
> http://n2.nabble.com/gtwvt-compatibility-issue-tp4631971p4633464.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From vszakats at users.sourceforge.net  Sun Feb 28 05:20:56 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 28 05:21:04 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14020] trunk/harbour
Message-ID: <E1NlgGe-0002V8-M9@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14020
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14020&view=rev
Author:   vszakats
Date:     2010-02-28 10:20:55 +0000 (Sun, 28 Feb 2010)

Log Message:
-----------
2010-02-28 11:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sqlbase.c
    ! Fixed crash on close when connection could not be made.

  * INSTALL
    + Added link to Oracle Instant Client downloads.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/rddsql/sqlbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Sun Feb 28 06:05:58 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Feb 28 06:06:19 2010
Subject: [Harbour] Re: OS/2: Harbour 14019
Message-ID: <4B8A4E16.1020306@mail.udg.mx>

Pritpal:

 >>
 >>  >> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
 >>

 >Please check after r14018.

 >I am trying to gather logic the possible reason for other warning.


Tests made with

  * $Id: ChangeLog 14019 2010-02-28 03:21:43Z vouchcac $
  2010-02-27 19:16 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)

so we have a newer Harbour and same os2Qt461

- hbqt* libs build without problems

demoqt.prg
==========
Same failure as before

demoqtc.prg
===========
Recent changes cause failure to build gtqtc.lib

gtqtc.cpp: You used:
    #if !defined( UNICODE )
          usChar = pWVT->chrTransTbl[ usChar & 0xFF ];
    #endif
gtqtc.h: You deleted:
     PHB_CODEPAGE boxCDP;                       /* CodePage for legacy 
drawing chars: IBM437 */

Few lines ahead we have:
#if defined( UNICODE )
    PHB_CODEPAGE boxCDP;                     /* CodePage for legacy 
drawing chars: IBM437 */
#endif


so we have building gtqtc.lib:
----------------------------------------
gcc   -I. -I../../../../../../include -Zomf -Wall -W -O3 
-DHB_LEGACY_TYPES_OFF  -IE:\qt4\include -IE:\qt4\include/QtCore 
-IE:\qt4\include/QtGui -DHB_FM_STATISTICS_OFF -ogtqtc.o -c 
../../../gtqtc.cpp
[...]
../../../gtqtc.cpp: In function 'HB_BOOL hb_gt_wvt_Info(_HB_GT_BASE*, 
int, HB_GT_INFO*)':
../../../gtqtc.cpp:1005: error: 'struct HB_GTWVT' has no member named 
'boxCDP'
../../../gtqtc.cpp:1005: error: 'struct HB_GTWVT' has no member named 
'boxCDP'
../../../gtqtc.cpp:1010: error: 'struct HB_GTWVT' has no member named 
'boxCDP'
../../../../../../include/hbgtreg.h: At global scope:
../../../../../../include/hbgtreg.h:67: warning: 
'static_int__hb_startup_gt_Init_QTC' defined but not used
make[1]: *** [gtqtc.o] Error 1
----------------------------------------

Temporary I restored in gtqtc.h:
    PHB_CODEPAGE boxCDP;

and gtqtc.lib build entirely

demoqtc.exe build/run fine, message "QFont::setPointSize: Point size <= 
0 (0), must be greater than 0" has gone

As before, after run, maximizing window goes beyond desktop limits
After toggle F3 twice, maximizing window fit desktop limits


demoxbp.prg
==========
Same failure as before

hbide project
=============
New failure

When run, show logo, build window with content and CRASH in 5 seconds 
without human intervention. Tested many times and same behaviour

Something changed in hbqt*, hbide. With 13976 was running with some 
failures, but do not crash in 5 seconds
Initial window size is different in both versions

Bottom of log show:
---------------------------------
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS DialogFind           {|o,v| 
o[v]:setWindowTitle(q__tr("DialogFind", "Find and Replace", 0, "UTF8"))}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS groupBox_2           {|o,v| 
o[v]:setTitle("")}
THbQtUI.prg:0:HBQ_DBG(): HB_TR_ALWAYS groupBox_3           {|o,v| 
o[v]:setTitle("")}

Exception c0000005 at address 0x1dd569ca


     Exception Code:C0000005
     Exception Address:1DD569CA
     EAX:00000001  EBX:02BC5D1C  ECX:02BC5D24  EDX:00000001
     ESI:00000000  EDI:02BC8964  EBP:0059FCE8
     CS:EIP:005B:1DD569CA  SS:ESP:0053:0059FCD0
     DS:0053  ES:0053  FS:150B  GS:0000
     Flags:00010246
Called from HBIDE:CREATE(429) in hbide.prg
Called from MAIN(110) in hbide.prg

Killed by SIGSEGV
pid=0x4520 ppid=0x4512 tid=0x0001 slot=0x00ad pri=0x0200 mc=0x0001
E:\HARBOUR103\HARBOUR\CONTRIB\HBIDE\HBIDE.EXE
LIBC063 0:000669ca
cs:eip=005b:1dd569ca      ss:esp=0053:0059fcd0      ebp=0059fce8
  ds=0053      es=0053      fs=150b      gs=0000     efl=00010246
eax=00000001 ebx=02bc5d1c ecx=02bc5d24 edx=00000001 edi=02bc8964 
esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.
---------------------------------

David Macias



From mbelgrano at deltain.it  Sun Feb 28 06:23:31 2010
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Feb 28 06:24:14 2010
Subject: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu> 
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com> 
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com> 
	<1267113423796-4633298.post@n2.nabble.com>
	<18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com> 
	<1267114910259-4633464.post@n2.nabble.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
Message-ID: <609353e71002280323l5505a536mbbca1c5a394911ba@mail.gmail.com>

Hi Maurizio
Can you post a sample about your error?

2010/2/28 Maurizio la Cecilia <m.lacecilia@gmail.com>

> Not only GTWVG needs an update: a build with GTQTC showed me that the
> colors
> don't are coded in Clipper compatibility mode (as Viktor recent changed on
> WVT) and, mainly, many codepage and save/restscreen() problems.
> The box graphics and localized character, and the colors of saved/restored
> areas are buggy.
> Best regards.
>
> Maurizio la Cecilia
>
>
> > -----Messaggio originale-----
> > Da: harbour-bounces@harbour-project.org
> > [mailto:harbour-bounces@harbour-project.org] Per conto di Pritpal Bedi
> > Inviato: gioved? 25 febbraio 2010 17.22
> > A: harbour@harbour-project.org
> > Oggetto: [Harbour] Re: gtwvt compatibility issue
> >
> >
> >
> > Viktor Szak?ts wrote:
> > >
> > > I'm not 100% sure what you mean. The exact same
> > > code is used for HB_GTI_PALETTE handling in both GTs,
> > > except that GTWVG wasn't updated to use zero based
> > > color indexes, because it would have broken your local
> > > apps.
> > >
> >
> > Oh yep, now I remeber.
> >
> > You please fix the other part. I will look into it deeply
> > at a later date. Thanks for taking pain.
> >
> >
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100228/221322ff/attachment.html
From dmacias at mail.udg.mx  Sun Feb 28 06:56:35 2010
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Feb 28 06:57:00 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
Message-ID: <4B8A59F3.9070703@mail.udg.mx>

Pritpal:

 >> Called from QT_QDIALOG_EXEC(0)
 >> Called from QFILEDIALOG:EXEC(0) in ../../../TQDialog.prg
 >> Called from XBPFILEDIALOG:OPEN(0) in ../../../xbpfiledialog.prg
 >> Called from IDESOURCESMANAGER:SELECTSOURCE(442) in idesources.prg
 >>

 >It appears QDialog() class is also broken in OS2 builds.
 >It is also a very important class like QWidget and MUST behave
 >properly. I cannot figure out what is the issue. Please
 >experiment as

 >   qMsgBox := QMessageBox():new( qMainWindow )

 >do it shows up the dialog? If yes, then probably I am
 >making sth wrong in XbpFileDialog() class in hbXBP.

I do not know where to experiment:
  "qMsgBox := QMessageBox():new( qMainWindow )"

David Macias



From vszakats at users.sourceforge.net  Sun Feb 28 07:01:27 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 28 07:01:58 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14021] trunk/harbour
Message-ID: <E1Nlhpv-000771-Q5@sfp-svn-3.v30.ch3.sourceforge.com>

Revision: 14021
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14021&view=rev
Author:   vszakats
Date:     2010-02-28 12:01:25 +0000 (Sun, 28 Feb 2010)

Log Message:
-----------
2010-02-28 12:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddoci/sddoci.c
    ! Fixed handling of numeric types widths and decimals.
    ; This marks last known TODO/TOFIX as DONE.

  * src/vm/extrap.c
    + Minor

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c
    trunk/harbour/src/vm/extrap.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sun Feb 28 09:00:26 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb 28 09:01:44 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>
References: <4B87FC0C.1090207@gmail.com>
	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>
Message-ID: <4B8A76FA.5020003@gmail.com>

Hi Viktor and all,

Well. Some questions.
If this is do it an implementation for MinGW.
MinGW need to define _WIN32_WINNT before using the headers.

http://oldwiki.mingw.org/index.php/header-w32api_h

Should I force the code _WIN32_WINNT or use WINVER?
Is this true for mingwce?
Can I protect the code as standard headers?
...
#if _WIN32_WINNT >= 0x0501
...

__MINGW32__ and __MINGW64__ they are both compiler 's built-in macros.
Is defined in mingwce?

Best regards,
-- 
Xavi

El 26/02/2010 18:06, Viktor Szak?ts escribi?:
> Hi,
>
> If there is a way to dynamically find out the version of the structure
> returned by function in question, so that we can be sure that required
> fields are present, we may force 0x0600 version in source, just to get
> the structure definitions from official headers. Plus we also need to
> add support for older SDK versions, where the newer structure items
> were not yet available at all (for this there doesn't seem to exist
> well-known
> and documented way, so historically we check compiler version, assuming
> that it's always tied with a given PSDK version (which is theoretically
> wrong, but works in most installations)).
>
> Brgds,
> Viktor
>
> On Fri, Feb 26, 2010 at 5:51 PM, Xavi <jarabal@gmail.com
> <mailto:jarabal@gmail.com>> wrote:
>
>     Hi all,
>
>     IMHO the best solution is to define the version of Windows that
>     supports the C compiler before compilation.
>     For example, if your C compiler supports Vista: set
>     HB_USER_CFLAGS=-D_WIN32_WINNT 0x0600
>
>     http://msdn.microsoft.com/en-us/library/aa383745%28VS.85%29.aspx
>
>     Some structures are defined only in the headers from one version of
>     Windows other may change.
>     IPv6 is supported from Windows Server 2003, Windows XP.
>     Even calling functions dynamically is necessary data with which they
>     work.
>     It can make the binary work with earlier versions but the headers
>     and the code should be protected by .-
>     #if _WIN32_WINNT >= 0x0501
>             ...
>     #endif
>     If not, we can have compile-time errors.
>     Please, what do you think about this, comments?
>
>     --
>     Xavi
From fperillo at gmail.com  Sun Feb 28 09:52:56 2010
From: fperillo at gmail.com (francesco perillo)
Date: Sun Feb 28 09:53:04 2010
Subject: [Harbour] How to retrieve the CallStack
Message-ID: <6943770e1002280652n65fa80fajeaf2f72af1b6dc69@mail.gmail.com>

In the debugger it is possible to see the CallStack and the variables
"active" in each stack level.
>From the debugger source code I see that the CallStack is passed to
__dbgEntry as a parameter and that parameter is built in C in funcyion
hb_dbgActivate( HB_DEBUGINFO *info ) where info is a pointer to the VM
call stack...

I now ask if is it possible to get a prg-level CallStack array in
order to use it in the errorsys handler.

Thanks
Francesco
From harbour.01 at syenar.hu  Sun Feb 28 10:01:24 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 10:01:32 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <4B8A76FA.5020003@gmail.com>
References: <4B87FC0C.1090207@gmail.com>
	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>
	<4B8A76FA.5020003@gmail.com>
Message-ID: <18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>

Hi,

On Sun, Feb 28, 2010 at 3:00 PM, Xavi <jarabal@gmail.com> wrote:

> Hi Viktor and all,
>
> Well. Some questions.
> If this is do it an implementation for MinGW.
>

I can't see any reason why this have to be compiler specific,
please elaborate.


> MinGW need to define _WIN32_WINNT before using the headers.
>
> http://oldwiki.mingw.org/index.php/header-w32api_h
>
> Should I force the code _WIN32_WINNT or use WINVER?
> Is this true for mingwce?
>

Or rather WinCE in general. You have to check Windows API
documentation if the features you need are available or not in
this platform. I'd guess ipv6 isn't supported by WinCE by I
may be wrong.

Can I protect the code as standard headers?
> ...
> #if _WIN32_WINNT >= 0x0501
>

IMO, no. (as described in prev answer)


> __MINGW32__ and __MINGW64__ they are both compiler 's built-in macros.
> Is defined in mingwce?
>

IMO this is not relevant, there is no reason to be
compiler specific here. This is general HB_OS_WIN
issue. If you want to guard against WinCE, us
HB_OS_WIN_CE Harbour macro.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100228/c6597e0e/attachment.html
From bedipritpal at hotmail.com  Sun Feb 28 10:08:47 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 10:08:54 2010
Subject: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com>
	<18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
	<1267114910259-4633464.post@n2.nabble.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
Message-ID: <1267369727144-4649181.post@n2.nabble.com>



Maurizio la Cecilia wrote:
> 
> a build with GTQTC showed me that the colors
> don't are coded in Clipper compatibility mode (as Viktor recent changed on
> WVT) and, mainly, many codepage and save/restscreen() problems.
> The box graphics and localized character, and the colors of saved/restored
> areas are buggy.
> Best regards.
> 

I did not worked on GTQTC for a long time.

Box characters were working perfectly, I will have to look 
what changes were made in the GT subsystem which I 
did not follow. Save/restore looks like broken now.
Probably I have to use floating precision to calculate 
area position.

I will rework on GTQTC again next week.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/gtwvt-compatibility-issue-tp4631971p4649181.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Feb 28 10:13:24 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 10:13:31 2010
Subject: [Harbour] Re: OS/2: Harbour 13976
In-Reply-To: <4B8A59F3.9070703@mail.udg.mx>
References: <4B866BB6.2030207@mail.udg.mx> <4B8A59F3.9070703@mail.udg.mx>
Message-ID: <1267370004061-4649192.post@n2.nabble.com>



David Arturo Macias Corona wrote:
> 
>  >experiment as
> 
>  >   qMsgBox := QMessageBox():new( qMainWindow )
> 
>  >do it shows up the dialog? If yes, then probably I am
>  >making sth wrong in XbpFileDialog() class in hbXBP.
> 
> I do not know where to experiment:
>   "qMsgBox := QMessageBox():new( qMainWindow )"
> 

In demoqt.prg after main()

   MsgInfo( "Testing" )


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/OS-2-Harbour-13976-tp4632138p4649192.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Feb 28 10:27:24 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 10:27:31 2010
Subject: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <1267369727144-4649181.post@n2.nabble.com>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com>
	<18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
	<1267114910259-4633464.post@n2.nabble.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
	<1267369727144-4649181.post@n2.nabble.com>
Message-ID: <18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com>

>
> Maurizio la Cecilia wrote:
> >
> > a build with GTQTC showed me that the colors
> > don't are coded in Clipper compatibility mode (as Viktor recent changed
> on
> > WVT) and, mainly, many codepage and save/restscreen() problems.
> > The box graphics and localized character, and the colors of
> saved/restored
> > areas are buggy.
> > Best regards.
> >
>
> I did not worked on GTQTC for a long time.
>
> Box characters were working perfectly, I will have to look
> what changes were made in the GT subsystem which I
> did not follow. Save/restore looks like broken now.
> Probably I have to use floating precision to calculate
> area position.
>

Nothing changed AFAIK. Accented / non-ASCII chars
never worked alright and there were several other screen
artifact, performance was very slow and there were
several basic problems with it (f.e. screen marking feature
mixed up with mouse/key input). I reported some of
these long ago.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100228/c56ae5ac/attachment.html
From jarabal at gmail.com  Sun Feb 28 10:54:31 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb 28 10:55:39 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>
References: <4B87FC0C.1090207@gmail.com>	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>	<4B8A76FA.5020003@gmail.com>
	<18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>
Message-ID: <4B8A91B7.6050104@gmail.com>

Hi Viktor,

> I can't see any reason why this have to be compiler specific,
> please elaborate.

In the beginning of hbsocket.c you can see .-
...
#elif defined( HB_OS_WIN )
#  if defined( __WATCOMC__ )
#     if ( NTDDI_VERSION >= 0x06000000 )
#        define HB_HAS_INET_PTON
#        define HB_HAS_INET_NTOP
#     endif
#     define HB_HAS_SOCKADDR_STORAGE
/* #     define HB_HAS_INET6 */
#  elif defined( __MINGW32__ )
#     define HB_HAS_SOCKADDR_STORAGE
#  elif defined( __POCC__ ) && !defined( __XCC__ )
#     define HB_HAS_SOCKADDR_STORAGE
#  endif
#  define HB_IS_INET_NTOA_MT_SAFE
...
Please, see the use of NTDDI_VERSION.

> this platform. I'd guess ipv6 isn't supported by WinCE by I
> may be wrong.

I think that yes .-
http://msdn.microsoft.com/en-us/library/aa450087.aspx

>>     __MINGW32__ and __MINGW64__ they are both compiler 's built-in macros.
>>     Is defined in mingwce?
>>
> IMO this is not relevant, there is no reason to be
> compiler specific here. This is general HB_OS_WIN
> issue. If you want to guard against WinCE, us
> HB_OS_WIN_CE Harbour macro.

Sorry, I meant that if defined __MINGW64__ also is defined __MINGW32__ I don't know in wingwce.

[ Viktor Please could you send plain text posts, are much easier to read. ]

Best regards,
-- 
Xavi

El 28/02/2010 16:01, Viktor Szak?ts escribi?:
> Hi,
>
> On Sun, Feb 28, 2010 at 3:00 PM, Xavi <jarabal@gmail.com
> <mailto:jarabal@gmail.com>> wrote:
>
>     Hi Viktor and all,
>
>     Well. Some questions.
>     If this is do it an implementation for MinGW.
>
>
> I can't see any reason why this have to be compiler specific,
> please elaborate.
>
>     MinGW need to define _WIN32_WINNT before using the headers.
>
>     http://oldwiki.mingw.org/index.php/header-w32api_h
>
>     Should I force the code _WIN32_WINNT or use WINVER?
>     Is this true for mingwce?
>
>
> Or rather WinCE in general. You have to check Windows API
> documentation if the features you need are available or not in
> this platform. I'd guess ipv6 isn't supported by WinCE by I
> may be wrong.
>
>     Can I protect the code as standard headers?
>     ...
>     #if _WIN32_WINNT >= 0x0501
>
>
> IMO, no. (as described in prev answer)
>
>     __MINGW32__ and __MINGW64__ they are both compiler 's built-in macros.
>     Is defined in mingwce?
>
>
> IMO this is not relevant, there is no reason to be
> compiler specific here. This is general HB_OS_WIN
> issue. If you want to guard against WinCE, us
> HB_OS_WIN_CE Harbour macro.
>
> Brgds,
> Viktor
>
From druzus at acn.waw.pl  Sun Feb 28 11:07:09 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 28 11:07:17 2010
Subject: [Harbour] For Przemek: SIXCDX difference found with examples
In-Reply-To: <674e4ddd1002261512t65c03a3cl7ba7fa468c6e70dc@mail.gmail.com>
References: <674e4ddd1002261512t65c03a3cl7ba7fa468c6e70dc@mail.gmail.com>
Message-ID: <20100228160709.GA31818@linux-4bod.home.aster.pl>

On Fri, 26 Feb 2010, smu johnson wrote:

Hi,

> With a Roll-your-own index open, when you use a dbgoto(), the record pointer
> is moved to the correct row in the table but the pointer in the index file
> is not positioned to the corresponding row, even though the record is in the
> index.  With a regular cdx index, the index pointer is always positioned
> after a dbgoto().

No. It's positioned in the same way in both cases using sth like:
   SEEK EVAL( <KEYEXP> ) + <RECNO>
It means that it will not work when you used in RYO index your own
values which are not results of <KEYEXP> evaluation because corresponding
entry cannot be found.

> Perhaps the reason for not positioning the index pointer in an ryo index is
> that an ryo index can contain multiple entries for a single table row, and
> as such, positioning the index pointer would be ambiguous action (pick one?)
> and could therefore cause unpredictable results.  Am I correct in that
> thinking?

No, see above. After DBGOTO() RDD uses seek to find corresponding record
to eliminate linear scan of all key stored in index from the index top
position to locate the entry which has corresponding record number.
Such linear scan is simply very expensive in big tables because it may
force reading whole index file to locate given entry.

> In any event, the Harbour behaviour is different from the SIX SDX, which is
> causing me problems.
> 
> I have included a URL for a tiny .ZIP file for a simple source code example,
> and 2 .txt files showing different behaviour on Clipper 5.2e / Harbour.
> Please read here:  http://209.97.219.2/sjohnson/misc/sixcdx-incompat.zip

Looks that SIX3 for template indexes enables such linear scan automatically.
Harbour doesn't. You can force linear scan for index repositioning manually
by:

   sx_findRec( recNo() )

just after dbGoTo().
I'll enable automatic linear repositioning for template SIXCDX tags ASAP.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Feb 28 11:18:02 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 11:18:10 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <4B8A91B7.6050104@gmail.com>
References: <4B87FC0C.1090207@gmail.com>
	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>
	<4B8A76FA.5020003@gmail.com>
	<18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>
	<4B8A91B7.6050104@gmail.com>
Message-ID: <18d502871002280818w6bfa68ebt2a5ad6cfb548f423@mail.gmail.com>

> In the beginning of hbsocket.c you can see .-
> ...
> #elif defined( HB_OS_WIN )
> # ?if defined( __WATCOMC__ )
> # ? ? if ( NTDDI_VERSION >= 0x06000000 )
> # ? ? ? ?define HB_HAS_INET_PTON
> # ? ? ? ?define HB_HAS_INET_NTOP
> # ? ? endif
> # ? ? define HB_HAS_SOCKADDR_STORAGE
> /* # ? ? define HB_HAS_INET6 */
> # ?elif defined( __MINGW32__ )
> # ? ? define HB_HAS_SOCKADDR_STORAGE
> # ?elif defined( __POCC__ ) && !defined( __XCC__ )
> # ? ? define HB_HAS_SOCKADDR_STORAGE
> # ?endif
> # ?define HB_IS_INET_NTOA_MT_SAFE
> ...
> Please, see the use of NTDDI_VERSION.

Yes, NTDDI_VERSION is the (best? only?) way to detect
platform SDK version.

> I think that yes .-
> http://msdn.microsoft.com/en-us/library/aa450087.aspx

Even better.

>>> ? ?__MINGW32__ and __MINGW64__ they are both compiler 's built-in macros.
>>> ? ?Is defined in mingwce?
>>>
>> IMO this is not relevant, there is no reason to be
>> compiler specific here. This is general HB_OS_WIN
>> issue. If you want to guard against WinCE, us
>> HB_OS_WIN_CE Harbour macro.
>
> Sorry, I meant that if defined __MINGW64__ also is defined __MINGW32__ I don't know in wingwce.

Yes, __MINGW32__ is defined in all mingw editions. (see in src\common\hbver.c)

For x64 and WinCE we have HB_WIN_OS_64 and HB_OS_WIN_CE
Harbour macros.

> [ Viktor Please could you send plain text posts, are much easier to read. ]

Okay, sorry, I'm on gmail now, toggled it to plain text.

Brgds,
Viktor
From bedipritpal at hotmail.com  Sun Feb 28 11:30:36 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 11:30:44 2010
Subject: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com>
References: <27714403.post@talk.nabble.com>
	<305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com>
	<18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
	<1267114910259-4633464.post@n2.nabble.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
	<1267369727144-4649181.post@n2.nabble.com>
	<18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com>
Message-ID: <1267374636668-4649737.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Nothing changed AFAIK. Accented / non-ASCII chars
> never worked alright and there were several other screen
> artifact, performance was very slow and there were
> several basic problems with it (f.e. screen marking feature
> mixed up with mouse/key input). I reported some of
> these long ago.
> 

I do remember, but as said before, at that point of time
I had limited knowledge of Qt. I think I need to rework the 
entire GT again with a clean slate.

I will do after hbIDE reaches an acceptable stage.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/gtwvt-compatibility-issue-tp4631971p4649737.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Feb 28 11:39:31 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 11:39:39 2010
Subject: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <1267374636668-4649737.post@n2.nabble.com>
References: <27714403.post@talk.nabble.com>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com>
	<18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
	<1267114910259-4633464.post@n2.nabble.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
	<1267369727144-4649181.post@n2.nabble.com>
	<18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com>
	<1267374636668-4649737.post@n2.nabble.com>
Message-ID: <18d502871002280839q77f297dbga28fb46541287527@mail.gmail.com>

>> Nothing changed AFAIK. Accented / non-ASCII chars
>> never worked alright and there were several other screen
>> artifact, performance was very slow and there were
>> several basic problems with it (f.e. screen marking feature
>> mixed up with mouse/key input). I reported some of
>> these long ago.
>>
>
> I do remember, but as said before, at that point of time
> I had limited knowledge of Qt. I think I need to rework the
> entire GT again with a clean slate.

Even more important question IMO, is if it serves
any useful purpose at all to have a QT based GT?

The only one I could cite is that GTQT uses native
GUI on OSX (not X11 as GTXWC), but this doesn't
really justifies the effort to make it a new tier-one GT.

> I will do after hbIDE reaches an acceptable stage.

IMO we (well, you) should focus on making QT stable.

F.e. I'm still getting the crash at program exit, and
without wanting to go into it deeply, for me most
menu functionality seemed broken. F.e. open file
allows to select .hbi, then gives open error, project open
didn't work, some menus didn't work (theme selection
is still non-standard, which is rather strange), project
import is non-intuitive with those two extra buttons,
.hbp is still an import format, rather than native.
.hbi is _still_ location (and thus platform) dependent.
Slots/events mechanism is central and .prg level
handling is also not well defined (holder variables
needs to be created manually, while it could be
part of app class or windows class). Too many to
mention and the list is not shrinking, even though
I'm only scratching the surface.

Basically _none_ of the ground work I did with hbmk2
and hbqt build system is used in any ways. So I
keep wondering in investing more minutes to/for this
project.

Brgds,
Viktor
From jarabal at gmail.com  Sun Feb 28 12:02:26 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb 28 12:03:35 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <18d502871002280818w6bfa68ebt2a5ad6cfb548f423@mail.gmail.com>
References: <4B87FC0C.1090207@gmail.com>	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>	<4B8A76FA.5020003@gmail.com>	<18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>	<4B8A91B7.6050104@gmail.com>
	<18d502871002280818w6bfa68ebt2a5ad6cfb548f423@mail.gmail.com>
Message-ID: <4B8AA1A2.4080206@gmail.com>

Hi Viktor,

> Yes, NTDDI_VERSION is the (best? only?) way to detect
> platform SDK version.

The only problem is that MinGW does not use NTDDI_VERSION, it uses _WIN32_WINNT.
At least in my versions of MinGW. :)

Best regards,
-- 
Xavi

El 28/02/2010 17:18, Viktor Szak?ts escribi?:
>> In the beginning of hbsocket.c you can see .-
>> ...
>> #elif defined( HB_OS_WIN )
>> #  if defined( __WATCOMC__ )
>> #     if ( NTDDI_VERSION>= 0x06000000 )
>> #        define HB_HAS_INET_PTON
>> #        define HB_HAS_INET_NTOP
>> #     endif
>> #     define HB_HAS_SOCKADDR_STORAGE
>> /* #     define HB_HAS_INET6 */
>> #  elif defined( __MINGW32__ )
>> #     define HB_HAS_SOCKADDR_STORAGE
>> #  elif defined( __POCC__ )&&  !defined( __XCC__ )
>> #     define HB_HAS_SOCKADDR_STORAGE
>> #  endif
>> #  define HB_IS_INET_NTOA_MT_SAFE
>> ...
>> Please, see the use of NTDDI_VERSION.
>
> Yes, NTDDI_VERSION is the (best? only?) way to detect
> platform SDK version.
>
>> I think that yes .-
>> http://msdn.microsoft.com/en-us/library/aa450087.aspx
>
> Even better.
>
>>>>     __MINGW32__ and __MINGW64__ they are both compiler 's built-in macros.
>>>>     Is defined in mingwce?
>>>>
>>> IMO this is not relevant, there is no reason to be
>>> compiler specific here. This is general HB_OS_WIN
>>> issue. If you want to guard against WinCE, us
>>> HB_OS_WIN_CE Harbour macro.
>>
>> Sorry, I meant that if defined __MINGW64__ also is defined __MINGW32__ I don't know in wingwce.
>
> Yes, __MINGW32__ is defined in all mingw editions. (see in src\common\hbver.c)
>
> For x64 and WinCE we have HB_WIN_OS_64 and HB_OS_WIN_CE
> Harbour macros.
>
>> [ Viktor Please could you send plain text posts, are much easier to read. ]
>
> Okay, sorry, I'm on gmail now, toggled it to plain text.
>
> Brgds,
> Viktor
From harbour.01 at syenar.hu  Sun Feb 28 12:12:59 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 12:13:11 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <4B8AA1A2.4080206@gmail.com>
References: <4B87FC0C.1090207@gmail.com>	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>	<4B8A76FA.5020003@gmail.com>	<18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>	<4B8A91B7.6050104@gmail.com>
	<18d502871002280818w6bfa68ebt2a5ad6cfb548f423@mail.gmail.com>
	<4B8AA1A2.4080206@gmail.com>
Message-ID: <B831C378-6E67-44D4-BA45-D94C15312DD5@syenar.hu>


On 2010 Feb 28, at 18:02, Xavi wrote:

> Hi Viktor,
> 
>> Yes, NTDDI_VERSION is the (best? only?) way to detect
>> platform SDK version.
> 
> The only problem is that MinGW does not use NTDDI_VERSION, it uses _WIN32_WINNT.
> At least in my versions of MinGW. :)

Yes, unfortunately the problem with NTDDI_VERSION, 
is that it's not backward compatible solution (they 
introduces it quite late), and some 3rd party Windows 
headers set don't support it (yet).

_WIN32_WINNT is nice, but it has other purpose.

NTDDI_VERSION = maximum OS version supported by SDK/Windows-headers
_WIN32_WINNT = OS version we want to target

BTW, the values are also different, to make it simpler.

Brgds,
Viktor


From vszakats at users.sourceforge.net  Sun Feb 28 12:42:26 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 28 12:42:34 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14022] trunk/harbour
Message-ID: <E1Nln9u-0006OP-QR@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14022
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14022&view=rev
Author:   vszakats
Date:     2010-02-28 17:42:25 +0000 (Sun, 28 Feb 2010)

Log Message:
-----------
2010-02-28 18:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbsqlit3/hbsqlit3.c
    + Added TOFIX: utf8 conversion is missing from the interface.

  * contrib/rddsql/Makefile
  + contrib/rddsql/sddsq3
  + contrib/rddsql/sddsq3/Makefile
  + contrib/rddsql/sddsq3/sddsq3.c
  + contrib/rddsql/sddsq3/sddsq3.hbc
  + contrib/rddsql/sddsq3/tests
  + contrib/rddsql/sddsq3/tests/hbmk.hbm
  + contrib/rddsql/sddsq3/tests/test1.prg
  + contrib/rddsql/sddsq3/tests/test.sq3
    + Added SDD to access SQLITE3 databases.
    ; Please test it with real data, especially blobs.

  * contrib/rddsql/sddoci/sddoci.c
    * Formatting.
    ! Fixed leak.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c
    trunk/harbour/contrib/rddsql/Makefile
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c

Added Paths:
-----------
    trunk/harbour/contrib/rddsql/sddsq3/
    trunk/harbour/contrib/rddsql/sddsq3/Makefile
    trunk/harbour/contrib/rddsql/sddsq3/sddsq3.c
    trunk/harbour/contrib/rddsql/sddsq3/sddsq3.hbc
    trunk/harbour/contrib/rddsql/sddsq3/tests/
    trunk/harbour/contrib/rddsql/sddsq3/tests/hbmk.hbm
    trunk/harbour/contrib/rddsql/sddsq3/tests/test.sq3
    trunk/harbour/contrib/rddsql/sddsq3/tests/test1.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sun Feb 28 12:52:33 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb 28 12:53:43 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <B831C378-6E67-44D4-BA45-D94C15312DD5@syenar.hu>
References: <4B87FC0C.1090207@gmail.com>	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>	<4B8A76FA.5020003@gmail.com>	<18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>	<4B8A91B7.6050104@gmail.com>	<18d502871002280818w6bfa68ebt2a5ad6cfb548f423@mail.gmail.com>	<4B8AA1A2.4080206@gmail.com>
	<B831C378-6E67-44D4-BA45-D94C15312DD5@syenar.hu>
Message-ID: <4B8AAD61.5040200@gmail.com>

Hi Viktor,

> _WIN32_WINNT is nice, but it has other purpose.
>
> NTDDI_VERSION = maximum OS version supported by SDK/Windows-headers
> _WIN32_WINNT = OS version we want to target

Okay, but if you remember my thread starting post .-
"
IMHO the best solution is to define the version of Windows that supports the C compiler before compilation.
For example, if your C compiler supports Vista: set HB_USER_CFLAGS=-D_WIN32_WINNT 0x0600

http://msdn.microsoft.com/en-us/library/aa383745%28VS.85%29.aspx

Some structures are defined only in the headers from one version of Windows other may change.
IPv6 is supported from Windows Server 2003, Windows XP.
Even calling functions dynamically is necessary data with which they work.
It can make the binary work with earlier versions but the headers and the code should be protected by .-
#if _WIN32_WINNT >= 0x0501
     ...
#endif
If not, we can have compile-time errors.
Please, what do you think about this, comments?
"
And we *force* _WIN32_WINNT or NTDDI_VERSION in hard code.
If someone compiles Harbour with earlier versions of C compiler headers may have compile-time errors.

IMHO we need a solution in to make-system and I'm not an expert on this.

Best regards,
-- 
Xavi

El 28/02/2010 18:12, Viktor Szak?ts escribi?:
>
> On 2010 Feb 28, at 18:02, Xavi wrote:
>
>> Hi Viktor,
>>
>>> Yes, NTDDI_VERSION is the (best? only?) way to detect
>>> platform SDK version.
>>
>> The only problem is that MinGW does not use NTDDI_VERSION, it uses _WIN32_WINNT.
>> At least in my versions of MinGW. :)
>
> Yes, unfortunately the problem with NTDDI_VERSION,
> is that it's not backward compatible solution (they
> introduces it quite late), and some 3rd party Windows
> headers set don't support it (yet).
>
> _WIN32_WINNT is nice, but it has other purpose.
>
> NTDDI_VERSION = maximum OS version supported by SDK/Windows-headers
> _WIN32_WINNT = OS version we want to target
>
> BTW, the values are also different, to make it simpler.
>
> Brgds,
> Viktor
From bedipritpal at hotmail.com  Sun Feb 28 12:58:22 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 12:58:28 2010
Subject: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <18d502871002280839q77f297dbga28fb46541287527@mail.gmail.com>
References: <6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com>
	<18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
	<1267114910259-4633464.post@n2.nabble.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
	<1267369727144-4649181.post@n2.nabble.com>
	<18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com>
	<1267374636668-4649737.post@n2.nabble.com>
	<18d502871002280839q77f297dbga28fb46541287527@mail.gmail.com>
Message-ID: <1267379902147-4650146.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
>> I will do after hbIDE reaches an acceptable stage.
> 
> IMO we (well, you) should focus on making QT stable.
> 
> F.e. I'm still getting the crash at program exit, and
> without wanting to go into it deeply, for me most
> menu functionality seemed broken. F.e. open file
> allows to select .hbi, then gives open error, project open
> didn't work, some menus didn't work (theme selection
> is still non-standard, which is rather strange), project
> import is non-intuitive with those two extra buttons,
> .hbp is still an import format, rather than native.
> .hbi is _still_ location (and thus platform) dependent.
> Slots/events mechanism is central and .prg level
> handling is also not well defined (holder variables
> needs to be created manually, while it could be
> part of app class or windows class). Too many to
> mention and the list is not shrinking, even though
> I'm only scratching the surface.
> 

Today, no right now onwards, till hbIDE confirms to Harbour 
norms on functionality levels, I am concentrating on this 
subject only, no new features.

Keep on scratching next commits...


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/gtwvt-compatibility-issue-tp4631971p4650146.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sun Feb 28 13:00:35 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 28 13:00:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14023] trunk/harbour
Message-ID: <E1NlnRT-0006p9-N6@sfp-svn-2.v30.ch3.sourceforge.com>

Revision: 14023
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14023&view=rev
Author:   vszakats
Date:     2010-02-28 18:00:34 +0000 (Sun, 28 Feb 2010)

Log Message:
-----------
2010-02-28 18:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddsq3/sddsq3.c
  * contrib/rddsql/sddoci/sddoci.c
    ! Fixed warnings reported by bcc, msvc.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c
    trunk/harbour/contrib/rddsql/sddsq3/sddsq3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb 28 13:09:47 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 13:09:56 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <4B8AAD61.5040200@gmail.com>
References: <4B87FC0C.1090207@gmail.com>
	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>
	<4B8A76FA.5020003@gmail.com>
	<18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>
	<4B8A91B7.6050104@gmail.com>
	<18d502871002280818w6bfa68ebt2a5ad6cfb548f423@mail.gmail.com>
	<4B8AA1A2.4080206@gmail.com>
	<B831C378-6E67-44D4-BA45-D94C15312DD5@syenar.hu>
	<4B8AAD61.5040200@gmail.com>
Message-ID: <18d502871002281009t716ed0dek3d0036c50d60c0dd@mail.gmail.com>

>> NTDDI_VERSION = maximum OS version supported by SDK/Windows-headers
>> _WIN32_WINNT = OS version we want to target
>
> Okay, but if you remember my thread starting post .-
> "
> IMHO the best solution is to define the version of Windows that supports the
> C compiler before compilation.
> For example, if your C compiler supports Vista: set
> HB_USER_CFLAGS=-D_WIN32_WINNT 0x0600
>
> http://msdn.microsoft.com/en-us/library/aa383745%28VS.85%29.aspx
>
> Some structures are defined only in the headers from one version of Windows
> other may change.
> IPv6 is supported from Windows Server 2003, Windows XP.
> Even calling functions dynamically is necessary data with which they work.
> It can make the binary work with earlier versions but the headers and the
> code should be protected by .-
> #if _WIN32_WINNT >= 0x0501
> ? ?...
> #endif
> If not, we can have compile-time errors.
> Please, what do you think about this, comments?
> "
> And we *force* _WIN32_WINNT or NTDDI_VERSION in hard code.
> If someone compiles Harbour with earlier versions of C compiler headers may
> have compile-time errors.
>
> IMHO we need a solution in to make-system and I'm not an expert on this.

Sorry but I don't understand this thread anymore.

IMO the solution is simple: If you need to use Windows API
features which are not supported in all Windows versions:

1) make it using dynamic calls, so binary won't break if feature not available
2) detect OS header version (only this may need compiler specific solutions)
3) force target OS version by defining _WIN32_WINNT before windows.h,
   if target OS version is known to be supported by headers

If only constants are missing you can replace 2) + 3) with
simple manual definition of those missing constants.

I don't see any need for a make-level solution. All macros can
be defined from source. Why is it better to define them on
make level?

Besides it's quite difficult to discuss this without knowing what do
you exactly want to make here. Maybe you could post some code
(patch) to see where you're standing at ATM.

Brgds,
Viktor
From adam_l at poczta.onet.pl  Sun Feb 28 13:19:01 2010
From: adam_l at poczta.onet.pl (Adam Lubszczyk)
Date: Sun Feb 28 13:19:07 2010
Subject: [Harbour] how to link all the funcions of a lib?
Message-ID: <27714358.post@talk.nabble.com>


Hi!

David MS wrote:
> 
> Hi,
> 
> Is there any way to statically link all the functions of a library, even
> if 
> these functions are not declared / used in the main program?
> 
> In this moment I've a .CH with all functions that I need declarated with 
> EXTERNAL. I don't  know if this is the best way.
> 
> 
> 
> TIA
> David Montano. 
> 
> _______________________________________________
> 

try

 #include "hbextern.ch"

Adam
-- 
View this message in context: http://old.nabble.com/how-to-link-all-the-funcions-of-a-lib--tp27703089p27714358.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Sun Feb 28 13:23:30 2010
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Feb 28 13:23:40 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14022] trunk/harbour
In-Reply-To: <E1Nln9u-0006OP-QR@sfp-svn-2.v30.ch3.sourceforge.com>
References: <E1Nln9u-0006OP-QR@sfp-svn-2.v30.ch3.sourceforge.com>
Message-ID: <9257026e1002281023u6356360bg4e992dd6c932d26b@mail.gmail.com>

On Sun, Feb 28, 2010 at 6:42 PM,  <vszakats@users.sourceforge.net> wrote:

> ?* contrib/rddsql/Makefile
> ?+ contrib/rddsql/sddsq3
> ?+ contrib/rddsql/sddsq3/Makefile
> ?+ contrib/rddsql/sddsq3/sddsq3.c
> ?+ contrib/rddsql/sddsq3/sddsq3.hbc
> ?+ contrib/rddsql/sddsq3/tests
> ?+ contrib/rddsql/sddsq3/tests/hbmk.hbm
> ?+ contrib/rddsql/sddsq3/tests/test1.prg
> ?+ contrib/rddsql/sddsq3/tests/test.sq3
> ? ?+ Added SDD to access SQLITE3 databases.

What about using sle as abbreviation for sqlite instead of sq3?
3 is not part of the name and it will likely to have a version 4 in the future.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Feb 28 13:33:42 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 28 13:33:52 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14022] trunk/harbour
In-Reply-To: <9257026e1002281023u6356360bg4e992dd6c932d26b@mail.gmail.com>
References: <E1Nln9u-0006OP-QR@sfp-svn-2.v30.ch3.sourceforge.com>
	<9257026e1002281023u6356360bg4e992dd6c932d26b@mail.gmail.com>
Message-ID: <CE137CB2-8CBD-4D9F-80F7-C5CF1CB4D81B@syenar.hu>

>>  * contrib/rddsql/Makefile
>>  + contrib/rddsql/sddsq3
>>  + contrib/rddsql/sddsq3/Makefile
>>  + contrib/rddsql/sddsq3/sddsq3.c
>>  + contrib/rddsql/sddsq3/sddsq3.hbc
>>  + contrib/rddsql/sddsq3/tests
>>  + contrib/rddsql/sddsq3/tests/hbmk.hbm
>>  + contrib/rddsql/sddsq3/tests/test1.prg
>>  + contrib/rddsql/sddsq3/tests/test.sq3
>>    + Added SDD to access SQLITE3 databases.
> 
> What about using sle as abbreviation for sqlite instead of sq3?
> 3 is not part of the name and it will likely to have a version 4 in the future.

'3' is present in all SQLITE relates stuff 
we have in Harbour, and the reason is that 
'2' was also present for some time, and '2' 
had an incompatible sqlite interface and/or 
database format, so the number is needed to 
clear doubts. Maybe someone wants to create 
sddsq2 once.

Though, I can rename to 'sddsqlt3', which 
is still 8 chars.

Brgds,
Viktor

From vailtom at gmail.com  Sun Feb 28 13:48:03 2010
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Feb 28 13:48:29 2010
Subject: [Harbour] Can HB_RUN fork?
In-Reply-To: <674e4ddd1002261751x63e78916iafe49661e5313236@mail.gmail.com>
References: <674e4ddd1002261751x63e78916iafe49661e5313236@mail.gmail.com>
Message-ID: <531d7a751002281048o16c0a6b9g8bf87de8056c7bd8@mail.gmail.com>

Hi!

> Can HB_RUN be made to fork a process?? For instance, if you tried to run the
> crappy Windows notepad.exe, it wouldn't wait for notepad.exe to terminate
> before you got your prompt back.
>
> On some text editors, this isn't a concern, like WRITE / WORDPAD.exe... but
> in notepad it is, and I am very curious if something can be done.

Try:

run start calc.exe

Regards,
Vailton Renato
From vszakats at users.sourceforge.net  Sun Feb 28 14:03:34 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 28 14:03:42 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14024] trunk/harbour
Message-ID: <E1NloQQ-0006Rr-Qx@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14024
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14024&view=rev
Author:   vszakats
Date:     2010-02-28 19:03:33 +0000 (Sun, 28 Feb 2010)

Log Message:
-----------
2010-02-28 19:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/Makefile
  - contrib/rddsql/sddsq3
  + contrib/rddsql/sddsqlt3
    * Renamed sddsq3 to sddsqlt3.
      (pass 1 of 2)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/rddsql/sddsqlt3/

Removed Paths:
-------------
    trunk/harbour/contrib/rddsql/sddsq3/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Feb 28 14:08:46 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 28 14:08:53 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14025] trunk/harbour
Message-ID: <E1NloVS-0006Y8-If@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14025
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14025&view=rev
Author:   vszakats
Date:     2010-02-28 19:08:41 +0000 (Sun, 28 Feb 2010)

Log Message:
-----------
2010-02-28 20:05 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddsqlt3/Makefile
  - contrib/rddsql/sddsqlt3/sddsq3.c
  + contrib/rddsql/sddsqlt3/sddsqlt3.c
  - contrib/rddsql/sddsqlt3/sddsq3.hbc
  + contrib/rddsql/sddsqlt3/sddsqlt3.hbc
  * contrib/rddsql/sddsqlt3/tests/hbmk.hbm
    * Renamed sddsq3 to sddsqlt3.
      (pass 2 of 2)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddsqlt3/Makefile
    trunk/harbour/contrib/rddsql/sddsqlt3/tests/hbmk.hbm

Added Paths:
-----------
    trunk/harbour/contrib/rddsql/sddsqlt3/sddsqlt3.c
    trunk/harbour/contrib/rddsql/sddsqlt3/sddsqlt3.hbc

Removed Paths:
-------------
    trunk/harbour/contrib/rddsql/sddsqlt3/sddsq3.c
    trunk/harbour/contrib/rddsql/sddsqlt3/sddsq3.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcobra.ubuntu at gmail.com  Sun Feb 28 14:33:25 2010
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Sun Feb 28 14:33:33 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <1267245168147-4643588.post@n2.nabble.com>
References: <1267111708012-4633080.post@n2.nabble.com>
	<1267115100945-4633490.post@n2.nabble.com>
	<fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
	<1267201141464-4640114.post@n2.nabble.com>
	<18d502871002260855u4306d3b9k5580ad0faf6b65d5@mail.gmail.com>
	<1267215357706-4641568.post@n2.nabble.com>
	<fd76479f1002261408u27f309e3v1da75a34e36d3484@mail.gmail.com>
	<1267232918163-4642979.post@n2.nabble.com>
	<fd76479f1002261919n165b67f9w2777925e27615663@mail.gmail.com>
	<1267245168147-4643588.post@n2.nabble.com>
Message-ID: <fd76479f1002281133p75a3d4f0l686812d5c8464ff3@mail.gmail.com>

Pritbal with Harbour 2.1.0dev (Rev. 14023)
all is working i get error on closing app:

Unrecoverable error 6005: Exception SIGSEGV at address 0x61
Called from HBQTUI:DESTROY(0) in ../../../THbQtUI.prg
Called from IDEHARBOURHELP:DESTROY(248) in ideharbourhelp.prg
Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
Called from XBPDIALOG:DESTROY(0) in ../../../xbpdialog.prg
Called from HBIDE:CREATE(502) in hbide.prg
Called from MAIN(110) in hbide.prg
danilo@ubuntu:~/src/harbour/contrib/hbide$ harbour -build
Harbour 2.1.0dev (Rev. 14023)
Copyright (c) 1999-2010, http://www.harbour-project.org/


Many thanks and best regards

Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100228/4c716030/attachment.html
From bedipritpal at hotmail.com  Sun Feb 28 14:47:58 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 14:48:04 2010
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13985] trunk/harbour
In-Reply-To: <fd76479f1002281133p75a3d4f0l686812d5c8464ff3@mail.gmail.com>
References: <1267115100945-4633490.post@n2.nabble.com>
	<fd76479f1002260104u40dcec06if9e107e55f16d85b@mail.gmail.com>
	<1267201141464-4640114.post@n2.nabble.com>
	<18d502871002260855u4306d3b9k5580ad0faf6b65d5@mail.gmail.com>
	<1267215357706-4641568.post@n2.nabble.com>
	<fd76479f1002261408u27f309e3v1da75a34e36d3484@mail.gmail.com>
	<1267232918163-4642979.post@n2.nabble.com>
	<fd76479f1002261919n165b67f9w2777925e27615663@mail.gmail.com>
	<1267245168147-4643588.post@n2.nabble.com>
	<fd76479f1002281133p75a3d4f0l686812d5c8464ff3@mail.gmail.com>
Message-ID: <1267386478059-4650624.post@n2.nabble.com>



marco bra wrote:
> 
> Unrecoverable error 6005: Exception SIGSEGV at address 0x61
> Called from HBQTUI:DESTROY(0) in ../../../THbQtUI.prg
> Called from IDEHARBOURHELP:DESTROY(248) in ideharbourhelp.prg
> Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
> Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
> Called from AEVAL(0)
> Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
> Called from XBPDIALOG:DESTROY(0) in ../../../xbpdialog.prg
> Called from HBIDE:CREATE(502) in hbide.prg
> Called from MAIN(110) in hbide.prg
> danilo@ubuntu:~/src/harbour/contrib/hbide$ harbour -build
> Harbour 2.1.0dev (Rev. 14023)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> 

Yes, I know, will look into this issue later once I make hbIDE 
to be declared fit for Harbour standards. Because this is at the 
"exit" point, we can live with it a little longer.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13985-trunk-harbour-tp4629809p4650624.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jarabal at gmail.com  Sun Feb 28 14:58:27 2010
From: jarabal at gmail.com (Xavi)
Date: Sun Feb 28 14:59:36 2010
Subject: [Harbour] Building Harbour on Windows.
In-Reply-To: <18d502871002281009t716ed0dek3d0036c50d60c0dd@mail.gmail.com>
References: <4B87FC0C.1090207@gmail.com>	<18d502871002260906q14292aa5j961510bc54d2f62d@mail.gmail.com>	<4B8A76FA.5020003@gmail.com>	<18d502871002280701r6b184b57t6810e0105e23428c@mail.gmail.com>	<4B8A91B7.6050104@gmail.com>	<18d502871002280818w6bfa68ebt2a5ad6cfb548f423@mail.gmail.com>	<4B8AA1A2.4080206@gmail.com>	<B831C378-6E67-44D4-BA45-D94C15312DD5@syenar.hu>	<4B8AAD61.5040200@gmail.com>
	<18d502871002281009t716ed0dek3d0036c50d60c0dd@mail.gmail.com>
Message-ID: <4B8ACAE3.50502@gmail.com>

Viktor,

I think it's not that hard, I may be wrong but to respond quickly.

I can call dynamically to GetAdaptersAddresses and in a nice Win7 is OK.
But you can compile in your Win7 with MSVC++ 6.0 (it not say that _WIN32_WINNT is 0x0500 for compiler Harbour) and have 
compile-time errors. I can force _WIN32_WINNT to 0x0501 and assume that if exist GetAdaptersAddresses in system dlls the 
functionality is Ok but really you don't have IP_ADAPTER_ADDRESSES estruct in your headers and I can not give include the 
structure in my code.

IMHO this applies to all C compilers and documented by Microsoft and MinGW. Also avoid dynamically call basic functionality of 
ws2_32.dll like getaddrinfo, freeaddrinfo, getnameinfo, inet_ntop, inet_pton, knock if inet_ntoa is safe, all IPv6, etc ...

Ok I can detect that is MSVC++ 6.0 and protected by something _MSC_VER == 1200, also assume that is not supported but requires 
knowledge about all versions of compilers and may have other SDK installed that is not the last and obviously all called 
dynamically.

Now __WATCOMC__ users must specify NTDDI_VERSION and TCPV40HDRS if not the functionality is canceled.

> Besides it's quite difficult to discuss this without knowing what do
> you exactly want to make here. Maybe you could post some code
> (patch) to see where you're standing at ATM.

Unfortunately I lose more time with all these issues that programming something concrete but I would assume and hope that this 
is good for everyone. :)

Best regards,
-- 
Xavi

El 28/02/2010 19:09, Viktor Szak?ts escribi?:
>>> NTDDI_VERSION = maximum OS version supported by SDK/Windows-headers
>>> _WIN32_WINNT = OS version we want to target
>>
>> Okay, but if you remember my thread starting post .-
>> "
>> IMHO the best solution is to define the version of Windows that supports the
>> C compiler before compilation.
>> For example, if your C compiler supports Vista: set
>> HB_USER_CFLAGS=-D_WIN32_WINNT 0x0600
>>
>> http://msdn.microsoft.com/en-us/library/aa383745%28VS.85%29.aspx
>>
>> Some structures are defined only in the headers from one version of Windows
>> other may change.
>> IPv6 is supported from Windows Server 2003, Windows XP.
>> Even calling functions dynamically is necessary data with which they work.
>> It can make the binary work with earlier versions but the headers and the
>> code should be protected by .-
>> #if _WIN32_WINNT>= 0x0501
>>     ...
>> #endif
>> If not, we can have compile-time errors.
>> Please, what do you think about this, comments?
>> "
>> And we *force* _WIN32_WINNT or NTDDI_VERSION in hard code.
>> If someone compiles Harbour with earlier versions of C compiler headers may
>> have compile-time errors.
>>
>> IMHO we need a solution in to make-system and I'm not an expert on this.
>
> Sorry but I don't understand this thread anymore.
>
> IMO the solution is simple: If you need to use Windows API
> features which are not supported in all Windows versions:
>
> 1) make it using dynamic calls, so binary won't break if feature not available
> 2) detect OS header version (only this may need compiler specific solutions)
> 3) force target OS version by defining _WIN32_WINNT before windows.h,
>     if target OS version is known to be supported by headers
>
> If only constants are missing you can replace 2) + 3) with
> simple manual definition of those missing constants.
>
> I don't see any need for a make-level solution. All macros can
> be defined from source. Why is it better to define them on
> make level?
>
> Besides it's quite difficult to discuss this without knowing what do
> you exactly want to make here. Maybe you could post some code
> (patch) to see where you're standing at ATM.
>
> Brgds,
> Viktor
From m.lacecilia at gmail.com  Sun Feb 28 15:12:24 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Sun Feb 28 15:12:35 2010
Subject: R: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com>
References: <27714403.post@talk.nabble.com><305BABC2-3FA7-4E91-9080-41D800E70413@syenar.hu><6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com><18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com><1267113423796-4633298.post@n2.nabble.com><18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com><1267114910259-4633464.post@n2.nabble.com><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com><1267369727144-4649181.post@n2.nabble.com>
	<18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAJ/TjIdoT0BFseE/wvnZ04QBAAAAAA==@gmail.com>

Ok. Thus the problems are known.
I use obviously non-ASCII chars for boxes and accented italic chars and i
can confirm many artifacts in general display of colors and restore of save
screen areas.
I can't, however, report about a so slow performance, appearing little
slower of GTWVT solution but not dramatically.
Anyway, having a GTQTC working could be a good bridge to port gradually a
console application to hbqt, as Pritpal could allow the cohexistence of the
two libs.
I'm interested about the thought of Viktor and Pritpal about this.
Best regards
Maurizio



  _____  

Da: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Per conto di Viktor Szak?ts
Inviato: domenica 28 febbraio 2010 16.27
A: Harbour Project Main Developer List.
Oggetto: Re: R: [Harbour] Re: gtwvt compatibility issue



Maurizio la Cecilia wrote:
>
> a build with GTQTC showed me that the colors
> don't are coded in Clipper compatibility mode (as Viktor recent changed on
> WVT) and, mainly, many codepage and save/restscreen() problems.
> The box graphics and localized character, and the colors of saved/restored
> areas are buggy.
> Best regards.
>


I did not worked on GTQTC for a long time.

Box characters were working perfectly, I will have to look
what changes were made in the GT subsystem which I
did not follow. Save/restore looks like broken now.
Probably I have to use floating precision to calculate
area position.




Nothing changed AFAIK. Accented / non-ASCII chars 
never worked alright and there were several other screen 
artifact, performance was very slow and there were 
several basic problems with it (f.e. screen marking feature 
mixed up with mouse/key input). I reported some of 
these long ago.


Brgds,
Viktor



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100228/289e8a8b/attachment-0001.html
From harbour.01 at syenar.hu  Sun Feb 28 15:16:17 2010
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 15:16:25 2010
Subject: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAJ/TjIdoT0BFseE/wvnZ04QBAAAAAA==@gmail.com>
References: <27714403.post@talk.nabble.com>
	<6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com>
	<18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
	<1267114910259-4633464.post@n2.nabble.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
	<1267369727144-4649181.post@n2.nabble.com>
	<18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAJ/TjIdoT0BFseE/wvnZ04QBAAAAAA==@gmail.com>
Message-ID: <18d502871002281216l605cf8c9iaae7bc2cce4421e6@mail.gmail.com>

> Anyway, having a GTQTC working could be a good bridge to port gradually a
> console application to hbqt, as Pritpal could allow the cohexistence of the
> two libs.
> I'm interested about the thought of Viktor and Pritpal about this.

IMO we should first try if it's possible to create mixed
GTWVT/GTXWC + HBQT applications. If this is possible,
there is just no need to put efforts into GTQTC.

Since both HBQT and GT* are using simple GUI windows,
I can't see why there couldn't be both of them present in
the same app.

Brgds,
Viktor
From itamarlins at gmail.com  Sun Feb 28 15:43:15 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Feb 28 15:43:40 2010
Subject: [Harbour] Win_prn question.
Message-ID: <hmekh2$11u$1@dough.gmane.org>

Hi!
What is probability of having a simple preview of prints.
Is very important for us users.

Best regards,
Itamar M. Lins Jr.

From itamarlins at gmail.com  Sun Feb 28 15:46:31 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Feb 28 15:50:19 2010
Subject: [Harbour] Re: Win_prn question.
In-Reply-To: <hmekh2$11u$1@dough.gmane.org>
References: <hmekh2$11u$1@dough.gmane.org>
Message-ID: <hmekn6$11u$2@dough.gmane.org>

Em 28/2/2010 17:43, Itamar Lins escreveu:
> Hi!
> What is probability of having a simple preview of prints.
> Is very important for us users.
>
> Best regards,
> Itamar M. Lins Jr.
>
What is probability of having a simple preview of prints ?



From bedipritpal at hotmail.com  Sun Feb 28 16:14:51 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 16:14:59 2010
Subject: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <18d502871002281216l605cf8c9iaae7bc2cce4421e6@mail.gmail.com>
References: <6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com>
	<18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com>
	<1267113423796-4633298.post@n2.nabble.com>
	<18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com>
	<1267114910259-4633464.post@n2.nabble.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com>
	<1267369727144-4649181.post@n2.nabble.com>
	<18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAJ/TjIdoT0BFseE/wvnZ04QBAAAAAA==@gmail.com>
	<18d502871002281216l605cf8c9iaae7bc2cce4421e6@mail.gmail.com>
Message-ID: <1267391691781-4651003.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
>> Anyway, having a GTQTC working could be a good bridge to port gradually a
>> console application to hbqt, as Pritpal could allow the cohexistence of
>> the
>> two libs.
>> I'm interested about the thought of Viktor and Pritpal about this.
> 
> IMO we should first try if it's possible to create mixed
> GTWVT/GTXWC + HBQT applications. If this is possible,
> there is just no need to put efforts into GTQTC.
> 
> Since both HBQT and GT* are using simple GUI windows,
> I can't see why there couldn't be both of them present in
> the same app.
> 

GTWVT + HBQT ( alone or with hbXBP ) can coexits. No have 
already showed it in demoqtc.prg in earlier days. Probably
I will commint one more wvtqt.prg soon.

I donot know about GTXWC, however.

GTWIN is absolutely out of question.

GTWVT/GTWVG/(GTXWC ?) can have embedded QT GUI dialogs.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/gtwvt-compatibility-issue-tp4631971p4651003.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Feb 28 16:18:28 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 16:18:36 2010
Subject: [Harbour] Re: Win_prn question.
In-Reply-To: <hmekn6$11u$2@dough.gmane.org>
References: <hmekh2$11u$1@dough.gmane.org> <hmekn6$11u$2@dough.gmane.org>
Message-ID: <1267391908263-4651017.post@n2.nabble.com>



Itamar Lins-2 wrote:
> 
> What is probability of having a simple preview of prints ?
> 

Let me finish with hbIDE, I will isolate the code of 
"Print Preview" from my Vouch32.lib and will commit to SVN.
With Clipper appln you can use it right now, though.
Google "vouch32" and you will find the link.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Win-prn-question-tp4650878p4651017.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From itamarlins at gmail.com  Sun Feb 28 16:20:07 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Feb 28 16:20:33 2010
Subject: [Harbour] Re: Win_prn question.
In-Reply-To: <1267391908263-4651017.post@n2.nabble.com>
References: <hmekh2$11u$1@dough.gmane.org> <hmekn6$11u$2@dough.gmane.org>
	<1267391908263-4651017.post@n2.nabble.com>
Message-ID: <hmemm5$78h$1@dough.gmane.org>

Em 28/2/2010 18:18, Pritpal Bedi escreveu:
>
>
> Itamar Lins-2 wrote:
>>
>> What is probability of having a simple preview of prints ?
>>
>
> Let me finish with hbIDE, I will isolate the code of
> "Print Preview" from my Vouch32.lib and will commit to SVN.
> With Clipper appln you can use it right now, though.
> Google "vouch32" and you will find the link.
>
>
> -----
>                   enjoy hbIDEing...
>                      Pritpal Bedi
> _a_student_of_software_analysis_&_design_
Hi!
Is very good news.

Best regards,
Itamar M. Lins Jr.

From bedipritpal at hotmail.com  Sun Feb 28 16:47:35 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 16:47:42 2010
Subject: [Harbour] hbMK2 : -3rd=SomeString : Broken
Message-ID: <1267393655803-4651138.post@n2.nabble.com>


Hello Viktor

Here is speedtst.hbp
===============

-3rd=[ HBIDEVERSION ]
-3rd=1.0
-3rd=[ PROPERTIES ]
-3rd=Type              = Executable
-3rd=Title             = Speed Test
-3rd=Location          = C:/harbour/contrib/hbide/projects
-3rd=WorkingFolder     = C:/harbour/contrib/hbide/projects
-3rd=DestinationFolder = C:/harbour/contrib/hbide/projects
-3rd=Output            = speedtst
-3rd=LaunchParams      = 
-3rd=LaunchProgram     = 
-3rd=BackupFolder      = 
 
-3rd=[ FLAGS ]
 
-3rd=[ SOURCES ]
C:/harbour/tests/speedtst.prg
 

hbMK2 reports :

C:\harbour\contrib\hbide\projects>hbmk2 speedtst.hbp
hbmk2: Processing environment options: -compiler=mingw
hbmk2: Processing configuration: c:\harbour_dev\harbour\mingw\bin\hbmk.cfg
Harbour 2.1.0dev (Rev. 13960)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Cannot open HBIDEVERSION.prg, assumed external

No code generated.
hbmk2: Error: Running Harbour compiler (embedded). 1
(c:\harbour_dev\harbour\mingw\bin\harbour.exe) -n2 HBIDEVERSION.prg ].prg
PROPERTIES.prg ].prg =.prg Executable.
 =.prg C:/harbour/contrib/hbide/projects.prg =.prg
C:/harbour/contrib/hbide/projects.prg =.prg C:/harbour/contri
peedtst.prg =.prg =.prg =.prg FLAGS.prg ].prg SOURCES.prg ].prg
C:/harbour/tests/speedtst.prg METADATA.prg ].prg
OCALS~1\Temp\ -iC:/harbour_dev/harbour/mingw/include



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbMK2-3rd-SomeString-Broken-tp4651138p4651138.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Feb 28 16:50:07 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 16:50:14 2010
Subject: [Harbour] Re: hbMK2 : -3rd=SomeString : Broken
In-Reply-To: <1267393655803-4651138.post@n2.nabble.com>
References: <1267393655803-4651138.post@n2.nabble.com>
Message-ID: <1267393807802-4651151.post@n2.nabble.com>


Hi

And here is the screen portion of hbMK2 -help:

  -ldflag=<f>        pass flag to linker (executable)
  -aflag=<f>         pass flag to linker (static library)
  -dflag=<f>         pass flag to linker (dynamic library)
  -runflag=<f>       pass flag to output executable when -run option is used
  -3rd=<f>           options/flags reserved for 3rd party tools, always
ignored
                     by hbmk2 itself
  -jobs=<n>          start n compilation threads (multiprocess platforms
only)

To be sure that I am using the correct version.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbMK2-3rd-SomeString-Broken-tp4651138p4651151.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Feb 28 17:00:45 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 17:00:57 2010
Subject: [Harbour] hbMK2 : -3rd=SomeString : Broken
In-Reply-To: <1267393655803-4651138.post@n2.nabble.com>
References: <1267393655803-4651138.post@n2.nabble.com>
Message-ID: <38267BD8-B9B3-4846-B01E-466C0DC5EFBC@syenar.hu>

Hi,

> Here is speedtst.hbp
> ===============
> 
> -3rd=[ HBIDEVERSION ]
> -3rd=1.0
> -3rd=[ PROPERTIES ]
> -3rd=Type              = Executable
> -3rd=Title             = Speed Test
> -3rd=Location          = C:/harbour/contrib/hbide/projects
> -3rd=WorkingFolder     = C:/harbour/contrib/hbide/projects
> -3rd=DestinationFolder = C:/harbour/contrib/hbide/projects
> -3rd=Output            = speedtst
> -3rd=LaunchParams      = 
> -3rd=LaunchProgram     = 
> -3rd=BackupFolder      = 
> 
> -3rd=[ FLAGS ]
> 
> -3rd=[ SOURCES ]
> C:/harbour/tests/speedtst.prg

Just avoid spaces in option names.
(or if you absolutely want to keep them, 
put the whole option between double quotes). Please 
remember hbmk2 is not a line based parser.

---
-3rd=[HBIDEVERSION]
-3rd=1.0
-3rd=[PROPERTIES]
-3rd=Type              = Executable
-3rd=Title             = Speed Test
-3rd=Location          = C:/harbour/contrib/hbide/projects
-3rd=WorkingFolder     = C:/harbour/contrib/hbide/projects
-3rd=DestinationFolder = C:/harbour/contrib/hbide/projects
-3rd=Output            = speedtst
-3rd=LaunchParams      = 
-3rd=LaunchProgram     = 
-3rd=BackupFolder      = 

-3rd=[FLAGS]

-3rd=[SOURCES]
C:/harbour/tests/speedtst.prg
---

This layout has a few problems though, so I'd suggest this one
(also in sync with my past notes for -3rd feature):
---
-3rd=hbide_Version=1.0

-3rd=hbide_Type=Executable
"-3rd=hbide_Title=Speed Test"
-3rd=hbide_Location=C:/harbour/contrib/hbide/projects
-3rd=hbide_WorkingFolder=C:/harbour/contrib/hbide/projects
-3rd=hbide_DestinationFolder=C:/harbour/contrib/hbide/projects
-3rd=hbide_Output=speedtst
-3rd=hbide_LaunchParams= 
-3rd=hbide_LaunchProgram= 
-3rd=hbide_BackupFolder= 

-3rd=hbide_flags1=
-3rd=hbide_flags2=
-3rd=hbide_flagsN=

speedtst.prg
---

The parser I wrote for hbide, will recognize the 
source parameters, so there is not need to mark them 
with '[SOURCES]'.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Feb 28 17:01:09 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 17:01:13 2010
Subject: [Harbour] Re: hbMK2 : -3rd=SomeString : Broken
In-Reply-To: <1267393807802-4651151.post@n2.nabble.com>
References: <1267393655803-4651138.post@n2.nabble.com>
	<1267393807802-4651151.post@n2.nabble.com>
Message-ID: <431533C0-FEC7-4576-90E2-DFB0D166B25E@syenar.hu>

> And here is the screen portion of hbMK2 -help:
> 
>  -ldflag=<f>        pass flag to linker (executable)
>  -aflag=<f>         pass flag to linker (static library)
>  -dflag=<f>         pass flag to linker (dynamic library)
>  -runflag=<f>       pass flag to output executable when -run option is used
>  -3rd=<f>           options/flags reserved for 3rd party tools, always
> ignored
>                     by hbmk2 itself
>  -jobs=<n>          start n compilation threads (multiprocess platforms
> only)
> 
> To be sure that I am using the correct version.

Yes.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Feb 28 17:02:33 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 17:02:44 2010
Subject: [Harbour] hbMK2 : -3rd=SomeString : Broken
In-Reply-To: <1267393655803-4651138.post@n2.nabble.com>
References: <1267393655803-4651138.post@n2.nabble.com>
Message-ID: <AE6DEA1F-C7D7-4A2C-B647-57AB98CDC54B@syenar.hu>

Hi,

[ resent after correction, pls ignore prev version ]

> Here is speedtst.hbp
> ===============
> 
> -3rd=[ HBIDEVERSION ]
> -3rd=1.0
> -3rd=[ PROPERTIES ]
> -3rd=Type              = Executable
> -3rd=Title             = Speed Test
> -3rd=Location          = C:/harbour/contrib/hbide/projects
> -3rd=WorkingFolder     = C:/harbour/contrib/hbide/projects
> -3rd=DestinationFolder = C:/harbour/contrib/hbide/projects
> -3rd=Output            = speedtst
> -3rd=LaunchParams      = 
> -3rd=LaunchProgram     = 
> -3rd=BackupFolder      = 
> 
> -3rd=[ FLAGS ]
> 
> -3rd=[ SOURCES ]
> C:/harbour/tests/speedtst.prg

Just avoid spaces in option names.
(or if you absolutely want to keep them, 
put the whole option between double quotes). Please 
remember hbmk2 is not a line based parser.

---
-3rd=[HBIDEVERSION]
-3rd=1.0
-3rd=[PROPERTIES]
-3rd=Type=Executable
"-3rd=Title=Speed Test"
-3rd=Location=C:/harbour/contrib/hbide/projects
-3rd=WorkingFolder=C:/harbour/contrib/hbide/projects
-3rd=DestinationFolder=C:/harbour/contrib/hbide/projects
-3rd=Output=speedtst
-3rd=LaunchParams= 
-3rd=LaunchProgram= 
-3rd=BackupFolder= 

-3rd=[FLAGS]

-3rd=[SOURCES]
C:/harbour/tests/speedtst.prg
---

This layout has a few problems though, so I'd suggest this one
(also in sync with my past notes for -3rd feature):
---
-3rd=hbide_Version=1.0

-3rd=hbide_Type=Executable
"-3rd=hbide_Title=Speed Test"
-3rd=hbide_Location=C:/harbour/contrib/hbide/projects
-3rd=hbide_WorkingFolder=C:/harbour/contrib/hbide/projects
-3rd=hbide_DestinationFolder=C:/harbour/contrib/hbide/projects
-3rd=hbide_Output=speedtst
-3rd=hbide_LaunchParams= 
-3rd=hbide_LaunchProgram= 
-3rd=hbide_BackupFolder= 

-3rd=hbide_flags1=
-3rd=hbide_flags2=
-3rd=hbide_flagsN=

speedtst.prg
---

The parser I wrote for hbide, will recognize the 
source parameters, so there is not need to mark them 
with '[SOURCES]'.

Brgds,
Viktor

From m.lacecilia at gmail.com  Sun Feb 28 17:27:52 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Sun Feb 28 17:28:05 2010
Subject: R: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <18d502871002281216l605cf8c9iaae7bc2cce4421e6@mail.gmail.com>
References: <27714403.post@talk.nabble.com><6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com><18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com><1267113423796-4633298.post@n2.nabble.com><18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com><1267114910259-4633464.post@n2.nabble.com><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com><1267369727144-4649181.post@n2.nabble.com><18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAJ/TjIdoT0BFseE/wvnZ04QBAAAAAA==@gmail.com>
	<18d502871002281216l605cf8c9iaae7bc2cce4421e6@mail.gmail.com>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAC2ablpwrFpBsHj8O/JY0lwBAAAAAA==@gmail.com>

Ok. Not necessarely GTQTC, but a chance to start with a working console
based application and gradually mix pure GUI interface as HBQT.
I don't was sure if this could be possible.
I'll try to do.
Best regards.
Maurizio la Cecilia               
 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di 
> Viktor Szak?ts
> Inviato: domenica 28 febbraio 2010 21.16
> A: Harbour Project Main Developer List.
> Oggetto: Re: R: [Harbour] Re: gtwvt compatibility issue
> 
> > Anyway, having a GTQTC working could be a good bridge to 
> port gradually a
> > console application to hbqt, as Pritpal could allow the 
> cohexistence of the
> > two libs.
> > I'm interested about the thought of Viktor and Pritpal about this.
> 
> IMO we should first try if it's possible to create mixed
> GTWVT/GTXWC + HBQT applications. If this is possible,
> there is just no need to put efforts into GTQTC.
> 
> Since both HBQT and GT* are using simple GUI windows,
> I can't see why there couldn't be both of them present in
> the same app.
> 
> Brgds,
> Viktor
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From m.lacecilia at gmail.com  Sun Feb 28 17:30:58 2010
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Sun Feb 28 17:31:06 2010
Subject: R: R: [Harbour] Re: gtwvt compatibility issue
In-Reply-To: <1267391691781-4651003.post@n2.nabble.com>
References: <6943770e1002250546y24df93e5m112a62bd95f0ae83@mail.gmail.com><18d502871002250616m61d62878xddbd4f95bb860c8d@mail.gmail.com><1267113423796-4633298.post@n2.nabble.com><18d502871002250812r699db655yafe29ddae18fd322@mail.gmail.com><1267114910259-4633464.post@n2.nabble.com><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAGvZxK/i/9lHvd1kRLh/0CABAAAAAA==@gmail.com><1267369727144-4649181.post@n2.nabble.com><18d502871002280727t1496fbb2tee8749d045e95cfa@mail.gmail.com><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAJ/TjIdoT0BFseE/wvnZ04QBAAAAAA==@gmail.com><18d502871002281216l605cf8c9iaae7bc2cce4421e6@mail.gmail.com>
	<1267391691781-4651003.post@n2.nabble.com>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAApmLoJYJdFg3IGlx+l3eQBAAAAAA==@gmail.com>

Good news. Thanks a lot.
I'm waiting for wvtqt.prg sample, as i'm using GTWVT at this time.
Best regards.
Maurizio la Cecilia                
 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di Pritpal Bedi
> Inviato: domenica 28 febbraio 2010 22.15
> A: harbour@harbour-project.org
> Oggetto: Re: R: [Harbour] Re: gtwvt compatibility issue
> 
> 
> 
> Viktor Szak?ts wrote:
> > 
> >> Anyway, having a GTQTC working could be a good bridge to 
> port gradually a
> >> console application to hbqt, as Pritpal could allow the 
> cohexistence of
> >> the
> >> two libs.
> >> I'm interested about the thought of Viktor and Pritpal about this.
> > 
> > IMO we should first try if it's possible to create mixed
> > GTWVT/GTXWC + HBQT applications. If this is possible,
> > there is just no need to put efforts into GTQTC.
> > 
> > Since both HBQT and GT* are using simple GUI windows,
> > I can't see why there couldn't be both of them present in
> > the same app.
> > 
> 
> GTWVT + HBQT ( alone or with hbXBP ) can coexits. No have 
> already showed it in demoqtc.prg in earlier days. Probably
> I will commint one more wvtqt.prg soon.
> 
> I donot know about GTXWC, however.
> 
> GTWIN is absolutely out of question.
> 
> GTWVT/GTWVG/(GTXWC ?) can have embedded QT GUI dialogs.
> 
> 
> -----
>                  enjoy hbIDEing...
>                     Pritpal Bedi 
> _a_student_of_software_analysis_&_design_
> -- 
> View this message in context: 
> http://n2.nabble.com/gtwvt-compatibility-issue-tp4631971p4651003.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From bedipritpal at hotmail.com  Sun Feb 28 17:44:14 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 17:44:21 2010
Subject: [Harbour] Re: hbMK2 : -3rd=SomeString : Broken
In-Reply-To: <AE6DEA1F-C7D7-4A2C-B647-57AB98CDC54B@syenar.hu>
References: <1267393655803-4651138.post@n2.nabble.com>
	<AE6DEA1F-C7D7-4A2C-B647-57AB98CDC54B@syenar.hu>
Message-ID: <1267397054837-4651404.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Just avoid spaces in option names.
> (or if you absolutely want to keep them, 
> put the whole option between double quotes). Please 
> remember hbmk2 is not a line based parser.
> 
> This layout has a few problems though, so I'd suggest this one
> (also in sync with my past notes for -3rd feature):
> ---
> -3rd=hbide_Version=1.0
> 
> -3rd=hbide_Type=Executable
> "-3rd=hbide_Title=Speed Test"
> -3rd=hbide_Location=C:/harbour/contrib/hbide/projects
> -3rd=hbide_WorkingFolder=C:/harbour/contrib/hbide/projects
> -3rd=hbide_DestinationFolder=C:/harbour/contrib/hbide/projects
> -3rd=hbide_Output=speedtst
> -3rd=hbide_LaunchParams= 
> -3rd=hbide_LaunchProgram= 
> -3rd=hbide_BackupFolder= 
> 
> -3rd=hbide_flags1=
> -3rd=hbide_flags2=
> -3rd=hbide_flagsN=
> 
> speedtst.prg
> ---
> 
> The parser I wrote for hbide, will recognize the 
> source parameters, so there is not need to mark them 
> with '[SOURCES]'.
> 

Ok, I understand now.
But what if anything after -3rd= is ignored. I mean the lines containing
the token at begining with -3rd are ignored. 

OR you just introduce 
-hbide= token which is reserved for hbIDE only and those lines are just
stripped when hbMK2 parses .hbp.

Above format is OK, but I need some more freedom of spaces without quotes.

hbIDE needs [SOURCES] demarcation to know where user additions and 
removals are written back. I do not want to use hbide parser you sent
except first time when new project is initiated. Now onwards, there will 
be only ONE project file, .hbp.

First-time when project is initiated, hbIDE will ask for .hbp to load.
It will be parsed with your parser, will fetch the user slots if he changes,
and will write it back with above information. Then afterwards parser
will never be called.

This approach will do two things:

1. All tokens will be on a different lines one each
2. All sources will follow next

What we loose, the tokens in between sources. And this will be the 
only noticeable difference, though I do not see a problem here, but you 
are the better judge of this situation.

-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbMK2-3rd-SomeString-Broken-tp4651138p4651404.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Feb 28 18:04:28 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 18:04:36 2010
Subject: [Harbour] hbQT - Static Linking - What extra is needed ?
Message-ID: <1267398268078-4651480.post@n2.nabble.com>


Hi All

I am trying to build hbIDE statically.

1. Harbour with HB_QT_STATIC=yes compiles fine.
2. Corresponding libs are present Harbour's lib folder.
3. Changed hbqt/hbqt.hbc as 

#
# $Id: hbqt.hbc 13519 2010-01-09 00:40:40Z vszakats $
#

incpaths=.

{allwin}libpaths=${HB_WITH_QT}\..\lib

libs=hbqt
libs=hbqtcores hbqtguis hbqtnetworks

{win}libs=version shlwapi
{allwin}libs=QtCore4 QtGui4 QtNetwork4 QtUiTools   ///////////////////
{allwin}libs=psapi
{linux}libs=QtCore QtGui QtNetwork QtUiTools
{darwin}libs=/Library/Frameworks/QtCore.framework/QtCore
{darwin}libs=/Library/Frameworks/QtGui.framework/QtGui
{darwin}libs=/Library/Frameworks/QtNetwork.framework/QtNetwork
{darwin}libs=QtUiTools
{allgcc}libs=supc++

{win|os2}hbcppmm=yes

gui=yes
gt=gtnul

4. Rebuilt hbIDE and received this dump:

Generating C source output to '.hbmk\win\mingw\ideharbourhelp.c'... Done.
hbmk2: Compiling resources...
hbmk2: Compiling...
hbmk2: Compiling C++...
hbmk2: Linking... hbide.exe
Info: resolving QByteArray::shared_null        by linking to
__imp___ZN10QByteArray11shared_nullE (auto-import)
Info: resolving QListData::shared_null       by linking to
__imp___ZN9QListData11shared_nullE (auto-import)
Info: resolving QString::shared_null       by linking to
__imp___ZN7QString11shared_nullE (auto-import)
Info: resolving QCoreApplication::self       by linking to
__imp___ZN16QCoreApplication4selfE (auto-import)
Info: resolving QCoreApplication::staticMetaObject        by linking to
__imp___ZN16QCoreApplication16staticMetaObjectE (auto-import)
...
...
...
Info: resolving QMovie::staticMetaObject       by linking to
__imp___ZN6QMovie16staticMetaObjectE (auto-import)
Info: resolving QVectorData::shared_null        by linking to
__imp___ZN11QVectorData11shared_nullE (auto-import)
Info: resolving QFtp::staticMetaObject       by linking to
__imp___ZN4QFtp16staticMetaObjectE (auto-import)
Info: resolving QHttp::staticMetaObject       by linking to
__imp___ZN5QHttp16staticMetaObjectE (auto-import)
c:/harbour_dev/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe:
warning: auto-importing has been activated without --enabl
e-auto-import specified on the command line.
This should work unless it involves constant data structures referencing
symbols from auto-imported DLLs.
C:\harbour\contrib\hbide>notepad ..\hbqt\hbqt.hbc


What else I have to do ?



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-Static-Linking-What-extra-is-needed-tp4651480p4651480.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Feb 28 18:08:11 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 18:08:23 2010
Subject: [Harbour] Re: hbMK2 : -3rd=SomeString : Broken
In-Reply-To: <1267397054837-4651404.post@n2.nabble.com>
References: <1267393655803-4651138.post@n2.nabble.com>
	<AE6DEA1F-C7D7-4A2C-B647-57AB98CDC54B@syenar.hu>
	<1267397054837-4651404.post@n2.nabble.com>
Message-ID: <43D83788-1918-48B5-8682-40226169D1FA@syenar.hu>

>> speedtst.prg
>> ---
>> 
>> The parser I wrote for hbide, will recognize the 
>> source parameters, so there is not need to mark them 
>> with '[SOURCES]'.
>> 
> 
> Ok, I understand now.
> But what if anything after -3rd= is ignored. I mean the lines containing
> the token at begining with -3rd are ignored.

There are no 'lines'. The parser will consider the 
whole file one continuous list of options. You can 
have multiple -3rd (or any) options in one line.

Options are separated by whitespace. If you want to 
include whitespace in any option, you need to put 
the whole option between double-quotes.

> OR you just introduce 
> -hbide= token which is reserved for hbIDE only and those lines are just
> stripped when hbMK2 parses .hbp.

This token is already introduced and is called:
  -3rd=-hbide
or, in more generic sense this is the 3rd party option format:
  -3rd=<app-prefix><app-setting>=<value>

As <app-prefix> I suggest: '-hbide'
<app-setting> and the rest is up to you.

[ hbmk2 doesn't create _any_ restriction on what 
comes after '-3rd=' token, but it's yet good to 
follow some good rules to not collide with other 
3rd party apps using this feature. ]

> Above format is OK, but I need some more freedom of spaces without quotes.

I don't know why do you need it, but this 
is not possible with .hbp format, or any normal 
"script" format whatsoever.

> hbIDE needs [SOURCES] demarcation to know where user additions and 
> removals are written back. I do not want to use hbide parser you sent
> except first time when new project is initiated. Now onwards, there will 
> be only ONE project file, .hbp.

I don't understand your logic. You have a perfect 
parser, which converts the .hbp file to an array 
of options and input files. All your app has to 
do is add/remove/change items in these two arrays, 
and write them off to disk on save.

> First-time when project is initiated, hbIDE will ask for .hbp to load.
> It will be parsed with your parser, will fetch the user slots if he changes,
> and will write it back with above information. Then afterwards parser
> will never be called.

This is wrong.

> This approach will do two things:
> 
> 1. All tokens will be on a different lines one each
> 2. All sources will follow next

Yes, you can write it to disk this way.

> What we loose, the tokens in between sources. And this will be the 
> only noticeable difference, though I do not see a problem here, but you 
> are the better judge of this situation.

Sorry, but I feel that you want to bend this 
whole topic to the point it doesn't make sense 
anymore and it's at least 4 times more complicated 
then it should be.

The solution is in fact very simple:
---
IF hbpLoad( "test.hbp", @aOptions, @aFiles )
   // do all the visual stuff, add/delete options, 
   // add/delete files
   hbpSave( "test.hbp", aOptions, aFiles )
ENDIF

FUNCTION hbpSave( cFN, aOptions, aFiles )
   LOCAL cFile := ""
   FOR EACH tmp IN aOptions
      IF " " $ tmp
         cFile += Chr( 34 ) + tmp + Chr( 34 ) + hb_osNewLine()
      ELSE
         cFile += tmp + hb_osNewLine()
      ENDIF
   NEXT
   FOR EACH tmp IN aFiles
      IF " " $ tmp
         cFile += Chr( 34 ) + tmp + Chr( 34 ) + hb_osNewLine()
      ELSE
         cFile += tmp + hb_osNewLine()
      ENDIF
   NEXT
   RETURN hb_memoWrit( cFN, cFile )
---

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Feb 28 18:13:25 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 18:13:34 2010
Subject: [Harbour] hbQT - Static Linking - What extra is needed ?
In-Reply-To: <1267398268078-4651480.post@n2.nabble.com>
References: <1267398268078-4651480.post@n2.nabble.com>
Message-ID: <5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>

> 3. Changed hbqt/hbqt.hbc as 

This is wrong. Use hbqts.hbc.

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Feb 28 18:16:41 2010
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Feb 28 18:16:48 2010
Subject: [Harbour] Can HB_RUN fork?
In-Reply-To: <674e4ddd1002261751x63e78916iafe49661e5313236@mail.gmail.com>
References: <674e4ddd1002261751x63e78916iafe49661e5313236@mail.gmail.com>
Message-ID: <20100228231641.GA4010@linux-4bod.home.aster.pl>

On Fri, 26 Feb 2010, smu johnson wrote:

Hi,

> Can HB_RUN be made to fork a process?  For instance, if you tried to run the
> crappy Windows notepad.exe, it wouldn't wait for notepad.exe to terminate
> before you got your prompt back.
> On some text editors, this isn't a concern, like WRITE / WORDPAD.exe... but
> in notepad it is, and I am very curious if something can be done.

Try:

   hb_processRun( <cCommand>, [ <cStdIn> ], [ @<cStdOut> ], ;
                  [ @<cStdErr> ], [ <lDetach> ] ) -> <nResult>

or:

   hb_processOpen( <cCommand>, ;
                   [ @<hStdIn> ], [ @<hStdOut> ], [ @<hStdErr> ]
                   [ <lDetach> ], [ @<hPid> ] ) -> <hProcess>

   hb_processValue( <hProcess>, [ <lWait> ] ) -> <nResult>

   hb_processClose( <hProcess>, [ <lGentle> ] ) -> <lResult>

best regards,
Przemek
From bedipritpal at hotmail.com  Sun Feb 28 18:23:21 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 18:23:28 2010
Subject: [Harbour] Re: hbMK2 : -3rd=SomeString : Broken
In-Reply-To: <43D83788-1918-48B5-8682-40226169D1FA@syenar.hu>
References: <1267393655803-4651138.post@n2.nabble.com>
	<AE6DEA1F-C7D7-4A2C-B647-57AB98CDC54B@syenar.hu>
	<1267397054837-4651404.post@n2.nabble.com>
	<43D83788-1918-48B5-8682-40226169D1FA@syenar.hu>
Message-ID: <1267399401236-4651522.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> The solution is in fact very simple:
> ---
> IF hbpLoad( "test.hbp", @aOptions, @aFiles )
>    // do all the visual stuff, add/delete options, 
>    // add/delete files
>    hbpSave( "test.hbp", aOptions, aFiles )
> ENDIF
> 
> FUNCTION hbpSave( cFN, aOptions, aFiles )
>    LOCAL cFile := ""
>    FOR EACH tmp IN aOptions
>       IF " " $ tmp
>          cFile += Chr( 34 ) + tmp + Chr( 34 ) + hb_osNewLine()
>       ELSE
>          cFile += tmp + hb_osNewLine()
>       ENDIF
>    NEXT
>    FOR EACH tmp IN aFiles
>       IF " " $ tmp
>          cFile += Chr( 34 ) + tmp + Chr( 34 ) + hb_osNewLine()
>       ELSE
>          cFile += tmp + hb_osNewLine()
>       ENDIF
>    NEXT
>    RETURN hb_memoWrit( cFN, cFile )
> ---
> 

Exactly. 

My point was only that SOURCES will always FOLLOW flags,
no flags in between sources. In all above messages I was 
trying to explain this.

The above two functions are OK.

Only one point:

"-3rd=some text with spaces" => -3rd="some text with spaces"
seems more natural to me.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbMK2-3rd-SomeString-Broken-tp4651138p4651522.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Feb 28 18:25:13 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 18:25:20 2010
Subject: [Harbour] Re: hbQT - Static Linking - What extra is needed ?
In-Reply-To: <5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
References: <1267398268078-4651480.post@n2.nabble.com>
	<5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
Message-ID: <1267399513548-4651529.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
>> 3. Changed hbqt/hbqt.hbc as 
> 
> This is wrong. Use hbqts.hbc.
> 

Oh sorry, really dumb me.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-Static-Linking-What-extra-is-needed-tp4651480p4651529.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Feb 28 18:42:43 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 18:42:52 2010
Subject: [Harbour] Re: hbMK2 : -3rd=SomeString : Broken
In-Reply-To: <1267399401236-4651522.post@n2.nabble.com>
References: <1267393655803-4651138.post@n2.nabble.com>
	<AE6DEA1F-C7D7-4A2C-B647-57AB98CDC54B@syenar.hu>
	<1267397054837-4651404.post@n2.nabble.com>
	<43D83788-1918-48B5-8682-40226169D1FA@syenar.hu>
	<1267399401236-4651522.post@n2.nabble.com>
Message-ID: <1D5EB02C-7C68-4A94-812B-C289D6BBA8A7@syenar.hu>

>>   FOR EACH tmp IN aFiles
>>      IF " " $ tmp
>>         cFile += Chr( 34 ) + tmp + Chr( 34 ) + hb_osNewLine()
>>      ELSE
>>         cFile += tmp + hb_osNewLine()
>>      ENDIF
>>   NEXT
>>   RETURN hb_memoWrit( cFN, cFile )
>> ---
>> 
> 
> Exactly. 
> 
> My point was only that SOURCES will always FOLLOW flags,
> no flags in between sources. In all above messages I was 
> trying to explain this.

Yes, but for this there no need to keep any particular 
order. And this is very important feature, as user can 
still hand edit the .hbp file and it keeps working in 
hbide.

> The above two functions are OK.
> 
> Only one point:
> 
> "-3rd=some text with spaces" => -3rd="some text with spaces"
> seems more natural to me.

Pls keep in mind we're using command line format. 
Second version is not portable so we cannot use it.

Brgds,
Viktor

From bedipritpal at hotmail.com  Sun Feb 28 18:42:54 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 18:43:03 2010
Subject: [Harbour] Re: hbQT - Static Linking - What extra is needed ?
In-Reply-To: <5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
References: <1267398268078-4651480.post@n2.nabble.com>
	<5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
Message-ID: <1267400574053-4651572.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
>> 3. Changed hbqt/hbqt.hbc as 
> 
> This is wrong. Use hbqts.hbc.
> 

Changed and compiled, now the errors - a long-long list :


C:/harbour_dev/harbour/mingw/lib/libhbqts.a(hbqt_qpixmap.o):hbqt_qpixmap.cpp:(.text+0x5c0):
first defined here
C:/harbour_dev/harbour/mingw/lib/libhbqtguis.a(QColor.o):QColor.cpp:(.text+0x40):
multiple definition of `HB_FUN_QT_QCOLOR_YELLOWF'


Investigaing the lib folder, found 

02/28/2010  02:08 PM           469,456 libhbqt.a
02/28/2010  02:09 PM         1,186,158 libhbqtcore.a
02/28/2010  02:10 PM         1,177,558 libhbqtcores.a
02/28/2010  02:15 PM         4,219,650 libhbqtgui.a
02/28/2010  02:20 PM         4,186,292 libhbqtguis.a
02/28/2010  02:20 PM           104,782 libhbqtnetwork.a
02/28/2010  02:20 PM           103,846 libhbqtnetworks.a
02/28/2010  02:08 PM         3,104,552 libhbqts.a

Note the size differences of libhbqts.a and libhbqt.a.
Probably makefile for hbqts is different.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-Static-Linking-What-extra-is-needed-tp4651480p4651572.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From itamarlins at gmail.com  Sun Feb 28 18:47:44 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Feb 28 18:48:07 2010
Subject: [Harbour] SddODBC bug DBSTRUCT()
Message-ID: <hmevav$ae1$1@dough.gmane.org>

Hi!
/*
  * $Id: test1.prg 12948 2009-11-20 12:45:41Z vszakats $
  */

#include "hbrddsql.ch"

REQUEST SDDODBC, SQLMIX

PROC main()
    RDDSETDEFAULT( "SQLMIX" )
    SET( _SET_DATEFORMAT, "yyyy-mm-dd" )
    ? "Connect:", RDDINFO( RDDI_CONNECT, { "ODBC", "DBQ="  + 
hb_DirBase() + "\..\..\..\hbodbc\tests\test.mdb;Driver={Microsoft Access 
Driver (*.mdb)}" } )
    ? "Use:", DBUSEAREA( .T.,, "select * from test", "test" )
    ? "Alias:", ALIAS()
    ? "DB struct:", HB_VALTOEXP( DBSTRUCT() )
    INKEY( 0 )
    BROWSE()

    INDEX ON FIELD->SALARY TO salary // problem in this line
    DBGOTOP()
    BROWSE()
    DBCLOSEAREA()
RETURN

Return of function dbstruct()
DB struct: {{"F", "C", 20, 0}, {"L", "C", 20, 0}, {"S", "C", 30, 0}, 
{"C", "C",
30, 0}, {"S", "C", 2, 0}, {"Z", "C", 10, 0}, {"H", "@", 19, 0}, {"M", 
"L", 1, 0}
, {"A", "I", 10, 0}, {"S", "I", 10, 0}, {"N", "C", 70, 0}}


Best regards,
Itamar M. Lins Jr.

From bedipritpal at hotmail.com  Sun Feb 28 18:48:37 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 18:48:45 2010
Subject: [Harbour] Re: hbMK2 : -3rd=SomeString : Broken
In-Reply-To: <1D5EB02C-7C68-4A94-812B-C289D6BBA8A7@syenar.hu>
References: <1267393655803-4651138.post@n2.nabble.com>
	<AE6DEA1F-C7D7-4A2C-B647-57AB98CDC54B@syenar.hu>
	<1267397054837-4651404.post@n2.nabble.com>
	<43D83788-1918-48B5-8682-40226169D1FA@syenar.hu>
	<1267399401236-4651522.post@n2.nabble.com>
	<1D5EB02C-7C68-4A94-812B-C289D6BBA8A7@syenar.hu>
Message-ID: <1267400917966-4651583.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Yes, but for this there no need to keep any particular 
> order. And this is very important feature, as user can 
> still hand edit the .hbp file and it keeps working in 
> hbide.
> 
>> The above two functions are OK.
>> 
>> Only one point:
>> 
>> "-3rd=some text with spaces" => -3rd="some text with spaces"
>> seems more natural to me.
> 
> Pls keep in mind we're using command line format. 
> Second version is not portable so we cannot use it.
> 

Ok, got it. Thank you.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbMK2-3rd-SomeString-Broken-tp4651138p4651583.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at users.sourceforge.net  Sun Feb 28 18:52:08 2010
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Feb 28 18:52:15 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14026] trunk/harbour
Message-ID: <E1Nlsvg-000311-LP@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14026
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14026&view=rev
Author:   druzus
Date:     2010-02-28 23:52:05 +0000 (Sun, 28 Feb 2010)

Log Message:
-----------
2010-03-01 00:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbpcode.h
  * harbour/include/hbxvm.h
  * harbour/src/compiler/hbfix.c
  * harbour/src/compiler/hbpcode.c
  * harbour/src/compiler/hbdead.c
  * harbour/src/compiler/genc.c
  * harbour/src/compiler/hbopt.c
  * harbour/src/compiler/gencc.c
  * harbour/src/compiler/hblbl.c
  * harbour/src/compiler/hbstripl.c
  * harbour/src/vm/hvm.c
    + added new PCODE HB_P_PUSHAPARAMS and -gc3 function with corresponding
      action hb_xvmPushAParams

  * harbour/include/hbexprb.c
  * harbour/src/common/expropt1.c
  * harbour/src/vm/hvm.c
    + added support for special PRG function:
         HB_ARRAYTOPARAMS( <aValue> ) -> <aValue>[ 1 ] [, <aValue>[ N ] ]
      It can be used in the same context as multivalue macros
      or ... operator and converts array to list of parameters, i.e.:
         proc main
            local aValue, aIndexes

            aValue := { 1, { 2, 3, "abcde" } }
            aIndexes := { 2, 3 }
            ? "array:",    hb_valToExp( aValue )
            ? "indexes:",  hb_arrayToParams( aIndexes )

            ? "array[", hb_arrayToParams( aIndexes ), "] =>", ;
               aValue[ hb_arrayToParams( aIndexes ) ]
            aValue[ hb_arrayToParams( aIndexes ) ] += ":add"
            ? "array:",    hb_valToExp( aValue )

            aValue := { "test", aValue }
            aIndexes := { 2, hb_arrayToParams( aIndexes ) }
            ? "array:",    hb_valToExp( aValue )
            ? "indexes:",  hb_arrayToParams( aIndexes )
            ? "array[", hb_arrayToParams( aIndexes ), "] =>", ;
               aValue[ hb_arrayToParams( aIndexes ) ]
         return

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbpcode.h
    trunk/harbour/include/hbxvm.h
    trunk/harbour/src/common/expropt1.c
    trunk/harbour/src/compiler/genc.c
    trunk/harbour/src/compiler/gencc.c
    trunk/harbour/src/compiler/hbdead.c
    trunk/harbour/src/compiler/hbfix.c
    trunk/harbour/src/compiler/hblbl.c
    trunk/harbour/src/compiler/hbopt.c
    trunk/harbour/src/compiler/hbpcode.c
    trunk/harbour/src/compiler/hbstripl.c
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb 28 18:54:13 2010
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Feb 28 18:54:22 2010
Subject: [Harbour] SddODBC bug DBSTRUCT()
In-Reply-To: <hmevav$ae1$1@dough.gmane.org>
References: <hmevav$ae1$1@dough.gmane.org>
Message-ID: <942A29D9-9724-421D-94DB-EFA266D1C164@syenar.hu>

What is the bug?

Brgds,
Viktor

On 2010 Mar 1, at 00:47, Itamar Lins wrote:

> Hi!
> /*
> * $Id: test1.prg 12948 2009-11-20 12:45:41Z vszakats $
> */
> 
> #include "hbrddsql.ch"
> 
> REQUEST SDDODBC, SQLMIX
> 
> PROC main()
>   RDDSETDEFAULT( "SQLMIX" )
>   SET( _SET_DATEFORMAT, "yyyy-mm-dd" )
>   ? "Connect:", RDDINFO( RDDI_CONNECT, { "ODBC", "DBQ="  + hb_DirBase() + "\..\..\..\hbodbc\tests\test.mdb;Driver={Microsoft Access Driver (*.mdb)}" } )
>   ? "Use:", DBUSEAREA( .T.,, "select * from test", "test" )
>   ? "Alias:", ALIAS()
>   ? "DB struct:", HB_VALTOEXP( DBSTRUCT() )
>   INKEY( 0 )
>   BROWSE()
> 
>   INDEX ON FIELD->SALARY TO salary // problem in this line
>   DBGOTOP()
>   BROWSE()
>   DBCLOSEAREA()
> RETURN
> 
> Return of function dbstruct()
> DB struct: {{"F", "C", 20, 0}, {"L", "C", 20, 0}, {"S", "C", 30, 0}, {"C", "C",
> 30, 0}, {"S", "C", 2, 0}, {"Z", "C", 10, 0}, {"H", "@", 19, 0}, {"M", "L", 1, 0}
> , {"A", "I", 10, 0}, {"S", "I", 10, 0}, {"N", "C", 70, 0}}
> 
> 
> Best regards,
> Itamar M. Lins Jr.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From itamarlins at gmail.com  Sun Feb 28 19:00:20 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Feb 28 19:00:47 2010
Subject: [Harbour] Re: SddODBC bug DBSTRUCT()
In-Reply-To: <942A29D9-9724-421D-94DB-EFA266D1C164@syenar.hu>
References: <hmevav$ae1$1@dough.gmane.org>
	<942A29D9-9724-421D-94DB-EFA266D1C164@syenar.hu>
Message-ID: <hmf02j$cra$1@dough.gmane.org>

Em 28/2/2010 20:54, Viktor Szak?ts escreveu:
> What is the bug?
Return of function dbstruct()
  DB struct: {{"F", "C", 20, 0}, {"L", "C", 20, 0}, {"S", "C", 30, 0}, 
{"C", "C",
  30, 0}, {"S", "C", 2, 0}, {"Z", "C", 10, 0}, {"H", "@", 19, 0}, {"M", 
"L", 1, 0}
  , {"A", "I", 10, 0}, {"S", "I", 10, 0}, {"N", "C", 70, 0}}

The corret db struct is:
  DB struct: {{"First", "C", 20, 0}, {"Last", "C", 20, 0}, 
{"Street","C",30, 0}, {"City", "C",30, 0}, {"State", "C", 2, 0}, {"Zip", 
"C", 10, 0}, {"Hiredate", "@", 19, 0}, {"Married", "L", 1, 0}
  , {"Age", "I", 10, 0}, {"Salary", "I", 10, 0}, {"Note", "C", 70, 0}}

best regards,
Itamar M. Lins Jr.


>
> Brgds,
> Viktor
>
> On 2010 Mar 1, at 00:47, Itamar Lins wrote:
>
>> Hi!
>> /*
>> * $Id: test1.prg 12948 2009-11-20 12:45:41Z vszakats $
>> */
>>
>> #include "hbrddsql.ch"
>>
>> REQUEST SDDODBC, SQLMIX
>>
>> PROC main()
>>    RDDSETDEFAULT( "SQLMIX" )
>>    SET( _SET_DATEFORMAT, "yyyy-mm-dd" )
>>    ? "Connect:", RDDINFO( RDDI_CONNECT, { "ODBC", "DBQ="  + hb_DirBase() + "\..\..\..\hbodbc\tests\test.mdb;Driver={Microsoft Access Driver (*.mdb)}" } )
>>    ? "Use:", DBUSEAREA( .T.,, "select * from test", "test" )
>>    ? "Alias:", ALIAS()
>>    ? "DB struct:", HB_VALTOEXP( DBSTRUCT() )
>>    INKEY( 0 )
>>    BROWSE()
>>
>>    INDEX ON FIELD->SALARY TO salary // problem in this line
>>    DBGOTOP()
>>    BROWSE()
>>    DBCLOSEAREA()
>> RETURN
>>
>> Return of function dbstruct()
>> DB struct: {{"F", "C", 20, 0}, {"L", "C", 20, 0}, {"S", "C", 30, 0}, {"C", "C",
>> 30, 0}, {"S", "C", 2, 0}, {"Z", "C", 10, 0}, {"H", "@", 19, 0}, {"M", "L", 1, 0}
>> , {"A", "I", 10, 0}, {"S", "I", 10, 0}, {"N", "C", 70, 0}}
>>
>>
>> Best regards,
>> Itamar M. Lins Jr.
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>


From harbour.01 at syenar.hu  Sun Feb 28 19:17:52 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 19:18:01 2010
Subject: [Harbour] Re: hbQT - Static Linking - What extra is needed ?
In-Reply-To: <1267400574053-4651572.post@n2.nabble.com>
References: <1267398268078-4651480.post@n2.nabble.com>
	<5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
	<1267400574053-4651572.post@n2.nabble.com>
Message-ID: <391EBA63-3FA5-4806-932B-D2451B4D7FDF@syenar.hu>

> Changed and compiled, now the errors - a long-long list :
> 
> 
> C:/harbour_dev/harbour/mingw/lib/libhbqts.a(hbqt_qpixmap.o):hbqt_qpixmap.cpp:(.text+0x5c0):
> first defined here
> C:/harbour_dev/harbour/mingw/lib/libhbqtguis.a(QColor.o):QColor.cpp:(.text+0x40):
> multiple definition of `HB_FUN_QT_QCOLOR_YELLOWF'
> 
> 
> Investigaing the lib folder, found 
> 
> 02/28/2010  02:08 PM           469,456 libhbqt.a
> 02/28/2010  02:09 PM         1,186,158 libhbqtcore.a
> 02/28/2010  02:10 PM         1,177,558 libhbqtcores.a
> 02/28/2010  02:15 PM         4,219,650 libhbqtgui.a
> 02/28/2010  02:20 PM         4,186,292 libhbqtguis.a
> 02/28/2010  02:20 PM           104,782 libhbqtnetwork.a
> 02/28/2010  02:20 PM           103,846 libhbqtnetworks.a
> 02/28/2010  02:08 PM         3,104,552 libhbqts.a
> 
> Note the size differences of libhbqts.a and libhbqt.a.
> Probably makefile for hbqts is different.

SVN is correct. I'd suggest to try a clean build 
from fresh sources.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Feb 28 19:26:18 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 28 19:26:26 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14027] trunk/harbour
Message-ID: <E1NltSk-0007jc-OK@sfp-svn-6.v30.ch3.sourceforge.com>

Revision: 14027
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14027&view=rev
Author:   vszakats
Date:     2010-03-01 00:26:17 +0000 (Mon, 01 Mar 2010)

Log Message:
-----------
2010-03-01 01:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.h
    * Bumped pcode version to 3 (mininum kept at 2)

  * contrib/rddsql/sddodbc/sddodbc.c
    ! Fixed missing UNICODE conversion for field names.

  * contrib/rddsql/sddoci/sddoci.c
  * contrib/rddsql/sddsqlt3/sddsqlt3.c
    ! Fixed to limit field length to the one supported by RDD engine.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/contrib/rddsql/sddsqlt3/sddsqlt3.c
    trunk/harbour/include/hbsetup.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Feb 28 19:34:28 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 19:34:35 2010
Subject: [Harbour] Re: hbQT - Static Linking - What extra is needed ?
In-Reply-To: <391EBA63-3FA5-4806-932B-D2451B4D7FDF@syenar.hu>
References: <1267398268078-4651480.post@n2.nabble.com>
	<5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
	<1267400574053-4651572.post@n2.nabble.com>
	<391EBA63-3FA5-4806-932B-D2451B4D7FDF@syenar.hu>
Message-ID: <1267403668838-4651737.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> SVN is correct. I'd suggest to try a clean build 
> from fresh sources.
> 

It was a clean build.

Updated from SVN
make clean
make install....the regular batch

I think some old obj's are hanging somewhere.



-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-Static-Linking-What-extra-is-needed-tp4651480p4651737.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Feb 28 19:42:05 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 19:42:16 2010
Subject: [Harbour] Re: hbQT - Static Linking - What extra is needed ?
In-Reply-To: <1267403668838-4651737.post@n2.nabble.com>
References: <1267398268078-4651480.post@n2.nabble.com>
	<5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
	<1267400574053-4651572.post@n2.nabble.com>
	<391EBA63-3FA5-4806-932B-D2451B4D7FDF@syenar.hu>
	<1267403668838-4651737.post@n2.nabble.com>
Message-ID: <B3977711-D72F-42C4-AFF7-9AFC5B4A8FB1@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> SVN is correct. I'd suggest to try a clean build 
>> from fresh sources.
>> 
> 
> It was a clean build.
> 
> Updated from SVN
> make clean
> make install....the regular batch
> 
> I think some old obj's are hanging somewhere.

By fresh sources I meant fresh source tree. You probably 
had some old qts lib from the times where the qt subsystems 
weren't moved to separate libs.

Brgds,
Viktor

From smujohnson at gmail.com  Sun Feb 28 19:43:15 2010
From: smujohnson at gmail.com (smu johnson)
Date: Sun Feb 28 19:43:24 2010
Subject: [Harbour] Trap / run routine when MS Windows red X box closed?
Message-ID: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>

Hi,

This may not come as a surprise to anyone, but often, people just can't stop
quitting applications by clicking the X on the righthand side of a MS
windows application.  Sometimes in some more serious console apps, there is
a separate Exit function that handles its own cleanup code, quitting
protocols, etc etc. that needs to be run, and is usually like the (alt/ctrl)
X or E key on the mainmenu of that program.

I was wondering that since it's impossible for everyone to not keep clicking
it, that some sort of Harbour function or flag or whatever could somehow
control what happens if it's clicked via some sort of API call that Windows
might provide to Harbour.  Like, if someone clicked the X box it might call
a func that exits cleanly instead of instantly.

Any tips welcome.  thanks!

-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100228/9ea2e620/attachment.html
From itamarlins at gmail.com  Sun Feb 28 19:51:54 2010
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Feb 28 19:52:18 2010
Subject: [Harbour] hvm.c:11605: error: for each function it appears in.)
Message-ID: <hmf339$lg4$1@dough.gmane.org>

Hi!
ChangeLog 14027 2010-03-01 00:26:17Z vszakats $
Win Xp SP3, MingWin.

---------cut------
586 -mtune=pentiumpro -DHB_LEGACY_TYPES_OFF  -DHB_MT_VM -DUNICODE 
-ohvmall.o -c
  ../../../../hvmall.c
In file included from ../../../../hvmall.c:83:
../../../../hvm.c: In function 'HB_FUN_HB_ARRAYTOPARAMS':
../../../../hvm.c:11605: error: '_hb_stack_ptr_' undeclared (first use 
in this f
unction)
../../../../hvm.c:11605: error: (Each undeclared identifier is reported 
only onc
e
../../../../hvm.c:11605: error: for each function it appears in.)
win-make.exe[4]: *** [hvmall.o] Error 1
win-make.exe[3]: *** [descend] Error 2
win-make.exe[2]: *** [vmmt.inst] Error 2
win-make.exe[1]: *** [vm.inst] Error 2
win-make.exe: *** [src.inst] Error 2
---------------cut----------


best regards,
Itamar M. Lins Jr.


From bedipritpal at hotmail.com  Sun Feb 28 20:19:05 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 20:19:13 2010
Subject: [Harbour] Re: hbQT - Static Linking - What extra is needed ?
In-Reply-To: <B3977711-D72F-42C4-AFF7-9AFC5B4A8FB1@syenar.hu>
References: <1267398268078-4651480.post@n2.nabble.com>
	<5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
	<1267400574053-4651572.post@n2.nabble.com>
	<391EBA63-3FA5-4806-932B-D2451B4D7FDF@syenar.hu>
	<1267403668838-4651737.post@n2.nabble.com>
	<B3977711-D72F-42C4-AFF7-9AFC5B4A8FB1@syenar.hu>
Message-ID: <1267406345635-4651861.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> By fresh sources I meant fresh source tree. You probably 
> had some old qts lib from the times where the qt subsystems 
> weren't moved to separate libs.
> 

Yes, files were present in hbqt/obj/win/mingw but were hidden.
Now lib size is fine.

Next question: hbqts.hbc
===================
#
# $Id: hbqts.hbc 13519 2010-01-09 00:40:40Z vszakats $
#

incpaths=.

{allwin}libpaths=${HB_WITH_QT}\..\lib

libs=hbqts
libs=hbqtcores hbqtguis hbqtnetworks 

{win}libs=version shlwapi
{allwin}libs=QtCore QtGui QtNetwork QtUiTools
{allwin}libs=psapi
{allgcc}libs=supc++

{win|os2}hbcppmm=yes

gui=yes
gt=gtnul



Here 
{allwin}libs=QtCore QtGui QtNetwork QtUiTools

NOT 
{allwin}libs=QtCore4 QtGui4 QtNetwork4 QtUiTools

OR am I missing something?

hbqts.hbc - as is - QtCore lib could not be found.
.
After changing as above, I get:
.
Processing environment options: -compiler=mingw
Processing configuration: c:\harbour_dev\harbour\mingw\bin\hbmk.cfg
Linking... hbide.exe
esolving QObject::staticMetaObject       by linking to
__imp___ZN7QObject16staticMetaObjectE (auto-import)
esolving QListData::shared_null       by linking to
__imp___ZN9QListData11shared_nullE (auto-import)
esolving QString::codecForCStrings       by linking to
__imp___ZN7QString16codecForCStringsE (auto-import)
.
.
.
esolving QMapData::shared_null       by linking to
__imp___ZN8QMapData11shared_nullE (auto-import)
esolving QSyntaxHighlighter::staticMetaObject        by linking to
__imp___ZN18QSyntaxHighlighter16staticMetaObjectE (auto-import)
our_dev/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe:
warning: auto-importing has been activated without --enabl
import specified on the command line.
ould work unless it involves constant data structures referencing symbols
from auto-imported DLLs.


hbIDE.exe is built, but size is exactly the same as of with dynamic linking.
And when I run, voila standard Windows erro box showing :

The application failed to initialize properly (0x0000005). Click on OK to
terminate...

Do I need to build Qt itself for static linking ? If yes, any tips ...





-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-Static-Linking-What-extra-is-needed-tp4651480p4651861.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sun Feb 28 20:24:53 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 20:25:03 2010
Subject: [Harbour] Re: hbQT - Static Linking - What extra is needed ?
In-Reply-To: <1267406345635-4651861.post@n2.nabble.com>
References: <1267398268078-4651480.post@n2.nabble.com>
	<5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
	<1267400574053-4651572.post@n2.nabble.com>
	<391EBA63-3FA5-4806-932B-D2451B4D7FDF@syenar.hu>
	<1267403668838-4651737.post@n2.nabble.com>
	<B3977711-D72F-42C4-AFF7-9AFC5B4A8FB1@syenar.hu>
	<1267406345635-4651861.post@n2.nabble.com>
Message-ID: <4AD0F9B4-9E39-4786-8F73-44D943BCB90A@syenar.hu>

> Here 
> {allwin}libs=QtCore QtGui QtNetwork QtUiTools
> 
> NOT 
> {allwin}libs=QtCore4 QtGui4 QtNetwork4 QtUiTools

No, SVN is correct.

> OR am I missing something?

You need to build static QT libs from QT sources.

Brgds,
Viktor

From smujohnson at gmail.com  Sun Feb 28 20:26:28 2010
From: smujohnson at gmail.com (smu johnson)
Date: Sun Feb 28 20:26:35 2010
Subject: [Harbour] For Przemek: SIXCDX difference found with examples
In-Reply-To: <20100228160709.GA31818@linux-4bod.home.aster.pl>
References: <674e4ddd1002261512t65c03a3cl7ba7fa468c6e70dc@mail.gmail.com>
	<20100228160709.GA31818@linux-4bod.home.aster.pl>
Message-ID: <674e4ddd1002281726q63107412td5c874ca0d7d7fc8@mail.gmail.com>

Przemek,

As always... many thanks, 'O Six driver database guru.  I will keep an eye
out for a druzus commit.

Keep up the great work!

2010/2/28 Przemys?aw Czerpak <druzus@acn.waw.pl>

> On Fri, 26 Feb 2010, smu johnson wrote:
>
> Hi,
>
> > With a Roll-your-own index open, when you use a dbgoto(), the record
> pointer
> > is moved to the correct row in the table but the pointer in the index
> file
> > is not positioned to the corresponding row, even though the record is in
> the
> > index.  With a regular cdx index, the index pointer is always positioned
> > after a dbgoto().
>
> No. It's positioned in the same way in both cases using sth like:
>   SEEK EVAL( <KEYEXP> ) + <RECNO>
> It means that it will not work when you used in RYO index your own
> values which are not results of <KEYEXP> evaluation because corresponding
> entry cannot be found.
>
> > Perhaps the reason for not positioning the index pointer in an ryo index
> is
> > that an ryo index can contain multiple entries for a single table row,
> and
> > as such, positioning the index pointer would be ambiguous action (pick
> one?)
> > and could therefore cause unpredictable results.  Am I correct in that
> > thinking?
>
> No, see above. After DBGOTO() RDD uses seek to find corresponding record
> to eliminate linear scan of all key stored in index from the index top
> position to locate the entry which has corresponding record number.
> Such linear scan is simply very expensive in big tables because it may
> force reading whole index file to locate given entry.
>
> > In any event, the Harbour behaviour is different from the SIX SDX, which
> is
> > causing me problems.
> >
> > I have included a URL for a tiny .ZIP file for a simple source code
> example,
> > and 2 .txt files showing different behaviour on Clipper 5.2e / Harbour.
> > Please read here:  http://209.97.219.2/sjohnson/misc/sixcdx-incompat.zip
>
> Looks that SIX3 for template indexes enables such linear scan
> automatically.
> Harbour doesn't. You can force linear scan for index repositioning manually
> by:
>
>   sx_findRec( recNo() )
>
> just after dbGoTo().
> I'll enable automatic linear repositioning for template SIXCDX tags ASAP.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100228/177e1080/attachment.html
From bedipritpal at hotmail.com  Sun Feb 28 20:27:31 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 20:27:38 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
Message-ID: <1267406851806-4651882.post@n2.nabble.com>



smu johnson wrote:
> 
> I was wondering that since it's impossible for everyone to not keep
> clicking
> it, that some sort of Harbour function or flag or whatever could somehow
> control what happens if it's clicked via some sort of API call that
> Windows
> might provide to Harbour.  Like, if someone clicked the X box it might
> call
> a func that exits cleanly instead of instantly.
> 

It is there.

First which GT are you using ?
GTWVT and GTWVG provide this functionality.


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Trap-run-routine-when-MS-Windows-red-X-box-closed-tp4651773p4651882.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Sun Feb 28 20:30:45 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 20:30:53 2010
Subject: [Harbour] Re: hbQT - Static Linking - What extra is needed ?
In-Reply-To: <4AD0F9B4-9E39-4786-8F73-44D943BCB90A@syenar.hu>
References: <1267398268078-4651480.post@n2.nabble.com>
	<5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
	<1267400574053-4651572.post@n2.nabble.com>
	<391EBA63-3FA5-4806-932B-D2451B4D7FDF@syenar.hu>
	<1267403668838-4651737.post@n2.nabble.com>
	<B3977711-D72F-42C4-AFF7-9AFC5B4A8FB1@syenar.hu>
	<1267406345635-4651861.post@n2.nabble.com>
	<4AD0F9B4-9E39-4786-8F73-44D943BCB90A@syenar.hu>
Message-ID: <1267407045629-4651888.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> No, SVN is correct.
> You need to build static QT libs from QT sources.
> 

:-(( the whole day has gone the drain.

I will try to build QT statically. Any fast tips before I plung into
googling ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/hbQT-Static-Linking-What-extra-is-needed-tp4651480p4651888.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sun Feb 28 20:34:53 2010
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Feb 28 20:34:59 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14028] trunk/harbour
Message-ID: <E1NluX7-0007uQ-DF@sfp-svn-5.v30.ch3.sourceforge.com>

Revision: 14028
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14028&view=rev
Author:   vszakats
Date:     2010-03-01 01:34:52 +0000 (Mon, 01 Mar 2010)

Log Message:
-----------
2010-03-01 02:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddsqlt3/sddsqlt3.c
    + Added support to retrieve buffers in UNICODE mode.
    ; Maybe needs fine tuning. F.e. we don't want to do this
      for raw/binary/blob data. Pls review.
    ; NOTE: Detecting real buffer size is weird. MSDN says
            NULL should be passed to data pointer, but in this
            case it returns error, if I pass any pointer, even
            fake one, it works. Pbly I'm misreading something.

  * contrib/rddsql/sddodbc/tests/test1.prg
  * contrib/rddsql/sddodbc/tests/test2.prg
    + Added simpleio.ch.

  * contrib/rddsql/sddsqlt3/sddsqlt3.c
  * contrib/rddsql/sddodbc/sddodbc.c
  * contrib/rddsql/sddoci/sddoci.c
    ! Fixed bad GPF after previous modif which limited field names
      to specific length.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddoci/sddoci.c
    trunk/harbour/contrib/rddsql/sddodbc/sddodbc.c
    trunk/harbour/contrib/rddsql/sddodbc/tests/test1.prg
    trunk/harbour/contrib/rddsql/sddodbc/tests/test2.prg
    trunk/harbour/contrib/rddsql/sddsqlt3/sddsqlt3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Feb 28 20:36:31 2010
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Feb 28 20:36:42 2010
Subject: [Harbour] Re: hbQT - Static Linking - What extra is needed ?
In-Reply-To: <1267407045629-4651888.post@n2.nabble.com>
References: <1267398268078-4651480.post@n2.nabble.com>
	<5F80D4B2-D3E3-4F14-9E4B-3643D55D5136@syenar.hu>
	<1267400574053-4651572.post@n2.nabble.com>
	<391EBA63-3FA5-4806-932B-D2451B4D7FDF@syenar.hu>
	<1267403668838-4651737.post@n2.nabble.com>
	<B3977711-D72F-42C4-AFF7-9AFC5B4A8FB1@syenar.hu>
	<1267406345635-4651861.post@n2.nabble.com>
	<4AD0F9B4-9E39-4786-8F73-44D943BCB90A@syenar.hu>
	<1267407045629-4651888.post@n2.nabble.com>
Message-ID: <92724CDA-45F2-43B0-B80C-3E245AEB7ECF@syenar.hu>

>> 
>> No, SVN is correct.
>> You need to build static QT libs from QT sources.
>> 
> 
> :-(( the whole day has gone the drain.
> 
> I will try to build QT statically. Any fast tips before I plung into
> googling ?

Check INSTALL for the link to QT build information.

Brgds,
Viktor

From mhsabado at gmail.com  Sun Feb 28 20:37:26 2010
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Sun Feb 28 20:37:38 2010
Subject: [Harbour] Build Error with SVN 2010-03-01 01:25 UTC+010
In-Reply-To: <4b8b1828.2108c00a.1e14.ffff9e7aSMTPIN_ADDED@mx.google.com>
References: <4b8b1828.2108c00a.1e14.ffff9e7aSMTPIN_ADDED@mx.google.com>
Message-ID: <4B8B1A56.7040409@gmail.com>

Hi,

I encountered below error using BCC when building latest SVN.

TIA,
Mario
=======================================================================
bcc32.exe   -I. -I../../../../../../include -q -tWM -CP437 -w -w-sig- -Q 
-d -6 -
O2 -OS -Ov -Oi -Oc -DHB_LEGACY_TYPES_OFF  -DHB_MT_VM 
-I"C:\BCC58\BIN\..\Include"
  -DUNICODE  -ohvm.obj -c ../../../../hvm.c
../../../../hvm.c:
Error E2451 ../../../../hvm.c 11605: Undefined symbol '_hb_stack_ptr_' 
in function HB_FUN_HB_ARRAYTOPARAMS
*** 1 errors in Compile ***
win-make[4]: *** [hvm.obj] Error 1
win-make[3]: *** [descend] Error 2
win-make[2]: *** [vmmt.inst] Error 2
win-make[1]: *** [vm.inst] Error 2
win-make: *** [src.inst] Error 2
========================================================================

From smujohnson at gmail.com  Sun Feb 28 20:44:10 2010
From: smujohnson at gmail.com (smu johnson)
Date: Sun Feb 28 20:44:18 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box 
	closed?
In-Reply-To: <1267406851806-4651882.post@n2.nabble.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
Message-ID: <674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>

What is a GT?  Forgive the stupid question... :(

On Sun, Feb 28, 2010 at 5:27 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
>
> smu johnson wrote:
> >
> > I was wondering that since it's impossible for everyone to not keep
> > clicking
> > it, that some sort of Harbour function or flag or whatever could somehow
> > control what happens if it's clicked via some sort of API call that
> > Windows
> > might provide to Harbour.  Like, if someone clicked the X box it might
> > call
> > a func that exits cleanly instead of instantly.
> >
>
> It is there.
>
> First which GT are you using ?
> GTWVT and GTWVG provide this functionality.
>
>
> -----
>                 enjoy hbIDEing...
>                    Pritpal Bedi
> _a_student_of_software_analysis_&_design_
> --
> View this message in context:
> http://n2.nabble.com/Trap-run-routine-when-MS-Windows-red-X-box-closed-tp4651773p4651882.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
smu johnson <smujohnson@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20100228/5103b89d/attachment.html
From bedipritpal at hotmail.com  Sun Feb 28 21:12:53 2010
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Feb 28 21:13:00 2010
Subject: [Harbour] Re: Trap / run routine when MS Windows red X box closed?
In-Reply-To: <674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
References: <674e4ddd1002281643k150c087ama273c031abd0fba2@mail.gmail.com>
	<1267406851806-4651882.post@n2.nabble.com>
	<674e4ddd1002281744g5650856cjced7d3f7a7b09bd7@mail.gmail.com>
Message-ID: <1267409573308-4652008.post@n2.nabble.com>



smu johnson wrote:
> 
> What is a GT?  Forgive the stupid question... :(
> 

Show on this list how you build your appln ?


-----
                 enjoy hbIDEing...
                    Pritpal Bedi 
_a_student_of_software_analysis_&_design_
-- 
View this message in context: http://n2.nabble.com/Trap-run-routine-when-MS-Windows-red-X-box-closed-tp4651773p4652008.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From jerryfinuliar at operamail.com  Sun Feb 28 21:45:42 2010
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Sun Feb 28 21:45:46 2010
Subject: [Harbour] Build Error
Message-ID: <20100301024542.E3976CC0D2@ws5-11.us4.outblaze.com>

Hi,

WinXP SP3, QT->Mingw 

In file included from ../../../../hvmall.c:83:
../../../../hvm.c: In function 'HB_FUN_HB_ARRAYTOPARAMS':
../../../../hvm.c:11605: error: '_hb_stack_ptr_' undeclared (first use in this f
unction)
../../../../hvm.c:11605: error: (Each undeclared identifier is reported only onc
e
../../../../hvm.c:11605: error: for each function it appears in.)

Thanks.

-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From jarabal at users.sourceforge.net  Sun Feb 28 22:06:29 2010
From: jarabal at users.sourceforge.net (jarabal@users.sourceforge.net)
Date: Sun Feb 28 22:06:36 2010
Subject: [Harbour] SF.net SVN: harbour-project:[14029] trunk/harbour
Message-ID: <E1Nlvxl-000651-5D@sfp-svn-4.v30.ch3.sourceforge.com>

Revision: 14029
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=14029&view=rev
Author:   jarabal
Date:     2010-03-01 03:06:26 +0000 (Mon, 01 Mar 2010)

Log Message:
-----------
2010-03-01 04:05 UTC+0100 Xavi (jarabal/at/gmail.com)
  * harbour/src/rtl/gtwvt/gtwvt.c
    ! Fixing WM_CLOSE event (Clicked 'X' on system menu)
      to avoid irregular shutdown with SETCANCEL( .F. )

      REQUEST HB_GT_WVT_DEFAULT
      ANNOUNCE HB_GTSYS
      PROCEDURE Main()
         SetCancel(.F.)
         ? "Click [X] Not close windows"
         while( LastKey() != 27 )
            Inkey( 1 )
         enddo
      RETURN

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
